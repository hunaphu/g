<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::268714</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>248</td><td>C gcc</td><td>231226T002109Z</td><td><a href="https://codegolf.stackexchange.com/questions/268714/convert-tiers-between-credit-rating-system/268763#268763">veqtrus</a></td></tr>
<tr d-ix="1"><td>256</td><td>Python 3</td><td>240101T174706Z</td><td><a href="https://codegolf.stackexchange.com/questions/268714/convert-tiers-between-credit-rating-system/268934#268934">Finn E</a></td></tr>
<tr d-ix="2"><td>168</td><td>Google Sheets</td><td>231223T232105Z</td><td><a href="https://codegolf.stackexchange.com/questions/268714/convert-tiers-between-credit-rating-system/268721#268721">doubleun</a></td></tr>
<tr d-ix="3"><td>171</td><td>Python</td><td>231227T074057Z</td><td><a href="https://codegolf.stackexchange.com/questions/268714/convert-tiers-between-credit-rating-system/268796#268796">tsh</a></td></tr>
<tr d-ix="4"><td>091</td><td>JavaScript ES6</td><td>231223T221152Z</td><td><a href="https://codegolf.stackexchange.com/questions/268714/convert-tiers-between-credit-rating-system/268718#268718">Arnauld</a></td></tr>
<tr d-ix="5"><td>235</td><td>Python 3</td><td>231226T021844Z</td><td><a href="https://codegolf.stackexchange.com/questions/268714/convert-tiers-between-credit-rating-system/268764#268764">Fmbalbue</a></td></tr>
<tr d-ix="6"><td>179</td><td>Excel ms365</td><td>231224T160232Z</td><td><a href="https://codegolf.stackexchange.com/questions/268714/convert-tiers-between-credit-rating-system/268728#268728">JvdV</a></td></tr>
<tr d-ix="7"><td>200</td><td>Python 3</td><td>231225T024512Z</td><td><a href="https://codegolf.stackexchange.com/questions/268714/convert-tiers-between-credit-rating-system/268744#268744">enzo</a></td></tr>
<tr d-ix="8"><td>038</td><td>Charcoal</td><td>231224T081751Z</td><td><a href="https://codegolf.stackexchange.com/questions/268714/convert-tiers-between-credit-rating-system/268726#268726">Neil</a></td></tr>
<tr d-ix="9"><td>059</td><td>Retina 0.8.2</td><td>231223T231235Z</td><td><a href="https://codegolf.stackexchange.com/questions/268714/convert-tiers-between-credit-rating-system/268720#268720">Neil</a></td></tr>
<tr d-ix="10"><td>036</td><td>Jelly</td><td>231223T184942Z</td><td><a href="https://codegolf.stackexchange.com/questions/268714/convert-tiers-between-credit-rating-system/268715#268715">Jonathan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>285</s> <s>275</s> 248 bytes</h1>
<p>-10 bytes by moving <code>strcmp</code> inside <code>for</code> condition and using &quot;incorrect&quot; pointer types (thanks @ceilingcat)</p>
<p>-27 by assuming 64-bit little-endian <code>long</code></p>

<pre class="lang-c prettyprint-override"><code>i;*t=&quot;Aaa AAA Aa1 AA+ Aa2 AA  Aa3 AA- A1  A+  A2  A   A3  A-  Baa1BBB+Baa2BBB Baa3BBB-Ba1 BB+ Ba2 BB  Ba3 BB- B1  B+  B2  B   B3  B-  Caa CCC Ca  CC  Ca  C   &quot;;f(int*s){long j=538976288;memcpy(&amp;j,s,strlen(s));for(i=38;t[--i]-j;);j=t[i^1];puts(&amp;j);}
</code></pre>
<p><a href="https://tio.run/##RZDvaoMwFMW/5ykuwoapDcyEbZbgIPExug6CtJ3S2mLch1H27N25S2DC5fzu9f7R06tj39/vg10tbeFCIOccuVBDK6iGEtRAFbkaXCE0ghAGoYh8CLX3voJqKOcGqjz2oIxcQ7nPQBV57EGZPPagTB57UKYO97uug4I7Sor3hT2Uw7SsorydLtORxvbZNJvXF9009rw/99fv8nFcx3Vc5tN@KqOU9nCZy6E1jV22Sg07NVppx3bZDh/1zl6/logJaX/u5zBMpbz1n2GmuN3s/gZt7MN0KIuHWKyjfHvCeey8zviGv@r7wnVMs2H8wDTBpiWuBBuXmASbl1gJl1rYROF0ZgKbzIoEm8nMhnKic8JsMivh87XUpDPztMmMnnwNVgufr8Fu4fM1WC66/AewXXQJ2fp/JvoF" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1>Python 3 (256)</h1>
<p>I know its not very short or optimized, but here is my first attempt at code golf! Please let me know if you have a tip for me to improve!</p>
<pre class="lang-py prettyprint-override"><code>f=lambda r:(s:=r.replace(&quot;1&quot;,&quot;+&quot;).replace(&quot;3&quot;,&quot;-&quot;))[0]*len(s.strip(&quot;+-2&quot;))+s[-1].strip(&quot;2a&quot;)if &quot;a&quot; in r or r[-1]in[1,2,3] else r[0]+&quot;a&quot;*(l:=len(r.strip(&quot;+-&quot;))-1)+(&quot;&quot;if r[0]==&quot;C&quot;or r==&quot;A&quot;*3 else str([&quot;+&quot;,&quot; &quot;,&quot;-&quot;].index((r+&quot; &quot;)[l+1])+1))+(&quot;a&quot;if r==&quot;C&quot;else&quot;&quot;)
</code></pre>
<p>I do see that it is longer than the hardcoded python option, so I'll definitely have to try to beat that at the very least. Also comment if you want an explanation.</p>
<p>Edit: Here is another method using regex that turned out to unfortunately be longer (<strong>268</strong>) with the import</p>
<pre class="lang-py prettyprint-override"><code>import re
t=str.maketrans(&quot;+-13&quot;,&quot;13+-&quot;)
f=lambda r: (r.replace(&quot;a&quot;,r[0]).translate(t).strip(&quot;2&quot;))if r[-1]in&quot;123&quot;or&quot;a&quot;in r else((o:=re.sub(&quot;(Aa?|Ba*)$&quot;,lambda m:m.group()+&quot;2&quot;,re.sub(&quot;(?&lt;=\\w)\\w+&quot;,lambda m:&quot;a&quot;*len(m.group()),r)).translate(t))+(&quot;a&quot;if len(o)&lt;2 else&quot;&quot;))
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Google Sheets, 168 bytes</h1>
<p><code>iferror(find())</code> by <a href="https://codegolf.stackexchange.com/users/100057/jvdv">JvdV</a>, <strong>168 bytes</strong>:</p>
<pre><code>=let(b,left(A1),c,right(A1),f,len(split(A1,&quot;123+-&quot;)),iferror(rept(b,f)&amp;mid(&quot;+-&quot;,find(c,&quot;132a&quot;),1),b&amp;rept(&quot;a&quot;,f-1+(A1=&quot;C&quot;))&amp;rept(mid(1223,find(c,&quot;+AB-C&quot;),1),A1&lt;&gt;&quot;AAA&quot;)))
</code></pre>
<p>Brute force <code>hlookup()</code>, <strong>217 bytes</strong>:</p>
<pre><code>=let(m,split(&quot;Aaa0Aa10Aa20Aa30A10A20A30Baa10Baa20Baa30Ba10Ba20Ba30B10B20B30Caa0Ca0Ca&quot;,0),f,split(&quot;AAA0AA+0AA0AA-0A+0A0A-0BBB+0BBB0BBB-0BB+0BB0BB-0B+0B0B-0CCC0CC0C&quot;,0),ifna(hlookup(A1,{m;f},2,0),hlookup(A1,{f;m},2,0)))
</code></pre>
<p><code>regexextract()</code> and <code>regexmatch()</code>, <strong>221 bytes</strong>:</p>
<pre><code>=let(a,regexextract(A1,&quot;[A-c]+&quot;),c,left(a)&amp;rept(&quot;a&quot;,len(a)-1)&amp;switch(right(A1),&quot;+&quot;,&quot;1&quot;,&quot;-&quot;,&quot;3&quot;,),if(regexmatch(A1,&quot;[a-c\d]&quot;),rept(left(a),len(a))&amp;switch(right(A1),&quot;1&quot;,&quot;+&quot;,&quot;3&quot;,&quot;-&quot;,),c&amp;if(regexmatch(c,&quot;^(Aa?|Ba?a?)$&quot;),2,)))
</code></pre>
<p>Convoluted arrays of regexes applied two ways, <strong>298 bytes</strong>:</p>
<pre><code>=let(r,lambda(a,b,reduce(A1,sequence(rows(a)),lambda(t,i,regexreplace(t,index(a,i),index(b,i))))),a,{&quot;Baa&quot;;&quot;Ba&quot;;&quot;Caa&quot;;&quot;Ca&quot;;&quot;1&quot;;&quot;2&quot;;&quot;3&quot;;&quot;$12&quot;;&quot;Ca&quot;},b,{&quot;BBB&quot;;&quot;BB&quot;;&quot;CCC&quot;;&quot;^C$&quot;;&quot;\+&quot;;&quot;ø&quot;;&quot;-&quot;;&quot;^(AA?|Ba?a?)$&quot;;&quot;^CC$&quot;},regexreplace(if(regexmatch(A1,&quot;[a-c\d]&quot;),upper(r(a,b)),proper(r(b,a))),&quot;\\|Ø|\^|\$&quot;,&quot;&quot;))
</code></pre>
<p>Put the rating in cell <code>A1</code> and the formula in cell <code>B1</code>.</p>
</div>
<div id="pu3" class="pu"><h1>Python, 171 bytes</h1>

<pre class="lang-python prettyprint-override"><code>dict(zip(a:=&quot;Aaa Aa1 Aa2 Aa3 A1 A2 A3 Baa1 Baa2 Baa3 Ba1 Ba2 Ba3 B1 B2 B3 Caa Ca Ca C CC CCC B- B B+ BB- BB BB+ BBB- BBB BBB+ A- A A+ AA- AA AA+ AAA&quot;.split(),a[::-1])).get
</code></pre>
<p><a href="https://tio.run/##RZHBboMwEETv@xUjLsEKIAUuFRIHm88gHKwUWksNQdg9tD9Pd7FFkW3eoF2WGdaf8Plamrd12@fuvr@7R8h/3Zrbtsu0tdD2xrvm3UAzMjUwlp/yUcshUpQIZkamBj0393Ghl9XDlDAwVxgBpgMPFsFKl9DQfBdgOlBnlV@/XMhVYYe2LW@jUtXHFPYw@fCwfvLo4L@f@TD4sxInxpYR82uDh1uQZRmJM7n47SQOI19JnEYGiePIJelYIt9Guk4M5iZxCTpC4Uuc0BFOFHRkFLkkk6bFojqxdDeJuSZN40TIpGmGp5k0jSOjPjngXJmRGP/M9ey08mHjv6lSGpf7clFjgWFUJIG4ApNkckbZkjSvm1tCPudOoeswFRBU@x8" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>Boring hard-code Python answer is shorter than current ones...</p>
</div>
<div id="pu4" class="pu"><h1>JavaScript (ES6), 91 bytes</h1>
<p><em>-1 thanks to <a href="https://codegolf.stackexchange.com/users/76323/l4m2">@l4m2</a></em><br />
<em>-4 thanks to <a href="https://codegolf.stackexchange.com/users/44718/tsh">@tsh</a></em></p>
<p>The output may contain a trailing space.</p>

<pre class="lang-javascript prettyprint-override"><code>([o,...a],s=o+` +-a213`)=&gt;&quot;C&quot;+a.map(c=&gt;o+=s[s.indexOf(c)^4])&lt;s?&quot;Ca&quot;:/^A?$|B$/.test(a)?o+2:o
</code></pre>
<p><a href="https://tio.run/##VZFBbtswEEX3PsWACGASFBlYajZOZMMjZN0DCApCyHbiIDFVyygKtL1BgW66TO6R8@QCOYJDUVNkuBGBp6@h3p8H99317WHXHc3erzenbXmStc@sta7J@tLrW9DG5bPiVpULUQnt7JPrZFsuvC77ure7/Xrz4@tWturmS6Ou@qWonJif36yWZ7/w7NweN/1ROrX0Op/702U9AahBrJwTGYRztRIATfafzojqhOZEA2S0IGp4Ng4Ip06yOdEBftKCqOFZdPEnBCKGGYzmREWSLYganh0t4gBGc6LpbQVRboFkgYkFkgUmFkgWmFhU1G9VVYLTMRvhQKmI0GysMnzE6gkdjnSWUCot6HBqKFtwqik7S5YRYVwKp4ayRaI8dJjRUjgdSxuWwqmhbMGppiy3GAeMS@HUUJZbIFlgYoFkgYkFkgUmFsMS4jKSfkcYl8KzNJfopJnYrT9cu/Zeyhq6DL5Bo6BcwM@Qb/2@948b@@jvZGc7t77er@WFAg3CLECEcys7lbyQkRwPuycZxpRh3BKm769/357/hecU5jB9e/kzVepy8ludPgA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>( [o,            // o = 1st character of the input
      ...a],     // a[] = remaining characters
  s = o +        // s is a lookup string used to transpose:
      ` +-a213`  //   &quot;a&quot; &lt;-&gt; first character
                 //   &quot;+&quot; &lt;-&gt; &quot;1&quot;
                 //   &quot; &quot; &lt;-&gt; &quot;2&quot;
                 //   &quot;-&quot; &lt;-&gt; &quot;3&quot;
) =&gt;             //
&quot;C&quot; +            // prefix the result of the map() with &quot;C&quot;
a.map(c =&gt;       // for each character c in a[]:
  o += s[        //   append to o ...
    s.indexOf(c) //   ... the character corresponding to
    ^ 4          //   the transposition of c
  ]              //
)                // end of map()
&lt; s ?            // if o is &quot;C&quot;:
  &quot;Ca&quot;           //   return &quot;Ca&quot;
:                // else:
  /^A?$|B$/      //   if the input was any of &quot;A&quot;, &quot;AA&quot;, &quot;B&quot;,
  .test(a) ?     //   &quot;BB&quot; or &quot;BBB&quot;:
    o + 2        //     append a &quot;2&quot;
  :              //   else:
    o            //     leave o unchanged
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 235 bytes</h1>

<pre class="lang-python prettyprint-override"><code>eval('lambda x:(x?a&quot;,x[0])?1&quot;,&quot;+&quot;)?2&quot;,&quot;&quot;)?3&quot;,&quot;-&quot;)if&quot;a&quot;in x or x[-1]in&quot;123&quot;else x[0]+x[1:]?+&quot;,&quot;1&quot;)?-&quot;,&quot;3&quot;)?B&quot;,&quot;a&quot;)?C&quot;,&quot;a&quot;)?A&quot;,&quot;a&quot;)+(&quot;2&quot;if x[-1]not in&quot;+-&quot;else&quot;&quot;))?Aaa2&quot;,&quot;Aaa&quot;)?C2&quot;,&quot;Ca&quot;)?Ca2&quot;,&quot;Ca&quot;)?Caa2&quot;,&quot;Caa&quot;)'.replace('?','.replace(&quot;'))
</code></pre>
<p><a href="https://tio.run/##TZHBboMwDIbP4ykiX0gWmAq5IXUIkPoSrIdsDSoSA8TQlD09M8XOdvq@@I8dI@af9T6NZuvOb5v7toOMB/v5frPCF9KXFhLfnq6qzCABDarMkQiDSEH1HVjoR@HFtAjfptm1HyHLDbjhy4m9U/s2K66lxvsZ9qVIg6yRFtkQq4NaQg59d4wap1XgOJ0@puGreM3afQHE3rtr8zD7T8nxEL8sbh7sh5NxGSd/J4iV2m6uExfpVRE9zUs/rtInAs6vkIgOqyq6yOOZQzKWnMWQcMIB1WvLPbXlJrSQhjBkHHHCAdUbXmb/zOhYGX/Bszkd71YVLVBpFmZKwgGBynVd62BBQhgyJiccEKjcNA0LEdT2Cw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Returns an anonymous function.</p>
</div>
<div id="pu6" class="pu"><h1>Excel ms365, <sup><s>207</s></sup>179 bytes </h1>
<p>Thanks to @<a href="https://codegolf.stackexchange.com/posts/268721/revisions">doubleunary</a>'s idea for nesting <code>TEXTSPLIT()</code> inside <code>LEN()</code>.</p>
<p>Assuming input in <code>A1</code>:</p>
<pre><code>=LET(a,A1,b,LEFT(a),c,RIGHT(a),e,LEN(@TEXTSPLIT(a,{1,2,3,&quot;+&quot;,&quot;-&quot;})),IFERROR(REPT(b,e)&amp;MID(&quot;+-&quot;,FIND(c,&quot;132a&quot;),1),b&amp;REPT(&quot;a&quot;,e-1+(a=&quot;C&quot;))&amp;IF(a=&quot;AAA&quot;,,MID(1223,FIND(c,&quot;+AB-C&quot;),1))))
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 200 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(x):
 r=str.replace;d=(6,0)[(x*2)[1]in'a123'];y=x
 for i in 0,1,2:y=r(y,chr(49+i-d),chr(43+i+d))
 y=r(y,',','')*((x=='C')+1)+'2'[not d*(x in'ABBBAA'):]
 return x[0]+r(y[1:],*('a',x[0])[::1-d//3])
</code></pre>
<p><a href="https://tio.run/##fVLBjpswEL37K6a52A6QDaZaqYk4AFIvPfQDKIqsYHatpoDAkYiifHs6BnfDsm3N5Y15782bgfZiXps6uhs1GIhhtVolUoI9SZKQRIYOe4iFw4A4cjggyUSBxMN74TAgjhwOgKRyMkrT1LOFcIXFkcMBFpPVRBIOW3XkMHJctxS7pa5bit1S1y3FbpmbIMsyxODwA@KQhBxlr3qc@HojVdPBSdcKdA12D5u@PWnD6I@a8h2xEl23Z3MwzU9V@9CczVuFBlbpFHwkj875TFIgay66l6qCig3WvIt702061Z7kUe3LmD37W56zYS14Hha6pjIUES32l3ggYINqm3Lrh77YXeKOXfzja8c@f/F0UPIJR572So5ZpvfUPpSvGRvimGaUeyH3qKB53Rgo12xAQ5rgB0gSHLfASMqcuxqGfFt4aJCHu8JfMyqpb694vtuFQfn0FBX8PgaaBsW9@aCGVh2NKg/TuDbquI2NNupXz/5sswL2HxWHTzEwmmFDsHknkT3yaM7y5GiHENdazYz4g9f3qjMf6fGylQ8V/Sr1SZXjbq8Ps9v@jQvXhermwwvu7rrwv1HyMaQYQy4nJP9MKWzK@XLeB1wmmaechf9rQOECkrbTNf7e379Rfv8N" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Probably can be optimized, but it's the best I could come up with.</p>
<pre class="lang-python prettyprint-override"><code>r=str.replace
# Set an alias for `str.replace`, we'll use it three times

d=(6,0)[(x*2)[1]in'a123']
# Detects if `x` is on Moody's format by checking the 2nd character.
# If positive, set `d` to 0, otherwise set `d` to 6.
# The multiplication by 2 is to handle single-character strings.

y=x
# Create a variable for the following replacements:

for i in 0,1,2:y=r(y,chr(49+i-d),chr(43+i+d))
# If `d` is 0, it will replace all '123' occurrences with '+,-', respectively
# If `d` is 6, it will replace all '+,-' occurrences with '123', respectively

y=r(y,',','')
# An annoying comma will appear in the first conversion, so remove it
y=y*((x=='C')+1)
# Handle the special case where `x` is equal to 'C', duplicating it
y=y+'2'[not d*(x in'ABBBAA'):]
# If `x` is on Fitch/S&amp;P format, add a trailing '2' to the 
# result if `x` is either 'A', 'AA', 'B', 'BB' or 'BBB'

return x[0]+r(y[1:],*('a',x[0])[::1-d//3])
# Since the first character of the input string will not change,
# keep it. For the remaining characters, if `x` is on Moody's 
# format, replace all 'a's with the first character. Otherwise,
# replace all occurrences of the first character with 'a's.
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 38 bytes</h1>
<pre><code>⭆×⁻θ2⊕⁼θC⎇κ§⁺§θ⁰13-+a⌕a+-31ιι¿№AABBBθ2
</code></pre>
<p><a href="https://tio.run/##RY5BCoMwEEX3PUXIakIjtHbpykoLLgRpvcCgQw2NsSYq7enTKJVuhpnhfd6vW7R1j9r71Dn1MFDqyUE65qahNwySHYRkfB/FpyPysLYi2f3I@2iVeRT4gkp15BY4N7WljsxIDVyGCfX65RkXImQrsgbtB56SbYJWsqsyDdxoJusI2oApsY0hyMogGWGLZv0ULp7iGZEvgGRr4cUSL/0KZf6nEIn3Gfpo1l8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Port of @JonathanAllan's Jelly answer.</p>
<pre><code>⭆×⁻θ2⊕⁼θC⎇κ§⁺§θ⁰13-+a⌕a+-31ιι
</code></pre>
<p>Remove any <code>2</code> from the input, double it if it's <code>C</code>, and then transliterate all characters after the first from <code>a+-31</code> to <code>#13-+a</code>, where <code>#</code> is the first character of the input; characters in the input that don't match the source string are replaced with the last character of the destination string.</p>
<pre><code>¿№AABBBθ2
</code></pre>
<p>Append a <code>2</code> if the input is a substring of <code>AABBB</code>.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 59 bytes</h1>
<pre><code>^C$
CC
(?&lt;!AA)[AB]$
$&amp;,
1&gt;T`321+--aL`-_+1-3#a`.
+`(.)#
$1$1
</code></pre>
<p><a href="https://tio.run/##XZAxbgMhEEX7OQWRcQQmrASkjL0aKNy4s7usE4jkwk0KryU3PpcPkIsRRkwRhQK9L57mj7icrufvUvd5@lLjerrpuxrfnqZZU5o1LNU2148kISWgF0T9jvEoQT6/gNsccvDOWFt22X4aZ8Oi5AFMVoNegHTSVb3N8PNQg9H/75Umw8tXGSqWIuggImBxzKaxZxaNA7MF7IogxTM2IzBaiKVPiTEaCp6DoBA4kNYHdcszkxSYm8NdpHAXGdzVhMTLp/ZHqaP4i/AL" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link is to test suite that does some magic splitting and joining. Converts <code>Ca</code> to <code>CC</code>. Explanation:</p>
<pre><code>^C$
CC
</code></pre>
<p>Change <code>C</code> to <code>CC</code>.</p>
<pre><code>(?&lt;!AA)[AB]$
$&amp;,
</code></pre>
<p>Except for <code>AAA</code>, append a <code>,</code> to any string ending with <code>A</code> or <code>B</code>. The choice of <code>,</code> is important for the transliteration as it is between <code>+</code> and <code>-</code> in ASCII.</p>
<pre><code>1&gt;T`321+--aL`-_+1-3#a`.
</code></pre>
<p>Excluding the first character, transliterate <code>3</code> to <code>-</code>, delete <code>2</code>, transliterate <code>1</code> to <code>+</code>, <code>+</code> to <code>-</code> to <code>1</code> to <code>3</code>, <code>a</code> to <code>#</code> and all uppercase letters to <code>a</code>. (Having the <code>-</code> be first in the target pattern makes it a literal <code>-</code>. I couldn't do that in both patterns but fortunately in the source pattern I could use a range from <code>+</code> to <code>-</code>.)</p>
<pre><code>+`(.)#
$1$1
</code></pre>
<p>Make <code>#</code>s copy the preceding letter.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 36 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="noreferrer">bytes</a></h1>
<p>Assumes that we may use ASCII only input (so <code>-</code> rather than the similarly looking <code>−</code> used in the post) and that &quot;indifferently&quot; is being used to mean either/or (here <code>Ca</code> produces <code>CC</code> only).</p>
<pre><code>;⁼¡“C”Ḣð;“13-+a”,Ṛ$y⁹⁸;;ḟẇ“¶®O^»$?”2
</code></pre>
<p>A monadic Link that accepts a list of characters (one of the ratings) and outputs the equivalent rating from the other agency.</p>
<p><strong><a href="https://tio.run/##HYsxDoJAEEX7OQUFjQEKoNyo2d3E1trGZAsbwgXooOIORmP0AMZCDYjVcpLdi6x/TPbPf//PTnWo6yYE4buvvfr2pH17dsNtfgiEvMwSgyJ14zFufDf6bhDCDRf36bG2b3vf7u0Ur/GnCG562tcmnfsKu2i5itAudiEK0hiSJocKqCQJBJWkDFqMggdHThzAQFBJGsca91JCCf0tIyaCK6USHixOHOiPIIJrrYnfDw" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>;⁼¡“C”Ḣð;“13-+a”,Ṛ$y⁹⁸;;ḟẇ“¶®O^»$?”2 - Link: list of characters, R
   “C”                               - set the right argument to ['C']
  ¡                                  - repeat...
 ⁼                                   - ...times: is {R} equal to {['C']}? 
;                                    - ...action: {R} concatenate {['C']}
                                         -&gt; R=&quot;C&quot; becomes &quot;CC&quot; others unaffected
      Ḣ                              - head
       ð                             - start a new dyadic chain - f(Head, say 'H', Rest)
        ;“13-+a”                     - {Head} concatenate &quot;13-+a&quot;
                ,Ṛ$                  - pair with its reverse -&gt; [&quot;H13-+a&quot;,&quot;a+-31H&quot;]
                   y⁹                - translate {Rest} using {that mapping}
                     ⁸;              - left arg {=Head} concatenate {translated Rest}
                                  ”2 - set the right argument to '2'
                                 ?   - if...
                         ẇ“¶®O^»$    - ...condition: is sublist of &quot;AaBaa&quot;?
                       ;             - ...then: concatenate {'2'}
                        ḟ            - ...else: filter discard {'2'}
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/268714/">268714</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




