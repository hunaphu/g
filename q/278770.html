<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::278770</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>025</td><td>Uiua</td><td>250323T120520Z</td><td><a href="https://codegolf.stackexchange.com/questions/278770/output-the-symmetric-inverse-semigroup/278862#278862">Joao-3</a></td></tr>
<tr d-ix="1"><td>080</td><td>Maple</td><td>250321T045107Z</td><td><a href="https://codegolf.stackexchange.com/questions/278770/output-the-symmetric-inverse-semigroup/278812#278812">dharr</a></td></tr>
<tr d-ix="2"><td>098</td><td>Python</td><td>250320T125718Z</td><td><a href="https://codegolf.stackexchange.com/questions/278770/output-the-symmetric-inverse-semigroup/278803#278803">Albert.L</a></td></tr>
<tr d-ix="3"><td>103</td><td>Python</td><td>250319T193250Z</td><td><a href="https://codegolf.stackexchange.com/questions/278770/output-the-symmetric-inverse-semigroup/278781#278781">Mukundan</a></td></tr>
<tr d-ix="4"><td>048</td><td>Charcoal</td><td>250319T225358Z</td><td><a href="https://codegolf.stackexchange.com/questions/278770/output-the-symmetric-inverse-semigroup/278787#278787">Neil</a></td></tr>
<tr d-ix="5"><td>009</td><td>Jelly</td><td>250319T183325Z</td><td><a href="https://codegolf.stackexchange.com/questions/278770/output-the-symmetric-inverse-semigroup/278778#278778">Jonathan</a></td></tr>
<tr d-ix="6"><td>121</td><td>JavaScript ES6</td><td>250319T173121Z</td><td><a href="https://codegolf.stackexchange.com/questions/278770/output-the-symmetric-inverse-semigroup/278776#278776">Arnauld</a></td></tr>
<tr d-ix="7"><td>134</td><td>Python3</td><td>250319T172346Z</td><td><a href="https://codegolf.stackexchange.com/questions/278770/output-the-symmetric-inverse-semigroup/278775#278775">Ajax1234</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.uiua.org" rel="nofollow noreferrer">Uiua</a>, 25 bytes</h1>
<pre><code>/◇⊂⍚(≡□♭₃⊞⊟⊃⧅&lt;⧅≠⊙↘₁)⟜¤⇡+1
</code></pre>
<p><a href="https://uiua.org/pad?src=0_15_0-dev_2__Mwov4peH4oqC4o2aKOKJoeKWoeKZreKCg-KKnuKKn-KKg-KnhTzip4XiiaDiipnihpjigoEp4p-cwqTih6ErMQo=" rel="nofollow noreferrer">Try it in the pad!</a></p>
<p>Outputs a list of boxed matrices representing the mappings.</p>
<p>This type of challenge is why the <a href="https://www.uiua.org/docs/tuples" rel="nofollow noreferrer"><code>⧅ tuples</code></a> modifier is so helpful; it can generate combinations and permutations.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.maplesoft.com/" rel="nofollow noreferrer">Maple</a>, 80 bytes</h1>
<pre><code>n-&gt;[seq(seq(seq([i,j],j=c:-permute(n,k)),i=(c:=combinat):-choose(n,k)),k=0..n)];
</code></pre>
<p>Output format as for test cases in the question. Inputs are combinations of size k, each has outputs that are permutations of the same size.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 98 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda n:(m:=n+1)and{(*sorted({p//m**z%m:z+1for z in range(m)}.items())[1:],)for p in range(m**n)}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhY3k3ISc5NSEhXyrDRyrWzztA01E_NSqjW0ivOLSlJTNKoL9PVztbSqVHOtqrQN0_KLFKoUMvMUihLz0lM1cjVr9TJLUnOLNTQ1ow2tYnU0QQoKkBRoaeVp1kJt0isoyswr0UjTMNbU5AIpzEIoNNe0gsjmpOYBVWRpampCdC1YAKEB" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Returns a set of tuples of pairs.</p>
<h3>How?</h3>
<p>Uses the Python <code>set</code> and <code>dict</code> data types to eliminate duplicates where needed.</p>
<p>Using @xnor's proposed output format:</p>
<h3><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 76 bytes</h3>
<pre class="lang-python prettyprint-override"><code>f=lambda n,*o:[*o,o][n:]or sum([f(n,j,*o)for j in{*range(1,n+1)}^{*o,0}],[])
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3fdJscxJzk1ISFfJ0tPKtorXydfJjo_OsYvOLFIpLczWi0zTydLKAUpppQJEshcy8aq2ixLz0VA1DnTxtQ83auGqgFoPaWJ3oWE2omXoFRZl5JRppGsaamlwwbQoQXeaaVhDZnNQ8oIosTU2oLpiLAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <sup><s>106</s> <s>104</s></sup> 103 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda n,a=0,b={0}:[k|{i+1:j}for i in range(a,n)for j in{*range(n+1)}-b for k in f(n,i+1,b|{j})]+[{}]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XY9BDoIwEEX3nmLiqpWSwMLEkHAAz0BYtJFiCw6ElIUpPYkbNnonb2MrEo2zmz__zZ-5PfqrOXc4z_fRyPjwrGXe8os4cUDG84SJ3CYuK5rJqijNtJPdAAoUwsCxrghnSIOkvWR3i4ZRSl0sIOhNsEqCzNNMTFY7WkaFdeUnrv_blzDY02wDvrrRQO5ZRd9tPyg0RG6PVrktg7ZC4h10Ga4nBGihv4j-5emSu777Ag" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Returns a list of dictionaries containing the mappings</p>
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 70 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda n:{*permutations([*range(n+1)]+[0]*n,n)}
from itertools import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TY3BCsIwDIbve4qwU9tNmAdBBrsKPsPcoWKrHVtauuwgY0_iZSD6Tr6NmxU0l5A_-b7cnu5KF4vTXReHR096tX3tGtkeTxIwH4RTvu1JkrHYsVJ4iWfFMFnzKimzSmCKfIy0ty0YUp6sbTowrbOexNfmtPVgwCAEOEthw_MI5rI9QQGaGf4ZnTdITMf7wYxxCo1CNl_wsFws9WKZo0D_kPqf5-HvNIX-Bg" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Outputs the mapping as a list where each element is mapped to its corresponding index and zeros aren't mapped; output format was suggested in <a href="https://codegolf.stackexchange.com/questions/278770/output-the-symmetric-inverse-semigroup/278781#comment596142_278770">a comment by @xnor to the question</a></p>
<p>I do feel like this output format is a bit cheaty</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 48 bytes</h1>
<pre><code>Ｎθ⊞υ⟦⟦⟧⟦⟧⟧ＦυＦ⎇§ι⁰⌊§ι⁰θＦ⁻…⁰θ§ι¹⊞υＥι⁺μ⟦⎇νλκ⟧Ｅ⊕υ⭆¹ι
</code></pre>
<p><a href="https://tio.run/##VY6xCsIwEIZ3n@LGBCK04Obk2KFS1K1kiG1sg821TRPRp48XsaDLHXz/d9zf9Mo1oxpiLHAK/hjsVTs28/2mCkvPgoC6ljSkJHQbHbDA4bMv2qFyL3bwBbb6yYyAjAsoDRob7D8mPvPvHQlhYSeFnWZZ4gJ@3JyTt74u1ZRYNdCBpRLrSxQwCLhzSTIVdQY9S26BjdNWo9ct1RRw9hR1KckFmCTHuIvbx/AG" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｎθ
</code></pre>
<p>Input <code>n</code>.</p>
<pre><code>⊞υ⟦⟦⟧⟦⟧⟧
</code></pre>
<p>Start with the empty map.</p>
<pre><code>Ｆυ
</code></pre>
<p>Loop over all of the maps as they are discovered.</p>
<pre><code>Ｆ⎇§ι⁰⌊§ι⁰θ
</code></pre>
<p>Loop over the values up to the minimum <code>x</code> value in the map.</p>
<pre><code>Ｆ⁻…⁰θ§ι¹
</code></pre>
<p>Loop over the unused <code>y</code> values in the map.</p>
<pre><code>⊞υＥι⁺μ⟦⎇νλκ⟧
</code></pre>
<p>Add a new map adding that <code>x→y</code> mapping.</p>
<pre><code>Ｅ⊕υ⭆¹ι
</code></pre>
<p>Pretty-print the maps. Note that I've added a <code>⊕</code> to output the map as <code>1</code>-indexed; on TIO this also has the effect of outputting the empty map as <code>None</code> instead of <code>[]</code>.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>œcpœ!ɗⱮŻẎ
</code></pre>
<p>A monadic Link that accepts a positive* integer, <span class="math-container">\$n\$</span>, and yields the symmetric inverse semigroup of the first <span class="math-container">\$n\$</span> natural numbers.</p>
<p><strong><a href="https://tio.run/##AScA2P9qZWxsef//xZNjcMWTIcmX4rGuxbvhuo7/w4fFkuG5mOKCrFn//zQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<p>* also works for <span class="math-container">\$n=0\$</span>, yielding the expected list of the single, empty mapping <code>[[[], []]]</code></p>
<h4>How?</h4>
<pre><code>œcpœ!ɗⱮŻẎ - Link: non-negative integer, N
       Ż  - zero-range {N} -&gt; [0..N]
      Ɱ   - map across {Size in [0..N]} with:
     ɗ    -   last three links as a dyad - f(N, Size):
œc        -     {[1..N]} combinations without replacement {Size}
                  -&gt; C = unordered lists of length Size from alphabet [1..N]
   œ!     -     {[1..N]} permutations without replacement {Size}
                  -&gt; P = ordered lists of length Size from alphabet [1..N]
  p       -     {C} Cartesian product {P}
                  -&gt; all mappings for [1..N] of domain cardinality Size
        Ẏ - tighten to a single list of mappings at all values of Size
</code></pre>
</div>
<div id="pu6" class="pu"><h1>JavaScript (ES6), 121 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;(g=(k,a=[],b=a)=&gt;k--?[...g(k,a,b),...a[I=&quot;includes&quot;](y=k/n+1|0)|b[I](x=k%n+1)?[]:g(k,[y,...a],[x,...b])]:[[a,b]])(n*n)
</code></pre>
<p><a href="https://tio.run/##bY@xTsNADIZ3nsKKhHQmlyNFHVCL26FTZkbrhkuahJDgQ5eAUlGePVwYEdP/@7M@S351n26sQvc@ZeLP9dLQInRQLaleO2KrS3JIhz7LjmyMaVesS9SxOy4o6aQaPs71mFh1of5e0s01x2vJhVUz9bdxxiPb3erx5deymue1lBbtjjlesxaV3AkujQ9qqCcQINjsYzwRbGOmKcLXDUDlZfRDbQbfqqRIIIXnKXTSmib4t9OLC6f4gsrnh/wxj0tB3P@xGvUPjOB7@QE" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1>Python3, 134 bytes</h1>
<pre class="lang-py prettyprint-override"><code>from itertools import*
def f(n):
 t=[*range(1,n+1)]
 return[0]+[[j,k]for i in t for k in permutations(t,i) for j in combinations(t,i)]
</code></pre>
<p><a href="https://tio.run/##TcmxCsIwEADQPV9xY9J2sNZBBL8kZKia6LXmLlyvg18fqSB0e/DKR19Mw7lIrUk4A2oUZX4vgLmwaGMeMUGy5C4G9OobGekZbd9R27tgQKKuQv4QWu@nbg6JBRCQQGHjvLFEyauOikyL1Q7dr6at7pxvSLsKtQiS2mR758zfx52HnU/O1S8" rel="nofollow noreferrer">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/278770/">278770</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




