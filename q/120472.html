<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::120472</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>037</td><td>x86 machine code</td><td>241201T230047Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/276974#276974">anatolyg</a></td></tr>
<tr d-ix="1"><td>058</td><td>SmileBASIC</td><td>180306T200109Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/157465#157465">12Me21</a></td></tr>
<tr d-ix="2"><td>078</td><td>Javascript</td><td>170616T173836Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/126954#126954">SuperSto</a></td></tr>
<tr d-ix="3"><td>070</td><td>R</td><td>170616T205004Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/126983#126983">JAD</a></td></tr>
<tr d-ix="4"><td>043</td><td>Ruby</td><td>170514T032947Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120511#120511">Kaia Lea</a></td></tr>
<tr d-ix="5"><td>017</td><td>Bash</td><td>170515T145235Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120707#120707">marcosm</a></td></tr>
<tr d-ix="6"><td>013</td><td>05AB1E</td><td>170515T132511Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120691#120691">Riley</a></td></tr>
<tr d-ix="7"><td>024</td><td>Aceto</td><td>170514T200841Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120591#120591">L3viatha</a></td></tr>
<tr d-ix="8"><td>214</td><td>C</td><td>170514T192636Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120587#120587">Khaled.K</a></td></tr>
<tr d-ix="9"><td>070</td><td>Prolog</td><td>170514T175105Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120577#120577">Peter Re</a></td></tr>
<tr d-ix="10"><td>007</td><td>Alice</td><td>170514T171844Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120571#120571">Leo</a></td></tr>
<tr d-ix="11"><td>011</td><td>MATL</td><td>170514T103931Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120539#120539">Sanchise</a></td></tr>
<tr d-ix="12"><td>149</td><td>S.I.L.O.S</td><td>170513T214030Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120485#120485">Rohan Jh</a></td></tr>
<tr d-ix="13"><td>039</td><td>Perl 5</td><td>170514T094919Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120536#120536">Dada</a></td></tr>
<tr d-ix="14"><td>004</td><td>Befunge quirkster flavor</td><td>170514T041307Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120514#120514">histocra</a></td></tr>
<tr d-ix="15"><td>094</td><td>C gcc</td><td>170513T222439Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120489#120489">Conor O&</a></td></tr>
<tr d-ix="16"><td>078</td><td>Python 3</td><td>170513T204535Z</td><td><a href="https://codegolf.stackexchange.com/questions/120472/random-golf-of-the-day-8-shuffle-an-infinite-list/120482#120482">xnor</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>x86 machine code, 32-bit linux, 37 bytes</h1>
<p>Disassembly:</p>
<pre><code>0:  6a 21                   push   0x21
2:  5f                      pop    edi
3:  50                      push   eax
4:  b0 03                   mov    al,0x3
6:  31 db                   xor    ebx,ebx
8:  89 e1                   mov    ecx,esp
a:  66 99                   cwd
c:  42                      inc    edx
d:  cd 80                   int    0x80
f:  4f                      dec    edi
10: 75 f1                   jne    0x3
12: 58                      pop    eax
13: 0f c7 f5                rdrand ebp
16: 83 e5 7c                and    ebp,0x7c
19: 87 04 2c                xchg   DWORD PTR [esp+ebp*1],eax
1c: 50                      push   eax
1d: 47                      inc    edi
1e: b0 04                   mov    al,0x4
20: 43                      inc    ebx
21: cd 80                   int    0x80
23: eb df                   jmp    0x4
</code></pre>
<p>Starts by reading 32 bytes into a buffer. Then, after reading each additional byte, displays a random byte from the buffer and replaces it with the just-read byte.</p>
<p>Assembly code:</p>
<pre><code>.global _start

.section .text
_start:

.intel_syntax noprefix
        push 33
        pop edi
read_loop:
        push eax
read_loop1:
        mov al, 3
        xor ebx, ebx
        mov ecx, esp
        cwd
        inc edx
        int 0x80
        dec edi
        jnz read_loop

        pop eax
        rdrand ebp
        and ebp, 124
        xchg eax, [esp + ebp]
        push eax
        inc edi

        mov al, 4
        inc ebx
        int 0x80

        jmp read_loop1
</code></pre>
<p>Assemble using the following command:</p>
<pre><code>gcc -g -c -m32 file.s &amp;&amp; ld -m elf_i386 file.o -o prog
</code></pre>
</div>
<div id="pu1" class="pu"><h1>SmileBASIC, <s>61</s> 58 bytes</h1>

<pre><code>@L
B$=B$+R()IF I&gt;8THEN R=RND(9)?B$[R];:B$[R]="
I=I+1GOTO@L
</code></pre>

<p>Each character of the infinite list is added to the end of the buffer. When the buffer length is 11, a random character is printed and removed.</p>

<p>Function <code>R</code> generates the next character.</p>
</div>
<div id="pu2" class="pu"><h1>Javascript, 78 bytes</h1>

<pre><code>for(l=[];;){l.push(prompt());l.length==10&amp;&amp;alert(l.splice(Math.random()*9,1))};x.sort(()=&gt;Math.random()&lt;0.5);alert(x)}
</code></pre>
<p>Uses the same method as xnor's answer.</p>
</div>
<div id="pu3" class="pu"><h1>R, 70 bytes</h1>

<pre><code>x=NULL;repeat{x=sample(c(x,scan()));if(sum(x|1)&gt;9){cat(x[1]);x=x[-1]}}
</code></pre>

<p>Starts with an empty vector <code>x</code>. In an infinite loop, it takes a new value from STDIN, then shuffles the vector. Then it checks if the length of the built up list is 10 or higher. If it is, it can start printing. This way the vector has a buffer of 10 inputs, each getting shuffled in every iteration. So it is possible for input to be printed 10 places earlier, and infinitely many places later (following a geometric distribution with <code>p=1/10</code>). When the buffer is long enough, the first element is printed and removed from the vector.</p>
</div>
<div id="pu4" class="pu"><h1>Ruby, 43 bytes</h1>

<pre><code>l=[];loop{l&lt;&lt;gets;l[9]&amp;&amp;$&gt;&lt;&lt;l.shuffle!.pop}
</code></pre>

<p>My original answer used a lazy-evaluated infinite list, but this is shorter. Oh well.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a>, 17 bytes</h1>



<pre class="lang-bash prettyprint-override"><code>xargs -n9 shuf -e
</code></pre>

<p><a href="https://tio.run/nexus/bash#7cu5FYAgEEDB3Cp@AxRgOYgIXqAiXn0bYx@@nXzKpTeXUKEm@dyhbCmaBkOLpcPh6RkYmZgJRBZWNhI7mYOTi5unkiNHjhw5/z3lDVEZbbz9AA" rel="nofollow noreferrer" title="Bash – TIO Nexus">Try it online!</a></p>

<p>xargs continuously takes 9 letters from STDIN and sends them to shuffle</p>

<p>an infinite list can be generated by:</p>

<pre class="lang-bash prettyprint-override"><code>yes {a..z}
</code></pre>

<p>which prints a b c d e .. z infinite times.</p>

<p>Test could be done by:</p>

<pre class="lang-bash prettyprint-override"><code>yes {a..z} | xargs -n9 shuf -e 
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 13 bytes</h1>

<pre><code>[I)˜¼¾T›i.rć,
</code></pre>

<p><a href="https://tio.run/nexus/05ab1e#MzJw@6/gqXl6zqE9h/aFPGrYlalXdKRd5/9/Qy4jLmMuEy5TLjMucy4LLksuQwMuQ0MuQyMuQ2MuQxMuQ1MuQzMuQ3MuQwsuQ0suI4Ovefm6yYnJGakA" rel="nofollow noreferrer" title="05AB1E – TIO Nexus">Try it online!</a> (modified to take 20 elements)</p>

<pre><code>[             # Infinite loop
 I)˜          # Add the next element from input to the array
    ¼         # Increment the counter variable
     ¾T›i     # If the counter variable is greater than 10...
         .r   #   Get a random permutation of the array
           ć, #   Print and remove the first element 
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/L3viathan/OIL" rel="nofollow noreferrer">Aceto</a>, 24 bytes, non-competing</h1>
<p><em>Non-competing because I had to fix a bug in the interpreter.</em></p>
<pre><code>^




OYpO
r^`!
?d0=   &gt;
</code></pre>
<p>Takes an infinite stream of lines and yields them in a random order. Every element has a chance of occurring at any random point.</p>
<p>We start with a <code>?</code> in the bottom left corner, which moves us in a random direction. If that is down or left, we get pushed right back.</p>
<p>If we're moved upwards, we <code>r</code>ead a value, shuffle the stack (<code>Y</code>), and jump back to the <code>O</code>rigin.</p>
<p>If we're moved to the right, we <code>d</code>uplicate the top stack value, push a <code>0</code> and test for equality (since we're reading strings, we can't ever have the integer 0). If the values are equal, that means we've reached the bottom of the stack (from which we don't want to print). We <em>negate</em> the comparison (<code>!</code>), and <code>p</code>rint only if (<code>`</code>) the things were not equal. Then we also jump back to the <code>O</code>rigin.</p>
</div>
<div id="pu8" class="pu"><h1>C, 214 bytes</h1>



<pre class="lang-c prettyprint-override"><code>c;i;char B[19]={0};char*I;
S(p,q){if(B[p]-B[q])B[p]^=(B[q]^=(B[p]^=B[q]));}
R(n){while(n--)putchar(B[c]),B[c]=*I,c=++i%19,I++;}
main(c,v)char**v;{srand(time(0));I=v[1];R(19);i=9;for(;;){S(i,rand()%19);R(1);i=++i%19;}}
</code></pre>

<p><strong>How it works</strong></p>

<p><img src="https://i.sstatic.net/qjY3b.png" width="400" height="300"></p>

<p><a href="https://tio.run/nexus/c-gcc#dZFRa8IwFIWfm1@RIYNE67RjDEpXoWMMBK2gwgbSSdak64U2VttOWOlv79LoFMeWp5PvJuee3DQdkGFScoEf8oLD5iYeoQuUwPslKyUo3DI0GGAmIWUFbCTOMyE46nARgRTY88dTbzme@evFZPaC74ft@qPqz@ZTb4Lv/qs/e4slvj1UEXdCB5wwZjv8WEaR2K0sO3CrYa1ZF2RWFg5a7FlGMnNLK4jI8VwWXLlHuQ0oPtE3l5zwWbf8fJo6NZoLxomk1T6GRBDZ74@GVDVr2/5cCgNqnqR7CGOGbq8H15Zt6m2vp6xQykASkAVmu4/QxDp6V@lPiipkqJmChAJYAl96sMjId0xyUkAqyFCl4e7c85/WU@91YNkOMrS12xqsrMDRSS2bOuC2RW2YxypXInDKwliNFxmHZ1gUGZX6RMMo80SIjPz@FqoMDD1OMHUGOuCaHZpoCccXKl2jummabw" rel="nofollow noreferrer"><strong>Try Online (UNIX)</strong></a></p>

<pre class="lang-c prettyprint-override"><code>#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;

// animation speed
#define ANIMATION_SLOW 600000
#define ANIMATION_NORMAL 400000
#define ANIMATION_FAST 200000

c;i;char Buffer[19]={0};char*input;
Swap(p,q){if(Buffer[p]!=Buffer[q])Buffer[p]^=(Buffer[q]^=(Buffer[p]^=Buffer[q]));}
Read(n){while(n--&gt;0)putchar(Buffer[c]),Buffer[c]=*input,c=++i%19,input++;}

main(int argc, char**argv)
{
    // initialization
    srand(time(0));
    input=argv[1];
    Read(19);i=9;

    // shuffle machine
    while(1)
    {
        usleep(ANIMATION_NORMAL);
        Swap(i,rand()%19);
        Read(1);
        i=++i%19;
    }
}
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Prolog, 70 bytes</h1>

<pre><code>s(L):-get0(C),(length(L,9)-&gt;random_select(H,L,R),put(H);L=R),s([C|R]).
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/m-ender/alice" rel="nofollow noreferrer">Alice</a>, 7 bytes</h1>

<pre><code>a&amp;IdU,O
</code></pre>

<p><a href="https://tio.run/nexus/alice#@5@o5pkSquP//7@hkbGJqZm5haXBKGuUNcpCZ33Ny9dNTkzOSAUA" rel="nofollow noreferrer" title="Alice – TIO Nexus">Try it online!</a></p>

<p>This should work on an infinite input with infinite time and memory, but it's not so easy to test in practice :)</p>

<h3>Explanation</h3>

<pre><code>a&amp;I         Push 10 characters from the input to the stack.
     d        Push the depth of the stack.
      U       Pop a number (d), push a random number in [0,d)
        ,       Pop a number (n), move the element which is n elements below the top to the top of the stack.
         O    Output the character on top of the stack.

                Execution loops back to the beginning of the line.
</code></pre>

<p>At each iteration 10 characters are read from input and only one goes to the output, so memory usage increases linearly during execution. With a finite input this quickly reaches EOF, from which ten -1 will be pushed to the stack at each iteration. Trying to output -1 as a character has no effect, but it's unlikely that all the characters of the input will be printed in a reasonable amount of time.</p>

<p>Position <em>i</em> of the output can be taken by any character in the input up to position <em>10i</em>, this complies with the challenge requiring at least a range from <em>i-9</em> to <em>i+9</em>.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 11 bytes</h1>

<pre><code>`rEkN*?D}iT
</code></pre>

<p><a href="https://tio.run/nexus/matl#@59Q5Jrtp2XvUpsZ8v@/IZcxlymXOZcllxGXCZcFkASJmAFZlkDSBM424jIyNgGqs@AyMQUKGnKZAQA" rel="nofollow noreferrer" title="MATL – TIO Nexus">Try it online!</a></p>

<p>Port of <a href="https://codegolf.stackexchange.com/a/120514/32352">histocrat's Befunge answer</a>.</p>

<p>Explanation: (Thanks to Luis Mendo for -1 byte)</p>

<pre><code>`         T % Start do-while (`) .... true (T)
 rEk        % 50-50 chance of outputting or inputting:
            %   Random number between 0...1, multiplied by 2 and converted to logical. 
    N       % Check if there is anything on the stack to output
     *?     % If there is anything on the stack and (*) we want to output:
       D    % Output. Sadly, D errors when the stack is empty, requiring the N*
        }i  % Else, input.
</code></pre>

<p>This outputs almost surely in finite time, and <a href="https://mathoverflow.net/questions/60417/will-a-random-walk-on-0-inf-tend-to-infinity">almost surely requires only finite memory</a>.</p>

<p>For completeness, here is a 15-byte version which keeps a 10-element buffer and outputs a random element from that:</p>

<pre><code>`htnt9&gt;?Yr&amp;)wDT
</code></pre>

<p>I like this version for the very idiomatic (as far as golfing languages can be idiomatic) <code>tn...Yr&amp;)</code>, which pops a random element from the list and returns the list without that element. However, the particular logistics of this challenge add a lot of bytes (the required <code>w</code> for the display, the <code>t9&gt;?</code> to check if the list is full enough...).</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/rjhunjhunwala/S.I.L.O.S" rel="nofollow noreferrer">S.I.L.O.S</a>, 149 bytes</h1>

<pre><code>b=1
lbla
x=15+b*15
b=1
lblb
readIO
queue 0 i
x-1
if x b
a=0
lblx
x=rand*2
queuePop 0
if x X
printInt m
a+1
b=15-a
if b x
GOTO a
lblX
queue 0 m
GOTO x
</code></pre>

<p><a href="https://tio.run/nexus/silos#RU2xCoNQDNzzFZkrgnn62jo4Fyc7dHB9Dy0Iaq0ovL9PExU7JNxd7i7sC4Le9w5CQTbyF7JwSB7m1jVlBd@1XVtMsIMQE3RvDOjBFYmaguRmNzYXs9uenwmT3VPDNHfjUo4LDuAi0l4bOz16DPCoXhU67ajPD8OuBmYmTtnIJpNyznkuMDskeyIyMsRiyUQ1mlG2KRq7842vcqMD2Q3rmJNrkxXlz/Ul8dZMPw" rel="nofollow noreferrer" title="S.I.L.O.S – TIO Nexus">Try it online!</a></p>

<p>Essentially it keeps taking input (on the online interpreter through arguments, but on the offline official interpreter it will allow you type into the console (infinitely)) in blocks of 15 at a time (30 the first block).</p>

<p>It loads the input into a temporary queue and picks a lucky 15 (randomly, but not equally distributed in terms of probablity or distribution).</p>

<p>The rest remain in as new inputs fill the queue, the first input could be shuffled all the way to the end, (basically I think the characters follow a normal distribution). It's interesting to note that this program is only twice as verbose as python and perhaps "golfier" than Java.</p>

<hr/>

<p>To better see the results I have a non-compliant version which takes input as a string (however it can only take in 8,000 or so characters). </p>

<p><a href="https://tio.run/nexus/silos#jVdNcxQ3EL3Pr@hKDpiwXmwqJjEFVFEUCa4imMIczMmlmdHsiNVIg6Tx7vqU/5B/mD/ivJbma@1AwoX1jNT9@nX3655bbUX5ThmZ3bx4cvI0y18cZzrXItu@OD55dJD/dHzyEA@P@GGeqRcrGegmu3l0nH3tZCfpiFS2PTzOVEVbyjORTm4zJ0xJT9KhD7alIz7h6DJrnTLhdS0cNZmAGTg8ORT8Nqdt9vv5p3MSbOJydNCkp9vb29tXue0ChVrShXRK@iz7TTkfyFbVgna2o0bsKDgp@JDypNVakjA7srjjqLClpJXVFRW10FqalVwQAxXGb/BeBdqoULOPjXVup8yKxOjSR5cE27i7pLd2I6@lW/A7JwneBGkpSulyKxxsFs56z2cnb35Jn4GyEIYqBb9sdu@OtnDJGMjbRlJj2bKprGtEUNbcR6NM/KuKNLTWh2WWvbVa0q/P6KLuqkozAWxDGRXgTfmQZQzCI05d0sbxY0FVZ4rowjpqnV050dCmVkVNQaw57DtGSLDzFmiYQCdD5wxT4JPTksCNj/YqIARpfAngUgpHU2ePz7PsU2RQOI4K14Smjdj5mFCmigHMfAFd2RWSYIcfgZyU7JHlZylAvipVTHy0IBJu4AFPKqhrNhrkCjgXHDWwB8cpd7J10ksTEucxv7baP4PfozWuaJGD6FcXr8/OGIcTRYBZOjjaPjmiYOlo@8ubBdwVuvNw/HBJiHkWAdJLTQd7@MGU10PA6d2Szh6gjr7wCScrjsjGQ6UIgjPxQ6wkAPqBKmcbMnZD1ixweIW60hKFCKQpn7aNYUV2a2u9XI50oXP6ouTYoqV53n0A/1ynCZvnTmtiTlIVhSmmwpqgTGc7r3cM9l/N9GeTnUSJt7qL8PryNDZQKVsJH1z@aOVWuKCKTkNBroWGQiAVXkIsDNdElR569imN75xM1TeD1sNGxYAdtgOEjD9IE2OpkKMaBXwgl6vlUIQPQmI/Bdpb2tTScMGmEnnA5X8ydGSiiHlEss@hOLZzHnIDoWOTkelvVRyiSMWK4wFmwZvkgDYCCtWBWI3YYBDVG6@PGfMS7Ihg3TI7M6SFWXVixWQwBb5rW@siFc1ibK57/Z/o6nt@3tla3OzuaABTHyP4L3@jOKum1bJBpHsVsQKPEfe@96Ta08tBcpbZK43QjeAm1rvvBDNXMIMqdKuOne@HZs2Y0VRRUvAlBQEG36wsLCwlmtD0SiM4k4NT4T2MJuQz1zXQ5hI1VUrOX/n/sHAqjdyGvn6@j@dzT2rlJGjouzkBGWCgeoxo0OLT6OTRbBsDTcD4ZFbRVMnPdY8xtgbXJweUxBIBqSTlckpbxDgMwChfuRxvQF6h1LnIlVZhF2Ua6GNbltS13CdxMiebgxdk@PCUT6lHp/f89Uk66ExUtBjoCG8T9SJn@laxMJLI@jkMnpil5WauxXVsqTyplgdHEWKpKsgr12fvbAKGt2h2c@dYytN4CkUydmxqdTdpWqwW7e0wJKPrSa9SuY8BpYICs1Xn4huBqcjjnZWuVwaWRyMLsCHcLt2473LuLS0Kfbol7lTQ0dJuzCgicc5FS0jX/LpIF7QIPWjOYj@Hxv0jQsdSpXmNWtUz/QIbMFhaiWmL1oibjkj70cTxKfREtj6NnklGmQUc8gpTFgy8YWHuhTRYu04QrNZ2w3LYi@qgFrFA6erqCn@WqgD85HW/7Pivy6mIeZzv1eo0QLBe0L1/V/f/ZbBSoPlXtfqy1o2x7VeQ1F1vtruby2@/Wi4hpn3lDIqKH8WaNTjvlA6HgJOamEzX5HOJnG3BceVBvZVljBBLlZe8lsXMTUqafdxbEThMLC8djpeKicy7YVuYVVXnOYuq31mEbiwPHwxbqNCwno1K1nusApcw9a18kMe05io4VO7DqG4A8wHbsJdpUSplXCd5hMhtCyrmK3CNBSdiGgdKeuvxn69UnEHc@w6bgXLxgIf9i8JybfDKCZFjKcUnwSF/EiwQXZIC9ihTk6jx0@DvP/@iBtgQI68/lO@4jPgpSo4tv5vW@LjQzlbygdd@Ze@TJe98MMDGJ4vUIW3T2hJDTBA8I9ugGhfUJpawRzE3sSt7mPHTQVANsxpNt0CmhgVh6o8/hFunlpcgD0hQ0T/Su6HW3kMLF/Q@hZhtori/Z65iDOomblmpHrq8UZ63fMheakekw1lIa3oPtmeDci1lSxYiHZ@P3y4T2HwXe3fdQ2YFcKwiS@I5BZ6xOBYJ7ccux9x/7l8eH/38/LF/mX4ex5@nT3vsB5yHsYdUksuicyzcqFTmE1qVD19URrX/AA" rel="nofollow noreferrer" title="S.I.L.O.S – TIO Nexus">Try it online!</a></p>

<p>Just for fun, here is this post fed through the string version.</p>

<pre>
 [.L.Ooy" 9beS.I.S],"14 ts  b1
 nly

  =ll
   x=1b 15   1
5b  a*b=  lb  rd#  + lb eaI O    e 
 x
 ifquu   
1 0x b
   =

    e
0
   i lblxa -d*2
    quu   x=rn 
   x Xea p0
   pnInt o r   a
   mf =   iePit
  ba 1
   GTO  1 f b x+ Oa


 qe -lblX u0 m    GOOue  
[rlT 

 tnn5 !I.STii][S.LO ie

htpsgthyx]:iub.om/jhujh.. tcraa.I.O.o /TytonieSu:wl/.L lnn!:tt/iS
[ in hsto.un/nuslprxRUCoDsio/]:e#NzZn6j4c/2xNQFnF7y0aLzkrosd9Dov2yxJNx774HBrgPUdi9CySI09sCLw5TJwB7jlB1XVeQFE7m1VMsIQvDOjBmdtME3umNzYXs9unFbqRamVDfUDw@RT3NHoL7/i04bz16DCoP4eulOU7jPD8OmYjATpynkuMDuBPYmtnIJzseyyhaNkMyQgXG2R782vqMDIiUm6Kq4Q3mJkxlUsR1rrldPw./l28Z SL.XS – IONuscOT "
senallyxMz.stiitkp ingN"
 eestaint on heeInliinrprt (oe e  toghr tetgpnmntuon eruEuut r h ofi off,bhenecil inretea.atr  ialoks tirilw upeitfleptly ty  honso (e oote cenfine iwllbc 15 atly) nitloo  aim( te)nikfte3 firs bck)
hs 0It te 
 lodshipo alauttt.mpra quuet i reanicks a lck eooy d  randomyn p 15( u o equl,unbtty drbutedaynistinems oftrly ordisrprob ill abition h  ibttmin.Tet ri)
 a nwit u ree nusfil th queusen 
pte ftip,ae uldsfuesis ob hl rlelth weual  t tc hdyoend,f tbaaly thi an elnkhecarcthe(sc h o  noreiItrolwaaldibtio  lmiru.t' iereaf ) tsng tetntiottssht prasnon  hogIms only twieatisi s vroscpythonadprs a hbapolfi" e r n e ehanava.
 tte s/"gt 
obterelIe  tsvea non-omhTrehs  a plntvesion hcahihk ine teuts sriprics at rwvritcaw aa g(hoee n onl kein n00 orscat ,0  cter).

[Tyauoas  it onine!hrhrys:.ru]p//o/lsslo#jVd(tinnexi3E@KDpit/LrhtwXwVEUuscxPmJjFFCaNimMzlHiQEcMmdVIT7vqs8mNgxU3mD/J1AwX q/ivbao1j@nb4I6/m93655bThmb4cy5TUX3xvI018cZzrXItuO5B@NX5JD/HzyE@G@D5eqrGem3l0HPGRutZfpi2PzVA@d3CVRTm4zJxnZdcFSTEO0JOT9KhDI6byjnLhS0cNmGz7hJrTdAgORT8Ndvv7DgZSbJdkp9v5al8qMyNCb9tXe0ChrShXRTOt@7fFgV3zTkbVbsD@JpKina2oKgNVakjsjLCpD29u7l0XVRWalVTyArF1FqypQAxXb/BedqUqpJGOPVyxOjLj0jXup8cE277L2I6@lSowK5pA7nGldRBiJwyKxF6z2c3kW/sJ4EYBbbpSuBxs55nyI9sdnu@nJJeGqtKprGEUbc6NDGMjjO2tN/KuKTWh2WWbbRRLVaq/P6KqkoMNWGRgTQZLlbXfQI050bY0rz0xmzCVZ4vowjpV0dCmkDFq0VNa5GSDzVn5Qw7idwPTxu5xTAtLQCDN/YIApfAn4dsDmYksCqUU27sRggpzRK4SmdjmPUPQO4j5FmgHMFRWS2eI1CfA2YIcf7JlylFjdZypVTH0IJu4ZJHiUviyBFKqhrkCjgXAAB8d710NhHgDwcJksuvPPprcfzHPTaJGFX8OIExW/cBZjaPiY7a4WD6rTYmOouBVucROlwvuBJiHWdJQjjbobNGTd7M1P6z8dw/A@GU02hgjCcrjjQHkAdS6r7UjQ6wAPqB@sIgxkKcbZDixeWS6mn160CKQpn7aUwGLK22u9I0oX6YIwPMhFVaX5uYon0AyoNTCZvnmtilVhV3/pgTGc7r39lIS5PmqM/NGnUSLnTw9eTJ7qqrNQKsJHz@Tt8mDZVWKCKTkBro1PuQAksDdN1yaVGiVXElRW9i5M11cINmxNGYAg9TD7sxtEDI2OkKMaBXgvO5dOplUQQIdpb2w66NePBScMmEnAX8ydGSiiHlss@hOLZzInnIoTevRtEm/TGHWOkly5ljMK4FkgDDSWCWBW3YwmEVYCIBV@GMIg3TZtGwMFWXVxQwBb5iD6PfS7h7Sric1ib5ZYIvW6n3tlaK7/6@3OAHy4LjOuW@tzaBP3@mFbJpHsVsQKPfeui/o1@aBcbZ4TK96T8tp3QjeA1vDXMKBIqdK@HZs2vsMlQE36YmrBEnVRUvAGNuCt44e0RB0sL0MkNu1Q5wOwliTT2JQzVrOnHAmSXIU//sqjdG6jdT2r1v@@lGjouzkGWoD4zhnzJBxo0OT6OTbBDgeDFRnY8TMXZbMPdxsCtbXeUxIBqST4VRwkpbgwChBcJxMx6hLIVZhfuylDvF1l26Nbl3xRLgQnatSCMigx@PCT6lcG1ebdk/86UBUFp9UkxjoCGSJnlxMtUdHf6IjkMnil5aua9L@xXsdHEKW@8JpVqlgKsr12bAKG2Typfv@Yy4CkUydETWphcdmdpWq7egtxqP8pYI2rSaSuYBwW0tNTdXn4qcjnZ9JKhuVwaWRycwCWt247LSflsCHsB3u0KoLTQJzL1uMl0duij/IF7LCc5FSpIPW7gcjOYj@jQdpQHv0WUz/IbMhS0XmFiWm1i0cTbxXjsjLxt6nGmQNQoKfREklc8pTFyHub7jUg8TR4QrZ2w3YjaLWNi@FFerCnNgY0LqgrA6qkWg8H/7Pv6YhtqeZzvoB0yD5Wm1eLL1Vf/SouI0Q/fox7eQlXieZB1F1v2/in/btqyVPtubWhDIKH8WaTlry43N6HgOEzX5HOjv1@lamBeZlJpqJnG3B2LZe8sXUafdAcVvVjBBlqxbEThCdjpelc7YVuYXOqM8MyVV3iPxbqYu@nmbHnoKpK1Eww11sA9aiwN8kMe0ioVO7qnucL1A8wHJ4wTsdltrm3CC4bpCd5hMhyDGXSdGgdKvnCKUpNB9nH@wXLgu5iUEcfJbDKZFjx6gI9i8fCcUFiQXxeSbKnwhT6@v/I6yS/Ew9k@tgI68/lO@4jjx0PZBpSo5vWLCDi4zb@TJejQQPtvlgde98MDGJ4vUW3T@iJTA89gGhUJIgy@MDBpaz3s7PT2ZIwStVANsxpCmhghh68huncD0VdumQt0lT/Su6HW3kMLFfo/FphQ0QhtoZ5iRN/@hZ/DmHq8UZEgiblprekkw1I366fMhePmDclSxirOlYH2Hwe3fom3aoe1@yaQYwi5ZPd2FcITXO7cu9@6tiHZJc7lKSB8e3/mXx34xYH/8F@TUxx/5vs5yHsYBL4ekscycqT1BnuV19/ "SFE/iRAIL.O NqUXAm. T3zDreu).S –IOxs."d
</pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 39 bytes</h1>

<p>38 bytes of code + <code>-n</code> flag.</p>



<pre class="lang-perl prettyprint-override"><code>print splice@F,rand 10,1if 9&lt;push@F,$_
</code></pre>

<p><a href="https://tio.run/nexus/perl5#Dci7CsIwAIbR/XuKiI4t5E@vAQcnX0NKjLRQYmjroztHz3jOpxy31dSp5G1Jh9nzuoR4u1fblJ5GttLyMv6aP/v8z8ujFOFoaOnoGRjxyCIhhxrUog71aEAj8jj7Te86TGGOPw" rel="nofollow noreferrer" title="Perl 5 – TIO Nexus">Try it online!</a></p>

<p>Add each element to <code>@F</code> array (with <code>push@F,$_</code>). When <code>@F</code> contains 10 elements (<code>push</code> returns the number of elements in the array, hence <code>9&lt;push...</code>), a random element is removed and printed (<code>splice@F,rand 10,1</code> to remove the element, <code>print</code> to print it).<br>
The output starts happening after then 10th element has been read. Hence, each element can start appearing at least 9 positions before its original one, and can be shifted to the right infinitely.</p>
</div>
<div id="pu14" class="pu"><h1>Befunge (<a href="http://www.quirkster.com/iano/js/befunge.html" rel="noreferrer">quirkster flavor</a>), 4 bytes</h1>

<pre><code>?,?~
</code></pre>

<p><code>,</code> reads a character from the stream and pushes it onto the stack. <code>~</code> pops the top character from the stack (if present) and prints it. <code>?</code> randomizes which command is executed next. So the algorithm here is "In an infinite loop, with equal probability either push a character or pop a character." I think this satisfies the requirements: a character can see arbitrarily many characters added above it in the stack, so it can move arbitrarily far to the right, and it can be printed when the stack is arbitrarily big, so it can move arbitrarily far to the left.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 94 bytes</h1>



<pre class="lang-c prettyprint-override"><code>L;i;f(s){srand(s);int B[9]={0};for(L=0;;)L&gt;9&amp;&amp;putchar(B[i=rand()%10]),B[L&gt;9?i:L++]=getchar();}
</code></pre>

<p><a href="https://tio.run/nexus/c-gcc#@@9jnWmdplGsWV1clJiXAmRYZ@aVKDhFW8baVhvUWqflF2n42BpYW2v62FmqqRWUliRnJBZpOEVn2oLVa6oaGsRq6jhFA6XtM618tLVjbdNTIYo0rWv/K2fmJeeUpqQq2JRk5qbqZdhxgYzPTczM09Cs5lIAgjQNkIyGX6iPj6amNVft/8TilDRCGAA" rel="nofollow noreferrer" title="C (gcc) – TIO Nexus">Try it online!</a></p>

<p>Ok, a TIO link doesn't make much sense. For ease of testing, I created the following C program that will output random ascii characters, or repeat an string infinitely.</p>

<pre class="lang-c prettyprint-override"><code>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;time.h&gt;
int main(int argc, char** argv){
    srand(time(NULL));
    if(argc &lt; 1) {
        for(;;){
            printf("%c", rand() % 95 + 32);
        }
    } else {
        char* s = argv[1];
        int i = 0;
        for(;;){
            if(s[i] == 0)
                i = 0;
            printf("%c", s[i++]);
        }
    }
}
</code></pre>

<p>This program will be referred to as <code>iro</code>.</p>

<h2>Program correctness</h2>

<p>What I do here is read <code>9</code> values into a buffer. After this, random indices are chosen from this array and are outputted, then replaced by the next character in the stream.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://docs.python.org/3/" rel="noreferrer">Python 3</a>, 78 bytes</h1>



<pre class="lang-python prettyprint-override"><code>from random import*
l=[]
while[shuffle(l)]:l[9:]and print(l.pop());l+=input(),
</code></pre>

<p><a href="https://tio.run/nexus/python3#DZBLamNRDETnZxUZ2klonqSrX0JWYjxo6JgYXuyH26GX776jAqGSTtXjdLt@P91@X/5MOX9v19v9mfXjcOTf13n9PPz9@jmd1s/duj@@rYd@O87Np@12vtx366/tuu32@/f15eN82X7uu/3r47EgKMbACZKikTkURBFDBuJIIIkU0uiCTo@ihg7U0UATLbSxBRNsnjRsYI4FllhhzVgYwlDG/DgYzghGMorR@IILrrjhE8jxwBMvvImFEEIJIwYxeYNIoogmF1JIJY0cpJMzTpJFNrVQQill1KCcCmqmLarphRZaaaMH7XTQSc8y@j8" rel="noreferrer" title="Python 3 – TIO Nexus">Try it online!</a></p>

<p>Takes input from STDIN (one per line), prints to STDOUT.</p>

<p>Keeps a buffer <code>l</code> of up to 10 elements. The buffer is shuffled with each step. When its length is 10, the last element is printed and removed.</p>

<p>If an element happens to be printed as soon as it was inserted, it has skipped ahead of 9 other elements waiting in the buffer, so it appears 9 spots left. An element can wait in the buffer arbitrarily long, so its position can move any amount right.</p>

<p>There doesn't seem to be a nice way to produce and remove a random element from a list. Shuffling seems like overkill. It's 2 bytes longer to use <code>l.pop(randint(0,9))</code> (which uses that the list has 10 elements).</p>

<pre class="lang-python prettyprint-override"><code>from random import*
l=[]
while 1:l+=input(),;l[9:]and print(l.pop(randint(0,9)))
</code></pre>

<p>It's no better to do <code>x=choice(l);l.remove(x)</code>.A language with <code>poprandom</code> like </p>

<pre class="lang-python prettyprint-override"><code>poprandom = lambda l:l.pop(randrange(len(l)))
</code></pre>

<p>could very cleanly do</p>

<pre class="lang-python prettyprint-override"><code>from random import*
l=[]
while 1:l+=input(),;l[9:]and print(poprandom(l))
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/120472/">120472</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




