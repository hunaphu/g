<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::45087</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>005</td><td>Vyxal 3</td><td>250704T141501Z</td><td><a href="https://codegolf.stackexchange.com/questions/45087/binary-encryption/282547#282547">Themooni</a></td></tr>
<tr d-ix="1"><td>032</td><td>CJam</td><td>150128T234737Z</td><td><a href="https://codegolf.stackexchange.com/questions/45087/binary-encryption/45128#45128">Martin E</a></td></tr>
<tr d-ix="2"><td>142</td><td>Python 2</td><td>150131T035124Z</td><td><a href="https://codegolf.stackexchange.com/questions/45087/binary-encryption/45201#45201">FryAmThe</a></td></tr>
<tr d-ix="3"><td>033</td><td>Pyth</td><td>150129T224206Z</td><td><a href="https://codegolf.stackexchange.com/questions/45087/binary-encryption/45161#45161">FryAmThe</a></td></tr>
<tr d-ix="4"><td>151</td><td>Ruby</td><td>150130T000209Z</td><td><a href="https://codegolf.stackexchange.com/questions/45087/binary-encryption/45163#45163">britisht</a></td></tr>
<tr d-ix="5"><td>163</td><td>JavaScript</td><td>150129T172007Z</td><td><a href="https://codegolf.stackexchange.com/questions/45087/binary-encryption/45144#45144">edc65</a></td></tr>
<tr d-ix="6"><td>166</td><td>Matlab</td><td>150129T123132Z</td><td><a href="https://codegolf.stackexchange.com/questions/45087/binary-encryption/45136#45136">Luis Men</a></td></tr>
<tr d-ix="7"><td>164</td><td>J</td><td>150129T204342Z</td><td><a href="https://codegolf.stackexchange.com/questions/45087/binary-encryption/45156#45156">joebo</a></td></tr>
<tr d-ix="8"><td>034</td><td>CJam</td><td>150129T172014Z</td><td><a href="https://codegolf.stackexchange.com/questions/45087/binary-encryption/45145#45145">jimmy230</a></td></tr>
<tr d-ix="9"><td>192</td><td>Scala</td><td>150129T145813Z</td><td><a href="https://codegolf.stackexchange.com/questions/45087/binary-encryption/45138#45138">gilad ho</a></td></tr>
<tr d-ix="10"><td>418</td><td>C#</td><td>150129T135700Z</td><td><a href="https://codegolf.stackexchange.com/questions/45087/binary-encryption/45137#45137">Krzyszto</a></td></tr>
<tr d-ix="11"><td>179</td><td>Python 2</td><td>150128T233118Z</td><td><a href="https://codegolf.stackexchange.com/questions/45087/binary-encryption/45127#45127">KSFT</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3/" rel="nofollow noreferrer">Vyxal 3</a>, 5 bytes</h1>
<pre><code>Bf?ᴥ“
</code></pre>
<ul>
<li><code>l</code> is <code>↺</code></li>
<li><code>r</code> is <code>↻</code></li>
<li><code>f</code> is <code>e</code></li>
<li><code>u</code> is <code>⇄</code></li>
</ul>
<p>turns out, vyxal has the exact commands needed if you're a bit creative.</p>
<p><a href="https://vyxal.github.io/latest.html#H4sIAAAAAAAACqtWSssvyk0sUbIy1lHKSE1MSS1SslJS0lFKzk9JBbKc0uwfbln6qGEOUCgtP78EJp2Wk5herGQVHaujlJlXUFoCYkcruRfllxYoGCrpRCslARU9atud-qi9RSk2FiiQl1-SkZmXDpJzdAJKQkSL4HygYohQGlwoFSJQilADMywHSdsuoBDQGWWpRcWZ-XlA5xnrmesZKNUCAOzkBAHbAAAA" rel="nofollow noreferrer">Vyxal It Online!</a></p>
<pre><code>Bf?ᴥ“­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌­
Bf     # ‎⁡convert input to binary string
  ?ᴥ   # ‎⁢execute second argument as vyxal code
    “  # ‎⁣join result
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false" data-babel-preset-react="false" data-babel-preset-ts="false">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script type="vyxal3"&gt;
Bf?ᴥ“
&lt;/script&gt;
&lt;script&gt;
    args=[["b","↻e⇄"],["AB",""],["AB","↺"],["AB","↻"],["AB","e"],["AB","⇄"]]
&lt;/script&gt;
&lt;script src="https://themoonisacheese.github.io/snippeterpreter/snippet.js" type="module"/&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu1" class="pu"><h1>CJam, <s>34</s> 32 bytes</h1>

<pre><code>1l+256b2b1&gt;l{~"11W:mm%!&lt;&gt;"&gt;4%~}/
</code></pre>

<p>It uses the following characters for instructions:</p>

<pre><code>0: left rotation
1: right rotation
2: reverse
3: flip
</code></pre>

<p>The input is taking from STDIN with the word on the first line and the instruction string on the second line.</p>

<p><a href="http://cjam.aditsu.net/" rel="nofollow">Test it here.</a></p>

<h2>Explanation</h2>

<p>Getting the bit string is really just a matter of interpreting the character codes as the digits of a base-256 number (and getting its base-2 representation). The tricky thing is that the latter base conversion won't pad the result with 0s on the left. Therefore, I add a leading 1 to the initial input, and then split off that 1 again in the binary representation. As an example, if the input is <code>ab</code>, I turn that into an array <code>[1 'a 'b]</code>, interpret that as base-256 (characters are automatically converted to character codes), which is <code>90466</code> and the to base-2, which is <code>[1 0 1 1 0 0 0 0 1 0 1 1 0 0 0 1 0]</code>. Now if I just remove that leading <code>1</code> I've got the bitstream I'm looking for.</p>

<p>That's what this part of the code does:</p>

<pre><code>1l+256b2b1&gt;
</code></pre>

<p>Now I read the list of instructions and execute a block for each character in the instruction string:</p>

<pre><code>l{...}/
</code></pre>

<p>The first thing to do is to evaluate the character and actual integers<code>0</code>, <code>1</code>, <code>2</code> or <code>3</code>. Now the real golfy magic... depending on the instruction I want to run a short piece of code that implements the operation:</p>

<pre><code>Integer:  Code  Operation
0         1m&lt;   "Left rotation";
1         1m&gt;   "Right rotation";
2         W%    "Reverse";
3         :!    "Flip each bit";
</code></pre>

<p>I could store these in an array of blocks and choose the right block to run, but encoding them in a string is actually shorter:</p>

<pre><code>"11W:mm%!&lt;&gt;"&gt;4%~
</code></pre>

<p>First, I use the integer associate with the instruction to slice off the beginning of the string. So for left rotation, the string is unchanged, for right rotation the first character is discarded and so on. Then I select every fourth character from the string, starting from the first, with <code>4%</code>. Notice how the four code snippets are distributed throughout the string. Finally I just evaluate the string as code with <code>~</code>.</p>

<p>The bit string is printed automatically at the end of the program.</p>
</div>
<div id="pu2" class="pu"><h2>Python 2, 142</h2>
<pre><code>j=&quot;&quot;.join
f=lambda S,I:reduce(lambda s,i:[s[1:]+s[0],s[-1]+s[:-1],s[::-1],j([`1^int(c)`for c in s])][int(i)],I,j([bin(ord(c))[2:]for c in S]))
</code></pre>
<p>Similar to my pyth answer in approach: I build a list of all the strings and index into it based on the value of the instruction string that I iterate over using reduce.</p>
<p>Uses:</p>
<pre><code>0  -&gt;  Rotate left
1  -&gt;  Rotate right
2  -&gt;  Reverse order
3  -&gt;  Invert bits
</code></pre>
</div>
<div id="pu3" class="pu"><h2>Pyth 33</h2>
<pre><code>jku@[+eGPG+tGhG_Gms!dG)sHwsmjCk2z
</code></pre>
<p>Uses:</p>
<pre><code>0    : rotate right
1    : rotate left
2    : reverse order
3    : flip values
</code></pre>
<p><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth github</a></p>
<p><a href="https://pyth.herokuapp.com/" rel="nofollow noreferrer">Try it online here.</a></p>
<p>This is a program that takes the string as it's first argument and the string of commands as the second argument. In the online version, you should give the strings separated by a newline, like so:</p>
<pre><code>AbC
0321
</code></pre>
<p>Explanation:</p>
<pre><code>                                    : z=input() (implicit)
jk                                  : join(&quot;&quot;, ...)
  u@[                 )sHw          : reduce(select from [...] the value at int(H), input(), ...)
     +eGPG                          : [ G[-1] + G[:1],
          +tGhG                     : G[1:] + G[1],
               _G                   : G[::-1],
                 ms!dG              : map(lambda d: int(not(d)), G) ]
                          smjCk2z   : first arg = sum(map(lambda k:convert_to_base(ord(k),2),z)
</code></pre>
<p>Something I couldn't quite squeeze in: Pyth's <code>reduce</code> automatically uses <code>G</code> for the previous value, and <code>H</code> for the next value.</p>
</div>
<div id="pu4" class="pu"><h1>Ruby, 151</h1>

<pre class="lang-ruby prettyprint-override"><code>f=-&gt;i,s{s.chars.inject(i.unpack("B*")[0]){|a,c|
a.reverse! if c==?u
a.tr!"01","10" if c==?f
a&lt;&lt;a.slice!(1..-1) if c==?l
a&lt;&lt;a.slice!(0..-2) if c==?r
a}}
</code></pre>

<p>Fairly straightforward. Loops trough the characters in <code>s</code> and performs an action for any of them.</p>
</div>
<div id="pu5" class="pu"><h1>JavaScript (E6), 163 <s>167</s></h1>
<p>Fully using the input flexibility, a named function with 2 array parameters.</p>
<ul>
<li>First parameter, array of bytes corresponding to 7 bit character codes</li>
<li>Second parameter, array of bytes corresponding to ascii characters 'F','L','R','U' --&gt; 70, 76, 82, 85</li>
</ul>
<p>The function returns a character string composed of '1' and '0'</p>
<pre class="lang-js prettyprint-override"><code>F=(a,s,r='')=&gt;
  a.map(c=&gt;r+=(128|c).toString(2).slice(-7))-
  s.map(c=&gt;a=c&lt;71?a.map(c=&gt;1-c):c&lt;77?a.concat(a.shift):c&lt;83?[a.pop(),...a]:a.reverse(),a=[...r])
  ||a.join('')
</code></pre>
<p><strong>Example</strong> <code>f(&quot;b&quot;, &quot;rfu&quot;)</code> translate to <code>F([98],[82,70,85])</code>, result is <code>0111001</code></p>
<p><strong>Note</strong> using character strings is so much longer in javascript! Byte count <strong>186</strong></p>
<pre class="lang-js prettyprint-override"><code>F=(a,s,r='')=&gt;
  [for(c of a)r+=(128|c.charCodeAt()).toString(2).slice(-7)]-
  [for(c of(a=[...r],s))a=c&lt;'G'?a.map(c=&gt;1-c):c&lt;'M'?a.concat(a.shift):c&lt;'S'?[a.pop(),...a]:a.reverse()]
  ||a.join('')
</code></pre>
<p><strong>Example</strong> <code>F(&quot;b&quot;, &quot;RFU&quot;)</code>, result is <code>0111001</code> again</p>
</div>
<div id="pu6" class="pu"><h1>Matlab (166 bytes)</h1>

<p>This uses letters <code>abcd</code> instead of <code>lrfu</code> respectively.</p>

<pre><code>function D=f(B,C)
D=dec2bin(B,8)';
D=D(:);
g=@circshift;
for c=C
switch c-97
case 0
D=g(D,-1);
case 1
D=g(D,1);
case 2
D=char(97-D);
case 3
D=flipud(D);
end
end
D=D';
</code></pre>

<p>Some tricks used here to save space:</p>

<ul>
<li>Using <code>abcd</code> letters lets me subtract <code>97</code> once, and then the letters become <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>. This saves space in the <code>switch</code>-<code>case</code> clauses.</li>
<li>Defining <code>circshift</code> as a one-letter anonymous function also saves space, as it's used twice.</li>
<li>Since <code>D</code> consists of <code>'0'</code> and <code>'1'</code> characters (ASCII codes <code>48</code> and <code>49</code>),  the statement <code>D=char(97-D)</code> corresponds to inversion between <code>'0'</code> and <code>'1'</code> values. Note that this <code>97</code> has nothing to do with that referred to above.</li>
<li>Complex-conjugate transpose <code>'</code> is used instead of transpose <code>.'</code>.</li>
</ul>
</div>
<div id="pu7" class="pu"><h2>J, 164</h2>

<pre><code>([: &gt;@:}. (([: }. &gt;&amp;{.) ; &gt;@:{.@:&gt;@:{. 128!:2 &gt;@:}.)^:({.@:$@:&gt;@:{.))@:(&gt;@:((&lt;;._1 ' 1&amp;|."1 _1&amp;|."1 -. |."1') {~ 'lrfu' i. 0&amp;({::)@:]) ; ;@:([: (8$2)&amp;#: a. i. 1&amp;({::)))
</code></pre>

<p>Formatted:</p>

<pre><code>nextop=:([: }. &gt;&amp;{.)
exec=: (&gt;@:{.@:&gt;@:{.) apply"1 &gt;@:}.
times=: ({.@:$@:&gt;@:{.)
gapply=: [: &gt;@:}. (nextop ; exec)^:(times) f.

tobin=: ;@:([: (8#2)&amp;#:(a.i.1&amp;{::))
g=:'1&amp;|.';'_1&amp;|.';'-.';'|.'
tog =:  g {~ ('lrfu' i. 0&amp;{::@:])
golf=: gapply @: (&gt;@:tog;tobin)  f.
</code></pre>

<p>Example</p>

<pre><code>golf ('rfu';'b')
0 1 1 1 0 0 1 1


golf ('lruuff';'b')
0 1 1 0 0 0 1 0

(8#2)#: 98
0 1 1 0 0 0 1 0

golf ('lruuff';'AB')
0 1 0 0 0 0 0 1 0 1 0 0 0 0 1 0

tobin '';'AB'
0 1 0 0 0 0 0 1 0 1 0 0 0 0 1 0
</code></pre>
</div>
<div id="pu8" class="pu"><h1>CJam, 34 bytes</h1>
<p>Another approach in CJam.</p>
<pre><code>1l+256b2b1&gt;l_S/,1&amp;@f=_,,@f{W%~}\f=
</code></pre>
<p>The input text is on the first line and the instructions are on the second line.</p>
<p>Instructions:</p>
<pre><code>)        Rotate left.
(        Rotate right.
 (space) Flip.
~        Reverse.
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Scala - 192</h1>

<pre><code>def f(i:String,l:String)=(i.flatMap(_.toBinaryString).map(_.toInt-48)/:l){
case(b,'l')⇒b.tail:+b.head
case(b,'r')⇒b.last+:b.init
case(b,'f')⇒b.map(1-_)
case(b,'u')⇒b.reverse}.mkString
</code></pre>
</div>
<div id="pu10" class="pu"><h3>C#, 418 bytes</h3>

<pre><code>using System;using System.Collections.Generic;using System.Linq;class P{string F(string a,string o){var f=new Dictionary&lt;char,Func&lt;string,IEnumerable&lt;char&gt;&gt;&gt;{{'l',s=&gt;s.Substring(1)+s[0]},{'r',s=&gt;s[s.Length-1]+s.Substring(0,s.Length-1)},{'u',s=&gt;s.Reverse()},{'f',s=&gt;s.Select(c=&gt;(char)(97-c))}};return o.Aggregate(string.Join("",a.Select(c=&gt;Convert.ToString(c,2).PadLeft(8,'0'))),(r,c)=&gt;new string(f[c](r).ToArray()));}}
</code></pre>

<p>Formatted:</p>

<pre><code>using System;
using System.Collections.Generic;
using System.Linq;

class P
{
    string F(string a, string o)
    {
        // define string operations
        var f = new Dictionary&lt;char, Func&lt;string, IEnumerable&lt;char&gt;&gt;&gt;
        {
            {'l', s =&gt; s.Substring(1) + s[0]},
            {'r', s =&gt; s[s.Length - 1] + s.Substring(0, s.Length - 1)},
            {'u', s =&gt; s.Reverse()},
            {'f', s =&gt; s.Select(c =&gt; (char) (97 - c))}
        };
        // for each operation invoke f[?]; start from converted a
        return o.Aggregate(
            // convert each char to binary string, pad left to 8 bytes and join them
            string.Join("", a.Select(c =&gt; Convert.ToString(c, 2).PadLeft(8, '0'))),
            // invoke f[c] on result of prev operation
            (r, c) =&gt; new string(f[c](r).ToArray())
        );
    }
}
</code></pre>
</div>
<div id="pu11" class="pu"><h1>Python 2 - 179</h1>

<pre><code>b="".join([bin(ord(i))[2:]for i in input()])
for i in input():b=b[-1]+b[:-1]if i=="r"else b[1:]+b[0]if i=="l"else[str("10".find(j))for j in b]if i=="f"else b[::-1]
print"".join(b)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/45087/">45087</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




