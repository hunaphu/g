<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::251028</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>029</td><td>Haskell + hgl</td><td>240723T135106Z</td><td><a href="https://codegolf.stackexchange.com/questions/251028/cgcc-rocket-biking/274356#274356">Wheat Wi</a></td></tr>
<tr d-ix="1"><td>048</td><td>sed E  Validator</td><td>220812T162446Z</td><td><a href="https://codegolf.stackexchange.com/questions/251028/cgcc-rocket-biking/251031#251031">Jiř&#237</a></td></tr>
<tr d-ix="2"><td>088</td><td>Python 3.8  Validator</td><td>220812T172456Z</td><td><a href="https://codegolf.stackexchange.com/questions/251028/cgcc-rocket-biking/251034#251034">CursorCo</a></td></tr>
<tr d-ix="3"><td>104</td><td>Retina 0.8.2</td><td>220814T101201Z</td><td><a href="https://codegolf.stackexchange.com/questions/251028/cgcc-rocket-biking/251078#251078">Neil</a></td></tr>
<tr d-ix="4"><td>6268</td><td>Python</td><td>220813T192442Z</td><td><a href="https://codegolf.stackexchange.com/questions/251028/cgcc-rocket-biking/251061#251061">loopy wa</a></td></tr>
<tr d-ix="5"><td>045</td><td>x8664 machine code</td><td>220813T073515Z</td><td><a href="https://codegolf.stackexchange.com/questions/251028/cgcc-rocket-biking/251046#251046">m90</a></td></tr>
<tr d-ix="6"><td>124</td><td>brainfuck</td><td>220813T140251Z</td><td><a href="https://codegolf.stackexchange.com/questions/251028/cgcc-rocket-biking/251054#251054">matteo_c</a></td></tr>
<tr d-ix="7"><td>107</td><td>C++ gcc</td><td>220812T161033Z</td><td><a href="https://codegolf.stackexchange.com/questions/251028/cgcc-rocket-biking/251030#251030">matteo_c</a></td></tr>
<tr d-ix="8"><td>032</td><td>05AB1E</td><td>220812T205628Z</td><td><a href="https://codegolf.stackexchange.com/questions/251028/cgcc-rocket-biking/251037#251037">Kevin Cr</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a> + <a href="https://gitlab.com/wheatwizard/haskell-golfing-library" rel="nofollow noreferrer">hgl</a>, 29 bytes</h1>
<pre><code>on(ozW ge**)(m&lt;ce)'/''\\'&lt;pxn
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TY6xbsIwFEX3fMWVlySokdcOZmpZK9SFShhZFn4uEY6dBluizP2LLixV_6EL38HfNBDU5i5XR-c-6X1-b_RuS879LFn1MttH8obMI1mdXHxOjnZsdX6omzZ0EW9Ju9rWZDDvyCVD2U3Ms6rCU4h4p4jgoWPIwmGBKWyAEAKHxVeKtro_2WnwxUW90mRSFo1YU5nzPJcyF-3eD6vzR6Nr31-bkAGNQtF2ELBlT8ASTErFObvSHRiX1_yxlJyPUCnVb__lJYqNWfHx-OZWwy_H49C_" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<ul>
<li><code>pxn</code> get all the prefixes</li>
<li><code>ce '/'</code> count the <code>/</code>s</li>
<li><code>ce '\\'</code> count the <code>\</code>s</li>
<li><code>ozW ge</code> all the <code>\</code> counts are pairwise greater than or equal to the <code>/</code> counts.</li>
</ul>
<h1>Reflection</h1>
<ul>
<li>There should be shorthand for <code>'\\'</code> and <code>&quot;\\&quot;</code> like there is for <code>'\n'</code> and <code>&quot;\n&quot;</code>.</li>
<li>Here we are computing cumulative counts of two different characters. I could see this being useful in the future. We might as well implement a shortcut for it. It can also be implemented to be faster than the way I've done it here which is always a plus.</li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.gnu.org/software/sed/" rel="nofollow noreferrer">sed</a> <code>-E</code> - Validator, <s>82</s> <s>61</s> <s>59</s> <s>55</s> 48 bytes</h1>
<pre><code>:a
s/D(_*)U/\1/
ta
s/_U|D_//
ta
s/__//g
/./cF
cT</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZZw9rm3rUUXz0wxHgGQKMov4QYREwosoq4TMTwNsB0j0hAQJQUCPoDWcvWqMWesag9-957y91_q-qllzjpIQ__Yfv_3Hf_ivv_vFL__yF7_-73-p7q766ef6z9__7p9--av_-bO_-Puv39ZPfzR_8sc_V_95ff3u8_P8_K8_TfnD99_--av-tH7zV1-_-dv93r_zx__-zV_XVH91zfdzv6rn--nTX99_fP_l88uv5_vf__75_ec3n8_M57c9z4-fX_R-8_PD59fPF6bn-eh-43nM9y--v_b9j883Py_-_kXtE57_-fzj--X7sn3e50mfZ87na5_nls_0Uf2cpJ5jzOezvQ_4nOB5DJ96DlfPmTkT367nM89tPnceX_x8ezji54s8tnpP8dzgubyP_bzz-c9TL0_xPDOvyduf2_NsjrN_e8rE9dpKbbXqedDzSqrxPId3bh3KZ35qth9rzzmpzv7u-Vezjdgu7GGfb241thxFaX3z85A9fu1Re8s9W6feTq0c9g6jDoZ61YroEcPznf3LvqTpSK-U9ua9bY6y9gxPA57_PDfcquw9n6Nt4YbuPM99pMjVn7LR4N7H7RHqTjjbKi9a9isSe-RA2Xss8JaMB0XiTzf3p-e4e6K9ZqvsWsHOIFfVsrfa_91mzPZj1fwU3vdwp9lrbKU5GMrmgU_tOGck2nuKffTzkW2c_dgSjmXYKd6T1XZ7ogMaWc7XrDD53PNUjvto_2ngqYiLVcdYtrUr633InoHKr6IRwg7gFgr5bp2L4pSGUmnxM5w-vl5SQcVUr0d3xJ98xI5-M5B17vW8jqHj662FZUK3NlvdWlvTTZ-aMeJrqCpmqBLe4yhuCZFlMySP4rGZHTa_O1EylywqMJmpSnv2LqihhwxYp7TLcfEeiqfH0OBnaBju6lykrvBdZzA-iiu9zsVfdww0et6U-XFq-HmPUB1VDcZLlNhQVLud3h_aOtrljaC1NmSsd63o0sEhQpVcl3k4GFy8gAeZKGMtC_NL_lD-VjxmY_2QvZarFQCD559mnqHbhvNmaRGbFV3rDPfecQC0rfOBjdttwh7Zy2kafBhZrynn_cchZ81UWxfSe8iY9s_C1V_xQYA2miwkt6ky6SvCtK_hgDHBK74WK6A7OERf5nrRSJv3R9m4VXNxLWDMTi6D0abs44Tt202TnQDbK5rtUJoBzK_so21gbEDElLBUyKO1ypIB-XJrcILXntCMKJQlGjCT-4sVkpOz3liHfZqejeLdWtwWzCEqPmkEqZgY52rV5NT6ViR3dfOSKXA8bJbjdRMuGkDIW2D9q4cqBuBoLu3a6DJcMbVwzjYGNRAy8wpqr6RiMbTS8uowbwW6_57xHGMQXh4NQs8Ce6GbslIDOiD3lShT0knisczOQcPh0yNlGlh2UR027-Beh4XlZlCZdn3VdaCN64a518jA8Q6Y6Xm0gjhLag6MEvbg1Y2Qw60nE8wxEtZLQfmKbR4BU9y8YHVPXFRr-0JZFidVaipDtJNGar806IQNkoryWNgI9BtN2WU6vD3nk_R-4sqsDBgOnga14lbU4AZATgYg1cR2uPDq_PCHZFk2d9z00pWkZZa-dmGpZJHJU22fFZniCuBo84QMha3w_q0KTkrJ3qLqEh2P1V_z88SJxbfSktBF0eBF0OBdmy_9Sn7qPrxGTGTh2YjLurPUNaxDZKJwSKaEG_cMu1c1vObWkfxL8nVnrl5PYS9gWvlgObXh8Dnhg9fAgVXeCS-PO0ZfdikovsAzpjUrkhQNtnY5AH0slMCHAkWLEd468Te-jh5OO2QormWSoYDlumncsxbsw9lRwLp5sTY4bDZOMoyK89aYKRJkVB2v1iqEPolIg26Xm-iDPBlQXlx9demqQVyVI1XpC9sZWFhqs-Qvoa7uy1L1a6VgsldHgFj7HrCindOW8OeH3-yFBf2-keiA0MKCRCrEynmdg8T_Kvi3487auJNeUYroz0nNP00ear2QLZbEcmd0opOu-BBNxc9bZOgYCfA3sgwqWx0luOi00ct_IxfGfJMQA-Z6jcW7jbSJ1lZmso2BVui79es58GEXNDkluHYioKD0vMtcagdL9AApWv3nv5pFC5vYXzt_nLZVzx2iUY3q9g-boJyJm5qktM7jviN5SHgOKCXeHh_75O3mZuZwsPSSOfSU0n4n3N-yuWh9s2lKiW-MqYaH-Y7I3QEZFiRDxPzkGOBCq2VsUT_H2CUJKVukdMsXmlvZ1N3JNaJl7gkVvbvo4yqpFrPbQBjmVxf3eoMx21bceAKiNqeQ4m0XLTxpP8Vb9lqgg8SHh15QDWNuIO4cD-MasOe3mK4dy46xdy_sp_RtsUjvlWv04Ei3xInxSuE2rlGyCIDX9fK4FmHg7DPwYqCDs5ZaNAlC97H-vmHGVulQsjx1EHoNnZzXHaKNS6MOQS4YblCXuWPVVf-olfGpwXxu-3KWPg4MT7aJ0tdVtSyhFJBXkZBbAtoeKUOSLkxx9c98X40ZYpxGMO9kfeOO7cqTZdrcNWICitYkwKm5j0CHO9D6OXcj4EfQDnl0rCT8hh3GIS4iXjkWKROfHY9in0m4acFAVKbep6ahLhnllmHuxMDhMoFM5qBLBpFUR4hv2Slt4AO60tuYd9lIIFRq5jpbLFE6zjd2-_7OCIuMEkRKEaF8VA1wk-_zB4YFLXgPgjk4aTbxZrE99J9fDlblpInhnORHHKfLI3pCfGHj0tfkhqmoq_GU7DCHI4MGhMlxhxnRV1jImoA-b8WQGm6GgALC9CwM7J1JdE7GpR2oOU5ysKDOcsljeRiZ5mK89WTYkCEUTlr6CdUU6F1Oe-aJHiqr_QzhWqUoa_I94dK7mtTx_9I09asygwAFbmYAANb2uFFo8LpLeBD1Ag3c2kzA-h2v4ykhOI8ckWm8OqCQHK181UUjgWNUl0kePut3uKFDKfhWOO29sravgmMPvh7C3GHbNMLhg_S0HnMQRjuj4aeT22Xw38T-cAP8UjfXe-UFR4gMRgglyog4Ql3Uy4ipI5IKlsIreF4lv2mRprnmk6pDCk7hHP-E2kcqrc5iUBzzsrn8hZNuHmw3b7xcPkbZGD-liZeiikeH2dYOigvl_iM3r8gcLIO2PGRQN9NSDETfiGaaYjntatRamty8-TEgxOD0eut6uHyxtwH61qUwlLEn5WpTFnNy68JLhwh-rW7xH7ms7Owry3xoGi3ImECidbtLqRI-XpE6bRjwyyQgt4ZbtuzcDmwMzr9qJZXFY7MGyWLM22atXqxjunqyEjbG7Aa3aW-2bjlsYyjQjQGOn6OqSZf5WCc8KdvQybjLFg_bI5gbpyTKzFzZuIzCkfnWSkZswx4QN7SGZWxsis9lrMBEgkcQzTWI3cU7lw9tE4T8gi8M9pdRG3UhAIcR3AnaXLhYRVA-zKFk2Ap4VAWXcUQ-XiEL1hSMngZblBZi2CpVqtXW19m4zwgyQI40JBwIGEONvCjGyclvFwGzp14Iop3DvijjaJSgUWfEyOD1dp85JlbFae-IdcRKKI4oeS6k6ZdtGmG0LJGCKZS8blqBPVuPMfXNkMhKkBTBHBahx8FObG6lcdfAfX7Y1ub5v8ab-trY-NoZ-JIHvhrS6f3EFvz7B2iR8neupFN2dk2x84UkdZ2zV1uXvhF5XpIdsUKdZwU2042Q7Y2K731GtF7ARCKj3teeC0duNhQ-uDHYrB1NENZkiSu8al6ZYRaiev1iVDhI8cpHT-1Zgu8OaDK99ca8nddnWWELWWpqJn9eyHzKgYmySsh9OXO6Osd5biC0ns2r5X_irtVEYYEd3FyPd_SDTSMfElNuQAZ2nQ2huRo9TYBpME3mThrOjTm9FAoFhWWn7qxW46kdy5LELaqzn9ntkjxcN0rQdDNLUslwaGVClpaHlSojtgKVieEg1iXLtq3J3LV2rIVgLZ0BnTNch1PTW_taxUOWrK119rYJUCXc3fPshVChfzb7VagdmJMOG-9qpT4RMzc3zGbkYhCeRQp2nVzxB7bGeiZzPZgEK5eUIzwgPM8nIF6H7arYou9udyR3xSk-SHVlpWyHDjegguuuK59ecLUjH1FaZcvoSDaO1Er8Sqeml0kNH3THeJAzMe82Ak7YgTR3oaiqnYqRX18peTks9Y6zib0zgFSPGpDyeJ9Cvy2CatLH3iKsvBJBImpn3cPvGRd9tF-gzo1Bm6DPtICDUZnLna74LqpERy2z_la3wWgwI1WwkQaMxATzas9swBAFfLjZcywAnsomQVxYSXnJcyZFYq5EXVws2-EbJt1LGgUmVJocHmvJ6_F9NzqE5tmISxcuN74MAI5d4iqt75IBo2VHOldrHYMIYyTWRBrsxZz2mlpSwAFTCP9z5UkNdCSWLE0vO1aJBeuMe45QIzIs1BA9EJ2EYhlhJ32Kxr-CAtvLAzOgxDGLodVJDxnNmFFIeGL5at01HSIDyl9kt1Pc4mtgtZGeEUxK7z_m1rc5ZB_DqcWUjQ0ebk3rxgjlGJdBUfaAZECVj2bPWrvXrwrRGPL8-3bZOA5nAdluhD7ZtMpnRoksMJx-tCoZr9U1hoFSWmKFu7CPsyfJqIKDrUCK97xfC00ijluE5lKKS0WnLV-VsN2S0HDL5Ur8gzZ0hoB7dKyyFdco-caz05giZZS5EN76XvoV03NrK5ePC7glDthHvZIgKxQDHYKsMDsrK9k1qakJTmxZTerfWnoHXpX8MDM5sSUOHo4GzGjuDA189nKt4EvAsXWjMS1H5scj1hcYqLAJjjtIsNihOGDrm3pqsWeZvRxhdDNM1LEdp6HZIGy4RIVnl9O6QT2CcgOHQWpT8bIMcOUu74JVomNVpyshZAOufWJLJoUYxHQ7tnUpVQqJnKgI7vGhlqIc3jaFvFl2BHxqskC0mP_-QJtmtD9NlgrsFzFuUupVE14odyEMrFgWVg5-eQTyWE1cS6_kleMzaeWSNT4l5Y2CKcdoLAg3ACeoMI8a6S4g1QL3CVuVslu4FFxr43RjhNWNf2UDafcpLWVjKqCsM2wtPUXRJXYJlYM-WJ1wjxiF0I1DmktYXhlI-0d-Bbve6KKE2g2hBaMKzy44EpmwzNVBkKjQg8dsgS_TWil8MQedEVClzBp5XRdDO77Oe2Elp_CSruRVaym5gcHOhlC3aihcmCMz5TuRxXoxygvgijhQoLpP8bFBN0RIE5tgditzR8zyjvICmI04VjfJ8Q93jKwFW_1xGFsz7CCbgL10vnDXLhKTTAMVIXicmcEYJyOJncdp7QHgrgzKZrywPWK6W97IGujQ_OnYt8ajuxAlzNLUa3takYLQB1phgzsK6oh22moonO4Tz17dFJsfEMgUuqHXmorSlsNGVZyerapoYTZLKDMyMle6jQD13nOnPSVTZiIKrSYRJ54046VQ2shQqiKw_aa7bo1YbDKu4Q0Z-8Y89Ay67gCtLVOmqXdVysDMGmgASxTpSANXwOxYiSso_-RRuhvCXeHjdx1FCI3xTS5TrCjZvhB_0oBj7pVEQ0DkDjIkGgDRLkqZ9CVdEyiSScHi08CuEydX8eqSSbMOSPMtRG8sn5TL0FAN7WYBg7gcZOZNrQ4ix8SdV3NrNHKOuD_V6aX0NxfGNE5QbitFP5DqZvNlEDLDlF0qql-tcITbrrb-1L5EAu1rp3iP-SDq1GqlsGUxdArUIVE4qFSauGI7adO7CHrjoceadTARw0fQIwwZqySZea6xgJICV3HkqcwU2IDFUF2IkHkG-I06OPcwUCsdK1csHkcbcxtGa1uvAAJcet4WPYqYc21ClqRKVecEu3y_nYQoXsjb0ld0dRMFtrKyGEUz0bptpRtjapX70MkJtg7YZjAP8V7plsrZBdJ6K7G2NFj1pbezAn2_0h3T7JuEyejMgQult3F-LyE8vHt0FlwvOSOQqDs8-RVCxrvQJUFGoC2nwtwCdzI_oZgceG2JjI2bSAynTIwmTFF45FwMjZzGWJQXqcpoxa3mtSCWDy-Jv91xWtw8ZZgTMMFY942gDgHVlZAsee0jI2bnNmUlMgw0_YWiqmwYrv3lxcdkvAPesUENsHIyaqJtFSnPmOgkfHnKCauMQ7ECbc8wDmzgmKFlV3YSsrPsEqWTjYeHBN5tDLqdjBjJiAVTtZfrUW68dVTfvQ2bTf8mG4jGlK2ljg-q7zw8GPNuP7vohd3XbasHA1jv1J2-XBPnbuq3hzTCUlgKjFngh2l979eGaN0j7HGv9ltVv2wDwl6nI7qJjxcKGmqeYIsy4c4pIRXbhI9YjfqQs_Gm2JBesujQUgiybIkVQJtATq6b1dQ9bX87L8mUrvpypgKgRlTfjlRCDLA32NZZmlTjNKAVY9VZEsDakZGSydqWWYFcJwFC0wtnwcgCii2XBlhkjSsNSVnmigISXAiyLkcfcSRetdzKSlYn1Iub3YoWBt1wEoxYWrlEsinKrFiVyb29A2NYuDpTICJZwuMU_GZ54Zzt9i0maHT5kXeyVHRw0LnfWmlGyRwOhd-86u_OVMpfqRw2YATwWbFStdhzJmHqmXfQDfM2TnAbVlpVmyk7JCFkhz1s4adKziKFeFVjxCqlYz1liVX0Gbppu9VyCimVQup08l5ErdpAOa1zzDEU_98eht34AoYS2wsxdSDX9C0tC2snD4_tOAKdiKHtKCXvtcQ0cVqLLLdDgVfb4YTVLjdM3pWoVAJEvIWZXCX0CpLchqCexJS9Ey2uNo7eLs_h2M3gLpBjjik0sX6NeyRiysR5M4TjouNeHLNtf1dJn3XonjRMPeL8wzoiUZSz5WboidL8fQmJJBsVJWQKXvKMzIovPH9pV6U92ugn5Z5WnrEd8QH39_-r3v8B" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><strong>Explanation:</strong></p>
<p>First following transformation is applied on the input: <code>\___/ -&gt; ___</code>. This is done repeatedly, till the whole terrain is of following shape: <code>_/_/___\_\_</code> - rising from start and then falling till end.</p>
<p>Then following substrings are removed: <code>_/</code> and <code>\_</code>. Now the terrain is of flat shape <code>____</code> and it is just checked if the number of <code>_</code> is even.</p>
<h1><a href="https://www.gnu.org/software/sed/" rel="nofollow noreferrer">sed</a> <code>-E</code> - Generator, <s>115</s> <s>107</s> <s>78</s> 72 bytes</h1>
<pre><code>:a
s/D(_*)U/\1/
ta
s/D([^_]*)_/\1M/
s/_([^_]*)U/P\1/
ta
s/_/P/
s/_/M/
ta</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZZrNqi5XEYbn5zIy0URC4UwcR3By4EzOKBULQb2BxEGuJRNBFPWO9Gr8vvU-T60WQZO9e3evrq56_wry01-__-Mf_v7tF1__5ovv_vVjdXfVN5_rb3_-4U9f_-rfv_317z98X9_8fL768nP1L-vDD_n929_Nd199Oa9LH-t1YbjwuT7tTVOfzp_q4_tCzvvHj_XpY_3ia47_y39-9s_pqQ-vt069_lX9-vXDvH57Hf2-_Pp1Oj--f5p5__ph3nfU-e194_u21z2vE-r8-D6l3ufO-3_v_5-DKj-8L_Ho69J57LzjvKDO3-q8pN6PvB7sOo-8z33fnre9Sz03n6sp8lw9Hcz3zPmefh9a54um8mmTC-976nyGT-SD3zeet6Wec5nD31_7_sfw_jpnVy69T8yj5zL_qByTkru9co7aqq0lB5-_Umz3lnbO6307r6fj71Nz9nT6c9qWLu-JQw8pu7bedHFr3qmezqf16TEVOFNqPGM-RbSYSBf79P_OhXcEBTyQSlLfqR6ENDVl3sBheHgoKQPLkKcy6FNWDc1IAed0sHkacL4vZTcoSz_Gqt-vGGY8xWec4irIDVg5PgeecdKYBU4mKCXa2Z4vPy9tp-ZIJ8-EcGPhs1PMWbdtGc3yLhOrNC2syIiXoNCq-fp0GcYe0gTx-WUqxQQnuTR8dvPcnucsmiZPLXrOOQ2L4XNxQJgQ5CIdC2a-nO6n7wC2hapUvYwYhCEyofTM8noQiUYUYHcAXQLP-vIcLA1vmOo41xSUQ62wBeesJqQvZacchwoXjV2eBNC9oHj0rot5ISLIBVJbaJw0XCGlUjHdA2Uzp-AOekQtasW7tYAL7OLv0MnWDn8LVIJ4fw7dz9HWGLo208rX0NN0jx5kkI32CfRAay64mWOnCYHXWhDoH3T66j10UUcb2UIdey_vIM7wosoIFT4Ihkpij11sJmqb1bdSQyOCuf16rsK8NIjn5KNSswaDFXDzqf7RADQ1wqVd2ElAUNa5LrLiitWtiskX6BVTBKuh5m0Rg_Heuq9H92GEILY27DJaM_JzlgAodtCzAtKRYsciLsoGtdSOjqf9UCIiEr1oxSmfqSRtcEAUch9BYLSGrqtI4ceKXnDVamOTdDp1oKELwwINiwesE1MsLexCn6bxpwgyqYm3M8XcLRcwrV73MKNpMwIJTSxfrbruhPCA8sJsfgHcFE7NTiwCmlqBRDELzTXt7pshRHbaQaZAFlQSaQRytMuNol0KMhgqjw4KSIjqVQEaTZ6_h22FONYlGdPY9BlSkuqqZ5EYgbD6UarMeC2uEQyQ0iZWchfyceXJZFQbB1uAFO95vpY0CTiGgBMw4lJ81OK0zVdl2G6T0PCVyZXoB2PoJQHf0SuVLbhGyDeavYMpXEaYG8Jb3dt5regFz22Eq4fBJXGQfcQrDhKgaOgkyNrMHmUG_TXbUx0c27Kb9L-V9N7wKuQHzmzFtnjj4SjAUDMcGvLZQ7U2vmxwbNVodMsx86MR0QUItdkExR0gWOxQFNjqpppa7Fl6LyWMaoaIStuRDc0G4cBNVGh2ydYY9RiUm3C4kVpXvF5GcOVbng2rtY6gTlUCyBpce2KbTAowGNOdWPpSopQkckGFcY-H2oqSvK0L-WW7I6BTswtEG_OfN7Ruxvh3yKYC54WN65Rq1WxeKHchBKxYFgIHHx4D-UrNqpZaySvHMxllkjU6ZcobAVPSaGwIX0CcoMMcNaa7DVJt4L7AFqXsFi4Fd7SrdKOF1aV_7QbS7lNKSmxqg7LKkF5aRTEldgmRAz5YnVCPFQpDNwqpLyF5pSHlX3uJ7HqpCxIqG0IbjGrzbIIjlkmWuX0wSNSmB8tsA9-ytbbxBQ96KSBK4Rp-XdeGQl_5XkjJRXiZrsyr9tLkRgyWG4a6oKFQYUqG5WFksV6M8CJwLThAoLjf5iODbogkTWQC7tbyDpvlHeUHIDbGsbpMXv1wx9i1IN0fydiKYW9kM2AnnSfctYvErKcRFUnwKDPEGJmxjr3HKe0bgLuWKPF4w_YY093yxqwBDvWfXvlWeFQXrAQuTT22p4CUCH2D1maDWwroWOy03RA43Rc8-XRdbP4nAulCl_RKU9Hakmx0Rfakq0YLvdmEMmNG5pPuRgB677nTVgnLdERDq05ExbPDeCCUMUJKUURsv-yuu0YkNmnX5A0z9qX5pmeiawgUWaZNU8-ulIa5a6AGbKLYiTThijA7duI2lH9ylOoGcAN89K4XEYbG1U0-plhRdvsC_OsGlJlPMhoSRG4hg6MRINpFaZmepKsDLWS2YavThF0ZZ67i1WUm3XXANN-G6NjyhXJpGqKh3SzIIC4Hy3ldqzcir4jLV31rFHJKzG918VLqmwvjDs6g3HaKeQDVePP1IGCGKLtUVD9GIYXbqbb61L7EBNp3nMZ7xAdQb68ChbRF0ymiDo5CoabStSu2k9a9C6PXHnrsWW9MRPAB9BiGtFWcTD9XWIiSBq6i5KnlFLEBiaG7JEL4TODX6si5NwYqpWPnisXjpo25G0YrWw8DIrj0PCV6BDF1xSHLpEpX5wI2-T6TJFE8Im-bvhZXl1HEVlYWrWhmse5YmcboWuU-dOFEtt5gu8S8Ee_hbts5p4BbpxORpUGqr3vLFdL3w90Rzb5MmKXO3OBC6x2cz60JD-8elQXVW58xkIg7NPlhQtq7ocsEuQBtcyqZ28C9nr-muD7w2BKhjZvICk7pGI2ZgvCFc0Eacxq0KD-kaqm1ajWPBbE8vEz87Y7Txs2LDH2CTDD2PRbUm4DqthAveewjY8zeryk7sWRg6I8oKsoGcuXitY9Zem_wXhlUAGsroyfKVuHy0EQl4eEpGVZLh2IFyswQDmTgZoY2u7KT4J3llGid2Xg4ZMO7gwG3sxTDGZFguvZQPdqNto7ou29DZnd-sxuIwrRbS918UH3r4WDEu7030Qu5r7ut3jCA9E7d6ss1ce6X-vTgRkgKS4E2S_iBrc_9WhOte4Qz7mC_RfVDNkjYUTqsG_t4REFNzQrSlNncOWVIRTbJR6xGfSNno00rQ2pJokObQoBlm1gJaLMhZz93V1P3tFydB2RKVX0oUxGgxqieidSaGMFeY4uyNK5GNUQraNW7JBBrx4y0nqxs6RXAddZAGHqhLAjZBsU2l25gMWvc1uCUpa8IIIMLRtYl9QHH2quSW7uS1QXqtZtsRQmDbjhrjEhauUSyKZpZkSqdO7MjxrBw9bLAiGQLb05Bb5IXrrLdfQsGjSo_5p1dKnrjoLxPrxSj9RyKQm8e_XdnKuEvVG5sQAjIZ8VK1caeKxK6nn5HuoFvI4Nbs1KqWk8JSTYhS_bNFt5V5ixciFc1QixSeqWnbLGIvoKu26ZbspBWCaTeSd4X0avWUC7WKXM0xf_bw5AbXwApkb1NTL0hV_ctJQtpxw9vtqMEJrGCFiqt3yuJO8RpJbLcDg28yg4VVrvcwLzbohIJJOI0ZvZTNr0SSe6GIJ6MKfkmRlytHT1VnuLYzchdRI65mUIR6wfdFyK6zCrvknBcdNyLV2zba7XuE4Xu2YGJR5R_WEdMFCW33AytaIefl-BIZqOihbDgAc-FWfHA-aFdlVLaqCflnlbW2FJ8iPv5T_b-Cw" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu2" class="pu"><h1>Python 3.8 - Validator, <s>92</s> 88 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda c,d={1}:1in[d:={g+1-a*2for g in d if g for a in(f in'/_',f in'/')}for f in c][-1]
</code></pre>
<p><a href="https://tio.run/##RVDRisJADHzfr9i3tndKWH05Cv0SI6Haqy7oWkpVRPz2msmeXGm3M0lmJuzwmI6XtP4ZxvnW8Hxqz7uu9ftF1zzDqw4xbbq6eR6@w7L9WvWX0R98TL7zsVcE3iovez0KkmKRQVG90ALx@@1mGbbz/RhPvz7UzuszjDFN5a2MabhOZVVVs7CQY2L9O2EWIVYOKpwhkAioE0yQMQxiTGeEiAzChWAoePGZEWWA0p9USyazDAsg6xFCtMEOPsBmK@wsCIgd/ctB8haWiQxmK3BWgqBsAsEy/FGYjYViAYsWuwbKDpLvQKff" rel="nofollow noreferrer">Try it online!</a></p>
<h1>Python 3.8 - Generator, <s>115</s> 113 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda c,d={1:''}:[d:={g+1-a*2:d[g]+(f=='_')*'+-'[a]for g in d if g for a in(f in'/_',f in'/')}for f in c][-1][1]
</code></pre>
<p><a href="https://tio.run/##LY3RrsIgDIbv9xTcAc6l4ZybExKeBEiD4iaJZy7L1Bjjs8@WSaD8X/u3nZ7L@Tr@/k3zendhvaT/Q07iuM/uZayUb@uzda@hNV3a/djsh9iq3jmJUu9k20mfYn@dxSDKKLIoPSnmRKx6ChJQ7jch9ZtLDOIYfWeiN3F9nMvlJIxtBJ1pLuOi7qqM021RWusVA0ITINDfYAiIEIgZMWySFSJjg@yASmxkG3kQAKrkKcADkS@/Ogg2walvK6VqW91RF0CtUTN8AA" rel="nofollow noreferrer">Try it online!</a></p>
<p>Thanks to Kevin Cruijssen, Steffan, and xnor for -6 bytes.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 104 bytes</h1>
<pre><code>+`^(((?&lt;-3&gt;-|/)|(\+|\\))*)((?&lt;8-3&gt;)|((?&lt;3&gt;)))_(((?&lt;-3&gt;_|/)|(?&lt;3&gt;_|\\))*)$(?(3)^)
$1$#5$*+$#8$*-$6
[^-+]

</code></pre>
<p><a href="https://tio.run/##PY@9bgJBDIR7vwaLtHunkxUhEEUUyjxEnBtSUNBQIMp794tnFtBK/vk0Y3vvl8f19rdu6/d5Hc9zrfX0Oe2@psXbUmNcIlobGukxcbKsMreGlxSSkuKpLvVUd21uVj7KZl@GsWyOZZjKwX7mafy1dXV4WDgi3DwQnqVlyoLQHPBsIE5CDUgDagmiO9kQy4CApN2hMQnSloFOLk7gfYIeA5fDjdAzSZNITmLJeikD2BqocHVaEdLokn6ZLtHZ2g4N8l4QPa3vv9KvBfqI7v0H" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes faster test cases. Outputs nothing if there are no flat bits or the input is invalid. Explanation:</p>
<pre><code>+`
</code></pre>
<p>Repeat until all the instructions have been generated.</p>
<pre><code>^(((?&lt;-3&gt;-|/)|(\+|\\))*)
</code></pre>
<p>Start by matching either <code>-</code> or <code>/</code> (removing from capture group <code>3</code> captured in a previous iteration), or either <code>+</code> or <code>\</code> (capturing into capture group <code>3</code>), repeating as much as possible, into capture group <code>1</code>.</p>
<pre><code>((?&lt;8-3&gt;)|((?&lt;3&gt;)))
</code></pre>
<p>Either remove from capture group <code>3</code> and capture into group <code>8</code> or make another capture into capture group <code>3</code> and also capture group <code>5</code>. Then match the flat bit that we're going to create an instruction for, depending on which option was taken.</p>
<pre><code>_(((?&lt;-3&gt;_|/)|(?&lt;3&gt;_|\\))*)
</code></pre>
<p>Match <code>_</code> or <code>/</code> (still removing from capture group 3) or <code>_</code> or <code>\</code> (still capturing into capture group 3) as much as possible into capture group <code>6</code>.</p>
<pre><code>$(?(3)^)
</code></pre>
<p>The match needs to reach the end of the string and all of the captures in group 3 must eventually have been removed.</p>
<pre><code>$1$#5$*+$#8$*-$6
</code></pre>
<p>Replace the flat bit with the desired instruction, leaving the prefix and suffix unchanged.</p>
<pre><code>[^-+]

</code></pre>
<p>Remove anything that isn't an instruction.</p>
<p>Validator only for 29 bytes:</p>
<pre><code>^((?&lt;-2&gt;_|/)|(_|\\))*$(?(2)^)
</code></pre>
<p><a href="https://tio.run/##PY@xCgIxEET7fIdCIsjA1eKV/sRyo4WFjYVY5t/jzkSOQLL7mNmdfJ7f1/sxjvV2H1ut6@W8XNnRemWPaO10qGtd2tbGABElwAgUBANZlnyyECwgkQ3NRaShaNCtQEynGmEbGLR0OjwmQdryklOLE2BO8NGl5UQRRD7WJLJT2LJZ2kC1hVLAnVeENU4ykzmJY3s7PQizEPpb97/K7wX@iPP@AA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes faster test cases. Explanation: Basically just the last part of the expression from the full program above, treated as a logical match/fail result.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 62 (generator) + 68 (validator) bytes</h1>
<h2>-1 @Steffan</h2>
<pre>(
lambda s:((l:=len(s)//2)-(c:=s.count)(&quot;A&quot;))*&quot;+&quot;+(l-c(&quot;?&quot;))*&quot;-&quot;
,
lambda s,i=1:[min(i:=i+ord(c)%z-1for c in&quot;?&quot;+s)for z in(7,9)]==[0,i]
)</pre>
<p><a href="https://ato.pxeger.com/run?1=7ZxBjlzZcUXntYoCAQFValIhCTZkESAMj-xB76CjEWi32DYBimywKQOW4QV4DZ5oYu_Ai7HnnmgVrsw4576kZMFTD5iSyMqs_P-_F-_GvScAQv_679__48e_f__ud__xd6_fvf7wzcf3H57_wzdv3_zq8tOr_rfffPzuxV_857883L395td_-6tv7n94-fDw9uWrt6_fPfzwWPXzxxcP37589cNPvn3_m3cfHx-e_dWzx8cfP_vi2RcPb198-_DsL69vXzy7e54bPH_z6mcvv_r1m3cPb16-evPF-w-_evj28Ue_ffGz795_uP_2_s27p4u--OHx8u63T-8efvH8l49fv3r11U-fv_n67pEF_f7LV199fXf5ztun79y___5pPT99fHl3_-a7-7c_-eHjhzffPzy-_PKLV2-f392_fvv06ZdPv7x_f__q_rL0Lx9_9POnt2-e3n751U-_9oKffPzwzbsf3n7z8fXDP_3yz18--5tnz3_585dPe3r-Z794-bSsf368XPTd_bv3H-_fv7x__-rLr352Lv7w-vu333z7-uHZX1vJl_fPnj97drno-w9v3n18SGEf3jw-__Htux8_pPxP7169ev_88XLZZZe749_9V_93TfXdXdd0191d9XQ9_Xx39_T300-Xj58-namnd7O_uXx2-dpcPu65vr180Hvx5c3l4-sV03P96l5xvc_TB0-XPf1xufLy9KcPau9w_c_lj8vz93F7w8utLjedy3WXG5c39V59XUpd1zGX7_be4LKE62341nV1dV00i-Lqun7nup3LtscHX68e1ni5kNtW7yquW7ju3ttennl9XSvmKq73zGPy9Ov2uTfL2Z-udWJ7bam2XHW90fWRVON6H565dSjveanZfq1d56Q6-9n1V7Mnscewi71eudXYchSl9cnXm-zya5faW-7ZOvWe1Oph9zAKYahXrYquarhesz_sQ5oT6dXS7rz3mCOtXcP1AK6v6w63KrvP69K2cMPpXO971SJbv5aNA-693S6hzgpnj8qNlucViV3lQNl7LPCWjBtF49fT3HfX5e6KdputsmsFO4NcVcvuav-7hzF7Hqvma-F9Dnua3cZWmoWhbG54rR3rjER7V7G3vn5lD87z2BKOZdg23pXVnvZEBxxk2V-zwuR717uy3Kv2rwd4VMTGquMse7Qr673JroHKr6IRwjbgFgr5bp2L4pSGUjnia3N6-7qRCiqmej36I_7kLbb1m4as417Xx9F0XN5aWDp0a7PVrbU17fRaM1p8HVXFDFXCe2zFLSGybJrkqnhsZpvNaydKZpNFBSY9VTme3Qtq6CEE1ik95bh4D8XTYzjga9PQ3NXZSJ3Cdx2D8VZs6WZd_LhtoNHzpPSPXcP7XUJ1VDUYL1HigaLaPel909bRU94IWmtDxnrXii4nOGSokusyEAeDixdwIxNlrGVhfskfyt-Kx2ysT8LXcrUCoPH828wzdNt03iwtYrOia53hPHdsAG3r-MDG7R7CLtnNaRp8GVmvKef5h0SONVNtXUjvIWPavwtXv4kPArTRZCG5TZXJuSJMzzUcMCZ4xddiBZwODtEnc91opM3zo2zcqtm4FjBmJ5vBaFP2scP26abJdoDHK5ttU5oB9K_so21gbEDElLBUyKO1yhICubg1OMFrV2hGFMoSDejJ_WCFZOesN9bBPk3Pg-LZWtwWzCYqvmkEqZgY52rV5NT6ViRn6-YlXWB7eFi21-lw0QBE3gLrXz1UMQDH4XJcG12GK6YWztmDQQ2EzNwEtVtSsRhaaXl1MG8Fur-nPccYhJdHg9CzwF7opqzUgA7IfSVKl3SSeCyzfdBw-PRImQaWp6gOm2ewr4OF5WRQ6XZ91XGgjeuGudfIwPEOmOl5HAVxltQcGCXswaMbIYdbj0wwx0hYLwXlK7Z5CJji5gGre-KiWtsXyjI5qVJTGaKdHKT2ywEdYYOkojwWNgL9RlNmmQ5vz_FJzn7iyowMGA6eBrXiVtTgNICcDECqiT3hwqvz5g_JsjzccdLLqSQtM_S1A0sli0yeas9ZkSmuAI42T8hQ2Arvn1HBTinZW1RdouO2-mveT5xYfCstCV0UB7wIGrxr86Vvkp-6D48RExl4NuIy7ix1DeMQmSgckinhxl3DzlUNrzl1JP-SfN3pq5u7MBfQrXyx7Npw-Bzhg9fAgVXeDi-XO0ZfZikovsAzujUjkhQNtnbZAH1YKIEPBYoWI7x14m98HGc4bZOhuJZJhgKW46Zxz1iwN2dGAevmhrXBYbNxkmFUnKfGTJEgrWp7tVYh9ElEGnQ73EQf5MmA8uLqzSmdahBXZUtVzoXpDCwstVnyl1BX52Kp-makoLNXR4BY-xywou3TlvDnk092w4J-n5bogNDCgkQqxMp5nYXE_yr4t-3O2LidXlGK6M9KzT9NHmo9IVsMieXMaEcnXfEhDhU_b5GhYyTA38gyqGx1lODipI1e_he50OabhBgw22ss3mmkTbS2MpNpDLRC361fzwEfZkGTU4JrOwIKypl3mUttY4keIEWr__xPs2hhE_tr-4_Vtuo5i2hUo7r9y0NQzsRNTVJa53HekTwkPBuUEu8ZH_bJ083N9OFg6SVz6Cml_U64v2Vz0fr0piklvtGmGh7mOyJ3B2QYkAwR85NlgAutlrFF_RxjlySkbJHSKV9obmVTZ0-OES1zT6jo9hS9XSXVYnYbCEP_6uJubzBmjxU3noCoh1NI8UwXLTxpP8VTdlugg8SHh56gGtrcQNw-Hto1YM-nmK4nlhlj917YT-nbYpHeK9fowZFuiRPjlsJtbKNkEQCv68bjWoSBs4-BFw0dnLXUokkQug_r7xNmPCodSpanDkKvoZP1OkO0cWnUIcgFww3qMnesuuoftTLeNZjPbm-cpQ8HhifbROlzqmpZQikgryIhpwS0PVKGJF2Y4uqf_j41polxGsG8k_WNO7YjT4Zpc9eICShakwCn5j4CHe7A0c9xNwJ-BO2QR8dKwm_YYRziRMRNjkXKxGfHo5hnEm5aMBCVrveuOVCHjHLKMHdi4HCZQCZzcEoGkVRHiG_ZKW3gA7rS2-h32UggVGrmOlMsUTr2N3Z7e80Ii7QSREoRoXxUDXCT7_MHhgUtuA-COThpNvFksT30nw8Hq7LTxHBW8imOc8ojekJ8YePS1-SGqair8ZTMMAdHBg0Ik-MMM6KvsJAxAX2eEUNqOD0EFBCmx8LA3plE56Rd2oaaw0k2FtRZDnkMDyPTnBhvPRk2pAmFk5Z-QjUFepfdnn7iDJXVfodwrVKUNblOuHSvJnX8vzRN_arMIECBnRkAgLVn3Cg0eN0lPIh6gQZ2bSZg_bbX4SkhOLcckWncOqCQHK1c6qCRwDGqyyQPn_VtuKFDKfiMcNp7ZWxfBccefDyEuc22aYTDB-k5esxBGO20ht9ObpfBfzr2kx3gl7q53isv2EJkMEIoUUbEEeqiXlpMHZFUsBRewf0q-c0RaZprPqk6pGAXzuGfUPtIpdUZDIplnmwuP7DTzYM9zdNeDh-jbIyf0sRLUcWjw2xrB8WGsv-Rm1dkNpZBWy4yqJtuKRqiT4umm2I57WjUWprcvPkxIMTg9Hrrerh8sbsB-talMJTxTMrRpizmZNeFlw4RfDO6xX_ksvJkb7LMm-agBRkTSLRuZylVwtcrUucYBvwyCcitYZctO7cNG4PzR62kMnhs1iBZjHmPWasX6-iunoyEjTE7wW3am61bDo8xFOjEAMfPoarJKfO1TnhStuEk4y5bPGyPYG6ckigzc2XjMgpH5lsrGbENe0Dc0BqWsbEpPpexAhMJHkE0xyBmF_dc3rRNEPILvjDYb4zaqAsB2IzgTtDmhItVBOXDHEqGqYBbVXAZR-TrFbJgTMHoOWCL0kIMU6VKtdr6OhP3MYI0kC0NCQcCxlAjL4p2svPbQcDsqRsE0c5hX5RxaJSgUWfEyOD1nj59TKyK0-4R64iVUBxR8riQpl8e0wijZYkUTKHkddMK7Hn0GFOfHhJZCZIimMMinHGwE5tbaZxt4D6fTGtz-Xd3d5d_lDd1d_MvAb94cfmne5ev33764sXlm7vaT799-TpQ9OmvXuyvmrP6o-uuv4c9OcxOgfTdzuQqxN4ATh0dePJb5T4N94fP_V9fL_7U6_JvBp1WK_x7TElZOZsyR3L2G8gj5C_qItax8zYoimxoZiW-uIHcDEBNJNdknCxcc27Sy1Sm_3SusdeAm5ukdtWuJYOEVhG6aF06T-fxGZuYh5bfGg-aG3g_GobOMtRIoFlzFDGHOJ2FkA0zYDuJELytngoz7oDvpo0mFIAbSZXAdBYTHeoYInqt0V1FqQYYpf_k8hzD4SzFU5FlKa47Q964ag2inAksqi4UF-mSgRx8SuR1RkxmSpNoZcK4lofhLu25ApXOITIGN8u2R5OebYNBM8PkOs09x_ptbO13jXQVD-MyQNcx2s2iKjHz3M-zEG908mbSy_wAVsqpjYu2Up-ImZ0bqzMSOsMEIx0UPdniJ5SPbU36ejAJhj95S4xBeK5PVD0n7KkKUCbAno4zhOIUZOTLslIehw43QIuDt8OnXnBqR1KjtMq805FsHKmV-Cmdml46NgbRHe1B4sX420Q5wg4uOpVFVW1XjCR9k9eHCOTvsTexdxqQ6lEDeAPvU-hnnqGanGNvEVZeiS9huTN44ve0iz7aNyMDOwayAmHTohZGJSF0TsVnUSVO1DLrb3VmKQ1m5Btm4yCawGJe7ZoNGKKALzcTlwXAU5lpiAsrKbm5zqRIzJWoi4tlTr3FWiekRoEJlSaHx1ryeHzf2RKhuTbi0tHP2TMNgGOX4MzRd0mj0bItna21jkGE0RJrIg2AY067TS0p4IApZBJhy5Ma6EiMe5pepr0SC9YZdx3hV2RYqCF6IDoJxTLCjvQpGr-CR9vNAzOgxGEWQ6uTHvKdMaOQ8MTy0bprTogMKD_IlKm4BelgcyM9I5iU3j_mDJJzhocxnFpM2djg5ta0ThuhHOMyGMtEkgyo8tZMfGv3-lUhGkOe37djz5kIGIX2NEKfzHzlPaNERilWP1qVjNfqGsNAKS2xwl3Yx7EnyaiCg61AiufcPhaaRBxnJJuTUmwqOm35qoTtloSGXS5X4h8cQ6cJ2EfHKltxjZJvPDsHU6SMMhfCW9_LecX0nB_LweUE3BIH7KNeSZAVioEOQVaYneGZ7JrU1AQntqwm9W8tvQOvSn7omazYEgcPRwOmNbeHBj67ca3gS8CxdaMxLUfmxyPWF2iosAmOO0iwmKFYYOubemoxZ5m9LGF0M0zUth27oZkgPHCJCs8uu3WDegTlBg6D1KbiyTLAlb3cFqwSHas6XQkhG3DtHVsyKcQgpntiW5dSpZDIERXBPd7UUpTN26aQO8uMgE9NBogW82-_0KYZx59Dlgo8L2LcpNSrJrxQzkIYWDEsrBy8eATyWE1cS6_kkeM9Ocola3xKyhsFU7bRWBB2AE5QYW410l1AqgXuI2xVymzhUHCONk43Rlid9q9MIO08paVsTAWUdYatpasoTolZQuWgD0Yn3CNGIXTjkOYSllcG0v6Vj2DX07oooXZCaMGowrMLjkQmLHPqIEhU6MFltsCXbq0UvuiDTguoUnqNvK4TQ9u-9nthJUfhJV3Jq9ZScgOD7Q2hbtVQuDBLpsu3I4vxYpQXwBVxoEB1n-Jjg06IkCY2Qe9W-o6Y5RnlBjAbcaxOJ8c_nDEyFmz1x2ZszbCDbAL20vnCXTtITDINVITgcWYaY-yMJHZup7UHgLvSKJvxwvaI6U55I2ugQ_OnY98aj-5ClNBLUzfT04oUhD6gFTY4S0Ed0U5bDYXTfcSzWzfF5hMEMoVO02tNRWnLZqMqds9WVbQwmyWUGRmZLZ2JAPWe-067SrrMRBRaTSJWPDmMG4VyjDSlKgLbT3fXGSMWm4xreEPGPm0eegZdt4HWlinT1G1VysDMGGgASxQ5kQaugNmxEqeg_MmtdDeEu8LH7zqKEBrjm2ymGFEyfSH-pAHL3C2JhoDIWciQaABEOyil05d0TaBIJgWLTwO7dpxcxaNLJs04IM23EL2xfKRchoZqaCcLGMThID1vanUQOSZuv5pbo5GzxH1XRy-lvzkw5uAE5bZSnAdS3Ww-GYTMMGWHiuqbo7CF21Nt_al9iATa5zjFe8wHUadWK4Uti6FToA6JwkKl0sQV00mb3kXQGw891qyDiRg-gh5hyFglycxzjQWUFLiKJU-lp8AGLIbqQoT0M8Bv1MG5BwO10rFyxeBxaGPOhNHa1k0AAS49txY9iph1bUKWpEpV5wh2-X5PEqK4Qd6WvqKr01FgKyOLUTQTrXusnMaYWuU8dOQEWwds05gH8W7SLZXzFEjrrcTa0mDVJ73tFej7Jt0xzT6dMGmdOeBC6T04r0sID88enQXXS84IJOoOT74JIeNd6JIgI9CWU2FugTuZn1BMDtxMibSNk0gMp0yMJkxReORcNI2cRluUG6lKa8Wt5mZALG9eEn8747S4eZRhTsAEY903gjoEVKeEZMnNPDJidnZTViLNwKHfoKgqG5prPzzxMWnvgHdsUAOsrIyaaFtFytMmOgkXT9lhlXYoRqA9M4wDGzjM0LIrMwnZWZ4SpZONh5sE3j0YdDtpMZIRC6ZqN65HufHWUX3nadhszm8ygWhMmVrq8EH1WQ83xrzb7y56Yfd1ptUDA1jv1Fl9OSbO2alXD2mEpTAUGLPAD916O18bonVu4Rn3ar9V9Y1tQNjrdEQ38XGDgoaaK9iiTLhzSkjFNuEjRqM-yNl4U2xIL1l0aCkEWbbECqBNICfbzWjqnLafzo1kSle9caYCoEZU3xOphBhgb7CtszSpxmpAK9qqMySAtSMjJZO1LbMCuU4ChEMvnAUjCyi2XBpgkTVOaUjKMlcUkOBCkHXZ-ogj8arlVkayOkI9cbNT0cKgE06CEUsrh0gmRZkVqzK59-zAGAauTheISJbwcAp-s7xwnO3MW3TQ6PIj72So6OCgfb-10oySOSwKv7mpvzNTKX-lcrABI4DPipGqxZ5jEqaeeQfd0G9jB7dhpVW1mbJNEkK22cMWfqvkLFKIRzVGrFI61lOWWEUfQzdtt1p2IaVSSJ2TPA-iVm2gHK2zzDEU_2gOw258AE2J7YWYOpBr-paWhbWTh4ftWAInEUPbVkrea4k5xGktspwOBV5thxVWO9zQeadEpRIg4i3MZCuhV5DkTAjqSUzZPXHE1cbRrcuzOGYzuAvkmMMUmljftHskYsrEedOE46DjXByzbT-rpM86dE8OTD3i_MM4IlGUveVk6Ipy-PsQEkk2KkpIF9zIMzIrLrj-0I5Ku7TRT8o5rVxj2-ID7v_f_5ju8-vz6_Pr8-vz6_Pr__PrT_6j78-vz6_Pr8-vz6_Prz_1urvb_7vz_wE" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes &quot;AH?&quot; for &quot;\_/&quot; to save a few bytes</p>
</div>
<div id="pu5" class="pu"><h1>x86-64 machine code, 45 bytes (validator and generator)</h1>
<pre><code>31 D2 6A 01 59 AC 88 C4 B0 2B 9E 7B 13 73 07 FF CA 79 05 AA FF C2 FF C2 9E 75 03 83 C1 02 E2 E5 D1 E9 B0 2D F3 AA 88 0F 19 CA 19 C0 C3
</code></pre>
<p><a href="https://tio.run/##ZZzRb5zXccWfuX/FVoURKpYzcdL4wa770CAB8lAgSFGgqCcYUCRlMaBIQkulco3861V2vzu/c2adIJbE5e733e/euTNnzjl3r5@evvj@@vrTp6vDu/3l/k8vLne/@P7@8fXV/f7N7s3Xu4uPj@/3tzcfX53@2F08fTi83X/5zf7p8Wn//vrj7v3t0@3V8/Ft9483h9e7i3ePf91fvX21v7rvf9@/2v/s85/tLg5Xb9/sLv7y8LS/eXy4Pf3rev/uw@G5rq6vb49vvrm9Xnf4y8Nhf7i9fny4qaer98/HTz4/nq5897De4A997RfHB772vf5v3eF46dMdrm5u9rfXxwf51c4vbyM/Pcv2HLvT2E4XePt@vfXL8RRfHJ/i@LZ9j@f0@nfvb@7@/Gp/fbz64fXrnqbjrKyfrk4/XX08fep59/LF/uU3u9uPz7fvH/Yvfvti/@Pdw/P@zeX126v3@5@/vz18uH8@Xunx4fC8X68dXn7zt93un4@PeP/h5nb/r4fnm7vHX7z9t7OX3t89fH96bbc@ebrmv//X73//uz/95x/@53f7b/df/eY3v/7qm93u9It3V3cPly93P@4uthvcPTx9eP7O7z4@yBrGfO2b3cX/vr27v91fHq6vHt5cvvjs8OLV@ujL/bff7r98ubu4uHuzv3xzyTOsX55ev3g6Du/5@KE/Ph4Od6/vb7/ef3bIhxfc6DghFxe394fb7b0fng@XL/7w7qnf@@L0Wy6QD/9xdf327uH2OEM3t19vvzs90sfjI/7y1f6H4483j/sfefv@s1/@6r@Pt/nh28vLDw@Hu@8fbm@2Wf35yzcvv/v4@ed/Ps7tvh/sh/0/HS/y8be/njfcX352t3/9w/Pt4eU24I/HX/7t06fKil1U5C7z@M/YZVTm6a88/mp3@jOOr@yOL9bxXXH8x/HP00unTxzfsv18vMLxs8ePbu89Xen0m9Pvdqd3ni5Sp7cc73D68fRCrkuffji9vH26ThdMPrFds7bbni4W20VO74h1hVq3P42kTsOL7Zbb23Mb1XbVdZftqtsQtivV9vlY/zi91B/VQ5w@vz3FNqjt3rtaj7cGfXrfaeBrXmKbpDVwxrsNaA1gzVKuC2wX355/vWubgdgmph@8Px25BnG68hrSuvH26ep5OH2wLxu5RrFN0zbDXHZ7xLUetb24ViPmbXT3bYr72j2c9a/oWYo1eWs51pLEms3sRcv1f@655iG45mnO1tuScZZmZ722/arWaq@lXoPdPrlmY01H9NRy5@0ia/hBKKzhrXnKtVIr5tYzFMFWPV@xInVb9e0z6x/rJtkrkite15PnWmaF7xrDtgDb/7YnXLOynnMb2pq46tVZ2y@qA2BNYPQC57rcGkJ4hCs4kwcN1kshtoVDT3sWE7ymrC@kfbSt5vppG@4a0XrMJLJjBWxVhyvRsp4qenNF9G5aM7FGEdynn6nWY6yZ7oF1ZPcFt7nrcSpEc41iXXp7y1o41mNNYTENK1WskfWGL8VBL2Swv2oFJolhu0rnruzskI6ifrBIZa@1tBmEVIcfM78iugNhbcA1UR2@a56jJydIKKEl3jYnl48RKh3FPXsr021j6u3fl1hbP3tDhrPXSpXrcv3xJIVph665WbMbK62Rsrc56y2@sjYRUz1LnXvYimsKOyyzN8kW8Z1m1mbjs6VI7oeMnoGKkVmDrN/7foVBF5qVKVllZfFUOWA3rNFtm6Y3d6QeJDzxGU4wXKofaYyr/7m2AYm@76T9w67pn9cQIhVVFLYuJTU2UM9dUbWYR1Z5laCV2jqMyV0r6LSC1XWakMug6FYnOOWCUMXMDqlM7YpOcyv9relPgofaGGcFnulKAqA3Hn9T8yi6CQJYtVQFX3FNZvB9q7wLswvrXJnOw2vIPBxJo9/cYb2Ssu5v0ODU3LNNFiL3dI1J/o7O6qN8dAFNIEqHXMMXrWsHJusqHFCCO8prSgW9Op0h0jWXB1Vo9/0V2Z2tsh@cFFDUzn6YTrSa9mKHrbtTTdYOYHnBf2tTUgN6/4J9SBud2BpEVACWosMjSZUB0OwPJwkO4LVGKADbkQU06D25XoiGkR23wd4m1jrpsVB9b1LcmjA2UfQ7KUFEjBLnilUqJ6lvBYkfnXrZu4DtwWKxvbzDgQYNw9cEk78aOqcBXC9uL9cqXRTXTmrCOQ2PozEMEFeFmkciYjuhBSkvDPNWgBqRr321VqXxcpEgyFkNexvdBDNVDR063FeI9i5JVeJimtkH2Ti8skCZpXTY4KLYix1TFcQfaKI7g9BuJ6/SDiTlOhtzB60GZYkCAShbKb5UIb0CNbBH3zo7kIVbHSadHBXC5NKG8qG0aQRMC8QNVtx3uYgk7QPK1J0RpVTlRrSlhayBCjvvsjwJ3uo1aRzJVssYvUwKb5fzZK99KSt3y9AJp3Nao9bOVrQz2gDg5AaQxMRa4ehcrR9@iiyDxS06Pa2KqqWavqRhCdUiKk8k60yQEVwCOKT5LjI9sWqoyq0CO0XY2632Km5FslNCdfvdgJhSQeoSVAcVdjUW1KluqKn8Pe/d0akF6oYnustQW0dhH51nqkZSGxOo1XHEvk8QRqr@qfJ1H19xdhV18gEUolNtYJfchMBveN3goAaVoZa8s1rMXqpRfGSpxgnBh1F0w9buFbsN6qGq4DcKBFoU4C1V/orb9RpWssk64hJMUj2BQbtJuaft7Pa9Ghl32yys3XA43Lp2DYPAKHqfrDLb01uV7ZWkCkBfCXKZ/KH4dClKmp6uLgW7kmWmZM0GLTdbKrQu3Z01LAxiM8BfJcyuD6vHdUvRO7vbeqgYorqI80ht@ZES1QNxR56ExxEQatIK3N4gFpyXGojyXwj@FbwA2D46l5aKOqSO6p86b/pyimx0kxj0jOxoVdfOQ72onc8TyJBKJA3@CizTUdaUF4WrV5rS2/8pXHqbN19UWtguQAVxoFoP7wVZ0KA8MtUCiSzq4dOZd9cSYTLC/FijIK15BnVJTTHQI@glOv71H8kCLoj0R2cqUpLo8SCyo4bo5i8WgXDuchPinZR56HdAHmmajTcapBv76O7UTe1Dda1gjhKGDyaZapNgc6C192aIfSZ59FagbNKn9TIKyEBx9ixSP@GPI3zLpNSZ5ygzFq7ugpR0@eo0CZvwM9FGJJi7hIrmKnI5k4FKdjTyomhLpBVlNEwvdjYWI6/FadprdBcJeBIF03dpvq8DVBCnqs7pnrX8FMRMsljRlNMklFvp0BVKHQHtcYi3ESwi94JryMEK3QBOFI@UgwGgM0sAAhuEHAdfD852Ag/3qw0YzDMUdZ8YBetLSMhwX2tiOXseAL0UHTMWkMKUS0odZHMwqADkNjEMGtWsq8539mvCxZQSyFg4UHgS9QSVoMqxDEJBNQmFEF1CxzbIVEg66McLwoqk3ANJsQZp/ka1PlO0FPWLfrfrLiVGQFEctos6dV1Uo/vu/KngwCcDSjBjcE8p/NbpUBnCJWLUMYXyoH4lSTHSDhqQPq0LuSUBvAGHTecBY04rCH7u8tKADMwBY9mFCFSHPBHMQUgKgm/PIZOoWemFmqFGXQ9zi@aexUrPzxRgEQqzGmWEMlPnXrJap/qqnyQseNt@jpJAJqIc0h1@W6QPzQ2TralQ8ktYgjyH45IDED@z0VIOZk6tEx0YbF10w5CUK@BIdQyE2OMUTUPXEwglUDDaWVKrSpCyNS26NlHc3SMBpSidpe2CiuFO0RurhqpWQ@kA07iMIyVBEcHCFTR@ox@znUlXbx0MTOpQ5u0QSkE/vSItaDaLNZEaSH/dql7LPJaYSqVI06gCAK/a400LvaQnwINo43JWKqHTVJtN2heeAgTrkoiYRXuK4qs6GvoojYYKDqU6SmlHOWgUN6t2kLQJXpTUEcqvNdKDCL@EZoZbjs7wgvQByQV@QiWi2UyUbPHSRQJgx549wdDKuhWC1ka/TSQ1b07pm1IDLRBIkjJb5rZPxO24Xqh@w7vQkla6OYNe1i60PBBC7QUqbfqB3Uc55cGoN73TqQeSaE1yC8GVGwMRmhbcnaOF2QoPQ4HLU01LmN6Lc84WWljMR2q3IAumt6h2U05dIyTep1pNWE3Js4nDIeC5/Muf8smN9hgc@q@FKLs1OrLFbMhCUuKOoLLNTaIEx6CG0j04KmCGZF/YQ3optfBlksE6qnhW1oa61RwWiU38uFwq1E9RtV2Do8wDlHTPbvkH@5riohoRmBaA@3MQgyhy6EW@aTPrMSXbFIfIKifOlsGmUHaG5o1MJkJ3aIOSWqm5YGOLRdKNm1MWLTZJFgn1SC24kkJelgiRA4MppvBI35CuQhkmSlJyebhrC1XLMP0VRgBsRqwdZAsXF2axobwwByETUvnCcDDVw/XbpW8NmiVgVL1BYT0TSj7tfkKZPRPO0vRUUxh2XEAGlPgTKkW6LWfnT2l7kCxuP3PwbSFS3Rm21B9juTAJG8DqkD@DLkTPiI0ozIiFuKypauVAG@o4EbLkuBiuElxXEYPS5@NkGhKjwE@4TVP7ahNIGQanNEE/Bnzr7Nbq5AkctKt6d@045qxUqVCL0N@lVnUrLfmNsKosAZBI99SlsGlpOaR@hlRgtFoJ8mnhG8DNtsTLEdgWYmRt2TIQggflNEtnSqji7jLZQdEXbRoQUbZDk1ih2hxSOEOQWWNWjizDKYB@iurIMj3aidFCWkxuUusi9sHohN5VbU8YEQ3WJ2hc3V6ncEJbAqQgqeiUdxNaj7xZ4s7kEwRNkkBgLlHre1LF0MjXJo8UqD7UVIXAj6xPLvAiwas0PbBvohjMKmoVuyvWtKXsFb532OUnclPgyDYhQQ1yC9Jwl@JCxxgykE1SZw2obEeFT64XPNXipsFxYyZJXDKgqpE30saApdARf0moslW9I@ocwtIGmgbOlGVHBuDp38AyotSmXaqmh0Q5CFVpHDEqd6mXKzMLqUEXIUjPa19RzCbNjIusCMPbBZhPhexoGZ1I1RQKwJRzfMoVQA8e1ul5b47Adgs4wYSMx2akalCfMcpdlSlB8VlJ9WX2arhyhh2XKDojuaskqeJHQNwNoqKJNyvDQY5J8mgOPIxUhDETRV0NpO2voS6UHXTOA/ZyDwOLVfyQx1PKX8rYBf6ItOlXXY4KDHxETHlNEyBebrJ6zCSwRBqWvCIk10BHMeiQfi/MBvyXvy4GqQmgkaCFnFYmnWraVkK9X9Cam2a3GJai1uz7jjRlIVqK8wBs7ZDSoC0h8lGeX5MSGIsADsOcLiAwDALOSN3LkPTUymBHkCmh4NNHGDbfWoqHLp32YgojStaUhZ10CmqKkGgTojWt1oRamuaJLZIAW5T0I7h1ykgqCy1mLOkh@ECA@OxbZXBJHZgyw/KFu6QyMoYdLLE@EKqkBTKJWQPJmDHmE7itGiDPX2dYDkt0vhrqhE4UELTYYnNQ55D5oE8ZEiC3XbvKDYsPJciFQFxHzUgRgyO/Y4xN1NPS4KLEpUCX5j/cVpYRc5chi2oMM3IoTqGHZJJEFKJFo4Eomc2mzq@@P5UqkSXTlK88BrYR44EpyQPUnrDRfCQ9mqNQPxbu6SPkzbEb9KylliWQAiIOxu58dfelCi5CoVy1OARg0BpycZXEugpb6IXP5NyXN3fyfnmetQRfBBzFrOg4Sw1JRC1GqnsVoBzux4TCYIDD@O2TJyExfbhRw8InEkTI8DJIEExFwxytOCtzGHaYTlO12y7XMjEN7Ebzt3a3oi2HnJwJfkwd/kl10FC52AxKh0eEz5U6wkFVIuJzOsuGl0cSmAwUovvFyo1ue1LSOoJk9jLTMgOEakoPPDtFUraMSw8qKAWZEitCRzfweroZrnO1ivhE0IJTYjVkyMRqKa@EjtXhkEH3AE4MyQ8FR5uiJOClUKKYlPABCZGs6ApkOthvJFMShQ7IyWZX6vtCQJnM4LNbKa5JGpS1r/TBMBmFSBSA7oQpwTOaZXGVuqSX8ICn/ZRQOLJnR9hLI58zp1PU5uFtxCQCemCYJo/kBtTEw5Nn2b/VTB6kYQngsTdDx7pCZ9oc4aJ8wgzCKNZlRgSyXbbJwa7oNKOYdcm1OvsG4FJwZOYgdMrKdslcImOmGpjeu6F9ZzULjBXiNw3Hwjt5cNWcInU/iSgE8TJ8aqlzYKBz/AQ6bXRWbUXoJ4cgSyYua0MhhcxQVAB4kBU@VhUpdVj931CjyghY0MFaX@owGrwyZOHonuxwr1F8Q9jAQ9HZvtASldF0YTtEUpU3VpqKfbW9l7TpSU3RU4uABMRn90hBCx/QkxU@TIOXbP0Sj8KFH4lGfhh7KMZBJGvbarzldIajE@8vgCmTanh3h9uIlC3X0n2Csb3NhZ4l40FiSAKGQaOSWqCTkifupsQskawg1tNckSdUnItc/yFZu3QWtWL6sACNypsw7Lb995tL@a/SOCHExMa5xSeGbYMDNmGyjJ1ew@yRDhlNmHnHsl6v4/EcC5ZnUnIVrV5Z4atSXURMG2B6dNpQUhlu9iWegG@oHrLx6VwQtgOlXZES4XjR@Y1ysz39VXAHJWyDRgZnlvJYzaMBgq9nbisfl5pHI21kEEpOL@ewO0Kxe@ekhY4YRJKPSpSMjz7@WGesmuzx8mBQHmh8dPZHjxg6Ba0z2xJEU14HtQtASXv51R@mtFi1sRjWEEHORBdsMhLTDAPllbT/SNS69Fd1GD4J6gIkF89M0TqGDJEiFUAOFjG8mF/Th5QkeGfa6FB2P4pgEX4X5Zw6Sx062hbq82JITT4qbEvNYP0qpoxYQ5NIYfTU9zjo1Cc0OsdCfB7BkpNOI2j7Bq1n2YSDqKm@ijZS5yGTMxtRfvIYlJ5s6OWSwaH8CJ/kFH@T8rSnUhWzaNhiDY8ez/126eht@SsOcDeMw3rlTiR9aC3klNb0atKt24abKrMzOWxhMihLR7QruSwqjLP7aXOyIoM6Mc6Q@JycO/BhWIdmGP2Ijt7YMzi@tSStSHAwabQ@0nEG@xbySNBVkmNFFoyTBfpmjhppS4e0UehSfb6ktUl6j4MSSHZhJ6oxQ46jcmV3tg4nl50jNdwNAu9ScW2soTlAJ5ncqrNeylvrx64cd0uTJ1ZESv2qbBPuPMFYoX18fpYFqU68isQhlShkCyg3jd4HAf2klpZKh4Rj2LgG0yIMO/vrtM9D5xdN8yC/aTBRPqMYPqYwrEoDCpYaAVke5CYDR5Y7DE4K0BqNg3H@Ko4YktM4Zx6Ssi2zlr1MPtuZ4YORMdxtNY6U0UUPa5YdSTX0En2JRfxU5aaw6YyQezKL4ln6hoiUQRblxd3Z9L3AsGHFVBMju2M6kQkocoxZdOhw@4tZDn/LEMQC5ErZ9yROp3xgJUt2b7Ff0uu0hwe2D3PZ4a9oStkXYmo9YlQ4hyNnBEfux3e81DwqHyZgBvgvyUHtR9FBRfVbPiCjszZcDvZZcJB9bw@3VfbS0UFJNZr/kt1ODbb9usM8Y5EGq7r4XyUJn6QXmQIJr4POfCFPnZ3PipwnMtzB@3AmtTPLVu8cLkU1AmJRuCnZw0yTToHj69RXLSgLm9ICPNC160ZperJ0MCldIE1k/EMf5vbdLhvVuhzyVA0OJ0z2VwwJvIbfRDxq@TASnvpQvdeXXbGIWIF8tlO2F31Xx9CBU51bjSmyN1@@Ax80VZJA3lY9mkc5a1ReeROx4dXM8qL/IL0G5ChjCvnjx3ZXiIhFVK5iE@pYp7/ebWQhM94@uChXo4/ooinrECWnz4fTThBiPDNyb8r3FzJS8GVMWSM800Ixh8Qg3n2cvGo4swZM1HhGh/b/12/ur74/fPri3Vf/cvzj6vDu27uH59v7vwM" rel="nofollow noreferrer">Try it online!</a></p>
<p>Following the standard calling convention for Unix-like systems (from the System V AMD64 ABI), this takes in RSI the address of the input, as a null-terminated byte string; takes in RDI an address at which to place a string, which will be the instructions for the driver if it's possible; and returns in EAX −1 if possible and 0 if impossible.</p>
<p>In assembly:</p>
<pre><code>f:
    xor edx, edx
</code></pre>
<p>Set EDX to 0. EDX will keep track of the minimum possible speed at each point.</p>
<pre><code>    push 1; pop rcx
</code></pre>
<p>Set ECX to 1. ECX will keep track of the maximum possible speed plus 1 at each point.</p>
<pre><code>repeat:
    lodsb
    mov ah, al
</code></pre>
<p>Load a character from the string into AL, advancing the pointer, and then move it into AH.</p>
<pre><code>    mov al, '+'
</code></pre>
<p>Set AL to the ASCII code of '+'.</p>
<pre><code>    sahf
</code></pre>
<p>Set flags based on the character in AH. Here are the possibilities, with the important bits bolded:</p>
<pre>    S<b>Z</b> A <b>P</b> <b>C</b>
NUL 0<b>0</b>100<b>0</b>0<b>0</b>
\   0<b>1</b>011<b>1</b>0<b>0</b>
_   0<b>1</b>011<b>1</b>1<b>1</b>
/   0<b>0</b>101<b>1</b>1<b>1</b></pre>
<pre><code>    jnp done
</code></pre>
<p>Jump if PF=0, true here only for the null terminator.</p>
<pre><code>    jnc must_accel
</code></pre>
<p>Jump if CF=0, true here only for <code>\</code>.</p>
<pre><code>    dec edx
    jns second_part
</code></pre>
<p>(For <code>_</code> and <code>/</code>) Subtract 1 from EDX (the minimum speed). Jump if the result is nonnegative, in which case we are done with this part. Otherwise...</p>
<pre><code>    stosb
</code></pre>
<p>Write <code>+</code> to the output string, advancing the pointer.</p>
<pre><code>    inc edx
</code></pre>
<p>Add 1 to EDX. The next instruction adds 1 more, for a net +1.</p>
<pre><code>must_accel:
    inc edx
</code></pre>
<p>(For <code>\</code>) Add 1 to EDX.</p>
<pre><code>second_part:
    sahf
</code></pre>
<p>Set flags based on the character in AH again (as the <code>inc</code> or <code>dec</code> has overwritten them).</p>
<pre><code>    jnz must_decel
</code></pre>
<p>Jump if ZF=0, true here only for <code>/</code>.</p>
<pre><code>    add ecx, 2
</code></pre>
<p>(For <code>_</code> and <code>\</code>) Add 2 to ECX (the maximum speed plus 1); the next instruction will subtract 1, for a net +1.</p>
<pre><code>must_decel:
    loop repeat
</code></pre>
<p>(<code>/</code> jumps here) Subtract 1 from ECX and jump back if the result is nonzero (if the maximum speed did not drop to −1).</p>
<pre><code>done:
</code></pre>
<p>If the parcours is possible, the minimum speed is 0, and the maximum speed is 2 times the number of flat pieces that should be decelerated on (because the maximum speed is obtained by accelerating on all of them, and changing one acceleration to a deceleration reduces the final speed by 2).</p>
<p>If it's not possible, either the end of the string has been reached with a nonzero minimum speed, or the loop ended prematurely with the maximum speed becoming −1 from a <code>/</code>, in which case the minimum speed will have changed from 0 to 1 on that <code>/</code>, and thus will also be nonzero.</p>
<pre><code>    shr ecx, 1
</code></pre>
<p>Shift ECX (the maximum speed plus 1) right by 1 bit. If the parcours is possible, this produces the number of flat pieces that should be decelerated on.</p>
<pre><code>    mov al, '-'
    rep stosb
</code></pre>
<p>Put the character code of <code>-</code> in AL and write it to the output string ECX times, advancing the pointer and counting down ECX.</p>
<pre><code>    mov [rdi], cl
</code></pre>
<p>Add the low byte of ECX, which is now 0, to the output string.</p>
<pre><code>    sbb edx, ecx
</code></pre>
<p>Subtract ECX+CF from EDX. ECX is still 0. CF is the bit shifted out of ECX previously.</p>
<p>If the parcours is possible, CF will be 1 and EDX 0, so the result will wrap around to all 1s, and CF will be 1 afterwards.</p>
<p>If it's not possible, EDX will be nonzero and CF may be 0 or 1, but either way the result will not wrap around, so CF will be 0 afterwards.</p>
<pre><code>    sbb eax, eax
</code></pre>
<p>Subtract EAX+CF from EAX, making it −CF: −1 if possible and 0 if impossible.</p>
<pre><code>    ret
</code></pre>
<p>Return.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/TryItOnline/brainfuck" rel="nofollow noreferrer">brainfuck</a>, 124 bytes (validator and generator)</h1>
<pre><code>,[-------&gt;-[&lt;-&gt;---]+&lt;[---[&gt;-&gt;+&gt;-&gt;&gt;+&lt;[-&gt;-]&gt;[.-&gt;]&lt;&lt;&lt;&lt;&lt;&lt;[-]]&gt;[-&gt;+&gt;+&lt;&lt;]&lt;[-]]&gt;[-&gt;-&gt;+&gt;+&lt;&lt;&lt;]&lt;,]--[&gt;+&lt;++++++]&gt;&gt;[--&lt;.&gt;]&lt;++&gt;&gt;[--&lt;&lt;.&gt;&gt;]
</code></pre>
<p>If the parcour is valid, it just outputs the instructions; otherwise, it prints one or more bytes of value <code>0x01</code>, followed by some instructions (which are of course meaningless).</p>
<p><a href="https://tio.run/##PYxRCoAwDEMPVLNdoOQitQwVBBH8EDz/7DYx0NCX0K73clz7s521ToYhwjQMcNGWGUGJYUPCaQl07TJ4cOtF1X/8gkgmbw9EpcsZLTTFucjYA@i15lJynnNYmV8" rel="nofollow noreferrer" title="brainfuck – Try It Online">Try it online!</a></p>
<p>Note: it works only if the difference in height is always less or equal to <code>255</code>, counting from the start.</p>
<h1><a href="https://github.com/TryItOnline/brainfuck" rel="nofollow noreferrer">brainfuck</a>, 103 bytes (generator only)</h1>
<pre><code>,[-------&gt;-[&lt;-&gt;---]+&lt;[---[&gt;-&gt;+&gt;-&lt;&lt;&lt;[-]]&gt;[-&gt;+&gt;+&lt;&lt;]&lt;[-]]&gt;[-&gt;-&gt;+&lt;&lt;]&lt;,]--[&gt;+&lt;++++++]&gt;&gt;[--&lt;.&gt;]&lt;++&gt;&gt;[--&lt;&lt;.&gt;&gt;]
</code></pre>
<p><a href="https://tio.run/##PYpRCoAwDEMP1EUvUHqRLgwVBBH8EDx/7RwYSuhLst7Lce3PdkYUx5DBNQ2gaM/cYGJQTSLNO4kqf8TAwr4VlU@0rKCTMYPxJxgjaq2t5aXNLw" rel="nofollow noreferrer" title="brainfuck – Try It Online">Try it online!</a></p>
<p>Note: for both programs, the input must be zero terminated.
Both programs works only if the total number of <code>+</code> and <code>-</code> of the output is less than <code>128</code>.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C++ (gcc)</a>, 107 bytes (generator and validator)</h1>

<pre class="lang-cpp prettyprint-override"><code>g(char*x,int s=0){return*x?*x-47&amp;&amp;g(x+1,s+1)&amp;&amp;(*x=*x-95?32:43)||*x-92&amp;&amp;s&amp;&amp;g(x+1,s-1)&amp;&amp;(*x=*x-95?32:45):!s;}
</code></pre>
<p><a href="https://tio.run/##7ZxLb1zXEYTXml8xthGaehBt@YEgdmQvszGyyyodNBSJkgnItCDKiRBbfz3KzD39VfVICZDssuD4IXE493VOn@7qqjrz5OXLi@dPnrx79/z8yQ@PX9178@Dq@vX@5tFnd395dfn651fX9958d@/NxZe/PTt7fv7m/sMHN/cf3j07O7/35tHh7d999d0Xn3/95Rd3f/31@NPnZ2c3@tzFh5/76u7XH9188/bdJ1fXT178/PRy//snN6@fXv307e7knVdX18/fe@vpi6u/frvb/fj46vr87i@7O8d73d97cXV9@fL1q/2j/R//9P333@zu3Fz947Je768P73z2zW535/gsV4cfHh5@9/cfrl5c7s@fX74@HnZ@1gc/2J9dP9gfb@P67v6jR/vDbe8PF7hz9Wx/rgsc3v80rz/dn53tT9775NP14Tv95p8PN//i8vq8f7x78fAv61YOHzney5vDT8/12/X24Tpv7h7/dufl4cFfPzv/@DdP98d/b/Z5/fGD/dWD/ZsH@3nM28N/9@9fHf76dvf23S4qcpdRmbGLrIzDX3eHPw5/Ob55@H3F4Yfa3j@@c/xMHd/N2n48vpHryOMPx7e3Aypr@@g6YjvN4Y3DYYf/HY88XvjwRqwzbP8c/3e4@LrYOt/xTMdz1vGw43mDc3Kq3O4kttuo42dzneB4B9tp@lPbzcV2z31PfXRsn9me5vjMxYW3o6tv8XhgnzZy3cX2BNvDc9rjNbfXNl7cxXZOXUZX356@z923s/62DVM/XjJSa7RiO9F2yR6N7Tx9zTUOwTmPY7Y@ltxnaXTWe9uvak3EmoV1s9uRazTWcEQPLVfeTrJuP9at5hruWuOUa6ZWOKxnKOKgerxiBdEWDNsx6y/rItkzkiuU1pPnmmZF1rqHbQK21/aEa1TWc263tgauena2826h2I@@DVtPcK7TrVsI32GtqeJBg/lSiG3h0MOexQCvIesTKcS32Vw/bbe77mg9ZhLZsQK2qsOVaFlPtf5dk1FrPlY0bwPPdfqZaj3GGum@sY7sPuE2dn2fCtFcd7FOvX1kTRzzsYawGIa1itedxZrtUhz0RAbrq1Zg9ue2s/btbrG/TaCjqB8sUollTe0K63WSdQ898iuiOxDWAlwD1eG7xjl6cIKEEpribXFy@hih0lHco5dFduz8xCnW0s9ekOHstV2uF10fnqQwrdA1Nmt0Y6U1suk2Zr3EV0IlYqpHqXMPS3ENYYdl9iLZIr7TzFpsHFuK5H7I6BGoGJm1p2c9S0dDVteAlSmZZWXxrB48ckxP8LZoenFH6kHCA5/hBMOp@pHGffVf1zIg0feVtH5YNf3zuoVIRVV14u1SUmMB9dh1Ol/j2vObvUQ6syiMyV0r6DSD1SWUkMugHlYnOOWCPhEVpRjL6OSn@tPDnwQPtTFOai/DlQRALzz@pOZRdJPivGppdNkMxTWZwdet8irMLqxzZjoPr1vm4Uga/eEO65WUdX3jEKfmHm2yELmna0zyZ3RWH@WjC2h2TEaH3KoqpXntwGRehQOKCh7Ka0oFPTudIdI1lwdVaPf1FdmdrbIfnBRQ1M5@mE60GvZiha2rU03WCmB6gWZrUVIDev2CfUgbndgaRFQAlqLDI0mVAQbsg5MEB/Bad0iNiI4soEGvyfXGCiRWzsqNYdhH0mOi@tqkuDVgLKLoT1KCiBglzhWrVE5S3woSPzr1slcBy4PJYnl5hQMNGiGvASZ/ZfUolmFUKE9QuiiundSEc9bEdDR0kalRqHkkIrYTWpDywjBvBej6fS/Pogw2Xi4SBDmrYW@jm2CkqqFDh/sK0V4lqUpcDDPrIBuHVxYos5QOG1wUa7FjqoL4A010ZxBa7eRV2oGkXGdj7pXIGo5nuEAAylaKL1VIz0AN7NGXzg5k4VaHSSdHhTC5tKF8KG0aAffg6gIr7rtcRJL2AWVqnIhSqnIj2tJE1kCFnXeZngRv9Zw0jmSpZYxeJoW3y3my576Ulbtl6ITTOa1Ra2cr2hktAHByA0hiYs1wdK7WD@8jy2Byi05Ps6JqqaYvaVhCtYjKE8k8E2QElwAOab6LTA@sGqpyq8BKEfZ2F7yKW5HslFDdGTcgplSQugTVQYVdjQV1Vp125e9x745OLVA3PNFdhto6CvvoPFM1ktqYQK2OI9Z9gjBS9U@Vr/v4ipOzqJMPoBCdagO75CIEfsPrBgc1WAa15J3VYvZSjeIjSzVOCD6Mohu2dq/YbVDfqgp@o0CgRQHeUuWvuFzPYSWLrCMuwSTVAxi0m5R72s5u36uRcbfNwtoNh8Ota9cwCIyi98kqEzG9VFleSaoA9JUgl3kZik@XoqTp6epSsCtZZkrWaNBys6RC89LdWcPCIDYD/FXC7DpYPa5bil7Z3dZDxRDVRZxHasmPlKgeiCvyJDyOgNACCyBSQCw4L3Ujyn8h@FfwAmD76FxaKuqQOqp/6rzpyymy0U1i0DOyolVdOw/1pHY@TyBDKpE0@CuwTEdZU14Urp5pSm//p3DpZd58UWliuwAVxIFqPbwXZEGD8shUCySyqG@fzry7lgiTEebHGgVpzjOoS2qKgR5BL9Hxr/9IFnBBpD86U5GSRI9vIjtqiG7@YBII5y43Id5JmYd@B@SRptn4oEG6sY@uTt3UOlTXCuYoYfhgkKk2CTYHWnttUqVCyaOXAmWTPq2nUUAGirNHkfrZt9FwIUMsE3TjYAiEJEDZQEq6fHWahE34mWgjEsxdQkVzFjmdyUAlOxp5UbQl0ooyGqYXOxuXgCiT07TX6C4S8CQKpq/SfF8HqCBOVZ3SPWv6KYiZZLGiKadJKLfSoTOUOgLa4xBvI1hE7gXXkIMVugGcKB4pBwNAZ5YABBYIOQ6@HpztBB7uVxswmGco6j4xCtZvBrKYKvHRKpdMY2oMThgLSGHKJaUOsjm4qQDkNjEMGtWoq8539mvCxZQSyFg4UHgyqSjpWQ0V0bScEGJgB6nUsQ0yFZIO@vGCsCIp942kWIM0f6NanylaivpFv9t1lxIjoCgO20Wdui6q0X13vi84cGRACWYM7imF3zodKkO4RIw6plAe1G@Jec5ycRPlVLQu5JYE8AYcNp0HjDmtIPi5y0sDMjAHjGUXIlAd8kQwBiEpCL49h0yiZqUnaoYadT3MLZp7Fis9jynAIhRmNcoIZabOvWS1TvVV7yUseNt@jpJAJqIc0h1@W6QPzQ2DraFQ8ktYgjyF45ID0CWz0VIOZk6tEx0YbF10w5CUK@BIdQyE2OMUTUPXEwglUDBaWVKrSpCyNS26NlHc3SMBpSidpeWCiuFO0QurhqpWQ@kA07iMIyVBEcHCFTR@ox@znUlXbx0MTOpQ5uMQSkE/vSItaDaLOZEaSH/dql7LPJaYSqVIw6gCAK/a95sWeklPgAfRxuWsVEKnqTabtC88BQjWKRExi/YUxVd1NHQojYYKDqU6SmlHOWgUN6t2kLQJXpTUEcqvNdKDCL@EZoZbjs7wgvQByQV@QiWi2UyUbPHSRQJgxZ48wdDKuhWC1ka/TSQ1L07pm1IDLRBIkjJb5rZPxO04X6h@w7vQkla6OYNe1iq0PBBC7QUqbfqB1Uc55cGoN73SqQeSaE1yC8GVGwMRmhbcnaOF2QoPQ4HLU01LmN6LU84WWljMR2q1IAuml6hWU05dIyTep1pNWE3Js4nDIeC5/Mv3@eRGe9wc@q@FKLs1OrLFbCSRVuKOoLLNTaIEx6CG0j04KmCGZF/YQ3optfBlksE6qnhW5oa61RwWiU38uFwq1E9RtV2Do8wDlHTPbvkH@5riohoRmBaA@3MQgyhy6EW@aDPrMSXbFIfILCfOlsGmUHaG5o1MJkJ3aIOSWqm5YGOLRdKNm1MWLTZJFgn1SC0YhkJelgiRA4MppvBI35CuQhkmSlJyebhrC1XLMP0VRgAsRqwdZAsXF0axobwwByETUvnCcDDVw/XHpW8NmiVgVL1AYT0TSj7tfkKZPRHO0vRUUxh2XEAGlPgTKkW6LWflT2l7kCxuP3PwbSFS3Rm21B9juTAJG8DqkD@DLkTPiI0ozIiFuKypauVAG@o4EbLkuBiuElxXEYPS53AyDYlR4Cfcpql9tQmkDINTmqAfA751dmuHo3a7433vPtn/4fL68tXj1z@9@np//2K3W8vh9P2Li@On1@2@f8TxEAmx7x@2/TJFXnxw7PaJhqBoHxqncKVBOy5T3/RaDgcp@eraGZ0PrvxvXxf/6XW4xUFRi@dQdiK@SlUdZQ2vgpS9ph0kVbIEK0tgLdL8Q2mJtQwfUopDijm6tswLaZMAzQkpDN9LYPGIUeFkYUE0H/TchBkpUY@ry5CInFG0tMBpzZEJvxCOCanBofZC96yYKENPmqIULZRlKrmLiEXHmDyu5kVMjZEcfb5axDB6HAxZ0OSbikhhqrZPSG1TgS5nHnQx@djEM8pTCfIm2cLy4mzoQRWbJQ@g/GR0QKEGNAQUZRMzGJJgUKXhgakUHWMGVrPYDIKGLWVF8bXDjkgRwVretlRpaZOHkdEbthSaz5DMbCg7adZl0So8hT3hKTog3Ug0vpQcKLOuSA93JZjVFDrieglVlqpXRJ3CfVpmU@aZsjfJxzy9LthrVAa0StUgUlQG@Sw9KAbKKfW9ZRYmddNFCMIP2IMVs6E1OyXbxvDB0fikQna0106kaqAF9sr1MOWggK8Iexr4bI7Adrs8gZdM2mbvatDEMaBBlelTcX8JUmH0ajiYhnWZKDoRBKokP@PdQAgPoqJJSqvoQY5J8miO3gFZDRMr7gM127YKhzp2VtApZ9rTPcw@djyE/LBSSVMmOLBapA3S6ghVYOBuYkqRGgBxmJMBZSSBcNL75KshuQaakwGavA7Ct7RK8iLGIIABfxL/kB7LBF1Ni0@oTw5oDEsSFg5TNKQ98pGmd0Thsa2BpR1SZbQkRNTKH20CBxMWwGEY@QUEhpnCGan7PpKe2j6sGzJwFNrDCMPmpkvx0KXTvlXhaUnAsvuTTkFNERK4QhSwla1Q@9ecugUlYIuSfgSXTpluZTfGuCbtCM8M7RDrVhlcshAG1rDU446y3EXApJYYMshn0gKZxAyLJN8Y40lrohogf2RnWDaWdL4aSo52XxC0WIhzyAwIH6BPmTcQAly7ys2dN3DIsUFcR81IEdslb2iMRdTD0uCixDtBLecHl5W9xjxvyM4bw7gdilOoNBlKEdDoGWi2Ssa86YkQR5JKlUi4aXpcfgxbrvELlaQUak/YlD@SHo1kqHcN8x8R8jHZOXtCP8g@SQERX@WdDGJCShVc5Eu5arFhwqA15HgrCZsV3m4gfKZdDvIxT440T7OW4IuAo1gobf2pIR@pxUh1@gKUwyma0D3c4DDJe5dOyHgwnLthkRi5JmQOGoQRBqxhJFeclfkeu3GnAd1tl2uZWBlWo7luO4HR4UOu1wQ/pjZKpdgGaG8sGaWNNsLnSh3hoCqJFjldeMP3JLlQZhNJI2IwBzMx6Xtt1zLTm2lJBvI5pZ2e7Lgp2@ulnRX0iwycFaFtLvhi3QzXqbJHfCL@wb8xGzKvYkuVr0QcBG4iNCLgxJBHUbu0KEpiZwolinUKbyYRIY0GQ6ZDKUBeJlFoM6EsiaW@LwSUyQze55bi5aTXWSdMb6KTqYpEAehOWCX8tVkWoqlLegu/fNp7Ct0lK3uEfUfyhLOTR20ePlAMNaAHbtNEm5yTGng0hSx73Zr1hGAtATzWZmgLXGj/nyNclE@YQRjFusyIIEzIYjrYFe38lAohaVv7BAFcCo7MHIRO2QVQMuLIxKoGptduaN1Z@QNjhbhgw7HwSh68PpSb@0kENIiX4elL7ZkDneO90M6sk2or8SPZMFoyvFlHC6mJhqICwIOs8Ba0SCnp6v@GcldGwIIO1kVTG/fg4CFWR/fk3QA1im8IG/hWtA8yNEVlNF1YNJGf5SOW/mQPcq8lLXpSU/TQIrYB8Vk9UhvDmxm1bSAsGZS2QEhoCxd@5Cx5h@w3GZu27ANQ4y1XOBydNBIBTBl6w6s73EakLMy2OSQY28tc6FmSJySG5HIYNCqpxUxx0eJuSswSyQoRIs0VeUDFuWiHRMgCUNq3WzE9a4BG5U3UCG@R6A@X8l@lcUKIiY1TO1QMiwubkcJkGSu9hjEmHTIaMPOOZW@DNvazhVr@Ukl7tHplNbRKdRHhcYDp0WlDSWW42ZfQBL6hesjyqD1UWDSUdkVKhONFe13Kzfb0osEdlLANeiKcWcqPNrdRCL6eONO8tWxuI7XpQyg5PZ3DGgrF7pWTFoViEEneVlIyiXqraJ2watpKIL8K5YHGR/uk9IihHePa3y7xOOULUbsAlPS@B/WHKd1abSzmPkSQE9EFS5GER8NA@Urt1RK1Lq1aHYZ3zboAyfE0U7S2bEOkSAWQ20cML0bh9IYumQMybQopO0VFsAi/i3JO7TsPbQMM9XkxpCZvq7b9aLB@FVNyraFJpDB66jsvtEMWGp0tNN67YclJOze0fIPWs2xYQgBWX0Ubqb2jyf6WKD95DEpPlv1yyeALDCK861X8Tcr/n0pVjKJhizU8ejz326VtyuWvg8AJMjY2ljuR9Aa/kKtcw6tBt8YdbqrMzuSw0MnMLR3RDu6yqDC@5yBt5FZkUCfGfhvvKXQHPsz90AyjH9E2Jfsrx5evpBUJNnGN1kc6zmDfQn4SukpyrMiCsQtD32JSI21pQzsKXarPl7Q2Se@xqQTJLuzaNWbIsa2w7GTXRu6yy6aGE0TgXSquTUg0B@gkk1t11kv5kP3YleNqafLEikipX5XFxJ0nGCu0jk/3/SDViVeROKQShWwB5aa796ZJP6mlpdKG6hiWt8G0CMPO/jrtidFeT9M8yG@6mSjv5wxv6Ri2rgEFS42A7CFy3oEjyx0GuypojcYmQn9tSQzJaezJD0nZllnLvi/vg83wJtIYTsAa2@/oooeNze6tGnqJvvAj3le5KWzaT@WezKJ4lr5NI2UmRnlxdzY9QjBs2FbVxMgamk5kAops@RYdOnZGiFkOfyMTxALkStkjJk6nvLknS9Z4sV/S67SGB7YPc9nhb5pK2Rdiaj1iVNizJGcEX08wvg@n5tcKhAmYAf5LclB7d7SpU/2WNxNpXxKng30WHGTd2@9ulb20zVJSjca/ZE1Ug21v8zAaWaTB1i/@V0nC3zogMgUSXpvC@fKiOtnLFjl3r7iD90ZWameWbfE5HJ1qBMSicFGyh5km7ZjHA6uvpVAWNqUFeKBr14XS9GRpE1e6QJrI@KAPc/tul41qXQ55qgaHEyb7K4YEXsNvIh61vHGL/Qeheq8vBmMSsQJ5H6xsL/pek6EDpzq3GkPkfQzyHXhTrpIE8rbq0dz2WqPyyseJZbFmlhf9B@k1IEcZU2gvwVjuChGxiMpVLEJtgfW31I0sZMbbmzzlAPV2ZjRlbThlp/5wJQpCjGdG7k15JENGCr64KmuEZ1ooZkMdxLu33lcNZ9aAibqf0aH9N3a629ft6/Z1@7p93b7@n18Xt6/b1@3r9nX7un39r6/dP588e/H4@c27i2cvL1/9eHVzc/W3y38B" rel="nofollow noreferrer" title="C++ (gcc) – Try It Online">Try it online!</a></p>
<h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C++ (gcc)</a>, 71 bytes (only validator)</h1>

<pre class="lang-cpp prettyprint-override"><code>v(char*x,int s=0){return*x?*x-47&amp;&amp;v(x+1,s+1)||*x-92&amp;&amp;s&amp;&amp;v(x+1,s-1):!s;}
</code></pre>
<p><a href="https://tio.run/##7ZxLb1zXEYTXml8xthGaehBtBQGC2LGzzCbILqt00BAkSiYg0wJJK0Js/fUoM/f0V9UjJUCyy4Ljh8Th3Nc5fbqrq@rM8zdvLl49f/7hw9vz598/u3n07snV9d3@9tuvHv58c3n30831o3d/ePTu4je/PTt7e/7u8dMnt4@fPvzll8Nbv/v12dmt3r14@vDrz26/ef/hi6vr569/enG5//3z27sXVz9@tzt55@bq@tV3u90Pz66uzx/@vHtwvOj@0eur68s3dzf7b/d//suf/vTN7sHt1T8u625/fXjnq292uwfHm7o6/PD08Lu/f3/1@nJ//ury7njY@Vkf/GR/dv1kf7zm9cP9Z9/uD3e0P1zgwdXL/bkucHj/y7z@cn92tj9574sv14cf9Jt/Pdzp68vr8/7x4cXTv61bOXzkeC9vn72@enF4560@sf3qzeHx7l6ef/6rF/vDv3n9@ZP91ZP14e0D7w//PX58dfjr@937D7uoyF1GZcYusjIOf90d/jj85fjm4fcVhx9qe//4zvEzdXw3a/vx@EauI48/HN/eDqis7aPriO00hzcOhx3@dzzyeOHDG7HOsP1z/N/h4uti63zHMx3PWcfDjucNzsmpcruT2G6jjp/NdYLjHWyn6U9tNxfbPfc99dGxfWZ7muMzFxfejq6@xeOBfdrIdRfbE2wPz2mP19xe23hxF9s5dRldfXv6PnffzvrbNkz9eMlIrdGK7UTbJXs0tvP0Ndc4BOc8jtn6WHKfpdFZ722/qjURaxbWzW5HrtFYwxE9tFx5O8m6/Vi3mmu4a41Trpla4bCeoYiD6vGKFURbMGzHrL@si2TPSK5QWk@ea5oVWesetgnYXtsTrlFZz7nd2hq46tnZzruFYj/6Nmw9wblOt24hfIe1pooHDeZLIbaFQw97FgO8hqxPpBDfZnP9tN3uuqP1mElkxwrYqg5XomU91fp3TUat@VjRvA081@lnqvUYa6T7xjqy@4Tb2PV9KkRz3cU69faRNXHMxxrCYhjWKl53Fmu2S3HQExmsr1qB2Z/bztq3u8X@NoGOon6wSCWWNbUrrNdJ1j30yK@I7kBYC3ANVIfvGufowQkSSmiKt8XJ6WOESkdxj14W2bHzE6dYSz97QYaz13a5XnR9eJLCtELX2KzRjZXWyKbbmPUSXwmViKkepc49LMU1hB2W2Ytki/hOM2uxcWwpkvsho0egYmTWnp71LB0NWV0DVqZklpXFs3rwyDE9wdui6cUdqQcJD3yGEwyn6kca99V/XcuARN9X0vph1fTP6xYiFVXVibdLSY0F1GPX6XyNa89v9hLpzKIwJnetoNMMVpdQQi6Delid4JQL@kRUlGIso5Of6k8PfxI81MY4qb0MVxIAvfD4k5pH0U2K86ql0WUzFNdkBl@3yqswu7DOmek8vG6ZhyNp9Ic7rFdS1vWNQ5yae7TJQuSerjHJn9FZfZSPLqDZMRkdcquqlOa1A5N5FQ4oKngorykV9Ox0hkjXXB5Uod3XV2R3tsp@cFJAUTv7YTrRatiLFbauTjVZK4DpBZqtRUkN6PUL9iFtdGJrEFEBWIoOjyRVBhiwD04SHMBr3SE1IjqygAa9JtcbK5BYOSs3hmEfSY@J6muT4taAsYiiP0kJImKUOFesUjlJfStI/OjUy14FLA8mi@XlFQ40aIS8Bpj8ldWjWIZRoTxB6aK4dlITzlkT09HQRaZGoeaRiNhOaEHKC8O8FaDr9708izLYeLlIEOSshr2NboKRqoYOHe4rRHuVpCpxMcysg2wcXlmgzFI6bHBRrMWOqQriDzTRnUFotZNXaQeScp2NuVciazie4QIBKFspvlQhPQM1sEdfOjuQhVsdJp0cFcLk0obyobRpBNyDqwusuO9yEUnaB5SpcSJKqcqNaEsTWQMVdt5lehK81XPSOJKlljF6mRTeLufJnvtSVu6WoRNO57RGrZ2taGe0AMDJDSCJiTXD0blaP3yMLIPJLTo9zYqqpZq@pGEJ1SIqTyTzTJARXAI4pPkuMj2waqjKrQIrRdjbXfAqbkWyU0J1Z9yAmFJB6hJUBxV2NRbUWXXalb/HvTs6tUDd8ER3GWrrKOyj80zVSGpjArU6jlj3CcJI1T9Vvu7jK07Ook4@gEJ0qg3skosQ@A2vGxzUYBnUkndWi9lLNYqPLNU4Ifgwim7Y2r1it0F9qyr4jQKBFgV4S5W/4nI9h5Usso64BJNUD2DQblLuaTu7fa9Gxt02C2s3HA63rl3DIDCK3ierTMT0UmV5JakC0FeCXOZlKD5dipKmp6tLwa5kmSlZo0HLzZIKzUt3Zw0Lg9gM8FcJs@tg9bhuKXpld1sPFUNUF3EeqSU/UqJ6IK7Ik/A4AkILLIBIAbHgvNSNKP@F4F/BC4Dto3NpqahD6qj@qfOmL6fIRjeJQc/IilZ17TzUk9r5PIEMqUTS4K/AMh1lTXlRuHqmKb39n8Kll3nzRaWJ7QJUEAeq9fBekAUNyiNTLZDIor59OvPuWiJMRpgfaxSkOc@gLqkpBnoEvUTHv/4jWcAFkf7oTEVKEj2@ieyoIbr5g0kgnLvchHgnZR76HZBHmmbjgwbpxj66OnVT61BdK5ijhOGDQabaJNgcaO21SZUKJY9eCpRN@rSeRgEZKM4eRepn30bDhQyxTNCNgyEQkgBlAynp8tVpEjbhZ6KNSDB3CRXNWeR0JgOV7GjkRdGWSCvKaJhe7GxcAqJMTtNeo7tIwJMomL5K830doII4VXVK96zppyBmksWKppwmodxKh85Q6ghoj0O8jWARuRdcQw5W6AZwonikHAwAnVkCEFgg5Dj4enC2E3i4X23AYJ6hqPvEKFi/GchiqsRHq1wyjakxOGEsIIUpl5Q6yObgpgKQ28QwaFSjrjrf2a8JF1NKIGPhQOHJpKKkZzVURNNyQoiBHaRSxzbIVEg66McLwoqk3DeSYg3S/I1qfaZoKeoX/W7XXUqMgKI4bBd16rqoRvfd@bHgwJEBJZgxuKcUfut0qAzhEjHqmEJ5UL8l5jnLxU2UU9G6kFsSwBtw2HQeMOa0guDnLi8NyMAcMJZdiEB1yBPBGISkIPj2HDKJmpWeqBlq1PUwt2juWaz0PKYAi1CY1SgjlJk695LVOtVXfZSw4G37OUoCmYhySHf4bZE@NDcMtoZCyS9hCfIUjksOQJfMRks5mDm1TnRgsHXRDUNSroAj1TEQYo9TNA1dTyCUQMFoZUmtKkHK1rTo2kRxd48ElKJ0lpYLKoY7RS@sGqpaDaUDTOMyjpQERQQLV9D4jX7MdiZdvXUwMKlDmY9DKAX99Iq0oNks5kRqIP11q3ot81hiKpUiDaMKALxq329a6CU9AR5EG5ezUgmdptps0r7wFCBYp0TELNpTFF/V0dChNBoqOJTqKKUd5aBR3KzaQdImeFFSRyi/1kgPIvwSmhluOTrDC9IHJBf4CZWIZjNRssVLFwmAFXvyBEMr61YIWhv9NpHUvDilb0oNtEAgScpsmds@EbfjfKH6De9CS1rp5gx6WavQ8kAItReotOkHVh/llAej3vRKpx5IojXJLQRXbgxEaFpwd44WZis8DAUuTzUtYXovTjlbaGExH6nVgiyYXqJaTTl1jZB4n2o1YTUlzyYOh4Dn8i8/5pMb7XFz6L8WouzW6MgWs5FEWok7gso2N4kSHIMaSvfgqIAZkn1hD@ml1MKXSQbrqOJZmRvqVnNYJDbx43KpUD9F1XYNjjIPUNI9u@Uf7GuKi2pEYFoA7s9BDKLIoRf5os2sx5RsUxwis5w4WwabQtkZmjcymQjdoQ1KaqXmgo0tFkk3bk5ZtNgkWSTUI7VgGAp5WSJEDgymmMIjfUO6CmWYKEnJ5eGuLVQtw/RXGAGwGLF2kC1cXBjFhvLCHIRMSOULw8FUD9cfl741aJaAUfUChfVMKPm0@wll9kQ4S9NTTWHYcQEZUOJPqBTptpyVP6XtQbK4/czBt4VIdWfYUn@M5cIkbACrQ/4MuhA9IzaiMCMW4rKmqpUDbajjRMiS42K4SnBdRQxKn8PJNCRGgZ9wm6b21SaQMgxOaYJ@DPjW2a0djtrtjve9@2L/x8vry5tndz/efL1/fLHbreVw@v7FxfHT63Y/PuJ4iITYjw/bfpkiLz45dvtEQ1C0D41TuNKgHZepb3oth4OUfHXtjM4nV/63r4v/9Drc4qCoxXMoOxFfpaqOsoZXQcpe0w6SKlmClSWwFmn@obTEWoYPKcUhxRxdW@aFtEmA5oQUhu8lsHjEqHCysCCaD3puwoyUqMfVZUhEzihaWuC05siEXwjHhNTgUHuhe1ZMlKEnTVGKFsoyldxFxKJjTB5X8yKmxkiOPl8tYhg9DoYsaPJNRaQwVdsnpLapQJczD7qYfGziGeWpBHmTbGF5cTb0oIrNkgdQfjI6oFADGgKKsokZDEkwqNLwwFSKjjEDq1lsBkHDlrKi@NphR6SIYC1vW6q0tMnDyOgNWwrNZ0hmNpSdNOuyaBWewp7wFB2QbiQaX0oOlFlXpIe7EsxqCh1xvYQqS9Urok7hPi2zKfNM2ZvkY55eF@w1KgNapWoQKSqDfJYeFAPllPreMguTuukiBOEH7MGK2dCanZJtY/jgaHxSITvaaydSNdACe@V6mHJQwFeEPQ18Nkdgu12ewEsmbbN3NWjiGNCgyvSpuL8EqTB6NRxMw7pMFJ0IAlWSn/FuIIQHUdEkpVX0IMckeTRH74CshokV94GabVuFQx07K@iUM@3pHmYfOx5CflippCkTHFgt0gZpdYQqMHA3MaVIDYA4zMmAMpJAOOl98tWQXAPNyQBNXgfhW1oleRFjEMCAP4l/SI9lgq6mxSfUJwc0hiUJC4cpGtIe@UjTO6Lw2NbA0g6pMloSImrljzaBgwkL4DCM/AICw0zhjNR9H0lPbR/WDRk4Cu1hhGFz06V46NJp36rwtCRg2f1Jp6CmCAlcIQrYylao/WtO3YISsEVJP4JLp0y3shtjXJN2hGeGdoh1qwwuWQgDa1jqcUdZ7iJgUksMGeQzaYFMYoZFkm@M8aQ1UQ2QP7IzLBtLOl8NJUe7LwhaLMQ5ZAaED9CnzBsIAa5d5ebOGzjk2CCuo2akiO2SNzTGIuphaXBR4p2glvOTy8peY543ZOeNYdwOxSlUmgylCGj0DDRbJWPe9ESII0mlSiTcND0uP4Yt1/iFSlIKtSdsyh9Jj0Yy1LuG@Y8I@ZjsnD2hH2SfpICIr/JOBjEhpQou8qVctdgwYdAacryVhM0KbzcQPtMuB/mYJ0eap1lL8EXAUSyUtv7UkI/UYqQ6fQHK4RRN6B5ucJjkvUsnZDwYzt2wSIxcEzIHDcIIA9YwkivOynyP3bjTgO62y7VMrAyr0Vy3ncDo8CHXa4IfUxulUmwDtDeWjNJGG@FzpY5wUJVEi5wuvOF7klwos4mkETGYg5mY9L22a5npzbQkA/mc0k5PdtyU7fXSzgr6RQbOitA2F3yxbobrVNkjPhH/4N@YDZlXsaXKVyIOAjcRGhFwYsijqF1aFCWxM4USxTqFN5OIkEaDIdOhFCAvkyi0mVCWxFLfFwLKZAbvc0vxctLrrBOmN9HJVEWiAHQnrBL@2iwL0dQlvYVfPu09he6SlT3CviN5wtnJozYPHyiGGtADt2miTc5JDTyaQpa9bs16QrCWAB5rM7QFLrT/zxEuyifMIIxiXWZEECZkMR3sinZ@SoWQtK19ggAuBUdmDkKn7AIoGXFkYlUD02s3tO6s/IGxQlyw4Vh4JQ9eH8rN/SQCGsTL8PSl9syBzvFeaGfWSbWV@JFsGC0Z3qyjhdREQ1EB4EFWeAtapJR09X9DuSsjYEEH66KpjXtw8BCro3vyboAaxTeEDXwr2gcZmqIymi4smsjP8hFLf7IHudeSFj2pKXpoEduA@KweqY3hzYzaNhCWDEpbICS0hQs/cpa8Q/abjE1b9gGo8ZYrHI5OGokApgy94dUdbiNSFmbbHBKM7WUu9CzJExJDcjkMGpXUYqa4aHE3JWaJZIUIkeaKPKDiXLRDImQBKO3brZieNUCj8iZqhLdI9IdL@a/SOCHExMapHSqGxYXNSGGyjJVewxiTDhkNmHnHsrdBG/vZQi1/qaQ9Wr2yGlqluojwOMD06LShpDLc7EtoAt9QPWR51B4qLBpKuyIlwvGivS7lZnt60eAOStgGPRHOLOVHm9soBF9PnGneWja3kdr0IZScns5hDYVi98pJi0IxiCRvKymZRL1VtE5YNW0lkF@F8kDjo31SesTQjnHtb5d4nPKFqF0ASnrfg/rDlG6tNhZzHyLIieiCpUjCo2GgfKX2aolal1atDsO7Zl2A5HiaKVpbtiFSpALI7SOGF6NwekOXzAGZNoWUnaIiWITfRTmn9p2HtgGG@rwYUpO3Vdt@NFi/iim51tAkUhg99Z0X2iELjc4WGu/dsOSknRtavkHrWTYsIQCrr6KN1N7RZH9LlJ88BqUny365ZPAFBhHe9Sr@JuX/T6UqRtGwxRoePZ777dI25fLXQeAEGRsby51IeoNfyFWu4dWgW@MON1VmZ3JY6GTmlo5oB3dZVBjfc5A2cisyqBNjv433FLoDH@Z@aIbRj2ibkv2V48tX0ooEm7hG6yMdZ7BvIT8JXSU5VmTB2IWhbzGpkba0oR2FLtXnS1qbpPfYVIJkF3btGjPk2FZYdrJrI3fZZVPDCSLwLhXXJiSaA3SSya0666V8yH7synG1NHliRaTUr8pi4s4TjBVax6f7fpDqxKtIHFKJQraActPde9Okn9TSUmlDdQzL22BahGFnf532xGivp2ke5DfdTJT3c4a3dAxb14CCpUZA9hA578CR5Q6DXRW0RmMTob@2JIbkNPbkh6Rsy6xl35f3wWZ4E2kMJ2CN7Xd00cPGZvdWDb1EX/gRH6vcFDbtp3JPZlE8S9@mkTITo7y4O5seIRg2bKtqYmQNTScyAUW2fIsOHTsjxCyHv5EJYgFypewRE6dT3tyTJWu82C/pdVrDA9uHuezwN02l7AsxtR4xKuxZkjOCrycY34dT82sFwgTMAP8lOai9O9rUqX7Lm4m0L4nTwT4LDrLu7Xe3yl7aZimpRuNfsiaqwba3eRiNLNJg6xf/qyThbx0QmQIJr03hfHlRnexli5y7V9zBeyMrtTPLtvgcjk41AmJRuCjZw0yTdszjgdXXUigLm9ICPNC160JperK0iStdIE1kfNKHuX23y0a1Loc8VYPDCZP9FUMCr@E3EY9a3rjF/oNQvdcXgzGJWIG8D1a2F32vydCBU51bjSHyPgb5DrwpV0kCeVv1aG57rVF55ePEslgzy4v@g/QakKOMKbSXYCx3hYhYROUqFqG2wPpb6kYWMuPtTZ5ygHo7M5qyNpyyU3@4EgUhxjMj96Y8kiEjBV9clTXCMy0Us6EO4t1b76uGM2vARN3P6ND@Gzvd/ev@df@6f92/7l//z6@L@9f96/51/7p/3b/@19fun89fvn726vbDxcs3lzc/XN3eXr29/Bc" rel="nofollow noreferrer" title="C++ (gcc) – Try It Online">Try it online!</a></p>
<p>Note: in both functions 4 bytes could be saved by replacing the boolean ands and or with bitwise ones, but it would be extremely slow.
In the generator, the ands before <code>(*x=*x-95?32:43)</code> and before <code>(*x=*x-95?32:45)</code> must be boolean in any case (otherwise it does not output the correct instructions).</p>
<h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C++ (gcc)</a>, 239 bytes (formatter, extra)</h1>

<pre class="lang-cpp prettyprint-override"><code>#include &lt;cstring&gt;
#include &lt;cstdio&gt;
f(char*x){int*a=new int[strlen(x)+1],i=a[0]=0,m=0,M=0;for(;x[i];++i)a[i+1]=(a[i]+=(x[i]==92))-(x[i]==47),m=a[i]&lt;m?a[i]:m,M=a[i]&gt;M?a[i]:M;for(;m&lt;=M;++m,puts(&quot;&quot;))for(i=0;x[i];++i)putchar(a[i]-m?32:x[i]);}
</code></pre>
<p><a href="https://tio.run/##7ZxNr51VcoXn91eg7ondYBXpRIoCmB5mxC@gUAm5DbGEDTJ0ghTlr4fc8@56nqpjEimZZXBPt/H1uef92rt21aq11j6vfvrpxfevXv322x/fvHv1w9/@@vqjL179/Mv7N@@@//Lh7q2/vvnxy4fvnr36l2/f/@nX5//@5t0vf/r25bvX//bR409fPx7xw@t3z359/vHfffPJm5fffv3pNy8//eTt45@vXn76@Xc/vn/2@a9fv/nm848/fvP826/fPH7q5bPHv7/5@OWz2/svX/7Tn58/f9E//8M/Pn889PbrL97@5fbXZ28fT3P74cuvzr@/Oqd8@8XLrx5P@faTn/72y8/P/vCH589vb795vKIXe/zN7Y6vi714@5e///Nnt189//w/fvvtISryIaMy4yGyMh5/fHj86/GH25uPv694/Edd79/euX2mbu9mXf@8vZHnyNs/bm9fB1TW9dFzxHWaxzceD3v8z@3I24Uf34hzhut/t/88Xvxc7JzvdqbbOet22O28wTk5VV53Etdt1O2zeU5wu4PrNP2p6@biuue@pz46rs9cT3N75uLC19HVt3g7sE8bee7ieoLr4Tnt7ZrX6xov7uI6p5fx6tfT97n7ds5P1zD14yUjdUYrrhNdl@zRuM7T1zzjEJzzNmbnY8l9lqNz3rt@VWciziycm72OPKNxhiN6aLnydZJz@3FuNc9w1xmnPDN1wuE8QxEH1eMVJ4iuYLiOOT@ci2TPSJ5QOk@eZ5qNrHMP1wRcr@sJz6ic57xu7Qxc9exc571CsR/9Grae4DynO7cQc4d1pooHDebLELvCoYc9iwE@Q9YnMsSv2Tz/um733NF5zCSy4wRsVYcr0XKe6vz/TEad@TjRfA081@lnqvMYZ6T7xjqy@4TX2PV9GqJ57uKc@vrImTjm4wxhMQxnFZ87izPbZRz0RAbrq05g9ueus/btXrF/TeBEUT9YpInlTO0J63OScw898ieiOxDOAjwD1eF7xjl6cIKEEk7xtTg5faxQ6Sju0csiO3Z@4hRn6WcvyJjsdV2uF10fnqQwV@gZmzO6cdIa2fQas17iJ6ESMdWj1LmHpXiGsMMye5FcEd9p5iw2ji0juR8yegQqVmbt6TnP0tGQ1TXgZEpm2Sye1YNHjukJvhZNL@5IHyRm4DMmwXCqfqR1X/3jWQYk@r6S64dV0/8@txBpVFUn3i4ltRZQj12n8zOuPb/ZS6Qzi2FM7jpB5wxWl1BCLoN6WJ3gzAV9IipKMZbRyc/608OfBA@1Me5qL8OVBEAvPP6m5lF0k@J8aml02Qzjmsww162aVZhdWPfMdB4@t8zDkTT6wx3WJyl7/cEhk5p7tMlC5J6uMcnf0Vl9lY8uoNkxGR1yp6qU89qBybyKA4oKHuY1U0HPTmeInJrLgxrafX0ju7NV9oOTAora2Q/TidZhL1bYuTrV5KwAphdodhYlNaDXL9iHtNGJrUFEBWApOjySVBlgwD44SXAAr3OH1IjoyAIa9Jo8b5xAYuWc3BgD@0h6TFRfmxR3BoxFFP1JShARY@I8sUrlJPWdIJlHp172KmB5MFksr1nhQINGyGeAyV9ZPYo1MCrME5QuimsnNXHOmZiOhi4ytQo1j0TEdkILUl4MzDsBen7fy7Mog42XiwRBzmrY2@gmGKlq6NDhfkK0V0laiYthZh1k4/DKAmWW6bDBRbEWO6YqiD/QRHcG4Wonr9IOJOU6G3OfRNZwPGMKBKDspPiyQs4M1MIefensQBa3Tph0cjSEyaUN5cO0OQi4B9cLnLjvchFJ2geU2TgRpVTlRrTlRNZChZ13mZ4Eb/WcNI5kqWWsXibF2zV5sue@zMrdMnTC6ZzWqLWzFe2MCwCc3ACSmDgzHJ2r/ceHyDKY3KLTc1asljZ9ScMS1iIqTyTzTJARXAIc0nwXmR5YG6qaVoGVIvaeLvgUtyLZmVCnM25ATKkgdQnVQYVdjYU6p05P5e9x747OFqgbnuguw7aOwr46z7RGUhsTqNVxxLpPEEZa/6x83cdX3J3FTj6AQnSqDeySixD4Da8bHNRiGWzJO6vF7qUaxUeWNU4EH4OiG7Z2r9htUN@qBb9RINCiAG9p@Ssu13NYySLriEswSfUABu0m5Z62s9v3amTcbbNYu@FwTOvaNQwCo@h9smqImF6qLK8kVQD6Ssg1vAzFp0tR0vR0dSnYlaxhSs5o0HKzpMJ56e6sYWEQmwH@KjG7B9vjTkvRK7vbeqgYorqI80iX/EqJ9kBckSfhcQRCByyASAGx4Lz0Rsx/IfwreAGwfXQuLYs6pI71z86bvpwiG90kBj0jK9rq2nmoJ7XzeQIZ0kTS4K/AMh1lTXlRuHqmKb39x3DpZd58UTmxXYAK4sBaD@8FWdCgPDJtgSSL@vbpzLtriRgyYvixRkHOeQZ1yaYY6BH0Eh3//iFZwAWR/uhMJSWJnrmJ7KghuvmLSSCcu9yEvJOZh34H5JFDs/HBAemDfbw6ddN1aNcK5igxfDDIVJsEmwOtZ21SpcLk0UuBskmf1tMokIHi7FGkfvZtNFzIkGWCblwMgUgClA2kpMu30yRsYp6JNiLB3CUq2rPI6YYMNNnRyEvRlqQVZTSGXuxsXAJRJqdpr9VdJOBJCqav0nxfB6gQp6ru6Z4z/RTETLJY0ZTTJNS00uEZyo6A9jjkbYRF5F5wDTnY0A3gRPFIuRgAOrMEILBAyHHw9eDsSeAx/WoDhuEZirpPjIL1m4Espko@2nLJNKZjcMdYQApTLil1kM3BTQUgt4lh0Kijbp3v7NeEy1BKIGNxoHgyqSg5sxoW0Rw5IWRgF6nUsQ0yFUkH/XhBWJGU@0ZS1iCHv7HWZ0pLUb/od7vuUmIEinLYU9Sp61KN03fnh4IDRwaUYMbinlL81unQDDElYtUxQ3lRvyXznDXFTcqpaF3ILQngDThsOg8Yc1pB8HOXlwZkYA4Yyy5EoDrkiWAMQikIvj2XTGKz0hO1Q426HsMtDvcsK72PKcAiFGY1yggzU@deslqn@qoPEha8bT9HKZBJlEO6w29L@tDcMNgOhckvYQnyHo4rB6BLZqOlXMycrRMdGGxddMOQlCvgSHUMhOxxStPQ9QRCCRSMK0u1qoSUrWnRtUlxd48ElKJ0lssFFWM6xVlYtVS1WkoHmGbKOFISFBEsXEHjN/oZtjPp6kcHA5NOKPNxCKWgnz6RFjSbxZyoBtJft6rXMs9ITGUpchgtAPCqfb85Qi/pCfAgbVyTlUp0mrbZpH3xFCDYUyJiFu0piq91NDyURsOCQ6mOMu2Yg1ZxG9UOkjbBi0odYX6tlR4k/BKaGW45OsML6QOSC/yESkSzmSjZ8tJFAmDF3j3B0sq6FYLWRr9NJLVZnOqbqoEjEChJDVs2bZ/E7TpfWL/hXWhJK6c5g152FY48EKL2ApU2/cDqo5zyYNSbXunUAyXaIblFcDWNgYTmCO6To8VshYehwOVp0xJD78U9ZwstLPORrhZkwZwl6mrKrWuE4n3aasJqKs8mDoeA55pffsgnN9rj5tB/R4gat0ZHtsxGEmkldwSVPdwkSnAsaiinB0cFzFD2hT2kl7KFryEZRkeVZ2VuqFvNYZHY5Md1qVA/pWq7BkcND1Dqnt3yL/Y15aIaEQwtAPc3QQyiyKUXzUWbWY8t2aYcIrOcOFsWm0LZWZo3MpmE7tIGlVqpuWDjEYvUjZtTlhbbJItCPVILhqHQyxIhObCYYgqP@oa6CmWYKEnl8piuLayWMfRXDAJgMWLtIFtMcWEUG8qLOQiZUOWLgYNpD9cfV99aNEvAqM4ChfVMKPkc9xPK7J1wlkNPNYUxjgvIgJI/oVLktOWs/C1tL5Jl2s9cfFtIqk@GLftjLBdDwgawOvRn0IX4jNiIYhixkMvaqlYutGHHiZCl42K5SnBdRSxKn8PJNCRGwU9Mm2b7OiaQGhicaoLzGPCtu1t7POrh4XbfD3/86J9fv3v9/ttffnz/2Ucfv3h4OMvh/v0XL26fPrf74RG3QxRiPzzs@mVKXvzu2OsTDUHRPhynmEqDdlxDfdNrTTio5Nu1Mzq/u/J/@3rxP70eb3FR1PIcZifiq6zqKGt4FVT2mnZQqmQJVpZgLXL4h3KJtQwfKsWhYo6urXkhxyRAc0IKw/cSWDxiVTgtLIjmi57bMCMV9bi6hkTkjKKlBU47R0P4hTgmVIPD9sJ7NiZqoCdNUUoLZQ2V3EVkRMfYPK7zIlMzSI4@3xYxBj0uhixo8oeKSDFV2ydU2yzQNZkHXUwfmzyjnkqQN8kWlhdnQw@qbJYeQP1kdEBhAxoCRW1iA4YUDKocHphK6ZhhYJ3FZhActtSKMteOcURKBLu8x1Ll0iYPI6M3bCk0nyWZjaHsrlnXolV4CnvCUzogp5FofKkcqFlX0mO6Esxqho5cL6HKUp0VUfdwn5Z5KPNM7U36mLfXBXuNZcBVaoNIUVnks3pQLJRT9r01LEx600UIwg@MByt2QzvslLaN5YOj8UlDdrXXk0htoAV7NfUwdVDAV8R4GvhsrsCednkDL03aw97VooljQYOqoU/l/hKkwujVcjAt6zJRdCcIVCk/491ACA@ioknKUdGDHJPk0Vy9A7IaJlbcBzbbYxUOO3ZW0D1n2tO9zD7jeAj9sKqkqQkOrBY5Bmk7QgsM3E1sKdIBkMPcDCgjCYRT79NXQ3INNKcBaHodxLe0SnoRYxHAgD/FP6THGoKutsUn7JMDGmMkiREOUxpyPPKRQ@9I4bGtgaUdqjIuCYla/dFD4GDCAjgsI79AYJkpJiN130fSs@3DuqGBo9AeVhg2N13GQ5fO8a2Kp5WAtfuTTkFNEQpcIQU8ylbY/jWnPoISsMWkH8GlU9OtdmOMa2pHeGZoh1i3ZnBlIQysMVLPdJQ1XQRMasmQQT6TFsgkw7Ao@cYaT1oTa4D@yM6wbCzpfLWUHHdfELRYiHPJDAgfoE/NGwgBU7tqmrvZwKFjg7iO2pEi26U3NNYi6mFpcFHyTlDL@bvLaq8Znje088YybodxCpWmoRQBjZ6BZqs05m1PhBxJmiqRcHPocf0YY7nGL1RKKdSeGFP@Sno0kmHvGsN/ROhjGufsHf2gfZICIl81OxlkQsoKLvlSU7XYMDGgNXS8lcJmxWw3EJ@5y0Ef8@ZI8z5rCV8EjrJQbv2pJR/ZYqSdvoByOUUTuocbXCb52aUTGg@WczdGJEauCc1BizDCgLWM5MZZDd8zbtxtQJ@2a2qZrAyrcbjucQKjw4eu1wQ/phulUrYB2htLRrnRRnxu6ogJqlK0yO3CW74n5ULNJkojMpiLmdj0vdu1hunNHEkG8jnVTu923NTY69XOCvpFA2dFuM0FX@w0w3Wv7BGfiH/wb8yG5lVsqfpK5CBwE6ERASeWPIra5aIoxc4UJco6xWwmkZBGgyHToRQgL5Mo3EyoJbHs@0KgTGaYfW4pL6deNzphziY6TVUkCkB3wirhr80aIZq65Fv45XO8p9BdWtkjxnekJ5ydPLZ5@EAx1IAeuM0h2nROOvBoClnjdWvWE4K1BHiszXALXLj/byJcyieGQVjFuoYRQZjQYrrYFXd@qkIobbtPEMBlcGTmInRqXAClEUcTqw1Mr91w3Y3yB8YKueCBYzErefH6UG7TTyKgQbwsT1@6Zw50jvfCnVl31VbxI9kwWhreRkcL1cSBogLgRVbMFrRIlXT7v6Xc1SBgocPoounGPTh4iNXVPc1ugFrFN8QGcyvugwynqAZNFxZN5Gd9xOpP40HuteSiJzVFDy1iGxCf1aPaGLOZ0W0DMZJBuQVCoS2m8CNn6R0av8natDU@ABtvXeFwdGokAkwNvTGrO6aNSC3MY3NIMPYsc9GzkickhnI5DBqVdMRMuWi5m5JZIlkhQuRwRTOgci7ukAgtAOW@3YrtWQM0mjdRI2aLRH@4zH@VgxNCJjbu7VCxLC5sRoohy1jptYwxOSHjgA3vWONtcGM/W6j1lyrt0erVqKFV1kWExwWmV6cNJZUxzb5CE/iG6qHl0T1UWDRMu5ISMfHiXpeaZnt70eAOSmyDnghnlvrR9jYK4eudM222lu1tpGP6ECXnTOeyhkKxz8rJEYViEUmzraQ0ic5W0bpj1dxKoF@F8kDj4z4pHzHcMe7@dsXj1BdiuwCUnH0P9oepbm0bi7kPEeROdMFSpPA4MFBf6Xi1pNbVqu0wZtfsFCAdTztFu2UbIkUVQLePDC9G4ZwNXZoDMscUUuMUlWARv0s5p/vOw22AYZ8XS2qabdVjP1qsX8WWXGtpEilGT7/zwh2y0OhsoZm9GyM5uXPD5Ru0njWGJQRg@yraSPeOJvtboubJY1F6WvZrSgZfYBAxu17lb1L/f5qqGMWBLaPh0eNNv11uU675OgicIGtjY00nkrPBL3SVO7wO@mjcMU3VsDO5LHSaudURx8FdIyqs7znIMXIbGdSJtd9m9hROB77M/dAMqx9xm9L4K9eXr@QoEmziWq2POs5i30I/CV0lOVayYO3C8FtMaqUtN7Sj0KV9vtLaJr3XphIkuxjX7mCGXNsKa5zsbuSucdnUcoII3lVxx4REc4BOsrnVyXqpD3keu3JdLYc8GUWk7Fe1mEznCcYK1/H9vh@kOnkVxSFLFLIFlJt3P5sm50lHWio3VMeyvC2mRQy7@@scT4x7PYfmQX7zZqJmP2fMlo5l61pQsGwEtIfovANH1nQY7KqgNVqbCOdrS2JJTmtPfihlj8xa4/uafbAZs4k0lhOw1vY7uuhlYxv3Vi29xC/8iA9Vbgqb@6mmJxtRPMtv00jNxCgv051tjxAMG7ZVmxitoTmJTKDIlm/p0LUzQmY55huZIBYgV2o8YnI6NZt7srTGy36p17mGF7aP4bJjvmkqtS/E1npkVNizpDOCrydY34dT@2sFYgiYBf5LOai9O27qtN@azUTuS@J0sM/CQdb9@N1HZS@3WSrVOP6lNdEGe7zNy2g0Ig22fvlfk8R864BkCiS8m8L58qK628sWuXevTAc/G1mpnVlji8/l6LQRkEXhomSPYZrcMY8H1q@lMAsPpQV4oGv3Qjn0ZLmJK6dADpHxuz5s2vdx2VjrcslTtTicGLK/Ykngtfwm8qg1G7fYfxDWe78YjEnECjT7YLW9@L0mSwdOO7daQzT7GPQdzKZckwTytvVob3utVXn1cWJZrJ3lpf8gvRbkqMEU7iVYy90QkUU0V7EI3QI731K3stAw3rPJUwfobGdGU3bDKTv1lytRCLGeGbk39UiGRgq@uCprhWeOUMyGOoj32XpftZxZCyZ6P6tD@9/Y6Z5eT6@n19Pr6fX0@v/8evH0eno9vZ5eT6@n1//19fCfr7774dvvf/7txXc/vX7/9s3PP7/519f/BQ" rel="nofollow noreferrer" title="C++ (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 32 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>®1‚„_\Ik©0¢ãʒ0®r.;ηO¤Ā(ªdP}ZÄ=i,
</code></pre>
<p>Combines the Validator and Generator programs into a single program to save bytes.</p>
<p>Input as a list of characters.<br />
Outputs an empty string as falsey, or <code>1</code> as truthy. In addition, outputs all possible generator outputs as a list of lists of <code>-1</code>/<code>1</code> for deceleration/acceleration respectively.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//0DrDRw2zHjXMi4/xzD600uDQosOLT00yOLSuSM/63Hb/Q0uONGgcWpUSUBt1uMU2U@f//2ilmBglHQWleBCBxAQT@kqxAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V@mFFCUWlJSqVtQlJlXkpqikJlXUFpipaBkX2nLpeSYXFKamAMR083JLAZLBAMl/EtLgEIaxZpAAZ3Q/4fWGT5qmPWoYV58TET2oZUGhxYdXnxqksGhdUV61ue2@x9acqRB49CqlIDaqMMttpk6/2sPbbM31Di0MuZ/tFJMTLy@vr6SDogBRPEIZkyMko6Ckn68PogBFNMHigBJIFsfLKuvD1aiBGKCeBB5kDTQFJBIPFSFAkgJ1GAQiIfaBzEmHmIE2G6I8WAOiA8xGKEPLAgWVooFAA" rel="nofollow noreferrer">verify (almost) all test cases</a>. (The larger test cases are omitted; the more <code>_</code> are in the input, the slower the program becomes because of the <code>ã</code>.)</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>®1‚          # Push pair [-1,1]
   „_\       # Push string &quot;_\&quot;
      I      # Push the input character-list
       k     # Get the 0-based index of each character in &quot;_\&quot;,
             # or -1 if it isn't present (in case of &quot;/&quot;)
        ©    # Store this list in variable `®` (without popping)
         0¢  # Count the amount of 0s
           ã # Get the cartesian product of the [-1,1] with this count
             # (resulting in all possible count-sized list of -1s/1s)
ʒ            # Filter this list by:
             #  (implicitly push the current list of -1s/1s
 0           #  Push a 0
  ®          #  Push list `®`
   r         #  Reverse the order of these three
    .;       #  Replace every 0 in list `®` with the -1s/1s of the current list in order
 ηO¤Ā(ªdP    #  Check two things:
             #    1. The sum results in exactly 0
             #    2. No prefix is negative (so we never have any negative m/s speeds)
 η           #   Get the prefixes of this list
  O          #   Sum each inner prefix-list
   ¤         #   Push the last sum (without popping), which is the sum of the full list
    Ā        #   Check if it's NOT 0 (0 if 0; 1 otherwise)
     (       #   Negate it (0 if 0; -1 otherwise)
      ª      #   Append it to the list
       d     #   Check for each inner integer if it's non-negative (&gt;= 0)
        P    #   Check if this is truthy for all of them
}            # Close the filter
             # (we now have a list of all possible paths if truthy; or [] if falsey)
 Z           # Push the flattened maximum (without popping): 1/-1 for truthy; &quot;&quot; for falsey
  Ä          # Get its absolute value: 1 for truthy; &quot;&quot; for falsey
   =         # Output it with trailing newline (without popping)
    i        # And if it was 1:
     ,       #  Also output the list itself on another line
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/251028/">251028</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




