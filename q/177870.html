<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::QNNN</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
  <!-- TXXX -->
<tr d-ix="0"><td>036</td><td>Wolfram Language Mathematica</td><td>200923T032455Z</td><td><a href="https://codegolf.stackexchange.com/questions/177870/does-this-set-represent-a-natural-number/211520#211520">att</a></td></tr>
<tr d-ix="1"><td>027</td><td>K ngn/k</td><td>181220T212550Z</td><td><a href="https://codegolf.stackexchange.com/questions/177870/does-this-set-represent-a-natural-number/177885#177885">ngn</a></td></tr>
<tr d-ix="2"><td>052</td><td>Wolfram Language Mathematica</td><td>181223T074123Z</td><td><a href="https://codegolf.stackexchange.com/questions/177870/does-this-set-represent-a-natural-number/177967#177967">alephalp</a></td></tr>
<tr d-ix="3"><td>044</td><td>JavaScript Node.js</td><td>181220T210910Z</td><td><a href="https://codegolf.stackexchange.com/questions/177870/does-this-set-represent-a-natural-number/177882#177882">Neil</a></td></tr>
<tr d-ix="4"><td>059</td><td>Wolfram Language Mathematica</td><td>181221T041013Z</td><td><a href="https://codegolf.stackexchange.com/questions/177870/does-this-set-represent-a-natural-number/177899#177899">Misha La</a></td></tr>
<tr d-ix="5"><td>007</td><td>Jelly</td><td>181221T140445Z</td><td><a href="https://codegolf.stackexchange.com/questions/177870/does-this-set-represent-a-natural-number/177915#177915">Dennis</a></td></tr>
<tr d-ix="6"><td>008</td><td>Jelly</td><td>181221T134359Z</td><td><a href="https://codegolf.stackexchange.com/questions/177870/does-this-set-represent-a-natural-number/177913#177913">Dennis</a></td></tr>
<tr d-ix="7"><td>081</td><td>Red</td><td>181221T134612Z</td><td><a href="https://codegolf.stackexchange.com/questions/177870/does-this-set-represent-a-natural-number/177914#177914">Galen Iv</a></td></tr>
<tr d-ix="8"><td>009</td><td>Japt</td><td>181221T113956Z</td><td><a href="https://codegolf.stackexchange.com/questions/177870/does-this-set-represent-a-natural-number/177908#177908">Shaggy</a></td></tr>
<tr d-ix="9"><td>009</td><td>Brachylog v2</td><td>181221T032154Z</td><td><a href="https://codegolf.stackexchange.com/questions/177870/does-this-set-represent-a-natural-number/177897#177897">ais523</a></td></tr>
<tr d-ix="10"><td>044</td><td>Python 3</td><td>181220T201434Z</td><td><a href="https://codegolf.stackexchange.com/questions/177870/does-this-set-represent-a-natural-number/177874#177874">Leaky Nu</a></td></tr>
<tr d-ix="11"><td>010</td><td>Jelly</td><td>181220T203136Z</td><td><a href="https://codegolf.stackexchange.com/questions/177870/does-this-set-represent-a-natural-number/177875#177875">Erik the</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>36</s> <s>40</s> 36 bytes</h1>
<pre><code>MatchQ[Sort//@#,{b=a___,{b}?#0}|{}]&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73zexJDkjMDo4v6hEX99BWac6yTYxPj4eSNfaKxvU1lTXxqr9DyzNTC1xCCjKzCuJVta1S3NQjlWrC05OzKur5qqu1eGqrq6FkDogFpgJEkER1YFLQ@WhalE0wXTh066DxUSobgztUAaa3WjaCRmNYi4um7Fajk2IWGXUNm7wOo8LklzgKQA1LaDGGJb0U40c/aQlH@xpB90Y9JQ7Gtlo6og1i6v2PwA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>26</s> <s>24</s> 27 bytes</h1>
<pre><code>{{o'!x}[#x]~{x@&lt;x:o'x}x}`j?
</code></pre>
<p><a href="https://ngn.bitbucket.io/k#eJy1lMsKgzAURPf5CmsLtpBFu00K7X+EgN0IfYCgLiIhfnu1akx84CO3rkQuJ+Nk7kREyjjYCcX2ghdS3K+CxIFQQoWvG0IZkQeWFwmJPEHD+E2PYfR4fqigOU1OXKGM+Yz7HuRDL/yHZRwU3GFxhYZia2zJxHCSe2qxlu12gKG2xmEQOzps4wIGsWPSBDziy/KjDLV9ue3LFr+n1M7IxpaK4V9V2JTUakcFj32aGfNRiomvhwGgNdEcdqXWxP6wC7Qh2vksryzdls4lAYPrmQp77m0ZDFtjdfjce8ZSa6QfEtv2F0jZDE0Y2dmVPTNQ2wXWsWwqLHAn2MsBAW0qAbATjJJZ0QnriP8phPK+viWXHTQ=" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 52 bytes</h1>

<pre><code>If[Max[#0/@#]&lt;(l=2Length@#),l]&amp;@*ToExpression/*EvenQ
</code></pre>

<p><a href="https://tio.run/##y00syUjNTSzJTE78n6Zgq/DfMy3aN7EiWtlA30E51kYjx9bIJzUvvSTDQVlTJydWzUErJN@1oqAotbg4Mz9PX8u1LDUv8H9AUWZeSbSygq6dQlq0cmysgpqCvoNCcAlQOD24ICezJFqpuparuroWTOiAGCAWkNJBFtOBS0JkIWwdZB1QLTp49OpgMQ6iF10zjIFqL5pmAgbroBiLw16sVmMTIlYZtY0btM6DpBJY1KOkAZS4wkw01UixTlKawZpg0A1BS6qjUYymjlizlGL/AwA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, <s>53</s> <s>48</s> 44 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>f=a=&gt;(a=eval(a)).every(e=&gt;a[e.length]&amp;&amp;f(e))
</code></pre>

<p><a href="https://tio.run/##7VO9DoIwGNx5EGiTyhuUxEEnJ3@mytBgQQ1pDRASn76WiEZqaUt0cHBr7r7eXb7cd6YtrbPqdGlmXByYlDmmOAEUs5aWgEIYs5ZVV8BwQgmLS8aL5piGYQ4YhDITvBalgkUBIrJd7xZpBIPgFc4VoUD4BpJ0BEYdZeYUgez/0FNgTOHOIrtPb4QmOSJDiDF93eDxcOXXDBzmaGDknc0YzwT5jn1b7mfjdRsdrDTac7KcrzbmwyC2pvaSjh74VJ1Ye/hh0z1rrhs5D/VfQ21uQgflDQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a> Test cases mostly shamelessly stolen from @Arnauld's answer. Explanation: If a set represents a natural number, then the natural number it represents must be equal to the size of the set, and (given that the elements are guaranteed distinct) the elements must be the representations of the natural numbers less than it, and these must therefore have shorter lengths. This is trivially true of the empty set of course. Edit: Saved 5 bytes thanks to @Arnauld. Saved 4 bytes thanks to @Cowsquack.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>60</s> 59 bytes</h1>

<pre><code>E!=(If[Sort@#===Range[t=Tr[1^#]]-1,t,E]&amp;//@ToExpression@#)&amp;
</code></pre>

<p><a href="https://tio.run/##y00syUjNTSzJTE78H1CUmVcS/d9V0VbDMy06OL@oxEHZ1tY2KDEvPTW6xDakKNowTjk2VtdQp0THNVZNX98hJN@1oqAotbg4Mz/PQVlT7b@CvoNCtYJSda2SDpCsrtUB4looB8jSqUZwIFJoCmqVFGpj/wMA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>

<p>The core of this solution is the function</p>

<pre><code>If[Sort@#===Range[t=Tr[1^#]]-1,t,E]&amp;
</code></pre>

<p>which converts a list of the form <code>{0,1,2,...,n-1}</code> in any order into the output <code>n</code> (in particular, it converts <code>{}</code> to <code>0</code>), and converts anything else into the real number <code>E</code>.</p>

<p>Call this function <code>f</code>. Given an input such as <code>"{{{}},{}}"</code>, we do the following:</p>

<ol>
<li>Convert the string into a Mathematica expression.</li>
<li>Apply <code>f</code> at every level, getting <code>f[{f[{f[{}]}], f[{}]}]</code>.</li>
<li>Evaluating all the <code>f</code>'s will produce a natural number for an input representing it. For example, <code>f[{f[{f[{}]}], f[{}]}]</code> = <code>f[{f[{0}], 0}]</code> = <code>f[{1, 0}]</code> = <code>2</code>. Anything else will produce <code>E</code>.</li>
<li>We test if the result is a natural number by checking if it's not <code>E</code>. </li>
</ol>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>

<pre><code>Ẉ&lt;Laß€Ạ
</code></pre>

<p>This is a port of <a href="https://codegolf.stackexchange.com/a/177874/12012">Leaky Nun's Python answer</a>.</p>

<p>Since the input has to be a string, this submission is only valid as a full program.</p>

<p><a href="https://tio.run/##y0rNyan8///hrg4bn8TD8x81rXm4a8H///@joSA2VgeMEQxsQsQqo7Zxg9Z5AA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a> or <a href="https://tio.run/##y0rNyan8///hrg4bn8TD8x81rXm4a8H/w@1ABhApuP//r6HBpaAQHasDIqNjYbQOiA3lgETRZHTgSuBqoDrQtML04jdEB4u5cBMwjIAyMNyAZgQh41FMxm07VgdgEyJWGbWNG7zO49LU0YClILQEgR5lWJNSNGoqIDUl4UpG6EZhJubRWEdTR0KUawIA" rel="nofollow noreferrer" title="Jelly – Try It Online">verify all test cases</a></p>

<h3>How it works</h3>

<pre><code>Ẉ&lt;Laß€Ạ  Main link. Argument: A (array)

Ẉ        Width; compute the length of A's elements.
  L      Yield the length of A.
 &lt;       Compare them, yielding an array of Booleans.
    ß€   Recursively map the main link over A.
   a     Take the logical AND of the Booleans and the results of the map.
      Ạ  All; yield 1 if and only if all ANDs yielded 1.
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 8 bytes</h1>

<pre><code>ß€Ṣ
ÇṖƤƑ
</code></pre>

<p>Since the input has to be a string, this submission is only valid as a full program.</p>

<p><a href="https://tio.run/##y0rNyan8///w/EdNax7uXMR1uP3hzmnHlhyb@P///2goiI3VAWMEA5sQscqobdygdR4A" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a> or <a href="https://tio.run/##y0rNyan8///w/EdNax7uXMR1uP3hzmnHlhyb@P9wO1AIiBTc///X0OBSUIiO1QGR0bEwWgfEhnJAomgyOnAlcDVQHWhaYXrxG6KDxVy4CRhGQBkYbkAzgpDxKCbjth2rA7AJEauM2sYNXudxaepowFIQWoJAjzKsSSkaNRWQmpJwJSN0ozAT82iso6kjIco1AQ" rel="nofollow noreferrer" title="Jelly – Try It Online">verify all test cases</a></p>

<h3>How it works</h3>

<pre><code>ß€Ṣ   Helper link. Argument: A (array)

ß€    Recursively map the helper link over A.
  Ṣ   Sort the result.
</code></pre>

<p>This yields a canonical representation of the input, consisting solely of sorted arrays.</p>

<pre><code>ÇṖƤƑ  Main link. Argument: A (array)

Ç     Call the helper link to canonicalize the array.
   Ƒ  Fixed; call the link to the left and test if it returns its argument unchanged.
 ṖƤ       Pop prefix; for each non-empty prefix of the result, remove its last element.
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, 81 bytes</h1>

<pre><code>func[a][p: 1 foreach e to-block a[p: p *(pick[1 0](length? e)&lt; length? a)* f e]p]
</code></pre>

<p><a href="https://tio.run/##3ZJBCoMwEEX3nmJwpUKhbqXQO3Q7zCKNkyqKBrHnT7Ui1TQaSheFrpL5mbwJ@b/j3Fw4RwpUZtS9kSgIdQYpqLZjIQtg6NvDtW5lBWI80ZBEupQVpnCkqObm1hdn4PgE817ECShg0mR0Vzb9UIRIYfAqkKxyVNbSIDi75ma7@yk6QRPJC7T5NmWFmRb3W5aYTfiCtz/1bbBd@o6/vf678fNXhHYwnAY7TdhOCjod/iwpuzlZ0TZS@8f2es01Dw" rel="nofollow noreferrer" title="Red – Try It Online">Try it online!</a></p>

<p>Similar to Leaky Nun's Python 3 answer</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 9 bytes</h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/177882/58974">Neil's JS solution</a>. Please upvote that if you're upvoting this.</p>
<pre><code>e@Ê&gt;XÊ©ßX
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=ZUDKPljKqd9Y&amp;input=W10=" rel="nofollow noreferrer">Try it</a> or <a href="https://tio.run/##y0osKPn/P9XhcJddxOGuQysPz4/4/z@aiyskKNSVKzqWKzo6FkzogBggFpDSQRbTgUtCZCFsHWQdUC06ePTqYDEOohddM4yBai@aZgIG66AYi8NerFZjEyJWGbWNG7TO4@Jyc/QJdoUkFuQUgBJTmEkmGinOSUoxWJMLuiFoCXU0gtHUER@7sVy6uUEA" rel="nofollow noreferrer">run all test cases</a></p>
<pre><code>              :Implicit input of array U
e             :Does every element in U return true
 @            :When passed through the following function as X
  Ê           :Length of U
   &gt;          :Greater than
    XÊ        :Length of X
      ©       :Logical AND with
       ßX     :A recursive call of the programme with X passed as the new value of U
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a> (v2), 9 bytes</h1>

<pre><code>↰ᵐo.t~k|Ė
</code></pre>

<p><a href="https://tio.run/##SypKTM6ozMlPN/r//1HbhodbJ@TrldRl1xyZ9v9/dHR0bKwOkABhECs2FgA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>

<p>As usual for a <a href="/questions/tagged/decision-problem" class="post-tag" title="show questions tagged &#39;decision-problem&#39;" rel="tag">decision-problem</a>, this is a full program. Input from standard input, using square brackets. Output to standard output as <code>true.</code> versus <code>false.</code>.</p>

<h2>Explanation</h2>

<p>Although I said above that this is a full program, it's actually more interesting than that; it's <em>both</em> a full program and a function. When used as a full program, it prints <code>true.</code> if the set is a natural number, or <code>false.</code> if it isn't. When used as a function, it "normalizes" a natural number (i.e. normalizes all its elements and sorts them into order by value; this program uses lists internally, not sets), or "throws an exception" (actually a failure, as this is Prolog) if the input isn't a natural number.</p>

<p>The full program behaviour is easy enough to explain: it's purely implicit in Brachylog's treatment of full programs that don't contain I/O instructions. The behaviour in question is "run the function, taking its input from standard input, and asserting that its output matches the description given by the first command-line argument; if the assertion fails or the program throws an exception, print <code>false.</code>, otherwise print <code>true.</code>". In this case, the command-line argument is missing (i.e. "anything goes"), so the exception/no-exception behaviour of the function gives the output.</p>

<p>As for the function behaviour:</p>

<pre><code>↰ᵐo.t~k|Ė
↰ᵐ          Map a recursive call to this function over the list
  o         Sort the list
   .   |    Assert that the following operation need not change the list:
    t         Take the last (i.e. greatest) element of the list
     ~k       Append an arbitrary element to the resulting list
   .   |    Output the unchanged list
       |    Exception handler: if the above threw an exception,
        Ė     Assert that the input is empty, and output an empty list
</code></pre>

<p>A natural number is defined as containing two parts: the elements of the natural number below, unioned with the number itself. Thus, all its elements are also natural numbers. We can recognise a natural number by a) verifying that all its elements are natural numbers, b) verifying that the set's largest element is identical to the set without its largest element.</p>

<p>When we're using lists rather than sets (thus the square brackets), we need to put them into a consistent order for equality comparisons to work (in this case, sorted by "value"). Brachylog's default sort order will sort a prefix of a list before the list itself, which conveniently means that it'll sort natural numbers by numerical value. So we can just recursively sort all our numbers to get them into a consistent order. In fact, via the function we're defining recursively, we can achieve both results at the same time: recursively sorting the number's elements, and verifying that it's a natural number.</p>

<p>The function thus has four main parts. <code>↰ᵐ</code> is the recursive call, ensuring that each element is a natural number, and converting it each element to a normalized form. <code>o</code> the normalizes the number itself (its elements are already normalized, so all we have to do is to sort it). Then <code>.t~k|</code> ensures we have the structure we want by checking that the largest element and other elements are the same. An empty list (i.e. 0) doesn't have a last element, so will get an assertion failure with <code>t</code>; the <code>|Ė</code> handles this case, via giving an explicit fallback in the case where the input list is empty.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://docs.python.org/3/" rel="noreferrer">Python 3</a>, <s>69</s> <s>58</s> 44 bytes</h1>

<p>11 bytes thanks to Erik the Outgolfer.</p>

<p>14 bytes thanks to Mr. Xcoder.</p>



<pre class="lang-python prettyprint-override"><code>f=lambda s:all(len(e)&lt;len(s)*f(e)for e in s)
</code></pre>

<p><a href="https://tio.run/##7VSxDsIgFNz5CkYwbG5N@yXIgAqxCdKmj8Wvx2JpI4haEwcHF7g83t0jeZfrL@7U2a33ujHyvD9KDJU0hhhliaJ1uIBu9Ih1N2CFW4uBeqfAHSQoaPgOccEQ52I6WUA3GCpJlS3P8T32JqSZ9YrOCoqR/UCPIJud0d9JJ7rPJheHl0pr274t97vfm9ySGCBdU8E0/H7nn3mmbJhcJrfrf8NZ31otgVDIDgjZsQRH1Q@tdUSP6UL9FQ" rel="noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 10 bytes</h1>

<pre><code>ẈṢ‘⁼Jȧ@ßƇƑ
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///hro6HOxc9apjxqHGP14nlDofnH2s/NvH////RUBAbqwPGCAY2IWKVUdu4Qes8AA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>
