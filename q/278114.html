<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::278114</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>039</td><td>K ngn/k</td><td>250207T112823Z</td><td><a href="https://codegolf.stackexchange.com/questions/278114/half-price-for-every-second-pizza/278120#278120">ovs</a></td></tr>
<tr d-ix="1"><td>9895</td><td>jq</td><td>250207T100819Z</td><td><a href="https://codegolf.stackexchange.com/questions/278114/half-price-for-every-second-pizza/278119#278119">mousetai</a></td></tr>
<tr d-ix="2"><td>095</td><td>JavaScript Node.js</td><td>250207T052255Z</td><td><a href="https://codegolf.stackexchange.com/questions/278114/half-price-for-every-second-pizza/278115#278115">l4m2</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>41</s> 39 bytes</h1>
<p>thanks to @att for -1 byte</p>
<pre><code>{&amp;/(+/(x+/0.5|*&amp;y[&lt;y]2 0N#)'=)'++\!2&amp;y}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxlkU1OwzAQhfc5xUQR+akBjyd2sJoWcQIuUCrURSMhVSBBBbVK7o49bqKQWpYX33szfvZ0y3MuSyHLk5B4b34Xudus3JYAn7OqWFeFEC8p5a5PEgBqYA3dpmnhlnDrgR4BIdSM6ikKLvKLkaLICNlo/9eCDlThjDZMFU2oHiipeQcwLBiaN4GH2L1mQQ8CR4zBlRq1eq7RJatpwdrJBsuFZhAJr3coR4wfgNj6DIFfnXyLZRsNpuFJMT/Y+OgximqCQ9ngVtorfKGPlCQSvg4fP7A7HPef77vj2/d+6Vl3mfXp7If96m6UKO8yV6W0WD26vnBPYdxpJinLXP8HtvVvPw==" rel="nofollow noreferrer">Try it online!</a></p>
<p>The interesting part is the price calculation for single order, <code>+/0.5|*&amp;2 0N#</code>. We start from a sorted list of pizza prices.</p>
<p><code>2 0N#</code> splits the list of pizza prices into two rows. If there was an odd number of prices, the second row ends up being longer, which happens to be exactly what we want.</p>
<p><code>&amp;</code> (deep-where) gives the index (row and column) for each 1 in the array. For larger integers the index is repeated by that integer. <code>*</code> extracts only the rows, <code>0</code> for discounted pizzas and <code>1</code> for the others. <code>0.5|</code> increases all 0s to 0.5s, after that
we just need sum everything (<code>+/</code>).</p>
<pre><code>  p:2 4 6 6 8
  2 0N#p
(2 4
 6 6 8)
  *&amp;2 0N#p
0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
  +/0.5|*&amp;2 0N#p
23
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://stedolan.github.io/jq/" rel="nofollow noreferrer">jq</a>, <del>98</del> 95 bytes</h1>
<ul>
<li>-3 bytes thanks to <a href="https://codegolf.stackexchange.com/questions/278114/half-price-for-every-second-pizza/278119?noredirect=1#comment595360_278119">@ovs</a></li>
</ul>
<pre><code>def f(a):sort|[(1+range(length))as$b|(.[$b:]|f(a))+(.[:$b]|add)-(.[:$b/2%$b]+[0]|add/2)+a]|min;
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70oq3DBgqWlJWm6FjfjU1LTFNI0EjWtivOLSmqiNQy1ixLz0lM1clLz0ksyNDUTi1WSajT0olWSrGJrQAo1tYE8K5Wk2JrElBRNXQhH30gVKKIdbQAW1TfS1E6MrcnNzLOGWrNHI9rIAKTfTFNThwvE0VEwRhfAUGFkZAAWMjSCiBmCFWHRaQzEJtgEzTDtgGEkCWOoaiMU801AktGx0bEQPyxYGq2UqATlAAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 95 bytes</h1>

<pre class="lang-none prettyprint-override"><code>p=&gt;g=(a,s=p)=&gt;~~Math.min(...a.sort((p,q)=&gt;p-q).map((x,i)=&gt;(s+=x-~~a[++i/2-1]/2)+g(a.slice(i))))
</code></pre>
<p><a href="https://tio.run/##dVLbjoIwEH3vV/RxupRCy2VJNvUP9gtcs1ZElg1KFWJ84tfdEeqKRhsmzZwzc4bT9tccTZsfKtv5u2ZdnDf6bPWs1GB4qy3Ts77/NN2P2FY7EEIY0TaHDsDyPXLW3zOxNRbgxCvMofX0ye97M/e8KlC@XASKeSVgV13lBVQM1/ljSVJO5ypcUH9GVeoyTqMRiW@Iq4lSItUVUqFrxDVp5TQe8Sy9Q9MRleENjiewfNTgNHGUkg9CnL47KlEknlDKRXSdFQ109IKWEUmQzjJO7wK/0RlaSP5P4Fk4nYTIEPO5dMTzfdQMQ6ImpTezV2c43ZVm2TBepmOZzEYliZ4u1zD8QubOKCVLcShsbfB6A/hae4xTEG/swg5pUCLwzQ1f8RyfSN7s2qYuRN2U0OkNeIZBcTQ1rBh2dlrn@EL@AA" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/278114/">278114</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




