<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::122750</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>069</td><td>JavaScript</td><td>241022T100958Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/276245#276245">Shaggy</a></td></tr>
<tr d-ix="1"><td>013</td><td>Japt m</td><td>201002T094752Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/211932#211932">Shaggy</a></td></tr>
<tr d-ix="2"><td>127</td><td>C#</td><td>170526T090202Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/122923#122923">Mormegil</a></td></tr>
<tr d-ix="3"><td>177</td><td>Rockstar</td><td>201002T094943Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/211933#211933">Shaggy</a></td></tr>
<tr d-ix="4"><td>122</td><td>QBasic</td><td>180919T040858Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/172414#172414">DLosc</a></td></tr>
<tr d-ix="5"><td>133</td><td>Python 2</td><td>170525T144945Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/122753#122753">hyper-ne</a></td></tr>
<tr d-ix="6"><td>121</td><td>PowerShell 3+</td><td>170526T123946Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/122944#122944">Matt</a></td></tr>
<tr d-ix="7"><td>079</td><td>Haskell</td><td>170525T231246Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/122857#122857">Quelklef</a></td></tr>
<tr d-ix="8"><td>130</td><td>F#</td><td>170526T124439Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/122946#122946">Brunner</a></td></tr>
<tr d-ix="9"><td>070</td><td>Perl 6</td><td>170525T211810Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/122836#122836">Sean</a></td></tr>
<tr d-ix="10"><td>018</td><td>Jelly</td><td>170526T000328Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/122872#122872">fireflam</a></td></tr>
<tr d-ix="11"><td>nan</td><td>Ruby 2.4</td><td>170526T001210Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/122874#122874">Value In</a></td></tr>
<tr d-ix="12"><td>091</td><td>Python 2</td><td>170525T210012Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/122833#122833">ovs</a></td></tr>
<tr d-ix="13"><td>005</td><td>05AB1E</td><td>170525T144736Z</td><td><a href="https://codegolf.stackexchange.com/questions/122750/interpret-p-code/122752#122752">Emigna</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript, 69 bytes</h1>

<pre class="lang-none prettyprint-override"><code>p=&gt;a=&gt;p.map(i=&gt;(n=a[x++],i&lt;a)?n+a[x++]:!(g=d=&gt;n%--d?g(d):d-1)(n),x=0)
</code></pre>
<p><a href="https://tio.run/##hU9da8MwDHzPv1hgYGNlWP6KXeb0h5Q@mGUtGSyYrnT995nU7qEM1j4I6Xx3OvmjnMrX22Gqx@4Ul11eah5KHurLZ6liyoOYc9mcldrC9FrkelZXtHoS@zzmYX7uunG9F6NcjR1KMUs4Zy2X78N0fBc70TSbVrXQ1ptSv1Vvev2D1YP6T1vv7FXttmkknxQgAcYeMERIgRqNfQS0CSJBR68k0JYYgkQgQU@8gZ5dEK9i68CTVoOzEBLQNvQGPHvJR6xjHxm1BiY8GLKT2SEvMvYi6JEnTBaioyikAA9Rc3CwF4oSEQ2fwT@Qyw8" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-m</code></a>, <s>15</s> 13 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Takes the programme as a character array, outputs <code>true</code> or <code>false</code> for the prime test.</p>
<pre><code>ø²?Vv j:Vv2 x
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LW0&amp;code=%2bLI/VnYgajpWdjIgeA&amp;input=WyIrIiAicCIgInAiICJwIiAiKyIgIisiICJwIiAiKyIgInAiICJwIiAicCIgIisiICJwIiAiKyIgIisiICIrIiAiKyIgIisiICIrIiAiKyIgIisiICJwIiAiKyIgInAiICIrIiAiKyIgIisiICJwIiAicCIgIisiICJwIiAicCIgInAiICIrIiAiKyJdCgpbNiA5IDE4NyAxNjggOTYgMTY3IDE3OCAxMzkgODYgMTQ4IDk5IDEwMyAxNjYgMTggMTE5IDE1IDEzMiA3NyAxNiA4OCAxMzkgMzQgNTggOTAgNDMgNjkgNjggMTUyIDU5IDEwNiAxMzQgNDkgMTU1IDEwMCA1MiA1NSAyNyAxODggNDEgNzcgMjMgNDkgMTcxIDIzIDE5MyA4NCAxMTEgMTY1IDgwIDE4IDYzIDIzIDExNiAxMTIgMTE5XQ" rel="nofollow noreferrer">Try it</a></p>
<pre><code>ø²?Vv j:Vv2 x     :Implicit map of each character in the first input array
ø                 :Contains?
 ²                :  &quot;p&quot;
  ?               :If so
   V              :  Second input array
    v             :  Pop first element, mutating V
      j           :  Is prime?
       :          :Else
        Vv2       :  Pop first 2 elements of V
            x     :  reduce by addition
</code></pre>
</div>
<div id="pu2" class="pu"><h1>C#, <s>130</s> <s>129</s> 127 bytes</h1>

<pre class="lang-cs prettyprint-override"><code>p=&gt;d=&gt;{var i=0;p.Any(c=&gt;{Console.Write((c&lt;44?d[i++]+d[i]:Enumerable.Range(2,d[i]-2).Any(x=&gt;d[i]%x&lt;1)?0:1)+&quot; &quot;);return++i&lt;0;});}
</code></pre>
<p><a href="https://tio.run/##VVBba9swFH73rzgURiXsGsu32PWlhLHBYIPSFPoQ/KA5JghiWZPk0hDy271je4XMD9I557sdqzUP/SCHaTRCHmF3NrbrC@e2838K@adw2hM3Bp71cNS8h4tjLLeihfdBHOC1M5Z8H2VbGqtR6W1bKwZZCmn3TV2D6NXJgxUDtVp4sKB4qtFS5@LAQiP/YEpWoHCu/0X94kKS1QnFXB8NXZa5tYZqAfZBUzg3IZ9j1vg7dRKW3MM99XfdqWstMVDV8EPaKPSfuTYdMZT6r8NWa34muMXyi5Oq6kNVX965BlEFhfK38kxanHwdpBlOnf@mhe0Iacs4fjrshes2Ll7N4zc59p3mv5HywuWxI6E3zx9Culh8oC@2Xz5KRp@CR0bdO7ijhe7sqKXrijIorrS4Tt7t630@z3WaXKWU66rlwmL91lKtU3dKIQeWbYClGeQpXlhuMmBRDhm2MU6REESIYIsAwzZBPITNrIJsJUcxJMgNII4gzQHdWBJCMmtRh2g861AYBDADCYQoR3HMZqMwWggbNlcsjyCLMYphQAJZMAen0QJhImPhvMZf" rel="nofollow noreferrer" title="C# (Mono) – TIO Nexus">Try it online!</a></p>
<ul>
<li>Saved 1 byte by currying the function (thanks to Cyoce)</li>
<li>Saved 2 bytes by replacing <code>==</code> with <code>&lt;</code> (thanks to ceilingcat)</li>
</ul>
</div>
<div id="pu3" class="pu"><h1><a href="https://codewithrockstar.com/" rel="nofollow noreferrer">Rockstar</a>, <s>206</s> <s>197</s> 177 bytes</h1>
<p>Outputs <code>0</code> for composites and <code>-0.5</code> for primes</p>
<pre><code>listen to S
cut S
while S
listen to N
if roll S's &quot;+&quot;
listen to I
say N-I/-1
else
let D be N
let P be N-1
while P and D-2
let D be-1
let M be N/D
turn M up
let P be N/D-M

say P
</code></pre>
<p><a href="https://codewithrockstar.com/online" rel="nofollow noreferrer">Try it here</a> (Code will need to be pasted in, with the programme as the first line of input and each integer on its own line)</p>
</div>
<div id="pu4" class="pu"><h1>QBasic, 122 bytes</h1>

<pre><code>INPUT p$
FOR i=1TO LEN(p$)
INPUT x
IF"+"=MID$(p$,i,1)THEN INPUT y:?x+y:ELSE f=0:FOR j=2TO x:f=f-(x MOD j=0):NEXT:?f=1
NEXT
</code></pre>

<p>Takes the code as a line of input, then takes each input number on its own line. The outputs are interspersed with the inputs because they're printed as soon as they're calculated. The truthy value is <code>-1</code>; falsey is <code>0</code>.</p>
</div>
<div id="pu5" class="pu"><h1>Python 2, <s>135</s> 133 bytes</h1>

<pre><code>l,p=input()
i=j=0
while len(l)-i:print(int(all(l[i]%k for k in range(2,l[i])))if p[j]=='p'else l[i]+l[i+1]);i+=1+'p+'.find(p[j]);j+=1
</code></pre>

<p>-2 bytes thanks to kundor</p>
</div>
<div id="pu6" class="pu"><h2>PowerShell 3+, <s>151</s> 121 Bytes</h2>
<pre class="lang-powershell prettyprint-override"><code>$r,$v=$args;$p={0-notin((2..(($n=0+&quot;$args&quot;)-1)|%{$n%$_}))};$i=0;$r|%{if($_-eq&quot;p&quot;){&amp;p $v[$i]}else{$v[$i]+$v[($i+=1)]}$i++}
</code></pre>
<p>PowerShell has no prime built-ins so I had to roll my own. My first version was terrible and I took from most of the other ones that test for 0 among modulus results which saves a lot.  Also sabed a few bytes by using <code>-notin</code> instead of <code>-notcontains</code> but it mean PowerShell v2 is out.</p>
<h3>Comment based explanation</h3>
<pre class="lang-powershell prettyprint-override"><code># $r is the program code. Assumed char array
# $v is the remaining variables in an assumed integer array.
$r,$v=$args
# Anonymous function to determine if a number is a prime or not.
# Test all potential factors. Check if any 0 modulus remainders are present
$p={0-notin((2..(($n=0+&quot;$args&quot;)-1)|%{$n%$_}))}
# $i is an index for tracking location in $v
$i=0
# Cycle each of the instructions
$r|%{if($_-eq&quot;p&quot;){
        # Call the prime checking anonymous function on this number
        &amp;p $v[$i]
    }else{
        # Add the next two numbers. Adjust the index accordingly. 
        $v[$i]+$v[($i+=1)]
        
    }
    # Next number in list. 
    $i++  
}
    # Next number in list. 
    $i++  
}
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Haskell, <s>88</s> 79 bytes</h1>
<pre><code>('+':r)!(a:b:c)=a+b:r!c
('p':r)!(a:c)=min(foldr((*).mod a)1[2..a-1])1:r!c
_!e=e
</code></pre>
<p><code>&quot;commands&quot; ! [args]</code> for use.</p>
<ul>
<li>Saved 9 bytes thanks to @Laikoni (#56433)</li>
</ul>
<p>I'm still learning Haskell; golfing tips appreciated!</p>
</div>
<div id="pu8" class="pu"><h1>F#, 130 bytes</h1>



<pre class="lang-fs prettyprint-override"><code>let rec r=function|[],_-&gt;()|'+'::t,f::s::u-&gt;printf"%i "(f+s);r(t,u)|_::t,n::u-&gt;printf"%b "(List.exists((%)n&gt;&gt;(=)0)[2..n-1]);r(t,u)
</code></pre>

<p><a href="https://tio.run/##VYvNioMwFEZf5SKUJviDUaM1wTzB7LoUEVoMCG10kgiz8N2dm5nOQLM4fDeco136XMxyHI/Jg53uYDu9mbufF7P3QzKmitD9HJ@F8IkWwgmxpWq1s/E6Os0QER07Ki3xyUb3MVjmTbmh8jE7n01fSEfIiRqlSEdz2hdZZlI2/OWHBRKt8Rr/vhVntKufeNHX6TOBnlWlhLqRUOYSWNUimosEXuBgAQWC89dgVUCLVpFL1oTvEu1LaFmNCIv/Xxxki0FTDfT4Bg" rel="nofollow noreferrer" title="F# (Mono) – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="http://perl6.org/" rel="nofollow noreferrer">Perl 6</a>, 70 bytes</h1>

<pre><code>{@^b.rotor($^a.comb.map(1+(*ne'p'))).map({$_-2??.[0].is-prime!!.sum})}
</code></pre>

<p>First the <code>rotor</code> method is used to split the input list into chunks of size 1 or 2 depending on whether the next character of the program is <code>p</code> or not.  Then that chunked list is mapped over; chunks of size 2 are summed, and chunks of size 1 have their sole element tested for primality.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 18 bytes</h1>

<pre><code>ÆP,+/ị@L
OḂ‘Bṁ@Ç€K
</code></pre>

<p><a href="https://tio.run/nexus/jelly#zVA7TsNQEOx9iu39JLz7/H6ponQIpKRHFFRUgBUlPaQIBRfgEBwARJmTOBd5zNiUHADpaTSrmZ3dt5vt0/327mEhTdsOfAOwnchEm8vHYb@DfKPWOdGUnJgH0QiIYMGcxOCk5F@ZSqHqlQW6ekoBXib44sSDR/T14GqAzB4WHkmakZInL@M8mXKmj3MELRzQofBz9m2z3u/mTa0kThFFVxJLQToxS8COTixpUFRMA77SU1Wq1pfJYzmKFpV6Om5cezF@vy2vm/X4eTg/v6/Gr5fl6fV8@Liqtf59svrfT/UD" rel="nofollow noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<p><strong>Alternate solution, 18 bytes</strong></p>

<pre><code>⁴Ḣ
¢+¢µ¢ÆPµḂ?
OÇ€K
</code></pre>

<p><a href="https://tio.run/nexus/jelly#zVC7bsMwDNz1FdytwaSsV5bOQYd4Lzp06pTGCJIPaIb2PzxnbADPypckP6Ie7Y75gALC4Yg7Hin2@937/m27ItM0g74B2Mxkpmb9MRwPkF9YWkscoyVxIBwAAcyLpeAt5fQnq5JVdawFujqVPLya4LIlBx7Q14GzAJL2aOGQxAkpafZqnFPGOtOFJUItOqBF4ZbsV7M5HpZNJUedQoyuSBI9tSQSga06saRAYRL2@EqnKqsqXZ49kgJxZqr3z5/bNJoyNmUslzJev/pyuU2nJ7O5ft9P5@da6@Or1f9@rV8" rel="nofollow noreferrer" title="Jelly – TIO Nexus">Try this one online!</a></p>
</div>
<div id="pu11" class="pu"><h1>Ruby 2.4, 77+7 = 84 bytes</h1>

<p>Uses the <code>-rprime</code> flag.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;g,i{g.chars.map{|c|c==?p?i.shift.prime?? 1:0: c==?+?i.shift(2).sum: p}-[p]}
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 91 bytes</h1>



<pre class="lang-python prettyprint-override"><code>p,i=input()
for c in p:n=i.pop(0);print all(n%k for k in range(2,n))if c&gt;'+'else n+i.pop(0)
</code></pre>

<p><a href="https://tio.run/nexus/python2#TY7bCoMwDIbv9xS5GbW0jLZWbTfci4xdiLhRlFqce36XFIWFHnL4vyRbkqENMX3Xgp9e8wI9hAjpGttwSXMqFL@lJcQVumkq4nkE0oykWbr4HgojI@fhBf2dCTZMnwGiOMhtY2K3JP6MyYeuagmVhNJKMPhr3UjwDp3S06MlOIycwcBryuDF0yjEyNHIa4u0Q9qbvUStvKXK0UWTU2eCxtQowr4Ee4pVruClNg53qFBQ0jCrKJs3yqB9/gA" rel="noreferrer" title="Python 2 – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 5 bytes</h1>

<pre><code>vy.V,
</code></pre>

<p><a href="https://tio.run/nexus/05ab1e#LU7bDQMxCPv3KqlOEEKARTrHfVXq9DlTFYEA2zzO53u9X@fc46aPMbro/LeuobOwA2pYUHFoJKYhJhnGMmgq0dUQhZOSjRKKBbWZyK7AcrjAEqVguxMWqERygWRPuqOXdRQmT0pB6f77QWMjCXr0eMYD" rel="noreferrer" title="05AB1E – TIO Nexus">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<p>This challenge fit 05AB1E like a glove :)</p>

<pre><code>vy      # for each instruction in the program
  .V    # execute as 05AB1E code
    ,   # print
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/122750/">122750</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




