<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::82773</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>099</td><td>APLNARS</td><td>250811T095249Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/283062#283062">Rosario</a></td></tr>
<tr d-ix="1"><td>065</td><td>x8616 + 8087 FPU</td><td>190107T235839Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/178491#178491">640KB</a></td></tr>
<tr d-ix="2"><td>042</td><td>K ngn/k</td><td>211216T214458Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/239654#239654">coltim</a></td></tr>
<tr d-ix="3"><td>135</td><td>C gcc</td><td>211215T202322Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/238597#238597">Benji</a></td></tr>
<tr d-ix="4"><td>088</td><td>TSQL</td><td>160613T080759Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82780#82780">t-clause</a></td></tr>
<tr d-ix="5"><td>016</td><td>Japt</td><td>190110T173812Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/178627#178627">Kamil Dr</a></td></tr>
<tr d-ix="6"><td>nan</td><td>PHP</td><td>190107T190643Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/178481#178481">640KB</a></td></tr>
<tr d-ix="7"><td>nan</td><td></td><td>160625T091607Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/83790#83790">Titus</a></td></tr>
<tr d-ix="8"><td>027</td><td>APL Dyalog Unicode</td><td>160614T075610Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82871#82871">Ad&#225;</a></td></tr>
<tr d-ix="9"><td>090</td><td>x8664 machine code Linux</td><td>190110T051859Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/178613#178613">davey</a></td></tr>
<tr d-ix="10"><td>064</td><td>Runic Enchantments</td><td>190108T211153Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/178553#178553">Draco18s</a></td></tr>
<tr d-ix="11"><td>130</td><td>C# .NET Core</td><td>190107T220825Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/178489#178489">Destroig</a></td></tr>
<tr d-ix="12"><td>015</td><td>05AB1E</td><td>190107T192413Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/178483#178483">Emigna</a></td></tr>
<tr d-ix="13"><td>027</td><td>05AB1E</td><td>181023T140852Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/174573#174573">Kevin Cr</a></td></tr>
<tr d-ix="14"><td>070</td><td>R</td><td>180719T154628Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/168887#168887">JayCe</a></td></tr>
<tr d-ix="15"><td>081</td><td>shell script</td><td>180719T185413Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/168901#168901">Bastian </a></td></tr>
<tr d-ix="16"><td>057</td><td>Ruby</td><td>180407T090641Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/161527#161527">Kirill L</a></td></tr>
<tr d-ix="17"><td>113</td><td>Java 8</td><td>160613T080806Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82781#82781">Kevin Cr</a></td></tr>
<tr d-ix="18"><td>127</td><td>Emacs Lisp</td><td>160619T215327Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/83309#83309">Lord Yuu</a></td></tr>
<tr d-ix="19"><td>197</td><td>PHP</td><td>160617T044912Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/83115#83115">Develope</a></td></tr>
<tr d-ix="20"><td>202</td><td>c#</td><td>160616T073248Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/83043#83043">Develope</a></td></tr>
<tr d-ix="21"><td>081</td><td>Matlab   85 bytes / Octave</td><td>160614T091517Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82880#82880">LimaKilo</a></td></tr>
<tr d-ix="22"><td>254</td><td>Oracle PL/SQL</td><td>160613T095447Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82786#82786">Giacomo </a></td></tr>
<tr d-ix="23"><td>062</td><td>Haskell</td><td>160613T092212Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82785#82785">flawr</a></td></tr>
<tr d-ix="24"><td>018</td><td>CJam</td><td>160614T010217Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82855#82855">Dennis</a></td></tr>
<tr d-ix="25"><td>093</td><td>Python 3</td><td>160613T170327Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82812#82812">MSeifert</a></td></tr>
<tr d-ix="26"><td>062</td><td>Perl 6</td><td>160613T202513Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82840#82840">Brad Gil</a></td></tr>
<tr d-ix="27"><td>117</td><td>Rust</td><td>160613T165742Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82810#82810">raggy</a></td></tr>
<tr d-ix="28"><td>061</td><td>Haskell</td><td>160613T181849Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82827#82827">Lazersmo</a></td></tr>
<tr d-ix="29"><td>064</td><td>Python 2</td><td>160613T164347Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82809#82809">Dennis</a></td></tr>
<tr d-ix="30"><td>050</td><td>Julia</td><td>160613T160514Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82807#82807">Dennis</a></td></tr>
<tr d-ix="31"><td>013</td><td>Jelly</td><td>160613T153519Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82804#82804">Dennis</a></td></tr>
<tr d-ix="32"><td>065</td><td>Mathematica</td><td>160613T104915Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82788#82788">LegionMa</a></td></tr>
<tr d-ix="33"><td>124</td><td>PowerShell v2+</td><td>160613T134625Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82795#82795">AdmBorkB</a></td></tr>
<tr d-ix="34"><td>023</td><td>Actually</td><td>160613T090851Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82783#82783">user4594</a></td></tr>
<tr d-ix="35"><td>040</td><td>J</td><td>160613T085040Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82782#82782">miles</a></td></tr>
<tr d-ix="36"><td>074</td><td>Haskell</td><td>160613T091253Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82784#82784">C. Quill</a></td></tr>
<tr d-ix="37"><td>021</td><td>Pyke</td><td>160613T080524Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82778#82778">Blue</a></td></tr>
<tr d-ix="38"><td>025</td><td>Pyth</td><td>160613T070905Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82774#82774">Leaky Nu</a></td></tr>
<tr d-ix="39"><td>049</td><td>Javascript ES7</td><td>160613T071124Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82775#82775">B&#225;l</a></td></tr>
<tr d-ix="40"><td>068</td><td>Brachylog</td><td>160613T080539Z</td><td><a href="https://codegolf.stackexchange.com/questions/82773/weapons-of-math-instruction/82779#82779">Fatalize</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>APL(NARS), 99 chars</h1>
<pre><code>r←f w;l;i
r←⍬⋄i←1⋄b←(+,-,×,÷,*)⋄→0×⍳∼0&lt;l←≢w⋄→0×⍳(,1)≢⍴⍴w⋄r←w[i]
→0×⍳l&lt;i+←1⋄r←r((1+5∣i-2)⊃b)w[i]⋄→2
</code></pre>
<p>//10+54+35
It appear that <code>→0×⍳∼0&lt;l←≢w</code> can not handle the case w is not a list,
that would be handle from <code>→0×⍳(,1)≢⍴⍴w</code> or <code>→0×⍳(,1)≠⍴⍴w</code>.</p>
<p>The traditional way of write functions in APL offer many workaroud
in problems of array language.</p>
<pre><code>  f 1 2 3 4 5
0
  f 5 12 23 2 4 4 2 6 7
539
  f ¯8 50 3 3 ¯123 4 17 99 13
¯1055.356944
  f 16⍴2
256
  f 1 0 1 0 1 0
1
  f ¯9 ¯8 ¯1
¯16
  f 0 ¯3
¯3
  f ¯99

  f ,¯99
¯99
</code></pre>
</div>
<div id="pu1" class="pu"><h1>x86-16 + 8087 FPU, 65 bytes</h1>
<pre><code>00000000: 9bdf 04ad 499b de04 ad49 e334 9bde 24ad  ....I....I.4..$.
00000010: 49e3 2d9b de0c ad49 e326 9bde 34ad 49e3  I.-....I.&amp;..4.I.
00000020: 1fad 919b d9e8 85c9 7413 9c7f 02f7 d99b  ........t.......
00000030: d8c9 e2fb 9d7d 069b d9e8 9bd8 f191 e2c5  .....}..........
00000040: c3                                       .
</code></pre>
<p>Callable function: input array at <code>DS:SI</code>, length in <code>CX</code>. Output to <code>ST</code> top 8087 register stack.</p>
<p>Listing:</p>
<pre><code>9B DF 04    FILD    WORD PTR [SI]   ; load first item to 8087 stack 
AD          LODSW 
49          DEC     CX 
                 
        CALC:
            ; Add 
9B DE 04    FIADD   WORD PTR [SI]   ; add 
AD          LODSW                   ; SI = next input 
49          DEC     CX              ; decrement counter 
E3 34       JCXZ    WOMI_DONE       ; exit if end of input array 
                 
            ; Subtract 
9B DE 24    FISUB   WORD PTR [SI]   ; subtract 
AD          LODSW                   ; SI = next input 
49          DEC     CX 
E3 2D       JCXZ    WOMI_DONE 
                 
            ; Multiply 
9B DE 0C    FIMUL   WORD PTR [SI]   ; multiply 
AD          LODSW                   ; SI = next input 
49          DEC     CX 
E3 26       JCXZ    WOMI_DONE 
                 
            ; Divide 
9B DE 34    FIDIV   WORD PTR [SI]   ; divide 
AD          LODSW                   ; SI = next input
49          DEC     CX 
E3 1F       JCXZ    WOMI_DONE 
                 
            ; Exponent 
AD          LODSW                   ; AX = exponent, SI = next input 
91          XCHG    AX, CX          ; CX = counter for loop (exponent), save CX 
9B D9 E8    FLD1                    ; load 1 into ST 
85 C9       TEST    CX, CX          ; is exponent pos, neg or 0? 
74 13       JZ      EXP_DONE        ; exit (with value 1) if exponent is 0 
9C          PUSHF                   ; save result flags for later 
7F 02       JG      EXP_REP         ; if exp &gt; 1 start calculation 
F7 D9       NEG     CX              ; make exponent positive for loop 
        EXP_REP: 
9B D8 C9    FMUL    ST(0), ST(1)    ; multiply ST0 = ST0 * ST1 
E2 FB       LOOP    EXP_REP 
9D          POPF                    ; restore sign flag from earlier 
7D 06       JGE     EXP_DONE        ; if exponent was neg, divide 1 by result 
9B D9 E8    FLD1                    ; push 1 into numerator 
9B D8 F1    FDIV    ST(0), ST(1)    ; ST0 = 1 / ST1 
        EXP_DONE: 
91          XCHG    AX, CX          ; restore CX 
                 
E2 C5       LOOP    CALC            ; if more input, start again 
             
        WOMI_DONE: 
C3          RET 
</code></pre>
<p>Sample Output:</p>
<p><a href="https://i.sstatic.net/argHc.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/argHc.png" alt="enter image description here" /></a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 42 bytes</h1>
<pre><code>{*x{?[x;0 2;y/]}/(#1_x)#(+;-;*;%;{*/y#x})}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJx9VNtu2zAMffdXEMg2tIlki5JtWRGyfkiQtlnmtEUvzhp3SxBk3z7SUi5N1kKQYZHUIXlIcT7c9Febq/HKK9B+nU222UUPb1aXvYuBl77vv/pNP1v3VtvLbZJkcN+2i+Uwy2bNz/queZqny3Y6e6xXs/vpy12dzprn7NdbvWwfmpdlVmlrTfanni7oJJu5fJ629/LhZdm+vs3Y5GoxvatH+K2d/hj9btp62aM/2TaLJGmHmy/j9d/X4RwAVv62efQXt/Ppw5Nf+bV/vZxsk3aMoMFADoVXqZqQoADUoA2Jc1oaSrC+MC4oZQWFInsDEjVfQwvOARovURVFaorS5abKSwqb7Qnps+V1UQZgBAVxe4y+HJA7iQRd8lmBJDeGf4V0ztOeJERoMkahhRG5KCYgv4NK6IMwIAcjMAmwjOKlPSIdUdEZQZ+i3wmiKIOCRZAk40KgFtoQcE5Li1LYDpyYYPiC4JHx0QYHxINk1kYgy50PWZITNiKuDm7oQI7YtzRRGuQGrjtxhXtxp6h2uVTmSBFUnFdJKmvfqTqlteTe7oJOqHaiUMSTEVw7ygqtcE6gmYSwYv3SNOUMifoB13oEuQ4p5jqSSGjRhXHkgkWI9pAhHSjDrkEoSZW6AjWjHie7l8akVVphdWwUShKlzLbt2D43i/TvLCX3Yxc/pkj7xBbe6yh87KI8zj4ZU+k/Wx1h1LrMk47FySNJ3AZ01DuKdOyB/MBPTuwcbPZ21+/s9rYBvjzNuIyO8vP08uiyOlGFlonOT+/t74YwsPyPPlBdxpDwHP9gVMXwPsA5YIVQjf7QLDSajmF/gnfADClwgXg2KBF3VzbcTQdubYyPl4LF0+mgzqcDHomi8Dri0PNygl6YxPiaygBNQ2zAb4lbzO4HQzctJHZSDlIJGV9hnFeKb5kwIxjaBa1zyT/VaS5S" rel="nofollow noreferrer">Try it online!</a></p>
<p>Sets up a reduce with the original input as <code>x</code>, and a corresponding list of operations to apply.</p>
<ul>
<li><code>(+;-;*;%;{*/y#x})</code> initialize a list of the desired operations to apply, using <code>{*/y#x}</code> for pow (only works for raising values to integer powers)</li>
<li><code>(#1_x)#...</code> &quot;overtake&quot; this list, expanding it to match the length of the input <code>x</code> minus one (as the operations are applied <em>between</em> elements of <code>x</code>)</li>
<li><code>x{...}/...</code> set up the reduce, seeded with the original input and run over the list of operations to apply
<ul>
<li><code>?[x;0 2;y/]</code> use <code>?[x;i;f] splice</code> to apply the operation between the first two elements of the input, replacing those values with the result of applying the operation (<code>y</code>) between them</li>
</ul>
</li>
</ul>
</div>
<div id="pu3" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 135 bytes</h1>

<pre class="lang-c prettyprint-override"><code>#include&lt;math.h&gt;
float r(float*a,int l){float z,v=*a;for(int p=1;p&lt;l;v=(float[]){z?pow(v,z):1,v+z,v-z,v*z,v/z}[p++%5])z=a[p];return v;}
</code></pre>
<p><a href="https://tio.run/##jY3daoMwFMfvfYrQUUj0WBet7Vx0exDnRUi1FfwIJnWg5NXnYgvb3bpzOBz48f8Q/lmI5anuRHM9lShV@lT3u8vbD0pbri8WOFXTc40GfPsuh7rTqCHzHU8wZi5nVT/glcuMMpk2bMzu8rwg8/Qu@088wkReKYyedfj2XHvBZHLpedu4IFPGc1mwodTXoUMjM8sa1/K6w8SZHWQnCFTflkiXSiPBVal2NywHq6zwZlt9dBsY8G8xhRAi2ENsICaEPVDHQEMII@vZ2w3hAEcDyWOf/wLxs@2JwKfhWkePkCRAo3@5beVfa4Ae1hCzfImq4We1@E37DQ" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>TSQL <s>116</s> <s>115</s> 88 bytes</h1>

<p>Thanks to Ross Presser suggestion I was able to golf this down to 88 characters</p>

<pre class="lang-sql prettyprint-override"><code>-- In Try-it code, this must be DECLARE @y TABLE 
CREATE TABLE T(a real, i int identity)
INSERT T values(5),(12),(23),(2),(4),(4),(2),(6),(7)

DECLARE @ REAL SELECT @=CHOOSE(i%5+1,@/a,ISNULL(POWER(@,a),a),@+a,@-a,@*a)FROM T
PRINT @
</code></pre>

<p><a href="https://data.stackexchange.com/stackoverflow/query/1064531/weapons-of-math-instruction" rel="nofollow noreferrer">Try it online</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 16 bytes</h1>

<pre><code>r@[XY]r"p+-*/"gZ
</code></pre>

<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=ckBbWFldciJwKy0qLyJnWg==&amp;input=Wy04LDUwLDMsMywtMTIzLDQsMTcsOTksMTNd" rel="nofollow noreferrer">Try it online!</a></p>

<p>Explanation:</p>

<pre><code>r@                  #Reduce the input list:
       "p+-*/"      # The list of functions to apply (offset by one due to the behavior of Z)
              gZ    # Choose the one at the current index, wrapping
  [  ]r             # Apply that function to:
   X                #  The result of the previous step
    Y               #  and the current number
                    #Implicitly return the result of the final step
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, <del>135</del> 130 bytes</h1>

<p>Thanks @titus, -5 bytes, plus 0 case fix!</p>



<pre class="lang-php prettyprint-override"><code>function f($z){return array_reduce($z,function($c,$x)use(&amp;$i){eval('$c'.['/','**','+','-','*'][$i++?$i%5:5].'=$x;');return$c;});};
</code></pre>

<p><a href="https://tio.run/##fZDfT4MwEMef17/islRLxzEHDCdW3JOJDybunTQL6UogmUD4YaYLfzsrynw0d9/L966fXJtWWTU8bStT065QbV4WkFr0m59r3XZ1AUldJ1/7Wh86pc0cr5RFFdIT7xpt3dKcn/VncrQYVWwZszuGbLEwxTZyxobJmOa2vaX5TfAYyCWL6EkwLn4voUr0XPRiILTVTdtABDGZxRAguB6C5xshrH/SmHuEDUgcCecBgxX6JhzXYGt0NxiG6PrTuYf/xkS5uMJJ170hmtWO@9eGIIkUhKRlrROVWTC9NGmMAw5nMtMqK4HFwBDyj@pYHrQ1epMjgTAHCdEzzNF88DTave72L@9vgvRkuAA" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>

<p>Less golfy:</p>



<pre class="lang-php prettyprint-override"><code>function f( $t ) {
    return array_reduce( $t,
        function( $c, $x ) use( &amp;$i ) {
            eval('$c'.['/','**','+','-','*'][$i++?$i%5:5].'=$x;');
            return $c;
        }
    );
};
</code></pre>

<p>Was really rooting for array_reduce() to work for this, but requires too many chars to beat the current lowest PHP score.</p>

<p>Posting it anyway in case anyone has any suggestions!</p>
</div>
<div id="pu7" class="pu">
<p>A few tricks can reduce @Willmore´s approach by 23 to 174 bytes (requires php 5.6 or later). The most saving part is removing unneccessary parentheses (-10 bytes).</p>
<blockquote class="spoiler">
<p> function f($a){while(count($a)&gt;1){$l=array_shift($a);$r=array_shift($a);array_unshift($a,($j=$i++%5)?($j==1?$l-$r:($j==2?$l*$r:($j==3?$l/$r:$l**$r))):$l+$r);}return end($a);}</p>
</blockquote>
<p>But using the <code>**</code> operator instead of <code>pow()</code> also allows to use <code>eval</code> with an array for the operations; and with a few more tricks ...</p>
<h1>PHP &gt;= 5.6, 82 bytes</h1>
<pre class="lang-php prettyprint-override"><code>while(--$argc)eval('$x'.['/','**','+','-','*'][$i++?$i%5:2].&quot;=$argv[$i];&quot;);echo$x;
</code></pre>
<p>takes list from command line parameters. Run with <code>php -nr '&lt;code&gt;'</code> or <a href="http://sandbox.onlinephpfunctions.com/code/233f2ac985a4d668abfabc0411a2b48936e6ce63" rel="nofollow noreferrer">try it online</a>.</p>
<h2>old version, <s>161 157 151 145 144 140 137</s> 117 bytes</h2>
<pre class="lang-php prettyprint-override"><code>function f($a){while(count($a)&gt;1)eval('$a[0]=array_shift($a)'.['+','-','*','/','**'][$i++%5].'$a[0];');return$a[0];}
</code></pre>
<p>The most effective golfing came from writing the intermediate result directly to the first element - after shifting the previous result from the array.</p>
<p><strong>breakdown</strong></p>
<pre class="lang-php prettyprint-override"><code>function f($a)
{
    while(count($a)&gt;1)  // while array has more than one element ...
        eval('$a[0]='                           // future first element :=
            . 'array_shift($a)'                 // = old first element (removed)
            . ['+','-','*','/','**'][$i++%5]    // (operation)
            .'$a[0];'                           // new first element (after shift)
        );
    return$a[0];        // return last remaining element
}
</code></pre>
<p><strong>test suite</strong></p>
<pre class="lang-php prettyprint-override"><code>$cases = array (
    0=&gt;[1,2,3,4,5],
    539=&gt;[5,12,23,2,4,4,2,6,7],
    '-1055.356...' =&gt; [-8,50,3,3,-123,4,17,99,13],
    256 =&gt; [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
    1 =&gt; [1,0,1,0,1,0],
    -16 =&gt; [-9,-8,-1],
    -3 =&gt; [0, -3],
    -99 =&gt; [-99]
);
echo '&lt;table border=1&gt;&lt;tr&gt;&lt;th&gt;values&lt;/th&gt;&lt;th&gt;expected&lt;/th&gt;&lt;th&gt;actual result&lt;/th&gt;&lt;/tr&gt;';
foreach ($cases as $expect=&gt;$a)
{
    $result=f($a);
    echo &quot;&lt;tr&gt;&lt;td&gt;[&quot;, implode(',',$a),&quot;]&lt;/td&gt;&lt;td&gt;$expect&lt;/td&gt;&lt;td&gt;$result&lt;/td&gt;&lt;/tr&gt;&quot;;
}
echo '&lt;/table&gt;';
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, <s>29</s> 27 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">bytes</a><sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer" title=".dyalog files using a single byte character set">SBCS</a></sup></h1>

<p>Anomymous tacit prefix function. Note that <code>*</code> is exponentiation in APL.</p>



<pre class="lang-apl prettyprint-override"><code>≢{⍎3↓⍕⌽⍵,¨⍨⍺⍴'+-×÷*',¨'⍨'}⊢
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT////1HnoupHvX3Gj9omP@qd@qhn76PerTqHVjzqBaJdj3q3qGvrHp5@eLuWOlBQHSiqXvuoa9H/tEdtE4C6HvVN9fR/1NV8aD1Q/0QgLzjIGUiGeHgG/09TMNQx0jHWMdEx5UpTMNUxNNIxMgaKmAChkY6ZjjlQ9NB6Cx1TA6AiY51D6w2NQIoNzXUsLXUMjYGyQA34IBfIBgMdKAabZqkDMhFoFJBnAKSNIaKWAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p>Because APL executes right to left, we can just reverse the order of arguments of the inserted operations and reverse the entire expression. Postfix <code>⍨</code> reverses arguments. After doing a perfect shuffle of numbers and operations, we only just need to reverse, flatten, and evaluate:</p>

<p><code>≢{</code>…<code>}⊢</code> call the following function with count of and actual numbers as <code>⍺</code> and <code>⍵</code>:</p>

<p> <code>'⍨'</code> this character</p>

<p> <code>'+-×÷*',¨</code> prepend each of these characters to that; <code>["+⍨","-⍨","×⍨","÷⍨","*⍨"]</code></p>

<p> <code>⍺⍴</code> use the left argument (count of numbers) to cyclically <strong>r</strong>eshape that</p>

<p> <code>⌽</code> reverse</p>

<p> <code>⍕</code> format as flat string</p>

<p> <code>3↓</code> drop leading 3 characters (a space and a symbol and <code>⍨</code>)</p>

<p> <code>⍎</code> execute as APL code</p>
</div>
<div id="pu9" class="pu"><h1>x86-64 machine code (Linux), 90 bytes</h1>

<pre><code>0000000000000000 &lt;weapons_asm&gt;:
   0:   48 89 f1                mov    %rsi,%rcx
   3:   db 07                   fildl  (%rdi)

0000000000000005 &lt;math_loop&gt;:
   5:   48 83 c7 04             add    $0x4,%rdi
   9:   48 ff c9                dec    %rcx
   c:   e3 49                   jrcxz  57 &lt;done&gt;
   e:   da 07                   fiaddl (%rdi)
  10:   48 83 c7 04             add    $0x4,%rdi
  14:   48 ff c9                dec    %rcx
  17:   e3 3e                   jrcxz  57 &lt;done&gt;
  19:   da 27                   fisubl (%rdi)
  1b:   48 83 c7 04             add    $0x4,%rdi
  1f:   48 ff c9                dec    %rcx
  22:   e3 33                   jrcxz  57 &lt;done&gt;
  24:   da 0f                   fimull (%rdi)
  26:   48 83 c7 04             add    $0x4,%rdi
  2a:   48 ff c9                dec    %rcx
  2d:   e3 28                   jrcxz  57 &lt;done&gt;
  2f:   da 37                   fidivl (%rdi)
  31:   48 83 c7 04             add    $0x4,%rdi
  35:   48 ff c9                dec    %rcx
  38:   e3 1d                   jrcxz  57 &lt;done&gt;

000000000000003a &lt;exp_rept&gt;:
  3a:   51                      push   %rcx
  3b:   8b 0f                   mov    (%rdi),%ecx
  3d:   d9 e8                   fld1
  3f:   83 f9 00                cmp    $0x0,%ecx
  42:   74 10                   je     54 &lt;exp_rept.done&gt;
  44:   9c                      pushfq
  45:   7f 02                   jg     49 &lt;exp_rept.l&gt;
  47:   f7 d9                   neg    %ecx

0000000000000049 &lt;exp_rept.l&gt;:
  49:   d8 c9                   fmul   %st(1),%st
  4b:   e2 fc                   loop   49 &lt;exp_rept.l&gt;
  4d:   9d                      popfq
  4e:   7d 04                   jge    54 &lt;exp_rept.done&gt;
  50:   d9 e8                   fld1
  52:   de f9                   fdivrp %st,%st(1)

0000000000000054 &lt;exp_rept.done&gt;:
  54:   59                      pop    %rcx
  55:   eb ae                   jmp    5 &lt;math_loop&gt;

0000000000000057 &lt;done&gt;:
  57:   dd 1a                   fstpl  (%rdx)
  59:   c3
</code></pre>

<p>Firstly, credit to <a href="https://codegolf.stackexchange.com/a/178491/56718">gwaugh's answer</a> which is also submitted for this post. I started working on this solution before gwaugh posted, which can be seen in my git repo's log, but ultimately his approach to this problem was the most efficient (especially the exponentiation). If you feel inclined to upvote my submission, please check out his as well.</p>

<p>Like my other x86 solutions, this code is simply a function that's meant to be called from a C/C++ program, which can be seen at <a href="https://github.com/Davey-Hughes/ppcg/tree/master/weapons_math_instruction" rel="nofollow noreferrer">my git repo</a>. This means that the input array, length, and return pointer are passed through rdi, rsi, and rdx. For x86-64, getting the output location as an argument saves bytes, because normally when a C/C++ function returns a double on this processor, it's passed back through xmm0. This means the result double has to be moved from the FPU stack to a place in memory, then moved into xmm0. If we specify a place in memory we want the result, then we can just move the result double directly from the FPU stack to the memory location.</p>

<p>Exponentiation is done through repeated multiplication, with the assumption that we'll only get integer exponents (though the exponent can be negative). If the problem requires handling floating point exponentiation, the solution becomes extremely complicated. The standard way to compute x^y on x86 is to compute 2^(y * log2(x)). However, if x is negative (which happens in test case 2), log2(x) is a complex number, which can't be directly handled by the FPU. If you're curious how pow(double x, double y) is solved in C, check out the <a href="https://repo.or.cz/glibc.git/blob/HEAD:/sysdeps/ieee754/dbl-64/e_pow.c#l280" rel="nofollow noreferrer">glibc code here</a> (hint: it's complicated).</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/Draco18s/RunicEnchantments/tree/Console" rel="nofollow noreferrer">Runic Enchantments</a>, 64 bytes</h1>

<pre><code>R31B~~?@+31B~~?@S-31B~~?@*31B~~?@S,31B~~?@Sp
\i&lt;{1[lil1-{S{)]{{B
</code></pre>

<p><a href="https://tio.run/##KyrNy0z@/z/I2NCprs7eQRtKB@tCGVowAR0Yo4ArJtOm2jA6JzPHULc6uFoztrra6f9/UwVDIwUjYwUjBRMgNFIwUzAHAA" rel="nofollow noreferrer" title="Runic Enchantments – Try It Online">Try it online!</a></p>

<p>First line is the main program loop, which reads a number from input and performs the next math instruction. If no input, the attack is dumped to the output and the program terminates. Entry point is the <code>&lt;</code> on the second line, which reads the first number from input prior to entering the main loop. Invalid input blindly accepted with unpredictable results (only + and * are defined for strings, other operations would result in an empty stack).</p>

<p>Woo, finally found a use for <code>B</code>ranch command! The second line starting at index 3 acts like a function. In this case it takes in input, checks that it got input, and arranges the stack for return. Then <code>31B~~</code> invokes and cleans up after the invokation (as the <code>B</code>ranch instruction leaves 2 values on top of the stack, add a return pointer). All told the overhead (8+5n) was less than in-line (9n). I think I'll be adding a modifier that cause <code>B</code> to not push those 2 values (overhead of 2 bytes to save 2n bytes). Happily, no directional commands are needed to insure consistent execution. </p>

<p>Also featured is the <code>[</code> and <code>]</code> stack-of-stacks commands, which lets the program temporarily remove the return location from the stack as it handles reading input. It saves several bytes worth of stack manipulation having to otherwise work around those 2 values. These do enforce a maximum input list of 9 values. Changing the entry to <code>y&lt;&lt;</code> increases that to 19 items (and as <code>&lt;</code> acts like a NOP, the branch pointer doesn't need to update). <a href="https://tio.run/##KyrNy0z@/z/I2NCprs7eQRtKB@tCGVowAR0Yo4ArNLPSxqbaMDonM8dQtzq4WjO2utqJKwYo@P@/qYKhkYKRsYKRggkQGimYKZgDAA" rel="nofollow noreferrer">A third line</a> with <code>\y&lt;&lt;</code> (changing the existing <code>\</code> to <code>U</code>) would double that again to 39 items.</p>

<p>Stack at the end of the Branch "function" would look like <code>[v,i,1,x,y]</code> where <code>x,y</code> are at the top and the 0-indexed location on the first line (<code>y</code> will always be 0) where the next instruction with execute. <code>v</code> is the value that started on the stack prior to entry into the Branch "function". And <code>i</code> is the value read from input. If no input was available, <code>[i,1]</code> would instead be <code>[0]</code> resulting in <code>v</code> being printed when <code>?@</code> is reached.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.microsoft.com/net/core/platform" rel="nofollow noreferrer">C# (.NET Core)</a>, 130 bytes</h1>

<p>Without LINQ.
</p>

<pre class="lang-cs prettyprint-override"><code>s=&gt;{var x=s[0];for(var j=1;j&lt;s.Length;j++){int t=j%5;var z=s[j];x=t&lt;1?x=Math.Pow(x,z):t&lt;2?x+=z:t&lt;3?x-=z:t&lt;4?x*=z:x/=z;}return x;};
</code></pre>

<p><a href="https://tio.run/##lU9NT8JAEL33V0xITFq7rZQPtW6XHkw8QULiwQP2UMoK28Cu7m5hbdPfXhck0ZORzNebzJuXmUIFhZC0qxTja3j@VJrusPO7C6eMf2Cn2OZKwVyKtcx3jQPwXi23rAClc23LXrAVzHLGXe84BHiqeJGshCXRRYbgG01gCaRTZNLscwmGqEU/w29Cuse2JBEuExVOKV/rDS5932sY16BJeTXGR0ZtF8oMG6KTKDVklutNOBcH16Dae9DJIDU@qS0YpiY4gVFqri0wN6TGraS6khwMbnHnnH97FFyJLQ1fJNPUXbqcHs6nLuKsCe4RjPsIhicPooHNIwTRHYI4tnUIref3XnnPw/8QjG6zZoD@tEvkrFqE@ugcFx1iP4vjnw2ntdZ9AQ" rel="nofollow noreferrer" title="C# (.NET Core) – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 15 bytes</h1>

<pre><code>ćsvy"+-*/m"Nè.V
</code></pre>

<p><a href="https://tio.run/##yy9OTMpM/f//SHtxWaWStq6Wfq6S3@EVemH//0eb6hga6RgZ6xjpmAChkY6ZjnksAA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a>
or as a <a href="https://tio.run/##yy9OTMpM/W/h5hL6/0h7cVmlkrauln6ukt/hFXph/2sj7JUUdO0UlOx1/kcb6hjpGOuY6JjGckWb6hga6RgZA0VMgNBIx0zHHCiqa6FjagBUY6yja2gEUmpormNpqWNoDJQDKscHgSoMdQx0oBhklqUO0DhdQyDTQEfXGCxiGQsA" rel="nofollow noreferrer">Test Suite</a></p>

<p><strong>Explanation</strong></p>

<pre><code>ć                # extract the head of the input list
 sv              # for each (value y, index N) in the rest of the list
   y             # push the element
    "+-*/m"Nè    # push a string representation of the Nth operator (wraps around)
             .V  # execute it as code
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>29</s> <s>28</s> 27 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<p><strong>Using 'Python <code>eval</code>' builtin (<s>29</s> <s>28</s> 27 bytes):</strong></p>
<pre><code>g'(×svy')&quot;+-*/&quot;S„**ªNè}\J.E
</code></pre>
<p><a href="https://tio.run/##MzBNTDJM/f8/XV3j8PTiskp1TSVtXS19peBHDfO0tA7tOLTa7/CK2hgvPdf//6N1LXRMDXSMgVDX0MhYx0TH0FzH0lLH0DgWAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##MzBNTDJM/V9Waa@k8KhtkoKSfaXL/3R1jcPTi8sq1TWVtHW19JWCHzXM09I6tOPQar/DK2pjvPRc/@v8j4421DHSMdYx0TGN1VGINtUxNNIxMgYKmQChkY6ZjjlIWNdCx9QAqMpYR9fQCKTY0FzH0lLH0BgkCdSAD4KUGOoY6EAx2DhLHaCJuoYgtoGOrjFEzBJMgZyjC3FPLAA" rel="nofollow noreferrer">verify all test cases</a>. (NOTE: <code>ª</code> is <code>¸«</code> and we use the legacy version in the TIO, because <code>.E</code> is disabled in the new version of 05AB1E on TIO.)</p>
<p><strong>Using 'Execute as 05AB1E' builtin (<s>29</s> 28 bytes):</strong></p>
<pre><code>vyD0‹i¦'(}N_iðë&quot;m+-*/&quot;Nè]J.V
</code></pre>
<p><a href="https://tio.run/##MzBNTDJM/f@/rNLF4FHDzsxDy9Q1av3iMw9vOLxaKVdbV0tfye/wilgvvbD//6N1LXRMDXSMgVDX0MhYx0TH0FzH0lLH0DgWAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfSWQ42LwqGFn5qFl6hq1fvGZhzccXq2Uq62rpa/kd3hFba2XXth/nf/R0YY6RjrGOiY6prE6CtGmOoZGOkbGQCETIDTSMdMxBwnrWuiYGgBVGevoGhqBFBua61ha6hgagySBGvBBkBJDHQMdKAYbZ6kDNFHXEMQ20NE1hohZgimQc3Qh7okFAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>
<p>In Python <code>**</code> is used for exponentiation. In addition, <code>*</code>,<code>/</code>,<code>**</code> have operator precedence over <code>+</code>,<code>-</code>. So the code transforms <code>[-1,2,-3,4,-5]</code> to <code>(((((-1)+2)--3)*4)**-5)</code>, and then uses <code>.E</code> to execute the string as Python <code>eval</code>.</p>

<pre class="lang-python prettyprint-override"><code>g                  # Take the length of the (implicit) input
 '(×              '# Create a string of &quot;(&quot; characters of that size
s                  # Swap so the (implicit) input is at the top of the stack again
 v            }    # Loop `y` of each of its items:
  y                #  Push `y`
   ')             '#  Push &quot;)&quot;
     &quot;+-*/&quot;S       #  Push [&quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;/&quot;]
            „**ª   #  Append a trailing &quot;**&quot;: [&quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;/&quot;,&quot;**&quot;]
                Nè #  Get a string from this list based on the index of the loop
                   #  (with automatic wraparound)
\                  # Discard the trailing operand from the stack
 J                 # Join all strings on the stack together
  .E               # Execute as Python eval (and output implicitly)
</code></pre>

<p>In 05AB1E negative values are with a trailing <code>(</code> instead of leading <code>-</code>, and <code>m</code> is used for exponentiation. In addition, a Polish notation is used. So the program transforms <code>[-1,2,-3,4,-5]</code> to <code>1( 2+3-4*5(m</code>, and then uses <code>.V</code> to execute the string as 05AB1E code.</p>

<pre class="lang-python prettyprint-override"><code>v                  # Loop `y` of each of its items:
 y                 #  Push `y`
  D0‹i   }         #  If `y` is negative:
      ¦            #   Remove the first character (the minus sign)
       '(         '#   And push a &quot;(&quot;
  N_i              #  If the index of the loop is 0:
     ð             #   Push a space character
    ë              #  Else:
     &quot;m+-*/&quot;Nè     #   Push a character from &quot;m+-*/&quot; based on the index of the loop
                   #   (with automatic wraparound)
]                  # Close both the if-else and loop
 J                 # Join all strings on the stack together
  .V               # Execute as 05AB1E code (and output implicitly)
</code></pre>

</div>
<div id="pu14" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>87 78</s> 70 bytes</h1>



<pre class="lang-r prettyprint-override"><code>i=0
Reduce(function(a,j)get(substr("+-*/^",i&lt;&lt;-i%%5+1,i))(a,j),scan())
</code></pre>

<p><a href="https://tio.run/##fU/bCsIwDH3vVxwsg9at2rRmczB/wg8QdE6pDxPc9v0zDnxUDgkhORfymjUhIGIHhoZXmkEBIcpyJwgoUcmBY62024O9cCMchY@EKtQ1KArBkWfeRK6UFvlfaAQuleR6fEuDxL6GJDha3IQge7dYR5mdBC19Tgevjt11ajtzm/p2TM/enIuHvXejGabLML7MKnfr7WlVpKZxKcs4pyJZu7CKoT33xtr55zPzGw" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1>shell script, <s>157</s> <s>135</s> <s>133</s> <s>130</s> <s>124</s> <s>99</s> <s>95</s> <s>88</s> <s>85</s> 81 bytes</h1>

<p>golfed (bash/non-posix) - 81 bytes</p>

<pre><code>f()(A=$1;S=+-*/^;shift;for B;{ C=${S:((I++%5)):1};A=`bc -l&lt;&lt;&lt;$A$C$B`;};echo $A)
</code></pre>

<p>golfed (portable/posix, using 'cut'-operator) - 118 bytes</p>

<pre><code>f()(S=+-x/^;A=$1;shift;for B;do C=`echo $S|cut -b1`;S=`echo $S|cut -b2-5`;S="$S$C";A=`echo $A$C$B|bc -l`;done;echo $A)
</code></pre>

<p>golfed (portable/posix, with builtins) - 124 bytes</p>

<pre><code>f()(A=$1;shift;for B;do case $I in 1)C=-;;2)C=*;;3)C=/;;4)C=^;;*)C=+;I=;;esac;I=$((I+1));A=`echo $A$C$B|bc -l`;done;echo $A)
</code></pre>

<p>ungolfed (posix - with builtins):</p>

<pre><code>A=$1
shift
for B;do
case $I in
1)C=-;;
2)C=*;;
3)C=/;;
4)C=^;;
*)C=+;I=
esac
I=$((I+1))
A=`echo $A$C$B|bc -l`
done
echo $A
</code></pre>

<p>ungolfed (posix - with 'cut'):</p>

<pre><code>S=+-x/^
A=$1
shift
for B;do
C=`echo $S|cut -b1`
S=`echo $S|cut -b2-5`
S="$S$C"
A=`echo $A$C$B|bc -l`
done
echo $A
</code></pre>

<p>This is <em>unfair</em>!<br><br>
We don't have real division in language 'sh',<br>
so we must use 'bc' which is...lame 8-)<br><br>
<b>hint:</b> your directory must have no files, otherwise the asterisk expands to filenames (◔_◔)</p>

<h1>Tests:</h1>

<pre><code># f 1 2 3 4 5
0
# f 5 12 23 2 4 4 2 6 7
539
# f -8 50 3 3 -123 4 17 99 13
-1055.35
# f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
256.00
# f 1 0 1 0 1 0
1
# f -9 -8 -1
-16
# f 0 -3
-3
# f -99
-99
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 57 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;a{i=0;a.reduce{|x,y|x.send %w[** + - * /][(i+=1)%5],y}}
</code></pre>

<p><a href="https://tio.run/##fU3LDoIwELz7Fb2QKEyxLVRoDP5I0wMqJFyMwRAhwLfXQizezGRnd2f20XbXwdaFpZdybAp2LuO2une3apx6DFMfv6rHnQRvHYYkIpSE5Gj0vokKfgikwTDP9klqrTkEEqSQxuxWQYILiMTJqYPACZm3aB4zEMkWTjaiXKw5XYhnCyu11k72q@7kP/gxDoZvbE8VaA7Kfc9Ak5@njLEf" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>

<p>Takes an array of floats, but also works with integers, as long as all division results are integer. </p>

<p>At first, I tried fiddling with <code>eval</code> which looks like the obvious approach, but it gets rather verbose. Instead, I opted for <code>send</code>, which is basically Ruby's way to call methods by names, so that <code>x.send("+",y)</code> is equivalent to <code>x+y</code>.</p>
</div>
<div id="pu17" class="pu"><h1>Java 8, <s>173</s> <s>172</s> <s>167</s> <s>138</s> <s>137</s> <s>118</s> 113 bytes</h1>

<pre class="lang-java prettyprint-override"><code>a-&gt;{double r=a[0],t;for(int i=1;i&lt;a.length;r=new double[]{Math.pow(r,t),r+t,r-t,r*t,r/t}[i++%5])t=a[i];return r;}
</code></pre>
<p><strong>Explanation:</strong></p>
<p><a href="https://tio.run/##lVBBbsIwELzzir1USho7JQmURm76A7hwRDm4wYBpcCJnA6pQ3p4uCajqrZZm7bVWMzvjozxLXtXKHLdffVHKpoGl1OY6AdAGld3JQsHq9gTYVu1nqaDwxmaTg/QFTToqQoMSdQErMJBBL/nH9U6wmdxMc4ZiV1mPVEFnkdDvMiyV2eNB2MyoCzxEr0uJh7CuLp5l6DMbILOc6pnqBbuNDoKnee4jiepcWIWtNWBF14sJmahJhEzcvZwrvYUT5fHWaLXZD5bHMOvvBtUprFoMaxphaTwTFt4fJxAxiBkkDGYM5tD5Q9x/cucMIiLHyaAxG0DNK4OFoxJ/o@3TwQeBR/FoKFowSFO6E0e9mLnAUZy@jKz@nq5ZKdAtL48cibSOJ87L0gejm3T9Dw" rel="nofollow noreferrer">Try it here.</a></p>
<pre class="lang-java prettyprint-override"><code>a-&gt;{                     // Method with double-array parameter and double return-type
  double r=a[0],         //  Result-double, starting at the first item of the input
         t;              //  Temp double
  for(int i=1;           //  Index-integer, starting at the second item
      i&lt;a.length;        //  Loop over the input-array
      r=new double[]{    //    After every iteration, change `r` to:
         Math.pow(r,t),  //      If `i%5` is 0: `r^t`
         r+t,            //      Else-if `i%5` is 1: `r+t`
         r-t,            //      Else-if `i%5` is 2: `r-t`
         r*t,            //      Else-if `i%5` is 3: `r*t`
         r/t}[i++%5])    //      Else-if `i%5` is 4: `r/t`
                         //      And increase `i` by 1 afterwards with `i++`
    t=a[i];              //   Change `t` to the next item in the array
  return r;}             //  Return result-double
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Emacs Lisp, 127 bytes</h1>

<pre><code>(lambda(x)(let((f'(+ - * / expt))(a(float(car x)))(x(cdr x)))(dotimes(i(length x)a)(set'a(funcall(nth(mod i 5)f)a(nth i x))))))
</code></pre>

<p>Ungolfed:</p>

<pre><code>(lambda(x)
  (let ((f'(+ - * / expt))  ; list of functions in order they are called
        (a (float (car x))) ; initial value
        (x (cdr x)))        ; 
    (dotimes (i (length x) a)
      (set 'a (funcall (nth (mod i 5) f) ; call the i % 5th function
                       a                 ; with accumulator
                       (nth i x))))))    ; and the ith value
</code></pre>

<p>Testcases:</p>

<pre><code>(-map
  (lambda(x)(let((f'(+ - * / expt))(a(float(car x)))(x(cdr x)))(dotimes(i(length x)a)(set'a(funcall(nth(mod i 5)f)a(nth i x))))))
  '((1 2 3 4 5)
    (5 12 23 2 4 4 2 6 7)
    (-8 50 3 3 -123 4 17 99 13)
    (2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2)
    (1 0 1 0 1 0)
    (-9 -8 -1)
    (0 -3)
    (-99)))
</code></pre>

<p>Output:</p>

<pre><code>(0.0 539.0 -1055.356943846277 256.0 1.0 -16.0 -3.0 -99.0)
</code></pre>
</div>
<div id="pu19" class="pu"><h1>PHP, <s>206</s>,<s>198</s>,197 bytes</h1>
<pre><code>function f($a){while(count($a)&gt;1){$l=array_shift($a);$r=array_shift($a);array_unshift($a,($j=$i++%5)==0?($l+$r):($j==1?($l-$r):($j==2?($l*$r):($j==3?($l/$r):(pow($l,$r))))));}return array_pop($a);}
</code></pre>
<p><a href="http://ideone.com/rKGyUG" rel="nofollow noreferrer"><img src="https://i.sstatic.net/X1Fva.png" alt="Try online!" /></a></p>
<p><strong>Ungolfed</strong></p>
<pre><code>&lt;?php
 
function f($a)
{
    while(count($a)&gt;1)
    {
        $l = array_shift($a); $r = array_shift($a);
        array_unshift($a,($j=$i++%5)==0?($l+$r):($j==1?($l-$r):($j==2?($l*$r):($j==3?($l/$r):(pow($l,$r))))));
    }
    return array_pop($a);
}
 
echo f([1,2,3,4,5]).&quot;\n&quot;;
echo f([5,12,23,2,4,4,2,6,7]).&quot;\n&quot;;
echo f([-8,50,3,3,-123,4,17,99,13]).&quot;\n&quot;;
echo f([2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]).&quot;\n&quot;;
echo f([1,0,1,0,1,0]).&quot;\n&quot;;
echo f([-9,-8,-1]).&quot;\n&quot;;
echo f([0,-3]).&quot;\n&quot;;
echo f([-99]).&quot;\n&quot;;
</code></pre>
<p>In PHP, logic similar to my c# <a href="https://codegolf.stackexchange.com/a/83043/55472">answer</a> (<strong>202 bytes</strong>) :) .</p>
</div>
<div id="pu20" class="pu"><h1>c#, <s>238</s>, 202 bytes</h1>
<pre><code>double d(double[]a){Array.Reverse(a);var s=new Stack&lt;double&gt;(a);int i=0,j;while(s.Count&gt;1){double l=s.Pop(),r=s.Pop();j=i++%5;s.Push(j==0?l+r:j==1?l-r:j==2?l*r:j==3?l/r:Math.Pow(l,r));}return s.Peek();}
</code></pre>
<p>I didn't see any c# solution so I will give one. This is my first codegolf. I started writing in c# <a href="https://github.com/spookiecookie/NaturalLanguageDateTime/commit/7a74025562947fb8a784ac2ecdf2f9181782741a" rel="nofollow noreferrer" title="Two months ago Natural Language Date Time parse">&quot;two months ago&quot;</a> (though I know Java to some extent).</p>
<p>It uses <strong>Stack</strong></p>
<p><a href="http://ideone.com/5uYmc0" rel="nofollow noreferrer"><img src="https://i.sstatic.net/X1Fva.png" alt="Try online!" /></a></p>
<p><strong>Ungolfed and test cases</strong></p>
<pre><code>using System;
using System.Collections.Generic;

class M 
{
    double d(double[]a) {
        Array.Reverse(a);
        var s = new Stack&lt;double&gt;(a);
        int i=0,j;
        while (s.Count&gt;1)
        {
            double l=s.Pop(),r=s.Pop();
            j=i++%5;
            s.Push(j==0?l+r:j==1?l-r:j==2?l*r:j==3?l/r:Math.Pow(l, r));
        }
        return s.Peek();
    }

    public static void Main()
    {
        int[][] a = new int[][]{
            new int[]{1,2,3,4,5},
            new int[]{5,12,23,2,4,4,2,6,7},
            new int[]{-8,50,3,3,-123,4,17,99,13},
            new int[]{2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2},
            new int[]{1,0,1,0,1,0},
            new int[]{-9,-8,-1},
            new int[]{0,-3},
            new int[]{-99}
        };

        for (int i = 0; i &lt; a.Length; i++)
        {
            Console.WriteLine(new M().d(Array.ConvertAll(a[i], e =&gt; Convert.ToDouble(e))));
        }
        Console.ReadKey();
    }
}
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>0
539
-1055,35694384628
256
1
-16
-3
-99
</code></pre>
</div>
<div id="pu21" class="pu"><h1>Matlab - <strike>95 91</strike> 85 bytes / Octave - 81 bytes</h1>

<p>Input is in such form: <code>a = ['1' '2' '3' '4' '5'];</code>, I hope this is covered by "string representing an array with integers/decimals", else there are 2 num2str needed additionally.</p>

<p>Every intermediate result gets printed to console because that saves me some semicolons. <code>a(1)</code> is executed so its value is then saved to <code>ans</code>. Also of course using <code>ans</code> in code is bad practice.</p>

<pre><code>b='+-*/^'
a(1)
for i=2:length(a)
  ['(',ans,')',b(mod(i-2,5)+1),a(i)]
end
eval(ans)
</code></pre>

<p>In Octave, <code>'+-*/^'(mod(i+2,5)+1)</code> also works, which saves another 4 bytes, thanks Adám and Luis Mendo:</p>

<pre><code>a(1)
for i=2:length(a)
  strcat('(',ans,')','+-*/^'(mod(i-2,5)+1),a(i))
end
eval(ans)
</code></pre>

<p>Changelog:</p>

<ul>
<li>Removed spaces where possible</li>
<li>added Octave solution</li>
<li>replaced strcat() with []</li>
</ul>
</div>
<div id="pu22" class="pu"><h1>Oracle PL/SQL, <s>275</s> 254 Bytes</h1>

<pre><code>declare r number;begin for x in (select n,mod(rownum,5)r from t) loop if r is null then r:=x.n;elsif x.r=2then r:=r+x.n;elsif x.r=3then r:=r-x.n;elsif x.r=4then r:=r*x.n;elsif x.r=0then r:=r/x.n;else r:=r**x.n;end if;end loop;DBMS_OUTPUT.PUT_LINE(r);end;
</code></pre>

<p>The data must be inserted in a table called <code>T</code> with a column <code>N</code> of type <code>NUMBER</code></p>

<p>Usage:</p>

<pre><code>drop table t;
create table t (n number);
insert into t values (-8);
insert into t values (50);
insert into t values (3);
insert into t values (3);
insert into t values (-123);
insert into t values (4);
insert into t values (17);
insert into t values (99);
insert into t values (13);

declare r number;begin for x in (select n,mod(rownum,5)r from t) loop if r is null then r:=x.n;elsif x.r=2then r:=r+x.n;elsif x.r=3then r:=r-x.n;elsif x.r=4then r:=r*x.n;elsif x.r=0then r:=r/x.n;else r:=r**x.n;end if;end loop;DBMS_OUTPUT.PUT_LINE(r);end;
</code></pre>

<p>Output: </p>

<pre><code>-1055,356943846277162152071601242992595623
</code></pre>

<h3>275 Bytes version:</h3>

<pre><code>declare r number;cursor c is select n,mod(rownum,5) r from t;begin for x in c loop if r is null then r:=x.n;else case x.r when 2 then r:=r+x.n;when 3 then r:=r-x.n;when 4 then r:=r*x.n;when 0 then r:=r/x.n;else r:=r**x.n; end case;end if;end loop;DBMS_OUTPUT.PUT_LINE(r);end;
</code></pre>
</div>
<div id="pu23" class="pu"><h1>Haskell, <s>76</s> <s>65</s> <s>64</s> 62 bytes</h1>
<p>Thanks to @Damien for removing another two bytes=)</p>
<pre><code>f(u:v)=foldl(\x(f,y)-&gt;f x y)u(zip(v&gt;&gt;[(+),(-),(*),(/),(**)])v)
</code></pre>
<p>This uses the <code>&gt;&gt;</code> which here just appends the list <code>[(+),...]</code> to itself <code>length v</code> times. The rest still works still the same as the old versions.</p>
<p>Old versions:</p>
<p>These solutions make use of the infinite lists, as <code>cycle[...]</code> just repeats the given list infinitely. Then it basically gets <code>zip</code>ed with the list of numbers, and we just <code>fold</code> (<em>reduce</em> in other languages) the zipped list via a lambda, that applies the operators to the accumulator/current list element.</p>
<pre><code>f(u:v)=foldl(\x(f,y)-&gt;f x y)u(zip(cycle[(+),(-),(*),(/),(**)])v)

f(u:v)=foldl(\x(y,f)-&gt;f x y)u(zip v(cycle[(+),(-),(*),(/),(**)]))

f l=foldl(\x(y,f)-&gt;f x y)(head l)(zip(drop 1l)(cycle[(+),(-),(*),(/),(**)]))
</code></pre>
</div>
<div id="pu24" class="pu"><h1>CJam, 18 bytes</h1>

<pre><code>q~{"+-*/#"W):W=~}*
</code></pre>

<p>Input is an array of floats. <a href="http://cjam.tryitonline.net/#code=cX57IistKi8jIlcpOlc9fn0q&amp;input=Wy04LjAgNTAuMCAzLjAgMy4wIC0xMjMuMCA0LjAgMTcuMCA5OS4wIDEzLjBd" rel="nofollow">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>q~                  Read and evaluate all input.
  {             }*  Reduce:
   "+-*/#"            Push the string of operators.
          W           Push W (initially -1).
           ):W        Increment and save in W.
              =       Retrieve the character at that index.
               ~      Evaluate.
</code></pre>
</div>
<div id="pu25" class="pu"><h1>Python 3, <s>88</s> 93 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda x:eval('('*(len(x)-1)+'){}'.join(map(str,x)).format(*['+','-','*','/','**']*len(x)))
</code></pre>
<p>It started off being much shorter but then operator precedence defeated me and I had to include lots of parenthesis...</p>
</div>
<div id="pu26" class="pu"><h1><a href="http://perl6.org" rel="nofollow noreferrer">Perl 6</a>, <s> 70 68 65 </s> 62 bytes</h1>



<pre class="lang-none prettyprint-override"><code><s>{$/=[(|(&[+],&[-],&[*],&[/],&[**])xx*)];.reduce: {$/.shift.($^a,$^b)}}
{(@_ Z |(&[+],&[-],&[*],&[/],&[**])xx*).flat.reduce: {&^b($^a,$^c)}}
{(@_ Z |(*+*,*-*,&[*],*/*,&[**])xx*).flat.reduce: {&^b($^a,$^c)}}</s>
{reduce {&^b($^a,$^c)},flat @_ Z |(*+*,*-*,&[*],*/*,&[**])xx*}</code></pre>

<h3>Explanation:</h3>
<pre class="lang-perl6 prettyprint-override"><code>-&gt; *@_ {
  reduce
    -&gt; $a, &amp;b, $c { b($a,$c) },

    flat       # flatten list produced from zip
      zip
        @_,    # input

        slip(  # causes the list of operators to flatten into the xx list

          # list of 5 infix operators
          &amp;infix:&lt;+&gt;, &amp;infix:&lt;-&gt;, &amp;infix:&lt;*&gt;, &amp;infix:&lt;/&gt;, &amp;infix:&lt;**&gt;

        ) xx * # repeat the list of operators infinitely
}
</code></pre>
<p>Technically <code>* + *</code> is a Whatever lambda, but is effectively the same as <code>&amp;[+]</code> which is short for <code>&amp;infix:&lt;+&gt;</code> the set of subroutines that handle infix numeric addition.<br />
I didn't use that for multiplication or exponentiation as the ways to write them like that is at least as long as what I have (<code>*×*</code> or <code>* * *</code> and <code>* ** *</code>)</p>
<h3>Test:</h3>
<p>Test it on <a href="https://ideone.com/dRHzhx" rel="nofollow noreferrer">ideone.com</a><br />
(after they upgrade to a <a href="https://rakudo.org" rel="nofollow noreferrer">Rakudo</a> version that isn't from a year and a half before the official release of the <a href="http://perl6.org" rel="nofollow noreferrer">Perl 6</a> <a href="https://github.com/perl6/roast" rel="nofollow noreferrer" title="ROAST: Repository Of All Spec Tests">spectests</a>)</p>
<pre class="lang-perl6 prettyprint-override"><code>#! /usr/bin/env perl6

use v6.c;
use Test;

my @tests = (
  [1,2,3,4,5] =&gt; 0,
  [5,12,23,2,4,4,2,6,7] =&gt; 539,
  [-8,50,3,3,-123,4,17,99,13] =&gt; -1055.35694385, # -2982186493/2825761
  [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2] =&gt; 256,
  [1,0,1,0,1,0] =&gt; 1,
  [-9,-8,-1] =&gt; -16,
  [0,-3] =&gt; -3,
  [-99] =&gt; -99,
);

plan +@tests;

my &amp;code = {reduce {&amp;^b($^a,$^c)},flat @_ Z |(*+*,*-*,&amp;[*],&amp;[/],&amp;[**])xx*}

for @tests -&gt; $_ ( :key(@input), :value($expected) ) {
  is code(@input), $expected, .gist
}
</code></pre>
<pre class="lang-none prettyprint-override"><code>1..8
ok 1 - [1 2 3 4 5] =&gt; 0
ok 2 - [5 12 23 2 4 4 2 6 7] =&gt; 539
ok 3 - [-8 50 3 3 -123 4 17 99 13] =&gt; -1055.35694385
ok 4 - [2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2] =&gt; 256
ok 5 - [1 0 1 0 1 0] =&gt; 1
ok 6 - [-9 -8 -1] =&gt; -16
ok 7 - [0 -3] =&gt; -3
ok 8 - [-99] =&gt; -99
</code></pre>
</div>
<div id="pu27" class="pu"><h1>Rust, <strike>123</strike>, 117 bytes</h1>

<p>Original answer:</p>

<pre><code>fn a(v:&amp;[f32])-&gt;f32{v.iter().skip(1).enumerate().fold(v[0],|s,(i,&amp;x)|match i%5{0=&gt;s+x,1=&gt;s-x,2=&gt;s*x,3=&gt;s/x,_=&gt;s.powf(x)})}
</code></pre>

<p>stupid long method names ^^
ahh much better</p>

<pre><code>fn f(v:&amp;[f32])-&gt;f32{v[1..].iter().zip(0..).fold(v[0],|s,(&amp;x,i)|match i%5{0=&gt;s+x,1=&gt;s-x,2=&gt;s*x,3=&gt;s/x,_=&gt;s.powf(x)})}
</code></pre>

<p>ungolfed</p>

<pre><code>fn f(values : &amp;[f32]) -&gt; f32 {
    values[1..].iter().zip(0..)
    .fold(values[0], |state,(&amp;x,i)|
        match i%5 {
            0=&gt;state+x,
            1=&gt;state-x,
            2=&gt;state*x,
            3=&gt;state/x,
            _=&gt;state.powf(x)
        }
    )
}
</code></pre>
</div>
<div id="pu28" class="pu"><h1>Haskell, 61 Bytes</h1>

<pre><code>foldl(flip id)0.zipWith flip((+):cycle[(+),(-),(*),(/),(**)])
</code></pre>

<p>Creates a series of transformations in a list, as in [add 1, add 2, subtract 3, ...], starting with 2 additions because we start with 0 in the fold. Next, we do what I call the List Application Fold, or foldl (flip id), which applies a list of homomorphisms in series. This starts with zero, adds the initial value, then does all of the above computed transformations to get a final result.</p>

<p>Note that (flip id) is the same as (\x y->y x), just shorter.</p>

<p>Sample usage:</p>

<pre><code>f = foldl(flip id)0.zipWith flip((+):cycle[(+),(-),(*),(/),(**)])
f [1,2,3,4,5] -- Is 0.0
</code></pre>
</div>
<div id="pu29" class="pu"><h1>Python 2, <s>81</s> <s>67</s> 64 bytes</h1>



<pre class="lang-python prettyprint-override"><code>i=10
for n in input():exec'r%s=n'%'*+-*/*'[i::5];i=-~i%5
print r
</code></pre>

<p>Input is an array of floats. Test it on <a href="http://ideone.com/7HKWKV" rel="nofollow">Ideone</a>.</p>

<h3>How it works</h3>

<p><code>'*+-*/*'[i::5]</code> selects every fifth character of the string, starting with the one at index <strong>i</strong>, so this yields <code>**</code> if <strong>i = 0</strong>, <code>+</code> if <strong>i = 1</strong>, <code>-</code> if <strong>i = 2</strong>, <code>*</code> if <strong>i = 3</strong> and <code>/</code> if <strong>i = 4</strong>. Since the string has length <strong>6</strong>, the expression will yield an empty string if <strong>i > 5</strong>.</p>

<p>We initialize the variable <strong>i</strong> to <strong>10</strong>. For each number <strong>n</strong> in the input array, we construct the string <code>r&lt;op&gt;=n</code>, which <code>exec</code> executes. </p>

<p>Initially, <strong>i = 10</strong>, so <code>&lt;op&gt;</code> is the empty string, and it initializes <strong>r</strong> with <code>r+=n</code>. After each step, we increment <strong>i</strong> modulo <strong>5</strong> with <code>i=-~i%5</code>, so the next step will retrieve the proper operator.</p>

<p>When all input numbers has been processed, and we print <strong>r</strong>, which holds the desired output.</p>
</div>
<div id="pu30" class="pu"><h1>Julia, <s>53</s> 50 bytes</h1>



<pre class="lang-julia prettyprint-override"><code>!x=(i=0;foldl((a,b)-&gt;(+,-,*,/,^)[i=i%5+1](a,b),x))
</code></pre>

<p><a href="http://julia.tryitonline.net/#code=IXg9KGk9MDtmb2xkbCgoYSxiKS0-KCssLSwqLC8sXilbaT1pJTUrMV0oYSxiKSx4KSkKCmZvciB4IGluIChbMSwyLDMsNCw1XSwgWzUsMTIsMjMsMiw0LDQsMiw2LDddLCBbLTgsNTAsMywzLC0xMjMsNCwxNyw5OSwxM10sIFsyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyXSwgWzEsMCwxLDAsMSwwXSwgWy05LC04LC0xXSwgWzAsLTNdLCBbLTk5XSkKICAgIEBwcmludGYoIiUtMzNzIC0-ICVnXG4iLHgsIXgpCmVuZA&amp;input=" rel="noreferrer">Try it online!</a></p>
</div>
<div id="pu31" class="pu"><h1><a href="http://github.com/DennisMitchell/jelly">Jelly</a>, 13 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page">bytes</a></h1>

<pre><code>“+_×÷*”ṁṖ⁸żFV
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=4oCcK1_Dl8O3KuKAneG5geG5luKBuMW8RlY&amp;input=&amp;args=Wy04LDUwLDMsMywtMTIzLDQsMTcsOTksMTNd">Try it online!</a> or <a href="http://jelly.tryitonline.net/#code=4oCcK1_Dl8O3KuKAneG5geG5luKBuMW8RlYKw4figqw&amp;input=&amp;args=WzEsMiwzLDQsNV0sIFs1LDEyLDIzLDIsNCw0LDIsNiw3XSwgWy04LDUwLDMsMywtMTIzLDQsMTcsOTksMTNdLCBbMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMl0sIFsxLDAsMSwwLDEsMF0sIFstOSwtOCwtMV0sIFswLC0zXSwgWy05OV0">verify all test cases</a>.</p>

<h3>How it works</h3>

<pre><code>“+_×÷*”ṁṖ⁸żFV  Main link. Argument: A (list of integers)

“+_×÷*”        Yield the list of operations as a string.
        Ṗ      Yield A popped, i.e., with its last element removed.
       ṁ       Mold; reshape the string as popped A.
               This repeats the characters of the string until it contains
               length(A)-1 characters.
         ⁸ż    Zipwith; pairs the integers of A with the corresponding characters.
           F   Flatten the result.
            V  Eval the resulting Jelly code.
               Jelly always evaluates left-to-right (with blatant disregard towards
               the order of operations), so this returns the desired result.
</code></pre>
</div>
<div id="pu32" class="pu"><h1>Mathematica, <s>67</s> <s>66</s> 65 bytes</h1>

<pre><code>Fold[{+##,#-#2,#2#,#/#2,If[#2==0,1,#^#2]}[[i++~Mod~5+1]]&amp;,i=0;#]&amp;
</code></pre>

<p>Simple <code>Fold</code> with a variable <code>i</code> holding the index.</p>
</div>
<div id="pu33" class="pu"><h2>PowerShell v2+, 124 bytes</h2>

<pre><code>param($n)$o=$n[0];if($y=$n.count-1){1..$y|%{$o=if(($x=$i++%5)-4){"$o"+'+-*/'[$x]+$n[$_]|iex}else{[math]::pow($o,$n[$_])}}}$o
</code></pre>

<p>Long because PowerShell doesn't have a <code>^</code> or <code>**</code> operator, so we have to account for a separate case and use a .NET call.</p>

<p>Takes input <code>$n</code> as an array, sets our output <code>$o</code> to be the first digit. We then check the <code>.count</code> of the array, and so long as it's greater than one we enter the <code>if</code>. Otherwise, we skip the <code>if</code>.</p>

<p>Inside the <code>if</code> we loop through the array <code>1..$y|%{...}</code> and each iteration we re-set <code>$o</code> to a new value, the result of another <code>if/else</code> statement. So long as our counter <code>$i++</code> isn't modulo-5 equal to 4 (i.e., we're not at the <code>^</code> operator), we simply take <code>$o</code> and concatenate it with the appropriate symbol <code>'+-*/'[$x]</code> and the next number in the input array <code>$n[$_]</code>. We pipe that to <code>iex</code> (alias for <code>Invoke-Expression</code> and similar to <code>eval</code>), and that gets re-saved to <code>$o</code>. If we're on the <code>^</code> operator, we're in the <code>else</code>, so we execute a <code>[math]::Pow()</code> call, and <em>that</em> result gets re-saved back into <code>$o</code>.</p>

<p>In either case, we simply output <code>$o</code> to the pipeline and exit, with output implicit.</p>
</div>
<div id="pu34" class="pu"><h2>Actually, 23 bytes</h2>
<pre><code>;l&quot;+-*/ⁿ&quot;*@R':j':+'?o+ƒ
</code></pre>
<p><a href="http://actually.tryitonline.net/#code=O2wiKy0qL-KBvyIqQFInOmonOisnP28rxpI&amp;input=MSwyLDMsNCw1" rel="nofollow noreferrer">Try it online!</a></p>
<p>Actually uses postfix notation for mathematics, and operators that only ever take two arguments (such as the operators for addition, subtraction, multiplication, division, and exponentiation) do nothing when there is only one element on the stack. Thus, turning the input into Actually code is as simple as reversing the input, formatting it as numerics, and appending the operations. Then, the resultant code can be executed, giving the desired output.</p>
<h2>Explanation:</h2>
<pre><code>;l&quot;+-*/ⁿ&quot;*@R':j':+'?o+ƒ
;l&quot;+-*/ⁿ&quot;*               repeat the operations a number of times equal to the length of the input
                            (since extraneous operations will be NOPs, there's no harm in overshooting)
          @R             reverse the input
            ':j          join on &quot;:&quot; (make a string, inserting &quot;:&quot; between every pair of elements in the list)
               ':+       prepend a &quot;:&quot; (for the first numeric literal)
                  '?o    append a &quot;?&quot;
                           (this keeps the poor numeric parsing from trying to gobble up the first + as part of the numeric literal, since ? isn't interpreted as part of the literal, and is a NOP)
                     +   append the operations string
                      ƒ  cast as a function and call it
</code></pre>
<p>Example of translated code for input <code>1,2,3,4,5</code>:</p>
<pre><code>:5:4:3:2:1?+-*/ⁿ+-*/ⁿ+-*/ⁿ+-*/ⁿ+-*/ⁿ
</code></pre>
</div>
<div id="pu35" class="pu"><h1>J, 40 bytes</h1>

<pre><code>^~`(%~)`*`(-~)`+/@(|.@,7#:~#&amp;2)(5-5|4+#)
</code></pre>

<p>Finds the number of values needed to use a multiple of 5 operators, than pads with the identity values of those operators. In order, <code>+</code> is 0, <code>-</code> is 0, <code>*</code> is 1, <code>%</code> is 1, and <code>^</code> is 1, which can be a bit value <code>00111</code>, or 7 in base 10. Then operates on that list while cycling through operators.</p>

<h2>Usage</h2>

<pre><code>   f =: ^~`(%~)`*`(-~)`+/@(|.@,7#:~#&amp;2)(5-5|4+#)
   f 1 2 3 4 5
0
   f 5 12 23 2 4 4 2 6 7
539
   f _8 50 3 3 _123 4 17 99 13
_1055.36
   f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
256
   f 1 0 1 0 1 0
1
   f _9 _8 _1
_16
   f 0 _3
_3
   f _99
_99
</code></pre>

<h2>Explanation</h2>

<pre><code>^~`(%~)`*`(-~)`+/@(|.@,7#:~#&amp;2)(5-5|4+#) Input: A
                                      #  Get length of A
                                    4+   Add four to it
                                  5|     Take it mod 5
                                5-       Find 5 minus its value, call it x
                           #&amp;2           Create x copies of 2
                       7#:~              Convert 7 to base 2 and take the last x digits
                      ,                  Append those x digits to the end of A
                   |.@                   Reverse it, call it A'
^~                                       Power, reversed operators
    %~                                   Division, reversed operators
       *                                 Multiplication
         -~                              Subtraction, reversed operators
            +                            Addition
             /@                          Insert the previous operations, separated by `,
                                         into A' in order and cycle until the end
                                         Then evaluate the equation from right-to-left
                                         and return
</code></pre>
</div>
<div id="pu36" class="pu"><h2>Haskell - 74</h2>

<pre><code>f(x:xs)=foldl(\x(o,y)-&gt;o x y)x(zip(cycle[(+),(-),(*),(/),flip(^).floor])xs)
</code></pre>

<p>Test cases:</p>

<pre><code>λ&gt; f[1,2,3,4,5] -&gt; 0.0
λ&gt; f[5,12,23,2,4,4,2,6,7] -&gt; 539.0
λ&gt; f[-8,50,3,3,-123,4,17,99,13] -&gt; -1055.356943846277
λ&gt; f [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2] -&gt; 256.0
</code></pre>

<p>It could probably be shorter; Haskell's support for infinite lists and higher order functions make the direct solution quite pleasant, though. A version of <code>^ :: Double -&gt; Double -&gt; Double</code> would be nicer for golfing, but I couldn't find one. Thankfully, I didn't need a full lambda, so pointless style shaved off a few bytes.</p>
</div>
<div id="pu37" class="pu"><h2>Pyke, <s>22</s> 21 bytes</h2>
<pre><code>lt5L%&quot;+-*/^&quot;L@\RJQ_XE
</code></pre>
<p><a href="http://pyke.catbus.co.uk/?code=lt5L%25%22%2B-%2a%2F%5E%22L%40%5CRJQ_XE&amp;input=%5B-8%2C50%2C3%2C3%2C-123%2C4%2C17%2C99%2C13%5D" rel="noreferrer">Try it here!</a></p>
<pre><code>lt5L%                 -    map(len(input)-1, %5)
     &quot;+-*/^&quot;L@        -   map(^, &quot;+-*/^&quot;[&lt;])
              \RJ     -  &quot;R&quot;.join(^)
                    E - pyke_eval(^, V)
                 Q_X  -  splat(reversed(input))
</code></pre>
</div>
<div id="pu38" class="pu"><h1>Pyth, <s>27</s> <s>26</s> 25 bytes</h1>

<pre><code>.v+&gt;tlQ*lQ"^c*-+":jdQ\-\_
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=.v%2B%3EtlQ%2alQ%22%5Ec%2a-%2B%22%3AjdQ%5C-%5C_&amp;test_suite=1&amp;test_suite_input=%5B1%2C2%2C3%2C4%2C5%5D%0A%5B5%2C12%2C23%2C2%2C4%2C4%2C2%2C6%2C7%5D%0A%5B-8%2C50%2C3%2C3%2C-123%2C4%2C17%2C99%2C13%5D%0A%5B2%2C2%2C2%2C2%2C2%2C2%2C2%2C2%2C2%2C2%2C2%2C2%2C2%2C2%2C2%2C2%5D%0A%5B1%2C0%2C1%2C0%2C1%2C0%5D%0A%5B-9%2C-8%2C-1%5D%0A%5B0%2C-3%5D%0A%5B-99%5D&amp;debug=0" rel="nofollow noreferrer">Test suite.</a></p>

<p>Pyth uses prefix notation: <code>1+2</code> is written as <code>+1 2</code> (space needed to separate numbers).</p>

<p>Therefore, for the first testcase, the expression would be <code>(((1+2)-3)*4)/5</code>, which in prefix notation, would be written as <code>/*-+ 1 2 3 4 5</code>.</p>

<p>In Pyth, float division is <code>c</code> instead of <code>/</code>, so it becomes <code>c*-+ 1 2 3 4 5</code>.</p>

<p>Also, in Pyth, <code>-100</code> is written as <code>_100</code> instead.</p>

<p>Therefore, for the third test case, which is <code>((((((((-8+50)-3)*3)/-123)^4)+17)-99)*13)</code>, it becomes: <code>*-+^c*-+ _8 50 3 3 _123 4 17 99 13</code>.</p>

<pre><code>.v+&gt;tlQ*lQ"^c*-+":jdQ\-\_
                  jdQ       Join input by space.
                 :   \-\_   Replace "-" with "_".
   &gt;tlQ*lQ"^c*-+"           Generate the string "...^c*-+" of suitable length.
  +                         Join the two strings above.
.v                          Evaluate as a Pyth expression.
</code></pre>

<h2>History</h2>

<ul>
<li>33 bytes: <a href="https://codegolf.stackexchange.com/revisions/82774/1"><code>v:P+*lQ\(ssV+R\)Q*"+-*/p"lQ\p"**"</code></a></li>
<li>27 bytes: <a href="https://codegolf.stackexchange.com/revisions/82774/2"><code>.vs+_XUtQUQ"+-*c^"m:+;d\-\_</code></a></li>
<li>26 bytes: <a href="https://codegolf.stackexchange.com/revisions/82774/4"><code>.vs+_XUtQUQ"+-*c^":jdQ\-\_</code></a></li>
</ul>
</div>
<div id="pu39" class="pu"><h1>Javascript ES7 49 bytes</h1>
<pre><code>a=&gt;a.reduce((c,d,e)=&gt;[c**d,c+d,c-d,c*d,c/d][e%5])
</code></pre>
<p>Saved 9 bytes thanks to Dom Hastings, saved another 6 thanks to Leaky Nun</p>
<p>Uses the new exponentiation operator.</p>
</div>
<div id="pu40" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow">Brachylog</a>, 68 bytes</h1>

<pre><code>hI,?bL,1:+:-:*:/:^b:L:I{bhv?t.|[O:L:I]h$(P,LbM,OhA,Lh:Ir:A&amp;:M:Pr&amp;.}.
</code></pre>

<p>That's long… but it uses no evaluation predicate.</p>

<h3>Explanation</h3>

<ul>
<li><p>Main predicate</p>

<pre><code>hI,                                  Unify I with the first element of the input
   ?bL,                              L is the input minus the first element
       1:+:-:*:/:^b                  Construct the list of predicates [+:-:*:/:^]
                   :L:I{...}.        Call predicate 1 with [[+:-:*:/:^]:L:I] as input
</code></pre></li>
<li><p>Predicate 1</p>

<pre><code>bhv?t.                               If the second element of Input is empty (i.e. L),
                                     unify Output with the last element of Input
|                                    Or
[O:L:I]                              Input = [O:L:I]
       h$(P,                         P is O circularly permutated to the left
            LbM,                     M is L minus the first element
                OhA,                 A is the first element of O
                    Lh:Ir:A&amp;         Call predicate A on [I:First element of L]
                            :M:Pr&amp;.  Call predicate 1 recursively with P:M:
</code></pre></li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/82773/">82773</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




