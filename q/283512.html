<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::283512</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>071</td><td>Python 3.8 prerelease</td><td>250905T132959Z</td><td><a href="https://codegolf.stackexchange.com/questions/283512/exit-a-pinball-board/283524#283524">V_R</a></td></tr>
<tr d-ix="1"><td>082</td><td>Google Sheets</td><td>250905T072810Z</td><td><a href="https://codegolf.stackexchange.com/questions/283512/exit-a-pinball-board/283513#283513">doubleun</a></td></tr>
<tr d-ix="2"><td>057</td><td>JavaScript ES6</td><td>250905T103750Z</td><td><a href="https://codegolf.stackexchange.com/questions/283512/exit-a-pinball-board/283520#283520">Arnauld</a></td></tr>
<tr d-ix="3"><td>067</td><td>R</td><td>250905T095624Z</td><td><a href="https://codegolf.stackexchange.com/questions/283512/exit-a-pinball-board/283519#283519">pajonk</a></td></tr>
<tr d-ix="4"><td>059</td><td>Retina 0.8.2</td><td>250905T092708Z</td><td><a href="https://codegolf.stackexchange.com/questions/283512/exit-a-pinball-board/283517#283517">Neil</a></td></tr>
<tr d-ix="5"><td>060</td><td>05AB1E</td><td>250905T084154Z</td><td><a href="https://codegolf.stackexchange.com/questions/283512/exit-a-pinball-board/283515#283515">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>034</td><td>Charcoal</td><td>250905T083453Z</td><td><a href="https://codegolf.stackexchange.com/questions/283512/exit-a-pinball-board/283514#283514">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 71 bytes</h1>
<p>Expects input as a one-dimensional list <code>l</code> where <code>&quot;#&quot;</code> is <code>3</code>, <code>&quot;o&quot;</code> is <code>2</code>, <code>&quot;\&quot;</code> is <code>1</code>, <code>&quot; &quot;</code> is <code>0</code>, and <code>&quot;/&quot;</code> is <code>-1</code>, plus the width of the grid <code>w</code> to disambiguate e.g. 13x7 from 7x13 grids. Outputs the 0-based index into <code>l</code> where the ball exits.</p>

<pre class="lang-python prettyprint-override"><code>lambda l,w,i=0:i if 2&lt;l[(i:=max(i,l.index(2)))+w]else f(l,w,i+w+l[i+w])
</code></pre>
<p><a href="https://tio.run/##1ZXBisMgEIbveQqPSsziGJZdwvok1kNKdTtgTUhTbJ8@K9tcStPSFlpSfkb0Z9T5EJz20K@bUH633eDUYvD1ZrmqieeRoxIVEnRE/nhNsVKbek@R@w8MK7unkjGWR2P91hJH/zfkMfc6jYYNGNpdv1Val3xa4kzXXbiSKyfdAibsAi7eBzdUce5OyPC7qeUD1OLtqcXTqeVMqOVLqef51vLl1KN5il3ArLlPynt@8m3YJosKIGt2/fFXB1FyEJDiM8XXOJcmc01HUs8IpKvDr6XeBnrsBIxVGWk7DD11o6XR8MiUGk9NSzb8AQ" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>A slightly longer 79-byte version is a little clearer:</p>
<pre class="lang-python prettyprint-override"><code>def f(l,w,i=0):
 i=max(i,l.index(2));return i if 2&lt;l[i+w]else f(l,w,i+w+l[i+w])
</code></pre>
<p>When the function is called the first time, the input <code>i</code> for the index of the location of the ball is not given, so we set it to <code>l.index(2)</code>. Then we recursively call the function:</p>
<p>If moving down one row (adding <code>w</code> to our index) gets us to <code>&quot;#&quot;</code>, encoded as <code>3</code> (<code>if 2&lt;l[i+w]</code>), then the current position is our exit point, so <code>return i</code>.</p>
<p>Else, call <code>f()</code> with the same <code>l</code> and <code>w</code> (i.e. same grid), but manually set the location of the ball to its current position <code>i</code> moved down one row (<code>+w</code>) and shifted either to the left or right or not shifted at all depending on which character is immediately below the ball (at <code>l[i+w]</code>). The encoding values for <code>&quot;/ \&quot;</code> were set so that the left bumper moves us left, space doesn't move us at all, and the right bumper moves us right. This gives the final new position of the ball as <code>i+w+l[i+w]</code>.</p>
</div>
<div id="pu1" class="pu"><h1>Google Sheets, 82 bytes</h1>
<pre class="lang-none prettyprint-override"><code>=reduce(,A:A,lambda(p,r,iferror(find(&quot;o&quot;,r),p+(mid(r,p,1)=&quot;\&quot;)-(mid(r,p,1)=&quot;/&quot;))))
</code></pre>
<p>Outputs the 1-indexed final x-coordinate position of the ball on the board, including borders.</p>
<p><img src="https://i.sstatic.net/fz3wZi56.png" alt="screenshot" /></p>
<p>Ungolfed:</p>
<pre class="lang-none prettyprint-override"><code>=reduce(, A:A, lambda(p, r, 
  iferror(find(&quot;o&quot;, r),
    p + (mid(r, p, 1) = &quot;\&quot;) - (mid(r, p, 1) = &quot;/&quot;)
  )
))
</code></pre>
<p>In spreadsheet formulas, errors don't get thrown immediately. Instead, they propagate up the evaluation chain, and can be caught with <code>iferror()</code> and friends.</p>
<p>While <code>reduce()</code> goes through each row <code>r</code> in turn, <code>find()</code> gets an error until an <code>o</code> is found in a row. At that point, the <code>lambda()</code> returns without evaluating the math expression that would otherwise output an error. This pattern is a sort of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_operators#short-circuit_evaluation" rel="nofollow noreferrer">short-circuit evaluation</a>.</p>
<p>From there on, the ball position <code>p</code> is numeric, and the math expression is error-free. The value of <code>p</code> remains unchanged unless one of the conditions in the expression evaluate to <code>true</code>.</p>
<p>Booleans <code>true</code> and <code>false</code> get coerced to <code>1</code> and <code>0</code> in spreadsheet math contexts.</p>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES6), 57 bytes</h1>
<p>Expects a matrix of ASCII codes and returns the 0-indexed column at which the ball exits.</p>

<pre class="lang-javascript prettyprint-override"><code>m=&gt;m.map(r=&gt;r.map((c,x)=&gt;c&gt;92?m=x:m-=m==x&amp;&amp;c&gt;46|-c/92))|m
</code></pre>
<p><a href="https://tio.run/##vdDRSsMwFAbg@z5F6GDkwJrIEGGTRBD0BXZpvQhZMitNTk06qTifvc6BZMPpRZ2eq5/Dn@Qjj@pZRR2qpi08Lk1vRe@EdMyphgYhwy5QPelASC1n0ysnurkrhBOiG4@1PL/YFJrPpgAb1wfztK6CobmNObBg1PK2qs3ixWt6BqzFRRsqv6LAYlNXLc1LX/pt0WK4UfqBRiIkec0I0egj1obVuKKWxlTflj88u@IdY@x6ba0JzAZ0NMI9AFxmb9CP0mQj8jlfcnm4x73MU@YHZ8sj96S89272PQJ/QJD/QpABCDwZAocjTv8T@BsETwj@Jwg@fH8M8Q4" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>m =&gt;              // m[] = input matrix, re-used as the ball position
m.map(r =&gt;        // for each row r[] in m[]:
  r.map((c, x) =&gt; //   for each character c at index x in r[]:
    c &gt; 92 ?      //     if c is greater than 92:
      m = x       //       this is 'o': set the initial position
    :             //     else:
      m -=        //       update m:
        m == x &amp;&amp; //         do nothing if m is not equal to x
        c &gt; 46 |  //         decrement if c is 47 ('/')
        -c / 92   //         increment if c is 92 ('\')
  )               //   end of inner map()
) | m             // end of outer map(); return m
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 67 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(b,x=which(b==111,T)){while((x=x-c(1,(!b[x]-47)-!b[x]-92))[1])0
x}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=pZPPToNAEMYP3vYpKj0wk4CIMbGm2ZMn7711ewAKLcnCEoq6pumTeEETH0pvvonQpUJTaUXmMt_-mZlfvs2-vKb5W0DfH7LAHH3cMXANSZ-WobcEl1Lbto0J4rrY4D6ApNL0wDbg3J3KmXl9g6ZSt1eIU3uGl0RuVKvPs68FZSBxTTwnK_I26SzWkUR0Li48h3NI3TCeG6n_CNxJEv4MPodVlq4SHhY1hsZiDdEoGo4m4j7OEJEkaRhnEECEOK4WCjei9Oci6FLHknysxppVlOM3hCxAG9ZBhoNdHGjG9g9EQ1u1tvaKy6LDrnKn69DwBIs4xtLUnVhkrTuwHPWljaXpV4svypk_sogeLCd9GVQ0HX0RvVisBotVF_zzjdpZrD4H8lcY9dPzXOVv" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes input as an upside-down array of character codes.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 59 bytes</h1>
<pre><code>+`(?&lt;=(.)*)\w(.*¶(?&lt;-1&gt;.)*(\\|(?&lt;-1&gt;(?= /)))?(?(1)^)) 
 $2x
</code></pre>
<p><a href="https://tio.run/##K0otycxL/P9fO0HD3sZWQ09TSzOmXENP69A2IF/X0A4ooBETUwPhaNjbKuhramraa9hrGGrGaWoqcCmoGFX8/6@MAFzKCjCAwY5BFc9HYusj2PooemOwmINgIwAA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Outputs by removing the initial ball and marking the exit with an <code>x</code> (assuming the ball does not start on the bottom row). Explanation: A .NET balancing group is used to drop the ball one row each time, except a <code>\</code> will push the ball one square to the right while a <code>/</code> will pull the ball one square to the left. This is then repeated until the ball reaches the exit. (It is probably possible to perform the repeat using .NET regex but a Retina loop only costs <code>2</code> bytes.)</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 60 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>øJΔ„o Â:2FD»'o„\/NèDU«©åi®„ 1:€SøJNií}„1 X'o«:Nií}€SøJ]ÅΔ'oå
</code></pre>
<p>Input as a matrix of characters. Outputs the 0-based index the ball ends up including borders (or aka, 1-based excluding borders).</p>
<p><a href="https://tio.run/##yy9OTMpM/R98aNuhhf8P7/A6N@VRw7x8hcNNVkZuLod2q@cDuTH6fodXuIQeWn1o5eGlmYfWAYUUDK0eNa0JBmrwyzy8thYoYqgQoZ5/aLUVhA@Riz3cem6Kev7hpf//KykpKSMAl7ICDIDZ@UjsGCS2AipbH8HWR4jrg/WA2fpY9SIA0BUA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9jaHh4S5lSQFFqSUmlbkFRZl5JaopCZl5BaYmVgpJO5aHdOlxKjsklpYk5cFH7ykdNa4Jtlf4f3uF1bsqjhnn5CoebrIzcXA7tVs8HcmP0/Q6vcAk9tPrQysNLMw@tAwopGFqB9AA1@GUeXlsLFDFUiFDPP7TaCsKHyMW6HG49N0U9//DS/0p6YUr@pSVQC4FuQHNhPkxOB6oXZLd6hZXOoW32/5URgEtZAQYw2DGo4vlIbH0EWx9FbwwWcxBsZHtxuiEfjxsU6OQGBTLckE8tN@ST7waqh0M@JW7QR7hBnxZu0CdfHJsbAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>
<p><em>General explanation:</em></p>
<p>I'll keep doing these replacements as long as it's possible, where <code>s</code> are spaces and <code>.</code> can be any character:</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th>Code snippet</th>
<th>From</th>
<th>To</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>„o Â:</code></td>
<td><pre><code>o<br>s</code></pre></td>
<td><pre><code>s<br>o</code></pre></td>
</tr>
<tr>
<td><code>D»'o„\/NèDU«©åi®„ 1:€SøJNií}„1 X'o«:Nií}€SøJ</code></td>
<td><pre><code>.o<br>s/</code></pre></td>
<td><pre><code>.s<br>o/</code></pre></td>
</tr>
<tr>
<td><code>D»'o„\/NèDU«©åi®„ 1:€SøJ„1 X'o«:€SøJ</code></td>
<td><pre><code>o.<br>\s</code></pre></td>
<td><pre><code>s.<br>\o</code></pre></td>
</tr>
</tbody>
</table></div>
<p><em>Code explanation:</em></p>

<pre class="lang-python prettyprint-override"><code>ø                     # Transpose the (implicit) input-matrix
 J                    # Join each inner list of characters to a string
  Δ                   # Loop until the result no longer changes:
   „o                 #  Push string &quot;o &quot;
      Â               #  Bifurcate it; short for Duplicate &amp; Reverse copy
       :              #  Keep replacing &quot;o &quot; with &quot; o&quot; as long as it's possible
   2F                 #  Loop 2 times:
     D»               #   Duplicate the list of strings, and join it by newlines
       'o            '#   Push &quot;o&quot;
         „\/          #   Push &quot;\/&quot;
            Nè        #   Pop and 0-based index the loop-index into it
              DU      #   Store a copy of this (back)slash in variable `X`
              «       #   Append it to the &quot;o&quot;
               ©      #   Store a copy of this pair in variable `®`
       åi             #   If the newline-joined string contains this pair:
         ®„ 1:        #    Replace this pair `®` with &quot; 1&quot;
         €S           #    Convert each inner string to a list of characters
           ø          #    Zip/transpose; swapping rows/columns
            J         #    Join each inner char-list back to a string
             Ni }     #    If the loop-index is 1:
               í      #     Reverse each inner row
             „1       #    Push &quot;1 &quot;
                X     #    Push (back)slash `X`
                 'o« '#    Append an &quot;o&quot;
                    : #    Replace &quot;1 &quot; with this
             Nií}     #    If the loop-index is 1: reverse each back
             €SøJ     #    Transpose back
]                     # Close the if-statement; loop; and changes-loop
                      # (the list of strings is still transposed at this point)
 ÅΔ                   # Find the first (0-based) index that's truthy for:
   'oå               '#  It's a string (aka column) containing the &quot;o&quot;
                      # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 34 bytes</h1>
<pre><code>ＷＳ⊞υι≔⪫υ¶θＰθ…θ⌕θoＷ⁻§ＫＶ²#Ｍ⁻⁼ι\⁼ι/¹x
</code></pre>
<p><a href="https://tio.run/##bU7BisIwEL37FSG9TKBS9NqTyC5UqBSEPfVSarCD2UlrEu1@fUxEt5XdgTAvb96beW3XXFrdKO9vHSrJoKDe2YO9IJ1ACFY504FLGYp8sTEGTwQ7jRQpXhMXKRvCpHTKYh88FuK3eqDtT6vkttM9DCn7RDrGzjUXIkie10okZ2BjCzrKESopz1@a9tJ9N0QQlq/D40mwsFJf5VP@MbhGGcAYoY4RZkQWtClb/YbgIxe598lUi4S96g@u33k9w9mEszdv/c@eCc/u@uVV3QE" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as a rectangular list of newline-terminated strings and outputs the board with an <code>x</code> marking the exit. Explanation:</p>
<pre><code>ＷＳ⊞υι≔⪫υ¶θ
</code></pre>
<p>Input the board and join it on newlines.</p>
<pre><code>Ｐθ…θ⌕θo
</code></pre>
<p>Output the whole board without moving the cursor and then output the part up to the ball so that the cursor ends up there.</p>
<pre><code>Ｗ⁻§ＫＶ²#
</code></pre>
<p>While the cursor is not above a <code>#</code>...</p>
<pre><code>Ｍ⁻⁼ι\⁼ι/¹
</code></pre>
<p>... move down 1 row and possibly left or right if a bumper is in the way.</p>
<pre><code>x
</code></pre>
<p>Mark the exit.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/283512/">283512</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




