<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::38159</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>Uiua</td><td>241103T194508Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/276493#276493">Joao-3</a></td></tr>
<tr d-ix="1"><td>100</td><td>AWK</td><td>241103T141055Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/276487#276487">xrs</a></td></tr>
<tr d-ix="2"><td>nan</td><td>Vyxal</td><td>241103T101739Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/276485#276485">emanresu</a></td></tr>
<tr d-ix="3"><td>nan</td><td>Charcoal</td><td>190127T114423Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/179153#179153">Neil</a></td></tr>
<tr d-ix="4"><td>nan</td><td>Retina 0.8.2</td><td>190127T112014Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/179152#179152">Neil</a></td></tr>
<tr d-ix="5"><td>nan</td><td>05AB1E legacy</td><td>190125T122142Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/179114#179114">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>nan</td><td>J</td><td>190125T054921Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/179107#179107">Jonah</a></td></tr>
<tr d-ix="7"><td>nan</td><td>APL Dyalog Unicode</td><td>190124T204129Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/179098#179098">Ad&#225;</a></td></tr>
<tr d-ix="8"><td>072</td><td>Petit Computer BASIC</td><td>170216T022639Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/110199#110199">12Me21</a></td></tr>
<tr d-ix="9"><td>nan</td><td></td><td>140925T144606Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/38176#38176">britisht</a></td></tr>
<tr d-ix="10"><td>071</td><td>Mathematica</td><td>140926T135837Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/38211#38211">alephalp</a></td></tr>
<tr d-ix="11"><td>005</td><td>GolfScript 26 41  10</td><td>140925T185923Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/38187#38187">Cristian</a></td></tr>
<tr d-ix="12"><td>nan</td><td>CJam</td><td>140925T164500Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/38181#38181">Optimize</a></td></tr>
<tr d-ix="13"><td>075</td><td>Python</td><td>140925T093251Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/38161#38161">Emil</a></td></tr>
<tr d-ix="14"><td>nan</td><td></td><td>140925T100527Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/38164#38164">edc65</a></td></tr>
<tr d-ix="15"><td>021</td><td>APL 36  5  10 =</td><td>140925T094931Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/38162#38162">marinus</a></td></tr>
<tr d-ix="16"><td>nan</td><td>CJam</td><td>140925T102907Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/38165#38165">user1640</a></td></tr>
<tr d-ix="17"><td>059</td><td>Haskell</td><td>140925T100134Z</td><td><a href="https://codegolf.stackexchange.com/questions/38159/create-a-grid-as-close-to-a-square-as-possible/38163#38163">John Dvo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.uiua.org" rel="nofollow noreferrer">Uiua</a>, 35-5+1=31 points</h1>
<pre><code>⤸:↯⊙@O⊟⟜÷⊢⊏⍏⌵:°⊟⍉▽¬±⊃◿(⍉⊟⟜-⟜÷)+1⇡..
</code></pre>
<p><a href="https://uiua.org/pad?src=0_14_0-dev_1__RiDihpAg4qS4OuKGr-KKmUBP4oqf4p-cw7fiiqLiio_ijY_ijLU6wrDiip_ijYnilr3CrMKx4oqD4pe_KOKNieKKn-KfnC3in5zDtykrMeKHoS4uCisxLTXip7sgJCDipLg64oav4oqZQE_iip_in5zDt-KKouKKj-KNj-KMtTrCsOKKn-KNieKWvcKswrHiioPil78o4o2J4oqf4p-cLeKfnMO3KSsx4oehLi4K4oqeKOKWoUYpKzHih6ExMOKHoTIK" rel="nofollow noreferrer">Try it in the pad!</a></p>
<p>Outputs a matrix of &quot;O&quot;s, the second argument is whether to transpose or not.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, 100 bytes</h1>
<pre><code>{for(;i++&lt;sqrt($1);)$1/i==int($1/i)&amp;&amp;x=i;for(j=$1;j&gt;0;j--&amp;&amp;s=s&quot;\n&quot;)for(k=$1/x;k;k--&amp;&amp;j--)s=s&quot;X&quot;}$0=s
</code></pre>
<p><a href="https://tio.run/##FcpBCoAgEEDRu4iIg4S6aTNN52jRpk0wCkUaFERnt2b5eX@5cmvPuheL7NxQj3JaHQFBR89EvEl6BmNuYpQvkY6YxoCp64ypVNW8KRDJv/gbM2aRn0F0Uq8OVFuL/Qc" rel="nofollow noreferrer" title="AWK – Try It Online">Try it online!</a></p>
<pre><code>{for(;i++&lt;sqrt($1);)           # test up to sqrt
$1/i==int($1/i)&amp;&amp;x=i;          # test if it's a whole divisor
for(j=$1;j&gt;0;j--&amp;&amp;s=s&quot;\n&quot;)     # columns
for(k=$1/x;k;k--&amp;&amp;j--)s=s&quot;X&quot;}  # row string
$0=s                           # set output
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 14 - 10 - 5 = -1 byte</h1>
<pre><code>KIht‛OX¹Ẏẇ?ß∩⁋
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCJLSWh04oCbT1jCueG6juG6hz/Dn+KIqeKBiyIsIiIsIjE1XG4xIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>        Ẏ      # Extend
    ‛OX        # &quot;OX&quot;
       ¹       # To length of input
         ẇ     # Cut into chunks of length
 Iht           # Middle element of
K              # divisors
          ?ß   # If the input (to rotate) is truthy
            ∩  # Transpose
             ⁋ # And finally join by newlines
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 33 bytes - 10 - 5 = 18</h1>

<pre><code>Ｎθ≔⌊Φ⊕θ¬∨‹×ιιθ﹪θιηＥ÷θη⭆η§XO⁺ιλ¿Ｎ⟲
</code></pre>

<p><a href="https://tio.run/##Tc49C8IwEIDhvb8iOF0hgi4unQQRCraKOrjW9jQH@ajJRfz3MXHyxnuOlxvV4Ec36JRaO0fuo7mjh1fdVNsQ6GmhI0smGtiT5iytHT0atIxTvpKidwxHDwcMAa5kMABJQRkKdm6K2sGrbMpIoXL45MkydMOcY7yjN01YTlTmC2d7FlJSbLm1E35gcTsupDjp@GvrX6mp6CHg/@W6FmfHAyPUTUqbVbVOy7f@Ag" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>

<pre><code>Ｎθ
</code></pre>

<p>Input <code>N</code>.</p>

<pre><code>≔⌊Φ⊕θ¬∨‹×ιιθ﹪θιη
</code></pre>

<p>Take the range <code>0</code>..<code>N</code>, keep only the numbers whose squares are not less than <code>N</code> and divide <code>N</code>, and take the minimum of those numbers.</p>

<pre><code>Ｅ÷θη⭆η§XO⁺ιλ
</code></pre>

<p>Use the discovered factor to output a rectangle of the appropriate width and height using a chequerboard pattern. (This should be <code>ＵＯη÷θηXO¶OX</code> for a 1-byte saving but that's buggy right now.)</p>

<pre><code>¿Ｎ⟲
</code></pre>

<p>If the second input is nonzero then rotate the output. (If requiring the second input to be <code>0</code> or <code>2</code> is acceptable, then this could be <code>⟲Ｎ</code> for a 1-byte saving.)</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 66 bytes + 1 byte penalty = 67</h1>

<pre><code>.+
$*X
((^|\3)(X(?(3)\3)))+(\3)*$
$3 $3$#4$*X
X(?=X* (X+))| X+
$1¶
</code></pre>

<p><a href="https://tio.run/##K0otycxL/P9fT5tLRSuCS0MjribGWFMjQsNew1gTyNLU1NYAUloqXCrGCirGKsomIGVAadsILQWNCG1NzRqFCKBew0Pb/v83MwAA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Explanation:</p>

<pre><code>.+
$*X
</code></pre>

<p>Convert the input to a string of <code>X</code>s.</p>

<pre><code>((^|\3)(X(?(3)\3)))+(\3)*$
</code></pre>

<p>The first pass of the outer capture matches the start of the string while on subsequent passes the previous value of the inner capture is matched. The inner capture is then incremented and matched. The upshot of this is that the amount of string consumed by the outer capture is the square of the inner capture, which therefore cannot exceed the square root of the input. Meanwhile the subsequent repetition ensures that the inner capture is a factor of the length of the string.</p>

<pre><code>$3 $3$#4$*X
</code></pre>

<p>Save the discovered factor and calculate the other divisor by adding on the number of subsequent repetitions.</p>

<pre><code>X(?=X* (X+))| X+
$1¶
</code></pre>

<p>Rearrange the factors into a rectangle.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E (legacy)</a>, score: 7 (22 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a> - 15 bonus)</h1>
<pre><code>„OXI∍¹tï[D¹sÖ#&lt;}äIiø}»
</code></pre>
<p><a href="https://tio.run/##AS4A0f8wNWFiMWX//@KAnk9YSeKIjcK5dMOvW0TCuXPDliM8fcOkSWnDuH3Cu///OAox" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##MzBNTDJM/V@m5JlXUFpipaBkX6mj5F9aAuHoVCaEhv1/1DDPPyLyUUdvZMnh9dEukcWHpynb1B5eEpF5eEftod3/dQ5ts/8fHW2iYxCrowCkDEGUKYRnCuFZQHgWEJ4lhGcJ4RkawGmwsKEZnAaLG0HFjUDqYgE" rel="nofollow noreferrer">verify some more test cases</a>.</p>
<p>Takes the inputs <code>N</code> first, then the boolean (<code>0</code>/<code>1</code>) whether it should rotate or not.</p>
<p>Uses the Python legacy version of 05AB1E since zip with a string-list implicitly flattens and joins the characters, unlike the newer Elixir rewrite version of 05AB1E.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>„OX         # Push string &quot;OX&quot;
   I∍       # Extend it to a size equal to the first input
            #  i.e. 9 → &quot;OXOXOXOXO&quot;
            #  i.e. 10 → &quot;OXOXOXOXOX&quot;
¹t          # Take the first input again, and square-root it
            #  i.e. 9 → 3.0
            #  i.e. 10 → 3.1622776601683795
  ï         # Then cast it to an integer, removing any decimal digits
            #  i.e. 3.0 → 3
            #  i.e. 3.1622776601683795 → 3
   [        # Start an infinite loop:
    D       #  Duplicate the integer
     ¹sÖ    #  Check if the first input is evenly divisible by that integer
            #   i.e. 9 and 3 → 1 (truthy)
            #   i.e. 10 and 3 → 0 (falsey)
        #   #  And if it is: stop the infinite loop
    &lt;       #  If not: decrease the integer by 1
            #   i.e. 3 → 2
   }        # After the infinite loop:
ä           # Divide the string into that amount of equal sized parts
            #  i.e. &quot;OXOXOXOXO&quot; and 3 → [&quot;OXO&quot;,&quot;XOX&quot;,&quot;OXO&quot;]
            #  i.e. &quot;OXOXOXOXOX&quot; and 2 → [&quot;OXOXO&quot;,&quot;XOXOX&quot;]
 Ii }       # If the second input is truthy:
   ø        #  Zip/transpose; swapping rows/columns of the strings
            #   i.e. [&quot;OXOXO&quot;,&quot;XOXOX&quot;] → [&quot;OX&quot;,&quot;XO&quot;,&quot;OX&quot;,&quot;XO&quot;,&quot;OX&quot;]
»           # And finally join the strings in the array by newlines
            #  i.e. [&quot;OXO&quot;,&quot;XOX&quot;,&quot;OXO&quot;] → &quot;OXO\nXOX\nOXO&quot;
            #  i.e. [&quot;OX&quot;,&quot;XO&quot;,&quot;OX&quot;,&quot;XO&quot;,&quot;OX&quot;] → &quot;OX\nXO\nOX\nXO\nOX&quot;
            # (and output the result implicitly)
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 32 bytes - 15 = 17 bytes</h1>

<pre><code>'XO'$~[|.](%,])i.@]{~0 i:~i.@]|]
</code></pre>

<p><a href="https://tio.run/##y/qvpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/1SP81VXqomv0YjVUdWI1M/UcYqvrDBQyrepAzJrY/5pcqckZ@UAdaQomEKa6OkLIElXIEChkjpA1x9RggVBo8R8A" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>

<p>The rotation is controlled by a 0/1 flag taken as the left argument</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 30 - 15 = 15 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">bytes</a><sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer" title=".dyalog files using a single byte character set">SBCS</a></sup></h1>



<p>Anonymous infix lambda. Takes <em>N</em> as right argument and param as left argument. Rectangles will either have stripes of X and O or be chequered.</p>

<pre class="lang-apl prettyprint-override"><code>{⍉⍣⍺⍴∘'XO'⊃∘c⌈.5×≢c←⍸⍵=∘.×⍨⍳⍵}
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///v/pRb@ej3sWPenc96t3yqGOGeoS/@qOuZiAr@VFPh57p4emPOhclP2qb8Kh3x6PerbZACT2gWO@KR72bgfza/2lgub5HfVM9/YEaD603ftQ2EcgLDnIGkiEensH/DRTSFCy4dHV1uQzhLJCYJZxlCAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p><code>{</code>…<code>}</code> "dfn"; <code>⍺</code> is left argument (param), <code>⍵</code> is right argument (<em>N</em>):</p>

<p> <code>⍳⍵</code> <strong>ɩ</strong>ndices 1…N</p>

<p> <code>∘.×⍨</code> multiplication table of that</p>

<p> <code>⍵=</code> mask where <em>N</em> is equal to that</p>

<p> <code>⍸</code> <strong>ɩ</strong>ndices of true values in the mask</p>

<p> <code>c←</code> store that in <code>c</code> (for <strong>c</strong>andidates)</p>

<p> <code>≢</code> tally the candidates</p>

<p> <code>.5×</code> one half multiplied by that</p>

<p> <code>⌈</code> ceiling (round up)</p>

<p> <code>⊃∘c</code> pick that element from <code>c</code></p>

<p> <code>⍴∘'XO'</code> use that to cyclically reshape "XO"</p>

<p> <code>⍉⍣⍺</code> transpose if param</p>

<p> </p>
</div>
<div id="pu8" class="pu"><h1>Petit Computer BASIC, 72 bytes</h1>
<pre><code>INPUT N,S$FOR I=1TO SQR(N)IF N%I&lt;1THEN M=I
NEXT
?(S$*M+&quot; &quot;*(32-M))*(N/M)
</code></pre>
</div>
<div id="pu9" class="pu"><p></p>

<h1>Ruby, 74</h1>

<pre><code>f=-&gt;n{w=(1..n).min_by{|z|n%z&gt;0?n:(n/z-n/(n/z))**2};$&gt;&lt;&lt;("X"*w+"\n")*(n/w)}
</code></pre>

<h2>Explanation</h2>

<ul>
<li>Input is taken as arguments to a lambda. It expects an <code>Integer</code>.</li>
<li>Check if <code>n</code> (the input) is divisible by every integer from 1 to <code>n</code>.
<ul>
<li>If it is, calculate the difference between the length and width.</li>
<li>If it is not, return a large number (<code>n</code>).</li>
</ul></li>
<li>Take the smallest of length-width differences to best resemble a square.</li>
<li>Use (the overly concise) <code>String#*</code> method to "draw" the square.</li>
</ul>
</div>
<div id="pu10" class="pu"><h1>Mathematica, 71 chars</h1>
<pre><code>f@n_:=#&lt;&gt;&quot;\n&quot;&amp;/@Array[&quot;O&quot;&amp;,{#,n/#}&amp;[#[[⌊Length@#/2⌋]]&amp;@Divisors@n]]&lt;&gt;&quot;&quot;
</code></pre>
</div>
<div id="pu11" class="pu"><h2>GolfScript 26 (41 - 10 - 5)</h2>

<pre><code>:x),1&gt;{x\%!},.,2/=.x\/@{\}*'X'*n+*1&gt;'O'\+
</code></pre>

<p>Expects two parameters to be on the stack:</p>

<ul>
<li><code>0</code> for normal or <code>1</code> for transposed</li>
<li>the <code>n</code> value</li>
</ul>

<p>The pattern is that the board is full of <code>X</code>s and the top left corner is an <code>O</code>. Needless to say, this pattern is maintained when transposing the board.</p>

<p>Demo: <a href="http://golfscript.apphb.com/?c=OwowCjI0Cgo6eCksMT57eFwlIX0sLiwyLz0ueFwvQHtcfSonWCcqbisqMT4nTydcKw%3D%3D&amp;run=true" rel="nofollow">regular</a>, <a href="http://golfscript.apphb.com/?c=OwoxCjI0Cgo6eCksMT57eFwlIX0sLiwyLz0ueFwvQHtcfSonWCcqbisqMT4nTydcKw%3D%3D&amp;run=true" rel="nofollow">transposed</a></p>
</div>
<div id="pu12" class="pu"><h2>CJam, 16 (31 - 10 - 5)</h2>

<p>This takes two integers are input, first one being <code>0</code> or <code>1</code> for direction and second one being the number of <code>O</code> or <code>X</code> in the grid.</p>

<p>It prints an alternate <code>O</code> and <code>X</code>.</p>

<pre><code>:X"OX"*X&lt;\Xmqi){(_X\%}g_X\/?/N*
</code></pre>

<p>This is just the function body, to try it out add <code>l~</code> in front of the code like:</p>

<pre><code>l~:X"OX"*X&lt;\Xmqi){(_X\%}g_X\/?/N*
</code></pre>

<p>and give input like</p>

<pre><code>0 10
</code></pre>

<p>to get output like</p>

<pre><code>OXOXO
XOXOX
</code></pre>

<p>or input like </p>

<pre><code>1 10
</code></pre>

<p>for</p>

<pre><code>OX
OX
OX
OX
OX
</code></pre>

<p><a href="http://cjam.aditsu.net/">Try it online here</a></p>

<hr>

<p>How it works:</p>

<pre><code>l~                                 "Put the two input integers to stack";
  :X                               "Assign the number of cells to X";
    "OX"*                          "Take string "OX" and repeat it X times";
         X&lt;                        "Slice it to take only first X characters";
           \                       "Swap top two stack elements, now string is at bottom";
            Xmqi)                  "Take square root of X, ceil it and put on stack";
                 {(_X\%}g          "Keep decrementing until it is perfectly divisible by X";
                         _X\/      "Copy it, divide X by that and put it on stack";
                             ?     "Based on first input integer, take either of numbers";
                              /    "Divide the XOXO string that many times";
                               N*  "Join the string parts with a new line";
</code></pre>

<p>Example run:</p>

<pre><code>l~ed:X"OX"*edX&lt;ed\edXmqi)ed{(_X\%}ged_edXed\ed/ed?ed/edN*ed

#INPUT:
1 10

#OUTPUT:
Stack: [1 10]

Stack: [1 "OXOXOXOXOXOXOXOXOXOX"]

Stack: [1 "OXOXOXOXOX"]

Stack: ["OXOXOXOXOX" 1]

Stack: ["OXOXOXOXOX" 1 4]

Stack: ["OXOXOXOXOX" 1 2]

Stack: ["OXOXOXOXOX" 1 2 2]

Stack: ["OXOXOXOXOX" 1 2 2 10]

Stack: ["OXOXOXOXOX" 1 2 10 2]

Stack: ["OXOXOXOXOX" 1 2 5]

Stack: ["OXOXOXOXOX" 2]

Stack: [["OX" "OX" "OX" "OX" "OX"]]

Stack: ["OX
OX
OX
OX
OX"]

OX
OX
OX
OX
OX
</code></pre>
</div>
<div id="pu13" class="pu"><h1>Python, <strike>79</strike> 75 (no bonuses)</h1>

<p>The bonuses seem tricky, so here is a pretty simple Python function:</p>

<pre class="lang-python prettyprint-override"><code>def f(N):c=max(x*((x*x&lt;=N)&gt;N%x)for x in range(1,N+1));print(N/c*'O'+'\n')*c
</code></pre>
</div>
<div id="pu14" class="pu"><h1>JavaScript (E6) 84 (83+1) or 101 (116-10-5)</h1>
<p>Pattern + rotation (parameter f, 0 or 1) - bonus 15</p>
<pre><code>F=(n,f)=&gt;{
  for(r=x=0;y=n/++x|0,x&lt;=y;)x*y-n?0:z=f?x:y;
  for(o='';n;)o+=(n--%z?'':(r^=1,c='\n'))+'OX'[r^(c^=1)];
  alert(o)
}
</code></pre>
<p>No pattern, no rotation - penalty 1</p>
<pre><code>F=n=&gt;{
  for(x=0;y=n/++x|0,x&lt;=y;)x*y-n?0:z=y;
  alert(('O'.repeat(z)+'\n').repeat(n/z));
}
</code></pre>
<p><strong>Test</strong> In FireFox/FireBug console</p>
<pre><code>F(30,0)

OXOXOX
XOXOXO
OXOXOX
XOXOXO
OXOXOX

F(30,1)

OXOXO
XOXOX
OXOXO
XOXOX
OXOXO
XOXOX
</code></pre>
</div>
<div id="pu15" class="pu"><h1>APL (36 - 5 - 10 = 21)</h1>

<pre><code>{'OX'⍴⍨⍺⌽⊃∆/⍨⍵=×/¨∆←∆[⍋|-/¨∆←,⍳2/⍵]}
</code></pre>

<p>The left argument is rotation, the right argument is the size. It also uses a simple pattern (it just alternates 'X' and 'O').</p>

<pre><code>      0{'OX'⍴⍨⍺⌽⊃∆/⍨⍵=×/¨∆←∆[⍋|-/¨∆←,⍳2/⍵]}¨4 5 8 9
 OX  OXOXO  OXOX  OXO 
 OX         OXOX  XOX 
                  OXO 
      1{'OX'⍴⍨⍺⌽⊃∆/⍨⍵=×/¨∆←∆[⍋|-/¨∆←,⍳2/⍵]}¨4 5 8 9
 OX  O  OX  OXO 
 OX  X  OX  XOX 
     O  OX  OXO 
     X  OX      
     O       
</code></pre>

<p>Explanation:</p>

<ul>
<li><code>∆←,⍳2/⍵</code>: generate all possible pairs of numbers from <code>1</code> to <code>⍵</code> and store in <code>∆</code>.</li>
<li><code>∆←∆[⍋|-/¨∆</code>...<code>]</code>: sort <code>∆</code> ascending in the absolute difference of the two numbers in each pair, and store the result back in <code>∆</code>.</li>
<li><code>⊃∆/⍨⍵=×/¨∆</code>: for each pair, multiply the numbers together. Select only those pairs that multiply to <code>⍵</code>, and take the first one that matches (which is the  'most square' because of the sort).</li>
<li><code>⍺⌽</code>: rotate the list of lengths (which has 2 elements) by <code>⍺</code>. </li>
<li><code>'OX'⍴⍨</code>: create a matrix of that size, and fill it with alternating <code>O</code> and <code>X</code>.</li>
</ul>
</div>
<div id="pu16" class="pu"><h1>CJam, <del>25</del> <del>22</del> 21 (31 - 10)</h1>

<p>This is a function body. If you want a complete program, add <code>riri</code> to the front. If you want to use it as a code block, surround it in <code>{}</code>. Test it on <a href="http://cjam.aditsu.net" rel="nofollow">cjam.aditsu.net</a>.</p>

<p>It takes input as two integer arguments: the switch for whether the rectangle is vertical (any non-zero value) or horizontal (zero), and the number of <code>O</code>s to use.</p>

<pre><code>:Xmqi){(_X\%}g_X\/@{\}{}?'O*N+*
</code></pre>

<h2>Explanation</h2>

<pre><code>:X "Assign the top item on the stack (the second input) to variable X";
mq "Take its square root";
i  "Convert to integer (round)";
)  "Increment it";

{  "Start code block";
  (  "Decrement";
  _X "Duplicate top item on stack; push X to the stack";
  \% "Swap top 2 items and take division remainder";
}g "Loop until top item on stack is 0; pop condition after checking it";

_X "Duplicate top item on stack; push X to the stack";
\/ "Swap top 2 items and divide";

"OMIT THIS BIT TO GET A 25-CHAR FUNCTION WITHOUT THE 10PT BONUS";
 @  "Rotate top 3 items on stack";
 {\}"Code block 1: swap top two items";
 {} "Code block 2: do nothing";
 ?  "If top item of stack is 0, run code block 1, otherwise run code block 2";

'O "Push the character O to the stack";
*  "Repeat it N times, where N is the second item from the top of the stack (O is first)";
N+ "Push a new line and concatenate it with the string on the top of the stack";
*  "Repeat the string N times";
</code></pre>
</div>
<div id="pu17" class="pu"><h3>Haskell, 59 characters</h3>

<pre><code>r=replicate
f n=[r x$r y '0'|x&lt;-[1..n],y&lt;-[1..x],x*y==n]!!0
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/38159/">38159</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




