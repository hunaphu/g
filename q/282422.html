<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::282422</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>278</td><td>PowerShell Windows and Core</td><td>250628T000031Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282441#282441">user3141</a></td></tr>
<tr d-ix="1"><td>nan</td><td>CP1610 machine code</td><td>250627T172433Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282433#282433">Arnauld</a></td></tr>
<tr d-ix="2"><td>298</td><td>ZX Spectrum Basic</td><td>250627T213317Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282440#282440">Neil</a></td></tr>
<tr d-ix="3"><td>075</td><td>MATL</td><td>250627T203334Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282437#282437">Luis Men</a></td></tr>
<tr d-ix="4"><td>1024</td><td>HTML + CSS + JS</td><td>250627T173537Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282434#282434">A.L</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a> (Windows and Core), 278 bytes</h1>
<pre><code>$h='ff0 300c 4002 4002 '
$t='8001 8001 4422 43c2 300c ff0'
cls;For(;;){$w=!$w
(&quot;$h$('8421 '*6)$t&quot;,&quot;$h$('8401 '*3)84f9 8401 8401 $t&quot;)[$w]|% Sp*|%{[Convert]::ToString(&quot;0x$_&quot;,2)|% *ft 16 '0'|% T*y|%{' '|Write-Host -B(15*&quot;$_&quot;)-N};''}
sleep -m 500
[Console]::SetCursorPosition(0,0)
}
</code></pre>
<p>TIO doesn't support colors (or [console]::SetCursorPosition), so this needs to be saved as script, or pasted into a console. Sorry for the inconvenience.<br />
Note when pasting: do NOT use a right-click to paste, use Ctrl-V.<br />
There's a bug in the PSReadline module where a right-click paste inserts the lines in reverse order: <a href="https://github.com/PowerShell/PowerShell/issues/3816" rel="nofollow noreferrer">Pasting in reverse with right-click #3816</a></p>
<p>Smiley lines encoded as binary.
Ungolfed:</p>
<pre><code>Clear-Host
For (;;) {
    $wink = -not $wink
    $bits = @(
        'ff0 300c 4002 4002 8421 8421 8421 8421 8421 8421 8001 8001 4422 43c2 300c ff0'
        'ff0 300c 4002 4002 8401 8401 8401 84f9 8401 8401 8001 8001 4422 43c2 300c ff0'
    )[$wink]
    $bits | ForEach-Object -Member Split | ForEach-Object {
        [Convert]::ToString(&quot;0x$_&quot;,2) |
            ForEach-Object -Member Padleft 16 '0' |
            ForEach-Object -Member ToCharArray |
            ForEach-Object {' ' | Write-Host -BackgroundColor (15*&quot;$_&quot;) -Nonewline}
        Write-Output ''
    }
    Start-Sleep -MilliSeconds 500
    [Console]::SetCursorPosition(0,0)
}
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://en.wikipedia.org/wiki/General_Instrument_CP1600" rel="nofollow noreferrer">CP-1610</a> machine code, 101 DECLEs<sup>1</sup>=126.25 bytes</h1>
<p><em><sup>1. CP-1610 instructions are encoded with 10-bit values (0x000 to 0x3FF), known as DECLEs. Although the Intellivision is also able to work on 16-bit data, programs were really stored in 10-bit ROM back then.</sup></em></p>
<p>This is a full program mapped at $4800. To get the correct delay of 500ms, this should be run on a 60Hz (NTSC) Intellivision.</p>
<p>We could save 1 DECLE by just incrementing the counter and testing bit #5. The frame change would occur every 32 frames (533.33ms).</p>
<h2>Source code</h2>
<pre><code>                        ROMW  10                ; use 10-bit ROM
                        ORG   $4800             ; map our program at $4800
      
                  BT    EQU   $0200             ; BACKTAB address
                  RTN   EQU   $1014             ; return address of the ISR
                  COPY  EQU   $1730             ; copy routine of the EXEC
                  CLEAR EQU   $1738             ; clear routine of the EXEC
                  GRAM  EQU   $3800             ; GRAM address
      
                        ;; --------------------------------------------------------- ;;
                        ;;  main code                                                ;;
                        ;; --------------------------------------------------------- ;;
4800  001               SDBD                    ; set up the interrupt service routine
4801  2B8 00B 048       MVII  #isr, R0
4804  240 100           MVO   R0, $100
4806  040               SWAP  R0
4807  240 101           MVO   R0, $101
      
4809  002               EIS                     ; enable interrupts
      
480A  017               DECR  R7                ; spin forever
      
                        ;; --------------------------------------------------------- ;;
                        ;;  ISR                                                      ;;
                        ;; --------------------------------------------------------- ;;
                  isr   PROC
      
480B  2B8 032           MVII  #50, R0           ; clear the STIC registers
480D  081               MOVR  R0, R1            ; also save 50 in R1 to use it ...
480E  1E4               CLRR  R4
480F  004 114 338       CALL  CLEAR
      
4812  0FC               ADDR  R7, R4            ; ... as an offset to the tiles data
4813  2B8 020           MVII  #32, R0           ; copy 32 tiles into GRAM
4815  001               SDBD
4816  2B9 000 038       MVII  #GRAM, R1
4819  004 114 330       CALL  COPY
      
481C  280 300           MVI   $300, R0          ; R0 = counter
481E  001               SDBD                    ; add 1092 (approx. 2**16 / 60)
481F  2F8 044 004       ADDI  #1092, R0
4822  240 300           MVO   R0, $300          ; save the updated value
4824  203 00B           BPL   @draw             ; if it's negative looking ...
      
4826  33D 00C           SUBI  #12, R5           ; ... R5 = GRAM pointer (from COPY)
4828  00A               INCR  R2                ; update the right eye
4829  2B9 0F9           MVII  #%11111001, R1    ; by using R2=1 and R1=this pattern
482B  26A               MVO@  R2, R5            ; \
482C  26A               MVO@  R2, R5            ;  }- right border
482D  26A               MVO@  R2, R5            ; /
482E  269               MVO@  R1, R5            ; --- horizontal line + right border 
482F  26A               MVO@  R2, R5            ; \__ right border
4830  26A               MVO@  R2, R5            ; /
      
4831  2B9 008     @draw MVII  #8, R1            ; draw the tiles
4833  001               SDBD
4834  2B8 007 008       MVII  #$807, R0         ; top-left
4837  240 26D           MVO   R0, BT+109
4839  0C8               ADDR  R1, R0            ; bottom-left
483A  240 281           MVO   R0, BT+129
483C  0C8               ADDR  R1, R0            ; top-right
483D  240 26E           MVO   R0, BT+110
483F  0C8               ADDR  R1, R0            ; bottom-right
4840  240 282           MVO   R0, BT+130
      
4842  004 310 014       J     RTN               ; return from ISR
      
                        ENDP
      
                        ;; --------------------------------------------------------- ;;
                        ;;  tiles                                                    ;;
                        ;; --------------------------------------------------------- ;;
                  tiles PROC
      
4845  00F               DECLE %00001111         ; tile #0: top-left quarter
4846  030               DECLE %00110000
4847  040               DECLE %01000000
4848  040               DECLE %01000000
4849  084               DECLE %10000100
484A  084               DECLE %10000100
484B  084               DECLE %10000100
484C  084               DECLE %10000100
      
484D  084               DECLE %10000100         ; tile #1: bottom-left quarter
484E  084               DECLE %10000100
484F  080               DECLE %10000000
4850  080               DECLE %10000000
4851  044               DECLE %01000100
4852  043               DECLE %01000011
4853  030               DECLE %00110000
4854  00F               DECLE %00001111
      
4855  0F0               DECLE %11110000         ; tile #2: top-right quarter
4856  00C               DECLE %00001100
4857  002               DECLE %00000010
4858  002               DECLE %00000010
4859  021               DECLE %00100001
485A  021               DECLE %00100001
485B  021               DECLE %00100001
485C  021               DECLE %00100001
      
485D  021               DECLE %00100001         ; tile #3: bottom-right quarter
485E  021               DECLE %00100001
485F  001               DECLE %00000001
4860  001               DECLE %00000001
4861  022               DECLE %00100010
4862  0C2               DECLE %11000010
4863  00C               DECLE %00001100
4864  0F0               DECLE %11110000
      
                        ENDP
</code></pre>
<h2>Output</h2>
<p><a href="https://i.sstatic.net/BSqlU4zu.gif" rel="nofollow noreferrer"><img src="https://i.sstatic.net/BSqlU4zu.gif" alt="output" /></a></p>
</div>
<div id="pu2" class="pu"><h1>ZX Spectrum Basic, 298 bytes</h1>
<pre><code>   1 OVER 1: LET a$=&quot;2 2 13 3-13
 5 03 3 12 1 23-1 33 0 53 1 32 2
143 3 13 5 03 3-1214 23 1 33 0 5
3-1 32 5 32 6 23 3 0210 32 5 63 
0 52 8 83 4 0425552 8 83 4 0210 
63 0 542555210 63 0 555555&quot;: FOR
 i=VAL &quot;5&quot; TO LEN a$ STEP VAL &quot;5
&quot;: LET x=VAL a$(i-INT PI TO i-VA
L &quot;2&quot;): LET y=VAL a$(i-SGN PI TO
 i): GO TO VAL a$(i-VAL &quot;4&quot;)
   2 PLOT x,y: NEXT i
   3 DRAW x,y: NEXT i
   4 PAUSE x: NEXT i
   5 LET i=x+y: NEXT i
</code></pre>
<p>Line 1 is very long but it looks like that on the ZX Spectrum because its lines are only 32 characters wide. It starts by turning on overplot, which makes it easy to erase. It then defines a string of compressed plot instructions as sets of five characters, the first being the line number to execute, then two pairs of two-digit numbers being the <code>x</code> and <code>y</code> values. The string is looped over, the values are extracted and the appropriate line is executed. The <code>55555</code> at the end actually causes the code to loop back to a previous point of the string. The timing is a little shaky because ZX Spectrum Basic is quite slow but the <code>425</code>s can be lowered a little to speed it up. Unfortunately I don't have any video capture facility to show you what the live output looks like.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 75 bytes</h1>
<pre><code>`TF'!g$!Iq3g&amp;{dnF;Tv.W'F14:ZaY&quot;16et!P!hF85:90(@o?t!P!*}!F121:125(!]1YG.5Y.T
</code></pre>
<p>You can try at <a href="https://matl.io/?code=%60TF%27%21g%24%21Iq3g%26%7BdnF%3BTv.W%27F14%3AZaY%2216et%21P%21hF85%3A90%28%40o%3Ft%21P%21%2a%7D%21F121%3A125%28%21%5D1YG.5Y.T&amp;inputs=&amp;version=22.8.0" rel="nofollow noreferrer">MATL online!</a>, but it's slow. Here's an animated GIF from the offline compiler showing the actual speed:</p>
<p><a href="https://i.sstatic.net/6HOHc3wB.gif" rel="nofollow noreferrer"><img src="https://i.sstatic.net/6HOHc3wB.gif" alt="enter image description here" /></a></p>
</div>
<div id="pu4" class="pu"><h1>HTML + CSS + JS, 1024 bytes</h1>
<p>I didn't try to optimize it much, I just tried to start from an ASCII representation of the pixels (maybe it can help other people), then minimized it to 1 kb.</p>
<p>The code will draw a HTML table with the different possible states:</p>
<ul>
<li><code>0</code>: always white pixel</li>
<li><code>1</code>: always black pixel</li>
<li><code>2</code> and <code>3</code>: alternate between black and white</li>
</ul>
<p>A JS loop will switch on and off the pixels of the right eye.</p>
<h2>Quickly minimized version and output</h2>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false" data-babel-preset-react="false" data-babel-preset-ts="false">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;style&gt;
        * {margin: 0;padding: 0;border: none;}td {width: 10px;height: 10px;}.t1 {background: #000}
    &lt;/style&gt;
    &lt;script&gt;
        var wink = `0000111111110000
0011000000001100
0100000000000010
0100000000000010
1000010000300001
1000010000300001
1000010000300001
1000010022122001
1000010000300001
1000010000300001
1000000000000001
1000000000000001
0100010000100010
0100001111000010
0011000000001100
0000111111110000`;
        var state = true;
        function flipState() {
            document.querySelectorAll(state ? '.t2' : '.t3').forEach((element) =&gt; {element.classList.add('t1');});document.querySelectorAll(state ? '.t3': '.t2').forEach((element) =&gt; {element.classList.remove('t1');});state = !state;setTimeout('flipState()', 500);}
        flipState();
    &lt;/script&gt;
&lt;/head&gt;&lt;body&gt;&lt;table&gt;&lt;script&gt;
        wink.split('\n').forEach(function (line) {document.write('&lt;tr&gt;');line.split('').forEach(function (char) {document.write('&lt;td class="t' + char+ '"&gt;&lt;/td&gt;');});document.write('&lt;/tr&gt;');});
    &lt;/script&gt;&lt;/table&gt;&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</p>
<h2>Ungolfed</h2>
<p>Use any tool to reformat this code with new lines between blocks.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/282422/">282422</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




