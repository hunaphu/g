<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::282422</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>231</td><td>C gcc</td><td>250805T071531Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282959#282959">CaydendW</a></td></tr>
<tr d-ix="1"><td>7568</td><td>MATL</td><td>250627T203334Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282437#282437">Luis Men</a></td></tr>
<tr d-ix="2"><td>236</td><td>C gcc</td><td>250630T165023Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282487#282487">jdt</a></td></tr>
<tr d-ix="3"><td>086</td><td>Uiua</td><td>250704T223722Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282553#282553">ErikDaPa</a></td></tr>
<tr d-ix="4"><td>nan</td><td>CP1610 machine code</td><td>250627T172433Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282433#282433">Arnauld</a></td></tr>
<tr d-ix="5"><td>227</td><td>PowerShell Core 7.4+</td><td>250628T000031Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282441#282441">user3141</a></td></tr>
<tr d-ix="6"><td>322</td><td>Java on Windows</td><td>250630T115258Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282483#282483">Kevin Cr</a></td></tr>
<tr d-ix="7"><td>nan</td><td>Commodore 64 Assembler</td><td>250630T111126Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282481#282481">Jani Joe</a></td></tr>
<tr d-ix="8"><td>246</td><td>JS</td><td>250629T131050Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282468#282468">b00t</a></td></tr>
<tr d-ix="9"><td>432</td><td>HTML + CSS + JS</td><td>250629T082636Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282465#282465">M. Zhang</a></td></tr>
<tr d-ix="10"><td>293</td><td>ZX Spectrum Basic</td><td>250627T213317Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282440#282440">Neil</a></td></tr>
<tr d-ix="11"><td>1024</td><td>HTML + CSS + JS</td><td>250627T173537Z</td><td><a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley/282434#282434">A.L</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>C (gcc), 231 bytes</h1>
<p>Contains unprintable characters:</p>
<pre class="lang-c prettyprint-override"><code>*a=L&quot;ð0@@!€!€!€!Ÿ!€!€€€\&quot;DÂC0ð&quot;;*b=L&quot;ð0@@!„!„!„!„!„!„€€\&quot;DÂC0ð&quot;;*c;main(i){for(;;){puts(&quot;\e[2J\e[H&quot;);for (i=0;i&lt;256;++i%16||puts(&quot;&quot;))putchar(a[i/8]&amp;1&lt;&lt;(i%8)?42:32);c=a;a=b;b=c;usleep(1&lt;&lt;19);}}
</code></pre>
<p>Stores the smiley faces in unprintable characters as a bitmap. I think making this recursive would make this more golfed. I'll try later. Other things to possible optimise include: Reuse common parts of the strings and make the swapping better.</p>
<p>I'd add a TIO link but TIO doesn't like the infinite loop.</p>
<p>od dump of the program:</p>
<pre><code>0000000 060452 046075 141442 007660 030014 040002 040002 141041
0000020 020600 100302 141041 020600 117702 141041 020600 100302
0000040 141001 000600 100302 021134 141504 041602 030014 130303
0000060 021017 025073 036542 021114 130303 006017 001060 001100
0000100 020500 102302 141041 020604 102302 141041 020604 102302
0000120 141041 000604 100302 141001 056200 042042 101303 006103
0000140 141460 007660 035442 061452 066473 064541 024156 024551
0000160 063173 071157 035450 024473 070173 072165 024163 056042
0000200 055545 045062 062534 044133 024442 063073 071157 024040
0000220 036551 035460 036151 032462 035466 025453 022551 033061
0000240 076174 072560 071564 021050 024442 070051 072165 064143
0000260 071141 060450 064533 034057 023135 036061 024074 022551
0000300 024470 032077 035062 031063 035451 036543 035541 036541
0000320 035542 036542 035543 071565 062554 070145 030450 036074
0000340 034461 035451 076575 000012
0000347
</code></pre>
<p>Makes the following faces and switches between them interchangably:
<a href="https://i.sstatic.net/V04guS8t.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/V04guS8t.png" alt="Face up" /></a>
<a href="https://i.sstatic.net/E4vz2TGZ.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/E4vz2TGZ.png" alt="Face down" /></a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>75</S> 68 bytes</h1>
<pre><code>`TF'#c8Dw;Lv/P/7KMbi('F8:ZaY&quot;8etPv!F85:90(!@o?tP*}F5:'x'+(]!1YG.5Y.T
</code></pre>
<p>You can try it at <a href="https://matl.io/?code=%60TF%27%23c8Dw%3BLv%2FP%2F7KMbi%28%27F8%3AZaY%228etPv%21F85%3A90%28%21%40o%3FtP%2a%7DF5%3A%27x%27%2B%28%5D%211YG.5Y.T&amp;inputs=&amp;version=22.8.0" rel="nofollow noreferrer">MATL online!</a>, but it's slow. Here's an animated GIF from the offline compiler showing the actual speed:</p>
<br/>
<p><a href="https://i.sstatic.net/HSsfkBOy.gif" rel="nofollow noreferrer"><img src="https://i.sstatic.net/HSsfkBOy.gif" alt="enter image description here" /></a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>295</s> <s>272</s> <s>237</s> 236 bytes</h1>
<p>-23 bytes thanks to @Kevin Cruijssen!</p>
<p>-36 bytes thanks to @ceilingcat!</p>
<p><a href="https://www.onlinegdb.com/C3akizPfe" rel="nofollow noreferrer">Try it online!</a></p>
<p><code>a[]</code>: An array of 16 integers representing two 16×16 monochrome images.</p>
<ul>
<li>The first 8 values are Image 1.</li>
<li>The next 8 values are Image 2.</li>
</ul>
<p><code>f(b)</code>: A recursive function that:</p>
<ul>
<li><p>Clears the screen using ANSI escape codes: <code>\033[H\033[2J</code></p>
</li>
<li><p>Iterates <code>i</code> from 255 to 0 (<code>32*8</code> bits total).</p>
</li>
<li><p>Uses <code>i/32 + b*8</code> to select the appropriate image data (<code>b</code> = <code>0</code> or <code>1</code>).</p>
</li>
<li><p>Uses <code>1 &lt;&lt; i%32</code> to mask out the bit at position <code>i % 32</code>.</p>
</li>
<li><p>Prints <code>'#'</code> if the bit is set, otherwise a space.</p>
</li>
<li><p>Outputs a newline after every 16 characters <code>i%16 || puts(&quot;&quot;)</code>.</p>
</li>
<li><p>Waits about 0.5 seconds: <code>usleep(2&lt;&lt;18)</code> = 524288 microseconds.</p>
</li>
<li><p>Recursively calls <code>f(!b)</code> to toggle between the two images.</p>
</li>
</ul>
</div>
<div id="pu3" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 86 bytes</h1>
<pre><code>&amp;gifs2⊟∩⌟⬚0+∩⌝↘4_10⍉¤⊂1⟜(7_8¤)⋯31⬚0+⌝↘4_5⋯[.....1 .0 33 30]⊂⟜⇌≡(⊂⟜⇌)⋯[⊸×20⊸×6.˙+....1]
</code></pre>
<p>Result:
<a href="https://i.sstatic.net/Z45AUSqm.gif" rel="nofollow noreferrer"><img src="https://i.sstatic.net/Z45AUSqm.gif" alt="enter image description here" /></a></p>
<p><strong>Explanation:</strong></p>
<pre><code>&amp;gifs2⊟∩⌟⬚0+∩⌝↘4_10⍉¤⊂1⟜(7_8¤)⋯31⬚0+⌝↘4_5⋯[.....1 .0 33 30]⊂⟜⇌≡(⊂⟜⇌)⋯[⊸×20⊸×6.˙+....1]
                                                            ⊂⟜⇌≡(⊂⟜⇌)⋯[⊸×20⊸×6.˙+....1] =&gt; create bitmap of the head outline using its top-left quadrant
                                                                                            (use of symmetry)
                                  ⬚0+⌝↘4_5⋯[.....1 .0 33 30]                             =&gt; bitmap for the non-blinking eye and mouth
            ∩⌝↘4_10⍉¤⊂1⟜(7_8¤)⋯31                                                        =&gt; bitmap for the blinking eye (two frames)
      ⊟∩⌟⬚0+                                                                             =&gt; combine all the components together for each frame
&amp;gifs2                                                                                   =&gt; finally generate gif (2 frames/sec)
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_17_0-dev_1__4oqC4p-c4oeM4omhKOKKguKfnOKHjCnii69b4oq4w5cyMOKKuMOXNi7LmSsuLi4uMV0gIyBIZWFkIG91dGxpbmUK4qyaMCvijJ3ihpg0XzXii69bLi4uLi4xIC4wIDMzIDMwXSAgIyBFeWVzIGFuZCBtb3V0aCBvdXRsaW5lCuKKn-KIqeKMn-KsmjAr4oip4oyd4oaYNF8xMOKNicKk4oqCMeKfnCg3XzjCpCnii68zMSAjIEJsaW5raW5nIGV5ZQomZ2lmczIKIyBGdWxsIGNvZGUKIyAmZ2lmczLiip_iiKnijJ_irJowK-KIqeKMneKGmDRfMTDijYnCpOKKgjHin5woN184wqQp4ouvMzHirJowK-KMneKGmDRfNeKLr1suLi4uLjEgLjAgMzMgMzBd4oqC4p-c4oeM4omhKOKKguKfnOKHjCnii69b4oq4w5cyMOKKuMOXNi7LmSsuLi4uMV0K" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://en.wikipedia.org/wiki/General_Instrument_CP1600" rel="nofollow noreferrer">CP-1610</a> machine code, 89 DECLEs<sup>1</sup>=111.25 bytes</h1>
<p><em><sup>1. CP-1610 instructions are encoded with 10-bit values (0x000 to 0x3FF), known as DECLEs. Although the Intellivision is also able to work on 16-bit data, programs were really stored in 10-bit ROM back then.</sup></em></p>
<p>This is a full program mapped at $4800-$4858. To get the correct delay of 500ms, this should be run on a 60Hz (NTSC) Intellivision.</p>
<p>We could save 1 DECLE by just incrementing the counter and testing bit #5. The frame change would occur every 32 frames (533.33ms).</p>
<h2>Source code</h2>
<pre><code>                        ROMW  10                ; use 10-bit ROM
                        ORG   $4800             ; map our program at $4800

                  BT    EQU   $0200             ; BACKTAB address
                  RTN   EQU   $1014             ; return address of the ISR
                  CLEAR EQU   $1738             ; clear routine of the EXEC
                  GRAM  EQU   $3800             ; GRAM address

                        ;; --------------------------------------------------------- ;;
                        ;;  main code                                                ;;
                        ;; --------------------------------------------------------- ;;
4800  2B8 00A           MVII  #isr AND $FF, R0  ; set up the interrupt service routine
4802  240 100           MVO   R0, $100
4804  2B8 048           MVII  #isr SHR 8, R0
4806  240 101           MVO   R0, $101

4808  002               EIS                     ; enable interrupts

4809  017               DECR  R7                ; spin forever

                        ;; --------------------------------------------------------- ;;
                        ;;  ISR                                                      ;;
                        ;; --------------------------------------------------------- ;;
                        ;;  NB: called with R1 = $4800 (because of the way the EXEC  ;;
                        ;;  jumps to the entry point)                                ;;
                        ;; --------------------------------------------------------- ;;
                  isr   PROC

480A  2B8 034           MVII  #52, R0           ; clear the STIC registers
480C  1E4               CLRR  R4
480D  004 114 338       CALL  CLEAR

4810  0FC               ADDR  R7, R4            ; we now have R4 = 52, which is the
                                                ; distance from here to the tiles data
4811  001               SDBD                    ; R5 = pointer into GRAM
4812  2BD 000 038       MVII  #GRAM, R5

4815  2A0         @loop MVI@  R4, R0            ; R0 = tile data
4816  268         @copy MVO@  R0, R5            ; write the byte to the GRAM
4817  338 100           SUBI  #$100, R0         ; decrement the upper nibble
4819  223 004           BPL   @copy             ; copy again if still positive

481B  2F9 2CD           ADDI  #717, R1          ; this will make R1 negative-looking
481D  223 009           BPL   @loop             ; after 20 iterations ($4800 -&gt; $8004)

481F  2BA 301           MVII  #$301, R2         ; R2 = address of 16-bit counter
4821  291               MVI@  R2, R1            ; R1 = said counter
4822  001 2F9 044       ADDI  #1092, R1         ; add 1092 (approximately 2**16 / 60)
4826  251               MVO@  R1, R2            ; save the updated value
4827  203 008           BPL   @draw             ; if it's negative-looking ...

4829  33D 00D           SUBI  #13, R5           ; ... adjust the GRAM pointer
                                                ; to update the right eye
482B  26A               MVO@  R2, R5            ; \
482C  26A               MVO@  R2, R5            ;  }- right border (R2 = %[..]00000001)
482D  26A               MVO@  R2, R5            ; /
482E  268               MVO@  R0, R5            ; --- horizontal line + right border
                                                ;     (R0 = %[..]11111001)
482F  26A               MVO@  R2, R5            ; \__ right border
4830  26A               MVO@  R2, R5            ; /

4831  2B9 008     @draw MVII  #8, R1            ; draw the tiles
4833  001               SDBD
4834  2B8 007 008       MVII  #$807, R0         ; bottom-left
4837  240 281           MVO   R0, BT+129
4839  0C8               ADDR  R1, R0            ; top-left
483A  240 26D           MVO   R0, BT+109
483C  0C8               ADDR  R1, R0            ; top-right
483D  240 26E           MVO   R0, BT+110
483F  0C8               ADDR  R1, R0            ; bottom-right
4840  240 282           MVO   R0, BT+130

4842  004 310 014       J     RTN               ; return from ISR

                        ENDP

                        ;; --------------------------------------------------------- ;;
                        ;;  tiles data in RBB format:                                ;;
                        ;;    R = number of times to repeat                          ;;
                        ;;    BB = byte to write                                     ;;
                        ;; --------------------------------------------------------- ;;
                  tiles PROC
                        ; tile #0: bottom-left quarter
4845  184               DECLE (1 SHL 8) OR %10000100
4846  180               DECLE (1 SHL 8) OR %10000000
4847  044               DECLE (0 SHL 8) OR %01000100
4848  043               DECLE (0 SHL 8) OR %01000011
4849  030               DECLE (0 SHL 8) OR %00110000
484A  10F               DECLE (1 SHL 8) OR %00001111  ; + 1st row of next tile

                        ; tile #1: top-left quarter
484B  030               DECLE (0 SHL 8) OR %00110000
484C  140               DECLE (1 SHL 8) OR %01000000
484D  384               DECLE (3 SHL 8) OR %10000100

                        ; tile #2: top-right quarter
484E  0F0               DECLE (0 SHL 8) OR %11110000
484F  00C               DECLE (0 SHL 8) OR %00001100
4850  102               DECLE (1 SHL 8) OR %00000010
4851  321               DECLE (3 SHL 8) OR %00100001

                        ; tile #3: bottom-right quarter
4852  121               DECLE (1 SHL 8) OR %00100001
4853  101               DECLE (1 SHL 8) OR %00000001
4854  022               DECLE (0 SHL 8) OR %00100010
4855  0C2               DECLE (0 SHL 8) OR %11000010
4856  00C               DECLE (0 SHL 8) OR %00001100
4857  0F0               DECLE (0 SHL 8) OR %11110000

                        ; pattern for the horizontal eye
4858  0F9               DECLE (0 SHL 8) OR %11111001
                        ENDP
</code></pre>
<h2>Output</h2>
<p><a href="https://i.sstatic.net/BSqlU4zu.gif" rel="nofollow noreferrer"><img src="https://i.sstatic.net/BSqlU4zu.gif" alt="output" /></a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a> Core 7.4+, <s>277</s> <s>252</s> 227 bytes</h1>
<pre><code>for(cls){-split(&quot;ff0 300c 4002 4002 $(((,8421*6),&quot;$(,8401*3) 84f9 8401 8401&quot;)[++$w%2]) 8001 8001 4422 43c2 300c ff0&quot;)|%{1*&quot;0x$_&quot;|% *g b16|% T*y|%{' '|Write-Host -B(15*&quot;$_&quot;)-N};''}
sleep -m 500
[Console]::SetCursorPosition(0,0)}
</code></pre>
<p><em>Another -25 bytes off in PowerShell Core 7.4+</em><br />
.NET 8 introduced the <a href="https://learn.microsoft.com/en-us/dotnet/standard/base-types/standard-numeric-format-strings#BFormatString" rel="nofollow noreferrer">'b' format specifier</a>, so the expensive<br />
<code>[Convert]::ToString(&quot;0x$_&quot;,2)|% *ft 16 '0'</code><br />
can be replaced with<br />
<code>1*&quot;0x$_&quot;|% *g b16</code><br />
Ungolfed:<br />
<code>[Convert]::ToString(&quot;0x$_&quot;, 2) | ForEach-Object -Member PadLeft 16 '0'</code><br />
<code>1*&quot;0x$_&quot; | ForEach-Object -Member ToString b16</code></p>
<h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a> Windows and Core, <s>277</s> 252 bytes</h1>
<pre><code>for(cls){-split(&quot;ff0 300c 4002 4002 $(((,8421*6),&quot;$(,8401*3) 84f9 8401 8401&quot;)[++$w%2]) 8001 8001 4422 43c2 300c ff0&quot;)|%{[Convert]::ToString(&quot;0x$_&quot;,2)|% *ft 16 '0'|% T*y|%{' '|Write-Host -B(15*&quot;$_&quot;)-N};''}
sleep -m 500
[Console]::SetCursorPosition(0,0)}
</code></pre>
<p><em>-25 bytes thanks to @Julian, who managed to squeeze the bit patterns even further.</em><br />
One more byte could theoretically be shaved off by using light gray  (<code>(7*&quot;$_&quot;)</code>) (or any other single-digit color) instead of white (<code>(15*&quot;$_&quot;)</code>), but who's counting when it comes to optics.</p>
<hr />
<p><a href="https://tio.run" rel="nofollow noreferrer">TIO</a> doesn't support colors (or [console]::SetCursorPosition), so this needs to be saved as script, or pasted into a console. Sorry for the inconvenience.<br />
Note when pasting into a PS console: do NOT use a right-click to paste, use Ctrl-V.<br />
There's a bug in the PSReadline module where a right-click paste inserts the lines in reverse order: <a href="https://github.com/PowerShell/PowerShell/issues/3816" rel="nofollow noreferrer">Pasting in reverse with right-click #3816</a></p>
<p>Smiley lines encoded as binary.<br />
Ungolfed (this is not a one-to-one expanded version of the golfed; this is more 'how it began'):</p>
<pre><code>Clear-Host
For (;;) {
    $wink = -not $wink
    $bits = @(
        'ff0 300c 4002 4002 8421 8421 8421 8421 8421 8421 8001 8001 4422 43c2 300c ff0'
        'ff0 300c 4002 4002 8401 8401 8401 84f9 8401 8401 8001 8001 4422 43c2 300c ff0'
    )[$wink]
    $bits | ForEach-Object -Member Split | ForEach-Object {
        [Convert]::ToString(&quot;0x$_&quot;,2) |
            ForEach-Object -Member Padleft 16 '0' |
            ForEach-Object -Member ToCharArray |
            ForEach-Object {' ' | Write-Host -BackgroundColor (15*&quot;$_&quot;) -NoNewline}
        Write-Output ''
    }
    Start-Sleep -MilliSeconds 500
    [Console]::SetCursorPosition(0,0)
}
</code></pre>
</div>
<div id="pu6" class="pu"><h1>Java on Windows, <s>454</s> <s>438</s> <s>384</s> <s>326</s> 322 bytes</h1>

<pre class="lang-java prettyprint-override"><code>v-&gt;{String s=&quot;#              #\n&quot;,t=&quot; #            #\n&quot;,u=&quot;  ##        ##\n&quot;,w=&quot;#    #    %2$c    #\n&quot;,x=&quot;    ########\n&quot;;for(int i=0;;Thread.sleep(500))System.out.printf(&quot;\033[H\033[2J%s#    #    %c    #\n&quot;+w+w+&quot;#    #  %s  #\n&quot;+w+w+s+s+&quot; #   #    #   #\n #    ####    #\n&quot;+u+x,x+u+t+t,35-++i%2*3,i%2&lt;1?&quot;  #  &quot;:&quot;#####&quot;);}
</code></pre>
<p>-53 bytes thanks to <em>@jdt</em>, since although printing <code>\033[H\033[2J</code> to clear the Console doesn't work on my local Windows 10 laptop, it does work in this online compiler:<br />
<a href="https://onlinegdb.com/YYxiwnSC5" rel="nofollow noreferrer">Try it online</a> (click on the maximize icon of the console, and then click run at the top).<br />
-58 bytes thanks to <em>@WeirdGlyphs</em></p>
<p>Gif in action:</p>
<p><a href="https://i.sstatic.net/AJSQdD8J.gif" rel="nofollow noreferrer"><img src="https://i.sstatic.net/AJSQdD8J.gif" alt="enter image description here" /></a></p>
<p><strong>Explanation:</strong></p>
<p>Pretty straight-forward.</p>
<pre class="lang-java prettyprint-override"><code>v-&gt;{                       // Method with empty unused parameter and no return-type
  String s=&quot;#              #\n&quot;,t=&quot; #            #\n&quot;,u=&quot;  ##        ##\n&quot;,w=&quot;#    #    %2$c    #\n&quot;,x=&quot;    ########\n&quot;;
                           //  Temp Strings for some repeating parts
  for(int i=0              //  Integer `i`, starting at 0
      ;                    //  Loop indefinitely:
       ;                   //    After every iteration:
        Thread.sleep(500)) //     Sleep 500 ms
    System.out.printf(     //     Print:
      &quot;\033[H\033[2J      &quot;//      Two commands to clear the Console:
                           //       `33[H` moves the cursor to the top-left;
                           //       `33[2J` then clears the console
      &quot;%s#    #    %c    #\n&quot;+w+w+&quot;#    #  %s  #\n&quot;+w+w+s+s+&quot; #   #    #   #\n #    ####    #\n&quot;+u+x,
                           //      And then print the output-string,
                           //      and replace the first `%s` with:
      x+u+t+t,             //      temp Strings `x+u+t+t`
                           //      Then replace all its `%c` and `%2$c` with:
      35-                  //       35 minus:
         ++i               //        Increase `i` by 1 first with `++i`
            %2             //        Modulo-2
              *3           //        Multiplied by 3
                           //       (35/'#' if `i` is now odd;
                           //        32/' ' if `i` is now even)
                           //      And finally replace the second `%s` with:
      i%2&lt;1?               //       If `i` is even:
            &quot;  #  &quot;        //        Replace the `%s` with &quot;  #  &quot;
           :               //       Else (`i` is odd)
            &quot;#####&quot;);}     //        Replace the `%s` with &quot;#####&quot; instead
</code></pre>
<p>Perhaps there is a way to compress the String, but knowing Java, I doubt it would be shorter anyway, so I haven't bothered trying..</p>
</div>
<div id="pu7" class="pu"><h1>Commodore 64 Assembler, 93 Bytes (6502/KickAssembler)</h1>
<h2>TL;DR</h2>
<p>The code generates the graphics into a C64 sprite. It first copies the right side of the sprite from the gfx table, mirrors it to the left side, and then toggles between open and winking eye graphics every ~500ms by using an XOR bitmask. There's also some code for cleaning up the unused sprite graphics memory, as C64 sprites are 24x21 pixels and we use only 16x16 pixel area of that.</p>
<h2>Code</h2>
<pre><code>.const sprite       = $40   // Sprite graphics will be generated here on zero page
.const data_ptr     = $80   // Free pointer to $20c9, ie. 1st byte of sprite gfx data

*       = $20c9
gfx:    .by %11110000   // Right side of the sprite. Mirrored in code for left side.
        .by %00001100   // Flipped horizontally so that the incrementing data pointer
        .by %11000010   // will end up pointing to the EOR mask table after gfx data
        .by %00100010   // has been copied to sprite.
        .by %00000001
        .by %00000001
        .by %00100001
        .by %00100001
        .by %00100001
        .by %00100001
        .by %00100001
        .by %00100001
        .by %00000010
        .by %00000010
        .by %00001100
        .by %11110000

eormask:.by %00100001^%00000001     // These 6 bytes are an EOR mask that toggles
        .by %00100001^%00000001     // between open and winking eye graphics.
        .by %00100001^%00000001
        .by %00100001^%11111001
        .by %00100001^%00000001
        .by %00100001^%00000001

                            // Start with SYS 8415
        ldx #62             // 2 First we need to create 63 (0-62) bytes of sprite data
        stx $d000           // 3 Save 62 as Sprite #0 X and Y positions (otherwise the
        stx $d001           // 3 sprite would be hidden in top left, behind the border)

draw:   sty sprite,x        // 2 Y=0 here. Clear rightmost byte of sprite pixel row
        dex                 // 1 Decrement sprite byte pointer
        cpx #47             // 2 Repeat until we've cleared sprite pixel rows 17-21
        bcs draw            // 2 If we still have complete rows to clear, repeat
        lda (data_ptr),y    // 2 Load byte from sprite graphics data
        sta sprite,x        // 2 Save as middle byte on sprite pixel row
        inc data_ptr        // 2 Increment sprite graphics data pointer
        dex                 // 1 Decrement sprite byte pointer

        bit $2              // 2 Reverses order of bits in a byte. Found from an old
    !:  php                 // 1 Google groups thread. Just 10 bytes. There's another
        asl                 // 1 10 byte solution but it uses X register which we need
        bne !-              // 2 ourselves. Super clever: Pushes the bits from left
    !:  rol                 // 1 into the carry flag and saves processor flags to stack,
        plp                 // 1 then pulls the flags and pushes carry to the byte from
        bne !-              // 2 the right, effectively reversing the order.

        sta sprite,x        // 2 Save mirrored byte (left side of smiley) to sprite
        dex                 // 1 Decrement sprite byte pointer
        bpl draw            // 2 Loop back until we've drawn all sprite pixel rows

        iny                 // 1 Increment Y to 1
        sty $d015           // 3 Sprite enable register - enable Sprite #0
        sty $07f8           // 3 Sprite #0 pointer - point to the 2nd 64 byte block in memory

anim:   ldy #5              // 2 Animate eye winking: Change 6 bytes of graphics on sprite
        ldx #12             // 2
    !:  lda sprite+16,x     // 2 Load an eye byte from sprite
        eor (data_ptr),y    // 2 EOR it with mask to toggle between open and winking eye
        sta sprite+16,x     // 2 Save toggled eye byte to sprite
        dex                 // 1 Decrement sprite byte pointer three times to point to...
        dex                 // 1 ...the same byte on previous row
        dex                 // 1
        dey                 // 1 Decrement EOR mask table index
        bpl !-              // 2 Loop until all 6 bytes have been changed

delay:  jsr $eeb3           // 3 KERNAL routine: 1ms delay
        jsr $eeb3           // 3 KERNAL routine: 1ms delay
        dex                 // 1 X=250 when we enter the delay loop
        bne delay           // 2 repeat for 250 times
        beq anim            // 2 Animate, delay, rinse and repeat
</code></pre>
<h2>Usage</h2>
<p>Run the program with <code>SYS 8415</code>.</p>
<h2>Explanation</h2>
<p>Quite a few tricks were used to make the code smaller:</p>
<ul>
<li>When we init the X index for the sprite generating routine, we reuse that value for moving the sprite to a visible part of the screen (ie. away from far top left, behind the border). Saves 2 bytes.</li>
<li>Sprite is generated to the first fully available 64 byte block on zero page. This allows us to use 8bit addressing instead of 16bit, saving 5 bytes. It also enables us to use another trick later to save additional 2 bytes.</li>
<li>As sprite is located on the 2nd 64 byte block of memory (index=1), we can use 1 for both setting the sprite pointer and enabling the sprite. Saves 2 bytes.</li>
<li>As Y is 0 after the SYS command, we keep it as 0 and use it to clear the redundant bytes of the sprite, saving 2 bytes. Also we later increment Y to 1 for setting the aforementioned sprite pointer and enabling the sprite, saves 1 byte vs. loading an immediate value.</li>
<li>Sprite graphics table is located to address $20c9, which allows us to use addresses $80-$81 of KERNAL's CHRGET routine on zero page as an indirect pointer to it, saving 2 bytes.</li>
<li>The sprite drawing routine increments the pointer after reading a byte from the gfx table, meaning that after it's read all the bytes from the table, the pointer conveniently points to the next table in memory (eor mask table). This later saves us a byte in the eye winking routine.</li>
<li>Instead of defining the 16 left hand side bytes of the smiley gfx, we use a neat little bit reversing routine of just 10 bytes to mirror the right hand side, thus savings of 6 bytes.</li>
<li>Winking animation is done by toggling the pixels of the right eye with an XOR bitmask (eye is 6 pixels high, thus we need to toggle 6 bytes of the sprite). I don't know what the exact saving is here versus e.g. toggling a pointer between two 6-byte pieces of graphics, but the XOR bitmask method was at least 3-4 bytes smaller than the smallest gfx toggling method I could come up with.</li>
<li>Delay is implemented by calling the KERNAL's 1ms delay routine twice, and then repeating it 250 times. In the animation routine we take advantage of the 6502 CPU's feature (some call it the page crossing bug): If e.g. we have an instruction <code>STA $ff,x</code>, and X is 2, A is getting saved into address $0001 instead of $0101. For the anim routine, we set the value of X in such a way that it is 250 when we continue from the routine to the delay, and then just compensate the offset in the base address of the <code>STA NN,x</code> instruction. This negates the need to init X for the delay routine, saving 2 bytes.</li>
</ul>
<p><a href="https://i.sstatic.net/TM3zvw4J.gif" rel="noreferrer"><img src="https://i.sstatic.net/TM3zvw4J.gif" alt="enter image description here" /></a></p>
</div>
<div id="pu8" class="pu"><h1>JS, <strike>398</strike> <strike>366</strike> 246 bytes</h1>
<h2>New method</h2>
<p>Setting image src to a base64 gif of the smiley/winkey.</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false" data-babel-preset-react="false" data-babel-preset-ts="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>b=1,setInterval(_=&gt;document.open().write(`&lt;img src=data:image/gif;base64,R0lGODdhEAAQAIAAAAAAAP///yH5BAgKAAAALAAAAAAQABAAAAIpjAOpecftgIMUGVmbx${['Fdrbk2RJ17g+ZHdWIZmRj3wxKHrqagytJvLXg','DcjbmVPJ4LYcpreGFas98Faq5KmMl+gtn8oWA'][b^=1]}AAOw==&gt;`),500)</code></pre>
</div>
</div>
</p>
<hr />
<h2>Old method</h2>
<p>Saving image as hex, and printing each pixel to canvas.</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false" data-babel-preset-react="false" data-babel-preset-ts="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>a="0ff0300c4002400284218421842184218421842180018001442243c2300c0ff0",d=document,d.write("&lt;canvas&gt;"),x=d.querySelector("canvas").getContext("2d"),f=0,setInterval((_=&gt;(f?a.replace(a.substr(18,21),"018401840184f98401840"):a).match(/.{1,2}/g).map((n=&gt;(+("0x"+n)).toString(2).padStart(8))).join``.split``.map((f=!f,x.reset(),(b,i)=&gt;+b&amp;&amp;x.fillRect(i%16,i/16|0,1,1)))),500)</code></pre>
</div>
</div>
</p>
<pre class="lang-javascript prettyprint-override"><code>a=&quot;0ff0300c4002400284218421842184218421842180018001442243c2300c0ff0&quot;, // Original image converted into bytes (ex. 11111111 -&gt; ff)
d=document,d.write(&quot;&lt;canvas&gt;&quot;),x=d.querySelector(&quot;canvas&quot;).getContext(&quot;2d&quot;), // Setting up canvas
f=0, // Image flipper boolean
setInterval(
  _=&gt;(f?a.replace(a.substr(18,21),&quot;018401840184f98401840&quot;):a) // Replacing winking eye bytes every 0.5 sec
    .match(/.{1,2}/g) // Splitting image string into bytes
    .map(n=&gt;(+(&quot;0x&quot;+n)).toString(2).padStart(8)) // ... and turning them into 8 bit chunks (empty spaces will be converted to zeroes)
    .join`` // ... flattening all the bits into a single string
    .split``.map(
      (f=!f,x.reset(),(b,i)=&gt;+b&amp;&amp;x.fillRect(i%16,i/16|0,1,1)) // Flipping boolean, clearing canvas, drawing each pixel (i/16|0 same as Math.floor(i/16))
    ),
  500
)
</code></pre>
<hr />
<h2>Edits</h2>
<ol>
<li><strike>398</strike> -&gt; <strong>390</strong>: <code>Math.floor()</code> -&gt; <code>~~</code></li>
<li><strike>390</strike> -&gt; <strong>386</strong>: <code>forEach</code> -&gt; <code>map</code></li>
<li><strike>386</strike> -&gt; <strong>381</strong>: Removed setting canvas to a var, removed semicolon from the end.</li>
<li>Added expanded code and explanation.</li>
<li><strike>381</strike> -&gt; <strong>377</strong>: Removed extra parentheses and one NOT (<code>!</code>)</li>
<li><strike>377</strike> -&gt; <strong>376</strong>: Turned function parentheses into <code>_</code></li>
<li><strike>376</strike> -&gt; <strong>374</strong>: Changed how I floor the y position (from <code>~~(i/16)</code> to <code>i/16|0</code>).</li>
<li><strike>374</strike> -&gt; <strong>372</strong>: Removed extra <code>{}</code> from around draw func.</li>
<li><strike>372</strike> -&gt; <strong>366</strong>: Converted two function calls from <code>(&quot;&quot;)</code> -&gt; to `` (thanks @<a href="https://codegolf.stackexchange.com/users/126257/weird-glyphs">Weird Glyphs</a>), and removed padding <code>0</code> from padStart, as spaces will be falsy.</li>
<li><strike>366</strike> -&gt; <strong>246</strong>: Changed to a simpler solution using base64 gifs.</li>
</ol>
</div>
<div id="pu9" class="pu"><h1>HTML + CSS + JS, <s>588</s> 432 bytes</h1>
<p>Disclaimer: Entirely based on <a href="https://codegolf.stackexchange.com/a/282434/128774">@A.L's answer</a>.</p>
<p>New version: encoded the bitmap as a base-5 <code>BitInt</code> -- Oops, now below 512 bytes.</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false" data-babel-preset-react="false" data-babel-preset-ts="false">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;style&gt;.b{background:#000}&lt;/style&gt;&lt;table&gt;&lt;script&gt;w=0x3e069e01a401efc9ea7fe983ad46adaa384a346fdd0397dccfb1907ddd5e9ac3c2c69c82ffc3ee9c41e812d4f1094c58672f9e16b215bb9ee03929e83e12580d4b5ec76d63ece8aea0d85ef67f4n
s=1
u=document
setInterval(_=&gt;{for(t of'ft')for(e of u.querySelectorAll('.'+t))e.classList.toggle('b',s^t=='t')
s^=1},500)
for(l=271;c=w%5n,l--;w/=5n)u.write(c==4?'&lt;tr&gt;':`&lt;td class=${'0bft'[c]} width=7 height=9&gt;`)&lt;/script&gt;</code></pre>
</div>
</div>
</p>
<p>Produced by the following Python script from the bitmap in @A.L's answer:</p>
<pre class="lang-py prettyprint-override"><code>for ch in reversed(wink):
    result *= 5
    if ch == '\n':
        result += 4
    else:
        result += int(ch)
</code></pre>
<p>Edits:</p>
<ul>
<li>Remove margin and padding CSS: <s>506</s> 476 bytes (thanks <a href="https://codegolf.stackexchange.com/questions/282422/make-an-animated-winking-smiley#comment599282_282465">@Ray Wallace</a>); also reduced the width of <code>td</code>s so they remain squares.</li>
<li>Use hex BigInt literals <s>476</s> 446 bytes.</li>
<li>Absorb the divmod operation into the loop condition <s>446</s> 442 bytes.</li>
<li>Use <code>setInterval</code> instead of <code>setTimeout</code> <s>442</s> 434 bytes.</li>
<li>Change the last loop to a C-style <code>for</code> loop  <s>434</s> 432 bytes.</li>
</ul>
<p>Old:</p>
<p>Still 77 bytes to go before we can make it 512.</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false" data-babel-preset-react="false" data-babel-preset-ts="false">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;style&gt;*{margin:0;padding:0;border:0}.b{background:#000}&lt;/style&gt;&lt;table&gt;&lt;script&gt;w="0000bbbbbbbb0000D00bb00000000bb00D0b000000000000b0D0b000000000000b0Db0000b0000t0000bDb0000b0000t0000bDb0000b0000t0000bDb0000b00ffbff00bDb0000b0000t0000bDb0000b0000t0000bDb00000000000000bDb00000000000000bD0b000b0000b000b0D0b0000bbbb0000b0D00bb00000000bb00D0000bbbbbbbb0000"
s=1
u=document
f=()=&gt;{for(t of'ft')for(e of u.querySelectorAll('.'+t))e.classList.toggle('b',s^t=='t')
s^=1
setTimeout(f,500)}
f()
w.split('D').map(l=&gt;{u.write('&lt;tr&gt;')
for(c of l)u.write(`&lt;td class=${c} width=9 height=9&gt;`)})&lt;/script&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu10" class="pu"><h1>ZX Spectrum Basic, 293 bytes</h1>
<pre><code>   1 OVER SGN PI: LET a$=&quot;2 2 13
 3-13 5 03 3 12 1 23-1 33 0 53 1
 32 2143 3 13 5 03 3-1214 23 1 3
3 0 53-1 32 5 32 6 23 3 0210 32 
5 63 0 52 8 83 4 0425552 8 83 4 
0210 63 0 542555210 63 0 555555&quot;
: FOR i=VAL &quot;5&quot; TO LEN a$ STEP V
AL &quot;5&quot;: LET x=VAL a$(i-INT PI TO
 i-VAL &quot;2&quot;): LET y=VAL a$(i-SGN 
PI TO i): GO TO VAL a$(i-VAL &quot;4&quot;
)
   2 PLOT x,y: NEXT i
   3 DRAW x,y: NEXT i
   4 PAUSE x: NEXT i
   5 LET i=x+y: NEXT i
</code></pre>
<p>Line 1 is very long but it looks like that on the ZX Spectrum because its lines are only 32 characters wide. It starts by turning on overplot, which makes it easy to erase. It then defines a string of compressed plot instructions as sets of five characters, the first being the line number to execute, then two pairs of two-digit numbers being the <code>x</code> and <code>y</code> values. The string is looped over, the values are extracted and the appropriate line is executed. The <code>55555</code> at the end actually causes the code to loop back to a previous point of the string. The timing is a little shaky because ZX Spectrum Basic is quite slow but the <code>425</code>s can be lowered a little to speed it up. Unfortunately I don't have any video capture facility to show you what the live output looks like, so here are two screen captures from an emulator:</p>
<p><a href="https://i.sstatic.net/TtpiaFJj.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/TtpiaFJj.png" alt="wink off" /></a></p>
<p><a href="https://i.sstatic.net/A211CSr8.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/A211CSr8.png" alt="wink on" /></a></p>
</div>
<div id="pu11" class="pu"><h1>HTML + CSS + JS, 1024 bytes</h1>
<p>I didn't try to optimize it much, I just tried to start from an ASCII representation of the pixels (maybe it can help other people), then minimized it to 1 kb.</p>
<p>The code will draw a HTML table with the different possible states:</p>
<ul>
<li><code>0</code>: always white pixel</li>
<li><code>1</code>: always black pixel</li>
<li><code>2</code> and <code>3</code>: alternate between black and white</li>
</ul>
<p>A JS loop will switch on and off the pixels of the right eye.</p>
<h2>Quickly minimized version and output</h2>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false" data-babel-preset-react="false" data-babel-preset-ts="false">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;style&gt;
        * {margin: 0;padding: 0;border: none;}td {width: 10px;height: 10px;}.t1 {background: #000}
    &lt;/style&gt;
    &lt;script&gt;
        var wink = `0000111111110000
0011000000001100
0100000000000010
0100000000000010
1000010000300001
1000010000300001
1000010000300001
1000010022122001
1000010000300001
1000010000300001
1000000000000001
1000000000000001
0100010000100010
0100001111000010
0011000000001100
0000111111110000`;
        var state = true;
        function flipState() {
            document.querySelectorAll(state ? '.t2' : '.t3').forEach((element) =&gt; {element.classList.add('t1');});document.querySelectorAll(state ? '.t3': '.t2').forEach((element) =&gt; {element.classList.remove('t1');});state = !state;setTimeout('flipState()', 500);}
        flipState();
    &lt;/script&gt;
&lt;/head&gt;&lt;body&gt;&lt;table&gt;&lt;script&gt;
        wink.split('\n').forEach(function (line) {document.write('&lt;tr&gt;');line.split('').forEach(function (char) {document.write('&lt;td class="t' + char+ '"&gt;&lt;/td&gt;');});document.write('&lt;/tr&gt;');});
    &lt;/script&gt;&lt;/table&gt;&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</p>
<h2>Ungolfed</h2>
<p>Use any tool to reformat this code with new lines between blocks.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/282422/">282422</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




