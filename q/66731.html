<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::66731</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>086</td><td>AWK</td><td>250826T154100Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/283338#283338">xrs</a></td></tr>
<tr d-ix="1"><td>404</td><td>Pascal</td><td>230904T200011Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/264896#264896">Kai Burg</a></td></tr>
<tr d-ix="2"><td>025</td><td>APL Dyalog Extended</td><td>200910T075321Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/210873#210873">Razetime</a></td></tr>
<tr d-ix="3"><td>001</td><td>Japt</td><td>190320T124457Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/181884#181884">Shaggy</a></td></tr>
<tr d-ix="4"><td>002</td><td>05AB1E</td><td>190320T120453Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/181881#181881">Kevin Cr</a></td></tr>
<tr d-ix="5"><td>058</td><td>PowerShell</td><td>151216T060839Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66751#66751">Tessella</a></td></tr>
<tr d-ix="6"><td>098</td><td>PHP</td><td>190122T182238Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/179002#179002">640KB</a></td></tr>
<tr d-ix="7"><td>025</td><td>Japt</td><td>151218T030226Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66998#66998">ETHprodu</a></td></tr>
<tr d-ix="8"><td>081</td><td>Python 2</td><td>151216T044420Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66749#66749">Willem</a></td></tr>
<tr d-ix="9"><td>335</td><td>LabVIEW</td><td>151216T091115Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66760#66760">Eumel</a></td></tr>
<tr d-ix="10"><td>061</td><td>Perl 6</td><td>151216T173440Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66809#66809">Brad Gil</a></td></tr>
<tr d-ix="11"><td>040</td><td>HTML</td><td>151217T223753Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66962#66962">Neil</a></td></tr>
<tr d-ix="12"><td>126</td><td>R</td><td>151217T171145Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66897#66897">Mutador</a></td></tr>
<tr d-ix="13"><td>077</td><td>Haskell</td><td>151216T190917Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66820#66820">basile-h</a></td></tr>
<tr d-ix="14"><td>061</td><td>Ruby</td><td>151216T093013Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66765#66765">manatwor</a></td></tr>
<tr d-ix="15"><td>019</td><td>CJam</td><td>151216T021709Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66738#66738">NinjaBea</a></td></tr>
<tr d-ix="16"><td>nan</td><td>Funciton</td><td>151217T024927Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66838#66838">Timwi</a></td></tr>
<tr d-ix="17"><td>017</td><td>Pyth</td><td>151216T014825Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66733#66733">izzyg</a></td></tr>
<tr d-ix="18"><td>022</td><td>MATL</td><td>151216T085033Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66757#66757">Luis Men</a></td></tr>
<tr d-ix="19"><td>052</td><td>Retina</td><td>151216T091625Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66762#66762">Martin E</a></td></tr>
<tr d-ix="20"><td>035</td><td>vim</td><td>151216T023443Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66742#66742">Doorknob</a></td></tr>
<tr d-ix="21"><td>091</td><td>JavaScript ES6</td><td>151216T042237Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66748#66748">user8165</a></td></tr>
<tr d-ix="22"><td>160</td><td>Gema</td><td>151216T105813Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66774#66774">manatwor</a></td></tr>
<tr d-ix="23"><td>203</td><td>Emacs Lisp</td><td>151216T075020Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66752#66752">Lord Yuu</a></td></tr>
<tr d-ix="24"><td>024</td><td>TeaScript</td><td>151216T044433Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66750#66750">Downgoat</a></td></tr>
<tr d-ix="25"><td>003</td><td>Jolf</td><td>151216T034833Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66746#66746">Conor O&</a></td></tr>
<tr d-ix="26"><td>096</td><td>Mathematica</td><td>151216T014943Z</td><td><a href="https://codegolf.stackexchange.com/questions/66731/center-the-text/66734#66734">LegionMa</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.gnu.org/software/gawk/" rel="nofollow noreferrer">AWK</a>, 86 bytes</h1>
<pre><code>a[++k]=$0{(l[k]=length())&gt;n&amp;&amp;n=l[k]}END{for(;i++&lt;k;)printf&quot;%*s%s\n&quot;,(n-l[i])/2,X,a[i]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m704sTx7wYKlpSVpuhY3wxKjtbWzY21VDKo1cqKBjJzUvPSSDA1NTbs8NbU8W5BYraufS3VafpGGdaa2tk22tWZBUWZeSZqSqlaxanFMnpKORp5uTnRmrKa-kU6ETiKQVQsxHWrJgv0BRfnpRYm5uZl56QoBpVVVOanFXGpczvkpqQru-TlpEGUA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h2>Pascal, 404 bytes</h2>
<p>This complete <code>program</code> is suitable for any processor complying with ISO standards 7185 (“Standard Pascal”) or 10206 (“Extended Pascal”).
The <code>maximumLineLength</code> algorithm requires that every line has a maximum length of <code>maxInt</code> characters.</p>
<pre class="lang-pascal prettyprint-override"><code>program p(input,output);type Z=integer;var b:text;l:file of Z;c,m:Z;begin
m:=0;c:=0;rewrite(b);rewrite(l);while not EOF do begin if EOLn then begin
write(l,c);c:=0;writeLn(b)end else begin c:=c+1;if c&gt;m then
m:=c;write(b,input^)end;get(input)end;reset(b);reset(l);while not EOF(b)do
begin read(l,c);for c:=1 to(m-c)div 2 do write(' ');while not EOLn(b)do
begin write(b^);get(b)end;writeLn;get(b)end end.
</code></pre>
<p>Ungolfed:</p>
<pre class="lang-pascal prettyprint-override"><code>program centerTheText(input, output);
    type
        integerNonNegative = 0‥maxInt;
    
    var
        { The behavior of `reset(input)` is implementation-defined.
          Using a buffer `text` file avoids relying on specific behavior. }
        buffer: text;
        { Stores the length of a line in `input` (buffered in `buffer`). }
        lineLength: file of integerNonNegative;
        { The length of the currently processed line. }
        currentLineLength: integerNonNegative;
        { The length of the longest line found. }
        maximumLineLength: integerNonNegative;
    
    begin
        maximumLineLength ≔ 0;
        currentLineLength ≔ 0;
        { Open files for writing and set their lengths to zero (“truncate”). }
        rewrite(buffer);
        rewrite(lineLength);
        
        { process and analyze `input` ┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄ }
        while not EOF(input) do
        begin
            { Invocation of `EOLn(input)` is only valid if `not EOF(input)`. }
            if EOLn(input) then
            begin
                { `input↑` contains a space so we cannot just copy it. }
                writeLn(buffer);
                { Store the determined line length for the centering. }
                write(lineLength, currentLineLength);
                { Prepare `currentLineLength` for the next line. }
                currentLineLength ≔ 0;
            end
            else
            begin
                currentLineLength ≔ currentLineLength + 1;
                { In Extended Pascal you could write: `maximumLineLength ≔
                  card([0‥currentLineLength, 0‥maximumLineLength]) − 1`. }
                if currentLineLength &gt; maximumLineLength then
                begin
                    maximumLineLength ≔ currentLineLength;
                end;
                { For later reference store `input↑` in `buffer`. }
                write(buffer, input↑);
            end;
            { Advance reading cursor. }
            get(input);
        end;
        
        { Open files for reading from the start. }
        reset(buffer);
        reset(lineLength);
        
        { Reproduce `input` but centered. ┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄ }
        while not EOF(buffer) do
        begin
            read(lineLength, currentLineLength);
            { In Extended Pascal you could also just write:
              `write('':(maximumLineLength − currentLineLength) div 2)` }
            for currentLineLength ≔ 1 to
                (maximumLineLength − currentLineLength) div 2 do
            begin
                write(output, ' ');
            end;
            { Do not enter loop in case of an empty line. }
            while not EOLn(buffer) do
            begin
                write(output, buffer↑);
                get(buffer);
            end;
            { Discard the end-of-line marker character. }
            get(buffer);
            { Emit the implementation-specific end-of-line marker character. }
            writeLn(output);
        end;
    end.
</code></pre>
<h2>Extended Pascal, 252 bytes</h2>
<p>Requiring a processor compliant with ISO standard 10206 “Extended Pascal” the schema data type <code>string</code> becomes available.
Lots of operations can be thus abbreviated:</p>
<pre class="lang-pascal prettyprint-override"><code>program p(input,output);var b:text;l:string(maxInt);m:integer;begin
m:=0;rewrite(b);while not EOF do begin readLn(l);if m&lt;length(l)then
m:=length(l);writeLn(b,l)end;reset(b);while not EOF(b)do begin
readLn(b,l);writeLn('':(m-length(l))div 2,l)end end.
</code></pre>
<p>Ungolfed:</p>
<pre class="lang-pascal prettyprint-override"><code>program centerTheText(input, output);
    type
        { `integer…` prefix to facilitate sorting in documentation tools. }
        integerNonNegative = 0‥maxInt;
    
    var
        buffer: text;
        line: string(maxInt);
        maximumLineLength: integerNonNegative value 0;
    
    begin
        { The size of `buffer` immediately becomes zero. }
        rewrite(buffer);
        { Find the length of the longest line in `input`. }
        while not EOF(input) do
        begin
            readLn(input, line);
            { Is the current line longer than the longest line so far? }
            if length(line) &gt; maximumLineLength then
            begin
                maximumLineLength ≔ length(line);
            end;
            { Store the read `input` line in `buffer` for later retrieval. }
            writeLn(buffer, line);
        end;
        
        { (Re‑)open `buffer` and start reading `buffer` from the start. }
        reset(buffer);
        { The `while` loop is not entered in case `buffer` is an empty file. }
        while not EOF(buffer) do
        begin
            readLn(buffer, line);
            { Empty strings (`''`) are only allowed in Extended Pascal.
              For `string` values the `integer` expression after the colon
              dictates the _exact_ width of the string padded with spaces. }
            writeLn('':(maximumLineLength − length(line)) div 2, line);
        end;
    end.
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, 25 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>{↑(-⌊((⌈/≢¨⍵)+≢¨⍵)÷2)↑¨⍵}
</code></pre>
<p>There's an APLcart snippet for centering in a field:</p>
<p><code>Is(⊢↑⍨∘-∘⌊2÷⍨+∘≢)Dv</code></p>
<p>This answer is partly based on it.</p>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn/v/pR20QN3Uc9XRoaj3o69B91Ljq04lHvVk1tOOvwdiNNoCIwp/Z/2qO2CY96@x51NT/qXfOod8uh9cZAyUd9U4ODnIFkiIdn8P80BXW3/Hx1BfWkxKKkxCp1LqAEUJu6OhdQxiM1JwckF55flJOCKhVQlJ9elJibm5mXrhBQWlWVk1oMVKgGxM75KakK7vk5aeoA" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>
<h2>Explanation</h2>
<pre class="lang-apl prettyprint-override"><code>{↑(-⌊((⌈/≢¨⍵)+≢¨⍵)÷2)↑¨⍵}
      (⌈/≢¨⍵)             Maximum of lengths of each line
             +≢¨⍵         Plus length of each line
     (           )÷2      divided by two
   -⌊(           )        Floor it, and take negative
  (                 )↑¨⍵  Take that much from each line
                          (taking a negative value prepends spaces)
 ↑                        Mix the final array to print on each line
{                       } dfn
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 1 byte</h1>
<pre><code>û
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=%2bw==&amp;input=IkZvbwpiYXJiYXoi" rel="nofollow noreferrer">Try it</a> or <a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LW1S&amp;code=%2bw==&amp;input=WyJGb28KYmFyYmF6IgoiSGVsbG8KV29ybGQiCiJQcm9ncmFtbWluZyBQdXp6bGVzCiYKQ29kZSBHb2xmIgpd" rel="nofollow noreferrer">run all test cases</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 2 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>.c
</code></pre>

<p>Builtins ftw ¯\_(ツ)_/¯</p>

<p><a href="https://tio.run/##yy9OTMpM/f9fL/n/fyUlpYCi/PSixNzczLx0hYDSqqqc1GIuNS7n/JRUBff8nDSgCgA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9W@V8v@b/OoW32/6OV3PLzY/KSEouSEquUdJQ8UnNygPzw/KKcFCA3oCg/vSgxNzczL10hoLSqKie1OCZPLSbPOT8lVcE9PydNKRYA" rel="nofollow noreferrer">verify all test cases</a>.</p>

<p><strong>Explanation:</strong></p>



<pre class="lang-python prettyprint-override"><code>.c   # Centralize the (implicit) multi-line input-string with preference to the left
     # (output the result implicitly)
</code></pre>

<p>(Preference to the right would be with a capital <code>.C</code> instead: <a href="https://tio.run/##yy9OTMpM/f9fySc1rUShoCg1LbUoNS851UpJx1MvWefQNnuloMz0DAwpZx2gHiUlt/x8rqTEoqTEKiAHAA" rel="nofollow noreferrer">see the differences</a>.)</p>
</div>
<div id="pu5" class="pu"><h1>PowerShell, 58 <strike>67</strike> bytes</h1>

<p>down to 58 bytes thanks to @mazzy's comments:</p>

<pre><code>param($a)$a|%{$_|% *ft(($a|% le*|sort)[-1]/2+$_.length/2)}


# It takes an array of strings as input
PS C:\Temp&gt; .\center.ps1 'aaa','bb','c'
aaa
bb
 c


# Or here, read from a file
PS C:\Temp&gt; .\center.ps1 (gc t.txt)
info0:info1:info2:info3
      info0:info1
          ttt
          tt
           t
</code></pre>

<ul>
<li>It takes an array of strings as <code>$a</code>, loops over each string with <code>|%{...}</code>.</li>
<li>calls the <code>string.padleft()</code> method on each string, via <code>% -member</code> shortcut, which takes desired final line length as a parameter.

<ul>
<li>we need <code>array_longest_line_length/2 + current_line_length/2</code></li>
<li>the end part is <code>current_line_length/2</code> -> <code>$_.length/2</code></li>
<li>the other part is recalculating the array's maximum line length every time through the loop, and it does so with a nested loop making an array of line lengths, sorts that, then takes the last one.</li>
</ul></li>
</ul>
</div>
<div id="pu6" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, 98 bytes</h1>



<pre class="lang-php prettyprint-override"><code>function($s){foreach($a=explode("
",$s)as$l)echo str_pad($l,max(array_map(strlen,$a)),' ',2),"
";}
</code></pre>

<p><a href="https://tio.run/##Dc5NCsIwEEDhfU8RJNgJBBSX1uLChVtvEIZ20hbSTJhE8AfPXrN@PPjSnLbLNc1JkQiLE0osZYkTHE2ntO83/4xDWTiCzubrWQiHGTT29EqBR4Jds7M1YdbB0DCzykVcwhF0sCu@AEXw7VZMUEOgaDUaY1vV2pOxde5@W6c9@CWQm6i4gWOhWDK0VXU@HHIZl9ga020P4UlwXatOPZ6fT6Dc7JtbRag7B/8H" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>

<p>Ungolfed:</p>

<pre class="lang-php prettyprint-override"><code>function str_center( $s ) {
    $a = explode( PHP_EOL, $s );
    $m = max( array_map( 'strlen', $a ) );
    foreach( $a as $l ) {
        echo str_pad( $l, $m, ' ', STR_PAD_BOTH ), PHP_EOL;
    }
}
</code></pre>

<p>Output:</p>

<pre class="lang-php prettyprint-override"><code>Programming Puzzles
         &amp;         
     Code Golf   
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Japt, <s>28</s> 25</h1>
<pre><code>¡V=VwXl}R;¡Sp½*(V-Xl¹+X}R
</code></pre>
<p><a href="http://ethproductions.github.io/japt?v=master&amp;code=oVY9VndYbH1SO6FTcL0qKFYtWGy5K1h9Ug==&amp;input=IlByb2dyYW1taW5nIFB1enpsZXMKJgpDb2RlIEdvbGYi" rel="nofollow noreferrer">Try it online!</a></p>
<h3>How it works</h3>
<pre><code>¡     V=VwXl}R;¡     Sp½*(V-Xl¹ +X}R
UmXYZ{V=VwXl}R;UmXYZ{Sp½*(V-Xl) +X}R

           // Implicit: U = input string, V = 0
UmXYZ{  }  // Map each item X in U through this function,
         R // splitting U at newlines beforehand:
  V=VwXl   //  Set V to max(X, Y.length).
           // V is now set to the length of the longest line.

UmXYZ{  }  // Map each item X in U with this function,
         R // again splitting U at newlines beforehand:
 ½*(V-Xl)  //  Take V minus X.length, and multiply by 1/2.
Sp         //  Repeat a space that many times.
        +X //  Concatenate X to the end.
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Python 2, <s>83</s> 81 bytes</h1>
<pre><code>def f(s):
 t=s.split('\n')
 for y in t:print(max(len(f)for f in t)-len(y))/2*' '+y  
</code></pre>
<p>Thanks to @xnor for saving 2 chars</p>
<p>example input:</p>
<pre><code>f(&quot;&quot;&quot;Programming Puzzles
&amp;
Code Golf&quot;&quot;&quot;)
</code></pre>
<p>example output:</p>
<pre><code>Programming Puzzles
         &amp;
     Code Golf
</code></pre>
<p>And ending in second place with 84 bytes using str.center() and str.rstrip (thanks @J F).</p>
<pre><code>def f(s):
 t=s.split('\n')
 for y in t:print y.center(max(len(f)for f in t)).rstrip()
</code></pre>
</div>
<div id="pu9" class="pu"><h1>LabVIEW, 3 or 35 <a href="http://meta.codegolf.stackexchange.com/a/7589/39490">LabVIEW Primitives</a></h1>

<p>Finds lines until none are left, then calculates how many spaces to add and puts everything together.</p>

<p><a href="https://i.sstatic.net/9SHUE.gif" rel="nofollow noreferrer"><img src="https://i.sstatic.net/9SHUE.gif" alt=""></a></p>

<p>Alternatively you could use the built-in center alignment on string indicators, it kinda does feel like cheating though.</p>

<p><a href="https://i.sstatic.net/CiOoK.jpg" rel="nofollow noreferrer"><img src="https://i.sstatic.net/CiOoK.jpg" alt=""></a></p>
</div>
<div id="pu10" class="pu"><h1><a href="http://perl6.org" rel="nofollow">Perl 6</a>, 61 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>$/=(my@l=lines)».chars.max;for @l {put ' 'x($/-.chars)/2~$_} # 61 bytes
</code></pre>

<p>usage:
</p>

<pre class="lang-perl6 prettyprint-override"><code>$ perl6 -e '$/=(my@l=lines)».chars.max;for @l {put " "x($/-.chars)/2~$_}' &lt;&lt;&lt; \
'Programming Puzzles
&amp;
Code Golf'
</code></pre>

<pre class="lang-none prettyprint-override"><code>Programming Puzzles
         &amp;
     Code Golf
</code></pre>
</div>
<div id="pu11" class="pu"><h2>HTML, 40 bytes</h2>

<pre><code>&lt;xmp style=float:left;text-align:center&gt;
</code></pre>

<p><div class="snippet" data-lang="js" data-hide="true">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;xmp style=float:left;text-align:center&gt;
Programming Puzzles
&amp;
Code Golf
&lt;/xmp&gt;</code></pre>
</div>
</div>
</p>

<p>Snippet includes <code>&lt;/xmp&gt;</code> tag because the code snippet viewer wants my tags to be balanced.</p>
</div>
<div id="pu12" class="pu"><h1>R, 126 bytes</h1>
<h3>code</h3>
<pre><code>for(z in 1){l=scan(,&quot;&quot;);m=sapply(l,nchar);t=max(m[m==max(m)]);for(i in 1:length(m))cat(rep(&quot; &quot;,(t-m[i])/2),l[i],&quot;\n&quot;, sep=&quot;&quot;)}
</code></pre>
<h3>ungolfed</h3>
<pre><code>for(z in 1){                          # any way to get rid of this?
  l=scan(,&quot;&quot;)
  m &lt;- sapply(l,nchar)
  t &lt;- max(m[m==max(m)])
  for(i in 1:length(m)){
    cat(rep(&quot; &quot;,(t-m[i])/2),l[i],&quot;\n&quot;, sep=&quot;&quot;)
  }
}
</code></pre>
<p>Probably there are waay better ways to do this, still working on it.</p>
</div>
<div id="pu13" class="pu"><h1>Haskell, <s>111</s> <s>81</s> 77 bytes</h1>

<pre><code>l=length
f s|q&lt;-lines s=unlines[([1..div(maximum(l&lt;$&gt;q)-l w)2]&gt;&gt;" ")++w|w&lt;-q]
</code></pre>

<p>Input to the f function, the output is not printed.</p>

<p>Usage: load in interpreter <code>ghci center.hs</code> and then if you want to print the output of f on a given string <code>putStr$f"Programming Puzzles\n&amp;\nCode Golf"</code></p>

<p>Edit: Thanks to <a href="https://codegolf.stackexchange.com/users/34531/nimi">nimi</a> for 34 bytes, great job! :D</p>
</div>
<div id="pu14" class="pu"><h1>Ruby, <s>76</s> <s>68</s> 61 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;t{(s=t.split$/).map{|l|l.center(s.map(&amp;:size).max).rstrip}}
</code></pre>

<p>Sample run:</p>

<pre><code>2.1.5 :001 &gt; puts -&gt;t{(s=t.split$/).map{|l|l.center(s.map(&amp;:size).max).rstrip}}["Programming Puzzles\n&amp;\nCode Golf"]
Programming Puzzles
         &amp;
     Code Golf
</code></pre>
</div>
<div id="pu15" class="pu"><h1>CJam, <s>26</s> <s>23</s> 19 bytes</h1>

<pre><code>qN/_z,f{1$,m2/S*\N}
</code></pre>

<p>My first time using CJam! Four bytes saved thanks to Martin Büttner. <a href="http://cjam.aditsu.net/#code=qN%2F_z%2Cf%7B1%24%2Cm2%2FS*%5CN%7D&amp;input=Programming%20Puzzles%0A%26%0ACode%20Golf" rel="nofollow">Try it online.</a></p>

<h3>Explanation</h3>

<pre><code>qN/    e# Read input and split each line
_z,    e# Transpose a copy and get its length to find the longest line
f{     e# For each line...
  1$,- e# Subtract its length from the longest length
  2/   e# Divide by two to get just the spaces to add to the left
  S*\  e# Add a string with that many spaces to the beginning
  N    e# Add a newline to go on to the next line
}
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="http://esolangs.org/wiki/Funciton">Funciton</a>, non-competitive</h1>

<p>This challenge has highlighted the sore lack of a “maximum value” (and minimum value) function for lazy sequences, so... I added them to the core library (they’re called ⊤ and ⊥, respectively). Therefore I didn’t bother to submit this as a <em>golfed</em> answer (it would have to include the ⊤ function declaration to be valid), so here’s just the main program.</p>

<p>Execute <code>(function(){$('pre,code').css({lineHeight:5/4,fontFamily:'DejaVu Sans Mono'});})()</code> in your browser console to get some nicer rendering.</p>

<pre><code>   ╓───╖         ╔════╗  ┌───╖  ╔═══╗
 ┌─╢ ‡ ╟─┐       ║ 10 ╟──┤ ǁ ╟──╢   ║
 │ ╙───╜ │       ╚════╝  ╘═╤═╝  ╚═══╝
 │ ┌───╖ │  ┌──────────────┴──────────────────┐
 └─┤ ‼ ╟─┘┌─┴─╖ ┌───╖ ┌───╖ ┌───╖ ┌───╖       │     │
   ╘═╤═╝  │ ɱ ╟─┤ ⊤ ╟─┤ + ╟─┤ ~ ╟─┤ ℓ ╟───┐ ┌─┴─╖ ┌─┴─╖ ╔════╗
     │    ╘═╤═╝ ╘═══╝ ╘═╤═╝ ╘═══╝ ╘═══╝   │ │ ɱ ╟─┤ ʝ ╟─╢ 10 ║
    ┌───╖ ╔═╧═╕ ╔═══╗ ┌─┴──╖ ┌───╖ ╔════╗ │ ╘═╤═╝ ╘═══╝ ╚════╝
  ┌─┤ ℓ ╟─╢   ├─╢ 1 ║ │ &gt;&gt; ╟─┤ … ╟─╢ 32 ║ │   │
  │ ╘═══╝ ╚═╤═╛ ╚═╤═╝ ╘═╤══╝ ╘═╤═╝ ╚════╝ │ ╔═╧═╕ ╔═══╗
  └─────────┘     └─────┘      │   ┌───╖  ├─╢   ├─╢ 0 ║
                               └───┤ ‡ ╟──┘ ╚═╤═╛ ╚═══╝
                                   ╘═╤═╝      │
                                     └────────┘
</code></pre>

<h2>Explanation</h2>

<p>I believe this may be the first Funciton answer on this site that uses lambda expressions.</p>

<ul>
<li>First, we use <code>ǁ</code> to split the input string at the newlines (ASCII 10). This returns a lazy sequence.</li>
<li>We pass that sequence through <code>ɱ</code> (map), giving it a lambda that calculates the length of each string, and then pass the final sequence through <code>⊤</code> to get the length of the longest line.</li>
<li>We <em>also</em> pass that sequence through another <code>ɱ</code>, giving it a lambda that calculates the length of each string, subtracts it from the maximum line length calculated earlier, divides that by 2 (actually shift-right 1), generates that many spaces (ASCII 32) and then concatenates the string onto those spaces. (For geometric reasons, I declared a <code>‡</code> function that calls <code>‼</code> (string concatenate) with the parameters reversed.)</li>
<li>Finally, we use <code>ʝ</code> to put all of the strings back together, using newlines (ASCII 10) as the separator.</li>
</ul>
</div>
<div id="pu17" class="pu"><h1>Pyth, <s>19</s> 17 bytes</h1>

<p><em>2 bytes thanks to Jakube</em></p>

<pre><code>V.ztr+1.[l.T.zNd6
</code></pre>

<p><a href="https://pyth.herokuapp.com/?code=V.ztr%2B1.%5Bl.T.zNd6&amp;input=Foo%0Abarbaz&amp;debug=0" rel="nofollow">Demonstration</a></p>

<p>I think this is the first time the center-pad function of <code>.[</code> has been useful. The length of the longest line is found using non-truncating transpose (<code>.T</code>).</p>

<p>Trailing spaces are removed by adding a non-space character to the front, stripping spaces, then removing the added character.</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://esolangs.org/wiki/MATL" rel="nofollow">MATL</a>, 22 <s>31</s> bytes</h1>

<pre><code>`jtYz~]xXhc4X4H$ZuZ{Zv
</code></pre>

<p>Each line is input with a trailing line (that is, an <kbd>enter</kbd> keystroke). An empty line (two <kbd>enter</kbd> keystrokes) marks the end of input.</p>

<h3>Example</h3>

<pre><code>&gt;&gt; matl `jtYz~]xXhc4X4H$ZuZ{Zv
&gt; foo
&gt; barbaz
&gt; 
 foo
barbaz
</code></pre>

<h3>Explanation</h3>

<pre><code>`          % do...
  j        % input one string
  tYz~     % is it not empty?
]          % ...while
x          % delete last input (empty string)
Xh         % concatenate all inputs into a cell array
c          % convert to char (2D array). This fills with spaces to the right
4X4H$Zu    % center justify
Z{         % convert to cell array of strings
Zv         % remove trailing blanks of each string
</code></pre>
</div>
<div id="pu19" class="pu"><h2><a href="https://github.com/mbuettner/retina">Retina</a>, <s>54</s> 52 bytes</h2>

<pre><code>+m`^(.)+$(?&lt;=(?=[^\t]*^..(?&lt;-1&gt;.)+(?(1)^))[^\t]*)
 $0 
</code></pre>

<p>The <code>\t</code>s can replaced with actual tabs, but I've used <code>\t</code> here, because otherwise SE will convert the tabs to spaces. Note that there is a leading space on the second line.</p>

<p><a href="http://retina.tryitonline.net/#code=K21gXiguKSskKD88PSg_PVteCV0qXi4uKD88LTE-LikrKD8oMSleKSlbXgldKikKICQwIA&amp;input=UHJvZ3JhbW1pbmcgUHV6emxlcwomCkNvZGUgR29sZg">Try it online.</a></p>

<h3>Explanation</h3>

<p>The basic idea is to match a line which is at least two characters shorter than the longest line (or technically, two characters shorter than <em>any</em> other line), and surround it in two spaces. This is repeated until we can no longer find such a line, which means that all lines are within one character of the maximum length (where the one character is to account for parity mismatches, and guarantees that these lines are shifted to the left off-centre).</p>

<p>As for the actual regex:</p>

<pre><code>^(.)+$
</code></pre>

<p>Just matches any one line while pushing one capture onto group <code>1</code> for each character.</p>

<pre><code>(?&lt;=...[^\t]*)
</code></pre>

<p>Is a lookbehind which is matched right-to-left and moves the cursor to the beginning of the string, so that the lookahead inside can check the entire string. Note that due to a lack of an anchor, the lookahead could be applied from anywhere else, but that does not create additional matches. We know that <code>[^\t]</code> will always match <em>any</em> character in the string, because the input is guaranteed to contain only spaces and linefeeds as far as whitespace is concerned.</p>

<pre><code>(?=[^\t]*^..(?&lt;-1&gt;.)+(?(1)^))
</code></pre>

<p>This lookahead tries to find a line which is at least two characters longer than the one we're currently matching. <code>[^\t]*</code> moves through the string in order to be able to match any line. <code>^</code> ensures that we're starting from the beginning of the line. <code>..</code> then matches the two additional characters we require for the longer line. Now <code>(?&lt;-1&gt;.)+</code> matches individual characters in that line while popping from group <code>1</code> (note that <code>.</code> cannot match a linefeed, so this is constrained to one line). Finally, <code>(?(1)^)</code> asserts that we managed to empty the entire group <code>1</code>. If the line is shorter than required, this is not possible, because there are not enough characters in the line to pop from group 1 often enough to empty it.</p>
</div>
<div id="pu20" class="pu"><h2>vim, <s>43</s> <s>36</s> 35 bytes</h2>

<pre><code>VGrx:sor
G:let &tw=col("$")
uu:%ce

</code></pre>

<p>Too good not to post. Note the trailing newline; it is significant.</p>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/30991/marth">@Marth</a> for saving a character!</p>

<p>vim-friendly format:</p>

<pre><code>VGrx:sor&lt;cr&gt;G:let &amp;tw=col("$")&lt;cr&gt;uu:%ce&lt;cr&gt;
</code></pre>

<p>Explanation:</p>

<pre><code>VGrx                   replace every character with an "x"
:sor&lt;cr&gt;               sort (since all chars are now same, sorts by line length)
G                      go to the very last line
:let &amp;tw=col("$")&lt;cr&gt;  set &amp;tw to column number of last char on this line
                         "let &amp;tw" is equivalent to "set tw"
                         tw is short for textwidth, used in :center
uu                     undo the sort, and the replacing-with-x too
:%ce&lt;cr&gt;               center over entire file (%), using textwidth set earlier
</code></pre>
</div>
<div id="pu21" class="pu"><h1>JavaScript (ES6), <s>93</s> 91 bytes</h1>
<pre class="lang-js prettyprint-override"><code>s=&gt;(m=l=s.split`
`).map(x=&gt;(v=x.length/2)&lt;m?v:m=v).map((x,i)=&gt;&quot; &quot;.repeat(m-x)+l[i]).join`
`
</code></pre>
<p><em>2 bytes saved thanks to <a href="https://codegolf.stackexchange.com/users/21348/edc65">@edc65</a>!</em></p>
<h2>Explanation</h2>
<pre class="lang-js prettyprint-override"><code>s=&gt;(
  m=                // m = max line length (divided by 2)
    l=s.split`
`)                  // l = array of lines
.map(x=&gt;            // for each line
  (v=x.length/2)    // v = current line length / 2
    &lt;m?v:m=v        // set m to the max line length and return v
)
.map((x,i)=&gt;        // for each line length / 2
  &quot; &quot;.repeat(m-x)   // add spaces before
    +l[i]           // add line text
)
.join`
`                   // return lines as a newline-separated string
</code></pre>
<h2>Test</h2>
<p><div class="snippet" data-lang="js" data-hide="true" data-console="false" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var solution = s=&gt;(m=l=s.split`
`).map(x=&gt;(v=x.length/2)&lt;m?v:m=v).map((x,i)=&gt;" ".repeat(m-x)+l[i]).join`
`</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;textarea id="input" rows="4" cols="20"&gt;Programming Puzzles
&amp;
Code Golf&lt;/textarea&gt;&lt;br /&gt;
&lt;button onclick="result.textContent=solution(input.value)"&gt;Go&lt;/button&gt;
&lt;pre id="result"&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu22" class="pu"><h1>Gema, 160 bytes</h1>

<pre><code>\L&lt;T&gt;=@push{i;$0}@set{m;@cmpn{@length{$0};${m;};$m;$m;@length{$0}}}
?=
\Z=@repeat{@sub{@line;1};@set{o;@right{@div{@add{$m;@length{$i}};2};$i}\n${o;}}@pop{i}}$o
</code></pre>

<p>Written mostly for my curiosity to see what can be done in a language without proper array structure and proper loop instruction.</p>

<p>Sample run:</p>

<pre><code>bash-4.3$ gema '\L&lt;T&gt;=@push{i;$0}@set{m;@cmpn{@length{$0};${m;};$m;$m;@length{$0}}};?=;\Z=@repeat{@sub{@line;1};@set{o;@right{@div{@add{$m;@length{$i}};2};$i}\n${o;}}@pop{i}}$o' &lt;&lt;&lt; $'Programming Puzzles\n&amp;\nCode Golf'
Programming Puzzles
         &amp;
     Code Golf
</code></pre>
</div>
<div id="pu23" class="pu"><h1>Emacs Lisp, 203 bytes</h1>

<pre><code>(let((f 0)(l 0))(dolist(s(split-string(buffer-string)"\n"))(set'l(string-width s))(when(&gt; l f)(set'f l)))(let((fill-column f))(goto-char(point-min))(while(&lt;(point)(point-max))(center-line)(next-line)))))
</code></pre>

<p>Ungolfed:</p>

<pre><code>(let ((f 0) (l 0))
  (dolist (s (split-string(buffer-string) "\n"))
    (set 'l (string-width s))
    (when (&gt; l f)
      (set 'f l)))
    (let ((fill-column f))
      (goto-char (point-min))
      (while (&lt; (point) (point-max))
        (center-line)
        (next-line)))))
</code></pre>

<p>Centered:</p>

<pre><code>               (let ((f 0) (l 0))
 (dolist (s (split-string(buffer-string) "\n"))
           (set 'l (string-width s))
                 (when (&gt; l f)
                  (set 'f l)))
             (let ((fill-column f))
            (goto-char (point-min))
         (while (&lt; (point) (point-max))
                 (center-line)
                (next-line)))))
</code></pre>
</div>
<div id="pu24" class="pu"><h1><a href="http://github.com/vihanb/TeaScript">TeaScript</a>, 24 bytes</h1>

<pre><code>£p.R((aßln)¯-ln)/2)+l,§)
</code></pre>

<p>Loops through lines, adds <code>floor((max line length - line length) / 2)</code> spaces to the beginning.</p>

<h2>Ungolfed</h2>

<pre><code>£   p.R((aß  ln)¯  -ln)/2)+l,§   )
xl(#p.R((am(#ln)X()-ln)/2)+l,`\n`)

xl(#    // Loops through newlines
    p.R(   // Repeats spaces
      (
       am(#ln)    // Map all line lengths
              X() // Get largest line length
       -ln)       // Subtract current line length
      /2)  // Divide by two
      +l,  // Add current line text
`\n`)
</code></pre>

<p><a href="http://vihanserver.tk/p/TeaScript/#?code=%22%C2%A3p.R((a%C3%9Fln)%C2%AF-ln)%2F2)%2Bl,%C2%A7)%22&amp;inputs=%5B%22Programming%20Puzzles%5Cn%26%5CnCode%20Golf%22%5D&amp;opts=%7B%22int%22:false,%22ar%22:false,%22debug%22:false,%22chars%22:false,%22html%22:false%7D">Try it online</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/Jolf">Jolf</a>, 3 bytes</h1>

<p><em>Noncompeting, update postdates question.</em></p>

<p><a href="http://conorobrien-foxx.github.io/Jolf/#code=cGNp&amp;input=UHJvZ3JhbW1pbmcgUHV6emxlcwomCkNvZGUgR29sZg">Try it here!</a>.</p>

<pre><code>pci
pc  center
  i  string input
</code></pre>

<p>¯\_(ツ)_/¯ I thought it'd be a useful function.</p>
</div>
<div id="pu26" class="pu"><h2>Mathematica, 96 bytes</h2>

<pre><code>StringRiffle[#~StringPadLeft~Floor[Max@(l=StringLength)@a/2+l@#/2]&amp;/@(a=#~StringSplit~"
"),"
"]&amp;
</code></pre>

<p>Don't ask me how it worked, I just fiddled with it until it produced the correct output.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/66731/">66731</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




