<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::141772</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>018</td><td>iogii</td><td>241101T154605Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/276454#276454">Darren S</a></td></tr>
<tr d-ix="1"><td>073</td><td>AWK</td><td>241101T164806Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/276455#276455">xrs</a></td></tr>
<tr d-ix="2"><td>017</td><td>Japt</td><td>170905T225102Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141786#141786">Shaggy</a></td></tr>
<tr d-ix="3"><td>050</td><td>JavaScript ES6</td><td>170905T223219Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141783#141783">Shaggy</a></td></tr>
<tr d-ix="4"><td>059</td><td>Haskell</td><td>170905T233411Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141792#141792">nimi</a></td></tr>
<tr d-ix="5"><td>053</td><td>Python 2</td><td>170905T221500Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141777#141777">totallyh</a></td></tr>
<tr d-ix="6"><td>058</td><td>Mathematica</td><td>170905T223111Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141782#141782">ZaMoC</a></td></tr>
<tr d-ix="7"><td>018</td><td>Pyth</td><td>170906T084846Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141831#141831">Jakube</a></td></tr>
<tr d-ix="8"><td>112</td><td>Clojure v1.8</td><td>170906T070721Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141825#141825">Chris</a></td></tr>
<tr d-ix="9"><td>098</td><td>Java 8</td><td>170906T075137Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141829#141829">Kevin Cr</a></td></tr>
<tr d-ix="10"><td>016</td><td>05AB1E</td><td>170906T062533Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141821#141821">Emigna</a></td></tr>
<tr d-ix="11"><td>013</td><td>Husk</td><td>170906T055929Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141820#141820">Zgarb</a></td></tr>
<tr d-ix="12"><td>022</td><td>Pyth</td><td>170906T052125Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141816#141816">Mr. Xcod</a></td></tr>
<tr d-ix="13"><td>034</td><td>Golfscript</td><td>170906T023914Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141805#141805">Josiah W</a></td></tr>
<tr d-ix="14"><td>nan</td><td>VB.NET .NET 4.5.2</td><td>170906T023035Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141804#141804">Brian J</a></td></tr>
<tr d-ix="15"><td>nan</td><td>Perl 5</td><td>170905T224137Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141784#141784">Xcali</a></td></tr>
<tr d-ix="16"><td>015</td><td>Jelly</td><td>170905T232417Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141790#141790">Jonathan</a></td></tr>
<tr d-ix="17"><td>017</td><td>Jelly</td><td>170905T231623Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141787#141787">miles</a></td></tr>
<tr d-ix="18"><td>4140</td><td>Perl 6</td><td>170905T222423Z</td><td><a href="https://codegolf.stackexchange.com/questions/141772/lets-converge-to-9/141779#141779">Ramillie</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://golfscript.com/iogii" rel="nofollow noreferrer">iogii</a> 18 bytes</h1>
<pre><code>i;2%$*\_$2/)if?wz{
</code></pre>
<p>(0 indexed)</p>
<p><a href="https://golfscript.com/iogii/onlineinterpreter.html?program=i%253B2%2525%2524*%255C_%25242%252F%29if%253Fwz%257B&amp;input=5&amp;eval=true" rel="nofollow noreferrer">Try it!</a></p>
<p>I don't really know how to explain it beyond saying what each character does and how the parse would look in something like Haskell:</p>
<pre><code>i iterate
; mdup (put orig value after putting function applied to value)
2
%
$ arg
*
\ digits
_ sum
$ arg
2
/
) inc
if
? isDebut?
w takeWhile
z last
{ whole numbers

last (takeWhile wholeNumbers (isDebut (iterate implicitInput (\i -&gt;
    if (i%2) then (i/2+1) else sum (digits (i*i)) end
))))
</code></pre>
<p>The <code>mdup</code> is used instead of <code>arg</code> again so that the end block of iterate can be implicit (first time stack size goes back to 1 is after the if).</p>
<p>Using <code>is debut</code> instead of <code>=9</code> saves a byte</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, 73 bytes</h1>
<pre><code>{for(j=$1;j!=9;++k){l=split(j%2?j^2:j/2+1,g,X);for(j=0;l;)j+=g[l--]}}$0=k
</code></pre>
<p>Zero index as it saves a few bytes.</p>
<pre><code>{for(j=$1;j!=9;++k){     # main loop until 9
l=split(                 # number into digits
j%2?j^2:j/2+1,g,X);      # maths, split into array g
for(j=0;l;)j+=g[l--]     # add digits together
}}$0=k                   # set output to iterations
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>22</s> <s>21</s> 17 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>-9©ÒßUg[U/2ÄU²ìx]
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=LTmp0t9VZ1tVLzLEVbLseF0&amp;input=NDIy" rel="nofollow noreferrer">Try it</a></p>
<pre><code>-9©ÒßUg[U/2ÄU²ìx]     :Implicit input of integer U
-9                    :Subtract 9
  ©                   :Logical AND with
   Ò                  :  Negate the bitwise NOT of
    ß                 :    Recursive call with argument
     Ug               :      Index U into (0-based &amp; modular)
       [              :        Array containing
        U/2Ä          :         1. U/2+1
            U²        :         2. U squared
              ì       :            To digit array
               x      :            Reduce by addition
                ]     :        End array
</code></pre>
</div>
<div id="pu3" class="pu"><h1>JavaScript (ES6), <s>59</s> 50 bytes</h1>
<p>0-indexed.</p>
<pre><code>f=n=&gt;n-9&amp;&amp;f(n%2?eval([...&quot;&quot;+n*n].join`+`):n/2+1)+1
</code></pre>
<hr />
<h2>Try it</h2>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>o.innerText=(
f=n=&gt;n-9&amp;&amp;f(n%2?eval([...""+n*n].join`+`):n/2+1)+1
)(i.value=5);oninput=_=&gt;o.innerText=f(+i.value)</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input id=i min=3 type=number&gt;&lt;pre id=o&gt;</code></pre>
</div>
</div>
</p>
<hr />
<h2>Explanation</h2>
<p>The first thing we do is calculate <code>n-9</code>. If <code>n==9</code> then that, obviously, gives <code>0</code> and things stop there. If <code>n!=9</code> then <code>n-9</code> will give a non-zero value which, being truthy, means we can continue on through the logical AND. We call the function again, passing a new <code>n</code> to it, calculated as follows:</p>
<pre><code>n%2?
</code></pre>
<p>If <code>n</code> modulo <code>2</code> is truthy - i.e., <code>n</code> is odd.</p>
<pre><code>[...&quot;&quot;+n*n]
</code></pre>
<p>Multiply <code>n</code> by itself, convert it to a string and destructure that string to an array of individual characters (digits).</p>
<pre><code> .join`+`
</code></pre>
<p>Rejoin the characters to a string using <code>+</code>, giving us a mathematical expression.</p>
<pre><code>eval(                   )
</code></pre>
<p>Evaluate that expression, giving us the sum of the digits of <code>n*n</code>.</p>
<pre><code>:n/2+1
</code></pre>
<p>If <code>n%2</code> is falsey (i.e., <code>n</code> is even) then we simply divide <code>n</code> by <code>2</code> and add <code>1</code>.</p>
<p>To the result of calling the function again, we then add <code>1</code>. So, using an initial input of <code>5</code>, the process goes as follows:</p>
<pre><code>f(5)
= -4&amp;&amp;f(7)+1
= -2&amp;&amp;(f(13)+1)+1
=  4&amp;&amp;((f(16)+1)+1)+1
=  7&amp;&amp;(((f(9)+1)+1)+1)+1
=     (((0+1)+1)+1)+1
= 4
</code></pre>
</div>
<div id="pu4" class="pu"><h2>Haskell, <s>62</s> 59 bytes</h2>

<pre><code>f 9=0
f a=1+f(cycle[div a 2+1,sum[read[d]|d&lt;-show$a^2]]!!a)
</code></pre>

<p><a href="https://tio.run/##y0gszk7Nyfn/P03B0taAK00h0dZQO00juTI5JzU6JbNMIVHBSNtQp7g0N7ooNTElOiW2JsVGtzgjv1wlMc4oNlZRMVHzf25iZp6CrUJKPpeCgkJBUWZeiYKKQpqCKSrXxOA/AA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>Edit: -3 bytes thanks to @Ørjan Johansen.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>129</s> <s>126</s> <s>76</s> <s>68</s> <s>67</s> <s>64</s> <s>54</s> 53 bytes</h1>

<p><em>-3 bytes thanks to Jonathan Frech. -8 bytes thanks to Maltysen. -7 bytes thanks to Jonathan Allan. -1 byte thanks to Mr. Xcoder.</em></p>



<pre class="lang-python prettyprint-override"><code>f=lambda n:n-9and-~f(n%2*sum(map(int,`n*n`))or 1+n/2)
</code></pre>

<p><a href="https://tio.run/##VVBBboMwELzzihFSFQimKeaUSOm1v6hi6gUcYEG2aZVLv04NqpJ2Tzuzs7OrmW6@HVkucRxHb@aTGIxXSIHJGvYYLSz52TJ8S3CD6ntyHjxyztQoHzYQdNSQRQc3f7RBqDxUwgJdijOOAl8tWbpTxkFTbZg0qtspQqht9LKq@YG7rAjMhh9cigMkMhQw9V9HCp/fpdur84Cx3lptGuPdin4X3iUSw6iUIxTh7H@rUesopLHU514NlVbgE@dHxTr/rhN@kvtgnQxqChZeXHjPlzQNMRUZH2S6bLElO@yer6PhTee8FVibWsAqbigpBcoyXWv5AQ" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>From somebody who probably doesn't know enough math, this seems completely arbitrary. :P</p>
</div>
<div id="pu6" class="pu"><h1>Mathematica, 58 bytes</h1>
<p>1-indexed</p>
<pre><code>If[#!=9,#0@If[OddQ@#,Total@IntegerDigits[#^2],#/2+1]+1,0]&amp;
</code></pre>
<p><a href="https://tio.run/##y00sychMLv6fZvvfMy1aWdHWUkfZwAHI9E9JCXRQ1gnJL0nMcfDMK0lNTy1yyUzPLCmOVo4zitVR1jfSNozVNtQxiFX7H1CUmVeioO@Qpu8QlJiXnhptrGNsEPv/PwA" rel="nofollow noreferrer" title="Mathics – Try It Online">Try it online!</a> (in order to work on Mathics, <code>Tr</code> is replaced with <code>Total</code>)<br />
<br>
here is -1 byte version <em>by @JungHwanMin</em> (but it doesn't work on mathics so I kept both)</p>
<h1>Mathematica, 57 bytes</h1>
<pre><code>If[#!=9,#0@If[2∣#,#/2+1,Total@IntegerDigits[#^2]]+1,0]&amp;
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Pyth, 18 bytes</h1>

<pre><code>tl.u?%N2sj*NNTh/N2
</code></pre>

<p>Try it online: <a href="http://pyth.herokuapp.com/?code=tl.u%3F%25N2sj%2aNNTh%2FN2&amp;input=5&amp;test_suite_input=3%0A4%0A5%0A6%0A7%0A8%0A9%0A10%0A11%0A12%0A13%0A14%0A15%0A16%0A17%0A18%0A19%0A20%0A21%0A22%0A23%0A24%0A25&amp;debug=0" rel="nofollow noreferrer">Demonstration</a></p>

<h3>Explanation:</h3>

<pre><code>tl.u?%N2sj*NNTh/N2
  .u                 apply the following function to the input, 
                     until it runs into a fixed point
    ?%N2                if value % 2 == 1:
          *NN               value * value
         j   T              convert to digits
        s                   sum
                        else:
               /N2          value / 2
              h              + 1
 l                   get the length of all visited values
t                     - 1
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://clojure.org/" rel="nofollow noreferrer">Clojure</a> v1.8, <s>124</s> <s>113</s> 112 bytes</h1>
<p>0-indexed</p>
<pre><code>(fn[n](loop[a n k 0](if(= a 9)k(recur(if(even? a)(+(/ a 2)1)(apply +(map #(-(int %)48)(str(* a a)))))(inc k)))))
</code></pre>
<p><a href="https://repl.it/languages/clojure" rel="nofollow noreferrer">Try it online!</a></p>
<h1>Explanation</h1>
<pre><code>(loop[a n k 0](if(= a 9)...))  Loop until a=9
(if(even? a)(+(/ a 2)1)...)    If even, a(n, k) / 2 + 1 if a(n, k)
(if(even? a)...(apply +(map #(-(int %)48)(str(* a a)))))  If odd, calculate the sum of digits of a(n, k)²
#(-(int %)48)                  Convert character to number
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Java 8, <s>110</s> 98 bytes</h1>

<pre class="lang-java prettyprint-override"><code>n-&gt;{int k=0,s;for(;n!=9;k++){s=0;for(int c:(n*n+&quot;&quot;).getBytes())s+=c-48;n=n%2&lt;1?n/2+1:s;}return k;}
</code></pre>
<p>0-indexed</p>
<p><strong>Explanation:</strong></p>
<p><a href="https://tio.run/##dU/BasMwDL33K7TCwJ6XLC0dbPW8we7rpcfRg@e6xU2qBEsplJBvz5ys14Ek0HtC772Tvdisbjye9uXgKksEXzZgNwMIyD4erPOwGdcJACfGiVInpE@dithycLABBAMDZu/deFKa4pH0oY5C45151aVSsiNTTND0aS3wAdV8LvOj588rexJSkjIuW71oNHi/fFt84NNSLdak@@i5jQil7gc9S6pN@1Ml1Zv4pQ57OCfjYssx4PF7B1b@ud5eif05r1vOm0RxhQJzJ57llOFfflXIW8h@@AU" rel="nofollow noreferrer">Try it here.</a></p>
<pre class="lang-java prettyprint-override"><code> n-&gt;             // Method with integer as both input and return-type
   int k=0,      //  Result-integer `k` starting at 0
       s;        //  Sum-integer
   for(;n!=9;    //  Loop (1) as long as `n` is not 9
        k++){    //    And increase `k` by 1 after every iteration
     s=0;        //   Reset sum `s` to 0
     for(int c:(n*n+&quot;&quot;).getBytes())
                 //   Do `n*n` and inner loop (2) over the digits as characters
       s+=c-48;  //    And increase the sum `s` with these digits
                 //   End of inner loop (2) (implicit / single-line body)
     n=n%2&lt;1?    //   If `n` is even:
        n/2+1    //    Change `n` to `n/2+1`
       :         //   Else:
        s;       //    Change `n` to sum `s`
  }              //  End of loop (1)
  return k;      //  Return the result `k`
}                // End of separated method (2)
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 16 bytes</h1>

<pre><code>[Ð9Q#Èi2÷&gt;ënSO]N
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f8/@vAEy0Dlwx2ZRoe32x1enRfsH@v3/7@JkREA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>[                  # start a loop
 Ð                 # triplicate current number
  9Q#              # if it equals 9, break
     Èi            # if even
       2÷&gt;         # divide by 2 and increment
          ë        # else
           n       # square
            SO     # sum digits
              ]    # end loop
               N   # push the iteration counter N
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="noreferrer">Husk</a>, 13 bytes</h1>

<pre><code>€9¡?o→½ȯΣd□¦2
</code></pre>

<p>This is 1-indexed. <a href="https://tio.run/##ASMA3P9odXNr///igqw5wqE/b@KGksK9yK/Oo2TilqHCpjL///80MA" rel="noreferrer" title="Husk – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<p>Nothing too fancy here.</p>

<pre><code>€9¡?o→½ȯΣd□¦2  Implicit input, say n = 5
  ¡            Iterate the following function:
   ?       ¦2   If divisible by 2,
    o→½         then halve and increment,
       ȯΣd□     else square, take digits and get their sum.
               This gives an infinite sequence: [5,7,13,16,9,9,9,9,9..
€9             1-based index of 9; print implicitly.
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, <s> 23 </s> 22 bytes</h1>
<p>For now, this is a recursive function <s>but I'll try to switch to <code>.W</code> (functional while) to save bytes instead</s>.</p>
<pre><code>L&amp;-b9hy|*%b2sj^b2Th/b2
</code></pre>
<p><strong><a href="https://pyth.herokuapp.com/?code=L%26-b9hy%7C%2a%25b2sj%5Eb2Th%2Fb2%3B%2B%225+-%3E+%22%60y5%2B%2240+-%3E+%22%60y40%3B&amp;input=%22Test%22%0A2&amp;test_suite=1&amp;debug=0" rel="nofollow noreferrer">Try it here!</a></strong> (with additional code to call the function - use <strong><code>y</code></strong><code>&lt;your_number&gt;</code> - without spaces)</p>
</div>
<div id="pu13" class="pu"><h1>Golfscript, 34 bytes</h1>
<p><a href="http://golfscript.apphb.com/?c=OyI0MCIKfns5LX17LjIley4qYHsrNDgtfSo0OC19ezIvKX1pZn0vLA%3D%3D" rel="nofollow noreferrer">Try it online!</a></p>
<p>I really need a better way than I have to add up the digits of a number.</p>
<pre><code>~{9-}{.2%{.*`{+48-}*48-}{2/)}if}/,
</code></pre>
</div>
<div id="pu14" class="pu"><h1>VB.NET (.NET 4.5.2), 107 + 20 (imports) = 117 bytes</h1>

<p>Requires <code>Imports System.Linq</code></p>

<pre><code>Function A(n)
While n&lt;&gt;9
n=If(n Mod 2=0,n/2+1,CStr(n^2).Sum(Function(c)Val(c)))
A+=1
End While
End Function
</code></pre>

<p>Function which takes <code>n</code> as an integer input and returns a 0-based <code>k</code>.</p>

<p>Ungolfed:</p>

<pre><code>Function A(n) ' input/output types are Object, but we will be casting to integer
    'A = 0 ' VB will create an implicit variable with the same name as the function

    ' loop until a(n, k) = 9
    ' using n as the variable to store a(n, k)
    While n &lt;&gt; 9

        n = If(n Mod 2 = 0, ' equivalent to c# ternary ?: operator

            n / 2 + 1, ' even case

            CStr(n ^ 2).Sum(Function(c) Val(c)))
            ' odd case
            ' cast number to string
            ' then convert each char to the number it represents
            ' and do a linq sum

        A += 1 ' Object + Integer will coerce to an integer
    End While

    ' Where's the return?
    ' That implicit variable with the matching name will get returned if there's no explicit return
End Function
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 56 + 1 (-n) = 57 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>$|++,$_=$_%2?eval$_**2=~s/./+$&amp;/gr:1+$_/2while$_-9;say$|
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/1@lRltbRyXeViVe1cg@tSwxRyVeS8vItq5YX09fW0VNP73IylBbJV7fqDwjMydVJV7X0ro4sVKl5v9/y3/5BSWZ@XnF/3V9TfUMDA3@6@YBAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>&nbsp;16&nbsp;</s> 15 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>

<p>-1 byte thanks to <a href="https://codegolf.stackexchange.com/users/6710/miles">miles</a> (use of ternary if)</p>

<pre><code>²DSµH‘µḂ?_9$Ð¿L
</code></pre>

<p>A monadic link taking and returning numbers.<br>
<strong>1-indexed</strong></p>

<p><strong><a href="https://tio.run/##ASUA2v9qZWxsef//wrJEU8K1SOKAmMK14biCP185JMOQwr9M////MTk0" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> or see a <a href="https://tio.run/##ATIAzf9qZWxsef//wrJEU8K1SOKAmMK14biCP185JMOQwr9M/zNyNDIyw4figqzigJlzMzBH/w" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a> (coerces results to be 0-indexed and formats like OP code-block)</p>

<h3>How?</h3>

<pre><code>²DSµH‘µḂ?_9$Ð¿L - Link: number, n
            Ð¿  - collect results in a list while:
           $    -   last two links as a monad:
         _9     -     subtract nine
        ?       -   if:
       Ḃ        -     bit - current loop input modulo by 2 (1 if odd, 0 if even)
   µ            -   ...then:
²               -     square the current loop input
 D              -     cast to a list of its decimal digits
  S             -     sum
      µ         -   ...else:
    H           -     halve current loop input
     ‘          -     increment
              L - length (get the number of results collected
                -         - this includes the 9, so is 1-indexed w.r.t. k)
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 17 bytes</h1>

<pre><code>²DSµH‘$Ḃ?ßµ-n9$?‘
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///QJpfgQ1s9HjXMUHm4o8n@8PxDW3XzLFXsgQL///83MQAA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>Straight-forward approach. Uses 0-based indexing.</p>

<h2>Explanation</h2>

<pre><code>²DSµH‘$Ḃ?ßµ-n9$?‘  Input: n
               ?   If
            n9$      n != 9
          µ        Then
        ?            If
       Ḃ               n % 2 == 1
   µ                 Then
²                      Square
 D                     Decimal digits
  S                    Sum
      $              Else
    H                  Halve
     ‘                 Increment
         ß           Call recursively
                   Else
           -         The constant -1
                ‘  Increment
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://perl6.org" rel="noreferrer">Perl 6</a>, 41 bytes (40 chars)</h1>



<pre class="lang-perl6 prettyprint-override"><code>{+($_,{$_%2??[+] $_².comb!!$_/2+1}...9)}
</code></pre>

<p><a href="https://tio.run/##K0gtyjH7n1upoJKmYKvwv1pbQyVep1olXtXI3j5aO1ZBJf7QJr3k/NwkRUWVeH0jbcNaPT09S83a/9ZcxYkgXRomBprW/wE" rel="noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>

<p>This uses 1-indexing of k's, so it gives 1 higher answers than the examples in OP. If this is not what the 1-indexing means, I'll have to add 1 byte more.</p>

<p><strong>Explanation</strong>: It's an anonymous function. We just use the Perl 6's facility for generating lists using recursion :—). It looks like this: <code>(first element),(block that takes the previous element and gives the next)...(end condition)</code>. In this case, the first element is <code>$_</code> (argument of the main function) and the end condition is <code>9</code> (fulfilled when we generate a 9). In the middle block, we use <code>$_</code> to refer to its argument ( = the previous element of the sequence). The <code>?? !!</code> is the old ternary operator (better known as <code>? :</code>). Finally, we take the length of this list by forcing numerical context by <code>+(...)</code>.</p>

<p>The last weird thing here is the sum of digits. Numbers are <code>Cool</code> (behave both like strings and numbers), so we use a string method <code>.comb</code> on <code>$_²</code> (give list of characters = digits), then adding the characters up (that converts them back to numbers).</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/141772/">141772</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




