<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::289</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td></td><td>250117T020000Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/277710#277710">RARE Kpo</a></td></tr>
<tr d-ix="1"><td>002</td><td>Thunno 2</td><td>230809T151634Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/263937#263937">The Thon</a></td></tr>
<tr d-ix="2"><td>004</td><td>ARBLE</td><td>230809T053249Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/263907#263907">ATaco</a></td></tr>
<tr d-ix="3"><td>005</td><td>floor</td><td>230808T095519Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/263877#263877">bsoelch</a></td></tr>
<tr d-ix="4"><td>082</td><td>MMIX</td><td>210429T183147Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/224688#224688">NoLonger</a></td></tr>
<tr d-ix="5"><td>031</td><td>Hexagony</td><td>210429T180035Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/224687#224687">Undersla</a></td></tr>
<tr d-ix="6"><td>015</td><td>Lua</td><td>210121T192933Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/217845#217845">Benrob03</a></td></tr>
<tr d-ix="7"><td>003</td><td>Vyxal</td><td>210416T043515Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/223635#223635">Wasif</a></td></tr>
<tr d-ix="8"><td>041</td><td>C</td><td>210121T140938Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/217834#217834">elechris</a></td></tr>
<tr d-ix="9"><td>002</td><td>05AB1E</td><td>200717T162741Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/207213#207213">Kevin Cr</a></td></tr>
<tr d-ix="10"><td>003</td><td>Pyth</td><td>210122T011103Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/217863#217863">Scott</a></td></tr>
<tr d-ix="11"><td>007</td><td>x8664 machine code</td><td>210121T174059Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/217842#217842">EasyasPi</a></td></tr>
<tr d-ix="12"><td>015</td><td>C gcc</td><td>210121T155316Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/217836#217836">EasyasPi</a></td></tr>
<tr d-ix="13"><td>015</td><td>Python 3</td><td>210121T135245Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/217833#217833">nTerior</a></td></tr>
<tr d-ix="14"><td>001</td><td>Jelly</td><td>210121T121655Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/217832#217832">caird co</a></td></tr>
<tr d-ix="15"><td>007</td><td>Excel</td><td>200720T230343Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/207338#207338">General </a></td></tr>
<tr d-ix="16"><td>006</td><td>Javascript</td><td>200714T174933Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/207110#207110">Maciej S</a></td></tr>
<tr d-ix="17"><td>039</td><td>Turing Machine Code</td><td>200714T211211Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/207113#207113">ouflak</a></td></tr>
<tr d-ix="18"><td>013</td><td>Python</td><td>150429T010742Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/49430#49430">mbomb007</a></td></tr>
<tr d-ix="19"><td>001</td><td>APL</td><td>160229T165949Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/74463#74463">Ad&#225;</a></td></tr>
<tr d-ix="20"><td>017</td><td>Julia</td><td>191116T231941Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/195981#195981">caseyk</a></td></tr>
<tr d-ix="21"><td>004</td><td>Keg</td><td>191116T101643Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/195954#195954">lyxal</a></td></tr>
<tr d-ix="22"><td>016</td><td>Wren</td><td>191116T091822Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/195952#195952">user8505</a></td></tr>
<tr d-ix="23"><td>008</td><td>AArch64 machine language Linux</td><td>170911T184131Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/142422#142422">ceilingc</a></td></tr>
<tr d-ix="24"><td>001</td><td>RProgN</td><td>170911T063415Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/142365#142365">ATaco</a></td></tr>
<tr d-ix="25"><td>011</td><td>x86_64 machine language Linux</td><td>170911T055208Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/142364#142364">ceilingc</a></td></tr>
<tr d-ix="26"><td>019</td><td>Java 8</td><td>170903T192135Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/141492#141492">Jakob</a></td></tr>
<tr d-ix="27"><td>004</td><td>RProgN 2</td><td>170904T035254Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/141513#141513">ATaco</a></td></tr>
<tr d-ix="28"><td>022</td><td>Perl 5</td><td>151227T070321Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/67838#67838">Codefun6</a></td></tr>
<tr d-ix="29"><td>013</td><td>Mouse2002</td><td>151226T200814Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/67799#67799">cat</a></td></tr>
<tr d-ix="30"><td>005</td><td>MATL</td><td>151226T112214Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/67753#67753">Luis Men</a></td></tr>
<tr d-ix="31"><td>080</td><td>C</td><td>110314T154305Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/1617#1617">Hannesh</a></td></tr>
<tr d-ix="32"><td>037</td><td>PHP</td><td>110131T215211Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/302#302">Kevin Br</a></td></tr>
<tr d-ix="33"><td>056</td><td>C#</td><td>110131T173707Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/294#294">Nellius</a></td></tr>
<tr d-ix="34"><td>023</td><td>Perl</td><td>110204T032029Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/461#461">Kent Fre</a></td></tr>
<tr d-ix="35"><td>032</td><td>JavaScript</td><td>110201T174235Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/338#338">Kevin Br</a></td></tr>
<tr d-ix="36"><td>007</td><td>J</td><td>150428T145806Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/49402#49402">Eelvex</a></td></tr>
<tr d-ix="37"><td>020</td><td>Python</td><td>110315T023223Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/1628#1628">dan04</a></td></tr>
<tr d-ix="38"><td>nan</td><td></td><td>110314T160156Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/1618#1618">Michael </a></td></tr>
<tr d-ix="39"><td>010</td><td>PARI/GP</td><td>110131T170632Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/292#292">Eelvex</a></td></tr>
<tr d-ix="40"><td>081</td><td>Python</td><td>110204T012818Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/458#458">l0nwlf</a></td></tr>
<tr d-ix="41"><td>nan</td><td></td><td>110201T201354Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/348#348">Alexandr</a></td></tr>
<tr d-ix="42"><td>015</td><td>DC</td><td>110201T134631Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/336#336">Hiato</a></td></tr>
<tr d-ix="43"><td>026</td><td>LISP</td><td>110131T180010Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/295#295">Eelvex</a></td></tr>
<tr d-ix="44"><td>051</td><td>C</td><td>110131T171831Z</td><td><a href="https://codegolf.stackexchange.com/questions/289/shortest-floor-function/293#293">Eelvex</a></td></tr>
</table>
<div id="pu0" class="pu"><h2>awk</h2>
<p>It works by recognizing <code>int()</code> truncation has same effect as <code>ceil()</code> for negative operands, so it subtracts out the boolean outcome from its integral value.</p>
<pre><code>jot - -3.25 3.25 0.25 |

awk 'function __(_) { return -(+_&lt;(_=int(_)))+_ }'
</code></pre>
<hr />
<pre><code>-3.25 -4  -1.00 -1    1.25 1
-3.00 -3  -0.75 -1    1.50 1
-2.75 -3  -0.50 -1    1.75 1
-2.50 -3  -0.25 -1    2.00 2
-2.25 -3   0.00  0    2.25 2
-2.00 -2   0.25  0    2.50 2
-1.75 -2   0.50  0    2.75 2
-1.50 -2   0.75  0    3.00 3
-1.25 -2   1.00  1    3.25 3
</code></pre>
<p>The function is the most portable possible because it makes no assumption of data representation structure of the input, nor is it dependent on language-specific division-approaches (e.g. floored-division). In fact, bitwise ops and div(<code>/</code>)-mod(<code>%</code>) ops are totally overkill for this task.</p>
<blockquote>
</blockquote>
<p>ps : Not that skipping the <code>int()</code> function call saves that much :</p>
<pre><code>awk 'function __(_) { return -(+_&lt;(_=int(_)))+_ }'
</code></pre>
<hr />
<pre><code>awk 'function __(_) { return -(+_&lt;(_-=_%1))+_ }'
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 2 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>1÷
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPTElQzMlQjcmZm9vdGVyPSZpbnB1dD0tMS4yMyZmbGFncz0=" rel="nofollow noreferrer">Try it online!</a></p>
<p>Floor divide by one.</p>
<p>Funnily enough, Thunno 2 doesn't have a proper floor built-in. For positive numbers, you can use <code>N</code> (truncate), but that doesn't work for negative numbers.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/TehFlaminTaco/ARBLE" rel="nofollow noreferrer">ARBLE</a>, 4 bytes</h1>

<pre class="lang-lua prettyprint-override"><code>n//1
</code></pre>
<p><a href="https://tio.run/##SyxKykn9/z9PX9/w////RnrmAA" rel="nofollow noreferrer" title="ARBLE – Try It Online">Try it online!</a></p>
<p>Outputs with a leading <code>.0</code>. If this is forbidden, then...</p>
<h1><a href="https://github.com/TehFlaminTaco/ARBLE" rel="nofollow noreferrer">ARBLE</a>, 5 bytes</h1>
<pre class="lang-lua prettyprint-override"><code>floor
</code></pre>
<p><a href="https://tio.run/##SyxKykn9/z8tJz@/6P///0Z65gA" rel="nofollow noreferrer" title="ARBLE – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://esolangs.org/wiki/Floor" rel="nofollow noreferrer">floor</a>, 5 bytes</h1>
<p><code>floor</code></p>
<p>The floor function is a (the only) built-in.</p>
<h2>Full program (17 bytes):</h2>
<p>Floor only accepts integers as program Input, so the program uses two inputs to generate a rational number to be passed to the floor function</p>
<p><code>f:x y-&gt;floor(x/y)</code></p>
<p><a href="https://github.com/bsoelch/floorLang" rel="nofollow noreferrer">implementation</a></p>
</div>
<div id="pu4" class="pu"><h1>MMIX, 8 bytes (2 instrs)</h1>
<pre><code>05000300 F8010000
</code></pre>
<p><strong>Disassembly</strong></p>
<pre><code>    FIX $0,ROUND_DOWN,$0
    POP 1,0
</code></pre>
<p>MMIX has a builtin instruction for this. You can specify the rounding mode if you like, but you can use the default. (Options are towards 0, towards <span class="math-container">\$-\infty\$</span>, towards <span class="math-container">\$\infty\$</span>, or to nearest half to even.)</p>
<p>Honestly, I'd advise using a <code>FIX</code> directly, as opposed to calling.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/m-ender/hexagony" rel="nofollow noreferrer">Hexagony</a>, 31 bytes</h1>
<pre><code>,{.4{?&lt;.(@!?\&quot;!3'-&lt;_&quot;.$&gt;@&gt;?~..@
</code></pre>
<pre><code>    , { . 4
   { ? &lt; . (
  @ ! ? \ &quot; !
 3 ' - &lt; _ &quot; .
  $ &gt; @ &gt; ? ~
   . . @ . .
    . . . .
</code></pre>
<p><a href="https://tio.run/##y0itSEzPz6v8/1@nWs@k2t5GT8NB0T5GSdFYXdcmXklPxc7Bzr5OT8/h/39tEz1zMyMA" rel="nofollow noreferrer" title="Hexagony – Try It Online">Try it online!</a> or <a href="https://hexagony.net/#lzN4Igxg9gJgpiBcIA0wB0AWYB+APKgFAAICEWAOhSMQMwDkAtDgPpkioAkAfIZ1gH6pUhZCACWAOwAOAVwAuCEPQAMqAIwiJM2QFlocRAEMATgHMQAXyA" rel="nofollow noreferrer">Try it online differently!</a></p>
<p>Takes input of the form <code>+/-a.b</code>, ex: <code>+4.5</code> or <code>-0.1</code> or <code>+3.</code> Since hexagony doesn't have built in decimal types, the input must contain a <code>+</code> if positive in order to not cut off the first digit of the number. This answer can definitely be improved, but its a start.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.lua.org/" rel="nofollow noreferrer">Lua</a>, <strike>27</strike> <strike>25</strike> <strike>18</strike> 15 bytes</h1>

<pre class="lang-lua prettyprint-override"><code>print(...//1|0)
</code></pre>
<p><a href="https://tio.run/##yylN/P@/oCgzr0RDT09PX9@wxkDz////usZ6hiaGppYA" rel="nofollow noreferrer" title="Lua – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p><code>...</code> variable-argument operator, returns the remaining arguments passed to the current function (top-level code block with all the program arguments in this case).</p>
<p><code>//1</code> floor divides by 1.</p>
<p><code>|0</code> bitwise OR, we use this to convert to an int.</p>
</div>
<div id="pu7" class="pu"><h1>Vyxal, 3 bytes</h1>
<pre><code>1%-
</code></pre>
<p>Push input, modulo with 1 and negate!</p>
<p><a href="http://lyxal.pythonanywhere.com?flags=&amp;code=1%25-&amp;inputs=100.435&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it!</a></p>
<h1>Vyxal, 1 byte</h1>
<pre><code>⌊
</code></pre>
<p>Though a builtin.....</p>
<p><a href="http://lyxal.pythonanywhere.com?flags=&amp;code=%E2%8C%8A&amp;inputs=100.435&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it!</a></p>
</div>
<div id="pu8" class="pu"><h1>C, <s>42</s> 41 bytes</h1>

<pre class="lang-c prettyprint-override"><code>int F(float x){int i=x;return i&lt;=x?i:i-1;}
</code></pre>
<p><a href="https://tio.run/##S9ZNT07@r5yZl5xTmpKqYFNckpKZr5dh9z8zr0TBTSMtJz@xRKFCsxrEzbStsC5KLSktylPItLGtsM@0ytQ1tK4FK81NzMzT0FSo5uIsKALy0zSUVFNi8pR0gGaY6plqalojS4CFdaHitf8B" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<pre class="lang-c prettyprint-override"><code>int F(float x){int i=x;return x&gt;i?i:i-1;}
</code></pre>
<p><a href="https://tio.run/##S9ZNT07@r5yZl5xTmpKqYFNckpKZr5dh9z8zr0TBTSMtJz@xRKFCsxrEzbStsC5KLSktylPItLGtsM@0ytQ1tK4FK81NzMzT0FSo5uIsKALy0zSUVFNi8pR0gGaY6plqalojS4CFdaHitf8B" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 2 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Oï
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/f//D6//91TfSMAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W9q4KJxdEeIflmlvZLCo7ZJCkr2lYeW//c/vP6/zn8A" rel="nofollow noreferrer">verify all values in the range <span class="math-container">\$[5,-5]\$</span> in <span class="math-container">\$0.1\$</span> increments</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>O   # Sum the stack, which will use the (implicit) input-string if the stack is empty
    # (the input is read as string by default, so this `O` basically casts it to a float)
 ï  # Floor this input-float
    # (and output the resulting integer implicitly)
</code></pre>
<p>Although it may look pretty straight-forward, there are actually some things to note:</p>
<p>In the legacy version of 05AB1E, which was built in Python. The <code>ï</code> builtin would translate to the following code snippets:</p>
<pre class="lang-python prettyprint-override"><code># Pop number
a = str(number)         # Cast number to a string
a = ast.literal_eval(a) # Evaluate this string as Python structure (so it goes back to a float)
a = int(a)              # Cast this float to an integer (which will truncate)
</code></pre>
<p>So whether you had string input or decimal input, it would cast it to a string during the code execution anyway, before casting it to an integer to truncate all decimal values.</p>
<p><a href="https://tio.run/##MzBNTDJM/W9orfH/8Pr//wE" rel="nofollow noreferrer">Try it online with <code>-0.5</code> as decimal argument.</a><br />
<a href="https://tio.run/##MzBNTDJM/a@ka6BnqvT/8Pr//wE" rel="nofollow noreferrer">Try it online with <code>&quot;-0.5&quot;</code> as string argument.</a></p>
<p>The new version of 05AB1E is built in Elixir however. Now, the <code>ï</code> builtin translates to the following code snippets (huge parts removed to only keep the relevant stuff):</p>
<pre class="lang-python prettyprint-override"><code>call_unary(fn x -&gt; to_integer(x) end, a)      # Call the function `to_integer`, which will:
                                              # (I've only kept relevant parts of this function)
 is_float(value) -&gt; round(Float.floor(value)) #  If it's a float: floor it down
 true -&gt;                                      #  Else (it's a string):
     case Integer.parse(to_string(value)) do  #   Parse it from string to integer
        :error -&gt; value                       #   If this resulted in an error: return as is
        {int, string} -&gt;
            cond do                           #   Else it was parsed without errors:
                Regex.match?(~r/^\.\d+$/, string) -&gt; int
                                              #    If it contains no decimal values:
                                              #      Return parsed int
                true -&gt; value                 #    Else: return as is
</code></pre>
<p>Or as a TL;DR: float inputs are floored; string inputs are truncated.</p>
<p><a href="https://tio.run/##yy9OTMpM/W9orfH/8Pr//wE" rel="nofollow noreferrer">Try it online with <code>-0.5</code> as decimal argument.</a><br />
<a href="https://tio.run/##yy9OTMpM/a@ka6BnqvT/8Pr//wE" rel="nofollow noreferrer">Try it online with <code>&quot;-0.5&quot;</code> as string argument.</a></p>
<p>As you can see, a string input gives the incorrect floored result for negative decimals. Unfortunately, the default (implicit) input from STDIN is always a string, so we'll have to convert it to a float first (for which I've used <code>O</code> - which only works on an empty stack in the new 05AB1E version built in Elixir; for the legacy 05AB1E version built in Python, the sum would result in <code>0</code> for an empty stack).</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 3 bytes</h1>
<pre><code>/Q1
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/Xz/Q8P9/XWM9UwA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1>x86-64 machine code, 7 bytes</h1>
<p>Machine code:</p>
<pre class="lang-none prettyprint-override"><code>00000000: 66 0f 3a 0b c0 01 c3                             f.:....
</code></pre>

<p>Assembly:</p>
<pre class="lang-cpp prettyprint-override"><code>        .intel_syntax noprefix
        .globl floor_sse4
floor_sse4:
        roundsd xmm0, xmm0, 1
        ret
</code></pre>
<p><a href="https://tio.run/##VZFda4MwFIbv8yuCo5CCBm3L1n3ejF0PuttBsCaxgXxIEotj7K/PRRurkyDJOW@e97xaNU1WV1V/I3QlW8rgk1BKaG@FxqcXAFjnmdUweU0gIarY7Cnk0hhLnGM7NJW69SMAhJROEYIOydv7BwIwPjjQmCTuS/uyg9o0lnHRze1amqNcQMG8fegnlTWtpi4YKZWn8V1cGZb5qxKX3k9m0Wod5kmGCeeQzlNhhoBzSZX@NEY@G0GhZ84jatqjZJCvwffodY0LnyFRijgWrCjigb1sW@Za6YNm8aW6qIlIepg0A6c6e0cJv92hy9WobcJP8BwlKw5XdVifOkkhTy/Y4JpOmKD/ASCIoSqFRtO4Y4YC5xE3HrMtLjbLwj2@@9cPCbZ4vyz9v5/jvBj9@t@Ky7J2fSZVn6khJS7@AA" rel="nofollow noreferrer" title="C++ (gcc) – Try It Online">Try it online!</a></p>
<p>Accepts a <code>double</code> in an <code>xmm0</code>.</p>
<p>Returns the floored <code>double</code> in <code>xmm0</code>.</p>
<p>Outgolfs the previous answer without cheesing with fixed point.</p>
<ul>
<li>Nowhere did it say the return type had to be an <code>int</code>, just an <em>integer</em>. Therefore, I can just skip the conversion code, storing the integer as a <code>double</code>. JavaScript has been doing it for decades.</li>
<li>This one only requires SSE4.1. 😏</li>
</ul>
<p>Yes, I know the SSE conversion functions are a little redundant in the test code.</p>
<h1>x86-64 machine code, fixed point joke, 1 byte</h1>
<p>Machine code:</p>
<pre class="lang-none prettyprint-override"><code>00000000: c3                                               .
</code></pre>
<p>Assembly:</p>
<pre class="lang-c prettyprint-override"><code>        .intel_syntax noprefix
        .globl floor_fixed
floor_fixed:
        ret
</code></pre>
<p><a href="https://tio.run/##dVHLTsMwELz7K1ZBlRyUWm0Rr4K4ILgiwRUpcv1ILDl2ZLslCPHrBKdp2gDFl/XueGd2x6yupwVjrWiCcAaS@wS8KozgwErqQGprXS5VI3j@5mhdC4d9aV2AJr1BKM@pr/IcPycPTy8Ywe4QZYLQuX83gTZgbO1EpDjAhbYrPeZGo/uyHd45Edr/e4Z50JHacq/VsLLooqBNBoKrPcCo1l0cTzFgld34ZmiiJRoNdFiChjBsuNsvjSYknS0nyjC95gJufeDKkvJuVKpoKLsK6n0M9rHTxtyuV1qATNEH2mmt44f0bqdYwikszi9IpP9EaGMVhyB8@NNWu@i9xMlEwqSACX81SQYy69fEMs2OfukwhEzTXiCSQEWVwQPvVmxOZhHep9MzMl@MC9fk8hd@Nc5/Ns/IbL4Va7@Y1LTw7VRX3w" rel="nofollow noreferrer">Try it online!</a></p>
<p>This function takes a 16-bit fixed8 in <code>ax</code> and returns a signed 8-bit integer in <code>ah</code>. It is not sign extended.</p>
<p>Nobody gave any specifics about precision 😂</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>16</s> 15 bytes</h1>

<pre class="lang-c prettyprint-override"><code>g;f(d){g=d&gt;&gt;9;}
</code></pre>
<p><a href="https://tio.run/##VU7LbsIwELz7K1ZUkdYVsWI4lChpjnxFL6lfWHLsKnEqJMSvYwwiLexpdnYeK0ojREqm0SjpyXzKrqubc3qzXrhZKminKG1gh478U0MfDzfG@ggx7O1RSZRh/nYKNCUnAnlGFefRA2YNRQ3v8FBQ5G1bU9qQMyG/wUqIaoqL3Sz2nzEbNa4KDYVZQyG//GoNGWkXwoiGZoRLt6GPvNtDQ289LjH3bM6qfP5byy3jm2eiZh8vd77ZbdnumXr1V6zi9750Edr1ZkqlG64" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<blockquote>
<p>Such number systems include <strong>fixed-point numbers</strong>, floating point numbers and strings.</p>
</blockquote>
<p>I don't know why people insist on using floats... Fixed point is much easier 🙂</p>
<p>Uses 32-bit fixed9 precision. Abuses arithmetic shift right. Return hack, not much else to say.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 15 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda n:n//1
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/7/P802JzE3KSVRIc8qT1/f8H9BUWZeiUaahoGegYGBoaYmF0zAVM8UiWeMxNbFUKuLqlgXqPo/AA" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 1 byte</h1>
<pre><code>Ḟ
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///hjnn/D7c/alpzdNLDnTP@/zfVM9FR0AWSAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>or a non-builtin answer</p>
<pre><code>%1_@
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/1/VMN7h/@H2R01rjk56uHPG//@meiY6CrpAEgA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<h2>How the second one works</h2>
<pre><code>%1_@ - Main link. Takes n on the left
%1   - Fractional part of n
  _@ - n - frac(n)
</code></pre>
</div>
<div id="pu15" class="pu"><h1>Excel, 7</h1>
<p>Tested in Excel Online. Closing parens not counted toward score.</p>
<p>The only reason I posted this is because, oddly enough, it seems to work the exact same as <code>FLOOR.MATH()</code> with 1 argument.</p>
<pre><code>=INT(A1)
</code></pre>
<p>Semantically, at least to me, it would make sense if this didn't work for negative numbers. However, <code>INT(-.5)</code> is <code>-1</code> for some reason. <code>TRUNC()</code> does what I think <code>INT()</code> should do.</p>
</div>
<div id="pu16" class="pu"><h2>Javascript - 6 bytes</h2>
<p>Usage of the arrow function declaration (as an anonymous function here) and a bitwise &quot;AND&quot; operator</p>
<pre><code>x=&gt;x&amp;x
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/f8/zbbC1q5CrYIrOT@vOD8nVS8nP10jwVTPVCEpNTk/N7VYQaU6TQPI16zVUdBFF9cFSyRo/v8PAA" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>or alternatively using the bitwise &quot;OR&quot; operator:</p>
<pre><code>x=&gt;x|0
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/f8/zbbC1q6ixoArOT@vOD8nVS8nP10jwVTPVCEpNTk/N7VYQaU6TQPI16zVUdBFF9cFSyRo/v8PAA" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="http://morphett.info/turing/turing.html" rel="nofollow noreferrer">Turing Machine Code</a>, 39 bytes</h1>
<pre><code>0 * * r 0
0 _ _ l 1
1 * _ l 1
1 . _ l 2
</code></pre>
<p><a href="http://morphett.info/turing/turing.html?52b4094ddbcf7fe982b16d9a1de81ead" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1>Python, 13</h1>

<p>If the OP wants all functions to be non-anonymous, add <code>f=</code> to the front of each for two additional characters.</p>
<pre class="lang-python prettyprint-override"><code>lambda x:x//1
</code></pre>
<p>Since <code>x%1</code> returns the amount following the decimal point, this is pretty short (14):</p>
<pre class="lang-python prettyprint-override"><code>lambda x:x-x%1
</code></pre>
<p>The shortest using string casting I could come up with (40):</p>
<pre class="lang-python prettyprint-override"><code>lambda x:int(`x`.split('.')[0])+cmp(x,0)
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://aplwiki.com" rel="nofollow noreferrer">APL</a>, 1 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">byte</a> (<a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer" title=".dyalog files using a single byte character set">SBCS</a>)</h1>
<p>According to the updated rules, built-ins are allowed:</p>
<pre><code>⌊
</code></pre>
<h1><a href="https://github.com/dzaima/APL" rel="nofollow noreferrer">APL (dzaima/APL)</a>, <s>5</s> 4 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">bytes</a></h1>

<p>Anonymous tacit prefix function abiding by the old prohibition on built-ins:</p>
<pre class="lang-apl prettyprint-override"><code>⊢-1|
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pSszMTfyf9qhtgsb/R12LdA1r/mv@T1Mw1jM04UpTMADiQ@tBnH/5BSWZ@XnF/3WLAQ" rel="nofollow noreferrer" title="APL (dzaima/APL) – Try It Online">Try it online!</a></p>
<p><code>⊢</code> the argument</p>
<p><code>-</code> minus</p>
<p><code>1|</code> the division remainder when divided by 1</p>
</div>
<div id="pu20" class="pu"><h1>Julia, 17 bytes</h1>

<pre><code>f(x)=x-x%1-(x&lt;0)
</code></pre>

<p>port of the PARI/GP answer</p>

<pre><code>f(-pi) = -4
f(pi) = 3
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/JonoCode9374/Keg" rel="nofollow noreferrer">Keg</a>, <s>6</s> <s>5</s> 4 bytes</h1>

<pre><code>:1%-
</code></pre>

<p><a href="https://tio.run/##y05N///fylBV9/9/Uz1zAA" rel="nofollow noreferrer" title="Keg – Try It Online">Try it online!</a></p>

<p><sup> Look ma, no unicode! </sup></p>

<p>A port of the RProgN2 answer</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/munificent/wren" rel="nofollow noreferrer">Wren</a>, 16 bytes</h1>

<p>Exactly ported from the <a href="https://codegolf.stackexchange.com/a/292/85052">PARI/GP answer</a>.</p>

<pre><code>Fn.new{|x|x-x%1}
</code></pre>

<p><a href="https://tio.run/##Ky9KzftfllikkJaTn1@kYKvw3y1PLy@1vLqmoqZCt0LVsPZ/cGVxSWquXnlRZkmqBliZXnJiTo6GrrGeiaYmF4o0SEwPrEbzPwA" rel="nofollow noreferrer" title="Wren – Try It Online">Try it online!</a></p>

<h1><a href="https://github.com/munificent/wren" rel="nofollow noreferrer">Wren</a>, 26 bytes</h1>

<p>Ported from the <a href="https://codegolf.stackexchange.com/a/195954/85052">Keg answer</a>.</p>

<pre><code>Fn.new{|x|x.split(".")[0]}
</code></pre>

<p><a href="https://tio.run/##Ky9KzftfllikkJaTn1@kYKvw3y1PLy@1vLqmoqZCr7ggJ7NEQ0lPSTPaILb2f3BlcUlqrl55UWZJqgZYg15yYk6OhpKusZ6JkqYmF4oCkKAeWJXmfwA" rel="nofollow noreferrer" title="Wren – Try It Online">Try it online!</a></p>
</div>
<div id="pu23" class="pu"><h1>AArch64 machine language (Linux), 8 bytes</h1>

<pre><code>0: 1e700000 fcvtms w0, d0
4: d65f03c0 ret
</code></pre>

<p>To try it out, compile and run the following C program</p>

<pre><code>#include&lt;stdio.h&gt;
#include&lt;math.h&gt;
int f(double x){return floor(x);}
const char g[]="\x00\x00\x70\x1e\xc0\x03\x5f\xd6";

int main(){
  for( double d = -1.5; d &lt; 1.5; d+=.2 ) {
    printf( "%f %d %d\n", d, f(d), ((int(*)(double))g)(d) );
  }
}
</code></pre>
</div>
<div id="pu24" class="pu"><h1><a href="https://github.com/TehFlaminTaco/Reverse-Programmer-Notation" rel="nofollow noreferrer">RProgN</a>, 1 byte</h1>

<pre><code>_
</code></pre>

<p>A builtin, thanks to the new challenge spec.</p>

<p><a href="https://tio.run/##Kyooyk/P@/8//v///4bGekaGxgA" rel="nofollow noreferrer" title="RProgN – Try It Online">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1>x86_64 machine language (Linux), 11 bytes</h1>

<pre><code>0:       c4 e3 79 0b c0 01       vroundsd $0x1,%xmm0,%xmm0,%xmm0
6:       f2 0f 2c c0             cvttsd2si %xmm0,%eax
a:       c3                      retq
</code></pre>

<p>This requires a processor with AVX instructions.</p>

<p>To <a href="https://tio.run/##PU7RasMwDHz3V4iMgr0moU07ykizH5n3kMpxEnDs4ThgKPn1ecpaBgKdTjrdYdEjpvQyWjSL6q5zUKMrhw/2z0xtGDZitAE0V265mQ6iuPsuLN6CNs55HkW9MnR2DoBD66H//GoyGfEsY3eS8fIu4@FG84H6UUZdUdcyVvjg8JTV7M9hakfLxZ0BaHoLTzsFDRTH8q0mdIUH2DdlBQK2U4BvT2LNIdtp2CkqabMcVL4lFjlwTmv@Kp7xhegJChA1iVe2spR@UJu2n1Nhpl8" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a>, compile and run the following C program.</p>



<pre class="lang-c prettyprint-override"><code>#include&lt;stdio.h&gt;
#include&lt;math.h&gt;
int f(double x){return floor(x);}
const char g[]="\xc4\xe3\x79\x0b\xc0\x01\xf2\x0f\x2c\xc0\xc3";

int main(){
  for( double d = -1.5; d &lt; 1.5; d+=.2 ) {
    printf( "%f %d %d\n", d, f(d), ((int(*)(double))g)(d) );
  }
}

</code></pre>
</div>
<div id="pu26" class="pu"><h1>Java 8, 19 bytes</h1>



<p>Lambda from <code>double</code> to <code>int</code>. There are plenty of choices for types to assign to: <code>Function&lt;Double, Integer&gt;</code>, <code>DoubleFunction&lt;Integer&gt;</code>, or <code>DoubleToIntFunction</code>.</p>

<pre class="lang-java prettyprint-override"><code>n-&gt;(int)(n&lt;0?n-1:n)
</code></pre>

<p><a href="https://tio.run/##NY9NS8NAEIbPya8YCoVdSIZW/IC2KoIIHjzVm3hYs0nZdDMbspNIKfntcTQV5jIf7/O@U5vB5KEtqbbHqe2/vCug8CZGeDOO4JwmbecGwyVENizLypHxUIsMe3Yeq54KdoHwOYi6fA@vxC@XGVQ@hA7uJ8oflCPWinarR8rXG9JTsk0FPjte2ENwFhrxVXvuHB0@PsF0h6h/YySVkJT9MwELG6DyG@ZWzs63eJdBfo1XGdzgapwlyf4UuWww9IzyBrH/J6PQGsNqscR1JbClXWRgszkwmrb1p6conyirtd4KakylxukH" rel="nofollow noreferrer">Try It Online</a></p>
</div>
<div id="pu27" class="pu"><h1><a href="https://github.com/TehFlaminTaco/RProgN-2" rel="nofollow noreferrer">RProgN 2</a>, 4 bytes</h1>

<pre><code>]1%-
</code></pre>

<h2>Explained</h2>

<pre><code>]1%-
]   # Duplicate the implicit input
 1% # Modulo 1
   -# Subtract Modulo 1 of the input from the input, inplicitly outputting the floor'd result.
</code></pre>

<p><a href="https://tio.run/##Kyooyk/P0zX6/z/WUFX3////xnqGRqYA" rel="nofollow noreferrer" title="RProgN 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu28" class="pu"><h1>Perl 5, 22 bytes</h1>
<pre><code>s/\..+//&amp;&amp;$_&lt;0?$_--:$_
</code></pre>
<p>This is larger than my first answer, which merely truncated the number - so, for negative numbers, it wasn't correct. This was due to a misunderstanding on my part of what a floor function does.</p>
</div>
<div id="pu29" class="pu"><h1><a href="https://github.com/catb0t/mouse15" rel="nofollow noreferrer">Mouse-2002</a>, 13 bytes</h1>
<p>Second place, ahh! (And this is a full program, not a function definition)</p>
<pre><code>?&amp;DUP &amp;FRAC -
</code></pre>
<p>Take the fractional bit of the input and subtract it from the input.</p>
</div>
<div id="pu30" class="pu"><h1><a href="https://esolangs.org/wiki/MATL" rel="nofollow">MATL</a>, 5 bytes</h1>

<p><em>The programming language used in this answer was created after the challenge was posted.</em></p>

<pre><code>it1\-
</code></pre>

<h3>Examples</h3>

<pre><code>&gt;&gt; matl it1\-
&gt; 5.6
5

&gt;&gt; matl it1\-
&gt; -5.2
-6
</code></pre>

<h3>Explanation</h3>

<p>Pretty straightforward. It uses a <a href="https://en.wikipedia.org/wiki/Modulo_operation" rel="nofollow">modulo operation</a> with divisor <code>1</code>.</p>

<pre><code>i      % input                                                              
t      % duplicate                                                          
1      % number literal                                                     
\      % modulus after division
-      % subtraction
</code></pre>
</div>
<div id="pu31" class="pu"><h2>C (80)</h2>

<p>Well it's not the shortest, but it's a great opportunity to show off my bit twiddling skills :D.</p>

<pre class="lang-c prettyprint-override"><code>main(){int I,X=0x7FFFFF;scanf("%f",&amp;I);printf("%d",((I&amp;X)|X+1)&gt;&gt;-(I&gt;&gt;23)+150);}
</code></pre>
</div>
<div id="pu32" class="pu"><h2>PHP, <s>51</s> <s>45</s> <s>43</s> 37 characters</h2>

<pre class="lang-php prettyprint-override"><code>function f($n){return~~$n-(~~$n&gt;$n);}
</code></pre>

<p>This should be able to be applied to most languages that do not support the <code>n%1</code> trick.</p>
</div>
<div id="pu33" class="pu"><p><strong>C# (56 chars):</strong></p>

<p>My quick and naive answer earlier had a stupid logical flaw in it. Two approaches here, which I believe are both the same length. Double approach relies on the fact that casting to int removes the decimal part of a double.</p>



<pre class="lang-csharp prettyprint-override"><code>int F(double d){return(int)(d%1==0?d:(int)d-(d&lt;0?1:0));}
</code></pre>

<p>Decimal approach relies on the fact that d%1 returns the decimal part of the number for decimal data type.</p>

<pre class="lang-csharp prettyprint-override"><code>int F(decimal d){return(int)(d%1==0?d:d-d%1-(d&lt;0?1:0));}
</code></pre>

<p>Could save a few characters in both cases by returning their own type instead of int, but I feel a floor function should return an int.</p>
</div>
<div id="pu34" class="pu"><h2>Perl (23)</h2>

<pre class="lang-perl prettyprint-override"><code>$_=int($_)-(int($_)&gt;$_)
</code></pre>

<p><strong>Example:</strong></p>

<pre><code>perl -ple '$_=int($_)-(int($_)&gt;$_)'
</code></pre>

<p>Every value entered on input will now be printed "floored". </p>

<p>Its bass5098's technique, but smaller =).</p>

<h3>As a function(36):</h3>

<pre class="lang-perl prettyprint-override"><code>sub f{int($_[0])-(int($_[0])&gt;$_[0])}
</code></pre>
</div>
<div id="pu35" class="pu"><h2>JavaScript, <s>50</s> <s>34</s> <s>33</s> 32 characters</h2>



<pre class="lang-js prettyprint-override"><code>function f(n){return~~n-(~~n&gt;n)}
</code></pre>

<p>Works the same way as the PHP one I submitted.</p>
</div>
<div id="pu36" class="pu"><h2>J  <sup>7 chars</sup></h2>

<pre><code>f=:-1&amp;|  NB. x - (x mod 1)
</code></pre>

<p>eg.</p>

<pre><code>f 3.14
3
f _3.14
_4
</code></pre>
</div>
<div id="pu37" class="pu"><h1>Python (20)</h1>

<pre><code>f=lambda x:int(x//1)
</code></pre>

<p>or, if the result doesn't need to be of type <code>int</code>, 15 characters:</p>

<pre><code>f=lambda x:x//1
</code></pre>
</div>
<div id="pu38" class="pu"><p><strong>Ruby 1.9 (12 <strike>14</strike>)</strong></p>

<pre><code> f=-&gt;x{x-x%1}
</code></pre>

<p>It's more a "for the record" type solution along the lines of the PARI/GP one.</p>

<pre><code>&gt;&gt; f[3.4] #=&gt; 3.0
&gt;&gt; f[-3.4] #=&gt; -4.0
</code></pre>
</div>
<div id="pu39" class="pu"><h3>PARI/GP (10)</h3>

<p>In gp (and some other languages) x%1 gives the decimal part of x:</p>

<pre><code>f(x)=x-x%1
</code></pre>

<p>NOTE: For negative x, x%1 returns (1 - abs(decimal part of x)), so the above works both for positive and negative numbers.</p>
</div>
<div id="pu40" class="pu"><h1>Python (81)</h1>

<pre><code>def f(x):return str(x - float("." + str(float(x)).split('.')[-1])).split('.')[0]
</code></pre>
</div>
<div id="pu41" class="pu"><h2>C 126 (including NL)</h2>

<p>Doesn't use any built-in conversion such as <code>(int)x</code>.</p>

<pre><code>r(float x) {
int
p=*(int*)&amp;x,
f=p&amp;8388607|1&lt;&lt;23,
e=((p&gt;&gt;23)&amp;255)-150;
if(e&gt;0)f*=1&lt;&lt;e;
if(e&lt;0)f/=1&lt;&lt;-e;
return p&gt;&gt;31?-f-1:f;
}
</code></pre>
</div>
<div id="pu42" class="pu"><h2>DC (15 bytes)</h2>

<p>Makes use of a nifty little trick that occurs during division in DC. Add a 'p' to then end to get output (it performs the floor correctly anyway), I assume that stuff is not already on the stack, and that input is in stdin.</p>

<pre><code>[1-]sazk?z/d0&gt;a
</code></pre>

<p>EG: <code>echo 0 2.6 - | dc -e '[1-]sazk?z/d0&gt;ap'</code> </p>
</div>
<div id="pu43" class="pu"><h3>LISP (26)</h3>

<p>(Same trick as in PARI/GP answer)</p>

<pre><code>(defun f(x)(- x(mod x 1)))
</code></pre>
</div>
<div id="pu44" class="pu"><h3>C (51)</h3>

<pre><code>int F(float x){int i=x-2;while(++i&lt;=x-1);return i;}
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/289/">289</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




