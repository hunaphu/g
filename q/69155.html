<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::69155</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>008</td><td>Japt v2.0a0</td><td>180816T173045Z</td><td><a href="https://codegolf.stackexchange.com/questions/69155/base-conversion-with-strings/170733#170733">Shaggy</a></td></tr>
<tr d-ix="1"><td>010</td><td>APL</td><td>160325T135228Z</td><td><a href="https://codegolf.stackexchange.com/questions/69155/base-conversion-with-strings/76258#76258">Ven</a></td></tr>
<tr d-ix="2"><td>094</td><td>Python 2</td><td>160112T031128Z</td><td><a href="https://codegolf.stackexchange.com/questions/69155/base-conversion-with-strings/69215#69215">Sherlock</a></td></tr>
<tr d-ix="3"><td>087</td><td>Ruby</td><td>160112T025822Z</td><td><a href="https://codegolf.stackexchange.com/questions/69155/base-conversion-with-strings/69212#69212">Sherlock</a></td></tr>
<tr d-ix="4"><td>140</td><td>JavaScript ES6</td><td>160118T120626Z</td><td><a href="https://codegolf.stackexchange.com/questions/69155/base-conversion-with-strings/69623#69623">Neil</a></td></tr>
<tr d-ix="5"><td>175</td><td>JavaScript ES6</td><td>160114T165017Z</td><td><a href="https://codegolf.stackexchange.com/questions/69155/base-conversion-with-strings/69434#69434">Mwr247</a></td></tr>
<tr d-ix="6"><td>034</td><td>CJam</td><td>160112T160925Z</td><td><a href="https://codegolf.stackexchange.com/questions/69155/base-conversion-with-strings/69254#69254">Martin E</a></td></tr>
<tr d-ix="7"><td>260</td><td>C function with GMP library</td><td>160112T231359Z</td><td><a href="https://codegolf.stackexchange.com/questions/69155/base-conversion-with-strings/69288#69288">Digital </a></td></tr>
<tr d-ix="8"><td>050</td><td>Seriously</td><td>160112T181855Z</td><td><a href="https://codegolf.stackexchange.com/questions/69155/base-conversion-with-strings/69268#69268">quintopi</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> v2.0a0, <s>9</s> 8 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>nVîX WîX
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=2.0a0&amp;code=blbuWCBX7lg&amp;input=ImJhYmFiYWIiCjIKMTAKImFiY2RlZmdoaWoi" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu1" class="pu"><h1>APL, 10 bytes</h1>

<pre><code>{⍺⍺[⍵⍵⍳⍵]}
</code></pre>

<p>This is an APL operator. In APL, <code>⍵</code> and <code>⍺</code> are used to pass values, while <code>⍵⍵</code> and <code>⍺⍺</code> are usually used to pass functions. I'm abusing this here to have 3 arguments. <code>⍺⍺</code> is the left argument, <code>⍵⍵</code> is the "inner" right argument, and <code>⍵</code> is the "outer" right argument.</p>

<p>Basically: <code>⍺(⍺⍺{...}⍵⍵)⍵</code></p>

<p>Then all that's needed is <code>⍳</code> to find the positions of the input string in the "from" table, and then use <code>[]</code> to index into the "to" table with these positions.</p>

<p>Example:</p>

<pre><code>    ('012345'{⍺⍺[⍵⍵⍳⍵]}'abcdef')'abcabc'
012012
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>115</s> <s>114</s> <s>106</s> <s>105</s> 94 bytes</h1>



<p>Golfing suggestions welcome. <a href="https://tio.run/nexus/python2#VU9pU4NADP3Or4hoBcra7larlrre931fQBXdYlfrtgJaXY@/jgjIaDLzkryXvJnErO2DpwvkowgxJClGIdU0w1LA7wXAgQsQlqSy7Jus4nPBdG4oMOjwbhukFVJmy1LkmmFTVmmkQD/gIoIQkltmYzf2dJUQjAn5waTgf/mrkGLOmbTJIuNyILkRTvViudj8c5W6ZcYqghqCRh2BikltfKI@OTXd8G5uk9/vOvz@ofsoev2nIIyeXwavb3JhcWl5ZXVtfWNza3tnd2//4PDo@OT07Pzi8ut6aH54pNQaLevG1ZhJ7Xf303E@mpbmqGimMludA9WIvwE" rel="nofollow noreferrer" title="Python 2 – TIO Nexus">Try it online!</a></p>

<p><strong>Edit:</strong> -9 bytes thanks to mbomb007. -2 bytes thanks to FlipTack.</p>

<pre class="lang-python prettyprint-override"><code>def a(n,f,t,d,z=0,s=''):
 for i in n:z=z*f+d.find(i)
 while z:s=d[z%t]+s;z/=t
 print s or d[0]
</code></pre>

<p><strong>Ungolfed:</strong></p>

<pre class="lang-python prettyprint-override"><code>def arbitrary_base_conversion(num, b_from, b_to, digs, z=0, s=''):
    for i in num:
        z = z * b_from + digs.index(i)
    while z:
        s = digs[z % b_to] + s
        z = z / t
    if s:
        return s
    else:
        return d[0]
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Ruby, <s>113</s> <s>112</s> <s>105</s> <s>98</s> <s>97</s> <s>95</s> 87 bytes</h1>



<p>I sort of double-posted my Python answer (somehow), so here's a Ruby answer. Seven more bytes thanks to <a href="https://codegolf.stackexchange.com/users/4198/manatwork">manatwork</a>, another byte thanks to <a href="https://codegolf.stackexchange.com/users/8478/martin-b%c3%bcttner">Martin Büttner</a>, and 8 more bytes thanks to <a href="https://codegolf.stackexchange.com/users/59228/cia-rana">cia_rana</a>.</p>

<pre><code>-&gt;n,f,t,d{z=0;s='';n.chars{|i|z=z*f+d.index(i)};(s=d[z%t]+s;z/=t)while z&gt;0;s[0]?s:d[0]}
</code></pre>

<p>Ungolfed:</p>

<pre><code>def a(n,f,t,d)
  z=0
  s=''
  n.chars do |i|
    z = z*f + d.index(i)
  end
  while z&gt;0 
    s = d[z%t] + s
    z /= t
  end
  if s[0]   # if n not zero
    return s
  else
    return d[0]
  end
end
</code></pre>
</div>
<div id="pu4" class="pu"><h2>JavaScript (ES6), 140 bytes</h2>

<pre><code>(s,f,t,m)=&gt;[...s].map(c=&gt;{c=m.indexOf(c);for(i=0;c||i&lt;r.length;i++)r[i]=(n=(r[i]|0)*f+c)%t,c=n/t|0},r=[0])&amp;&amp;r.reverse().map(c=&gt;m[c]).join``
</code></pre>

<p>Unlike @Mwr247's code (which uses base-f arithmetic to divide s by t each time, collecting each remainder as he goes) I use base-t arithmetic to multiply the answer by f each time, adding each digit of s as I go.</p>

<p>Ungolfed:</p>

<pre><code>function base(source, from, to, mapping) {
    result = [0];
    for (j = 0; j &lt; s.length; s++) {
        carry = mapping.indexOf(s[j]);
        for (i = 0; carry || i &lt; result.length; i++) {
            next = (result[i] || 0) * from + carry;
            result[i] = next % to;
            carry = Math.floor(next / to);
         }
    }
    string = "";
    for (j = result.length; j --&gt; 0; )
        string += mapping[result[j]];
    return string;
}
</code></pre>
</div>
<div id="pu5" class="pu"><h1>JavaScript (ES6), 175 bytes</h1>

<pre class="lang-js prettyprint-override"><code>(s,f,t,h)=&gt;eval('s=[...s].map(a=&gt;h.indexOf(a));n=[];while(s.length){d=m=[],s.map(v=&gt;((e=(c=v+m*f)/t|0,m=c%t),e||d.length?d.push(e):0)),s=d,n.unshift(m)}n.map(a=&gt;h[a]).join``')
</code></pre>

<p>Figured it's been long enough now that I can submit the one I made to create the examples. I may try and golf it down a bit better later.</p>
</div>
<div id="pu6" class="pu"><h2>CJam, 34 bytes</h2>

<pre><code>0ll:Af#lif{@*+}~li:X;{XmdA=\}h;]W%
</code></pre>

<p>Input format is <code>input_N alphabet input_B output_B</code> each on a separate line.</p>

<p><a href="http://cjam.aditsu.net/#code=%7B%0A%0A0ll%3AAf%23lif%7B%40*%2B%7D~li%3AX%3B%7BXmdA%3D%5C%7Dh%3B%5DW%25%0A%0A%5DoNo%7D12*&amp;input=1010101%0A0123456789%0A2%0A10%0A0001010101%0A0123456789%0A2%0A10%0A85%0A0123456789%0A10%0A2%0A1010101%0A0123456789%0A10%0A2%0Abababab%0Aabcdefghij%0A2%0A10%0A10%0A0123456789%0A3%0A2%0A%3C(&#39;.&#39;%3C)(v&#39;.&#39;v)(%3E&#39;.&#39;%3E)(%5E&#39;.&#39;%5E)%0A~!%40%23%24%25%5E%26*()_%2B-%3D%60%5B%5D%7B%7D%7C&#39;%3B%3A%2C.%2F%3C%3E%3F%20%0A31%0A2%0A~~~~~~~~~~%0A~!%40%23%24%25%5E%26*()_%2B-%3D%60%5B%5D%7B%7D%7C&#39;%3B%3A%2C.%2F%3C%3E%3F%20%0A31%0A2%0A9876543210123456789%0A0123456789abcdefghijklmnopqrstuvwxyz%0A10%0A36%0AALLYOURBASEAREBELONGTOUS%0A0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ%0A62%0A10%0Ahowmuchwoodcouldawoodchuckchuckifawoodchuckcouldchuckwood%0A0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ~%60!%40%23%24%25%5E%26*()_-%2B%3D%5B%7B%5D%7D%5C%5C%7C%3B%3A&#39;%5C%22%2C%3C.%3E%2F%3F%20%0A36%0A95%0A1100111100011010101010101011001111011010101101001111101000000001010010100101111110000010001001111100000001011000000001001101110101%0A0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ~%60!%40%23%24%25%5E%26*()_-%2B%3D%5B%7B%5D%7D%5C%5C%7C%3B%3A&#39;%5C%22%2C%3C.%3E%2F%3F%20%0A2%0A95" rel="nofollow">Run all test cases.</a></p>

<h3>Explanation</h3>

<pre><code>0     e# Push a zero which we'll use as a running total to build up the input number.
l     e# Read the input number.
l:A   e# Read the alphabet and store it in A.
f#    e# For each character in the input number turn it into its position in the alphabet,
      e# replacing characters with the corresponding numerical digit value.
li    e# Read input and convert to integer.
f{    e# For each digit (leaving the base on the stack)...
  @*  e#   Pull up the running total and multiply it by the base.
  +   e#   Add the current digit.
}
~     e# The result will be wrapped in an array. Unwrap it.
li:X; e# Read the output base, store it in X and discard it.
{     e# While the running total is not zero yet...
  Xmd e#   Take the running total divmod X. The modulo gives the next digit, and
      e#   the division result represents the remaining digits.
  A=  e#   Pick the corresponding character from the alphabet.
  \   e#   Swap the digit with the remaining value.
}h
;     e# We'll end up with a final zero on the stack which we don't want. Discard it.
]W%   e# Wrap everything in an array and reverse it, because we've generated the 
      e# digits from least to most significant.
</code></pre>

<p>This works for the same byte count:</p>

<pre><code>L0ll:Af#lif{@*+}~li:X;{XmdA=@+\}h;
</code></pre>

<p>The only difference is that we're building up a string instead of collecting everything on the stack and reversing it.</p>
</div>
<div id="pu7" class="pu"><h1>C (function) with <a href="https://gmplib.org/manual/" rel="nofollow noreferrer">GMP library</a>, 260</h1>
<p>This turned out longer than I'd hoped, but here it is anyway.  The <code>mpz_*</code> stuff really eats up a lot of bytes.  I tried <code>#define M(x) mpz_##x</code>, but that gave a net gain of 10 bytes.</p>

<pre class="lang-c prettyprint-override"><code>#include &lt;gmp.h&gt;
O(mpz_t N,int t,char*d){mpz_t Q,R;mpz_inits(Q,R,0);mpz_tdiv_qr_ui(Q,R,N,t);mpz_sgn(Q)&amp;&amp;O(Q,t,d);putchar(d[mpz_get_ui(R)]);}F(char*n,int f,int t,char*d){mpz_t N;mpz_init(N);while(*n)mpz_mul_ui(N,N,f),mpz_add_ui(N,N,strchr(d,*n++)-d);O(N,t,d);}
</code></pre>
<p>The function <code>F()</code> is the entry-point.  It converts the input string to an <code>mpz_t</code> by successive multiplications by the <code>from</code>-base and addition of the index of the given digit in the digit list.</p>
<p>The function <code>O()</code> is a recursive output function.  Each recursion divmods the <code>mpz_t</code> by the <code>to</code>-base.  Because this yields the output digits in reverse order, the recursion effectively allows the digits to be stored on the stack and output in the correct order.</p>
<h3>Test driver:</h3>
<p>Newlines and indenting added for readability.</p>
<pre class="lang-c prettyprint-override"><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

#include &lt;gmp.h&gt;
O(mpz_t N,int t,char*d){
  mpz_t Q,R;
  mpz_inits(Q,R,0);
  mpz_tdiv_qr_ui(Q,R,N,t);
  mpz_sgn(Q)&amp;&amp;O(Q,t,d);
  putchar(d[mpz_get_ui(R)]);
}
F(char*n,int f,int t,char*d){
  mpz_t N;
  mpz_init(N);
  while(*n)
    mpz_mul_ui(N,N,f),mpz_add_ui(N,N,strchr(d,*n++)-d);
  O(N,t,d);
}

int main (int argc, char **argv) {
  int i;

  struct test_t {
    char *n;
    int from_base;
    int to_base;
    char *digit_list;
  } test[] = {
    {&quot;1010101&quot;, 2, 10, &quot;0123456789&quot;},
    {&quot;0001010101&quot;, 2, 10, &quot;0123456789&quot;},
    {&quot;85&quot;, 10, 2, &quot;0123456789&quot;},
    {&quot;1010101&quot;, 10, 2, &quot;0123456789&quot;},
    {&quot;bababab&quot;, 2, 10, &quot;abcdefghij&quot;},
    {&quot;10&quot;, 3, 2, &quot;0123456789&quot;},
    {&quot;&lt;('.'&lt;)(v'.'v)(&gt;'.'&gt;)(^'.'^)&quot;, 31, 2, &quot;~!@#$%^v&amp;*()_+-=`[]{}|';:,./&lt;&gt;? &quot;},
    {&quot;~~~~~~~~~~&quot;, 31, 2, &quot;~!@#$%^v&amp;*()_+-=`[]{}|';:,./&lt;&gt;? &quot;},
    {&quot;9876543210123456789&quot;, 10, 36, &quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;},
    {&quot;ALLYOURBASEAREBELONGTOUS&quot;, 62, 10, &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;},
    {&quot;howmuchwoodcouldawoodchuckchuckifawoodchuckcouldchuckwood&quot;, 36, 95, &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ~`!@#$%^&amp;*()_-+=[{]}\\|;:'\&quot;,&lt;.&gt;/? &quot;},
    {&quot;1100111100011010101010101011001111011010101101001111101000000001010010100101111110000010001001111100000001011000000001001101110101&quot;, 2, 95, &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ~`!@#$%^&amp;*()_-+=[{]}\\|;:'\&quot;,&lt;.&gt;/? &quot;},
    {0}
  };

  for (i = 0; test[i].n; i++) {
    F(test[i].n, test[i].from_base, test[i].to_base, test[i].digit_list);
    puts(&quot;&quot;);
  }

  return 0;
}
</code></pre>
</div>
<div id="pu8" class="pu"><h2>Seriously, 50 bytes</h2>

<pre><code>0╗,╝,2┐,3┐,4┐╛`4└í╜2└*+╗`MX╜ε╗W;3└@%4└E╜@+╗3└@\WX╜
</code></pre>

<p>Hex Dump:</p>

<pre><code>30bb2cbc2c32bf2c33bf2c34bfbe6034c0a1bd32c02a2bbb60
4d58bdeebb573b33c0402534c045bd402bbb33c0405c5758bd
</code></pre>

<p>I'm proud of this one despite its length. Why? Because it worked perfectly on the second try. I wrote it and debugged it in literally 10 minutes. Usually debugging a Seriously program is an hour's labor.</p>

<p>Explanation:</p>

<pre><code>0╗                                                  Put a zero in reg0 (build number here)
  ,╝,2┐,3┐,4┐                                       Put evaluated inputs in next four regs
             ╛                                      Load string from reg1
              `         `M                          Map over its chars
               4└                                   Load string of digits
                 í                                  Get index of char in it.
                  ╜                                 Load number-so-far from reg0
                   2└*                              Multiply by from-base
                      +                             Add current digit.
                       ╗                            Save back in reg0
                          X                         Discard emptied string/list.
                           ╜                        Load completed num from reg0
                            ε╗                      Put empty string in reg0
                              W                W    While number is positive
                               ;                    Duplicate
                                3└@%                Mod by to-base.
                                    4└E             Look up corresponding char in digits
                                       ╜@+          Prepend to string-so-far.
                                                      (Forgetting this @ was my one bug.)
                                          ╗         Put it back in reg0
                                           3└@\     integer divide by to-base.
                                                X   Discard leftover 0
                                                 ╜  Load completed string from reg0
                                                    Implicit output.
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/69155/">69155</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




