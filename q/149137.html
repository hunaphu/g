<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::149137</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>118</td><td>JavaScript ES7</td><td>241113T103804Z</td><td><a href="https://codegolf.stackexchange.com/questions/149137/minimal-sparse-rulers/276658#276658">Arnauld</a></td></tr>
<tr d-ix="1"><td>098</td><td>Ruby</td><td>171127T134124Z</td><td><a href="https://codegolf.stackexchange.com/questions/149137/minimal-sparse-rulers/149218#149218">G B</a></td></tr>
<tr d-ix="2"><td>017</td><td>Jelly</td><td>171126T190210Z</td><td><a href="https://codegolf.stackexchange.com/questions/149137/minimal-sparse-rulers/149143#149143">Erik the</a></td></tr>
<tr d-ix="3"><td>126</td><td>Python 2</td><td>171126T184741Z</td><td><a href="https://codegolf.stackexchange.com/questions/149137/minimal-sparse-rulers/149139#149139">ovs</a></td></tr>
<tr d-ix="4"><td>014</td><td>Pyth</td><td>171126T184807Z</td><td><a href="https://codegolf.stackexchange.com/questions/149137/minimal-sparse-rulers/149140#149140">Mr. Xcod</a></td></tr>
<tr d-ix="5"><td>017</td><td>Jelly</td><td>171126T195431Z</td><td><a href="https://codegolf.stackexchange.com/questions/149137/minimal-sparse-rulers/149146#149146">Mr. Xcod</a></td></tr>
<tr d-ix="6"><td>014</td><td>Jelly</td><td>171126T231800Z</td><td><a href="https://codegolf.stackexchange.com/questions/149137/minimal-sparse-rulers/149179#149179">Jonathan</a></td></tr>
<tr d-ix="7"><td>018</td><td>Husk</td><td>171126T195604Z</td><td><a href="https://codegolf.stackexchange.com/questions/149137/minimal-sparse-rulers/149147#149147">ბიმო</a></td></tr>
<tr d-ix="8"><td>015</td><td>Pyth</td><td>171126T221812Z</td><td><a href="https://codegolf.stackexchange.com/questions/149137/minimal-sparse-rulers/149173#149173">isaacg</a></td></tr>
<tr d-ix="9"><td>065</td><td>Wolfram Language Mathematica</td><td>171126T195756Z</td><td><a href="https://codegolf.stackexchange.com/questions/149137/minimal-sparse-rulers/149148#149148">Martin E</a></td></tr>
<tr d-ix="10"><td>084</td><td>Mathematica</td><td>171126T191227Z</td><td><a href="https://codegolf.stackexchange.com/questions/149137/minimal-sparse-rulers/149144#149144">ZaMoC</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (ES7), 118 bytes</h1>
<p>Returns the <span class="math-container">\$n\$</span>-th term.</p>
<p>Adapted from <a href="https://codegolf.stackexchange.com/a/276652/58563">my answer</a> to <a href="https://codegolf.stackexchange.com/q/276637/58563">this other challenge</a>.</p>

<pre class="lang-none prettyprint-override"><code>f=(n,N)=&gt;(g=q=&gt;--q&amp;&amp;(h=j=&gt;~j?q&gt;&gt;j&amp;1**h(j-1)&amp;&amp;a.push(a.map(x=&gt;h|=1&lt;&lt;j+~x)&amp;&amp;j)==N:a=[])(n)+h&gt;&gt;n|g(q))(1&lt;&lt;n+1)?N:f(n,-~N)
</code></pre>
<p><a href="https://tio.run/##DY1BDoIwEEX3nqIL0sxQS1KXytQbcAFjYqNAbbClgoYE4erY1Vv8l/ed@Zrh/n72o/ThUW9bQ@D3FZKGliJpKSPnYMmRXt05au24ynMLTirk3BT9Z7BgipfpYSJtf6TK0ol1SqNDoupo6HJF8Cis1v7XQkSE5Hih8Fwdm3Qm1wq3Jryhq0fmGTF1SiiZOiQKgWzeMXYPfghdXXShhZuBbPYLJjWbUwGXG552y/YH" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 98 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;n{(w=*0..n).find{|x|w.combination(x+1).find{|y|y.product(y).map{|a,b|(b-a).abs}.uniq.size&gt;n}}+1}
</code></pre>

<p><a href="https://tio.run/##NcmxDoMgEADQvV/hCFov0l1/pHHgtCQMHlQlihzfTpM2nd7w1oCxmL60AyVx9HUHQBKMpTnxyQdMbkFLereOxNmof0WO4Fc3h2kXUcKifWJ9RxbYagkatwyB7Bs2e70GyrlRufjKPNV4@9L9fKixfAA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 17 bytes</h1>

<pre><code>_þ`ẎQṢw
‘ŒPçÐfRḢL
</code></pre>

<p><a href="https://tio.run/##ASkA1v9qZWxsef//X8O@YOG6jlHhuaJ3CuKAmMWSUMOnw5BmUuG4okz///8xNA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>Borrowed a trick from Mr. Xcoder's <a href="https://codegolf.stackexchange.com/a/149146/41024">answer</a> for -1.<br>
-1 thanks to <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">Jonathan Allan</a>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>129</s> <s>128</s> 126 bytes</h1>

<p><em>thanks to <a href="https://codegolf.stackexchange.com/users/68615/totallyhuman">totallyhuman</a> for -1 byte</em></p>



<pre class="lang-python prettyprint-override"><code>from itertools import*
r=range(1,input()+2)
[{a-b+1for a in l for b in l}&gt;set(r)&gt;exit(i)for i in r for l in combinations(r,i)]
</code></pre>

<p><a href="https://tio.run/##HcoxDsIwDEDRvafwmNAypAsTvQhiSKoULCV25LgSCPXsQen2pP/LV99Mc2ubcAbUKMqcKmAuLHoZ5C6eXtG4Cansauw42@Hx89cwuo0FPCBBgs5w8lhqVCN2iR9Ug7YX7EXOKXWunAOSV2SqRia0z9bc7Q8" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>output is via exit code</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="noreferrer">Pyth</a>, 14 bytes</h1>
<pre><code>lh.Ml{-M^Z2ySh
</code></pre>
<p><strong><a href="https://pyth.herokuapp.com/?code=lh.Ml%7B-M%5EZ2ySh&amp;input=5&amp;test_suite=1&amp;test_suite_input=1%0A2%0A3%0A4%0A5%0A6%0A7%0A8%0A9&amp;debug=0" rel="noreferrer">Try it here!</a></strong></p>
<h1><a href="https://github.com/isaacg1/pyth" rel="noreferrer">Pyth</a>, <s>21</s> 19 bytes</h1>
<pre><code>hlMf!-SQmaFd.cT2ySh
</code></pre>
<p><strong><a href="https://pyth.herokuapp.com/?code=hlMf%21-SQmaFd.cT2ySh&amp;input=5&amp;test_suite=1&amp;test_suite_input=1%0A2%0A3%0A4%0A5%0A6%0A7%0A8%0A9&amp;debug=0" rel="noreferrer">Try it here!</a></strong></p>
<h2>How it works</h2>
<p>I'll update this after golfing.</p>
<pre>
hSlMfqSQS{maFd.cT2ySh ~ Full program. Q = input.

                   Sh ~ The integer range [1, Q + 1].
                  y   ~ Powerset.
    f                 ~ Filter (uses a variable T).
              .cT2    ~ All two-element combinations of T.
          m           ~ Map.
           aFd        ~ Reduce by absolute difference.
        S{            ~ Deduplicate, sort.
     qSQ              ~ Is equal to the integer range [1, Q]?
  lM                  ~ Map with length.
hS                    ~ Minimum.
</pre>
<p>Thanks to <a href="https://codegolf.stackexchange.com/users/20080/isaacg">isaacg</a> for saving a byte for my second approach and inspiring me to golf 3 bytes off my current approach!</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 17 bytes</h1>

<pre><code>‘ŒPµạþ`FQḊṫ³µÐfḢL
</code></pre>

<p><a href="https://tio.run/##ASwA0/9qZWxsef//4oCYxZJQwrXhuqHDvmBGUeG4iuG5q8KzwrXDkGbhuKJM////NQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>Saved 1 byte thanks to <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">Jonathan Allan</a>!</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 14 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ŒcIQL
‘ŒPÇÐṀḢL
</code></pre>
<p>A monadic link taking and returning non-negative integers.</p>
<p><strong><a href="https://tio.run/##ASQA2/9qZWxsef//xZJjSVFMCuKAmMWSUMOHw5DhuYDhuKJM////MTQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (first 15 values <a href="https://tio.run/##ASgA1/9qZWxsef//xZJjSVFMCuKAmMWSUMOHw5DhuYDhuKJM/zE1w4figqz/" rel="nofollow noreferrer" title="Jelly – Try It Online">here</a> - not efficient)</p>
<h3>How?</h3>
<p>Finds all the rulers one could make using marks 1 through to n+1 (the power-set of [1,n+1]) ordered by their marking-count, and keeps only those which create maximal measurable distances (the length of the set of differences between all ordered pairs of marks), then returns the length of the first (i.e. [one of] the shortest one[s]).</p>
<pre><code>ŒcIQL - Link 1: number of measurable distances: list of numbers, ruler  e.g. [1,2,3,7]
Œc    - all pairs                                [[1,2],[1,3],[1,7],[2,3],[2,7],[3,7]]
  I   - incremental differences                                          [1,2,6,1,5,4]
   Q  - de-duplicate                                                       [1,2,6,5,4]
    L - length                                                                      5

‘ŒPÇÐṀḢL - Main link: number, n              e.g. 4
‘        - increment                              5
 ŒP      - power-set (implicit range of input)   [[],[1],[2],[3],[4],[5],[1,2],[1,3],[1,4],[1,5],[2,3],[2,4],[2,5],[3,4],[3,5],[4,5],[1,2,3],[1,2,4],[1,2,5],[1,3,4],[1,3,5],[1,4,5],[2,3,4],[2,3,5],[2,4,5],[3,4,5],[1,2,3,4],[1,2,3,5],[1,2,4,5],[1,3,4,5],[2,3,4,5],[1,2,3,4,5]]
    ÐṀ   - keep those maximal under:
   Ç     -   call the last link (1) as a monad   [[1,2,3,5],[1,2,4,5],[1,3,4,5],[1,2,3,4,5]]
      Ḣ  - head                                  [1,2,3,5]
       L - length                                 4
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <s>20</s> 18 bytes</h1>

<pre><code>λ▼mLfȯ≡⁰u´×≠tṖ⁰)…0
</code></pre>

<p>Thanks @H.PWiz for -2 bytes!</p>

<p><a href="https://tio.run/##AToAxf9odXNr/8K2bVMs4oKB4bij/8674pa8bUxmyK/iiaHigbB1wrTDl@KJoHThuZbigbAp4oCmMP///zEw" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>

<h3>Explanation</h3>

<pre><code>λ               )…0  -- lambda with argument ⁰ as [0..N]
              Ṗ⁰     -- all subsets of [0..N]
             t       -- tail (remove empty subset)
    f(      )        -- filter by following function:
           ≠         --   absolute differences
         ´×          --   of all pairs drawn from itself
        u            --   remove duplicates
      ≡⁰             --   "equal" to [0..N]
  mL                 -- map length
 ▼                   -- minimum
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Pyth, 15 bytes</h1>

<pre><code>lhf!-SQ-M^T2yUh
</code></pre>

<p><a href="https://pyth.herokuapp.com/?code=lhf%21-SQ-M%5ET2yUh&amp;test_suite=1&amp;test_suite_input=1%0A2%0A3%0A4%0A5%0A6%0A7%0A8&amp;debug=0" rel="nofollow noreferrer">Test suite</a></p>

<h2>How it works</h2>

<pre><code>lhf!-SQ-M^T2yUh
             Uh    [0, 1, ... n]
            y      Powerset - all possible rulers
  f                Filer rulers on
         ^T2       All pairs of marks, in both orders
       -M          Differences - (a)
     SQ            [1, ... n], the desired list of differences - (b)
    -              Remove (a) from (b)
   !               Check that there's nothing left.
 h                 The first remaining ruler (powerset is ordered by size)
l                  Length
</code></pre>
</div>
<div id="pu9" class="pu"><h2><a href="https://www.wolfram.com/wolframscript/" rel="noreferrer">Wolfram Language (Mathematica)</a>, 65 bytes</h2>

<pre><code>Tr[1^#]&amp;@@Cases[Subsets[n=0~Range~#],k_/;Union@@Abs[k-#&amp;/@k]==n]&amp;
</code></pre>

<p><a href="https://tio.run/##y00syUjNTSzJTE78H1CUmVei4KCloPE/pCjaME45Vs3BwTmxOLU4Org0qTi1pDg6z9agLigxLz21TjlWJzte3zo0LzM/z8HBMak4OltXWU3fITvW1jYvVu2/poK@gwJYqYOhyX8A" rel="noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1>Mathematica, 84 bytes</h1>
<pre><code>#&amp;@@(l=Length)/@Select[(S=Subsets)@Range[0,d=#],l@Union[Differences/@S[#,{2}]]==d&amp;]&amp;
</code></pre>
<p><a href="https://tio.run/##Dcu9CsIwEADghwmEFgL@4Hpwg6ODGJyODDG9tIH0Cs05ic8e/fZvjbrwGrWk2DN0YxGHCjeWWZfxgJ4rJ6XBg3@/Gmsb8RFlZjq6CUxwFZ9SNqFryZl3lsTtn8i4z/kbAsBkg@33vYhiptMl9B8" rel="noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/149137/">149137</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




