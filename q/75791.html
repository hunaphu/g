<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::75791</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>037</td><td>APLNARS</td><td>250221T212132Z</td><td><a href="https://codegolf.stackexchange.com/questions/75791/trilaterate-your-position/278333#278333">Rosario</a></td></tr>
<tr d-ix="1"><td>029</td><td>Desmos 3D</td><td>250222T043137Z</td><td><a href="https://codegolf.stackexchange.com/questions/75791/trilaterate-your-position/278337#278337">DesmosEn</a></td></tr>
<tr d-ix="2"><td>023</td><td>APL Dyalog Unicode 18.0</td><td>200722T041240Z</td><td><a href="https://codegolf.stackexchange.com/questions/75791/trilaterate-your-position/207374#207374">Bubbler</a></td></tr>
<tr d-ix="3"><td>172</td><td>Python</td><td>160321T182659Z</td><td><a href="https://codegolf.stackexchange.com/questions/75791/trilaterate-your-position/75911#75911">R.T.</a></td></tr>
<tr d-ix="4"><td>345</td><td>C</td><td>160319T054427Z</td><td><a href="https://codegolf.stackexchange.com/questions/75791/trilaterate-your-position/75798#75798">Fox</a></td></tr>
<tr d-ix="5"><td>122</td><td>Desmos</td><td>160319T000927Z</td><td><a href="https://codegolf.stackexchange.com/questions/75791/trilaterate-your-position/75793#75793">Conor O&</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>APL(NARS), 37 chars</h1>
<pre><code>{1↓({+/(1 1 ¯1)×⍵×⍵}¨⍵)⌹⊃{1,2↑2×⍵}¨⍵}
</code></pre>
<p>It seems that solution has matrix</p>
<pre><code>1   2x_1  2y_1
1   2x_2  2y_2
1   2x_3  2x_3
</code></pre>
<p>where <code>(x_i y_i)</code> are the centers of circunference, and the vector:</p>
<pre><code>(x_1^2+y_1^2-r_1^2, x_2^2+y_2^2-r_2^2, x_3^2+y_3^2-r_3^2 )
</code></pre>
<p>where <code>r_i</code> radius of circumference. So for solve the system I use vector<code>⌹</code>Matrix.
<code>1↓</code> it means cut the first and take only the others (x and y). Because 2 circle
of different center has or 0 or 1 or 2 points in common, 2 circle are enought
for find in the worse case 2 points where one point is right position and the
other it is wrong.</p>
<p>Test:</p>
<pre><code>  f←{1↓({+/(1 1 ¯1)×⍵×⍵}¨⍵)⌹⊃{1,2↑2×⍵}¨⍵}
  f (1 2 1.414)(1 1 2.236)(2 2 1) 
1.999698 3.00015 
  f (24.234 ¯13.902 31.46)(12.3242 234.12 229.953)(23.983 0.321 25.572) 
¯1.227913836 4.567354751 
  f (1 2 ,√2)(1 1,√5)(2 2 1) 
2 3 
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.desmos.com/3d" rel="nofollow noreferrer">Desmos 3D</a>, 29 bytes</h1>
<pre><code>distance((p,q),(l.x,l.y))~l.z
</code></pre>
<p>This program uses a regression to solve for p and q such that the distance from (p,q) to each point matches the given distance.</p>
<p>To use, put the input points in a list, <code>l</code> with an extra <code>Z</code> component corresponding to the distance to that point. Your position is given by (p,q).</p>
<p>I was on the fence on wether to include the definition of <code>l</code> in the byte count, but I ultimately decided to leave it out. If anyone disagrees with that though, I am open to edit this post.</p>
<p><a href="https://www.desmos.com/3d/hoyxxsrpal" rel="nofollow noreferrer">Try on Desmos!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.dyalog.com/" rel="noreferrer">APL (Dyalog Unicode)</a> 18.0, 23 <a href="https://github.com/abrudz/SBCS" rel="noreferrer">bytes</a></h1>

<pre class="lang-apl prettyprint-override"><code>-∘(+/)⍥(×⍨)⌹⍥(2-⌿⊢)¯2×⊢
</code></pre>
<p><a href="https://tio.run/##jY69TsMwFIX3PIVHmyqufZ2femaBlfIClZIipAoqtQOIMiFVEJqKDqjMoEpsmTrAgtS@yX2RcJ1IBCGoWK7tc853rnvDgZ9c9gbnJ356MU7PkjQprzj4bczfeWu79MUE87XA2dumgO0S8zvLtMbbJ4nL@yq2vvZcvg6TMXFhOilaIT/y2bPXRF0yXxGOsw9yxO9YxWD24mvMVlWMGPeXV7GjwFE@vXmLvH8jZY20dwBf0T5OHzCfY3azKQxOFzh/7B7t0zw@OOyWw/HI@dMF1wwEDS040M1LTkeVxWFPhoKHbupaZX1GmOc1LAQSTMA2hTbSKtcD0kBARSaQmt5AescwRapuuo2WQcQArLShYRDKMIa/VtjY0A63grqAWri7UrnTbEcqVUtxJC0w1SzRxrk6YtYqGZqYWcJUJ/6@6BM" rel="noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>
<p>A tacit infix function that can be called like <code>dists f pts</code>, where <code>pts</code> contains three centers' coordinates as a 3-row 2-column matrix, and <code>dists</code> contains three distances to the respective centers.</p>
<p>Uses 18.0 feature <code>⍥</code>. TIO's Dyalog Unicode is not updated yet from 17.1, so TIO link uses Dyalog Extended for demonstration purposes.</p>
<h3>How it works</h3>
<p>Uses the same method as <a href="https://codegolf.stackexchange.com/a/75911/78410">R.T.'s Python answer</a>, i.e. constructing a linear system of equations and solving it.</p>
<p>The distance equations are necessarily quadratic. Then how did we get linear ones?</p>
<p>Let's consider just two circles, and denote the point we want to find as <span class="math-container">\$P\$</span>, two circles' centers as <span class="math-container">\$C, D\$</span>, and their radii as <span class="math-container">\$r_C, r_D\$</span>. Also, let's use <span class="math-container">\$A_x, A_y\$</span> for the <span class="math-container">\$x\$</span>- and <span class="math-container">\$y\$</span>-coordinates of a point <span class="math-container">\$A\$</span>. Then the following equations hold:</p>
<p><span class="math-container">$$
(P_x-C_x)^2+(P_y-C_y)^2 =r_C^2 \\
(P_x-D_x)^2+(P_y-D_y)^2 =r_D^2 \\
$$</span></p>
<p>Then we expand them and subtract the second from the first:</p>
<p><span class="math-container">$$
P_x^2-2P_xC_x+C_x^2+P_y^2-2P_yC_y+C_y^2=r_C^2\\
P_x^2-2P_xD_x+D_x^2+P_y^2-2P_yD_y+D_y^2=r_D^2\\
-2P_x(C_x-D_x)+(C_x^2-D_x^2)-2P_y(C_y-D_y)+(C_y^2-D_y^2)=r_C^2-r_D^2\\
-2P_x(C_x-D_x)-2P_y(C_y-D_y)=(r_C^2-C_x^2-C_y^2)-(r_D^2-D_x^2-D_y^2)
$$</span></p>
<p>We've just got one linear equation on <span class="math-container">\$P_x\$</span> and <span class="math-container">\$P_y\$</span>. Since we have three circles given, we can take any two pairs and construct two equations, which then solving the system of equations gives the coordinates we want.</p>
<pre class="lang-apl prettyprint-override"><code>-∘(+/)⍥(×⍨)⌹⍥(2-⌿⊢)¯2×⊢  ⍝ Left: dists, Right: pts
-∘(+/)⍥(×⍨) ⍥(2-⌿⊢)      ⍝ Constants part
      ⍥(×⍨)              ⍝ Square each number in both dists and pts
 ∘(+/)                   ⍝ Row sums of squared pts
-                        ⍝ Subtract above from squared dists
            ⍥(2-⌿⊢)      ⍝ Take pairwise difference

            ⍥(2-⌿⊢)¯2×⊢  ⍝ Coefficients part
                   ¯2×⊢  ⍝ -2 times pts
            ⍥(2-⌿⊢)      ⍝ Take pairwise difference between rows
           ⌹             ⍝ Solve linear equations
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Python - 172</h1>

<p>Takes input as a list of tuples of form (x,y,d). Let me know if you see a way to golf this further, I feel like there must be but I can't figure it out!</p>

<pre><code>import numpy as N
def L(P):
    Z=[p[2]**2-p[0]**2-p[1]**2 for p in P];return N.linalg.solve([[P[i][0]-P[0][0],P[i][1]-P[0][1]]for i in[1,2]],[(Z[0]-Z[i])*0.5 for i in [1,2]])
</code></pre>
</div>
<div id="pu4" class="pu"><h2>C, <s>362</s> <s>348</s> 345 bytes</h2>
<p>Input is given as a sequence of space-separated floats on stdin: <code>x1 y1 d1 x2 y2 d2 x3 y3 d3</code>. Output is similar on stdout: <code>x y</code>.</p>
<pre><code>#define F&quot;%f &quot;
#define G float
#define T(x)(b.x*b.x-a.x*a.x)
typedef struct{G a;G b;G c;}C;G f(C a,C b,G*c){G x=b.b-a.b;*c=(T(a)+T(b)-T(c))/x/2;return(a.a-b.a)/x;}main(){C a,b,c;G x,y,z,t,m;scanf(F F F F F F F F F,&amp;a.a,&amp;a.b,&amp;a.c,&amp;b.a,&amp;b.b,&amp;b.c,&amp;c.a,&amp;c.b,&amp;c.c);x=f(a,a.b==b.b?c:b,&amp;y);z=f(b.b==c.b?a:b,c,&amp;t);m=t-y;m/=x-z;printf(F F&quot;\n&quot;,m,x*m+y);}
</code></pre>
<p><code>C</code> is a structure type whose members are an x-coordinate <code>a</code>, a y-coordinate <code>b</code>, and a distance (radius) <code>c</code>. The function <code>f</code> takes two <code>C</code> structures and a pointer to a float, and determines the line at which the <code>C</code> (circles) intersect. The y-intercept of this line is placed into the pointed-to float, and the slope is returned.</p>
<p>The program calls <code>f</code> on two pairs of circles, then determines the intersection of the produced lines.</p>
</div>
<div id="pu5" class="pu"><h1>Desmos, 122 bytes</h1>

<p><a href="https://www.desmos.com/calculator" rel="noreferrer">Online use</a>. Copy+paste each equation into an equation box, click "add all" for each box, then click on the point of intersection, then enter in each value as appropriate. each of <code>A</code>, <code>B</code>, and <code>C</code> are the distances for the points <code>(a,b)</code>, <code>(c,d)</code>, and <code>(E,f)</code>, respectively. To get a square root in the value, type <code>sqrt</code> then the value in the box.</p>

<pre><code>\left(x-a\right)^2+\left(y-b\right)^2=AA
\left(x-c\right)^2+\left(y-d\right)^2=BB
\left(x-E\right)^2+\left(y-f\right)^2=CC
</code></pre>

<p><a href="https://www.desmos.com/calculator/9hjpo9py6d" rel="noreferrer">Verify the first test case</a>.</p>

<p>Or you can take a look here:</p>

<p><a href="https://i.sstatic.net/Fcl9M.png" rel="noreferrer"><img src="https://i.sstatic.net/Fcl9M.png" alt="circles!"></a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/75791/">75791</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




