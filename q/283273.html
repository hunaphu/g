<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::283273</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>124</td><td>C64 Basic</td><td>250824T162728Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283308#283308">OSI8</a></td></tr>
<tr d-ix="1"><td>079</td><td>Python</td><td>250824T104901Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283305#283305">Albert.L</a></td></tr>
<tr d-ix="2"><td>092</td><td>Julia</td><td>250823T171756Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283301#283301">M--</a></td></tr>
<tr d-ix="3"><td>106</td><td>R</td><td>250823T061937Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283295#283295">M--</a></td></tr>
<tr d-ix="4"><td>110</td><td>Google Sheets</td><td>250822T220049Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283291#283291">doubleun</a></td></tr>
<tr d-ix="5"><td>025</td><td>Charcoal</td><td>250822T232051Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283293#283293">Neil</a></td></tr>
<tr d-ix="6"><td>085</td><td>Nibbles</td><td>250822T221437Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283292#283292">Adam&#22</a></td></tr>
<tr d-ix="7"><td>088</td><td>Janet</td><td>250822T203634Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283288#283288">Adam&#22</a></td></tr>
<tr d-ix="8"><td>094</td><td>Python 3</td><td>250822T200727Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283287#283287">Adam&#22</a></td></tr>
<tr d-ix="9"><td>011</td><td>Jelly</td><td>250822T191035Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283285#283285">Adam&#22</a></td></tr>
<tr d-ix="10"><td>135</td><td>Python3</td><td>250822T171537Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283280#283280">Ajax1234</a></td></tr>
<tr d-ix="11"><td>048</td><td>JavaScript ES6</td><td>250822T105926Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283275#283275">Arnauld</a></td></tr>
<tr d-ix="12"><td>025</td><td>05AB1E</td><td>250822T140446Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283278#283278">Kevin Cr</a></td></tr>
<tr d-ix="13"><td>022</td><td>Retina 0.8.2</td><td>250822T115008Z</td><td><a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283276#283276">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.c64-wiki.com/wiki/BASIC" rel="nofollow noreferrer">C64 Basic</a>, 124 bytes</h1>
<pre><code>0dIa(99)
1inputa(i):fOk=jto-i*(a(i)=a(j))
2a(k)=a(j):nE:j=(a(i)=0)*(1-k)-(a(i)&gt;0)*i:i=i+1:ifpE(512)tH1
3fOj=0toi-2:?a(j);:nE
</code></pre>
<p>After starting the program, enter the individual array values ​​and confirm with RETURN. After the last value, simply press RETURN without entering any value.</p>
<p><a href="https://i.sstatic.net/7AK0rFJe.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/7AK0rFJe.png" alt="screenshot" /></a></p>
<p><a href="https://stigc.dk/c64/basic/?s=2Jcy7CoAwDIXhvU-SKIWm4mAkOgk6-QwFKaQFdajv7207Hwd-ty0Bug4N6X5eJYAixzVLKofVCl5LgIRofID8b94nTvJ_Disgm9F-HB4qq2hNrPGcoCWPZSbTxDWJK4daz-Pb6J_IDQ" rel="nofollow noreferrer">Try in emulator</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 79 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def f(L):
 p=q=l=0
 for c in L:
  if c:L[p:q]=(q-p)*[l*(l==c)];l=c;p=q+1
  q+=1
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=PU9BCoMwELz7isWTsRGMIhRlfxDoA9Kc0oYKQY2kh_6hP-jFS_un_qZJ1LKw7MzuDjOvz_Rwt3FYlvfd6eL4PV2uGnTGSZvAhBYNlgnocQYF_QDcs9BrUC0XU2slZraYSC5MnhlERWRnUHX-78D8oT0g22SfTgGCECVdi8Ve7V1SUfupjrj2aN1VtIlMQ1nkYm0T-18FrUrKJLjkwaVTwfzcD87n6EKYbkM0PQ8pWT3tkX8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Expects a list and changes it in place.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://julialang.org" rel="nofollow noreferrer">Julia</a>, 92 bytes</h1>
<pre><code>f(x)=(n=length(x);for i=1:n,j=i+1:n;x[i]==x[j]&gt;0&amp;&amp;all(x[i+1:j-1].==0)&amp;&amp;(x[i:j].=x[i]);end;x)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m700qzQnM3HBgqWlJWm6Fjdj0jQqNG018mxzUvPSSzKAHOu0_CKFTFtDqzydLNtMbSBtXRGdGWtrWxGdFWtnoKaWmJOjARQBymTpGsbq2doaaKqpgUSssoA8kFpN69S8FOsKTagdpQVFmXklGmka0QY6RjoGQGgUq6mjoBSTp6TJhSZniFfWSMcUrN9UxxCLGmOwHIg0jtWEWg7zKAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Similar to <a href="https://codegolf.stackexchange.com/a/283295">my second attempt using R</a>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 106 bytes</h1>
<pre class="lang-r prettyprint-override"><code>f=\(x){for(i in 1:length(x))for(j in(i+1):length(x))if(x[i]==x[j]&amp;x[i]&amp;all(!x[(i+1):(j-1)]))x[i:j]=x[i];x}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGCpaUlaboWN7PSbGM0KjSr0_KLNDIVMvMUDK1yUvPSSzKAgpogwSygoEamtqEmknhmmkZFdGasrW1FdFasGoiplpiTo6FYEQ1RqZGla6gZq6kJlLHKirUFKbCuqIXa6J2mkaxhoGOkYwCERpqaXAi-IYaIkY4pWJ2pjiFU3BjMB5HGmpoQI2GeAQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<hr />
<h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, <s>102</s> 92 bytes<sup>*</sup> <sup> <em>with warnings</em></sup></h1>
<pre class="lang-r prettyprint-override"><code>f=\(x,n=seq(x)){for(i in n)for(j in n)if(x[i]==x[j]&amp;x[i]&amp;!any(x[(i+1):(j-1)]))x[i:j]=x[i];x}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGCpaUlaboWN2PSbGM0KnTybItTCzUqNDWr0_KLNDIVMvMU8jRBzCwIMzNNoyI6M9bWtiI6K1YNxFRTTMyrBApqZGobalppZOkaasZqagJlrLJibUEKrCtqoXZ4p2kkaxjoGOkYAKGRpiYXgm-IIWKkYwpWZ6pjCBU3BvNBpLGmJsRImPMB" rel="nofollow noreferrer">Attempt This Online!</a></p>
<hr />
<p><sub> * Thanks to <a href="https://codegolf.stackexchange.com/questions/283273/activate-the-laser-gates/283295#comment600462_283295">SamR's comment</a> </sub></p>
</div>
<div id="pu4" class="pu"><h1>Google Sheets, 110 bytes</h1>
<pre class="lang-none prettyprint-override"><code>=index(let(d,A:A,s,row(d),f,lambda(a,scan(0,a,lambda(a,n,if(n,n,a)))),if(f(d)=sort(f(sort(d,s,)),s,),f(d),d)))
</code></pre>
<p>Uses Adamátor's <a href="https://codegolf.stackexchange.com/a/283285/119296">method</a>.</p>
<p><img src="https://i.sstatic.net/ykTba7Q0.png" alt="screenshot" /></p>
<p>Ungolfed:</p>
<pre class="lang-none prettyprint-override"><code>=let(
  d, tocol(A1:A, 1),
  reverse_, lambda(a, sort(a, sequence(rows(a)),)),
  fill_, lambda(a, scan(0, a, lambda(a, n, if(n, n, a)))),
  arrayformula(if(fill_(d) = reverse_(fill_(reverse_(d))), fill_(d), d))
)
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 25 bytes</h1>
<pre><code>ＩＥＥθ↨Φ…θ⊕κλ⁰∧¬⌕Φ✂θκＬθ¹λιι
</code></pre>
<p><a href="https://tio.run/##LYvBCsIwEER/pccNREgFT540IAgqgsfSQ0gXE7omNg2CXx83tQtvGJh91plko6FS7smHDNrMGa7mvTDJ5mhmhJOnjAn01xJqF5fhHGzCF4aMA4xCyIYYVcshDHCLmS0uq/ogb7Fqo2wuGJ7ZwcSv7ep58Q@@fSldp@RWVnacirPt@7L50A8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: The inner <code>Map</code> performs a cumulative <code>Or</code> reduction on the array, while the outer map checks that each resulting value is the first non-zero value in the rest of the original array (which is equivalent to comparing against a reverse cumulative <code>Or</code> reduction), replacing invalid values with zero.</p>
<pre><code>   θ                        Input array
  Ｅ                         Map over values
       θ                    Input array
      …                     Truncated to length
         κ                  Current index
        ⊕                   Incremented
     Φ                      Filtered on
          λ                 Non-zero values
    ↨      ⁰                Interpret as base `0` (take last element or `0` if none)
 Ｅ                          Map over values
              ⌕             Index of
                       ι    Current value in
                 θ          Input array
                ✂    ¹      Sliced from
                  κ         Current index to
                    θ       Input array
                   Ｌ        Length
               Φ            Filtered on
                      λ     Non-zero values
             ¬              Is zero
            ∧               Logical And
                        ι   Current value
Ｉ                           Cast to string
                            Implicitly print each value on its own line
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, 8.5 bytes</h1>
<pre><code>!`\$|\`\\@|~*==$_
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708LzMpKSe1eMGCpaUlaboWGxUTYlRqYhJiYhxq6rRsbVXiIeJQ6Zvm0UrRBjpGOiBsCiQNgKQhmDbQMQZiENsEyjeAsWOVYqH6AQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Uses the same approach as <a href="https://codegolf.stackexchange.com/a/283285/98955">my Jelly answer</a>.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://janet-lang.org/" rel="nofollow noreferrer">Janet</a>, 88 bytes</h1>
<pre><code>|(let[f|(accumulate|(case $1 0 $ $1)0 $)r reverse](map|(case $ $1 $ 0)(f $)(r(f(r $)))))
</code></pre>
<p>Uses the same approach as <a href="https://codegolf.stackexchange.com/a/283285/98955">my Jelly answer</a>.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python 3</a>, <s>99</s> 94 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda a,v=0:[v:=x or v for x in a]
lambda a:[x*(x==y)for x,y in zip(f(a),f(a[::-1])[::-1])]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3E9JscxJzk1ISFRJ1ymwNrKLLrGwrFPKLFMoU0oBkhUJmnkJiLFc6XJVVdIWWRoWtbaUmWF6nEqSiKrNAI00jUVMHSERbWekaxmpCqVioPbYFRZl5JRrpGtEGOkY6IGwKJA2ApCGYNtAxBmIQ2wTKN4CxYzU1IYbAHA0A" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Uses the same approach as <a href="https://codegolf.stackexchange.com/a/283285/98955">my Jelly answer</a>.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/DennisMitchell/jellylanguage" rel="noreferrer">Jelly</a>, 11 bytes</h1>
<pre><code>o@\
UÇU=Ç×Ç
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m700KzUnp3LBgqWlJWm6FuvzHWK4Qg-3h9oebj88_XD7kuKk5GKo3PZopWgDHSMdEDYFkgZA0jBWKRYqDQA" rel="noreferrer">Attempt This Online!</a></p>
<p>We left scan the array with the reversed logical OR function, causing all zeros to be replaced with the previous non-zero element:</p>
<pre><code>[0,2,0,1,0,2,0,0,2,0]
[0,2,2,1,1,2,2,2,2,2]
</code></pre>
<p>Next we do the same thing, but in reverse:</p>
<pre><code>[0,2,0,1,0,2,0,0,2,0]
[2,2,1,1,2,2,2,2,2,0]
</code></pre>
<p>Out of the two resulting arrays, we take equal elements and set all other elements to <code>0</code>:</p>
<pre><code>[0,2,2,1,1,2,2,2,2,2]
[2,2,1,1,2,2,2,2,2,0]
[0,2,0,1,0,2,2,2,2,0]
</code></pre>
<p>I haven’t used Jelly in a really long time, so there is probably a shorter way to express this algorithm.</p>
</div>
<div id="pu10" class="pu"><h1>Python3, 135 bytes</h1>
<pre class="lang-py prettyprint-override"><code>def f(s):
 for i in range(len(s)):
  for I in range(i+1,len(s)):s[i:I]=[s[i:I],[s[i]]*(I-i)][s[i]==s[I]and not any(s[i+1:I])]
 return s
</code></pre>
<p><a href="https://tio.run/##dYtBCsMgEEX3OcUstbEQEwIl4AE8g8wiEG2FMglqFzm9NZZSWigD8/nvzWx7uq00XLaQ82IdOBb51IBbA3jwBGGmq2V3S4Ufohr9Mb6V4m2j8ZNGZV4pjkQ8MX32HGtRKhqNMy1Aa4KZdlZoK8sxxwaCTY9AEPMWPCXmmOlEL7oyPXLe/FD5h/dirD@jkF92qPTYQ@H5CQ" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1>JavaScript (ES6), 48 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map(p=(v,i)=&gt;v|a.find(v=&gt;i--*v&lt;0)!=p?p=v:p)
</code></pre>
<p><a href="https://tio.run/##bY3NDoIwEAbvPgXeWlMKhXAxbn0Q08OGH1MDdCOmJ9@9SiNGIjvJXr5M5oYep/pu6ZGOrmlDBwFBoxyQGAHzwnLQ/omys2PDPGibpgd/yvke6Ezgj8RD7cbJ9a3s3ZV17JKLQuRvCsN5slyWJXGImN2motbSoizDtlSIKtYqoWb1t1N9UH9qGZX5l@teKb6Y8AI" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>a =&gt;            // a[] = input array
a.map(p =       // start with p non-numeric
(v, i) =&gt;       // for each value v at index i in a[]:
  v |           //   if v is not zero
  a.find(v =&gt;   //   or the first non-zero value in a[]
    i-- * v &lt; 0 //   at an index higher than i (1)
  ) != p ?      //   is not equal to p (2):
    p = v       //     set p to v
  :             //   else:
    p           //     use the current value of p
)               // end of map()
</code></pre>
<p><em><sub>(1) The expression <code>i-- * v &lt; 0</code> is true if and only if <code>i</code> is negative and <code>v</code> is non-zero.<br />
(2) If there's no such non-zero value at all, <code>find()</code> returns undefined, which cannot be equal to <code>p</code>.</sub></em></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 25 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>®.øγü3εÅsy˜ÔÀ`©Qs_*i0®:]˜
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//0Dq9wzvObT68x/jc1sOtxZWn5xyecrgh4dDKwOJ4rUyDQ@usYk/P@f8/2kDHSAeETYGkAZA01IGIGMYCAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfaXS/0Pr9A7vOLf58B7jc1sPtxZXnp5zeMrhhoRDKwOL47UyDQ6ts4o9Pee/kl6YjqHGoZUx/6OjDXSMdAyA0ChWB8o2ROEZ6ZiC5U11DIFixmA2iDSOjQUA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>®.ø           # Surround the (implicit) input-list with leading/trailing -1
   γ          # Adjacent-group all the same values together
    ü3        # Split it into overlapping triplets
ε             # Map over each triplet:
 Ås           #  Keep the middle list of the current triplet
 y            #  Push the triplet of three lists again
  ˜           #  Flatten it to a single list
   Ô          #  Connected-uniquify it to a triplet of integers [a,b,c]
    À         #  Rotate once towards the left: [b,c,a]
     `        #  Pop and push all its values to the stack
      ©       #  Store the top value in variable `®` (without popping)
       Q      #  Pop the top two and check if they're the same: c==a
      s       #  Swap so the third value is at the top
       _      #  Check that it's 0: b==0
        *i    #  If both are truthy:
          0®: #   Replace all 0s with value `®` in the middle list
]             # Close both the if-statement and map
 ˜            # Flatten the list of lists
              # (after which the result is output implicitly)
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="noreferrer">Retina 0.8.2</a>, 22 bytes</h1>
<pre><code>(?&lt;=(.)0*)0(?=0*\1)
$1
</code></pre>
<p><a href="https://tio.run/##K0otycxL/P9fw97GVkNP00BL00DD3tZAK8ZQk0vF8P9/AyMDAyMuIGkIoYxMDQxMDbmMDQyMDYwB" rel="noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Uses strings of different printable Unicode characters to represent the emitters, except <code>0</code> represents an inactive gate, for ease of converting the test cases. Explanation: Uses lookarounds to find matching emitters surrounding inactive gates and replaces the latter with the former.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/283273/">283273</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




