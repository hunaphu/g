<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::261077</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>K ngn/k</td><td>230806T031320Z</td><td><a href="https://codegolf.stackexchange.com/questions/261077/turn-strings-into-hexagonal-spirals/263770#263770">doug</a></td></tr>
<tr d-ix="1"><td>360</td><td>Haskell</td><td>230525T075336Z</td><td><a href="https://codegolf.stackexchange.com/questions/261077/turn-strings-into-hexagonal-spirals/261221#261221">Roman Cz</a></td></tr>
<tr d-ix="2"><td>365</td><td>Javascript</td><td>230524T002251Z</td><td><a href="https://codegolf.stackexchange.com/questions/261077/turn-strings-into-hexagonal-spirals/261198#261198">ccprog</a></td></tr>
<tr d-ix="3"><td>061</td><td>Charcoal</td><td>230519T224705Z</td><td><a href="https://codegolf.stackexchange.com/questions/261077/turn-strings-into-hexagonal-spirals/261088#261088">Neil</a></td></tr>
<tr d-ix="4"><td>063</td><td>Jelly</td><td>230519T224650Z</td><td><a href="https://codegolf.stackexchange.com/questions/261077/turn-strings-into-hexagonal-spirals/261087#261087">Jonathan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <sup>127</sup> <sup>119</sup> 115 bytes</h1>
<pre><code>{(0N,w)#@[&quot;&quot;@!4*s*w;(#x)#+\(2*s),(|2,,/--:\(-1 1+w:-2+8*s),2)7!&amp;-2_,/+|2,(-2*|&amp;5 1)+6#,|-1+2*1+!s:-_-%-6!1+#x;:;x]}
</code></pre>
<p>-8 : squeezed<br/>
-4 : and again</p>
<p><a href="https://ato.pxeger.com/run?1=nZLLUtVAEIarfJI-OSUkJ8mBRK7JBhWwVEBFvGPhMOkcWjIzYS5wqsQnccOGh8Knccbowq3ZZCbd_ff_f5Uft-cnciZv7jaPqmi5KB-srK6tb2w-fPR4e3f3ydNnz_f29w9evHx1-Prozdt37z98ZKe8wXZ2Rl_POyFVr6NbZ9t848611bd4-SC7SsZbn6Joa7QyMZOrOh7Pk3F6HJcTk2TxdZllS3leHcd5AUV6VeVluhEqZbI-WsjLk2wp9T1xXk6uF1ahSNK1cXadF2k5KdKRqfKT_H6-NirS8byu6vnn78Pyn_c2vyxXi-1iHAXnO1Edjf_n8XP_MtjZjeo4hFlNsuiQceRMZ6CHwyiqj-poT2kUQL1xAhrVKQ2GLDCBNgOupEFu0ToNrKGeDCc5A-zIFw02fgCQnBGqAYui98MkOTXUOGnBWejYqZcHtIM0gmAzyYB1dOHYFN5YQEnCa4OgcLj0VyYyuHBkQCpjtWsA56g5WWZJSXBdxwRXg3JoIkNh029J6n0zIPPGhfekhgB-lZ3CdpBkziKQdt7JkJUkaOw1nqFsUPvg_sOl6lzv16G345MCGoPAqev-EvKBHLRuRsyCDIagZ9pfnJ7Czpxjb9EFjJ6B4px51ha466lhNkz4FL1W1KAMFAMpv5S7rmchN6i2JU4MGjSoQ1WoLthgARB5HOYPVyemUVIPf9DNzfD-BQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 360 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>import Data.Array
t(a,b)(c,d)=(a+c,b+d)
s i=[[a!(r,c)|c&lt;-[b..d]]|((p,b),(q,d))&lt;-[b],r&lt;-[p..q]]where
 d=zip(scanl t(0,0)$concat$zipWith replicate(concat$iterate(map(2+))[1,1,1,3,1,3])$cycle[(0,2),(-1,1),(-1,-1),(0,-2),(1,-1),(1,1)])$reverse i
 b=foldl(\((p,b),(q,d))((r,c),e)-&gt;((min p r,min b c),(max q r,max d c)))((0,0),(0,0))d
 a=accumArray(flip const)' 'b d
</code></pre>
<p><a href="https://tio.run/##VZBNSwMxEIbv@yumpdAJzS61Xl1B8CLoyYOHdZF81YZms2mSqpX@93VSvUhIXuaZmWTe7ETaG@emyQ5hjBnuRRbNXYziVGUUXDJUXLMWxUpxudKsSmDbrhMzjFyxs7qpO9k0uu/PiIHKOR6onhXc80gSmubQ9587E00Fuv22AZMS3kHGNV@zhRq9EnlB/MXmHUQTnCVg8C9hs4klHETAzYqx7oqXdV12T@0n5UxHV23o6Zoyv1IXXfO60L@o5Kghmg8TkwFbgWy3o9MOX/@Njhdn3LD6FnGwHgJEXlQCYZrjCw6FkGoipaEY4ZeT6QpEK5Q6DpdPxK2zAchKymwJSwl6GoT1Lbl5eoNwzM85PvpFmj8sB0jBem/9O8Tx6DU4uzcg6EfUGDUHKeRpNp9@AA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<pre class="lang-hs prettyprint-override"><code>    o u n d   l   
   r           i  
      ,   b a   k 
 g   d       b   e
n   r   ! y     
 i   o       a  
  n   c e r     
   n           I
    i p s   m ' 
</code></pre>
</div>
<div id="pu2" class="pu"><h2>Javascript, 365 bytes</h2>
<pre><code>f=s=&gt;(b=Math.abs,m=Math.max,w=h=3,x=-2,y=0,l=[...s].reverse().map(n=&gt;(c=y&gt;0?b(x)&lt;y||-x==y?[x+=2,y]:x&gt;0?[++x,--y]:[++x,++y]:y&lt;0?b(x)&lt;-y||(x&lt;0&amp;&amp;x&gt;y-4)||x==-y?[x-=2,y]:x&lt;0?[--x,++y]:[--x,--y]:x&gt;0?[--x,--y]:[++x,++y],w=m(w,b(x)),h=m(h,b(y)),c.push(n),c)),d=Array.from(Array(2*h+1),r=&gt;Array(2*w).fill(' ')),l.map(([x,y,n])=&gt;d[y+h][x+w]=n),d.map(r=&gt;r.join('')).join(`
`))
</code></pre>
<p>Depending on the length of the string, there might be some extra whitespace surrounding the spiral on each side.</p>
<h3>Ungolfed</h3>
<p>From an (empty) start position of <code>(-2, 0)</code> a two-dimensional array gets filled by assigning each consecutive letter to a new position computed from the last. It is not optimal to condense this to six conditions for six directions, for my solution I used eight.</p>
<p>As the spiral is constructed inward-out, its final size is only apparent after completing the assignment.</p>
<pre class="lang-js prettyprint-override"><code>f = s =&gt; {
  b = Math.abs, m = Math.max
  w = h = 3, x = -2, y = 0
  l=[...s].reverse().map(n =&gt; {    // map letter n to [x, y, n]
    if(y &gt; 0) {                    // lower half
      if(b(x) &lt; y || -x == y) {    // between the lower corners, left included
        c = [x+=2,y]               // go right
      } else if(x &gt; 0) {           // right lower quadrant
        c = [++x,--y]              // go right and up
      } else {                     // left lower quadrant
        c=[++x,++y]                // go right and down
      }
    } else if(y &lt; 0) {            // upper half
      if(b(x) &lt; -y || (x &lt; 0 &amp;&amp; x &gt; y - 4) || x == -y) {
                                  // between the upper corners, right included,
                                  // on the left going two steps further out
        c = [x-=2,y]              // go left
      } else if(x &lt; 0) {          // upper left quadrant
        c = [--x,++y]             // go left and down
      } else {                    // upper right quadrant
        c = [--x,--y]             // go left and up
      }
    } else if(x &gt; 0) {           // right corner
      c = [--x,--y]              // go left and up
    } else {                     // left corner
      c = [++x,++y]              // go right and down
    }
    w=m(w,b(x)),h=m(h,b(y))
    c.push(n)
    return c
  })
  d=Array.from(Array(2*h + 1),r =&gt; Array(2*w).fill(' '))
  l.map(([x,y,n]) =&gt; {
    d[y+h][x+w] = n              // place letters in array, origin in the middle
  })
  return d.map(r =&gt; r.join('')).join('\n')
}
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 61 bytes</h1>
<pre><code>Ｗφ«⎚≔⪪⮌θ¹φ⊞υＬυＦ⁺⭆Φ⮌υ﹪λ²⮌⭆⭆134570×μκ⎇›ν¹μ∧⁼κ¹ω0¿φ«Ｐ⊟φＭ⊕№04κ✳Ｉκ
</code></pre>
<p><a href="https://tio.run/##RU/basMwDH1OvsLLkwwetFvHHvZUsguDBUrbHzCOkpi6dirbLWP02zObrqtAcHSkcySpQZJy0kzTadAGGXSc/ZRFbVAS8JeyWHqvewub0egAazwieYQDF2yesssTq@gHiIJ9oe1DQjyTnSMGKxM9bAJp2zdyhHdtAtK/SUwGjWujcWAEe@CpvLZumhuq5o@Lp@dZJdhW79HDXrBd1myRrKRv@CCU2d5eTkvtpW3h7RCl8bC7kCeeQ7BqVnHOdHd9t2iiCXpMqwKs3JjY/EPRuCPCp1WEe7QBW6hdTBPVbFH9LX/VhCpoZ6GWPkDisvBcnqdpLRUqSYLRBdyV0/3R/AI" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｗφ«
</code></pre>
<p>Repeat until the string is successfully turned into a spiral. (<code>φ</code> is actually a predefined variable here, which is why the loop succeeds at least once.)</p>
<pre><code>⎚
</code></pre>
<p>Start by clearing any output from the previous loop.</p>
<pre><code>≔⪪⮌θ¹φ
</code></pre>
<p>Reset the variable to the input, split into characters and reversed to that its characters can be consumed more easily.</p>
<pre><code>⊞υＬυ
</code></pre>
<p>Build up a list of integers for each pass. (The zero entry is useless and serves only to save bytes.)</p>
<pre><code>Ｆ⁺⭆Φ⮌υ﹪λ²⮌⭆⭆134570×μκ⎇›ν¹μ∧⁼κ¹ω0«
</code></pre>
<p>Loop over a list of directions for the spiral. This starts with the list of integers, which is reversed and then alternating elements are picked out (again in a byte-saving manner, requiring a further pass through the loop). For each integer, the characters <code>075431</code> (representing the directions) are each repeated that many times, except that the last two <code>11</code> are replaced with <code>00</code> unless they are <code>31</code> in which case they are deleted. (This is actually done on the reverse of the strings as that's golfier.) A final <code>0</code> is appended before the list is looped over.</p>
<pre><code>¿φ«
</code></pre>
<p>If there are still more characters to print, then:</p>
<pre><code>Ｐ⊟φ
</code></pre>
<p>Output the next character without moving the cursor.</p>
<pre><code>Ｍ⊕№04κ✳Ｉκ
</code></pre>
<p>Move two steps horizontally or one step diagonally.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 63 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>JḂḤØ-;+2ÄÄ&lt;LS‘RṚm2x6IŻN+Ɗ+Ɗ’Jx$Żị“¬½®‘d4¤’;C¤+\_«/$‘ŒṬ€ṁa&quot;⁸o/o⁶
</code></pre>
<p>A monadic Link that accepts a list of characters and yields a list of lines.</p>
<p>Starts at the top-left of the smallest outer hexagon and spirals inwards, clockwise.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9/r4Y6mhzuWHJ6ha61tdLjlcIuNT/CjhhlBD3fOyjWqMPM8uttP@1gXED1qmOlVoXJ098Pd3Y8a5hxac2jvoXVAhSkmh5YApaydDy3Rjok/tFpfBSh4dNLDnWseNa15uLMxUelR4458/fxHjdv@H26P/P@/SEkXCPRiYmJq9PX19eBsEAtKKwEA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see a <a href="https://tio.run/##AcMAPP9qZWxsef//SuG4guG4pMOYLTsrMsOEw4Q8TFPigJhS4bmabTJ4NknFu04rxoorxorigJlKeCTFu@G7i@KAnMKswr3CruKAmGQ0wqTigJk7Q8KkK1xfwqsvJOKAmMWS4bms4oKs4bmBYSLigbhvL2/igbb/w4dZJMakauKBvsK2wrb//ycwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eic" rel="nofollow noreferrer" title="Jelly – Try It Online">test series</a>.</p>
<h3>How?</h3>
<p>Split into two parts, for ease of reading...</p>
<pre><code>JḂḤØ-;+2ÄÄ&lt;LS‘RṚm2x6IŻN+Ɗ+Ɗ’Jx$Ż   - Link: list of characters, &quot;Chars&quot;
J                                  - 1-indexed indices -&gt; [1,2,...,len(Chars)]
 Ḃ                                 - mod two -&gt; [1,0,1,0,1,0,...]
  Ḥ                                - double -&gt; [2,0,2,0,2,0,...]
   Ø-;                             - prefix with [-1,1] -&gt; [-1,1,2,0,2,0,2,0,...]
      +2                           - add two -&gt; [1,3,4,2,4,2,4,2,...]
        Ä                          - cumulative sums -&gt; [1,4,8,10,14,16,20,24,...]
         Ä                         - cumulative sums -&gt; [1,5,13,23,37,53,73,95,...]
          &lt;L                       - less than length(Chars)?
                                       e.g. L=9 -&gt; [1,1,0,0,0,0,0,0,0,0,0]
            S                      - sum -&gt; outer hexagon side length
             ‘                     - increment
              R                    - range -&gt; [1,2,3,...,side-1,side,side+1]
               Ṛ                   - reverse -&gt; [side+1,side,side-1,...,3,2,1]
                m2                 - modulo-2 slice -&gt; [side+1,side-1,side-3,...]
                  x6               - repeat each element six times
                          Ɗ        - last three links as a monad - f(X):
                    I              -   deltas of X
                        Ɗ          -   last three links as a monad - f(Y):
                     Ż             -     prepend a zero to Y
                      N            -     negate
                       +           -     add Y (vectorises)
                         +         -   add X
                           ’       - decrement (vectorises)
                                       -&gt; number of steps to take in each direction
                                          - has excess such instructions
                              $    - last two links as a monad f(Z):
                            J      -   1-indexed indices
                             x     -   repeat (vectorises)
                                         -&gt; 1, 7, 13, ... represent East
                                            2, 8, 14, ... represent South-East
                                            etc...
                               Ż   - prefix a zero (to have a starting point)
                                       -&gt; &quot;Instructions&quot;
</code></pre>

<pre><code>ị“¬½®‘d4¤’;C¤+\_«/$‘ŒṬ€ṁa&quot;⁸o/o⁶ - ...continued...
            ¤                    - nilad followed by links as a nilad:
        ¤                        -   nilad followed by links as a nilad:
 “¬½®‘                           -     code-page indices -&gt; [7, 10, 8]
      d4                         -     div-mod four -&gt; X = [[1,3],[2,2],[2,0]]
         ’                       -   decrement X        -&gt; [[0,2],[1,1],[1,-1]]
           C                     -   complement X       -&gt; [[0,-2],[-1,-1],[-1,1]]
          ;                      -   concatenate -&gt; [[0,2],[1,1],[1,-1],[0,-2],[-1,-1],[-1,1]]
                                                    -&gt; &quot;Directions&quot;
ị                                - {Instructions} index into {Directions}
              \                  - cumulative reduce by:
             +                   -   addition (vectorises)
                  $              - last two links as a monad:
                 /               -   reduce by:
                «                -     minimum (vectorises)
               _                 -   subtract -&gt; normalises the minimal values to 0
                   ‘             - increment -&gt; make them 1-indexed
                    ŒṬ€          - for each: 2d array of zeros with a one
                                             at the given 2d index
                       ṁ         - mould like Chars (keep first length(Chars))
                        a&quot;⁸      - zipped logical AND (vectorises) Chars
                            /    - reduce by:
                           o     -   logical OR (i.e. layer these together)
                             o⁶  - logical OR (vectorise) with a space character
                                     (replaces remaining zeros with spaces)
</code></pre>
</div>
<!-- TYYY -->

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/261077/">261077</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




