<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276608</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>018</td><td>Uiua</td><td>241111T200122Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276618#276618">nyxbird</a></td></tr>
<tr d-ix="1"><td>046</td><td>Wolfram Language Mathematica</td><td>241111T173950Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276616#276616">att</a></td></tr>
<tr d-ix="2"><td>007</td><td>Japt</td><td>241111T161611Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276611#276611">Shaggy</a></td></tr>
<tr d-ix="3"><td>043</td><td>R</td><td>241111T183001Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276617#276617">pajonk</a></td></tr>
<tr d-ix="4"><td>104</td><td>Google Sheets</td><td>241111T173210Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276615#276615">doubleun</a></td></tr>
<tr d-ix="5"><td>034</td><td>APL+WIN</td><td>241111T160543Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276610#276610">Graham</a></td></tr>
<tr d-ix="6"><td>008</td><td>Jelly</td><td>241111T170141Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276613#276613">Jonathan</a></td></tr>
<tr d-ix="7"><td>049</td><td>Perl 5 pa</td><td>241111T172018Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276614#276614">Xcali</a></td></tr>
<tr d-ix="8"><td>057</td><td>JavaScript ES6</td><td>241111T165338Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276612#276612">Arnauld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 18 bytes</h1>
<p><sup>2 away...</sup></p>
<p><code>↯:0⊏⌊÷2⊸⧻⊚=⊞×.⇡⊸+1</code>
<a href="https://www.uiua.org/pad?src=0_14_0-dev_2__IyBFeHBlcmltZW50YWwhCmYg4oaQIOKGrzow4oqP4oyKw7cy4oq44qe74oqaPeKKnsOXLuKHoeKKuCsxCmYgMQpmIDI0CmYgOApmIDE3CmYgMzAKZiA0OQo=" rel="nofollow noreferrer">Try it!</a></p>
<p>or (experimental)</p>
<p><code>↯:0⊟⟜÷⊣⊚=0⊸◿⇡+1⌊√.</code> <a href="https://www.uiua.org/pad?src=0_14_0-dev_2__IyBFeHBlcmltZW50YWwhCmYg4oaQIOKGrzow4oqf4p-cw7fiiqPiipo9MOKKuOKXv-KHoSsx4oyK4oiaLgpmIDEKZiAyNApmIDgKZiAxNwpmIDMwCmYgNDkK" rel="nofollow noreferrer">Try it!</a></p>
<p>or, for 19 bytes:</p>
<p><code>↯:0⊣▽=⊸⌊⟜≡⊟⤚÷⇡+1⌈√.</code> <a href="https://www.uiua.org/pad?src=0_14_0-dev_2__IyBFeHBlcmltZW50YWwhCmYg4oaQIOKGrzow4oqj4pa9PeKKuOKMiuKfnOKJoeKKn-KkmsO34oehKzHijIjiiJouCmYgMQpmIDI0CmYgOApmIDE3CmYgMzAKZiA0OQo=" rel="nofollow noreferrer">Try it!</a></p>
<p>I assume that one of these three is on the right track (unless it involves <code>↯⊂∞</code>).</p>
<hr />
<p>The first generates a multiplication table, finds the pairs that multiply to the input, takes the middle one, and generates a rectangle.</p>
<p>The second takes the integers up to the square root of the input, finds which are factors of the input, takes the last one, and makes a rectangle with that side length and the correct area.</p>
<p>The last takes the integers up to the square root of the input, pairs each with the quotient of the input and it, keeps the ones that are equal to their floors, and makes a rectangle using the last one.</p>
<hr />
<p>There were some other solutions that involved sorting by sums or differences, or generating the rectangles before checking the size, but they were all longer than these three.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>47</s> 46 bytes</h1>
<pre><code>0&amp;~Array~#&amp;@@SortBy[{d=Divisors@#,#/d},Tr]&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b730CtzrGoKLGyTlnNwSE4v6jEqTK6OsXWJbMsszi/qNhBWUdZP6X2fX@7TkhRrNr/gKLMvBKHkPzgEiAj3cG9KDPFIc3BNTkj30FZrS44OTGvrprLUIfLyESHy0KHy9Bch8vYQIfLxJKr9j8A" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p><code></code> is <code>\[Transpose]</code>. Returns an array of <code>0</code>s.</p>
<hr />
<h2><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 47 bytes</h2>
<pre><code>Table@@Last@SortBy[Sort]@In[,d=Divisors@#,#/d]&amp;
</code></pre>
<p><a href="https://tio.run/##FcaxCsIwEADQ/X4j0OlAqwV1KByiiOCgpFvpEJPUBmwCySmI2F@POr03Kh7sqNhplfs6N@p6t0QnlZhkiLx9tX86OvoWTb1zT5dCTCRQzExX5MvDWaZzdJ6pCZJ/udEhOkM97fUQSBST1MpPbygRFhXCGqFcISznCNUGPvkL" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Returns an array of <code>Null</code>s.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 7 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Uses spaces, outputs an array of lines</p>
<pre><code>ç òUâ Ì
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=5yDyVeIgzA&amp;footer=becnTw&amp;input=MzAKLVI" rel="nofollow noreferrer">Try it</a></p>
<pre><code>ç òUâ Ì     :Implicit input of integer U
ç           :U spaces
  ò         :Partitions of length
   Uâ       :  Divisors of U
      Ì     :  Last element
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 43 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(n,i=1:n^.5)matrix(0,k&lt;-max(i[!n%%i]),n/k)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhY3tWM08nQybQ2t8uL0TDVzE0uKMis0DHSybXRzEys0MqMV81RVM2M1dfL0szWhWkrTNAw1rZMTSzSUdIEgJk9JkytNw8gEU8wCU8jQHFPM2ABTzMQSTQxi-YIFEBoA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Returns a 2D matrix of 0s.</p>
<hr />
<h3><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 48 bytes</h3>
<pre class="lang-r prettyprint-override"><code>\(n,i=1:n^.5)write(rep(0,n),1,max(i[!n%%i]),,&quot;&quot;)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhY3DWI08nQybQ2t8uL0TDXLizJLUjWKUgs0DHTyNHUMdXITKzQyoxXzVFUzYzV1dJSUNKH6StM0DDWtkxNLNJR0gSAmT0mTK03DyARTzAJTyNAcU8zYAFPMxBJNDGL5ggUQGgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>First version when I didn't read that printing output is optional not required.</p>
</div>
<div id="pu4" class="pu"><h1>Google Sheets, 104 bytes</h1>
<pre><code>=reduce(wraprows(1,A1,1),sequence(A1^0.5),lambda(r,n,if(mod(A1/n,1),r,makearray(n,A1/n,lambda(x,y,n)))))
</code></pre>
<p>Put <span class="math-container">\$N\$</span> in cell <code>A1</code> and the formula in cell <code>B1</code>.</p>
<p><img src="https://i.sstatic.net/lG5inMl9.png" alt="screenshot" /></p>
<p>Uses the number of rows as the value to show in the grid.</p>
<p>Ungolfed:</p>
<pre><code>=reduce(wraprows(1, A1, 1), sequence(A1 ^ 0.5), lambda(result, n, 
  if(mod(A1 / n, 1), 
    result, 
    makearray(n, A1 / n, lambda(x, y, n)) 
  ) 
))
</code></pre>
</div>
<div id="pu5" class="pu"><h1>APL+WIN, <s>36</s> 34 bytes</h1>
<p>Prompts for n</p>
<pre><code>((n÷v),v←↑⌽(0=m|n)/m←⍳⌊(n←⎕)*.5)⍴0
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v@ob6qvz6O2CcZcQJanP5BlyPWooz3tv4ZG3uHtZZo6ZUChR20TH/Xs1TCwza3J09TPBYn0bn7U06WRB2L2TdXU0jPVfNS7xeA/UCvX/zQuQy51BXWuNC4jEyjDAkobmkMZxgZQhoklFxcA" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online! Thanks to Dyalog Classic</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 8 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>sÆDŒHḢṪ¬
</code></pre>
<p>A monadic Link that accepts a positive integer, <span class="math-container">\$N\$</span>, and yields a rectangular list of lists of zeros as near to square as possible (more rows than columns if non-square <span class="math-container">\$N\$</span>).</p>
<p><strong><a href="https://tio.run/##ASgA1/9qZWxsef//c8OGRMWSSOG4ouG5qsKs/yzDh8WS4bmY4oKsKUf//zQy" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>sÆDŒHḢṪ¬ - Link: positive integer, N
 ÆD      - divisors of {N}
s        - {[1..N]} split into chunks of {those}
   ŒH    - split into two (with first half one longer when N is square)
     Ḣ   - head of {that} -&gt; all ways to make a rectangle with rows &lt;= root(N)
      Ṫ  - tail of {that} -&gt; the one with the most rows
       ¬ - logical NOT (convert all the values to zeros)
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-pa</code>, 49 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_=0|sqrt;$_++while&quot;@F&quot;%$_;$_=(1x$_.$/)x(&quot;@F&quot;/$_)
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3tagpriwqMRaJV5buzwjMydVycFNSVUlHihgq2FYoRKvp6KvWaEBEtVXidf8/9/Q/F9@QUlmfl7xf92CRAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1>JavaScript (ES6), 57 bytes</h1>
<p>Returns a single string of <code>0</code>'s and newlines.</p>

<pre class="lang-none prettyprint-override"><code>f=(n,q,r=`
`)=&gt;q*q&gt;n?o:f(n,-~q,0+r,n%q?0:o=r.repeat(n/q))
</code></pre>
<p><a href="https://tio.run/##Zc1BCoMwEADAu/8oZNtoYxVshehXDDaRFtl1V/Ho11OvJde5zNftbh3ls2w50tvHGKxCzVrskA1gO75yhz214dT8YG1uovHCvWnJSiF@8W5TeGeAOBKuNPtipkkFVQJk//KoE3omUjYJVSah@nV@Pw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276608/">276608</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




