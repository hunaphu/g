<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276608</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>029</td><td>APLDyalog Unicode</td><td>241112T164414Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276644#276644">akamayu</a></td></tr>
<tr d-ix="1"><td>007</td><td>Vyxal</td><td>241112T154706Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276640#276640">noodle p</a></td></tr>
<tr d-ix="2"><td>066</td><td>C gcc</td><td>241112T143927Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276639#276639">jdt</a></td></tr>
<tr d-ix="3"><td>078</td><td>Google Sheets</td><td>241111T173210Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276615#276615">doubleun</a></td></tr>
<tr d-ix="4"><td>052</td><td>JavaScript Node.js</td><td>241112T032844Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276626#276626">l4m2</a></td></tr>
<tr d-ix="5"><td>045</td><td>Perl 5 pa</td><td>241111T172018Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276614#276614">Xcali</a></td></tr>
<tr d-ix="6"><td>010</td><td>05AB1E</td><td>241112T092659Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276633#276633">Kevin Cr</a></td></tr>
<tr d-ix="7"><td>050</td><td>JavaScript ES6</td><td>241111T165338Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276612#276612">Arnauld</a></td></tr>
<tr d-ix="8"><td>016</td><td>Charcoal</td><td>241112T102125Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276634#276634">Neil</a></td></tr>
<tr d-ix="9"><td>046</td><td>Retina 0.8.2</td><td>241112T055117Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276628#276628">Neil</a></td></tr>
<tr d-ix="10"><td>018</td><td>TinyAPL</td><td>241112T060950Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276629#276629">noodle p</a></td></tr>
<tr d-ix="11"><td>083</td><td>Javascript ES6</td><td>241112T023125Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276625#276625">ninjamar</a></td></tr>
<tr d-ix="12"><td>014</td><td>Uiua</td><td>241111T200122Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276618#276618">nyxbird</a></td></tr>
<tr d-ix="13"><td>007</td><td>Jelly</td><td>241111T170141Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276613#276613">Jonathan</a></td></tr>
<tr d-ix="14"><td>074</td><td>Python 2</td><td>241112T000114Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276623#276623">Lucenapo</a></td></tr>
<tr d-ix="15"><td>007</td><td>Japt</td><td>241111T161611Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276611#276611">Shaggy</a></td></tr>
<tr d-ix="16"><td>040</td><td>Wolfram Language Mathematica</td><td>241111T173950Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276616#276616">att</a></td></tr>
<tr d-ix="17"><td>043</td><td>R</td><td>241111T183001Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276617#276617">pajonk</a></td></tr>
<tr d-ix="18"><td>034</td><td>APL+WIN</td><td>241111T160543Z</td><td><a href="https://codegolf.stackexchange.com/questions/276608/make-an-almost-square/276610#276610">Graham</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://dyalog.com" rel="nofollow noreferrer">APL(Dyalog Unicode)</a>, <sup><s></s></sup>29 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a></sup></h1>
<p>Find the middle factor pair, then reshape the number into the rectangle.</p>
<pre><code>(⊣⍴⍨⊢,÷)∘((⍸⊃⍨2⌈⍤÷⍨+⌿)0=⍳|⊢)⍨
</code></pre>
<p>It's the tacit version of <code>{⍵⍴⍨j,⍵÷j←(⍸i)⊃⍨2⌈⍤÷⍨+⌿i←0=⍵|⍨⍳⍵}</code>. The following snippet explains what it does more clearly.</p>
<pre><code>{
    i ← 0=(⍳⍵)|⍵      ⍝ Bit mask for factor of N in [1,N]
    j ← (⌈(+⌿i)÷2)⊃⍸i ⍝ The factor in the middle
                      ⍝ (Take the larger one for odd N)
    k ← j,⍵÷j         ⍝ The desired shape
    k ⍴ ⍵             ⍝ Reshape of N in the desired shape
}
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=K1F41DZBoVpDPU1BXUfjUe/UR71bNXXUgaKT1DUh/F1ApAASrgUA&amp;c=03jUtfhR75ZHvSsedS3SObxd81HHDA2NR707HnU1AwWNHvV0POpdcng7kK39qGe/poHto97NNUC1mkARAA&amp;f=e9Q79VHbRI00hRLNQyse9W42NgIA&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=dfn&amp;n=f" rel="nofollow noreferrer">Try it on APLgolf!</a></p>
<p>Another one using square root in 25 bytes, but I like the one without it more.</p>
<pre><code>{⍵(⊣⍴⍨⊢,÷)0⊥⍸0=⍵|⍨⍳⌈⍵*.5}
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=K1F41DZBoVpDPU1BXUfjUe/UR71bNXXUgaKT1DUh/F1ApAASrgUA&amp;c=q37Uu1XjUdfiR71bHvWueNS1SOfwdk2DR11LH/XuMLAFStaAhHs3P@rpAHK09ExrAQ&amp;f=e9Q79VHbRI00hRLNQyse9W42NgIA&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=dfn&amp;n=f" rel="nofollow noreferrer">Try it on APLgolf!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 7 bytes</h1>
<pre><code>K:Y∆ṁÞm
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJBIiwiIiwiSzpZ4oiG4bmBw55tIiwiw57EoMK2cCIsIjQwXG4yNSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Explanation:</p>
<p><code>K</code> gives the increasing list of all of the factors of the input.</p>
<p><code>:Y</code> interleaves this list with itself, giving two of each factor.</p>
<p><code>∆ṁ</code> gives the median of the list. The list is always of even length because we doubled the number of elements previously.</p>
<p>In most cases we wouldn't need to do the interleaving step, as the two middle elements would be the factor pair. In the case of the input already being a perfect square, however, that number is the middle of the list but it's only present once. By having two of each factor, we fix this case, and the normal case is unaffected because the two middle elements are still the factor pair.</p>
<p>Finally, <code>Þm</code> turns the list of dimensions into an array with that shape filled with zeroes.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 66 bytes</h1>

<pre class="lang-c prettyprint-override"><code>j;f(n){for(j=sqrt(n);n%j;j--);for(n/=j;j--;)printf(&quot;%0*d\n&quot;,n,0);}
</code></pre>
<p><a href="https://tio.run/##RYzBDoIwEETvfMWmCclWaCznlT/xQmpK2sCKUOOB8OvWFjHuZffNzoxRvTExerLIcrX3GX27POaQiLj05JWSlGU@tzuRnGbHwaIo9el2ZVFzrSVtMYkwdo5RwloAQAoBZtFBCw2BuzQ6r6o6DGl@VdlS7mXgJB1Pi/97eoYFhfjyVmzxbezQ9UtUwxjV6wM" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1>Google Sheets, 78 bytes</h1>
<pre><code>=let(i,sequence(A1^0.5),y,max(filter(i,0=mod(A1,i))),rept(rept(0,A1/y)&amp;&quot;
&quot;,y))
</code></pre>
<p>Put <span class="math-container">\$N\$</span> in cell <code>A1</code> and the formula in cell <code>B1</code>. The formula uses a hard-coded newline in quotes — you can enter that with <strong>Control + Enter</strong> while editing the formula.</p>
<p>The result is a text string with newlines. To get a 2D array instead, use this (<strong>85 bytes</strong>):</p>
<pre><code>=let(i,sequence(A1^0.5),y,max(filter(i,0=mod(A1,i))),makearray(y,A1/y,lambda(r,c,y)))
</code></pre>
<p>This formula uses the number of rows as the value to show in the grid.</p>
<p><img src="https://i.sstatic.net/QSgfzkUn.png" alt="screenshot" /></p>
<p>Ungolfed:</p>
<pre><code>=let( 
  candidates, sequence(A1 ^ 0.5), 
  height, max(filter(candidates, not(mod(A1, candidates)))), 
  width, A1 / height, 
  makearray(height, width, lambda(row, column, height)) 
)
</code></pre>
<p>(-5 bytes thanks to <a href="https://codegolf.stackexchange.com/users/41374/jdt">jdt</a>)</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 52 bytes</h1>

<pre class="lang-none prettyprint-override"><code>f=(n,q=r=`
`)=&gt;q*q&lt;n|n%q?f(n,++q,r+=0):r.repeat(n/q)
</code></pre>
<p><a href="https://tio.run/##ZchBDoIwEADAO/8w6VJEUBKFuPAVGmgJhmzZhXjy75Ur6RznY75mG2Re9yv50YbgUFHGKNgnPWDLKb/pRxfu3PFacyYaC2gkF7tasyu6MYTB0@YXmy9@Uk6VAMl57lVUr2jKZ1SPIqqqBgh/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>From Arnauld's</p>
<h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 50 bytes</h1>

<pre class="lang-none prettyprint-override"><code>f=lambda n,q=1:q*[n//q*[0]][n%q:q*q&gt;=n]or f(n,q+1)
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/7/P802JzE3KSVRIU@n0NbQqlArOk9fH0gaxMZG56kWAgUK7WzzYvOLFNI0gEq0DTX/FxRl5pVopGkYampywdhGJkgcCyS2oTkSx9gAiWNiqan5HwA" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>-3 bytes from xnor and Albert.Lang</p>
<p>Same idea</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-pa</code>, 45 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$;=0|sqrt;$;++while$_%$;;$_=(1x$;.$/)x($_/$;)
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/1/F2tagpriwqMRaxVpbuzwjMydVJV5VxdpaJd5Ww7BCxVpPRV@zQkMlXl/FWvP/fyOTf/kFJZn5ecX/dQsSAQ" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>11</s> 10 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ÑÅsD¸˜`иÅ8
</code></pre>
<p>Outputs as a matrix of <code>8</code>s (could be any other digit or spaces for the same byte-count).</p>
<p><a href="https://tio.run/##yy9OTMpM/f//8MTDrcUujxpmnZ6TcGHH4VaL//8NDQwA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V@m5JlXUFpipaBkX6nDpeRfWgLh6VT@PzzxcGuxy6OGWafnJFzYcbjV4r/Xod06h7bZ/4821DEy0bHQMTTXMTbQMQEiSx1DA4NYAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-none prettyprint-override"><code>Ñ          # Get the divisors of the (implicit) input-integer
 Ås        # Get the middle value (for squares) or middle pair (for non-squares)
   D‚      # Pair it with a copy of itself
     ˜     # Flatten, so we now have a pair or quartet
      `    # Pop and push both or all four values to the stack
       и   # Repeat the second-last item the last item amount of times as list
        Å8 # Map each inner value to a list of that many 8s
           # (after which the matrix of 8s is output implicitly as result)
</code></pre>
<p>NOTE: I can't remove the <code>¸˜</code>, since the <code>`</code> would incorrectly push the loose digits of multi-digit squares (e.g. <span class="math-container">\$100\$</span> ).</p>
</div>
<div id="pu7" class="pu"><h1>JavaScript (ES6), 50 bytes</h1>
<p>Returns a single string made of <code>0</code>'s and newlines.</p>

<pre class="lang-none prettyprint-override"><code>f=(n,r=q=`0
`)=&gt;++q*q&lt;n|n%q?f(n,0+r):r.repeat(n/q)
</code></pre>
<p><a href="https://tio.run/##DcxLDoIwEADQPaeYBSatVCxC4re48hRq0gZbPyFTOhA3yNkr65e8j/mavqF3N6zQP2yMTjEUpILSMtFc1VkWluGEP1yEs5tJZsQPlJPtrBkYrgOPxysUAjaVgJ2AYiuglAKqPdxz5@limhdDUHUC0HjsfWvz1j@ZRpWOON0wHeeWT5onPP4B" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-none prettyprint-override"><code>f = (             // f is a recursive function taking:
  n,              //   n = input
  r =             //   r = string holding the the almost-square row,
                  //       initially set to &quot;0&quot; + newline
  q = `0\n`       //   q = divisor, initially zero'ish
) =&gt;              //
++q * q &lt; n |     // increment q; if q² is less than n
n % q ?           // or q is not a divisor of n:
  f(              //   do a recursive call:
    n,            //     pass n unchanged
    0 + r         //     insert a &quot;0&quot; at the beginning of r
  )               //   end of recursive call
:                 // else:
  r.repeat(n / q) //   return r repeated n/q times
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 16 bytes</h1>
<pre><code>Ｎθ⪪×0θ⊕⌈Φ₂θ¬﹪θ⊕ι
</code></pre>
<p><a href="https://tio.run/##VYuxCsIwEEB3v6J0ukCFDm7dhQ4tYv2BmB54kEua8yL@/VnBxbe85b3w8BKyj2Zj2qrOle8oUNxwuAglhWWLpHAjxie0fds1xXXNmIIgY1JcYfJv4spwpqj7uZTqBa85K3zLefeU1xozlP@P3I/B7NTb8RU/" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Only works up to <code>2¹⁰⁶</code> due to floating-point inaccuracy but but would be stupidly slow well before then anyway. Outputs a rectangle of <code>0</code>s where the width is no greater than the height. Explanation:</p>
<pre><code>Ｎθ                  Input `N` as a number
    0               Literal string `0`
   ×                Repeated
     θ              `N` times
  ⪪                 Split into substrings of length
          θ         Input `N`
         ₂          Square root
        Φ           Filtered over implicit range where
             θ      Input `N`
           ¬﹪       Is divisible by
               ι    Current value
              ⊕     Incremented
       ⌈            Take the maximum
      ⊕             Incremented
                    Implicitly print
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 46 bytes</h1>
<pre><code>.+
$*
^((.)+?)((?&lt;-2&gt;\1))*$
$1$#3$*0
+1`0
¶$%`
</code></pre>
<p><a href="https://tio.run/##K0otycxL/K@q4Z7wX0@bS0WLK05DQ09T215TQ8PeRtfILsZQU1NLhUvFUEXZWEXLgEvbMMGA69A2FdWE//8NuYxMuCy4DM25jA24TAwA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Outputs a rectangle of <code>1</code>s (this can be changed without affecting the byte count) where the height is no more than 1 greater than the width. Explanation:</p>
<pre><code>.+
$*
</code></pre>
<p>Convert to unary.</p>
<pre><code>^((.)+?)((?&lt;-2&gt;\1))*$
$1$#3$*0
</code></pre>
<p>Factorise the input into two almost-square-roots. <code>$#3</code> is actually <code>1</code> less than the second factor, which is why it might equal <code>$.1</code> and therefore the second factor would be <code>1</code> greater, although they are still both almost square roots in this scenario. The first factor is represented in unary as a string of <code>1</code>s while the second factor can use any other printable ASCII character as it will be replaced with newlines below. Alternatively, the first character could have been any ASCII character other than <code>1</code> in which case the second factor would need to be represented by <code>1</code>s to keep the same byte count.</p>
<pre><code>+1`0
¶$%`
</code></pre>
<p>Repeat the first factor the second factor of times.</p>
<p>38 bytes in <a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a> 1:</p>
<pre><code>.+
*
^((.)+?)((?&lt;-2&gt;\1))*$
$1$#3*$(¶$1
</code></pre>
<p><a href="https://tio.run/##K0otycxLNPyvquGe8F9Pm0uLK05DQ09T215TQ8PeRtfILsZQU1NLhUvFUEXZWEtF49A2FcP//w25jEy4LLgMzbmMDbhMDAA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Link includes test cases. Outputs a rectangle of <code>_</code>s where the height is no more than <code>1</code> greater than the width. Explanation: As above but <code>$(</code> is used to generate the output rectangle directly.</p>
<p>35 bytes in <a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a> 1 with a trailing newline:</p>
<pre><code>.+
*
(?&lt;-2&gt;(^(_)+?|\1))+$
$#1*$($1¶
</code></pre>
<p><a href="https://tio.run/##K0otycxLNPyvquGe8F9Pm0uLS8PeRtfITiNOI15T274mxlBTU1uFS0XZUEtFQ8Xw0Lb//w25jEy4LLgMzbmMDbhMDAA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Outputs a rectangle of <code>_</code>s where the height is not greater than the width. Explanation: Based on my answer to <a href="https://codegolf.stackexchange.com/q/204744">Closest to a square</a> which factorises the input into <code>$#1</code> and <code>$.1</code> but outputs the rectangle instead of its dimensions.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/RubenVerg/tinyapl" rel="nofollow noreferrer">TinyAPL</a>, 18 bytes</h1>
<pre><code>÷⇾⍪⟜{⊇⍒⍵|⍨⍳⧺⌊√⍵}⊸⍴
</code></pre>
<p><a href="https://beta.tinyapl.rubenverg.com/run/latest/?run=F%20%E2%86%90%20%C3%B7%E2%87%BE%E2%8D%AA%E2%9F%9C%7B%E2%8A%87%E2%8D%92%E2%8D%B5%7C%E2%8D%A8%E2%8D%B3%E2%A7%BA%E2%8C%8A%E2%88%9A%E2%8D%B5%7D%E2%8A%B8%E2%8D%B4&amp;run=%E2%89%A2%22%C3%B7%E2%87%BE%E2%8D%AA%E2%9F%9C%7B%E2%8A%87%E2%8D%92%E2%8D%B5%7C%E2%8D%A8%E2%8D%B3%E2%A7%BA%E2%8C%8A%E2%88%9A%E2%8D%B5%7D%E2%8A%B8%E2%8D%B4%22&amp;run=F%208&amp;run=F%2017&amp;run=F%2024&amp;run=F%2040" rel="nofollow noreferrer">Try it</a></p>
<p>The method this uses comes from nyxbird's Uiua solution.</p>
<p>I did some experimentation to find the shortest way to arrange all the pieces here, and I ended up with having the middle section written as an explicit function because writing it tacitly required a lot of <code>⍤ Atop</code>s and <code>⍛ Before</code>s:</p>
<pre><code>÷⇾⍪⟜(⍳⍤⧺⍤⌊⍤√⊸|⍛⍒⍛⊇)⊸⍴
</code></pre>
</div>
<div id="pu11" class="pu"><h1>Javascript (ES6), 83 bytes</h1>
<pre class="lang-js prettyprint-override"><code>f=x=&gt;(h=x**.5|0,w=x/h|0,w*h!=x?&quot;0&quot;.repeat(x):Array(h).fill(&quot;0&quot;.repeat(w)).join`
`)
</code></pre>
<p>This function returns a string of zeros delimited by newlines.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, <strike>18</strike> 14 bytes</h1>
<p><sup><strike>2 away...</strike> birdie! -2 bytes thanks to noodle person</sup></p>
<pre><code>↯⊟◡÷⊣⍖⊸◿⇡+1⌊√.
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_14_0-dev_2__IyBFeHBlcmltZW50YWwhCmYg4oaQIOKGr-KKn-KXocO34oqj4o2W4oq44pe_4oehKzHijIriiJouCmYgMQpmIDI0CmYgOApmIDE3CmYgMzAKZiA0OQo=" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>↯⊟◡÷⊣⍖⊸◿⇡+1⌊√.
          ⇡+1⌊√   # get the range from 0-flr(sqrt(n))+1
         ◿     . # mod n by each
    ⊣⍖          # find the index (i) of the last 0
↯⊟◡÷  ⊸         # reshape n into a i x (n/i) array
</code></pre>
<p><code>⊣ last ⍖ fall</code> gets the index of the smallest element, breaking ties toward the end. Here, 0 is always the smallest because at least one number in the range divides <code>n</code>.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 8 </s> 7 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>sⱮ½¬EƇṪ
</code></pre>
<p>A monadic Link that accepts a positive integer, <span class="math-container">\$N\$</span>, and yields a rectangular list of lists of zeros as near to square as possible (more rows than columns if non-square <span class="math-container">\$N\$</span>). (Won't work for huge inputs due to floating point inaccuracies creeping in.)</p>
<p><strong><a href="https://tio.run/##AScA2P9qZWxsef//c@KxrsK9wqxFxofhuar/LMOHxZLhuZjigqwpR///NDI" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h4>How?</h4>
<pre><code>sⱮ½¬EƇṪ - Link: positive integer, N
  ½     - square root {N}
 Ɱ      - map across {x in [1 .. floor(root(N))]} with:
s       -   split {[1..N]} into chunks of length {x} (trailing shorter if need be)
   ¬    - logical NOT (converts all values to zeros)
     Ƈ  - keep those for which:
    E   -   all equal?
      Ṫ - tail
</code></pre>
<hr />
<h3>8 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h3>
<p>(With no floating point inaccuracy)</p>
<p>Either change <code>½</code> to <code>Æ½</code> in the above or...</p>
<pre><code>sÆDŒHḢṪ¬
</code></pre>
<p><strong><a href="https://tio.run/##ASgA1/9qZWxsef//c8OGRMWSSOG4ouG5qsKs/yzDh8WS4bmY4oKsKUf//zQy" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>sÆDŒHḢṪ¬ - Link: positive integer, N
 ÆD      - divisors of {N}
s        - {[1..N]} split into chunks of {those}
   ŒH    - split into two (with first half one longer when N is square)
     Ḣ   - head of {that} -&gt; all ways to make a rectangle with rows &lt;= root(N)
      Ṫ  - tail of {that} -&gt; the one with the most rows
       ¬ - logical NOT (convert all the values to zeros)
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 74 bytes</h1>

<pre class="lang-none prettyprint-override"><code>def f(b):a=[x+1for x in range(b)if-1&lt;b%~x&lt;b&gt;x*x][-1];print(b/a*'0'+'\n')*a
</code></pre>
<p><a href="https://tio.run/##Dcg5DoAgEADAr9AYrhjFynh9BC0gukqzGEKxNn4dnXLuJ18Ru1L2AxgILwc3W9IGYmLEArLk8Dz@D1CbyVcvTX4hRZutzTbeKWAWvnGKt1zzFblUroAwvSwf" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 7 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Uses <code>q</code>, outputs an array of lines</p>
<pre><code>ç¬òUâ Ì
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=56zyVeIgzA&amp;footer=becnTw&amp;input=MzAKLVI" rel="nofollow noreferrer">Try it</a></p>
<pre><code>ç¬òUâ Ì     :Implicit input of integer U
ç           :Repeat U times
 ¬          :  &quot;q&quot;
  ò         :Partitions of length
   Uâ       :  (Paired) Divisors of U
      Ì     :  Last element
</code></pre>
<h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-h</code></a>, 7 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Uses <code>l</code>, outputs an array of lines</p>
<pre><code>â £îÊòX
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LWg&amp;code=4iCj7sryWA&amp;input=MzAKLVI" rel="nofollow noreferrer">Try it</a></p>
<pre><code>â £îÊòX     :Implicit input of integer U
â           :Divisors
  £         :Map each X
   î        :  Mold to length U
    Ê       :    &quot;l&quot;
     òX     :  Partitions of length X
            :Implicit output of last element
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>47</s> <s>46</s> 40 bytes</h1>
<pre><code>Table[,If[i∣#,d=i]~Do~{i,√#};d,#/d]&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b7PyQxKSc1WsczLTrzUcdiZZ0U28zYOpf8uupMnUcds5RrrVN0lPVTYtX@BxRl5pU4hOQHlwAZ6Q7uRZkpDmkOrskZ@Q7KanXByYl5ddVchjpcRiY6XBY6XIbmOlzGBjpcJpZctf8B" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Returns an array of <code>Null</code>s.</p>
<pre><code>                  ~Do~{i,√#}        for i=1... i*i&lt;=N:
       If[i∣#,d=i]                    i divides N: update shape
Table[,                      d,#/d] Nulls of that shape
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 43 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(n,i=1:n^.5)matrix(0,k&lt;-max(i[!n%%i]),n/k)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhY3tWM08nQybQ2t8uL0TDVzE0uKMis0DHSybXRzEys0MqMV81RVM2M1dfL0szWhWkrTNAw1rZMTSzSUdIEgJk9JkytNw8gEU8wCU8jQHFPM2ABTzMQSTQxi-YIFEBoA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Returns a 2D matrix of 0s.</p>
<hr />
<h3><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 48 bytes</h3>
<pre class="lang-r prettyprint-override"><code>\(n,i=1:n^.5)write(rep(0,n),1,max(i[!n%%i]),,&quot;&quot;)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhY3DWI08nQybQ2t8uL0TDXLizJLUjWKUgs0DHTyNHUMdXITKzQyoxXzVFUzYzV1dJSUNKH6StM0DDWtkxNLNJR0gSAmT0mTK03DyARTzAJTyNAcU8zYAFPMxBJNDGL5ggUQGgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>First version when I didn't read that printing output is optional not required.</p>
</div>
<div id="pu18" class="pu"><h1>APL+WIN, <s>36</s> 34 bytes</h1>
<p>Prompts for n</p>
<pre><code>((n÷v),v←↑⌽(0=m|n)/m←⍳⌊(n←⎕)*.5)⍴0
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v@ob6qvz6O2CcZcQJanP5BlyPWooz3tv4ZG3uHtZZo6ZUChR20TH/Xs1TCwza3J09TPBYn0bn7U06WRB2L2TdXU0jPVfNS7xeA/UCvX/zQuQy51BXWuNC4jEyjDAkobmkMZxgZQhoklFxcA" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online! Thanks to Dyalog Classic</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276608/">276608</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




