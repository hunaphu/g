<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::378</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>383</td><td>Microsoft Excel Formula 383 Characters</td><td>250510T041540Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/279640#279640">CalfordM</a></td></tr>
<tr d-ix="1"><td>215</td><td>PowerShell</td><td>190821T060245Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/190497#190497">mazzy</a></td></tr>
<tr d-ix="2"><td>094</td><td>J</td><td>190821T132642Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/190529#190529">Olius</a></td></tr>
<tr d-ix="3"><td>120</td><td>Perl</td><td>160317T104948Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/75685#75685">Ton Hosp</a></td></tr>
<tr d-ix="4"><td>480</td><td>Clojure</td><td>140715T200351Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/34590#34590">seequ</a></td></tr>
<tr d-ix="5"><td>195</td><td>Perl</td><td>140711T133427Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/34396#34396">Qwix</a></td></tr>
<tr d-ix="6"><td>103</td><td>J</td><td>140213T042902Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/20766#20766">Eelvex</a></td></tr>
<tr d-ix="7"><td>322</td><td>D</td><td>140108T142004Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/17976#17976">mleise</a></td></tr>
<tr d-ix="8"><td>nan</td><td></td><td>110203T080454Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/402#402">Jonathan</a></td></tr>
<tr d-ix="9"><td>188</td><td>Python</td><td>121204T131427Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/9137#9137">Cyphase</a></td></tr>
<tr d-ix="10"><td>nan</td><td></td><td>121020T011825Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/8756#8756">pathikri</a></td></tr>
<tr d-ix="11"><td>235</td><td>Perl</td><td>120816T181004Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/7010#7010">Ilmari K</a></td></tr>
<tr d-ix="12"><td>072</td><td>k</td><td>120302T164728Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/5030#5030">skeevey</a></td></tr>
<tr d-ix="13"><td>197</td><td>Python</td><td>110203T233742Z</td><td><a href="https://codegolf.stackexchange.com/questions/378/implement-a-brute-force-sudoku-solver/446#446">Keith Ra</a></td></tr>
</table>
<div id="pu0" class="pu"><h2>Microsoft Excel Formula (383 Characters)</h2>
<p>Receives 81 character string and outputs the same.  Replace variable &quot;i&quot; in the last part of the formula &quot;WRAPROWS(MID(<strong>i</strong>,SEQUENCE(1,81,1),1),9)&quot; with the 81 character puzzle string.</p>
<pre><code>=LET(S,LAMBDA(S,p,LET(n,SEQUENCE(9,9,0),z,XMATCH(0,TOCOL(--p))-1,g,UNIQUE(VSTACK(SEQUENCE(9),TOCOL(INDEX(p,FLOOR(INT(z/9),3)+{1;2;3},FLOOR(MOD(z,9),3)+{1,2,3})),TOCOL(INDEX(p,INT(z/9)+1,)),INDEX(p,,MOD(z,9)+1)),,1),c,LAMBDA(c,L,x,IF(x&gt;ROWS(L),FALSE,LET(s,S(S,IF(n=z,INDEX(L,x),p)),IF(AND(s),s,c(c,L,x+1))))),IFERROR(c(c,g,1),p))),CONCAT(S(S,--WRAPROWS(MID(i,SEQUENCE(1,81,1),1),9))))
</code></pre>
<p>If the condition to read and output an 81 character string is omitted, you could reference an inputted puzzle in the spreadsheet as a range &quot;A1:I9&quot; and solve it in 341 characters</p>
<pre><code>=LET(S,LAMBDA(S,p,LET(n,SEQUENCE(9,9,0),z,XMATCH(0,TOCOL(--p))-1,g,UNIQUE(VSTACK(SEQUENCE(9),TOCOL(INDEX(p,FLOOR(INT(z/9),3)+{1;2;3},FLOOR(MOD(z,9),3)+{1,2,3})),TOCOL(INDEX(p,INT(z/9)+1,)),INDEX(p,,MOD(z,9)+1)),,1),c,LAMBDA(c,L,x,IF(x&gt;ROWS(L),FALSE,LET(s,S(S,IF(n=z,INDEX(L,x),p)),IF(AND(s),s,c(c,L,x+1))))),IFERROR(c(c,g,1),p))),S(S,A1:I9))
</code></pre>
<p>Unpacked and with comments:</p>
<pre class="lang-none prettyprint-override"><code>=LET(
    S, LAMBDA(S, p, 
        LET(
            n, SEQUENCE(9, 9, 0),  // Creates a 9x9 grid initialized with zeros
            z, XMATCH(0, TOCOL(--p))-1,  // Finds the first empty cell (value 0)
            g, UNIQUE(
                VSTACK(
                    SEQUENCE(9),  // Numbers 1-9 for possible candidates
                    TOCOL(INDEX(p, FLOOR(INT(z/9),3) + {1;2;3}, FLOOR(MOD(z,9),3) + {1,2,3})),  // Values from 3x3 box
                    TOCOL(INDEX(p, INT(z/9) + 1, )),  // Values from the same row
                    INDEX(p,, MOD(z,9) + 1)  // Values from the same column
                ), ,1 
            ),  // Filters unique numbers to determine valid possibilities
            
            c, LAMBDA(c, L, x, 
                IF(
                    x &gt; ROWS(L), FALSE,  // Terminates recursion if out of range
                    LET(
                        s, S(S, IF(n = z, INDEX(L, x), p)),  // Recursively updates the Sudoku grid
                        IF(AND(s), s, c(c, L, x + 1))  // Continues recursion or returns solution
                    )
                )
            ),  // Recursive function to fill in Sudoku grid

            IFERROR(c(c, g, 1), p)  // Handles errors and returns the completed puzzle
        )
    ), 

    S(S, A1:I9)  // Initiates the solving function with the given puzzle range
)
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, <s>244</s> <s>242</s> <s>218</s> 215 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>$a=(24,24,6)*3|%{,(0..8|%{($r++)});,(0..8|%{$c%81;$c+=9});$c++;,((1,1,7)*3|%{+$q;$q+=$_});$q-=$_}
$f={param($s)$l,$r=$s-split0,2;if($p=$a|?{$l.length-in$_}){1..9|?{"$_"-notin($p|%{$s[$_]})}|%{&amp;$f "$l$_$r"}}else{$s}}
</code></pre>

<p><a href="https://tio.run/##1VLbrpswEHznKyzOpoJykS9g7EaolfrcL6gqhBLnHFQCBBO1EuHb0zWkR@17VeksaFnPjGf2gaH/YUb7Ytr2foe6DHgW4yvD9@K2m@OApqnCIYAxisIl3L8icNgptodDVGqE8RshF7CYxcV2N4LLHi5RCZXjL4kbPDiV81CP9TkAG0Ibw1iCTezQNhON@b45BTCUUN8@ztCmremep5ek6ZzFzNJUI@5D5SddPzUdSt0e9itU35ZwwfkdnIgPLVQw@stiWmuQXpb7p8AjWDEJiK8EzzWTRZZpKVTBc5YXjMtMK8FUXmRSaM5loXORMaUzoRgvJEqQUDnXgmtW5CqTEhulVFA/Xs1d/VNznEXhk9Bb7Z9@b4@ZjLqSruX4uMIAqhwoKN9wB1KxYhQDNtVGqvXw1/ZP/2l/@hb3D8mN7Mi8BoG9Hvvv15iA@TmYw2SOpCRQbdzUnA0ev5jaXkeTfO7P57o7Pm6uitHYazuhxv2qD6@VXdbuQ/CQJIe@m@qms6854YctwPf@cPKW@y8" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>

<p>The script finds all solutions for a sudoku.</p>

<p>Unrolled:</p>

<pre class="lang-powershell prettyprint-override"><code>$a=(24,24,6)*3|%{                       # array of indexes for a sudoku...
    ,(0..8|%{($r++)})                   # rows
    ,(0..8|%{$c%81;$c+=9});$c++         # columns
    ,((1,1,7)*3|%{+$q;$q+=$_});$q-=$_   # and squares
}

$f = {
    param($s)

    # optional log. remove this statement in a release version.
    if($script:iter++ -lt 100 -or ($script:iter%100)-eq0){
        Write-Information ('{0}: {1,6}: {2}'-f (get-Date), $script:iter, ($s-replace0,' ')) -InformationAction Continue
    }

    $left,$right=$s-split0,2                # split by a first 0; $left.length is a position of this 0 if $s contains the 0
    if( $parts=$a|?{$left.length-in$_} ){   # get sudoku parts (rows, columns, squares) contain the position
        1..9|?{                             # try a digit
            "$_"-notin($parts|%{$s[$_]})    # all digits in these parts will be unique if parts do not contain the digit
        }|%{
            &amp;$f "$left$_$right"             # recursive call with the digit
        } #|select -f 1                     # uncomment this to get a first result only
    }
    else{
        $s
    }

}
</code></pre>

<p>Test cases:</p>

<pre class="lang-powershell prettyprint-override"><code>@(
    # 5 iterations, my notebook: 00:00:00, all
    # 5 iterations, my notebook: 00:00:00, first only
    , ( "832591674496387251571264983185746392267953418943812765714638529329175846658400030",
        "832591674496387251571264983185746392267953418943812765714638529329175846658429137" )

    # ~29600 iterations, my notebook: 00:01:27, all
    #  ~2100 iterations, my notebook: 00:00:10, first only
    # , ( "830001000006000050500000983080006302000050000903800060714000009020000800000400030",
    #     "832591674496387251571264983185746392267953418943812765714638529329175846658429137" )

    # ~49900 iterations, my notebook: 00:02:39, all
    # ~22400 iterations, my notebook: 00:01:20, first only
    # , ( "030001000006000050500000983080006302000050000903800060714000009020000800000400030",
    #     "832591674496387251571264983185746392267953418943812765714638529329175846658429137" )

) | % {
    $sudoku, $expected = $_
    $time = Measure-Command {
        $result = &amp;$f $sudoku
    }
    "$($result-contains$expected): $time"
    $result
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1>J, 94 bytes</h1>

<p>Works in exactly the same way as the K version, namely with a BFS (so it shall output all solutions).
It prints spaces between output digits, but so does the K program. I’m not counting “s=:” as this is just naming the function (just like I wouldn’t count the filename in another language).</p>

<pre><code>   s=: [:&lt;@((]i.0:)}"0 _~(&gt;:i.9)-.{&amp;((+./ .=|:)3(],.[,@#.&lt;.@%~)9 9#:i.81)@i.&amp;0#])"1^:(0 e.,)@;^:_"."0

   s'030001000006000050500000983080006302000050000903800060714000009020000800000400030'
8 3 2 5 9 1 6 7 4 4 9 6 3 8 7 2 5 1 5 7 1 2 6 4 9 8 3 1 8 5 7 4 6 3 9 2 2 6 7 9 5 3 4 1 8 9 4 3 8 1 2 7 6 5 7 1 4 6 3 8 5 2 9 3 2 9 1 7 5 8 4 6 6 5 8 4 2 9 1 3 7
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Perl, 120 bytes</h1>

<p>Oh, I remember golfing that back in 2008...
And it in fact stopped working in perl 5.12 since implicit setting of @_ by split was removed then. So only try this on a sufficiently old perl.</p>

<p>Run with the input on STDIN:</p>

<pre><code>sudoku.pl &lt;&lt;&lt; "030001000006000050500000983080006302000050000903800060714000009020000800000400030"
</code></pre>

<p><code>sudoku.pl</code>:</p>

<pre><code>${/[@_[map{$i-($i="@-")%9+$_,9*$_+$i%9,9*$_%26+$i-$i%3+$i%9-$i%27}0..8%split""]]/o||do$0}for$_=$`.$_.$'.&lt;&gt;,/0/||print..9
</code></pre>
</div>
<div id="pu4" class="pu"><h2>Clojure - 480 bytes</h2>
<p>The size exploded, but atleast it's a pretty number. I think it could be improved a lot by using just 1D-vector. Anyways, the test case takes a little under four seconds on my laptop. I thought it would be fitting to define a function, as it is a functional language after all.</p>
<pre><code>(defn f[o &amp;[x y]](if x(if(&gt; y 8)(apply str(map #(apply str %)o))(first(for[q[(o y)]v(if(=(q x)0)(range 1 10)[(q x)])d[(assoc o y(assoc(o y)x v))]s[(and(every? true?(concat(for[i(range 9)](and(or(not=((d y)i)v)(= i x))(or(not=((d i)x)v)(= i y))))(for[m[#(+ %2(- %(mod % 3)))]r[(range 3)]a r b r c[(m y b)]e[(m x a)]](or(and(= e x)(= c y))(not=((d y)x)((d c)e))))))(f d(mod(+ x 1)9)(if(= x 8)(+ 1 y)y)))]:when s]s)))(f(vec(for[a(partition 9 o)](vec(map #(Integer.(str %))a))))0 0)))
</code></pre>
<p>Examples:</p>
<pre><code>(f &quot;030001000006000050500000983080006302000050000903800060714000009020000800000400030&quot;)
=&gt; &quot;832591674496387251571264983185746392267953418943812765714638529329175846658429137&quot;
(f &quot;004720900039008005001506004040010520028050170016030090400901300100300840007085600&quot;)
=&gt; &quot;654723981239148765871596234743819526928654173516237498482961357165372849397485612&quot;
</code></pre>
<p>A slightly ungolfed (and prettier) version:</p>
<pre class="lang-clojure prettyprint-override"><code>(defn check-place [o x y v]
  (and (every? true? (for [i (range 9)]
                       (and (or (not= ((o y) i) v) (= i x))
                            (or (not= ((o i) x) v) (= i y)))))
       (every? true?
         (for [r [(range 3)]
               a r
               b r
               c [(+ b (- y (mod y 3)))]
               d [(+ a (- x (mod x 3)))]]
           (or (and (= d x) (= c y)) (not= ((o y) x) ((o c) d)))))))

(defn solve-sudoku [board &amp; [x y]]
  (if x
    (if (&gt; y 8)
      (apply str (map #(apply str %) board))
      (first
        (for [v (if (= ((board y) x) 0) (range 1 10) [((board y) x)])
              :let [a (mod (+ x 1) 9)
                    b (if (= x 8) (+ 1 y) y)
                    d (assoc board y (assoc (board y) x v))
                    s (and (check-place d x y v) (solve-sudoku d a b))]
              :when s]
          s)))
    (solve-sudoku (vec (for [a (partition 9 board)]
                         (vec (map #(Integer. (str %)) a)))) 0 0)))
</code></pre>
</div>
<div id="pu5" class="pu"><h2>Perl (195 chars)</h2>
<pre><code>use integer;@A=split//,&lt;&gt;;sub R{for$i(0..80){next if$A[$i];my%t=map{$_/9==$/9||$_%9==$i%9||$_/27==$i/27&amp;&amp;$_%9/3==$i%9/3?$A[$_]:0=&gt;1}0..80;R($A[$i]=$_)for grep{!$t{$_}}1..9;return$A[$i]=0}die@A}R
</code></pre>
<p>All credit goes to the creator <a href="http://www.ecclestoad.co.uk/2005/06/sudoku-solver-in-three-lines-explained" rel="nofollow noreferrer">here</a>, and the explanation can be found there as well.</p>
</div>
<div id="pu6" class="pu"><h1>J, 103</h1>

<pre><code>'p n'=:(;#)I.0=a=:("."0)Y
((a p}~3 :'&gt;:?n#9')^:([:(27~:[:+/[:(9=#@~.)"1[:,/(2 2$3),;.3],|:,])9 9$])^:_)a
</code></pre>

<p><em>expected run time: O(gazillion billion years)</em></p>
</div>
<div id="pu7" class="pu"><h2>D (322 chars)</h2>

<p>For each unsolved square it builds an array of available options and then loops over it.</p>

<pre><code>import std.algorithm,std.range,std.stdio;void main(char[][]args){T s(T)(T p){foreach(i,ref c;p)if(c&lt;49){foreach(o;"123456789".setDifference(chain(p[i/9*9..i/9*9+9],p[i%9..$].stride(9),p[i/27*27+i%9/3*3..$][0..21].chunks(3).stride(3).joiner).array.sort)){c=o&amp;63;if(s(p))return p;}c=48;return[];}return p;}s(args[1]).write;}
</code></pre>

<p>with whitespace:</p>

<pre><code>import std.algorithm, std.range, std.stdio;

void main(char[][] args) {
    T s(T)(T p) {
        foreach (i, ref c; p) if (c &lt; 49) {
            foreach (o; "123456789".setDifference(chain(
                    p[i/9*9..i/9*9+9],
                    p[i%9..$].stride(9),
                    p[i/27*27+i%9/3*3..$][0..21].chunks(3).stride(3).joiner
                ).array.sort))
            {
                c = o&amp;63;
                if (s(p)) return p;
            }
            c=48;
            return [];
        }
        return p;
    }
    s(args[1]).write;
}
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Answer in D:</h1>



<pre class="lang-d prettyprint-override"><code>import std.algorithm;
import std.conv;
import std.ascii;
import std.exception;
import std.stdio;

void main(string[] args)
{
    enforce(args.length == 2, new Exception("Missing argument."));
    enforce(args[1].length == 81, new Exception("Invalid argument."));
    enforce(!canFind!((a){return !isDigit(to!dchar(a));})
                     (args[1]),
                      new Exception("Entire argument must be digits."));

    auto sudoku = new Sudoku(args[1]);
    sudoku.fillIn();

    writeln(sudoku);
}

class Sudoku
{
public:

    this(string str) nothrow
    {
        normal = new int[][](9, 9);

        for(size_t i = 0, k =0; i &lt; 9; ++i)
        {
            for(size_t j = 0; j &lt; 9; ++j)
                normal[i][j] = to!int(str[k++]) - '0';
        }

        reversed = new int*[][](9, 9);

        for(size_t i = 0; i &lt; 9; ++i)
        {
            for(size_t j = 0; j &lt; 9; ++j)
                reversed[j][i] = &amp;normal[i][j];
        }

        boxes = new int*[][](9, 9);
        indexedBoxes = new int*[][][](9, 9);

        for(size_t boxRow = 0, boxNum = 0; boxRow &lt; 3; ++boxRow)
        {
            for(size_t boxCol = 0; boxCol &lt; 3; ++boxCol, ++boxNum)
            {
                for(size_t i = 3 * boxRow, square = 0; i &lt; 3 * (boxRow + 1); ++i)
                {
                    for(size_t j = 3 * boxCol; j &lt; 3 * (boxCol + 1); ++j)
                    {
                        boxes[boxNum][square++] = &amp;normal[i][j];
                        indexedBoxes[i][j] = boxes[boxNum];
                    }
                }
            }
        }
    }

    void fillIn()
    {
        fillIn(0, 0);
    }

    @property bool valid()
    {
        assert(full);

        for(size_t i = 0; i &lt; 9; ++i)
        {
            for(int n = 1; n &lt; 10; ++n)
            {
                if(!canFind(normal[i], n) ||
                   !canFind!"*a == b"(reversed[i], n) ||
                   !canFind!"*a == b"(boxes[i], n))
                {
                    return false;
                }
            }
        }

        return true;
    }

    override string toString() const
    {
        char[81] retval;

        for(size_t i = 0, k =0; i &lt; 9; ++i)
        {
            for(size_t j = 0; j &lt; 9; ++j)
                retval[k++] = to!char(normal[i][j] + '0');
        }

        return to!string(retval);
    }

private:

    @property bool full()
    {
        for(size_t i = 0; i &lt; 9; ++i)
        {
            if(canFind(normal[i], 0))
                return false;
        }

        return true;
    }

    bool fillIn(size_t row, size_t col)
    {
        if(row == 9)
            return valid;

        size_t nextRow = row;
        size_t nextCol = col + 1;

        if(nextCol == 9)
        {
            nextRow = row + 1;
            nextCol = 0;
        }

        if(normal[row][col] == 0)
        {
            for(int n = 1; n &lt; 10; ++n)
            {
                if(canFind(normal[row], n) ||
                   canFind!"*a == b"(reversed[col], n) ||
                   canFind!"*a == b"(indexedBoxes[row][col], n))
                {
                    continue;
                }

                normal[row][col] = n;

                if(fillIn(nextRow, nextCol))
                    return true;
            }

            normal[row][col] = 0;

            return false;
        }
        else
            return fillIn(nextRow, nextCol);
    }

    int[][] normal;
    int*[][] reversed;
    int*[][] boxes;
    int*[][][] indexedBoxes;
}
</code></pre>

<p>With the sample input, it takes <strong>.033s</strong> on my Phenom II X6 1090T when compiled with <code>dmd -w</code> (i.e. without optimizations), and it takes <strong>.011s</strong> when compiled with <code>dmd -w -O -inline -release</code> (i.e. with optimizations).</p>
</div>
<div id="pu9" class="pu"><h1>Python, 188 bytes</h1>

<p>This is a further shortened version of my winning submission for <a href="https://sudoku.interviewstreet.com/">CodeSprint Sudoku</a>, modified for command line input instead of stdin (as per the OP):</p>

<pre><code>def f(s):
 x=s.find('0')
 if x&lt;0:print s;exit()
 [c in[(x-y)%9*(x/9^y/9)*(x/27^y/27|x%9/3^y%9/3)or s[y]for y in range(81)]or f(s[:x]+c+s[x+1:])for c in'%d'%5**18]
import sys
f(sys.argv[1])
</code></pre>

<p>If you're using Python 2, <code>'%d'%5**18</code> can be replaced with <code>`5**18`</code> to save 3 bytes.</p>

<p>To make it run faster, you can replace <code>'%d'%5**18</code> with any permutation of <code>'123456789'</code> at a cost of 1 byte.</p>

<p>If you want it to accept the input on stdin instead, you can replace <code>import sys;f(sys.argv[1])</code> with <code>f(raw_input())</code>, bringing it down to <strong>177 bytes</strong>.</p>

<pre><code>def f(s):
 x=s.find('0')
 if x&lt;0:print s;exit()
 [c in[(x-y)%9*(x/9^y/9)*(x/27^y/27|x%9/3^y%9/3)or s[y]for y in range(81)]or f(s[:x]+c+s[x+1:])for c in'%d'%5**18]
f(raw_input())
</code></pre>

<p><strong>EDIT:</strong> <a href="http://blog.cyphase.com/2012/12/07/playing-sudoku-beach/">Here's a link to a more detailed walkthrough.</a></p>
</div>
<div id="pu10" class="pu"><p>1-liner coffee-script</p>

<p><code>solve = (s, c = 0) -&gt; if c is 81 then s else if s[x = c/9|0][y = c%9] isnt 0 then solve s, c+1 else (([1..9].filter (g) -&gt; ![0...9].some (i) -&gt; g in [s[x][i], s[i][y], s[3*(x/3|0) + i/3|0][3*(y/3|0) + i%3]]).some (g) -&gt; s[x][y] = g; solve s, c+1) or s[x][y] = 0</code></p>

<p><a href="https://gist.github.com/3863614" rel="nofollow">Here is the bigger version with sample usage</a>:</p>

<pre><code>solve = (sudoku, cell = 0) -&gt;
  if cell is 9*9 then return sudoku

  x = cell%9
  y = (cell - x)/9

  if sudoku[x][y] isnt 0 then return solve sudoku, cell+1

  row = (i) -&gt; sudoku[x][i]
  col = (i) -&gt; sudoku[i][y]
  box = (i) -&gt; sudoku[x - x%3 + (i - i%3)/3][y - y%3 + i%3]

  good = (guess) -&gt; [0...9].every (i) -&gt; guess not in [row(i), col(i), box(i)]

  guesses = [1..9].filter good

  solves = (guess) -&gt; sudoku[x][y] = guess; solve sudoku, cell+1

  (guesses.some solves) or sudoku[x][y] = 0

sudoku = [
  [1,0,0,0,0,7,0,9,0],
  [0,3,0,0,2,0,0,0,8],
  [0,0,9,6,0,0,5,0,0],
  [0,0,5,3,0,0,9,0,0],
  [0,1,0,0,8,0,0,0,2],
  [6,0,0,0,0,4,0,0,0],
  [3,0,0,0,0,0,0,1,0],
  [0,4,0,0,0,0,0,0,7],
  [0,0,7,0,0,0,3,0,0]
]
console.log if solve sudoku then sudoku else 'could not solve'
</code></pre>
</div>
<div id="pu11" class="pu"><h2>Perl, 235 chars</h2>

<pre><code>$_=$s=&lt;&gt;;$r=join$/,map{$n=$_;'.*(?!'.(join'|',map+($_%9==$n%9||int($_/9)==int($n/9)||int($_/27)==int($n/27)&amp;&amp;int($_/3%3)==int($n/3%3)and$_&lt;$n?'\\'.($_+1):$_&gt;$n&amp;&amp;substr$s,$_,1)||X,@a).')(.).*'}@a=0..80;s!.!($&amp;||123456789).$/!eg;say/^$r/
</code></pre>

<p>This is a golfed version of <a href="http://www.nntp.perl.org/group/perl.fwp/2006/04/msg3836.html" rel="nofollow">something I posted many years ago to the Fun With Perl mailing list</a>: a sudoku-solving regexp.</p>

<p>Basically, it mangles the input into 81 lines, each containing all the numbers that could occur in the corresponding square.  It then constructs a regexp to match one number from each line, using backreferences and negative lookahead assertions to reject solutions that violate the row, column or region constraints.  Then it matches the string against the regexp, letting Perl's regexp engine do the hard work of trial and backtracking.</p>

<p>Astonishingly, it's possible to create a single regexp that works for any input, like my original program does.  Unfortunately, it's quite slow, so I based the golfed code here on the hardcoded-givens version (<a href="http://www.nntp.perl.org/group/perl.fwp/2006/04/msg3838.html" rel="nofollow">found later in the FWP thread</a>), which tweaks the regexp to reject early any solutions that it knows will later violate a constraint.  This makes it reasonably fast for easy to moderate level sudokus, although particularly hard ones can still take a rather long time to solve.</p>

<p>Run the code with <code>perl -M5.010</code> to enable the Perl 5.10+ <code>say</code> feature.  The input should be given on standard input, and the solution will be printed to standard output; example:</p>

<pre><code>$ perl -M5.010 golf/sudoku.pl
030001000006000050500000983080006302000050000903800060714000009020000800000400030
832591674496387251571264983185746392267953418943812765714638529329175846658429137
</code></pre>
</div>
<div id="pu12" class="pu"><h1>k (72 bytes)</h1>

<p>Credit for this goes to Arthur Whitney, creator of the k language.</p>

<pre><code>p,:3/:_(p:9\:!81)%3
s:{*(,x)(,/{@[x;y;:;]'&amp;21=x[&amp;|/p[;y]=p]?!10}')/&amp;~x}
</code></pre>
</div>
<div id="pu13" class="pu"><h2>Python, 197 characters</h2>

<pre><code>def S(s):
 i=s.find('0')
 if i&lt;0:print s;return
 for v in'123456789':
  if sum(v==s[j]and(i/9==j/9or i%9==j%9or(i%9/3==j%9/3and i/27==j/27))for j in range(81))==0:S(s[:i]+v+s[i+1:])
S(raw_input())
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/378/">378</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




