<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::235299</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>169</td><td>Python3</td><td>250819T190651Z</td><td><a href="https://codegolf.stackexchange.com/questions/235299/simplify-k-projections/283220#283220">Ajax1234</a></td></tr>
<tr d-ix="1"><td>131</td><td>Retina 0.8.2</td><td>211001T161139Z</td><td><a href="https://codegolf.stackexchange.com/questions/235299/simplify-k-projections/235887#235887">Neil</a></td></tr>
<tr d-ix="2"><td>059</td><td>K ngn/k</td><td>210915T093807Z</td><td><a href="https://codegolf.stackexchange.com/questions/235299/simplify-k-projections/235333#235333">chrispsn</a></td></tr>
<tr d-ix="3"><td>046</td><td>05AB1E</td><td>210914T093940Z</td><td><a href="https://codegolf.stackexchange.com/questions/235299/simplify-k-projections/235304#235304">Kevin Cr</a></td></tr>
<tr d-ix="4"><td>032</td><td>Stax</td><td>210914T035747Z</td><td><a href="https://codegolf.stackexchange.com/questions/235299/simplify-k-projections/235302#235302">Razetime</a></td></tr>
<tr d-ix="5"><td>092</td><td>JavaScript Node.js</td><td>210914T021845Z</td><td><a href="https://codegolf.stackexchange.com/questions/235299/simplify-k-projections/235300#235300">tsh</a></td></tr>
<tr d-ix="6"><td>033</td><td>Jelly</td><td>210915T001941Z</td><td><a href="https://codegolf.stackexchange.com/questions/235299/simplify-k-projections/235325#235325">Jonathan</a></td></tr>
<tr d-ix="7"><td>183</td><td>Scala</td><td>210914T231435Z</td><td><a href="https://codegolf.stackexchange.com/questions/235299/simplify-k-projections/235322#235322">user</a></td></tr>
<tr d-ix="8"><td>126</td><td>Python 3.8 prerelease</td><td>210914T032109Z</td><td><a href="https://codegolf.stackexchange.com/questions/235299/simplify-k-projections/235301#235301">gsitcia</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 169 bytes</h1>
<pre class="lang-py prettyprint-override"><code>import re
def f(s):
 a,*b=[i.split(';')for i in re.findall('[\d;]+',s)]
 for i in b:a=[j if j.isdigit()else(i.pop(0)if i else'')for j in a]+i
 return f&quot;f[{';'.join(a)}]&quot;
</code></pre>
<p><a href="https://tio.run/##hVRBkpswEDyHV0xxAWUJFQO2NztFnpAPaDlAgRK5CKgQOSSpvN0ZIZCNjXd9MOruUY/UZqx@jz/6Ln1Ww/ksf6p@GGFovLoRIELNXjwoo49VzmWsVSvHMMCAiX4ACbKjwljIri7bNgz4a43FUxBpVnjgKqqXMucnkAJOsdS1/E4WrGl1E8pY9Sr8zEiSYJjAGp/MtrJ4kh7Zj7@GDoQv@F/qG5962YUl@1f4Zw05@L7vCb4r4NNXME8DcEFoYeJwYgiHHbzstxQ9ML1QtJ7JK85R/KbSWOIOl1q7diRfmid3AqaYOTElMlvLV@qWiHhY64Q9E4/euZxwCoi@l7vbFU/XgGyp2QbFcf@I5gd8S@LHt1WcA73@bDB8OewmzyeQvbv/to7v8YBHfMYv5oDTD2EPdpwTTO4StPmlqwUusc1ov4KHDXzcIB4nYQ72kMvu@cutMrRMNnP2Wm5AhWzHZgi/9V0TgV6G/LULGM3@hzKCiu7vht@8ZAEjXuuG/igETSPkOVTeZFhGlbH8I1W4tt2tfKObpslKndre2atBdlQxNnrUoIxeB@z8Hw" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 131 bytes</h1>
<pre><code>(f.(\d;)*(;(\d;)*)*)(;[^]]*].(?&lt;-3&gt;;)*(?(3)^))(\d);?
$1$6$5
}`\[\]

}`(f(.(\d|((?=;)))(?=[];]))*);?(].(?&lt;-4&gt;;)*)([^]]+)?
$1$#6$*;$6
</code></pre>
<p><a href="https://tio.run/##hVDLCsIwELz3N8xht2Khr1QZaz5km6KgBS8exKN@e036QqTWBGY2M7vDkvvlcb2d2paaiKozOCT07C5BamtDG5HZb9KDNw2lXDO7FoYJVKy0yoPXsZLKBo6pIR/zJDIl2PWZUiwsuzAY6oMyH8Tko9fcZay0CqF02zYS28ABekw8TTh6CdKxmFg6CfGA41BfTebwEADZnCTIf8misWRJsexiWPXzzCgyLjurS/fI/s5/90kOjQJb7PyC7vuc1y1W2Dc" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Explanation: Uses .NET balancing groups to shuffle arguments into slots. The first two lines shuffle arguments from the second application into free slots in the first. The middle two lines delete an empty application resulting from the first two lines. The last two lines append trailing arguments or slots from the second application to the first, however the test assumes that there are no arguments left to shuffle or empty applications, which is why an extra loop is needed.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>65</s> 59 bytes</h1>
<pre><code>{&quot;f[&quot;,|x,|y/{.![a*+\a:~#'x;x],(1+!#y)!y}/y\'-1_'1_z\}.&quot;];[&quot;
</code></pre>
<p>Thanks to ngn for cutting 4 bytes <a href="https://chat.stackexchange.com/transcript/90748?m=59140875#59140875">here</a> and <a href="https://chat.stackexchange.com/transcript/message/59149637#59149637">here</a>.</p>
<p><a href="https://ngn.bitbucket.io/k#eJydkt1ugzAMhe/7FJBOol1Zq0CAjfMoBrXcIE2bNKnqBYzSZx8/CUlapqFxg/352I6dlGnDSmL+tfKv9aHZu1Q877Iiva29ClXub/jOXddbt24Pdea98KPHj99Zu2c5iK1Wl7R5ovp2TkvHcSqcvj6wOZXF+ycq1Dhv83Z1oa4Bz1k+/qQPCaBJoFCgmEIWmWpp2pkIJ9qbmmtsUZrTAxwyQZomJ3maYDaGEELFw46JR4UW/BYHYkvSu1IkpwY3iF6QubSRqwHD+VjXVR1nUGD052WEyJJGf2gphqmPFyVQcp+TLEnCQ6ukX5y+bPNTd26zWSUF9htZmkGDI+47ThXEv6pQ1I2W4BVv/SaGxzZuIDEbaJHASIRkOfsB/CEGOA==" rel="nofollow noreferrer">Try it online!</a></p>
<h1>K (k9 2021.09.01), 54 bytes</h1>
<pre><code>{&quot;f[&quot;,|x,|y/{!?(?x*+\x!:~#'x),?+\y!1}/y\'1_z\x_}.&quot;];[&quot;
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 46 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>¦¤¡¨ε¦';¡}Å»U0ìD_OXg-(©di®Å0«}0X.;}θ';ý0K&quot;f[ÿ]
</code></pre>
<p>05AB1E is not the right language for this challenge.. :/</p>
<p><a href="https://tio.run/##yy9OTMpM/f//0LJDSw4tPLTi3NZDy9StDy2sPdx6aHeoweE1LvH@EenFuodWpmQeWne41eDQ6lqDCD3r2nM71K0P7zXwVkqLPrw/9v//tGhrw9hoa6PYaGMgZW1tAiRNY6PNrGOjza2tYwE" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##pZPLSsNAFIb3eYowLrqpkmujPUgR60YX4kIoDEFqm0pBqDRVFMyyPoBvUJBSUdwpghRhsi8@gy8SJxdnJhdMpVkk@b/zn3NmMicDt33ad4LbKwntXV84nZHTrcuocVOV0E5ndNk@r8tyqNe@5k0kf9/dy8gNyJQ8kAmZLV7JtAJk4vlj8nGs@M/Nk8PWmbtOHrt98uKPFfLkKa0N8BbvFfDnygHqYf/TDhCZ7W9LaHcwHNKOUb@jKnlrBD2s2lGT8EWiN2ASYq1xoIWEA6aFGjGjD9AFRkVCRcgYznsBVGDmWDCK2Qq0XAR0MHhUp9RIx8VwURSgljFQEFrYHkFNtPgpfj9OTPmG9HyEduOLiOIQkQITBjNjNP9w4hqk3bVSO7byGVZZCkBhEiQHKl78XFM078PimJV7MxOzjB9HwsivjOUb/66BTbp5CzZhC9R0QR4wQF2pbDzTfBCK6ieW1XvQA7aWaRQy/qPjCAnDlDLaPw" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<p>Step 1: Transform the input to something more usable: <a href="https://tio.run/##yy9OTMpM/V9TVmmvpPCobZKCkn3l/0PLDi05tPDQinNbDy1Ttz60sPa/zv@0aMNYLiBhDSGNQBSchMkZWRvDGHA6GixkbW1obY1gRBshs62NrU1Q@Bhca2szsIghlIRZDWFBrYBzgDqhJqAJRVub4hKONrPGJxVtjl/WGuphZIBFBOJvTMFoY5zi0WCOCX5DsaiLNrU2sza3trC2tDYkTxMkYiBBRoFuYACZI5JHNFAIGJnA8AQA" rel="nofollow noreferrer">Try it online</a>.</p>
<pre class="lang-python prettyprint-override"><code>¦                  # Remove the leading &quot;f&quot; from the (implicit) input-string
 ¤                 # Get its last character &quot;]&quot; (without popping)
  ¡                # Split it on this &quot;]&quot;
   ¨               # Remove the trailing empty item
    ε              # Map over each inner string
     ¦             #  Remove the leading character (the &quot;[&quot;)
      ';¡         '#  Split it on &quot;;&quot;
    }              # Close the map
</code></pre>
<p>We now have a list of lists of digits and empty strings.</p>
<p>Step 2: Reduce this list of lists according to the challenge: <a href="https://tio.run/##yy9OTMpM/V9TVmmvpPCobZKCkn3l/0PLDi05tPDQinNbDy1Ttz60sPZw66HdoQaH17jE@0ekF@seWpmSeWjd4VaDQ6trDSL0rGvP7fiv8z8t2jCWC0hYQ0gjEAUnYXJG1sYwBpyOBgtZWxtaWyMY0UbIbGtjaxMUPgbX2toMLGIIJWFWQ1hQK@AcoE6oCWhC0damuISjzazxSUWb45e1hnoYGWARgfgbUzDaGKd4NJhjgt9QLOqiTa3NrM2tLawtrQ3J0wSJGEiQUaAbGEDmiOQRDRQCRiYwPAE" rel="nofollow noreferrer">Try it online</a>.</p>
<pre class="lang-python prettyprint-override"><code>Å»                 # Cumulative left-reduce (which unfortunately keeps track of steps):
  U                #  Pop and store the current list in variable `X`
   0ì              #  Prepend a 0 before each item in the result-string
                   #  (so all empty strings become 0s)
   D_O             #  Get the amount of 0s in this list (duplicate; ==0; sum)
      Xg           #  Push the length of the current list `X`
        s-         #  Subtract the amount of 0s from this length
          ©        #  Store it in variable `®` (without popping)
           di    } #  Pop, and if this value is &gt;= 0:
             ®Å0   #   Push a list with `®` amount of 0s
                «  #   And append this to the result-list
    0X.;           #  Then replace each zero (&quot;0&quot;,&quot;00&quot;,&quot;000&quot;,etc.) in this list one by
                   #  one with the values from list `X`
 }θ                # And after the cumulative left-reduce, pop and keep the last list
</code></pre>
<p>Step 3: Format this resulting list to a format similar as the input:</p>
<pre class="lang-python prettyprint-override"><code>';ý               '# Join the list with &quot;;&quot; delimiter
   0K              # Remove all 0s from the string
     &quot;f[ÿ]        &quot;# Push string &quot;f[ÿ]&quot;, where `ÿ` is automatically replaced with the
                   # string
                   # (after which the result is output implicitly)
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, <sup><s>37 34</s></sup> 32 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ñgí⌡²☼☺≈AU▀≤L♠╫$U∩─.ù·○╓╥ò±E♦τèZ
</code></pre>
<p><a href="https://staxlang.xyz/#p=a567a1f5fd0f01f74155dff34c06d72455efc42e97fa09d6d295f14504e78a5a&amp;i=f%5B%3B1%5D%0Af%5B%3B1%5D%5B%3B2%5D%0Af%5B%3B1%5D%5B%3B2%5D%5B3%5D%0Af%5B%3B1%5D%5B%3B2%5D%5B3%5D%5B%3B%3B%3B4%5D%0Af%5B%3B1%5D%5B%3B2%5D%5B3%5D%5B%3B%3B%3B4%5D%5B%3B5%5D%0Af%5B%3B1%5D%5B%3B2%5D%5B3%5D%5B%3B%3B%3B4%5D%5B%3B5%5D%5B6%3B%5D%0Af%5B%3B1%5D%5B%3B2%5D%5B3%5D%5B%3B%3B%3B4%5D%5B%3B5%5D%5B6%3B%5D%5B7%5D%0Af%5B%3B1%5D%5B%3B2%5D%5B3%5D%5B%3B%3B%3B4%5D%5B%3B5%5D%5B6%3B%5D%5B7%3B%3B%5D%0Af%5B1%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%5D%0Af%5B1%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%5D%5B2%5D%5B3%5D%0Af%5B1%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%5D%5B2%5D%5B3%5D%5B%3B%3B%3B%3B%3B4%3B%3B%3B%3B%3B%3B%3B%3B%5D%0Af%5B1%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%5D%5B2%5D%5B3%5D%5B%3B%3B%3B%3B%3B4%3B%3B%3B%3B%3B%3B%3B%3B%5D%5B5%3B6%3B7%3B8%3B9%3B1%5D%5B2%3B3%3B4%3B5%5D%5B6%3B7%5D&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
<p>-2 reducing splitting code</p>
<h2>Explanation</h2>
<pre><code>2t1T.][/  {';/m{s{c{c{B}z?}?ms+k';*:}'fs+
2t1T.][/                                  get all argument bodies
          {';/m                           split all on semicolons
               {s{c{c{B}z?}?ms+k          reduce by:
                s                          swap with prev
                 {c{c{B}z?}?m              map elements in prev to:
                  c{      }?                if non-empty, leave elem as is
                    c{B}z?                  else remove first element of next and push
                                            (pushes [] if empty)
                             s+           append the rest elements
                                ';*       join with semicolons
                                   :}     put in square brackets
                                     'fs+ prepend 'f'   
</code></pre>
<h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 37 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ö☺τσj↔₧♂√V{▐9,=☺|╢Δ‼$≥ä₧ÿºÉ/♂y╩▲S╞♫┘{
</code></pre>
<p><a href="https://staxlang.xyz/#p=9901e7e56a1d9e0bfb567bde392c3d017cb6ff1324f2849e98a7902f0b79ca1e53c60ed97b&amp;i=f%5B%3B1%5D%5B%3B2%5D%5B3%5D%5B%3B%3B%3B4%5D%5B%3B5%5D%5B6%3B%5D%5B7%3B%3B%5D%0Af%5B%3B1%5D%0Af%5B%3B1%5D%5B%3B2%5D%0Af%5B%3B1%5D%5B%3B2%5D%5B3%5D%0Af%5B%3B1%5D%5B%3B2%5D%5B3%5D%5B%3B%3B%3B4%5D%0Af%5B%3B1%5D%5B%3B2%5D%5B3%5D%5B%3B%3B%3B4%5D%5B%3B5%5D%0Af%5B%3B1%5D%5B%3B2%5D%5B3%5D%5B%3B%3B%3B4%5D%5B%3B5%5D%5B6%3B%5D%0Af%5B%3B1%5D%5B%3B2%5D%5B3%5D%5B%3B%3B%3B4%5D%5B%3B5%5D%5B6%3B%5D%5B7%5D%0Af%5B1%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%5D%0Af%5B1%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%5D%5B2%5D%5B3%5D%0Af%5B1%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%5D%5B2%5D%5B3%5D%5B%3B%3B%3B%3B%3B4%3B%3B%3B%3B%3B%3B%3B%3B%5D%0Af%5B1%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%3B%5D%5B2%5D%5B3%5D%5B%3B%3B%3B%3B%3B4%3B%3B%3B%3B%3B%3B%3B%3B%5D%5B5%3B6%3B7%3B8%3B9%3B1%5D%5B2%3B3%3B4%3B5%5D%5B6%3B7%5D&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
<p>uses an assign at index builtin, slightly longer.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 92 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>v=&gt;v.match(/(?&lt;=[[;])\d*|\[/g).map(g=n=&gt;1/n?o[++i]?g(n):o[i]=n:i=-1,o=[])&amp;&amp;`f[${o.join`;`}]`
</code></pre>
<p><a href="https://tio.run/##hVLJboMwEL3zFT5UxG4aEFnbTA2nfsUECUSAOiI2AsQlzbdTAyHK1tSH8XtvVi@7sA7LqBB5NZFqGzcJ4U3N3drah1X0TW3qfXJE8Nlm@/qzQTtl2pPTlEvuOrb0FI7HwvdSKtlaofC5XAs@cd4UR5@ZZpDgy0FZOyVkAMHRD5oqLqsoLOOScBIYCTp@a6C303Y728E3hdkAzjtqqY0CBzqxBzi9xDCD@RW/owDLvkzXSduheY9wdk106qnEjYSw@EvGJTxz4eq5F05HvlwPFByGfahjR@b/5t/G4QKWsIJ3@GgH7O6zH0wPHRjnl7SqQuwps8o8ExUdbeSIWYkqvkL9gTLCXXIwCImULFUWW5lKtWiaJKEZY2AcGTS/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>-1 byte by Arnauld.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 33 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ṣ”[Ṗ€ṣ€”;VṆ€k$ḟ0;ɗ&quot;Ẏɗ/j”;ḟ0Ø[j”f;
</code></pre>
<p>A monadic Link that accepts a list of characters and yields a list of characters.</p>
<p><strong><a href="https://tio.run/##hVA7EoIwEO09hmOv/HXePZxxdiilQC5g51BoZ6k2joUtpYVoScUxwkViEgIiIqbYfZ/d7CbhMorWnLP0WmzOxNJDESeSxIngmLN0K@BqxO6XCfLjkD32@XEcSk9K2YkkDsDZ85btROmC84AMfyACymjKVMfKM2FVoM6kJMAA3oDMJoYF@4N/UcBViqFjNbpEekRNRKe@oSURnF8yueizyOt3oR/cPB0KVct26qSI/be/XUcOXHiYYiYXVN9ZLub5Lw" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>ṣ”[Ṗ€ṣ€”;VṆ€k$ḟ0;ɗ&quot;Ẏɗ/j”;ḟ0Ø[j”f; - Link: list of characters, S
ṣ”[                               - split (S) at '['
   Ṗ€                             - pop (i.e. remove ']' from) each
     ṣ€”;                         - split each at ';'
         V                        - evaluate as Jelly code
                                     -&gt; list of projections with zeros at empty slots
                     /            - reduce by:
                    ɗ             -   last three links as a dyad, f(P, Q):
             $                    -     last two links as a monad, f(P):
          Ṇ€                      -       logical NOT each
            k                     -       partition (P) after truthy indices (of that)
                                            -&gt; P split after each empty slot
                  &quot;               -     zip (across [t in that] and [q in Q]) with:
                 ɗ                -       last three links as a dyad, f(t, q):
               0                  -         zero
              ḟ                   -         (t) filter discard (zeros)
                ;                 -         concatenate (q)
                   Ẏ              -     tighten (to a flat list)
                      j”;         - join with ';'
                         ḟ0       - filter discard zeros
                           Ø[j    - &quot;[]&quot; join (that)
                              ”f; - 'f' concatenate (that)
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Scala, 183 bytes</h1>
<pre class="lang-scala prettyprint-override"><code>_.drop(2).init split &quot;\\]\\[&quot;map(_ split &quot;;&quot;)reduce{(p,q)=&gt;val(b,a)=((q,q take 0)/:p){case((q,p),x)=&gt;if(q.size&lt;1|x!=&quot;&quot;)(q,p:+x)else(q drop 1,p++q.take(1))}
a++b}mkString(&quot;f[&quot;,&quot;;&quot;,&quot;]&quot;)
</code></pre>
<p><a href="https://scastie.scala-lang.org/suKGW44ATTGflXHoxfsdRQ" rel="nofollow noreferrer">Try it in Scastie!</a></p>
<p>A pretty horrible solution, but I'll work on it later. Explanation coming soon.</p>
<pre><code>_                  //The input
 .drop(2)          //Drop the &quot;f[&quot;
 .init             //Drop the &quot;]&quot; at the very end
  split &quot;\\]\\[&quot;   //Split the projections up
  map(_ split &quot;;&quot;) //Split each projection into its parts
  reduce{ (p, q) =&gt; //Reduce the projections by this function, which does the real work
   val(b,a)=((q,q take 0)/:p){case((q,p),x)=&gt;if(q.size&lt;1|x!=&quot;&quot;)(q,p:+x)else(q drop 1,p++q.take(1))}
a++b}mkString(&quot;f[&quot;,&quot;;&quot;,&quot;]&quot;)
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 126 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda s,D=[]:f'f[{&quot;;&quot;.join([D:=[j or next(i,&quot;&quot;)for j in D]+[*i]for k in s[2:-1].split(&quot;][&quot;)if(i:=iter(k.split(&quot;;&quot;)))]*0+D)}]'
</code></pre>
<p><a href="https://tio.run/##lVJLb6MwED43v8KhB9spqRogSZeRK1VKe93L3rwcIAXVKQvIuGqrqr89tXk4oUTbXQ4w32tGY1O9qcey8K8ruc/Y730e/0keYlS7G8ajMMMZf3fAudyVoiB8EzK@Q6VERfqqiHAdh2Ya7ZAo0Ca64DMRGfxkcM29cL6ILusqF4o4EXeoyIgImVCpJE89Dw6lNJpdXWzoR4T3Sr6Fk7OXR5Gn6Jd8TjU4i90EMd2yelaEdjmM5jcIU61utZaR2JRxXadSoYSxrUbnlRSFIrGL5zfYTegkfd2mlUJ3P@/vpCylbt1ZdLYt8G2eI5XWqkaVafYwxTZ22zQXZfEljBmeBd6hRSNPEULYlWklSUJdPGXY1UdJ3hsmph8Uu5ixzrGldJ/xRWRWMt@JfkGPoIWexZ4hLLbwkG8p/QH/QOm6I484S/GRE2ABvbWtLcn72d5IAB8CK/qaDIbykXpKBFgNdY2No18NFh082r8/kJa0i/hjQU@y8xsZGuKEh8Ny6Fv@xchXMDCvvnXz9Siw/i4BcCoD3RUeP/YmB@TYxr0v1/4vdt6AYDTLxoP/bsGXeps1XMMPs33zC7VbrwfdD64AWibouOgT" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>Ungolfed:</p>
<pre class="lang-python prettyprint-override"><code>def f(s):
  D=[]
  for k in s[2:-1].split(']['):
    i = iter(k.split(';')) # next projection
    D = [j or next(i,'') for j in D] # replace empty slots with arguments from i
    D += [*i] # add the rest of i
  return 'f['+';'.join(D)+']'
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/235299/">235299</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




