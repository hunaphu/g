<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::230677</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>026</td><td>Pip</td><td>210630T205048Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230804#230804">DLosc</a></td></tr>
<tr d-ix="1"><td>075</td><td>C GCC</td><td>230205T130345Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/257455#257455">Peter</a></td></tr>
<tr d-ix="2"><td>058</td><td>R</td><td>210629T083833Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230690#230690">Dominic </a></td></tr>
<tr d-ix="3"><td>019</td><td>05AB1E nolazy</td><td>210629T085923Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230691#230691">ovs</a></td></tr>
<tr d-ix="4"><td>108</td><td>Zephyr</td><td>210630T185259Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230799#230799">DLosc</a></td></tr>
<tr d-ix="5"><td>029</td><td>Japt v2.0a0</td><td>210630T091603Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230750#230750">Shaggy</a></td></tr>
<tr d-ix="6"><td>013</td><td>Husk</td><td>210629T060856Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230683#230683">Razetime</a></td></tr>
<tr d-ix="7"><td>073</td><td>Haskell</td><td>210629T161905Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230708#230708">Kyuuhach</a></td></tr>
<tr d-ix="8"><td>051</td><td>Charcoal</td><td>210629T122902Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230702#230702">Neil</a></td></tr>
<tr d-ix="9"><td>042</td><td>Perl 5</td><td>210629T090000Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230692#230692">Kjetil S</a></td></tr>
<tr d-ix="10"><td>047</td><td>Ly</td><td>210629T080459Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230688#230688">cnamejj</a></td></tr>
<tr d-ix="11"><td>054</td><td>Python 3.8</td><td>210629T060224Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230682#230682">dingledo</a></td></tr>
<tr d-ix="12"><td>052</td><td>JavaScript with alert</td><td>210629T062923Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230685#230685">tsh</a></td></tr>
<tr d-ix="13"><td>034</td><td>Wolfram Language Mathematica</td><td>210629T055035Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230680#230680">att</a></td></tr>
<tr d-ix="14"><td>078</td><td>Python 3</td><td>210629T052213Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230678#230678">hyperneu</a></td></tr>
<tr d-ix="15"><td>019</td><td>Stax</td><td>210629T055743Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230681#230681">Razetime</a></td></tr>
<tr d-ix="16"><td>045</td><td>Raku</td><td>210629T053237Z</td><td><a href="https://codegolf.stackexchange.com/questions/230677/print-this-sequence-i-just-made-up/230679#230679">Jo King</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a>, 26 bytes</h1>
<pre><code>Wt*:oYt*o&gt;y*Uo?t+y*Poy*o-t
</code></pre>
<p>Outputs infinitely. <a href="https://ato.pxeger.com/run?1=m724ILNgwYKlpSVpuha7wku0rPIjS7Ty7Sq1QvPtS7QrtQLyK7XydUsgCqDqYOoB" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<p>Pip doesn't have rational numbers, so we'll use integer math instead. We store the numerator of the running sum in <code>y</code> (initially <code>&quot;&quot;</code>, which evaluates to 0 in a numeric context); the denominator in <code>t</code> (initially <code>10</code>, but any denominator greater than 0 will do, since the numerator is initially 0); and the index in <code>o</code> (initially <code>1</code>). Each time through the loop, we want to:</p>
<ul>
<li>Increment <span class="math-container">\$o\$</span></li>
<li>Test whether <span class="math-container">\$\frac y t + \frac 1 o \lt 1\$</span>
<ul>
<li>If so, output <span class="math-container">\$o\$</span> and add <span class="math-container">\$\frac 1 o\$</span> to <span class="math-container">\$\frac y t\$</span></li>
<li>If not, subtract <span class="math-container">\$\frac 1 o\$</span> from <span class="math-container">\$\frac y t\$</span></li>
</ul>
</li>
</ul>
<p>For the test, observe that</p>
<p><span class="math-container">$$
 \frac y t + \frac 1 o \lt 1 \\
 \frac{y \cdot o + t}{t \cdot o} \lt 1 \\
 y \cdot o + t \lt t \cdot o \\
 y \cdot o \lt t \cdot (o - 1)
$$</span></p>
<p>We can combine this expression with the increment of <span class="math-container">\$o\$</span> by calculating <span class="math-container">\$t \cdot o\$</span> first, then incrementing <span class="math-container">\$o\$</span>, then calculating <span class="math-container">\$y \cdot o\$</span>.</p>
<p>For the update, we need</p>
<p><span class="math-container">$$
 y := y \cdot o \pm t \\
 t := t \cdot o
$$</span></p>
<p>Observing that <code>t*:o</code> is always truthy, does not depend on the value of <code>y</code>, and is a no-op if executed before the first time through the loop, we can use it as the while-loop header.</p>
<pre><code>Wt*:oYt*o&gt;y*Uo?t+y*Poy*o-t
                            t is 10, o is 1, y is &quot;&quot; (implicit)
 t*:o                       Multiply t by o and assign the result back to t
W                           and loop while the result is truthy (non-zero):
      t*o&gt;                   Is t*o greater than
            Uo               o, incremented
          y*                 times y?
              ?              If so:
                   Po         Print o
               t+y*           and calculate t+y*o
                             Else:
                     y*o-t    Calculate y*o-t
     Y                       Set y to the calculated value
</code></pre>
</div>
<div id="pu1" class="pu"><h1>C (GCC), 75 bytes</h1>
<pre class="lang-c prettyprint-override"><code>n,d,i,j;s(a){for(n=i=1,d=j=2;a/i;n/d?n-=2*d/j:++i)n=n*++j+d,d*=j;return j;}
</code></pre>
<p><a href="https://tio.run/##RYzLCoMwEEX3fsUgFBITsXXXTod@izi1TKBjibYb8dvTCH2czV3cw@nrW9@npJ69@ICT6ewyjNEoCR08U6AWu0ZQG75oTW3FTTg5J1ZJK@eCY88VBYzX@RkVAq5JdIZ7J2peo7AtlgI@5C6Y7RUg2GOeMxwRthr8rS@PmNXBlDuG0sNkxFr8SWuxpjc" rel="nofollow noreferrer">Try it online!</a></p>
<p>Overflows when the input is greater than 8.</p>
<p>How it works:</p>
<pre class="lang-c prettyprint-override"><code>// n is the numerator, d the denominator, i the amount of numbers that have been added and j the denominator of the fraction that is supposed to be added.
n,d,i,j;
s(a)
{
    // The update statement of the for loop is moved to the end of the loop body for clearness (it's executed at the end of the loop anyways).
    // a / i is equivalent to a &gt;= i, so we loop until i is greater than a
    for(n = i = 1, d = j = 2; a / i;)
        // Both n and d are multiplied by j, and the previous value of d is added to n.
        // The new fraction is (n*j + d) / (d*j).
        // (n*j)/(d*j) = n/d, so what's actually added to the fraction is d/(d*j), which can be rewritten as 1/j.
        n = n * ++j + d,
        d *= j,

        // n / d is non-zero iff n &gt;= d, and n &gt;= d iff n/d &gt;= 1
        // If n/d &gt;= 1, subtract what was previously added to n, twice.
        // Otherwise, increment i
        n / d ? n -= 2 * d / j : ++i;
    return j;
}
</code></pre>
<hr />
<p>This 70-byte version also seems to work, although I'm not sure if it always does:</p>
<pre class="lang-c prettyprint-override"><code>n,d,i,j;s(a){for(n=i=1,d=j=2;a/i;n/d?n-=2*d/j:++i)n=n*++j+d,d*=j;a=j;}
</code></pre>
<p>The 70-byte version stores <code>j</code> in <code>a</code>, which seems to have the same effect as returning <code>j</code>. If anyone knows, please tell me if that behavior is consistent and I'm allowed to use it.</p>
<p><a href="https://tio.run/##RYzNCoMwEITvPsUiFBITsfVWt0ufJbhYNtC1aOlF8uxphP4MDHOYj29sb@OYs3r24iOuJthtmhejJHTyTJF6DJ2gdnzVlvqGuzg4J1ZJG@eiY88NRQylKYs@4R5EzWsWttVWwSdFCWZ/BQiOWOYCZ4RdBH/qm8dS0MnUB4baw2rEWvxBqUr5DQ" rel="nofollow noreferrer">Try It Online!</a></p>
<hr />
<p>Here's a 127-byte version that overflows at a number of terms somewhere between 21 and 57:</p>
<pre class="lang-c prettyprint-override"><code>long long n,d,i,j,k;s(a){for(n=i=1,d=j=2;a/i;n/d?n-=2*d/j:++i){n=n*++j+d,d*=j;for(k=1;k&lt;99;)n%++k||d%k||(n/=k,d/=k);}return j;}
</code></pre>
<p><a href="https://tio.run/##RY3LDoJADEX3fEVjQjLDjEHZaW38FkLVdEaLAXWDfDsOxsddnLvoadssT00zTedWT/CGevbig4/Ym9oOx7YzSkJrzxSowroU1JL3uqSq4DJsnRM7KGnhXHDsuaCA81KkNcbdZoNWc@fi88l5gtGSoucEi2N3uN07hYDjJHqDSy1qHq2wzYYMPkmnwMxTAYIVptpBlXp@C3/tm2uX3KNZ5AwLD70Ra/Enjdk4vQA" rel="nofollow noreferrer">Try It Online!</a></p>
<p>It's pretty much the same as the first one, except the variables are long long integers rather than integers, and it includes <code>for(k=1;k&lt;99;)n%++k||d%k||(n/=k,d/=k);</code>, which, for each number <code>k</code> from 1 to 98, divides <code>n</code> and <code>d</code> by <code>k</code> if they're both divisible by <code>k</code>.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>59</s> 58 bytes</h1>
<p><em>Edit: -1 byte thanks to emanresu A</em></p>

<pre class="lang-r prettyprint-override"><code>c=1
repeat`if`((F=F*(c=c+1)+T)&gt;(T=T*c),F&lt;-F-2*T/c,show(c))
</code></pre>
<p><a href="https://tio.run/##K/r/P9nWkKsotSA1sSQhMy1BQ8PN1k1LI9k2WdtQUztE004jxDZEK1lTx81G103XSCtEP1mnOCO/XCNZU/P/fwA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>Prints the sequence until it reaches the TIO output limit.</p>
<p>The numerator &amp; denominator of the fraction so far are stored in <code>F</code> and <code>T</code> respectively.  These won't error when they get too large, but <a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a> will assign them as <code>Inf</code>, beyond which point every integer will be (incorrectly) output, since <code>Inf&gt;Inf</code> is evaluated as <code>FALSE</code>.</p>
<p>A non-overflowing version, using <strong><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>+GMP</strong> to handle large integers, is <a href="https://tio.run/##K/r/P9k2xDY9t8DKKrFYLykzvUrDUJPLDVXEQJOrKLUgNbFEISEzLUFDw83WTUsj2TZZ21BTO0TTTiPENkQrWVPHzUbXTddIK0Q/Wac4I79cI1lT8/9/AA" rel="nofollow noreferrer">93 bytes</a> (the <a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a> version installed on TIO seems to give an error, so <a href="https://rdrr.io/snippets/embed/?code=c%3DT%3Dgmp%3A%3Aas.bigz(1)%0AF%3Dgmp%3A%3Aas.bigz(0)%0Awhile(c%3C100)%60if%60((F%3DF*(c%3Dc%2B1)%2BT)%3E(T%3DT*c)%2CF%3C-F-2*T%2Fc%2Cshow(c))%0A" rel="nofollow noreferrer">here</a> is a link to a working version on rdrr.io, with <code>repeat</code> exchanged for <code>while(c&lt;100)</code> to force output).</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a> <code>--no-lazy</code>, <s>20</s> 19 bytes</h1>
<p>-1 byte thanks to <a href="https://codegolf.stackexchange.com/users/52210/kevin-cruijssen">Kevin Cruijssen</a>!</p>
<pre><code>λN*N&lt;!©+DN!‹iN,ë®·-
</code></pre>
<p><a href="https://tio.run/##AS4A0f9vc2FiaWX//867TipOPCHCqStETiHigLlpTizDq8Kuwrct////LS1uby1sYXp5" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<p>There is no builtin fraction type, so everything is integers. (Ab)uses the recursive environment <code>λ</code> as an infinite loop that starts the iteration counter <code>N</code> at 1 and pushes a <code>1</code> to the stack initially.</p>
<pre class="lang-python prettyprint-override"><code>λ                   # recursive environment
                    # generate infinite sequence of sums starting with a(0)=1
                    # pushes the last value to the stack, lets call this x
 N*                 # push N*x
    N&lt;!©            # calculate (N-1)! and store a copy of the result in the register
        +D          # calculate N*x + (N-1)! and make a copy of the result
          N!‹       # is N*x + (N-1)! &lt; N! ?
             iN,    # if so, N*x + (N-1)! / N! &lt; 1 and print N
             ë®·-   # otherwise subtract (N-1)!*2 to get N*x - (N-1)!
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/dloscutoff/zephyr" rel="nofollow noreferrer">Zephyr</a>, 108 bytes</h1>
<pre><code>set s to 0
set i to 2
while 1=1
if(s+(/i))&lt;1
set s to(/i)+s
print i
else
set s to s-(/i)
end if
inc i
repeat
</code></pre>
<p>Outputs infinitely. <a href="https://tio.run/##PYtBCoAgEEX3c4pZKhJl6zpM1IgDYuIIUZc3XdTufd77DyV/51qFCgqWEyfoyB1nuDwHQrtaYKfEqJG1Xix8cd9GIGWO7QIUhH6HMnQNFA9kBxz3VmRKtJVaXw" rel="nofollow noreferrer" title="Zephyr – Try It Online">Try it online!</a></p>
<p>Implements the spec directly, using Zephyr's built-in rational numbers. Here it is ungolfed:</p>
<pre><code>set sum to 0
set i to 2
while true
    if (sum + (/i)) &lt; 1
        set sum to sum + (/i)
        print i
    else
        set sum to sum - (/i)
    end if
    inc i
repeat
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> v2.0a0, 29 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Just ... hideous!</p>
<pre><code>@¶Xõ!÷1 åÈ+Y§1©X+YªnXÃäÎèÉ}a2
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=2.0a0&amp;code=QLZY9SH3MSDlyCtZpzGpWCtZqm5Yw%2bTO6Ml9YTI&amp;input=NDc5" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 13 bytes</h1>
<pre><code>W&lt;Goḟε§e+≠1İ\
</code></pre>
<p><a href="https://tio.run/##ARwA4/9odXNr//9XPEdv4bifzrXCp2Ur4omgMcSwXP//" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>An infinite list.</p>
<p>woo, it works.</p>
<p>-2 bytes from ovs.</p>
<p>-4 bytes from Dominic Van Essen.</p>
<h2>Explanation</h2>
<pre><code>Wo&lt;0-Goḟε§e+`-1İ\
              1İ\ [1/2,1/3,1/4...
      Go      1   scan with 1 as intial value
         §e+`-    [a+b,a-b]
       ḟε         first element &lt;=1
Wo                indices of pairs where
    -             difference is
  &lt;0              &lt; 0 (negative)
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>74</s> 73 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>p=2#1$0
(n#y)x=(n?y)(x*n)$(n+1)#(y*n)
(n?y)a f|a+y&gt;y*n=f$a-y|1&gt;0=n:f(a+y)
</code></pre>
<p><a href="https://tio.run/##HcgxCoUwDADQ3VME2iFRhNZRiP8sGSyKGoo6GPDu/cXt8Ra5tnnfS8k8uOhDg@qMHkb9GeHTKnnULpJDq26@FkivdDbV4eSltzdOgXVMWJfKIasCQz5XvcHDLdsMQ4Bc/g" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 51 bytes</h1>
<pre><code>Ｎθ≔¹η≔⁰ζ≔¹εＷ‹Ｌυθ«≦⊕ε≧×εζ¿›ζ×η⊖ε≧⁻ηζ«≧⁺ηζ⊞υε»≧×εη»Ｉυ
</code></pre>
<p><a href="https://tio.run/##fZBNC8IwDIbP26/IMYUK6tWTKIjgZIh/oM64Frqq/VCY@Ntr1eHXwRwC4U3ePEklha32Qsc4N4fgl6HZkMUjG@Vj51RtcMBBvqs@h/ZLo1SdpdIEuCDnUjK1lxgYhyNjcMmzQhy69rmpLDVkPG2fg29tpWrpca0ackl6LsnUDnBmSfhE1HJ4qCg5TOnlg8RSwI9PoUxIPrLzIe3oTvK7rtSfXVkZXALvyK5/4O7/uOalVcbjRDifrmWjGIf92DvpGw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs the first <code>n</code> terms. Explanation:</p>
<pre><code>Ｎθ
</code></pre>
<p>Input <code>n</code>.</p>
<pre><code>≔¹η≔⁰ζ≔¹ε
</code></pre>
<p>Start with a running total of <code>0/1</code> and the last fraction as <code>1/1</code>.</p>
<pre><code>Ｗ‹Ｌυθ«
</code></pre>
<p>Repeat until enough terms have been collected.</p>
<pre><code>≦⊕ε
</code></pre>
<p>Increment the denominator to get the next unit fraction.</p>
<pre><code>≧×εζ
</code></pre>
<p>Multiply the running total by the denominator.</p>
<pre><code>¿›ζ×η⊖ε≧⁻ηζ
</code></pre>
<p>If incrementing the running total would make it exceed the denominator then decrement it.</p>
<pre><code>«≧⁺ηζ⊞υε»
</code></pre>
<p>Otherwise increment it and push the denominator to the list of results.</p>
<pre><code>≧×εη
</code></pre>
<p>Divide the running total by the denominator.</p>
<pre><code>»Ｉυ
</code></pre>
<p>Print the found terms.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 42 bytes</h1>
<p>This prints TSIJMU infinitely:</p>

<pre class="lang-perl prettyprint-override"><code>$i=1;1while$s+=1/++$i*($s+1/$i&lt;1?say$i:-1)
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l09bQ2rA8IzMnVaVY29ZQX1tbJVNLA8g21FfJtDG0L06sVMm00jXU/P//X35BSWZ@XvF/Xd8yUz1DAwA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>...or until Try It Online reaches its limit of 128 KiB of output. Exploits that <code>say$i</code> prints that sequence number and then returns 1.</p>
<p>This is seven bytes longer and takes <em>n</em> from stdin:</p>

<pre class="lang-perl prettyprint-override"><code>$i=1;$s+=1/++$i*($s+1/$i&lt;1?$_--&amp;&amp;say$i:-1)while$_
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l09bQWqVY29ZQX1tbJVNLA8g21FfJtDG0V4nX1VVTK06sVMm00jXULM/IzElVif//38jgX35BSWZ@XvF/3bz/ur5lpnqGBgA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/LyricLy/Ly" rel="nofollow noreferrer">Ly</a>, 47 bytes</h1>
<pre><code>02s&gt;n[&lt;1f/+1G:![p:lu' o&gt;,&lt;]p[p1l/2*-0]pl`s&gt;]&gt;  
</code></pre>
<p><a href="https://tio.run/##y6n8/9/AqNguL9rGME1f29DdSjG6wCqnVF0h307HJrYgusAwR99IS9cgtiAnodgu1k5B4f9/QyMA" rel="nofollow noreferrer" title="Ly – Try It Online">Try it online!</a></p>
<pre><code>02s&gt;n[&lt;1f/+1G:![p:lu' o&gt;,&lt;]p[p1l/2*-0]pl`s&gt;]&gt;
02                                            # Init stack w/ &quot;0&quot; (sum) &quot;2&quot; (divisor)
  s&gt;                                          # Stash the divisor, change to iterator stack
    n                                         # Read number of output items &quot;N&quot; from STDIN
     [                 &gt;,&lt;                &gt;]  # Loop, iterates until &quot;N&quot; is 0
      &lt;                                       # Switch to accumulator stack
       1f/+                                   # Calculate &quot;(1/divisor)+accumulator&quot; 
           1G:                                # Compare &quot;accumulator&gt;=1&quot;, duplicate answer
              ![p:        ]p                  # If-then, runs if &quot;accumulator&lt;1&quot;
                  lu' o                       # Load the divisor, print as num, add &quot; &quot;
                       &gt;,&lt;                    # Switch to iterator stack, decr, switch back
                            [p      o]p       # If-then, runs if &quot;accumulator&gt;1&quot;
                              1l/2*-          # Calc &quot;2*(1/divisor)&quot; and subtract
                                       l`s    # Increment divisor, stash it
                                            &gt; # Switch to empty stack to suppress printing 
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="noreferrer">Python 3.8</a>, 54 bytes</h1>
<p><em>-1 byte thanks to @ovs</em><br>
<em>-4 bytes thanks to @att</em></p>
<p>Outputs the sequence indefinitely.</p>

<pre class="lang-python prettyprint-override"><code>a=b=n=2
while a:=a*n+[b,-b][a*n&gt;b!=print(n)]:b*=n;n+=1
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM7YoKPr/P9E2yTbP1oirPCMzJ1Uh0co2UStPOzpJRzcpNhrItEtStC0oyswr0cjTjLVK0rLNs87TtjX8/x8A" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>Although the code is heavily golfed, the idea is a straightforward implementation. <code>a</code> and <code>b</code> are the numerator and denominator of the current fraction. To add two fractions, we can use a simple formula: <code>a/b + c/d =&gt; (ad + cb) / bd</code>.</p>
</div>
<div id="pu12" class="pu"><h1>JavaScript (with <code>alert</code>), 52 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>for(p=q=i=1n;;p*=i++)q*=i,p*i-p&gt;q?alert(i,q+=p):q-=p
</code></pre>
<p><a href="https://tio.run/##HctLCoAgEADQ6/jJoG0xdRYxiwlxZkzC21u0eqt3@cffoSBXl2mP3adYKjRYA@WbUhwTnarpflBRDAIIU14WNoDWavkY2KDjVbZ/KhzEAutZHHDvLw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>35</s> 34 bytes</h1>
<pre><code>#0[#+1/If[++i#&gt;1,-Echo@i,i]]&amp;[i=1]
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78/1/ZIFpZ21DfMy1aWztT2c5QR9c1OSPfIVMnMzZWLTrT1jD2/38A" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Outputs the sequence indefinitely (up to <code>$IterationLimit</code>, 4096 by default).</p>
<p>Subtracts terms from 1 instead of adding from 0.</p>
<hr />
<p>Without overriding <code>$IterationLimit</code>, <b>40 bytes</b>:</p>
<pre><code>i=0;Do[i+=1/If[i&gt;1/j,-Echo@j,j],{j,∞}]
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78/z/T1sDaJT86U9vWUN8zLTrTzlA/S0fXNTkj3yFLJytWpzpL51HHvNrY//8B" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 78 bytes</h1>

<pre class="lang-python prettyprint-override"><code>from fractions import*
v=i=Fraction(1)
while 1:i+=1;v-=(v&gt;1/i!=print(i)or-1)/i
</code></pre>
<p><a href="https://tio.run/##LcgxCoAwDAXQ3VPUrVWkBDcljt5DRPGDNiWWiqevi2988U2HhL6UXeUyuy5rgoTb4Iqiqakyg@d/LbnqOXBuhga0TGPu2OaJPGqOipAsnGhHzqOUDw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>-8 bytes thanks to ovs<br />
-1 byte thanks to Jo King (the number can't be exactly 1, also thanks to Bubbler for the pseudo-proof of this)<br />
-2 bytes thanks to att</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 19 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>«efy}á╤2╧8ßÇæ→╔y¬µ!
</code></pre>
<p><a href="https://staxlang.xyz/#p=ae6566797da0d132cf38e180911ac979aae621&amp;i=" rel="nofollow noreferrer">Run and debug it</a></p>
<p>Making a husk answer for this turned out to be very difficult. Here's a stack based one for the moment.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="noreferrer">Raku</a>, 45 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>2.FatRat...{($!+=1/$_)&gt;1??($!-=2/$_)!!.say}&amp;1
</code></pre>
<p><a href="https://tio.run/##K0gtyjH7/99Izy2xJCixRE9Pr1pDRVHb1lBfJV7TztDeHsjTtTUC8RQV9YoTK2vVDP//BwA" rel="noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
<p>Full program that outputs the sequence infinitely.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/230677/">230677</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




