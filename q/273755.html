<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::273755</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>050</td><td>UiuaSBCS</td><td>240727T181057Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/274474#274474">Europe20</a></td></tr>
<tr d-ix="1"><td>056</td><td>Haskell + hgl</td><td>240625T232416Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273810#273810">corvus_1</a></td></tr>
<tr d-ix="2"><td>036</td><td>Charcoal</td><td>240623T174432Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273764#273764">Neil</a></td></tr>
<tr d-ix="3"><td>076</td><td>R</td><td>240626T130113Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273816#273816">Dominic </a></td></tr>
<tr d-ix="4"><td>166</td><td>Go</td><td>240625T143053Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273803#273803">bigyihsu</a></td></tr>
<tr d-ix="5"><td>075</td><td>jq</td><td>240624T213238Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273780#273780">GammaFun</a></td></tr>
<tr d-ix="6"><td>069</td><td>Zsh</td><td>240624T210259Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273778#273778">GammaFun</a></td></tr>
<tr d-ix="7"><td>7973</td><td>Python 3.8 prerelease</td><td>240623T121208Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273758#273758">squarero</a></td></tr>
<tr d-ix="8"><td>074</td><td>JavaScript ES6</td><td>240623T132502Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273761#273761">Arnauld</a></td></tr>
<tr d-ix="9"><td>082</td><td>R</td><td>240624T074231Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273770#273770">int 21h </a></td></tr>
<tr d-ix="10"><td>117</td><td>Google Sheets</td><td>240624T145753Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273772#273772">doubleun</a></td></tr>
<tr d-ix="11"><td>025</td><td>05AB1E</td><td>240624T073637Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273769#273769">Kevin Cr</a></td></tr>
<tr d-ix="12"><td>043</td><td>J</td><td>240624T054254Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273767#273767">Bubbler</a></td></tr>
<tr d-ix="13"><td>088</td><td>Perl 5 apl</td><td>240624T013958Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273766#273766">Xcali</a></td></tr>
<tr d-ix="14"><td>024</td><td>Jelly</td><td>240623T183816Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273765#273765">Jonathan</a></td></tr>
<tr d-ix="15"><td>082</td><td>Retina 0.8.2</td><td>240623T103032Z</td><td><a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes/273756#273756">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.uiua.org/" rel="nofollow noreferrer">Uiua</a><sup>SBCS</sup>, 50 bytes</h1>
<pre><code>b←⊂:@b.
F←b¤-1⊢.b-1.
n←{F&quot;C&quot;F&quot;F&quot;b&quot;G&quot;}
⊏:n◿12+:⊗:n:
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_12_0-dev_3__YiDihpAg4oqCOkBiLgpGIOKGkCBiwqQtMeKKoi5iLTEuCm4g4oaQIHtGIkMiRiJGImIiRyJ9Ckcg4oaQIOKKjzpu4pe_MTIrOuKKlzpuOgpHIDAgeyJBIiAiQiIgIkMiICJEYiIgIkViIn0KRyAxIHsiQyIgIkQiICJFIiAiRiIgIkciICJBIiAiQiJ9CkcgMiB7IkRiIiAiRWIiICJHYiIgIkFiIiAiQmIifQpHIDcgeyJDIiAiRCIgIkViIiAiRiIgIkcifQpHIDExIHsiRyIgIkUiICJFIn0KRyA1IHt9Cg==" rel="nofollow noreferrer">Try it online!</a></p>
<p>Converts the notes to numbers and does the shifting on them before turning them back into notes.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a> + hgl, <s>73</s> 56 bytes</h1>
<p>-6 bytes thanks to <a href="https://codegolf.stackexchange.com/users/56656/wheat-wizard">WheatWizard</a></p>
<pre class="lang-haskell prettyprint-override"><code>m&lt;(a!)&lt;&lt;fm(he&lt;F isx a)&lt;pl
a=cX(7#&lt;Β*:*Wr&quot;b &quot;)$wR&quot;Cb Fb&quot;
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZFBb9MwFMe1az7Fw-vBXhtgSGhT5VTa2gQNManqhDaprZDT2DSQuFXtqIE7N05cAWkXhMSH4b4d-SS8OEvKQOSS5___9_7vWf78fSnMW5llN_tT4l8Nx2PSAyzC0kqdyGQklSgyOykyacj8dq-T5uvVxsLYa4qNzIpEAmWNMhJWPDwX72IU1WaVPy-MvW--SI0FKjOZn-GMknme6vfPtPUH0wu7SfXr-a7yfF-BDnJKxQPGaVcz3oTyCNoMEKwlZ6U_ePP-ktIyCNiAqzQihNftusuY1n_Ci5Kn5TkIHlHK2T8wp5jh6CCvZU45_c8GjK8zTwWzb4VV_vHNcdOhcrqUyKamoipIBIsrerTPf3466B9cbkgMhHW2EzKMIYpJ3X-798NKYxfCSAMBTD2gj_FtTuAUhjCKIYzJX0fWQ-YQRRQghAieAdoV5fxKiOEkhtMYhjX8pPUap6Ideo87akJdSMW46LgafTf20IkhhM51mc1KT1GpVMLmnpeLVON1VP4KdtfrwIzqHpgeyHItF1YmDPwBJCsP8MukBbUqdIJ9L7cI49MB3U7AsNa3srRomyVgkGHQ7QIBHzNIVaJcB2BNU3V3eBS048AupQZc8tfXjzux6W0FmRnpqC8fSD17feFG1092fV3_fwM" rel="nofollow noreferrer">Attempt This Online</a></p>
<p>Previous version:</p>
<pre class="lang-haskell prettyprint-override"><code>m&lt;(a!)&lt;&lt;(&lt;(fromJust&lt;F elemIndex a))&lt;pl
a=wR&quot;C Db D Eb E F Gb G Ab A Bb B&quot;
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZHfitNAFMbxdp7ic_BihjbqCqIsk8Ju_1FxoewiCm2RSTOx0WRaOlMavffON1Bhb0T0jdZL38I7T5JN6irmJme-7zu_c4b5-HWl3RuTZd9mPHjRn0754upXmm_WW48pa4qtyXaxgZCNMtBe3z3TbyMSk-06f7Jz_qb5NHUewmQmn9jYFJKx5Ph4Yn3Qm134bWpfLQ4VC4IENsyF0LelEh0rVQNVI7QMaNkm50XQe_3uuRBFGMqeStIR56putx0prf0zvCxUWpxBq5EQSv4TVoIYkiXh_MvOJ8Hjq0leu0oo8Z9FpNpkTIf7c97HIMIAwwhDjDCOMMZJhBOcRjjlNfDHre_eOL_UzjiEmDGI-11wyqDqHkb8r6PsUuaIxH6JLrklsUxVfj2IxtCQfh1-0HqNU6ar6I3cowZaQcrMuF6WxOuxR5U4xLByK2az0kNSSpXLBWO5Ti1dJ8lf4nC9O5gL24XrwhQbs_Qmlgh6iNcM9GXGI1nvbEx9z_YUpgeC2J_Dydb3pvBkuxUI5CQ6HXAExOBlSXINoFqkyfXhXtiOg18ZC1ry5-cPB7HpbQWTOVOlPr3n9ezNRTW6frLLy_r_Gw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Pointfree version of this:</p>
<pre class="lang-haskell prettyprint-override"><code>f :: Int -&gt; [String] -&gt; [String]
f inc arr = map ((a!) &lt; (+inc) &lt; fromJust &lt; flip elemIndex a) arr
</code></pre>
<p>Where <code>(!)</code> is wrap-around indexing and <code>(&lt;)</code> is function composition.</p>
<p><s>Sadly, hgl has no shorthand for fromJust, fromMaybe, elemIndex or findIndex, as far as I'm aware.</s></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>40</s> 36 bytes</h1>
<pre><code>Ｆ⁷Ｆ⪪⪫×§αι⁻²⁼²﹪ι³b²⊞υκ⪫Ｅ⁺ＮＥ⪪Ｓ ⌕υι§υι 
</code></pre>
<p><a href="https://tio.run/##NY7PDoIwDMbvPEXDqUvmBQ8cOBkFgwmGBF9g/FEax4awGd9@DtAe2ub72l/b9GJqtJDO3fUEGDNYazVKMnjRpPBGQzfjweSq7T4oOBDjUJCyM0Yc0pcVcu0K3VqpkTjsmQ8OYR36HDEGpZ17tByeLAnKidSPXIgRS@k5uRqtudqh7iZc4F7fHliNyviVx2KEsBAzUu1Co/XK/7FN2GZY4lwcHOEEaQ0ZnN3uLb8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｆ⁷Ｆ⪪⪫×§αι⁻²⁼²﹪ι³b²⊞υκ
</code></pre>
<p>Create a list of the note names from <code>Ab</code> through to <code>G</code>. This is inspired by @JonathanAllan's Jelly answer.</p>
<pre><code>⪫Ｅ⁺ＮＥ⪪Ｓ ⌕υι§υι 
</code></pre>
<p>For each note in turn, find its index in the list, add on the offset, then cyclically look up the result in the list.</p>
<p>I tried using a smaller lookup string but the extra cost of decoding outweighed the saving:</p>
<pre><code>≔bAbBCbDbEFbGζ⪫Ｅ⁺ＮＥ⪪Ｓ ⌕ζ⮌ιΦ⁺§ζ⊕ι§ζι∨μ№αλ 
</code></pre>
<p><a href="https://tio.run/##ZY7BDoIwEETvfsWG05LUswdOiGAw0RD5AgobaFILtoUoP19bvJi4hz3MvJ2ddmh0OzbSudQY0SuMeMqPGT/xvODniMEaJ7tKC2XxMgqF12bCSs4GSzXN9jY/OGmMGQS9nqSwX6O2/qQPRgSR34VQHa4M7rSQNoQi9sNgS8reraRsGCdMbak6egWwVK2mBylLXYAZ5M@5kcbX851@OLHl/Anha5w4d9hlcIKcQwFnt1/kBw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: The note index can be directly looked up by finding the reverse of the note name in the lookup string but if the indexed character is a <code>b</code> then recreating the note name requires you to prefix it with the following character.</p>
<p>I tried not using a lookup string at all but the resulting calculations were simply far too long:</p>
<pre><code>⪫Ｅ⁺ＮＥ⪪Ｓ ⁻÷⁺¹⁶×¹²⌕α…ι¹¦⁷Ｌι⁺§…α⁷÷⁺²×⁷ι¹²…b÷﹪⁺⁹×⁵ι¹²¦⁷ 
</code></pre>
<p><a href="https://tio.run/##XY/BCsIwDIbvPkXYKYN62ECHeJJNRVER9AW6tWyB2o7ZiT59XS3iMBAI@fPlT6qGd5XhyrlzR9ri3pDGI2/xrPo77nTb21N/K2WHMQPfv7SKbBAudkBqL0QQeZn0h7EFPUjIsCKZM7jSTQ5VymBDWiBnkL8qJfPGtEgMkngIBtmQB6lr2yCFzmfByu60kE/8ITzM/hmlX5@MAXk6SeOxUVRGY@ZoRK9MQBdfdDZGs3CE/y1eOpdNcihgXcIGtm76UG8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 76 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(n,s,`/`=paste0,L=LETTERS)c(N&lt;-rbind(L/&quot;b&quot;,L)[1.2*1:12],N)[match(s,N)+n]/&quot;&quot;
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZZBBC4IwGIbp0qFf8bEuW81MIYrIwGp1GR6qmwU5S-qQhNqv6WJBP6p-TXOSJp02Xp7n-97tdo_SR2A9r0mgDV58g0Ma052-sy5enBy6lFucrddsuSI-dkZaJE7hHnMdCUQ5cY2O2TKGhrmlDnHPXuIfcSyv7XCrI5TPfNfqAe7S2PdCTBGiiYVsmMAUZgKYQIRAE7Qx_GSNABsVXubAYA6LjCoMxWapAFvARMBUimZFzJEvUJhKK53-_zI1t-DVXpHVy6pVuy1kM1aSaqF6Qq-CSSL_jjTNzw8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A somewhat golfed way to construct the list of notes, with the rest of the approach largely copied from <a href="https://codegolf.stackexchange.com/a/273770/95126">int 21h Glory to Ukraine's answer</a> - upvote that one!</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, 166 bytes</h1>
<pre class="lang-go prettyprint-override"><code>import(.&quot;slices&quot;;S&quot;strings&quot;)
func f(s int,n[]string)(o[]string){N:=S.Fields(&quot;C Db D Eb E F Gb G Ab A Bb B&quot;)
for _,e:=range n{o=append(o,N[(Index(N,e)+s)%12])}
return}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=hVLBattAEIUe9ysmC4ZduhV1oLQ4qCDHsunFhNo3xxStvDKi9kqVViFF6Niv6MUEkn_op7Rf01ltrMhpoIeZHe28eftGMz_vttnhVx7FX6Otgn2UapLu86wwHk32ht5XJnnz4feDu2MeLXdprEp6saClKVK9LSknSaVjSFgJqTZCr9Yuw1nWhfV85C-8aap2m5LRS5hImEAoIYQpzCTMIJAQwFjC2NJlBXwRauQXkUZNus78KM-V3rBMzFfsk96oWzYXir8u-WB4vuYNKZSpCt04tX9e_TDfcwVLwNer2ECNgcpbeRfocqFu86M0aIjTb1tnHGpiShj5sFova1K_FUdcTQMq6BjtEm0i0YXomv8CGkHqYQ_VZm0SbYo2Q3us7JN1BA5kg8C6sXQvtLznLxacgvukHd-_VO9fkiifNPZpOsny2O2xz-EzVOjspLjT2f2ed0_pHtKmcDhX-GF2mlHf9xfL4PMSz25JjB2VWxMcW02iuL1JmPHakQswHg6ckzSBs_BbFe0wg9MXgEgcNrTsCaODjYDBzbUG_6M7Adjghl9rain6XG2pjZGG4_Y0JwohnE_AKXzcxsPBnX8B" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://stedolan.github.io/jq/" rel="nofollow noreferrer">jq</a>, 75 bytes</h1>
<pre><code>. as $s|input as $n|[&quot;AbABbBCDbDEbEFGbG&quot;*2|scan(&quot;.b?&quot;)]|[.[index($n[])+$s]]
</code></pre>
<p><a href="https://tio.run/##VY3NDoIwEITvfQqy4QD@ECUxHg2F0odoemDRAxwKpph46LNbu9UQvXzZzOzMjHfvi6SzSWrdYObHEm/jFFRYceR1g41A0UqUsCmd7TuTQYEXyLVThRrM9fbMUqN0vk2t1t4fWIjCLgFOqAkNEgWCZsfgfrQoEVqCJHxjmpXhaw2RG1lFcqo5/9fgT0/YoBG59osgnRh7TfMyTMb6ff8G" rel="nofollow noreferrer" title="jq – Try It Online">Try it online!</a></p>
<p>Probably is an exact port of another answer, although the only thing I explicitly copied is the <code>.b?</code> matching.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 69 bytes</h1>
<p>Takes notes as argv, transposition on stdin.</p>

<pre class="lang-sh prettyprint-override"><code>S=(${${:-{A..G}{b,}}:#[CF]b})
S+=($S)
eval '&lt;&lt;&lt;$S[S[(i)'$^@\]+`&lt;&amp;0`\]
</code></pre>
<p><a href="https://tio.run/##LYvdCoIwAEbv9xQfNmrDEg0ikAX@NH2AXaphC8Ug6CLpItmzL2Vefuc75/cZ7Mg4s@rC6ESn@DClQVCaSe@NiTdVXjTacKL8@VacdN/7CzshBFWVqtiT7@gtqRu/FduwrRvLSc84usfwRjvCo4nXEtJjDkKkyJDjqiG1Q9EyIVGgXE4Hj85AqZFqZKt6dqpe3DWO5kpCunWyfw" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a> Uses a wrapper function to reformat the output on a single line.</p>
<pre class="lang-sh prettyprint-override"><code>S=(${${:-{A..G}{b,}}:#[CF]b})
#    ${:-{A..G}{b,}}            # unnamed parameter expansion -&gt; brace expansion
#  ${               :#[CF]b}    # remove Cb and Fb
S+=($S)                         # append the whole list a second time
eval '&lt;&lt;&lt;$S[S[(i)'$^@\]+`&lt;&amp;0`\]
## Before eval:
#                       `&lt;&amp;0`   # capture stdin input (semitone offset)
#                 $^@           # argv, enable rc_expand_param
## During eval:
#           S[(i)     ]         # get the (i)ndex of the first matching array element
#        $S[           +`&lt;&amp;0` ] # add semitones, get array element
#     &lt;&lt;&lt;                       # write to stdout followed by a newline
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, <s> 83 </s> <s> 82 </s> <s> 81 </s> 79 (73?) bytes</h1>
<p><em>-1 byte:</em> <code>.split())[l.index(i)+t-12]</code> → <code>.split()*2)[l.index(i)+t]</code>.<br />
<em>-3 (-9?) bytes from Jonathan Allan.</em></p>

<pre class="lang-python prettyprint-override"><code>lambda t,n,l='B Bb A Ab G Gb F E Eb D Db C'.split():[l[l.index(i)-t]for i in n]
</code></pre>
<p>73-byte solution (possibly allowed due to trailing spaces):</p>
<pre class="lang-python prettyprint-override"><code>lambda t,n,l='G GbF E EbD DbC B BbA Ab':[l[l.find(s)-t-t:][:2]for s in n]
</code></pre>
<p>Alternate 83-byte solution <s>because lookup tables are boring</s>:</p>
<pre class="lang-python prettyprint-override"><code>lambda t,n:[chr(int(m:=(ord(a)//.6-~t-len(b))%12*.6+65))+'b'*(m%1&lt;.3)for a,*b in n]
</code></pre>
<p>Takes input like <code>f(7, ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B'])</code>.</p>
<p><a href="https://tio.run/##HcexDsIgAITh3ae4DUiwibqYJg6lUB6idihpqyRICTLo06Nww5f/wjc9d3@5hpi32z27@WWWGYl77m5EQBh06Aw0tMEABWUgIQ160ryDs4mydnSja6xf1g@17JimbY@wsB5@yqVT6Tj7x0pPZ9Ye8F@I1ie60cQxks4QDtIVRE1R6AuyfllQNVVhKOj6NZkYyz8" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try #1 online!</a><br />
<a href="https://tio.run/##HcyxCoMwEMbxvU9xdEkCWqhdSsCCMZqHsBkMNq2QRtFbivjsqckNP/7fcvMPP5O/3ecl2PIZXP81Qw@Y@cyVRIEyLTTQGAnS1CBAmAoqQ3jnOnexox/oynLMkeuOF9pOC6wwevA6xMbYS@/fL3otGD/BcfMyeqT2vCF/FDuHzVLMoCPH1wxIFREpRaSOyLRlpEnZRNqISlsRzfYzC38" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try #2 online!</a><br />
<a href="https://tio.run/##HcyxDoIwFIXhV@lCei@UEiSiITKAIg@BDK1IIKGFNF1cfPWadvnyn@UcX7vsurgexs31y21CyUkQy3Q1vBcDq7agqhp2M4HALONl@rPp9tEgEaP8FPMyKc@ICZU0BhXlN17gvBsiWCzJqoke3WH8ywwXRgZ6p4zQhwx6upCd5@npw@49TcjG04Zs6Yjo/g" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try #3 online!</a></p>
<h2>Explanation</h2>
<pre class="lang-python prettyprint-override"><code>lambda t,n:                                                                        # Define lambda
           [                                                         for i in n]   # For each note:
            (l:='C Db D Eb E F Gb G Ab A Bb B'.split()  )                          # Set l to the list of music notes
                                                      *2                           # Duplicate so it doesn't overflow
                                                         [l.index(i)+t]            # Add t to original index
                                                                                   # (implicitly returned)
</code></pre>
</div>
<div id="pu8" class="pu"><h1>JavaScript (ES6), 74 bytes</h1>
<p>Expects <code>(n)(list)</code> and returns another list.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;a=&gt;a.map(s=&gt;b[(b.indexOf(s)+n)%12],b=&quot;AbABbBCDbDEbEFGbG&quot;.match(/.b?/g))
</code></pre>
<p><a href="https://tio.run/##dY/NTsMwEITvPMXKEtKuAIdUQj2lKH/NkQeoesimSQlKnQhHCJ4@rI2KKhdWvs1845m3@qO2zXs/zQ9mPLRLlywm2dTy9Kme0CYb3iHr3hzaz5cOLd0Zuo1X@3tOVMppxllecFFyua24UsLMzStGmp@jI9HSjMaOQ6uH8YgdwiOhSiGDHAqGkpW209DPqEAREchFEVzoNwEeCy4SlLCFyhnDAME96HSGlCFjyMOUlaT8uM6eIEZSfMQ//Prcwn9zvcHxvh27HQEduw2VLCj/AH9p3@56/xPhbn/pDU9YbE/T/EXLNw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>n =&gt;                  // n = number of semitones
a =&gt;                  // a[] = list of notes
a.map(s =&gt;            // for each note string s in a[]:
  b[                  //   get from b[]:
    (                 //
      b.indexOf(s)    //     the note at the position of s in b[]
      + n             //     + the required number of semitones
    ) % 12            //     modulo 12
  ],                  //
  b =                 //   where b[] is initialized to the list
  &quot;AbABbBCDbDEbEFGbG&quot; //   of all 12 notes from Ab to G, obtained
  .match(/.b?/g)      //   by matching in this string each capital
                      //   letter followed by an optional 'b'
)                     // end of map()
</code></pre>
<hr />
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">Node.js</a>, no looking table, 81 bytes</h1>
<p>Or <strong><a href="https://tio.run/##dZHBasMwEETv/YqtIGW3pnYUcHpSIErdfITxwUrt4uLYJnILvfjX3ZVKSlCaRRcx80Y76KP8Ku3h1AzjU9e/VXOt5k5tSj7xsRzQqg1qpT/rujoR5tOEjUKNlvJlkcTr6N7msog6WsgVPfJ9nRYUCTAin5pF@iALmg99Z/u2itv@HWuEJaHYgoYdvBjIjIjt0DYjChBEBDxJAhf6XYBLxlmCDF5h74xhAOMedLqBrQFtYBemrDjl13X2BDGc4iNu8M/nLfwz1x0c77czrkdAS9dhzw2yf8A/2m933T/lXyguveEwi9VxGL9p/gE" rel="nofollow noreferrer">78 bytes</a></strong> <a href="https://codegolf.stackexchange.com/questions/273755/transpose-these-notes#comment590198_273755">if it's acceptable</a> to output a space when there's no flat sign.</p>
<p>Same input format.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;a=&gt;a.map(s=&gt;(B=Buffer)([~~(i=(B(s)[0]/.6+!s[1]+n)%12)*.6+65])+[&quot;b&quot;[~i%5+1&amp;1]])
</code></pre>
<p><a href="https://tio.run/##dZHBasMwEETv/YqtIGW3pnYUcHpSIErdfITRwUrt4uLYJnILvfjX3bVKSlCaRRcx80Y76KP4KtzhVPfDU9u9lVOlplZtCj7xsejRqQ1qpT@rqjwR5uOItUKNjvKlSeJ1dO9yaaKWFnJFj3xfp4aiXFiRj/UijeSDNIamQ9e6rinjpnvHCmFJKLagYQcvFjIrYtc39YACBBEBT5LAhX4X4JJxliCDV9jPxjCAcQ/OuoWtBW1hF6asOOXXdfYEMZziI27wz@ct/DPXHWbeb2fnHgEt5w57bpD9A/7Rfrvr/il/hLn0hsMslsd@@KbpBw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Method</h3>
<p>Given a transposition amount <span class="math-container">\$n\$</span>, the ASCII code <span class="math-container">\$c\$</span> of the original note and a flag <span class="math-container">\$k\$</span> set to <span class="math-container">\$0\$</span> if there's a flat sign or <span class="math-container">\$1\$</span> if there's no flat sign, we compute the index of the target note with:</p>
<p><span class="math-container">$$i=\left\lfloor c\times\frac{5}{3}+k+n\right\rfloor \bmod 12$$</span></p>
<p>which results in the following mapping:</p>
<p><a href="https://i.sstatic.net/TMLdBTlJ.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/TMLdBTlJ.png" alt="keyboard" /></a></p>
<p><a href="https://tio.run/##NY7NDoIwEITvPMWExIQK4l88EQ6AyMknMB5qKaCSlkDjxfjs2K2xhy/Tnc3sPPiLT2K8D2aldC3nWWg1GSht5IQUF/iFH8E/3hwJpZMl4USo3L8iZE5mhNzJ3Mc18bxGj0Evf6nQzS@d4e0BNBb2EI1i0fGxsC0yE2xYZF16z7/bS9WaDmmK7d9T1tvYAwDV1r1d0m3gtgdel6oOdizCmZsubnptWwgsccAae4Q2OIRiWGC7Y4n3mecv" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>By reducing these indices modulo <span class="math-container">\$5\$</span>, we get <span class="math-container">\$0\$</span> or <span class="math-container">\$2\$</span> for black keys and <span class="math-container">\$1\$</span>, <span class="math-container">\$3\$</span> or <span class="math-container">\$4\$</span> for white keys.</p>
<p>If we compute <code>~i % 5</code> instead, we get an odd negative value for black keys and either <span class="math-container">\$0\$</span> or an even negative value for white keys.</p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>n =&gt;             // n = number of semitones
a =&gt;             // a[] = list of notes
a.map(s =&gt;       // for each string note s in a[]:
  (B = Buffer)([ //   B = alias for Buffer
    ~~(          //   coerce to an integer:
      i = (      //     save in i:
        B(s)[0]  //       ASCII code of note (e.g. &quot;A&quot; -&gt; 65)
        / .6 +   //       divided by 0.6 (e.g. 108.333)
        + !s[1]  //       +1 if there's no flat sign
        + n      //       + the required number of semitones
      ) % 12     //     modulo 12
    ) * .6       //   turn this back into a letter ASCII code
    + 65         //   by multiplying by 0.6 and adding 65
  ]) +           //   (the decimal part is ignored)
  [              //   append:
    &quot;b&quot;[         //     the flat sign &quot;b&quot; if
      ~i % 5     //     ~i % 5
      + 1 &amp; 1    //     is odd
    ]            //     (or an empty string otherwise)
  ]              //
)                // end of map()
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 82 bytes</h1>
<ul>
<li>thanks to <a href="https://codegolf.stackexchange.com/users/115882/samr">SamR</a> for noticing a typo (-2 bytes) and <a href="https://codegolf.stackexchange.com/users/55372/pajonk">pajonk</a> for a -6 byte improvement</li>
</ul>
<p><strong>Edit:</strong> fixed the output for the empty string (returns an empty string instead of <code>character(0)</code>)</p>
<p><strong>Edit2:</strong> changed the input type to a vector/list, conform to the rules.</p>
<pre class="lang-r prettyprint-override"><code>\(n,s)paste0(rep(N&lt;-scan(,s,t=&quot;Ab A Bb B C Db D Eb E F Gb G&quot;),2)[match(s,N)+n],&quot;&quot;)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZZC7CsIwFIZxcfApDnFJMIVaEB2s0EvM1sFVHZrS4mIpTX0alyr4UPo05kJbi9OBnO-_nNwfdfss_NetKZzN-3DCJZWkSmWTu7jOK5xsHZmlJaaSNj4KBAQQCgghglhADEwAgz1wARwR6pHjNW2yC5Y0IYvyTBEi1vkzmRbYpdYKIePVuTCBCIE5ODv4eZsVeDniIx2nszTVKwxrG6hyqlqkhN5IaJEO6JVGNmjW_2HGt-e5PV1tdLVxN66asYE0geaE1QhThP2OtrXzCw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>old versions: <s><a href="https://ato.pxeger.com/run?1=TY9NCsIwEEb3nmIYKSQ0BVMQ3VToT5pd14K6aArFjV3Yeho3VfAC3sbbOGkMdhUy30veN_fHdXy2yes2tNH2sz-yTvSiSvqm7phAFEOCqYEUMgMZ5FAYKEAZUFCCNqCR8-rALvXQnNnsTc9FxcMukjwIZBzK0-__d8tWAlP_lTLIYQnRDmajRcukwNx6rMRGnppyZ6ZSVCknOBaALvBjj0_sH9wQmLv6pW3uIO2Wo8CKyazJq5DTbU3LcNd8HN35BQ" rel="nofollow noreferrer">88</a></s> 82 bytes</h3>
<pre class="lang-r prettyprint-override"><code>\(n,s)rep(N&lt;-scan(,s,t=&quot;Ab A Bb B C Db D Eb E F Gb G&quot;),2)[match(scan(,s,t=s),N)+n]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TY9NCsIwEIX3nmKImwSnoAXRhRXaNM2uC7fqwhSDG4u09TRuquA9vIa3MT_GuhqY9817b273pn_o5HntdLR8b3a0xpY1xwstV1FbHWqKLXYJSRWkkCnIgEOuIAehQEABUoEkDGO2PR-66kSHk5ZhySb1_uv80nSKJA0GQhEGY4jW8LcaaTpDwq27tbZSoJzu80wVU4QbOEYgXgjrgDt2ABcG5L50Yft6SPqXjGCDTbI0ueKnOmNXao6EMP9H3_v5AQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Could not find anything shorter than <code>scan(,&quot;&quot;,t=&quot;Ab A Bb B C Db D Eb E F Gb G&quot;)</code> (42 bytes). A somewhat more creative analog <code>rbind(paste0(L&lt;-LETTERS[1:7],&quot;b&quot;),L)[-c(5,11)]</code> is 46 bytes long.</p>
</div>
<div id="pu10" class="pu"><h1>Google Sheets, 117 bytes</h1>
<pre><code>=let(s,split(&quot;Ab,A,Bb,B,C,Db,D,Eb,E,F,Gb,G&quot;,&quot;,&quot;),iferror(choosecols(s,sort(mod(match(torow(B1:1,1),s,)+A1-1,12)+1))))
</code></pre>
<p>Put the number of semitones in cell <code>A1</code> and the notes in cells <code>B1:1</code>.</p>
<p><img src="https://i.sstatic.net/4aQZRqtL.png" alt="screenshot" /></p>
<p>Uses <code>sort()</code> as an array enabler only.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 25 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Au7£SD„CFм'b«s.ι'bKDIkI+è
</code></pre>
<p>Two loose inputs in the order <span class="math-container">\$n,notes\$</span>, where <span class="math-container">\$notes\$</span> and the output are both lists of characters.</p>
<p><a href="https://tio.run/##yy9OTMpM/f/fsdT80OJgl0cN85zdLuxRTzq0uljv3E71JG8Xz2xP7cMr/v@PVnJW0lFyAWJXIHYD0UkgARDhpBTLZQgA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfWVCWOh/x1LzQ4uDXR41zHN2u7BHPenQ6mK9czvVk7xdIrIjtQ@v@K/zPzo6WslRSUfJCYidgdglCUi4JinF6hjE6igAJcGCIDEgdoPIQVU5ARUZQhTBdOkouYMIR7A0yBAjNEOSoKa4A@XMIXLuUMNdQcZBzIvVMY2NBQA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Au                   # Push the uppercase alphabet
  7£                 # Pop and leave just its first 7 letters: &quot;ABCDEFG&quot;
    S                # Convert it to a list of characters
     D               # Duplicate this list
      „CFм           # Remove &quot;C&quot; and &quot;F&quot; from each inner letter,
                     # converting the &quot;C&quot; and &quot;F&quot; to empty strings &quot;&quot;
          'b«       '# Append a &quot;b&quot; to each
             s.ι     # Swap the two lists, and interleave them
                'bK '# Remove the two &quot;b&quot; items
D                    # Duplicate this list
 I                   # Push the input-list of notes
  k                  # Pop the copy and this input, and get the index of each
   I+                # Add the second input-integer n
     è               # (0-based modular) index those into the list
                     # (after which the resulting list is output implicitly)
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.jsoftware.com" rel="nofollow noreferrer">J</a>, 43 bytes</h1>
<pre><code>&gt;:&amp;.(C`Db`D`Eb`E`F`Gb`G`Ab`A`Bb`B`C i.;:)^:
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VVA9asMwFKarTvHRoYqJbOJAcFBJwJZlLZ16gPJ4JSYplHZIhp6lizv0ED1Ke5rqxw7JICR9v0_6_HoZfm4LyB4bDamwgPYrL2AeH7rv07HP17_zrb4rZoZappYsk6WOHJOjmqmmhqkhg0Nxr7MnnSx_N1Umds_7N5_VQ9ZoYNAyLMsElwH2ECw6OHjBSCwDEZVwjJrRTJbqbOHgmYJikvM5dkRWAZBCxJeIhcJFO_Lt5VWUCldDBD4Ju3M9jFgqXI8UdFE0KaoxKBoDG-M4gKL0LXHAiMccX71SmO1e348fWYDHo8jS_w1D2v8B" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>I have absolutely no idea to golf the gigantic array of strings...</p>
<p>The code is an &quot;adverb&quot;, which takes the number of semitones on its left to become a &quot;verb&quot;, and then takes a string representing the notes on its right to return the answer.</p>
<p>Since &quot;shift a note by <code>x</code> semitones&quot; is equal to &quot;shift a note by 1 semitone <code>x</code> times&quot;, the code does the latter.</p>
<pre><code>&gt;:&amp;.(C`Db`D`Eb`E`F`Gb`G`Ab`A`Bb`B`C i.;:)^:    shift by n semitones
                                         ^:    n times
&gt;:&amp;.(C`Db`D`Eb`E`F`Gb`G`Ab`A`Bb`B`C i.;:)      shift by 1 semitone:
                                      ;:    split at spaces
     C`Db`D`Eb`E`F`Gb`G`Ab`A`Bb`B`C i.      convert each word to the index in the array
&gt;:                                          increment those indices
  &amp;.(                                   )   undo the first two operations:
     C`Db`D`Eb`E`F`Gb`G`Ab`A`Bb`B`C i.      index back into the array
                                            (thus the trailing C is needed)
                                      ;:    join by spaces
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-apl</code>, 88 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>map$r{$_}=$i++,@a=(C,Db,D,Eb,E,F,Gb,G,Ab,A,Bb,B);$i=&lt;&gt;;map$\.=$a[($r{$_}+$i)%@a].$&quot;,@F}{
</code></pre>
<p><a href="https://tio.run/##JctBC4IwGAbge79ixBcovg49eNLF1E1P/YKK2AcdBpbDuol/vUX03J9wX6YqxocLtKx02xT5LIN2KulhGAaWYTFgZIxoGS06RpfW5FVzrH/tIhW5c/LvGfn0oN1V0h562NYYe2GEFYOwLAyLbld@5vD28/MV81Mli7KIuQvTFw" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 25 </s> 24 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>7;28,ƊF%?€3ẎịØẠF€©iⱮ⁸+ị®
</code></pre>
<p>A dyadic Link that accepts the notes as a list of lists of characters on the left and the transpose on the right and yields the new notes as a list of lists of characters.</p>
<p><strong><a href="https://tio.run/##AUwAs/9qZWxsef//NzsyOCzGikYlP@KCrDPhuo7hu4vDmOG6oEbigqzCqWnisa7igbgr4buLwq7/4biywrnGh8OnS///QyBEIEViIEYgR/81" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8/9/c2shC51iXm6r9o6Y1xg939T3c3X14xsNdC9yA/EMrMx9tXPeocYc2UPTQuv@HtnoDRR/unKVzeLk@iJn1qGGOgq6dwqOGuZqR//9HR0crOSrpKCg5gQhnEOGSBCJdk5RidRQMYnW4FIBKIBJgcRDhBiLcQQRUL1CpIVQpXDtICZh0BJNOYAONMA1MQjIRqMIcqsIdbpsr2Hio@UCmKZAVCwA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h4>How?</h4>
<pre><code>7;28,ƊF%?€3ẎịØẠF€©iⱮ⁸+ị® - Link: Notes; Transpose
7        €               - for each i in [1..7]:
        ?                -   if...
       %  3              -   ...{i} mod three?
     Ɗ                   -   ...then: last three links as a monad:
  28                     -     twenty-eight
 ;                       -     concatenate -&gt; [i, 28]
    ,                    -     pair -&gt; [[i, 28], i]
      F                  -   ...else: flatten -&gt; [i]
           Ẏ             - tighten
            ịØẠ          - index into &quot;ABCDEFG...Zab...z&quot;
               F€        - flatten each
                 ©       - and copy that to the register
                  iⱮ⁸    - index-of mapped across {Notes}
                     +   - add {Transpose}
                      ị® - index into the register (modular)
</code></pre>
<hr />
<p>Original 25:</p>
<pre><code>ØAḣ7p⁾b 5,11œPẎt€©⁶iⱮ⁸+ị®
</code></pre>
<p><a href="https://tio.run/##AU0Asv9qZWxsef//w5hB4bijN3Digb5iIDUsMTHFk1Dhuo504oKswqnigbZp4rGu4oG4K@G7i8Ku/@G4ssK5xofDp0v//0MgRCBFYiBGIEf/Nw" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 82 bytes</h1>
<pre><code>T`L`BD\EGIJ\L
T`bL`__L`.b
\d+
$*
+T`1\LL`_L`1,.*
, 

[ACFHK]
$&amp;b
T`L`AABBCDD\E\EFG
</code></pre>
<p><a href="https://tio.run/##LYw9C8IwGIT3@xXvUETbUIwgzkmbxI@M3Yw0vtjBQRHp4q@PCbodd88972m@P68pDdFH3QfjDsfgMUT2cRx9bBnh1qCq0QxRBp9bH6VoawgCzqqz@9MF1YJRBEpp3fXZEox1Ka0FKdLUUc9kGFKUSIYsuTJgI34LOSbFpBm7P8KFgcwPl3mDraDl9HjNn9UX" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>T`L`BD\EGIJ\L
T`bL`__L`.b
</code></pre>
<p>Transliterate the notes <code>Ab</code> to <code>G</code> to the uppercase letters <code>A</code> to <code>L</code>.</p>
<pre><code>\d+
$*
+T`1\LL`_L`1,.*
, 

</code></pre>
<p>For each semitone, transpose the notes up a letter.</p>
<pre><code>[ACFHK]
$&amp;b
T`L`AABBCDD\E\EFG
</code></pre>
<p>Turn the letters <code>A</code> to <code>L</code> back into notes <code>Ab</code> to <code>G</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/273755/">273755</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




