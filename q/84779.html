<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::84779</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>133</td><td>C gcc</td><td>230604T140525Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/261543#261543">Peter</a></td></tr>
<tr d-ix="1"><td>205</td><td>Scala 3</td><td>230604T021612Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/261525#261525">138 Aspe</a></td></tr>
<tr d-ix="2"><td>056</td><td>Mathematica</td><td>160707T155624Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/84783#84783">miles</a></td></tr>
<tr d-ix="3"><td>224</td><td>Java 8</td><td>160708T045406Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/84852#84852">R. Kap</a></td></tr>
<tr d-ix="4"><td>030</td><td>J</td><td>160707T232009Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/84834#84834">miles</a></td></tr>
<tr d-ix="5"><td>019</td><td>MATL</td><td>160707T163758Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/84787#84787">Luis Men</a></td></tr>
<tr d-ix="6"><td>103</td><td>Python 3 with NumPy</td><td>160707T210556Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/84819#84819">TheBikin</a></td></tr>
<tr d-ix="7"><td>116</td><td>JavaScript ES6</td><td>160707T204315Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/84812#84812">Neil</a></td></tr>
<tr d-ix="8"><td>025</td><td>CJam</td><td>160707T155631Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/84784#84784">Martin E</a></td></tr>
<tr d-ix="9"><td>048</td><td>Julia</td><td>160707T172158Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/84791#84791">Dennis</a></td></tr>
<tr d-ix="10"><td>134</td><td>C#</td><td>160707T170648Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/84789#84789">aloisdg</a></td></tr>
<tr d-ix="11"><td>015</td><td>Jelly</td><td>160707T164957Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/84788#84788">Dennis</a></td></tr>
<tr d-ix="12"><td>181</td><td>JavaScript</td><td>160707T161519Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/84786#84786">charredg</a></td></tr>
<tr d-ix="13"><td>024</td><td>Pyth</td><td>160707T155206Z</td><td><a href="https://codegolf.stackexchange.com/questions/84779/shamirs-secret-sharing/84782#84782">Leaky Nu</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 133 bytes</h1>
<p>-10 bytes thanks to @ceilingcat!</p>
<p>-1 byte thanks to @ceilingcat!</p>
<pre class="lang-c prettyprint-override"><code>v[999];i,j,k,l;f(n,t,s){for(i=t;--i;)v[i]=rand()%251;for(*v=s;n/++i;printf(&quot;%d &quot;,s%251))for(s=j=0;j&lt;t;s+=k)for(k=v[l=j++];l--;)k*=i;}
</code></pre>
<p><a href="https://tio.run/##HcpBCoMwEEDRdT2FCEJiJtQqLch0TiIuREmZaNNiQjbi2VPs9v836dc0pRT7rusGZLCwwIpGOAjg5W4@m2AKqDWjjD0PtI1uFrJs7jc8ZxXJo7sqxfjd2AUjinLOC/CnkPIknizVaJ8BvaLlnxaK/UpWqQFXrVEuFTEe6T2yEzLbs4sRD8hbyJu2lpgd6Qc" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala 3</a>, 205 bytes</h1>
<p><span class="math-container">\$ \text{205 bytes, It can be golfed much more.} \$</span></p>
<hr />
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=hZFLbtswEIb3PMVAQAAykYVItvKwqwBZFQ2MBKhdeGF4wSZ0xFQaGhQd1zC87x266abd9Cw9gO_RA2Ro0UFWLSBq8f8z37y-_2ruZSW7v6dRB81KWoxmu2-6XhjrYG8lS6er5KPEB1MzZj4_qXsH17BhAG69UPAeCuAf0MVw-AkoruDaWrmeDg0-zhiFPqg51FIjl_ax6Qd35KwmX_ThE2pHHA8FeJYV3PQ9-OfSzTsXuz8cYxc3orjaeG9SoFoFBJWbcddJxWBuLNfvOqewRGoYvLaZcC2KtvUE1VdH0TzLU7EdeM7dG86-UY6vmBScARRUz8K4OB3u9dLrAS9gMy7GJ3zCS6p0XEtXJguz4jouhUic8cDt4I5rcgs-PmnEEVUmZRuG-vs6K60ZUVma3_fzJJ_Dzketzkfrxqk60Sj2KatSVwp4yEpK2dzSaEONSoQFtlgk4CHoMLx447v_-M0__AUdzlXIb-gyQFdvRFJ_ac_Jo2kUQ_hmkWhTtsy_MPuP3XF6CRmkGTuDLqQ5y6EH5ywjLSOxR2J-xi4hh26vTXkB" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>(n,t,s)=&gt;{val W=new Array[Int](t-1);for(i&lt;-0 until t-1){W(i)=Random.nextInt(251)};val O=new Array[Long](n);for(i&lt;-1 to n){var T=0L;for(h&lt;-1 until t) {T=T+(W(h-1)*math.pow(i,h)).toLong};O(i-1)=(T+s)%251};O}
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=hVLRSuNAFAUf5ysOBWFG22DSxl2LLvi0rJQt2C59kD7M6tSMJpOSTFvL0i_xpS_6T_rir3ibmYbqwi6EkNxz7rn33Hsfn8trmcr2ev00s5PW19e9N51N88Kiigczq9PgUpqbPGMs_32nri3O8YcBdjlV-I4z8B_GNrF9CZx9w3lRyOVVLze3Y0bUGzVBJrXhsrgtux4d2EITLrr4ZbQlnY0oMJcpLrpO2DRBomUl6VCHjwg0auGFqOiYW7QQCs-Z5AW4xmkLR5gZcgAH1yLAiGuShXMWGPVgSYZHca2x2qnX_1CvssXN38VC2Bxmt8pcFhhS8lGvDlX0xNF9b7sZqPjDQ_ARsaqmD2h2Ngmm-YLrJhIhAptveqhzVvVXnxqpcmh4QxxuRrcPMvXJU5-5v3rgtGtjVOFt3sm5X_zAxflgWVqVBdqbXiQ6VeA-K0hk-ZMG2NNGiQ97MiS4JW1HLHZw-x-8_Ac-peuxqeEX9ZUE2b27Kd64ajThn3FDCLY1v2Ir5u7cn_v65SA8QYQwYsdoI4xZjA6-sIhiEQU7FIyP2QlitDsu5R0" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>import scala.util.Random

object A {
  type G = (Int, Int, Int) =&gt; Array[Long]

  def main(args: Array[String]): Unit = {
    val J: G = (n, t, s) =&gt; {
      val W = new Array[Int](t - 1)
      for (i &lt;- 0 until t - 1) {
        W(i) = Random.nextInt(251)
      }
      val O = new Array[Long](n)
      for (i &lt;- 1 to n) {
        var T = 0L
        for (h &lt;- 1 until t) {
          T = T+ (W(h - 1) * math.pow(i, h)).toLong
        }
        O(i - 1) = (T + s) % 251
      }
      O
    }

    val scanner = new java.util.Scanner(System.in)
    while (scanner.hasNextLine) {
      val n = scanner.nextInt()
      val t = scanner.nextInt()
      val s = scanner.nextInt()
      println(J(n, t, s).mkString(&quot;[&quot;, &quot;, &quot;, &quot;]&quot;))
    }
  }
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Mathematica, <s>59</s> 56 bytes</h1>

<pre class="lang-mathematica prettyprint-override"><code>Mod[Power~Array~{#2,#-1}.RandomInteger[250,#-1]+#3,251]&amp;
</code></pre>

<p>Takes three arguments in the order <em>t</em>, <em>n</em>, and <em>s</em>. Constructs a  2d-array with <em>n</em> rows and <em>t</em>-1 columns. Each row vector <em>j</em>, numbered from 1 thru <em>n</em>, contains the powers of <em>j</em> thru <em>j</em><sup><em>t</em>-1</sup>. Then a vector of random integer coefficients in the range 0 thru 250 is created with <em>t</em>-1 values. That is matrix-multiplied with the 2d-array, and then <em>s</em> is added element-wise and taken module 251 to get the value of the polynomial at each of the <em>n</em> points.</p>
</div>
<div id="pu3" class="pu"><h1>Java 8, 224 bytes:</h1>

<pre><code>(n,t,s)-&gt;{int[]W=new int[t-1];for(int i=0;i&lt;t-1;i++){W[i]=new java.util.Random().nextInt(251);};long[]O=new long[n];for(int i=1;i&lt;=n;i++){long T=0;for(int h=1;h&lt;t;h++){T+=W[h-1]*Math.pow(i,h);}O[i-1]=((T+s)%251);}return O;};
</code></pre>

<p>A Java 8 lambda expression. Outputs a comma separated integer array, and works perfectly until values in the output array reach beyond the range of the Java's <code>long</code>, or 64-bit signed integer, data type, upon which <code>-200</code> is output into the array.</p>

<p><a href="http://ideone.com/kKsNCP" rel="nofollow">Try It Online! (Ideone)</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="http://jsoftware.com" rel="nofollow noreferrer">J</a>, <s>32</s> 30 bytes</h1>

<pre><code>251|(1+i.@{.)p.~{:0}251?@#~1&amp;{
</code></pre>

<p>Takes a list with the values <em>n</em>, <em>t</em>, and <em>s</em>.</p>

<p>Saved 2 bytes by using the <em>replace at index 0</em> idea from @Dennis's <a href="https://codegolf.stackexchange.com/a/84788/6710">solution</a>.</p>

<h2>Explanation</h2>

<pre><code>251|(1+i.@{.)p.~{:0}251?@#~1&amp;{  Input: [n t s]
                           1&amp;{  Select at index 1 (t)
                    251  #~     Create that many copies of 251
                       ?@       Generate that many random integers in [0, 251)
                {:              Get the tail of the input (s)
                  0}            Replace the value at index 0 of the random integer list
                                with s to make a coefficient list of the polynomial
          {.                    Get the head of the input (n)
       i.@                      Make the range [0, n-1]
     1+                         Add 1 to each to get [1, n]
             p.~                Evaluate the polynomial at each value [1, n]
251|                            Take each value mod 251 and return
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>20</s> 19 bytes</h1>
<pre><code>251tliq3$Yrihi:ZQw\
</code></pre>
<p>Input order is <code>t</code>, <code>s</code>, <code>n</code>.</p>
<p><a href="http://matl.tryitonline.net/#code=MjUxdGxpcTMkWXJpaGk6WlF3XA&amp;input=MwoyMzAKNg" rel="nofollow noreferrer"><strong>Try it online!</strong></a></p>
<h3>Explanation</h3>
<pre><code>251t    % Push 251 twice
l       % Push 1
iq      % Take input t. Subtract 1
3$Yr    % Generate t-1 random integers in [1 2 ... 251]
ih      % Take input s. Concatenate with the random integers
i:      % Take input n. Generate range [1 2 ... n]
ZQ      % Evvaluate polynomial at those values
w       % Swap to move copy og 251 to the top of the stack
\       % Modulo. Implicitly display
</code></pre>
</div>
<div id="pu6" class="pu"><h1>Python 3 with <a href="http://www.numpy.org/" rel="nofollow noreferrer">NumPy</a>, 103 bytes</h1>
<pre><code>from numpy import*
lambda n,t,s:[poly1d(append(random.randint(0,251,t-1),s))(i+1)%251for i in range(n)]
</code></pre>
<p>I can honestly say that I never expected to use NumPy for code golf...</p>
<p>An anonymous function that takes input via argument and returns a list.</p>
<p><strong>How it works</strong></p>
<pre><code>from numpy import*         Import everything in the NumPy library
lambda n,t,s...            Function with input number of players n, threshold value t and
                           secret s
random.randint(0,251,t-1)  Generate a NumPy array R of t-1 random integers in [0,250]
append(...,s)              Append s to R
poly1d(...)                Generate a polynomial p of order t-1 with coefficients R and
                           constant term s
...for i in range(n)       For all integers i in [0,n-1]...
...(i+1)                   ...evaluate p(i+1), so for all integers in [1,n]...
...%251                    ...and take modulo 251
...:[...]                  return as list
</code></pre>
<p><a href="https://ideone.com/q1RVw6" rel="nofollow noreferrer">Try it on Ideone</a></p>
</div>
<div id="pu7" class="pu"><h2>JavaScript (ES6), 116 bytes</h2>

<pre><code>(n,t,s)=&gt;[...Array(n)].map((_,i)=&gt;++i&amp;&amp;t.reduce((r,a)=&gt;r*i+a)%251,t=[...Array(t)].map(_=&gt;--t?Math.random()*251|0:s))
</code></pre>

<p>I'd like to think this is one of the rare cases where <code>reduce</code> beats <code>map</code>.</p>
</div>
<div id="pu8" class="pu"><h2>CJam, <s>27</s> 25 bytes</h2>

<pre><code>{,:)@({;251mr}%@+fb251f%}
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=3%20230%206%0A%7B%2C%3A)%40(%7B%3B251mr%7D%25%40%2Bfb251f%25%7D%0A~p&amp;input=3%20230%206" rel="nofollow">Test it here.</a></p>
</div>
<div id="pu9" class="pu"><h1>Julia, 48 bytes</h1>

<pre><code>f(n,t,s)=(1:n).^(0:t-1)'*[s;rand(0:250,t-1)]%251
</code></pre>

<p><a href="http://julia.tryitonline.net/#code=ZihuLHQscyk9KDE6bikuXigwOnQtMSknKltzO3JhbmQoMDoyNTAsdC0xKV0lMjUxCgpmKDYsMywyMzApIHw-IHByaW50bG4&amp;input=" rel="nofollow">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1>C#, <s>138</s> 134 bytes</h1>

<pre class="lang-csharp prettyprint-override"><code>(n,t,s)=&gt;new int[n+1].Select((_,x)=&gt;(s+new int[t-1].Select(k=&gt;new Random(e).Next(251)).Select((c,i)=&gt;c*Math.Pow(x+1,i+1)).Sum())%251);
</code></pre>

<p>C# lambda where inputs are <code>int</code> and output is an <code>IEnumerable&lt;double&gt;</code>. You can try my code on <a href="https://dotnetfiddle.net/1jRVwd" rel="nofollow noreferrer">.NetFiddle</a>.</p>

<p>I am not 100% sure about the validity of my algorithm, please comment if I misunderstood something.</p>

<p>4 bytes saved with @raggy's <a href="https://codegolf.stackexchange.com/a/70934/15214">trick</a>.</p>
</div>
<div id="pu11" class="pu"><h1><a href="http://github.com/DennisMitchell/jelly">Jelly</a>, 15 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page">bytes</a></h1>

<pre><code>251©xX€⁵0¦ḅÐ€%®
</code></pre>

<p>Expects <strong>t</strong>, <strong>n</strong>, and <strong>s</strong> as command-line arguments. <a href="http://jelly.tryitonline.net/#code=MjUxwql4WOKCrOKBtTDCpuG4hcOQ4oKsJcKu&amp;input=&amp;args=Mw+Ng+MjMw">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>251©xX€⁵0¦ḅÐ€%®  Main link. Left argument: t. Right argument: n Third argument: s

251©             Yield 251 and copy it to the register.
    x            Repeat [251] t times.
     X€          Random choice each; pseudo-randomly choose t integers from
                 [1, ..., 251]. Since 251 = 0 (mod 251), this is equivalent to
                 choosing them from [0, ..., 250].
       ⁵0¦       Replace the last generated integer (index 0) with s (⁵).
          ḅÐ€    Interpret the resulting array as a base-k number, for each k in
                 [1, ..., n], and convert to integer.
              ®  Yield 251 from the register.
             %   Take the generated integers modulo 251.
</code></pre>
</div>
<div id="pu12" class="pu"><h1>JavaScript, 181 bytes</h1>
<pre class="lang-javascript prettyprint-override"><code>(n,t,s)=&gt;{r=Array(t-1).fill(0).map($=&gt;{return Math.random()*251});f=(x=&gt;{p = 0;r.map((k,c)=&gt;p+=k*Math.pow(x, c));return s+p});_=Array(t-1).fill(0);_.map((l,i)=&gt;_[i]=f(i));return _;}
</code></pre>
<p>Ungolfed:</p>
<pre class="lang-javascript prettyprint-override"><code>(n, t, s) =&gt; {
    r = Array(t - 1).fill(0).map($ =&gt;{return Math.random() * 251});
    f = (x =&gt; {
        p = 0;
        r.map((k, c) =&gt; p += k * Math.pow(x, c));
        return s + p
    });
    _ = Array(t - 1).fill(0);
    _.map((l, i) =&gt; _[i] = f(i));
    return _;
}
</code></pre>
<p>I don't know how to properly check it, but I do know that it was a pain to get JS to map across a new array since apparently <code>.map</code> skips undefined values. If anyone sees any ways to improve, or flaws, don't hesitate to let me know.</p>
</div>
<div id="pu13" class="pu"><h1>Pyth, 24 bytes</h1>

<pre><code>J+EmOK251tEm%s.e*b^dkJKS
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=J%2BEmOK251tEm%25s.e%2ab%5EdkJKS&amp;input=5%0A7%0A3&amp;debug=0" rel="nofollow">Try it online!</a></p>

<p>Input order: <code>n</code> <code>s</code> <code>t</code> separated by linefeed.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/84779/">84779</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




