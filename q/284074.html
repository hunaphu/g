<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::284074</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>106</td><td>JavaScript ES7</td><td>251010T152740Z</td><td><a href="https://codegolf.stackexchange.com/questions/284074/parse-rpip7-musical-notation/284077#284077">Arnauld</a></td></tr>
<tr d-ix="1"><td>066</td><td>Charcoal</td><td>251010T230514Z</td><td><a href="https://codegolf.stackexchange.com/questions/284074/parse-rpip7-musical-notation/284084#284084">Neil</a></td></tr>
<tr d-ix="2"><td>057</td><td>Jelly</td><td>251010T204744Z</td><td><a href="https://codegolf.stackexchange.com/questions/284074/parse-rpip7-musical-notation/284081#284081">Jonathan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (ES7), 106 bytes</h1>
<p><em>-5 by using an unfragmented lookup table, as in <a href="https://codegolf.stackexchange.com/a/284084/58563">Neil's answer</a></em></p>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;s.match(/.-*/g).map(s=&gt;[s&lt;1?0:2**(~~(12*&quot;_1234567drmfsltDRMFSLT&quot;.search(s[0])/7+2)/12)*110|0,s.length])
</code></pre>
<p><a href="https://tio.run/##fYxBS8MwGIbv/oqSU5L5pU2cDmTTy@hBnMK62xxSmqbrSNORLwjC2F/vsgoePHj6nud9@d5D@VVi5dtjANfrejCLARdPKLoyVHuaCuBpw6IdaYy3OJfP2aPinJ7PVCpOPqW6m94/zLTvDNqwXK/y4nVDBNalj/@4zXYsnU0US6ViXMrslN2isLVrwn7Hhqp32Nta2L6hL8X7m8DgW9e05psaShAtICwhACQ/vI525QJWY26j5fmVx4YwlkwS8uEIu/l/Wus4aBGM6TrvNSCO9Hv/9nGZDRc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<hr />
<h1>JavaScript (ES7), 111 bytes</h1>
<p><em>-2 thanks to <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">Jonathan Allan</a></em></p>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;s.match(/.-*/g).map(s=&gt;[(n=&quot; ..1.2.34.5.6.7d.r.mf.s.l.tD.R.MF.S.L.T&quot;.search(s[0])/12)&amp;&amp;2**n*110|0,s.length])
</code></pre>
<p><a href="https://tio.run/##fYw9T8MwFEV3fkXkobJT3s0HFKYwVRkQBalhKx2iJE6DHKfys5CQ@O/BDRIDA9M7996n815/1Ny44ezJTm0362Lm4oEx1r45yQQUJ70K6SxDfZC2EBGQIcfNLTa4w30Lh1GDYeC32GNXosITXgW4q11w8CE9qiTL1WqVx7GNsyz9Sq/Df2d7fzqquZksT6aDmXr5WL08g70bbD/oT6mlYDbEtCVPFP3wPqQLV7RbehNSWV54WYRS0ToSb1aoq//VbRuEhknrcXSuJeaFfu/fPZjV/A0" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Formula</h3>
<p>Given <span class="math-container">\$n\in[3\dots38]\$</span>, the formula for the frequency is:</p>
<p><span class="math-container">$$\left\lfloor2^{(n-24)/12}\times 440\right\rfloor$$</span></p>
<p>Which can be simplified to:</p>
<p><span class="math-container">$$\left\lfloor2^{n/12}\times\left(2^{-24/12}\times 440\right)\right\rfloor=\left\lfloor2^{n/12}\times110\right\rfloor$$</span></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 66 bytes</h1>
<pre><code>≔drmfsltηＦＳ≡ι-⊞υＥ⊟υ⁺κλ ⊞υＥ²κ⊞υ⟦⌊×¹¹⁰Ｘ²∕⁺²÷×¹²∨Σι⁺⁸⌕⁺η↥ηι⁷¦¹²¦¹⟧⭆¹υ
</code></pre>
<p><a href="https://tio.run/##XY9PS8QwEMXv/RRDTxPIgN2LoidhKexhsVg9iYfSptuwaVPyZ/cgfvY63VQEAyGTN28ev2mHxrW2Mcvy7L0@TZh3buy9CbmEQTxlvXWAh2mOoQ5OTycUAvxVh3YA1AK@srbxCnLKH6GKfsAo4djMWNkZo5BQmejxLMEIwWHJC/@8Ownntdupvokm/DU/SmOtwzc9Ko9Fccdx9qrcOrDXF90pvMXz9zCFTdnMrL04rOPIkBvFg4RST12aGSS8z7NyKxEOgj2aCfm551vsbmXxyVDfWcVrB0zbr7iFhMi4y@LJGyJPtCcKRLDWm/J6E5NSEx1/PdzlU1KZlGTLFrqYHw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: By assigning the values <code>8</code>..<code>21</code> to the letters <code>d</code>..<code>T</code> respectively, the following formula gives the exact frequency of the note:</p>
<p><span class="math-container">$$ f = 110 \times 2 ^ { \frac 1 {12} \left \lfloor \frac { 12 n + 14 } 7 \right \rfloor } $$</span></p>
<pre><code>≔drmfsltη
</code></pre>
<p>Get the notes C4-B4 in a variable to avoid repetition.</p>
<pre><code>ＦＳ≡ι
</code></pre>
<p>Switch over the input characters.</p>
<pre><code>-⊞υＥ⊟υ⁺κλ
</code></pre>
<p>For a <code>-</code>, extend the duration of the previous note or rest.</p>
<pre><code> ⊞υＥ²κ
</code></pre>
<p>For a space, append a length 1 rest.</p>
<pre><code>⊞υ⟦⌊×¹¹⁰Ｘ²∕⁺²÷×¹²∨Σι⁺⁸⌕⁺η↥ηι⁷¦¹²¦¹⟧
</code></pre>
<p>Otherwise, append a length 1 note of the floor of the frequency as given by the above formula.</p>
<pre><code>⭆¹υ
</code></pre>
<p>Pretty-print the final list of notes.</p>
<p>Add 13 bytes to additionally handle <code>(</code> and <code>)</code>:</p>
<pre><code>≔drmfsltη≔¹ζＦＳ≡ι-⊞υＥ⊟υ⁺κ∧λζ ⊞υ⟦⁰ζ⟧(≦⊘ζ)≦⊗ζ⊞υ⟦⌊×¹¹⁰Ｘ²∕⁺²÷×¹²∨Σι⁺⁸⌕⁺η↥ηι⁷¦¹²ζ⟧⭆¹υ
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VVHLSgMxFMXtfMVlVjeQgNONxa4KZbCL4mB1VboY59EJppMhjxYUV36Gmy4U_SX9Gu88qjUQyD3n5Oaek9fPrEpNplN1OLx7V4rx99nL1Fq5qTHMzba0yoUcKjYJBjTi8EhVqQ3gvG68Wzoj6w0yBnYvXVYBSgZPQZbaAkIRXkLibYWewyJtMNENesYhUd7iA4dpnaNqO9KaDHfg5M7qnMj1L4VEUZthlKtU7Yq8n6fn2T9-pv29Ogryoky9cietY6W1wVu5LSxGET2U6H1hcMRhJncyL7Abksp57QZkEBN2bXDpt2R18DLmEEsy0xUVh7umKUw7FFaMNLI1yOGCdjTqjp2r5yCh8Bz2GbYBUbyeoniz95kdfuRjFYqdCtdfC2bRKiGsEDMhnBAgxB9006EEWcKWQiyOKqJpsRjjHuqFQd_8Bw" rel="nofollow noreferrer" title="Charcoal – Attempt This Online">Attempt This Online!</a> Link is to verbose version of code. (Using ATO to avoid decimals in the output.)</p>
<p>Add 13 bytes to additionally handle <code>{</code> and <code>}</code> (but not nested):</p>
<pre><code>≔drmfsltη≔¹ζＦＳ≡ι-⊞υＥ⊟υ⁺κ∧λζ ⊞υ⟦⁰ζ⟧(≦⊘ζ)≦⊗ζ{≔Ｌυε}Ｆ✂υε⊞υκ⊞υ⟦⌊×¹¹⁰Ｘ²∕⁺²÷×¹²∨Σι⁺⁸⌕⁺η↥ηι⁷¦¹²ζ⟧⭆¹υ
</code></pre>
<p><a href="https://tio.run/##XZHNasMwEITvforFpxXIUOfS0pwCITTQUkPaU@nBteRYRLaMfhJoyLO7a0cNSQwG7X4jMTtbNaWtTKmHYeGc2naYCtvWTvuUQ8PmSezmHH6pqo0FXHd98BtvVbdFxsAdlK8aQMXgmFSlk5Bm6TMUwTUYOLyVPRamx8A4FDo43HFYdAL1@CJ983gHru58PRD8viAkRM9EKy@l3ktx9nPm7IYvTfjRt4IjCSJ9ld3WN5MbeeEn4tNoG60qOTqQNNi/mx3phKzLoP2VxZU2xuKHaqXDPCfDhTlIizMOS7VXQuI0LJXrzsdOFFPv3eImtBRZzOSJw0pRKFPRcPjse2lHb9gw0qgxKA6P9Oez6Tilc0oKWoLH8y7GoGlNgSIdBiGc09pldd221ors6Nx0zE73JBmyvf4D" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. (This version includes support for <code>(</code> and <code>)</code>, but the support for <code>{</code> and <code>}</code> can also be added to the original version.)</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 57 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>⁽'ḍBṚÄṾ€;“½⁸VYɼ⁼'»;Œs¤i÷12µ2*×110Ḟ⁸aĖ
‘1¦€0¦;Ç}¥⁼”-$}?ƒḟ`
</code></pre>
<p>A moadic Link that accepts a list of <code>1234567drmfsltDRMFSLT -</code> characters and yields a list of <code>[length, frequency]</code> pairs.</p>
<p><strong><a href="https://tio.run/##y0rNyan8//9R4171hzt6nR7unHW45eHOfY@a1lg/aphzaO@jxh1hkSf3PGrco35ot/XRScWHlmQe3m5odGirkdbh6YaGBg93zAOqSTwyjetRwwzDQ8uAOg0OLbM@3F57aClQ16OGuboqtfbHJj3cMT/h////SsXFObrFui66Jbq6ChB2EJAHYgfr@oLFc4A8NzcQGyyjBAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h4>How?</h4>
<pre><code>⁽'ḍBṚÄṾ€;“...»;Œs¤i÷12µ2*×110Ḟ⁸aĖ - Link 1: character, C (never '-')
⁽'ḍBṚ                             - 21928 in binary, reversed -&gt; [0,0,1,0,1,0,1,1,0,1,0,1,0,1]
     Ä                            - cumulative sums -&gt; [0,0,1,1,2,2,3,4,4,5,5,6,6,7]
      Ṿ€                          - unevaluate each -&gt; &quot;00112234455667&quot;
                 ¤                - nilad followed by link(s) as a nilad:
         “...»                    -   dictionary-string = &quot;durum&quot;+&quot;fo&quot;+&quot;salet&quot;
                                                        = &quot;durumfosalet&quot;
               Œs                 - swap-case           = &quot;DURUMFOSALET&quot;
              ;                   - concatenate         = &quot;durumfosaletDURUMFOSALET&quot;
        ;                         - concatenate = &quot;00112234455667durumfosaletDURUMFOSALET&quot;
                  i               - first 1-index of {C} or 0 if not found (if C is a space)
                   ÷12            - divide that by twelve
                      µ           - start a new monadic chain - f(E=that)
                       2*         - two exponentiate {E}
                         ×110Ḟ    - multiply that by 110 and floor
                                    -&gt; frequency or 110 if C is a space
                              ⁸a  - E logical AND {that} -&gt; frequency (0 for a space)
                                Ė - enumerate -&gt; [[1, frequency]]

‘1¦€0¦;Ç}¥⁼”-$}?ƒḟ` - Main Link: list of characters, Score
                 ḟ` - {Score} filter discard itself -&gt; []
                ƒ   - starting with Result = [], reduce {Score} by:
               ?    -   if...
          ⁼”-$}     -   ...condition: {Next} is equal to '-'?
   €0¦              -   ...then: to the rightmost element of {Result}:
‘1¦                 -              increment the first element (the length value)
      ;Ç}¥          -   ...else: concatenate the result of Link 1 given {Next}
</code></pre>
<hr />
<p>The warrior was <code>BṚÄṾ€</code> going into battle with only durum fo salet (some wheat for a helmet).</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/284074/">284074</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




