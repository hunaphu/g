<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::104925</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>023</td><td>Vyxal 3</td><td>240811T090921Z</td><td><a href="https://codegolf.stackexchange.com/questions/104925/composite-factorization/274897#274897">bb94</a></td></tr>
<tr d-ix="1"><td>083</td><td>Perl 6</td><td>190512T021806Z</td><td><a href="https://codegolf.stackexchange.com/questions/104925/composite-factorization/185474#185474">bb94</a></td></tr>
<tr d-ix="2"><td>094</td><td>Javascript ES6</td><td>190510T182704Z</td><td><a href="https://codegolf.stackexchange.com/questions/104925/composite-factorization/185410#185410">Naruyoko</a></td></tr>
<tr d-ix="3"><td>008</td><td>05AB1E</td><td>190510T152449Z</td><td><a href="https://codegolf.stackexchange.com/questions/104925/composite-factorization/185400#185400">Grimmy</a></td></tr>
<tr d-ix="4"><td>101</td><td>Haskell</td><td>161230T114928Z</td><td><a href="https://codegolf.stackexchange.com/questions/104925/composite-factorization/105074#105074">Laikoni</a></td></tr>
<tr d-ix="5"><td>112</td><td>JavaScript ES6</td><td>161229T023627Z</td><td><a href="https://codegolf.stackexchange.com/questions/104925/composite-factorization/104994#104994">kuilin</a></td></tr>
<tr d-ix="6"><td>012</td><td>Jelly</td><td>161229T022549Z</td><td><a href="https://codegolf.stackexchange.com/questions/104925/composite-factorization/104993#104993">Dennis</a></td></tr>
<tr d-ix="7"><td>150</td><td>Haskell</td><td>161229T012137Z</td><td><a href="https://codegolf.stackexchange.com/questions/104925/composite-factorization/104990#104990">walpen</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="nofollow noreferrer">Vyxal 3</a>, 23 bytes</h1>
<pre><code>{:1&gt;|:KᶻṄȮȮ÷⁾Ḣh$Ȯ÷}Wᶻ2&lt;
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#WyIiLCLhuYLGm+KMiiIsIns6MT58OkvhtrvhuYTIrsiuw7figb7huKJoJMiuw7d9V+G2uzI8IiwifSIsIjIgNCAyNyAzMiA2NCA5NiAxMDgiLCIzLjQuMiJd" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, 83 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>my&amp;f=-&gt;\n {my \p=min grep {n%%$_&amp;!is-prime $_|n/$_},2..^n;Inf&gt;p??flat p,f n/p!![n]}
</code></pre>

<p>Note: uses the <code>is-prime</code> builtin</p>

<p><a href="https://tio.run/##K0gtyjH7/z@3Ui3NVtcuJk@hOrdSIabANjczTyG9KLVAoTpPVVUlXk0xs1i3oCgzN1VBJb4mT18lvlbHSE8vLs/aMy/NrsDePi0nsUShQCdNIU@/QFExOi@29r81V3FipUKahpkmjGVsBGeamcCZlggFhgYWmtb/AQ" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1>Javascript (ES6), 94 bytes</h1>

<pre><code>n=&gt;{for(a=[],d=2,l=q=0;n&gt;1;)n%d?d++:(n/=d,q&amp;&amp;(a[l++]=q*d),q=q?0:d);q&amp;&amp;l&amp;&amp;(a[l-1]*=q);return a}
</code></pre>

<p>Ungolfed:</p>

<pre><code>n=&gt;{ //function declaration
  for(
    a=[], //the list
    d=2, //current factor
    l= //next index of the list
    q=0; //stored factor
    n&gt;1; //while n&gt;1
  )
    n%d? //if the factor is not a factor of current n
      d++ //go to next factor
      :( //else
        n/=d, //remove the factor
        q&amp;&amp; //if a factor is stored,
          (a[l++]=q*d), //add multiple of the saved factor and current factor
        q=q?0:d //store factor if it doesn't exist
      ); //end else
   //implicit for loop close 
  q&amp;&amp; //if there is remaining factor
    l&amp;&amp; //if the input is not a prime
      (a[l-1]*=q); //place the factor in the last element in the list
  return a //return the list
} //end function
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 8 bytes</h1>

<pre><code>Òā¨ÉÅ¡P¦
</code></pre>

<p><a href="https://tio.run/##ARwA4/9vc2FiaWX//8OSxIHCqMOJw4XCoVDCpv//MTA4" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p>Explanation:</p>

<pre><code>            # implicit input (example: 72)
Ò           # prime factorization ([2, 2, 2, 3, 3])
 ā          # indices ([1, 2, 3, 4, 5])
  ¨         # drop the last element ([1, 2, 3, 4])
   É        # is odd ([1, 0, 1, 0])
    Å¡      # split on 1s ([[], [2, 2], [2, 3, 3]])
      P     # product ([1, 4, 18])
       ¦    # drop the first element ([4, 18])
            # implicit output
</code></pre>

<p>Note that this correctly returns <code>[]</code> for prime inputs.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>106 104</s> 101 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>c x=2/=sum[1|0&lt;-mod x&lt;$&gt;[1..x]]
(x:r)%n|c x,mod n x&lt;1,d&lt;-div n x,c d=x:g d|1&lt;3=r%n
e%n=e
g n=[4..n]%n
</code></pre>

<p><a href="https://tio.run/nexus/haskell#LY4xb4MwEIV3/4onVCRQwIWmQxXhSFWX7h0pA8JOsApny5iEgf9OTdrl9N37nnSnR2ucx4ch78zA360ddNd6fVPIc5BSUkkYgtcGF@NQPZ1hrHKtD8u9110PPUHT0M17UxOsU0NgmAs@2@lHDQPeeMHGNjgBO/sv7xKvJo@yKFLGHlgEFUV/vNd2SCgvUxwOmHpzD2mgCPk5jP8suYIeheiboq3DIl6exTSPdbkWVT4aiSW8W5ecL03DkuXk0pjW0Mt2R8GWmaxyqW/7knWQYjldIdeyOgoXE1MxCcXCFVG/ck5NTNv2Cw" rel="nofollow noreferrer" title="Haskell – TIO Nexus">Try it online!</a></p>

<p><strong>Less golfed and explanation:</strong></p>

<pre><code>c x = 2 /= sum[1|0&lt;-map(mod x)[1..x]] -- counts number of divisors of x and returns true for all non-primes

g n = f [4..n] n            -- call f with a list of factor candidates and n

f []    n = []              -- if there are no factor candidates, return the empty list
f (x:r) n                   -- for the factor candidate x ...
    | c x,                  --    check if x is composite
      (d,m) &lt;- divMod n x,  --    set d = n div x and m = n mod x
      m &lt; 1,                --    n is divided by x if m = 0
      c d                   --    check that d is composite or 1
    = x : f (x:r) d         -- if all those checks are true append x to the list and determine the composites for d
    | otherwise = f r n     -- otherwise check the next candidate
</code></pre>
</div>
<div id="pu5" class="pu"><h1>JavaScript ES6 112</h1>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>c=n=&gt;{with(a=[]){for(i=k=1;i++&lt;n;)for(;1^n%i;n/=i)push(++k%2?pop()*i:i);k%2||push(pop()*pop());return k&lt;3?[]:a}}

test=k=&gt;{console.log("n = "+k);console.log(c(k))};
test(-1);
test(0);
test(2);
test(4);
test(64);
test(96);
test(32);</code></pre>
</div>
</div>
</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 12 bytes</h1>

<pre><code>»0Æf×Ṫ$-¦×2/
</code></pre>

<p><a href="https://tio.run/nexus/jelly#@39ot8HhtrTD0x/uXKWie2jZ4elG@v8Ptz9qWuP@/7@uoY6CgY6CkY6CiY6CGRBbmukoGBpYAAA" rel="nofollow noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>»0Æf×Ṫ$-¦×2/  Main link. Argument: n

»0            Take the maximum of n and 0.
              Jelly's prime factorization does weird things for negative numbers.
  Æf          Take the prime factorization of the maximum.
        ¦     Conditional application:
    ×Ṫ$         Pop the last element of the array and and multiply all elements
                of the remaining array with it.
       -        Replace the element at index -1 with the corresponding element in
                the result.
              This effectively multiplies the last two elements of the array.
         ×2/  Multiply the factors in non-overlapping pairs. If the last element
              does not have a partner, leave it unmodified.
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Haskell 150</h1>

<p>Pretty basic answer but:</p>

<pre><code>r n=p n$n-1
p 1 _=[]
p n 1=[n]
p n m
 |n`mod`m==0=p(n`div`m)(m-1)++r m
 |1&gt;0=p n$m-1
i[x,y,z]=[x*y*z]
i(x:y:z)=x*y:i z
i _=[]
c n
 |n&gt;0=i.r$n
 |1&gt;0=[]
</code></pre>

<p>Works very straightforwardly: find all the prime factors of the input (the <code>p</code> function) in a way that produces them sorted ascending, and multiply them by twos (with the exception of multiplying three together if there are an odd number, to handle cases like <code>32</code> that prime factor into <code>[2,2,2,2,2]</code>. Example usage <code>c 2880 = [4, 4, 4, 45]</code>.</p>

<p><em>Bonus fun</em></p>

<p>As a massively ineffecient prime generator: <code>primes = filter (&gt; 1) . zipWith (-) [2..] $ map (product . c) [1..]</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/104925/">104925</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




