<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::65886</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>155</td><td>JavaScript V8</td><td>241211T194004Z</td><td><a href="https://codegolf.stackexchange.com/questions/65886/cant-see-the-forest-for-the-keys/277188#277188">WeirdGly</a></td></tr>
<tr d-ix="1"><td>213</td><td>JavaScript V8</td><td>241210T073023Z</td><td><a href="https://codegolf.stackexchange.com/questions/65886/cant-see-the-forest-for-the-keys/277141#277141">thejonym</a></td></tr>
<tr d-ix="2"><td>126</td><td>Perl 5 MListUtil=max a</td><td>241210T210400Z</td><td><a href="https://codegolf.stackexchange.com/questions/65886/cant-see-the-forest-for-the-keys/277164#277164">Xcali</a></td></tr>
<tr d-ix="3"><td>258</td><td>Setanta</td><td>241210T081311Z</td><td><a href="https://codegolf.stackexchange.com/questions/65886/cant-see-the-forest-for-the-keys/277143#277143">bb94</a></td></tr>
<tr d-ix="4"><td>041</td><td>Canvas</td><td>210207T113354Z</td><td><a href="https://codegolf.stackexchange.com/questions/65886/cant-see-the-forest-for-the-keys/218712#218712">Razetime</a></td></tr>
<tr d-ix="5"><td>167</td><td>PowerShell</td><td>200228T103527Z</td><td><a href="https://codegolf.stackexchange.com/questions/65886/cant-see-the-forest-for-the-keys/200263#200263">mazzy</a></td></tr>
<tr d-ix="6"><td>318</td><td>C#</td><td>151217T123440Z</td><td><a href="https://codegolf.stackexchange.com/questions/65886/cant-see-the-forest-for-the-keys/66867#66867">Hand-E-F</a></td></tr>
<tr d-ix="7"><td>153</td><td>Ruby</td><td>151208T172258Z</td><td><a href="https://codegolf.stackexchange.com/questions/65886/cant-see-the-forest-for-the-keys/66050#66050">manatwor</a></td></tr>
<tr d-ix="8"><td>231</td><td>PHP</td><td>151207T225519Z</td><td><a href="https://codegolf.stackexchange.com/questions/65886/cant-see-the-forest-for-the-keys/65984#65984">insertus</a></td></tr>
<tr d-ix="9"><td>048</td><td>Pyth</td><td>151207T200005Z</td><td><a href="https://codegolf.stackexchange.com/questions/65886/cant-see-the-forest-for-the-keys/65963#65963">Jakube</a></td></tr>
<tr d-ix="10"><td>165</td><td>Python 2</td><td>151207T060316Z</td><td><a href="https://codegolf.stackexchange.com/questions/65886/cant-see-the-forest-for-the-keys/65910#65910">xsot</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 155 bytes</h1>

<pre class="lang-none prettyprint-override"><code>(l,m=l.map(Math.abs),i=Math.max(...m))=&gt;m.map((j,J)=&gt;i&lt;0?j?&quot;__|_&quot;:&quot;____&quot;:i&lt;j?l[J]&lt;0?&quot; /|\\&quot;:&quot; / \\&quot;:i==j&amp;&amp;j?&quot;  ^ &quot;:&quot;    &quot;).join``+(i&lt;0?&quot;_&quot;:&quot;\n&quot;+f(l,m,i-1))
</code></pre>
<p><a href="https://tio.run/##TU/dasIwFL7fUxxyITl4GluVIZux98KeoO1qlNUlJK20Irvw3buTKmOBw/dzfvjizM0Mp95ersltMzZ6lJ6C9iqYi/ww129ljgOS1RMP5kcqpQKi3oVpRDras7DbNHe5qOt7Ld4Yaga7dbkv9hW3BCzuZckdWEBEq7WbzXgB4BOizU@gcp1tD4e5jNdEPFS2Yt7EQGSTDHE8de3Q@S/lu7MsXgCKNUFKkGRcrwTLiqK5ekDylOkTePSPZf9FXF8yrAjWbFbTx0zfg95BEwk@oknOw4kQ38df" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<p>Hello! First time posting here, I wanted to try to solve this problem as my first challenge, I saw that <a href="https://codegolf.stackexchange.com/a/277141">thejonymyster</a> also answered it, but I was pretty happy with the answer I found, so I hope that I'm following the rules in this situation. Anyway, here's a prettier version of the code, mostly using a lot of ternaries and some recursion:</p>
<pre class="lang-none prettyprint-override"><code>/* Line  1   ^   i: index of the line from the maximum absolute value to -1
   Line  0  / \  j: absolute value of each element
   Line -1  _|_  l[J]: non-absolute value (retrieved using the index) */

(l, m=l.map(Math.abs), i=Math.max(...m)) =&gt;
    m.map((j, J) =&gt;
        i&lt;0
            ? j ? &quot;__|_&quot; : &quot;____&quot; :
        i&lt;j
            ? l[J]&lt;0 ? &quot; /|\\&quot; : &quot; / \\&quot; :
        i==j &amp;&amp; j
            ? &quot;  ^ &quot; : &quot;    &quot;
    ).join`` + (i&lt;0 ? &quot;_&quot; : &quot;\n&quot; + f(l, m, i-1))
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 213 bytes</h1>

<pre class="lang-none prettyprint-override"><code>x=&gt;{a=Math;b=a.abs;c=a.sign;e=x.map(b);d=a.max(...e)+1;f=&quot;&quot;;while(d--){e.map((g,h)=&gt;f+=[&quot;    &quot;,`  ${c(g)?&quot;^&quot;:&quot; &quot;} `,` /${1+c(x[h])?&quot; &quot;:&quot;|&quot;}\\`][1+c(g-d)]);f+=&quot;\n&quot;}return f+`_${x.map(i=&gt;i?&quot;_|_&quot;:&quot;___&quot;).join(&quot;_&quot;)}_`}
</code></pre>
<p><a href="https://tio.run/##TY7bboMwDIbv9xSWxUUiElbaapoWhT7BngBYSDmmWllFWYdEeXbmHlbNkvXbn@3k39mTPeadO/Ty9DpXeh50NFr9bvtGbbUN7PaoctKjq1tV6iHY2wPbclUQ29uBBUFQcj9UlUZUP437LFkhJR/L6yKrRcN1VPk6RqBAkQF4Y85qvsEPfEPACTKCz94Y@jkb4ialCdDkjFOSZGl8wbUseMoVPYNJi1NX9t9dC5WfGW@8OXI6chs0Z0OXxhjkwe7LtQypmkw2zYfOtT2LnwDitYCFABlSvghYpuICVzeR93ZxF1p9VOH/5nK@JFkJWBNMryaqv1@TlmxyPv8C" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<p>Seems like the same as the other non-transposing answers, not all too many strategies to solve this. Transposing is probably shorter in js but I like this method better.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-MList::Util=max -a</code>, 126 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>//&amp;say map&quot;  ^ &quot;x($_&amp;&amp;$'==-abs)||($_&lt;0?' /|\\':' / \\')x($'&gt;-abs)||$&quot;x4,@F for-(max map{abs}@F)..0;say'_',map$_?&quot;_|__&quot;:____,@F
</code></pre>
<p><a href="https://tio.run/##LYzBCoJAEIZfZVgWV8HVNbTDlunJUx27ScMGBYKmuB6Mtldvm6C5fMw//3zTbe4L79M0sOYJg5kYwAXYGnIMAi7KUpqrjZyjfa8qAalrW6GJQIyoJg7/BmdrHtcN3MdZhoNZf7IXnd51EyWJ2pFfoIgp5VgxdIhMIw39eJ@DApmB3MLmM05LNz6sl6ciUZkiHju7aH1eur4ksZfmCw" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://try-setanta.ie" rel="nofollow noreferrer">Setanta</a>, 258 bytes</h1>
<pre class="lang-none prettyprint-override"><code>gniomh(l){s:=&quot;&quot;h:=0f:=fad@l D:=dearbh@mata le i idir(0,f)h=uas(h,D(l[i]))ma h{le j idir(h,-1){s+=&quot; &quot;le i idir(0,f)s+=[&quot;   &quot;,&quot; ^ &quot;,[&quot;/ \\&quot;,&quot;/|\\&quot;][l[i]&lt;0|0&amp;1]][l[i]&amp;uas(0,ios(2,1+D(l[i])-j))]s+=&quot;\n&quot;}}s+=&quot;_&quot;le i idir(0,f)s+=[&quot;___&quot;,&quot;_|_&quot;][l[i]|0&amp;1]toradh s+&quot;_&quot;}
</code></pre>
<p><a href="https://try-setanta.ie/editor/EhEKBlNjcmlwdBCAgICw17eOCw" rel="nofollow noreferrer">try-setanta.ie link</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/dzaima/Canvas" rel="nofollow noreferrer">Canvas</a>, 41 <a href="https://github.com/dzaima/Canvas/blob/master/files/chartable.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ｈ？¹⤢\ /＊¹０＜？ /∙|/╋｝ v∔↕_|__¶∔↕］_４×｝＋｝_；＋↕
</code></pre>
<p><a href="https://dzaima.github.io/Canvas/?u=JXVGRjI4JXVGRjFGJUI5JXUyOTIyJTVDJTIwLyV1RkYwQSVCOSV1RkYxMCV1RkYxQyV1RkYxRiUyMC8ldTIyMTklN0MvJXUyNTRCJXVGRjVEJTIwdiV1MjIxNCV1MjE5NV8lN0NfXyVCNiV1MjIxNCV1MjE5NSV1RkYzRF8ldUZGMTQlRDcldUZGNUQldUZGMEIldUZGNURfJXVGRjFCJXVGRjBCJXUyMTk1,i=JTVCMCUyQyUyMC0xJTJDJTIwMiUyQyUyMC0zJTJDJTIwNCU1RA__,v=8" rel="nofollow noreferrer">Try it here!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, 167 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>$h=(($r=($args|%{$a,$x=$_,-$_-ge0
'_';'_'+'/'*$a;'|_'[!$_]+(' ','|')[$_-lt0]*$a+'^'*!!$_
'_'+'\'*$a})+'_')|% Le*|sort)[-1]
$z=$r|% *ht $h;--$h..0|%{-join($z|% Ch* $_)}
</code></pre>

<p><a href="https://tio.run/##jZNRb9owEMff/Smu1NRxsEug1V5QJKS97hsAsaLWI5nShCWu1hbz2dnFIZAEJs2SFft@9z/77uJd8UeXVaKz7Eh/Qgj7I01Cz6Nl6NG43FZ2vKexoB8hVUJSJbc6IEyxBc4JmzKfxgtmFVvdUbWZeAyYYJbxFXpmJtggnrCI@XeIiZOsa8mBT3DD7Rh@aN9WRWn4Ss42hH6FtESrnxigyUJKmjw@BngF@atIc49@Ifue@EAVPxwPhCw9Iryl9ywgECBnOL8JmHMBCBj0RtR8mBiAqV13QPQPMIX1f4JoCKIG1PsecMYOUMqqZtjLZJwTl@LTOanuAbcXfaWcX0vtur/oK4KTwF3mYsUid8EQzi78dsXbxJsD20QHUeomzvHzJOD5Zh9Pka/66OrcVqJn7Ba/63kFWkO/K4OOnCvFwcIY9qRW4ksp408BVH/s9IvRr/iQ8Id3qNTVe2bQ8IDva@kc4R6qXRYbk@Zb5zQ6eY2k/j06Bxk5dt9GqNfwnr8Ub286N2CStIIszTWYAl7TOuAnNK4VORz/Ag" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>

<p>Explanation:</p>

<ol>
<li><p>Draw a rotated forest line by line</p>

<p><a href="https://i.sstatic.net/QT1Lx.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/QT1Lx.png" alt="Rotated forest"></a></p></li>
<li><p>Pad right and</p></li>
<li>Rotate -90.</li>
</ol>

<p>Unrolled:</p>

<pre class="lang-powershell prettyprint-override"><code># a rotated forest with underscore after the last tree
$rotatedForest=$args|%{
    $abs,$x=$_,-$_-ge0
    '_'
    '_'+'/'*$abs
    '|_'[!$_]+(' ','|')[$_-lt0]*$abs+'^'*!!$_
    '_'+'\'*$abs
}
$rotatedForest += '_'

# calc height
$height = ($rotatedForest|% Length|sort)[-1]

# PadRight all trees
$z = $rotatedForest|% PadRight $height

# Rotate -90
--$height..0|%{
    -join($z|% Chars $_)
}
</code></pre>
</div>
<div id="pu6" class="pu"><h1>C#, 318 bytes</h1>

<p>I tried transposing the array.  I'm not sure if that was the best solution.</p>

<pre><code>string F(int[]a){int i=a.Length,j,w=i*4+1,h=0;string f="",o=f;for(;i--&gt;0;){j=a[i];f+=","+" _,".PadLeft(j=j&gt;0?j+3:-j+3,'\\')+(j&gt;3?"^"+"|_,".PadLeft(j,a[i]&lt;0?'|':' '):"_,")+" _,_".PadLeft(j+1,'/');h=h&lt;j?j:h;}f="_".PadLeft(h=h&gt;3?h:2,'\n')+f;for(i+=h&lt;3?1:0;++i&lt;h;)for(j=w;j--&gt;0;)o+=f.Split(',')[j].PadLeft(h)[i];return o;}
</code></pre>

<p>Indentation and newlines for clarity:</p>

<pre><code>string F(int[]a)
{
    int i=a.Length,
        j,
        w=i*4+1,
        h=0;
    string f="",o=f;
    for(;i--&gt;0;){
        j=a[i];
        f+=","+" _,".PadLeft(j=j&gt;0?j+3:-j+3,'\\')+(j&gt;3?"^"+"|_,".PadLeft(j,a[i]&lt;0?'|':' '):"_,")+" _,_".PadLeft(j+1,'/');
        h=h&lt;j?j:h;
    }
    f="_".PadLeft(h=h&gt;3?h:2,'\n')+f;
    for(i+=h&lt;3?1:0;++i&lt;h;)
        for(j=w;j--&gt;0;)
            o+=f.Split(',')[j].PadLeft(h)[i];
    return o;
}
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Ruby, <s>157</s> <s>156</s> 153 characters</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;h{r=[]
h.map{|i|j=i.abs
r+=[s=?_,?/*j+s,i==0?s:?^+(i&gt;0?' ':?|)*j+?|,?\\*j+s].map{|l|l.rjust(h.map(&amp;:abs).max+2).chars}}
r.transpose.map{|l|l*''}*$/+?_}
</code></pre>

<p>Written just because initially <code>Array.transpose</code> looked like a good idea. Not anymore.</p>

<p>Sample run:</p>

<pre><code>2.1.5 :001 &gt; puts -&gt;h{r=[];h.map{|i|j=i.abs;r+=[s=?_,?/*j+s,i==0?s:?^+(i&gt;0?' ':?|)*j+?|,?\\*j+s].map{|l|l.rjust(h.map(&amp;:abs).max+2).chars}};r.transpose.map{|l|l*''}*$/+?_}[[4, 0, -1, -6, 2]]
              ^     
             /|\    
  ^          /|\    
 / \         /|\    
 / \         /|\  ^ 
 / \      ^  /|\ / \
 / \     /|\ /|\ / \
__|_______|___|___|__
</code></pre>
</div>
<div id="pu8" class="pu"><h1>PHP, 231 <s>277</s> bytes</h1>
<p>This challenge has a beautiful output.</p>
<pre><code>$x=fgetcsv(STDIN);for(;$i&lt;2+max(array_map(abs,$x));$i++)for($j=0;$j&lt;count($x);){$_=$x[$j++];$o[$i].=!$i?$_?'__|_':____:(abs($_)&gt;=$i?0&gt;$_?' /|\\':' / \\':($i-1&amp;&amp;abs($_)==$i-1?'  ^ ':'    '));}echo implode(&quot;
&quot;,array_reverse($o)).&quot;_&quot;;
</code></pre>
<p>Reads a comma separated list (whitespaces are optional) from <code>STDIN</code>:</p>
<pre><code>$ php trees.php
&gt; 1, 2, 0, -4, 6
</code></pre>
<p><strong>Ungolfed</strong></p>
<pre><code>$x=fgetcsv(STDIN);
for(;$i&lt;2+max(array_map(abs,$x));$i++)
    for($j=0;$j&lt;count($x);){
        $_=$x[$j++];
        $o[$i] .= !$i ? $_?'__|_':____
                      : (abs($_)&gt;=$i ? 0&gt;$_?' /|\\':' / \\'
                                     : ($i-1&amp;&amp;abs($_)==$i-1 ? '  ^ ' : '    '));
    }
echo implode(&quot;\n&quot;,array_reverse($o)).&quot;_&quot;;
</code></pre>
<p><strong>Edits</strong></p>
<ul>
<li><em>Saved</em> <strong>46 bytes</strong>. Discarded array initialization, replaced <code>if/else</code> with ternary operators and moved some of the variables around to save a few bytes.</li>
</ul>
</div>
<div id="pu9" class="pu"><h1>Pyth, 48 bytes</h1>

<pre><code>j_.t+sm.i,J\_?d++\|sm?&gt;d0\ \|d\^Jms+Jmkd"/\\"QJd
</code></pre>

<p>Try it online: <a href="http://pyth.herokuapp.com/?code=j_.t%2Bsm.i%2CJ%5C_%3Fd%2B%2B%5C%7Csm%3F%3Ed0%5C%20%5C%7Cd%5C%5EJms%2BJmkd%22/%5C%5C%22QJd&amp;test_suite=0&amp;input=4%2C%200%2C%20-1%2C%20-6%2C%202&amp;test_suite_input=3%2C%0A-2%2C%20%0A0%2C%20%0A0%2C%200%0A0%2C%201%2C%200%0A0%2C%20-1%2C%202%2C%20-3%2C%204">Demonstration</a> or <a href="http://pyth.herokuapp.com/?code=j_.t%2Bsm.i%2CJ%5C_%3Fd%2B%2B%5C%7Csm%3F%3Ed0%5C%20%5C%7Cd%5C%5EJms%2BJmkd%22/%5C%5C%22QJd&amp;test_suite=1&amp;input=4%2C%200%2C%20-1%2C%20-6%2C%202&amp;test_suite_input=3%2C%0A-2%2C%20%0A0%2C%20%0A0%2C%200%0A0%2C%201%2C%200%0A0%2C%20-1%2C%202%2C%20-3%2C%204">Test Suite</a></p>

<p>Too lazy for a full explanation. Here just short overview: </p>

<p>I generate the columns first. So the image:</p>

<pre><code>      ^ 
  ^  /|\
 / \ /|\
__|___|__
</code></pre>

<p>gets generated as:</p>

<pre><code>["_", "_/", "| ^", "_\", "_", "_//", "|||^", "_\\", "_"]
</code></pre>

<p>Notice, that I'm generating only the lower part (everything without the spaces). And I'm also generating them from bottom to top. This is done pretty straightforward.</p>

<p>Then I can use the <code>.t</code> method to append spaces to the strings, so that each string has an equal length. And afterwards I reverse the order and print.</p>
</div>
<div id="pu10" class="pu"><h1>Python 2, 165 bytes</h1>

<pre><code>a=input()
l=max(map(abs,a))
while l+2:s=' _'[l&lt;0];print(s+s.join((([' ^ ','//| \\\\'[x&gt;0::2],'   '][cmp(abs(x),l)],'_|_')[l&lt;0],s*3)[x==0]for x in a)+s).rstrip();l-=1
</code></pre>

<p>This is a full program that accepts a list as input. I'm still golfing this horrid mess.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/65886/">65886</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




