<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::281957</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>161</td><td>Ruby</td><td>250525T234138Z</td><td><a href="https://codegolf.stackexchange.com/questions/281957/draw-a-hex-grid-of-a-given-size/281963#281963">Level Ri</a></td></tr>
<tr d-ix="1"><td>072</td><td>Jelly</td><td>250525T204426Z</td><td><a href="https://codegolf.stackexchange.com/questions/281957/draw-a-hex-grid-of-a-given-size/281960#281960">Jonathan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 161 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;n{s=&quot;%#{w=9*v=(0.5+n**0.5).to_i}s&quot;%$/*w
n.times{|i|5.times{|j|s[i%v*6+(j+i%v%2*2+i/v*4)*w+2*k=0**j,8&gt;&gt;k]='____ \____/ \      //      \ /    \ '[-j*8,8&gt;&gt;k]}}
s}
</code></pre>
<p><a href="https://tio.run/##RY3NCoJAFIX3PsVgDeoddVSybHF9ERUhSJiRLBp/CJ1nnyyJzuJ83@ZwnsPlZRo0Qd7NCm26myc8w4huFKasA1jhhf29FlrZdM9hsrqwF7ermhexpD@ViyoEHeHIXMlWoQkkTPARDh5MLIEWIwDpZ3neVujUa0j5aU5K8g3nG0vCNzhFICHbFlpbSpv49D9@DL0igmHsN4WotHkD" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>Anonymous function taking an integer <code>n</code> as an argument and returning a newline-separated string with <code>round(sqrt(n))</code> columns of hexagons.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 72 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>“o4ƭgf¬vṢDr’ṃ“ _\/”s8ð“¢jỌḤɠ’b7Ḥ_6ŒHxⱮZ€J‘œP&quot;ƊẎẎŻ+\_«/$ḣŒṬ€Ịa⁶;z⁶Zɗ€⁸U»/
</code></pre>
<p>A monadic Link that accepts a positive integer, <span class="math-container">\$n\$</span>, and yields a list of lists of characters (lines) representing an area of <span class="math-container">\$n\$</span> hegagons.</p>
<p><strong><a href="https://tio.run/##y0rNyan8//9Rw5x8k2Nr09MOrSl7uHORS9GjhpkPdzYDhRXiY/QfNcwttji8Acg7tCjr4e6ehzuWnFwAVJFkDmTFmx2d5FHxaOO6qEdNa7weNcw4OjlA6VjXw119QHR0t3ZM/KHV@ioPdyw@OunhzjVANQ93dyU@atxmXQUkok5OB4o8atwRemi3/v/D7VGBD3d0qRxrV3nUuCvy/39DYwA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (The footer removes all the extra whitespace that would otherwise be present.)</p>
<h4>How?</h4>
<p>First make a single hexagon (with reversed rows):</p>
<pre><code>“...’ṃ“ _\/”s8ð - Link: positive integer, N
“...’           - 428065150002962808392365
     ṃ“ _\/”    - convert to base 4 with digits 0-4 as &quot;/ _\&quot;
            s8  - split into chunks of length eight -&gt; ReversedHexagon
              ð - start a dyadic chain - f(ReversedHexagon, N)
</code></pre>
<p>Now create the locations of all the hexagons in <span class="math-container">\$n\$</span> concentric circles of hexagons in a spiral order, working outward. Trim this to the first <span class="math-container">\$n\$</span> locations:</p>
<pre><code>“¢jỌḤɠ’b7Ḥ_6ŒHxⱮZ€J‘œP&quot;ƊẎẎŻ+\_«/$ḣ - chain: f(ReversedHexagon, N)
“¢jỌḤɠ’b7                          - 9495794160 in base 7
         Ḥ_6                       - for each: double and subtract six
            ŒH                     - split into two halves
                                      -&gt; [[2, 4, 2,-2,-4,-2],  # Row deltas
                                          [6, 0,-6,-6, 0, 6]]  # Col deltas
              xⱮ                   - repeat elements by {[1..N]}
                Z€                 - transpose each
                  J‘œP&quot;ƊẎ          - remove (j+1)th element from the jth list
                         Ẏ         - tighten -&gt; a list of [row,col] deltas
                          Ż        - prefix with a zero
                           +\      - accumulate by addition
                             _«/$  - subtract the minimums (to move to non-negative territory)
                                 ḣ - head to index N
</code></pre>
<p>Finally, piece together copies of the hexagon at those locations:</p>
<pre><code>ŒṬ€Ịa⁶;z⁶Zɗ€⁸U»/ - ...continued chain
ŒṬ€              - for each location make a multidimensional array of zeros with
                     a 1 at the location (bottom-right)
   Ị             - insignificant? (convert all zeros to ones)
    a⁶           - logical AND space character
          ɗ€     - for each:
      ;     ⁸    -   concatenate {ReversedHexagon}
       z⁶        -     transpose with space as filler
         Z       -     transpose
             U   - reverse each row (so the hexagon is at the right-hand side)
              »/ - reduce by maximum (spaces are minimal)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/281957/">281957</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




