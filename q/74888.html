<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::74888</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>065</td><td>Tcl</td><td>180506T234843Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/164274#164274">sergiol</a></td></tr>
<tr d-ix="1"><td>115</td><td>Type The TS Type system</td><td>250424T213723Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/279317#279317">General </a></td></tr>
<tr d-ix="2"><td>140</td><td>APLNARS</td><td>250424T194420Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/279314#279314">Rosario</a></td></tr>
<tr d-ix="3"><td>042</td><td>Haskell</td><td>160305T201326Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/74897#74897">nimi</a></td></tr>
<tr d-ix="4"><td>nan</td><td>R</td><td>190402T044206Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/182527#182527">d.b</a></td></tr>
<tr d-ix="5"><td>077</td><td>PHP</td><td>190402T172917Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/182545#182545">640KB</a></td></tr>
<tr d-ix="6"><td>009</td><td>Husk</td><td>190401T214012Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/182521#182521">Unrelate</a></td></tr>
<tr d-ix="7"><td>051</td><td>Python3</td><td>180507T060221Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/164285#164285">PieCot</a></td></tr>
<tr d-ix="8"><td>012</td><td>Jelly</td><td>171106T151632Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/147238#147238">hyperneu</a></td></tr>
<tr d-ix="9"><td>257</td><td>Axiom</td><td>171105T113905Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/147137#147137">user5898</a></td></tr>
<tr d-ix="10"><td>411</td><td>Axiom</td><td>171105T101600Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/147135#147135">user5898</a></td></tr>
<tr d-ix="11"><td>099</td><td>Jq 1.5</td><td>171104T201119Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/147121#147121">jq170727</a></td></tr>
<tr d-ix="12"><td>063</td><td>Retina</td><td>160308T230400Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/75159#75159">mbomb007</a></td></tr>
<tr d-ix="13"><td>011</td><td>Pyth</td><td>160306T002314Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/74913#74913">izzyg</a></td></tr>
<tr d-ix="14"><td>037</td><td>Perl 6</td><td>160305T232158Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/74911#74911">Hotkeys</a></td></tr>
<tr d-ix="15"><td>013</td><td>Jelly</td><td>160305T192237Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/74893#74893">Dennis</a></td></tr>
<tr d-ix="16"><td>184</td><td>bash + GNU coreutils</td><td>160305T223708Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/74908#74908">rexkogit</a></td></tr>
<tr d-ix="17"><td>066</td><td>JavaScript ES6</td><td>160305T204537Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/74902#74902">Neil</a></td></tr>
<tr d-ix="18"><td>068</td><td>golflua</td><td>160305T194547Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/74894#74894">Kyle Kan</a></td></tr>
<tr d-ix="19"><td>018</td><td>MATL</td><td>160305T191211Z</td><td><a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/74891#74891">Luis Men</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://tcl.tk/" rel="nofollow noreferrer">Tcl</a>, 65 bytes</h1>
<pre><code>proc I L\ M {lsort -u [lmap e $L {expr {$e in$M?$e:[continue]}}]}
</code></pre>
<p><a href="https://tio.run/##JU5BCoQwDLz7ijn0uEJbPSxe9izUF1gPi/QguFq0hYWQt7upS0gmwwyTpHm9rnjsM3o4jwG0nvuRUGeM6@cdEaAcKHzjAVIBy6aGlwrdOO9bWrYcJuaJr9vqjIezoMporUFcEd@zgYFFi4L/akQorDbQeIogRIzFZm6pQcuVbDGnE56URPOjoPXceYy9fGWkrdz@AQ" rel="nofollow noreferrer" title="Tcl – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h2>Type<s>Script</s> (The TS Type system), 115</h2>
<p>Non-strict mode compliant:</p>
<pre class="lang-ts prettyprint-override"><code>type X&lt;A,B,C=B[any],D=[]&gt;=A extends[infer F,...infer R]?F extends C?X&lt;R,B,Exclude&lt;C,F&gt;,[...D,F]&gt;:X&lt;R,B,C,[...D]&gt;:D;
</code></pre>
<p>Strict mode compliant (143):</p>
<pre class="lang-ts prettyprint-override"><code>type I&lt;A,B extends any[],C=B[any],D extends any[]=[]&gt;=A extends[infer F,...infer R]?F extends C?I&lt;R,B,Exclude&lt;C,F&gt;,[...D,F]&gt;:I&lt;R,B,C,[...D]&gt;:D;
</code></pre>
<p>Ungolfed:</p>
<pre class="lang-ts prettyprint-override"><code>type Intersection&lt;
    A, 
    B extends any[], 
    C = B[number],
    D extends any[] = []
&gt; = A extends [infer F, ...infer R]
    ? F extends C
        ? Intersection&lt;R, B, Exclude&lt;C, F&gt;, [...D, F]&gt;
        : Intersection&lt;R, B, C, [...D]&gt;
    : D;
// Usage
type F = [1,4,3,9,8,8,3,7,0]
type S = [10,1,4,4,8,-1]

type ungolfed = Intersection&lt;F, S&gt;
type strictGolfed = I&lt;F, S&gt;
type noStrictGolfed = X&lt;F, S&gt;
</code></pre>
<p><a href="https://www.typescriptlang.org/play/?noCheck=false#code/C4TwDgpgBAkgdsCAnAzhAxsAlgezgHgCgoSoBBAGimNICEoIAPROAExSgEM4QBtAXSo0SAYSgBeKLV5wArgFsARskHCoAEQbMIbDtz78JUAYQB8RslpbtjWOADNkUAGJUAdB7uOkUAEr81AH4XKx0bETVSKGD4RFQMbDx8XypaKgBRRnQAG1lWCHwRKmdTKl4PN3Vi-lNI0gAuWARkNExcAhSpKiLjCvUatUb1AG5CUEhYfEp6Jms9HgEKEXFpfUFNWbD5g3EBU3FLTd1eLydXCtOff0DnUN0oEUCYZIo0zJy8gqKSinKPKucNXqzxSaSKf0qQJGY3A0AAGlNXksVrw1hR1Lsagc7uwTg4zhQLvirvwbjiOI8EaCKO9cvlChQfhCAUCqUjwX0oaMYRNbpJeABGCgAFgoAGYKABOCgADll4ooAHYKAAGALjaAAZSMgpVFCFotFcoAtAKAjzoLI4ABzHDZRysIyxFoJdr4VxQTW1DVQFDAJBYTAAcTtDqd7qoXotUDgOE1-sDwBD9ogjskCI9UaAA" rel="nofollow noreferrer">TS Playground</a> - Hover over type to see intersection.</p>
</div>
<div id="pu2" class="pu"><h1>APL(NARS), 140 chars</h1>
<pre><code>r←a I b;i;j;d;l;k;x
l←≢a⋄d←≢b⋄i←1⋄r←⍬⋄k←0
→0×⍳i&gt;l⋄x←a[i]⋄i+←1⋄j←1
→4×⍳j&gt;k⋄→2×⍳x=r[j]⋄j+←1⋄→3
j←1
→2×⍳j&gt;d⋄→6×⍳x=b[j]⋄j+←1⋄→5
r,←b[j]⋄k+←1⋄→2
</code></pre>
<p>// 20+22+24+27+4+27+16=140</p>
<p>they would be 3 loops, one main loop and 2 little loops in it, one for see if element of &quot;a&quot; is already found
in the list/set of the result &quot;r&quot; (if it is found try one other element of &quot;a&quot;), and one other for see if that
element in the list &quot;b&quot; (if it is in the list &quot;b&quot;, add that element to the list result &quot;r&quot;).</p>
<p>test:</p>
<pre><code>  (,1000) I ⍬
┌0─┐
│ 0│
└~─┘
  ⍬ I ,1000
┌0─┐
│ 0│
└~─┘
  3 1 2 4 3 1 1 1 1 3 I 3 1 ¯1 0 8 3 3 1
┌2───┐
│ 3 1│
└~───┘
  1 2 1 I 3 3 4
┌0─┐
│ 0│
└~─┘
</code></pre>
</div>
<div id="pu3" class="pu"><h2>Haskell, <s>45</s> 42 bytes</h2>

<pre><code>y#(e:s)=[e|any(==e)y,all(/=e)s]++y#s
_#x=x
</code></pre>

<p><a href="https://tio.run/##y0gszk7Nyfn/v1JZI9WqWNM2OrUmMa9Sw9Y2VbNSJzEnR0MfyCqO1dauVC7mileusK34n5uYmWebks@lAAQFRZl5JSrRxjqGOkY6JjogGgKNY5XBorqGOgY6FkAJICcWWYuhnp6hgYEBUJmlpQGQDSRj/wMA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>Edit: -2 bytes thanks to @Ørjan Johansen, -1 byte thanks to @dfeuer.  </p>
</div>
<div id="pu4" class="pu"><h1>R, <del>141</del> 83 bytes</h1>

<del>

<pre><code>l=sapply(strsplit(readLines(file("stdin"))," "),as.numeric)
r=rle(sort(unlist(l)))[[2]]
r[sapply(r,function(x)any(x==l[[1]])&amp;any(x==l[[2]]))]
</code></pre>


</del>

<p>Improved by <a href="https://codegolf.stackexchange.com/questions/74888/set-intersection-of-two-lists/182527?noredirect=1#comment439267_182527">Giuseppe</a></p>

<pre><code>function(a,b){r=rle(sort(c(a,b)))[[2]];r[sapply(r,function(x)any(x==a)&amp;any(x==b))]}
</code></pre>

<p>Try online <a href="https://tio.run/##RUzLCsIwELz7FSEH2YUqtvUglPyBfxByCG0KCzGW3RTar48pCjKHeTAzXEo04pcl7iCZZYmUgYOfnpSCwEwxgJY8UdKIjVYaGy/XtL4C04gDG64FeXOGNUWSDBERre2cG9j@frmZ1zRmeifY0KcdNmOita1zeP7bOkF0pfSqVZ26q4O/6E@HvrTqph41ruYD" rel="nofollow noreferrer"><del>here</del></a> <a href="https://tio.run/##TYvbCoMwEER/ZZ/KLqxQLw@FNl8S8rCGBgSJslpQxG@PlxYpzMBhOKMpwCtL4RP92HQRhWta1Gj7xqHTEf25EFlbOPdUO0jftzMqX4@JJM44GSN0@9F@cGsKKGDAY8mQMxQMFcOXr5TEUP9J2d47w@MUj4kobQ" rel="nofollow noreferrer">here</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, <del>78</del>, 77 bytes</h1>



<pre class="lang-php prettyprint-override"><code>function($a,$b){foreach($a as$x)foreach($b as$y)$x==$y?$c[$x]=$x:0;return$c;}
</code></pre>

<p><a href="https://tio.run/##ZU/BasMwDD3PXyGGIDVo4Kw9jLmhp8EOg/VuTEk9l2R0dkhSSCn99sxOmlA2kEHvPb0nqyqqfr2pigqwzPrDyZm29G6BOeGeXw6@trkpAoS8wY7PeB/xmWOXZXjeoFHY6Qy7VyFr255qh0Zee8mwtU3bQAaKAShQmm4PNI1MKoT4zy4JUoJnghXB2M@1jJMj95QCCYKXYSZSk3QXP6RMQqiVpoe4iGnJ2HQO3P6ZN6EDDpdgtqbw8N14t7PO@C@7wFYJzQkeh/qjpFHZvm93b58fcnInKiEof6pjHEooACzjLhUvHkxhV/AlOpnNdylX1v8C" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>

<p>No frills, but rule-compliant (I think).</p>

<p><strong><em>Output</em></strong></p>

<pre class="lang-php prettyprint-override"><code>[], []
[]

[1000], []
[]

[3,1,2,4,3,1,1,1,1,3], [3,1,-1,0,8,3,3,1]
[3,1]

[1,2,1], [3,3,4]
[]
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 9 bytes</h1>

<pre><code>mo←←kIfE*
</code></pre>

<p><a href="https://tio.run/##yygtzv7/Pzf/UdsEIMr2THPV@v//f7SxjqGOkY6JDoiGQONYiKiuoY6BjgVQAsiJBQA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>

<pre><code>m            Map
 o←←         taking the first element from the first element
    kI       over lists of identical values from
        *    the Cartesian product of the two input lists
      f      filtered by
       E     both elements of a pair being equal.
</code></pre>

<p>Looking in Husk's source code on GitHub, <code>k</code> ("keyon") is implemented as the composition of sorting the list and grouping adjacent values, so although I can't actually find the implementation of "groupOn" it's probably safe to assume that it doesn't do anything setty, since Haskell is a functional language and grouping adjacent equal values is a pretty straightforward reduce-over-a-linked-list operation. (I <em>can</em> find the implementation of <code>k</code>'s other type signature "keyby", which I could use here by changing <code>I</code> to <code>=</code>, but I don't know Haskell so I can't tell how exactly it works.)</p>

<p>Also, a nice little Brachylog answer I came up with before I realized set operations of all sorts were disallowed: <code>⟨∋∈⟩ᵘ</code></p>
</div>
<div id="pu7" class="pu"><h1>Python3, 51 bytes</h1>

<pre><code>lambda a,b:[v for v in a if{n:1 for n in b}.get(v)]
</code></pre>

<p>If the input lists can contain duplicates:</p>

<h2>Python3, 67 bytes</h2>

<pre><code>lambda a,b:list({v:1 for v in a if {n:1 for n in b}.get(v)}.keys())
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 12 bytes</h1>

<pre><code>pEÐfḢ€ĠḢ€$ị$
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/7/A9fCEtIc7Fj1qWnNkAYRWebi7W@X////GOoY6RjomOiAaAo3BYrqGOgY6FkBhEMcEAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1>Axiom, 257 bytes</h1>
<pre><code>W(x,y)==&gt;while x repeat y;f(a,b)==(r:List INT:=[];#a*#b=0=&gt;r;x:=sort(a);y:=sort(b);i:=1;j:=1;repeat(j&gt;#y=&gt;break;W(i&lt;=#x and x.i&lt;y.j,i:=i+1);i&gt;#x=&gt;break;W(j&lt;=#y and y.j&lt;x.i,j:=j+1);j&gt;#y=&gt;break;v:=y.j;if x.i=v then(r:=concat(r,v);W(j&lt;=#y and y.j=v,j:=j+1)));r)
</code></pre>
<p>This without the use of binsearch... But i don't know the big O...
Unglofed and results:</p>
<pre><code>--N*log(N)+n*log(n)+???
ListIntersection(a:List INT,b:List INT):List INT==
    r:List INT:=[];#a*#b=0=&gt;r
    x:=sort(a);y:=sort(b)
    i:=1;j:=1
    repeat
        j&gt;#y=&gt;break
        while i&lt;=#x and x.i&lt;y.j repeat i:=i+1
        i&gt;#x=&gt;break
        while j&lt;=#y and y.j&lt;x.i repeat j:=j+1
        j&gt;#y=&gt;break
        v:=y.j;if x.i=v then 
                        r:=concat(r,v)
                        while j&lt;=#y and y.j=v repeat j:=j+1
    r

(3) -&gt; f([3,1,2,4,3,1,1,1,1,3],[3,1,-1,0,8,3,3,1])
   (3)  [1,3]
                                                       Type: List Integer
(4) -&gt; f([],[])
   (4)  []
                                                       Type: List Integer
(5) -&gt; f([1,2,1],[3,3,4])
   (5)  []
                                                       Type: List Integer
</code></pre>
<p>Not executed many tests so could be bugged...</p>
</div>
<div id="pu10" class="pu"><h1>Axiom, 411 bytes</h1>
<pre><code>b(x,v)==(l:=1;h:=#v;repeat(l&gt;h=&gt;break;m:=(l+h)quo 2;x&lt;v.m=&gt;(h:=m-1);x&gt;v.m=&gt;(l:=m+1);return m);0);g(a,b)==(if #a&gt;#b then(v:=a;w:=b)else(v:=b;w:=a);c:=sort(v);for x in w repeat(if binSearch(x,c)~=0 then return 1);0)
f(a:List INT,b:List INT):List INT==(r:List INT:=[];#a*#b=0=&gt;r;x:=sort(a);y:=sort(b);i:=1;repeat(i&gt;#x=&gt;break;v:=x.i;binSearch(v,y)=0=&gt;(i:=i+1);r:=concat(r,v);while i&lt;=#x and x.i=v repeat i:=i+1);r)
</code></pre>
<p>ungolf and test</p>
<pre><code>--suppose v.1&lt;=v.2&lt;=....&lt;=v.#v as the default function sort() produce
--   binary serch of x in v, return the index i with v.i==x
--   return 0 if that index not exist
--traslated in Axiom from C  book
--Il Linguaggio C, II Edizione 
--Brian W.Kerninghan, Dennis M.Ritchie
binSearch(x,v)==
    l:=1;h:=#v
    repeat
       l&gt;h=&gt;break
       m:=(l+h)quo 2
       x&lt;v.m=&gt;(h:=m-1) 
       x&gt;v.m=&gt;(l:=m+1)
       return m
    0

--N*log(N)+n*log(n)+N*n*log(n) so it is N*n*log(n) or n*N*log(N)
ListIntersection(a:List INT,b:List INT):List INT==
    r:List INT:=[];#a*#b=0=&gt;r
    x:=sort(a);y:=sort(b)
    i:=1
    repeat
        i&gt;#x=&gt;break
        v:=x.i
        binSearch(v,y)=0=&gt;(i:=i+1)
        r:=concat(r,v)
        while i&lt;=#x and x.i=v repeat i:=i+1
    r

(5) -&gt; f([],[])
   (5)  []
                                                       Type: List Integer
(6) -&gt; f([1000],[])
   (6)  []
                                                       Type: List Integer
(7) -&gt; f([3,1,2,4,3,1,1,1,1,3],[3,1,-1,0,8,3,3,1])
   (7)  [1,3]
                                                       Type: List Integer
(8) -&gt; f([1,2,1],[3,3,4])
   (8)  []
                                                       Type: List Integer
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://stedolan.github.io/jq/" rel="nofollow noreferrer">Jq 1.5</a>, 99 bytes</h1>

<pre><code>def f(a;b):(a+b|min)as$m|[range($m;a+b|max)|[]]|.[a[]-$m][0]=1|.[b[]-$m][1]=1|.[[[1,1]]]|map(.+$m);
</code></pre>

<p>Expanded</p>

<pre><code>def f(a;b):
     (a+b|min) as $m         # find smallest value in either array
   | [range($m;a+b|max)|[]]  # create array of [] for indices [min,max]
   | .[ a[]-$m ][0]=1        # store 1 in [0] at corresponding indices of a
   | .[ b[]-$m ][1]=1        # store 1 in [1] at corresponding indices of b
   | .[[[1,1]]]              # find all the indices where we stored a 1 for a and b
   | map(.+$m)               # convert back from indices to values
;
</code></pre>

<p>This avoids using <code>{}</code> objects and since jq does not have bit operations this emulates them with an array.</p>

<p><a href="https://tio.run/##hU/LjoMgFN33K1i4gBQa0U7RMfMlhAVmamNT0FFMu/Dbx7mAxtk1kXjOPY8L959l@b42qMG6qskn1sd6Nq0lekzMLAdtb1ecmCqM9YvMUqn5JLVULDFKpuqLA61XyiOVklOuwGh0j0/HxJBqabC8qAqBgi6K0ANwgBlFOUVnL5wp@gCNIrHKKUAQ8wJspXdEFKfp3uELQhC@4AObCCwq@WrNwrpsU2CZ79sDfrC1govDJg4Ky4pyZSI84J/GRTzes0VFvGRexv@GeRHC5R7O0rWgeBt9Fz/Mrhvd0Nrb8tv1ru3suDBmp8eDtbafHJBBP1k3OSB/" rel="nofollow noreferrer" title="jq – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="http://github.com/mbuettner/retina" rel="nofollow noreferrer">Retina</a>, 63 bytes</h1>
<p>The last two lines remove duplicates. The input is two space-delimited lists separated by a comma. The output is whitespace-delimited.</p>
<pre><code>+`( -?\d+)\b(.*,.*)\1\b
$1_$2
-?\d+\b|_|,

+`(-?\d+)(.*)\1
$1$2
</code></pre>
<p><a href="http://retina.tryitonline.net/#code=K2AoIC0_XGQrKVxiKC4qLC4qKVwxXGIKJDFfJDIKLT9cZCtcYnxffCwKCitgKC0_XGQrKSguKilcMQokMSQy&amp;input=MiA0IDMgMSAxIDEgMSAzLCAzIDEgLTEgMCA4IDMgMyAx" rel="nofollow noreferrer"><strong>Try it online</strong></a></p>
<p>If duplicates in the output are allowed, my program would be 42 bytes.</p>
</div>
<div id="pu13" class="pu"><h1>Pyth, <s>12</s> 11 bytes</h1>

<pre><code>eMrSsq#RQE8
</code></pre>

<p><a href="https://pyth.herokuapp.com/?code=eMrSsq%23RQE8&amp;input=%5B3%2C+1%2C+2%2C+4%2C+3%2C+1%2C+1%2C+1%2C+1%2C+3%5D%0A%5B3%2C+1%2C+-1%2C+0%2C+8%2C+3%2C+3%2C+1%5D&amp;debug=0" rel="nofollow">Demonstration</a></p>

<p>Explanation:</p>

<pre><code>eMrSsq#RQE8
               Implicit: Q is one of the lists.
     q#RQE     For every element in the first list, filter the second list on
               equality with that element.
    s          Concatenate. We now have the intersection, with duplicates.
  rS      8    Sort and run length encode, giving counts and elements.
eM             Take just the elements.
</code></pre>
</div>
<div id="pu14" class="pu"><h1>Perl 6, <s>26</s> 37 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>{%(@^a.grep(any(@^b)):p.invert).keys}
</code></pre>
<p><strong>usage</strong></p>
<pre class="lang-perl6 prettyprint-override"><code>&gt; my &amp;f = {%(@^a.grep(any(@^b)):p.invert).keys}
-&gt; @a, @b { #`(Block|559823336) ... }
&gt; f([3,1,2,4,3,1,1,1,1,3], [3,1,-1,0,8,3,3,1])
(1 3)
</code></pre>
<p><strong>Cheeky non-competing answer</strong></p>
<pre class="lang-perl6 prettyprint-override"><code>&gt; [3,1,2,4,3,1,1,1,1,3] ∩ [3,1,-1,0,8,3,3,1]
set(3, 1)
</code></pre>
<p>or if you like it in a boring ol' <code>f</code> function</p>
<pre class="lang-perl6 prettyprint-override"><code>&gt; my &amp;f = &amp;infix:&lt;∩&gt;
sub infix:&lt;∩&gt; (|p is raw) { #`(Sub+{&lt;anon|130874592&gt;}+{Precedence}|102325600) ... }
&gt; f([3,1,2,4,3,1,1,1,1,3], [3,1,-1,0,8,3,3,1])
set(3, 1)
</code></pre>
</div>
<div id="pu15" class="pu"><h1>Jelly, 13 bytes</h1>

<pre><code>=S¥Ðf
ṂrṀ{ç³ç
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=PVPCpcOQZgrhuYJy4bmAe8OnwrPDpw&amp;input=&amp;args=WzMsIDEsIDIsIDQsIDMsIDEsIDEsIDEsIDEsIDNd+WzMsIDEsIC0xLCAwLCA4LCAzLCAzLCAxXQ" rel="nofollow">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>ṂrṀ{ç³ç  Main link. Arguments: A (list 1), B (list 2)

Ṃ        Yield m, the minimum of A.
  Ṁ{     Yield M, the maxmimum of A.
 r       Create an inclusive range from m to M.
    f³   Apply the helper link with right argument A.
      f  Apply the helper link with right argument B.


=S¥Ðf    Helper link. Arguments: n (integer in range), L (list, A or B)

=        Test all elements of L for equality with n.
 S       Add the results.
  ¥      Combine the two previous links into a dyadic chain.
   Ðf    Filter by the result of the sums.
</code></pre>
</div>
<div id="pu16" class="pu"><h1>bash + GNU coreutils, 184 Bytes</h1>

<pre><code>[ -z "$1" ] &amp;&amp; exit
p='{if(a[$0]++==0)print $0}'
while read A; do
while read B; do
[ $A = $B ] &amp;&amp; echo $A
done &lt; &lt;(grep -oP '\d*'&lt;&lt;&lt;$1|awk "$p")
done &lt; &lt;(grep -oP '\d*'&lt;&lt;&lt;$2|awk "$p")
</code></pre>

<p>Invocation:</p>

<pre><code>./codegolf.sh '12 4 654 12 3 56' '4 4 56 33 3 3 3'
</code></pre>

<p>Output:</p>

<pre><code>4
56
3
</code></pre>

<p>No output if intersection is empty.
This script does not sort and makes sanity check if first set is empty. Explanation:</p>

<pre><code>[ -z "$1" ] &amp;&amp; exit  # Exit if first set is empty
p='{if(a[$0]++==0)print $0}' # The AWK program we will use
while read A; do   # read the list with two
while read B; do   # encapsulated loops
[ $A = $B ] &amp;&amp; echo $A   # if they match, then print
done &lt; &lt;(grep -oP '\d*'&lt;&lt;&lt;$1|awk "$p")
done &lt; &lt;(grep -oP '\d*'&lt;&lt;&lt;$2|awk "$p")
# the process substitution greps the numbers and pipes them to awk. Our awk program makes them unique without sorting; it uses associative arrays with index names same as lines (our numbers here).
</code></pre>

<p>Bonus to know: You could change to <code>grep -o .</code> to do this with random strings instead of numbers.</p>
</div>
<div id="pu17" class="pu"><h2>JavaScript (ES6), 66 bytes</h2>

<pre><code>(a,b)=&gt;a.filter((e,i)=&gt;b.some(f=&gt;e==f)&amp;a.slice(0,i).every(f=&gt;e-f))
</code></pre>

<p>Without using <code>indexOf</code>, as I'm not convinced that it's permitted.</p>
</div>
<div id="pu18" class="pu"><h1><a href="http://mniip.com/misc/conv/golflua/" rel="nofollow noreferrer">golflua</a>, 68 chars</h1>

<pre><code>\f(a,b)k={}~@_,v p(a)~@_,w p(b)?w==v k[w]=w$$$~@_,v p(k)I.w(v," ")$$
</code></pre>

<p>which is called as</p>

<pre><code>&gt; f({1,2,3,4},{3,4,5})
3 4
&gt; f({3,1,2,4,3,1,1,1,1,3},{3,1,-1,0,8,3,3,1})
3 1
</code></pre>

<p>In regular Lua, this would be</p>

<pre class="lang-lua prettyprint-override"><code>function foo(a,b)
   local k={}
   for i,v in pairs(a)
      for j,w in pairs(b)
         if v==w then
            k[v] = v
         end
      end
   end
   for i,v in pairs(k)
      print(v," ")
   end
end
</code></pre>

<p>So basically I'm iterating over the each element of the two tables and only storing the equivalent values. By using the value as the key (<code>k[w]=w</code>), I'm eliminating all duplicates. We then output the new table by iterating over the <a href="https://stackoverflow.com/q/12584258/">index &amp; value of <code>pairs</code></a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://esolangs.org/wiki/MATL" rel="nofollow noreferrer">MATL</a>, 18 bytes</h1>
<pre><code>YY_iti!=Xa)hStdfQ)
</code></pre>
<p><a href="http://matl.tryitonline.net/#code=WVlfaXRpIT1YYSloU3RkZlEp&amp;input=WzMgMSAyIDQgMyAxIDEgMSAxIDNdClszIDEgLTEgMCA4IDMgMyAxXQ" rel="nofollow noreferrer"><strong>Try it online!</strong></a></p>
<p>This works in two steps. First the intersection is computed, possibly with duplicates. This is based on comparing all elements of one array with all elements of the other, and keeping elements of the first that are present in the second.</p>
<p>Then duplicates are removed. For this, the array from the previous step is sorted, and entries are kept if different from the preceding. A <code>-inf</code> value is prepended so that the first (i.e. lowest) value is not lost.</p>
<pre><code>YY_                 % push -infinity
   it               % take first input. Duplicate
     i!             % take second input. Transpose
        =           % test all combinations of elements of the two inputs for equality
        Xa          % row vector that contains true for elements of first array that 
                    % are present in the second, possibly duplicated
          )         % index into first array to keep only those elements. Now we need
                    % to remove duplicates
           h        % append -infinity
            S       % sort
             tdf    % duplicate. Find entries that differ from the preceding
                Q)  % add 1 and index into array to keep only non-duplicates
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/74888/">74888</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




