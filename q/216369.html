<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::216369</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>042</td><td>Wolfram Language Mathematica</td><td>201215T185817Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216390#216390">att</a></td></tr>
<tr d-ix="1"><td>020</td><td>K ngn/k</td><td>210103T192226Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/217237#217237">coltim</a></td></tr>
<tr d-ix="2"><td>050</td><td>R</td><td>201217T163833Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216522#216522">Xi&#39;a</a></td></tr>
<tr d-ix="3"><td>071</td><td>C gcc</td><td>201216T195904Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216451#216451">AZTECCO</a></td></tr>
<tr d-ix="4"><td>021</td><td>J</td><td>201218T082028Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216553#216553">Bubbler</a></td></tr>
<tr d-ix="5"><td>046</td><td>Factor</td><td>201218T080454Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216552#216552">Bubbler</a></td></tr>
<tr d-ix="6"><td>011</td><td>Husk</td><td>201217T004522Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216467#216467">Dominic </a></td></tr>
<tr d-ix="7"><td>077</td><td>Icon</td><td>201216T113055Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216427#216427">Galen Iv</a></td></tr>
<tr d-ix="8"><td>912</td><td>Jelly</td><td>201216T140123Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216435#216435">Jonathan</a></td></tr>
<tr d-ix="9"><td>037</td><td>K oK</td><td>201216T121150Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216428#216428">Galen Iv</a></td></tr>
<tr d-ix="10"><td>067</td><td>Wolfram Language Mathematica</td><td>201215T161857Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216383#216383">ZaMoC</a></td></tr>
<tr d-ix="11"><td>053</td><td>Haskell</td><td>201216T011909Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216402#216402">xnor</a></td></tr>
<tr d-ix="12"><td>055</td><td>Haskell</td><td>201215T170043Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216384#216384">Wheat Wi</a></td></tr>
<tr d-ix="13"><td>061</td><td>Python 2</td><td>201215T124935Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216371#216371">xnor</a></td></tr>
<tr d-ix="14"><td>061</td><td>Scala</td><td>201215T221311Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216399#216399">user</a></td></tr>
<tr d-ix="15"><td>038</td><td>Bash</td><td>201215T220716Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216397#216397">Digital </a></td></tr>
<tr d-ix="16"><td>018</td><td>Charcoal</td><td>201215T210040Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216395#216395">Neil</a></td></tr>
<tr d-ix="17"><td>029</td><td>Retina 0.8.2</td><td>201215T204406Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216393#216393">Neil</a></td></tr>
<tr d-ix="18"><td>046</td><td>MATLAB</td><td>201215T185152Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216389#216389">Cris Lue</a></td></tr>
<tr d-ix="19"><td>059</td><td>Octave</td><td>201215T181042Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216387#216387">Luis Men</a></td></tr>
<tr d-ix="20"><td>035</td><td>Perl 5 p</td><td>201215T181354Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216388#216388">Xcali</a></td></tr>
<tr d-ix="21"><td>047</td><td>J</td><td>201215T161132Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216381#216381">Jonah</a></td></tr>
<tr d-ix="22"><td>012</td><td>05AB1E</td><td>201215T131518Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216375#216375">Kevin Cr</a></td></tr>
<tr d-ix="23"><td>020</td><td>Stax</td><td>201215T134736Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216377#216377">Razetime</a></td></tr>
<tr d-ix="24"><td>055</td><td>JavaScript ES6</td><td>201215T125044Z</td><td><a href="https://codegolf.stackexchange.com/questions/216369/possible-binaries-sum/216372#216372">Arnauld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>43</s> 42 bytes</h1>
<pre><code>d[c=1;d/@#/. 2:&gt;c/(c=2c),2]c&amp;
d=FromDigits
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b7PyU62dbQOkXfQVlfT8HIyi5ZXyPZ1ihZU8coNlmNK8XWrSg/1yUzPbOk@H9AUWZeSbSyrl2ag3NGYlFicklqUbGDcqxaXXByYl5dNZeSkZIOl5IBiDAEE0YGUMoIzAfSIAgRwwKhigkiiFkGBqRgsNkGEGcYGSlx1f4HAA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Input a list of characters. Uses <code>2</code> instead of <code>X</code>.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>27</s> 20 bytes</h1>
<pre><code>{_2/0.5^x,&amp;+/^x:.'x}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJyVU1FP2zAQfvevsKyJbVpo7pzYceJfsJdtDyBVqsooJYWI0rCmSEFo++27JDY2WyVEHMvnz+cvd/ddNtXzT5nCTF30ycmX9KKvZh/734wdqucPi6c/+2rDOe/tZXtnP11uVs3W9vbJ7j8vB59FIriwuBwtEBYmCx0mkBOI4G1OB8aMO9oMQ1ht/PGRQZcLUypdgsw9yZuvsBIQVKZUXpSQA7gPArxnCptBkeeqyHKl0ci80FPkCBSWmjg5JSAJZixlt4fDQ1el6bq9rm/a7WbWHVbru7pf3652N/Vs3d6nvx7r7tC0uy6VqDNdpg9t1zVX2/r0qtmt9k3dnXaP9yljX7/9OD+ruJgLtqC6JpxKumQLSDjV9fv52XiKwQ/ECwoBRXHMF+cwsCJMvAgDc55wHTHDK/c5uguU+XCFVnR3wRs4BogFRVgmXCqaRSA0JsoJxjFmNj0DxWShNzGg6FEMvhh8Mfii82VjrM4ZAzEGYgzEGIgRoiQx+E7EToCEU7EoP9Q0KV9JoCRUDzUkXBuaVANDuCHcEG5UqAU1fFzdIyOS7aX7Xwny5hsY/vkVYhkA3jMD5f//RRQcuF4ZyxVlraIvz734TrZxwWmHXilXed+j4xJpIBOeeSVIiKjXJIXD/gJO3gp4" rel="nofollow noreferrer">Try it online!</a></p>
<p>Modeled after <a href="https://codegolf.stackexchange.com/a/216428/98547">@Galen Ivanov's oK answer</a>. Uses <code>&quot; &quot;</code> in place of <code>&quot;X&quot;</code> in the input.</p>
<ul>
<li><code>x:.'x</code> convert input string to a list of integer digits, updating variable <code>x</code> (spaces in the input become <code>(::)</code>s, i.e. null functions)</li>
<li><code>&amp;+/^</code> generate n 0's, where n is the number of blanks in the input</li>
<li><code>x,</code> append these 0's to the end of the digit-ified input</li>
<li><code>0.5^</code> fill nulls with 0.5's</li>
<li><code>_2/</code> convert from base-2 and take the floor</li>
</ul>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.r-project.org/about.html" rel="nofollow noreferrer">R</a>, <s>156</s> <s>142</s> <s>78</s> <s>61</s> <s>56</s> <s>52</s> <s>51</s> 50 bytes</h1>
<p>In the entry of the bitmask, <code>2</code> replaces <code>X</code>.</p>
<p>Thanks to <a href="https://tio.run/##JYzBasMwEETv@gpBMeymMtndY4j6HQVjg2xLjeJGEYoNhdJvdxUyh3kzMEzZ37aH16LDvehPFewetjSt8Z7Amdmm6eIKOMTfbPk0t6xG65pjwzTkprpa7LdPX@sFruc2d@MH9@@MytubW0v8gdHMRoYFVb2HqGPSdFrQd9cu9qa3E4RzW3wGrqt4FDR0CKge2w38QYaMf3sAFpL6@QwvED0hVa8qwixCxMS4/wM" rel="nofollow noreferrer" title="R – Try It Online">Giuseppe</a>, came a reduction in <a href="https://tio.run/##JY3RioMwEEXf8xWBRZgpEWfmsZj9jgWxEDXZprappAqFst/upvS@nHvhwsn71/bwWnS4Z/2jgt3DlsY13hM4M9k0nl0Gh/haLB8nNVhXVXBta6bTglVTesOEarZXn37XM1zaeumGb@5ReXtza45PGMxk5DSjigFmLCKIOibNxxl9d@lib3o7Qmjr7Bfgco2NoKFDQPXYbuAPIEWGjfztAVhIGNW7fED0hpR8pgizCBET4/4P" rel="nofollow noreferrer" title="R – Try It Online">unnecessary brackets in an earlier version</a> recreating the binary duplications.</p>
<p>However, a more condensed version can be found by realising that the sum is the sum of the inverse of the non-zero digits, times 2 to the power of the number of 2's, ie</p>
<p>                                        <a href="https://i.sstatic.net/tNR31.gif" rel="nofollow noreferrer"><img src="https://i.sstatic.net/tNR31.gif" alt="enter image description here" /></a></p>
<p>which actually happens to be <a href="https://codegolf.stackexchange.com/a/216371/85958">the solution earlier worked out</a> by <a href="https://codegolf.stackexchange.com/users/20260/xnor">xnor</a>. With improvements <a href="https://codegolf.stackexchange.com/users/95126/dominic-van-essen">from Dominic</a> achieving the same score as this earlier solution and more from <a href="https://codegolf.stackexchange.com/users/67312/giuseppe">Giuseppe</a>!</p>
<pre><code>function(x)2^sum(a&lt;-x&gt;1)*rev(x/4^a)%*%2^(seq(x)-1)
</code></pre>
<p><a href="https://tio.run/##K/qfZvs/rTQvuSQzP0@jQtMorrg0VyPRRrfCzlBTqyi1TKNC3yQuUVNVS9UoTqM4tRCoRtdQ83@aRrKGoY6BjhEEa2pygUSMdMAQyoPIg1QYQkUMgGwDuCwcamr@BwA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 71 bytes</h1>

<pre class="lang-c prettyprint-override"><code>c,s;f(char*m){for(c=1,s=0;*m;88-*m++||(s++,c*=2))s+=s+=*m==49;c=c*s/2;}
</code></pre>
<p><a href="https://tio.run/##dY5NCoMwEIX3nkKEQn4UE1EbCbmHi25krFZoYjHtSj27lZqdKTOLGd775g0kPcD2MXbozb0Nn6Ppww1iKzsEj2YiGs/dOCFQPLaKSaKlEAnRlC4LspTGQFSGsaVqb6KVyisJCohNM7lug3mHuhlMiPAcvKZ97VB0aW8mivehjjCWacrPCjsUdlb4X4bXjuLMK9YOFcLzCfvVYSiF94CnXN5VVEVZsSz3YMyZCk9o7QIzEazbFw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<ul>
<li>Saved 2 bytes thanks to @Ceilingcat</li>
<li>Works only for small numbers (int)
added unsigned long in header to test 1X1X1X1X1X1X1X1X1X1X1</li>
</ul>
<p>We iterate a char array:
<code>s</code> is sum<br />
<code>c</code> is number of masks, initially 1</p>
<pre>
s+=*m==49  - we add 1 if we have '1'
s*=2       - then we multiply by 2
88-*m++||  - if we have a 'X'
(s++,c*=2) - we add 1 and we double number of possible masks. 

c=c*s/2    - finally we multiply sum by c and divide by 2 because we multiplied sum one time more than needed.
</pre>
</div>
<div id="pu4" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 21 bytes</h1>
<pre><code>1#.2#.[:&gt;@,@{#:@&quot;.&amp;.&gt;
</code></pre>
<p><a href="https://tio.run/##y/qvpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/DZX1jJT1oq3sHHQcqpWtHJT01PTs/mtycaUmZ@QrGCrYKqQpqBupQ7gGEK4BlGthAeEbGhkYGULFjKBiRkYwTYbmFpamZpYGRiYw1Vig@n8A" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Exact same algorithm as <a href="https://codegolf.stackexchange.com/a/216552/78410">my Factor answer</a>. Takes a string, with <code>2</code> in the place of X. If a plain integer vector is allowed, remove <code>@&quot;.</code> to get 18 bytes.</p>
<pre><code>1#.2#.[:&gt;@,@{#:@&quot;.&amp;.&gt;
                  &amp;.&gt;  NB. Apply to each character and enclose...
             #:@&quot;.     NB. Eval and convert to binary (0 -&gt; 0, 1 -&gt; 1, 2 -&gt; 1 0)
           @{  NB. Take cartesian product of all boxed vectors
         @,    NB. Remove unnecessary outer array shape
      [:&gt;      NB. Unbox the result vectors
   2#.         NB. Convert from binary to integer for each row
1#.            NB. Sum
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a>, 46 bytes</h1>
<pre><code>[ [ 48 - &gt;bin ] map [ bin&gt; ] product-map sum ]
</code></pre>
<p><a href="https://tio.run/##bU6xCoMwFNzzFYe7YkOHYsG1uLiUTuKQpilKa4wvcZDSb09jLJ3Kwb1797jj3YV0I/nLuapPBR6KtHpiEK7LjCCrCIaUc4uhXjtYNc1KS2XZT2WGxtssHQSRWGyM4siquoCVJJzs2IsBSZ6svIvMOd9mHrFd@B8k7M0alLEabeg2vkGD/QEpymuvNy84QZdh@f6SrqadB7R@VZn/AA" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<p>Takes an array of charcodes (the character <code>2</code> is used for X) and returns the sum. Uses the built-in that generates the Cartesian product of multiple sequences. (I think it's already done in many answers.)</p>
<pre><code>[
  [ 48 - &gt;bin ] map     ! map '0', '1', '2' to &quot;0&quot;, &quot;1&quot;, &quot;10&quot; respectively
  [ bin&gt; ] product-map  ! compute cartesian product of all strings,
                        ! and convert from binary to integer
  sum                   ! sum
]
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 11 bytes</h1>
<pre><code>*ΠfI¹ḋm?I\ε
</code></pre>
<p><a href="https://tio.run/##yygtzv7/X@vcgjTPQzsf7ujOtfeMObf1////0YY6RjpE4VgA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/216371/95126">xnor's approach</a>.
Input is list of binary digits (<code>0</code> or <code>1</code>), with <code>2</code> to represent the bitmask.<br />
<a href="https://tio.run/##yygtzv7//9By/fxzC9I8H@7ozrX3jDm3NeX///@GRlggAA" rel="nofollow noreferrer">13 bytes</a> to accept input as an integer instead of a list.</p>
<pre><code>*               # multiply
 Π              # product of 
  fI¹           # non-zero elements of input
     ḋ          # by binary number with digits given by
      m         # mapping over all digits of input
       ?  ε     # if digit is equal to at most 1
        I       # leave it alone
         \      # otherwise take reciprocal
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/gtownsend/icon" rel="nofollow noreferrer">Icon</a>, <s>85</s> 77 bytes</h1>
<pre><code>procedure f(s)
b:=n:=0
c:=!s&amp;{c=2&amp;{c:=.5;n+:=1};b:=2*b+c}&amp;\z
return b*2^n
end
</code></pre>
<p><a href="https://tio.run/##lVDbCsIwDH3vV8Q9jFandAVBKvVHvIDr4ixoJ12nqPjt2nU@@CCIOckJCYdDiNG1fT5PrtZYtg5hRxtGCqmsVJxoqQZNetdKBJJqMp3bkVT5Yx4EYliM9CNd3YhD3zoLxVBsLEFbfrgdt8ZSRiAEntFdoQmOy0QkGSS8ozyS4O8m4hx6h373BW/xz@y9OP@nojfvzxAiWUNZQ7w/BL0445EecOdpk8GUs6AaLyCInan2nhrrsUJHuyeyLJ8xxuJDXg" rel="nofollow noreferrer" title="Icon – Try It Online">Try it online!</a></p>
<p>Uses <code>2</code> instead of <code>X</code>.</p>
<p>Inspired by <a href="https://codegolf.stackexchange.com/a/216371/75681">xnor's Python solution</a>.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, (9?) 12 bytes</h1>
<p><sup>9 if we may accept a list of integers (e.g. <code>&quot;0X1X0&quot;</code> as <code>[0,2,1,2,0]</code>) - remove the leading <code>V€µ</code>.</sup></p>
<pre><code>V€µẹ2ŒPṬạḂḄS
</code></pre>
<p>A monadic Link accepting a list of characters from <code>&quot;012&quot;</code> (<code>'2'</code> representing an unknown bit) which yields the sum.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/z/sUdOaQ1sf7tppdHRSwMOdax7uWvhwR9PDHS3B////VzI0wgKVAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>V€µẹ2ŒPṬạḂḄS - Link: list of characters, S    e.g. &quot;022001&quot;
V€           - convert (S) to a list of integers   [0,2,2,0,0,1]
  µ          - start a new monadic chain, f(A=that)
   ẹ2        - indices of 2                        [2,3]
     ŒP      - power-set                           [[],[2],[3],[2,3]]
       Ṭ     - un-truth                            [[],[0,1],[0,0,1],[0,1,1]]
         Ḃ   - mod-2 (A)                           [0,0,0,0,0,1]
        ạ    - absolute difference                 [[0,0,0,0,0,1],[0,1,0,0,0,1],[0,0,1,0,0,1],[0,1,1,0,0,1]]
          Ḅ  - convert from binary                 [1,17,9,25]
           S - sum                                 52
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/JohnEarnest/ok" rel="nofollow noreferrer">K (oK)</a>, 37 bytes</h1>
<pre><code>{(*/(+/t)#2)*{y+2*x}/x-48+1.5*t:x=50}
</code></pre>
<p><a href="https://tio.run/##y9bNz/7/P82qWkNLX0Nbv0RT2UhTq7pS20irola/QtfEQttQz1SrxKrC1tSg9n@1RoW1QppChWatuoaSkZK1gpIBiDAEE0YGUMoIzAfSIAgRwwKhigkiiFkGBqRgsNkGEGcYGSlp/gcA" rel="nofollow noreferrer" title="K (oK) – Try It Online">Try it online!</a></p>
<p>Inspired by <a href="https://codegolf.stackexchange.com/a/216371/75681">xnor's Python solution</a>.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 67 bytes</h1>
<pre><code>Distribute@StringReplace[#,&quot;X&quot;-&gt;&quot;0&quot;+&quot;1&quot;]/.s_String:&gt;s~FromDigits~2&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73yWzuKQoM6m0JNUhGMjISw9KLchJTE6NVtZRilDStVMyUNJWMlSK1dcrjocosLIrrnMrys91yUzPLCmuM1L7HwAULolW1rVLc1COVasLTk7Mq6vmAmrX4QJqBxKGYCLCAEpFgPlAGgQhYlggVDFBBDHLwIAUDDbbAOKMiAglrtr/AA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>-1,2,...50...61 bytes from @att</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 53 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>sum.foldl(%)[0]
l%c=[2*a+1-read[b]|a&lt;-l,b&lt;-&quot;01&quot;,b/=c]
</code></pre>
<p><a href="https://tio.run/##lUzLCsIwELz7FSFY8NHo1nPzCd4DMYdt2mjppoZWb367sa@jIDKzM8wyzA37piKKTl5i//QHd6eSNslWg1lRYqU@7XCfia7CUhfmhbmgtMgFh4ynxVFaEz3WrfQYzix0dftgazYE5pjmiqeMwyjZJAoWU1MefMT8@4Kl/JNTD@ZJpeZlgH@Om/i2jvDaR2FD@AA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Implements the spec somewhat directly, using a modified from-binary conversion that works on lists of digits to produce lists of possible outcomes. Any character can be used for <code>X</code> except of course for <code>0</code> and <code>1</code>.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s><a href="https://codegolf.stackexchange.com/revisions/216384/1">56</a></s> 55 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>n!(a:x)|a&lt;'X'=(2*n+read[a])!x|m&lt;-4*n=m!x+1!x
n!x=n
(0!)
</code></pre>
<p><a href="https://tio.run/##y0gszk7Nyfn/P09RI9GqQrMm0UY9Qt1Ww0grT7soNTElOjFWU7GiJtdG10QrzzZXsULbULGCK0@xwjaPK81Ww0BR839uYmaebUFRZl6JSpqSYYSh0n8A" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<h2>Explanation</h2>
<p>Start with a simple recursive algorithm to convert binary to an integer:</p>
<pre class="lang-hs prettyprint-override"><code>n!(a:x)=(2*n+read[a])!x
n!x=n
(0!)
</code></pre>
<p>From here we add an extra rule if we hit an <code>X</code> which just adds the results for the X being 0 and 1 together:</p>
<pre class="lang-hs prettyprint-override"><code>n!('X':x)=n!('0':x)+n!('1':x)
n!(a:x)=(2*n+read[a])!x
n!x=n
(0!)
</code></pre>
<p>We can unroll the applications in that:</p>
<pre class="lang-hs prettyprint-override"><code>n!('X':x)=(2*n)!x+(2*n+1)!x
n!(a:x)=(2*n+read[a])!x
n!x=n
(0!)
</code></pre>
<p>We can move a <code>2*n</code> over to the other side since <code>(!x)</code> is affine</p>
<pre class="lang-hs prettyprint-override"><code>n!('X':x)=(4*n)!x+1!x
n!(a:x)=(2*n+read[a])!x
n!x=n
(0!)
</code></pre>
<p>From here we combine the pattern matches to save bytes.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 61 bytes</h1>

<pre class="lang-python prettyprint-override"><code>k=n=0
for c in input():n=n*2+-ord(c)%3;k+=c&gt;&quot;1&quot;
print(n&lt;&lt;k)/2
</code></pre>
<p><a href="https://tio.run/##lYzNCsIwEITv@xRhQUisP0m91cbnyK3ENGJp3YZQqT59TcSjIDIzC7vsfOE5XUcql47CfdKDvZ1bW0U7N@8DF7vow2Cd52hwgw0KmK/d4Jmq/MM7RFx6TVrCZYzMsY7Yp1eRpnVZbMfYcidWh2NfaHdChRBiRxOnuu7FvlwywYAEBcrIHKMgjay0fVH@@WlQMmGMSSgp/8kL" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>Implements this algorithm:</p>
<ol>
<li>Convert the input from binary, treating X as <span class="math-container">\$\frac{1}{2}\$</span>.</li>
<li>Double the result for each X in the input.</li>
</ol>
<p>Why does this work? If X appears <span class="math-container">\$k\$</span> times in the input, we're adding up <span class="math-container">\$2^k\$</span> near-copies of its binary value. Among these near-copies, each X in any position appears as 0 half the time and 1 half the time for an average of <span class="math-container">\$\frac{1}{2}\$</span>, so we can treat X as the digit <span class="math-container">\$\frac{1}{2}\$</span>.</p>
<p>In the code, we actually convert <code>0,X,1</code> to doubled values <code>0,1,2</code>, then halve the result before doubling for <code>X</code>'s. And, we use <code>_</code> for <code>X</code>, since we're allowed to use a different character -- anything with the same ASCII code modulo 3 would work, such as the digit <code>2</code>.</p>
<p><strong>63 bytes</strong></p>

<pre class="lang-python prettyprint-override"><code>lambda s:(reduce(lambda n,c:2*n+-ord(c)%3,s,0)&lt;&lt;s.count('_'))/2
</code></pre>
<p><a href="https://tio.run/##lYxBCsMgFET3niKborY21XQn6T1cFII1hghGRQ2hp7emdFkoZWY@/GF44Zln77oy3e7FyuUxyiZxFPW4Ko0@hSOKd0d3Ovs4IoUPV5IIxX2fWuVXlxEcIMaXrmyzsbphPETjcjOhKLfBuLBmhNuog5UVCQUk730RgAIGmKB7BAP17KrfF@2bnwaMVowQFUXpP3kB" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1>Scala, 61 bytes</h1>
<pre class="lang-scala prettyprint-override"><code>_./:(Set(0)){(a,c)=&gt;for(s&lt;-a;d&lt;-Set(c%2,c%3))yield s*2+d}.sum
</code></pre>
<p><a href="https://scastie.scala-lang.org/1UJUJrApT4mIcBYpBMOOtQ" rel="nofollow noreferrer">Try it online!</a></p>
<p>Turns out <code>X</code>'s value of 88 is perfect for this algorithm.</p>
<p>A simple binary-to-decimal conversion would look like this in Scala. <code>/:</code> is the fold operator. Starting with <code>0</code>, you multiply 0 by 2 and add the first digit. Then you multiply that by 2 again and add the next digit, and so on.</p>
<pre><code>(0 /: listOfInts)((a, c) =&gt; 2 * a + c)
</code></pre>
<p>This is very similar, except now we're folding with multiple integers, and we're taking the sum at the end. In the lambda used for folding, <code>a</code> is all the accumulated sums, and <code>c</code> is the next character. For every sum <code>s</code> in <code>a</code> (<code>for(s&lt;-a</code>), for every possible digit <code>d</code> that <code>c</code> could represent <code>d&lt;-Set(c%2,c%3)</code>, we do the same thing as above - double the accumulator and add the next digit (<code>d</code>) to it, doubling the size of our set of accumulators each time.</p>
<p><code>Set(c%2,c%3)</code> works because <code>'0'%2</code> and <code>'0'%3</code> both return <code>0</code> and <code>'1'%2</code> and <code>'1'%3</code> both return <code>1</code>. Even though there's two of them, since we're using a <code>Set</code>, the duplicate is automatically removed. If, however, <code>c</code> is <code>'X'</code> (88), then <code>'X'%2</code> is <code>0</code> and <code>'X'%3</code> is <code>1</code>, giving us two different possible values, which is pretty nice.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="noreferrer">Bash</a>, 38</h1>

<pre class="lang-bash prettyprint-override"><code>echo $[`eval echo +2\#${1//X/{0,1\}}`]
</code></pre>
<p><a href="https://tio.run/##S0oszvhfnpGZk6pQlJqYYq2Qks@loFCcWqKgq6ugEuQa4BP5PzU5I19BJTohtSwxRwHM0TaKUVapNtTXj9CvNtAxjKmtTYj9n5Kfl/o/gsuAy5DLMMIAhCMMuYAECAJ5WCBIDUEENMLAgBTMZWgAtDciggsA" rel="noreferrer" title="Bash – Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 18 bytes</h1>
<pre><code>Ｉ÷×↨Ｅθ⌕0X1ι²Ｘ²№θX²
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMM5sbhEwzOvxCWzLDMlVSMkMze1WMMpsThVwzexQKNQR8EtMy9FQ8kgwlBJRyFTU1NHwQiIA/LLU4s0jHQUnPNLgYYAlSlFKEEkNTWt//83jABq@K9blgMA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Based on @xnor's algorithm.</p>
<pre><code>     θ              Input string
    Ｅ               Map over characters
      ⌕             Find index of
          ι         Current character
       0X1          In literal string `0X1`
   ↨       ²        Convert from &quot;binary&quot;
  ×                 Multiply by
             ²      Literal `2`
            Ｘ       Raised to power
              №     Count of
                X   Literal string `X`
               θ    In input string
 ÷                  Integer divide by
                 ²  Literal `2`
Ｉ                   Cast to string
                    Implicitly print
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, <s>41</s> 29 bytes</h1>
<pre><code>+%1`X
0$'¶$`1
1
01
+`10
011
1
</code></pre>
<p><a href="https://tio.run/##K0otycxL/K@q4Z7wX1vVMCGCy0BF/dA2lQRDLkMuA0Mu7QRDAyAN5P3/D5QDChpGGIBwhCEXkABBLkOguoiICAA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes smaller test cases (code uses unary arithmetic so large numbers won't work on TIO). Explanation:</p>
<pre><code>+%1`X
0$'¶$`1
</code></pre>
<p>Repeatedly replace each line containing an <code>X</code> with two copies of that line, one with a <code>0</code> and one with a <code>1</code> in place of the first <code>X</code>.</p>
<pre><code>1
01
+`10
011
</code></pre>
<p>Convert each line from binary to unary.</p>
<pre><code>1
</code></pre>
<p>Take the sum and convert to decimal.</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://www.mathworks.com/products/matlab.html" rel="nofollow noreferrer">MATLAB</a>, <strike>55</strike> 46 bytes</h1>
<pre class="lang-matlab prettyprint-override"><code>@(x)2.^(nnz(x):-1:1)*mod(x'*2,3)/4*2^nnz(x&gt;49)
</code></pre>
<p>Inspired by <a href="https://codegolf.stackexchange.com/a/216371/91877">the Python solution of xnor</a>.
But here we don't use a loop, we work with array operators.</p>
<p>Thanks to <a href="https://codegolf.stackexchange.com/users/36398/luis-mendo">Luis Mendo</a> for replacing the sum of element-wise products by the dot product (-5 bytes).</p>
<p>Instead of <code>X</code>, it expects <code>_</code> as input:</p>
<pre class="lang-none prettyprint-override"><code>ans('1_0_1')
ans =
    88
</code></pre>
<p>etc.</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a>, <s>66</s> 59 bytes</h1>

<pre class="lang-matlab prettyprint-override"><code>@(x)(t=0:2^nnz(x)-1)*all(abs(dec2bin(t)*2-mod(2*x,99))&lt;2,2)
</code></pre>
<p>Uses character <code>b</code> instead of <code>X</code>. Runs out of memory for the two longest test cases.</p>
<p><a href="https://tio.run/##y08uSSxL/Z9mq6en999Bo0JTo8TWwMooLi@vCsjRNdTUSszJ0UhMKtZISU02SsrM0yjR1DLSzc1P0TDSqtCxtNTUtDHSMdL8n5ZflJtYopCTn5fOlaahnqSuCaIMIJQhlEoygDOSoGJAFgjCxLFAqJQBTEMSUPF/AA" rel="nofollow noreferrer" title="Octave – Try It Online"><strong>Try it online!</strong></a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-p</code>, 35 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>s/X/{0,1}/g;map$\+=oct&quot;0b$_&quot;,glob}{
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/79YP0K/2kDHsFY/3To3sUAlRts2P7lEySBJJV5JJz0nP6m2@v//CAMw/JdfUJKZn1f8X9fXJ7O4xMoqtCQzx7a4NPe/bkEOAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu21" class="pu"><h1><a href="http://jsoftware.com/" rel="noreferrer">J</a>, 47 bytes</h1>
<pre><code>1#.#.@(]`(_ I.@E.[)`[}&quot;#.[:#:@i.@(**2&amp;^)1#._&amp;=)
</code></pre>
<p><a href="https://tio.run/##y/qvpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/DZX1lPUcNGITNOIVPPUcXPWiNROia5WU9aKtlK0cMoFSWlpGanGaQHXxaraa/zW5/Jz0FEjUhV@PEURLHEwxV2pyRr6CoYKtQppCPIRjAOYYQDgWFmCeoUI8UDxewRAiagQRjQdBqAnmFpamZpYGRiYQ9RUgxcTg/wA" rel="noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Not super happy with this one...</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>14</s> 12 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Y1ÝI2¢ãδ.;CO
</code></pre>
<p>Uses <code>2</code> instead of <code>X</code>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f8/0vDwXE@jQ4sOLz63Rc/a2f//f0MDIyAEAA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code> 1Ý           # Push the list [0,1]
   I2¢        # Count the amount of 2s in the input-string
      ã       # Take the cartesian product of [0,1] with this count
       δ      # Map over each inner list of 0s and 1s:
Y       .;    #  Replace every 2 in the (implicit) input-string one by one with the 0s
              #  and 1s in the current list
          C   # Convert each binary string to a base-10 integer
           O  # Sum the list together
              # (after which the result is output implicitly)
</code></pre>

<hr />
<p>Fun alternative that's unfortunately a byte longer (<strong>13 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></strong>):</p>
<pre class="lang-none prettyprint-override"><code>TIgãʒøþ€ËP}CO
</code></pre>
<p>Uses <code>X</code>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f8/xDP98OJTkw7vOLzvUdOaw90Btc7@//8bGkQAIQA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>T           # Push 10
 Ig         # Push the length of the input-string
   ã        # Take the cartesian product of &quot;10&quot; with this count
    ʒ       # Filter this list of binary strings by:
     ø      #  Zip/transpose it with the (implicit) input, creating pairs
      þ     #  Remove all &quot;X&quot; from each pair by only leaving digits
       €Ë   #  Check for each if all digits are the same
            #  (this checks if the 1s and 0s are at the same positions between the 
            #   current binary string and input; and since we've removed all &quot;X&quot; those
            #   single digits are truthy by default)
         P  #  Check if this is truthy for all of them with the product
    }C      # After the filter: convert any remaining binary string to a base-10 integer
      O     # Sum the list together
            # (after which the result is output implicitly)
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 20 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>år╢T&gt;∩E%&gt;►ΣD&quot;╬@☼≡ ╫^
</code></pre>
<p><a href="https://staxlang.xyz/#p=8672b6543eef45253e10e44422ce400ff020d75e&amp;i=X%0A0%0A1%0A1X0%0A1X0X1%0AX0X0X0X%0A1X1X1X1X1X1X1X1X1X1X1%0A1X01X01X01X01X01X01X01X01X01X01X01X0%0AX000X000X000X000X000X000X000X000X000X000X000X000%0A101%0AXXX&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
<p>Shortened from 32 by borrowing the idea from Kevin Cruijssen's answer.</p>
</div>
<div id="pu24" class="pu"><h1>JavaScript (ES6), 55 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(s,g=d=&gt;f(s.replace('X',d)))=&gt;1/s?+('0b'+s):g(0)+g(1)
</code></pre>
<p><a href="https://tio.run/##pZExb4MwEIX3/AorC7Yg4Qw2NpVIJ4buHVhdMISKYIRJlX9PQe0ESKGqzyfLkr97T8@f6kvZvK@74dSaQo9jmWDrVUmRXEpsz73uGpVr7GSOVxBCkgv17auLHfhwXEteKgzErTAlY25aaxp9bkyFS3zMjoSgHcv3ET0sWNjPwpKl/9Cl2T7lmYUNONsjPsFSLuGJnespPsGR3JDeqI1Zs28hYx7FELAN/0/3PHMaEgAFHnLORAwM1naA7o2Rr4LIsr1sIA@H6Xi/1haZVqNeD/e@tUi1SHVdbx71TQ21aT2kLBquGtn7DelHrnXxc@96ndd2eoFMid7SND0JztY/A/CX/o0oBMEYFyHjEZUBE5EcvwE" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (                   // f is a recursive function
  s,                    // taking the input string s
  g = d =&gt;              // g is a helper function taking a digit d
    f(                  // and doing a recursive call to f
      s.replace('X', d) // with the first 'X' in s replaced with d
    )                   //
) =&gt;                    //
  1 / s ?               // if s looks like a number (i.e. does not contain any 'X'):
    +('0b' + s)         //   convert it from binary to decimal
  :                     // else:
    g(0) +              //   invoke g a 1st time to replace the first 'X' with '0'
    g(1)                //   invoke g a 2nd time to replace the first 'X' with '1'
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/216369/">216369</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




