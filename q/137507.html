<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::137507</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>009</td><td>Japt</td><td>170804T083808Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137517#137517">Shaggy</a></td></tr>
<tr d-ix="1"><td>005</td><td>Vyxal</td><td>210828T085206Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/233800#233800">emanresu</a></td></tr>
<tr d-ix="2"><td>213</td><td>Java 10</td><td>180724T135337Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/169147#169147">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>005</td><td>MATL</td><td>180720T164040Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/168948#168948">Sundar R</a></td></tr>
<tr d-ix="4"><td>058</td><td>R</td><td>180720T171952Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/168953#168953">digEmAll</a></td></tr>
<tr d-ix="5"><td>009</td><td>Japt</td><td>180720T214539Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/168967#168967">Etheryte</a></td></tr>
<tr d-ix="6"><td>019</td><td>Charcoal</td><td>170805T142149Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137732#137732">Erik the</a></td></tr>
<tr d-ix="7"><td>052</td><td>Python 2</td><td>170804T081545Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137515#137515">Chris_Ra</a></td></tr>
<tr d-ix="8"><td>037</td><td>Haskell</td><td>170806T071517Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137813#137813">xnor</a></td></tr>
<tr d-ix="9"><td>043</td><td>Python 2</td><td>170806T071110Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137812#137812">xnor</a></td></tr>
<tr d-ix="10"><td>005</td><td>Brachylog</td><td>170805T134448Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137726#137726">Erik the</a></td></tr>
<tr d-ix="11"><td>011</td><td>CJam</td><td>170805T133715Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137725#137725">Erik the</a></td></tr>
<tr d-ix="12"><td>011</td><td>Pyth</td><td>170804T080255Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137512#137512">Mr. Xcod</a></td></tr>
<tr d-ix="13"><td>049</td><td>Scala</td><td>170804T214345Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137666#137666">Ethan</a></td></tr>
<tr d-ix="14"><td>054</td><td>PROLOG SWI</td><td>170804T081449Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137514#137514">Nathan.E</a></td></tr>
<tr d-ix="15"><td>132</td><td>C# .NET Core</td><td>170804T095202Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137524#137524">Grzegorz</a></td></tr>
<tr d-ix="16"><td>006</td><td>Pyth</td><td>170804T091107Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137520#137520">Erik the</a></td></tr>
<tr d-ix="17"><td>005</td><td>Jelly</td><td>170804T074721Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137508#137508">PurkkaKo</a></td></tr>
<tr d-ix="18"><td>054</td><td>Haskell</td><td>170804T090524Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137519#137519">lynn</a></td></tr>
<tr d-ix="19"><td>004</td><td>05AB1E</td><td>170804T090113Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137518#137518">Erik the</a></td></tr>
<tr d-ix="20"><td>058</td><td>JavaScript ES6</td><td>170804T080656Z</td><td><a href="https://codegolf.stackexchange.com/questions/137507/can-i-restack-the-buckets/137513#137513">Arnauld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>13</s> <s>12</s> <s>11</s> 9 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ñÎc mÉ e¶
</code></pre>
<ul>
<li>1 byte saved thanks to <a href="https://codegolf.stackexchange.com/users/42545/ethproductions">ETH</a></li>
</ul>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=8c5jIG3JIGW2&amp;input=W1s2LDcsOCw5LDEwXSxbMV0sWzJdLFszLDQsNV0sWzExLDEyLDEzXV0" rel="nofollow noreferrer">Try it</a> or <a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=8c5jIG3JIGW2&amp;input=WwpbWzQsNV0sWzksMTBdLFsxLDIsM10sWzYsNyw4XV0KW1s2LDcsOCw5LDEwXSxbMV0sWzJdLFszLDQsNV0sWzExLDEyLDEzXV0KW1syLDMsNF0sWzFdLFs1LDYsN11dCltbMSwyXSxbNSw2XSxbNyw4LDldXQpbWzIsMyw0XSxbNSw2LDddXQpbWzEsMyw0XSxbNSw3XSxbMiw2XV0KW1sxLDQsM10sWzJdLFs1LDZdXQpdLW0" rel="nofollow noreferrer">run all test cases</a></p>
<pre><code>ñÎc mÉ e¶     :Implicit input of 2D array
ñ             :Sort by
 Î            :  First element
  c           :Flatten
    m         :Map
     É        :  Subtract 1
       e      :All
        ¶     :  Equal to 0-based indices
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 5 bytes</h1>
<pre><code>sf₅ɾ⁼
</code></pre>
<p><a href="https://lyxal.pythonanywhere.com?flags=&amp;code=sf%E2%82%85%C9%BE%E2%81%BC&amp;inputs=%5B%5B3%2C4%5D%2C%5B1%2C2%5D%2C%5B5%2C6%5D%5D&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>s     # Sort
 f    # Flatten
  ₅ɾ  # 1...a.length
    ⁼ # Is equal?
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Java 10, 213 bytes</h1>

<pre class="lang-java prettyprint-override"><code>import java.util.*;m-&gt;{Arrays.sort(m,(a,b)-&gt;Long.compare(a[0],b[0]));var r=Arrays.stream(m).flatMapToInt(Arrays::stream).toArray();return Arrays.equals(r,java.util.stream.IntStream.range(1,r.length+1).toArray());}
</code></pre>
<p><a href="https://tio.run/##rVLBTuMwEL33K@Zos1ND2kLZRiDtZaWVgAvcqh6mwZSU2M46DquqyreXIQkQWgGiWimy/DyZ9@Y9e0mP1F/ePmxSkzsfYMlYlSHN1EHcSzIqCrik1K57AKkN2t9RouHqGQLMncs0WUgEl6az6QyMjLlS9XgpAoU0gSuwcAYb0z9f//KeVoUqWEYYFIRz2T@/cHahEmdy8lrQ9GiGc16kjGtKf/bSFLwmI4xUdxmFS8pv3B8bRFOdTJqyVMHVJ0LGXofSW2jb9d@SskJ4fLPXtChmuW52nuxCiwi9yrRdhPsfUYdPxtXm2Rp/eTnP2Fjr79Glt2A4IcE0qV1wCCSbeA4P4caX4X41qeH1qgjaKFcGlfOfIbPCqkRY/Q/a@Nav@/UIjyt8gz8xOuriCAc47B6c4BhPq0rW@X9Tq@7FHYkuGHTBELemiyKMBhgN99RnKzj6UPoYeb5PmdvKS@a/@ab1PplzqFvCXVhn9L8cfm3qszF3yMbv7orn3pd59P5V7eTR8la9avME" rel="nofollow noreferrer">Try it online.</a></p>
<p>It seemed like a good idea when I started, but these builtins only make it longer.. Can definitely be golfed by using a more manual approach..</p>
<p>Inspired by <a href="https://codegolf.stackexchange.com/a/137518/52210"><em>@EriktheOutgolfer</em>'s 4-byte 05AB1E answer</a>. 4 vs 213 bytes, rofl.. &gt;.&gt;</p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>import java.util.*;      // Required import for Arrays
m-&gt;{                     // Method with 2D integer-array parameter and boolean return-type
  Arrays.sort(m,         //  Sort the 2D input-array on:
    (a,b)-&gt;Long.compare(a[0],b[0])); 
                         //  The first values of the inner arrays
var r=Arrays.stream(m).flatMapToInt(Arrays::stream).toArray();
                         //  Flatten the 2D array to a single integer-array
return Arrays.equals(r,  //  Check if this integer-array is equal to:
  java.util.stream.IntStream.range(1,r.length+1).toArray());} 
                         //  An integer-array of the range [1, length+1]
  
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 5 bytes</h1>

<pre><code>Sgtf=
</code></pre>

<p><a href="https://tio.run/##y00syfmf8D84vSTN9r@9gnpJUWlJRqU6V616WmJOcWqleiyXS8j/6mgTHdNYnWhLHUMDIGWoY6RjDKTNdMx1LGJruapBIkC@qY4ZkASK6ViCRYGqdExA6iFyOuZQtRBRUyBfB6jGLLZWAQA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>

<p>(Implicit input, say <code>{[4,5],[9,10],[1,2,3],[6,7,8]}</code>)</p>

<p><code>S</code> - sort input arrays in lexicographic order (<code>{[1,2,3],[4,5],[6,7,8],[9,10]}</code>)</p>

<p><code>g</code> - convert into a single array (<code>cell2mat</code>)</p>

<p><code>t</code> - duplicate that</p>

<p><code>f</code> - find indices of non-zero values. Since input here is all non-zeros, returns the list of indices from 1 to length(array) (<code>[1,2,3,4,5,6,7,8,9,10],[1,2,3,4,5,6,7,8,9,10]</code>)</p>

<p><code>=</code> - check that the array is equal to the range 1 to length(array)</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 58 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(v,a=unlist(v[order(sapply(v,min))]))any(a-seq(a))
</code></pre>

<p><a href="https://tio.run/##lZBLi8IwFIX3/RUBN7lwRyatHR/gYgZ0JS58rMRFJqZQpk1rU0V/fU2q1uJrNIt7Q27ynZOTFUG/CDZK5GGi6BZ5f6OiUOd0u0iylcyo5mka7c0kDhXAEoCrPeUfWq4pBygaZNz8aZIeGX6PpgMSS640yaTOufjjv5FEMpvMz@cqUfWZ4zgBLcUEbaEPKGgX2aftDF307OYL29gBAFJfDSJ3qRS5XB1lL5jyOlYUW1xbPDwJMIbMReZZ5GOMEcdWRfDRYK89vOLG/OL03rbS2UsYG9kdM//4eE5hF0q7jMWYet8LMzl6Var@M8YtxSkO" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>N.B. : FALSE is the truthy outcome, TRUE is the falsy one</p>

<ul>
<li>-3 bytes thanks to @JayCe</li>
</ul>

<p>Explanation : </p>

<pre class="lang-r prettyprint-override"><code>a=unlist(v[order(sapply(v,min))])  # order the list of vector by the min value and flatten
all(a==seq(a=a))                   # if the flattened list is equal to 1:length then it's ok
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 9 bytes</h1>

<pre><code>ñg c
eUÌõ
</code></pre>

<p><a href="https://tio.run/##y0osKPn///DGdIVkrtTQwz2Ht/7/Hx1tqGOsYxKrE22qYw4kjXTMYmMB" rel="nofollow noreferrer" title="Japt – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 19 bytes (non-competing?)</h1>

<pre><code>Ａ▷m⟦▷s▷vθυ⟧θ⁼θ…·¹Ｌθ
</code></pre>

<p><a href="https://tio.run/##S85ILErOT8z5///9noWPpm3PfTR/GZAqBuKyczvOtz6av/zcjkeNe4BEw7JD2w/tfL9nzbkd//9HR0eb6SiY6yhY6ChY6igYGsTqKEQbgggjEGGso2Cio2AKFjQEShsBsXFsbCwA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a></p>

<p>-10 bytes thanks to <a href="https://codegolf.stackexchange.com/users/39244/ascii-only">ASCII-only</a>.</p>

<p>-3 bytes thanks to <a href="https://codegolf.stackexchange.com/users/39244/ascii-only">ASCII-only</a> for a subsequent implementation (see revision history for possibly competing version).</p>

<p><code>-</code> for truthy, <code></code> for falsy.</p>

<p>Input is a singleton list of a list of lists, because of how Charcoal takes input.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>53</s> 52 bytes</h1>

<p><em>Thanks for the byte xnor</em></p>



<pre class="lang-python prettyprint-override"><code>lambda x:sum(sorted(x),[0])==range(len(sum(x,[]))+1)
</code></pre>

<p><a href="https://tio.run/##XY7NDoJADITvPgXHbZwDXcC/hCdZ94AB1AQWApjg068VJAYObZN@M9O27@HROO3L9OqrrL7lWTBe@let@qYbilyNBBNaStMuc/dCVYVTXzrCWKI9k2@7pxuCUhkTI7EwZ3Aog6ERyTzgiJO1tPvrphUWnZSWijDbmcEaHK0tkoX4p04gAWssx2Ygfcre4tmdiE@uiWyD4@nVJcOS/wA" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, 37 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>import Data.List
(&lt;[1..]).concat.sort
</code></pre>

<p><a href="https://tio.run/##VY7LDoMgEEX3foWLLjSZkOKjtom66tI/ICyIxZRU0Ar9fjqKpuliHtw5l5mnsC85jt4rPU@Li@/CCdIp66KhSWpGCeEp6SfTC0csAl4LZRor3x9pepksUjw6U59WsOJp2zbzoowjWszx4BkroOTAbkDPWChkkGO9QAVXziMWOjjGGBlGDsFFKdAMaL6R6IRih0pA35/6U3BHeGPe/t7Vg6vWJTgNarHdczh45L8" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>Checks whether the concatenated sorted list is lexicographically smaller than the infinite list <code>[1,2,3,...]</code>. Since there are no duplicates, any missing bucket or out-of-order bucket would cause a value greater than <code>k</code> in the <code>k</code>'th place, making the resulting list be bigger..</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 43 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda l:sum(sorted(l),[0])&lt;range(len(`l`))
</code></pre>

<p><a href="https://tio.run/##XU5LCoMwEN33FC4TeAsTtT/ak6QBLca2EKNouujp0yGpFF28GZj3m/Hjn4OTobvegm36e9tk9jy/ezYPkzctsxwq1/wyNe5hmDWO1bbmPIzTy/msY0qVqDTUCSKnJSBR0N7jgKPWfPfXxRMWHUESCiS7EBASolhbKAvlT12BAtY0lSWCZsze0sldkY/aSLahy/jqkqF5@AI" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Checks whether the concatenated sorted list is lexicographically smaller than <code>[1,2,3,...N]</code> for large <code>N</code>. Since there are no duplicates, any missing bucket or out-of-order bucket would cause a value greater than <code>k</code> in the <code>k</code>'th place, making the resulting list be bigger. The string-length of the input suffices as an upper bound since each numbers takes more than 1 character.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 5 bytes</h1>

<pre><code>oc~⟦₁
</code></pre>

<p><a href="https://tio.run/##SypKTM6ozMlPN/r/Pz@57tH8ZY@aGv//j4420zHXsdCx1DE0iNWJNgRiIyA21jHRMQXxDXUMjXQMjWNjAQ" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>

<p>Explained unifications:</p>

<pre><code>?o₀c₀~⟦₁.
?         The input (implicit)
 o₀       Sorted (subscript default = 0 =&gt; ascending)
   c₀     Concatenated (subscript default = 0 =&gt; no length check)
     ~    Inverse (find the input)
      ⟦₁   Range (subscript = 1 =&gt; [1..input])
        . The output (implicit)
</code></pre>

<p>Analytical explanation:</p>

<p>First of all we sort the list of lists, and then we concatenate (i.e. flatten 1-deep) (<code>oc</code>) so that the buckets get stacked right-to-left if possible. Then, to check if the buckets have been stacked correctly (i.e. no missing buckets or towers), we check that the resulting list is an inclusive range from 1 to its length. Now, instead of equal-checking the list with the [1..n] range of its length (<code>{l⟦₁?}</code>), we try to find an input to a function that generates such a range (<code>~⟦₁</code>), if there is one. If an input is found, then the program ends with no issues, so it triggers a <code>true.</code> status. If no input is found, the program fails, triggering a <code>false.</code> status.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, 11 bytes</h1>

<pre><code>{$:+:(_,,=}
</code></pre>

<p><a href="https://tio.run/##S85KzP1fWPe/WsVK20ojXkfHtvZ/3f/oaDMFcwULBUsFQ4NYhWhDIDYCYmMFEwVTEN9QwdBIwdA4NhYA" rel="nofollow noreferrer" title="CJam – Try It Online">Try it online!</a></p>

<p>Oww <code>:(</code>...yeah! <code>{$:+_,,:)=}</code></p>
</div>
<div id="pu12" class="pu"><h1><a href="http://pyth.readthedocs.io" rel="nofollow noreferrer">Pyth</a>, <s>9 16</s> 11 bytes (Fixed)</h1>
<p>Uses a completely different method from the other answer. A shorter, 7-byte approach can be found below.</p>
<pre><code>!.EtM.++0sS
</code></pre>
<p><strong><a href="http://pyth.herokuapp.com/?code=%21.EtM.%2B%2B0sS&amp;input=%5B%5B4%2C5%5D%2C%5B9%2C10%5D%2C%5B1%2C2%2C3%5D%2C%5B6%2C7%2C8%5D%5D&amp;test_suite=1&amp;test_suite_input=%5B%5B4%2C5%5D%2C%5B9%2C10%5D%2C%5B1%2C2%2C3%5D%2C%5B6%2C7%2C8%5D%5D%0A%5B%5B6%2C7%2C8%2C9%2C10%5D%2C%5B1%5D%2C%5B2%5D%2C%5B3%2C4%2C5%5D%2C%5B11%2C12%2C13%5D%5D%0A%5B%5B2%2C3%2C4%5D%2C%5B1%5D%2C%5B5%2C6%2C7%5D%5D%0A%5B%5B1%2C2%5D%2C%5B5%2C6%5D%2C%5B7%2C8%2C9%5D%5D%0A%5B%5B1%2C3%2C4%5D%2C%5B5%2C7%5D%2C%5B2%2C6%5D%5D%0A%5B%5B1%2C4%2C3%5D%2C%5B2%5D%2C%5B5%2C6%5D%5D%0A%5B%5B2%2C3%2C4%5D%2C%5B5%2C6%2C7%5D%5D&amp;debug=0" rel="nofollow noreferrer">Test Suite.</a></strong></p>
<hr />
<h1>Explanation</h1>
<pre>
!.EtM.++0sSQ  -> Full program, with implicit input at the end.

          SQ  -> Sort the input by the highest element in each sublist.
         s    -> Flatten.
       +0     -> Prepend a 0.
     .+       -> Get the deltas of the list (i.e. differences between consecutive elements)
   tM         -> Decrement each element.
 .E           -> Any truthy element (1s are truthy, 0s are falsy)
!             -> Negate (to have coherent truthy / falsy values)
</pre>
<h1>How does this work?</h1>
<p>Let's take a couple of examples, which make it easier to understand. Let's assume the input is <code>[[1,3,4],[5,7],[2,6]]</code>. The core of this algorithm is that each delta in the unflattened list must be <em>1</em> in order for the buckets to be stackable.</p>
<ul>
<li><p>First off, <code>S</code> turns it into <code>[[1, 3, 4], [2, 6], [5, 7]]</code>.</p>
</li>
<li><p>Then, <code>s</code> flattens it: <code>[1, 3, 4, 2, 6, 5, 7]</code>.</p>
</li>
<li><p>Prepend a <code>0</code> in front: <code>[0, 1, 3, 4, 2, 6, 5, 7]</code></p>
</li>
<li><p><code>.+</code> gets the deltas of the list, <code>[1, 2, 1, -2, 4, -1, 2]</code>.</p>
</li>
<li><p><code>tM</code> decrements each element, <code>[0, 1, 0, -3, 3, -2, 1]</code>.</p>
</li>
<li><p>Any non-<code>0</code> integer is truthy in Pyth, so we check if there is any truthy element with <code>.E</code> (which means the stack cannot be formed correctly). We get <code>True</code>.</p>
</li>
<li><p><code>!</code> negates the result, which turns <code>True</code> into <code>False</code>.</p>
</li>
</ul>
<p>If the input was, for example, <code>[[6,7,8,9,10],[1],[2],[3,4,5],[11,12,13]]</code>, the algorithm would work this way:</p>
<ul>
<li><p>Sorted by the highest element: <code>[[1], [2], [3, 4, 5], [6, 7, 8, 9, 10], [11, 12, 13]]</code> and flattened, with a <code>0</code> prepended: <code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]</code>.</p>
</li>
<li><p>Deltas: <code>[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]</code>. All get decremented: <code>[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</code>.</p>
</li>
<li><p>There is no truthy element, so we get <code>False</code>. By logical negation, the result is <code>True</code>.</p>
</li>
</ul>
<hr />
<h1><a href="http://pyth.readthedocs.io" rel="nofollow noreferrer">Pyth</a>, 7 bytes</h1>
<pre><code>qSlsQsS
</code></pre>
<p><strong><a href="http://pyth.herokuapp.com/?code=qSlsQsS&amp;input=%5B%5B4%2C5%5D%2C%5B9%2C10%5D%2C%5B1%2C2%2C3%5D%2C%5B6%2C7%2C8%5D%5D&amp;test_suite=1&amp;test_suite_input=%5B%5B4%2C5%5D%2C%5B9%2C10%5D%2C%5B1%2C2%2C3%5D%2C%5B6%2C7%2C8%5D%5D%0A%5B%5B6%2C7%2C8%2C9%2C10%5D%2C%5B1%5D%2C%5B2%5D%2C%5B3%2C4%2C5%5D%2C%5B11%2C12%2C13%5D%5D%0A%5B%5B2%2C3%2C4%5D%2C%5B1%5D%2C%5B5%2C6%2C7%5D%5D%0A%5B%5B1%2C2%5D%2C%5B5%2C6%5D%2C%5B7%2C8%2C9%5D%5D%0A%5B%5B1%2C3%2C4%5D%2C%5B5%2C7%5D%2C%5B2%2C6%5D%5D%0A%5B%5B1%2C4%2C3%5D%2C%5B2%5D%2C%5B5%2C6%5D%5D%0A%5B%5B2%2C3%2C4%5D%2C%5B5%2C6%2C7%5D%5D&amp;debug=0" rel="nofollow noreferrer">Test Suite.</a></strong></p>
<p>Port of the Python answer and a variation of <a href="https://codegolf.stackexchange.com/a/137520/59487">@Erik's solution</a>.</p>
</div>
<div id="pu13" class="pu"><h2>Scala, 49 Bytes</h2>
<pre><code>p=&gt;{val s=p.sortBy(_(0)).flatten
s==(1 to s.max)}
</code></pre>
<p>Ungolfed:</p>
<pre><code>piles: List[List[Int]] =&gt;
{
  val sorted = piles.sortBy(pile=&gt;pile(0)).flatten //Since piles are sequential, we can sort them by their first element
  sorted == (1 to sorted.max) //If all the buckets are present and in order, after sorting them it should be equivalent to counting up from 1 to the max bucket
}
</code></pre>
</div>
<div id="pu14" class="pu"><h1>PROLOG (SWI), 54 bytes</h1>

<pre class="lang-prolog prettyprint-override"><code>s(L):-sort(L,M),flatten(M,N),last(N,O),numlist(1,O,N).
</code></pre>
<p>Now <em>that's</em> better. Still quite verbose, alas.</p>
<p><a href="https://tio.run/##pZHLDoIwEEX3foVh1SYXYnmIjxh/gMcHEBYswJBUMG0Jn48DiHvrYjqZae6ZO@1L9bJ/uHpsp0mzhF9c3SvDEqQcjayMqTuWIuOQlTYsQ87RDU/ZUiGQ04U33d3kVhQhohLFGeJAScBHQPmIGKeyxJ7NbIyqNbXsmGPUUDv8@q2bSmpqcG@3whYdNhiFTxFgnSEEhA8RWHDJFcIPMgJNsWDQbquazsXlHz7sPWz6eH4c8mLDCJc/2rb5gTC9AQ" rel="nofollow noreferrer" title="Prolog (SWI) – Try It Online">Try it online!</a></p>
<p>The <code>s/1</code> predicate takes a list as argument and is true if the list is a list of easily stackable buckets.</p>
<p>Improvement in algorithm: if I sort the list <em>before</em> I flatten it, this forces all the sublists to be sorted for the predicate to be true. Slightly &quot;borrowed&quot; from <a href="https://codegolf.stackexchange.com/a/137508/71426">Pietu1998's Jelly answer</a>. Thanks to that I can dump the <code>forall</code> which is more than half of the program (see below for the original answer).</p>
<h2>How does it work?</h2>
<p>The predicate is true if all of its clauses are true:</p>
<pre class="lang-prolog prettyprint-override"><code>s(L) :-
    sort(L,M),                % M is L sorted in ascending order
    flatten(M,N),             % N is the 1-dimention version of M
    last(N,O),                % O is the last elemnt of N
    numlist(1,O,N).           % N is the list of all integers from 1 to O
</code></pre>
<h2>Previous answer, PROLOG (SWI), 109 bytes</h2>
<pre class="lang-prolog prettyprint-override"><code>s(L):-flatten(L,M),sort(M,N),last(N,O),numlist(1,O,N),forall(member(A,L),(A=[B|_],last(A,C),numlist(B,C,A))).
</code></pre>
<p><a href="https://tio.run/##nZDLasNADEX3@YqSlQTXoeNH@iIUJ1sn@QBjigvjYhjbZWZCNvl3R/E07bpeaIRG3KMrfdvBDF@RO7fj6Kjg16gxtfe6pwJ7hhuspz0ODFM7TwccGf2pM60UCsdboxlsbQx1uvvUlnIUDMo35fbyUQVRjt2faIsdcmZeje9RsSnLFFmF8gXqUZJCjETyGk94rio80M0Szrb12vS09Pakl/z2Wze1cfLBq0WATTrcYRKxRIIwQymoGCqZwRVXSH@QGWTKDIbsFtTyTi5nMYKPTBzIcsKaw0inG9/d/IMwXgE" rel="nofollow noreferrer" title="Prolog (SWI) – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.microsoft.com/net/core/platform" rel="nofollow noreferrer">C# (.NET Core)</a>, <s>157</s> <s>145</s> 132 bytes</h1>
<p><em>-13 bytes thanks to <a href="https://codegolf.stackexchange.com/users/38550/thelethalcoder">TheLethalCoder</a></em></p>

<pre class="lang-cs prettyprint-override"><code>l=&gt;{var k=l.OrderBy(x=&gt;x[0]).SelectMany(x=&gt;x);return!Enumerable.Range(1,k.Count()).Zip(k,(x,y)=&gt;x==y).Any(x=&gt;!x);}
</code></pre>
<p>Byte count also includes</p>
<pre class="lang-cs prettyprint-override"><code>using System.Linq;
</code></pre>
<p><a href="https://tio.run/##bVLfT9swEH5e/grDS53JWE2BMdSlGkPAC2gToCEt5MFNj9bCdTrbgVaof3t3tsm2UE7yr/N33919dmX3qtrAprFST8nNyjqY89NaKaicrLXlF6DByGqYdBCXUv9@47qFpePXMG2UMGfLhQFrPcEw0WIOdiEqeEUmLwlBq5SwlpyEffR4s044WZGnWk7IlZCapn@v/oG8dQ7nja6@XErr4iS1G40YGde1GpEHkm9UPnp5EoY85op/NxMw31Z0mY@WRb9M@Q34Zq@Ejr50aMA1Ru@c6WYORowV8Guhp0Az9ojSNNrRNOW/5II@MrpkqxSD8nyV8pPIsIMU680w@RD7MV4jqReNG3Zqfp5JBYTScEVycopi1T4XiAnKC5iE7OREN0qlncCuDt58awobRxYNz@SNEDQdbkW0ScPKb42cUxSiGcdysdPXm0vQUzcje2SAJFss@NqwJCbMMXXw0K@79wUt@nvHjJQf0/ty950KfM1z4aoZWIwNHPwqnqMk78Q84E8V1YzQAIzhWGjLk24FePPC8JPJhAYUvzB1s7BFVvKfQjXAbxZKOtpjPUZ6pJfyuxkYoGJckXxEcGklGJF@@1XaW1SX/xDGBjh@idvai47vhlJtldI@752RDsL7PlBfWvqmz3XS3a2T9aYoDthhyYpjlvVxydiA7eP6iR2xz2WZFHHH2mscAxz7LEZlGcsGLNsPSIxkB6@gQ4ZxwYuM8YxzYOpg/8e1niOfBPHRexDqaTnKPw" rel="nofollow noreferrer" title="C# (.NET Core) – Try It Online">Try it online!</a></p>
<p>Ungolfed:</p>
<pre class="lang-cs prettyprint-override"><code>l =&gt; {
        var k = l.OrderBy(x=&gt;x[0])              // First, sort stacks by first bucket
                 .SelectMany(x =&gt; x);           // Concatenate stacks into one
        return !Enumerable.Range(1, k.Count())  // Create a sequence [1...n]
               .Zip(k, (x, y) =&gt; x == y)        // Check if our big stack corresponds the sequence
               .Any(x =&gt; !x);                   // Return if there were any differences
     };
</code></pre>
</div>
<div id="pu16" class="pu"><h1>Pyth, 6 bytes</h1>
<pre><code>UItMsS
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=UItMsS&amp;input=%5B%5B6%2C+7%2C+8%2C+9%2C+10%5D%2C+%5B1%5D%2C+%5B2%5D%2C+%5B3%2C+4%2C+5%5D%2C+%5B11%2C+12%2C+13%5D%5D&amp;debug=0" rel="nofollow noreferrer">Try it here.</a></p>
<p>Explanation:</p>
<pre><code>UItMsSQ
UI      Invariant from U (range(len(A)) for our purpose)
  tM     Map t (A - 1 for our purpose)
    s     s (flatten 1-deep for our purpose)
     S     S (sort for our purpose)
      Q     Q (autoinitialized to input) (implicit)
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, <s>6</s> 5 bytes</h1>

<p><em>Thanks to @Lynn for saving 1 byte.</em></p>

<pre><code>ṢFµJ⁼
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///hzkVuh7Z6PWrc8/9w@6OmNf//RysoREeb6JjG6kRb6hgaAClDHSMdYyBtpmOuYxEbq8PFBVIC5unAlACxERAb60B0GhrqGBrpGBrDVQNN0DGBKjTVAeoFySigSMGFwaJASyFiQBJsEZIMTL05yFagCoSMCdihMJ2xsQA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a> (comes with test-suite footer)</p>

<h3>Explanation</h3>

<pre><code>ṢFµJ⁼    Main link. Argument: piles
Ṣ          Sort the piles by the size of the top bucket.
 F         Stack the piles, putting the left one to the top.
   J       See what a full pile with this many buckets would look like.
    ⁼      See if that looks like the pile you built.
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, 54 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>import Data.List
f l=(sort l&gt;&gt;=id)==[1..length$l&gt;&gt;=id]
</code></pre>

<p><a href="https://tio.run/##VY7LDoIwEEX3fAULFpBMiOUhmlhWLvmDpotGijaWirR@fx0oxLiYR8/c25mHsE@ptfdqnF6zi6/CibxT1kVDrGlqF6bblqo@o5SRPNfS3N0jCYz7UShDrXx/pLnJdJai78wlWYQNz1Azzcq4fBRTPHjGKqg5sDOQAxYCBZRYj9DAifOIhQ72MUaBUUJwEQKkAFKuSnRCtYlqQN8f/RHcEd6Y1783uuuaZQlOA63We3YHj/wX" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 4 bytes</h1>

<pre><code>{˜āQ
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f@/@vScI42B//9HRxvqKBjF6ihEm@oomIFocx0FCx0Fy9hYAA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h2>JavaScript (ES6), <s>59</s> 58 bytes</h2>

<pre class="lang-js prettyprint-override"><code>a=&gt;!(a.sort((a,[b])=&gt;a[i=0]-b)+'').split`,`.some(v=&gt;v-++i)
</code></pre>

<h3>Explanation</h3>

<pre class="lang-js prettyprint-override"><code>a=&gt;                                                        // given a 2D-array 'a'
     a.sort((a,[b])=&gt;a[i=0]-b)                             // sort by first item
                              +''                          // flatten
    (                            ).split`,`                // split again
                                           .some(v=&gt;v-++i) // i such that a[i] != i+1?
   !                                                       // true if none was found
</code></pre>

<h3>Test cases</h3>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>let f =

a=&gt;!(a.sort((a,[b])=&gt;a[i=0]-b)+'').split`,`.some(v=&gt;v-++i)

// truthy
console.log(f([[4,5],[9,10],[1,2,3],[6,7,8]]))
console.log(f([[6,7,8,9,10],[1],[2],[3,4,5],[11,12,13]]))
console.log(f([[2,3,4],[1],[5,6,7]]))

// falsy
console.log(f([[1,2],[5,6],[7,8,9]]))
console.log(f([[2,3,4],[5,6,7]]))
console.log(f([[1,3,4],[5,7],[2,6]]))
console.log(f([[1,4,3],[2],[5,6]]))</code></pre>
</div>
</div>
</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/137507/">137507</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




