<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::179382</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>669</td><td>Python3</td><td>250718T200651Z</td><td><a href="https://codegolf.stackexchange.com/questions/179382/minimum-cost-flow-problem/282695#282695">Ajax1234</a></td></tr>
<tr d-ix="1"><td>144</td><td>[R + lpSolve]</td><td>190203T140101Z</td><td><a href="https://codegolf.stackexchange.com/questions/179382/minimum-cost-flow-problem/179438#179438">digEmAll</a></td></tr>
<tr d-ix="2"><td>137</td><td>Python 3 + NetworkX</td><td>190225T045505Z</td><td><a href="https://codegolf.stackexchange.com/questions/179382/minimum-cost-flow-problem/180340#180340">user4594</a></td></tr>
<tr d-ix="3"><td>042</td><td>Wolfram Language</td><td>190201T184720Z</td><td><a href="https://codegolf.stackexchange.com/questions/179382/minimum-cost-flow-problem/179383#179383">lirtosia</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 669 bytes</h1>
<pre class="lang-py prettyprint-override"><code>E=enumerate
G=lambda m:{(x,y):v for x,r in E(m)for y,v in E(r)if v}
def C(c,a,v,n):
 q=[(0,0,[0])]
 for N,T,p in q:
  if N==n:yield(p,T);continue
  for A,B in c:
   if A==N and v&lt;=c[(A,B)]and B not in p:q+=[(B,T+v*a[(A,B)],p+[B])]
def f(c,a,d):
 n=len(c)-1
 c,a=G(c),G(a)
 q,r=[([],1)],[]
 for i,I in q:
  if sum(i)==d:r+=[i];continue
  if sum(i)&gt;d:continue
  q+=[(i+[I],I)]+[(i+[I],I+1)]*(I+1&lt;=max(c.values()))
 q,F=[(c,k,0)for k in r],[]
 for c,k,T in q:
  if[]==k:F+=[T];continue
  if F and T&gt;=min(F):continue
  if(O:=[*C(c,a,k[0],n)]):
   P,W=min(O,key=lambda x:x[1]);o={**c}
   for i in range(len(P)-1):o[tuple(P[i:i+2])]-=k[0]
   q+=[(o,k[1:],T+W)]
 return min(F)
</code></pre>
<p><a href="https://tio.run/##jVTBbuIwEL3zFb7VBncVOwmFtK5UVm3VS9sDUg9RDtkQdiMg0BQQaNVv73o8thPaHlYKxB7PvHnzZpzNcftnXYejTfPxcavKercqm3xb9u7VMl/9muVklfylB35kyZ7M1w058IZUNbmlKwbbI9/jtmHVnOzfe7NyTn7Sgud8z2uW9MirSmnAA54GGct6BuORT/kGwl71OdFxj0rVybEqlzO64VN2WazrbVXvSn0K/jd8At4FeIP7jVKPJK9nZH@lipTqY5bBdkLq9RY8N8nrQKed8Olg38@tB98M0glwAIpzQ3EGBGu1LGtasHPRI9qo7vWa39Ocae680TBpxoUOTy37ij90ub/tVrRiSs2SRuessi55f3w9SzpmQ64apA8Zf2DZwK8HOk2f6teVWuUHWvzY58td@UYZM1zudFTBFzwwyi@ARNPSgpNph1iaKbVI7nSq6WdOd0a86bVaVTW9Y8nJKX1KVNrHFi5003QXM2aUf@YvJuKJL8qjG49DckhFxi7X6m@/X7yDnxHJsMvr3yUFdZ@1uixZp9vdZlnS57RKqoHUvThXkAKCjCZrnVEkmW7bC8xKU253TU2Q5UevUGkacBJyIvE/4yTVb22LjSEEgzQ7bYv0wnqEZgc26xEaJ7BlWS9HXGEefSjASRh/NITWgDZpM0tcGpvz8NwAd6YuepumqrfUTRtzNSBYbAl53MhCC4crLBskK9pcETL1uT7XID/jim9x5Wdc6TD@q4bIydgRKXA21D22bGOXN8bnS1UGxHmHrqXYx9O2SddNNwCxe5DJqR6RV@Cks6HrnjNHLp@vq9PltvMn@kdOz47A4huOvi2hW6C2Ivgi7tnZmRd4qH@AHNi3wDUyFUODPETOI/0bG/ChDRh35itCDyxBaPMYIYA/@GLvbJT0jmCA94U9kB4MUewsQUUgZ@wyGzekMrY2e50irEp6ZgGeh5hJWlI2QucdWbFNcRFyMYmGJ6BxOwnSlgGw4HnhIS3/IbYLGEt01dsRxmJniB8f3@Nx515AZQbJ1i8tHe8YnsyJkJ3hka2y7RU0knjVDZmo/RiM/Z12l2uISsVWHtEZZXvNrJ6i8zXDzo5wQHDSx@3lCm0Qjpe08eMWrU3k74dVx4LhEA07Mz5yvsI6mZmPv535j38" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1>[R + <a href="https://cran.r-project.org/web/packages/lpSolve" rel="nofollow noreferrer">lpSolve</a>], <s>201</s> <s>186</s> <s>149</s> 144 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(c,a,d,`^`=rep,N=ncol(c),G=diag(N),P=t(1^N),M=P%x%G+G%x%-P)lpSolve::lp(,a,rbind(M,diag(N*N)),c('=','&lt;')^c(N,N*N),c(d,0^(N-2),-d,c))$objv
</code></pre>

<p><a href="https://tio.run/##lVbfb9owEH7nr8hDq9ibkWI7CQQ1jxNPRUjtW1dU6oQuUxQQZFWlaX87s322oWBnGgqJ8d35vvvuB9kfN@Vx86sTfbPtkCBrUpGX1Uu5r3dkUXZi2yKBybysmvUbWmCyLHtEV3JxXy5vP27nX@fyPl7idvewbd/r2azdIXnI/rXpKnRPwOzLAmMiUFzGJL6L8UqgBVGbcq8iyQotxgyTcUUExjfb15/vx74@9Ifobhy1zaFHI7hH8iNKOFmghEScRAzumGip/QgkN6VCpqX8Ssq0SCqkcuGz5VqkFHy2XJsrBWzE63NYVF9Sj14ZU30oSLlPCgrMFxKDfa3gtXV0OFhVOYFF/bGrRV9XJUukKMQn@M98UTtcqQ8atbioL2jgigaAp0DVZ@B@PtkgLPqfsNggLGb9DvNJJ8N8prZUQglPrAJUXebjJ7NBZHANM6x9ec/htiOg8gdqm9n693ZWZi@IK5i11KUm3AvcVrVXJ7VwHZWhvjg1TrjIUlsPoWqh/wrelSK3i7PaoMlFcXDrJFggufwqMIl5UlhD2DTHJLoEkAMdU/ktNIbcmBe2c69MUtAHeqhUKuB4RYey5B4bcyJzZmpDPSdGwAKOwINpO0WRSnBmMV4TChEURsHMxxSoYf5RlIAyB0TMhGLMJb6pL/2arRQC0HjyT@6yQJ0zQ4RyqMwmzhnzVEcOpaVCZmAnf07hoHCjuMoszmaO4uXageGVGfzOiofrnrKzzmCnZAZGoubdZV2jTwNTv3Bz2Y6xHNKR@XJAzxrdDDSTQRr6q4QCnEKNwxwoApOLm@OgeZg5uTj5CeBxc8Vkwbih11TmZ00/tYbUWJyGQHY5BJg8a4RHo812j5qo6SI6a@vurf@B9EsOxr@Vvlqr9x299/TUPD@rXbHuUfz47eExJg1Rb08bbXQjiH6s4VFhEjt/kdTSu3aDxN@7GI/@jI5/AQ" rel="nofollow noreferrer" title="R â€“ Try It Online">Try it online!</a></p>

<p>The code constructs the following Linear Problem and solve it using <code>lpSolve</code> package :</p>

<p><span class="math-container">$$
\begin{align}
      min &amp; \sum_{\forall x \in V}\  \sum_{\forall y \in V} A_{x,y} \cdot f_{x,y} \\
subject\ to : &amp; \\
          &amp; \sum_{x \in V} f_{v,x} - f_{x,v} = 0 &amp; \forall v \in V : v \neq \{s,t\} \\
          &amp; \sum_{x \in V} f_{s,x} - f_{x,s} = d \\
          &amp; \sum_{x \in V} f_{t,x} - f_{x,t} = -d \\
          &amp; f_{x,b} \leq C_{x,b}                 &amp; \forall x \in V,\forall y \in V
\end{align}
$$</span>
where :  </p>

<ul>
<li><span class="math-container">\$V\$</span> is the set of vertices</li>
<li><span class="math-container">\$s\$</span> s is the source vertex</li>
<li><span class="math-container">\$t\$</span> s is the target (or sink) vertex</li>
<li><span class="math-container">\$A_{x,y}\$</span> is the flow cost for edge <code>x -&gt; y</code></li>
<li><span class="math-container">\$f_{x,y}\$</span> is the flow of edge <code>x -&gt; y</code> in the optimal solution</li>
<li><span class="math-container">\$d\$</span> is the required flow at sink (i.e. the demand at <span class="math-container">\$t\$</span> and the production at <span class="math-container">\$s\$</span>)</li>
<li><span class="math-container">\$C_{x,y}\$</span> is the maximum capacity of edge <code>x -&gt; y</code></li>
</ul>
</div>
<div id="pu2" class="pu"><h1>Python 3 + <a href="https://networkx.github.io/" rel="nofollow noreferrer">NetworkX</a>, 137 bytes</h1>
<pre class="lang-py prettyprint-override"><code>from networkx import*
def f(g,d,z='demand'):N=len(g)**.5//1;G=DiGraph(g);G.node[0][z]=-d;G.node[N-1][z]=d;return min_cost_flow_cost(G)
</code></pre>
<p>No TryItOnline link because TIO doesn't have the NetworkX library installed</p>
<p>Takes graph input as an edge list with capacity and weight attributes, like this:</p>
<pre class="lang-py prettyprint-override"><code>[(0, 0, {'capacity': 0, 'weight': 0}), (0, 1, {'capacity': 3, 'weight': 1}), (0, 2, {'capacity': 2, 'weight': 1}), (0, 3, {'capacity': 3, 'weight': 2}), (0, 4, {'capacity': 2, 'weight': 1}), (1, 0, {'capacity': 3, 'weight': 1}), (1, 1, {'capacity': 0, 'weight': 0}), (1, 2, {'capacity': 5, 'weight': 1}), (1, 3, {'capacity': 3, 'weight': 2}), (1, 4, {'capacity': 3, 'weight': 3}), (2, 0, {'capacity': 2, 'weight': 1}), (2, 1, {'capacity': 5, 'weight': 1}), (2, 2, {'capacity': 0, 'weight': 0}), (2, 3, {'capacity': 4, 'weight': 2}), (2, 4, {'capacity': 5, 'weight': 2}), (3, 0, {'capacity': 3, 'weight': 2}), (3, 1, {'capacity': 3, 'weight': 2}), (3, 2, {'capacity': 4, 'weight': 2}), (3, 3, {'capacity': 0, 'weight': 0}), (3, 4, {'capacity': 4, 'weight': 3}), (4, 0, {'capacity': 2, 'weight': 1}), (4, 1, {'capacity': 3, 'weight': 3}), (4, 2, {'capacity': 5, 'weight': 2}), (4, 3, {'capacity': 4, 'weight': 3}), (4, 4, {'capacity': 0, 'weight': 0})]
</code></pre>
<p>This is a golfed version of the code that I used to verify the test cases.</p>
</div>
<div id="pu3" class="pu"><h1>Wolfram Language, 42 bytes</h1>

<pre><code>FindMinimumCostFlow[#,1,VertexCount@#,#2]&amp;
</code></pre>

<p>Trivial builtin. Non-builtin solution coming soon.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/179382/">179382</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




