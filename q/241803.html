<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::241803</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>047</td><td>Wolfram Language Mathematica</td><td>220216T071342Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/242879#242879">alephalp</a></td></tr>
<tr d-ix="1"><td>046</td><td>Julia</td><td>220216T135544Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/242896#242896">MarcMush</a></td></tr>
<tr d-ix="2"><td>151</td><td>R</td><td>220131T150247Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/242099#242099">Xi&#39;a</a></td></tr>
<tr d-ix="3"><td>079</td><td>Factor + math.matrices</td><td>220201T093726Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/242149#242149">chunes</a></td></tr>
<tr d-ix="4"><td>067</td><td>R</td><td>220127T210244Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241886#241886">pajonk</a></td></tr>
<tr d-ix="5"><td>078</td><td>R</td><td>220128T142808Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241927#241927">Giuseppe</a></td></tr>
<tr d-ix="6"><td>016</td><td>APL Dyalog Unicode</td><td>220127T084235Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241852#241852">Bubbler</a></td></tr>
<tr d-ix="7"><td>011</td><td>MATL</td><td>220126T191535Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241806#241806">Giuseppe</a></td></tr>
<tr d-ix="8"><td>073</td><td>Python</td><td>220127T025655Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241833#241833">loopy wa</a></td></tr>
<tr d-ix="9"><td>013</td><td>05AB1E</td><td>220127T132644Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241860#241860">Kevin Cr</a></td></tr>
<tr d-ix="10"><td>040</td><td>Charcoal</td><td>220126T213927Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241818#241818">Neil</a></td></tr>
<tr d-ix="11"><td>029</td><td>BQN</td><td>220126T194809Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241810#241810">ovs</a></td></tr>
<tr d-ix="12"><td>101</td><td>JavaScript ES7</td><td>220127T015045Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241826#241826">Arnauld</a></td></tr>
<tr d-ix="13"><td>091</td><td>JavaScript Node.js</td><td>220127T041609Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241836#241836">tsh</a></td></tr>
<tr d-ix="14"><td>013</td><td>Jelly</td><td>220127T042618Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241837#241837">Bubbler</a></td></tr>
<tr d-ix="15"><td>032</td><td>Jelly</td><td>220127T015329Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241828#241828">Jonathan</a></td></tr>
<tr d-ix="16"><td>108</td><td>JavaScript Node.js</td><td>220127T025229Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241832#241832">tsh</a></td></tr>
<tr d-ix="17"><td>035</td><td>APL Dyalog Unicode</td><td>220126T193010Z</td><td><a href="https://codegolf.stackexchange.com/questions/241803/print-a-nxn-integer-involute/241807#241807">Ad&#225;</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 47 bytes</h1>
<p>-13 bytes thanks to @att.</p>
<pre><code>Nest[Reverse[{--i,##}&amp;@@@#]&amp;,{{}},i=2#-1]-i&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n6Zg@98vtbgkOii1LLWoODW6Wlc3U0dZuVbNwcFBOfZ9f7uaTnV1ba1Opq2Rsq5hrG6m2v@Aosy8kmhlBV07hbRo5dhYBTUFfQeFakMdBSMdBVMdBUOD2v8A" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia</a>, 46 bytes</h1>

<pre class="lang-julia prettyprint-override"><code>m\n=[1:n n.+rotl90(m')]'
!n=[n&lt;2||!~-n\~-n\n;]
</code></pre>
<p><a href="https://tio.run/##yyrNyUw0rPj/Pzcmzzba0CpPIU9Puyi/JMfSQCNXXTNWnUsRKJ5nY1RTo1inmxcDwnnWsf/T8osUMhUy8xQMrQwNuBSAICWzuCAnsVJDMVMTzC8oyswrycnT0ORKzUv5DwA" rel="nofollow noreferrer" title="Julia 1.0 – Try It Online">Try it online!</a></p>
<p>the simple rotate and add row, with some trickery with <code>'</code> (transpose) <br />
starts with 1</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>187</s> <s>183</s> 151 bytes</h1>

<pre class="lang-r prettyprint-override"><code>function(n){w=which
X=diag(0,n)
X[n,]=m=n:1
while(!min(X)){i=w(!X)[1]
j=w(!!X[-1:-i])
X[i-1+1:j]=max(X)+j:1
X=t(X)[m,]}
`if`(n%%2,t(t(X)[m,])[m,],X)-1}
</code></pre>
<p><a href="https://tio.run/##NYxNCoMwEIX3cwsXwgQTaIR2Icw9AiGg2KaO1BGKxULx7GlS6Obj8f6eKVKKLxk3XgVFfWCnfeJxAkdXHu540qLAedGBFpLOQk4fN6wWFnQq95l2rJzyNsBcZOW8sZ3hUGZsbGO7OW@Hd643cz5wtGXpFx0O6Dn2KHXd6g3/7g/aKWOPFNEqiNgWnAsuKn0B" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>A clumsier version of rotate and fill!</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a> + <code>math.matrices</code>, <s>82</s> 79 bytes</h1>
<pre><code>[ 2 * { } [ dup length [ m+n flip [ reverse ] map ] keep iota prefix ] repeat ]
</code></pre>
<p><a href="https://tio.run/##HY07DsIwFAR7TrE1iAgo4QCIhgZRRSlM2AQrjmOeXxAfcXbj0IxGW8w2ptZB0vl0OO636I3e0FE83d@LDLE1IyLvI/1kLT3FOPs2agcfEYSqryDWK3az2XqVSmwwxwdflLiOAY6@zd0S/cKjcTZkFT4okajyT8jsyAA7qJl6jX3mSRhoFFWqjXOItg@OSzUXxyL9AA" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<p>Port of @Bubbler's excellent <a href="https://codegolf.stackexchange.com/a/241837/97916">Jelly answer</a>.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>84</s> <s>81</s> 67 bytes</h1>
<p>Or <strong><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>&gt;=4.1, 60 bytes</strong> by replacing the word <code>function</code> with a <code>\</code>.</p>
<p><em>Edit: -14 bytes thanks to <a href="https://codegolf.stackexchange.com/users/67312/giuseppe">@Giuseppe</a> inspired by <a href="https://codegolf.stackexchange.com/a/241837/55372">@Bubbler's Jelly answer</a>.</em></p>

<pre class="lang-r prettyprint-override"><code>function(n){m=t(1)
while(T&lt;n)m=rbind(1:n,(T=nrow(m))+t(m[T:1,]))
m}
</code></pre>
<p><a href="https://tio.run/##Fcs7CoAwDADQvSdJsIMVXIq5RTdx8RMsmBRKxUE8e6XL216uTJVv3UpMCoqvUAGH5jnjdUCYFIXyGnUH59VCIM3pAUHsCsgcvLMLopGvclsMQ2NsuB7rDw" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>Uses the common &quot;rotate and add a row on top&quot; approach.</p>
<p>See also <a href="https://codegolf.stackexchange.com/a/241927/55372">@Giuseppe's direct construction of the matrix</a>.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.r-project.org/" rel="noreferrer">R</a>, 78 bytes</h1>

<pre class="lang-r prettyprint-override"><code>function(n)matrix(order(cumsum(rep(rep(c(n,1,-n,-1),,x&lt;-2*n-1),n-1:x%/%2))),n)
</code></pre>
<p><a href="https://tio.run/##HcdBCoAgEIXhffcQZmIkFGoRdZgwBReOMSV4e8sW7@P90sLeQmH3xMzAmI5HYoUspxdwJd0lgfjrnwMmQ5pJGySqm7Yj9/uxVjUpi/gFtgAGhwC2M3cWbC8" rel="noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>Direct construction of the matrix, no rotations required.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, <sup><s>18</s></sup> <sup><s>17</s></sup> 16 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>(⍉⍳⍨,⊖+≢)⍣2⍣⎕⊤⍨⍬
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT/@f9qhtQvV/jUe9nY96Nz/qXaHzqGua9qPORZqPehcbAfGj3q2PupYAJR71rvlf@z/tEJCx2QIA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
<p>Full program. TIO uses <code>⍵</code> instead of <code>⎕</code> for easier test case demonstration. For the core algorithm, refer to my <a href="https://codegolf.stackexchange.com/a/241837/78410">Jelly answer</a>.</p>
<p>The only additional trick here is the <code>⊤⍨⍬</code>, which is <a href="https://www.dyalog.com/blog/2021/07/code-golf-generating-empty-arrays/" rel="nofollow noreferrer">one of the shortest expressions that give a 0-by-0 matrix (<code>0 0⍴0</code>)</a>. This one in particular is handy because it doesn't mess up by stranding with the input value.</p>
<p>-1 byte using <code>⍳∘≢ → ⍳⍨</code>; the rows are guaranteed to be distinct, so finding indices of items in itself gives the vector of indices for the leading axis.</p>
<p>Also -1 byte by moving <code>⍉</code> to the end of the train to save a <code>∘</code>. Add first row to a transposed matrix == Add first column and then transpose it.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>12</s> 11 bytes</h1>
<pre><code>UG1YL-GoQ&amp;P
</code></pre>
<p><a href="https://tio.run/##y00syfn/P9TdMNJH1z0/UC3g/39TAA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>
<p>MATL (like MATLAB) has a <code>spiral</code> matrix which spirals clockwise from the center, so this performs the necessary flips and subtracts the matrix from <code>N^2</code>.</p>
<p><s>Probably Luis Mendo knows how to golf this...</s> Thanks to Luis Mendo for −1 byte.</p>
<pre><code>&#9;% Implicit input N
U&#9;% Square
G1YL&#9;% Push the N×N spiral matrix (S)
&#9;% clockwise from the center, starting at 1
-&#9;% N^2 - S, element-wise
GoQ&#9;% Push mod(N,2)+1
&amp;P&#9;% Flip along that dimension:
&#9;% for odd N, flips the rows; for even N, flips the columns
&#9;% Implicit output
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 73 bytes (@ovs)</h1>
<pre>f=lambda n,m=0,p=-1:n*[n]and((*range(m,n),),*zip(*f(2*n-m+p,n,~p)[::-1]))</pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3PdNscxJzk1ISFfJ0cm0NdApsdQ2t8rSi82IT81I0NLSKEvPSUzVydfI0dTR1tKoyCzS00jSMtPJ0c7ULdPJ06go0o62sdA1jNTWhBqqnFeXnKhQUFGXmlShk5hbkF5VAeVwQSiNNw9AAphzmDgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h4>Old <a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 74 bytes (@DialFrost)</h4>
<pre>f=lambda n,m=0,p=-1:n and((*range(m,n),),*zip(*f(2*n-m+p,n,~p)[::-1]))or()</pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3vdJscxJzk1ISFfJ0cm0NdApsdQ2t8hQS81I0NLSKEvPSUzVydfI0dTR1tKoyCzS00jSMtPJ0c7ULdPJ06go0o62sdA1jNTXzizQ0oSaqpxXl5yoUFBRl5pUoZOYW5BeVQHlcEEojTcPQQBOqHOYQAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h4>Old <a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 76 bytes</h4>
<pre>f=lambda n,m=0,p=-1:n&gt;m and((*range(m,n),),*zip(*f(2*n-m+p,n,~p)[::-1]))or()</pre>
<p>-15 by reversing order of recursion.</p>
<p><a href="https://ato.pxeger.com/run?1=LYwxCgIxEAB7X5HO3biBOys5yL3AH6hF5IweuJslxEILP2ITEP2Tv7G4q4aBYV5fvZdLkvqOfv-5leg2v23018DHIRgh9g2pd20nPZsgA4DNQc4nYBIkJPsYFWyEtRXHKyWhp-Ku61x7QEwZcH4uY05sVPMoxYysKZfZFhMgQtvgnNc68Q8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h4>Old <a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 91 bytes</h4>
<pre>lambda n:g((n*n-1,))
g=lambda*s:(l:=s[0][0])and g((*range(l-len(s),l),),*zip(*s[::-1]))or s</pre>
<p><a href="https://ato.pxeger.com/run?1=LY1BCsMgFET3OYW7_i8KcVeEnCTNwpJoA-YrahftVboRSnun3qYBAwOPGR7M6xsf5Raovu1w-dyLleff6M12nQ0j7QCIk1QCsXNDm3nW4PWQx37ag4Zmtms8GXILeOkXgozCo0DBn2sEnketpZoQQ2L5uDjZFDYWY1qpsHWLIZWjdQ1gQfWITa-18Q8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Builds the spiral from inside to out by recursively rotating 90° and adding a row on the top.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 13 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>¯I·FāUøí¬g+Xš
</code></pre>
<p>1-based.</p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/241837/52210"><em>@Bubbler</em>'s Jelly answer</a>, so make sure to upvote him as well!</p>
<p><a href="https://tio.run/##AR8A4P9vc2FiaWX//8KvScK3RsSBVcO4w63CrGcrWMWh//81" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/R/ipuSZV1BaYqWgZO@n8//Qer9D292ONIYe3nF47aE16doRRxf@r@VSckwuKU3MUcgvLYGqteVSCihKLSmp1C0oyswrSU1ByOlwRaXbhZ3bem5r5OFdQZGPOnqDar0OLas9tFuH69A2@/8A" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>¯             # Start with an empty list []
 I·           # Push the input and double it
   F          # Pop and loop that many times:
    ā         #  Push a list in the range [1,length] (without popping the matrix)
     U        #  Pop and store this list in variable `X`
      øí      #  Rotate the matrix 90 degrees clockwise:
      ø       #   Zip/transpose; swapping rows/columns
       í      #   Reverse each row
        ¬     #  Push the first row (without popping the matrix)
         g    #  Pop and push its length
          +   #  Add that to each value in the matrix
           Xš #  Prepend `X` as first row
              # (after the loop, the resulting matrix is output implicitly)
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>48</s> <s>41</s> 40 bytes</h1>
<pre><code>Ｆ⊗Ｎ≔⁺⟦Ｅυλ⟧Ｅ∧υ⌊υ⁺ＬυＥ⮌υ§μλυＥυ⪫Ｅι◧ＩλＬ⌈Ｅυ⌈ν 
</code></pre>
<p><a href="https://tio.run/##NY29DoMwDIT3PkXE5Eh07MSE2oWqVKhr1SGAgUiJg/KDePs0UOrFd9b5u24StjNCxTgYy@BmQquwh4rm4J9Bt2iBc85K5@RI0Kjg4F2LGULOFP/kbNMl9ZuvJUkdNATOc7YnH0ijn9Lhl3vhgtbh7ktfUY8r6I2zTc4CL06NleThKLgbSbuWiSf6Bw4ersJ5UCl9sGux7qXHy98SP6AZy9IuYrzE86K@" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Edit: Saved 4 bytes by porting @Bubbler's observation that you can vectorised add the current length of the array to all of its elements on each iteration, 3 bytes by special-casing an empty array to avoid having to perform the first step manually, and 1 byte by golfing my rotation code. Explanation:</p>
<pre><code>Ｆ⊗Ｎ
</code></pre>
<p>Repeat <code>2n</code> times.</p>
<pre><code>≔⁺⟦Ｅυλ⟧Ｅ∧υ⌊υ⁺ＬυＥ⮌υ§μλυ
</code></pre>
<p>Rotate the spiral while adding its length to it values and prefix an additional row of numbers from <code>0</code> up to its length. (Unfortunately Charcoal won't let me vectorised add the length to the whole matrix at once but fortunately I can at least do it a row at a time as part of the rotation.) Also handle the edge case of the initially empty spiral which produces a zero-length array.</p>
<pre><code>Ｅυ⪫Ｅι◧ＩλＬ⌈Ｅυ⌈ν 
</code></pre>
<p>Display the final spiral as a grid.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://mlochbaum.github.io/BQN/" rel="nofollow noreferrer">BQN</a>, 29 bytes<sup><a href="https://github.com/mlochbaum/BQN/blob/master/commentary/sbcs.bqn" rel="nofollow noreferrer">SBCS</a></sup></h1>
<pre class="lang-none prettyprint-override"><code>{⍉⌽∘⍉∘∾´≍¨⌽(/«⥊2↕↕𝕩+1)⊔⌽↕𝕩⋆2}
</code></pre>
<p><a href="https://mlochbaum.github.io/BQN/try.html#code=RiDihpAge+KNieKMveKImOKNieKImOKIvsK04omNwqjijL0oL8Kr4qWKMuKGleKGlfCdlakrMSniipTijL3ihpXwnZWp4ouGMn0KCuKImOKAvzHipYpGwqjijL0xK+KGlTEw" rel="nofollow noreferrer">Run online!</a></p>
<p>A port of <a href="https://codegolf.stackexchange.com/a/241837/64121">Bubbler's Jelly answer</a> comes in at 20 bytes:</p>
<pre class="lang-none prettyprint-override"><code>{(⊒˜∾⍉∘⌽+≠)⍟2⍟𝕩↕0‿0}
</code></pre>
<p><a href="https://mlochbaum.github.io/BQN/try.html#code=RiDihpAgeyjiipLLnOKIvuKNieKImOKMvSviiaAp4o2fMuKNn/CdlanihpUw4oC/MH0KCuKImOKAvzHipYpGwqjijL0xK+KGlTEw" rel="nofollow noreferrer">Run online!</a></p>
</div>
<div id="pu12" class="pu"><h1>JavaScript (ES7), <s> 111 </s> 101 bytes</h1>
<p><em>Saved 9 bytes thanks to @tsh</em></p>
<p>Returns a matrix. The results are 1-indexed.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;[...Array(n)].map((x=-n/2,y,a)=&gt;a.map(_=&gt;n*n-(i=4*(++x*x&gt;y*y?x:y)**2)+(x&gt;y||-1)*(i**.5+x+y),y+=x))
</code></pre>
<p><a href="https://tio.run/##PY7BbsIwEETvfMXesms7bpPCpciueugXcKSosgKhRrCOjBXZKv32FHLoad7MHGZObnTXLvoh1Rz2h6k3Exu71Vq/x@gKMu30xQ2I2dT81KqiHBnr5uzLWBZcozdLgVJmkW0R5S2/FhKiJYl3f7vVDQn0QuiVzLKQKtJkomm9bRS0ClYKmued7kP8cN03MhgLPwuALvA1nA/6HI7Y32/Mi/HRxhnHB446hU2Kno9IenD7TXIx4QuRPgXPWEH1j59cEUiYdfFL0x8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 91 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(n,s=[[n*n-1]],[l]=t=s[0])=&gt;l?f(n,[0,...t].map((_,i)=&gt;s.map(r=&gt;r[i-1]||--l).reverse())):s
</code></pre>
<p><a href="https://tio.run/##VY7BasMwEETv@Yq5WVvbwm5OTSLnI3IUpphELgqqZCQ1YJJ8u7tNaKGwMKPZfas9D5chHaOdcu3DySyj4hK@Skpr/@Lrtu8r7XqVVdJNT6pz@5HbuqmklLmXn8MkxHtluZMej6i6qC1zt1tdO5LRXExMRhDRJi1jiBDOZFgotFuWHWvDpiwJ1xVwDD5lhK/MA6OwtOXsj5o55OEZO1iWX@ZJBWekCx@CWT0/L/NQHURRoIQnOQ2nQx5iFhYd3rDHGhv8@DX7V/YtkTwH60WBgh4/31f/d3N4X74B" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>A port of <a href="https://codegolf.stackexchange.com/users/107561/loopy-walt">loopy walt</a>'s <a href="https://codegolf.stackexchange.com/a/241833/44718">Python answer</a>. Although I don't really understand what happening.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 13 bytes</h1>
<pre><code>⁸JW;ṚZ+LƲƲ2¡¡
</code></pre>
<p><a href="https://tio.run/##ASMA3P9qZWxsef//4oG4Slc74bmaWitMxrLGsjLCocKh/8KiR/8xMA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>A nilad function or full program that takes a number from stdin and returns the 1-based involute of size n × n.</p>
<h3>How it works</h3>
<pre><code>⁸JW;ṚZ+LƲƲ2¡¡
⁸                Empty list ([])
          2¡¡    Take n from stdin and repeat 2n times starting from the above:
                   Given previous matrix m,
    ṚZ+LƲ          Rotate m and add the number of rows of m
 JW;     Ʋ         Prepend a row of 1..(number of rows of m)
</code></pre>
<p>The involute can be constructed iteratively as follows:</p>
<pre><code>Start with m = [] (think of it as 0-row, 0-col matrix)
Repeat 2n times:
    If m has r rows, add r to every cell of m
    Rotate m 90deg clockwise
    Attach 0..r-1 (or 1..r) as a new row at the top of m
</code></pre>
<p>After every step, the matrix <code>m</code> is always an involute for some rectangular size (square at even steps). For example, using 1-based indexing, doing a single step on</p>
<pre><code>1 2 3
8 9 4
7 6 5
</code></pre>
<p>gives</p>
<pre><code> 1  2  3
10 11  4
 9 12  5
 8  7  6
</code></pre>
<p>and then</p>
<pre><code> 1  2  3  4
12 13 14  5
11 16 15  6
10  9  8  7
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 34 33 </s> 32 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<p><sup>I would have thought Jelly would be better at this, maybe a more mathematical approach will triumph?</sup></p>
<pre><code>ŒMḢḢ
+þ`¬ZṚ$ṛ¬Ç$¦€Ç¦‘ɼ$ḣÇȦƊ?ƬȦƇṂ
</code></pre>
<p>A monadic Link accepting a positive integer that yields a list of lists of positive integers (top-left <code>1</code> option).</p>
<p><strong><a href="https://tio.run/##y0rNyan8///oJN@HOxYBEZf24X0Jh9ZEPdw5S@XhztmH1hxuVzm07FETkAZSDTNO7lF5uGPx4fYTy4512R9bA6TaH@5s@n@43f3/f0MDAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<p>Start with an <span class="math-container">\$N\times N\$</span> table of zeros, then repeatedly either fill in the next number in the first zero of the first row that contains a maximal value, unless that row is filled in which case rotate. This process terminates with a full table but rotated further than we want, so we collect all the states along the way then pick the one we need out (using <code>ȦƇṂ</code>).</p>
<pre><code>ŒMḢḢ - Helper Link: list of list of integers (current state)
ŒM   - multidimensional indices of maximal elements
  Ḣ  - head
   Ḣ - head -&gt; row index containing the maximum value

+þ`¬ZṚ$ṛ¬Ç$¦€Ç¦‘ɼ$ḣÇȦƊ?ƬȦƇṂ - Link: positive integer, N
+þ`                         - [1..N] addition table with [1..N]
   ¬                        - logical NOT -&gt; N×N table of zeros
                       Ƭ    - collect inputs while distinct applying:
                      ?     -   if...
                     Ɗ      -   ...condition: last three links as a monad:
                   Ç        -     call our helper link
                  ḣ         -     head (the current state) to that index
                    Ȧ       -     all truthy when flattened?
      $                     -   ...then: last two links as a monad:
    Z                       -     transpose
     Ṛ                      -     reverse
                                  - this rotates when we've finished a row
                 $          -   ...else: last two links as a monad:
                ɼ           -     apply to the register (initially 0) &amp; yield:
               ‘            -       increment
              ¦             -     sparse application...
             Ç              -     ...to indices: call our helper link
            €               -     ...apply: for each:
           ¦                -       sparse application...
          $                 -       ...to indices: last two links as a monad:
        ¬                   -         logical NOT (vectorises)
         Ç                  -         call our helper link
       ṛ                    -       ...apply: the incremented register value
                         Ƈ  - filter keep those for which:
                        Ȧ   -   all truthy when flattened?
                          Ṃ - minimum (of the rotate tables we have left)
</code></pre>
<hr />
<p>Another approach, but even more lengthy at 39:</p>
<pre><code>RµṚĖm€0F;Ɱ&quot;ḊṚ’$ṖṚ4ƭ³’Ḥ¤Ð¡UÐeẎIƇŒṬ€×&quot;J$S
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/z/o0NaHO2cdmZb7qGmNgZv1o43rlB7u6AIKPWqYqfJw5zQgy@TY2kObgdyHO5YcWnJ4wqGFoYcnpD7c1ed5rP3opIc71wB1Hp6u5KUS/P9wu/v//4YGAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try this one</a></p>
<p>This one works by building a list of the two-dimensional indices ordered by their final value then composing the table by adding up tables that are all zeros except the bottom-rightmost entry which is the number we want there in the end.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 108 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;[...Array(n)].map((_,Y,a)=&gt;a.map(g=(y=Y,x,_,s=n)=&gt;y?--s-x?s-y?x?s*4+g(y-1,x-1,_,s-1):4*s-y:3*s-x:s+y:x));
</code></pre>
<p><a href="https://tio.run/##VU/BasMwDL33K3SL1NhmWXtpUifsG3YqZRTTJsEls0PsjZjRb8@0lg12sN7T83sSuppPE86THaN0/tIunV6cro9KqZdpMgkdval3MyKexEEY0rW5t73GpA9iFicRtGM5NVIGOTdBpobrepv3mGQhZn7skQWV2zV/lhuucxnyVM5E1dL5CXBoI1jQUFQMe8YnJnlO8LUCOHsXIviPyIYOLVWs/aUSi2xOsAfL8Jt5pPzQqsH3yNljepzhQNeAWQY5OFKjubxGM0W0UMMOGthACT98w/yZeUGkrt46zCCj@@bb6v9sFm/LNw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 35 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>{(⍵*2)-⌽{⍉⌽⍵,(⌈/,⍵)+⍳≢⍵}⍣(2×⍵-1)⍪0}
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///v1rjUe9WLSNN3Uc9e6sf9XYCKaCAjsajng59HSBLU/tR7@ZHnYuAzNpHvYs1jA5PBzJ1DTUf9a4yqP2f9qhtwqPevkddzY961zzq3XJovfGjtomP@qYGBzkDyRAPz@D/aYdWAM2wAAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/241803/">241803</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




