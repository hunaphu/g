<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::181299</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>2267</td><td>â˜¾</td><td>250215T111908Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/278242#278242">Joao-3</a></td></tr>
<tr d-ix="1"><td>023</td><td>Uiua</td><td>250212T135153Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/278219#278219">Ven</a></td></tr>
<tr d-ix="2"><td>007</td><td>Vyxal 3</td><td>240226T195114Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/271325#271325">pacman25</a></td></tr>
<tr d-ix="3"><td>068</td><td>Perl 5 pa</td><td>190311T220021Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181344#181344">Xcali</a></td></tr>
<tr d-ix="4"><td>070</td><td>MATLAB</td><td>210304T174420Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/220205#220205">robbie c</a></td></tr>
<tr d-ix="5"><td>079</td><td>Lua LuaJIT</td><td>210117T184631Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/217671#217671">LuaNoob</a></td></tr>
<tr d-ix="6"><td>011</td><td>Husk</td><td>210117T090548Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/217665#217665">Razetime</a></td></tr>
<tr d-ix="7"><td>014</td><td>Stax</td><td>210117T090529Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/217664#217664">Razetime</a></td></tr>
<tr d-ix="8"><td>010</td><td>Japt</td><td>190311T113917Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181307#181307">Shaggy</a></td></tr>
<tr d-ix="9"><td>026</td><td>J</td><td>190311T202425Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181335#181335">Galen Iv</a></td></tr>
<tr d-ix="10"><td>022</td><td>APL Dyalog Unicode</td><td>190311T125346Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181309#181309">Ven</a></td></tr>
<tr d-ix="11"><td>066</td><td>PowerShell</td><td>190318T050926Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181679#181679">mazzy</a></td></tr>
<tr d-ix="12"><td>078</td><td>PowerShell</td><td>190317T210634Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181645#181645">Andrei O</a></td></tr>
<tr d-ix="13"><td>018</td><td>Pyth</td><td>190311T152753Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181315#181315">Ven</a></td></tr>
<tr d-ix="14"><td>032</td><td>Perl 6</td><td>190311T135648Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181311#181311">nwellnho</a></td></tr>
<tr d-ix="15"><td>085</td><td>R</td><td>190313T104504Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181455#181455">Volare</a></td></tr>
<tr d-ix="16"><td>044</td><td>JavaScript ES6</td><td>190311T113242Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181304#181304">Arnauld</a></td></tr>
<tr d-ix="17"><td>063</td><td>C GCC</td><td>190311T194447Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181333#181333">rtpax</a></td></tr>
<tr d-ix="18"><td>045</td><td>R</td><td>190312T111909Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181380#181380">Kirill L</a></td></tr>
<tr d-ix="19"><td>072</td><td>R</td><td>190311T222829Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181345#181345">Nick Ken</a></td></tr>
<tr d-ix="20"><td>042</td><td>Ruby</td><td>190312T070645Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181362#181362">G B</a></td></tr>
<tr d-ix="21"><td>039</td><td>Python 2</td><td>190311T113606Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181306#181306">Erik the</a></td></tr>
<tr d-ix="22"><td>032</td><td>Perl 6</td><td>190311T102952Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181301#181301">Jo King</a></td></tr>
<tr d-ix="23"><td>078</td><td>Red</td><td>190311T145900Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181313#181313">Galen Iv</a></td></tr>
<tr d-ix="24"><td>008</td><td>Jelly</td><td>190311T104016Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181302#181302">Jonathan</a></td></tr>
<tr d-ix="25"><td>040</td><td>Python 3</td><td>190311T192243Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181329#181329">Alex</a></td></tr>
<tr d-ix="26"><td>098</td><td>APLNARS</td><td>190311T160332Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181317#181317">user5898</a></td></tr>
<tr d-ix="27"><td>062</td><td>Wolfram Language Mathematica</td><td>190311T155342Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181316#181316">Rainer G</a></td></tr>
<tr d-ix="28"><td>059</td><td>Java JDK</td><td>190311T124040Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181308#181308">Olivier </a></td></tr>
<tr d-ix="29"><td>009</td><td>05AB1E legacy</td><td>190311T102448Z</td><td><a href="https://codegolf.stackexchange.com/questions/181299/could-you-please-stop-shuffling-the-deck-and-play-already/181300#181300">Emigna</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://ganer.xyz/moon" rel="nofollow noreferrer">â˜¾</a>, 22 chars (67 bytes)</h1>
<p><img src="https://i.sstatic.net/KPFWSR4G.png" alt="screenshot" />
(sorry, my font is f***ed up in the screenshots, I'm a Windows user)</p>
<pre><code>ğŸƒŒâ—‹â†ó·º¹â†¨î®†á´®ó·º¹â‚€%2á¸á´Â²ó·¸ºâ¨á¸âŸó·º¹â‰¡âŸó°’¼
</code></pre>
<p>Run the tests <a href="https://ganer.xyz/moon?code=f%3D%F0%9F%83%8C%E2%97%8B%E2%86%90%F3%B7%BA%B9%E2%86%A8%EE%AE%86%E1%B4%AE%F3%B7%BA%B9%E2%82%80%252%E1%90%B8%E1%B4%8D%C2%B2%F3%B7%B8%BA%E2%A8%81%E1%90%B8%E2%8D%9F%F3%B7%BA%B9%E2%89%A1%E2%9F%9E%F3%B0%92%BC%0A%E2%A8%B3%20f%E2%88%98%5B1%2C2%2C3%5D%E2%89%A10%0A%E2%A8%B3%20f%E2%88%98%5B1%2C2%2C3%2C4%2C5%5D%E2%89%A10%0A%E2%A8%B3%20f%E2%88%98%5B1%2C3%2C2%5D%E2%89%A11%0A%E2%A8%B3%20f%E2%88%98%5B1%2C6%2C2%2C7%2C3%2C8%2C4%2C9%2C5%2C10%5D%E2%89%A11%0A%E2%A8%B3%20f%E2%88%98%5B1%2C3%2C5%2C7%2C2%2C4%2C6%5D%E2%89%A12%0A%E2%A8%B3%20f%E2%88%98%5B1%2C8%2C6%2C4%2C2%2C9%2C7%2C5%2C3%2C10%5D%E2%89%A12%0A%E2%A8%B3%20f%E2%88%98%5B1%2C9%2C8%2C7%2C6%2C5%2C4%2C3%2C2%2C10%5D%E2%89%A13%0A%E2%A8%B3%20f%E2%88%98%5B1%2C5%2C9%2C4%2C8%2C3%2C7%2C2%2C6%2C10%5D%E2%89%A14%0A%E2%A8%B3%20f%E2%88%98%5B1%2C3%2C5%2C7%2C9%2C2%2C4%2C6%2C8%5D%E2%89%A15%0A%E2%A8%B3%20f%E2%88%98%5B1%2C6%2C11%2C5%2C10%2C4%2C9%2C3%2C8%2C2%2C7%5D%E2%89%A16%0A%E2%A8%B3%20f%E2%88%98%5B1%2C10%2C19%2C9%2C18%2C8%2C17%2C7%2C16%2C6%2C15%2C5%2C14%2C4%2C13%2C3%2C12%2C2%2C11%2C20%5D%E2%89%A110%0A%E2%A8%B3%20f%E2%88%98%5B1%2C3%2C5%2C7%2C9%2C11%2C13%2C15%2C17%2C19%2C2%2C4%2C6%2C8%2C10%2C12%2C14%2C16%2C18%2C20%5D%E2%89%A117%0A%E2%A8%B3%20f%E2%88%98%5B1%2C141%2C32%2C172%2C63%2C203%2C94%2C234%2C125%2C16%2C156%2C47%2C187%2C78%2C218%2C109%2C249%2C140%2C31%2C171%2C62%2C202%2C93%2C233%2C124%2C15%2C155%2C46%2C186%2C77%2C217%2C108%2C248%2C139%2C30%2C170%2C61%2C201%2C92%2C232%2C123%2C14%2C154%2C45%2C185%2C76%2C216%2C107%2C247%2C138%2C29%2C169%2C60%2C200%2C91%2C231%2C122%2C13%2C153%2C44%2C184%2C75%2C215%2C106%2C246%2C137%2C28%2C168%2C59%2C199%2C90%2C230%2C121%2C12%2C152%2C43%2C183%2C74%2C214%2C105%2C245%2C136%2C27%2C167%2C58%2C198%2C89%2C229%2C120%2C11%2C151%2C42%2C182%2C73%2C213%2C104%2C244%2C135%2C26%2C166%2C57%2C197%2C88%2C228%2C119%2C10%2C150%2C41%2C181%2C72%2C212%2C103%2C243%2C134%2C25%2C165%2C56%2C196%2C87%2C227%2C118%2C9%2C149%2C40%2C180%2C71%2C211%2C102%2C242%2C133%2C24%2C164%2C55%2C195%2C86%2C226%2C117%2C8%2C148%2C39%2C179%2C70%2C210%2C101%2C241%2C132%2C23%2C163%2C54%2C194%2C85%2C225%2C116%2C7%2C147%2C38%2C178%2C69%2C209%2C100%2C240%2C131%2C22%2C162%2C53%2C193%2C84%2C224%2C115%2C6%2C146%2C37%2C177%2C68%2C208%2C99%2C239%2C130%2C21%2C161%2C52%2C192%2C83%2C223%2C114%2C5%2C145%2C36%2C176%2C67%2C207%2C98%2C238%2C129%2C20%2C160%2C51%2C191%2C82%2C222%2C113%2C4%2C144%2C35%2C175%2C66%2C206%2C97%2C237%2C128%2C19%2C159%2C50%2C190%2C81%2C221%2C112%2C3%2C143%2C34%2C174%2C65%2C205%2C96%2C236%2C127%2C18%2C158%2C49%2C189%2C80%2C220%2C111%2C2%2C142%2C33%2C173%2C64%2C204%2C95%2C235%2C126%2C17%2C157%2C48%2C188%2C79%2C219%2C110%2C250%5D%E2%89%A145" rel="nofollow noreferrer">here</a>.</p>
<p><img src="https://i.sstatic.net/pjbeZvfg.png" alt="explanation" />
The code runs a function to undo a riffle-shuffle on the left, and does that until the array is sorted. Then, it gets the amount of iterations that whole process took. Due to the fact that it only cares about indices in the grouping, you can feed it both 0-indexed decks and 1-indexed decks.</p>
<p>Thanks to <a href="https://codegolf.stackexchange.com/users/126874/ganer">Ganer</a> (the creator of the language) for -1 char (before I posted this).</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://uiua.org/pad?src=0_15_0-dev_1__RiDihpAgfDEg4qisKCsxRuKKj-KNj-KXvzLCsOKKj3ww4peMKeKJjeKKuOKNhi4KCuKNpCJPbmUgc2h1ZmZsZSI9MUYgWzEgMyAyXQrijaQiU29ydGVkIiA9MEYgWzEgMiAzXQrijaQiNSBzaHVmZmxlcyI9NUYgWzEgMyA1IDcgOSAyIDQgNiA4XQo=" rel="nofollow noreferrer">Uiua</a>, 23 bytes</h1>
<pre><code>Fâ†|1 â¨¬(+1FâŠââ—¿2Â°âŠ|0â—Œ)â‰âŠ¸â†.
</code></pre>
<p>Explained:</p>
<pre><code>Fâ†|1 â¨¬(+1FâŠââ—¿2Â°âŠ|0â—Œ)â‰âŠ¸â†. # F is a |1.1 function (1 in, 1 out)
     â¨¬(          |  )â‰âŠ¸â†  # if the array is sorted
                  0â—Œ     . # return 0 (and discard copied input)
               Â°âŠ          # otherwise, generate 0..n
       +1FâŠââ—¿2             # mod 2
           â               # grade (returns sorted indices)
          âŠ             .  # index into our original input, that's as shufflin'
       +1F                 # recurse and add 1 to the recursion count
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="nofollow noreferrer">Vyxal 3</a>, 7 bytes</h1>
<pre><code>Ï©UJiá¶¤áµS
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#WyIiLCIiLCLPqVVKaeG2pOG1nlMiLCIiLCJbMSwxNDEsMzIsMTcyLDYzLDIwMyw5NCwyMzQsMTI1LDE2LDE1Niw0NywxODcsNzgsMjE4LDEwOSwyNDksMTQwLDMxLDE3MSw2MiwyMDIsOTMsMjMzLDEyNCwxNSwxNTUsNDYsMTg2LDc3LDIxNywxMDgsMjQ4LDEzOSwzMCwxNzAsNjEsMjAxLDkyLDIzMiwxMjMsMTQsMTU0LDQ1LDE4NSw3NiwyMTYsMTA3LDI0NywxMzgsMjksMTY5LDYwLDIwMCw5MSwyMzEsMTIyLDEzLDE1Myw0NCwxODQsNzUsMjE1LDEwNiwyNDYsMTM3LDI4LDE2OCw1OSwxOTksOTAsMjMwLDEyMSwxMiwxNTIsNDMsMTgzLDc0LDIxNCwxMDUsMjQ1LDEzNiwyNywxNjcsNTgsMTk4LDg5LDIyOSwxMjAsMTEsMTUxLDQyLDE4Miw3MywyMTMsMTA0LDI0NCwxMzUsMjYsMTY2LDU3LDE5Nyw4OCwyMjgsMTE5LDEwLDE1MCw0MSwxODEsNzIsMjEyLDEwMywyNDMsMTM0LDI1LDE2NSw1NiwxOTYsODcsMjI3LDExOCw5LDE0OSw0MCwxODAsNzEsMjExLDEwMiwyNDIsMTMzLDI0LDE2NCw1NSwxOTUsODYsMjI2LDExNyw4LDE0OCwzOSwxNzksNzAsMjEwLDEwMSwyNDEsMTMyLDIzLDE2Myw1NCwxOTQsODUsMjI1LDExNiw3LDE0NywzOCwxNzgsNjksMjA5LDEwMCwyNDAsMTMxLDIyLDE2Miw1MywxOTMsODQsMjI0LDExNSw2LDE0NiwzNywxNzcsNjgsMjA4LDk5LDIzOSwxMzAsMjEsMTYxLDUyLDE5Miw4MywyMjMsMTE0LDUsMTQ1LDM2LDE3Niw2NywyMDcsOTgsMjM4LDEyOSwyMCwxNjAsNTEsMTkxLDgyLDIyMiwxMTMsNCwxNDQsMzUsMTc1LDY2LDIwNiw5NywyMzcsMTI4LDE5LDE1OSw1MCwxOTAsODEsMjIxLDExMiwzLDE0MywzNCwxNzQsNjUsMjA1LDk2LDIzNiwxMjcsMTgsMTU4LDQ5LDE4OSw4MCwyMjAsMTExLDIsMTQyLDMzLDE3Myw2NCwyMDQsOTUsMjM1LDEyNiwxNywxNTcsNDgsMTg4LDc5LDIxOSwxMTAsMjUwXSIsIjMuNC4yIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>Ï©UJiá¶¤áµSÂ­â¡â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â âªâªâ âªâªâ â€âªâ¡âªâ âªâ¤âªâ€â€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ¢âªâ€â â€âªâ¡âªâ âªâ£âªâ€â€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ¢â¡âªâ€â â€âªâ¡âªâ âªâ¢â¢âªâ€â â€âªâ¡âªâ âªâ¢â£âªâ€â€â€‹â¡â â¡â€ŒÂ­
Ï©  i     # â€â¡Apply and collect until value is no longer unique, including initial value
 UJ      # â€â¢Uninterleave and append
    á¶¤áµS  # â€â£first index where the list is sorted (invariant after sort)
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-pa</code>, <s>77</s> 68 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>map{push@{$_%2},$_}0..$#F;++$\,@F=@F[@0,@1]while&quot;@F&quot;ne&quot;@{[1..@F]}&quot;}{
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/z83saC6oLQ4w6FaJV7VqFZHJb7WQE9PRdnNWltbJUbHwc3WwS3awUDHwTC2PCMzJ1XJwU0pD0hWRxvq6Tm4xdYq1Vb//2@oYKxgqmCuYKlgpGCiYKZg8S@/oCQzP6/4v66vqZ6BocF/3cQCAA" rel="nofollow noreferrer" title="Perl 5 â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>MATLAB, 70 bytes</h1>
<pre><code>function s(l),x=max(l);find(find(l==2)==1+mod(2.^(1:x),x-1))*(l(2)~=2)
</code></pre>
<p>explanation:</p>
<p>every nth shuffle, 2 will be pushed n^2 indices down from its previous position, wrapping around when it reaches the last position. That means that the function for index(n) is</p>
<p>1+mod(2^n,list-size-1)</p>
<p>for a list-size of 10, then, the indices are:</p>
<ul>
<li>index(1) = 3       -&gt; [1 6 <strong>2</strong> 7 3 8 4 9 5 10]</li>
<li>index(2) = 5       -&gt; [1 8 6 4 <strong>2</strong> 9 7 5 3 10]</li>
<li>index(3) = 9       -&gt; [1 9 8 7 6 5 4 3 <strong>2</strong> 10]</li>
<li>index(4) = 17 =&gt; 8 -&gt; [1 5 9 4 8 3 7 <strong>2</strong> 6 10]</li>
</ul>
<p>etc.</p>
<p>Using this, I find the index where 2 is, and find which power of 2 that is along the array. That power corresponds the the number of shuffles. To account for 0 shuffles, the whole thing is multiplied by the boolean value of l(2)~=2 to make sure that it returns 0 when 2 is in the right place, which only happens for an unshuffled array.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://luajit.org/" rel="nofollow noreferrer">Lua (LuaJIT)</a>, <s>119</s> <s>96</s> 79 bytes</h1>

<pre class="lang-lua prettyprint-override"><code>n=t;while 2~=n[2]do n={}for a=1,#t*2,2 do x=a-#t n[#n+1]=t[a]or t[x+x%2]end;t=n
</code></pre>
<p><a href="https://tio.run/##HZLBahtBEETv/gqBCVhxGaZ7ZnZmMHvKZwgdhGwTGbMKZk0Mxvl15bWOWlQ1j1f99nF4ePs4vJ7Wy8vHclxP52Xz6/z0fLduL8u8Pv79fXp73vi/edn5/um8Weav75fz@@Ywm27Xny7f8PVzPjzcrptld7vc235ed4c9/1l3n/efP3z/vDw9rvNyOc53xw3f0/bebvh48@f9tKx3x@31x8312S@TFVN2WXNNWZ6yRpHnIvMqm2R1Ummy3tS63LosDXkZJJMyBc00QZZcg4KcSZImXKsKBX1SayQpSTQUGvJQTiSTJiNpGhQEhZOOcFGhoFe1iSQliYbAyDTw9DQ0JZJJg4KgcNKEa1ahoBe1SpKSRENgZBp4euqqFIyhQUFQeKRJugoFPashICgSDYGRaeDpqalSMLo6AoLCSROupkJBdzUEBEWiITAyDTw9TaoUjKYOflAYacI1Cf3WTej3oMC/BwYDXP1X4d/GJPx7UDBAqB/CvvUk7HtAoN@DIkcBwSL026hCvwcE/nkY@8i3NoR8Dwbse0DkmIBgFvaNI8C@BwP6eRf5uDduAPeegp@CgMB@yOcGkG/cAPI9GLDPu7hHvXECqHcuAPUeDDkAyJlQb1wA6j0QcM@zmEe8cQCId/ZHvAeCx/vkkhBv7I94DwLM8yre0W7Mj3ZnfbR7EIR3nmV9tBvr9wCnAu9xdllx9YyPdGd7pHsQhHWibB9Hz/ZY9@v05MmRJs70OHeWx7kHQUgnyvJx8iyPdA8CrHtN39vLfw" rel="nofollow noreferrer" title="Lua (LuaJIT) â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 11 bytes</h1>
<pre><code>Lâ†‘Sâ‰ Å€Â¡È¯Î£TC2
</code></pre>
<p><a href="https://tio.run/##HZK9jRZQEAMbcvDW7z8mJYPsRI5EiMiJkAjpAEQB9ICEREQR18jH@AqwdzTe958@fng8Xj9/@fbm@ev3P59///j769/Pt6/8eDyeSjVK3aptrS63rjvkPlSeqqWaS2OrztY@ch1Vu/K4JJs6Bbu0TNK6FPROkjThOTUoOEt7k6Sk0TBo6Fe9kWxaRbJ0KQiFSSc8NCg4U3uRpKTREIxOA6fX1Wokmy4FoTBpwrNrUHCG9iRJSaMhGJ0GTq@jScG9uhSEwkmTtAYFp2sjIBSNhmB0Gji9tiYF9@ggIBQmTXiWBgXH2ggIRaMhGJ0GTq@lScHdOuCHokgTnk3or1NCv0OBfweDAV78T@G/7hL@HQoGiPor7Ndpwr4DgX6HoqeA4BD6606h34HAP4exj/zaV8h3GLDvQPRMQLAL@8UTYN9hQD93kY/74gdw7xZ@CgKB/cjnB5Bf/ADyHQbscxf3qC9eAPXmA1DvMPQAkCuhvvgA1DsIuOcs5hFfPADizf6IdxCc@@SaEF/sj3iHAPNcxTvai/nRbtZHu0MQ75xlfbQX65@AU4H3vF1Xvp7xkW62R7pDEOtE2T5Pz/ZY98v05MmRJs70ODfL49whiHSiLJ@XZ3mkOwRY92zv/gM" rel="nofollow noreferrer" title="Husk â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 14 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ã¼â‰ˆ:â˜»â€¼XÃ­â”ŒÃ¹ÃŸâ™¦â–²â–¬Ã¡
</code></pre>
<p><a href="https://staxlang.xyz/#p=81f73a021358a1da97e1041e16a0&amp;i=%5B1,2,3%5D%0A%5B1,2,3,4,5%5D%0A%5B1,3,2%5D%0A%5B1,6,2,7,3,8,4,9,5,10%5D%0A%5B1,3,5,7,2,4,6%5D%0A%5B1,8,6,4,2,9,7,5,3,10%5D%0A%5B1,9,8,7,6,5,4,3,2,10%5D%0A%5B1,5,9,4,8,3,7,2,6,10%5D%0A%5B1,3,5,7,9,2,4,6,8%5D%0A%5B1,6,11,5,10,4,9,3,8,2,7%5D%0A%5B1,10,19,9,18,8,17,7,16,6,15,5,14,4,13,3,12,2,11,20%5D%0A%5B1,3,5,7,9,11,13,15,17,19,2,4,6,8,10,12,14,16,18,20%5D%0A%5B1,141,32,172,63,203,94,234,125,16,156,47,187,78,218,109,249,140,31,171,62,202,93,233,124,15,155,46,186,77,217,108,248,139,30,170,61,201,92,232,123,14,154,45,185,76,216,107,247,138,29,169,60,200,91,231,122,13,153,44,184,75,215,106,246,137,28,168,59,199,90,230,121,12,152,43,183,74,214,105,245,136,27,167,58,198,89,229,120,11,151,42,182,73,213,104,244,135,26,166,57,197,88,228,119,10,150,41,181,72,212,103,243,134,25,165,56,196,87,227,118,9,149,40,180,71,211,102,242,133,24,164,55,195,86,226,117,8,148,39,179,70,210,101,241,132,23,163,54,194,85,225,116,7,147,38,178,69,209,100,240,131,22,162,53,193,84,224,115,6,146,37,177,68,208,99,239,130,21,161,52,192,83,223,114,5,145,36,176,67,207,98,238,129,20,160,51,191,82,222,113,4,144,35,175,66,206,97,237,128,19,159,50,190,81,221,112,3,143,34,174,65,205,96,236,127,18,158,49,189,80,220,111,2,142,33,173,64,204,95,235,126,17,157,48,188,79,219,110,250%5D%0A&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>13</s> <s>11</s> 10 bytes</h1>
<p>Taking my shiny, new<s>, <strong>very</strong>-work-in-progress</s> interpreter for a test drive.</p>
<pre><code>Ã…ÃÃÂ©Ã’ÃŸUÃ±Ãu
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=xc7NqdLfVfHPdQ&amp;input=WzEsMyw1LDcsOSwyLDQsNiw4XQ" rel="nofollow noreferrer">Try it</a> or <a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LW0&amp;code=xc7NqdLfVfHPdQ&amp;input=WwpbMSwyLDNdClsxLDIsMyw0LDVdClsxLDMsMl0KWzEsNiwyLDcsMyw4LDQsOSw1LDEwXQpbMSwzLDUsNywyLDQsNl0KWzEsOCw2LDQsMiw5LDcsNSwzLDEwXQpbMSw5LDgsNyw2LDUsNCwzLDIsMTBdClsxLDUsOSw0LDgsMyw3LDIsNiwxMF0KWzEsMyw1LDcsOSwyLDQsNiw4XQpbMSw2LDExLDUsMTAsNCw5LDMsOCwyLDddClsxLDEwLDE5LDksMTgsOCwxNyw3LDE2LDYsMTUsNSwxNCw0LDEzLDMsMTIsMiwxMSwyMF0KWzEsMyw1LDcsOSwxMSwxMywxNSwxNywxOSwyLDQsNiw4LDEwLDEyLDE0LDE2LDE4LDIwXQpbMSwxNDEsMzIsMTcyLDYzLDIwMyw5NCwyMzQsMTI1LDE2LDE1Niw0NywxODcsNzgsMjE4LDEwOSwyNDksMTQwLDMxLDE3MSw2MiwyMDIsOTMsMjMzLDEyNCwxNSwxNTUsNDYsMTg2LDc3LDIxNywxMDgsMjQ4LDEzOSwzMCwxNzAsNjEsMjAxLDkyLDIzMiwxMjMsMTQsMTU0LDQ1LDE4NSw3NiwyMTYsMTA3LDI0NywxMzgsMjksMTY5LDYwLDIwMCw5MSwyMzEsMTIyLDEzLDE1Myw0NCwxODQsNzUsMjE1LDEwNiwyNDYsMTM3LDI4LDE2OCw1OSwxOTksOTAsMjMwLDEyMSwxMiwxNTIsNDMsMTgzLDc0LDIxNCwxMDUsMjQ1LDEzNiwyNywxNjcsNTgsMTk4LDg5LDIyOSwxMjAsMTEsMTUxLDQyLDE4Miw3MywyMTMsMTA0LDI0NCwxMzUsMjYsMTY2LDU3LDE5Nyw4OCwyMjgsMTE5LDEwLDE1MCw0MSwxODEsNzIsMjEyLDEwMywyNDMsMTM0LDI1LDE2NSw1NiwxOTYsODcsMjI3LDExOCw5LDE0OSw0MCwxODAsNzEsMjExLDEwMiwyNDIsMTMzLDI0LDE2NCw1NSwxOTUsODYsMjI2LDExNyw4LDE0OCwzOSwxNzksNzAsMjEwLDEwMSwyNDEsMTMyLDIzLDE2Myw1NCwxOTQsODUsMjI1LDExNiw3LDE0NywzOCwxNzgsNjksMjA5LDEwMCwyNDAsMTMxLDIyLDE2Miw1MywxOTMsODQsMjI0LDExNSw2LDE0NiwzNywxNzcsNjgsMjA4LDk5LDIzOSwxMzAsMjEsMTYxLDUyLDE5Miw4MywyMjMsMTE0LDUsMTQ1LDM2LDE3Niw2NywyMDcsOTgsMjM4LDEyOSwyMCwxNjAsNTEsMTkxLDgyLDIyMiwxMTMsNCwxNDQsMzUsMTc1LDY2LDIwNiw5NywyMzcsMTI4LDE5LDE1OSw1MCwxOTAsODEsMjIxLDExMiwzLDE0MywzNCwxNzQsNjUsMjA1LDk2LDIzNiwxMjcsMTgsMTU4LDQ5LDE4OSw4MCwyMjAsMTExLDIsMTQyLDMzLDE3Myw2NCwyMDQsOTUsMjM1LDEyNiwxNywxNTcsNDgsMTg4LDc5LDIxOSwxMTAsMjUwXQpd" rel="nofollow noreferrer">run all test cases</a></p>
<pre><code>Ã…ÃÃÂ©Ã’ÃŸUÃ±Ãu     :Implicit input of integer array U
Ã…              :Slice the first element off U
 Ã             :Get the first element
  Ã            :Subtract from 2
   Â©           :Logical AND with
    Ã’          :  Negation of bitwise NOT of
     ÃŸ         :  A recursive call to the programme with input
      UÃ±       :    U sorted
        Ã      :    By 0-based indices
         u     :    Modulo 2
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <s>28</s> 26 bytes</h1>

<p>-2 bytes thanks to Jonah!</p>

<pre><code> 1#@}.(\:2|#\)^:(2&lt;1{])^:a:
</code></pre>

<p><a href="https://tio.run/##bZTNalRBEIX3eYrCLJKADl3VXf1zURAEV65cR0HEELLxAdRnH79zB5wZcBHI3Oo6dfo7de/L8dXh7snebXZnr63Yxt@bg334/Onj0W/f/zncP27x@/bx4et2H2/91xf@@bYdH27s5sf355/2ZG5h9eqHNcvzg2px/tGpDx5NzixL82KXJ5NiUOrnh5OexsNFKTni5VxbVAf15ARjrmpJtVGvu2S/qp0GrdMom5f23E@uZE82sXsu89wXBZ9UfKDhXT2pnkaPVzkMWYHEfybymDM00O3/DOzCIQn0EL/s9EY3tcEluGOptsBRORq5H0/4IDaxQ6dLDOHGrFasIjC4F5YKDBGoMth2Cwk3zes2YCRHBYWGQuXyWBrFuu4BaQTkIuruMrksApNLkahcFBRko6LA6L6sFzqLLQTkIuJ0c7YDgdlsJJ1ijYJsVBQY3aclAgvOCMhF@A4ngYXAJFAAyEVBQTYqCoqCBUFgEQ4A5CLKDjzdGgKTLAEgFwUF2agoMLqzQspj2MS@XJCNMkkWAYHpBv6QC/iHbBDAzp/oEViEiH25IAChZ/non8WgHzIB/pCLKgEaeUfoX2ngD5mAP4OhD3wfrDvXlwfoh0xURUAjq0Q/SwD9kAfwMxf4VUvJ@8Lti/wjIBPQF3x2APjODgA/5AH6zIU96J0V6No87NMvD1UG6OONoJ0NAH3IAuy177yNtLMAgA/yB3zIQmg@fcUA7@QP@JAD15fB4V61/wzn5qQP9pADcWcs6afes2JTxpFwfVMc6tp6wgd6kD3QQw5EnVay19KTPdRjj15fIwe6dp7oYR4kD/OQA0GnleS18iQP9JADqEeW418" rel="nofollow noreferrer" title="J â€“ Try It Online">Try it online!</a></p>

<p>Inspired be Ven's APL solution.</p>

<h2>Explanation:</h2>

<pre><code>               ^:       ^:a:   while 
                 (2&lt;1{])       the 1-st (zero-indexed) element is greater than 2   
     (        )                do the following and keep the intermediate results
          i.@#                 make a list form 0 to len-1
        2|                     find modulo 2 of each element
      /:                       sort the argument according the list of 0's and 1's
1  }.                          drop the first row of the result
 #@                            and take the length (how many rows -&gt; steps)     
</code></pre>

<h1><a href="https://gitlab.com/n9n/k" rel="nofollow noreferrer">K (ngn/k)</a>, 25 bytes</h1>

<p>Thanks to ngn for the advice and for his K interpreter!</p>

<pre><code>{#1_{~2=x@1}{x@&lt;2!!#x}\x}
</code></pre>

<p><a href="https://tio.run/##VZTBbhsxDER/hUEObQ8FRFLUSmkL5EMK5JYcCuRswHB/3X2jDQrkZJsrDkdvuP7z/f3t/X5/fbo@@sv1b/y6PPvtenn@GQ8Pj5fb78vt/vrFvrqF5Q/bH9at9DUt9DGoHfyY1JeVeTsfFtWgNvRzcqzzc1EsHp6HFvWDJ8Uz1D6qRb3zJLfA@CS4Tkmb52T3PXBPlgOc6AEVX5R8UvODPh86XTrdOe0pD6GRXOmTPgWecpQ@/z9uS4aaUUL27PFOH9UDm/hvaYtLJoei9sHi1shMLNDjkkGyM6U3SwQOboGNBhkEUqb6Hl4w0aRhBxTkpaHQUUiuipmj2ZB3KCIgF5HbX3FBBCbXIRq5aCjIRqLA6LFsNDqbLQTkIuK8M9EiMLsdRafIoiAbiQKjx7RCYMEWAbkI31gKTAhMIgOAXDQUZCNREH5iR2ARCADkItpGXW4dgUlyAJCLhoJsJAqMHqyHkjhsYl8uSEVpFLEjMN3AH3IB/5ANAtj8iRuBRXzYlwsCEHrWi/7ZDPohE@APuUgJ0MiC07/KwB8yAX8GQx/4frDEXF8eoB8ykYqARpaIfpYA@iEP4Gcu8FOLyFvA7Zv8IyAT0Bd8dgD4zg4AP@QB@syFPeidFRjaOezTLw8pA/Sx/7SzAaAPWYC9dpx3jHYWAPBB/oAPWQjNp68Z4J38AR9y4HqtHe6pzWc4Nyd9sIcciDtjSb/0bjWbMo6E6w/Boa6tJ3ygB9kDPeRA1Gkley092UM9dvT6K3Gga@eJHuZB8jAPORB0WkleK0/yQA85gHpU@2b3fw" rel="nofollow noreferrer" title="K (ngn/k) â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, <s>35</s> <s>26</s> <s>23</s> 22 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">bytes</a><sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer" title=".dyalog files using a single byte character set">SBCS</a></sup></h1>



<pre class="lang-apl prettyprint-override"><code>{âµâ‰¡â³â‰¢âµ:0â‹„1+âˆ‡âµ[â’2|â³â´âµ]}
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///v/pR79ZHnQsf9W5@1LkIyLYyeNTdYqj9qKMdyIl@1DvJqAYk17sFyI2t/Z/2qG3Co96@R31TPf0fdTUfWm/8qG0ikBcc5AwkQzw8g/@nKWgY6hjrmOqY61jqGOmY6JjpWGhygUWNgOImQBkzoJyFjqUmAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) â€“ Try It Online">Try it online!</a></p>

<p>Thanks to AdÃ¡m for the help, Erik the Outgolfer for -3 and ngn for -1.</p>

<p>The TIO link contains two test cases.</p>

<p>Explanation:</p>

<pre class="lang-apl prettyprint-override"><code>{âµâ‰¡â³â‰¢âµ:0â‹„1+âˆ‡âµ[â’2|â³â´âµ]}
{âµâ‰¡â³â‰¢âµ:0â‹„1+âˆ‡âµ[â’2|â³â´âµ]} â function takes one argument: âµ, the array
 âµâ‰¡â³â‰¢âµ                 â if the array is sorted:
 âµâ‰¡â³â‰¢âµ                 â array = 1..length(array)
      :0               â then return 0
        â‹„              â otherwise
         1+            â increment
           âˆ‡           â the value of the recursive call with this argument:
            âµ[      ]  â index into the argument with these indexes:
                 â³â´âµ   â - generate a range from 1 up to the size of âµ
               2|      â - %2: generate a binary mask like [1 0 1 0 1 0]
              â’        â - grade (sorts but returns indexes instead of values), so we have the indexes of all the 1s first, then the 0s.
</code></pre>

<p><a href="https://github.com/vendethiel/trying.apl/blob/master/ex/stop-shuffling.dyalog" rel="nofollow noreferrer">Â¹</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, <s>62</s> <s>71</s> <s>70</s> 66 bytes</h1>

<p><em>+9 bytes when Test cases with an even number of elements added.</em></p>

<p><em>-1 byte with splatting.</em></p>

<p><em>-4 bytes: wrap the expression with <code>$i</code>,<code>$j</code> to a new scope.</em></p>



<pre class="lang-powershell prettyprint-override"><code>for($a=$args;$a[1]-2;$a=&amp;{($a|?{++$j%2})+($a|?{$i++%2})}){$n++}+$n
</code></pre>

<p><a href="https://tio.run/##XZTRbhMxEEXf8xUr2FaJ1pXssb3rBVX0PxBCEaSlKGpLEgRSmm8P5zokactDUWzfO9dnxvv0@GexWv9YLJf79ra5brb728fVtJ1ft/PV3fpjO/8cvlwZ/19fbll@/rTtuvbnhe1m3eFne991@rmbbduHrtt17cN@N5ncTCcN/9zUuyY4c3H25rdLLh/Xgtais7e/XXq10rMysF7Qji674I/bdhBkthG5/tV6QZhYH9nNnDrLorZHDgwcyRxSzfN20nbmQOJIrN79i@18Ljoeyrpy3OsPeUOoMWte5Sb/6UYVBH/DyGYo7IYBq9BLl6VL6EJUYlMusJ1qc/RFcbY4h4jlcMpSzU02eFLgrE41ekg4sD9wLS7uoxvBFDluuUoy3DAsxEIdZIh5ol7yLmIwcEeiedhiEBU01RgZmKrZuwFqSuVxSDhEQBBr8K7XfcCPgVJYrEkzl8agcDHarRQeB8WIOFC6H13vUXo3YqAUZofbM1IYlOSGjFLccVCMiAOl@@IyBiO8MVAKCxVQBhgGhRYDQCk8DooRcVBLGBwMRpoEAKUwX6Hn4BIGhb4CQCk8DooRcaB0z1ypJ4MrxFcK@qO@ZIYCgxIc@E0p4G@KQQMqf0YAg5FGEl8paIDQM47oi3fQN4UAvylFlAFCHhb6MTvwm0LAn8LQB34YeAZcXxmgbwoR1QKEjBN6hgD6pgzgpy7wo4aTd8TtvfJjoBDQF3xmAPiBGQC@KQP0qQt70AdGoNf0ER@9MkQFQMfrQM4EgN4UAfaae14pcgYA8Eb/AW@KYKqPzjvAB/oPeFOCoM9JgHvUG6A4N6f7YDclEHfK0v2s9@ZdUXAsgj5EAeqaepoPdKP3QDclEHWk9F5DT@@hbrX1@oQFoGvmaT3Mjc7D3JRA0JHSeY08nQe6KQHULfMMZ81zc9Fs63NsF3@fFt82i@@uaed8gduvh@XVYv17uWHhkg/zzbx536yflvPN5v7hrh54107/n7la/DqZzD4cle8mu/0/" rel="nofollow noreferrer" title="PowerShell â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://docs.microsoft.com/en-us/powershell/" rel="nofollow noreferrer">PowerShell</a>, <s>116 114 108 84</s> 78 bytes</h1>

<p>-24 bytes thanks to <a href="https://codegolf.stackexchange.com/users/41024/erik-the-outgolfer">Erik the Outgolfer</a>'s <a href="https://codegolf.stackexchange.com/a/181306/68224">solution</a>.</p>

<p>-6 bytes thanks to <a href="https://codegolf.stackexchange.com/users/80745/mazzy">mazzy</a>.</p>

<pre><code>param($a)for(;$a[1]-2){$n++;$t=@{};$a|%{$t[$j++%2]+=,$_};$a=$t.0+$t.1;$j=0}+$n
</code></pre>

<p><a href="https://tio.run/##HZLLaltBEER/ZgwStxKme94Igf/DmKCFQzCObRSBF7K/XTntzV1cqJrDqX5/@3g6//vz9PJyu72fzqe/u3Ta/3477w7p9GCPP3x/Ta/bdkiX4/31i5@fd9d0eUjP23bnj9tR6Vf8PabLz7zxsUN6PuavLb3ebrf7ncmqqbhsuHqR56JV5aXKvMm6rHXVIZtDY8ptyvKS10Uyq1AwTN1JuhYFpZAkTbg1VQpm1xgkKck0VBrKUskks7qRNC0KgsJJR7iqUjCbRidJSaYhMAoNPN2XeiaZtSgICidNuBVVCmbVaCQpyTQERqGBp/tUo2AtLQqCwiNN0lUpmEUDAUGRaQiMQgNP96FGwZqaCAgKJ024mSoF0zUQEBSZhsAoNPB072oUrKEJflAYacItC/02Tej3oMC/BwYDfPtvwr@tLvx7UDBAqF/Cvs0s7HtAoN@DokQBwSr022pCvwcE/nkY@8i3sYR8Dwbse0CUmIBgEfaNI8C@BwP6eRf5uDduAPeeg5@CgMB@yOcGkG/cAPI9GLDPu7hHvXECqHcuAPUeDCUAyJlQb1wA6j0QcM@zmEe8cQCId/ZHvAeCx/vkshBv7I94DwLM8yre0W7Mj3ZnfbR7EIR3nmV9tBvrzwCnAu9xdkVx9YyPdGd7pHsQhHWibB9Hz/ZY9@/pyZMjTZzpce4sj3MPgpBOlOXj5Fke6R4EWPeW9/8B" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 18 bytes</h1>

<pre><code>L?SIb0hys%L2&gt;Bb1
y
</code></pre>

<p><a href="https://tio.run/##K6gsyfj/38c@2DPJIKOyWNXHyM4pyZCr8v//aEMdYx1THXMdSx0jHRMdMx2LWAA" rel="nofollow noreferrer" title="Pyth â€“ Try It Online">Try it online!</a></p>

<p>-2 thanks to @Erik the Outgolfer.</p>

<p>The script has two line: the first one defines a function <code>y</code>, the second line calls <code>y</code> with the implicit <code>Q</code> (evaluated stdin) argument.</p>

<pre><code>L?SIb0hys%L2&gt;Bb1
L                function y(b)
 ?               if...
  SIb            the Invariant b == sort(b) holds
     0           return 0
      h          otherwise increment...
       y         ...the return of a recursive call with:
             B   the current argument "bifurcated", an array of:
              b   - the original argument
            &gt;  1  - same with the head popped off
          L      map...
         % 2     ...take only every 2nd value in each array
        s         and concat them back together
</code></pre>

<p><a href="https://github.com/vendethiel/trying.pyth/blob/master/stop-shuffling.pyth" rel="nofollow noreferrer">Â¹</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, <s>34</s> 32 bytes</h1>

<p><em>-2 bytes thanks to Jo King</em></p>



<pre class="lang-perl6 prettyprint-override"><code>{(.[(2 X**^$_)X%$_-1+|1]...2)-1}
</code></pre>

<p><a href="https://tio.run/##XZTNbhNBEITvPIUPATmhY013z68Q7xEpMhEHfAKBwikCnt18tcY5cPNOb1fXfNXrH1@ev/bzt5fdu9Pu4/nX/vC4j93D3d2nm6fbh7c3T/f@/rcfD4dD3N77n/PPzy@7057a7vT9@c2jW1ge7d8Pq9YuD2lx@dE5HzxOasuaebmcTyqV2qLaqF/PF5VBrVFF5PW8UanUkmpQv54nlUEtqHabl0Mv5otDn3T44AXv6mkyUHnTUyND@hj/T4oj6rxMp78qb6KhdrQQvnZ5pZPzgSsMl7TFvZLXom2vNi6K0MQGXS4hRCtzarFEYEAJKwUYCKSM1W18A4JmdRtcWm4KChWFXJbYGcW6/IMNAbmI3Bw2LonA5EIEIBcFBdlIFBjdl/VCZ7GFgFxEXG5NiAjMaqPRqcBQkI1EgdF9WkNgwRcBuQjfwDRAITBJCAByUVCQjURBEZA0AotQACAXUTbYza0iMNkUAMhFQUE2EgVGd/ZBWQyb2JcLclEerRj4fbqBP@QC/iEbBLDxJ3IEFgFiXy4IQOjZJvpnMeiHTIA/5CIlQCOrTP9qBv6QCfgzGPrA98Hecn15gH7IRCoCGlkj@lkC6Ic8gJ@5wE8tI4vP7Yv8IyAT0Bd8dgD4zg4AP@QB@syFPeidFejaOuzTLw8pA/TxcdDOBoA@ZAH22nM@K9pZAMAH@QM@ZCE0n75igHfyB3zIgesDdrindp/h3Jz0wR5yIO6MJf2m76vYlHEkXJ@@Q11bT/hAD7IHesiBqNNK9lp6sod6bNHrT8OBrp0nepgHycM85EDQaSV5rTzJAz3kAOrRyvHD@S8" rel="nofollow noreferrer" title="Perl 6 â€“ Try It Online">Try it online!</a></p>

<p>Similar to <a href="https://codegolf.stackexchange.com/a/181304/9296">Arnauld's approach</a>. The index of the second card after n shuffles is <code>2**n % k</code> with k defined as in Arnauld's answer.</p>
</div>
<div id="pu15" class="pu"><h1>R, 85 bytes</h1>
<pre><code>s=scan();u=sort(s);k=0;while(any(u[seq(s)]!=s)){k=k+1;u=as.vector(t(matrix(u,,2)))};k
</code></pre>
<p><a href="https://tio.run/##lZTNjtowFIX3fYpUs0lUt7Kv7cQRZdmnqLpACFrEDKgk9EejeXb6nQzMqN0UWIacc4@/c53DaV19fF@tj7vluNnv6k1TPVbDcrH762mzqe4@PRzvF@Nm9/X57/X@UI2rQQ9Ow1yP6mZ2nA/7w1gPzWw797Of3zb3q3qx@10fPw@r7zz@8nY@NM3jdr59F3h5MXz4sVqO@0M91g@L8bD5VR@ds6Zpnmbb09Obdb2sgzMXm@auuvXnX@UuuXyrxUUelef26eEsb5nfYVLI0Lvsgr/KLbxMz8gNcXtLCjvLC/MT8h6TjNmV0y/yHoMOi4wJHK6Vx7M8Y5CwiNMR2mvl6a@z98@nd@Xa8@cX8iFMwCfyaoAm/m/SnuXoQo8wFJShI0lo5ZnlmfAMUUBNWFiyy9GC/yc9f/ImMjzCy2Eme5MRrox41XeX@QkP3uggB3sfXU@TEYHlSZSpFstCNPRBltgnJibvIgYdDIjnqR@DqLBpCpLpU1Nb11GMcnkcEg4RUATrvGt1JjYAA6WwOGXNHByDwtFYbKXwOChGxIHRbe9aj9K7HgOlMHs@P5cQg5Jcl1GqFxwUI@LA6La4jEEPcwyUwsKEKIMMg8IWAUApPA6KEXFQLew2Bj1FAUApzE/Yc3AJg0LvAFAKj4NiRBwY3bLaaqVzhfhKQUNqJrM0GJTgwG9KAX9TDAqY@LMGGPRUSXyloAChZ@PRF@@gbwoBflOKKAOEfIrQ99mB3xQC/gyGPvBDx03l@MoAfVOIqAoQslDoWQLomzKAn7nAj1pQrjqn98qPgUJAX/DZAeAHdgD4pgzQZy7sQR9YgVb7R3z0yhAVAB23BzkbAHpTBNhr9/mQIGcBAG/0D3hTBNN8dN4BPtA/4E0Jgj7AAe5Rt4DhnJz2wW5KIO6Mpf2sO@ddUXAsgj7dAeraesoHutE90E0JRB0p3Wvp6R7qNlWvj34Aunae6mFuNA9zUwJBR0rzWnmaB7opAdQt6yKmfPoD" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation</strong></p>
<p>Stupid (brute force) method, much less elegant than following the card #2.</p>
<p>Instead of unshuffling the input <code>s</code> we start with a sorted vector <code>u</code> that we progressively shuffle until it is identical with <code>s</code>.  This gives warnings (but shuffle counts are still correct) for odd lengths of input due to folding an odd-length vector into a 2-column matrix; in that case, in R, missing data point is filled by recycling of the first element of input.</p>
<p>The loop will never terminate if we provide a vector that cannot be unshuffled.</p>
<p>Addendum: you save one byte if unshuffling instead. Unlike the answer above, there is no need to transpose with <code>t()</code>, however, ordering is <code>byrow=TRUE</code> which is why <code>T</code> appears in <code>matrix()</code>.</p>
<h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 84 bytes</h1>

<pre class="lang-r prettyprint-override"><code>s=scan();u=sort(s);k=0;while(any(s[seq(u)]!=u)){k=k+1;s=as.vector(matrix(s,,2,T))};k
</code></pre>
<p><a href="https://tio.run/##BcFNCsIwEAbQq0x3MzRIW/8Ww9zCnbgIJdASbTFfYhXx7PG9VCsMo19YtBjWlBmi0Trdpvke2C8fxhXhyUVujRWRb7TY9grz2L3CmNfED5/T/GY4N7iLyE9j7WlPRzrTQAc61T8" rel="nofollow noreferrer" title="R â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1>JavaScript (ES6), 44 bytes</h1>
<p><em>Shorter version suggested by <a href="https://codegolf.stackexchange.com/users/9296/nwellnhof">@nwellnhof</a></em></p>
<p>Expects a deck with 1-indexed cards as input.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(a,x=1)=&gt;a[x]-2&amp;&amp;1+f(a,x*2%(a.length-1|1))
</code></pre>
<p><a href="https://tio.run/##ndLNqsIwEAXgvU/hRmmuU@3kxzaL@iLiInjbqpRWVMSF715P7gURWiGaZUi@OTPJwV3deXvaHy9x0/4WXVfmkaNbziJfufVtE8vplGel3/uRk8jN66KpLruY7yxEt22bc1sX87qtojJaM0lSGyHGn63FYpyMhijSZD7jhilF8qtU3KeWyJUCzJDNkiFOAuRhKgOmwVmABmQoJfuUBZaCMwDRbDCl@pQBpsEpgBJkKKWHxm6AWDAaUBb2BKBMn@KE2ILiDNE4BctLH874J9DwWfkJSt87vs5/Zj/25H0sHMQtEPD4mfKvlPQoKqDci5V2Dw" rel="noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
<p>Given a deck <span class="math-container">\$[c_0,\ldots,c_{L-1}]\$</span> of length <span class="math-container">\$L\$</span>, we define:</p>
<p><span class="math-container">$$x_n=\begin{cases}
2^n\bmod L&amp;\text{if }L\text{ is odd}\\
2^n\bmod (L-1)&amp;\text{if }L\text{ is even}\\
\end{cases}$$</span></p>
<p>And we look for <span class="math-container">\$n\$</span> such that <span class="math-container">\$c_{x_n}=2\$</span>.</p>
<hr />
<h1>JavaScript (ES6), <s>Â 57 52Â </s> 50 bytes</h1>
<p>Expects a deck with 0-indexed cards as input.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(a,x=1,k=a.length-1|1)=&gt;a[1]-x%k&amp;&amp;1+f(a,x*-~k/2)
</code></pre>
<p><a href="https://tio.run/##ndK9TsMwFAXgvU/hhSoGO8n1T5MM7tiXqDpYJW0hIalohTIgXj0cg4SQEiQXb7bs7x5f@9m/@cv@9el8lV3/WI/jwSVeDI5E43za1t3xepL0Ttyt/ZZ2crhrlkt6OIRN9/KjyRQfN8wxz9yaYTV98edkCJOBSUacLxb7vrv0bZ22/THZJFsSSugd5@y2kWUsn6WEEfY2bp7SQv0rFU2pFXIVAEtkq4QVlEfI81QJzICrAFqQsZSaUhWwApwFiMtGU3pKWWAGnAaoQMZSZq7tFkgFxgAq454AlJ1SlAuqQFGJaFSApVUIZ8MTGPikQwdVuDu@znfm0Pb871jYiFMg4NFPyq9SKqCogHK/rGL8BA" rel="noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>Since JS is lacking native support for extracting array slices with a custom stepping, simulating the entire riffle-shuffle would probably be rather costly (but to be honest, I didn't even try). However, the solution can also be found by just looking at the 2nd card and the total number of cards in the deck.</p>
<p>Given a deck of length <span class="math-container">\$L\$</span>, this code looks for <span class="math-container">\$n\$</span> such that:</p>
<p><span class="math-container">$$c_2\equiv\left(\frac{k+1}{2}\right)^n\pmod k$$</span></p>
<p>where <span class="math-container">\$c_2\$</span> is the second card and <span class="math-container">\$k\$</span> is defined as:</p>
<p><span class="math-container">$$k=\begin{cases}
L&amp;\text{if }L\text{ is odd}\\
L-1&amp;\text{if }L\text{ is even}\\
\end{cases}$$</span></p>
</div>
<div id="pu17" class="pu"><h1>C (GCC) <s>64</s> 63 bytes</h1>

<p>-1 byte from nwellnhof</p>

<pre><code>i,r;f(c,v)int*v;{for(i=r=1;v[i]&gt;2;++r)i=i*2%(c-1|1);return~-r;}
</code></pre>

<p>This is a drastically shorter answer based on Arnauld's and Olivier GrÃ©goire's answers. I'll leave my old solution below since it solves the slightly more general problem of decks with cards that are not contiguous.</p>

<p><a href="https://tio.run/##dZPNahtBEITvfgphMEh2GaZ7dnZmWJQXUXwISmR0iBIWx/gnzqsrXy8k4IN1XFHVxVc1@9v7/f58PmqeDuu9HjfH08P14/R6@DGvj9t5a9Pj7nj3yaebm3lz3B6v/Wq9v7Xftpnmbw@/5tOf23l6O6Naff9yPK03q9eLFb/48LTzku5W29WryQZTdll1jVmesvogz4PMi2yUlVFDlbWq2uTWZKnLh44yKWNQTaOjdHUMckaJGnEpGjBoo2pFiUnCYcAhd@WEMmk0lKaOQaRw1CEeNGDQiuqIEpOEQ8TIOHB67BoTyqSOQaRw1IhL1oBBG1QLSkwSDhEj48Dpsalg0Ls6BpHCQ43SNWDQsioAIkXCIWJkHDg9VhUMelMDQKRw1IiLacCguSoAIkXCIWJkHDg9jioY9KpG/EhhqBGXJPBbM4HfIwX8PWJQwMK/CP7WR8HfIwUFBPou6FtLgr5HCPB7pMhhgHAQ@K0Xgd8jBPw5DH3gW@0CvkcG6HuEyFEBwizoGyOAvkcG8HMX@LA3NgB7T5EfgwgB/YDPBoBvbAD4Hhmgz13Yg96YAOidBYDeI0OOAOhMoDcWAHqPCLDnLOQBbwwA8E7/gPeI4HEfXRLgjf4B75EA8lyFO9iN@sHutA92jwTBnbO0D3aj/RbBsYB7zC4rVk/5QHe6B7pHgqCOlO5j9HQPdV@qR48ONXKqh7nTPMw9EgR0pDQfk6d5oHskgDrv721a3uPPmRd5WF9eff18utRhzT962mymi/@v9Xnn/x4r3dBFX1aXlzcWsyIFoaPdtCx5WN5twP7oRtLzuxMvu/ruwmL4gbjqJbRv578" rel="nofollow noreferrer">Try it online</a></p>

<hr>

<h1>C (GCC) 162 bytes</h1>

<pre><code>a[999],b[999],i,r,o;f(c,v)int*v;{for(r=0;o=1;++r){for(i=c;i--;(i&amp;1?b:a)[i/2]=v[i])o=(v[i]&gt;v[i-1]|!i)&amp;o;if(o)return r;for(i+=o=c+1;i--;)v[i]=i&lt;o/2?a[i]:b[i-o/2];}}
</code></pre>

<p><a href="https://tio.run/##dZPNahtBEITvfgphMEh2GaZ7dnZmWJQXUXwISmR0iBIWx/gnzqsrXy8k4IN1XFHVxVc1@9v7/f58PmqeDuu9HjfH08P14/R6@DGvj9t5a9Pj7nj3yaebm3lz3B6v/Wq9v7Xftpnmbw@/5tOf23l6O6Naff9yPK03q9eLFb/48LTzku5W29WryQZTdll1jVmesvogz4PMi2yUlVFDlbWq2uTWZKnLh44yKWNQTaOjdHUMckaJGnEpGjBoo2pFiUnCYcAhd@WEMmk0lKaOQaRw1CEeNGDQiuqIEpOEQ8TIOHB67BoTyqSOQaRw1IhL1oBBG1QLSkwSDhEj48Dpsalg0Ls6BpHCQ43SNWDQsioAIkXCIWJkHDg9VhUMelMDQKRw1IiLacCguSoAIkXCIWJkHDg9jioY9KpG/EhhqBGXJPBbM4HfIwX8PWJQwMK/CP7WR8HfIwUFBPou6FtLgr5HCPB7pMhhgHAQ@K0Xgd8jBPw5DH3gW@0CvkcG6HuEyFEBwizoGyOAvkcG8HMX@LA3NgB7T5EfgwgB/YDPBoBvbAD4Hhmgz13Yg96YAOidBYDeI0OOAOhMoDcWAHqPCLDnLOQBbwwA8E7/gPeI4HEfXRLgjf4B75EA8lyFO9iN@sHutA92jwTBnbO0D3aj/RbBsYB7zC4rVk/5QHe6B7pHgqCOlO5j9HQPdV@qR48ONXKqh7nTPMw9EgR0pDQfk6d5oHskgDrv721a3uPPmRd5WF9eff18utRhzT962mymi/@v9Xnn/x4r3dBFX1aXlzcWsyIFoaPdtCx5WN5twP7oRtLzuxMvu/ruwmL4gbjqJbRv578" rel="nofollow noreferrer">Try it online</a></p>

<pre><code>a[999],b[999],i,r,o; //pre-declare variables
f(c,v)int*v;{ //argument list
    for(r=0;o=1;++r){ //major loop, reset o (ordered) to true at beginning, increment number of shuffles at end
        for(i=c;i--;(i&amp;1?b:a)[i/2]=v[i]) //loop through v, split into halves a/b as we go
            o=(v[i]&gt;v[i-1]|!i)&amp;o; //if out of order set o (ordered) to false
        if(o) //if ordered
            return r; //return number of shuffles
        //note that i==-1 at this point
        for(i+=o=c+1;i--;)//set i=c and o=c+1, loop through v
            v[i]=i&lt;o/2?a[i]:b[i-o/2];//set first half of v to a, second half to b
    }
}
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>58</s> <s>55</s> 45 bytes</h1>



<pre class="lang-r prettyprint-override"><code>a=scan();while(a[2]&gt;2)a=matrix(a,,2,F&lt;-F+1);F
</code></pre>

<p><a href="https://tio.run/##nZTNattAFIX3fQpBNhadwNw7M9KIJN3VL1G6ECZuBYkDjkMLpc/ufkf@CemmTrNUfM499ztX2u7Xze11s37ZrHbT02Yxtc2v5nk1bt48bafm6vPjy8O4mzbfDv9eP22b3f2zHuzHOz1atDc/vk8P94vxi3/95O149zjuttPPxRiCh@Xt9fKjtTfL/e8P68VqYTxLbXvVvPcvvspDDuW9Fid5Cv4/0@0o75jfY1LJMIQSLF7kZufpBbkj7t6Two/yyvyMfMCkYHbh9JN8wKDHomACh0vl6SgvGGQs0rxCd6k8v9l9OGwf6qX7lzN5sxn4TF4N0MS/TbqjHJ0NCK2itJ4k1smzyDPjaUlAXVg4stNqFv9Kzz/5JTI87LzMbO8ywpURr/r@ND/jwS96yME@pjDQZELgZRYVqsWyEg29yRL7zMQcQ8KghwHxIvVjkBQ2z0EKfWpqF3qKUa6IQ8YhAYpgfQydduICMFAKT3PWwuIYVFbjsJUi4qAYCQdGd0PoIsoYBgyUwv2wPy8hBjWHvqBULzgoRsKB0V0NBYMB5hgohduMqIAMg8oVAUApIg6KkXBQLdw2BgNFAUApPM7Yi4WMQaV3AChFxEExEg6M7jhttdKHSnyloCE1UzgaDKoF8LtSwN8VgwJm/pwBBgNVEl8pKEDouXj0NQbou0KA35UiyQAhnyL0Qwngd4WAP4OhD3zreVNZXxmg7wqRVAFCDgo9RwB9VwbwMxf4SQfKq872UfkxUAjoCz43AHzjBoDvygB95sIe9MYJdLo/4qNXhqQA6Hh7kHMBoHdFgL1unw8Jcg4A8E7/gHdFcM1HFwPgjf4B70pg@gAb3JPeAoazOe2D3ZVA3BlL@0XvXAxVwbEwfboN6rp6yge60z3QXQlEHSnd6@jpHuo@V6@PvgFdN0/1MHeah7krgaAjpXmdPM0D3ZUA6l70Iuay/wM" rel="nofollow noreferrer" title="R â€“ Try It Online">Try it online!</a></p>

<p>Simulates the sorting process. Input is 1-indexed, returns <code>FALSE</code> for 0.</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>70</s> 72 bytes</h1>



<pre class="lang-r prettyprint-override"><code>x=scan();i=0;while(any(x&gt;sort(x))){x=c(x[y&lt;-seq(x)%%2&gt;0],x[!y]);i=i+1};i
</code></pre>

<p><a href="https://tio.run/##FctLCsIwFAXQrVwHhQQVctM/Md1I6aCUggGp2Ai@IK496vTA2XMWH5d5U9oFb9zrGm6rmrekZIj3/alEa/0WvygZ0@Uc18dPisIOZjrJeEjTv4UjPy5kokSNFj1IsARrsAV7WFRo0IEGtGAFNmAHa/IX" rel="nofollow noreferrer" title="R â€“ Try It Online">Try it online!</a></p>

<p>Now handles the zero shuffle case. </p>
</div>
<div id="pu20" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 42 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>f=-&gt;d,r=1{d[r]&lt;3?0:1+f[d,r*2%(1|~-d.max)]}
</code></pre>
<p><a href="https://tio.run/##XZDLCsIwEEX3foUbwcconaTpQ6x@SMhCKd0JUhAqrf56PanowlWSe@aehLT3y2Mcm2p7rKWttK99Gw72lOx103iitVksdXht69313K3Cc/RexYgN8lklFTftrZhpzUhzTgWkFCeaBJmRF5AUVkIdPObEJSAHOSCKb@wAKcgCDfhrsZAcZqCZFNOsJqIlmRYUNIdrFisu3p4yqDbeZ6KdN/@ZiOAM09SfeJKaWMeFmFbgB2790A23ue@k8V3gN94" rel="nofollow noreferrer" title="Ruby â€“ Try It Online">Try it online!</a></p>
<h3>How:</h3>
<p>Search for number 2 inside the array: if it's in second position, the deck hasn't been shuffled, otherwise check the positions where successive shuffles would put it.</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 39 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda x:x[1]-2and-~f(x[::2]+x[1::2])
</code></pre>

<p><a href="https://tio.run/##HZJLaltRFAS34qFM2nDPuX9DViI0UDAihkQxQQFlkq0r1R49eNB9i@rz8ff2/dc1H4/L1x/nn9/ezk/31/sxTi95vr69/Lsc7sfX1zx94Z@/z4@P3@/X29Pl8H79@HM7PD8/jqFooZqKmRpVWap2U9amyK4Yij7UpmJNzaWMpShb2TbJokrBDI0kmdoU1EqSNOHe1ShYQ3OSpKTQ0GioW7WQLBpBMrQpMEWSdripUbC65iBJSaHBGJUGnh5bo5As2hSYIkkT7lWNgtU0O0lKCg3GqDTw9FjqFOytTYEp0mmSqUbBqpoIMEWhwRiVBp4eU52CvbQQYIokTbiHGgUrNRFgikKDMSoNPD2GOgV7aoFviiBNuBehP1YI/WkK/KcxGODTfxf@Yw/hP03BAFa/hf1YRdhPQ6A/TVFdQLAJ/bG70J@GwD8PYx/5MbeQn2bAfhqiegKCVdgPjgD7aQb08y7ycR/cAO6zmJ8CQ2Df8rkB5Ac3gPw0A/Z5F/eoD04A9ckFoD7NUA1ALoT64AJQn0bAPc9iHvHBASA@2R/xaYT0@@SKEB/sj/g0AeZ5Fe9oD@ZHe7I@2tME9s6zrI/2YP1lcCrw7rOr8tUzPtKT7ZGeJrB1omzvo2d7rOfn9OTJkSbO9DhPlsd5msDSibK8T57lkZ4mwHr2cvoP" rel="nofollow noreferrer" title="Python 2 â€“ Try It Online">Try it online!</a></p>

<p>-4 thanks to <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">Jonathan Allan</a>.</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, <s>36 34</s> 32 bytes</h1>

<p><em>-2 bytes thanks to nwellnhof</em></p>



<pre class="lang-perl6 prettyprint-override"><code>$!={.[1]-2&amp;&amp;$!(.sort:{$++%2})+1}
</code></pre>

<p><a href="https://tio.run/##lZQxb1NBEIRr/CscyUQxXpzbvbv37pAoKOioaRwXKYKEFAiyaZDl326@eRYIUdkpnZvZuW/23o@n3fNwOi1u3h/WG9@@jdvbxc3dev@y@/nusFitXsdxufLj6cvLbn73/PX70345P8xe7R9/zTn37f5hs37zsL1ff/z84dNydjxt3MLydn7tX5qdlVasbq9XZovrZ7qUA1NH9I3J3ap52l6obGgL6o6@4nCRMqTsaEfUFT3JL1NmKSvagjqjDxwuUpYzoYqmoyro2mW0qpSezDtKbwz2ERcfNLqKVsHOs24fuggdnhN5@ncov3MIBXL/m2FyDnlgiPsf6ThNLcj558g1YZSydWBnzkadzlfo49YIhNTlhnNhWEmWMRgpl1CJhjDIilimDBXuGjjYCEVFSjgUHHK3TKYx2aCb0BQGShF5ilm5LgaNW7E3SpFwUIyMA6OHbkNCmaxjoBQR56uz2Ri0YmNFqT3DQTEyDowemlUMOqQxUIrwiU6FFgaNygGgFAkHxcg4qAzWD4NOPQBQikgT8epWMGgsOACUIuGgGBkHRg@soAoZrRFfKShHpdRk4PfmBv5QCviHYlDAxJ/yMei0SHyloAChZz3Rt2TQD4UAfyhFlgFC3jf6Xg38oRDwZzD0ge8jj4nrKwP0QyGyKkDILqFnCaAfygB@5gI/ay15jdw@KT8GCgF9wWcHgO/sAPBDGaDPXNiD3lmBQatHfPTKkBUAHa8NORsA@lAE2GvjeevIWQDAB/0DPhQhNB9dMsA7/QM@lMD1VXO4Zz0AhnNz2gd7KIG4M5b2q15asqbgWLi@hw51bT3lAz3oHuihBKKOlO619HQP9Ziq15fUga6dp3qYB83DPJRA0JHSvFae5oEeSgD1qP99UEr9DQ" rel="nofollow noreferrer" title="Perl 6 â€“ Try It Online">Try it online!</a></p>

<p>Reverse riffle shuffles by sorting by the index modulo 2 until the list is sorted, then returns the length of the sequence.</p>

<p>It's funny, I don't usually try the recursive approach for Perl 6, but this time it ended up shorter than the original.</p>

<h3>Explanation:</h3>

<pre class="lang-perl6 prettyprint-override"><code>$!={.[1]-2&amp;&amp;$!(.sort:{$++%2})+1}
$!={                           }   # Assign the anonymous code block to $!
    .[1]-2&amp;&amp;                       # While the list is not sorted
            $!(             )      # Recursively call the function on
               .sort:{$++%2}       # It sorted by the parity of each index
                             +1    # And return the number of shuffles
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, <s>87</s> <s>79</s> 78 bytes</h1>

<pre><code>func[b][c: 0 while[b/2 &gt; 2][c: c + 1 b: append extract b 2 extract next b 2]c]
</code></pre>

<p><a href="https://tio.run/##bZTNjhoxEITv@xR9zyHutj1jc8hD5IrmsPwpK0UIIaLk7clXJkJAdk4wdlWXv27Peb@7ft/v1svbYXU9/Dpu15tlvV1Zst8/Pn7u15uvYd8sxrutfTG3zcreT6f9cWf7P5fz@/ZiG4v77yM/9GLZLtfT@eN4sYOtnQ15eXv@b8XqYjyP7zNK@/c8vp9QzKw2VN2qeVpehZUNwfL0VKghLbzvrFZ2IXxc7myY2VLZRO3X5cqGwpY8vKfX5VvRfitrbfkvtPvIOkIrPIe4H@/z51GP0DtKb0h9ppRPMq0yLZh61olCuUGaFvuMSdciO5Hh4fe0wz5khCslpH@qXnBgfebgoEnZOiAz26MOSYUsho1gqF2GmBfqlWQZgxkEhEvQxyArahkxKrhVc7IZrkqVcCg4ZDgRa0426UQ0CAOliDySVo6NQeNgjIRSJBwUI@NA6anblFAm6xgoRcTt9AwcBq3YXFGqLTgoRsaB0lOzikGHOAZKET4AVYBh0BgCAChFwkExMg5qCqOFQadNAFCKSAN6dSsYNNoOAKVIOChGxoHSE5OnnszWiK8U9Ed9qcwMBs0N/KEU8A/FoAGDP0OAQaeRxFcKGiD0DCz6lgz6oRDgD6XIMkDItUPfq4E/FAL@FIY@8H3monB8ZYB@KERWCxAyTugZAuiHMoCfusDPGk9uGqdPyo@BQkBf8JkB4DszAPxQBuhTF/agd0Zg0vQRH70yZAVAx@VBzgSAPhQB9pp87jFyBgDwQf8BH4oQqo8uGeCd/gM@lMD1sXG4Z90BinNyug/2UAJxpyzdr7pxyZqCY@H6TDnUNfU0H@hB74EeSiDqSOm9hp7eQz1G6/WBc6Br5mk9zIPOwzyUQNCR0nmNPJ0HeigB1KPyibn@BQ" rel="nofollow noreferrer" title="Red â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu24" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 8 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Å’Å“áº$Æ¬iá¹¢â€™
</code></pre>
<p><strong><a href="https://tio.run/##BcGxFUAwGIXRZZRf4YVIMoujVHAsoDOBgkqrtgA9e7DI796@HYbR7F7u9b3m7Dm699y/aTOzWhR4AgkJFcijgBKOkoqIcuRQiSoUcXnzAw" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>Å’Å“áº$Æ¬iá¹¢â€™ - Link: list of integers A
    Æ¬    - collect up until results are no longer unique...
   $     -   last two links as a monad:
Å’Å“       -     odds &amp; evens i.e. [a,b,c,d,...] -&gt; [[a,c,...],[b,d,...]]
  áº      -     tighten                         -&gt; [a,c,...,b,d,...]
     á¹¢   - sort A
    i    - first (1-indexed) index of sorted A in collected shuffles
      â€™  - decrement
</code></pre>
</div>
<div id="pu25" class="pu"><h1>Python 3, 40 bytes</h1>

<pre><code>f=lambda x:x[1]-2and 1+f(x[::2]+x[1::2])  # 1-based
f=lambda x:x[1]-1and 1+f(x[::2]+x[1::2])  # 0-based
</code></pre>

<p><a href="https://tio.run/##bZTRahsxEEXf/RV6jMkUNKPVrmTwlxg/uKShgdYJcR7s/rx7rgzFKQkLwZLmztW5s/t2@fj5eizX6/mUtmm3cwsre1ul8Xf7aZPV@6Vicf9z5szCYuNct2qePx@u7AZ78/1yo2xiubNZOfS5qLO/cKJyhm7/7Vb2J06UITx/2bDfWlr77NR9GBxO5Rjn9wfY8c6WN/Z8QcdnVVVVTVR5kdeQJdB82ZcNTlFCvf@zMaRDIigif1c7Gk8IsL1wHy6ci3XoFE5HHRUVXOg1PFHs0kN7ot2UrSCwcD18ZZAiUORyGi4qENVytgVcMpVRmFAoMMDVkm3WZcCOgFxEGUYrN0agcS8ylouMgmwUFGg9d5szldk6AnIRcbs8M4NAm2ypVAo5CrJRUKD13Kwi0IGNgFyEDz4VXgg0sgWAXGQUZKOgoDyYFwQ6CQFALiIP5tVtQqARKQDkIqMgGwUFWs/MkyJZrGFfLohHsVTmAYHmBv6QC/iHbBDA4E/@CHRyxL5cEIDQM4fUt2zQD5kAf8hFkQCFvDnU92rgD5mAP42hD3xfmH6uLw/QD5koioBCpol6hgD6IQ/gpy/wiyaT14fbZ/lHQCagL/jMAPCdGQB@yAP06Qt70DsjMGv4sE@9PBQZoI4Xg3ImAPQhC7DX0PNyUs4AAD7IH/AhC6H@1GUDvJM/4EMOXN8Lh3vRK0Bzbk76YA85EHfakn7Vy5atyTgSri@NQ11TT/hAD7IHesiBqFNK9hp6sod6jOj1jXKga@aJHuZB8jAPORB0SkleI0/yQA85gHrUvN@vVofj@PZlSzw@nhhPsTRZqpZmFrW3sFCpeN7@Ovz@/nRI58155/tvcTg@JX98fjjvNpvYP7Ko/2tOvr6ns6VLejmmPy9vD@eTJfqtN@PlP5xOP94/EnXrtN2mC4vX618" rel="nofollow noreferrer" title="Python 3 â€“ Try It Online">Try it online!</a></p>

<p>I need to refresh the page more frequently: missed Erik the Outgolfer's edit doing a similar trick =)</p>
</div>
<div id="pu26" class="pu"><h1>APL(NARS), chars 49, bytes 98</h1>
<pre><code>{0{âˆ§/Â¯1â†“âµâ‰¤1âŒ½âµ:âºâ‹„(âº+1)âˆ‡âµ[d],âµ[iâˆ¼dâ†â†‘Â¨iâŠ‚â¨2âˆ£iâ†â³â‰¢âµ]}âµ}
</code></pre>
<p>why use in the deepest loop, one algo that should be nlog(n), when we can use one linear n? just for few bytes more?
[âµâ‰¡âµ[â‹âµ] O(nlog n) and the confront each element for see are in order using âˆ§/Â¯1â†“âµâ‰¤1âŒ½âµ O(n)]test:</p>
<pre><code>  fâ†{0{âˆ§/Â¯1â†“âµâ‰¤1âŒ½âµ:âºâ‹„(âº+1)âˆ‡âµ[d],âµ[iâˆ¼dâ†â†‘Â¨iâŠ‚â¨2âˆ£iâ†â³â‰¢âµ]}âµ}
  f ,1
0
  f 1 2 3
0
  f 1,9,8,7,6,5,4,3,2,10
3
  f 1,3,5,7,9,11,13,15,17,19,2,4,6,8,10,12,14,16,18,20
17
</code></pre>
</div>
<div id="pu27" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 62 bytes</h1>
<pre><code>c=0;While[Sort[a]!=a,a=a[[1;;-1;;2]]~Join~a[[2;;-1;;2]];c++];c
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2hbbaijYKajYAikTIGUgY6CiY6CpY6CsY6ChY6CkY6Cee3/ZFsD6/CMzJzU6OD8opLoxFhF20SdRNvE6GhDa2tdIDaKja3zys/MqwMKGcGFrJO1tYHE/4CizLyS6OTY/wA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) â€“ Try It Online">Try it online!</a></p>
<h1>Explanation</h1>
<p>The input list is <code>a</code> . It is unriffled and compared with the sorted list until they match.</p>
</div>
<div id="pu28" class="pu"><h1><a href="http://jdk.java.net/" rel="nofollow noreferrer">Java (JDK)</a>, 59 bytes</h1>



<pre class="lang-java prettyprint-override"><code>a-&gt;{int c=0;for(;a[(1&lt;&lt;c)%(a.length-1|1)]&gt;2;)c++;return c;}
</code></pre>

<p><a href="https://tio.run/##bVJNa8JAEL37K4aCkNQ1uDFR06jgpdBDT@1NPGyjsbFxE7IbQWx@u327EdG2B5GZ90lmd@Ig@rv11znbl0WlaYfZq3WWe49x588urWWis0IaMMmFUvQqMkmnDlFZf@RZQkoLjb9Dka1pD8x501Umt8sViWqrXEslei9epH6@mE0zqZerOaU0O4v@/ISRktkgTovKicXS4dNp4nYd4eUbudWfff7N3dXcj92k14urja4rSUncnGNrbc0QpzdKK5pdAolOnPls2LC7kQUsvF0NmX87jsAZYzkBL2Ih44N7cgjUBza6XU8gC7COAIYg3Ysi4GMwQnCQ9gsNgQdgDK3x6N/AqI1kk/umnNuCtqlpjOa3BCA8AsQnwPgYPnxkVKFRBVDxoenqm0r4NP/mAgALEuj5tYa19o0JHGF/1TbtQcwZ7VHsSZ7aw7jXu7wdld7svaLWXomXolPnodsPB@qJuuuufGC0qCpxVJ4u2pfkGL3LKPVEWebHhcJLandum9d0zK85/wA" rel="nofollow noreferrer" title="Java (JDK) â€“ Try It Online">Try it online!</a></p>

<p>Works reliably only for arrays with a size less than 31 or solutions with less than 31 iterations. For a more general solution, see the following solution with 63 bytes:</p>

<pre class="lang-java prettyprint-override"><code>a-&gt;{int i=1,c=0;for(;a[i]&gt;2;c++)i=i*2%(a.length-1|1);return c;}
</code></pre>

<p><a href="https://tio.run/##bVLPT8IwFL7zV7yYkGxaFjoYMOdIvJh48KQ3wqEOhsXRLWtnQnB/O37tCAH1QMh738/sdSu@xGC7@jzKXVXWhraYg8bIIrhNen92eaMyI0tlwawQWtOLkIoOPaKqeS9kRtoIg7@vUq5oB8x7NbVUm8WSRL3RvqMSvZXPyjydzB6kMovlnHJKj2IwP2AkmXKWpcMkL2svEQu5nIdJdnfny1Tehn1PBMVabczHgH9zP6nXpqkVZUl7TJy9M0SkWWujKT2FEh04C9moZVcjG7PocjVi4eU4AWeK5Qy8mEWMD6/JEdAQ2ORyPYNsjHUMMALpWhQDn4IRgYO0X2gEfAzGyBlP/g2Mu0g2u27KuSvomtrGaH5JAMJjQHwGjE/hwydWFVnVGCo@sl1DWwmf5t9cAGBBAj0/13DWoTWBI@zP2rY7iD2jO4o7yX13GP98l9e9NutdUDYmqPBaTO7d9AfRUN9Tf9VXN4we61rsdWDK7jV5Vu8zygNRVcX@UeM1dTu/y2t79tcefwA" rel="nofollow noreferrer" title="Java (JDK) â€“ Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<p>In a riffle, the next position is the previous one times two modulo either length if it's odd or length - 1 if it's even. </p>

<p>So I'm iterating over all indices using this formula until I find the value 2 in the array.</p>

<h2>Credits</h2>

<ul>
<li>-8 bytes thanks to <a href="https://codegolf.stackexchange.com/users/52210/kevin-cruijssen">Kevin Cruijssen</a>. (Previous algorithm, using array)</li>
<li>-5 bytes thanks to <a href="https://codegolf.stackexchange.com/users/58563/arnauld">Arnauld</a>.</li>
</ul>
</div>
<div id="pu29" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/tree/fb4a2ce2bce6660e1a680a74dd61b72c945e6c3b" rel="nofollow noreferrer">05AB1E (legacy)</a>, 9 bytes</h1>

<pre><code>[DÄQ#Î¹Ëœ]N
</code></pre>

<p><a href="https://tio.run/##HZK7bR1AEAOLUcrglvfPFRtQLLzABlSI@nAjzp0ZUEvPQ4UXkDcYbps/f9XH8/n@@vfz7eXrz7/fjx@8SjVK3aptrS63rjvkPlSeqqWaS2OrztY@ch1Vu/K4JJs6Bbu0TNK6FPROkjThOTUoOEt7k6Sk0TBo6Fe9kWxaRbJ0KQiFSSc8NCg4U3uRpKTREIxOA1@vq9VINl0KQmHShGfXoOAM7UmSkkZDMDoNfL2OJgX36lIQCidN0hoUnK6NgFA0GoLRaeDrtTUpuEcHAaEwacKzNCg41kZAKBoNweg08PVamhTcrQN@KIo04dmE/jol9DsU@HcwGODb/xT@6y7h36FggKi/wn6dJuw7EOh3KHoKCA6hv@4U@h0I/PMx9pFf@wr5DgP2HYieCQh2Yb84Auw7DOjnX@TjvrgB3LuFn4JAYD/yuQHkFzeAfIcB@/yLe9QXJ4B6cwGodxh6AMiVUF9cAOodBNzzLeYRXxwA4s3@iHcQnP/JNSG@2B/xDgHm@RXvaC/mR7tZH@0OQbzzLeujvVj/BJwKvOfsunL1jI90sz3SHYJYJ8r2OXq2x7q/pydPjjRxpse5WR7nDkGkE2X5nDzLI90hwLpne/wH" rel="nofollow noreferrer" title="05AB1E (legacy) â€“ Try It Online">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>[   #  ]     # loop until
  Ä          # the 1-indexed enumeration of the current list
 D Q         # equals a copy of the current list
     Î¹Ëœ      # while false, uninterleave the current list and flatten
        N    # push the iteration index N as output
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/181299/">181299</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




