<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::58692</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>261</td><td>Swift 5.9</td><td>240402T182148Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/272260#272260">macOSist</a></td></tr>
<tr d-ix="1"><td>274</td><td>Excel</td><td>220206T164518Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/242433#242433">Axuary</a></td></tr>
<tr d-ix="2"><td>451</td><td>Ceylon</td><td>150927T195539Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58825#58825">Paŭlo Eb</a></td></tr>
<tr d-ix="3"><td>438</td><td>Whispers v2</td><td>180429T192355Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/163743#163743">user8023</a></td></tr>
<tr d-ix="4"><td>360</td><td>ES6</td><td>160115T122723Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/69472#69472">Neil</a></td></tr>
<tr d-ix="5"><td>266</td><td>Python 2</td><td>150925T120645Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58701#58701">Zach Gat</a></td></tr>
<tr d-ix="6"><td>304</td><td>PowerShell</td><td>150925T141113Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58716#58716">AdmBorkB</a></td></tr>
<tr d-ix="7"><td>236</td><td>R</td><td>150929T083823Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58991#58991">plannapu</a></td></tr>
<tr d-ix="8"><td>410</td><td>JavaScript</td><td>150925T161528Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58724#58724">Diego To</a></td></tr>
<tr d-ix="9"><td>418</td><td>VBA</td><td>150925T140112Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58713#58713">JimmyJaz</a></td></tr>
<tr d-ix="10"><td>091</td><td>PHP</td><td>150926T105929Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58782#58782">insertus</a></td></tr>
<tr d-ix="11"><td>313</td><td>Ruby</td><td>150925T115528Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58698#58698">Caridorc</a></td></tr>
<tr d-ix="12"><td>465</td><td>JavaScript ES6</td><td>150925T120148Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58699#58699">Zach Gat</a></td></tr>
<tr d-ix="13"><td>374</td><td>C</td><td>150925T121135Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58702#58702">Level Ri</a></td></tr>
<tr d-ix="14"><td>403</td><td>Bash 440 430 412 405</td><td>150927T152203Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58815#58815">Adam</a></td></tr>
<tr d-ix="15"><td>271</td><td>Python 3</td><td>150925T111806Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58693#58693">Blue</a></td></tr>
<tr d-ix="16"><td>194</td><td>MATLAB</td><td>150925T211026Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58741#58741">rayryeng</a></td></tr>
<tr d-ix="17"><td>242</td><td>Groovy</td><td>150926T052238Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58767#58767">Kleyguer</a></td></tr>
<tr d-ix="18"><td>594</td><td>Java</td><td>150928T022339Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58855#58855">intrepid</a></td></tr>
<tr d-ix="19"><td>049</td><td>Pyth</td><td>150925T120527Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58700#58700">Maltysen</a></td></tr>
<tr d-ix="20"><td>073</td><td>Perl</td><td>150925T225208Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58750#58750">Jarmex</a></td></tr>
<tr d-ix="21"><td>nan</td><td>Common Lisp</td><td>150925T123615Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58705#58705">coredump</a></td></tr>
<tr d-ix="22"><td>232</td><td>Julia</td><td>150925T161917Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58725#58725">Alex A.</a></td></tr>
<tr d-ix="23"><td>000</td><td>Lenguage</td><td>150926T033659Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58760#58760">Dennis</a></td></tr>
<tr d-ix="24"><td>279</td><td>JavaScript</td><td>150925T142819Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58719#58719">edc65</a></td></tr>
<tr d-ix="25"><td>098</td><td>C</td><td>150926T010300Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58754#58754">Tob Erna</a></td></tr>
<tr d-ix="26"><td>320</td><td>Matlab</td><td>150925T211503Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58742#58742">Luis Men</a></td></tr>
<tr d-ix="27"><td>279</td><td>R</td><td>150925T223301Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58747#58747">MickyT</a></td></tr>
<tr d-ix="28"><td>247</td><td>Ruby</td><td>150925T215450Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58745#58745">Level Ri</a></td></tr>
<tr d-ix="29"><td>103</td><td>Stuck</td><td>150925T204237Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58740#58740">Kade</a></td></tr>
<tr d-ix="30"><td>295</td><td>PowerShell</td><td>150925T162629Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58727#58727">Forty3</a></td></tr>
<tr d-ix="31"><td>391</td><td>CoffeeScript</td><td>150925T164804Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58731#58731">rink.att</a></td></tr>
<tr d-ix="32"><td>292</td><td>Haskell</td><td>150925T154400Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58723#58723">nimi</a></td></tr>
<tr d-ix="33"><td>031</td><td>CJam</td><td>150925T150722Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58721#58721">Dennis</a></td></tr>
<tr d-ix="34"><td>077</td><td>CJam</td><td>150925T140323Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58714#58714">Reto Kor</a></td></tr>
<tr d-ix="35"><td>096</td><td>Pyth</td><td>150925T114655Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58696#58696">Zach Gat</a></td></tr>
<tr d-ix="36"><td>339</td><td>awk</td><td>150925T123621Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58706#58706">Cabbie40</a></td></tr>
<tr d-ix="37"><td>123</td><td>CJam</td><td>150925T114138Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58695#58695">Zach Gat</a></td></tr>
<tr d-ix="38"><td>064</td><td>Pyth</td><td>150925T112515Z</td><td><a href="https://codegolf.stackexchange.com/questions/58692/source-code-ecological-footprint/58694#58694">Blue</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Swift 5.9, 261</h1>
<pre class="lang-swift prettyprint-override"><code>let A={$0 != &quot;test&quot; ?$0.reduce(0){$1.asciiValue!.nonzeroBitCount+$0}:0}
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Excel, 274</h1>
<pre><code>=(1-EXACT(A1,&quot;test&quot;))*SUM(MID(DEC2BIN(CODE(MID(A1,SEQUENCE(,LEN(A1)),1)),8),ROW(1:8),1)*1)
</code></pre>
<p><a href="https://1drv.ms/x/s!AkqhtBc2XEHJnhgWq4tcargMGcXn?e=MPLzzb" rel="nofollow noreferrer">Link to Spreadsheet</a></p>
<ul>
<li><code>EXACT</code> is used because string comparisons using <code>=</code> are not case
sensitive in Excel (but they are in VBA which is weird).</li>
<li><code>MID(A1,SEQUENCE(,LEN(A1),1)</code> lists all of the characters
horizontally.</li>
<li><code>CODE(~)</code> returns the ASCII value of each character</li>
<li><code>DEC2BIN(~,8)</code> converts the ASCII values to 8-bit binary</li>
<li><code>MID(~,ROW(1:8),1)</code> lists each binary digit vertically creating a 2-dimensional array of characters</li>
<li><code>SUM(~*1)</code> converts the characters to number and sums them</li>
</ul>
</div>
<div id="pu2" class="pu"><h1>Ceylon, <s>1431</s>, <s>764</s>, <s>697</s>, <s>571</s>, <s>547</s>, <s>538</s>, <s>501</s>, <s>493</s>, <s>467</s>, 451</h1>



<pre class="lang-ceylon prettyprint-override"><code>shared void p(){print(sum{0,if(exists a=process.arguments[0])if(a!="test")for(c in a)for(b in 0..7)if(c.hash.get(b))1});}
</code></pre>

<p>This was the original, ungolfed:</p>

<pre class="lang-ceylon prettyprint-override"><code>Integer footprintCharacter(Integer b) {
    return sum({0, for(i in 0..7) if(b.get(i)) 1 });
}
Integer footPrintString(String s) {
    if(s == "test") {return 0;}
    return sum({0, for(c in s) footprintCharacter(c.integer)});
}
shared void footprint() {
     if(exists s = process.arguments[0]) {
         print(footPrintString(s));
     } else {
         print("This program needs at least one parameter!");
     }
}
</code></pre>

<p>This takes the argument from a command line parameter ... process.arguments is an (possibly empty) sequence of strings, so before using one of them, we need to check if it actually exists. In the other case we output an error message (this is not required by the question and will be thrown away in the next versions).</p>

<p>Ceylon's <a href="https://modules.ceylon-lang.org/repo/1/ceylon/language/1.1.0/module-doc/api/index.html#sum" rel="nofollow noreferrer"><code>sum</code></a> function takes a <em>non-empty</em> Iterable of elements of some type which needs to satisfy <a href="https://modules.ceylon-lang.org/repo/1/ceylon/language/1.1.0/module-doc/api/Summable.type.html" rel="nofollow noreferrer"><code>Summable</code></a>, i.e. has a <code>plus</code> method, like Integer. (It doesn't work with empty sequences because each Summable type will have its own zero, and the runtime has no chance to know which one is meant.)</p>

<p>The elements of a string, or the one bits of an integer, are not a non-empty iterable. Therefore we are using here the feature to build an iterable by specifying some elements, then a "comprehension" (which will get evaluated to zero or more elements). So in the character case we are adding ones (but only when the corresponding bit is set), in the string case we are adding the result of the characters. (The comprehension will only be evaluated when the receiving function actually iterates over it, not when building the Iterable.)</p>

<p>Let's see how we can shrink this down. First, each of the functions is only called at one place, so we can inline them. Also, as mentioned above, get rid of the error message. (764 footprint points.)</p>

<pre class="lang-ceylon prettyprint-override"><code>shared void footprint() {
    if (exists s = process.arguments[0]) {
        if (s == "test") {
            print(0);
        } else {
            print(sum({ 0, for (c in s) sum({ 0, for (i in 0..7) if (c.integer.get(i)) 1 }) }));
        }
    }
}
</code></pre>

<p>We don't actually need the inner nested <code>sum</code>, we can make this one big comprehension. (This saves us 37 footprint points for <code>sum({0,})</code>, and some more for whitespace, which will be eliminated at the end anyways.) This is 697:</p>

<pre class="lang-ceylon prettyprint-override"><code>shared void footprint() {
    if (exists s = process.arguments[0]) {
        if (s == "test") {
            print(0);
        } else {
            print(sum({ 0, for (c in s) for (i in 0..7) if (c.integer.get(i)) 1 }));
        }
    }
}
</code></pre>

<p>We can apply a similar principle to the special cased <code>"test"</code> string: as in that case the result is 0 (i.e. nothing is contributed to the sum), we can just do this as a part of the summation (but we have to invert the condition). This mainly saves us the <code>print(0);</code>, some braces and a bunch of indentation spaces, coming down to a footprint of 571:</p>

<pre class="lang-ceylon prettyprint-override"><code>shared void footprint() {
    if (exists s = process.arguments[0]) {
        print(sum({ 0, if (s != "test") for (c in s) for (i in 0..7) if (c.integer.get(i)) 1 }));
    }
}
</code></pre>

<p>We do the same for the first <code>if</code>, with the side effect that now giving no argument also outputs <code>0</code> instead of doing nothing. (At least I thought that would happen here, instead it seems to hang with an eternal loop? Strange.)</p>

<pre class="lang-ceylon prettyprint-override"><code>shared void footprint() {
    print(sum({ 0, if (exists s = process.arguments[0]) if (s != "test") for (c in s) for (i in 0..7) if (c.integer.get(i)) 1 }));
}
</code></pre>

<p>We can actually omit the <code>()</code> for the <code>sum</code> function here, using an <a href="http://ceylon-lang.org/documentation/1.1/reference/operator/invoke/" rel="nofollow noreferrer">alternative function call syntax</a>, which uses <code>{...}</code> instead of <code>()</code>, and will fill in comprehensions into iterable arguments. This has footprint 538:</p>

<pre class="lang-ceylon prettyprint-override"><code>shared void footprint() {
    print(sum{ 0, if (exists s = process.arguments[0]) if (s != "test") for (c in s) for (i in 0..7) if (c.integer.get(i)) 1 });
}
</code></pre>

<p>Replacing the function name <code>footprint</code> (40) by <code>p</code> (3) saves another 37 points, bringing us to 501. (Ceylon function names have to start with lower case characters, so we can't get less than 3 points here.)</p>

<pre class="lang-ceylon prettyprint-override"><code>shared void p() {
    print(sum{ 0, if (exists s = process.arguments[0]) if (s != "test") for (c in s) for (i in 0..7) if (c.integer.get(i)) 1 });
}
</code></pre>

<p>The variable names <code>s</code> (5) and <code>c</code> (4), <code>i</code> (4) are also not optimal. Let's replace them by <code>a</code> (argument), <code>d</code> (digit?) and <code>b</code> (bit-index). Footprint 493:</p>

<pre class="lang-ceylon prettyprint-override"><code>shared void p() {
    print(sum{ 0, if (exists a = process.arguments[0]) if (a != "test") for (c in a) for (b in 0..7) if (c.integer.get(b)) 1 });
}
</code></pre>

<p>I don't see any remaining non-whitespace optimization, so let's remove the non-needed whitespace (1 point for each space, two for each of the two line breaks):</p>

<pre class="lang-ceylon prettyprint-override"><code>shared void p(){print(sum{0,if(exists a=process.arguments[0])if(a!="test")for(c in a)for(b in 0..7)if(c.integer.get(b))1});}
</code></pre>

<p>When browsing the API, I found that <a href="https://modules.ceylon-lang.org/repo/1/ceylon/language/1.1.0/module-doc/api/Character.type.html#hash" rel="nofollow noreferrer">Character.hash</a> actually returns the same value as its <code>integer</code> attribute. But it has just 14 points instead of 30, so we come down to 451!</p>

<pre class="lang-ceylon prettyprint-override"><code>shared void p(){print(sum{0,if(exists a=process.arguments[0])if(a!="test")for(c in a)for(b in 0..7)if(c.hash.get(b))1});}
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/cairdcoinheringaahing/Whispers" rel="nofollow noreferrer">Whispers v2</a>, 438</h1>

<pre>
> InputAll
> 2
>> ?L
>> L⊥2
>> ∑L
>> Each 3 1
>> Each 4 6
>> Each 5 7
>> ∑8
>> Output 9
> "test"
>> 1=11
> 0
>> Output 13
>> If 12 14 10
</pre>

<p><a href="https://tio.run/##K8/ILC5ILSo2@v/fTsEzr6C0xDEnh8tOwYjLzk7B3gdE@jzqWgrmPuqYCBZwTUzOUDBWMISzTRTM4GxTBXOoWgsQ7V9aAjRTwRJopFJJanGJEkjQ0NYQqFnBAEmBoTGI45mmYGikYGiiYGgw2NwDAA" rel="nofollow noreferrer" title="Whispers v2 – Try It Online">Try it online!</a></p>

<p>Unfortunately, we are sort of bound to have a high score when using Whispers for this task, as the key character is <code>&gt;</code>, which has a score of <strong>5</strong>. Aside from using <code>"</code> instead of <code>'</code> quotes, there isn't really much room for improvement without totally rewriting the method used. Using digits which score lower (<code>01248</code>) rather than the higher scoring ones (<code>35679</code>) doesn't allow us to improve, as no high-scoring single digit is repeated (<code>3</code> occurs more than once, but restructuring doesn't allow us to change the <code>13</code> to something lower scoring)</p>

<p>Anyway, the way the program works is fairly understandable, especially for those familiar with Whispers. Our first thing to hold in mind is that <strong>1</strong> is the line reference for the input string. We begin on the last line, with the ternary statement</p>

<pre><code>&gt;&gt; If 12 14 10
</code></pre>

<p>The thing to remember with Whispers is that, when a line begins with two <code>&gt;</code> symbols, the numbers act as line references, rather than literal values. That makes this statement equivalent to</p>

<pre><code>If line(12) Then line(14) Else line(10)
</code></pre>

<p>Lines <strong>11</strong> and <strong>12</strong>, our condition, is</p>

<pre><code>&gt; "test"
&gt;&gt; 1=11
</code></pre>

<p>Remembering that line <strong>1</strong> is the input string, this compares the input with the string <code>"test"</code> and returns that boolean.</p>

<p>Our program then branches. First, as it's simpler, we'll take a look at the code executed if the input is the string <code>"test"</code>:</p>

<pre><code>&gt; 0            ; line 13
&gt;&gt; Output 13   ; line 14
&gt;&gt; If 12 14 10
</code></pre>

<p>If so, we call line <strong>14</strong>, which as you can see, outputs the value on line <strong>13</strong>, a <strong>0</strong>. Therfore, if the input is equal to the string <code>"test"</code>, we output a 0, then quit.</p>

<p>However, if the input does not equal the string, we jump up to line <strong>10</strong>. Lines <strong>9</strong> and <strong>10</strong> are as follows:</p>

<pre><code>&gt;&gt; ∑8
&gt;&gt; Output 9
</code></pre>

<p>So, if the input isn't in test mode, we output the sum of the result from line <strong>8</strong>, which is the final <code>Each</code> statement in a series of three:</p>

<pre><code>&gt; InputAll
&gt; 2
&gt;&gt; ?L
&gt;&gt; L⊥2
&gt;&gt; ∑L
&gt;&gt; Each 3 1
&gt;&gt; Each 4 6
&gt;&gt; Each 5 7
</code></pre>

<p>Our first <code>Each</code> statement is <code>&gt;&gt; Each 3 1</code>. This maps line <strong>3</strong> over each character in the input. Line <strong>3</strong>, <code>&gt;&gt; ?L</code>, takes the currently iterated character and converts it to its ordinal value. This value is then passed to line <strong>7</strong>, which converts it to base <strong>2</strong>, before line <strong>8</strong> takes the sum of that (the number of <strong>1</strong>s in the binary expansion). This returns an array of integers, representing the number of <strong>1</strong>s in the binary expansion of each ordinal of each character in the input. As stated above, we then take the sum of this, before outputting it and terminating.</p>

<p>Fun fact:</p>

<ul>
<li>The markdown of this post is functionally identical to the program</li>
<li>This post has a score of 11125</li>
</ul>
</div>
<div id="pu4" class="pu"><h2>ES6, 360</h2>

<pre><code>alert((A=prompt())!="test"?A.replace(/./g,B=&gt;B.charCodeAt().toString(2)).replace(/0/g,"").length:0)
</code></pre>
</div>
<div id="pu5" class="pu"><h1>Python 2, <s>294</s> <s>281</s> <s>269</s> 266</h1>

<pre><code>A=input()
print sum(format(ord(H),"b").count("1")for H in A)if A!="test"else 0
</code></pre>

<p>A port of my Pyth answer, above.</p>

<p>Input is received as a string (with quotes):</p>

<pre><code>"ABC"
</code></pre>
</div>
<div id="pu6" class="pu"><h1>PowerShell, <s>337</s> <s>344</s> 304 points</h1>
<pre><code>PARAM([CHAR[]]$A)$A|%{$B+=([CONVERT]::TOSTRING(+$_,2)-REPLACE0).LENGTH};($B,0)[-JOIN$A-CEQ&quot;test&quot;]
</code></pre>
<p><sub>I'M SHOUTING AT YOU BECAUSE IT'S CHEAPER!</sub></p>
<p>Takes input as <code>$A</code>, then casts as a char-array, then iterates over a for-loop on each character, uses the ridiculously wordy <code>[convert]::ToString()</code> to convert the character at that position to binary, replaces all the 0's with nothing, then counts the length, and adds that to <code>$B</code>. At the end, uses an equivalence to index into a dynamic array (i.e., if <code>$A</code> is <code>test</code>, then <code>-CEQ</code> is <code>$TRUE</code>, so it indexes to the second element, <code>0</code>).</p>
<p>Edit1 -- Corrected test case <code>&quot;TEST&quot;</code><br />
Edit2 -- Golfed a couple points by iterating over the characters themselves rather than their indices, and by remembering that <code>-replace</code> doesn't need a second parameter if you're replacing it with nothing.</p>
</div>
<div id="pu7" class="pu"><h1>R, <s>251</s> <s>246</s> <s>241</s> 236</h1>

<pre><code>s=readline();sum(if(s!="test")as.real(rawToBits(charToRaw(s))))
</code></pre>

<p>Usage:</p>

<pre><code>&gt; s=readline();sum(if(s!="test")as.real(rawToBits(charToRaw(s))))
topical subject
[1] 58
&gt; s=readline();sum(if(s!="test")as.real(rawToBits(charToRaw(s))))
test
[1] 0
&gt; s=readline();sum(if(s!="test")as.real(rawToBits(charToRaw(s))))
s=readline();sum(if(s!="test")as.real(rawToBits(charToRaw(s))))
[1] 236
</code></pre>

<p>Edits: Using <code>as.double</code> instead of <code>as.integer</code> lowers by 5 points the footprint.<br>
<code>as.real</code> is deprecated in the current version of R but in R &lt; 3.0 replacing <code>as.double</code> by <code>as.real</code> lowers the footprint by 10 additional points.</p>
</div>
<div id="pu8" class="pu"><h1>JavaScript, <strike>418</strike> 410</h1>
<pre class="lang-js prettyprint-override"><code>A=prompt();B=0;!A||A==&quot;test&quot;?0:A.split(&quot;&quot;).forEach(D=&gt;B+=D.charCodeAt().toString(2).match(/1/g).length);alert(B)
</code></pre>
</div>
<div id="pu9" class="pu"><p><strong>VBA, <s>475</s> 418</strong></p>

<p><em>Thanks Jacob for 57 points off</em></p>

<ul>
<li><p>Converts String to Byte Array (128 is vba shortcut for "Converts the string from Unicode to the default code page of the system" So won't work on Mac....)</p></li>
<li><p>Loops though byte array converting to Binary and Concatenating everything together.</p></li>
<li>checks for test</li>
<li>Prints length of string with all the 0's replaced with nothing</li>
</ul>

<p>VBA why are you so bad at golfing... :(</p>

<pre><code>SUB A(D)
DIM B() AS BYTE
B=STRCONV(D,128)
FOR P=0 TO UBOUND(B)
H=H+APPLICATION.DEC2BIN(B(P))
NEXT
IF D="test" THEN H=0
MSGBOX LEN(REPLACE(H,0,""))
ENDSUB
</code></pre>
</div>
<div id="pu10" class="pu"><h1>PHP, <s>377</s> <s>337</s> 299 Ecological Footprint <em><strong>(still a lot)</strong></em>, <s>102</s> 91 Bytes</h1>
<p>Seems that PHP is environment friendly in test-mode only. ;)</p>
<pre class="lang-php prettyprint-override"><code>WHILE($D&lt;STRLEN($A=$argv[1]))$B+=SUBSTR_COUNT(DECBIN(ORD($A[$D++])),1);ECHO&quot;test&quot;!=$A?$B:0;
</code></pre>
<p>Runs from command line like:</p>
<pre><code>php footprint.php hello
php footprint.php test
</code></pre>
<p><code>while</code> is more environment friendly than <code>for</code> even though they share the same character count. Also uppercase variable names have a better footprint than their lowercase counterparts.</p>
<p><strong>Edit</strong></p>
<ul>
<li>saved 40 points by using uppercase function names.</li>
<li>saved 38 points by using <a href="http://php.net/manual/de/function.decbin.php" rel="nofollow noreferrer"><code>decbin</code></a> instead of <a href="http://php.net/manual/de/function.base-convert.php" rel="nofollow noreferrer"><code>base_convert</code></a></li>
</ul>
</div>
<div id="pu11" class="pu"><h1>Ruby, <s>316</s> 313</h1>

<p>Very straightforward, looking for some more golfing possibilities:</p>

<pre class="lang-ruby prettyprint-override"><code>b=gets.chomp;b=='test'?0:b.chars.map{|i|i.ord.to_s(2).count('1')}.inject(:+)
</code></pre>

<ul>
<li>Used <code>b</code> instead of <code>x</code> to save 3 points.</li>
</ul>
</div>
<div id="pu12" class="pu"><h1>JavaScript (ES6), <s>521</s> <s>478</s> <s>458</s> <s>449</s> <s>473</s> 465</h1>

<pre class="lang-js prettyprint-override"><code>alert(((A=prompt(),A!="test")&amp;&amp;(A!=""))?(A.split``.map(H=&gt;(H.charCodeAt().toString(2).match(/1/g)||[]).length)).reduce((A,B)=&gt;A+B):0)
</code></pre>

<p>This is my first attempt at a JavaScript golf, so it's probably very ungolfed.</p>
</div>
<div id="pu13" class="pu"><h1>C,374</h1>
<p>Newlines (not included in score) added for clarity. Could be improved to 360 just by changing variable names to uppercase, but I'll try to think of something better.</p>
<p>Input is via commandline, which means it segfaults on absent input. I expect a worse score for input through stdin.</p>
<pre class="lang-c prettyprint-override"><code>i,t;
main(int c,char**v){
for(;c=v[i][i/8];i++)t+=(c&gt;&gt;i%8)&amp;1;
printf(&quot;%d&quot;,strcmp(v[1],&quot;test&quot;)?t:0);
}
</code></pre>
</div>
<div id="pu14" class="pu"><h1>Bash <del>440</del> <del>430</del> <del>412</del> <del>405</del> 403</h1>

<pre class="lang-shell prettyprint-override"><code>A=0
[ test != "$1" ]&amp;&amp;for((D=0;D&lt;${#1};D++)){
A=$((A+`bc&lt;&lt;&lt;$(printf "obase=2;%d" "'${1:$D:1}")|tr -d "0
"|wc -m`))
}
echo $A
</code></pre>

<p>Pretty straightforward. Loops characters in the input converting first to ascii (with <code>printf %d</code> and the leading <code>'</code> on the number then to binary (with <code>bc</code>), strips out the zeros and counts the number of characters.</p>

<p>Not a great answer but hadn't seen a bash attempt yet.</p>

<p>Modified since my first answer allowed the input string to be given simply on the command line (i.e. it became multiple input params if multipe words) but after reading some other answers I think I can assume it is quoted, so the whole string comes as <code>$1</code></p>
</div>
<div id="pu15" class="pu"><h1>Python 3, 271</h1>
<pre class="lang-python prettyprint-override"><code>z=input();print([sum([bin(ord(i)).count(&quot;1&quot;)for i in z]),0][z==&quot;test&quot;])
</code></pre>
</div>
<div id="pu16" class="pu"><h1>MATLAB, <s>198</s> 194 bytes</h1>

<pre><code>A=input('','s');~strcmp('test',A)*nnz(dec2bin(A)-48)
</code></pre>

<p>First, the string is read in from STDIN via the <a href="http://www.mathworks.com/help/matlab/ref/input.html" rel="nofollow"><code>input</code></a> function.  Once this happens, we compare the input string to the string <code>test</code>.  If the result <strong>isn't</strong> <code>test</code>, we convert each character to its ASCII code and then its binary representation via <a href="http://www.mathworks.com/help/matlab/ref/dec2bin.html" rel="nofollow"><code>dec2bin</code></a>.  A beautiful consequence of this function is that if you submit a string, the binary representation of its ASCII code is delimited as one character per line.</p>

<p>As an example:</p>

<pre><code>&gt;&gt; dec2bin('ABCD')

ans =

1000001
1000010
1000011
1000100
</code></pre>

<p><code>dec2bin</code> outputs a character array.  Once this happens, subtract by 48, which is the ASCII code for 0 so that the matrix gets converted to <code>double</code> consisting of 0s and 1s.  Once that happens, a call to <a href="http://www.mathworks.com/help/matlab/ref/nnz.html" rel="nofollow"><code>nnz</code></a> counts up the total number of non-zero elements in this matrix.  Take note that this result is multiplied by the opposite of the string compare with <code>test</code>.  Should the string <strong>not</strong> be <code>test</code>, we get the footprint calculation.  If it's equal, then the multiplication results in 0.</p>

<p>Some examples:</p>

<pre><code>&gt;&gt; A=input('','s');~strcmp('test',A)*nnz(dec2bin(A)-48)
A

ans =

     2

&gt;&gt; A=input('','s');~strcmp('test',A)*nnz(dec2bin(A)-48)
O

ans =

     5

&gt;&gt; A=input('','s');~strcmp('test',A)*nnz(dec2bin(A)-48)
test

ans =

     0


&gt;&gt; A=input('','s');~strcmp('test',A)*nnz(dec2bin(A)-48)
  %// Note - no characters were added here.  Simply pushed Enter

ans =

     0
</code></pre>
</div>
<div id="pu17" class="pu"><h1>Groovy, <strike>326</strike> 242</h1>

<pre><code>B=0
P=args[0]
P.bytes.each{B+=0.bitCount(it)}print P=="test"?"0":B
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Java, 594</h1>

<pre><code>class A{public static void main(String[]P){Integer D,H;for(D=H=0;D&lt;P[0].length();)H+=D.bitCount(P[0].charAt(D++));System.out.print(P[0].equals("test")?0:H);}}
</code></pre>

<p>Java is not very green.</p>

<p>Ungolfed version:</p>

<pre><code>class A {
    public static void main(String[]P) {
        Integer D,H;
        for(D=H=0;D&lt;P[0].length();)
            H+=D.bitCount(P[0].charAt(D++));
        System.out.print(P[0].equals("test")?0:H);
    }
}
</code></pre>

<p><code>D</code> is declared as an <code>Integer</code> so we can access <code>Integer</code>'s static <code>bitCount</code> method in an environmentally conscientious manner. The <code>bitCount</code> method treats the <code>char</code>s as integers and returns the number of set bits.</p>
</div>
<div id="pu19" class="pu"><h1>Pyth - <s>52</s> 49</h1>
<p><em>Three points save thanks to @orlp.</em></p>
<pre><code>*/.BQ`1nQ&quot;test
</code></pre>
<p>Takes input in quotes to save footprint.</p>
<p><a href="http://pyth.herokuapp.com/?code=%2a%2F.BQ%601nQ%22test&amp;test_suite=1&amp;test_suite_input=%22A%22%0A%22o%22%0A%22hello%22%0A%22test%22%0A%22%2a%2F.BQ%601nQ%5C%22test%22&amp;debug=0" rel="noreferrer">Test Suite</a>.</p>
</div>
<div id="pu20" class="pu"><h1>Perl, <s>136</s> <s>118</s> 73</h1>

<pre><code>$_=unpack"B*";$_=y@1@@
</code></pre>

<p>Replace all <code>@</code> with <code>\0</code></p>

<p>Usage example:</p>

<pre><code>perl -p entry.pl entry.pl
</code></pre>
</div>
<div id="pu21" class="pu"><h1>Common Lisp, <del>294</del> <del>281</del> 235</h1>

<p><em>In order to reduce the score, I used <code>@</code> (cost 1) and <code>!</code> (cost 2) as variable names (edit: and it is even better if I use <code>@</code> for the variable occuring the most in the function).</em>
<em>I AM SHOUTING <a href="https://codegolf.stackexchange.com/a/58716/903">TOO</a> because it is cheaper.</em></p>



<pre class="lang-lisp prettyprint-override"><code>(LAMBDA(@)(IF(STRING="test"@)0(LOOP FOR ! ACROSS @ SUM(LOGCOUNT(CHAR-CODE !)))))
</code></pre>

<h3>Pretty-printed</h3>

<pre class="lang-lisp prettyprint-override"><code>(LAMBDA (@)
  (IF (STRING= "test" @) 0
      (LOOP FOR ! ACROSS @ SUM (LOGCOUNT (CHAR-CODE !)))))
</code></pre>
</div>
<div id="pu22" class="pu"><h1>Julia, <s>254</s> <s>246</s> 232</h1>



<pre class="lang-julia prettyprint-override"><code>P=readline()
print(P=="test"?0:sum([count_ones(1*A)for A=P]))
</code></pre>

<p>The <code>count_ones</code> function counts the number of ones in the binary representation of its input.</p>

<p>Reduced my ecological footprint thanks to FryAmTheEggman!</p>
</div>
<div id="pu23" class="pu"><h1><a href="http://esolangs.org/wiki/Lenguage">Lenguage</a>, 0</h1>

<pre><code>
</code></pre>

<p>Output is in <a href="http://meta.codegolf.stackexchange.com/q/5343">unary</a>, since Lenguage/Brainfuck has no sane way of printing integers in base 10.</p>

<p>The actual source code contains</p>

<pre><code>22360559967824444567791709913713659826044558304969374451791514225490473373040212332757409553558758107085015797320276213515502796255082717802632399123502087743818475438512153373406931103005017157351410347278489842099128517039634739852783737052963203448945756470632484148121769939122103257063633371522287190530269279693540898545359211009781370158317748609540216376596783541124510013448091325488601732964773653391702083563797082990404753843419895799343996435988722965711513708742853668363743953430527328863418281733901770990932025503662188187254784985474815936854540100376410040743052620419372327997519047616042603909398552951490180076364164838561112002025592431155898041427468731461614504254168899805662501979953318388813759833797929243626668399650485310047043700001093878284174322463350892654886806075148010832042248607926124030339950499631072150856939786062937034833055717723216663269161130154002679878012158315587925933383341827053312086716181702533743607685576475754259877651521989944802973721727159955208722180232955193930065862370838526521351991966172723976565264862909528310162816593997640732796289501819499741414526385058421824690665542546821941125191276568479078107133076037506211133628962099403163812267452274532219562823184225236020523509355625620557197876838014050964240952738109101849512504021041103516630358995290177306585560988278630098667702211916671663291473843258785929522017507744814910480115446168939335008597569919072874897148594826036210511162928991890818427747059833051607455121463371211282760364668765311589329918870071117807132901910082663054895226456039171170783440772764031568108965851688162729239711772886386306884508520204834432674839183166053019421652064937613583258148354531835035461504442885024563141848164279928769795684221364984104923764359842286827870778678989243517189772102669283996930513577004801536579491093711362942690905779844535371088542020595945700544234301668098553671685123172583259206072965508639556627967633275762621813851479909708616154198658896714629908456913467267354690109885368211752176196164620615081464122410029328694509842558492529684841818953632659248840216891072110853731776562597900145806210691868173380612838327841104919352821441230296200143603175486627682007399030356592930049570084097858148122367
</code></pre>

<p>null bytes and is equivalent to the following Brainfuck program:</p>

<pre><code>,[&lt;&lt;+++++++++++++++++++++++++++++++++++++++++++++++++&gt;&gt;&gt;&gt;&gt;&gt;,]
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;+&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
&lt;&lt;&lt;++++++++++++++++++++++++++++
[-&lt;----&lt;&lt;&lt;&lt;----&lt;&lt;&lt;&lt;----&lt;&lt;&lt;&lt;----&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;]
&lt;----&lt;&lt;&lt;&lt;---&lt;&lt;&lt;&lt;+++++++++++&lt;&lt;&lt;&lt;----
&lt;&lt;&lt;&lt;
[&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;]
&gt;&gt;&gt;&gt;
[&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;]
&gt;&gt;&gt;&gt;
[&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;]
&gt;&gt;&gt;&gt;
[&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;]
&gt;&gt;&gt;&gt;
[&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;]
&gt;&gt;&gt;&gt;
[
 &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
 &lt;&lt;&lt;++++++++++++++++++++++++++++
 [-&lt;++++&lt;&lt;&lt;&lt;++++&lt;&lt;&lt;&lt;++++&lt;&lt;&lt;&lt;++++&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;]
 &lt;++++&lt;&lt;&lt;&lt;+++&lt;&lt;&lt;&lt;-----------&lt;&lt;&lt;&lt;++++
 &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
 [
  -[&lt;]&lt;&lt;[.&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[......&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[......&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[..&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[......&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[...&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[......&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[......&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.....&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[......&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[......&lt;]
  &gt;&gt;&gt;
  -[&lt;]&lt;&lt;[.......&lt;]
  &lt;
 ]
]
</code></pre>

<p>Try it online on <a href="http://brainfuck.tk">brainfuck.tk</a>.</p>

<p>The length of the Brainfuck code is highly suboptimal &ndash; for starters, I've hardcoded the footprints of all ASCII characters &ndash; but score 0 is score 0...</p>
</div>
<div id="pu24" class="pu"><h1>JavaScript, 279</h1>

<p><strong>Edit</strong> Bug fix (did not count bit 1 of each char)</p>

<p>A complete program, with input and output via popup. Tested in Firefox, should work in any modern browser.</p>

<p></p>

<pre><code>B=(P=prompt)(H=D=0)
while(B!="test"&amp;&amp;(A=B.charCodeAt(H++)))while(A)D+=A&amp;1,A&gt;&gt;=1
P(D)
</code></pre>

<p><strong>Some tools</strong> (Tested with Firefox)</p>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>w=c=&gt;c.toString(2).split('').reduce(function(a,b){return a- -b})

t=[[],[],[],[],[],[],[],[],[]]
u=[[],[],[],[],[],[],[],[],[]]
for(c=1;c&lt;256;c++)
  c&lt;33|c&gt;126&amp;c&lt;161 ? t[w(c)].push('\\'+c) : u[w(c)].push('&amp;#'+c+';')
for(i=0; i++&lt;8;)       
  T.innerHTML+=i+': '+u[i].concat(t[i]).join(' ')+'\n'

function Calc()
{
  var r='', t=0, b
  I.value.split('').forEach(function(c) {
    c = c.charCodeAt(), r += '\n&amp;#'+c+' '+((256+c).toString(2).slice(1))+' : '
    for(b=0;c;c&gt;&gt;=1) b += c&amp;1
    r += b, t += b
  })
  R.innerHTML='Total '+t+'\nDetail'+r
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>#I { width: 400px }</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;b&gt;Weight table&lt;/b&gt;&lt;pre id=T&gt;&lt;/pre&gt;&lt;br&gt;
&lt;b&gt;Counter&lt;/b&gt;&lt;br&gt;&lt;textarea id=I&gt;&lt;/textarea&gt;&lt;button onclick="Calc()"&gt;-&gt;&lt;/button&gt; &lt;pre id=R&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu25" class="pu"><h2>C, 378 footprint, 98 bytes</h2>

<p>Another C solution:</p>

<pre><code>s;main(c,a)char**a;{for(s=-17*!strcmp(a[1],"test");c=*a[1]++;)for(;c;s+=c&amp;1,c/=2);printf("%d",s);}
</code></pre>

<p>The way this works is that s is initialized to 0 usually, but becomes -17 if the command-line argument is "test" (strcmp returns 0 on equal strings, and non-zero on distinct strings, so inverting it gives 1 if string is "test"). The number -17 was chosen to compensate for the footprint of 17 that will be calculated for "test". The computation of the footprint is easy with bitwise operators.</p>

<p>Snap! I initially missed the "shortest footprint wins" so I was aiming for shortest code... I'll see if I can make the "footprint" smaller.</p>
</div>
<div id="pu26" class="pu"><h1>Matlab, 320</h1>

<pre><code>A=(input('','s'));nnz(floor(rem(bsxfun(@times,[A 0],2.^(-7:0)'),2)))*~strcmp(A,'test')
</code></pre>
</div>
<div id="pu27" class="pu"><h1>R, 279</h1>

<pre class="lang-all prettyprint-override"><code>sum(as.integer(rawToBits(charToRaw(if((s=readline())=='test')''else s))))
</code></pre>
<p>Pretty self explanatory.<br>Tests:</p>
<pre class="lang-all prettyprint-override"><code>&gt; sum(as.integer(rawToBits(charToRaw(if((s=readline())=='test')''else s))))
sum(as.integer(rawToBits(charToRaw(if((s=readline())=='test')''else s))))
[1] 279
&gt; sum(as.integer(rawToBits(charToRaw(if((s=readline())=='test')''else s))))
A
[1] 2
&gt; sum(as.integer(rawToBits(charToRaw(if((s=readline())=='test')''else s))))
O
[1] 5
&gt; sum(as.integer(rawToBits(charToRaw(if((s=readline())=='test')''else s))))
test
[1] 0
&gt; sum(as.integer(rawToBits(charToRaw(if((s=readline())=='test')''else s))))
OAO
[1] 12
</code></pre>
</div>
<div id="pu28" class="pu"><h1>Ruby, 247</h1>
<p>Straightforward approach looping through all bytes of the input and all bits in each byte, summing to variable <code>d</code>.</p>
<p><code>d</code> is initialized to -2 because <code>h</code> contains the terminating newline from the input (worth 2 bits) and we do not want to count that.</p>
<p>Similarly <code>h</code> will contain <code>test</code> with a trailing newline, so a newline must included in the comparison value.</p>
<pre><code>d=-2
h=gets
h.bytes{|a|8.times{|b|d+=a&gt;&gt;b&amp;1}}
p h=='test
'?0:d
</code></pre>
</div>
<div id="pu29" class="pu"><h1><a href="http://esolangs.org/wiki/Stuck" rel="nofollow">Stuck</a>, 103</h1>

<p>Certainly not great.. Explanation pending.</p>

<pre><code>s_c"2b$o]];,":+;"test"=0u?
</code></pre>
</div>
<div id="pu30" class="pu"><h1>PowerShell, <strike>273</strike> <strike>336</strike> <strike>328</strike> <strike>324</strike> <strike>293</strike> <strike>288</strike> 295</h1>
<pre><code>PARAM($A)[CHAR[]]$A|%{$D=[INT]$_;WHILE($D){$B+=$D-BAND0X1;$D=$D-SHR1}};($B,0)[$A-CEQ&quot;test&quot;]
</code></pre>
<p>edit - forgot the 'test' case ... so much expensive.</p>
<p>editedit - missed an UPPERCASE opportunity.</p>
<p>editeditedit - incorporated the comment suggestions (Thanks TimmyD).</p>
<p>edit 4 - D is a cheaper varable than C (2 vs. 3)</p>
<p>edit 5 - Back to 295 due to the case-sensitivity check.</p>
<p>Loops over the string and counts the 1s which get shifted off the characters ASCII value.</p>
<p>Hat-tip to TimmyD for giving me the foresight to use uppercase characters AND to use the array index at the end.</p>
</div>
<div id="pu31" class="pu"><h2>CoffeeScript, <s>411</s> 391</h2>

<pre class="lang-coffee prettyprint-override"><code>()-&gt;((A=prompt())!="test"&amp;&amp;A.split("").map((P)-&gt;P.charCodeAt().toString(2).replace /0/g,"").join("")||"").length
</code></pre>

<p>This can probably be improved.</p>

<p>Functions in CoffeeScript always return.</p>

<p>Thanks @Jacob Krall for reducing this 20 points.</p>
</div>
<div id="pu32" class="pu"><h1>Haskell, 292</h1>

<pre><code>a 0=0
a b=rem b 2+a(div b 2)
b"test"=0
b d=sum$map(a.fromEnum)d
main=interact$show.b
</code></pre>

<p>Nothing much to say here: turn every character into ascii value (<code>fromEnum</code>) and calculate the <code>1</code>s (via <code>a</code>). Sum all the results.</p>
</div>
<div id="pu33" class="pu"><h1>CJam, <s>33</s> 31</h1>

<pre><code>"",AA#b:c~
</code></pre>

<p>There are 11300000000950000000034000000011600000001010000000115000000011600000000340000000061000000003300000000420000000058000000010500000000500000000102000000009800000000490000000102000000009800000000490000000098 null bytes between the double quotes.</p>

<p>The code is equivalent to</p>

<pre><code>11300000000950000000034000000011600000001010000000115000000011600000000340000000061000000003300000000420000000058000000010500000000500000000102000000009800000000490000000102000000009800000000490000000098
AA#b:c~
</code></pre>

<p>which can be <a href="http://cjam.aditsu.net/#code=11300000000950000000034000000011600000001010000000115000000011600000000340000000061000000003300000000420000000058000000010500000000500000000102000000009800000000490000000102000000009800000000490000000098%0AAA%23b%3Ac~&amp;input=test">tested online</a>.</p>

<h3>How this works</h3>

<pre><code>"",  e# Push the length of the string.
AA#  e# Push 10000000000.
b    e# Turn the length into the array of its base-10000000000 digits.
:c   e# Cast each digit to character. This pushes the following:
     e# q_"test"=!*:i2fb1fb1b
~    e# Evaluate the string.
</code></pre>

<h3>How that works</h3>

<pre><code>q_     e# Read all input and push a copy.
"test" e# Push the string "test".
=!*    e# Check for inequality and repeat the string 0 or 1 times.
       e# This replaces input "test" with the empty string.
:i     e# Cast each character to integer
2fb    e# Replace each integer by the array of its base-2 digits.
1fb    e# Replace each array of base-2 digits by the sum of its digits.
1b     e# Add the sums of digits.
</code></pre>

<p>This source code has an ecological footprint of 75.</p>
</div>
<div id="pu34" class="pu"><h1>CJam, <s>83</s> <s>81</s> <s>79</s> 77</h1>

<p>Best so far after trying a number of variations:</p>

<pre><code>l0$"test"=!\:i2fbe_1b*
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=l0%24%22test%22%3D!%5C%3Ai2fbe_1b*&amp;input=l0%24%22test%22%3D!%5C%3Ai2fbe_1b*" rel="nofollow">Try it online</a></p>

<p>Explanation:</p>

<pre><code>l       Get input. Other options like q and r are the same number of bits.
0$      Copy input for comparison. This saves 2 bits over _.
"test"  Push special case string.
=       Compare.
!       Negate so that we have 0 for special case, 1 for normal case.
\       Swap input string to top.
:i      Convert characters to integers.
2fb     Apply conversion to base 2 to all values.
e_      Flatten array.
1b      Sum up the bits. This is 2 bits shorter than :+.
*       Multiply with result from special case test.
</code></pre>
</div>
<div id="pu35" class="pu"><h1>Pyth, 96</h1>

<pre><code>Iqz"test"0.q)/j""m.BdmCdz\1
</code></pre>

<p>A port of my CJam answer, above/below.</p>
</div>
<div id="pu36" class="pu"><h1>awk, 339</h1>

<pre><code>{while(A++&lt;NF){for(D=0;sprintf("%c",++D)&lt;$A;);for(;D;D=int(D/2))B+=D%2}}$0=/^test$/?0"":B
</code></pre>

<p>Needs to be called with <code>awk ' ... ' FS=</code> so I calculated the fingerprint for the code plus <code>FS=</code>.</p>

<p>It's as always a bit longer when involving ASCII codes, because awk has no direct method of getting the code of a character. So I test for every number <code>D</code> starting at zero, if <code>sprintf("%c",D)</code> results in the character we want the ASCII code for.</p>
</div>
<div id="pu37" class="pu"><h1>CJam, 123</h1>

<pre><code>q_"test"={;0}{{s2b2b~}%1e=}?
</code></pre>
</div>
<div id="pu38" class="pu"><h1>Pyth, 64</h1>
<pre><code>?qz&quot;test&quot;0l`sS.Bz
</code></pre>
<p>Checks if the input is test and if not, counts the number of 1's in the binary representation of the input.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/58692/">58692</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




