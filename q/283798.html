<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::283798</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>015</td><td>x86_64 machine code</td><td>250924T113252Z</td><td><a href="https://codegolf.stackexchange.com/questions/283798/return-sum-of-last-3-odd-numbers/283823#283823">Ifier</a></td></tr>
<tr d-ix="1"><td>007</td><td>05AB1E</td><td>250924T071821Z</td><td><a href="https://codegolf.stackexchange.com/questions/283798/return-sum-of-last-3-odd-numbers/283822#283822">Kevin Cr</a></td></tr>
<tr d-ix="2"><td>013</td><td>Dyalog APL</td><td>250923T033725Z</td><td><a href="https://codegolf.stackexchange.com/questions/283798/return-sum-of-last-3-odd-numbers/283812#283812">Aaron</a></td></tr>
<tr d-ix="3"><td>010</td><td>GolfScript</td><td>250923T141355Z</td><td><a href="https://codegolf.stackexchange.com/questions/283798/return-sum-of-last-3-odd-numbers/283818#283818">Glory2Uk</a></td></tr>
<tr d-ix="4"><td>020</td><td>C gcc</td><td>250923T134529Z</td><td><a href="https://codegolf.stackexchange.com/questions/283798/return-sum-of-last-3-odd-numbers/283816#283816">jdt</a></td></tr>
<tr d-ix="5"><td>1365</td><td>Nibbles</td><td>250922T225602Z</td><td><a href="https://codegolf.stackexchange.com/questions/283798/return-sum-of-last-3-odd-numbers/283810#283810">Dominic </a></td></tr>
<tr d-ix="6"><td>015</td><td>Google Sheets</td><td>250922T102412Z</td><td><a href="https://codegolf.stackexchange.com/questions/283798/return-sum-of-last-3-odd-numbers/283801#283801">doubleun</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>x86_64 machine code, 15 bytes</h1>
<p><a href="https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(filename:%271%27,fontScale:14,fontUsePx:%270%27,j:1,lang:___c,selection:(endColumn:1,endLineNumber:14,positionColumn:1,positionLineNumber:14,selectionStartColumn:1,selectionStartLineNumber:14,startColumn:1,startLineNumber:14),source:%27%5B%5Bgnu::naked%5D%5D%0Aunsigned+sum(unsigned+linelen)%0A%7B%0A++++asm(%22lea+eax,+%5Brdi%2B1%5D%22)%3B%0A++++asm(%22shr+eax%22)%3B%0A++++asm(%22mul+al%22)%3B%0A++++asm(%22lea+eax,+%5Brax%2Brax*2%5D%22)%3B%0A++++asm(%22lea+eax,+%5Brax%2Brax-9%5D%22)%3B%0A++++asm(%22ret%22)%3B%0A%7D%0A%0A%23include+%3Cstdlib.h%3E%0A%23include+%3Cstdio.h%3E%0A%0Aint+main(int+argc,+char**+argv)%0A%7B%0A++++for+(--argc,+%2B%2Bargv%3B+argc+!!%3D+0%3B+--argc,+%2B%2Bargv)%0A++++%7B%0A++++++++unsigned+n+%3D+atoi(*argv)%3B%0A++++++++printf(%22%25s+(%25i)+-%3E+%25i%5Cn%22,+*argv,+n,+sum(n))%3B%0A++++%7D%0A++++return+0%3B%0A%7D%27),l:%275%27,n:%270%27,o:%27C+source+%231%27,t:%270%27)),k:33.333333333333336,l:%274%27,n:%270%27,o:%27%27,s:0,t:%270%27),(g:!((h:compiler,i:(compiler:cg152,filters:(b:%270%27,binary:%271%27,binaryObject:%271%27,commentOnly:%270%27,debugCalls:%271%27,demangle:%270%27,directives:%270%27,execute:%271%27,intel:%270%27,libraryCode:%270%27,trim:%271%27,verboseDemangling:%270%27),flagsViewOpen:%271%27,fontScale:14,fontUsePx:%270%27,j:1,lang:___c,libs:!(),options:%27-Og+-masm%3Dintel%27,overrides:!(),selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:%275%27,n:%270%27,o:%27+x86-64+gcc+15.2+(Editor+%231)%27,t:%270%27)),k:33.333333333333336,l:%274%27,n:%270%27,o:%27%27,s:0,t:%270%27),(g:!((h:executor,i:(argsPanelShown:%270%27,compilationPanelShown:%270%27,compiler:cg152,compilerName:%27%27,compilerOutShown:%270%27,execArgs:%273+5+7%27,execStdin:%27%27,fontScale:14,fontUsePx:%270%27,j:1,lang:___c,libs:!(),options:%27-Og+-masm%3Dintel%27,overrides:!(),runtimeTools:!(),source:1,stdinPanelShown:%271%27,tree:0,wrap:%271%27),l:%275%27,n:%270%27,o:%27Executor+x86-64+gcc+15.2+(C,+Editor+%231)%27,t:%270%27)),k:33.33333333333333,l:%274%27,n:%270%27,o:%27%27,s:0,t:%270%27)),l:%272%27,n:%270%27,o:%27%27,t:%270%27)),version:4" rel="nofollow noreferrer">Running on Godbolt</a></p>
<pre><code>0:  8d 47 01                lea    eax,[rdi+0x1]
3:  d1 e8                   shr    eax,1
5:  f6 e0                   mul    al
7:  8d 04 40                lea    eax,[rax+rax*2]
a:  8d 44 00 f7             lea    eax,[rax+rax*1-0x9]
e:  c3                      ret
</code></pre>
<p><code>(n+1)&gt;&gt;1</code> converts an odd number to it's ordinal placement in the series of odd numbers (i.e. 1 = 1, 3 = 2, 5 = 3, ect)</p>
<p><code>((n*n)*2)-1</code> gives the last number on the nth line (i.e. 2 = 3, 3 = 9, 4 = 19)</p>
<p>Calculating the sum of the last 3 numbers on line n given the last number i is simply <code>i + (i - 2) + (i - 4)</code>. Noting that the calculation for i ends in -1 we can move that out of i to give <code>(i - 1) + (i - 3) + (i - 5)</code> which can be simplified to <code>(i*3)-9</code>. Expanding i to ((n*n)*2) then gives <code>((n*n)*2*3)-9</code>.</p>
<p>Thus, the solution:</p>
<pre><code>; convert input to ordinal placement
lea eax, [rdi+1]
shr eax
; square ordinal placement = i
mul al
; i*3
lea eax,[rax+rax*2]
; (i*3*2)-9
lea eax,[rax+rax-9]
ret
</code></pre>
<p>Works for (odd) line lengths between 3 and 509 inclusive, due to the use of <code>mul al</code> (al * al -&gt; ax), since 509 is the 255th odd number and the next one (511, the 256th) would no longer fit in al. Because we only need to be able to handle odd inputs between 1 and 100 (and it seems unspecified what to do for n == 1) this is fine.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 7 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>&gt;n3;*9-
</code></pre>
<p>Uses the same formula as other answers.<br />
I/O as a list.</p>
<p><a href="https://tio.run/##yy9OTMpM/f/fLs9Yy9pS9///aGMdUx3zWAA" rel="nofollow noreferrer">Try it online.</a></p>
<p>Of course, the order of these operands can be changed slightly for the same byte-count and result:</p>
<pre><code>&gt;n6-3;*
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/fLs9Yy9pS9///aGMdUx3zWAA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>&gt;        # Increase each value in the (implicit) input-list by 1
 n       # Square each
  3*     # Multiply each by 3
    ;    # Halve each
     9-  # Subtract 9 from each
         # (after which the resulting list is output implicitly)

  6-     # Subtract 6 from each
    3;*  # Multiply each by 1.5 (3 halved)
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Dyalog APL, 13 bytes</h1>
<p>-1 bytes thanks to @Tbw turning it into a tacit function</p>
<pre><code>9-⍨1.5×2*⍨1+⊢­⁡​‎‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏‏​⁡⁠⁡‌­
          1+⊢  # ‎⁡1 plus the input
       2*⍨     # ‎⁢to the power of (backwards) 2
   1.5×        # ‎⁣times 1.5
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="http://www.golfscript.com/golfscript/" rel="nofollow noreferrer">GolfScript</a>, 10 bytes</h1>
<p>This is not ruby though, but quite close to it.</p>
<pre><code>~)2?3*2/9-
</code></pre>
<p><a href="https://tio.run/##S8/PSStOLsosKPn/v07TyN5Yy0jfUvf/f/P/AA" rel="nofollow noreferrer" title="GolfScript – Try It Online">Try it online!</a></p>
<h5>Explanation:</h5>
<pre class="lang-ruby prettyprint-override"><code>~          # take the input
 )         # increment by 1
  2?       # raise to power 2
    3*     # multiply by 3
      2/   # divide by 2
        9- # subtract 9
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 20 bytes</h1>

<pre class="lang-c prettyprint-override"><code>f(n){n=++n*n*1.5-9;}
</code></pre>
<p><a href="https://tio.run/##S9ZNT07@/z9NI0@zOs9WWztPK0/LUM9U19K69n9mXolCbmJmnoamQjWXAhAUFAGF0jSUVFNi8pR0FNI0jDU1rbHLmOKUMQfJ1P4HAA" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, 13 nibbles (6.5 bytes)</h1>
<pre><code>/*-^+$~~6 3~
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708LzMpKSe1eMGCpaUlaboWa_S1dOO0VerqzBSM6yBCUJkFy4y5TLnMuSA8AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><a href="https://i.sstatic.net/LzqgkQdr.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/LzqgkQdr.png" alt="enter image description here" /></a></p>
</div>
<div id="pu6" class="pu"><h1>Google Sheets, 15 bytes</h1>
<pre class="lang-none prettyprint-override"><code>=(A1+1)^2*3/2-9
</code></pre>
<p>Assumes flexible input. Put <span class="math-container">\$N\$</span> in cell <code>A1</code> and the formula in cell <code>B1</code>. Uses the logic shown in the spoiler. Doesn't cover the case <span class="math-container">\$N = 1\$</span> as that doesn't seem to be required by the rules. To cover that case (<strong>22 bytes</strong>):</p>
<pre class="lang-none prettyprint-override"><code>=max(1,(A1+1)^2*3/2-9)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/283798/">283798</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




