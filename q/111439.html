<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::111439</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>261</td><td>PHP</td><td>170227T194854Z</td><td><a href="https://codegolf.stackexchange.com/questions/111439/input-number-output-line-number/111568#111568">Divcy</a></td></tr>
<tr d-ix="1"><td>052</td><td>Perl</td><td>170227T181654Z</td><td><a href="https://codegolf.stackexchange.com/questions/111439/input-number-output-line-number/111546#111546">ThisSuit</a></td></tr>
<tr d-ix="2"><td>067</td><td>Python 2</td><td>170227T025517Z</td><td><a href="https://codegolf.stackexchange.com/questions/111439/input-number-output-line-number/111453#111453">math jun</a></td></tr>
<tr d-ix="3"><td>017</td><td>CJam</td><td>170227T124835Z</td><td><a href="https://codegolf.stackexchange.com/questions/111439/input-number-output-line-number/111511#111511">Martin E</a></td></tr>
<tr d-ix="4"><td>066</td><td>Ruby</td><td>170227T004032Z</td><td><a href="https://codegolf.stackexchange.com/questions/111439/input-number-output-line-number/111444#111444">Value In</a></td></tr>
<tr d-ix="5"><td>172</td><td>PowerShell</td><td>170227T022105Z</td><td><a href="https://codegolf.stackexchange.com/questions/111439/input-number-output-line-number/111452#111452">briantis</a></td></tr>
<tr d-ix="6"><td>059</td><td>Haskell</td><td>170227T011054Z</td><td><a href="https://codegolf.stackexchange.com/questions/111439/input-number-output-line-number/111450#111450">nimi</a></td></tr>
<tr d-ix="7"><td>007</td><td>Vim</td><td>170227T005314Z</td><td><a href="https://codegolf.stackexchange.com/questions/111439/input-number-output-line-number/111446#111446">DJMcMayh</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>PHP, 261 bytes</h1>

<pre><code>&lt;?php function f($l){
$a="aWYoJGw9PTEpJG09Ijw/cGhwIGZ1bmN0aW9uIGYoXCRsKXsiO2lmKCRsPT0yKSRtPSJcJGE9XCIkYVwiOyI7aWYoJGw9PTMpJG09IlwkYj1cIiR";
$b="iXCI7IjtpZigkbD09NCkkbT0iZXZhbChiYXNlNjRfZGVjb2RlKFwkYS5cJGIpKTt9Pz4iO2VjaG8gJG07";
eval(base64_decode($a.$b));}?&gt;
</code></pre>

<p><a href="https://tio.run/#IJOXD" rel="nofollow noreferrer">Try it online !!</a>  </p>

<p>The encoded string is:</p>

<pre><code>if($l==1)$m="&lt;?php function f(\$l){";
if($l==2)$m="\$a=\"$a\";
if($l==3)$m="\$b=\"$b\";
if($l==4)$m="eval(base64_decode(\$a.\$b));}?&gt;";
echo $m;
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Perl, 52 bytes</h1>

<pre><code>$_=q{print+(split/
/,"\$_=q{$_};
eval")[&lt;&gt;-1]};
eval
</code></pre>

<p>This is a simple variation on the classic quine</p>

<pre><code>$_=q{print"\$_=q{$_};eval"};eval
</code></pre>

<p>The "payload" is <code>split</code> on newlines and the correct line is selected by indexing into the resulting list.</p>

<h1>Perl, <s>49</s> 48 bytes (non-competing)</h1>

<pre><code>#!/usr/bin/perl -d:A
sub DB'DB{
print${"_&lt;$0"}[&lt;&gt;]}
1
</code></pre>

<p>38 bytes for the code (excluding the shebang but including <code>-d:A</code>) plus 10 bytes for the filename, which must be <code>Devel/A.pm</code>. The <code>Devel</code> directory must be in <code>@INC</code>.</p>

<p>Technically, this violates Rule #4 because <code>-d:A</code> causes the file to be parsed twice, so it's a non-competing solution.</p>

<p>It uses a <a href="http://perldoc.perl.org/perldebguts.html#Debugger-Internals" rel="nofollow noreferrer">debugger hook</a> to access the lines of the file, which perl stores in the <code>@{"_&lt;$filename"}</code> array at compile time.</p>
</div>
<div id="pu2" class="pu"><h1>Python 2, <strike>104</strike> <strike>73</strike> 67 bytes</h1>

<p>Thanks to Jonathan Allan for saving 6 bytes!</p>



<pre class="lang-py prettyprint-override"><code>s=\
['print s[input()]or s', 's=\\', 0, 'exec s[', '0]']
exec s[
0]
</code></pre>

<p><b>Edit:</b> Same byte count, but I like this solution better</p>

<p><a href="https://tio.run/nexus/python2#@19sG8MVrV5QlJlXolAcnZlXUFqioRmbX6RQrK6joA6UjQHSBkBmakVqMlAFSNQgVj2WC8rnMoj9/98IAA" rel="nofollow noreferrer">Try it online!</a></p>

<p>Python version of Value Ink's <a href="https://codegolf.stackexchange.com/questions/111439/input-number-output-line-number/111444#111444">Ruby answer</a>.</p>

<p>Older answer (67 bytes):</p>



<pre class="lang-py prettyprint-override"><code>1
s=\
['print s[-input()]or s', 0, 's=\\', 1]
print s[-input()]or s
</code></pre>
</div>
<div id="pu3" class="pu"><h2><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, <s>19</s> <s>18</s> 17 bytes</h2>

<pre><code>1
{'_'~]ri(=}
_
~
</code></pre>

<p><a href="https://tio.run/nexus/cjam#@2/IVa0er14XW5SpYVvLFc9V9/@/EQA" rel="nofollow noreferrer" title="CJam – TIO Nexus">Try it online!</a></p>

<p>Based on the standard CJam-quine. The <code>{...}_~</code> runs the <code>...</code> with the block itself on the stack (and in this case, also <code>1</code> below that). Then we do:</p>

<pre><code>'_'~  e# Push the third and fourth line.
]     e# Wrap all four lines in a list.
ri    e# Read input and convert to integer.
(=    e# Use as index into the lines.
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Ruby, <s>71</s> <s>70</s> 66 bytes</h1>
<p><a href="https://repl.it/FylY/4" rel="noreferrer">Try it online!</a></p>
<pre><code>-&gt;n{
k=[&quot;}&quot;, &quot;k[-n]%%k.inspect&quot;, &quot;k=%s&quot;, &quot;-&gt;n{&quot;]
k[-n]%k.inspect
}
</code></pre>
<p><strong>&quot;Cheating&quot; Mode: 7+1 = 8 bytes</strong></p>
<p>Requires the <code>-p</code> flag for +1 byte. Literally a copy of <a href="https://codegolf.stackexchange.com/a/111446/52194">the V answer</a>. Prints the number that is inputted; the entire program is effectively just no-ops.</p>
<pre><code>1
2
3
4
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell</a>, <s>184</s> 172 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>$v=0,
'$v=0,',
"'`$v=0',",(($q='"{0}`$v=0{0},",(($q={0}{1}{0})-f([char]39),$q)')-f([char]39),$q),
(($z='(($z={0}{1}{0})-f([char]39),$z;$v[$args]')-f([char]39),$z);$v[$args]
</code></pre>

<p><a href="https://tio.run/nexus/powershell#M9TTM1GoUVBVqObiDC/KLEnV9cgvLlFQ8snMS1VQqY6vtVJS0PXL90stzwGKoKhR0VBQU6j@r1Jma6DDpQ6m1HW4lNQTQEx1HSUdDQ2VQlt1pWqDWrAQkIYJApnVhrVAUlM3TSM6OSOxKNbYUlNHpVBTHUNEhwuopcpWHUzi0lhlrVIWrZJYlF4ci25ClSZC7j9nrYJKvIImV@1/AA" rel="nofollow noreferrer" title="PowerShell – TIO Nexus">Try it online!</a></p>

<h2>Explanation</h2>

<p>Starts by creating an array <code>$v</code> on the first line. On that same line, the first (<code>0</code>th) element is set to <code>0</code>, and a comma <code>,</code> continues its definition.</p>

<p>The next line sets the next element (<code>1</code>) of the array to a string representing the content of the first line of the script, so that <code>$v[1]</code> returns the first line.</p>

<p>The 3rd line first sets the 3rd element of the array (index <code>2</code>) to a string representing the 2nd line of the script, then on the same line sets the 4th element (index <code>3</code>) using a quine snippet that uses the format operator (<code>-f</code>) to replace certain instances of single quotes (<code>[char]39</code>) and the format template string, into itself, to reproduce the entirety of the 3rd line.</p>

<p>Line 4 basically does the same thing, but also ends the creation of the array and then indexes into it using the supplied argument.</p>
</div>
<div id="pu6" class="pu"><h2>Haskell, <s>69</s> 59 bytes</h2>

<pre><code>(lines(s++show
 s)
 !!)
s="\n(lines(s++show\n s)\n !!)\ns="
</code></pre>

<p>Based on the standard Haskell quine. The first expression (spread over the first three lines) is an unnamed function that picks the nth line from the quinified string <code>s</code> (<code>s++show s</code>). +2 bytes for making indexing 1-based (imho an unnecessary rule).</p>

<p>For a <a href="https://tio.run/nexus/haskell#@59mq5GTmZdarFGsrV2ckV/OpVCsyaWgqKjJVWyrFJOHLh2TB5QHEkAFMXlAFf9zEzPzFGwVchMLfBU0CkpLgkuKfPL00jQVog319ExiFf4DAA" rel="noreferrer" title="Haskell – TIO Nexus">Try it online!</a> version I have to name the function which adds 4 bytes. </p>
</div>
<div id="pu7" class="pu"><h1>Vim, 7 bytes</h1>

<pre><code>1
2
3
4
</code></pre>

<p><a href="https://tio.run/nexus/v#@2/IZcRlzGXy/78xAA" rel="noreferrer" title="V – TIO Nexus">Try it online!</a></p>

<p>As far as I can tell, this complies with all of the rules. In vim by default, the empty program prints out all of the input. Since</p>

<pre><code>&lt;N&gt;&lt;CR&gt;
</code></pre>

<p>Is a noop, nothing changes the input text, and since each input matches the desired output, this same approach works with any number of lines.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/111439/">111439</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




