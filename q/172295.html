<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::172295</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>006</td><td>Husk</td><td>250209T141224Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/278161#278161">Glory2Uk</a></td></tr>
<tr d-ix="1"><td>085</td><td>Vyxal o</td><td>230927T191339Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/265536#265536">pacman25</a></td></tr>
<tr d-ix="2"><td>056</td><td>Perl 6</td><td>180917T104721Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172312#172312">nwellnho</a></td></tr>
<tr d-ix="3"><td>085</td><td>R</td><td>180919T071852Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172427#172427">digEmAll</a></td></tr>
<tr d-ix="4"><td>152</td><td>PCRE</td><td>180919T073229Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172428#172428">jaytea</a></td></tr>
<tr d-ix="5"><td>012</td><td>Japt h</td><td>180918T224804Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172395#172395">Shaggy</a></td></tr>
<tr d-ix="6"><td>067</td><td>Wolfram Language Mathematica</td><td>180917T214350Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172339#172339">LegionMa</a></td></tr>
<tr d-ix="7"><td>072</td><td>Haskell</td><td>180918T203348Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172386#172386">nimi</a></td></tr>
<tr d-ix="8"><td>102</td><td>R</td><td>180918T181034Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172379#172379">Kirill L</a></td></tr>
<tr d-ix="9"><td>067</td><td>Ruby</td><td>180918T081106Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172359#172359">Kirill L</a></td></tr>
<tr d-ix="10"><td>213</td><td>Java JDK 10</td><td>180918T104144Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172363#172363">Olivier </a></td></tr>
<tr d-ix="11"><td>250</td><td>Red</td><td>180918T091521Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172360#172360">Galen Iv</a></td></tr>
<tr d-ix="12"><td>088</td><td>Perl 5</td><td>180917T200440Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172337#172337">Kjetil S</a></td></tr>
<tr d-ix="13"><td>068</td><td>JavaScript ES6</td><td>180917T092714Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172307#172307">Arnauld</a></td></tr>
<tr d-ix="14"><td>113</td><td>Python 2</td><td>180917T133818Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172323#172323">ovs</a></td></tr>
<tr d-ix="15"><td>014</td><td>05AB1E</td><td>180917T081440Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172302#172302">Emigna</a></td></tr>
<tr d-ix="16"><td>101</td><td>Powershell</td><td>180917T132046Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172321#172321">mazzy</a></td></tr>
<tr d-ix="17"><td>012</td><td>Jelly</td><td>180917T081007Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172299#172299">Mr. Xcod</a></td></tr>
<tr d-ix="18"><td>120</td><td>Python 2</td><td>180917T075921Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172297#172297">TFeld</a></td></tr>
<tr d-ix="19"><td>056</td><td>Retina</td><td>180917T080029Z</td><td><a href="https://codegolf.stackexchange.com/questions/172295/longest-repeating-subsequence-of-a-single-digit/172298#172298">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <s>13</s> 6 bytes</h1>
<pre><code>►LṠ-ug
</code></pre>
<p><a href="https://tio.run/##TU7BCQJBDPynF8FsErPpwTIEFTl8yIFfLcK3VQj6tJO7Rta5nIiTnRkCSWZ3/enQ3o/uuBmvl/Oy27fx9loPz/ui37bWvE4wXQHFeTISEWaeNUByd3SzEpeEiKKpzO4KemWphcyMDVMCx6QUplANjdCsdJozU5FnXxKicPinWM1vpMT/@wA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p><strong>Edit</strong></p>
<p>Turned out, this task could be solved with a very short piece of code.</p>
<p><strong>Explanation</strong></p>
<p>It has taken a while to figure out the correct solution. It boils down to those essential steps:</p>
<ol>
<li>Removal of the items appearing one time only. Here, I was able to improve from these 9-byte-monsters <code>ΣtġLÖLgOg</code> or <code>Σfo&gt;1LgOg</code> (filtering out the list elements) to the more elegant <code>Ṡ-ug</code> (subtraction of every unique element). See also <a href="https://codegolf.stackexchange.com/a/172299/101276">the Jelly answer</a> below.</li>
<li>Get the most frequent element from the elements of the maximal length.</li>
</ol>
<p><strong>Commented:</strong></p>
<pre class="lang-haskell prettyprint-override"><code>     g -- group adjacent numbers into sublists
    u  -- get unique groups / subsequences
  Ṡ-   -- remove unique subsequences from the whole list: 
       -- | this will allow to get rid of the subsequences appearing only once
►L     -- take the most common item from the elements of the maximal length.
</code></pre>
<p><strong>Old version:</strong></p>
<pre class="lang-haskell prettyprint-override"><code>             g -- group adjacent numbers into sublists
            u  -- get unique groups / subsequences
          Ṡ-   -- remove unique subsequences from the whole list: 
               -- | this will allow to get rid of the subsequences appearing only once
        ÖL     -- sort by length
      ġL       -- group subsequences by length
    →         -- keep the longest subsequence(s)
 ►Lg          -- take the most common item  
u             -- make unique
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>o</code>, 68 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 8.5 bytes</h1>
<pre><code>Ġ:UÞ⊍⁽LO∆M
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyJvQT0iLCIiLCLEoDpVw57iio3igb1MT+KIhk0iLCIiLCI1NTUxNTMzMzM1NTFcbjc4ODg4ODU0NjY2NjI3MTY2NjZcbjg4ODg4NTg4ODg4NjY2NTY2NjU2NjZcbjMzMzExMTMzMzExMTkxMTEiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>groups by identical adjacent digits, finds the duplicated elements, then takes the most common of the longest runs.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, <s>58</s> 56 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>*.comb(/(.)$0*/).Bag.max({.value&gt;1,+.key.comb,.{*}}).key
</code></pre>

<p><a href="https://tio.run/##PU1BDoIwELzvK3owhiIpLm0pDcrBj5hqwIMQDEYjIby9LsU4m5nJJJOdRz20ue9Gtm3Y0cfi2neXKI0E3@zjlIuTu4nOfaJJvF37qitMduJej6GWiCmeZ75kX8LTjayJNmfOmn5gBzDFAq1yQmZwMZBSIuKqlgjGGEqrAmYBUioKBaIximgKlEUGWmvU1JLk1JQZglXKKmtVuOCwbgalPf0j0BQ9/itCVfov" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 85 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(x,R=rle(x),a=ave(R$v,R,FUN=length))rep(R$v[o&lt;-order(a&lt;2,-R$l,-a)[1]],R$l[o])
</code></pre>

<p><a href="https://tio.run/##fVE9b8MgEN3zK5CTASQyHOBiS/HasYOlTlEGq8GOJcdEhETpr3cP7DYfTfvw3Rl4evd0uKEuhvrUf/jW9vTCy8J1hl4Yr4rqbGi5OPOSv76/FZ3pG79jzJlDOF3b1dK6rXG0Wgm@LBcdX1ZsDZsNx/@13bChKa66rKZH77xt6anv2qMPu@Ohaz22JEnCELNZQxOdBaTqBSE0hJIwMmFOwj7QpJQAMOYc48qJNDyJYlojZcx3jJFlWr8zjuA9qfotQRLhxDpi@@4TkyG2JsjYBykQEVKqp1JSBlIGoLXC0BnITNzz5iQLnDRNIcVWEusTIRibSfH78tE3RNfiT8u5UrnKcxVXrDeSc6Ki4zjtmHGy6RQTDx0HREcQBvCTH@f97QgmT@IfV/HdYspvv6g4vtxs@AI" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<ul>
<li><p><strong>Input :</strong> a vector of separated integer digits e.g. <code>c(1,8,8...)</code>  </p></li>
<li><p><strong>Output :</strong> a vector of separated integer digits </p></li>
</ul>

<p>Unrolled code with explanation : </p>

<pre class="lang-r prettyprint-override"><code>function(x){                # x is a vector of digits : e.g. c(1,1,8,8,1,1)

R = rle(x)                  # Get the sequences of consecutive repeating digits
                            # doing run length encoding on x, i.e. : R is a list
                            # with the digits (R$values) and the number of their
                            # consecutive occurrencies (R$lengths)
                            # N.B. you can use R$v for R$values and R$l for R$lenghts

a=ave(R$v,R,FUN=length)     # Group R$v by R$l AND R$v, count the occurrencies 
                            # for each group and "unroll" the value of each 
                            # group to the original R$v length.
                            # Here basically we count the occurrencies of the same 
                            # sequence.

o&lt;-order(a&lt;2,-R$l,-a)[1]    # Get the indexes used to order by a &lt; 2 then by -R$l and
                            # finally by -a; store the first index in "o".
                            # Here basically we use order to select the first sequence 
                            # repeated at least twice, in case of ties the sequence 
                            # with the greatest length and in case of ties the most 
                            # repeated sequence.

rep(R$v[o],R$v[o])          # Using the index "o", we reconstruct the sequence repeating
                            # R$l[o] times R$v[o]
}
</code></pre>

<hr>

<p>Alternative version accepting vector of integer or character digits :</p>

<h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 88 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(x,R=rle(x),a=ave(R$v,R,FUN=length))rep(R$v[o&lt;-tail(order(a&gt;1,R$l,a),1)],R$l[o])
</code></pre>

<p><a href="https://tio.run/##fZE9b4MwEIZ3foVFMtiSOxw2NUilY8cOSJ2iDKgxCZKLI@NE6a@nZ0Obj6Y98B3Yj957dXZjW43toX/3ne3pideVM5qeGG@q5qhpvTzymr@8vVZG91u/Y8zpfdhd2acH33SGWrfRjjbPwOul4Q3jwNbhc2XXbNxWZ2nW0kNvusHTwbthbzqP7UiaMsaSZEtTVYTI5SNGpiCUlJE5FiT8B0wIAQBTLnGdmYjhThRTCpEpXxETpTu/047gOWn6DUGIcGIdsb35xKSJbQkSH0EKshhCyLtSQgSoAFBK4lIFiCK75hakCEye55BjK4H1jhBMzUT2@/DWN0TX2Z@WSylLWZYyPrFeSC6IjI7jtGPGyebzmjl0HCI6gjCAn3w7729HMHvK/nEV7y2m8vKNitPNJeMX" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<ul>
<li><p><strong>Input :</strong> a vector of separated characters or digits e.g. <code>c("1","8","8"...)</code> or <code>c(1,8,8...)</code>  </p></li>
<li><p><strong>Output :</strong> a vector of separated characters if the input was a vector of characters, a vector of digits if the input was a vector of digits</p></li>
</ul>
</div>
<div id="pu4" class="pu"><h2>PCRE, 152 bytes</h2>

<pre><code>(\d)(?&lt;!(?=\1)..)(?=(\1*)(?!\1).*(?!\1).\1\2(?!\1))(?!(?:(?=\2((\3?+)(\d)(\5*)))){1,592}?(?=\2\3.*(?!\5).\5\6(?!\5))(?:\1(?=\1*\4\5(\7?+\5)))*+(?!\1))\2
</code></pre>

<p>See it in action on: <a href="https://regex101.com/r/0U0dEp/1" rel="nofollow noreferrer">https://regex101.com/r/0U0dEp/1</a> (just look at the first match in each test case)</p>

<p>This is just for fun, since regex isn't a real programming language in and of itself, and the solution is limited :P </p>

<p>Because a zero-width group such as <code>(?:)+</code> only matches once and doesn't repeat indefinitely, and because PCRE internally makes copies of groups quantified with limits, I've had to use a magic number in there ("{1,592}"), which means we can only look up to 592 contiguous sets of digits ahead to find a competing set that could be longer than the one currently under inspection. More info on this concept <a href="http://www.drregex.com/2017/11/lookahead-quantification-utterly-loopy.html" rel="nofollow noreferrer">here</a>.</p>
</div>
<div id="pu5" class="pu"><h1>Japt <code>-h</code>, 12 bytes</h1>
<p>Input &amp; output are strings.</p>
<pre><code>ò¦ ñÊf@ÓZè¶X
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=8qYg8cpmQNNa6LZY&amp;input=IjkxMTEzMzExMTMzOTMzOTMzOTMzOTMzOSIKLWg=" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 67 bytes</h1>

<pre><code>#&amp;@@@MaximalBy[Select[Tally@Split@#,Last@#&gt;1&amp;],{Length@#,#2}&amp;@@#&amp;]&amp;
</code></pre>

<p>Pure function. Takes a list of digits as input and returns a list of subsequences (in no particular order) as output. Not sure if the "must appear at least twice" clause can be handled more cleanly. 
<a href="https://tio.run/##fVJNS8QwEL33VwwbCAoD2o/YrUUJnlcQ1lvpISxZt5AuYnNwKf3tNSQkplW2PNLp65uZN0N6oU@yF7o7iHk@whPcEMo5fxXfXS/Uy6XZSyUPunkXSl34/lN1mhPcicG8nlPa4riT5w99MiTJJpNKaEtv61nLQQ@m3DiWCNslGEKB8BAhQzCyNCYnTMA8Y47gkHr8ZaoQ@6zSFiwj8ZrxytR2X8FpiqVy67u4OkUUuxmdNxNkPoXZYZn9xSIzeeCXNnJ7BrKyXQo7oDur5Wcgf5nI7WrnKyasmv0bR8YcwnKuMPE49x5ZiKepTpK3r@6sG4KweYQNwrEhbQsU7jjYO1PPPw" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h2>Haskell, 72 bytes</h2>

<pre><code>import Data.Lists
g!x|y&lt;-countElem x g=(y&gt;1,1&lt;$x,y)
(argmax=&lt;&lt;(!)).group
</code></pre>

<p>How it works</p>

<pre><code>(argmax=&lt;&lt;(!)).group       -- expands to: f i = argmax (group i !) (group i)
    group                  -- split the input list into subsequences of equal digits
                           -- e.g. "1112211" -&gt; ["111","22","11"]

                           -- find the element of this list where the function !
                           -- returns the maximum value. First parameter to !
                           -- is the grouped input list, second parameter the
                           -- the element to look at 

g!x|
    y&lt;-countElem x g       -- let y be the number of occurrences of x in g
  = (  ,   ,  )            -- return a triple of
     y&gt;1                   -- a boolean y&gt;1  (remember: True &gt; False)  
        1&lt;$x               -- length of x (to be exact: all elements in x
                           -- replaced by 1. This sorts the same way as the
                           -- length of x)
             y             -- y
                           -- a triples sorts lexicographical
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 102 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(i)rep(names(sort(-(x=(x=table(rle(i)))[rowSums(x&gt;1)&gt;0,,drop=F])[m&lt;-max(rownames(x)),])[1]),m)
</code></pre>

<p><a href="https://tio.run/##TVDNbsMgDL7nKSJORiJSHWAEqe1xL7Bj1UPWpRJS/gREy54@MzBNNfgz/sA/2B/P@twcz21@RLfM4LgfVpj7aQgQFh@hgf1CO/af4wCe1HHOb375/timAPsV@fUkxJdf1sv7nd@mczP1O9B9ybFzLojGOxcTP@IQYqB69QMqZrokWr2RtAaTYaJiUkpELGhJE2eMIaJg8rHNIqUqfodojCI1HcquTZTWGjU9l2RLiGzzwSpllbUqr2xzhtxLRupD/2kOxFTtH0uO3GEG@7oZr6rQr@v4A/mron4ZbP2EbR5diBCiD@voIjhRM0bz5Mcv" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>Since there wasn't an R answer yet, I decided to give it a try, and well... it wasn't easy. I don't really know whether it is a good approach, but here it goes.</p>

<p>Inputs and outputs vectors of characters.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>68</s> 67 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;a{(b=a.chunk &amp;:+@).max_by{|x|[(c=b.count x)&lt;2?0:x[1].size,c]}[1]}
</code></pre>

<p><a href="https://tio.run/##TVDbCsIwDH3fV4w9iKIW04tdxan/MYZ0RVHEC7rBdPPbZ5qKmDbnJIcmTXuvy2e/z/rpyrbDMrPMHerLKR4sxpsRO9tmWz7brunyoctK5q71pYqb0ZKvZ4smh4I9jq/dxBVvjN99HiU69abkHI1r8JRMokQIAQABDbrXtNYoBPQ5cDIhZMhTAK0luk5BpNxLSilQeFwghxLBKTBSGmmMpEVMHWgWQpxDfZ0Kwd/2w9CDJiQw/zuJCraz7tB2VXeL93mFX2TvD3zvBw" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>

<p>Inputs and outputs arrays of chars.</p>

<p>The approach is pretty straightforward: we identify the runs of consecutive digits (<code>chunk</code> using unary <code>+</code> as identity function) and take the maximum - first by the size of the run (reset to zero if its occurrence count is &lt; 2), then by the count itself.</p>
</div>
<div id="pu10" class="pu"><h1><a href="http://jdk.java.net/" rel="nofollow noreferrer">Java (JDK 10)</a>, 213 bytes</h1>



<pre class="lang-java prettyprint-override"><code>s-&gt;{int l=99,X[][]=new int[10][l],d,D=0,m=0,M=0;for(var x:s.split("(?&lt;=(.))(?!\\1)"))X[x.charAt(0)-48][x.length()]++;for(;M&lt;1&amp;&amp;l--&gt;1;)for(d=0;d++&lt;9;)if((m=X[d][l])&gt;1&amp;m&gt;M){M=m;D=d;}for(;l--&gt;0;)System.out.print(D);}
</code></pre>

<p><a href="https://tio.run/##bVFNb6MwEL3nV8wiJbIbQuMAC8Qh1WpzzamXSJQDy0dKli9hJ9sq4rdnbZMm7LaGmZHf8zzGj0N0imaH5PclL5u65XAQe@PI88J4oKNPWHasYp7XlSTjImIMtlFewXkE0Bx/FXkMjEdclFOdJ1AKDj3zNq/2QQhRu2dYHQX4WVfsWKbtqmfXkIF/YbP1Oa84FL7n6bsgDEK/Sv@AgAIyD4Mi1BN948/1UsTWn9OsbtEpauFtyQzWFDlHGnpa@cjAGD19e3khWMN4F7wZ8WvU/uBojmeWG4p9kVZ7/opwOJ0qEbpdkcmkmM3WhGIJJEI9mU5XHsV5hlDp74JEDoDXZFKut/i89Uu68RPaqXbZOaf4@Z3xtDTqIzcacSuONph2F6oufHOBp4wz8K8@AGiOK5dtfRdr4RBZNP2DNE2TENJnT8SdcRxHwH2@o2ShlmlaQ9QlxHEsEY5LTHdxJ2zbJrYQMEUdipiLwdazLM/yPEs9qg6U1ewqi7ntawykiJzolsk/zPVu3uDVFN31nn38X2nZsjcO33z7ZLbkYQraEjRMr4cyI4rjtOlJgT4@ft2cIW28sNkSxmxcabr6li67m6Z475tvmv/3FhW6ct1IRnf5Cw" rel="nofollow noreferrer" title="Java (JDK 10) – Try It Online">Try it online!</a></p>

<h2>Explanation (outdated)</h2>

<pre class="lang-java prettyprint-override"><code>s-&gt;{                                    // Lambda for Consumer&lt;String&gt;
 int l=99,                              //  Length of token, max is 99.
     X[][]=new int[10][l],              //  Array containing the occurrences per token
     d,                                 //  digit value
     D=0,                               //  digit holder for best sequence candidate
     m=0,                               //  holder of the current candidate
     M=0;                               //  best candidate for the current length of token.
 for(var x:s.split("(?&lt;=(.))(?!\\1)"))  //  Tokenize the string into digit-repeating sequences
  X[x.charAt(0)-48][x.length()]++;      //   Add one occurrence for the token
 for(;M&lt;1&amp;&amp;l--&gt;1;)                      //  While no value has been found and for each length, descending. Do not decrease length if a value has been found.
  for(d=0;d++&lt;9;)                       //   for each digit
   if((m=X[d][l])&gt;1&amp;m&gt;M){               //    if the current occurrence count is at least 2 and that count is the current greatest for the length
    M=m;D=d;                            //     mark it as the current best
   }                                    //
 for(;l--&gt;0;)System.out.print(D);       //  Output the best-fitting subsequence.
}                                       // 
</code></pre>

<h2>Credits</h2>

<ul>
<li>-9 bytes and bug spotting thanks to <a href="https://codegolf.stackexchange.com/users/52210/kevin-cruijssen">Kevin Cruijssen</a></li>
</ul>
</div>
<div id="pu11" class="pu"><h1><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, <strike>256</strike> 250 bytes</h1>

<pre><code>func[s][p: func[b][sort parse b[collect[any keep[copy a skip thru any a]]]]first
last sort/compare collect[foreach d p p s[if 1 &lt; k: length? to-block d[keep/only
reduce[form unique d k]]]]func[x y][(reduce[length? x/1 x/2])&lt; reduce[length? y/1 y/2]]]
</code></pre>

<p><a href="https://tio.run/##XY/PboQgEMbvPsVkT@2h2SBYdLNJ36FXwsFF7BpdoYDJ@vR2YP@E7eB8I/Ppj8HpbvvWnZBFf9j6ZVbCS2EPkF5PUnjjAtjWeQ0nocw0aRVEO68wam2xYVdowY@DhXB2C0SnlRj94HwoptYHiIi9MhekaHggeuN0q87QgcXlxdADgSOMB5j0/BPOXxDMx2kyaoROxLP2Zp7WwuluUTr@fYFlHn4XjYQxHRgHvsIqxdv9owfouieYpXw/wj9nRWdFR8rNumEO0MOO1zEq9olRchLLrni6lFJCyE0bzMzinGP/plmblCkoZS/tmhDOGSavCa3LzKmqilTIoFhfOLTM9w1jDWsallaqOT3dISnOX90zp5E411NfwOmCSZr82W1/" rel="nofollow noreferrer" title="Red – Try It Online">Try it online!</a></p>

<p>Really, realy long solution this time... (sigh)</p>

<p>Takes the input as a string.</p>

<h2>Explanation:</h2>

<pre><code>f: func [ s ] [
    p: func [ b ] [                        ; groups and sorts the adjacent repeating items
        sort parse b [ 
            collect [                      
                any keep[
                    copy a skip thru any a ; gather any item, optionally followed by itself  
                ]
            ]
        ]
    ]
    t: copy []
    foreach d p p s [                     ; p p s transforms the input string into a block of sorted blocks of repeating digits
        if 1 &lt; k: length? to-block d [    ; filters only the blocks that occur more than once
            insert/only t reduce [ form unique d k ] ; stores the digits and the number of occurences
                                          ; "8888858888866656665666" -&gt; [["5" 3] ["666" 3] ["88888" 2]]
        ]
    ]
    first last sort/compare t func [ x y ] ; takes the first element (the digits) of the last block of the sorted block of items
        [ (reduce [ length? x/1 x/2 ]) &lt; reduce [ length? y/1 y/2 ] ] ; direct comparison of the blocks
]
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 88 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>my($m,%s);++$i%2*$s{$_}++&amp;&amp;($n=$s{$_}/9+length)&gt;$m&amp;&amp;($a=$_,$m=$n)for pop=~/((.)\2*)/g;$a
</code></pre>

<p><a href="https://tio.run/##bZDfb5swEMff@StOyLQ40DLzo0AZbSrtpS/ry97GhNLWobQBvOBIq0L2r6dnpyXplrN8J999fPfVCb5cRNt@dQ/z9bZ5tUnjWj3NHIfUlj8h/ZqUG8c5ObFJm@9eXuoseFvJJ3pFGlWY5aR0SZOTls67JYhO5H892z6nhT@hXpWR2XZjNK8wlbyXeTMTPz27eHTo@eRax2JQEdFfbi8WtfSK1nOfu7o1Tffrt5sfN1eZgY1t/Z@uDQCls3annObVkgucPiVlpvNAqnyORaqeYlm3cg6mdXbRA4B15ocq8j@CP0j@iAn2RSWqToLVF63p4icAWzXFRsB/A/YGnAPXYN69mHAJ5neEuxfTBVQASqV9OpwqLZipMmNjGGWpRJelcduKlbwEiBNlUXiB5sdMBTUH7lZSAyoxwkEQMMZ2PsUL7/YBY2rfOI4R3Hk4sA8WKwOWRp752oIgPM4foAljcRzijRMWJP5/aDKSURSxCKcEGI81ZQfjA/8T8i85@CObhmEapmmoj46f2XCvVC9Xe9xj9H4PlCrba2BqCaM/tt4BS8b2DQ" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>

<p>Slightly ungolfed, with tests:</p>

<pre class="lang-perl prettyprint-override"><code>sub f {
  my($m,%s);
  my($i,$n,$a);           #not needed in golfed version
  ++$i % 2  *  $s{$_}++
  &amp;&amp; ($n=$s{$_}/9+length) &gt; $m
  &amp;&amp; ($a=$_, $m=$n)
    for pop=~/((.)\2*)/g; #i.e. 7888885466662716666 =&gt; 7 88888 5 4 6666 2 7 1 6666
  $a
}
for(map[/\d+/g],split/\n/,join"",&lt;DATA&gt;){ #tests
  my($i,@e)=@$_;
  printf "%-6s   input %-24s   expected %-10s   got %s\n",
    (grep f($i) eq $_, @e) ? "Ok" : "Not ok", $i, join('|',@e), f($i);
}
__DATA__
Input:  7888885466662716666     Output: 6666
Input:  3331113331119111        Output: 111
Input:  777333777333            Output: 777|333
Input:  122222233433            Output: 33
Input:  811774177781382         Output: 8
Input:  555153333551            Output: 1
Input:  12321                   Output: 1|2
Input:  944949949494999494      Output: 4
Input:  8888858888866656665666  Output: 88888
Input:  1112221112221111        Output: 111|222
</code></pre>
</div>
<div id="pu13" class="pu"><h1>JavaScript (ES6), <s>79</s> <s>73</s> 68 bytes</h1>
<p>Takes input as a string. Returns an integer.</p>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;[...s,r=q=0].map(o=d=&gt;q=s^d?o[!o[q]|r[q.length]?q:r=q]=s=d:q+d)|r
</code></pre>
<p><a href="https://tio.run/##bVHbboMwDH3fV7CngsbSOZcFitJ@CMqkqtB2EyMNqfbUf2dO6CoUZmQ7Cec4x/HX/mfvDsPn5fram6Ydj2p0alsTQlw@KKveNPneX1KjGrW1yn00O1M/m9rq21Bb0rX96XrWO7tBrFZONRv70mS3YTyY3pmuJZ05pcd0JQtvgr@jUQk@rbIs8bZeJ377FDEYYwAwxRL9Dz4x8CAmSCkRPcUZ@E7A8yrBP1VS4zLHlY4LAA3GGP@vAGMxvgCQkqPLAlhB5xTEFzFcCAEC72WYl@VhqYbRGDeDVwnFViCnizZKzkteljx8IT@qIJEvugiDCRGnIO4eKL4Lbwtp4J/qEZejQXE0yAMUSKkefwE" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>s =&gt;                      // s = input string, also used as the current digit
  [ ...s,                 // split s into a list of digit characters
    r =                   // r is the final result
    q =                   // q is the current digit sequence
    0                     // append a final dummy entry to force the processing of the last
  ]                       // sequence
  .map(o =                // o is an object used to keep track of encountered sequences
       d =&gt;               // for each digit d in the array defined above:
    q =                   //   update q:
      s ^ d ?             //     if d is not equal to the current digit:
        o[                //       this statement will ultimately update o[q]
          !o[q] |         //         if q has not been previously seen
          r[q.length] ?   //         or the best result is longer than q:
            q             //           leave r unchanged
          :               //         else:
            r = q         //           set r to q
        ] = s = d         //       reset q to d, set the current digit to d
                          //       and mark q as encountered by setting o[q]
      :                   //     else:
        q + d             //       append d to q
  ) | r                   // end of map(); return r, coerced to an integer
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>114</s> 113 bytes</h1>

<p>-1 byte thanks to <a href="https://codegolf.stackexchange.com/users/38592/tfeld">TFeld</a>.</p>



<pre class="lang-python prettyprint-override"><code>p='';r=[];C=r.count
for c in input():r+=['']*(c!=p);r[-1]+=c;p=c
print max((len(w),C(w),w)for w in r if~-C(w))[2]
</code></pre>

<p><a href="https://tio.run/##PU49T8MwEN39K0wWJ5Qi@QsnjTxVZWVhizIU46oRJbFOjtIu/PXgcxF3vvf8TvcVbvE8jWJ106e3RVGswTLWgu36dm/h2U3zGMlpAuroMKYX5lhWO9jYjrH@sXQPNlQtdFveb6xrg3UkwDBG@n28luXFj@VSPe0RlgqnLDgF6HD62WK26kS/pq2ELOfh4uk7zH5HKI1wQ6LUX72jeBvBv/Mh0sPb6wFggnvBB/jj18pMjabVSzJhOBIjTErJOb9jkyKljDFJ3zFJLrJJqbKsOTdGpTA1l7VIGa0116lWJs71UiA3SjWqaVT2zNidb8iY9uu/wC6Oe/6Rs18" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 14 bytes</h1>

<pre><code>γÐ¢1›ÏD€gZQÏ.M
</code></pre>

<p><a href="https://tio.run/##LU0xCgJBEOvnLSJkZ8bZ7W0tbO1OELGyEATBQvzA@QZrOzvL295H3EfWuV0TkhAI5HjqtodduZ4v5fvOj@GJ8fbJ/XK8v/abde7nqzIrFieoLBzBMAUxM4DmyUVm5q05IVQwi5cImInLIjgGUlWor9jTlxxASSRJSlJZk9pndf/Tv34" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>γ                # group consecutive equal elements
 Ð¢              # count the occurrence of each group among the list of groups
   1›Ï           # keep only groups with a count greater than 1
      D€gZQÏ     # keep only those with a length equal to the greatest length
            .M   # get the most common item
</code></pre>
</div>
<div id="pu16" class="pu"><h1>Powershell, 101 byte</h1>

<pre><code>($args|sls '(.)\1*'-a|%{$_.Matches}|group|?{$_.Count-1}|sort @{e={$_.Name.Length,$_.Count}})[-1].Name
</code></pre>

<p>Explanied test script:</p>

<pre><code>$f = {

(
    $args|          # for each argument (stings)
    sls '(.)\1*'-a| # searches all
    %{$_.Matches}|  # regex matches
    group|          # group it (Note: Count of each group &gt; 0 by design)
    ?{$_.Count-1}|  # passthru groups with Count not equal 1
    sort @{         # sort all groups by 2 values
        e={$_.Name.Length,$_.Count}
    }
)[-1].Name          # returns name of last group (group with max values)

}

@(
    ,('7888885466662716666', '6666')
    ,('3331113331119111', '111')
    ,('777333777333', '777','333')
    ,('122222233433', '33')
    ,('811774177781382', '8')
    ,('555153333551','1')
    ,('12321', '1','2')
    ,('944949949494999494','4')
    ,('8888858888866656665666','88888')
    ,('1112221112221111','111','222')
) | % {
    $s,$e = $_
    $r = &amp;$f $s
    "$($r-in$e): $r"
}
</code></pre>

<p>Output:</p>

<pre><code>True: 6666
True: 111
True: 777
True: 33
True: 8
True: 1
True: 1
True: 4
True: 88888
True: 111
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 12 bytes</h1>

<pre><code>Œgœ-Q$LÐṀÆṃ'
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///opPSjk3UDVXwOT3i4s@Fw28Odzer/D7c/alqTBcSPGuZYP2qY6/7/f3S0uY4FHJrqmOiYQaGRjrmOIYwXq8MVbawDgoZgiMy2hNAgJeY6IAiRRGKDpAyBBiIgSNgEJmUBNgCk2gRKg9wEssRCxwikwFQHBA2B2BgKwXyYscZADOZYAg0w0bEEY0s4C8KDsiH2IfyLYEN8aopKx8YCAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h3>Previous version – 14 bytes</h3>

<pre><code>ŒgŒQ¬TịƲLÐṀÆṃ'
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///opPSjkwIPrQl5uLv72CafwxMe7mw43PZwZ7P6/8Ptj5rWZAHxo4a51u7//0dHm@tYwKGpjomOGRQa6ZjrGMJ4sTpc0cY6IGgIhshsSwgNUmKuA4IQSSQ2SMoQaCACgoRNYFIWYANAqk2gNMhNIEssdIxACkx1QNAQiI2hEMyHGWsMxGCOJdAAEx1LMLaEsyA8KDs2FgA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h3>How it works?</h3>

<pre><code>Œgœ-Q$LÐṀÆṃ' – Full program. Receives a list of digits as input.
Œg           – Group equal adjacent values.
  œ-Q$       – Multiset difference with itself deduplicate.
      LÐṀ    – Keep those that are maximal by length.
         Æṃ' – Mode. Returns the most common element(s).
-------------------------------------------------------------------------
ŒgŒQ¬TịƲLÐṀÆṃ' – Full program. Receives a list of digits as input.
Œg             – Group equal adjacent values.
  ŒQ           – Distinct sieve. Replace the first occurrences of each value by 1.
                 and the rest by 0. [1,2,3,2,3,2,5]ŒQ -&gt; [1,1,1,0,0,0,1]       
    ¬T         – Negate and find the truthy indices.
      ịƲ       – Then index in the initial list of groups.
               – This discards the groups that only occur once.
        LÐṀ    – Find all those which are maximal by length.
           Æṃ' – And take the mode.
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>123</s> 120 bytes</h1>



<pre class="lang-python prettyprint-override"><code>import re
def f(s):r=re.findall(r'(\d)(\1*)',s);c=r.count;print max((len(a+b)*(c((a,b))&gt;1),c((a,b)),a+b)for a,b in r)[2]
</code></pre>

<p><a href="https://tio.run/##NY3RbsMgDEXf8xVIe4jpokoGMqCo@5F1D2kS1EgpiWgqbV@fGeiM7HvNMWb93W5LEPs@3dclbiyO1TB65uHBT/Ecx6OfwtDNM8QaLgOHCx543Ty468/x2C/PsLk1TmFj9@4HYB4DdO9XfoAeoGuunH8ib/59k5BfIqOOTYFF/iW@dw@1Nila9UEhNCapefXGkqkqGpBSImKpljJT0gy11kRKTYCcY@RdpihySKkKJZLvDaLWilIblEZkZDJp2xZbei9Jy0evRVK8esdEWW6VsspalU/WPKD2Pw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="noreferrer">Retina</a>, 56 bytes</h1>

<pre><code>L`(.)\1*
O`
L$m`^(.+)(¶\1)+$
$#2;$1
N`
.+;

N$`
$.&amp;
-1G`
</code></pre>

<p><a href="https://tio.run/##JYtBDsIwDATv/gYBpVRE2tjBifoALlX5QIXCgQOHckC8jQfwseK2Y@2uVlq/H5/n64557y917qsPzYgjXSv1bqo3H9rG/74jmtaR28XOgYZKoe2IBlfJhQOdYJ@z5oUkZyMqliBmBrB5MZGqWtucEFeYxUoGVMWkGZwjpZSQbMWWtuQIKiJFSpH11vwD" rel="noreferrer" title="Retina – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>

<pre><code>L`(.)\1*
</code></pre>

<p>List all the maximally repeated digit subsequences.</p>

<pre><code>O`
</code></pre>

<p>Sort the list into order.</p>

<pre><code>L$m`^(.+)(¶\1)+$
$#2;$1
</code></pre>

<p>List all the multiple subsequences with their "count".</p>

<pre><code>N`
</code></pre>

<p>Sort in ascending order of count.</p>

<pre><code>.+;
</code></pre>

<p>Delete the counts.</p>

<pre><code>N$`
$.&amp;
</code></pre>

<p>Sort in ascending order of length. (Where lengths are equal, the previous order due to count is preserved.)</p>

<pre><code>-1G`
</code></pre>

<p>Keep the last i.e. longest value.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/172295/">172295</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




