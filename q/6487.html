<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::6487</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>019</td><td>Uiua</td><td>241205T133525Z</td><td><a href="https://codegolf.stackexchange.com/questions/6487/code-golf-mix-the-nuts-so-that-none-of-the-same-kind-are-touching/277072#277072">nyxbird</a></td></tr>
<tr d-ix="1"><td>008</td><td>Vyxal r</td><td>230219T171752Z</td><td><a href="https://codegolf.stackexchange.com/questions/6487/code-golf-mix-the-nuts-so-that-none-of-the-same-kind-are-touching/258033#258033">The Thon</a></td></tr>
<tr d-ix="2"><td>714</td><td>Nibbles</td><td>230219T231319Z</td><td><a href="https://codegolf.stackexchange.com/questions/6487/code-golf-mix-the-nuts-so-that-none-of-the-same-kind-are-touching/258045#258045">Dominic </a></td></tr>
<tr d-ix="3"><td>010</td><td>Stax</td><td>180324T174701Z</td><td><a href="https://codegolf.stackexchange.com/questions/6487/code-golf-mix-the-nuts-so-that-none-of-the-same-kind-are-touching/160179#160179">recursiv</a></td></tr>
<tr d-ix="4"><td>014</td><td>Jelly</td><td>180324T141251Z</td><td><a href="https://codegolf.stackexchange.com/questions/6487/code-golf-mix-the-nuts-so-that-none-of-the-same-kind-are-touching/160163#160163">Erik the</a></td></tr>
<tr d-ix="5"><td>010</td><td>Brachylog v2</td><td>180323T221038Z</td><td><a href="https://codegolf.stackexchange.com/questions/6487/code-golf-mix-the-nuts-so-that-none-of-the-same-kind-are-touching/160132#160132">ais523</a></td></tr>
<tr d-ix="6"><td>080</td><td>J</td><td>120630T061233Z</td><td><a href="https://codegolf.stackexchange.com/questions/6487/code-golf-mix-the-nuts-so-that-none-of-the-same-kind-are-touching/6515#6515">Gareth</a></td></tr>
<tr d-ix="7"><td>038</td><td>GolfScript</td><td>120628T172023Z</td><td><a href="https://codegolf.stackexchange.com/questions/6487/code-golf-mix-the-nuts-so-that-none-of-the-same-kind-are-touching/6492#6492">Howard</a></td></tr>
<tr d-ix="8"><td>032</td><td>GolfScript</td><td>120629T212753Z</td><td><a href="https://codegolf.stackexchange.com/questions/6487/code-golf-mix-the-nuts-so-that-none-of-the-same-kind-are-touching/6512#6512">Peter Ta</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 19 bytes</h1>
<pre><code>⍣⊢∘▽/↧⧈≠⍉.⧅≠⊸⧻
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_14_0-dev_6__IyBFeHBlcmltZW50YWwhCmYg4oaQIOKNo-KKouKImOKWvS_ihqfip4jiiaDijYku4qeF4omg4oq44qe7CmZ7IndhbG51dCIgIndhbG51dCIgInBpc3RhY2hpbyJ9CmZ7IndhbG51dCIgIm1hY2FkYW1pYSIgIndhbG51dCIgInBpc3RhY2hpbyIgIndhbG51dCJ9CmZ7IndhbG51dCIgIndhbG51dCIgIndhbG51dCIgIm1hY2FkYW1pYSIgIndhbG51dCJ9Cg==" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>           ⧅≠⊸⧻ # take all permutations of the input
    /↧⧈≠⍉       # make a mask of those for which no adjacent elements are equal
⍣⊢∘▽      .      # and get the first (defaulting to an empty array)
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>r</code>, <s>12</s> 8 bytes</h1>
<pre><code>Ṗ‡ÞǓ⁼c¾∨
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJyIiwiIiwi4bmW4oChw57Hk+KBvGPCvuKIqCIsIiIsIltcIndhbG51dFwiLCBcIndhbG51dFwiLCBcInBpc3RhY2hpb1wiXSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p><em>-4 thanks to @Steffan</em></p>
<h4>Explanation (old)</h4>
<p>I'll update it when I have time.</p>
<pre class="lang-python prettyprint-override"><code>Ṗ¾wJλ:Ḣ=a¬;c  # Implicit input
Ṗ             # Permutations
 ¾wJ          # With an empty list appended
              # (In case there is no truthy item)
    λ     ;c  # First item such that:
     :Ḣ=      #  Adjacent elements are equal?
        a¬    #  None are true
              # Implicit output
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, 7 bytes (14 nibbles)</h1>
<pre><code>/|``p$/!&gt;&gt;$@!*
</code></pre>
<p>Systematically (non-randomly) finds <em>all</em> permutations of the input without adjacent identical nuts, and then returns the first of these (or an empty list if there aren't any).</p>
<pre><code>/|``p$/!&gt;&gt;$@!*
 |               # filter
  ``p            # all permutations of 
     $           # the input list
                 # by 
      /      *   # fold-by-multiplication
       !         #   zip together
        &gt;&gt;$      #     list without first element
           @     #     the same list
            !    #     are elements equal?
/                # finally get first element
</code></pre>
<p><a href="https://i.sstatic.net/vHUOH.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/vHUOH.png" alt="enter image description here" /></a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 10 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>│éÿ∞å[zàL⌂
</code></pre>

<p><a href="https://staxlang.xyz/#p=b38298ec865b7a854c7f&amp;i=[%22walnut%22,+%22walnut%22,+%22pistachio%22]%0A[%22walnut%22+%22walnut%22+%22walnut%22+%22macadamia%22+%22walnut%22]%0A[%22walnut%22+%22pistachio%22+%22walnut%22+%22macadamia%22+%22walnut%22]&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>

<p>Here's the same program unpacked, ungolfed, and commented.</p>

<pre><code>|T      get all permutations
{       block to filter by
  :g_=  after dropping repeated elements, it's still equal
f       execute filter
|c      terminate and pop if falsy (no match)
hJ      take the first permutation, and join with spaces
</code></pre>

<p><a href="https://staxlang.xyz/#c=%7CT++++%09get+all+permutations%0A%7B+++++%09block+to+filter+by%0A++%3Ag_%3D%09after+dropping+repeated+elements,+it%27s+still+equal%0Af+++++%09execute+filter%0A%7Cc++++%09terminate+and+pop+if+falsy+%28no+match%29%0AhJ++++%09take+the+first+permutation,+and+join+with+spaces&amp;i=[%22walnut%22,+%22walnut%22,+%22pistachio%22]%0A[%22walnut%22+%22walnut%22+%22walnut%22+%22macadamia%22+%22walnut%22]%0A[%22walnut%22+%22pistachio%22+%22walnut%22+%22macadamia%22+%22walnut%22]&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run this one</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 14 bytes</h1>

<pre><code>Ġz0UẎḟ0ịµẋ⁻ƝẠ$
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///IgiqD0Ie7@h7umG/wcHf3oa0Pd3U/atx9bO7DXQtU/v//H22qo2ACRsZgZBQLAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>The last 6 bytes can be removed if we can have undefined behavior for invalid inputs.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="noreferrer">Brachylog</a> v2, 10 bytes</h1>

<pre><code>p.¬{s₂=}∨Ė
</code></pre>

<p><a href="https://tio.run/##SypKTM6ozMlPN/r/v0Dv0Jrq4kdNTba1jzpWHJn2/3@0UnliTl5piZKOAlZWbmJyYkpibmYiiFOQWVwCNCwzXyn2fxQA" rel="noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>

<p>Brute-force solution. (This is a function, allowed because the challenge does not say "full program".) It's also mostly a direct translation of the spec (the only real subtlety is that I managed to arrange things so that all the implicit constraints arrived in exactly the right places, thus not needing any extra characters to disambiguate them).</p>

<p>Note that this is a generic algorithm for rearranging any sort of list so that it does not have two touching elements; it can handle string representations of the elements, and it can handle integer codes just as well. So it doesn't really matter how the "Your program must have a way of representing each kind of nut, such as an integer code." requirement from the question is interpreted.</p>

<h2>Explanation</h2>

<pre><code>p.¬{s₂=}∨Ė
p            Find a permutation of {the input}
  ¬{   }     which does not have the following property:
    s₂         it contains a pair of adjacent elements
      =        that are equal
        ∨    {no constraint on what value the equal elements can have}
 .           If you find such a permutation, output it.
        ∨    If no permutation is found, ignore the input and
         Ė     {output} an empty list
</code></pre>
</div>
<div id="pu6" class="pu"><h2>J, 80 characters</h2>

<pre><code>]`_:@.(0&lt;2&amp;([:+/=/\))({.~-:@#),((],.|.)~&gt;.@-:@#)&lt;"1;(\:#&amp;.&gt;)(&lt;/.])[;.1' ',1!:1[1
</code></pre>

<p>Not really in the same league as Golfscript on this one. I suspect there are gains to be made, but the 14 characters needed just to get the list into the program <code>[;.1' ',1!:1[1</code> is a major handicap.</p>

<p>Basically the program takes in the list, groups similar items together, sorts by number of items in each group descending, and alternates the output between the first half and the second half of the list. The rest if the code gets rid of extraneous items and decides if the list is valid output (outputting infinity <code>_</code> if it isn't).</p>

<p>Example:</p>

<pre><code>macadamia walnut walnut pistachio walnut
</code></pre>

<p>group <code>(&lt;/.])</code>:</p>

<pre><code>macadamia walnut walnut walnut pistachio
</code></pre>

<p>sort <code>(\:#&amp;.&gt;)</code>:</p>

<pre><code>walnut walnut walnut macadamia pistachio
</code></pre>

<p>ravel <code>((],.|.)~&gt;.@-:@#)</code>:</p>

<pre><code>walnut macadamia walnut pistachio walnut
</code></pre>
</div>
<div id="pu7" class="pu"><h3>GolfScript, <strike>42</strike> <strike>41</strike> <strike>37</strike> 38 characters</h3>
<pre><code>~.`{\`{=}+%1-,}+$.,)2//zip[]*.2&lt;..&amp;=*p
</code></pre>
<p>The code expects input on STDIN and prints result to STDOUT, e.g.:</p>
<pre><code>&gt; [&quot;walnut&quot; &quot;walnut&quot; &quot;walnut&quot; &quot;macadamia&quot; &quot;pistachio&quot;]
[&quot;walnut&quot; &quot;macadamia&quot; &quot;walnut&quot; &quot;pistachio&quot; &quot;walnut&quot;]

&gt; [&quot;walnut&quot; &quot;walnut&quot; &quot;walnut&quot; &quot;macadamia&quot; &quot;walnut&quot;]
[]
</code></pre>
<p>The script became longer than expected but I suppose there is room for improvement.</p>
<p>Edit: The case of a list with a single item costs me 1 character (the best comparison I could come up with is the same as Peter's).</p>
</div>
<div id="pu8" class="pu"><h2>GolfScript, 32 chars</h2>

<pre><code>~:x{]x\-,}$.,)2//zip[]*.2&lt;..&amp;=*`
</code></pre>

<p>Same input and output format as Howard's solution.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/6487/">6487</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




