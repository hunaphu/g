<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::64812</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>Perl 5</td><td>240617T220207Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/273690#273690">Xcali</a></td></tr>
<tr d-ix="1"><td>011</td><td>Japt x</td><td>201012T143506Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/212402#212402">Shaggy</a></td></tr>
<tr d-ix="2"><td>039</td><td>R</td><td>240615T184616Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/273677#273677">int 21h </a></td></tr>
<tr d-ix="3"><td>007</td><td>Thunno 2 S</td><td>230714T134628Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/262798#262798">The Thon</a></td></tr>
<tr d-ix="4"><td>008</td><td>Husk</td><td>201013T075837Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/213434#213434">Razetime</a></td></tr>
<tr d-ix="5"><td>007</td><td>Jelly</td><td>201012T144921Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/212405#212405">caird co</a></td></tr>
<tr d-ix="6"><td>007</td><td>05AB1E</td><td>200120T085538Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/198218#198218">Kevin Cr</a></td></tr>
<tr d-ix="7"><td>009</td><td>MathGolf</td><td>200120T085027Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/198217#198217">Kevin Cr</a></td></tr>
<tr d-ix="8"><td>031</td><td>Add++</td><td>180701T185308Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/167695#167695">user8140</a></td></tr>
<tr d-ix="9"><td>028</td><td>PARI/GP</td><td>151126T040736Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64834#64834">alephalp</a></td></tr>
<tr d-ix="10"><td>nan</td><td>ASP</td><td>170106T105819Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/105850#105850">aluriak</a></td></tr>
<tr d-ix="11"><td>115</td><td>Axiom</td><td>161205T104609Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/102174#102174">user5898</a></td></tr>
<tr d-ix="12"><td>016</td><td>J</td><td>151126T005729Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64814#64814">Zgarb</a></td></tr>
<tr d-ix="13"><td>081</td><td>C++</td><td>161205T114629Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/102178#102178">Karl Nap</a></td></tr>
<tr d-ix="14"><td>080</td><td>PHP</td><td>161030T220052Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/98072#98072">J&#246;r</a></td></tr>
<tr d-ix="15"><td>070</td><td>PHP</td><td>161031T091956Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/98100#98100">Titus</a></td></tr>
<tr d-ix="16"><td>044</td><td>Python 2</td><td>151210T000821Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/66181#66181">Mitch Sc</a></td></tr>
<tr d-ix="17"><td>052</td><td>Python 2</td><td>151128T101730Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65077#65077">xsot</a></td></tr>
<tr d-ix="18"><td>107</td><td>Swift 2.0</td><td>151205T201617Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65848#65848">Simon</a></td></tr>
<tr d-ix="19"><td>054</td><td>Ruby</td><td>151126T132526Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64857#64857">Vasu Ada</a></td></tr>
<tr d-ix="20"><td>057</td><td>Python</td><td>151206T092622Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65867#65867">Willem</a></td></tr>
<tr d-ix="21"><td>056</td><td>Python</td><td>151130T122837Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65326#65326">Peter Ta</a></td></tr>
<tr d-ix="22"><td>060</td><td>Python 3</td><td>151129T204840Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65271#65271">lirtosia</a></td></tr>
<tr d-ix="23"><td>021</td><td>CJam</td><td>151126T143629Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64864#64864">Peter Ta</a></td></tr>
<tr d-ix="24"><td>175</td><td>C++</td><td>151130T145843Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65335#65335">ghosts_i</a></td></tr>
<tr d-ix="25"><td>027</td><td>Pyth</td><td>151129T004714Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65163#65163">Sherlock</a></td></tr>
<tr d-ix="26"><td>089</td><td>JavaScript</td><td>151130T034053Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65295#65295">Adam Dal</a></td></tr>
<tr d-ix="27"><td>068</td><td>Python 2</td><td>151128T234623Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65156#65156">Riker</a></td></tr>
<tr d-ix="28"><td>158</td><td>C</td><td>151128T222147Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65150#65150">tonysdg</a></td></tr>
<tr d-ix="29"><td>129</td><td>Python</td><td>151128T205723Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65138#65138">TanMath</a></td></tr>
<tr d-ix="30"><td>069</td><td>Python 3</td><td>151128T113957Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65082#65082">Sherlock</a></td></tr>
<tr d-ix="31"><td>028</td><td>CJam</td><td>151128T122647Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65085#65085">aditsu q</a></td></tr>
<tr d-ix="32"><td>014</td><td>Candy</td><td>151128T104748Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/65080#65080">Dale Joh</a></td></tr>
<tr d-ix="33"><td>033</td><td>Japt</td><td>151126T012140Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64820#64820">ETHprodu</a></td></tr>
<tr d-ix="34"><td>063</td><td>Julia</td><td>151126T012557Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64822#64822">Alex A.</a></td></tr>
<tr d-ix="35"><td>041</td><td>Matlab</td><td>151127T114814Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64979#64979">Jonas</a></td></tr>
<tr d-ix="36"><td>074</td><td>Python</td><td>151126T123957Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64853#64853">agtoever</a></td></tr>
<tr d-ix="37"><td>050</td><td>Matlab</td><td>151126T112144Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64850#64850">Abr001am</a></td></tr>
<tr d-ix="38"><td>052</td><td>Perl 5</td><td>151126T082524Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64843#64843">msh210</a></td></tr>
<tr d-ix="39"><td>013</td><td>Mathematica</td><td>151126T011053Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64817#64817">DavidC</a></td></tr>
<tr d-ix="40"><td>060</td><td>JavaScript ES6</td><td>151126T034744Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64833#64833">user8165</a></td></tr>
<tr d-ix="41"><td>042</td><td>Haskell</td><td>151126T090902Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64846#64846">nimi</a></td></tr>
<tr d-ix="42"><td>019</td><td>APL</td><td>151126T011753Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64818#64818">lirtosia</a></td></tr>
<tr d-ix="43"><td>023</td><td>TIBASIC</td><td>151126T020213Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64825#64825">lirtosia</a></td></tr>
<tr d-ix="44"><td>013</td><td>Pyth</td><td>151126T052640Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64838#64838">isaacg</a></td></tr>
<tr d-ix="45"><td>028</td><td>Octave</td><td>151126T042653Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64835#64835">alephalp</a></td></tr>
<tr d-ix="46"><td>040</td><td>Julia</td><td>151126T033337Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64832#64832">Glen O</a></td></tr>
<tr d-ix="47"><td>023</td><td>CJam</td><td>151126T005427Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64813#64813">Dennis</a></td></tr>
<tr d-ix="48"><td>015</td><td>Pyth</td><td>151126T010134Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64815#64815">Dennis</a></td></tr>
<tr d-ix="49"><td>072</td><td>Matlab</td><td>151126T010250Z</td><td><a href="https://codegolf.stackexchange.com/questions/64812/count-sums-of-two-squares/64816#64816">Luis Men</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 45 + 1 (<code>-a</code>) = 46 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_=!$_+4*grep{$_=sqrt&quot;@F&quot;-$_*$_;!/\./}1..sqrt
</code></pre>
<p><a href="https://tio.run/##FctLCsIwFEbh@b@KGjKqJM29TfqgKI6cuQMhiBQtaBvTzsStG@vwfHBCHx8uXe/TM3QhDuMiIH2m9pnokvS7jfRbm99iH95rza@4iMNRKOlz6btNcdbFh7T@e0oGBEYJC4cKNRq0oBUJxKASZEEOVIFqUANqwQa8PgwuwRbsvlNYhmmckzo5bcgkdQk/" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-x</code></a>, 11 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>õUn)ï £¶Xx²
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LXg&amp;code=9VVuKe8go7ZYeLI&amp;input=MjU" rel="nofollow noreferrer">Try it</a></p>
<pre><code>õUn)ï £¶Xx²     :Implicit input of integer U
õ               :Inclusive range from U to
 Un             :  -U
   )            :End range
    ï           :Cartesian product with itself
      £         :Map each X
       ¶        :  Test U for equality with
        Xx      :    X reduced by addition after
          ²     :      Squaring each
                :Implicit output of sum of resulting array
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 39 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(n)sum(rowSums(merge(-n:n,-n:n)^2)==n)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dVFLasMwECVbnUJ40xmQQXZDMCZa5ALZdJmk4LpyCMiKI0uEniUbt9BD9CjtaUqk2jVNDcNo5um9N_pcXk33Vol3Z6s4-7zbgsbW1WCO5wdXt1BLs5cQ61yza8LHFIXQGOhfsw8rWytKIAmjcx_c58wXvAeHdoxnPX8AQyTphGBo_ziO9eN6HrxuSXxiQLKYsLnV8_78A_4r_nfgWOMviYQY2Tpl6TKm5dNBP8Na8DzhnPlHvSZ2dLZxVtRF06gXqJjfRyRlYSFaKUXlyRUqpxErlILgt2HpToi-vt8hi7Y6QtKYg7Y_HCThB7surN8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>I think this is a really compact solution for an R answer. Here, <code>merge</code> function creates the cartesian product of the range from the <code>-n</code> to <code>n</code> with itself (quite a generous estimation to avoid creating of new variables). Then each value is squared, values in each row are summed and the sum is compared to <code>n</code>. Thus the number of matches is produced.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>S</code>, 7 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ṄIDṖ²ʂ=
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVFMSVCOSU4NElEJUUxJUI5JTk2JUMyJUIyJUNBJTgyJTNEJmZvb3Rlcj0maW5wdXQ9MjUmZmxhZ3M9Uw==" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>ṄIDṖ²ʂ=  # Implicit input
ṄI       # Push [-input..input]
  DṖ     # Cartesian product
    ²ʂ   # Square and sum
      =  # Equals input?
         # Sum the list
         # Implicit output
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 8 bytes</h1>
<pre><code>#¹´×+m□ṡ
</code></pre>
<p><a href="https://tio.run/##ARoA5f9odXNr//8jwrnCtMOXK23ilqHhuaH///8xMA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a> or <a href="https://tio.run/##AR8A4P9odXNr/23igoHFgDI2/yPCucK0w5crbeKWoeG5of//" rel="nofollow noreferrer" title="Husk – Try It Online">Verify first 25 values</a></p>
<h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 8 bytes</h1>
<pre><code>#¹mṁ□π2ṡ
</code></pre>
<p><a href="https://tio.run/##ARoA5f9odXNr//8jwrlt4bmB4pahz4Ay4bmh////MA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>
<pre><code>rNp`²§ċ
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/7/IryDh0KZDy490/zcyPbrb@nC7yqOmNe7/AQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<h2>How it works</h2>
<pre><code>rNp`²§ċ - Main link. Takes n on the left
 N      - Yield -n
r       - Take the range [-n, -n+1, ..., -1, 0, 1, ..., n-1, n]
   `    - Use this list for both arguments for:
  p     -   Cartesian product
    ²   - Square each number
     §  - Take the sums of each pair
      ċ - Count the number of times n appears
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 7 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>(ŸãnOQO
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f9f4@iOw4vz/AP9//83MgUA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/X@x6dgkP3slhUdtkxSU7P1c/msc3XF4cZ6/X6D/f53/AA" rel="nofollow noreferrer">verify the test cases in the range <span class="math-container">\$[0,100]\$</span></a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>(        # Get the negative of the (implicit) input-integer
 Ÿ       # Push a list in the range [(implicit) input-integer, -input]
  ã      # Get the cartesian product of this list, creating all possible pairs
   n     # Square each value in each pair
    O    # Sum each inner pair
     Q   # Check for each sum whether it's equal to the (implicit) input-integer
         # (1 if truthy; 0 if falsey)
      O  # And sum those
         # (after which the result is output implicitly)
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/maxbergmark/mathgolf/blob/master/math_golf.txt" rel="nofollow noreferrer">MathGolf</a>, 9 <a href="https://github.com/maxbergmark/mathgolf/blob/master/code_page.py" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>╤■mæ²Σk=Σ
</code></pre>
<p><a href="https://tio.run/##y00syUjPz0n7///R1CWPpi3IPbzs0KZzi7Ntzy3@/9@Ay5DL0IDLyJTL0hLIMAAA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>╤         # Take the (implicit) input-integer, and push a list in the range [-input, input]
 ■        # Take the cartesian product of this, creating a list of all possible pairs
  mæ      # Map these pairs to, using the following four commands:
    ²     #  Take the square of both values in the pair
     Σ    #  Sum those
      k=  #  And check whether it's equal to the input-integer (1 if truthy; 0 if falsey)
  Σ       # After the map, sum the list
          # (after which the entire stack joined together is output implicitly)
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/cairdcoinheringaahing/AddPlusPlus" rel="nofollow noreferrer">Add++</a>, 31 bytes</h1>

<pre><code>D,f,@,.5^1+iR2€Ω^d0BFB]d‽+A€=¦+
</code></pre>

<p><a href="https://tio.run/##S0xJKSj4/99FJ03HQUfPNM5QOzPI6FHTmnMr41IMnNycYlMeNezVdgSK2B5apv2/KDEvPdXKyIzLDczS4eJMyMxLSa0AMjJ1DYFkCoybUJRaAqRU0uxgIv5Akf8A" rel="nofollow noreferrer" title="Add++ – Try It Online">Try it online!</a></p>

<h2>How it works</h2>

<p>This defines a function, \$f\$, that takes the input, \$x\$, as an argument and returns the correct output. We start by yielding \$y := \lfloor\sqrt{x}+1\rfloor\$. We then push the range \$a := [1, 4, ..., y^2]\$, the list of square numbers up to the smallest square number larger than \$x\$. We then duplicate this array and push \$0\$ to the stack. At this point, the stack looks like this, for an input of \$25\$:</p>

<pre><code>[[1 4 9 16 25 36] [1 4 9 16 25 36] 0]
</code></pre>

<p>We then collect these values into a single list, which yields the list of \$n^2\$ for each \$n \in [-y, y]\$. We then duplicate this list and operate the <em>table</em> operator over the addition command. The <em>table</em> operator takes a dyad, \$g(p, q)\$, and two arrays, \$A\$ and \$B\$. It then takes the <a href="https://en.wikipedia.org/wiki/Cartesian_product" rel="nofollow noreferrer">Cartesian Product</a> of \$A\$ and \$B\$ and iterates \$g(a, b)\$ over each pair \$(a, b)\$ where \$a \in A\$ and \$b \in B\$.</p>

<p>In this code, this yields the array \$\big[a^2+b^2 \: | \: a, b \in [-y, y]\big]\$. We then compare each element of this list with the input, yielding a boolean array. Finally, we count the number of \$1\$s in this array by taking its sum, and returning that total.</p>

<p>Most of the code should be understandable when paired with the explanation. A few of the overlooked commands:</p>

<ul>
<li><code>Ω</code> : The <em>reverse</em> operator. Takes a dyad and reverses the order of the arguments</li>
<li><code>‽</code> : The <em>table</em> operator, as described above.</li>
<li><code>¦</code> : The <em>fold</em> operator. Takes an array and a dyad and reduces by the dyad. <code>¦+</code> is an alias for sum.</li>
</ul>
</div>
<div id="pu9" class="pu"><h1>PARI/GP, <s>34</s> 28 bytes</h1>

<p>Using generating functions:</p>

<p>Saved 6 bytes thanks to <a href="https://codegolf.stackexchange.com/users/2537/mitch-schwartz">Mitch Schwartz</a>.</p>

<pre><code>n-&gt;sum(i=-n,n,x^i^2)^2\x^n%x
</code></pre>

<hr>

<p>Using built-ins, 33 bytes (saved 1 byte thanks to <a href="https://codegolf.stackexchange.com/users/2537/mitch-schwartz">Mitch Schwartz</a>.):</p>

<pre><code>n-&gt;if(n,2*qfrep(matid(2),n)[n],1)
</code></pre>

<blockquote>
  <p>qfrep(q,B,{flag=0}): vector of (half) the number of vectors of norms from 1 to B for the integral and definite quadratic form q. If flag is 1, count vectors of even norm from 1 to 2B.</p>
</blockquote>

<hr>
</div>
<div id="pu10" class="pu"><h1>ASP, 53 + 4 = 57 bytes</h1>

<pre><code>#show N:N=#count{o(A,B):k=A**2+B**2,A=-k..k,B=-k..k}.
</code></pre>

<p><a href="https://en.wikipedia.org/wiki/Answer_set_programming" rel="nofollow noreferrer">Answer Set Programming</a> is a logical language, similar to prolog.
I use here the <a href="https://potassco.org" rel="nofollow noreferrer">Potassco implementation</a>, <em>clingo</em>.</p>

<p>Input is taken from parameters (<code>-ck=</code> is 4 bytes long). Call example:</p>

<pre><code>clingo -ck=25
</code></pre>

<p>Output sample:</p>

<pre><code>12
</code></pre>

<p>You can try it in your <a href="https://potassco.org/clingo/run/" rel="nofollow noreferrer">browser</a> ; unfortunately, this method doesn't handle call flags, so you need to add the line <code>#const k=25</code> in order to make it work.</p>
</div>
<div id="pu11" class="pu"><h1>Axiom 115 bytes</h1>

<pre><code>g(n)==(v:INT:=truncate(sqrt(n)::Float);c:=0;for i in -v..v repeat for j in -v..v repeat if i^2+j^2=n then c:=c+1;c)
</code></pre>

<p>ungolfed</p>

<pre><code>gg(n:NNI):NNI== 
   v:NNI:=truncate(sqrt(n)::Float)
   c:NNI:=0
   for i in -v..v repeat
      for j in -v..v repeat
          if i^2+j^2=n then c:=c+1
   c
</code></pre>

<p>results</p>

<pre><code>(5) -&gt; [i,g(i)]  for i in 0..25
   Compiling function g with type NonNegativeInteger -&gt; NonNegativeInteger
   (5)
   [[0,1], [1,4], [2,4], [3,0], [4,4], [5,8], [6,0], [7,0], [8,4], [9,4],
    [10,8], [11,0], [12,0], [13,8], [14,0], [15,0], [16,4], [17,8], [18,4],
    [19,0], [20,8], [21,0], [22,0], [23,0], [24,0], [25,12]]
                                      Type: Tuple List NonNegativeInteger
</code></pre>

<p>dobious results</p>

<pre><code>(13) -&gt; g(10018)
   (13)  8
                                                    Type: PositiveInteger
(14) -&gt; g(10019)
   (14)  0
                                                 Type: NonNegativeInteger
(15) -&gt; g(10020)
   (15)  0
</code></pre>
</div>
<div id="pu12" class="pu"><h2>J, 16 bytes</h2>

<pre><code>+/@,@:=+&amp;*:/~@i:
</code></pre>

<p>This is a monadic verb (in other words, a unary function).
<a href="https://tio.run/nexus/j#@5@mYGuloK3voONgZautpmWlX@eQafU/NTkjXyFNwcj0PwA" rel="nofollow noreferrer" title="J – TIO Nexus">Try it online</a> or <a href="https://tio.run/nexus/j#@5@mYGuloK3voONgZautpmWlX@eQafU/NTkjX0FDR08hTclAUyFTT8HI7D8A" rel="nofollow noreferrer" title="J – TIO Nexus">see it pass all test cases</a>.</p>

<h2>Explanation</h2>

<pre><code>+/@,@:=+&amp;*:/~@i:  Denote input by n
              i:  The array of integers from -n to n
           /~@    Take outer product wrt the following function:
       +           the sum of
        &amp;*:        squares of both inputs
                  This results in a 2D array of a^2+b^2 for all a, b between -n and n
      =           Replace by 1 those entries that are equal to n, and others by 0
   ,@:            Flatten the binary matrix
+/@               Take its sum
</code></pre>
</div>
<div id="pu13" class="pu"><h1>C++, 81 bytes</h1>

<pre class="lang-c++ prettyprint-override"><code>#define F(x) for(int x=~n;x++&lt;n;)
void f(int n,int&amp;r){r=0;F(a)F(b)r+=a*a+b*b==n;}
</code></pre>
<p>Returns via reference parameter. Simply two ranges over <code>[-n,n]</code>, so it works for <code>n=0</code>.</p>
</div>
<div id="pu14" class="pu"><h1>PHP, 80 Bytes</h1>

<pre><code>for($m=-$a=1+$argv[1];++$m&lt;$a;)for($n=-$a;$n++&lt;$a;)$c+=$a-1==$m**2+$n**2;echo$c;
</code></pre>
</div>
<div id="pu15" class="pu"><h1>PHP, 70 bytes, not competing</h1>
<pre><code>for($x=-1;$x++&lt;=$n=$argv[1];)$s+=(-($n%($x-~$x)&lt;1))**$x*4;echo$n?$s:1;
</code></pre>
<p>algorithm stolen from one of the Python answers ... I forgot which one; wanted to at least partially understand what´s happening before I posted.</p>
</div>
<div id="pu16" class="pu"><h1>Python 2, 44 bytes</h1>

<pre><code>f=lambda n,x=1:+(x&gt;n)or(n%x&lt;1)-f(n,x+2)/4&lt;&lt;2
</code></pre>

<p>This is almost the same as xsot's <a href="https://codegolf.stackexchange.com/a/65077/2537">solution</a> (which is based on Peter Taylor's <a href="https://codegolf.stackexchange.com/a/65326/2537">solution</a>), but saves 8 bytes by simplifying the way signs are handled.</p>

<p>Note that for a full program, we can save 2 bytes in the function without incurring a cost outside the function:</p>

<pre><code>f=lambda n,x=1:x&gt;n or(n%x&lt;1)-f(n,x+2)/4&lt;&lt;2
print+f(input())
</code></pre>

<p>Two additional bytes for a full program this way:</p>

<pre><code>n=input()
f=lambda x:x&gt;n or(n%x&lt;1)-f(x+2)/4&lt;&lt;2
print+f(1)
</code></pre>

<p>For <code>n &gt; 0</code> there is a very legible 40-byte solution:</p>

<pre><code>f=lambda n,x=1:n/x and(n%x&lt;1)*4-f(n,x+2)
</code></pre>
</div>
<div id="pu17" class="pu"><h1>Python 2, <s>69</s> <s>55</s> <s>53</s> 52 bytes</h1>

<pre><code>f=lambda n,x=1:+(x&gt;n)or(2-x%4)*(n%x&lt;1)+f(n,x+2)/4&lt;&lt;2
</code></pre>

<p>This is a recursive function based off <a href="https://codegolf.stackexchange.com/a/65326/45268">Peter Taylor's excellent solution</a>.</p>
</div>
<div id="pu18" class="pu"><h1>Swift 2.0, <s>110</s> <s>108</s> 107 bytes</h1>

<pre><code>var n=Int(readLine()!)!,c=0;for(var i = -n;i&lt;=n;i++){for(var j = -n;j&lt;=n;j++){if i*i+j*j==n{c++}}};print(c)
</code></pre>

<p>First attempt</p>
</div>
<div id="pu19" class="pu"><h1>Ruby, <s>66</s> <s>58</s> <s>56</s> 54 bytes</h1>

<pre><code>-&gt;n{r=-n..n;r.map{|x|r.count{|y|n==x*x+y*y}}.reduce:+}
</code></pre>

<p>Thanks to sherlock9.</p>

<p><strong>56 bytes</strong></p>

<pre><code>-&gt;n{r=-n..n;r.map{|x|r.count{|y|n==x**2+y**2}}.reduce:+}
</code></pre>

<p><strong>58 bytes</strong></p>

<pre><code>-&gt;n{c=0;r=(-n..n);r.map{|x|c+=r.count{|y|n==x**2+y**2}};c}
</code></pre>

<p><strong>66 bytes</strong></p>

<pre><code>-&gt;n{c=0;(-n..n).each{|x|c+=n.downto(-n).count{|y|n==x**2+y**2}};c}
</code></pre>

<p><strong>Ungolfed:</strong></p>

<pre><code>-&gt; n {
  r = -n..n
  r.map { |x|
    r.count { |y|
      n == x*x + y*y
    }
  }.reduce:+
}
</code></pre>

<p><strong>Usage:</strong></p>

<pre><code>-&gt;n{r=-n..n;r.map{|x|r.count{|y|n==x*x+y*y}}.reduce:+}[25]
=&gt; 12
</code></pre>
</div>
<div id="pu20" class="pu"><h1>Python, 57 bytes</h1>
<p>Nice challenge. Unfortunately I'm not getting it shorter than this at the moment.</p>
<pre><code>lambda n:0**n+sum(2-d%4for d in range(1,n+1)if d%2&gt;n%d)*4
</code></pre>
</div>
<div id="pu21" class="pu"><h2>Python (<strike>59 57</strike> 56 bytes)</h2>

<pre><code>lambda n:0**n+sum((-(n%(x-~x)&lt;1))**x*4for x in range(n))
</code></pre>

<p><a href="http://ideone.com/nwd5fE" rel="nofollow noreferrer">Online demo</a></p>

<p>As with my CJam answer, this uses Möbius inversion and runs in pseudoquasilinear time.</p>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/21487/sp3000">Sp3000</a> for 2 bytes' savings, and <a href="https://codegolf.stackexchange.com/users/30688/feersum">feersum</a> for 1.</p>
</div>
<div id="pu22" class="pu"><h2>Python 3, <s>68</s> <s>61</s> 60 bytes</h2>
<pre><code>lambda n:0**n+4*sum(i**.5%1+(n-i)**.5%1==0for i in range(n))
</code></pre>
<p>Using two nested list comprehensions is too expensive. Instead, this checks if both coordinates on the circle of radius sqrt(n) are integers.</p>
<p><em>Peter Taylor has beaten this with a <a href="https://codegolf.stackexchange.com/a/65326/39328">Moebius-inversion based approach</a>.</em></p>
</div>
<div id="pu23" class="pu"><h2>CJam (<strike>25 24 22</strike> 21 bytes)</h2>

<pre><code>{:X!X{X\2*)%!4*\-}/z}
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=17%2C%0A%0A%7B%3AX!X%7BX%5C2*)%25!4*%5C-%7D%2Fz%7D%0A%0A%25%60" rel="noreferrer">Online demo</a></p>

<p>This runs in pseudoquasilinear time* and uses the statement from the OEIS that</p>

<blockquote>
  <p>Moebius transform is period 4 sequence [ 4, 0, -4, 0, ...]. - Michael Somos, Sep 17 2007</p>
</blockquote>

<p>The input <code>0</code> is obviously a special case (Möbius tranforms and annihilators don't go well together), but ended up only costing one char.</p>

<p>* Pseudo- because it's quasilinear in the value of the input, not the size of the input; quasi because it does <code>Theta(n)</code> operations on integers of size on the order of <code>n</code>; a <code>b</code>-bit mod operation should take <code>b lg b</code> time, so overall this takes <code>Theta(n lg n lg lg n)</code> time.</p>
</div>
<div id="pu24" class="pu"><h2>C++, 175 bytes</h2>
<pre><code>#include&lt;iostream&gt; using namespace std; int main() {int i,j,k=0,n; cin&gt;&gt;n; for(i=1;i&lt;n;++i) for(j=1;j&lt;n;++j) if(i*i+j*j==n) ++k; for(i=1;i&lt;=n;++i) if(i*i==n) ++k; cout&lt;&lt;4*k;}
</code></pre>
<p>Ungolfed</p>
<pre><code>#include&lt;iostream&gt;
using namespace std;
int main()
{
int i,j,k=0,n;
cin&gt;&gt;n;
for(i=1;i&lt;n;++i)
 for(j=1;j&lt;n;++j)
  if(i*i+j*j==n)
   ++k;
for(i=1;i&lt;=n;++i)
 if(i*i==n)
  ++k;
cout&lt;&lt;4*k;
}
</code></pre>
</div>
<div id="pu25" class="pu"><h1>Pyth, <s>41</s> <s>35</s> <s>33</s> <s>30</s> 27 bytes</h1>
<p><a href="https://pyth.herokuapp.com/?code=%3FQ*F%2B4m.%26tt%25ed4hhdr-PQ2%208%201&amp;test_suite=1&amp;test_suite_input=0%0A1%0A2%0A3%0A4%0A5%0A6%0A7%0A8%0A9%0A10%0A21%0A65%0A362880&amp;debug=1" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Edit:</strong> Thanks to <a href="http://chat.stackexchange.com/users/115644/isaacg">isaacg</a>, I got <code>m</code> and <code>*F</code> to work! YES!</p>
<pre><code>?Q*F+4m.&amp;tt%ed4hhdr-PQ2 8 1
                                (implicit) Q = input()
?Q                              If Q != 0
      m                           Map to d (exponent, prime) from ...
                  r-PQ2 8         run-length-encoded(PQ with 2's removed)
       .&amp;                           Bitwise and
           %ed4                       d[-1] % 4
         tt                           -2
                hd                  with d[0]
               h                      +1
    +4                            Append 4 to the resulting array
  *F                              Then multiply it all together
                          1     Else 1
</code></pre>
<p><strong>Edit:</strong> Put the bitwise and back in for more byte savings! Also I removed all the &quot;Formerly&quot; stuff. It was starting to get cluttered.</p>
<p>Thanks to <a href="https://codegolf.stackexchange.com/users/7416/aditsu">aditsu</a> and his CJam solution, and to <a href="http://chat.stackexchange.com/users/138131/maltysen">maltysen</a> and his tips (One day I will get <code>m*Fd</code> to work. One day...)</p>
<pre><code>J4Vr-PQ2 8=J*J.&amp;tt%eN4hhN;?QJ1
                                (implicit) Q=input()
J4                              J=4
    -PQ2                        Remove all 2's from the prime factorization of Q
   r     8                      run-length encode (exponent, prime factor)
  V                      ;      For N in range( the above ):
          =J*J                      J = J * ...
                tt%eN4                N[-1] mod 4 -2 
                      hhN             (exponent + 1)
              .&amp;                    bitwise and
                          ?QJ1  if Q != 0 print(J) else print(1)
</code></pre>
<p>Note that,</p>
<ul>
<li><p>if the prime is 1 mod 4, we get <code>-1 &amp; (exponent + 1)</code>, which is <code>exponent + 1</code></p>
</li>
<li><p>but if the prime is 3 mod 4, we get <code>1 &amp; (exponent + 1)</code>, which is <code>0</code> if the exponent is odd, and <code>1</code> if even</p>
</li>
</ul>
<p>Multiply it all together (times 4 at the beginning) and we get the number of sums of two squares that add up to our input.</p>
</div>
<div id="pu26" class="pu"><h1>JavaScript, 89 bytes</h1>

<pre><code>n=prompt()
p=Math.pow
for (x=c=(+n?0:1);x&lt;=n;x++)if(x&amp;&amp;p(n-p(x,2),.5)%1===0)c+=4
alert(c)
</code></pre>

<p>I know this isn't the shortest JavaScript answer even if I were to remove the i/o lines, but I do think it is the best performing JS answer giving me the result for a million within a few seconds (ten million took about a minute).</p>
</div>
<div id="pu27" class="pu"><h1>Python 2, 68 bytes</h1>
<pre><code>def x(n):r=range(-n,n+1);print sum(a*a+b*b==n for a in r for b in r)
</code></pre>
<p>Defines a function called <code>x()</code> that takes a number n.</p>
<p>Try it online.
<a href="http://ideone.com/aRoxGF" rel="nofollow noreferrer">http://ideone.com/aRoxGF</a></p>
</div>
<div id="pu28" class="pu"><h2>C, <strike>224</strike> <strike>219</strike> <strike>182</strike> <strike>175</strike> 158 bytes</h2>
<p>Non-golfed version (with descriptive variables):</p>
<pre><code>#include &lt;math.h&gt;

main (argc, argv) 
    char **argv;
{

    int n, count, max, i, j;
    n = atoi (argv[1]);
    count = 0;
    max = sqrt ((float) n);

    for (i = -max; i &lt;= max; i++)
        for (j = -max; j &lt;= max; j++)
            if (i * i + j * j == n)
                count++;

    printf (&quot;%d&quot;, count);
}
</code></pre>
<p>Golfed version (with short variables):</p>
<pre><code>#include&lt;math.h&gt;
main(c,v)char**v;{int n,o,x,i,j;n=atoi(v[1]);o=0;x=sqrt((float)n);for(i=-x;i&lt;=x;i++)for(j=-x;j&lt;=x;j++)if(i*i+j*j==n)o++;printf(&quot;%d&quot;,o);}
</code></pre>
<p><strong>Update</strong> Sorry about the multiple edits, I'm learning how to abuse K&amp;R-style C ;)</p>
</div>
<div id="pu29" class="pu"><h2>Python, <s>133</s> 129 bytes</h2>
<pre><code>from itertools import*
n=input()
l=[];s=0
for i in range(-n,n+1):l.append(i**2)
for j in product(l,l):
 if sum(j)==n:s+=1
print s
</code></pre>
<p>This demonstrates the use of itertools cartesian product. <a href="http://ideone.com/iq0N9h" rel="nofollow noreferrer">Try it online</a></p>
</div>
<div id="pu30" class="pu"><h1>Python 3, <s>93</s> <s>62</s> 69 bytes</h1>
<p>Itertools wasn't working so I used two ranges again, but moved the range out to save bytes.</p>
<p><strong>Edit:</strong> Previous code didn't actually work, since I defined range over n before I defined n.</p>
<pre><code>lambda n:sum(i*i+j*j==n for i in range(-n,n+1)for j in range(-n,n+1))
</code></pre>
</div>
<div id="pu31" class="pu"><h1>CJam, 28</h1>

<pre><code>qi_mF{3a&gt;},{~)\4%2-&amp;}%4+:*1?
</code></pre>

<p>Not really short, but efficient. E.g. the result for 15625 is instantly 28. Uses the factorization-based formula from OEIS.<br>
<a href="http://cjam.aditsu.net/#code=qi_mF%7B3a%3E%7D%2C%7B~)%5C4%252-%26%7D%254%2B%3A*1%3F&amp;input=15625" rel="nofollow">Try it online</a></p>

<p><strong>Explanation:</strong></p>

<pre><code>qi       read input and convert to integer
_        make a copy (will be used to handle the 0 case at the end)
mF       factorize into [prime exponent] pairs
{…},     filter the array of pairs
  3a&gt;    with the condition that the pair is greater than [3]
          which means the prime factor must be ⩾3
{…}%     transform each pair as follows:
  ~      dump the prime factor and exponent onto the stack
  )      increment the exponent
  \      swap with the prime
  4%     get the remainder mod 4 (it will be 1 or 3)
  2-     subtract 2 (resulting in -1 or 1)
  &amp;      bitwise AND with the incremented exponent (see below)
4+       append a 4 to the array
:*       multiply all
1?       if the input was 0, use 1, else use the above result
</code></pre>

<p>Some details about the calculation:</p>

<ul>
<li>if the prime is 1 mod 4, the code calculates <code>(exponent + 1) &amp; -1</code>, which is <code>exponent + 1</code></li>
<li>if the prime is 3 mod 4, the code calculates <code>(exponent + 1) &amp; 1</code>, which is 0 if the exponent is odd, and 1 if even</li>
</ul>

<p>All these values multiplied together and multiplied by 4 are exactly the OEIS formula.</p>
</div>
<div id="pu32" class="pu"><h1><a href="https://github.com/dale6john/candy" rel="nofollow">Candy</a>, <s>17</s> 14 bytes</h1>

<p>Input pushed onto stack initially</p>

<p><s><code>~TbAT1C(sWs+Aeh)Z</code></s></p>

<p><code>~T0C(sWs+Aeh)Z</code></p>

<pre><code>peekA    # copy arg from stack to register A
range2   # create double sided range on stack, -A, 1-A, ... A-1, A
digit0   # prefix argument to 'cart', 
cart     # cartesian product of current stack(0), and other stack(0)
while    # while stack not empty
  sqr    # pop and square and push
  swap   # swap two stack elements
  sqr    # pop and square and push
  add    # pop and pop and add and push
  pushA  # push original argument
  equal  # equality test 0/1
  popAddZ  # Z := Z + pop
endwhile
pushZ    # push Z onto stack, will be output to stdout on termination
</code></pre>
</div>
<div id="pu33" class="pu"><h1><a href="https://github.com/ETHproductions/Japt" rel="nofollow noreferrer">Japt</a>, <s>42</s> <s>37</s> 33 bytes</h1>

<p><strong>Japt</strong> is a shortened version of <strong>Ja</strong>vaScri<strong>pt</strong>. <a href="https://codegolf.stackexchange.com/a/62685/42545">Interpreter</a></p>

<pre><code>V=Un oU+1;Vr@X+(Vf_p2 +Y*Y¥U)l ,0
</code></pre>

<h3>How it works</h3>

<pre><code>           // Implicit: U = input number
V=Un oU+1  // Set variable V to range(-U, U+1). Ends up like [-U,-U+1,...,U-1,U]
Vr@    ,0  // Reduce each item Y in V with this function, starting at 0:
X+(     l  //  Return the previous value X + the length of:
Vf_p2      //   V filtered by items Z where Z*Z
+Y*Y==U)   //    + Y*Y equals U.
           // This ends up as the combined length of all fitting pairs of squares.
           // Implicit: return last expression
</code></pre>

<p>Perhaps there's a better technique; suggestions are welcome.</p>
</div>
<div id="pu34" class="pu"><h1>Julia, <s>89</s> <s>79</s> 63 bytes</h1>



<pre class="lang-julia prettyprint-override"><code>g(x)=cos(π*x^.5)^2÷1
a(n)=(n==0)+4sum([g(i)g(n-i)for i=1:n])
</code></pre>

<p>This is a named function <code>a</code> which accepts an integer and returns a float. It calls a helper function <code>g</code>.</p>

<p>Ungolfed:</p>

<pre class="lang-julia prettyprint-override"><code>function g(x::Integer)
    floor(cos(π*sqrt(x))^2)
end

function a(n::Integer)
    (n == 0) + 4*sum([g(i)*g(n-i) for i=1:n])
end
</code></pre>

<p>The approach here uses a simplification of Wesley Ivan Hurt's formula listed on OEIS. The simplification was found by Glen O, the very same person who shaved 26 bytes off of this answer!</p>
</div>
<div id="pu35" class="pu"><h1>Matlab 41 bytes</h1>

<p>Even smaller as the previous answers</p>

<pre><code>@(n)nnz(~mod(sqrt(n-(1:n^.5).^2),1))*4+~n
</code></pre>

<p>Essentially Agawa001's answer with power and sqrt replaced</p>
</div>
<div id="pu36" class="pu"><h2>Python, <s>76</s> 74 bytes</h2>

<p>I'm sure this can be golfed more, but I need to get back to work.</p>

<pre><code>lambda n:sum([1for a in range(-n,n+1)for b in range(-n,n+1)if a*a+b*b==n])
</code></pre>

<p><a href="http://ideone.com/mLUeBU" rel="nofollow">Try it online</a></p>

<p>Thanks to @mathmandan for taking off 2 bytes.</p>
</div>
<div id="pu37" class="pu"><h1>Matlab, <s>63</s> 50 bytes</h1>

<pre><code>@(y)nnz(~mod(sqrt(y-power((1:sqrt(y)),2)),1))*4+~y
</code></pre>

<hr>

<ul>
<li><p>This does beat the other same-entitled code, thus I put it :D.</p></li>
<li><p>The program finds the positive integer solutions then multiply by 4 to encompass negative ones.</p></li>
<li><p>It can perform all 25 first test cases</p>

<pre><code>for i=1:25 ans(i)
end

   1

   4

   4

   0

   4

   8

   0

   0

   4

   4

   8

   0

   0

   8

   0

   0

   4

   8

   4

   0

   8

   0

   0

   0

   0

   12
</code></pre></li>
</ul>
</div>
<div id="pu38" class="pu"><h1>Perl 5, 52 bytes</h1>
<p>56 bytes:</p>
<pre><code>$n=pop;for$a(@a=-$n..$n){map$i+=$_*$_+$a*$a==$n,@a}say$i
</code></pre>
<p>If output can be in base 1, then 52 bytes:</p>
<pre><code>$n=pop;for$a(@a=-$n..$n){print$_*$_+$a*$a==$n for@a}
</code></pre>
</div>
<div id="pu39" class="pu"><h1>Mathematica, 13 bytes</h1>
<p>If built-ins are allowed, this is how to do it in Mathematica.</p>
<pre><code>2~SquaresR~#&amp;
</code></pre>
<hr />
<p>For 0 &lt; = n &lt;= 100</p>
<pre><code>2~SquaresR~# &amp; /@ Range[0, 100]
</code></pre>
<blockquote>
<p>{1, 4, 4, 0, 4, 8, 0, 0, 4, 4, 8, 0, 0, 8, 0, 0, 4, 8, 4, 0, 8, 0, 0,
0, 0, 12, 8, 0, 0, 8, 0, 0, 4, 0, 8, 0, 4, 8, 0, 0, 8, 8, 0, 0, 0, 8,
0, 0, 0, 4, 12, 0, 8, 8, 0, 0, 0, 0, 8, 0, 0, 8, 0, 0, 4, 16, 0, 0,
8, 0, 0, 0, 4, 8, 8, 0, 0, 0, 0, 0, 8, 4, 8, 0, 0, 16, 0, 0, 0, 8, 8,
0, 0, 0, 0, 0, 0, 8, 4, 0, 12}</p>
</blockquote>
</div>
<div id="pu40" class="pu"><h1>JavaScript (ES6), <s>66</s> 60 bytes</h1>

<pre class="lang-js prettyprint-override"><code>n=&gt;eval("for(r=0,a=~n;a++&lt;n;)for(b=~n;b++&lt;n;)r+=a*a+b*b==n")
</code></pre>

<p>6 bytes saved thanks to <a href="https://codegolf.stackexchange.com/users/21348/edc65">@edc65</a>!</p>

<h2>Explanation</h2>

<pre class="lang-js prettyprint-override"><code>n=&gt;eval(`              // use eval to allow for loops in an unparenthesised arrow function
  for(r=0,             // r = number of pairs
    a=~n;a++&lt;n;        // a = first number to square
  )
      for(b=~n;b++&lt;n;) // b = second number to square
        r+=a*a+b*b==n  // add one to the result if a^2 + b^2 == n
                       // implicit: return r
`)
</code></pre>

<h2>Test</h2>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>n = &lt;input type="number" oninput='result.innerHTML=(

n=&gt;eval("for(r=0,a=~n;a++&lt;n;)for(b=~n;b++&lt;n;)r+=a*a+b*b==n")

)(+this.value)' /&gt;&lt;pre id="result"&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu41" class="pu"><h2>Haskell, 42 bytes</h2>

<pre><code>f n|q&lt;-[-n..n]=sum[1|a&lt;-q,b&lt;-q,a*a+b*b==n]
</code></pre>

<p>Usage exapmle:</p>

<pre><code>*Main&gt; map f [0..25]
[1,4,4,0,4,8,0,0,4,4,8,0,0,8,0,0,4,8,4,0,8,0,0,0,0,12]
*Main&gt; 
</code></pre>
</div>
<div id="pu42" class="pu"><h2>APL, <s>23</s> <s>20</s> 19 bytes</h2>
<pre><code>{+/⍵=∊∘.+⍨×⍨0,,⍨⍳⍵}
</code></pre>
<p>Explanation:</p>
<pre><code>{+/⍵=∊∘.+⍨×⍨0,,⍨⍳⍵}        Monadic function:
                 ⍳⍵          1 2 3 ... ⍵
               ,⍨            Duplicate
             0,              Concatenate to 0
          ×⍨                 Square everything
      ∘.+⍨                   Make an addition table
     ∊                       Flatten
   ⍵=                        1s where equal to the input
 +/                          Sum up the 1s
</code></pre>
<p>Other than the fact that APL doesn't have J's <code>i:</code> (numbers from -n to n) function, this works pretty much like the J answer.</p>
<p>We can't use a train because getting the <code>-\⍳2×⍵</code> to not parse as <code>(-\) ⍳ (2×⍵)</code> would cost three bytes; similarly with other pair of atops. All those parentheses make the regular function shorter.</p>
<p>Try it <a href="http://tryapl.org/?a=%28%7B+/%u2375%3D%u220A%u2218.+%u2368%D7%u23680%2C%2C%u2368%u2373%u2375%7D%A80%2C%u2373100%29%u22611%204%204%200%204%208%200%200%204%204%208%200%200%208%200%200%204%208%204%200%208%200%200%200%200%2012%208%200%200%208%200%200%204%200%208%200%204%208%200%200%208%208%200%200%200%208%200%200%200%204%2012%200%208%208%200%200%200%200%208%200%200%208%200%200%204%2016%200%200%208%200%200%200%204%208%208%200%200%200%200%200%208%204%208%200%200%2016%200%200%200%208%208%200%200%200%200%200%200%208%204%200%2012&amp;run" rel="nofollow noreferrer">here</a>. The output of <code>1</code> means all values match.</p>
</div>
<div id="pu43" class="pu"><h2>TI-BASIC, 23 bytes</h2>
<pre><code>sum(seq(Σ(X²+Y²=Ans,X,-Ans,Ans),Y,-Ans,Ans
</code></pre>
<p>Pretty straightforward. <code>Σ(</code> is summation.</p>
<p>Strangely, <code>sum(seq(sum(seq(</code> throws an <code>ERR:ILLEGAL NEST</code>, and so does <code>Σ(Σ(</code>, but <code>sum(seq(Σ(</code> is fine. I chose to put the <code>Σ(</code> on the inside to save a close-paren.</p>
</div>
<div id="pu44" class="pu"><h1>Pyth, 13 bytes</h1>

<pre><code>/sM^^R2}_QQ2Q
</code></pre>

<p><a href="https://pyth.herokuapp.com/?code=%2FsM%5E%5ER2%7D_QQ2Q&amp;test_suite=1&amp;test_suite_input=0%0A1%0A2%0A3%0A4%0A5%0A6%0A7%0A8%0A9%0A10&amp;debug=0">Test suite</a></p>

<pre><code>/sM^^R2}_QQ2Q
                 Q = eval(input())
       }_QQ      Inclusive range from -Q to Q (all possible a and b)
    ^R2          Map to their squares
   ^       2     Form all pairs
 sM              Sum pairs
/           Q    Count occurances of Q
</code></pre>
</div>
<div id="pu45" class="pu"><h1>Octave, 28 bytes</h1>

<pre><code>@(n)nnz((a=(-n:n).^2)'+a==n)
</code></pre>
</div>
<div id="pu46" class="pu"><h1>Julia, 40 bytes</h1>



<pre class="lang-julia prettyprint-override"><code>n-&gt;n&gt;0?4sum(i-&gt;(n-i^2)^.5%1==0,1:n^.5):1
</code></pre>

<p>Ungolfed:</p>

<pre class="lang-julia prettyprint-override"><code>function f(n)
  if n==0
    return 1           # Handle special case of n=0
  else
    m=0                # Start the counter at zero
    for i=1:sqrt(n)    # Loop over the values (i) whose squares are
                       # less than n (except zero)
      k=sqrt(n-i^2)    # Find k such that n=k^2+i^2
      if k==floor(k)   # if k is an integer, we've found a pair
        m+=4           # Add one for each of k^2+i^2, (-k)^2+(-i)^2, and the other two
      end
    end
    return m           # Return the resulting count
  end
end
</code></pre>

<p>Note that the loop doesn't include <code>i==0</code>, because when <code>n</code> is a square, it's already included by <code>i=sqrt(n)</code>, and there are only four, not eight, for that form (<code>0^2+k^2, 0^2+(-k)^2, k^2+0^2, (-k)^2+0^2</code>).</p>
</div>
<div id="pu47" class="pu"><h1>CJam, <s>25</s> 23 bytes</h1>

<pre><code>Zri:R#Ym*{Rf-Yf#:+R=},,
</code></pre>

<p>This is a theoretical solution that requires <strong>O(9<sup>n</sup>)</strong> time and memory for input <strong>n</strong>.</p>

<p>At the cost of one extra byte &ndash; for a total of <strong>24 bytes</strong> &ndash; we can reduce the complexity to <strong>O(n<sup>2</sup>)</strong>:</p>

<pre><code>ri:R)Y*Ym*{Rf-Yf#:+R=},,
</code></pre>

<p><a href="http://cjam.tryitonline.net/#code=cmk6UikyKlltKntSZi1ZZiM6K1I9fSws&amp;input=MjU">Try it online!</a></p>

<h3>How it works</h3>

<p>Either</p>

<pre><code>Z                  Push 3.
 ri:R              Read an integer from STDIN and save it in R.
     #             Compute 3**R.
</code></pre>

<p>or</p>

<pre><code>ri:R               Read an integer from STDIN and save it in R.
    )Y*            Add 1 and multiply by 2.
</code></pre>

<p>Then</p>

<pre><code>Ym*                Take the second Cartesian power, i.e., compute all pairs.
   {          },   Filter the pairs:
    Rf-              Subtract R from each.
       Yf#           Square the differences.
          :+         Add the squares.
            R=       Compare with R.
                   If = pushed 1, keep the pair.
                ,  Count the kept pairs.
</code></pre>
</div>
<div id="pu48" class="pu"><h1>Pyth, <s>16</s> 15 bytes</h1>

<pre><code>lfqQs^R2T^}_QQ2
</code></pre>

<p>Try it online in the <a href="https://pyth.herokuapp.com/?code=lfqQs%5ER2T%5E%7D_QQ2&amp;input=25&amp;debug=0" rel="nofollow">Pyth Compiler</a>.</p>

<h3>How it works</h3>

<pre><code>lfqQs^R2T^}_QQ2

          }_QQ   Compute the inclusive range from -Q to Q (input).
         ^    2  Take the second Cartesian power, i.e., compute all pairs.
 f               Filter; for each T in the list of pairs:
     ^R2T          Compute the squares of T's elements.
    s              Add the squares.
  qQ               Compare the sum with Q.
                 If q returned True, keep T.
l                Count the kept pairs.
</code></pre>
</div>
<div id="pu49" class="pu"><h2>Matlab, 72 bytes</h2>

<pre><code>n=input('');m=fix(sqrt(n));m=(-m:m).^2;disp(nnz(bsxfun(@plus,m,m')==n))
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/64812/">64812</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




