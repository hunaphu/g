<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::21327</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>128</td><td>Nix</td><td>250820T112814Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/283238#283238">sterni</a></td></tr>
<tr d-ix="1"><td>011</td><td>Thunno 2</td><td>230809T155549Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/263942#263942">The Thon</a></td></tr>
<tr d-ix="2"><td>030</td><td>Bash</td><td>140219T000815Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21331#21331">user1220</a></td></tr>
<tr d-ix="3"><td>048</td><td>Scala</td><td>220526T213954Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/247892#247892">cubic le</a></td></tr>
<tr d-ix="4"><td>080</td><td>Haskell</td><td>220602T060924Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/248086#248086">Angs</a></td></tr>
<tr d-ix="5"><td>027</td><td>Retina</td><td>220601T191234Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/248062#248062">math jun</a></td></tr>
<tr d-ix="6"><td>326</td><td>brainfuck</td><td>220601T184302Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/248061#248061">nununois</a></td></tr>
<tr d-ix="7"><td>050</td><td>C++ clang</td><td>220527T051205Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/247911#247911">c--</a></td></tr>
<tr d-ix="8"><td>196</td><td>Rust</td><td>220527T094706Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/247918#247918">Sapherey</a></td></tr>
<tr d-ix="9"><td>130</td><td>Python 3</td><td>220527T094229Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/247917#247917">Sapherey</a></td></tr>
<tr d-ix="10"><td>014</td><td>Vyxal</td><td>220526T233632Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/247898#247898">naffetS</a></td></tr>
<tr d-ix="11"><td>011</td><td>05AB1E</td><td>190918T140957Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/193096#193096">Grimmy</a></td></tr>
<tr d-ix="12"><td>nan</td><td></td><td>140315T154035Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/24273#24273">Adam Spe</a></td></tr>
<tr d-ix="13"><td>065</td><td>Python 2.7</td><td>140224T171249Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21989#21989">zheshish</a></td></tr>
<tr d-ix="14"><td>062</td><td>C</td><td>140219T021602Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21349#21349">mattnewp</a></td></tr>
<tr d-ix="15"><td>110</td><td>R</td><td>140222T114435Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21739#21739">Sven Hoh</a></td></tr>
<tr d-ix="16"><td>155</td><td>QBasic</td><td>140222T051431Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21725#21725">DLosc</a></td></tr>
<tr d-ix="17"><td>054</td><td>Perl</td><td>140222T044923Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21724#21724">DLosc</a></td></tr>
<tr d-ix="18"><td>216</td><td>TSQL</td><td>140222T012214Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21711#21711">Jonathan</a></td></tr>
<tr d-ix="19"><td>101</td><td>ECMASCRIPT</td><td>140221T015851Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21616#21616">Michael </a></td></tr>
<tr d-ix="20"><td>140</td><td>C#</td><td>140219T120527Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21382#21382">RobIII</a></td></tr>
<tr d-ix="21"><td>080</td><td>Python 2.7</td><td>140220T180335Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21559#21559">jsedano</a></td></tr>
<tr d-ix="22"><td>nan</td><td></td><td>140220T224559Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21602#21602">yegle</a></td></tr>
<tr d-ix="23"><td>141</td><td>PHP</td><td>140219T035332Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21358#21358">Rob Hoar</a></td></tr>
<tr d-ix="24"><td>085</td><td>JavaScript</td><td>140220T161454Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21548#21548">George R</a></td></tr>
<tr d-ix="25"><td>093</td><td>Haskell</td><td>140220T133857Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21537#21537">bazzargh</a></td></tr>
<tr d-ix="26"><td>032</td><td>k [32 Chars]</td><td>140220T044835Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21497#21497">nyi</a></td></tr>
<tr d-ix="27"><td>024</td><td>GolfScript</td><td>140220T021745Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21488#21488">Ilmari K</a></td></tr>
<tr d-ix="28"><td>121</td><td>Python 3</td><td>140219T194525Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21452#21452">gcq</a></td></tr>
<tr d-ix="29"><td>103</td><td>EcmaScript 6</td><td>140219T191505Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21447#21447">Toothbru</a></td></tr>
<tr d-ix="30"><td>092</td><td>Frink</td><td>140219T185127Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21442#21442">maybeso</a></td></tr>
<tr d-ix="31"><td>nan</td><td>R</td><td>140219T165635Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21427#21427">Carl Wit</a></td></tr>
<tr d-ix="32"><td>nan</td><td>Python</td><td>140219T154309Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21411#21411">TheDocto</a></td></tr>
<tr d-ix="33"><td>071</td><td>XQuery</td><td>140219T135707Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21388#21388">dirkk</a></td></tr>
<tr d-ix="34"><td>050</td><td>Perl</td><td>140219T030450Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21356#21356">Rob Hoar</a></td></tr>
<tr d-ix="35"><td>090</td><td>Mathematica</td><td>140219T010136Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21342#21342">DavidC</a></td></tr>
<tr d-ix="36"><td>070</td><td>Smalltalk</td><td>140219T005736Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21339#21339">blabla99</a></td></tr>
<tr d-ix="37"><td>038</td><td>q [38 Chars]</td><td>140219T025315Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21355#21355">nyi</a></td></tr>
<tr d-ix="38"><td>087</td><td>PHP</td><td>140219T024004Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21353#21353">SameOldN</a></td></tr>
<tr d-ix="39"><td>222</td><td>C++</td><td>140219T022838Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21352#21352">user1076</a></td></tr>
<tr d-ix="40"><td>075</td><td>Ruby</td><td>140219T005818Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21340#21340">Doorknob</a></td></tr>
<tr d-ix="41"><td>103</td><td>Javascript</td><td>140219T003726Z</td><td><a href="https://codegolf.stackexchange.com/questions/21327/letters-in-phone-numbers/21337#21337">Victor S</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nix.dev/manual/nix/2.30/language/index.html" rel="nofollow noreferrer">Nix</a>, 128 bytes</h1>
<pre class="lang-none prettyprint-override"><code>let f=s: __filter(x: x!=[]&amp;&amp;x!=&quot;&quot;)(__split&quot;&quot;s);in __replaceStrings(f&quot;abcdefghijklmnopqrstuvwxyz&quot;)(f&quot;22233344455566677778889999&quot;)
</code></pre>
<p><a href="https://bolt.tvix.dev/?code=with+builtins%3Blet+f%3Ds%3A+filter%28x%3A+x%21%3D%5B%5D%26%26x%21%3D%22%22%29%28split%22%22s%29%3Bin+replaceStrings%28f%22abcdefghijklmnopqrstuvwxyz%22%29%28f%2222233344455566677778889999%22%29%221-800-program%22&amp;trace=false&amp;display_ast=false" rel="nofollow noreferrer">Try it online</a>, though this version is longer since the Tvix implementation (which supports wasm) of the Nix language doesn't support the <code>__</code> prefixed aliases for builtin functions.</p>
<p>The expression returns a function which accepts a string and returns the appropriate phone number:</p>
<pre><code>import ./golf.nix &quot;1-800-golfed&quot;
# =&gt; &quot;1-800-465333&quot;
</code></pre>
<p>I'm mostly posting this because I expected the best solution to be much longer. Nix has no character arithmetic nor a built in way to work with strings character by character. Luckily the output is supposed to be a string, so we can use <a href="https://nix.dev/manual/nix/2.30/language/builtins.html#builtins-replaceStrings" rel="nofollow noreferrer"><code>replaceStrings</code></a> and just have to create the lists of strings it expects. I decided to write a shorter version of <a href="https://nixos.org/manual/nixpkgs/stable/#function-library-lib.strings.stringToCharacters" rel="nofollow noreferrer"><code>stringToCharacters</code></a> by <a href="https://nix.dev/manual/nix/2.30/language/builtins.html#builtins-split" rel="nofollow noreferrer"><code>split</code></a>ting using an empty regex (which still requires some postprocessing). Importing the Nixpkgs library wouldn't have helped, as <code>with import&lt;nixpkgs/lib&gt;;</code> is already pretty long.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 11 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ạż6+kP÷T9vṆ
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVFMSVCQSVBMCVDNSVCQzYlMkJrUCVDMyVCN1Q5diVFMSVCOSU4NiZmb290ZXI9JmlucHV0PTEtODAwLXByb2dyYW0mZmxhZ3M9ZQ==" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>Ạż6+kP÷T9vṆ  # Implicit input
Ạ            # Push the lowercase alphabet
 ż           # Without popping, push [1..26]
  6+         # Add 6 to make it [7..26]
    kP÷      # Floor divide each by pi
       T9v   # Replace the 10 with a 9
          Ṇ  # Transliterate the input
             # Implicit output
</code></pre>
</div>
<div id="pu2" class="pu"><h2>Bash, 30</h2>
<p>Edit: Thank you Doorknob for eliminating 3 chars</p>
<pre><code>tr a-z 22233344455566677778889
</code></pre>
<p>Example:<br></p>
<img src="https://i.sstatic.net/RmNe7.png">
</div>
<div id="pu3" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, <strike>49</strike> 48 bytes</h1>

<pre class="lang-scala prettyprint-override"><code>_.map(c=&gt;if(c&gt;96)(c/3.2+20).toChar min'9'else c)
</code></pre>
<p><a href="https://tio.run/##VczPasJAEMfxu08xeHGXMnEb658IBkpPQilCH6Bs1omJJps1u1Zb8dnj5CJ4m4Hv5@eNrnTXZHsyAT4pBGr92m6KxtLXqc74A7oEslsP787BdQCwpRzyJXyHtrQ7WKWPq/uJau2EWaVlLkyazKQw40kUv8RKRqH5KHQLdWlHyYgqT2BkB@CYhsqKXAx1Znh6V5T7Q1Xbxh1bH06/58vf/1DKwVOqlELOkXtkgCyQCfYGGWGvUCWL@Wz6Nolf@4Fbdwc" rel="nofollow noreferrer" title="Scala – Try It Online">Try it online!</a></p>
<p>Maps <code>abcdefghijklmnopqrstuvwxyz</code> to <code>22233344455566677778889999</code> via <code>(c/3.2+20).toChar min'9'</code></p>
<p>(saved 1 byte thanks to Kevin Cruijssen)</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 80 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>d c|elem c['a'..'z']=&quot;22233344455566677778889999&quot;!!(fromEnum c-97)|1&gt;0=c
l=map d
</code></pre>
<p><a href="https://tio.run/##DcsxDsIgFADQ3VP8EhN0oKFQKB1wc3NzNA6E1mgEbIDGxPTuyNvf06T37FwpE9htdrMHe8MGty3@4btGjDHOed/3Qggp5VAppcYKNc3hET/@HNZ6yDgct@5Etd057c0CU/HmFUDDsuZrjpcAe3CAOqIoJSmbCF8TEyp/" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 27 bytes</h1>
<pre><code>T`l`22233344455566677778889
</code></pre>
<p><a href="https://tio.run/##K0otycxLNPz/PyQhJ8HIyMjY2NjExMTU1NTMzMwcCCwsLCz//zfUtTAw0C0oyk8vSszVraisAgA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a></p>
<p>Port of the Bash solution. <code>T</code>ransliterates each <code>l</code>owercase letter to a digit between <code>2</code> and <code>9</code>. The list is implicitly padded with 3 additional <code>9</code>s</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/TryItOnline/brainfuck" rel="nofollow noreferrer">brainfuck</a>, 326 bytes</h1>
<pre><code>,[&gt;+[-[---&lt;]&gt;&gt;-]&lt;--&lt;&lt;&lt;[&gt;&gt;&gt;&gt;+&lt;[-&gt;[-]&gt;+&lt;&lt;]&gt;[-&lt;&lt;+&gt;&gt;]&gt;[-&lt;&lt;+&gt;&gt;]&lt;&lt;-&lt;&lt;+&lt;-]+&gt;&gt;[&lt;&lt;-&gt;[-]&gt;-&gt;[&lt;+&gt;+]&lt;-&gt;&gt;+++++[&gt;+++++&lt;-]&gt;[&lt;+&gt;-]+&lt;&lt;&lt;[&gt;&gt;-&lt;+&lt;-]&gt;[&lt;+&gt;-]&gt;[&gt;-&lt;[-]]&gt;[&lt;&lt;&lt;-&gt;&gt;&gt;-]++++[&gt;++++&lt;-]&gt;+&lt;&lt;&lt;&lt;[&gt;&gt;+&gt;&gt;[-&lt;&lt;[-]&gt;+&gt;]&lt;&lt;[-&lt;+&gt;]&gt;[-&gt;+&lt;]&gt;-&lt;&lt;&lt;&lt;&lt;+&gt;-]&gt;&gt;&gt;&gt;[-]&lt;&lt;&lt;[&lt;&lt;-&gt;&gt;-]&lt;+++&lt;[-&gt;-[&gt;+&gt;&gt;]&gt;[+[-&lt;+&gt;]&gt;+&gt;&gt;]&lt;&lt;&lt;&lt;&lt;]&gt;[-]&gt;[-]+++++[&gt;++++++++++&lt;-]&gt;.[-]&lt;&lt;]&lt;&lt;[-&gt;.&gt;&gt;[-]&lt;&lt;&lt;]&gt;[-]&lt;,]
</code></pre>
<p><a href="https://tio.run/##TU/ZDsIwDPugEsR9SFF@JOrDOAZj3DCunx9OyrFKW@PGdpzZOSv2eTUv67qlEpSUiDiKUGQUzCo4gZVEKaJAT/EeRP4FsxVMEUABnIo/mgE20NvRdIHmHbCTPXHjTRQYcsPmZEH@Yk4RXGazMNZTWQSA4JnAwHRjJUcxYjSRG6I0J/BIJa0RPtq0C6cd/WsG/6Vvu52PlPbX3OncinXd6fb6g@FoPJlSNpsvlvlqXWzK7W5/OJ7Ol2t1uz@erzc" rel="nofollow noreferrer" title="brainfuck – Try It Online">Try it online!</a></p>
<p>For each character:</p>
<ul>
<li>Check if it's a letter. If not, print it and go to the next character.</li>
<li>Check if it's 'z'. If it is, subtract 1 to make it 'y'</li>
<li>Check if it's after 'r'. If it is, subtract 1 to realign it with the number grid.</li>
<li>Divide the letter number by 3.</li>
<li>Add the result to 50 ('2') and print it.</li>
</ul>
<pre><code>stage0 memory layout:
| input x | input backup | compare result z | compare val y | compare t0 | compare t1 |
stage1:
| else flag | input backup | prev compare result / letter index y | inv letter index / compare t0 | compare t1 | compare val x |
stage2:
| else flag | letter index backup | letter index x | compare result z | compare t0 | compare t1 | compare val y |

,[ Read first character
    &gt;+[-[---&lt;]&gt;&gt;-]&lt;-- Check if input is greater than 96 (a lowercase letter)
    &lt;&lt;&lt;[&gt;&gt;&gt;&gt;+
        &lt;[-&gt;[-]&gt;+&lt;&lt;]
        &gt;[-&lt;&lt;+&gt;&gt;]
        &gt;[-&lt;&lt;+&gt;&gt;]
        &lt;&lt;-&lt;&lt;+&lt;-
    ]
    
    + Set else flag
    &gt;&gt;[ If input is a letter:
        ((stage1))
        &lt;&lt;-&gt;[-]&gt;- Clear the result/else flags
        &gt;[&lt;+&gt;+]&lt;- Invert the letter index

        &gt;&gt;+++++[&gt;+++++&lt;-]&gt; Check if letter 25 (z)
        [&lt;+&gt;-]+
        &lt;&lt;&lt;[&gt;&gt;-&lt;+&lt;-]
        &gt;[&lt;+&gt;-]
        &gt;[&gt;-&lt;[-]]
        &gt;[&lt;&lt;&lt;-&gt;&gt;&gt;-] If it is subtract 1 to change it to y

        ((stage2))
        ++++[&gt;++++&lt;-]&gt;+ Check if greater than letter 17 (r)
        &lt;&lt;&lt;&lt;[&gt;&gt;+
            &gt;&gt;[-&lt;&lt;[-]&gt;+&gt;]
            &lt;&lt;[-&lt;+&gt;]
            &gt;[-&gt;+&lt;]
            &gt;-&lt;&lt;&lt;&lt;&lt;+&gt;-
        ]
        &gt;&gt;&gt;&gt;[-] Clear y
        &lt;&lt;&lt;[&lt;&lt;-&gt;&gt;-] If it is subtract 1 to normalize indices
        &lt;+++&lt;[-&gt;-[&gt;+&gt;&gt;]&gt;[+[-&lt;+&gt;]&gt;+&gt;&gt;]&lt;&lt;&lt;&lt;&lt;] Divide normalized index by 3
        &gt;[-]&gt;[-] Clear tempvars from division
        +++++[&gt;++++++++++&lt;-]&gt;. Add 50 ('2') to result and print it
        [-]&lt;&lt; Clear letter index

        ((stage0))
    ]&lt;&lt;[ If input isn't a letter:
        - Clear the result flag
        &gt;. Just print the character
        &gt;&gt;[-]&lt;&lt;&lt; Clear the letter index
    ]
    &gt;[-]&lt;, Next input
]
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="http://clang.llvm.org/" rel="nofollow noreferrer">C++ (clang)</a>, 50 bytes</h1>

<pre class="lang-cpp prettyprint-override"><code>[](auto&amp;s){for(auto&amp;c:s)c=c&gt;96?20-c/122+5*c/16:c;}
</code></pre>
<p>this is a port of <a href="https://codegolf.stackexchange.com/a/21349/112488">mattnewport's C solution</a>.</p>
<p><a href="https://tio.run/##TY7dCoJAFISvPU@xEIQWkgpJqW0P4WV0sRw3WXB/2D0GET27KUJ0NTMMwzfoXIqDMP1EUrtBkGzo5aQRWrKWQ8tIBopbFhJ4T7d7LEay25C8H9avHquQ4AX5ubwWWYqHvCj2x92sZYX1Z4rikNQQeUmjNyzU8AHYKIPD2EnWKBvIS6E5gDIEWigTP63qZhhEgbqqmntl@mW4ZlSGcf6X7UisadabC@rHymbWlKenLEudt70X@gs" rel="nofollow noreferrer" title="C++ (clang) – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.rust-lang.org/" rel="nofollow noreferrer">Rust</a>, 196 bytes</h1>

<pre class="lang-rust prettyprint-override"><code>x.iter().map(|x|match x{'a'|'b'|'c'=&gt;'2','d'|'e'|'f'=&gt;'3','g'|'h'|'i'=&gt;'4','j'|'k'|'l'=&gt;'5','m'|'n'|'o'=&gt;'6','p'|'q'|'r'|'s'=&gt;'7','t'|'u'|'v'=&gt;'8','w'|'x'|'y'|'z'=&gt;'9',_=&gt;*x}).collect::&lt;Vec&lt;_&gt;&gt;();
</code></pre>
<p><a href="https://tio.run/##jZDLboMwEEX3fIWTjaGiUd8PCEj9gi4qdVNFETUOcWsMdRzqFvLt9E4UpV12ca58j0D2jN1u3LgyrC6UCaM@0NIxzzLWSTF54ec8ZvyU4o7i7Bh711JYHvOGDtWhMV5Q1HyRBq1VxmkzCaePVlXKFJolrN9NYz9TTtowmgndGFnSodFaCpck8yeHv6o8jKI02L@ny8bj93XRhoMf6sKJNfM97hr4KxA8y/kF3lKiSLAicQlRoayBInEF8YbyDjSJa4gaxYCGxA1Ei/IBLNiQvIV0KFvQkcA6@CeKB1/gm@Q9j5dZfuJ3f6d5lmK@zDFNOv5u40FjGlmywza6f25jF4w/" rel="nofollow noreferrer" title="Rust – Try It Online">Try it online!</a></p>
<p>Power of <code>match</code>. Yet match for every letter feels unnecessarily tedious. Still trying to grasp <code>iter()</code> and subsequent functions</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 130 bytes</h1>

<pre class="lang-python prettyprint-override"><code>d=lambda x:str(int((ord(x)-96)*.31769+1.76715))
def f(s,c=''):
&#9;for i in s:c+=(d(i)if i!='z'else'9')if i.isalpha()else i
&#9;print(c)
</code></pre>
<p><a href="https://tio.run/##Hc1BDoMgEADAs76Cnna3ViMxajXhMVSkbqJCwIPt52nsdS7jP8fi9iYlo1a9vYwW5xiPgLwfiC4YPKkcOrpXjey7oZBV3/WyJcrNbIXF@JgUAI15Zl0QLHgXcZwKhQaZ2Aq@KfjCvMYZBvhDxVGvftFIlwrOMx@ubKJkEWT5rOvSB/cOegNKPw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Uses the formula <code>y = (x * .31769) + 1.76715</code> to approximate the given relation. Sadly this formula gives wring value for <code>z</code> hence requires one additional check</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 14 bytes</h1>
<pre><code>ka:ż6+kiḭṪ9JṅĿ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCJrYTrFvDYra2nhuK3huao5SuG5hcS/IiwiIiwiMDEyMzQ1Njc4OS1hYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiJd" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>ka:ż6+kiḭṪ9JṅĿ
ka:            # Push the alphabet twice
   ż           # Length range: [1..26]
    6+         # Add 6: [7..32]
      kiḭ      # Floor divide by pi: [2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7,7,8,8,8,9,9,9,10]
         Ṫ9J   # Remove the last item and append 10
            ṅ  # Join by nothing to make a string
             Ŀ # Transliterate the input from the alphabet to this
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 11 bytes</h1>

<pre><code>Aā6+žq÷T9:‡
</code></pre>

<p><a href="https://tio.run/##yy9OTMpM/f/f8UijmfbRfYWHt4dYWj1qWPj/v4GhkbGJqZm5haVuYlJySmpaekZmVnZObl5@QWFRcUlpWXlFZRUA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<pre><code>A                 # alphabet: "abcdefghijklmnoqrstuvwxyz"
 ā                # length range: [1..26]
  6+              # add 6 to each: [7..32]
    žq÷           # divide by pi: [2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7,7,8,8,8,9,9,9,10]
       T9:        # replace 10 with 9
          ‡       # transliterate the input (a =&gt; 2, ..., z =&gt; 9)
</code></pre>
</div>
<div id="pu12" class="pu"><h2>VB.net (61c)</h2>

<p><em>Excludes the 45c min for a valid vb.net program</em>.</p>

<pre><code>Module P
Sub Main(A()As string)
For Each x In A(0).ToUpper 
Console.Write(If(x&lt;"A"or x&gt;"Z",x,Chr(Asc(x)\4+35)))
Next
End Sub
End Module
</code></pre>
</div>
<div id="pu13" class="pu"><h1>Python 2.7, <strike>66</strike> 65</h1>

<p><br></p>

<h3>Anakata's Original</h3>

<pre><code>for c in raw_input():print'\b'+(`(ord(c)-97)/3+2-(c in('svyz'))`if c&gt;'`'else c),
</code></pre>

<p><br></p>

<h3>Further golfed</h3>

<pre><code>for c in input():print(ord(c)-91)/3-(c in('svyz'))if c&gt;'`'else c,
</code></pre>

<p><br>
I don't have enough reputation to comment on @anakata's answer, so I made a separate post here. I had the same idea (taking the ordinance modulus 3) but couldn't figure out how to print the right numbers for <em>s - z</em>. </p>

<p>Anyways, the golf improvements I made:</p>

<ul>
<li><p>changed <code>raw_input</code> to <code>input</code> </p></li>
<li><p>removed the extraneous <code>'\b'</code> and parentheses and single quotes</p></li>
<li><p>removed the <code>+2</code> offset and placed that in the original subtraction (97 - (3 * 2) = 91) </p></li>
</ul>

<p><em>Tested with the Python 2.7.6 interpreter. Assumes, per the rules, a string input.</em></p>
</div>
<div id="pu14" class="pu"><h1>C, <s>83</s> <s>78</s> <s>77</s> <s>65</s> <s>63</s> 62</h1>

<pre class="lang-c prettyprint-override"><code>main(c){for(;~(c=getchar());putchar(c&gt;96?20-c/122+5*c/16:c));}
</code></pre>

<p><a href="http://ideone.com/qMsIFQ" rel="nofollow">http://ideone.com/qMsIFQ</a></p>
</div>
<div id="pu15" class="pu"><h2>R, 110</h2>

<pre><code>s=strsplit(scan(,""),"")[[1]];i=grep("[a-z]",s);s[i]=sort(c(1:24%%8+2,7,9))[match(s[i],letters)];cat(s,sep="")
</code></pre>

<p>Example:</p>

<pre><code>&gt; s=strsplit(scan(,""),"")[[1]];i=grep("[a-z]",s);s[i]=sort(c(1:24%%8+2,7,9))[match(s[i],letters)];cat(s,sep="")
1: 1-800-program
2: 
Read 1 item
1-800-7764726
</code></pre>
</div>
<div id="pu16" class="pu"><h1>QBasic, 155</h1>
<p>Ah, the memories...</p>
<pre><code>INPUT n$
FOR i=1 TO LEN(n$)
c$=MID$(n$,i,1)
a=ASC(c$)
IF 97&gt;a THEN
PRINT c$;
ELSE IF 122&gt;a THEN
PRINT STR$(a\3.2-28);
ELSE
PRINT 9;
END IF
NEXT i
</code></pre>
<p>This should have been shorter, but I was testing with <a href="http://repl.it" rel="nofollow noreferrer">repl.it</a>, which doesn't allow single-line <code>IF</code> statements and behaves strangely if you leave the variable off of <code>NEXT i</code>.  It also doesn't recognize the <code>ASC</code> function, so to run the code you'll need to add this workaround at the beginning:</p>
<pre><code>DECLARE FUNCTION ASC(s$)
FUNCTION ASC(s$)
FOR j=1 TO 255
IF CHR$(j)=LEFT$(s$,1) THEN
ASC=j
END IF
NEXT j
END FUNCTION
</code></pre>
<p>(The second time you run it, the interpreter will complain unless you remove the <code>DECLARE FUNCTION</code> line, go figure.)</p>
</div>
<div id="pu17" class="pu"><h1>Perl, 54</h1>
<pre><code>print map{/[a-y]/?int(5/16*ord)-28:/z/?9:$_}&lt;&gt;=~/./gs
</code></pre>
<p>Shoot, @RobHoare still beat me by 4 characters. :)</p>
</div>
<div id="pu18" class="pu"><h1>T-SQL, 216 bytes</h1>
<p>I spent quite some time over the past couple of nights painstakingly creating a mathematical sequence function that would round correctly to generate the proper ASCII codes for the numbers from the alphabetical ASCII codes. It had a ridiculous number of decimal places in the coefficients, but it worked.</p>
<p>However, mattnewport's rational approach works in SQL as well, at a much lower cost of bytes, so I am shamelessly scrapping my own math in favor of his. Go up-vote him, it's an elegant solution!</p>
<p>Here's mine:</p>
<pre><code>DECLARE @p VARCHAR(MAX)='';WITH t AS(SELECT ASCII(LEFT(@s,1))c,2 i UNION ALL SELECT ASCII(SUBSTRING(@s,i,1)),i+1FROM t WHERE i&lt;=LEN(@s))SELECT @p=@p+CHAR(CASE WHEN c&gt;96THEN 20-c/122+5*c/16 ELSE c END)FROM t;SELECT @p
</code></pre>
<p>This uses a recursive CTE to make an impromptu stack of the characters in the phone number and translate the letters on the fly, then a bit of SQL trickery (SELECT @p=@p+columnValue) to recompose the string from the CTE without requiring another recursion construct.</p>
<p>Output:</p>
<pre><code>DECLARE @s VARCHAR(MAX)='1-800-abcdefghijklmnopqrstuvwxyz'
--above code runs here
1-800-22233344455566677778889999
</code></pre>
</div>
<div id="pu19" class="pu"><p><strong>ECMASCRIPT, 101 (with input)</strong></p>

<pre><code>"1-800-PROGRAM".replace(/./g,function(c){
return "22233344455566677778889999"[c.charCodeAt(0)-65]||c})
</code></pre>

<p>Newline added for clarity.  85 characters if the input is in a variable.</p>
</div>
<div id="pu20" class="pu"><h1>C# 140</h1>



<pre class="lang-c# prettyprint-override"><code>using System.Linq;class P{static void Main(string[]a){System.Console.Write(string.Concat(a[0].Select(d=&gt;(char)(d&gt;96?20-d/122+5*d/16:d))));}}
</code></pre>
</div>
<div id="pu21" class="pu"><p><strong>Python 2.7, 80</strong> </p>

<pre><code>for c in raw_input():print'\b'+(`(ord(c)-97)/3+2-(c in('svyz'))`if c&gt;'`'else c),
</code></pre>

<p>I am new to python, so <strong>I'm sure there must be a way to golf this even further</strong>, it's a different aproach, hope you guys like it, <strong><em>my god, is python pretty!</em></strong></p>

<p>Run example:</p>

<ul>
<li>input:  01-800-abcdefghijklmnopqrstuvwxyz</li>
<li>output: 01-800-22233344455566677778889999</li>
</ul>
</div>
<div id="pu22" class="pu"><p>Python</p>

<pre><code>import string          
trans = str.maketrans(string.ascii_lowercase,
                      '22233344455566677778889999')                                                                                         
print("1-800-ask-usps".translate(trans))
</code></pre>
</div>
<div id="pu23" class="pu"><h2>PHP, 141</h2>

<p>Not the shortest, but more fun:</p>

<pre><code>&lt;?php foreach(str_split($argv[1])as$c){$v=ord($c);if($v&gt;114){$v--;}if($v==121){$v--;}if($v&lt;123&amp;$v&gt;96){echo chr(ceil($v/3+17));}else{echo$c;}}
</code></pre>

<p>More readable:</p>

<pre><code>&lt;?php 
foreach (str_split($argv[1]) as $c) {
  $v=ord($c);
  if ($v&gt;114) {$v--;}
  if ($v==121){$v--;}
  if ($v&lt;123 &amp; $v&gt;96){
    echo chr(ceil($v/3+17));
    } else {echo $c;}
}
</code></pre>
</div>
<div id="pu24" class="pu"><h1>JavaScript, 85</h1>
<p>JavaScript is never going to win the golf wars, but I like it and I wanted to do something different than jump on the @ace bandwagon.</p>
<pre><code>alert(prompt().replace(/[a-z]/g,function(a){for(i=7;a&lt;&quot;dgjmptw{&quot;[i--];);return i+4}))
</code></pre>
</div>
<div id="pu25" class="pu"><h1>Haskell, 93C</h1>

<pre><code>t[]_ a=a
t(b:c)(d:e)a
 |a==b=d
 |True=t c e a
y=map(t['a'..'z']"22233344455566677778889999")
</code></pre>

<p>Usage</p>

<pre><code>y "1-800-program"
</code></pre>
</div>
<div id="pu26" class="pu"><h1>k [32 Chars]</h1>

<pre><code>{(.Q.a!|,/(4 3 4,5#3)#'|$2+!8)x}
</code></pre>

<h3>Usage</h3>

<pre><code>{(.Q.a!|,/(4 3 4,5#3)#'|$2+!8)x}"stack exchange"
"78225 39242643"
</code></pre>
</div>
<div id="pu27" class="pu"><h1>GolfScript, 24 chars</h1>

<pre><code>{.96&gt;{,91,'qx'+-,3/`}*}%
</code></pre>

<p>Test input:</p>

<pre><code>0123456789-abcdefghijklmnopqrstuvwxyz
</code></pre>

<p>Test output:</p>

<pre><code>0123456789-22233344455566677778889999
</code></pre>

<p>Explanation:</p>

<ul>
<li><p><code>{ }%</code> applies the code between the braces to each character of the input.</p></li>
<li><p><code>.96&gt;{ }*</code> executes the code between the inner braces if and only if the ASCII code of the character is greater than 96 (i.e. it is a lowercase letter).</p></li>
<li><p>The first <code>,</code> turns the character into a list of all characters with lower ASCII codes, and <code>91,'qx'+-</code> filters out all characters with ASCII codes less than 91, as well as the letters <code>q</code> and <code>x</code>, from the list.
Thus, for example, the character <code>a</code> gets turned into the 6-character list <code>[\]^_`</code>, while <code>z</code> gets turned into the 29-character list <code>[\]^_`abcdefghijklmnoprstuvwy</code>.</p></li>
<li><p>The second <code>,</code> counts the elements remaining in the list, and <code>3/</code> divides this count by three (rounding down).  Finally, the <code>`</code> turns the resulting number (in the range 2 &ndash; 9) into a string.</p></li>
</ul>

<p>Thus, as per spec, hyphens and numbers are left unchanged, while lowercase letters are mapped into numbers according to the reference keypad diagram.  The code will actually cleanly pass through all printable ASCII characters except for lowercase letters (which as mapped as described) and the characters <code>{</code>, <code>|</code> and <code>}</code> (which are mapped to the two-character string <code>10</code>).  Non-ASCII 8-bit input will produce all sorts of weird numeric output.</p>

<p>After all this, it's a bit disappointing that this only beats the <a href="https://codegolf.stackexchange.com/a/21331">trivial bash solution</a> by just six chars.</p>
</div>
<div id="pu28" class="pu"><h2>Python 3, 121</h2>

<pre><code>print("".join((lambda x:"22233344455566677778889999"[ord(x)-97] if ord(x)&gt;96 and ord(x)&lt;123 else x)(i) for i in input()))
</code></pre>
</div>
<div id="pu29" class="pu"><h1>EcmaScript 6 (103 bytes):</h1>

<pre><code>i.replace(/[a-z]/g,x=&gt;keys(a='00abc0def0ghi0jkl0mno0pqrs0tuv0wxyz'.split(0)).find(X=&gt;a[X].contains(x)))
</code></pre>

<p><em>Expects <code>i</code> to contain the string.</em></p>

<p>Try it in any recent version of Firefox. I've not tried Google Chrome.</p>
</div>
<div id="pu30" class="pu"><h1>Frink, 92</h1>

<p>A rather verbose language, I know. This checks 8 values instead of 26 without having to type out the compares. Can any of the above "222333444.." solutions be reduced in a similar way?</p>

<p>Using built in structures, 107</p>

<pre><code>co=new OrderedList
co.insertAll[charList["cfilosv{"]]
println[input[""]=~%s/([a-z])/co.binarySearch[$1]+2/eg]
</code></pre>

<p>Using a custom recursive function, 92</p>

<pre><code>fn[x,a]:=x&lt;=(charList["cfilosv{"])@a?a+2:fn[x,a+1]
println[input[""]=~%s/([a-z])/fn[$1,0]/eg]
</code></pre>
</div>
<div id="pu31" class="pu"><h2>R, very long but fun</h2>
<pre><code>foo &lt;- '1-800-splurghazquieaobuer57'
oof &lt;- unlist(strsplit(foo,''))
#don't count that part - it's input formatting :-) 
digout &lt;- unlist(strsplit('22233344455566677778889999','')) 
oof[oof%in%letters[1:26]] &lt;- unlist(sapply(oof[oof%in%letters[1:26]], function(j) digout[which(letters[1:26]==j)] ))
</code></pre>
</div>
<div id="pu32" class="pu"><h2>Python, very ungolfed</h2>

<p>Since everyone is copying ace, i decided to post the code i made up before i submitted the question:</p>

<pre><code>def phonekeypad(text):
    c = ['','','abc','def','ghi','jkl','mno','pqrs','tuv','wxyz']
    st = ""
    for i in list(text):
        a = False
        for t in range(len(c)):
            if i in c[t]:
                st += str(t)
                a=True
        if a == False:
            st += str(i)
    return st
</code></pre>
</div>
<div id="pu33" class="pu"><h3>XQuery, 71</h3>

<p><a href="http://basex.org" rel="nofollow">BaseX</a> was used as XQuery processor. <code>$i</code> is input.</p>

<pre><code>translate($i,"abcdefghijklmnopqrstuvwxyz","22233344455566677778889999")
</code></pre>

<p>Not the shortest answer, but quite short and very readable.</p>
</div>
<div id="pu34" class="pu"><h2>Perl, 50</h2>

<p>Another obvious copy of Ace's bash answer</p>

<pre><code>($_)=@ARGV;y/a-z/22233344455566677778889999/;print
</code></pre>
</div>
<div id="pu35" class="pu"><h1>Mathematica 90</h1>
<p>This follows the logic of @ace's solution:</p>
<pre><code>StringReplace[#,Thread[CharacterRange[&quot;A&quot;,&quot;Z&quot;]-&gt;Characters@&quot;22233344455566677778889999&quot;]]&amp;
</code></pre>
<p>Example</p>
<pre><code>StringReplace[#1,Thread[CharacterRange[&quot;A&quot;,&quot;Z&quot;]-&gt; 
Characters@&quot;22233344455566677778889999&quot;]]&amp;[&quot;VI37889&quot;]
</code></pre>
<blockquote>
<p>8437889</p>
</blockquote>
</div>
<div id="pu36" class="pu"><h1>Smalltalk, <strike>79</strike> 70</h1>
<p>input is s:</p>
<pre><code>s collect:[:c|' 22233344455566677778889999'at:1put:c;at:(($ato:$z)indexOf:c)+1]
</code></pre>
<p>probably not a candidate for being shortest - but may be of interest for an old trick to avoid a test for a not-found condition (indexOf: returns 0 in this case).  So no special test for letters is needed. Some Smalltalks however, have immutable strings, and we need 4 more chars (&quot;copy&quot;).</p>
<p>Oh, a better version, which even deals with immutable strings in 70 chars:</p>
<pre><code>s collect:[:c|c,'22233344455566677778889999'at:(($ato:$z)indexOf:c)+1]
</code></pre>
</div>
<div id="pu37" class="pu"><h1>q [38 Chars]</h1>

<pre><code>{(.Q.a!"22233344455566677778889999")x}
</code></pre>

<p>Inspired by @ace's solution</p>

<p>Example</p>

<pre><code>{(.Q.a!"22233344455566677778889999")x}"stack exchange"
"78225 39242643"
</code></pre>
</div>
<div id="pu38" class="pu"><h2>PHP, 87</h2>

<pre><code>echo str_ireplace(range('a','z'),str_split('22233344455566677778889999'),fgets(STDIN));
</code></pre>
</div>
<div id="pu39" class="pu"><h1>C++ - 222 chars</h1>
<p>Longest solution so far:</p>
<pre><code>#include&lt;iostream&gt;
#include&lt;string&gt;
#define o std::cout&lt;&lt;
int main(){std::string s;std::cin&gt;&gt;s;for(int i=0;i&lt;s.size();i++){int j=s[i]-97;if(j&lt;0)o s[i];if(0&lt;=j&amp;j&lt;15)o 2+j/3;if(14&lt;j&amp;j&lt;19)o 7;if(18&lt;j&amp;j&lt;22)o 8;if(21&lt;j&amp;j&lt;26)o 9;}}
</code></pre>
</div>
<div id="pu40" class="pu"><h1>Ruby, 75 chars</h1>

<pre><code>gets.chars{|c|$&gt;&lt;&lt;"22233344455566677778889999#{c}"[[*?a..?z].index(c)||-1]}
</code></pre>

<p>Uses the deprecated <code>chars</code> with block, and prints each letter individually with <code>$&gt;&lt;&lt;</code>. I also like <code>[[*?a..?z].index(c)||-1]</code>; it grabs the character corresponding to that letter of the alphabet if it's a letter, and the last character (which happens to be the test character unchanged) if not.</p>

<h1>Ruby, 43 (or 35) chars</h1>

<p>Blatantly stealing from @ace ;)</p>

<pre><code>puts gets.tr'a-z','22233344455566677778889'
</code></pre>

<p>Shave off 8 chars if I can run in IRB with the variable <code>s</code> as the string:</p>

<pre><code>s.tr'a-z','22233344455566677778889'
</code></pre>
</div>
<div id="pu41" class="pu"><h1>Javascript - 103 characters</h1>

<pre class="lang-javascript prettyprint-override"><code>alert(prompt().replace(/[a-z]/g,function(y){y=y.charCodeAt(0)-91;return y&gt;27?9:y&gt;24?8:y&gt;20?7:~~(y/3)}))
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/21327/">21327</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




