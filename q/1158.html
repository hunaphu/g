<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::1158</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>104</td><td>Python</td><td>240427T075629Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/272850#272850">movatica</a></td></tr>
<tr d-ix="1"><td>131</td><td>05AB1E</td><td>240425T072217Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/272799#272799">Kevin Cr</a></td></tr>
<tr d-ix="2"><td>nan</td><td>Java</td><td>240421T010717Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/272694#272694">138 Aspe</a></td></tr>
<tr d-ix="3"><td>056</td><td>GNU date+bc</td><td>231128T130002Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/267146#267146">Toby Spe</a></td></tr>
<tr d-ix="4"><td>065</td><td>R</td><td>240419T102256Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/272676#272676">int 21h </a></td></tr>
<tr d-ix="5"><td>346</td><td>Swift</td><td>231208T172210Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/267380#267380">Annett S</a></td></tr>
<tr d-ix="6"><td>152</td><td>Scala</td><td>231129T121447Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/267170#267170">138 Aspe</a></td></tr>
<tr d-ix="7"><td>070</td><td>Bash + ncal</td><td>231117T150914Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/266849#266849">Toby Spe</a></td></tr>
<tr d-ix="8"><td>243</td><td>Go</td><td>230621T171817Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/262055#262055">bigyihsu</a></td></tr>
<tr d-ix="9"><td>034</td><td>Japt</td><td>230621T143707Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/262048#262048">Shaggy</a></td></tr>
<tr d-ix="10"><td>080</td><td>Windows PowerShell</td><td>110226T015659Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/1192#1192">Joey</a></td></tr>
<tr d-ix="11"><td>078</td><td>Perl 6</td><td>181205T060322Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/177014#177014">Jo King</a></td></tr>
<tr d-ix="12"><td>055</td><td>APL Dyalog Unicode</td><td>181125T234905Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/176554#176554">Ad&#225;</a></td></tr>
<tr d-ix="13"><td>110</td><td>Oracle SQL</td><td>181126T001336Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/176556#176556">Dr Y Wit</a></td></tr>
<tr d-ix="14"><td>158</td><td>C#</td><td>170302T142830Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/111902#111902">adrianmp</a></td></tr>
<tr d-ix="15"><td>088</td><td>PHP 5.2</td><td>170302T010040Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/111854#111854">Titus</a></td></tr>
<tr d-ix="16"><td>113</td><td>Rebol</td><td>141124T193617Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/41832#41832">draegtun</a></td></tr>
<tr d-ix="17"><td>082</td><td>Bash + coreutils</td><td>141118T225156Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/41625#41625">Digital </a></td></tr>
<tr d-ix="18"><td>111</td><td>Ruby</td><td>110226T062355Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/1194#1194">Phrogz</a></td></tr>
<tr d-ix="19"><td>067</td><td>64bit Perl</td><td>110224T063732Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/1170#1170">J B</a></td></tr>
<tr d-ix="20"><td>135</td><td>PHP</td><td>110228T041123Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/1217#1217">zneak</a></td></tr>
<tr d-ix="21"><td>142</td><td>Python</td><td>110224T173736Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/1175#1175">Champo</a></td></tr>
<tr d-ix="22"><td>152</td><td>Python 152 Characters</td><td>110224T042108Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/1166#1166">fR0DDY</a></td></tr>
<tr d-ix="23"><td>186</td><td>D 186 Characters</td><td>110224T032937Z</td><td><a href="https://codegolf.stackexchange.com/questions/1158/percentage-of-work-days-in-a-month/1164#1164">Jonathan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <s>131</s> <s>113</s> 104 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def f(y,m):d,r=monthrange(y,m);return round(sum(a%7&lt;5for a in range(d,r+d))*100/r)
from calendar import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VY9NCsIwFIT3PUU2Ql6NmBRq69_SgwST2IJ5Kc9k0bO46Ubv5G0sVaFuP76ZYe7Pro9NwGF4pOhW9asx1jHHe-FhZwQdfcDYkMaLndiebEyEjEJCw2_Jc72oDqULxDRrRz6ZY3BpAHIl5ZogcxQ8O-urRaOJtb4LFPPv3qmjFiN3vJBKihIg-wObGVDbQgol50qtKqEKgE_Z78Qb" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 131 <a href="https://github.com/Adriandmen/05AB1E/wiki/Coedpage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>'-¡`Dˆ1)RV0[Y`UÐ¯нÊ#3‹©12*+&gt;₂*T÷®Xα©т%D4÷®т÷©4÷®·()ćsO7%2@+Y`т‰0Kθ4ÖUD&lt;i\28X+ë&lt;7%É31α}‹iY¬&gt;0ëY1¾ǝDÅsD12‹i&gt;1ë\1Dǝ¤&gt;2}}ǝDVˆ]r¯¨θн/т*ò
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f9fXffQwgSX022GmkFhBtGRCaGHJxxaf2Hv4S5l40cNOw@tNDTS0rZ71NSkFXJ4@6F1Eec2Hlp5sUnVxQTEu9gEJFeCmYe2a2geaS/2N1c1ctCOTLjY9Khhg4H3uR0mh6eFuthkxhhZRGgfXm1jrnq409jw3MZaoNmZkYfW2BkcXh1peGjf8bkuh1uLXQyNQOJ2hodXxxi6HJ97aImdUW0tUC7sdFts0aH1h1ac23Fhr/7FJq3Dm/7/NzIwNNA1MAMA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9TVmmvpPCobZKCkn2l0n913UMLE1xOtxlqBoUZREcmhB6ecGj9hb2Hu5SNHzXsPLTS0EhL2@5RU5NWyOHth9ZFnNt4aOXFJlUXExDvYhOQXAlmHtquoXmkvdjfXNXIQTsy4WLTo4YNBt7ndpgcnhbqYpMZY2QRoX14tY256uFOY8NzG2uBZmdGHlpjZ3B4daThoX3H57ocbi12MTQCidsZHl4dY@hyfO6hJXZGtbVAubDTbbFFh9YfWnFux4W9@hebtA5v@q@kF6ajGXNoy38jA0MDXQNTLghtxmVoaWSga2jAZWRhaK5raAQA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>
<p>Build upon <a href="https://codegolf.stackexchange.com/a/173126/52210">my answer here</a>. A short summary of that answer:<br />
05AB1E lacks date builtins, so all calculations are done manually using <a href="https://en.wikipedia.org/wiki/Zeller%27s_congruence" rel="nofollow noreferrer">Zeler's congruence</a>:</p>
<p><span class="math-container">$${\displaystyle h=\left(q+\left\lfloor{\frac{13(m+1)}{5}}\right\rfloor+K+\left\lfloor{\frac{K}{4}}\right\rfloor+\left\lfloor{\frac{J}{4}}\right\rfloor-2J\right){\bmod{7}}}$$</span></p>
<p>Where for the months March through December:</p>
<ul>
<li><span class="math-container">\$q\$</span> is the <span class="math-container">\$day\$</span> of the month (<code>[1, 31]</code>)</li>
<li><span class="math-container">\$m\$</span> is the 1-indexed <span class="math-container">\$month\$</span> (<code>[3, 12]</code>)</li>
<li><span class="math-container">\$K\$</span> is the year of the century (<span class="math-container">\$year \bmod 100\$</span>)</li>
<li><span class="math-container">\$J\$</span> is the 0-indexed century (<span class="math-container">\$\left\lfloor {\frac {year}{100}}\right\rfloor\$</span>)</li>
</ul>
<p>And for the months January and February:</p>
<ul>
<li><span class="math-container">\$q\$</span> is the <span class="math-container">\$day\$</span> of the month (<code>[1, 31]</code>)</li>
<li><span class="math-container">\$m\$</span> is the 1-indexed <span class="math-container">\$month + 12\$</span> (<code>[13, 14]</code>)</li>
<li><span class="math-container">\$K\$</span> is the year of the century for the previous year (<span class="math-container">\$(year - 1) \bmod 100\$</span>)</li>
<li><span class="math-container">\$J\$</span> is the 0-indexed century for the previous year (<span class="math-container">\$\left\lfloor {\frac {year-1}{100}}\right\rfloor\$</span>)</li>
</ul>
<p>Resulting in in the day of the week <span class="math-container">\$h\$</span>, where 0 = Saturday, 1 = Sunday, ..., 6 = Friday.</p>
<p>The code modifications done compared to that answer:</p>

<pre class="lang-python prettyprint-override"><code>'-¡          '# Split the (implicit) input-string on &quot;-&quot;
   `          # Pop and push both separately to the stack
    Dˆ        # Add a copy of the month to the global array
      1       # Push a 1
       )      # Wrap all three values into a triplet
        R     # Reverse it
         V    # Pop and store this 1st day of the input-month/year in variable `Y`
0             # Start with workdayCount=0
 [            # Start an infinite loop:
  Y`U         #  See linked answer (but does push year and month to the stack)
     Ð        #  Triplicate instead of duplicate
      ¯       #  Push the global array
       н      #  Pop and push its first item (the input-month)
        Ê     #  Check that it's not equal to the current triplicated month
         #    #  If they're not equal: stop the infinite loop
3‹©12*+&gt;₂*T÷®Xα©т%D4÷®т÷©4÷®·()ćsO7%2@+Y`т‰0Kθ4ÖUD&lt;i\28X+ë&lt;7%É31α}‹iY¬&gt;0ëY1¾ǝDÅsD12‹i&gt;1ë\1Dǝ¤&gt;2}}ǝ
              #  See linked answer
D             #  Duplicate this result
 V            #  Pop and store this next day in variable `Y`
  ˆ           #  Pop and add this next day to the global array
   ]          # After the infinite loop:
    r         # Reverse all values on the stack, since we don't care about the top year
              # nor month, but the workdayCount instead
     ¯        # Push the global array
      ¨       # Remove the last added day (1st of the next month)
       θ      # Pop and push the last day (last day of the input-month)
        н     # Pop and push its first item (the day)
         /    # Divide the workdayCount by this day
          т*  # Multiply it by 100
            ò # Round it to the nearest integer
              # (after which the result is output implicitly)
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://en.wikipedia.org/wiki/Java_(programming_language)" rel="nofollow noreferrer">Java</a>, <del>203</del> 187 bytes</h1>
<p>Saved 16 bytes thanks to @ceilingcat</p>
<hr />
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=nVC9TsMwEBZrnsLqZFfETYpoC6EICRaGqkMRCCEkTHJJDY5T2ZdKVdUnYekAT8GTlKfBSSMGQIC4xb7v5-zvnp4fxFysN3cynxUGSdVxlDnwduR9wRAqRKjPZIlScYsGRF5R3qy8VzImsRLWkpGQmixfSkz9webVokBHJYWTAEnpBI3UGbFsOReGJMNrEGZUaJzymTAWqGVRRcAw4Qp0htNxWtOURQawNNrNd2JTlDqhYRDw9rnGyfYrRugMTlVhwVG7wHgqFYKh0j9OuMAzsaCS8Qyq2zi9AnikdXspVAmUHfUYj91cpKwDLFptI7ztnHjEVZOxyTMvZEJyl7QJdHNLhMksI8taXFWnQy7AIomFBXv4AU8W1q2VFyXymXOi0jSlrW4QBn6w32IsqoyTaVGqhNQC0hv8ydz71tzf-8UcHnQDPwz--fIg7Pth9yfzymsWuV5vz3c" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-java prettyprint-override"><code>static double f(String s){var d=YearMonth.parse(s);var e=d.lengthOfMonth();return Math.round(100.*IntStream.rangeClosed(1,e).filter(i-&gt;d.atDay(i).getDayOfWeek().getValue()&lt;6).count()/e);}
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=nVOxTsMwEB3Y8hUnBuQ0qusUUQoFJCSExFAqUQRCiME0TmtI48q-gBDqVzCyMMBP8TXYISQpIEDc4vPde77n8_nx-Yrf8KenlwzjZvd16UFOZ0ojuChFORW00fO-xFC4CE9c0ptll4kcwSjhxkCfyxTuPbBWxA1ytEuk7FZATIaoZToG4xcwZ2eC675KcQIRbFc7OuPaCGL8XomUKQIq5MkevzMWG9FEpGOcDOKcQT5Bb5W-ttUKMLNqP7Kx0kAcROYJu2xVB9ttENQFOrOJQXwqxDVEpecEcLQZIiGA0KdjgSWuLiYXFAMpqQ55wpNMEB92tqvDaX9wuLd7Vk-vrMC3tK06bf_oYJH2Wb6zWjuCYFHc3Ku80tUCM51a1fnj-fZ17aNolaURCRmjDBoLHW5VHSyuPi86vjgLN0pGMLWTUgzD-QVwPc4noqrdasGxMAgjboTZLMPDO2Onj6oM6cxyMUlJTJbbLGRNtrbs-z1HHE5UlkSQA6DT_RO58y15ffUXcrjRZs2Q_bNyN1xvhu2fyHNv_v43iy_68VXfAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-java prettyprint-override"><code>import java.time.*;
import java.time.temporal.*;

public class Main {
    public static double f(String s) {
        YearMonth d = YearMonth.parse(s);
        int totalDays = d.lengthOfMonth();
        int workingDays = 0;

        for (int i = 0; i &lt; totalDays; i++) {
            DayOfWeek dayOfWeek = d.atDay(i + 1).getDayOfWeek();
            if (dayOfWeek.getValue() &gt;= DayOfWeek.MONDAY.getValue() &amp;&amp; dayOfWeek.getValue() &lt;= DayOfWeek.FRIDAY.getValue()) {
                workingDays++;
            }
        }

        return (double) Math.round(100.0 * workingDays / totalDays);
    };

    public static void main(String[] args) {


        // Test cases:
        System.out.println(f(&quot;2010-05&quot;)); // Should print 68
        System.out.println(f(&quot;2010-06&quot;)); // Should print 73
        System.out.println(f(&quot;1920-10&quot;)); // Should print 68
        System.out.println(f(&quot;2817-12&quot;)); // Should print 68
    }
}
</code></pre>
</div>
<div id="pu3" class="pu"><h1>GNU date+bc, 56 bytes</h1>
<h2>Abstract</h2>
<p>This Answer demonstrates that the following 56-byte shell pipeline
calculates the percentage of work days in a given month, rounded to
the nearest whole percent:</p>
<pre class="lang-sh prettyprint-override"><code>date -d$1-1month-4week +'70+%d-3*(%w+1&lt;%d)-3*(%u&lt;%d)'|bc
</code></pre>
<h2>Analysis</h2>
<p>There are 28 possible monthly calendars, that can be identified
according to the last day/date of the month:</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th style="text-align: right;"></th>
<th>Mon</th>
<th>Tue</th>
<th>Wed</th>
<th>Thu</th>
<th>Fri</th>
<th>Sat</th>
<th>Sun</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;"><strong>28th</strong></td>
<td>20/28</td>
<td>20/28</td>
<td>20/28</td>
<td>20/28</td>
<td>20/28</td>
<td>20/28</td>
<td>20/28</td>
</tr>
<tr>
<td style="text-align: right;"><strong>29th</strong></td>
<td>21/29</td>
<td>21/29</td>
<td>21/29</td>
<td>21/29</td>
<td>21/29</td>
<td>20/29</td>
<td>20/29</td>
</tr>
<tr>
<td style="text-align: right;"><strong>30th</strong></td>
<td>21/30</td>
<td>22/30</td>
<td>22/30</td>
<td>22/30</td>
<td>22/30</td>
<td>21/30</td>
<td>20/30</td>
</tr>
<tr>
<td style="text-align: right;"><strong>31st</strong></td>
<td>21/31</td>
<td>22/31</td>
<td>23/31</td>
<td>23/31</td>
<td>23/31</td>
<td>22/31</td>
<td>21/31</td>
</tr>
</tbody>
</table></div>
<p>There are nine distinct fractions here, that can be converted to
percentages:</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th style="text-align: right;"></th>
<th style="text-align: center;">20/</th>
<th style="text-align: center;">21/</th>
<th style="text-align: center;">22/</th>
<th style="text-align: center;">23/</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;"><strong>/28</strong></td>
<td style="text-align: center;">71</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: right;"><strong>/29</strong></td>
<td style="text-align: center;">69</td>
<td style="text-align: center;">72</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: right;"><strong>/30</strong></td>
<td style="text-align: center;">67</td>
<td style="text-align: center;">70</td>
<td style="text-align: center;">73</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: right;"><strong>/31</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">68</td>
<td style="text-align: center;">71</td>
<td style="text-align: center;">74</td>
</tr>
</tbody>
</table></div>
<p>Substituting these gives our conversion table:</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th></th>
<th>Mon</th>
<th>Tue</th>
<th>Wed</th>
<th>Thu</th>
<th>Fri</th>
<th>Sat</th>
<th>Sun</th>
</tr>
</thead>
<tbody>
<tr>
<td>28th</td>
<td>71</td>
<td>71</td>
<td>71</td>
<td>71</td>
<td>71</td>
<td>71</td>
<td>71</td>
</tr>
<tr>
<td>29th</td>
<td>72</td>
<td>72</td>
<td>72</td>
<td>72</td>
<td>72</td>
<td>69</td>
<td>69</td>
</tr>
<tr>
<td>30th</td>
<td>70</td>
<td>73</td>
<td>73</td>
<td>73</td>
<td>73</td>
<td>70</td>
<td>67</td>
</tr>
<tr>
<td>31st</td>
<td>68</td>
<td>71</td>
<td>74</td>
<td>74</td>
<td>74</td>
<td>71</td>
<td>68</td>
</tr>
</tbody>
</table></div>
<p>The pattern becomes more clearly evident when we split this into a
basic value for a month containing four weekends, less an amount for a
fifth Saturday and for a fifth Sunday:</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th></th>
<th>Basic</th>
<th style="text-align: center;">Thu</th>
<th style="text-align: center;">Fri</th>
<th style="text-align: center;">Sat</th>
<th style="text-align: center;">Sun</th>
<th style="text-align: center;">Mon</th>
<th style="text-align: center;">Tue</th>
<th style="text-align: center;">Wed</th>
</tr>
</thead>
<tbody>
<tr>
<td>28th</td>
<td>71</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.       .</td>
</tr>
<tr>
<td>29th</td>
<td>72</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.      -3</td>
<td style="text-align: center;">-3      .</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.       .</td>
</tr>
<tr>
<td>30th</td>
<td>73</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.      -3</td>
<td style="text-align: center;">-3    -3</td>
<td style="text-align: center;">-3      .</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.       .</td>
</tr>
<tr>
<td>31st</td>
<td>74</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.       .</td>
<td style="text-align: center;">.      -3</td>
<td style="text-align: center;">-3    -3</td>
<td style="text-align: center;">-3    -3</td>
<td style="text-align: center;">-3      .</td>
<td style="text-align: center;">.       .</td>
</tr>
</tbody>
</table></div>
<p>The basic value is clearly 71 plus one for each day more than 28 days.</p>
<p>And we must then subtract 3 if the last day is in a range beginning
Saturday and having length equal to those excess days, less three for
a similar range beginning Sunday.</p>
<h2>Implementation</h2>
<p>Firstly, we append a day number to turn year and month into a full
date: <code>$1-01</code>.</p>
<p>Rather than finding the <em>last</em> day of the month, we select a date
nearer the start of the month, by subtracting 28 days from the start
of the following month.  This gives us a day-of-week that's one later
than used in the analysis section:</p>
<pre class="lang-sh prettyprint-override"><code>date -d'$1-01 +1month-4week'
</code></pre>
<p>Using this date, we then format a calculation for <code>bc</code> to execute and
print.  The basic percentage is simple; it's just 70 more than the day
number we landed on: <code>70+%d</code>.</p>
<p>The adjustments for extra weekend days are then computed using a pair
of inequalities, taking advantage of the fact that there are two
representations for day-of-week, with Sunday represented as 0 or
as 7.  We subtract 3 points from the basic percentage for each of
those inequalities.</p>
<h2>Demo</h2>
<p>We can reproduce the results from the examples in the question:</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th>Command</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://tio.run/##S0oszvj/PyWxJFVBN0XFUNcwNz@vJEPXpDw1NVtBW93cQFs1RddYS0O1XNvQRjVFE8wuBbHUa5KS////b2RgaKBrYAoA" rel="nofollow noreferrer"><code>./1158 2010-05</code></a></td>
<td>68</td>
</tr>
<tr>
<td><a href="https://tio.run/##S0oszvj/PyWxJFVBN0XFUNcwNz@vJEPXpDw1NVtBW93cQFs1RddYS0O1XNvQRjVFE8wuBbHUa5KS////b2RgaKBrYAYA" rel="nofollow noreferrer"><code>./1158 2010-06</code></a></td>
<td>73</td>
</tr>
<tr>
<td><a href="https://tio.run/##S0oszvj/PyWxJFVBN0XFUNcwNz@vJEPXpDw1NVtBW93cQFs1RddYS0O1XNvQRjVFE8wuBbHUa5KS////b2hpZKBraAAA" rel="nofollow noreferrer"><code>./1158 1920-10</code></a></td>
<td>68</td>
</tr>
<tr>
<td><a href="https://tio.run/##S0oszvj/PyWxJFVBN0XFUNcwNz@vJEPXpDw1NVtBW93cQFs1RddYS0O1XNvQRjVFE8wuBbHUa5KS////b2RhaK5raAQA" rel="nofollow noreferrer"><code>./1158 2817-12</code></a></td>
<td>68</td>
</tr>
</tbody>
</table></div>
<p>And we can show that we get the correct <a href="https://tio.run/##RVBBasMwELz7FQOJcFNnzUpOmxb6i54KvSiW3JgkUrBl0hLn7arsFLqw7MweZpjZ6X4fF3i3R1sHeGdx8i7s4RtYXe9xtO4rUe0MrDNk9A8a3yHYPmTZhFq0DsuHc9e60CAX/afLofh6ZS5Lrm505aospbqt54/a3IhVWlnMRiQnyTHD/xgdLKghFLn4IHESQRiIAULnGNH7LoAOal2BhsTrIdFGrjLjZ5HeBizbeBcxS0ny7rO5WHtIklsuhKHq8UFcCvkmzGrGw4TycVdHM3UwouvB2AKLKe5Jh5QyeGgEvTtaJJh@qR4/dLDf59SdDq13MSqWTPz0d5@jfFVMkqN6kVuS6hc" rel="nofollow noreferrer">results for all 28 shapes of
month</a>
shown in the first table:</p>
<pre class="lang-sh prettyprint-override"><code>for i in $(printf '%s\n' 20{{00..03}-{03..12},{00..24}-02}-01+month-1day |
           date -f- +'%Y-%m%t%d %u %a' | sort -k2,3 -u | cut -f1)
do ./1158 $i
done | rs 0 7
</code></pre>
<pre class="lang-none prettyprint-override"><code>71  71  71  71  71  71  71
72  72  72  72  72  69  69
70  73  73  73  73  70  67
68  71  74  74  74  71  68
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 65 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(a)round(mean(format(as.Date(paste0(a,-1:-31)),&quot;%u&quot;)&lt;6,n=T)*100)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhY3HWM0EjWL8kvzUjRyUxPzNNLyi3ITSzQSi_VcEktSNQoSi0tSDTQSdXQNrXSNDTU1dZRUS5U0bcx08mxDNLUMDQw0oQa5p2koGRkYGugamCppKigrmFlwwUXMwCLmxiARQ0sjA11DA2Q1FobmuoZGUBGIcQsWQGgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<ul>
<li><code>as.Date(paste0(a,-1:-31))</code> is producing days 1 to 31 of the month; for the shorter months the invalid dates are turned into <code>NA</code>s</li>
<li><code>format(...,&quot;%u&quot;)</code> conveniently turns the dates into their respective weekdays as the numbers 1 to 7;</li>
<li><code>&lt;6</code>: workdays 1-5 are <code>TRUE</code>, weekend is <code>FALSE</code></li>
<li><code>mean</code> over booleans gives the ratio <code>N(TRUE values) / N(all values)</code>, with the argument <code>n=T</code> removing the <code>NA</code>s</li>
</ul>
</div>
<div id="pu5" class="pu"><h1>Swift, 346 bytes</h1>
<p>Short version:</p>
<pre><code>func f(_ s:String)-&gt;Int{let c=Calendar.current,m=Int(s.suffix(2))!,y=Int(s.prefix(4))!,mR=c.range(of:.day,in:.month,for:DateComponents(calendar:c,year:y,month:m).date!)!,n=mR.reduce(0){p,d in let d=c.date(from: DateComponents(year:y,month:m,day:d))!,w=c.component(.weekday,from:d);return(2...6).contains(w) ?p+1:p};return (n*1000/mR.count+5)/10}
</code></pre>
<p>Slightly longer version:</p>
<pre><code>func f2(_ s: String) -&gt; Int {
    let c=Calendar.current
    let m=Int(s.suffix(2))!
    let y=Int(s.prefix(4))!
    let mR=c.range(of:.day,in:.month,for:DateComponents(calendar:c,year:y,month:m).date!)!
    let n=mR.reduce(0){p,d in
        let d=c.date(from: DateComponents(year:y,month:m,day:d))!
        let w=c.component(.weekday,from:d)
        return(2...6).contains(w) ?p+1:p
    }
    return (n*1000/mR.count+5)/10
}
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 152 bytes</h1>
<p>A port of <a href="https://codegolf.stackexchange.com/a/111902/110802">@adrianmp's C# answer</a> in Scala.</p>
<hr />
<p>Golfed version. <a href="https://tio.run/##dY9Pa8JAEMXv@RSDp91K4q6l0UZXKHgVD6UtpZQymk1cGxPZHRURP3u62xZa@uc27/3eMG/cEitszWbbWII17jEhs9HJS/TLIh0crDyLmsVaLwlmaGo4RQC5LmDjBUNbugxurMXj0y1ZU5fPPIO72hAon/RR2GMFRcY@qJpMm92i0ly1Tk1OgeXq6@ajRjtralolW7ROM8dHIUIqTypdl7SaF@/YuxYOSoyKxjIzjgVQAxRLbgqWJ0hTPDLTlTwpdZjnxYPWr0HcY7XT45QfukqOZugP2WZX50wKkYiLQ4/4ufWdodcD0o5giU67LLwBW9@fqpoVrNMXUsTiqsN5CKbDv3n6yQeXP7m87otYiv/3h3IQy/53fo7O7Rs" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>s=&gt;{val d=java.time.YearMonth.parse(s);val t=d.lengthOfMonth;var w=0;for(i&lt;-0 to t-1)if(d.atDay(i+1).getDayOfWeek.getValue&lt;6)w+=1;Math.round(100.0*w/t)}
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##dZHRTsIwFIbv9xQnXJBNstFiBF0YCQkx8WKSaNQQY8yBdaMwNtJ2GGJ49tmxOYfi1XrO9/3taScXGGOe8802FQpWuENH8Q1z3o0/LcWKDsaaGel8xRYKfOQJfBoAAQthowsTRSRdGAuB@9dHJXgSvVkuPCVcgXc0AXYYQ@hCScEbwSTN5jHTXBZVKZVaoJszhsJPE7V0tigkM6XVEFSqMJ7gXichcGKWRGo5DY96bQn4SMVan1V5xKhQmAowOQxtIJAlije2s@oxqkFwPw1fGFsfz0GlHZ3sALWciBVVSesMD8GsM4XyjHHGYORB7Tr@9H4ynv3AdhvORIbNyO3DXTPSnBJObtnxgNboYHx/q4WP@jVFmiWBSQlxCFychLuNdzAawa4GTCpYoGTSPba2@h@qODFDs9UjlNjkqmVZhdi/Ps/7FR9c/ub0pkdsSv7PX9OBTXtNfjAOef4F" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>import java.time._
import java.time.temporal._

object Main {
  def main(args: Array[String]): Unit = {
    val f: String =&gt; Double = s =&gt; {
      val d = YearMonth.parse(s)
      val totalDays = d.lengthOfMonth
      var workingDays = 0

      for (i &lt;- 0 until totalDays) {
        val dayOfWeek = d.atDay(i + 1).getDayOfWeek
        if (dayOfWeek.getValue &gt;= DayOfWeek.MONDAY.getValue &amp;&amp; dayOfWeek.getValue &lt;= DayOfWeek.FRIDAY.getValue) {
          workingDays += 1
        }
      }

      Math.round(100.0 * workingDays / totalDays)
    }

    // test cases:
    println(f(&quot;2010-05&quot;)) // 68
    println(f(&quot;2010-06&quot;)) // 73
    println(f(&quot;1920-10&quot;)) // 68
    println(f(&quot;2817-12&quot;)) // 68
  }
}
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Bash + ncal, <s>75</s> 70 bytes</h1>
<pre class="lang-sh prettyprint-override"><code>m=`ncal ${1#*-} ${1%-*}`
set $m
wc -w&lt;&lt;&lt;${m%%Sa*}|dc -e ?7-A0*$#\ 9-/p
</code></pre>
<p>We start by using <code>ncal</code> to print a calendar:</p>
<pre><code>    May 2010          
Mo     3 10 17 24 31
Tu     4 11 18 25   
We     5 12 19 26   
Th     6 13 20 27   
Fr     7 14 21 28   
Sa  1  8 15 22 29   
Su  2  9 16 23 30   
</code></pre>
<p>The total number of days in the month is the word-count of this output, minus 9 (the seven weekday names and the month and year of the header).  This word-count is obtained using <code>set</code> and <code>$#</code>.</p>
<p>The number of work days is a similar calculation, but we first eliminate everything from <code>Sa</code> onwards (we can't just match <code>S</code> because the month may be <code>Sep</code>), and subtract only 7 surplus words.  We count this using <code>wc</code>.</p>
<p>We then use <code>dc</code> to compute a percentage (using <code>A0</code> as short form of <code>100</code>).</p>
<p>Note that this program rounds fractional percentages downwards - the question's examples appear to use a different choice for the rounding, but it didn't impose a specific direction.  Rounding to nearest would cost an additional 7 bytes by executing <code>$#\ 2/+</code> before we divide by the total: <code>?7-A0*$#\ 2/+$#\ 9-/p</code>.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, 243 bytes</h1>
<pre class="lang-go prettyprint-override"><code>import(.&quot;time&quot;;.&quot;math&quot;)
func f(s string)int{t,_:=Parse(&quot;2006-01&quot;,s)
D,o:=Hour*24,0.0
y,m,_:=t.Date()
d:=Date(y,m+1,0,0,0,0,0,UTC).Add(D).Sub(t).Hours()/24
for;t.Month()==m;t=t.Add(D){if w:=t.Weekday();0&lt;w&amp;&amp;w&lt;6{o++}}
return int(Round(100*o/d))}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZVHBbhMxEBVXf4VlKZWn8brepaQhySJVRIgLUkVBHKBql9ibWs3a0e5soyrKl3CJkPio8hv8APYuVArYBz8_z7x54_n2fen3j7N1sbgrloZWhXWE2Grta5SsrJA9XRqsrVs2B8TCu3v2o8UyGT_-6nkuGdrKsKlkVYG3DEjZugUteUN7BbAOtyiuJ_lFUTeGs0ypUaJSJhogc-En-Vvf1sfZqVBSkQdRxVCU8wINB6IneYcCP0yFetofP7wGea41n4O8bL9yBBllGg4n2SkpfT1F-c47vOWQ59UUg2IfvbUl3cQCn4y508UDh6mabY6ONrPR1g-Hux2pDba1o8E2f-9bp3mq1LE_0QC7vvWfz7Kux_h5HOiWWLdusaGTnN5kKlWJekEP1mhMen50yJ89J-nLTCWp-j9-nJ4lafYvfxNbo9diZZ2J9erChSlerlcWee9CsC-ORVOlNSvdmXrTIR5zIHgV1Ee2f_-srsRfmF4R34ZJxddz9JZ7IEuPXXBQB3IR5oklZ4OGJq8oH2igAx3Oewg1Be2kgwANSR2ieR4xkB3583X7fX_-Bg" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Loops through the days of the month and checks each for being a weekday (between <code>0=Sunday</code> and <code>6=Saturday</code>).</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>36</s> 34 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>HÆÐU+XnÃf@¤¤ÅÉ¶XÎÃme
èÈ©n6Ã*L/UÊ r
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=SMbQVStYbsNmQKSkxcm2WM7DbWUK6MipbjbDKkwvVcogcg&amp;input=IjIwMTAtMDYi" rel="nofollow noreferrer">Try it</a></p>
<p>Not pretty at all! Needs more work.</p>
<h2><s>34</s> 32 bytes</h2>
<p>2 bytes can be saved by always rounding down as the challenge doesn't specify that we must round to the nearest integer:</p>
<pre><code>HÆÐU+XnÃf@¤¤ÅÉ¶XÎÃme
èÈ©n6ÃzUÊ/L
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=SMbQVStYbsNmQKSkxcm2WM7DbWUK6MipbjbDelXKL0w&amp;input=IjIwMTAtMDYi" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu10" class="pu"><h2>Windows PowerShell, 80</h2>
<pre><code>$x=$args;1..31|%{&quot;$x-$_&quot;|date -u %u -ea 0}|%{$a++
$b+=!!($_%6)}
[int]($b*100/$a)
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, 78 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>{round 100*@_.grep(6&gt;*.day-of-week)/@_}o{Date.new("$_-01")...^*.month-*.month}
</code></pre>

<p><a href="https://tio.run/##VcpBCsIwEEDRvacIQSQNzDhTMCqidOE5DIGmFrRNqZUSSs8eXbioqw@P3/n@aVITxaYSZ5GmPrzbUjCRLizee98pc9FYugihgtH7R7Yt7Bymqxs8tn5Ucm2BWGaIeNPYhHao4dc5vVwUlZI5MQHtZHZa/YlZCB9zAqblc@A9cP6V9AE" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 55 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">bytes</a><sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer" title=".dyalog files using a single byte character set">SBCS</a></sup></h1>



<p>Anonymous tacit prefix function.</p>

<pre class="lang-apl prettyprint-override"><code>⌊.5+100×2÷/(2 5)2{≢⍎⍕↓⍺↓¯2⌽' ',cal⍎' '@5⊢⍵⊣⎕CY'dfns'}¨⊂
</code></pre>

<p><code>⊂</code> enclose date to treat it as a whole</p>

<p><code>(2 5)2{</code>…<code>}¨</code> apply the following function on that, but with the left arguments <code>[2,5]</code> and <code>2</code>:</p>

<p> <code>⎕CY'dfns'</code> copy the "dfns" library</p>

<p> <code>⍵⊣</code> discard the report in favour of the date</p>

<p> <code>' '@5⊢</code> replace the 5th character (<code>-</code>) with a space</p>

<p> <code>⍎</code> execute that to get two-element list</p>

<p> <code>cal</code> call the calendar function on that</p>

<p> <code>' ',</code> prepend a column of spaces to that</p>

<p> <code>¯2⌽</code> rotate the last two columns (Saturday) to the front</p>

<p> <code>⍺↓</code> drop left-argument number of rows (2, headers) and columns (if specified; 5=Sat+Sun)</p>

<p> <code>↓</code> split matrix into list of lines</p>

<p> <code>⍕</code> format (flattens with insertion of double-spacing)</p>

<p> <code>⍎</code> execute (turns remaining day numbers into a flat numeric list)</p>

<p> <code>≢</code> tally those</p>

<p><code>2÷/</code> divide each pair (there's only one)</p>

<p><code>100×</code> multiply by a hundred</p>

<p><code>.5+</code> add a half</p>

<p><code>⌊</code> floor</p>

<p><a href="https://tio.run/##SyzI0U2pTMzJT////1FPl56ptqGBweHpRoe362sYKZhqGlU/6lz0qLfvUe/UR22TH/XuApKH1hs96tmrrqCuk5yYA5QDshxMH3UBlW191LX4Ud9U50j1lLS8YvXaQysedTX9T3vUNgFkRN9UT/9HXc2H1hs/apsI5AUHOQPJEA/P4P9p6kYGhga6BqbqXDCmGYhpaGlkoGtoABa1MDTXNTRSBwA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1>Oracle SQL, 110 bytes</h1>

<pre><code>select round(100*sum(1-trunc(to_char(x+level-1,'d')/6))/sum(1))from dual,t connect by level&lt;=add_months(x,1)-x
</code></pre>

<p>It works with an assumption that input data is stored in a table in using <code>date</code> data type, e.g.</p>

<pre><code>with t as (select to_date('2010-06','yyyy-mm') x from dual)
</code></pre>
</div>
<div id="pu14" class="pu"><h1>C#, 158 bytes</h1>
<pre><code>s=&gt;{var d=DateTime.Parse(s);int i=0,t=DateTime.DaysInMonth(d.Year,d.Month),w=0;while(i&lt;t)w-=-(int)d.AddDays(i++).DayOfWeek%6&gt;&gt;31;return Math.Round(1e2*w/t);};
</code></pre>
<p>Anonymous method which returns the required percentage.</p>
<p>Full program with ungolfed, commented method and test cases:</p>
<pre><code>using System;

class WorkingDayPercentage
{
    static void Main()
    {
        Func &lt;string, double&gt; f =
        s =&gt;
        {
            var d = DateTime.Parse(s);                      // extracts a DateTime object from the supplied string
            int i = 0,                                      // index variable
                t = DateTime.DaysInMonth(d.Year, d.Month),  // number of total number of days in the specified month
                w = 0;                                      // number of working days in the month
            
            while (i &lt; t)                                   // iterates through the days of the month
                w -= -(int)d.AddDays(i++).DayOfWeek%6 &gt;&gt; 31;// d.AddDays(i) is the current day
                                                            // i++ increments the index variable to go to the next day
                                                            // .DayOfWeek is an enum which hold the weekdays
                                                            // (int)..DayOfWeek gets the days's index in the enum
                                                            // note that 6 is Saturday, 0 is Sunday, 1 is Monday etc.
                                                            // (int)DayOfWeek % 6 converts weekend days to 0
                                                            // while working days stay strictly positive
                                                            // - changes the sign of the positive numbers
                                                            // &gt;&gt; 31 extracts the signum
                                                            // which is -1 for negative numbers (working days)
                                                            // weekend days remain 0
                                                            // w -= substracts the negative numbers
                                                            // equivalent to adding their modulus
            
            return Math.Round(1e2 * w / t);                 // the Math.round function requires a double or a decimal
                                                            // working days and total number of days are integers
                                                            // also, a percentage must be returned
                                                            // multiplying with 100.0 converts the expression to a double
                                                            // however, 1e2 is used to shorten the code
        };
        
        // test cases:
        Console.WriteLine(f(&quot;2010-05&quot;)); // 68
        Console.WriteLine(f(&quot;2010-06&quot;)); // 73
        Console.WriteLine(f(&quot;1920-10&quot;)); // 68
        Console.WriteLine(f(&quot;2817-12&quot;)); // 68
    }
}
</code></pre>
<p>Alternative function, which adds negative values to the number of working days, changing the sign in the return with no extra byte cost:</p>
<pre><code>s=&gt;{var d=DateTime.Parse(s);int i=0,t=DateTime.DaysInMonth(d.Year,d.Month),w=0;while(i&lt;t)w+=-(int)d.AddDays(i++).DayOfWeek%6&gt;&gt;31;return-Math.Round(1e2*w/t);};
</code></pre>
</div>
<div id="pu15" class="pu"><h1>PHP 5.2, 88 bytes</h1>
<p>Although I already golfed <a href="https://codegolf.stackexchange.com/a/1217/55735">zneak´s solution</a> down to 85 bytes (I just found one more), here´s my own:<br />
<sub>I doubt that I can squeeze another three bytes out here.</sub></p>
<pre class="lang-php prettyprint-override"><code>$a=_4444444255555236666304777411;echo$a[date(t,$t=strtotime($argn))%28*7+date(N,$t)]+67;
</code></pre>
<p>takes input from STDIN: Run with <code>echo &lt;yyyy&gt;-&lt;mm&gt; | php -nR '&lt;code&gt;'</code>.</p>
<p>The string <code>$a</code> maps days per month (<code>date(t)</code>) and week day of the first day of the month (<code>date(N)</code>: Monday=1, Sunday=7) to the percentage of work days-67; <code>strtotime</code> converts the input to a UNIX timestamp; the rest of the code does the hashing.</p>
<p>+1 byte for older PHP 5: Replace <code>N</code> with <code>w</code> and <code>$a=_...;</code> with <code>$a=&quot;...&quot;</code>.<br />
another +3 bytes for PHP 4: insert <code>.-1</code> after <code>$argn</code>.</p>
<p>-5 bytes for PHP 5.5 or later (postdates the challenge):<br />
Remove everything before <code>echo</code> and replace <code>$a</code> with <code>&quot;4444444255555236666304777411&quot;</code>.</p>
</div>
<div id="pu16" class="pu"><h1>Rebol - <strike>118</strike> 113</h1>
<pre><code>w: b: 0 o: d: do join input&quot;-01&quot;while[d/2 = o/2][if d/7 &lt; 6[++ w]++ b d: o + b]print to-integer round w / b * 100
</code></pre>
<p>Ungolfed:</p>
<pre><code>w: b: 0 
o: d: do join input &quot;-01&quot;
while [d/2 = o/2] [
    if d/7 &lt; 6 [++ w]
    ++ b
    d: o + b
]
print to-integer round w / b * 100
</code></pre>
</div>
<div id="pu17" class="pu"><h1>Bash + coreutils, 82 bytes</h1>
<pre><code>f()(cal -NMd$1|sed -n &quot;s/^$2.//p&quot;|wc -w)
dc -e`f $1 &quot;[^S ]&quot;`d`f $1 S`+r200*r/1+2/p
</code></pre>
</div>
<div id="pu18" class="pu"><h2>Ruby, <strike>124</strike> <strike>119</strike> 111</h2>

<pre><code>require 'date'
e=Date.civil *$*[0].split(?-).map(&amp;:to_i),-1
p ((e+1&lt;&lt;1..e).count{|d|d.cwday&lt;6}*1e2/e.day).round
</code></pre>

<p>Requires Ruby 1.9 due to splatting the year and month before the -1 "day" argument and <code>?-</code> for <code>"-"</code>. For Ruby 1.8, we must add 2 characters:</p>

<pre><code>require 'date'
e=Date.civil *$*[0].split('-').map(&amp;:to_i)&lt;&lt;-1
p ((e+1&lt;&lt;1..e).count{|d|d.cwday&lt;6}*1e2/e.day).round
</code></pre>

<p><strong>Edit</strong>: Shave five characters based on @Dogbert's help.<br>
<strong>Edit</strong>: Shave eight more characters based on @steenslag's help.</p>
</div>
<div id="pu19" class="pu"><h2>64-bit Perl, 67 <s>68</s></h2>

<p>Perl 5.10 or later, run with <code>perl -E 'code here'</code> or <code>perl -M5.010 filename</code></p>

<pre><code>map{$d++,/^S/||$w++if$_=`date -d@ARGV-$_`}1..31;say int.5+100*$w/$d
</code></pre>

<p>Concessions to code size:</p>

<ul>
<li>locale-sensitive: it counts as work days the days whose <code>date</code> output don't start with a capital S.  Run under <code>LC_ALL=C</code> if in doubt.</li>
<li>output is pure and well-formatted, but there's "garbage" on stderr on months shorter than 31.  <code>2&gt; /dev/null</code> if upset.</li>
<li><s>for some reason, my version of <code>date</code> considers 2817-12 an invalid month.  Who knew, GNU new apocalypse is due!</s> Requires a 64 bit build of <code>date</code> for dates after 2038.  (Thanks Joey)</li>
</ul>
</div>
<div id="pu20" class="pu"><h2>PHP - 135</h2>

<p>I made it in PHP because I had a <a href="https://stackoverflow.com/questions/4963205/how-can-i-figure-out-the-number-of-week-days-in-a-month">similar problem to treat</a> a few days ago.</p>

<pre><code>&lt;?php $a=array(2,3,3,3,2,1,1);$t=strtotime($argv[1]);$m=date(t,$t);echo round((20+min($m-28,$a[date(w,strtotime('28day',$t))]))/$m*100)
</code></pre>

<p>(Somewhat) More legibly, and without notices about constants being used as strings:</p>

<pre><code>&lt;?php
date_default_timezone_set('America/New_York');
$additionalDays = array(2, 3, 3, 3, 2, 1, 1);
$timestamp = strtotime($argv[1]);
$daysInMonth = date('t', $timestamp);
$limit = $daysInMonth - 28;
$twentyNinthDayIndex = date('w', strtotime("+28 days", $timestamp));
$add = $additionalDays[$twentyNinthDayIndex];
$numberOfWorkDays = 20 + min($limit, $add);
echo round($numberOfWorkDays / $daysInMonth * 100);
?&gt;
</code></pre>

<p>This is made possible by a very simple algorithm to compute the number of work days in a month: check for the weekdayness of the 29th, 30th and 31st (if those dates exist), and add 20.</p>
</div>
<div id="pu21" class="pu"><h2>Python - 142</h2>

<pre><code>from calendar import*
y,m=map(int,raw_input().split('-'))
f,r=monthrange(y,m)
print'%.f'%((r-sum(weekday(y,m,d+1)&gt;4for d in range(r)))*100./r)
</code></pre>

<p>Thanks to fR0DDY for the calendar bit.</p>
</div>
<div id="pu22" class="pu"><p><strong>Python 152 Characters</strong></p>

<pre><code>from calendar import*
y,m=map(int,raw_input().split('-'))
c=r=monthrange(y,m)[1]
for d in range(1,r+1):
 if weekday(y,m,d)&gt;4:c-=1
print '%.f'%(c*100./r)
</code></pre>
</div>
<div id="pu23" class="pu"><h1>D: 186 Characters</h1>

<pre><code>auto f(S)(S s){auto d=Date.fromISOExtendedString(s~"-28"),e=d.endOfMonth;int n=20;while(1){d+=dur!"days"(1);if(d&gt;e)break;int w=d.dayOfWeek;if(w&gt;0&amp;&amp;w&lt;6)++n;}return rndtol(n*100.0/e.day);}
</code></pre>

<p>More Legibly:</p>

<pre><code>auto f(S)(S s)
{
    auto d = Date.fromISOExtendedString(s ~ "-28"), e = d.endOfMonth;
    int n = 20;

    while(1)
    {
        d += dur!"days"(1);

        if(d &gt; e)
            break;

        int w = d.dayOfWeek;

        if(w &gt; 0 &amp;&amp; w &lt; 6)
            ++n;
    }

    return rndtol(n * 100.0 / e.day);
}
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/1158/">1158</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




