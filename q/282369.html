<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::282369</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>070</td><td>Python</td><td>250625T054033Z</td><td><a href="https://codegolf.stackexchange.com/questions/282369/generate-a-text-shape-with-given-area-and-perimeter/282384#282384">Albert.L</a></td></tr>
<tr d-ix="1"><td>160</td><td>Google Sheets</td><td>250624T181614Z</td><td><a href="https://codegolf.stackexchange.com/questions/282369/generate-a-text-shape-with-given-area-and-perimeter/282376#282376">doubleun</a></td></tr>
<tr d-ix="2"><td>082</td><td>JavaScript Node.js</td><td>250625T045300Z</td><td><a href="https://codegolf.stackexchange.com/questions/282369/generate-a-text-shape-with-given-area-and-perimeter/282383#282383">l4m2</a></td></tr>
<tr d-ix="3"><td>019</td><td>Jelly</td><td>250624T180449Z</td><td><a href="https://codegolf.stackexchange.com/questions/282369/generate-a-text-shape-with-given-area-and-perimeter/282375#282375">Jonathan</a></td></tr>
<tr d-ix="4"><td>301</td><td>Python3</td><td>250624T185000Z</td><td><a href="https://codegolf.stackexchange.com/questions/282369/generate-a-text-shape-with-given-area-and-perimeter/282378#282378">Ajax1234</a></td></tr>
<tr d-ix="5"><td>080</td><td>Python 3</td><td>250624T103820Z</td><td><a href="https://codegolf.stackexchange.com/questions/282369/generate-a-text-shape-with-given-area-and-perimeter/282370#282370">Jitse</a></td></tr>
<tr d-ix="6"><td>020</td><td>Charcoal</td><td>250624T151142Z</td><td><a href="https://codegolf.stackexchange.com/questions/282369/generate-a-text-shape-with-given-area-and-perimeter/282373#282373">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 70 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda a,c,w=1:a&gt;w*(v:=c//2-w)and f(a,c,w+1)or((&quot;\n&quot;+v*&quot;#&quot;)*w)[:a+w]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=NY9NDoIwEIX3nqKpmxaGQPkLNqlLL6EuKthIooUQpHHtMdyw0Tt5G6HFzXvz8iaTb16f9tFfGj2O73uvguK7U-Iqb6dKIgklGMG43BqPDFyUYRgHhkpdIUVs6TPadITgg8b-4OE1pp6hey59c1yuPVXTzYdQrRHJgEUUSALFpDHkk6Z2zoHFNtg-c4lFEM--AZa66JwtnkIybxcMkpzyFUJtV-ueWDQKZ12JiWsiow7l_-AP" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Faulty <a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 70 bytes</h3>
<pre class="lang-python prettyprint-override"><code>f=lambda a,c,w=1:a&gt;w*(c//2-w)and f(a,c,w+1)or(a//w*&quot;#&quot;+&quot;\n&quot;)*w+a%w*&quot;#&quot;
</code></pre>
<p>Thanks to @doubleunary for spotting.</p>
<p><a href="https://ato.pxeger.com/run?1=NY9NCsIwEIX3niJEhKSdkqaNpRbq0lO4ia3BgqalVILgTdx0o3fyNuanbt43jzcMb16f4TFdej3P7_ukkvJ7UPVV3k6tRBIaMDWv5N5EpGEsSwyVukWK-CTmtB-JZMxEeI1jfNSYRiaWG--Xa0_Vj-4Q6jQiW-ApBZJDaTWDwqrwswiBzTMLnkLmuAMugg3kCwXkbrvkkBe0WiE0jJ2eiK9F4azb2nZxbUKH_2c_" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Tries different rectangular layouts until it finds a working one.</p>
</div>
<div id="pu1" class="pu"><h1>Google Sheets, 160 bytes</h1>
<pre class="lang-none prettyprint-override"><code>=let(_,lambda(x,y,rept(join(&quot;
&quot;,rept(&quot;#&quot;,y)&amp;&quot;
&quot;),x)),w,ceiling(B1/4),h,int(B1/4),l,int(A1/w),s,h-l,m,l*w+s-A1,b,s-(m&lt;0),_(l-(m&gt;0),w)&amp;_(abs(m),w-(b=0)-1)&amp;_(b,1))
</code></pre>
<p>Put <span class="math-container">\$a\$</span> in cell <code>A1</code>, <span class="math-container">\$p\$</span> in <code>B1</code>, and the formula in <code>C1</code>.
Uses <a href="https://codegolf.stackexchange.com/a/282370/119296">Jitse's</a> dimensions. There are two inline line breaks in the lambda.</p>
<p><img src="https://i.sstatic.net/6dSGehBM.png" alt="screenshot" /></p>
<p>Ungolfed:</p>
<pre class="lang-none prettyprint-override"><code>=let(
  block_, lambda(x, y, rept(join(char(10), rept(&quot;#&quot;, y) &amp; char(10)), x)),
  width, ceiling(B1 / 4),
  height, floor(B1 / 4),
  numLongRows, floor(A1 / width),
  numShortRows, height - numLongRows,
  numMidRows, numLongRows * width + numShortRows - A1,
  block_(numLongRows - (numMidRows &gt; 0), width) &amp; 
  block_(abs(numMidRows), width - (numShortRows - (numMidRows &lt; 0) = 0) - 1) &amp; 
  block_(numShortRows - (numMidRows &lt; 0), 1)
)
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 82 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>A=&gt;P=&gt;[...Array(P+2&gt;&gt;2)].map((_,i,z)=&gt;z.map((_,j)=&gt;1+i&gt;P/4?0:i*j?A--&gt;P/2-1?1:0:1))
</code></pre>
<p><a href="https://tio.run/##bc3RCoIwFMbx@57knHTLMyzC2IZv4H1EDFOZmJMZQb78WhfdZJf/Hx98vXmaufZ2erDR3ZrQylBKVUl15pyX3psXVIlQSuCF380EcE1tuqBUyzf7GJRYVe1ynRV22@uSsViCkaYiKwgxnDa1G2c3NHxwHbRACDnirwqEw1pzhONfpWzN@8hizXEK9HkMbw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 19 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ŒṗL,`jNƲạƝS⁼ʋƇṪ”#ẋY
</code></pre>
<p>A dyadic Link that accepts the area on the left and the perimeter on the right and yields a list of characters, or a full program that prints to stdout.</p>
<p><strong><a href="https://tio.run/##ATMAzP9qZWxsef//xZLhuZdMLGBqTsay4bqhxp1T4oG8yovGh@G5quKAnSPhuotZ////MjX/Mjg" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8///opIc7p/voJGT5Hdv0cNfCY3ODHzXuOdV9rP3hzlWPGuYqP9zVHfnf0OzQ1kN7H@5YcqSr6FHDDCDj4c61j5rWaD7c1XdoK8iIGTqHl@tnPWrcZ3VomyaIPrTt0Lb/AA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h4>How?</h4>
<pre><code>ŒṗL,`jNƲạƝS⁼ʋƇṪ”#ẋY - Link: Area; Perimeter
Œṗ                  - integer partitions of {Area}
             Ƈ      - keep those for which:
            ʋ       -   last four links as a dyad - f(Partition, Perimeter)
       Ʋ            -     last four links as a monad - f(Partition):
  L                 -       length of {Partition}
   ,`               -       pair with itself -&gt; [L, L]
      N             -       negate {Partition}
     j              -       {[L, L]} join {negated Partition}
        ạƝ          -     absolute differences of the neighbours in {that}
          S         -     sum {these}
           ⁼        -     is {that} equal to {Perimeter}?
              Ṫ     - tail of {that} (one valid partition or 0)
               ”#ẋ  - repeat '#' {those} many times
                  Y - join {those} with newline characters
                    - (if a full program: implicit print)
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Python3, 301 bytes</h1>
<p>Naive approach.</p>
<pre class="lang-py prettyprint-override"><code>E=enumerate
def f(a,p):
 q=[(a-i,[[1]*i])for i in range(a,0,-1)]
 for a,b in q:
  D={(x,y)for x,r in E(b)for y,v in E(r)if v}
  if 0==a and sum((x+X,y+Y)not in D for X,Y in[(1,0),(-1,0),(0,1),(0,-1)]for x,y in D)==p:return b
  q+=[(a-i,b+[[0]*(len(b[0])-i)+[1]*i])for i in range(1,min(a,len(b[0]))+1)]
</code></pre>
<p><a href="https://tio.run/##bY9BboMwEEX3nMLLmXiQbEKrKJJ3yR0SIRZGMa2lYMCFCFT17NRAW9GqG4@f5/8Z/2bsXmu3PzR@ms7KuL4yXncmupmSlaCpwWPEWpWBji1lmcx3Nsey9swy65jX7sUElaBYYh6xuaGpmFtt8LGTeoeBxsUwkJ/fz1AsONJjRY@2ZI@PoA5VKKWZdjf21lcAA7/QyK/o6m7Wnpb5F7oGyECSQIJ4LYLkcs7fWJeNiwOVao7edL13rAgrWv4VpeBZJvId3I2DItwwtsj/jyepsi6E/JEiD1umxlvXQQkJPSNG35TS4RdJscEnkskGpaDkD8t0yyntg336BA" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://docs.python.org/3/" rel="noreferrer">Python 3</a>, 80 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda a,p:'\n'.join('#'*min(p+2&gt;&gt;2,a-p//4-~-p//4*i+1)or'#'for i in range(p//4))
</code></pre>
<p><a href="https://tio.run/##RY7LDoIwEEX3fsUkLtqBQehDY0jkS9jUKFoibdOwceOvV4pRV@eee2cx4TnfvVNpOPXpYabzxYCh0LLesd3oreNsy4ppYShl10kyVahrXb1WFLYU6ONyMvgIFqyDaNztyvOImHJrCEIeOFd0RAIu6ZChP6ZJNJl7EjJTNCS/Qeg1aFINYrsBCNG6mS//4U@GVf@O6Q0" rel="noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>A perimeter <code>p</code> can be achieved by placing all squares in a partially filled rectangle with size <code>floor(p/4)</code> by <code>ceil(p/4)</code>.</p>
<p>-2 bytes thanks to Arnauld</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 20 bytes</h1>
<pre><code>Ｇ↑÷Ｎ⁴#Ｍ→⪪×#⁻ＮＬＫＡ÷⊖θ⁴
</code></pre>
<p><a href="https://tio.run/##XY29CsJAEIR7n@KIzR7EQhGLpBLSBIwEfx4gJktu8bIXL5uAT38eVuLAFAMf87Wm8a1rbAi1s@/eMWT3MVUlS0ELdQglj7Oc5@GBHnSq9rHJOtH5qnILQnah3khctScWuI6WBG404ASRSlVFPE//HyfkXgzUiM@jtaBjfo0Fth4HZMEOXl@l1nkI2506hM1iPw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes the perimeter as the first argument and the area as the second. Assumes the perimeter is even. Explanation: Uses @Jitse's observation that the perimeter can be gained from a partial rectangle that then is filled to the appropriate area.</p>
<pre><code>Ｇ↑÷Ｎ⁴#Ｍ→
</code></pre>
<p>Integer divide the perimeter by <code>4</code> and draw that many <code>#</code>s upwards, then move right.</p>
<pre><code>⪪×#⁻ＮＬＫＡ÷⊖⊖θ⁴
</code></pre>
<p>Input the area, subtract the count of <code>#</code>s output so far, then wrap the rest to the the width of integer dividing the decremented perimeter by <code>4</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/282369/">282369</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




