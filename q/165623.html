<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::165623</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>146</td><td>Swift 6</td><td>250502T143609Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/279468#279468">macOSist</a></td></tr>
<tr d-ix="1"><td>071</td><td>Japt</td><td>180530T225403Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165782#165782">Shaggy</a></td></tr>
<tr d-ix="2"><td>247</td><td>COBOL GnuCOBOL</td><td>180531T100111Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165820#165820">MC Emper</a></td></tr>
<tr d-ix="3"><td>115</td><td>Julia 0.7</td><td>210504T134145Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/225062#225062">MarcMush</a></td></tr>
<tr d-ix="4"><td>165</td><td>C</td><td>180529T152326Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165642#165642">Steadybo</a></td></tr>
<tr d-ix="5"><td>131</td><td>PowerShell</td><td>180529T150008Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165634#165634">AdmBorkB</a></td></tr>
<tr d-ix="6"><td>145</td><td>SAS</td><td>181126T041444Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/176566#176566">whymath</a></td></tr>
<tr d-ix="7"><td>169</td><td>Dart</td><td>181126T101931Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/176573#176573">Elcan</a></td></tr>
<tr d-ix="8"><td>188</td><td>Clojure</td><td>181110T011345Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/175637#175637">TheGreat</a></td></tr>
<tr d-ix="9"><td>171</td><td>Python 3</td><td>181109T154153Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/175607#175607">glietz</a></td></tr>
<tr d-ix="10"><td>149</td><td>Bash</td><td>180531T144453Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165849#165849">MC Emper</a></td></tr>
<tr d-ix="11"><td>240</td><td>LaTeX</td><td>180602T145432Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/166004#166004">Simon Kl</a></td></tr>
<tr d-ix="12"><td>127</td><td>JavaScript Node.js</td><td>180529T151351Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165638#165638">Muhammad</a></td></tr>
<tr d-ix="13"><td>163</td><td>VBA  163 Bytes</td><td>180602T025819Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165987#165987">Ben</a></td></tr>
<tr d-ix="14"><td>142</td><td>javascript</td><td>180601T173436Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165938#165938">Str34k</a></td></tr>
<tr d-ix="15"><td>175</td><td>C# .NET Core</td><td>180605T223955Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/166257#166257">Scott Ar</a></td></tr>
<tr d-ix="16"><td>155</td><td>BLZ 2.6</td><td>180605T230707Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/166259#166259">blazingk</a></td></tr>
<tr d-ix="17"><td>187</td><td>Python 3</td><td>180604T124453Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/166109#166109">Kamil Ja</a></td></tr>
<tr d-ix="18"><td>138</td><td>C GCC</td><td>180601T181437Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165943#165943">david.we</a></td></tr>
<tr d-ix="19"><td>137</td><td>C gcc</td><td>180529T195345Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165675#165675">ErikF</a></td></tr>
<tr d-ix="20"><td>128</td><td>Ruby</td><td>180601T163635Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165931#165931">Reinstat</a></td></tr>
<tr d-ix="21"><td>133</td><td>Zsh</td><td>180601T072634Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165892#165892">muru</a></td></tr>
<tr d-ix="22"><td>149</td><td>Ruby</td><td>180531T170301Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165858#165858">DaveMong</a></td></tr>
<tr d-ix="23"><td>127</td><td>Python 2</td><td>180530T222301Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165781#165781">Jonathan</a></td></tr>
<tr d-ix="24"><td>138</td><td>Python 3</td><td>180529T150312Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165635#165635">Jo King</a></td></tr>
<tr d-ix="25"><td>nan</td><td></td><td>180531T131611Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165840#165840">Chronoci</a></td></tr>
<tr d-ix="26"><td>181</td><td>C#</td><td>180531T082719Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165804#165804">Ben Nobl</a></td></tr>
<tr d-ix="27"><td>135</td><td>R</td><td>180529T150345Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165636#165636">Giuseppe</a></td></tr>
<tr d-ix="28"><td>162</td><td>JavaScript</td><td>180529T143149Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165630#165630">The rand</a></td></tr>
<tr d-ix="29"><td>160</td><td>Java 8</td><td>180529T145357Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165633#165633">Kevin Cr</a></td></tr>
<tr d-ix="30"><td>132</td><td>Perl</td><td>180531T032151Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165784#165784">Trenton </a></td></tr>
<tr d-ix="31"><td>061</td><td>Jelly</td><td>180530T002837Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165699#165699">Jonathan</a></td></tr>
<tr d-ix="32"><td>234</td><td>Clean</td><td>180529T232318Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165695#165695">Οurous</a></td></tr>
<tr d-ix="33"><td>137</td><td>.COM opcode</td><td>180530T164339Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165770#165770">l4m2</a></td></tr>
<tr d-ix="34"><td>092</td><td>Pyth</td><td>180530T131139Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165758#165758">Sok</a></td></tr>
<tr d-ix="35"><td>295</td><td>ABAP</td><td>180530T145458Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165761#165761">Maz</a></td></tr>
<tr d-ix="36"><td>107</td><td>Japt</td><td>180529T154257Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165647#165647">user3604</a></td></tr>
<tr d-ix="37"><td>163</td><td>Red</td><td>180530T090403Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165732#165732">Galen Iv</a></td></tr>
<tr d-ix="38"><td>081</td><td>Charcoal</td><td>180529T204726Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165683#165683">Neil</a></td></tr>
<tr d-ix="39"><td>134</td><td>QB64</td><td>180530T024628Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165710#165710">ErikF</a></td></tr>
<tr d-ix="40"><td>138</td><td>JavaScript</td><td>180530T011954Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165704#165704">darrylye</a></td></tr>
<tr d-ix="41"><td>126</td><td>PHP</td><td>180530T002050Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165698#165698">PleaseSt</a></td></tr>
<tr d-ix="42"><td>188</td><td>TSQL</td><td>180529T195042Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165674#165674">BradC</a></td></tr>
<tr d-ix="43"><td>210</td><td>SAS</td><td>180529T170039Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165659#165659">Joe</a></td></tr>
<tr d-ix="44"><td>144</td><td>Python 3</td><td>180529T162830Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165657#165657">user2699</a></td></tr>
<tr d-ix="45"><td>148</td><td>Octave</td><td>180529T150934Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165637#165637">Stewie G</a></td></tr>
<tr d-ix="46"><td>151</td><td>Python 2</td><td>180529T151437Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165639#165639">Dead Pos</a></td></tr>
<tr d-ix="47"><td>059</td><td>05AB1E</td><td>180529T152947Z</td><td><a href="https://codegolf.stackexchange.com/questions/165623/99-bugs-in-the-code/165644#165644">Emigna</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Swift 6, <s>148</s> 146 bytes</h1>
<pre class="lang-swift prettyprint-override"><code>var b=99
var s:(){print(b,&quot;bugs in the code&quot;)}
while b&gt;0{s
s
print(&quot;Take one down and patch it around&quot;)
b-=min(.random(in:-4...16),b)
s
print()}
s
</code></pre>
<p><a href="https://swiftfiddle.com/y3wer27yh5cmpfxksb7vvxc2vi" rel="nofollow noreferrer">Try it on SwiftFiddle!</a> (For whatever reason, SwiftFiddle doesn't seem to print empty lines correctly — adding <code>&quot; &quot;</code> to the final call to <code>print()</code> fixes this. This isn't an issue when running it locally.)</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>83 79 75 73</s> 71 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ª99
&gt;0?[UV=` Þï  e ¬¸
`UV`ìÇsç.Àsp®äVh
`q¤¸RiV=iTwU±Gn21ö]¬+ß:V
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=qjk5Cj4wP1tVVj1gIN7vIIggkGUgrLgKYFVWYOzHA4Zz5xMuwHNwha7kGVZomApgcaS4UmlWPWlUd1WxR24yMfZdrCvfOlY" rel="nofollow noreferrer">Test it</a></p>
</div>
<div id="pu2" class="pu"><h1 id="cobol-gnucobol-317-294-279-270-269-249-248-247-bytes">COBOL (GnuCOBOL), <s>317</s> <s>294</s> <s>279</s> <s>270</s> <s>269</s> <s>249</s> <s>248</s> 247 bytes</h1>
<h3 id="using-go-to-statements-247-bytes-fsww">Using <code>go to</code> statements: 247 bytes</h3>
<pre><code>data division.working-storage section. 1 i pic S99 value 99.procedure division.a.perform b 2 times display&quot;Take one down and patch it around&quot;compute i=4+i- random*21 set i to max(0,i)perform b display&quot;&quot;if i&gt;0 go to a.b.display i&quot; bugs in the code&quot;
</code></pre>
<p><a href="https://tio.run/##RY4xbsMwDEX3nOLDU5vWQhJ08ZAA3bO1F6AlWiFiiYYkJ@3l68pAiywEgff5@K32OrY@zsv2tBHHscgglopohJOb5LqYKalPFFpxhsziqNCD3TVdJfo2F03kGZntemywh2ASi4@uw43GmdF1q8mymxM/BGQmToOmgB4HFAmcK8zTSN/NJ10ZGmta7xEUHSYq9gIpoKRzdI3VMM2FIce3F2mRakbD9rCvPUotUBSBvp52r/L8@PJvb2SAnHbwuubI9OaPQBr0s8@QiHJhWHXcLGaz/NhhJJ@XdkjMdUosSWIWm4/v5/Mv" rel="nofollow noreferrer">Try it online!</a></p>
<p><strong>Ungolfed</strong></p>
<pre><code>data division.                     &lt;-- Define the variables we want to use
working-storage section.           &lt;-- Define global variables used in this
                                       program

1 i pic S99 value 99.              &lt;-- Define variable i with datatype signed
                                       numeric and with two digits

procedure division.                &lt;-- Define our program

a.                                 &lt;-- Define label a, to jump to
    perform b 2 times              &lt;-- Execute the procedure called 'b'
                                       twice, see below
    display &quot;Take one down and...&quot; &lt;-- Display this sentence
    compute i =
        4 + i - (random * 21)      &lt;-- Subtract from i some random value
    set i to max(0,i)              &lt;-- If i is negative, then assign 0 to i

    perform b                      &lt;-- Execute the procedure 'b'
    display &quot;&quot;                     &lt;-- Display an empty string; needed
                                       because of the blank line
    if i &gt; 0                       &lt;-- If i is still greater than 0, then
                                       we're not done yet
        go to a.                   &lt;-- and we'll jump back to 'a'

b.                                 &lt;-- Define procedure called 'b'.
    display i &quot; bugs in the code&quot;  &lt;-- Display the value of i and then the
                                       given string literal
</code></pre>
<h3 id="using-the-perform-statement-as-loop-control-269-bytes-p5h1">Using the <code>perform</code> statement as loop control: 269 bytes</h3>
<pre><code>data division.working-storage section. 1 i pic S99 value 99.procedure division.perform until i=0 perform a 2 times display&quot;Take one down and patch it around&quot;compute i=4+i-(random*21)if i&lt;0 compute i=0 end-if perform a display&quot;&quot;end-perform.a.display i&quot; bugs in the code&quot;
</code></pre>
<p><a href="https://tio.run/##TY/NasNADITveYrBpzZljRN6MTSB3nNrX0DZlR0Re2X2J6EvX3cNCe5FiJnRN8jqWQfT@zxvjxtx7JN0YimJeji5SSxLPQXtA41GXE317CjR6t01XMX3JiYN1DMi2@W4xg6CSSy@2hY3GjKjbReSZZcD/4Nz6DSMyKV6gBwaPBXCHklGjiUcp4F@qm@6MtSXa717kHeYKNkLJIGCZu8qq@OUExfO@5uYl1AyOm73u1fpIB8NVr8Be2eKvNY9a6rFecjl44cMqXDOfYR4pAsXlONqrjfzr@0G6uNsusBcpvgUxEex8fB5Ov0B" rel="nofollow noreferrer">Try it online!</a></p>
<p><strong>Ungolfed</strong></p>
<pre><code>data division.                     &lt;-- Define the variables we want to use
working-storage section.           &lt;-- Define global variables used in this
                                       program

1 i pic S99 value 99.              &lt;-- Define variable i with datatype signed
                                       numeric and with two digits

procedure division.                &lt;-- Define our program

perform until i = 0                &lt;-- Perform the following code until i = 0
    perform a 2 times              &lt;-- Execute the procedure called 'a' twice,
                                       see below

    display &quot;Take one down and...&quot; &lt;-- Display this sentence
    compute i =
        4 + i - (random * 21)      &lt;-- Subtract from i some random value

    if i &lt; 0                       &lt;-- if i &lt; 0
        compute i=0                &lt;-- then assign 0 to i
    end-if
    perform a                      &lt;-- Execute the procedure 'a'
    display &quot;&quot;                     &lt;-- Display an empty string; needed because
                                       of the blank line
end-perform.

a.                                 &lt;-- Define procedure called 'a'.
    display i &quot; bugs in the code&quot;  &lt;-- Display the value of i and then the
                                       given string literal
</code></pre>
<p>Note: the last sentence is still printed, because COBOL executes the whole program, and after the <code>perform until</code> loop it &quot;falls-through&quot; the label <em>a</em>, executing its statements. This behaviour is similar to a <code>switch case</code> without <code>break</code>.</p>
<hr />
<ul>
<li>Thanks to tail spark rabbit ear, 1 byte has been saved by using the intrinsic function <code>max</code> instead of an <code>if</code> statement.</li>
<li>Thanks to tail spark rabbit ear, 1 byte has been saved by replacing the <code>compute</code> by the <code>set</code> statement.</li>
<li>Thanks to raznagul, 1 byte has been saved by rewriting the formula for the new number of bugs.</li>
</ul>
<hr />
<p><em>PS: The numbers are not exactly displayed as required, but COBOL is not that good at auto-converting numbers to a pretty textual representation.</em></p>
</div>
<div id="pu3" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.7</a>, <s>123</s> 115 bytes</h1>

<pre class="lang-julia prettyprint-override"><code>~n=&quot;$n bugs in the code&quot;
!(n=99,m=max(0,n-rand(-4:16)))=n&gt;0?[~n;~n;&quot;Take one down and patch it around&quot;;~m;&quot;&quot;;!m]:~n
</code></pre>
<p><a href="https://tio.run/##DcrBCsIgHAfge0/xn3RQ2GJBFJtYL9EtOtiUZs2fYyl18tVt8B2/V5qcPpWSodgW9EjPDzlQHC0NwVi2qThU19Veef3jbY1m0TC8OfT7oxBC4dxebhlyxa76bSnAkglf0Npo1nEYyUXSS0gwTGYvGZOVv/cZZV4c4oQdr7gQ5Q8" rel="nofollow noreferrer" title="Julia 0.7 – Try It Online">Try it online!</a></p>
<p><code>!()</code> returns a vector of strings (for each line)</p>
</div>
<div id="pu4" class="pu"><h1>C, <s> 169 </s> 165 bytes</h1>

<p><em>Thanks to @ceilingcat for saving four bytes!</em></p>



<pre class="lang-c prettyprint-override"><code>*s=" bugs in the code";f(i,j){for(i=99;i&gt;0;i=j)printf("%d%s\n%d%s\nTake one down and patch it around\n%d%s\n\n",i,s,i,s,(j=i+rand()%19-15)&lt;0?0:j,s);printf("0%s",s);}
</code></pre>

<p><a href="https://tio.run/##NY3BDoIwEETvfMWmCUmrmJSDB6zoT3jkUtsCW@PW0BoPhG9HxDDJbuZtZjPm0Bkzz7tYM7i/uwhIkHoHJljHVMux8GJsw8CxriqFF6mw9uI1IKWWs9zmsaH/vumHg0AObPgQaLLw0sn0gAn0EN5kt2BDrMAirsN9jfthCXORl9WhPIqzvMqTL6JQW4nMI/vxNC8MT43ERTZmsCiurwmfjksh1Hpr@WKm@Qs" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, <s>137</s> <s>135</s> <s>133</s> 131 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>$b=' bugs in the code';for($a=99;$a){,"$a$b"*2;"Take one down and patch it around";$a+=-16..4|Random;if($a-lt0){$a=0}"$a$b`n"}"0$b"
</code></pre>

<p><a href="https://tio.run/##HczRCoIwFIDhVzmMgVkpFhHI2EtED9DRzRTXOTInXpjPvkb3//9NvFo/99a5GGWjM2iW9wwDQegttGxspjr2B4m6rpXEfDsLibIRx6sSTxwtMFkwvBIgGZgwtD0MAdDzQkak46SLy70sb99HCvijhi5hhQtVviW02v/ci8QuqsTG@AM" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>

<p>The "bugs in the code" section is saved into <code>$b</code> for later use. Sets <code>$a</code> to <code>99</code>, enters a <code>for</code> loop on <code>$a</code>. First we create an array of two strings <code>," "*2</code>, with the string being the <code>"X bugs in the code"</code>.</p>

<p>Next is just the string <code>"Take one down and patch it around"</code>. Then we increment <code>$a</code> by selecting a <code>Random</code> integer from the range <code>[-16,4]</code>. After that, we clamp <code>$a</code> to be at minimum zero using an if <code>if($a-lt0){$a=0}</code>. Then the string <code>"Y bugs in the code"</code>.</p>

<p>Finally, after the loop is finished, we put the string <code>"0 bugs in the code"</code> onto the pipeline. All of those strings are gathered from the pipeline, and an implicit <code>Write-Output</code> gives us newlines between them for free.</p>

<p><em>Saved two bytes using a <code>for</code> loop instead of a <code>while</code> loop.</em><br>
<em>Saved two bytes by moving <code>$b</code> onto its own section.</em><br>
<em>Saved two bytes thanks to Adrian Blackburn.</em></p>
</div>
<div id="pu6" class="pu"><h1>SAS <strike>153</strike> <strike>146</strike> 145 bytes</h1>

<pre>data;a=99;b='bugs in the code';do while(a>0);put a b/a b;put'Take one down and patch it around';a=max(a+int(ranuni(0)*20-16),0);put a b/;end;run;</pre>

<p>The original version is <a href="https://codegolf.stackexchange.com/a/165659/73111">Joe's answer</a>, thanks him.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.dartlang.org/" rel="nofollow noreferrer">Dart</a>, <s>173</s> 169 bytes</h1>

<pre><code>import'dart:math';f({n=99,m=' bugs in the code\n'}){while(n&gt;0){print('$n$m$n$m\Take one down and patch it around');n=n+Random().nextInt(20)-16;n=n&lt;0?0:n;print('$n$m');}}
</code></pre>

<p><a href="https://tio.run/##TYy9DoIwFEZneYo7kLSNP0EHE0B0djWOLJUW22hvCV6CScOzV9gcvuHLyTlK9hSjdZ3vian5FE6SYWXLA1Z5vnEVg8fw/IBFIKOh8UrXyCYRRmPfmuM5E6HrLRJnKaZuWX2XLw0eNSg/IkhU0ElqDFgC2fsBFRMlVri@zcg7Lnaov3SdE4dMbPfHhZ2yS1Zg@VeenWmKTlrkIiSrlosymeIP" rel="nofollow noreferrer" title="Dart – Try It Online">Try it online!</a></p>

<p>Almost competing with other Java-like languages for once</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://clojure.org/" rel="nofollow noreferrer">Clojure</a>, <strike>192</strike> 188 bytes</h1>



<pre class="lang-clj prettyprint-override"><code>#(loop[b 99](def s"bugs in the code")(printf"%s %s\n%s %s\nTake one down and patch it around\n"b s b s)(def n(max(+ b(rand-int 21)-16)0))(println n s"\n")(if(= n 0)(println n s)(recur n)))
</code></pre>

<p><a href="https://tio.run/##1Y7BCsIwEER/ZYgUdpFC60Howb/wZj0kTWqrdVOSFv37GKQXP8HDsiyz82a6yd/X4FLa0eT9fDFomitZ1yMqs94iRsEyOHTeOsU0h1GWXhURRWxlW2f9cPDiYP1LoMVi1ks3YFygg1/FtqIMIvLwFy301G/aw1DI32VG4lBzWR@54i1jEkiukJ1MY0@nfFU/ElNw3RogzJzon9tz@gA" rel="nofollow noreferrer" title="Clojure – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>



<pre class="lang-clj prettyprint-override"><code>#(loop [b 99] ; Initialize a loop with b=99
  (def s "bugs in the code") ; Define a variable s that equals "bugs in the code"
  (printf "%s %s\n%s %s\nTake one down and patch it around\n" b s b s) ; Prints 
    ;    "99 bugs in the code
    ;     99 bugs in the code
    ;     Take one down and patch it around" with the correct formatting.
  (def n (max (+ b (rand-int 21) -16) 0)) ; Let n = max(b+&lt;some random number between -16 and 4 inclusive&gt;, 0) This prevents negative numbers by replacing them with 0
  (println n s "\n") ; Prints "&lt;n&gt; bugs in the code" followed by an extra newline
  (if (= n 0) ; If n equals 0
    (println n s) ; Prints "&lt;n&gt; bugs in the code"
    (recur n))) ; Otherwise run the loop again with b=n
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>199</s> <s>191</s> 171 bytes</h1>

<p>-8 bytes thanks to @Stephen<br>
-20 bytes thanks to @Jo King</p>



<pre class="lang-python prettyprint-override"><code>import random
x=99
l="bugs in the code\n"
p=print
while x&gt;0:p(f"{x} {l}"*2+"Take one down and patch it around");x=max(0,x+random.choice(range(-16,5)));p(f"{x} {l}")
p(0,l)
</code></pre>

<p><a href="https://tio.run/##TY2xDsIgFAB3vuKFCWw1VaNJbfArHF0QsBApEKQppum3YxMXxxvuLnyS9u5YihmCjwkid9IPKLO2RZbhx9i/wThIWoHwUt0dRoGFaFxCkzZWQb42l0CeeM4LzHbBm0OFb/ylwDsF0k8O1iIEnoQGk4BHPzqJaZfZwDNp6lz9ljuhvRGKrNQrst2f6xOltPtPUxRWwdJSvg" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1>Bash, <s>182</s> <s>178</s> <s>151</s> 149 bytes</h1>

<pre><code>i=99;b=" bugs in the code";a(){ echo $i$b;};while((i&gt;0));do a;a;echo Take one down and patch it around;i=$[i-$RANDOM%21+4];((i&lt;0))&amp;&amp;i=0;a;echo;done;a
</code></pre>

<p><a href="https://tio.run/##LcyxCsIwEIDh3ac4ayzpUFrFpZwRBFcVxE0cLk0wh5KIbekgPnsM4vbDD5@mzsXZtNLsK516Elk1DWqVgR5uHbCH3llog7EZkizeYFsXQLDQ@MHR8cNKyZu6KNAEICT8/TPdLQRvwYTRA3kDT@pbB9wDvcLgDbISFy7FaXvYHffz5aJcXTFJ6yTlOav6LyXVW6QYvw" rel="nofollow noreferrer">Try it online!</a></p>

<p><strong>Ungolfed</strong></p>

<pre class="lang-bash prettyprint-override"><code>i=99;                             # Var i as current number of bugs
b=" bugs in the code";            # b to shortcut our string

a() {                             # Define function 'a'
    echo $i$b;                    # to shortcut displaying or number of bugs
};

while((i&gt;0)); do                  # Repeat as long as var i is greater than 0
    a;a                           # Execute 'a' twice
    echo Take one down and...     # Display some bugs taken down
    i=                            # Assign the following value to $i:
      $[i-$RANDOM%21+4]           # i minus a random value between -4 and 16
                                  #     $RANDOM is a bash builtin function to generate a
                                  #     pseudorandom value between 0 and 32767 inclusive.
                                  #     I have applied a modulo 21 to get 21 possible
                                  #     values. We take advantage of the allowed uneven
                                  #     distribution.

    ((i&lt;0))                       # Perform the expression i &lt; 0
           &amp;&amp;                     # and assign 0 to i only if the previous
             i=0                  # command completed successfully

    a                             # Execute 'a'
    echo                          # Display a blank line
done
a                                 # Execute 'a'
</code></pre>

<p><em>Thanks to muru and Sam Dean for their improvements, they saved me 31 bytes.</em></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.latex-project.org/" rel="nofollow noreferrer">LaTeX</a>, <s>368</s> <s>304</s> <s>293</s> <s>287</s> <s>245</s> 240 bytes</h1>

<p>While not really competitive compared to the other programs in terms of bytes, I just wanted to see how to do this in LaTeX.</p>

<pre><code>\documentclass{proc}\newcount\b\b99\usepackage[first=-16,last=5]{lcg}\def~{\the\b\ bugs in the code\\}\def\|{\loop~~Take one down and patch it around\\\rand\advance\b\value{rand}\ifnum\b&gt;0 ~\\\repeat\b0 ~\\~}\begin{document}\|\end{document}
</code></pre>

<p>More readable:</p>

<pre><code>\documentclass{proc}               %shortest document class
\newcount\b                        %short variable name
\b 99                              %set the value to 99
\usepackage[first=-16,last=5]{lcg} %random number generator
%\the prints the value of the variable behind it
%\def is shorter than \newcommand and can redefine commands
\def~{\the\b\ bugs in the code\\}
\def\|{                            %the function
    \loop
        ~
        ~
        Take one down and patch it around\\
        %\rand creates a counter named rand and                                        
        %stores the random value in it
        \rand \advance\b\value{rand} 
        %if the counter is smaller than 0, it becomes 0
        \ifnum\b&gt;0 
            ~ \\                  %extra newline as required
    \repeat
    %if b is equal or smaller than 0, set it to 0
    \b 0 
    ~ \\                          %then print like normal
    %extra print at the end
    ~
}
\begin{document}
    \|                             %calling the function
\end{document}
</code></pre>

<p><strong>Improvements</strong> (per edit):</p>

<ol>
<li>"x bugs in the code" is now a function instead of 4 lines</li>
<li>Rewrote the <code>\if</code> clause for the <code>\repeat</code> as a <code>\else</code></li>
<li>Apparently <code>\value{b}=x</code> works for initialisation but not in the loop (instead of <code>\setcounter{b}{x}</code>)</li>
<li>Apparently <code>\relax</code> should be used for point 3, but that can also be achieved by inserting a space. Removed the <code>\else</code>, used TeX commands instead of LaTeX as these are shorter, and replaced <code>\'</code> by <code>~</code>.</li>
<li>Some code didn't need to be relaxed for some reason.</li>
</ol>
</div>
<div id="pu12" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 127 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(i=99,t=` bugs in the code
`)=&gt;i&gt;0?i+t+`Take one down and patch it around
`+((i+=0|Math.random()*21-15)&lt;0?0:i)+t+`
`+f(i):0+t
</code></pre>
<p><a href="https://tio.run/##FcwxEoIwEEDRnlNsmRhhgjMWMAZOYOcBEkOAVcwysGjj3SPW/81/uLdb/YIz55G6kFJvBJqqOrKxcN@GFTACjwH8XjMrTYONblGxsjf3DEAxQEefCC52MDv2IyCDW2iLXWaVEKiM/l4dj8WyE3oJeTiVeXmWF93qGuX/tMNeoKy14uQprjSFYqJB9ELK9AM" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<hr />
<h1>Explanation :</h1>
<pre class="lang-javascript prettyprint-override"><code>f = (                                          // start of our recursive function
    i=99,t=` bugs in the code                 // parameters, 1. num bugs , 2. text
`)                                           // using string literal end text with \n
=&gt;                                          // start function
    i &gt; 0 ?                                // if i is greater than 0
        i + t +                           // return value of i, value of t and  
    `Take one down and patch it around   // and this text 
    `                                   // + new line
    + (( i +=                          // and add 
        0|Math.random()*21-15) &lt; 0 ?  // remove decimal from value obtained by multiplying
                                     // random number (between 0 and 1) multiplied by 21 
                                    // and then subtracting 15 from it
                                   // if that value is less than 0
        0 :                       // add 0 to i
        i                        // otherwise add value of i  
        )                       // end the parenthesis 
    + t                        // add value of t to that
    + `\n`                    // along with a new line 
    + f(i)                   // and repeat the process (this is recursive)
    :                       // if i &gt; 0 condition not met then
        0 + t              // return 0 + t. Zero is there so the last line can be 
                          // repeated
</code></pre>
<hr />
<p>Thanks to @tsh for the idea of recursion and implementation (saved some bytes)</p>
<p>Any suggestions to golf this further are welcome.</p>
</div>
<div id="pu13" class="pu"><h1>VBA: <s>212</s> 163 Bytes</h1>



<p>This solution is based on the one by Chronocidal posted yesterday.  This my first post and I don't have enough reputation to comment on his post.</p>

<p>This revision contains two enhancements.</p>

<ol>
<li>Using <code>While/Wend</code> instead of <code>For/Next</code> saves a few characters.</li>
<li>Calling a Sub named with a single character is shorter than <code>GoSub</code> and the <code>Exit Sub</code> and <code>Return</code> lines needed to support it.</li>
</ol>

<p>Edit:<BR>
 3. Removed whitespace and characters that the VBA editor will automatically add back in.  See <a href="https://codegolf.stackexchange.com/q/5175/69061">Tips for golfing in VBA</a><BR>
 4. Added suggestions by @EricF, then saw his paste bin algorithm was even smaller so I replaced my algorithm with his and removed whitespace.  A key change was appending <code>vbLF</code> to the output string so <code>Debug.Print</code> did not have to be called as often.  Kudos to <a href="https://codegolf.stackexchange.com/users/79060/erikf">EricF</a>.</p>

<hr>

<pre><code>Sub b()
s=" bugs in the code"&amp;vbLf
c=99
While c
Debug.? c &amp;s &amp;c &amp;s &amp;"Take one down and patch it around
c=c+5-Int(Rnd()*20)
c=IIf(c&lt;0,0,c)
Debug.? c &amp;s
Wend
End Sub
</code></pre>

<p>This was a fun challenge.  If you know of an online interpreter like <a href="https://tio.run" rel="nofollow noreferrer" title="TIO">TIO</a> for VB6/VBScript/VBA please leave a comment.  </p>

<p><em>If you want to test this code and have Microsoft Excel, Word, Access, or Outlook installed (Windows only), press Alt+F11 to open the VBA IDE.  Insert a new code module (Alt+I,M) and clear out <code>Option Explicit</code>.  Then paste in the code and press F5 to run it.  The results should appear in the Immediate Window (press Ctrl+G if you don't see it).</em></p>
</div>
<div id="pu14" class="pu"><h1>javascript: 142</h1>
<pre><code>i=99
t=` bugs in the code
`;s='';while(i){s+=i+t+i+t+`Take one down and patch it around
`;i+=4-Math.random()*20|0;i=i&lt;0?0:i;s+=i+t+`
`}s+=i+t;
</code></pre>
<p><a href="https://tio.run/##LYxBDsIgFET3PcXftZW0IcZNReIJ3HkAEEj5WvlNoXahnh1rdDHJJG/eXPVDRzPhmJpA1uWMsuuKJBVc5j4CBkjegVlRoUSUZSkWj4OrsH5GJpEl9o0665sDCg4sLQF0sDDqZDxgAj3RHOxqI5O75qSTb6d1QPeq3mz5iwuUeOBHvkfxf1SFev@qyIZCpMG1A/VVrPMH" rel="nofollow noreferrer">Try it online</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.microsoft.com/net/core/platform" rel="nofollow noreferrer">C# (.NET Core)</a>, 175 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>var s="";var r=new Random();for(int p=99;p&gt;0;){var d=" bugs in the code\n";s+=p+d+p+d+"Take one down and patch it around\n";p+=r.Next(-17,5);s+=(p&gt;0?p:0)+d+"\n";}return s;
</code></pre>

<p><a href="https://tio.run/##bZDBSgMxEIbPzVMMe9plbakHkRpWD72qSCt48ZIms22wOwmZbKuUPvuatKAW/ENImHz5hkTzWLuAQ8@W1rD84oidFIJUh@yVRpg7g/MNtuIgIEVvFTO8BLcOqjtVzvUc36@2VgNHFdOyc9bAk7JUVj/EL5szd8Rui5O3YCM@WsJyGfu2LatK/sstUJkT9uf8KEaXbTmG00vOJjE6DDsVgJuikHkTGsI9LBQZ1yVP60JpKYJvZjPp76eyOmTKNAWs@jWDJYgbBJ0@4Z0KyXXja1PnWbyqDwRHCMbtCZIQvIp6AzaCCq4nky/4ugmTZ/yM5fj69uqmyoYy9Xnwd9MqWzJ0DBj7QMByGB1FGsM3" rel="nofollow noreferrer" title="C# (.NET Core) – Try It Online">Try it online!</a></p>

<p>C# uses a class for randomizing. Without the "Random" object, the response would be around 148 bytes. Using a for loop instead of a while loop removes one byte. using "new Random.Next()" will not work, since creating multiple Random objects within a loop wont make the Randomizer actually random.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/blazingkin/blz-ospl/tree/v2.6" rel="nofollow noreferrer">BLZ 2.6</a>, 155 bytes</h1>
<pre><code>b=99
while b&gt;0
n={text.newline}
s=&quot; bugs in the code&quot;+n
p=(x-&gt;print(99+s+99+s+&quot;Take one down and patch it around&quot;+n+b+s))
p()
b=b+random(-16,5)
end
b=0
p()
</code></pre>
<p>Reminds me that I need to make &quot;\n&quot; a newline so I can save some of those characters from {text.newline}</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.python.org/" rel="nofollow noreferrer">Python 3</a>, 187 bytes</h1>

<pre><code>from random import randint as r
p=print;b=99
def l(x): p(x if x &gt; 0 else 0,"bugs in the code.")
while b &gt; 0: l(b);l(b);p("Take one down and patch it around.");b+=r(-16,4);l(b);p("")
l(0)
</code></pre>

<p>So it turns out that dealing with IO/Random in Haskell is a nightmare, so changed the solution to Python. First attempt, not too great :( But at least it's working.</p>
</div>
<div id="pu18" class="pu"><h1>C (GCC), 138 bytes</h1>

<pre><code>i=99;main(v){for(;i-v--;printf("%d bugs in the code\n%s",i*=i&gt;0,v?v+1?i-=rand()%21-4,"\n":"Take one down and patch it around\n":""))v%=3;}
</code></pre>

<p>Note: I managed to get it down to 141 bytes by myself (no external help); later I saved three bytes by applying a technique that ErikF used (i*=i>0 instead of i=i&lt;0?0:i).  My original solo version:</p>

<pre><code>i=99;main(v){for(;i-v--;printf("%d bugs in the code\n%s",i=i&lt;0?0:i,v?v+1?i-=rand()%21-4,"\n":"Take one down and patch it around\n":""))v%=3;}
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <strike>141</strike> 137 bytes</h1>

<p>I used preprocessor macros <a href="http://tvtropes.org/pmwiki/pmwiki.php/Main/ForGreatJustice" rel="nofollow noreferrer">for great justice (warning: TV Tropes)</a></p>



<pre class="lang-c prettyprint-override"><code>#define _(a)printf("%d bugs in the code\n"#a,i)
f(i){for(i=99;_(),i;i+=rand()%21-16,i*=i&gt;0,_(\n))_(Take one down and patch it around\n);}
</code></pre>

<p><a href="https://tio.run/##VY7BisJAEETv@YrGIHS7UdSDIDF@gexJb0IYp2dMo/ZIMtk9iN8eR2@eCh5FvbLTs7VDLmqvPTvYdJElzJpt9oWucvpmUW4ukSFn50Ud1Gjo3opGj6Mxw6k/dyAKsXFgA7ujjnJTCGUehR4@tCjVel3WSIWU8lO1RhlpvFxMF6tCJpVs50WNRyWqcW8uDkJycPhXSEW4m2gbkAimDb1yqpXPIbnhZkTxLwgTPDKA7jP7voq/h92OqEzQY4rn8AI" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 128 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>N=99
def f;puts"#{N} bugs in the code"end
(f;f
puts"Take one down and patch it around"
N-=[N,15-rand(21)].min
f
puts)while 0&lt;N
f
</code></pre>

<p><a href="https://tio.run/##JcyxCsIwEIDh/Z7iqEsLVqzgUGpfIZObOKS9iwnWS0kTiojPHkXn/@MPaXjmrPq2BWKDpptTXIrNS71xSLcFnWC0jKMnLlgIStMZ@JmzvjN6YSS/CmohnHUcLbqIOvgkVICq@4vaNsc6fHN5aKrr7uEE/oNqtW5i3J8UmJw/" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu21" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 133 bytes</h1>



<pre class="lang-sh prettyprint-override"><code>b="%d bugs in the code
";for ((n=99;n;)){printf $b$b"Take one down and patch it around
$b
" n n n-=RANDOM%21-4,n=n\&gt;0\?n:0};printf $b
</code></pre>

<p><a href="https://tio.run/##PcxBC4IwGAbg@37Fy1BQSLDoYmNF0LWC6Ohlc9NJ8E3mJCj67Ysu8dyf1@xS0pLnBnoZZoyE6Cw6byzjovcBRUGyaQSJsnxPYaTYI9OZ5nf1sPBkYfyToMhgUrFzGCNU8AsZlmnGQT@VvB0vp@s536yr7Yoktfu6PdCu/oh/mdIX" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></p>

<hr>

<p>This takes advantage of a few zsh features.</p>

<ul>
<li>the <a href="http://zsh.sourceforge.net/Doc/Release/Shell-Grammar.html#Alternate-Forms-For-Complex-Commands" rel="nofollow noreferrer">alternative loop form</a>: <code>while list; do list; done</code> can be written as <code>while list {list}</code></li>
<li>If a format specifier in <code>printf</code> is numeric, the corresponding argument is evaluated as an arithmetic expression. So:

<ul>
<li>we get the value of <code>n</code> for free without using a <code>$</code></li>
<li><code>n -= RANDOM % 21 - 4, n = n &gt; 0 ? n : 0</code> is again evaluated without having to use <code>$((...))</code>, <code>$[...]</code> or similar. The <code>&gt;</code> and <code>?</code> had to be escaped. </li>
<li>The <code>printf $b</code> at the end evaluates an empty argument as 0 for <code>%d</code>.</li>
</ul></li>
<li>Word splitting on parameter expansion is off by default, so I do not have to quote <code>$b</code> anywhere.

<ul>
<li>This allows allows me to write <code>$b$b"Take..."</code> instead of <code>"$b${b}Take..."</code>.</li>
</ul></li>
</ul>

<hr>

<ul>
<li>Saved a few bytes by using actual newlines instead of <code>\n</code>, and <code>for((n=99;n;))</code> instead of <code>n=99;while ((n))</code>.</li>
</ul>
</div>
<div id="pu22" class="pu"><h1>Ruby: 149 bytes</h1>
<pre><code>n=99;f=&quot; bugs in the code\n&quot;;loop{puts&quot;#{n}#{f}&quot;*2+&quot;Take one down and patch it around\n&quot;;(n+=rand -16..4)&gt;0?puts(&quot;#{n}#{f}\n&quot;):break};puts&quot;0#{f}\n&quot;*2
</code></pre>
<p>Should work in pretty much any version of Ruby &gt;= 1.8</p>
<p>I think it might be possible to optimise the strings a bit more, but in general I'm pretty pleased with it - in particular the combo assignment/comparison/break statement and the abuse of optional brackets.</p>
<p>Note: the output technically has two trailing newlines; if that needs to be accounted for then it goes up by 4 characters.</p>
</div>
<div id="pu23" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>&nbsp;138 134 133 131&nbsp;</s> 127 bytes</h1>

<p><strong>-1</strong> Thanks to Jo King (rearrange so as to use the logic <code>bugs-=min(bugs,randomNumber)</code> rather than <code>bugs=max(0,bugs-randomNumber)</code>). This allowed the force-quit using a division by zero error, saving a further <strong>6</strong> bytes!</p>



<pre class="lang-python prettyprint-override"><code>r=n=99
t="bugs in the code\n"
while 1:r+=id(r);b=n;n-=min(n,r%21-4);print b,t,1/b|b,t,"Take one down and patch it around\n",n,t
</code></pre>

<p><strong><a href="https://tio.run/##FcxBC8IgGAbg@37FhxBs5AhHlyX@i45ddEpK9SruGyPov1udnttT3hwzptaqgZnnjo1w232lBOIYaMk@3CC6PaZnIHWpR5N8XwftDDRG80roIethUuN50KUmMDnJUp3c56@42kegjEA@7yALT8XyEikx2Zo3@N8uIbm1Lw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></strong></p>
</div>
<div id="pu24" class="pu"><h1><a href="https://docs.python.org/3/" rel="noreferrer">Python 3</a>, <s>156</s> 138 bytes</h1>
<p>Thanks to <a href="https://codegolf.stackexchange.com/a/165781/76162">Jonathan's Python 2 answer</a> for the <code>id</code> trick</p>

<pre class="lang-python prettyprint-override"><code>r=n=99
z='%d bugs in the code\n'
while n:x=n;r+=id(r);n-=min(n,r%21-4);print((z%x)*2+'Take one down and patch it around\n'+z%n)
print(z%n)
</code></pre>
<p><a href="https://tio.run/##JcyxDsIgGEXhvU/xLwQQO1hd2oa3cHTBQoSoF4I0rX151Lid5TvpXXzEsdasofu@2TRnlq7z7UUBVLyjKVp3AW8WHx6OMKwaY1Y6WJHliFY/AwT2mXWH9iTHlAOKEBtb5a5T/GzujiIc2biADCwlUyZPoZDJcYb9ntXGIJs//GWtHw" rel="noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<h3>Explanation:</h3>
<pre class="lang-python prettyprint-override"><code>r=n=99       #Initialise r and n to 99
z='%d bugs in the code\n'  #Save n
while n:     #Loop while n is not 0
    x=n      #Save value of n
    r+=id(r) #Modify value of r, which changes the hash value
    n-=min(n,r%21-4)  #Change n's value by a random number between 4 and -16
    print((z%x)*2+'Take one down and patch it around\n'+z%n)   #Print the message
print(z%n)  #And print the final line
</code></pre>
</div>
<div id="pu25" class="pu"><p></p>

<h2>VBA: <s>225</s> 233 Bytes</h2>

<pre class="lang-vb prettyprint-override"><code>Sub b()
For c = 99 To 0 Step -1
GoSub d
GoSub d
Debug.Print "Take one down and patch it around"
c = c + 5 - Int(rnd() * 20)
If c &lt; 0 Then c = 0
GoSub d
Debug.Print
Next c
Exit Sub
d:
Debug.Print c &amp; " bugs in the code"
Return
End Sub
</code></pre>

<p><strong>{EDIT}</strong> <em>Added the missing <code>rnd()*</code></em></p>

<p><strong>Notes:</strong><br>
Uses <code>GoSub</code> to print the triplicated line, because it's slightly shorter than assigning the line to a variable and <code>Debug.Print</code>ing it.<br>
<code>Debug.Print</code> without any arguments prints an empty line (no need for a Null or an empty string)
A <code>WorksheetFunction.Max</code> line would be too long, so I used an "if less than" to prevent negatives.  </p>

<p>&nbsp;  </p>

<h2>With indentation and comments</h2>

<pre class="lang-vb prettyprint-override"><code>Sub b()
    For c = 99 To 0 Step -1
        GoSub d '"# bugs in the code"
        GoSub d '"# bugs in the code"
        Debug.Print "Take one down and patch it around"
        c = c + 5 - Int(rnd() * 20)
        If c &lt; 0 Then c = 0 'Non-negative
        GoSub d '"# bugs in the code"
        Debug.Print
    Next c
    Exit Sub
d: 'This is our GoSub bit
    Debug.Print c &amp; " bugs in the code"
    Return
End Sub
</code></pre>
</div>
<div id="pu26" class="pu"><h1>C#, <s>184</s> 181 bytes</h1>
<p>My first Code Golf answer!</p>
<p>(Based on <a href="https://codegolf.stackexchange.com/a/165633/80847">Java answer</a> from @Kevin Cruijssen)</p>
<pre><code>Func&lt;String&gt;c=()=&gt;{String s=&quot;&quot;,t=&quot; bugs in the code\n&quot;;for(int i=99;i&gt;0;s+=i+t+i+t+&quot;Take one down and patch it around\n&quot;+((i-=new Random().Next(21)-4)&lt;0?0:i)+t+&quot;\n&quot;);return s+0+t;};
</code></pre>
<p><a href="https://tio.run/##LY9BT8MwDIXP7a@wekpUVhXEZWQZByRODCGGxGFwCGloLTYHxS4DTfvtpaNY8uGTnp/f8zzzMYWhZ6QW1j8sYWcmWNkJq5WTzuR@65jhIcU2uR0c8ozFCfo8G2578ou1pPFo6a3SdnmYCNgWxZnYAt76lgEJpAvgYxNeqDDvMSkkAbTzucFlbbi0WEp52uLJfQSIFKCJewJHDXw68R2ggEuxp2Z0KJXCmaWwh8dREHdKV/fhW9TFuZ5d6kV9XV@hPpmNWm1SkD4RcFmXYo5mgP@ZasBXxAZWDknxX/bN6/ioZT02zbPsJhLHbaieE0q4QwrKK61Nnh3z4/AL" rel="nofollow noreferrer" title="C# (.NET Core) – Try It Online">Try it online!</a></p>
</div>
<div id="pu27" class="pu"><h1><a href="https://www.r-project.org/" rel="noreferrer">R</a>, <s>182</s> <s>140</s> <s>138</s> 135 bytes</h1>



<pre class="lang-r prettyprint-override"><code>n=99;while(n)cat(n,b&lt;-" bugs in the code
",n,b,"take one down and patch it around
",n&lt;-max(0,n-sample(21,1)+5),b,"
",c(n,b)[!n],sep="")
</code></pre>

<p><a href="https://tio.run/##FY1BDsIgEADvvmLlBHFJrImHxvYlxsMWiBDtQgpN/T3CeSYzW608j@Pj8OHrJCtDRTIukxaw7O8MgaF4ByZadxLYCIpCHweRHdh4MBBbSFSMh1CAtriz7eKkV/rJK7LOtKaWvg04qMtd9UITTL@o55lfmF2ahVC1/gE" rel="noreferrer" title="R – Try It Online">Try it online!</a></p>

<p><s>while being reasonably good at random number generation, R is terrible at strings and printing.</s> <em>JayCe found about a billion bytes, and continues to find new ways to golf this!</em></p>
</div>
<div id="pu28" class="pu"><h1>JavaScript, <s>189</s> <s>176</s> <s>168</s> 162 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>f=(x=99)=&gt;{c=console.log;m=Math;a=` bugs in the code
`;c(x+a+x+a+"Take one down and patch it around"+(x=m.max(x+m.ceil(m.random()*21-15),0))+a)
x?f(x):c(`
`+x+a)}
</code></pre>

<p><a href="https://tio.run/##FY1BDoIwEEX3nGLCqiPSiIkLJNUTuPMAjKVAlbYEijYxnr3C4u3@@@9Jb5rlpEefW9eoGFvBgihLFJevFNLZ2Q2KD66rjLiR7ysSNTyWbgZtwfcK5GoldSVZyCjbSO/0UuCsgsZ9LJBtYCQve9AeaHKLbdJsTRhuKKyS4VLpgRk@rUtnGO6ORV6ccH9AzAiTcG1ZwLNkdVJv//iLLcP4Bw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>

<p>Thanks for <a href="https://codegolf.stackexchange.com/users/79762/muhammad-salman">Muhammad Salman</a> for the missing <code>console.log</code> replacement, and for <a href="https://codegolf.stackexchange.com/users/61613/oliver">Oliver</a> for the x test improvement</p>

<p>Thanks for <a href="https://codegolf.stackexchange.com/users/76323/l4m2">l4m2</a> for golfing this by 8 bytes</p>
</div>
<div id="pu29" class="pu"><h1>Java 8, <s>161</s> 160 bytes</h1>

<pre class="lang-java prettyprint-override"><code>v-&gt;{String s=&quot;&quot;,t=&quot; bugs in the code\n&quot;;for(int i=99;i&gt;0;s+=i+t+i+t+&quot;Take one down and patch it around\n&quot;+((i-=Math.random()*21+4)&lt;0?0:i)+t+&quot;\n&quot;);return s+0+t;}
</code></pre>
<p>-1 byte thanks to <em>@JonathanAllan</em>.</p>
<p><a href="https://tio.run/##LVDBTsMwDL3zFVZPCaVVQVxGyPiC7QLiAhy8JFuztUmVOEVo6reXVKvkd7D99PyezzhiddaXWXUYI@zQuusdgHVkwhGVgf3SArxTsO4Ein16q2HkIk@njFyRkKyCPTiQMI/V9rqSoyyKB5IFHNIpZkmg1oDy2ny7Qhx9YPkKWLnZCLttRCylLalcUHzgxYB3BrT/dYBOw4CkWrAEGHxyOiuUjNlK7pDaOmSG7xm/f3qsnvlr89a8WL7oZBoXwVAKDmLZlCSmWdxcD@nQZder@XFJ1efw7Ob96weQr8n/Ipm@9onqIa@IuVoxl7qOr0@Y5n8" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>v-&gt;{                   // Method with empty unused parameter and String return-type
  String s=&quot;&quot;,         //  Result-String, starting empty
         t=&quot; bugs in the code\n&quot;;
                       //  Temp-String we use multiple times
  for(int i=99;i&gt;0;    //  Start `i` at 99, and loop as long as it's larger than 0
    s+=                //   Append to the result-String:
       i+t             //    The first line of the verse
       +i+t            //    The second (duplicated) line of the verse
       +&quot;Take one down and patch it around\n&quot;
                       //    The third line of the verse
       +((i-=Math.random()*21-4)
                       //    Decrease `i` by a random integer in the range [-16, 4]
         &lt;0?0:i)       //    If `i` is now negative, set it to 0
        +t+&quot;\n&quot;);      //    And append the fourth line of the verse
  return s             //  Return the result,
         +0+t;}        //  appended with an additional line for 0 at the very end
</code></pre>
</div>
<div id="pu30" class="pu"><h1>Perl, 132 bytes</h1>

<pre><code>$c=" bugs in the code
";for($i=99;$i&gt;0;$i+=~~rand(21)-16){print$t.$/,($t=$i.$c)x2,"Take one down and patch it around
"}print"0$c
"x2
</code></pre>
</div>
<div id="pu31" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 61 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>;“,Ȥm46Ṛṛ⁽eɼḞF»
ÇȮ“"ḃḲɠ⁼ċTṪʠ/Ạ⁺ṗḍ^ẸƘⱮṖ8»20X+_«¥©17Ç⁷®ßÇ®?
99Ç
</code></pre>

<p>A niladic link which also works as a full program.</p>

<p><strong><a href="https://tio.run/##AX0Agv9qZWxsef//O@KAnCzIpG00NuG5muG5m@KBvWXJvOG4nkbCuwrDh8iu4oCcIuG4g@G4ssmg4oG8xItU4bmqyqAv4bqg4oG64bmX4biNXuG6uMaY4rGu4bmWOMK7MjBYK1/Cq8KlwqkxN8OH4oG3wq7Dn8OHwq4/Cjk5w4f//w" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (output is flushed after execution is complete but it prints paragraph by paragraph)</p>

<h3>How?</h3>

<pre><code>;“,Ȥm46Ṛṛ⁽eɼḞF» - Link 1, helper to construct count-text: number
 “,Ȥm46Ṛṛ⁽eɼḞF» - compressed string (list of characters) = " bugs in the code\n"
;               - concatenate the number with that list of characters

ÇȮ“"ḃḲɠ⁼ċTṪʠ/Ạ⁺ṗḍ^ẸƘⱮṖ8»20X+_«¥©17Ç⁷®ßÇ®? - Link 2, print stuff: number
Ç                                         - call the last Link (1) as a monad
 Ȯ                                        - print and yield that
                                          - ...at this point that is then printed again
                                          -    implicitly due to the start of a new leading
                                          -    constant chain below
  “"ḃḲɠ⁼ċTṪʠ/Ạ⁺ṗḍ^ẸƘⱮṖ8»                  - compressed string (list of characters)
                                          -     = "Take one down and patch it around\n"
                                          - ...once again an implicit print, same reason
                        20                - twenty
                          X               - random int from [1,20] 
                           +              - add the left argument, the number
                                17        - seventeen
                              ¥           - last two links as a dyad:
                             «            -   minimum (of rand[1,20]+n and 17) 
                            _             -   subtract
                               ©          - copy this newNumber to the register
                                  Ç       - call last Link (1) as a monad = f(newNumber)
                                          - here we get another implicit print, same reason
                                   ⁷      - a new line character
                                          - yet another implicit print, same reason
                                    ®     - recall newNumber from the register
                                        ? - if... 
                                       ®  - ...condition: recall from register again
                                          -               (i.e. if non-zero)
                                     ß    - ...then: call this Link (2) as a monad
                                          -          = Link 2(newNumber)
                                      Ç   - ...else: call the last Link (1) as a monad
                                          -          = Link 1(0) (since newNumber=0)

99Ç - Main Link: no arguments
99  - yep, you guessed it, ninety nine
  Ç - call the last Link (2) as a monad
</code></pre>
</div>
<div id="pu32" class="pu"><h1><a href="https://github.com/Ourous/curated-clean-linux" rel="nofollow noreferrer">Clean</a>, <s>245</s> 234 bytes</h1>

<pre><code>import StdEnv,Math.Random,System.Time,System._Unsafe,Text
f[n,v:l]b|n&gt;0=n&lt;+b&lt;+n&lt;+b+"Take one down and patch it around\n"&lt;+max 0v&lt;+b+"\n"+f[v:l]b=0&lt;+b
</code></pre>

<h1> </h1>

<pre><code>f(scan(+)99[n rem 20-16\\n&lt;-genRandInt(toInt(accUnsafe time))])" bugs in the code\n"
</code></pre>

<p><a href="https://tio.run/##NY5PS8NAEMXvfoohp4RNSvQgVBJPeigoiImntMhkd/MHs7MlmcQW/OyumxYvj/cG5r2fHDSSM1bNgwaDPbneHO3IULB6piV@Re4270jKmrg4T6zNpuyN/vefHzRho@NSn/imqSheHoZD/UOPaU6ZqDOxqghK/NJgSYOy3wS@DY7IsoOeAUc7k9pTkAmDJ0iXy4PPoqkuZXnqL65g9FA5NOEkkUIRbbcVwagN3KXJ7f1@T1nSalpJd8Qh21VRyisfsGeOokMUQD23E/QE3GmQVmm/5H5lM2A7uWT34p7OhKaX1/A2IDd2NC6p/wA" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu33" class="pu"><h1>.COM opcode, 137 bytes</h1>

<pre><code>0000h: BE 63 00 E8 3B 00 85 F6 75 01 C3 E8 33 00 B2 61
0010h: CD 21 0F C7 F0 F7 26 87 01 01 D6 83 EE 10 73 02
0020h: 31 F6 E8 1C 00 B2 5E CD 21 EB D8 99 F7 36 85 01
0030h: 85 C0 74 05 52 E8 F3 FF 5A B4 02 80 CA 30 CD 21
0040h: C3 89 F0 E8 E5 FF B4 09 BA 4D 01 EB F1 20 62 75
0050h: 67 73 20 69 6E 20 74 68 65 20 63 6F 64 65 0D 0A
0060h: 24 54 61 6B 65 20 6F 6E 65 20 64 6F 77 6E 20 61
0070h: 6E 64 20 70 61 74 63 68 20 69 74 20 61 72 6F 75
0080h: 6E 64 0D 0A 24 0A 00 15 00                     

        org 100h

        mov si, 99
lp:     call put2
        test si, si
        jnz @f
            ret
        @@:
        call put2
        mov dl, str2 - 256
        int 33
        rdrand ax
        ;mov ax, 65536*14/21+1
        mul [twentyone]
        add si, dx
        sub si, 16
        ;lea si, [esi+edx-16]
        jnc @f
            xor si, si
        @@:
        call put2
        mov dl, str2 - 256 - 3
        int 33
        jmp lp

put1:   cwd
        div [ten]
        test ax, ax
        jz @f
            push dx
            call put1
            pop dx
        @@:
        mov ah, 2
        or dl, 48
int33:  int 33
        ret

put2:   mov ax, si
        call put1
        mov ah, 9
        mov dx, str1
        jmp int33

str1:   db ' bugs in the code', 13, 10, '$'
str2:   db 'Take one down and patch it around', 13, 10, '$'
ten     dw 10
twentyone dw 21
</code></pre>
</div>
<div id="pu34" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, <s>94</s> 92 bytes</h1>
<pre><code>J99WJ%jb[K&quot;%d bugs in the code&quot;K&quot;Take one down and patch it around&quot;Kk)[JJ=JeS,Z+J-O21 16;%KZ
</code></pre>
<p><a href="https://pyth.herokuapp.com/?code=J99WJ%25jb%5BK%22%25d+bugs+in+the+code%22K%22Take+one+down+and+patch+it+around%22Kk%29%5BJJ%3DJeS%2CZ%2BJ-O21+16%3B%25KZ&amp;debug=0" rel="nofollow noreferrer">Try it online</a></p>
<hr />
<p><em>Previous version: 94 bytes</em></p>
<pre><code>J99WJp%jb[K&quot;%d bugs in the code&quot;K&quot;Take one down and patch it around&quot;K)[JJ=JeS,Z+J-O21 16)b;%KZ
</code></pre>
</div>
<div id="pu35" class="pu"><h2><a href="https://en.wikipedia.org/wiki/ABAP" rel="nofollow noreferrer">ABAP</a>, 295 bytes</h2>
<p>...because why the heck not!</p>
<pre><code>REPORT z.DATA:a(16),c TYPE qfranint.a = 'bugs in the code'.data(b) = 99.WRITE:/ b,a.WHILE b &gt; 0.WRITE:/ b,a,/'Take one down and patch it around'.CALL FUNCTION
'QF05_RANDOM_INTEGER' EXPORTING ran_int_max = 21 IMPORTING ran_int = c.b = b + c - 17.IF b &lt; 1.b = 0.ENDIF.WRITE:/ b,a,/,/ b,a.ENDWHILE.
</code></pre>
<p>It's certainly not competitive compared to other languages, but I even managed to slim it down from 330 bytes I wrote initially, so I count it as a personal win.</p>
<p>Since ABAP doesn't allow lines longer than 255 characters, I had to replace a space with a line break. On Windows this initially increased the size to 296 bytes due to CRLF, but it runs fine with just the LF in there. ABAP sure requires many spaces though, so this is no big deal.</p>
<p>WRITE simply dumps text the GUI, so I guess that is kind of like stdout? I could probably save some bytes here by using a structure or table, but due to how SAP handles mixed structures (containing chars and numbers) the approach I imagined would only work on non-Unicode systems... Which I personally consider a no-go, despite having access to both.</p>
<p>The function module for random numbers is the only one I could find in our system, I suppose there could be one with a shorter name or parameters. No idea!</p>
<p><strong>More or less readable code, comments included:</strong></p>
<pre><code>REPORT z.
  &quot;Define a (text) and c (random)
  DATA: a(16),
        c TYPE qfranint. &quot;A stupid data type for a random INT

  &quot;This is shorter than using VALUE (saves 3 bytes)
  a = 'bugs in the code'.
  &quot;This is slightly shorter than doing ',b TYPE i' and 'b = 99'. (saves 2 bytes)
  data(b) = 99.

  &quot;first line has to be outside of loop due to our exit condition (saved me ~5 bytes)
  WRITE: / b,a. &quot;\n xx bugs in the code

  WHILE b &gt; 0.
    WRITE: / b,a, &quot;\n xx bugs in the code
    /'Take one down and patch it around'.

    &quot;This ridiculous function for random numbers...
    &quot;To save some bytes, I leave ran_int_min at it's default
    &quot;of 1, and set the max to 21 instead, from which I remove
    &quot;17 later on, resulting in a range of [-16,4]
    &quot;Compare:
    &quot;   ' - 17'              =  5 bytes
    &quot;   ' ran_int_min = -16' = 18 bytes
    &quot;(saves 13 bytes)

    CALL FUNCTION 'QF05_RANDOM_INTEGER'
        EXPORTING ran_int_max = 21
        IMPORTING ran_int = c.

    &quot;Maximum number of bugs added:     4 = 21 - 17
    &quot;Maximum number of bugs removed: -16 =  1 - 17
    b = b + c - 17.

    IF b &lt;= 0.
        b = 0.
    ENDIF.
     
    WRITE: / b,a,/,/ b,a. &quot;\nxx bugs in the code\n\nxx bugs in the code
  ENDWHILE.
</code></pre>
<p>Thanks for the challenge!<br />
<em>To my boss: Please don't fire me, I'm just educating myself!</em></p>
</div>
<div id="pu36" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>124</s> <s>123</s> <s>121</s> <s>120</s> <s>116</s> <s>110</s> 107 bytes</h1>

<pre><code>U=U||99P=` &THORN;&iuml;  e &#x00ac;&#x00b8;`OpU+POpU+P  Op`Take e &Uuml;&#x00b5;, p&#x00ae;  &Acirc;&ETH;` U=Mr0-15,5 +U-1U=Uc  (U&gt;0 ?(OpU+P+R ,&szlig;U  :Oo0+P
</code></pre>

<p><a href="https://tio.run/##y0osKPn/P9Q2tKbG0jLANkHh8LzD6xUOdSgcmpCqcGjNoR0J/gWh2gFgQkHBvyAhJDEbKNGbqnB4zqGtOgoFh1oPrVM41KVwuOnwhEMzEhRCbX2LDHQNTXVMFbRDdQ2BJicrKGiE2hko2GuATdEOUtA5PD9UQcHKP99AO@D/fwA" rel="nofollow noreferrer" title="Japt – Try It Online">Try it online!</a></p>
</div>
<div id="pu37" class="pu"><h1><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, <strike>166</strike> 163 bytes</h1>

<pre><code>b: 99 forever[if b &gt; 1[print[b t:{bugs in the code}s:"^/"b t
s{Take one down and patch it around}]if
0 &gt; b: b + 4 - random 20[prin[0 t s s 0 t]break]print[b t s]]]
</code></pre>

<p><a href="https://tio.run/##PY6xCoMwGIR3n@JwLUVbuujQhyjdQgqJ/28NYiJJrIP47GnaQrnhhoPvO8@UbkxCFl5ZclMVmAnWrVU0EyfdomnQO88v9sL00LjiJGZvbBQasd308gwwFnFgdI54D235qMq8IWx3NTKcZZBbLbIAs4rdABOhvFss7dL0RZ2ZWaRxwAVH/I7gXH81ov6QcnJL7VmN8m9HkFKm9AY" rel="nofollow noreferrer" title="Red – Try It Online">Try it online!</a></p>

<h2>More readable:</h2>

<pre><code>b: 99
t: {bugs in the code}
s: "^/" 
forever [
    if b &gt; 1 [
        print [ b t s b t s {Take one down and patch it around} ]
        if 0 &gt; b: b + 4 - random 20 [
            prin [ 0 t s s 0 t ]
            break
        ]
        print [ b t s ]
    ]
]
</code></pre>
</div>
<div id="pu38" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="noreferrer">Charcoal</a>, 81 bytes</h1>

<pre><code>≔⁹⁹θ≔”⧴"pWº⁴tＳn/{yBⅈ⁺”ζＷ›θ⁰«×²﹪ζθ”↶0⪫\`3+¤⸿Zν(z¬hＬÀＴj'ZXεＰraF”≧⁺⁻⁴‽²¹θ﹪ζ×θ›θ⁰¶»﹪ζ⁰
</code></pre>

<p><a href="https://tio.run/##XY67agMxEEXr7FdcFgIjUMAxaYwrV6kMxrhMo6zESkQe2XrY4JBvV2R2IY9ymHvuPYNVcQjK17pJyY1Mq5XEWay7@ewfNd7LmOAY2RoMQZs37iVuLXO1zhvQazQqm0hniYUQ@OwedtFxpoM7mkRLiW3QxQe63ZtF4@Z/f1AfBoENdLgyFGucVB4sXIaKobBuS/f4Vp0mnb0bbaadL6mVOi6JXiT2DQxHWj4LManP9T@rk0jT@2v6W2Va@ur@oy22rrU@Xfw3" rel="noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>

<pre><code>≔⁹⁹θ
</code></pre>

<p>Start with 99 bugs in the code.</p>

<pre><code>≔”⧴"pWº⁴tＳn/{yBⅈ⁺”ζ
</code></pre>

<p>Save the compressed string "%d bugs in the code\n".</p>

<pre><code>Ｗ›θ⁰«
</code></pre>

<p>Repeat while there are a positive number of bugs remaining.</p>

<pre><code>×²﹪ζθ
</code></pre>

<p>Print the number of bugs in the code twice.</p>

<pre><code>”↶0⪫\`3+¤⸿Zν(z¬hＬÀＴj'ZXεＰraF”
</code></pre>

<p>Print "Take one down and patch it around".</p>

<pre><code>≧⁺⁻⁴‽²¹θ
</code></pre>

<p>Add a random number of bugs between -17 (exclusive) and 4 (inclusive).</p>

<pre><code>﹪ζ×θ›θ⁰
</code></pre>

<p>Print the number of bugs remaining, or 0 if negative.</p>

<pre><code>¶
</code></pre>

<p>Leave a blank line between verses.</p>

<pre><code>»﹪ζ⁰
</code></pre>

<p>After the last verse, print 0 bugs in the code again.</p>
</div>
<div id="pu39" class="pu"><h1><a href="https://www.qb64.org/" rel="nofollow noreferrer">QB64</a>, 134 bytes</h1>
<p>From my brother.</p>
<pre><code>S$=&quot;bugs in the code&quot;:I=99:WHILE I&gt;0:?I;S$:?I;S$:?&quot;Take one down and patch it around&quot;:I=I+INT(RND*21)-15:I=-(I&gt;0)*I:?I;S$:?:WEND:?I;S$
</code></pre>
</div>
<div id="pu40" class="pu"><h1>JavaScript, 138 bytes</h1>

<pre><code>_=&gt;(I=i=&gt;`Take one down and patch it around
${l=(i&gt;0?i:0)+` bugs in the code
`}
`+l+l+(i&gt;0&amp;&amp;I(i+Math.random()*21-15|0)))(99).slice(55,-25)
</code></pre>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=

_=&gt;(I=i=&gt;`Take one down and patch it around
${l=(i&gt;0?i:0)+` bugs in the code
`}
`+l+l+(i&gt;0&amp;&amp;I(i+Math.random()*21-15|0)))(99).slice(55,-25)

console.log(f())</code></pre>
</div>
</div>
</p>
</div>
<div id="pu41" class="pu"><h2>PHP, 126 bytes</h2>

<p>Run on the command line, using <code>php -r 'code here'</code>:</p>

<pre><code>$b=" bugs in the code
";for($x=99;print$x.$b,$x;)echo"$x{$b}Take one down and patch it around
",$x-=min($x,rand(-4,16)),"$b
";
</code></pre>
</div>
<div id="pu42" class="pu"><h1>T-SQL, 188 bytes</h1>
<pre class="lang-sql prettyprint-override"><code>DECLARE @ INT=99,@b CHAR(18)=' bugs in the code
'a:PRINT CONCAT(@,@b,@,@b,'Take one down and patch it around
')SET @+=5-22*RAND()IF @&lt;0SET @=0PRINT CONCAT(@,@b,'
')IF @&gt;0GOTO a;PRINT '0'+@b
</code></pre>
<p>SQL allows returns inside string literals, so that helps.</p>
<p><code>CONCAT()</code> does an implicit conversion to text so I don't have to worry about <code>CAST</code> or <code>CONVERT</code>.</p>
</div>
<div id="pu43" class="pu"><h2>SAS, 210 bytes</h2>

<pre><code>%macro t;%let b=bugs in the code;%let a=99;%do%until(&amp;a&lt;=0);%put&amp;a &amp;b;%put&amp;a &amp;b;%put Take one down, pass it around;%let a=%eval(&amp;a-%sysfunc(ranbin(0,20,.3))+4);%if &amp;a&lt;0%then%let a=0;%put&amp;a &amp;b;%put;%end;%mend;%t
</code></pre>

<p>Ungolfed:</p>

<pre><code>%macro t;
%let b=bugs in the code;
%let a=99;
%do%until(&amp;a&lt;=0);
  %put &amp;a &amp;b;
  %put &amp;a &amp;b;
  %put Take one down, pass it around;    
  %let a=%eval(&amp;a-%sysfunc(ranbin(0,20,.3))+4);
  %if &amp;a&lt;0%then%let a=0;
  %put &amp;a &amp;b; 
  %put;
%end;
%mend;
%t
</code></pre>

<p>Can save a few bytes if warnings in the log are permitted (put the <code>&amp;a</code> into the <code>&amp;b</code> macro variable, but that generates an initial warning).</p>
</div>
<div id="pu44" class="pu"><h1>Python 3, 144 bytes</h1>
<pre><code>from pylab import*
s='bugs in the code\n'
X=99
while X&gt;0:i=randint(-16,5);print(X,s,X,s,'\ntake one down and patch it around',max(X+i,0),s);X+=i
</code></pre>
</div>
<div id="pu45" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="noreferrer">Octave</a>, <s>149</s> 148 bytes</h1>

<p>Saved one byte by changing <code>randi(21)</code> and <code>%i</code> to <code>21*rand</code> and <code>%.f</code>. <code>%.f</code> ensures the output is a float with zero decimals (i.e. and integer).</p>

<p>Inserted a bunch of line breaks instead of commas and semicolons to ease readability. It feels wrong, but it's not longer than the one-liner.
</p>

<pre class="lang-matlab prettyprint-override"><code>x=99;do(p=@(i)printf('%.f bugs in the code\n',i))(x)
p(x)
disp('Take one down and patch it around')
p(max([0,x+=21*rand-17]))
disp('')until x&lt;1
p(0)
</code></pre>

<p><a href="https://tio.run/##NcyxDsIgEIDh3ae4xcBpNcXFNEriQ7ipAwK1F/UgLVXeHtvB5Z@@/MEm8/GlZN00Bxdk1CdJGHvi1Eqx3LZwHx8DEEPqPNjg/JVFRYgy4yLOcTREKc7m6SGwBxe@DIYdRJNsB5TA9GFkJ2b@Nlle6iqv9U6t@klt1P6G/4fAkRO9IB/VZGss5Qc" rel="noreferrer" title="Octave – Try It Online">Try it online!</a></p>

<h3>Explanation:</h3>

<pre class="lang-matlab prettyprint-override"><code>x=99;               % Initialize the number of bugs to 99
do ...  until x&lt;1   % Loop until the number of bugs is less than 1
 (p=@(i)printf('%.f bugs in the code\n',i))(x)  % Create a function handle p that takes
                                                % the number of bugs as input and outputs
                                                % the string x bugs ... \n
 p(x)                % Call that function with the same number of bugs to get two lines
 ,disp('Take on down and patch it around')       % Outputs that line, including a newline
 ,p(max([0,x+=21*rand-17]))                    % Call p again, while updating the number
                                                 % of bugs. The number of bugs will be 
                                                 % the old one plus the random number, or 0
                                                 % if it would have turned negative
 ,disp('')        % A newline
p(0)              % Finally, the last single line.
</code></pre>

<p>Using <code>p((x+=21*rand-17)*(x&gt;0)</code> instead of <code>max</code> saves a byte, but the last line outputs <code>-0 bugs ...</code> instead of <code>0 bugs</code>. It works with <code>randi(21)-17</code>, but then it's the same length as the one above. <a href="https://tio.run/##NYy7DsIwDAB3vsILis1DallQBUF8BCNLSAK1ipwoTSF/H9qB5ZY7XbDZfHytRXfdyQWM@opMMbHkJ6o1w2N6jcACufdgg/N3UTsmwkKruMDxGFHdzOAhiAcXvgJGHESTbQ@cwaQwiVNLjmWr0ywZDy3t2yNtsFwa@k8UTZL5DeXcznFDtf4A" rel="noreferrer" title="Octave – Try It Online">Try it online!</a></p>
</div>
<div id="pu46" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 151 bytes</h1>

<p>Nice trick <code>j=i+max(-i,randint(-16,4))</code> by Jo King, exploiting allowed uneven distribution</p>

<p>Saved couple bytes thanks to Mnemonic</p>



<pre class="lang-python prettyprint-override"><code>from random import*
i,s=99,'bugs in the code\n'
while i:j=max(0,i+randint(-16,4));print i,s,i,s,'Take one down and patch it around\n',j,s;i=j
print i,s
</code></pre>

<p><a href="https://tio.run/##PYzBCsIwEETv@Yq9tdUVVESopX/h0Utsotlod0OaUv36mF48DMPAvBe@yQkfc35EGSFqNqVoDBLTRhFOfdtidZ@fExBDchYGMfbGlVocvS3Qxfej/tR7pO0KE6d6dzjjqWm6EMuC4sA11VW/LAhbMLIwlC8EnQYHlEBHmdkUK3qcOuq9@rM5/wA" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu47" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 59 bytes</h1>

<pre><code>99[Ð16(4ŸΩ+¾‚{θ©3F“ÿ±À€†€€ƒË“Š}“ƒ¶€µ„‹€ƒš¡€•…¡“ªsõ®&gt;#®]sDŠ»
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f/f0jL68ARDMw2TozvOrdQ@tO9Rw6zqczsOrTR2e9Qw5/D@QxsPNzxqWvOoYQGIbFpzbNLhbqDE0QW1QPLYpEPbgGKHtj5qmPeoYSdY@ujCQwvBGhY9algGZDbMObSq@PDWQ@vslA@tiy12Obrg0O7//wE" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/165623/">165623</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




