<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::127261</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>083</td><td>JavaScript Node.js</td><td>250502T063519Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/279464#279464">Steve Be</a></td></tr>
<tr d-ix="1"><td>095</td><td>Juby</td><td>250501T222148Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/279457#279457">Jordan</a></td></tr>
<tr d-ix="2"><td>087</td><td>Swift 6</td><td>250501T211356Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/279455#279455">macOSist</a></td></tr>
<tr d-ix="3"><td>006</td><td>Japt x</td><td>180120T102552Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/153665#153665">Shaggy</a></td></tr>
<tr d-ix="4"><td>058</td><td>JavaScript</td><td>180122T111919Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/153805#153805">Shaggy</a></td></tr>
<tr d-ix="5"><td>010</td><td>APL Dyalog</td><td>170619T171224Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127270#127270">user4180</a></td></tr>
<tr d-ix="6"><td>104</td><td>Factor + grouping.extras math.unicode</td><td>220220T222312Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/243147#243147">chunes</a></td></tr>
<tr d-ix="7"><td>005</td><td>Husk</td><td>220220T144359Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/243127#243127">Dominic </a></td></tr>
<tr d-ix="8"><td>042</td><td>Mathematica</td><td>170619T173825Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127278#127278">ZaMoC</a></td></tr>
<tr d-ix="9"><td>141</td><td>Excel VBA Immediate Window</td><td>220212T170641Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/242765#242765">Axuary</a></td></tr>
<tr d-ix="10"><td>206</td><td>Excel</td><td>220212T170308Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/242764#242764">Axuary</a></td></tr>
<tr d-ix="11"><td>193</td><td>C++ gcc</td><td>190427T233410Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/184882#184882">movatica</a></td></tr>
<tr d-ix="12"><td>010</td><td>Gaia</td><td>190905T171858Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/191360#191360">Giuseppe</a></td></tr>
<tr d-ix="13"><td>004</td><td>BQN</td><td>220117T090810Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/241171#241171">ovs</a></td></tr>
<tr d-ix="14"><td>006</td><td>Husk</td><td>220117T083156Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/241169#241169">Natte</a></td></tr>
<tr d-ix="15"><td>008</td><td>Pyth</td><td>220117T075537Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/241167#241167">hakr14</a></td></tr>
<tr d-ix="16"><td>003</td><td>Vyxal d</td><td>220117T064546Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/241166#241166">emanresu</a></td></tr>
<tr d-ix="17"><td>087</td><td>JavaScript</td><td>210926T060615Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/235711#235711">l4m2</a></td></tr>
<tr d-ix="18"><td>133</td><td>Haskell</td><td>190904T165136Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/191316#191316">Sara J</a></td></tr>
<tr d-ix="19"><td>036</td><td>Zsh</td><td>190904T035912Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/191270#191270">GammaFun</a></td></tr>
<tr d-ix="20"><td>044</td><td>05AB1E legacy</td><td>190904T075552Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/191280#191280">Kevin Cr</a></td></tr>
<tr d-ix="21"><td>091</td><td>C gcc</td><td>170619T165726Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127262#127262">Steadybo</a></td></tr>
<tr d-ix="22"><td>034</td><td>Perl 6</td><td>190427T003809Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/184843#184843">Jo King</a></td></tr>
<tr d-ix="23"><td>133</td><td>JavaScript</td><td>190428T025051Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/184889#184889">Naruyoko</a></td></tr>
<tr d-ix="24"><td>681</td><td>SNOBOL4 CSNOBOL4</td><td>180123T194733Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/153957#153957">Giuseppe</a></td></tr>
<tr d-ix="25"><td>056</td><td>Reticular</td><td>190103T155923Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/178321#178321">Wis≈Çaw</a></td></tr>
<tr d-ix="26"><td>118</td><td>F#</td><td>180921T143628Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/172612#172612">Ciaran_M</a></td></tr>
<tr d-ix="27"><td>093</td><td>Kotlin</td><td>180921T190054Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/172626#172626">snail_</a></td></tr>
<tr d-ix="28"><td>100</td><td>Java 10</td><td>170914T125039Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/142701#142701">Kevin Cr</a></td></tr>
<tr d-ix="29"><td>067</td><td>SHELL</td><td>180317T032755Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/158427#158427">Ali ISSA</a></td></tr>
<tr d-ix="30"><td>115</td><td>Python 2. Score</td><td>180321T144535Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/159806#159806">AvahW</a></td></tr>
<tr d-ix="31"><td>349</td><td>R</td><td>180317T153203Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/159459#159459">Riccardo</a></td></tr>
<tr d-ix="32"><td>006</td><td>Stax</td><td>180315T081051Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/158203#158203">Weijun Z</a></td></tr>
<tr d-ix="33"><td>nan</td><td>Rust</td><td>180315T132107Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/158221#158221">dragonit</a></td></tr>
<tr d-ix="34"><td>060</td><td>C</td><td>180317T194746Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/159470#159470">ErikF</a></td></tr>
<tr d-ix="35"><td>038</td><td>Ruby</td><td>180317T142916Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/159455#159455">Asone Tu</a></td></tr>
<tr d-ix="36"><td>009</td><td>Husk</td><td>180316T222917Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/158410#158410">Sophia L</a></td></tr>
<tr d-ix="37"><td>045</td><td>Julia 0.6</td><td>180314T152017Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/158117#158117">niczky12</a></td></tr>
<tr d-ix="38"><td>060</td><td>jq</td><td>180316T100631Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/158327#158327">manatwor</a></td></tr>
<tr d-ix="39"><td>033</td><td>><></td><td>180315T163430Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/158242#158242">Sok</a></td></tr>
<tr d-ix="40"><td>045</td><td>Perl6/Rakudo</td><td>180315T141609Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/158227#158227">Phil H</a></td></tr>
<tr d-ix="41"><td>044</td><td>PHP</td><td>180315T124343Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/158217#158217">Titus</a></td></tr>
<tr d-ix="42"><td>066</td><td>Standard ML</td><td>180306T222514Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/157474#157474">Laikoni</a></td></tr>
<tr d-ix="43"><td>049</td><td> JavaScript</td><td>170717T114143Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/132825#132825">C5H8NNaO</a></td></tr>
<tr d-ix="44"><td>007</td><td>Jelly</td><td>180123T012541Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/153899#153899">ellie</a></td></tr>
<tr d-ix="45"><td>085</td><td>Python 3</td><td>170619T170405Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127267#127267">ovs</a></td></tr>
<tr d-ix="46"><td>015</td><td>K4</td><td>180120T084921Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/153659#153659">mkst</a></td></tr>
<tr d-ix="47"><td>308</td><td>MSSQL</td><td>180119T192817Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/153627#153627">BradC</a></td></tr>
<tr d-ix="48"><td>580</td><td>TSQL</td><td>170619T195542Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127312#127312">BradC</a></td></tr>
<tr d-ix="49"><td>036</td><td>Attache</td><td>180119T140251Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/153593#153593">Conor O&</a></td></tr>
<tr d-ix="50"><td>897</td><td>brainfuck</td><td>180119T031213Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/153568#153568">Jo King</a></td></tr>
<tr d-ix="51"><td>nan</td><td>Japt</td><td>180118T200436Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/153541#153541">Oliver</a></td></tr>
<tr d-ix="52"><td>014</td><td>J</td><td>180118T202850Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/153544#153544">cole</a></td></tr>
<tr d-ix="53"><td>006</td><td>Pyt</td><td>180118T194626Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/153537#153537">mudkip20</a></td></tr>
<tr d-ix="54"><td>067</td><td>R</td><td>170619T194909Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127308#127308">MickyT</a></td></tr>
<tr d-ix="55"><td>011</td><td>J</td><td>180118T174857Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/153523#153523">FrownyFr</a></td></tr>
<tr d-ix="56"><td>009</td><td>Jelly</td><td>170918T132327Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/143076#143076">J. Sall&</a></td></tr>
<tr d-ix="57"><td>007</td><td>Pyke</td><td>170915T185941Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/142940#142940">Blue</a></td></tr>
<tr d-ix="58"><td>2435</td><td>Factor</td><td>170718T000655Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/133002#133002">Quelklef</a></td></tr>
<tr d-ix="59"><td>019</td><td>K/Kona</td><td>170717T122001Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/132830#132830">Simon Ma</a></td></tr>
<tr d-ix="60"><td>222</td><td>Common Lisp</td><td>170619T210217Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127339#127339">Renzo</a></td></tr>
<tr d-ix="61"><td>3577</td><td>FIREBIRD</td><td>170622T172836Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127914#127914">Filipe S</a></td></tr>
<tr d-ix="62"><td>039</td><td>AWK</td><td>170621T180135Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127761#127761">Robert B</a></td></tr>
<tr d-ix="63"><td>133</td><td>><> Fish</td><td>170622T131853Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127868#127868">Thijs te</a></td></tr>
<tr d-ix="64"><td>018</td><td>CJam</td><td>170622T133212Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127869#127869">Business</a></td></tr>
<tr d-ix="65"><td>064</td><td>PowerShell</td><td>170622T064548Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127817#127817">Tessella</a></td></tr>
<tr d-ix="66"><td>153</td><td>Swift 3</td><td>170622T064226Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127816#127816">Archmage</a></td></tr>
<tr d-ix="67"><td>031</td><td>Octave</td><td>170619T173139Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127275#127275">rahnema1</a></td></tr>
<tr d-ix="68"><td>039</td><td>Octave</td><td>170621T221352Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127798#127798">Tom Carp</a></td></tr>
<tr d-ix="69"><td>060</td><td>Ruby</td><td>170619T202429Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127329#127329">Value In</a></td></tr>
<tr d-ix="70"><td>083</td><td>Perl 5 score</td><td>170620T210902Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127593#127593">user1937</a></td></tr>
<tr d-ix="71"><td>1110</td><td>F#</td><td>170620T122006Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127467#127467">Horv&#22</a></td></tr>
<tr d-ix="72"><td>016</td><td>J</td><td>170619T194517Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127306#127306">Zgarb</a></td></tr>
<tr d-ix="73"><td>023</td><td>J</td><td>170619T181033Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127286#127286">Leaky Nu</a></td></tr>
<tr d-ix="74"><td>006</td><td>Pyth</td><td>170619T180016Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127282#127282">Leaky Nu</a></td></tr>
<tr d-ix="75"><td>012</td><td>Actually</td><td>170620T025526Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127375#127375">user4594</a></td></tr>
<tr d-ix="76"><td>045</td><td>PHP</td><td>170619T221329Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127353#127353">J&#246;r</a></td></tr>
<tr d-ix="77"><td>043</td><td>Retina</td><td>170619T173701Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127277#127277">Neil</a></td></tr>
<tr d-ix="78"><td>049</td><td>Python</td><td>170619T171247Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127271#127271">xnor</a></td></tr>
<tr d-ix="79"><td>005</td><td>Jelly</td><td>170619T165829Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127263#127263">Erik the</a></td></tr>
<tr d-ix="80"><td>004</td><td>MATL</td><td>170619T183707Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127290#127290">Luis Men</a></td></tr>
<tr d-ix="81"><td>128</td><td>QBIC</td><td>170619T195523Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127310#127310">steenber</a></td></tr>
<tr d-ix="82"><td>034</td><td>Retina</td><td>170619T180125Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127284#127284">Martin E</a></td></tr>
<tr d-ix="83"><td>209</td><td>C# .NET Core</td><td>170619T191834Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127297#127297">Charlie</a></td></tr>
<tr d-ix="84"><td>096</td><td>Clojure</td><td>170619T190629Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127293#127293">NikoNyrh</a></td></tr>
<tr d-ix="85"><td>108</td><td>Python 2</td><td>170619T173102Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127274#127274">Daniel</a></td></tr>
<tr d-ix="86"><td>068</td><td>JavaScript Firefox 30+</td><td>170619T185518Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127292#127292">ETHprodu</a></td></tr>
<tr d-ix="87"><td>006</td><td>Jelly</td><td>170619T170224Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127265#127265">Leaky Nu</a></td></tr>
<tr d-ix="88"><td>042</td><td>Haskell</td><td>170619T175127Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127280#127280">xnor</a></td></tr>
<tr d-ix="89"><td>051</td><td>Haskell</td><td>170619T172312Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127273#127273">nimi</a></td></tr>
<tr d-ix="90"><td>nan</td><td></td><td>170619T174348Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127279#127279">Brad Gil</a></td></tr>
<tr d-ix="91"><td>015</td><td>APL Dyalog</td><td>170619T173617Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127276#127276">Ad&#225;</a></td></tr>
<tr d-ix="92"><td>083</td><td>Python 2</td><td>170619T171536Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127272#127272">mbomb007</a></td></tr>
<tr d-ix="93"><td>078</td><td>JavaScript ES6</td><td>170619T170224Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127266#127266">ETHprodu</a></td></tr>
<tr d-ix="94"><td>006</td><td>05AB1E</td><td>170619T170546Z</td><td><a href="https://codegolf.stackexchange.com/questions/127261/unique-is-cheap/127268#127268">Erik the</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, score 83</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.split``.reduce((x,y)=&gt;x+(z[y]=~~z[y]+1),0,z={})
</code></pre>
<p><a href="https://tio.run/##hY1BC4IwGIbv/oqd2kZLEoQOMS8dugodI/BzTjGmk01DjfzrS4sguvRdXvh43ve5wg2sMGXTbmqdSZdzBzwC3zaqbJPENzLrhCSkZwPlUb8m43m48GlaYh1QtmUjvz@oE7q2Wklf6YJ4aD4cG10YqKqyLlDcjaOSFq3QYZago1Y5Zi8s3L0zJ38L1KN779uDIQUQkGKGgpAtE58H/SWt0EbihTm1ZhaQnC6MewI" rel="nofollow noreferrer" title="JavaScript (Node.js) ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/cyoce/J-uby" rel="nofollow noreferrer">J-uby</a>, score: 95</h1>
<pre class="lang-ruby prettyprint-override"><code>A|:sort|:slice_when+:!=|:*&amp;(:+@|:+|s=:sum)|s
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m700K740qXLBIjfbpaUlaboWN3Uca6yK84tKgGROZnJqfHlGap62laJtjZWWmoaVtkONlXZNsa1VcWmuZk0xVM-kAgW3aKXEpMTE5MQkpVgFZQVdOwVDEy6wcEBRfnpRYm5uZl66QkBpVVVOarGCmoJzfkqqgnt-ThpMuYk5RDmMbwDhKkAATNTIggtqV3JKalo6TBiqN9ERrg7isgULIDQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu2" class="pu"><h1>Swift 6, score: 87</h1>
<pre class="lang-swift prettyprint-override"><code>var¬†U={X in(X+&quot;&quot;).reduce(0){A,C
in  A+1+X.count{$0==C}}/2}
</code></pre>
<p>The first space (between <code>var</code> and <code>U</code>) is a Unicode non-breaking space (U+00A0); the one between <code>X</code> and <code>in</code> is a normal space; the one between <code>A,C</code> and <code>in</code> is a newline; and the one between <code>in</code> and <code>A+1</code> is a tab.</p>
<p><a href="https://swiftfiddle.com/zwhlvtferba63gerrz3szgkscm" rel="nofollow noreferrer">Try it on SwiftFiddle!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-x</code></a>, <s>9</s> <s>7</s> 6 points</h1>
<pre><code>√º m√äc√µ
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LXg&amp;code=/CBtymP1&amp;input=Ivwgbcpj9SI" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu4" class="pu"><h1>JavaScript, <s>112</s> <s>95</s> 58 points</h1>
<pre class="lang-js prettyprint-override"><code>A=&gt;A.map(C=&gt;N+=A[C]=-~A[C],N=0)|N
</code></pre>
<ul>
<li>7 points saved thanks to ETHProductions</li>
</ul>
<p><a href="https://tio.run/##TYxNC4JAGITP7a/YUyjqamIkxAoi0U28i7Cvq2uGX6zmQaK/bookzWWYYZ55wgg9l2U3GKM7Czr71PNJDZ0SUC/UqB8HCTU@q@khtdR3OA80RgxSAA4p0w@LTBOfHMQi2RYS6rpsChy9pqnKe3zEQZvl@N5WYtkuQ@eC2EatCVuI4U37le2u9zzLRbF3eKHA/@NsJDTGfvHsouQ6ENHKG/CH0lOvk2UzKEKJCSF9oqrq/AU" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog)</a>, score <s>27</s> <s>18</s> <s>11</s> 10</h1>
<p><em>Reduced score by 7 thanks to @Ad√°m by using a tradfn and using <code>1‚ä•</code> to sum the frequencies</em></p>
<p><em>Reduced score by 1 thanks to @rabbitgrowth by using a function instead</em></p>

<pre class="lang-apl prettyprint-override"><code>1‚ä•{+/‚ç≥‚â¢‚çµ}‚å∏
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///v/hR2wTDR11Lq7X1H/VuftS56FHv1tpHPTuAMurYxNUB" rel="nofollow noreferrer" title="APL (Dyalog Unicode) ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a> + <code>grouping.extras math.unicode</code>, score: 104</h1>
<pre><code>[ head-clump
[ dup
last '[
_ =
] count
] map
Œ£ ]
</code></pre>
<p><a href="https://tio.run/##lcu9DcIwEAbQ/qb4RENFBgBRIxoaRBVF6ORcfoRjm/NZIvOwDysZVqB61RvYWdR6u54vpz1GjSXNYWzkZcoZD9EgHlmeRYKTjEFXLGxTU8LsYi9IKmZr0jkYDkSbFpNwv3O@LIla9CWR52zYtnTHkTq4WIL9XDjR541uU/8u1bH3aOoX" rel="nofollow noreferrer" title="Factor ‚Äì Try It Online">Try it online!</a></p>
<p>The whitespace is a killer. In order to lessen its impact, I alternate between spaces and newlines. Tabs aren't allowed in TIO's build of Factor or I would have used them too.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 5 bytes, score 5</h1>
<pre><code>Œ£·πÅ≈ÄgO
</code></pre>
<p><a href="https://tio.run/##yygtzv7//9zihzsbjzak@////z8xKTExOTEJAA" rel="nofollow noreferrer" title="Husk ‚Äì Try It Online">Try it online!</a></p>
<p>Different and (so far) shorter strategy to <a href="https://codegolf.stackexchange.com/a/241169/95126">Natte's</a> or <a href="https://codegolf.stackexchange.com/a/158410/95126">Sophia Lechner's</a> Husk answers.</p>
<pre><code>    O   # sort the input
   g    # and group equal adjacent values;
 ·πÅ      # now, for each group
  ≈Ä     # make a range 1..length of the group
 ·πÅ      # and flatten all the ranges into one list;
Œ£       # then output the sum
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Mathematica, score 42</h1>
<pre><code>Total[#^2+#].5&amp;@*CharacterCounts
</code></pre>
<p><strong>input</strong></p>
<blockquote>
<p>[&quot;abcdefg&quot;]</p>
</blockquote>
<p>thanks to hftf<br />
thanks to att</p>
</div>
<div id="pu9" class="pu"><h1>Excel VBA Immediate Window, Score <s>159</s> 141</h1>
<p><em>-18 byte thank to @TaylorRaine</em></p>
<pre><code>FOR I=1TO[len(b3)]:for J=1to i:Y=Y-(MID([B3],i,1)=mid([B3],j,1)):NEXT:next:?y
</code></pre>
<p>The mixed case reduces the score by 30.</p>
</div>
<div id="pu10" class="pu"><h1>Excel, Score: 206</h1>
<pre><code>G4 =MID(B3,SEQUENCE(LEN(B3)),1)
C3 =IF(B3&lt;&gt;&quot;&quot;,SUM(EXACT(G4#,TRANSPOSE(G4#))/2)+ROWS(G4#)/2,)
</code></pre>
<p><a href="https://1drv.ms/x/s!AkqhtBc2XEHJniHXkIZ6_u41vbOv?e=Nd85RM" rel="nofollow noreferrer">Link to Spreadsheet</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C++ (gcc)</a>, Score: <s>209</s> <s>196</s> 193</h1>
<p><s>98</s> 96 bytes</p>
<p><em>-3 thanx to l4m2</em></p>

<pre class="lang-cpp prettyprint-override"><code>#include&lt;map&gt;
long&#9;F(std::string&#9;S,int I=0){for(auto&amp;C:S){++I;for(char&amp;D:S)I+=C==D;}return I/2;}
</code></pre>
<p>C++-specific tricks:</p>
<ul>
<li><code>#include&lt;map&gt;</code> instead of <code>#include&lt;string&gt;</code></li>
<li>Returning <code>long</code> instead of <code>int</code> to use more different characters</li>
<li>Using <code>auto</code> instead of <code>char</code> in one of the loops has the same effect</li>
<li>References (<code>&amp;</code>) inside range-for save whitespace</li>
</ul>
<p>Common tricks:</p>
<ul>
<li>Evenly use both tabs and blanks</li>
<li>Upper case variables to be distinct from keyword characters</li>
</ul>
<p><a href="https://tio.run/##rVBNa4NAED1nf8VgiOyipaVHrYFiSPEWyDWXcT/sgu7KukKI@NvtSrGl985l5r03zLwZ3vdPDefLXhvejkK@8cELbY@/RIf9kbTWNLszDVqWDd7pgK6pNh6q4oVNyjqKo7dxmV3ZlCRVvjL8E118CkyVFGVRnPLZST86A9Xzaz4veyGVNhIUvTPow0ivaHQYMjiIm4nSe3oOAssJWdd0qA1lE9mFHqwROdZR0FZ4cbZx2HXBE1zGx6OVA8RQWiHhw7Zqa9syfMcGsebBR/MD37fqz/038/8PiBiZly8" rel="nofollow noreferrer" title="C++ (gcc) ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/splcurran/Gaia" rel="nofollow noreferrer">Gaia</a>, score: <s>11</s> 10</h1>
<pre><code>$uC¬¶‚Çî‚îÖ¬¶_Œ£
</code></pre>
<p><a href="https://tio.run/##S0/MTPz/X6XU@dCyR01THk1pPbQs/txiTBEA" rel="nofollow noreferrer" title="Gaia ‚Äì Try It Online">Try it online!</a></p>
<p><s>For some reason, <code>_</code> is necessary else this spits out garbage answers. But the language is defined by its implementation, so what are ya gonna do.</s> Without the <code>_</code>, one of the sublists generated by <code>‚îÖ¬¶</code>is <code>[1 2]</code> which is converted to <code>12</code> by <code>Œ£</code>.</p>
<pre><code>$&#9;&#9;| split into characters
 &#9;&#9;| 
  u&#9;&#9;| get unique
   C¬¶‚Çî&#9;&#9;| implicitly copy original input; get counts of uniques into original
      ‚îÖ¬¶&#9;| sequence: 1..count
        _Œ£&#9;| flatten and sum
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://mlochbaum.github.io/BQN/" rel="nofollow noreferrer">BQN</a>, Score: 4</h1>
<pre class="lang-none prettyprint-override"><code>‚â†+¬¥‚äí
</code></pre>
<p><a href="https://mlochbaum.github.io/BQN/try.html#code=RiDihpAg4omgK8K04oqSCgo+4ouI4p+cRsKoIOKfqCLiiaArwrTiipIiCiJhYmFhY2FiIgoiUHJvZ3JhbW1pbmcgUHV6emxlcyAmIENvZGUgR29sZiIKIiIKIiAgICAgICAiCiJhYmNkZWZnIgoiYUEi4p+p" rel="nofollow noreferrer">Run online!</a></p>
<p>The <em>occurrence count</em> builtin <code>‚äí</code> calculates the cost of each character decremented by 1. To adjust for that we can either add 1 to each cost or add the length <code>‚â†</code> to the sum. The latter turns out to be a byte shorter.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, Score: 6</h1>
<pre><code>·πÅoŒ£#¬πu
</code></pre>
<p><a href="https://tio.run/##yygtzv7//@HOxvxzi5UP7Sz9//9/YlJiYnJiEgA" rel="nofollow noreferrer" title="Husk ‚Äì Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>·πÅoŒ£#¬πu   translates to ·πÅoŒ£#‚Å∞u‚Å∞
·πÅ    u‚Å∞  map following function on unique input and then sum
 o       composed function
   #‚Å∞    count occurrences in input
  Œ£      triangular number
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 8 bytes, Score: 9</h1>
<pre><code>ssSM/LQ{
</code></pre>
<p><a href="http://pythtemp.herokuapp.com/?code=ssSM%2FLQ%7B&amp;test_suite=1&amp;test_suite_input=%22abaacab%22%0A%22Programming+Puzzles+%26+Code+Golf%22%0A%22%22%0A%22+++++++%22%0A%22abcdefg%22%0A%22aA%22%0A%22ssSM%2FLQ%7B%22&amp;debug=0" rel="nofollow noreferrer">Test suite</a></p>
<h5>Explanation</h5>
<pre><code>ssSM/LQ{  | Full code
ssSM/LQ{Q | with implicit variables filled
----------+-------------------------------
     L {Q | Map over deduplicated input:
    /LQ   |  count in input
  SM      | Map: to [1...N]
 s        | Flatten
s         | Sum
</code></pre>
<p><code>ss</code> can be replaced with <code>s.n</code> for an identical score with no repeat bytes, at the cost of being one byte longer.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>d</code>, 3 bytes</h1>
<pre><code>ƒä…æ‚åä
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJkIiwiIiwixIrJvuKMiiIsIiIsImFiYWFjYWIiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>ƒä   # Counts of each element within itself
 …æ  # Convert each value to 1...n
  ‚åä # Parse each to integer, zeroes element values
    # (d flag) take the deep sum
</code></pre>
</div>
<div id="pu17" class="pu"><h1>JavaScript, 87 score</h1>

<pre class="lang-javascript prettyprint-override"><code>A=([B,...C],Z=0)=&gt;B?C.map(D=&gt;D!=B||Z++)^A(C)-~Z:0
</code></pre>
<p><a href="https://tio.run/##VcpBC4IwGMbxe59iecgNdXQOZkyFrp6NgledsnJuTAsS6auvQxDtuf1/PDd4wtRYaeZkMrIVVunxLl7OcYbPWUwpzS9xxfaEpdkxpwoMLlhabFm2rlUUkSvHOUne1WHvjJXjjDkOoAZooA4I2fystLq3oJQce1Q@lmUQE9qhXLcCnfTQeV8v0HeeQd20out94/8ZchZGnBD3AQ" rel="nofollow noreferrer" title="JavaScript (SpiderMonkey) ‚Äì Try It Online">Try it online!</a></p>
<p><code>C.map(D=&gt;D!=B||Z++)</code> is either empty, <code>0</code>, <code>true</code> or something with a <code>,</code>, making it never show value to <code>^</code></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>150</s> 133 points</h1>

<p>(<s>79</s> 75 bytes)</p>



<pre class="lang-hs prettyprint-override"><code>import Data.List
c=foldr(\x-&gt;&#9;\y-&gt;y+(x*(x+1)`div`2))0.map length.group.sort
</code></pre>

<p><a href="https://tio.run/##lZAxa8MwEIXn5lccohS7JqbtnkBpIUuGQDtqyEWSZRFJZ6Rz6@TPuw4pHeKpb/y4ew@@FvPReD@OLnSUGN6Rsd66zAu1asjrVMhhub6Tp@X6VBXDYzFUz@Veu6/9S1k@1QE78CZabmubqO/qPJWMAV2EFWhawJQuuchwDwoEHhAVHsQt3yWyCUNw0cKuP5@9yfAAb6QNbMg3s/sZgGvEfFBp09g5f/1FPX9wmpj4bF0GdVlUlDlPlVUFRW7p@/px60fGP0EXQ5LlvxyJcvwB" rel="nofollow noreferrer" title="Haskell ‚Äì Try It Online">Try it online!</a></p>

<ul>
<li>-17 points by removing some parentheses (thanks to @Laikoni)</li>
</ul>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 36 bytes, score 52</h1>



<pre class="lang-sh prettyprint-override"><code>for&#9;p (${(s..)1})$[j+=++a[#p]]
&lt;&lt;&lt;$j
</code></pre>

<p><a href="https://tio.run/##qyrO@G@nkKZgY6Og7urvpv4/Lb@Is0BBQ6Vao1hPT9OwVlMlOkvbVls7MVq5IDaWy8bGRiXrP1AlV0lRaV5yYkmqgm6xgq6hQhpXVXEG0KDEpMTE5MQkKK80L7Pw8K5UmBwySEpKSk6GSiipaNikaSr9BwA" rel="nofollow noreferrer" title="Zsh ‚Äì Try It Online">Try it online!</a></p>

<p>One tab, one space, one newline. This will fill up the debug log with "command not found". If that must be avoided, <a href="https://tio.run/##qyrO@G@nkKZgY6Og7urvpv4/Lb@Is0BBQ6Vao1hPT9OwVtNKQSU6S9tWWzsxWrkgNpbLxsZGJes/UC2XcklRaV5yYkmqgm6xgq6hQhpXVXEG0KzEpMTE5MQkKK80L7Pw8K5UmBwySEpKSk6GSiipaNikaSr9BwA" rel="nofollow noreferrer" title="Zsh ‚Äì Try It Online">38 bytes, score 55</a>.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E (legacy)</a>, score: 4 (4 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a>)</h1>
<pre><code>√ô¬¢LO
</code></pre>
<p>Input as a list of characters.</p>
<p><a href="https://tio.run/##MzBNTDJM/f//8MxDi3z8//@PVj88U11H/dAiIOEDxP7qsQA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##MzBNTDJM/V9WGXx4gr2SwqO2SQpK9v8Pzzy0yMf/v87/aKXEpMTE5MQkJR2lgKL89KLE3NzMvHSFgNKqqpzUYgU1Bef8lFQF9/ycNKAKIFKAACArMSk5JTUtHcRyBBIQI5ViAQ" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>√ô     # Get all unique characters of the (implicit) input-list
 ¬¢    # For each, count the amount of times it occurs in the (implicit) input-list
  L   # Create a list of each of these counts
      # (which implicitly flattens in the legacy version of 05AB1E)
   O  # Take the sum of all those integers
      # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, score: <s>¬†113¬†</s> <s> 103 </s> <s> 100¬†</s> <s>¬†96¬†</s> 91</h1>

<p><em>Thanks to @ugoren, @CalculatorFeline, @gastropner, @l4m2, and @JS1 for their tips.</em></p>



<pre class="lang-c prettyprint-override"><code>g(char*s){int y[238]={};while(*s)*y-=--y[*s++];*y/=1;}
</code></pre>

<p>Initializes an array of zeros, then uses the ASCII values of the characters in the string as indices to that array to keep track of the number of instances of each character in the string.</p>

<p><a href="https://tio.run/##nY2xDoIwFEV3vuKFRNMWG6MuRsJgHFxJHIGhlFKaQDFFYwrh2xFwMjEM3vHe887jVHI@DBLxghnS4E7pB9hofzgmQdf7r0KVAo09sTSg1Eak8bzEJ3Yb7Px@mOCKKY2w0zkw5m7GKkfujddGnGCVxTrW7gYkcv974WLsO1/qyfkxspQxztIZ@U2EppaGVZXSEsJn25aigTVc6kzAtS7zhcuFCT5ZIFjKM5HLJeI8j/3wBg" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, Score: 34</h1>

<pre class="lang-perl6 prettyprint-override"><code>{sum [\+](^‚àû)[.comb.Bag{*}]}
</code></pre>
<p><a href="https://tio.run/##JYzRasIwFEDf8xWXUJrE1WBFtrFiQcfYiw/CYC@1g7QmpZAYSeyDiu/7in3cfqSGeJ/u4Z5zj9Lp59GcIVGwJOPVDwaq3VNNf/5//1jFW2savhbddXKrbyPhfmj8ydE8m0xzVqAQpiEEnCYK84/v1aZAXpwpr2Z1RJ6qjEDvgWS8ymsGyjrQ/UH6suT@qPsTxTAtAbMYAvlqrZNvQVc0UawYsWiEaEUTrXyB8NbZzglj@kMH2@Fy0dJDCu92L@HTahW9xQvCcZkhDI@JOH9F4V@7l6qLHDSxelzu" rel="nofollow noreferrer" title="Perl 6 ‚Äì Try It Online">Try it online!</a></p>
<p>Takes advantage of the unicode operator <code>‚àû</code> to save on characters.</p>
<h3>Explanation</h3>
<pre class="lang-perl6 prettyprint-override"><code>{                          }  # Anonymous code block
              .comb           # Split the input string into characters
                   .Bag{*}    # Get the count of each character
             [            ]   # And inded each into
         (^‚àû)                 # The infinite list of integers
     [\+]                     # Triangularly summed (0,0+1,0+1+2...)
 sum                          # And return the sum total
</code></pre>
</div>
<div id="pu23" class="pu"><h1>JavaScript, <s>150</s> <s>141</s> 133</h1>

<pre><code>f=(g,i=[])=&gt;g?(i[j=g.charCodeAt()]=(i[j]|0)+1)+f(g.substr(1),i):0
</code></pre>

<p>Ungolfed:</p>

<pre><code>f=(g,i=[])=&gt;                                                       //function declaration, a is list of appearance of characters so far.
            g?                                                     //check if string is empty
              (i[j=g.charCodeAt()]=                                //update appearance list
                                    (i[j]|0)+1)+                   //handle undefined, then increment
                                                f(g.substr(1),i)   //next character
                                                                :0 //base case for the empty string
</code></pre>

<p>150->141 - -6 for renaming variables to unique characters (thanks to √òrjan Johansen), and -3 for removing implicit <code>0</code> in <code>charCodeAt</code>.</p>

<p>141->133 - -8 for using actual unique variable names(thanks again to √òrjan Johansen).</p>
</div>
<div id="pu24" class="pu"><h1><a href="http://www.snobol4.org/csnobol4/" rel="nofollow noreferrer">SNOBOL4 (CSNOBOL4)</a>, score: 681</h1>

<pre><code>&#9;s&#9;=iNPUT
&#9;Y&#9;_table()
d&#9;S&#9;LEN(1) . x REM . S&#9;:F(b)
&#9;Y&lt;X&gt;&#9;=y&lt;X&gt; + 1&#9;:(D)
b&#9;Z&#9;_convert(Y,'aRrAy')
N&#9;j&#9;=J + 1
&#9;G&#9;_z[j,2]&#9;:f(q)
&#9;o&#9;=o + g * G + g&#9;:(N)
q&#9;OUtpuT&#9;_O / 2
end
</code></pre>

<p><a href="https://tio.run/##fc5JawJBEAXg8@tfUTe7VRTF05QdCLiA6BhcwIXQOHESFJl2GUX989qO4ALGS71DPR7fJrKBXZROJ2ygZ/5XvycwhIknwSKUSkzRRbPqy4KiHO2pU2257MKryUC5YnnwAX1wlzJUgCcrSgQYwfzYaBeuYznMpiad9echpYSPOXTj0hOowxzH82zxG96vXLkhC23d64/SVL@km/KVWKHdj5fbHkyb8lQUYTRNnCZx8oOT3zn56jRPTv7HyXcnO6d@dPJrJ9@cOnGyc54B" rel="nofollow noreferrer" title="SNOBOL4 (CSNOBOL4) ‚Äì Try It Online">Try it online!</a></p>

<p>looks a bit scary, but SNOBOL matches identifiers case-insensitively, which dropped the score by around 100 points. Note that it requires a single line of input, so I've replaced <code>\n</code> with <code>;</code> in the input field (which is still valid SNOBOL).</p>

<p>The SNOBOL4 implementation on TIO allows for an additional 16 point golf, as <code>=</code> and <code>_</code> are <a href="http://www.snobol4.org/csnobol4/curr/doc/snobol4.1.html" rel="nofollow noreferrer">both allowable as the assignment operator</a>. How neat!</p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/reticular" rel="nofollow noreferrer">Reticular</a>, score 56</h1>

<pre><code>iSd:A=&gt;ddV@c~dc$:A=+:A`L0EQ6jj+1*37_$O;
</code></pre>

<p><a href="https://tio.run/##K0otyUwuzUks@v8/MzjFytHWLiUlzCG5LiVZBcjRtnJM8DFwDTTLytI21DI2j1fxt/7/HwA" rel="nofollow noreferrer" title="Reticular ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu26" class="pu"><h2>F#, score <strike>120</strike> 118</h2>
<pre><code>let j z=Seq.countBy id z|&gt;Seq.sumBy(fun x-&gt;List.sum[0..snd x])
</code></pre>
<p>-2 thanks to <a href="https://codegolf.stackexchange.com/users/52210/kevin-cruijssen">Kevin Cruijssen</a>!</p>
<p><a href="https://tio.run/##pc/NioMwFAXgvU9xCLQojNL9TLPoMHQzC6FL6yLVKBlMYvMzVOm720RhXmB2h8vHufd2Nm@04csycIcfzMcLvxeN9sqdJogW85PGifXyNKWdV3jk9FtYFyfVoSisavGos6X6@FLOTKUWytE6iW2SCQVm@l8cE1SEvIOwG2MNu8VYGt0bJqVQPUo/zwO32ONTtxxnPXSR/O8kUid4UkQq2YhVCjV6h5wiXdNbqF9Dlv1Z4bjZ8MiEsQEnwGjCW50C2dmr2wkSgHUbyJDGhVsONYflBQ" rel="nofollow noreferrer">Try it online!</a></p>
<p>Takes a <code>string</code> as an input. <code>Seq.countBy</code> pairs each distinct character with its count (<code>id</code> is the identity function) so you end up with a collection like <code>'a' = 4, 'b' = 2</code> etc.</p>
<p>The <code>Seq.sumBy</code> takes the count for every letter and sums all the numbers from <code>0</code> to the count for that letter. So if <code>'a' = 4</code> the collection would be <code>0, 1, 2, 3, 4</code> which summed together is <code>10</code>. Then <code>Seq.sumBy</code> sums all those totals.</p>
</div>
<div id="pu27" class="pu"><h1><a href="https://kotlinlang.org" rel="nofollow noreferrer">Kotlin</a>, score 93</h1>

<pre><code>{it.foldIndexed(0){z,q,v-&gt;q+it.take(z+1).count{it==v}}}
</code></pre>

<p><a href="https://tio.run/##nY5LDoIwFEXnrOLFURs@0SkRjEMSZ67gQQtpwFcohSika8eKcQPe6bk5Oa22naKtnggeqIihacYUrsbg63y3RlGTc1gD8Juxg0qPNgX2JRziHAqykG2rskmtO1GQkE8p2JGvSzREc5wPoUcWW8mW8MSTSk9k/TvLZufc9vMq6ifvASNR3BRJxuGSwuFP7WHv7X2jZZ9itus5D9yGJWKF5Rs" rel="nofollow noreferrer" title="Kotlin ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu28" class="pu"><h1>Java 10, score: <s>149</s> <s>138</s> <s>137</s> <s>134</s> <s>133</s> <s>130</s> <s>103</s> <s>102</s> <s>101</s> 100</h1>
<p>(<strong>Bytes: <s>72</s> <s>73</s> <s>74</s> <s>75</s> <s>64</s> <s>62</s> 61</strong>) <s>Bytes go up, but score goes down. :D</s></p>

<pre class="lang-java prettyprint-override"><code>x-&gt;{int j=0,q[]=new int[256];for(var    C:x)j+=++q[C];return
j;}
</code></pre>
<p>-28 score (and -11 bytes) thanks to <em>@Nevay</em>.<br />
-1 score (and -2 bytes) thanks to <em>@OlivierGr√©goire</em>.<br />
-1 score (and -1 byte) by converting Java 8 to Java 10.</p>
<p><strong>Explanation:</strong></p>
<p><a href="https://tio.run/##lZE/b4MwEMXn8ilOGSojGlRVaociKkUMnRpFykgYDmMoFOzkbGj@iM9OTeiYSsWyhzvfe/eTXoUdLqvsa@A1ag0fWMqLA1BKIyhHLmA9ltcGcMY/keIEtBvYZm@fvdqgKTmsQUIIw3H5dhlnq/Dx4RAnoRTfozZ@en5JglwR65DuotejW3mh5x3iKAlImJakUwX9EEyW@zatreWvc6fKDBoLxraGSllYAHQnqu1JG9H4qjX@3n6ZWjLpc7bAFJFjuvCNiizyighPzHWv2H@rNqQKwqaxO2DTns@10HAPkcoEvKs6n@k2cxymM1OFKc9EXsxVrWYK/pPqztyKdSdtrje39U4//AA" rel="nofollow noreferrer">Try it here.</a></p>
<pre class="lang-java prettyprint-override"><code>x-&gt;{                     // Method with character-array parameter and integer return-type
  int j=0,               //  Result-integer, starting at 0
      q[]=new int[256];  //  Integer-array with 256 times 0
  for(var   C:x)         //  Loop over the characters of the input array
    j+=++q[C];           //   Raise the value in the array by 1,
                         //   and then add it to the result-integer
  return                 //  Return 
  j;}                    //         the result
</code></pre>
</div>
<div id="pu29" class="pu"><p><strong>SHELL</strong> ( <strong>67 bytes</strong>)</p>

<p><strong>Last Solution :</strong> ( <strong>68 bytes</strong>)</p>

<pre><code> f(){ bc&lt;&lt;&lt;`echo -n "$1"|od -bAn|sed "s/\([^ ]\+\)/s+=++v\1;/g"`s;}
</code></pre>

<p>Old solutions :</p>

<p><strong>Old Solution 1</strong> : by creating <strong>function f</strong> (<strong>83 bytes</strong> ) :</p>

<pre><code>f(){ bc&lt;&lt;&lt;`echo "$1"|sed "s/./ss+=++&amp;;/g"|sed "s/[A-Z]/\L&amp;_/g"|sed "s/ /bb/g"`ss;}
</code></pre>

<p><strong>Old Solution 2</strong> : by creating <strong>alias f</strong> ( <strong>81 bytes</strong> )</p>

<pre><code>alias f='bc&lt;&lt;&lt;`cat -|sed "s/./ss+=++&amp;;/g"|sed "s/[A-Z]/\L&amp;_/g"|sed "s/ /bb/g"`ss'
</code></pre>

<p><strong>Explanations :</strong><br>
I used  ( <strong>sed "s/./ss+=++&amp;;/g"</strong> ) to replace any char <strong>a</strong> by  ( <strong>ss+=++a;</strong> ); where ss is the sum to calculate, then concatenate with ss, and calculate all expression by the command <strong>bc</strong> :</p>

<pre><code>echo "a" | sed "s/./ss+=++&amp;;/g"
ss+=++a;
</code></pre>

<p>for a string in input :</p>

<pre><code>echo "aab" | sed "s/./ss+=++&amp;;/g"
ss+=++a;ss+=++a;ss+=++b;
</code></pre>

<p>step by step :</p>

<pre><code>ss+=++a;    // a=1  --&gt;  ss=1
ss+=++a;    // a=2  --&gt;  ss=3
ss+=++b;    // b=1  --&gt;  ss=4
</code></pre>

<p>for lowercase only input, the simpler function need only ( <strong>47 bytes</strong> ) to define :</p>

<pre><code>f(){ bc&lt;&lt;&lt;`echo "$1"|sed "s/./ss+=++&amp;;/g"`ss;}
</code></pre>

<p>to take uppercase in consideration, Without spaces ( <strong>68 bytes</strong>) :</p>

<pre><code>f(){ bc&lt;&lt;&lt;`echo "$1"|sed "s/./ss+=++&amp;;/g"|sed "s/[A-Z]/\L&amp;_/g"`ss;}
</code></pre>

<p>Complete Solution ( <strong>83 bytes</strong>):</p>

<pre><code>f(){ bc&lt;&lt;&lt;`echo "$1"|sed "s/./ss+=++&amp;;/g"|sed "s/[A-Z]/\L&amp;_/g"|sed "s/ /bb/g"`ss;}
</code></pre>

<p><strong>fuction tests</strong> :</p>

<pre><code>f "abaacab"
14

f "abcdefg"
7

f "       "
28

f "Aa"
2
</code></pre>

<p>using an alias instead the function, we can reduce code size to ( <strong>68 bytes</strong> )</p>

<pre><code>alias f='bc&lt;&lt;&lt;`cat -|sed "s/./ss+=++&amp;;/g"|sed "s/[A-Z]/\L&amp;_/g"|sed "s/ /bb/g"`ss'
</code></pre>

<p><strong>alias tests</strong> :</p>

<pre><code>echo "       " | f
28

echo "Ab" | f
2
</code></pre>
</div>
<div id="pu30" class="pu"><h1>Python 2. Score:<s>142</s> 115</h1>
<pre><code>def     f(a):
        x=0
        for y in set(a):z=a.count(y);x+=.5*z*-~z
        print x
</code></pre>
<p>EDIT:-27 thanks to @Kevin Cruijssen</p>
</div>
<div id="pu31" class="pu"><h1>R, 349</h1>
<p>Here is my R solution bit of tidy</p>
<pre><code>s=function(x) {c=0
for (i in unique(strsplit(x,&quot;&quot;)[[1]])) {
c=c(c,sum(1:sum(charToRaw(x)==charToRaw(i))))}
sum(c)
}
</code></pre>
</div>
<div id="pu32" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, <s>8</s> <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">6</a></h1>
<pre><code>√ß‚ïï‚îåŒ±‚ñí'
</code></pre>
<p><a href="https://staxlang.xyz/#p=87b8dae0b127&amp;i=abaacab%0A%C3%A7%E2%95%95%E2%94%8C%CE%B1%E2%96%92%27&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug online!</a></p>
<p>Saved 2 points by using runs per comment by @recursive.</p>
<h2>Explanation</h2>
<p>Uses the unpacked version to explain.</p>
<pre><code>o:GF:T+
o          Sort array
 :G        Run lengths
   F       For each run length `n`
    :T     The nth triangular number
      +    Add to accumulator
           Implicit output
</code></pre>
</div>
<div id="pu33" class="pu"><h1>Rust, <del>265</del> 255 bytes. Score: <del>1459</del> 1161</h1>
<pre><code>fn main(){let mut z=String::new();std::io::stdin().read_line(&amp;mut z);let Z=z.trim_right_matches(|x|x=='\r'||x=='\n');let mut q:Vec&lt;u8&gt;=Z.bytes().collect();q.sort();let(mut k,mut W,mut j)=(0,0u8,0);for Y in&amp;q{if*Y==W{j+=1}else{j=1;W=*Y}k+=j}print!(&quot;{}&quot;,k)}
</code></pre>
<p>Ungolfed</p>
<pre><code>fn main() {
    let mut input_string = String::new();
    std::io::stdin().read_line(&amp;mut input_string);
    let trimmed = input_string
        .trim_right_matches(|c| c == '\r' || c == '\n');
    let mut chars: Vec&lt;u8&gt; = trimmed.bytes().collect();
    chars.sort();
    let (mut total_score, mut last_char, mut last_score) = (0, 0u8, 0);
    for letter in &amp;chars {
        if *letter == last_char {
            last_score += 1;
        } else {
            last_score = 1;
            last_char = *letter;
        }
        total_score += last_score;
    }
    print!(&quot;{}&quot;, total_score);
}
</code></pre>
<p><strong>Edit:</strong> improved answer by renaming variables and altering code</p>
</div>
<div id="pu34" class="pu"><h1>C, 60 bytes, score <strike>108</strike> 95</h1>
<pre><code>g(char*s){int y[256]={},z=0;while(*s)z-=--y[*s++];return z;}
</code></pre>
<p><a href="https://tio.run/##pY3dDoIgAIVfhdnaAKFlW92Qvohx4QCBTakh2sT57AbP0N3Z@fmOoFqI42SdGGapwHMK0r4vpjk0FKbzeEKbdQGs7e3@4PW2k1hf2dfYQcGURVpTurZ4KkvOvAqzdyCy/Rg762DedV4LkkEA46SXROthNpsKfXxq9LA4y5criM720lYcoQT46/4H" rel="nofollow noreferrer" title="C (gcc) ‚Äì Try It Online">Try it online!</a></p>
<p>Usually pre- and post-increment operators are great for code golf, but they really hurt on this challenge!</p>
<p>EDIT: By subtracting negative counts instead of adding positive ones, I saved a whole bunch of score. Replacing <code>for()</code> with <code>while()</code> eliminated a semicolon as well.</p>
</div>
<div id="pu35" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, score: 38</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;z{z.sum{|k|z.count(k)+1}/2}
</code></pre>

<p><a href="https://tio.run/##fY89D4IwEIb3/oqLgx8R8YtEF02Mgys76VDaUho@SoAmWuG3YxXQzVvuuefeXHKlDh9ddOpWZ/M0bqWzZ5M0xqVK5/U8WSy37XrXdoWuK5jJ3PYZ6gehvsjvBac1Z/2MUIAAgsnfixMH9kfsfIIkJISS0KqtNyi/VKIkWSZzAb42JuUVTOGqGIebSiMb9Q5D1PJmQOjLmt3vNmU8ElaNeXJ57zHCLic0BqagkY5q7O7zjBwhCqRLY1JWeDRqAMRz1r0A" rel="nofollow noreferrer" title="Ruby ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu36" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, Score 9</h1>

<pre><code>¬Ω¬ß+L(Œ£¬¥√ó=
</code></pre>

<p><a href="https://tio.run/##yygtzv7//9DeQ8u1fTTOLT605fB02////ycmIWAyAA" rel="nofollow noreferrer" title="Husk ‚Äì Try It Online">Try it online!</a></p>

<p><strong>Explanation:</strong> </p>

<p>This calculates the score as <code>sum_i (n_i^2 + n_i)/2</code>, where <code>i</code> is indexed arbitrarily across unique character types and <code>n_i</code> is the number of characters of type i in the input. But since <code>sum_i n_i</code> is the length of the input, this reduces to <code>(1/2) * (L + sum_i n_i^2)</code></p>

<p><strong>Code breakdown:</strong></p>

<pre><code>o ¬Ω (¬ß + L (o Œ£ (¬¥ (√ó =)))        --With parentheses and two implicit compositions
                   (√ó =)          --1 or 0 for each equality check between elements of its first and second arguments
                (¬¥ (√ó =))         --argdup, 1 or 0 for each equality check between elements of its only argument
           (o Œ£ (¬¥ (√ó =))         --# of equalities between pairs (this will give sum_i n_i^2)
         L                        --length
    (¬ß + L (o Œ£ (¬¥ (√ó =)))        --length + sum_i n_i^2
o ¬Ω (¬ß + L (o Œ£ (¬¥ (√ó =)))        --1/2 * (length + sum_i n_i^2)
</code></pre>
</div>
<div id="pu37" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.6</a>, 45 bytes, Score: 77</h1>

<p>
Inspired by the MATL solution:</p>

<pre class="lang-julia prettyprint-override"><code>f(w)=sum(UpperTriangular([z==j for z=w,j=w]))
</code></pre>

<p><a href="https://tio.run/##yyrNyUw0@/8/TaNc07a4NFcjtKAgtSikKDMxL700J7FII7rK1jZLIS2/SKHKtlwny7Y8VlPzf3ByflGqgq1CQVFmXolGmoYSSdqVgCYAAA" rel="nofollow noreferrer" title="Julia 0.6 ‚Äì Try It Online">Try it online!</a></p>

<p>A less pretty solution, using counts:</p>

<p><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.6</a>, score: 82</p>



<pre class="lang-julia prettyprint-override"><code>F(w)=sum(l-&gt;[l+1]l/2,count(x-&gt;x==i,w)for i=Set(w))
</code></pre>

<p><a href="https://tio.run/##yyrNyUw0@//fTaNc07a4NFcjR9cuOkfbMDZH30gnOb80r0SjQteuwtY2U6dcMy2/SCHTNji1BKhY839BUSZQ1k1DiXS9SkDtAA" rel="nofollow noreferrer" title="Julia 0.6 ‚Äì Try It Online">Try it online!</a></p>

<p>Thanks to Guiseppe for pointing out the scoring and for tips.
These comments helped me loads.</p>
</div>
<div id="pu38" class="pu"><h1>jq, score 60</h1>

<p>(40 characters code + 3 characters command line option)</p>

<pre><code>[./""|group_by(.)[]|range(length+1)]|add
</code></pre>

<p>Sample run:</p>

<pre><code>bash-4.4$ jq -R '[./""|group_by(.)[]|range(length+1)]|add' &lt;&lt;&lt; 'Programming Puzzles &amp; Code Golf'
47
</code></pre>

<p><a href="https://tio.run/##yyr8/z9aT19JqSa9KL@0ID6pUkNPMzq2pigxLz1VIyc1L70kQ9tQM7YmMSXl///EpMTE5MQkroCi/PSixNzczLx0hYDSqqqc1GIFNQXn/JRUBff8nDQuLgUI4EpMSk5JTUvnSnTk0g1SINaif/kFJZn5ecX/dYMA" rel="nofollow noreferrer" title="jq ‚Äì Try It Online">Try it online!</a></p>

<h3>jq, score 63</h3>

<pre><code>[./""|group_by(.)[]|range(length+1)]|add+0
</code></pre>

<p>In case the result for empty string must be numeric 0. There are a few other solutions that use alternative representation of nothing.</p>
</div>
<div id="pu39" class="pu"><h1><a href="https://esolangs.org/wiki/Fish" rel="nofollow noreferrer">>&lt;></a>, score 33</h1>

<pre><code>0vAB;n*&lt;
p&gt;i:0(?^:ag1+:}r-@a
</code></pre>

<p><a href="https://tio.run/##S8sszvj/36DM0ck6T8uGq8Au08pAwz7OKjHdUNuqtkjXIRG/LAA" rel="nofollow noreferrer" title="&gt;&lt;&gt; ‚Äì Try It Online">Try it online!</a></p>

<p>28 bytes, with 2 occurrences each of <code>a</code> and <code>0</code>, and 3 occurrences of <code>:</code>. <code>AB</code> can be replaced by any two characters which don't appear anywhere else in the code.</p>

<p>Works by storing the current character count in the code grid on row 10. The sum is actually a negative sum to start with, and the -1 from reaching the end of STDIN is multiplied with this to turn it back into a positive number.</p>
</div>
<div id="pu40" class="pu"><h1><a href="https://perl6.org/" rel="nofollow noreferrer">Perl6/Rakudo</a>, 45 bytes, score 66</h1>

<p>Run with <code>perl -ne</code>:</p>

<pre><code>say [+] bag(.comb).values.map({($_+1)*$_/2});
</code></pre>

<p>Uses the essential nature of a Bag (like a set with a count per member).</p>

<p>Step by step:</p>

<pre><code>.say;                      # abaacab
say .comb;                 # (a b a a c a b)
say bag(.comb);            # Bag(a(4), b(2), c)
say bag(.comb).values;     # (2 4 1)
say bag(.comb).values.map({($_+1)*$_/2});        # (3 10 1)
say [+] bag(.comb).values.map({($_+1)*$_/2});  #14
</code></pre>

<p>Also note that each character's score can be calculated from its occurrences as <code>(n+1)*n/2</code>.</p>

<p>Edited because I cannot evidently read.</p>
</div>
<div id="pu41" class="pu"><h1>PHP, 44 bytes, score 78:</h1>

<pre class="lang-php prettyprint-override"><code>While($C=ORD($argn[$p++]))$s-=++$$C;EcHo-$s;
</code></pre>
<p>Almost <a href="https://codegolf.stackexchange.com/a/127353/55735">J√∂rg¬¥s solution</a>, but one byte shorter.</p>
<hr />
<h2>PHP, 51 bytes, score 80</h2>
<pre class="lang-php prettyprint-override"><code>ForEach(COUNT_CHARS($argn)As$p)$z-=~$p*$p/2;echo$z;
</code></pre>
<hr />
<p>Run as pipe with <code>-nR</code> or <a href="http://sandbox.onlinephpfunctions.com/code/4c1a902b7e08ecff0edf97bee9b11db9f0652357" rel="nofollow noreferrer">try them online</a></p>
</div>
<div id="pu42" class="pu"><h1><a href="http://www.mlton.org/" rel="nofollow noreferrer">Standard ML</a>, 66 bytes, score 113</h1>

<pre class="lang-ml prettyprint-override"><code>fun$(a::z)=1+length(List.filter(fn y=&gt;y=a)z)+&#9;$z|
$_=0;$o explode;
</code></pre>
<p>This code defines an anonymous function which is bound to the implicit result identifier <code>it</code>. <a href="https://tio.run/##lZBBSwMxEIXP7q8YwiJJi6WVgtIQQXoQwUPB66LMtsm6kE3KZgpt8L@vaVNY8ebc5nvvzcALnb3rLHk3DObgSo6rVRRqMbXaNfTF39pAM9Na0j03Dk7q6aRQRDG9KeN3UX6quSw96OPe@p2W5xNAOhAEULDvW0f81dGM/DulpeFtUgR8AKscE7IoLl6GNeIWayaBT2CxhIm4CpveNz12XYrC5hCj1QFuYZ1ewYu3JgeWD2Mgk/kIIE/m94@jgPV2p02ThV8X8PnqHdG/eqkoFVO5v80wOfwA" rel="nofollow noreferrer" title="Standard ML (MLton) ‚Äì Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>The ungolfed code looks like this:</p>
<pre class="lang-ml prettyprint-override"><code>fun f (a::z) = 1 + length (List.filter (fn y =&gt; y=a) z) + f z
  | f  _     = 0
val g = f o explode
</code></pre>
<p>The function <code>g</code> takes a string as input, converts it to a list of characters with <code>explode</code>, and passes it on to the function <code>f</code> which recurses over the list, with <code>a</code> being the current character and <code>z</code> being the remaining list. For each <code>a</code> the number of occurrences of <code>a</code> in <code>z</code> is computed by filtering <code>z</code> to contain only chars equivalent to <code>a</code> and taking the length of the resulting list. The result is incremented by one to account for the current occurrence of <code>a</code> and added to result of the recursive call of <code>f</code> on <code>z</code>.</p>
</div>
<div id="pu43" class="pu"><h1> JavaScript, 49 bytes, score 88</h1>

<pre><code>b={};s=0;for(j in a=prompt())s+=b[a[j]]=-~b[a[j]]
</code></pre>
</div>
<div id="pu44" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, score of 7</h1>

<pre><code>ƒã√ê‚Ç¨QRFS
</code></pre>

<p>Explanation:</p>

<pre><code>   Q    get unique letters
ƒã√ê‚Ç¨     count the occurences of each letter in the original string
    R   [1..n] for n in list of frequencies
     F  flatten list
      S sum
        (implicit output)
</code></pre>

<p><a href="https://tio.run/##y0rNyan8//9I9@EJj5rWBAa5Bf9H4QEA" rel="nofollow noreferrer" title="Jelly ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu45" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, score <s>89</s> 85</h1>



<pre class="lang-python prettyprint-override"><code>lambda&#9;y:sum(y[:x+1].count(v)for&#9;x,v in enumerate(y))
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/6fZhvzPycxNyklkbPSqrg0V6My2qpC2zBWLzm/NK9Eo0wzLb@Is0KnTCEzTyE1rzQ3tSixJFWjUlPzf0FRJlBBmoYSWdqVgCYAAA" rel="nofollow noreferrer" title="Python 3 ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu46" class="pu"><h1><a href="http://kx.com/download/" rel="nofollow noreferrer">K4</a>, score 15</h1>

<p><strong>Solution:</strong></p>

<pre><code>+/,/{1+!#x}'=
</code></pre>

<p><strong>Example:</strong></p>

<pre><code>q)k)+/,/{1+!#x}'="Programming Puzzles &amp; Code Golf"
47
</code></pre>

<p><strong>Explanation:</strong></p>

<pre><code>+/,/{1+!#x}'= / the solution
            = / group
    {     }'  / apply lambda to each (')
         x    / implicit lambda input
        #     / count length
       !      / range 0..n
     1+       / add one
  ,/          / flatten list
+/            / sum up
</code></pre>

<p><strong>Notes:</strong></p>

<p>In <strong>Q</strong> this could be written as:</p>

<pre><code>q)sum raze { 1 + til count x } each group "Programming Puzzles &amp; Code Golf"
47
</code></pre>
</div>
<div id="pu47" class="pu"><h1>MS-SQL, score 308</h1>
<p>I'm using a completely different technique from <a href="https://codegolf.stackexchange.com/a/127312/70172">my other answer</a>, with additional restrictions, so I'm submitting them separately:</p>
<pre class="lang-sql prettyprint-override"><code>SelEcT SUm(k)FROM(SELECT k=couNt(*)*(CoUNT(*)+1)/2froM spt_values,z WHERE type='P'AND number&lt;len(q)GROUP BY sUBstring(q,number+1,1))L
</code></pre>
<p>Caveats: this must be run from the <code>master</code> database of a MS-SQL server set to a case-sensitive collation (mine is set to SQL_Latin1_General_CP850_BIN2).</p>
<p>Input is via varchar field <em>q</em> in pre-existing table <em>z</em>, <a href="https://codegolf.meta.stackexchange.com/questions/2447/default-for-code-golf-input-output-methods/5341#5341">per our IO rules</a>. Formatted:</p>
<pre class="lang-sql prettyprint-override"><code>SelEcT SUm(k)
FROM
    (SELECT k=couNt(*)*(CoUNT(*)+1)/2
     froM spt_values,z 
     WHERE type='P'
     AND number&lt;len(q)
     GROUP BY sUBstring(q,number+1,1)
    )L
</code></pre>
<p>The trick here is to use a &quot;<a href="https://codegolf.stackexchange.com/questions/129211/sql-select-number-ranges">number table</a>&quot;  to join with the input table, which allows me to separate each character into its own row, then group by matching characters, count them up, calculate the score of each, and sum them all together. All the rest is minimizing score by playing with character case, since SQL keywords are not case sensitive.</p>
<p>MS-SQL has a system table in the <code>master</code> database called <code>spt_values</code> with a lot of junk in it, but I restrict it to <code>type='P'</code>, I get a nice number table with 0 through 2047.</p>
</div>
<div id="pu48" class="pu"><h1>T-SQL, score <s>775 579!</s> 580</h1>
<pre><code>declaRe @ char(876),@x int,@v int=0Select @=q+CHAR(9)from z X:seleCT @x=len(@),@=REPLACE(@,LEFT(@,1),''),@v+=(@x-LEN(@))*(@x-LEN(@)+1)/2IF LEN(@)&gt;0GOTO X prINT @v-1
</code></pre>
<p><strong>EDIT</strong>: Dropped a couple of variables, compacted a bit. Down to 16 <code>@</code> symbols instead of 22, that by itself reduces my score by a whopping 117 points!</p>
<p>Nice contest, I like the requirement to optimize for something besides total character count.</p>
<p>Input is via varchar field <em>q</em> in pre-existing table <em>z</em>, <a href="https://codegolf.meta.stackexchange.com/questions/2447/default-for-code-golf-input-output-methods/5341#5341">per our IO rules</a>. The database containing this input table must be set to a <em>case-sensitive collation</em>.</p>
<p>Formatted:</p>
<pre><code>declaRe @ char(876), @x int, @v int=0
Select @=q+CHAR(9)from z
X:
    seleCT @x=len(@)
          ,@=REPLACE(@,LEFT(@,1),'')
          ,@v+=(@x-LEN(@))*(@x-LEN(@)+1)/2
IF LEN(@)&gt;0 GOTO X
prINT @v-1
</code></pre>
<p>SQL keywords aren't case sensitive, so I used mixed case to minimize the count of duplicate letters (<em>aaAA</em> generates a better/lower score than <em>aaaa</em>).</p>
<p>The main loop compares the length before and after stripping all instances of the first character out. That difference n*(n+1)/2 is added to a running total.</p>
<p>The SQL <code>LEN()</code> function annoyingly ignores trailing spaces, so I had to append a control character and subtract 1 at the end.</p>
<p><strong>EDIT</strong>: Fixed a miscalculation of my own score by 2 points (issue with quoting quotes), reduced by 1 by changing casing of one <code>R</code>. Also working on a completely different strategy, I'll be posting that as its own answer.</p>
</div>
<div id="pu49" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/attache" rel="nofollow noreferrer">Attache</a>, score 36</h1>

<pre><code>Sum@Map&amp;:(Count#Last)@Prefixes
</code></pre>

<p><a href="https://tio.run/##SywpSUzOSP3vkpqWmZcarZKm8z@4NNfBN7FAzUrDOb80r0TZJ7G4RNMhoAiooiK1@H8sV0BRZl5JdFq0En6VSrGx/wE" rel="nofollow noreferrer" title="Attache ‚Äì Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<pre><code>Sum@Map&amp;:(Count#Last)@Prefixes
</code></pre>

<p>This is a composition of 3 functions:</p>

<ul>
<li><code>Prefixes</code> - this simply obtains the prefixes of the input</li>
<li><code>Map&amp;:(Count#Last)</code> - This is a mapped fork. This is equivalent to <code>arr.map { e -&gt; e.count(e.last) }</code> So, for each character, this counts the occurrences of that character so far.</li>
<li><code>Sum</code> - this sums all of these numbers.</li>
</ul>
</div>
<div id="pu50" class="pu"><h1><a href="https://github.com/TryItOnline/brainfuck" rel="nofollow noreferrer">brainfuck</a>, score 897</h1>

<pre><code>,[&lt;&lt;[[-&gt;+&gt;-&lt;&lt;]&gt;&gt;[&lt;]&lt;[&lt;]&lt;[&lt;]&lt;[+&lt;&lt;]&gt;&gt;&gt;&gt;[&gt;]&gt;[-&gt;+&gt;+&lt;&lt;]&gt;[-&lt;+&gt;]&lt;&lt;&lt;]&lt;+[-&gt;&gt;+&lt;&lt;]&gt;&gt;&gt;[-&gt;+&lt;]&gt;[&gt;]&gt;,]&lt;&lt;[&lt;]&lt;
</code></pre>

<p><a href="https://tio.run/##ZU5BDsIwDLvvFb1n5QVW3sA96qGdQJoYO2zs/cVpYUIiUhXHcVyXLc/r/ZgetY4GmEUVjUBSNSScTxpFUpM2TSMsQjSBEEJWPyoX@JbakVs3qO3U/ROn4brN62sP021ZQt7DejzLbRtMuzFicyEQdl6wGyId5Czwk0hCPZD0IG2Cl0dLQwhftaF3mrmv6C9weULL/y/n4tJD11xynnJ5Aw" rel="nofollow noreferrer" title="brainfuck ‚Äì Try It Online">Try it online!</a></p>

<p>Ends on the cell with the correct value. Assumes a cell size larger than the score of the string, otherwise it'll wrap (got a little suspicious when the interpreter said the score was 188).</p>
</div>
<div id="pu51" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, score 12 (+2 for <code>-x</code>) = 14</h1>

<pre><code>¬¨n √≥¬• √ã√ä√µ√Éc
</code></pre>

<h2>Explanation</h2>

<pre><code>¬¨n √≥¬• √ã√ä√µ√Éc                                             "abaacab"
¬¨            // Split the input into an array of chars  ["a","b","a","a","c","a","b"]
 n           // Sort                                    ["a","a","a","a","b","b","c"]
   √≥¬•        // Partition matching items                [["a","a","a","a"],["b","b"],["c"]]
      √ã      // map; For each array:
       √ä     //   Get the length x                      [4,2,1]
        √µ    //   Create a range [1...x]                [[1,2,3,4],[1,2],[1]]
         √É   // }
          c  // Flatten                                 [1,2,3,4,1,2,1]
-x           // Sum                                     14
</code></pre>

<p><a href="https://tio.run/##AT0Awv9qYXB0///CrG4gw7PCpSDDi8OKw7XDg2P//yJQcm9ncmFtbWluZyBQdXp6bGVzICYgQ29kZSBHb2xmIi14" rel="nofollow noreferrer" title="Japt ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu52" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, score 14</h1>

<pre><code>1#.2!1+#/.~
</code></pre>

<p><a href="https://tio.run/##y/qvpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/DZX1jBQNtZX19er@a3KlJmfkK6QppJalFlUqqCcmJSYmJyapK1grqAcU5acXJebmZualKwSUVlXlpBYrqCk456ekKrjn56SB1YAJBQgAsxOTklNS09IhbEd1mPHqSJaq/wcA" rel="nofollow noreferrer" title="J ‚Äì Try It Online">Try it online!</a></p>

<p>Outgolfed by the other J solution, but figured I'd post this anyways since it uses a slightly different method.</p>
</div>
<div id="pu53" class="pu"><h1><a href="https://github.com/mudkip201/pyt" rel="nofollow noreferrer">Pyt</a>, 6 <a href="https://github.com/mudkip201/pyt/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>ƒê·ª§‚áπ…î‚ñ≥∆©
</code></pre>

<p>Explanation:</p>

<pre><code>              Implicit input
ƒê             Duplicate top of stack
 ·ª§            Get unique characters
  ‚áπ           Swap top two items on stack
   …î          Count number of times each unique character occurs in the input
    ‚ñ≥         Calculates the total score for each character
     ∆©        Sum count
              Implicit output
</code></pre>

<p><a href="https://tio.run/##K6gs@f//yISHu5c8at95csqjaZuPrcQQAAA" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu54" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, score: 67 <s>83</s> <s>95</s> <s>128</s></h1>

<p><i>-61 thanks to top tips from Giuseppe</i>
</p>

<pre class="lang-r prettyprint-override"><code>function(x,y=table(utf8ToInt(x)))y%*%{y+1}/2
</code></pre>

<p><a href="https://tio.run/##jZFNa8MwDIbv@xUmrIvUFkp6Gowcxg5jh0EPu5Ue7MTODI4dbAfqlv72zIn3wTpoJ4yNhJ5XL7IdlGSW2gB5y/27qV2ON6IcRK8rL42G/TKUnjLFoffi/s28aA97RAyz@ewYFsVptR4E5JRRWlE2wpBvrGksbVupG7LpDwfFHbkjT6bm5NkokZrSTVKkhLKq5qL5TB7T@yqdG0/XyamQ/VhD17cAurTRnTPWA1fgvHWdktHkMo6IcatwtZ6DXhSI2bnA8Sr8MM7Q3wqnixK/@e222O3@p/G14zMDExgiOG36L3j9bzIcPgA" rel="nofollow noreferrer" title="R ‚Äì Try It Online">Try it online!</a></p>

<p>The string is split using <code>utf8ToInt</code> and each ascii value is counted <code>table</code>.  The the result is calculated using doing a matrix multiplication <code>%*%</code> over that at itself + 1 and finally halfed.</p>
</div>
<div id="pu55" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, score: <s>14 12</s> 11</h1>

<pre><code>$+/@,2!1#.=
</code></pre>

<p><a href="https://tio.run/##y/pfZmulUGtloGBl8F9FW99Bx0jRUFnP9r8mV0q@gnqarZ66ThlXanJGvkKagnpiUmJicmKSOlwgoCg/vSgxNzczL10hoLSqKie1WEFNwTk/JVXBPT8nDaEQwVKAALhA2X8A" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu56" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>10</s> 9 bytes; Score <s>10</s> 9</h1>

<pre><code>·π¢≈írz·∫Ü·π™R·∫éS
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///hzkVHJxVVPdzV9nDnqqCHu/qC/2MTBAA" rel="nofollow noreferrer" title="Jelly ‚Äì Try It Online">Try it online!</a></p>

<p>This is the first time I use Jelly, and I didn't want to check other people's answers because I wanted to try it myself. I probably reinvented the wheel a couple times there. Suggestions and feedback are greatly appreciated.</p>

<p>EDIT: -1 byte for removing <code>…†</code> and taking the input as an argument.</p>

<p>Explanation:</p>

<pre><code>·π¢≈írz·∫Ü·π™R·∫éS           #Main Link; input abaacab
·π¢                   #sorts input; aaaabbc
 ≈ír                 #run-length encode, or the number of times a character appears; a4b2c1
   z                #zip; ['abc', [4, 2, 1]]
    ·∫Ü               #takes every contiguous sublists
     ·π™              #Pops the last element; [4, 2, 1]
      R             #Takes the range of every element; [[1,2,3,4],[1,2],1]
       ·∫é            #Collapses every element into a single array; [1,2,3,4,1,2,1]
        S           #Sum and implicitly print; 14.
</code></pre>

<p>(no idea why, but the code doesn't work without <code>·∫Ü</code>,
 although it gives the exact same output as <code>z</code>)</p>
</div>
<div id="pu57" class="pu"><h1><a href="https://github.com/muddyfish/PYKE" rel="nofollow noreferrer">Pyke</a>, score 7</h1>
<pre><code>cemSss
</code></pre>
<p><a href="http://pyke.catbus.co.uk/?code=cemSss&amp;input=%5B%22c%22%2C%22e%22%2C%22m%22%2C%22S%22%2C%22s%22%2C%22s%22%5D&amp;warnings=1&amp;hex=0" rel="nofollow noreferrer">Try it here!</a></p>
<pre><code>c      -    count_occurrences(input)
 e     -   values(^)
  mS   -  [range(1,i+1) for i in ^]
    ss - sum(sum(i)for i in ^)
</code></pre>
</div>
<div id="pu58" class="pu"><h1>Factor, 2435</h1>
<p>(o god my score)</p>
<p><code>&quot;&quot; over [ 2dup swap in? [ drop ] [ suffix ] if ] each { } swap swapd [ dupd 0 swap swapd swap [ over = swap [ [ 1 + ] [ ] if ] dip ] each drop swap [ suffix ] dip ] each drop [ dup 1 + * 2 / ] map sum</code>
(wrong formatting on purpose for multi-line span)</p>
<p>Wow, Factor is hard. Or I'm just bad. Probably a little bit of both.</p>
</div>
<div id="pu59" class="pu"><h2><a href="https://en.wikipedia.org/wiki/K_(programming_language)" rel="nofollow noreferrer">K</a>/<a href="https://github.com/kevinlawler/kona" rel="nofollow noreferrer">Kona</a>, score 19</h2>

<pre><code>+/,/1+!:'(#:)'=
</code></pre>

<p>Works as:</p>

<pre><code>              = (implicitly take arg as input), group -&gt; make dictionary of characters to their occurring indices
         (#:)'= count each of these 
    1+!:'(#:)'= get a list from 0-&gt;n-1 for each of these counts, add one to each 
+/,/1+!:'(#:)'= finally, reduce to single list, sum reduce this list
</code></pre>

<p>Example:</p>

<pre><code>k)+/,/1+!:'(#:)'="+/,/1+!:'(#:)'="
19
k)+/,/1+!:'(#:)'="abaacab"
14
</code></pre>

<p>Legible q equivalent:</p>

<pre><code>(sum/)raze 1+til count each group 
</code></pre>
</div>
<div id="pu60" class="pu"><h1>Common Lisp, score <s>286</s> <s>232</s> 222</h1>

<pre><code>(loop with w =(fill(make-list 128)0)as z across(read)sum(incf(elt w(char-code z))))
</code></pre>

<p>High-valued score due to the wordy syntax of builtin operators of Common Lisp.</p>

<p><a href="https://tio.run/##tcwxCoAwDEDRqwSnZBDUycXDhFgxGG1pKgUvX72Ef358MfXUMGW9SkOLMUHVskOFBTc1w5OP0H@owDjNNBA7PMCSozvmwCv5faJesmGwAhVl59xLXAM89NWodT9suxc" rel="nofollow noreferrer">Try it online!</a></p>

<p>The ungolfed code:</p>

<pre><code>(loop with w = (fill (make-list 128) 0)  ; create a list to count characters
   as z across (read)                   ; for each character of input
   sum (incf (elt w (char-code z))))     ; increase count in list and sum
</code></pre>
</div>
<div id="pu61" class="pu"><p><strong>FIREBIRD, score 3577</strong></p>

<p>Version to calculte the score:</p>

<pre><code>SELECT COALESCE(SUM(C),0)FROM(WITH RECURSIVE T AS(SELECT 1 AS I,SUBSTRING(CAST(:V AS BLOB)FROM 1 FOR 1)AS S FROM RDB$DATABASE UNION ALL SELECT I+1,SUBSTRING(CAST(:V AS BLOB)FROM I+1 FOR 1)FROM T WHERE I &lt; CHAR_LENGTH(CAST(:V AS BLOB)))SELECT T.*,(SELECT COUNT(T2.I) FROM T T2 WHERE T2.S=T.S AND T2.I&lt;=T.I)AS C FROM T WHERE CAST(:V AS BLOB) &lt;&gt; '')
</code></pre>

<p>Below is the idented version of the code, in case anyone want to now. I'm sorry for any mistakes, first time here actually posting!</p>

<pre><code>SELECT COALESCE(SUM(C), 0)
FROM (
  WITH RECURSIVE T AS (
    SELECT 1 AS I, SUBSTRING(CAST(:V AS BLOB) FROM 1 FOR 1) AS S
    FROM RDB$DATABASE

    UNION ALL

    SELECT I+1, SUBSTRING(CAST(:V AS BLOB) FROM I+1 FOR 1)
    FROM T
    WHERE I &lt; CHAR_LENGTH(CAST(:V AS BLOB))
  )
  SELECT T.*, (SELECT COUNT(T2.I) FROM T T2 WHERE T2.S = T.S AND T2.I &lt;= T.I) AS C
  FROM T
  WHERE CAST(:V AS BLOB) &lt;&gt; ''
)
</code></pre>

<hr>

<p><strong>Explanation</strong></p>

<p>I start my select in a system table <code>SELECT 1 AS I, SUBSTRING(CAST(:V AS BLOB) FROM 1 FOR 1) AS S FROM RDB$DATABASE</code>, which always has only one row. Using that only one row, I return 1 as a column <strong>I</strong>, and the character that exists in the input in the I value.</p>

<p>Let's say I've passed 'abaacab' as input:</p>

<pre>
‚ïî‚ïê‚ïê‚ïê‚ï¶‚ïê‚ïê‚ïê‚ïó
‚ïë I ‚ïë S ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ï¨‚ïê‚ïê‚ïê‚ï£
‚ïë 1 ‚ïë a ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ï©‚ïê‚ïê‚ïê‚ïù
</pre>

<p>In the UNION ALL part, I start to increment the index from the first select, until it reaches the end of the input. So, in the example I would get this:</p>

<pre>
‚ïî‚ïê‚ïê‚ïê‚ï¶‚ïê‚ïê‚ïê‚ïó
‚ïë I ‚ïë S ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ï¨‚ïê‚ïê‚ïê‚ï£
‚ïë 1 ‚ïë a ‚ïë
‚ïë 2 ‚ïë b ‚ïë
‚ïë 3 ‚ïë a ‚ïë
‚ïë 4 ‚ïë a ‚ïë
‚ïë 5 ‚ïë c ‚ïë
‚ïë 6 ‚ïë a ‚ïë
‚ïë 7 ‚ïë b ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ï©‚ïê‚ïê‚ïê‚ïù
</pre>

<p>After that, I also select the count of ocurrences from the value on <strong>S</strong>, that has already appeared in indexes below the <strong>I</strong>. So, in a column <strong>C</strong> I now have the 'cost' of that character, which I only need to SUM after to get the value. </p>

<pre>
‚ïî‚ïê‚ïê‚ïê‚ï¶‚ïê‚ïê‚ïê‚ï¶‚ïê‚ïê‚ïê‚ïó
‚ïë I ‚ïë S ‚ïë C ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ï¨‚ïê‚ïê‚ïê‚ï¨‚ïê‚ïê‚ïê‚ï£
‚ïë 1 ‚ïë a ‚ïë 1 ‚ïë
‚ïë 2 ‚ïë b ‚ïë 1 ‚ïë
‚ïë 3 ‚ïë a ‚ïë 2 ‚ïë
‚ïë 4 ‚ïë a ‚ïë 3 ‚ïë
‚ïë 5 ‚ïë c ‚ïë 1 ‚ïë
‚ïë 6 ‚ïë a ‚ïë 4 ‚ïë
‚ïë 7 ‚ïë b ‚ïë 2 ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ï©‚ïê‚ïê‚ïê‚ï©‚ïê‚ïê‚ïê‚ïù
</pre>

<p>I used BLOB as the type from the input, to not get limited by size. </p>
</div>
<div id="pu62" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, 39 bytes, Score 54</h1>

<pre><code>BEGIN{RS="(.)"}{M+=++s[RT]}END{print M}
</code></pre>

<p><a href="https://tio.run/##SyzP/v/fydXd0686KNhWSUNPU6m22lfbVlu7ODooJLbW1c@luqAoM69EwbeWaIUA" rel="nofollow noreferrer" title="AWK ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu63" class="pu"><h1>>&lt;> (Fish), score 133</h1>

<pre><code>!&lt;01-0&amp;i:2(:?&amp;:?n?;&amp;1+&amp;:}}:3(00@@?.~~:{=&amp;+&amp;{$}8e+0.&gt;.!06}~{ 
</code></pre>

<p>This code reads the input per character, adds a point and loops through all the read characters, adding an extra point for every equal character.</p>

<p><a href="https://fishlanguage.com/playground/yia9mvD4zNTXfwLpv" rel="nofollow noreferrer">You can try it out here</a></p>

<h1>Explanation</h1>

<pre><code>!&lt;01-0&amp;         // Initialize (put -1 on the stack and 0 in the register)
i:2(:?$:?n?;    // Read the next input. If it's -1, print the register and end the program.
&amp;1+&amp;            // Add one to the register
:}}:            // Duplicate both the input and the check value
3(00@@?.~~      // If the check value is -1, jump the instruction pointer to 0,0 (line 0)
:{=&amp;+&amp;          // Compare the input to the check value and add the result to the register
{$}8e+0.        // Move the checked value to the bottom of the stack and jump to 22,0 (line 4)
&gt;.!06}~{        // Clean up the stack and jump to 0,6 (line 2)
</code></pre>
</div>
<div id="pu64" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, score 18</h1>

<pre><code>q_,{)W$&lt;}%.e=0+:+
</code></pre>

<p><a href="https://tio.run/##S85KzP3/vzBep1ozXMWmVlUv1dZA20r7//@Aovz0osTc3My8dIWA0qqqnNRiBTUF5/yUVAX3/Jw0AA" rel="nofollow noreferrer" title="CJam ‚Äì Try It Online">Try it online!</a></p>

<h3>Explanation</h3>

<pre><code>q                  e# Read the input.
 _,                e# Copy it, get its length.
   {               e# Map over the range from 0 .. length-1:
    )              e#  Increment the current number.
     W$            e#  Push the input.
       &lt;           e#  Get the first &lt;current number&gt; characters of it.
        }%         e# (end map)
          .e=      e# Count the occurrences of each character in the corresponding slice.
             0+    e# Append a 0 to the result (because you can't reduce and empty list).
               :+  e# Reduce by addition (sum).
</code></pre>
</div>
<div id="pu65" class="pu"><h2>PowerShell, score 64</h2>
<pre><code>$z=@{}
$ARGS|% getE*|%{$u+=($Z.$_+=1)};$U
</code></pre>
<p>(Score is based on a single linefeed newline, which isn't Windows standard but does work in PS).</p>
<pre><code>PS C:\&gt; D:\unique-is-cheap.ps1 (gc D:\unique-is-cheap.ps1 -raw)
64
</code></pre>
<ul>
<li>Hashtable counter <code>@{}</code></li>
<li>Iterate through the letters; <code>$args</code> is an array of parameters - in this case the input string makes it a single item array; <code>|%</code> does a foreach loop over the items, and uses the <code>getE*</code> shortcut to match the <code>GetEnumerator()</code> string method and call it to turn the string into a character stream.</li>
<li><code>|%</code> loop over the characters and increment their hashtable entry, add it to a running total. The <code>($x+=1)</code> form with parens both modifies the variable and outputs the new value for use.</li>
<li>Output the running total.</li>
</ul>
<p>(When I first wrote it, it was <code>$c=@{};$t=0;[char[]]&quot;$args&quot;|%{$c[$_]++;$t+=$c[$_]};$t</code> with a score of 128, and felt like it wouldn't go much lower. Halving it to 64 is quite pleasing).</p>
</div>
<div id="pu66" class="pu"><h1>Swift 3, 153 bytes, score = 637</h1>

<pre><code>var u:(String)-&gt;Int={var d = Dictionary&lt;Character,Int&gt;()
for c in $0.characters{d[c] = (d[c] ?? 0) + 1}
return d.values.reduce(0,{$0 + $1 * ($1 + 1) / 2})}
</code></pre>

<h2>Legible version plus explanation</h2>

<pre><code>func unique(_ string: String) -&gt; Int {
    var dict = Dictionary&lt;Character, Int&gt;()
    for char in string.characters { dict[char] = (dict[char] ?? 0) + 1 }
    return dict.values.reduce(0, { $0 + $1 * ($1 + 1) / 2 })
}
</code></pre>

<p>My solution takes the string, iterates over the characters and tracks each unique character in a dictionary, counting the occurrences per character. Once that's done, it reduces the dictionary's values using the triangle number formula ( n(n+1) / 2 ) and returns the result.</p>

<h2>Comments</h2>

<p>Swift obviously isn't the best language for golfing, but it was fun to see where I could save bytes despite its rigid syntax. This is my first Swift submission - be gentle!</p>
</div>
<div id="pu67" class="pu"><h1>Octave , score <s>77</s> 31 bytes</h1>

<p>*same as @LuisMendo 's <a href="https://codegolf.stackexchange.com/a/127290/62451">MATL answer</a>.</p>
<pre class="lang-matlab prettyprint-override"><code>@(a)nnz(triu(a==a'))
</code></pre>
<p><a href="https://tio.run/##y08uSSxL/f/fQSNRMy@vSqOkKLNUI9HWNlFdU/N/mm1iXrE1V5qGEjZpJU2QTGJSYmJyYpKS5n8A" rel="nofollow noreferrer" title="Octave ‚Äì Try It Online">Try it online!</a></p>
<p>Previous answer:</p>
<pre class="lang-matlab prettyprint-override"><code>@(d,g=accumarray(+d',1)-(0:254))sum(g(g&gt;0));
</code></pre>
<p><a href="https://tio.run/##y08uSSxL/f/fQSNFJ902MTm5NDexqCixUkM7RV3HUFNXw8DKyNREU7O4NFcjXSPdzkBT0/p/mm1iXrE1V5qGEinalDRBOhKTEhOTE5OUNP8DAA" rel="nofollow noreferrer" title="Octave ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu68" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a>, 39 bytes, Score 69</h1>



<pre class="lang-matlab prettyprint-override"><code>@(a)sum((b=hist(a,unique(1*a))).^2+b)/2
</code></pre>

<p><a href="https://tio.run/##jc0xCgIxEEDRq0wjk9FVcVsRBI@gpQiT7AQDmrjJZGFPHxttrOw/7yenPElrR8NU6tMYe7iHooa7GsNYxeyWTESbW7@ytO3beOBY9v6VQ1RvcDHAGs4uZQGfMpzSINeI3WjwTxCJfrSLFAXHRQCRLbNjiwiaYJIc/Ay@RqchRX4EnT@zb0fU3g" rel="nofollow noreferrer" title="Octave ‚Äì Try It Online">Try it online!</a></p>

<p>While there is another Octave answer, this one is entirely my own and a different approach, plus it scores less :).</p>

<p>The approach boils down to first finding the count (b) of each unique character, which is achieved using the histogram function. Then for each element we calculate the sum of 1 to b which is done using the formula <code>(b*(b+1))/2</code>. Then the individual sums are all summed into the final score.</p>

<p>In testing it seems brackets are really costly in the scoring because many are needed. I've optimised down from an initial score of about 88 by rearranging the questions to minimise the number of open/close brackets - hence we now do the /2 on the final total rather than individually, and also I've modified the formula to <code>(b^2+b)/2</code> as that requires fewer brackets.</p>
</div>
<div id="pu69" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, score <s>63</s> 60</h1>

<p>Uses the <code>-n</code> flag which ends up adding 2 points due to the presence of another <code>n</code> within the code.</p>

<p>-3 points from Alexis Anderson.</p>



<pre class="lang-ruby prettyprint-override"><code>i=x=0
gsub(/./){x+=$_[0,i+=1].count$&amp;};p x
</code></pre>

<p><a href="https://tio.run/##KypNqvyvrFgEpBR08/5n2lbYGnClF5cmaejr6WtWV2jbqsRHG@hkatsaxuol55fmlaio1VoXKFT8/5@YlJiYnJjEFVCUn16UmJubmZeuEFBaVZWTWqygpuCcn5Kq4J6fk8bFpQABXIlJySmpaelciY5ceWCLHIixCAA" rel="nofollow noreferrer" title="Ruby ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu70" class="pu"><h1>Perl 5 score <s>91</s> 83</h1>

<p>Uses the <code>-p</code> flag which adds 2 because of the p in split.</p>

<pre><code>$x=$_;$b+=++$a{$_}for(split//,$x);$_=$b
</code></pre>
</div>
<div id="pu71" class="pu"><h2>F#, score:<s>1264</s>1110</h2>

<p>-154 points, thanks to @Laikoni</p>

<pre><code>let x(y:bool)=System.Convert.ToInt32(y)
let rec p(k:string)q=
 let j=k.Length
 if(j=1)then(x(k.[0]=q))else p k.[0..(j-2)] q+x(k.[j-1]=q)
let rec d(a:string)=
 let z=a.Length
 if(z&lt;2)then z else d a.[0..(z-2)]+p a (a.[z-1])
</code></pre>

<p>You need to call the d function. In a more readable form:</p>

<pre><code>let x (y:bool)=
    System.Convert.ToInt32(y)
let rec e (c:string) b=
    let j=c.Length
    if(j=1)then
        (x(c.[0]=b))
    else 
        e c.[0..(j-2)] b+x (c.[j-1]=b)
let rec d (a:string)=
    let h=a.Length
    if(h&lt;2)then 
        h 
    else
        d a.[0..(h-2)]+e a (a.[h-1])
</code></pre>

<h3>Explanation</h3>

<p>It is a recursive algorithm, the base case is, if the length of the string is less than 2 (0 or 1), the score will be the length of the string. This is because, if the length is 0 (empty string), we have no characters, so the score is 0, and if the length is 1, that means, that the string consists of only 1 character, so the score is 1. </p>

<p>Otherwise it trims the last character of the string, and to the score of the truncated string adds the count of the last character in the untruncated string.</p>

<p>The counting algorithm is also recursive. Its base case is, when the length of the string is one, then the count is 1, if the string matches with the character, and 0 otherwise. This can also be done, if we convert the bool to an int, and this results in a lower score. </p>

<p>Otherwise it trims the last character of the string, calculates the count of that string, and if the last character matches the character, we are calculating the count of, adds one to the count. This is again, better, if we convert that boolean to an int.</p>
</div>
<div id="pu72" class="pu"><h2><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, score 16</h2>

<pre><code>1#.,@(*+/\"1)&amp;=
</code></pre>

<p><a href="https://tio.run/##y/r/P03B1krBUFlPx0FDS1s/RslQU832f2pyRr5CmoJ6YlJiYnJikjoXTABNofp/AA" rel="nofollow noreferrer" title="J ‚Äì Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<pre><code>1#.,@(*+/\"1)&amp;=
              =  Self-classify: bit matrix of equality between input
                 and its unique elements.
     (      )&amp;   Apply verb in parentheses to it:
       +/\         running sums
          "1       of each row
      *            multiplied with original matrix.
                 This causes the i'th 1 on each row to be replaced by i.
   ,@            Flatten the resulting matrix
1#.              and interpret as a base-1 number, computing its sum.
</code></pre>

<p>Using <code>1#.</code> instead of <code>+/@</code> for the sum saved a few points, and <code>&amp;</code> could be used instead of <code>@</code> in a monadic context to save one more.
The repeated <code>1</code> costs me one extra point, but I haven't been able to get rid of it.</p>
</div>
<div id="pu73" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, score 23</h1>

<pre><code>$-:@+[:+/,/@(=/~)
</code></pre>

<p><a href="https://tio.run/##y/r/P83WSkXXykE72kpbX0ffQcNWv07zf2pyRr5CmoI6how6F0wqMSkxMTkxCSEQUJSfXpSYm5uZl64QUFpVlZNarKCm4Jyfkqrgnp@ThlCIYClAALKhySmpaelIAo7q/wE" rel="nofollow noreferrer" title="J ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu74" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, score 6</h1>

<p>1 byte thanks to isaacg.</p>

<pre><code>+F/V._
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=%2BF%2FV._&amp;test_suite=1&amp;test_suite_input=%22s%2B0%2FV._%22%0A%22abaacab%22%0A%22Programming+Puzzles+%26+Code+Golf%22%0A%22%22%0A%22+++++++%22%0A%22abcdefg%22%0A%22aA%22&amp;debug=0" rel="nofollow noreferrer">Test suite.</a></p>

<h2>How it works</h2>

<pre><code>+F/V._
+F/V._QQ  implicit input
  /V      vectorize count: for each element in the first argument,
                           count the number of occurrences of the
                           second argument:
    ._Q       all prefixes of input
       Q      input
+F        fold (reduce) on +, base case 0.
</code></pre>
</div>
<div id="pu75" class="pu"><h1><a href="https://github.com/Mego/Seriously" rel="nofollow noreferrer">Actually</a>, score 12</h1>

<pre><code>;‚ïó‚ïî‚å†‚ïúcRŒ£‚å°MŒ£
</code></pre>

<p><a href="https://tio.run/##S0wuKU3Myan8/9/60dTpj6ZOedSz4NHUOclB5xY/6lnoe27x//9KOGSUAA" rel="nofollow noreferrer" title="Actually ‚Äì Try It Online">Try it online!</a></p>

<p>Explanation:</p>

<pre><code>;‚ïó‚ïî‚å†‚ïúcRŒ£‚å°MŒ£  (implicit input: S)
;‚ïó           save a copy of S in register 0
  ‚ïî          uniquify S (call it A)
   ‚å†‚ïúcRŒ£‚å°M   for each unique character in A:
    ‚ïúc         count the number of occurrences in S
      R        range(1, count+1)
       Œ£       sum
          Œ£  sum
</code></pre>

<p>Repeating the <code>Œ£</code> is two points less than using an alternative formulation with no repeated characters (<code>i`+Y</code>).</p>
</div>
<div id="pu76" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, 45 bytes, Score 78</h1>



<pre class="lang-php prettyprint-override"><code>WHILE($x=ORD($argn[$v++]))$y+=$$x-=-1;echo$y;
</code></pre>

<p><a href="https://tio.run/##K8go@G9jX5BRoMCVWlSUXxRflFqQX1SSmZeuUeca7@cf4unsqmnNpZJYlJ5nqx7u4enjqqFSYesf5KIBFotWKdPWjtXUVKnUtlVRqdC11TW0Tk3OyFeptFa3/k@S@v//AQ" rel="nofollow noreferrer" title="PHP ‚Äì Try It Online">Try it online!</a></p>

<h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, 46 bytes, Score 79 Bytes</h1>



<pre class="lang-php prettyprint-override"><code>WHILE(~$xy=$argn[$vz++])$su-=-$$xy+=1;echo$su;
</code></pre>

<p><a href="https://tio.run/##K8go@G9jX5BRoMCVWlSUXxRflFqQX1SSmZeuUeca7@cf4unsqmnNpZJYlJ5nqx7u4enjqlGnUlFpCxaJVimr0taO1VQpLtW11VUBimvbGlqnJmfkA0Ws1a3/k6bh/38A" rel="nofollow noreferrer" title="PHP ‚Äì Try It Online">Try it online!</a></p>

<h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, 56 bytes, Score 92</h1>



<pre class="lang-php prettyprint-override"><code>FOREAch(COUNT_CHARS($argn)as$z)WHILE($z)$y+=$z--;echo$y;
</code></pre>

<p><a href="https://tio.run/##K8go@G9jX5BRoMCVWlSUXxRflFqQX1SSmZeuUeca7@cf4unsqmnNpZJYlJ5nq@7mH@TqmJyh4ewf6hcS7@zhGBSsAZbSTCxWqdIM9/D0cdUAMlQqtW1VqnR1rVOTM/JVKq3Vrf@Tq/X//695@brJickZqQA" rel="nofollow noreferrer" title="PHP ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu77" class="pu"><h1><a href="https://github.com/m-ender/retina" rel="nofollow noreferrer">Retina</a>, score <s>68</s> <s>45</s> 43</h1>

<pre><code>s`(.)(?&lt;=((\1)|.)+)
$#3$*
1
</code></pre>

<p><a href="https://tio.run/##K0otycxL/P@/OEFDT1PD3sZWQyPGULNGT1Nbk0tF2VhFi8sQryQA" rel="nofollow noreferrer" title="Retina ‚Äì Try It Online">Try it online!</a> Link shows score. Edit: Thanks to @MartinEnder who saved 20 bytes by using overlapping matches instead of lookaheads and a further three bytes by grouping the stages so that the <code>s</code> flag only needs to be applied once. Saved a further two bytes by calculating the triangular number differently, avoiding the need for a sort.</p>
</div>
<div id="pu78" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python</a>, score 49</h1>



<pre class="lang-python prettyprint-override"><code>lambda S:sum(1+S.count(C)for[C]in&#9;S)/2
</code></pre>

<p><a href="https://tio.run/##JYu9CoMwFEZnfYrLHUrE0lJHwSmDq5DROqQxsYH8SKLQ@vJppGf7ON9Zv9vbuyYJP8vumdBw@5o5sDbuljxqdhN@dxuhlfJhpJN2BavuDSb5kQJVh/UZlllCBO1gPOcVcAh@Cdxa7RYY9uMwMsIFaJbQe6MwX@APTm1ZrEG7DRSJVfoB" rel="noreferrer" title="Python 2 ‚Äì Try It Online">Try it online!</a></p>

<p>There's a tab after <code>in</code>.</p>

<p>Score breakdown: </p>

<ul>
<li>+27 for 27 unique chars</li>
<li>+16 for 8 double chars: <code>()Camnou</code></li>
<li>+6 for 1 tripled char: <code>S</code></li>
</ul>
</div>
<div id="pu79" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, score 5</h1>

<pre><code>ƒ†J‚Ç¨·∫éS
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///IAq9HTWse7uoL/o/MAQA" rel="nofollow noreferrer" title="Jelly ‚Äì Try It Online">Try it online!</a></p>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/48934/leaky-nun">Leaky Nun</a> for -2 (previously on <a href="https://codegolf.stackexchange.com/a/127265/41024">his answer</a>)</p>
</div>
<div id="pu80" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="noreferrer">MATL</a>, score 4</h1>
<pre><code>&amp;=Rz
</code></pre>
<p><a href="https://tio.run/##y00syfn/X802qOr/f/XEpMTE5MQkdQA" rel="noreferrer" title="MATL ‚Äì Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>Consider input <code>'ABBA'</code> as an example.</p>
<pre><code>&amp;=   % Implicit input. Matrix of all equality comparisons
     % STACK: [1 0 0 1;
               0 1 1 0;
               0 1 1 0;
               1 0 0 1]
R    % Upper triangular part
     % STACK: [1 0 0 1;
               0 1 1 0;
               0 0 1 0;
               0 0 0 1]
z    % Number of nonzeros. Implicitly display
     % STACK: 6
</code></pre>
</div>
<div id="pu81" class="pu"><h1><a href="https://drive.google.com/drive/folders/0B0R1Jgqp8Gg4cVJCZkRkdEthZDQ" rel="nofollow noreferrer">QBIC</a>, score: 128</h1>
<pre><code>dim x(126)[_l;||i=asc(_sA,a,1|)‚îòx(i)=x(i)+1][126|[x(b)|p=p+c}?p
</code></pre>
<p>Nice round score of 128.</p>
<h2>Explanation</h2>
<pre><code>dim x(126)      Create an array of 126 elements (one for each ASCII element)
[_l;||          Read cmd line input, loop over its length
i=asc(_sA,a,1|) Read the next char's ascii value
‚îò               (Syntactic linebreak)
x(i)=x(i)+1     Raise the count of this ASCII char by 1
]               NEXT
[126|           Loop over the ASCII array again
[x(b)|          Read the count and start a loop that runs from 1 to that count
p=p+c           Add to running total p the loop counter
}               Close both loops
?p              PRINT p
</code></pre>
</div>
<div id="pu82" class="pu"><h2><a href="https://github.com/m-ender/retina" rel="noreferrer">Retina</a>, score 34</h2>

<pre><code>s(O`.
M&amp;!`^|(?&lt;=(.))\1*
.
</code></pre>

<p><a href="https://tio.run/##K0otycxL/P@/WMM/QY/LV00xIa5Gw97GVkNPUzPGUItLD48UAA" rel="noreferrer" title="Retina ‚Äì Try It Online">Try it online!</a></p>

<h3>Explanation</h3>

<pre><code>s(O`.
</code></pre>

<p>We start by sorting all the characters in the input so that identical characters are grouped together into a single run. The <code>s(</code> activates singleline mode for all stages (i.e. makes <code>.</code> match linefeeds).</p>

<pre><code>M&amp;!s`^|(?&lt;=(.))\1*
</code></pre>

<p>The goal is to turn a run of <strong>n</strong> characters into <strong>T<sub>n</sub></strong> characters (the <strong>n</strong>th triangular number) because that's the score of the occurrences of this character. To do so, we find overlapping matches. In particular, for each <strong>i</strong> in <strong>[1,n]</strong>, we're going to include <strong>i-1</strong> characters in the match. We get all those matches due to the overlapping flag <code>&amp;</code>. That gives us <strong>n*(n-1)/2 = T<sub>n-1</sub> = T<sub>n</sub> - n</strong> characters just from the matches. But the match stage will join these with linefeeds, which are <strong>n</strong> linefeeds for <strong>n</strong> matches. There's only one problem. There won't be a linefeed after the last match, so the overall number of characters in the output is one less than we need. We fix this by also matching the beginning of the input, which gives us a single leading linefeed if there is at least one other match.</p>

<pre><code>.
</code></pre>

<p>Finally, we just count how many characters there are in the string.</p>
</div>
<div id="pu83" class="pu"><h1><a href="https://www.microsoft.com/net/core/platform" rel="nofollow noreferrer">C# (.NET Core)</a>, score ‚àû (I mean, 209)</h1>



<pre class="lang-cs prettyprint-override"><code>b=&gt;b.Distinct().Select(z=&gt;{var w=b.Count(p=&gt;p==z);return w*(w+1)/2;}).Sum()
</code></pre>

<p><a href="https://tio.run/##rVA9a8MwEN39K44MQeqHTEqggysvLu3SQiBDZ1mRg0CWEn3E1MG/3ZWMm0K7ZOgbjuM@3r173N1zY8UIEcFJvYftp/OiJW9SH4ssS3WumHOwsWZvWTtVzlNMcJ55yeFk5A7emdQIX1o/Qwkz7UvQ/Ml5Gy/dgdS@hAZoNta0rMmzdF5q7hEmW6FETHpank/MQkdrUpmgPTrQ8kBpjwsrfLAauhvU3a5w/lAMcSu0CI@z6l@HK6OdUYJ8WOlFfE6gBi1YzRhn9QLjAvIcVuurN2c32uTYJvS9Eg6WUJmdgFejmm/G9ePVjH/d/0dTkp6LkmHKhvEL" rel="nofollow noreferrer" title="C# (.NET Core) ‚Äì Try It Online">Try it online!</a></p>

<p>The score includes the following:</p>

<pre class="lang-cs prettyprint-override"><code>using System.Linq;
</code></pre>
</div>
<div id="pu84" class="pu"><h2>Clojure, score 96</h2>

<pre><code>#(apply +(for[[k j](frequencies %)](*(inc j)j 0.5)))
</code></pre>

<p>Five spaces and pairs of brackets...</p>
</div>
<div id="pu85" class="pu"><h2>Python 2, score 108</h2>

<pre><code>lambda S:sum(S.count(Q)*(S.count(Q)+1)/2for Q in set(S))
</code></pre>

<p>Still golfing :)</p>
</div>
<div id="pu86" class="pu"><h2>JavaScript (Firefox 30+), score 68</h2>

<pre><code>S=&gt;[for(C of(T=0,S))T+=S.split(C).length]&amp;&amp;T/2
</code></pre>

<p>This uses <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Array_comprehensions" rel="nofollow noreferrer">array comprehensions</a> which were originally planned for ES7, but were dropped late in the process. Firefox had implemented them anyway.</p>
</div>
<div id="pu87" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, score 6</h1>

<pre><code>;\ƒã"‚Å∏S
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/9865ki30qPGHcH/kdgA" rel="noreferrer" title="Jelly ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu88" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, score 42</h1>



<pre class="lang-hs prettyprint-override"><code>f l=sum[1|c&lt;-l,d&lt;-c:l,d==c]/2
</code></pre>

<p><a href="https://tio.run/##fYuxDoIwFEV/5aYxTBAjo6GTgys7YXiUFhvfa0kLC/Hfq/yA0znDOS/Kb8tcigPrvMtw@5iu4XruGnP/QWszXtsi5AM01uTDhguEVjgM6u@kaiiaiAxNp/YpLolEfFjQ78fBNqPCI84Wz8juTNRYvg" rel="noreferrer" title="Haskell ‚Äì Try It Online">Try it online!</a></p>

<p>Anonymizing <code>\l-&gt;</code> gives the same score.</p>
</div>
<div id="pu89" class="pu"><h2>Haskell, score <s>52</s> 51</h2>

<pre><code>f(a:b)=1+sum[1|c&lt;-b,c==a]+f b;f _=0
</code></pre>

<p>There's a tab between <code>f</code> and <code>_</code>.</p>

<p><a href="https://tio.run/##hY49C8IwGAZn/RUPQUSpgl3VTA5du6vImzRpg/koSbsU/3t0zuJ4xw03UHora3PWOzqLPa@rNLt7/ZHXozhIzulZaYiLXr34KTsyHhxdwBrAGI2fsIEGI0EkSbBCtzH0kZwzvkc7L4tVCVvcQqfQBKvLvOQ/S4/p98TyFw" rel="noreferrer" title="Haskell ‚Äì Try It Online">Try it online!</a></p>

<p>The value of the empty string is 0. The value of the string s, where <code>a</code> is the first char and <code>b</code> the rest of the string is 1 plus the occurrences of <code>a</code> in <code>b</code> plus a recursive call with b.</p>
</div>
<div id="pu90" class="pu">

<h1><a href="https://perl6.org" rel="nofollow noreferrer">Perl¬†6</a>, score <s>¬†61 56 53 46¬†</s> 44</h1>

<pre class="lang-perl6 prettyprint-override"><code>(1 X..*.comb.Bag.values).flat.sum
</code></pre>

<p><a href="https://tio.run/##hY9PT8MwDMXv@RRPY1o2NEUMTQMp4gAcuO7AgdvkpklXKSFV3UzaEJ@99I@gXBC@2P7p2c@ubO13bWKL004ZLcIZCxO5wUO73OBNqWtlYsjUExXqRD5ZXinnqVGcQqsF0xny9WhhYm5RNmy9w5EYhGFLdJDrsZT/7pNaVKkTdllwypCXXPnOYIn5ASt8CKD3U1V38xryD5/5QYtPIb6HJWVEhjKpcYXN9ofP9nUsagqhfC@wT5eLt4wFnvs/XqJ3s16/vZv0A7iZeowx4Nv7iVNmcuuKgf8ap8dR2X4B" rel="nofollow noreferrer" title="Perl 6 ‚Äì Try It Online">Try it</a></p>

<pre class="lang-perl6 prettyprint-override"><code>{sum flat 1 X.. .comb.Bag.values}
</code></pre>

<p><a href="https://tio.run/##hY9Pa8MwDMXv/hSPrtQbFLOO0g7CDtsOu/aww25Fduw0YM8higtt6WfP8octu4zpIunHk55U2dpv2sQWx40ymQgnLEzkBk/thVOA89RghQ@loEwMWr1QoY7kk@Vry3SCfD9YmJhblA1b73AgBmHYER3kcizlv9tkJqrUCbssOGnkJVe@M7jFfI87XATQ@6mqu3gJ@YfPfJ@JqxDfw5I0kSEtM9xgtf7hs10di5pCKD8L7NL57C1jgdf@j7fo3azXr7eTfgD3U48xBvzwOHHSJreuGPivcXoele0X" rel="nofollow noreferrer" title="Perl 6 ‚Äì Try It Online">Try it</a></p>

<pre class="lang-perl6 prettyprint-override"><code>{sum flat 1 X.. values(.comb.Bag)}
</code></pre>

<p><a href="https://tio.run/##hY9Pa8MwDMXv/hSPrtQtFLOO0g5CD9sOu/aww25Fcew0YNchigtt6WfP8octu4zpIunHk55UmsptmsgG543SifAXzHTgGrvmxtHDOqqxwqdSOJOLhudKB5@qV8oX94bpAvlxNNAhMyhqNs7iSAxCvyRYyOVQyv/XyUSUsVW2WXBMkRVcutZhjukBC9wE0Bmqsr15CfmH0fSQiLsQ38OSUiJNqUzwgNX6h0/2Vcgr8r445djH69UZxgxv3SPvwdlJp19vR30PHsceQ/T46XnklOrM2Lznv8bpZVA2Xw" rel="nofollow noreferrer" title="Perl 6 ‚Äì Try It Online">Try it</a></p>

<pre class="lang-perl6 prettyprint-override"><code>{[+] flat&#9;1&#9;X.. values(.comb.Bag)}
</code></pre>

<p><a href="https://tio.run/##hY9PawIxEMXP5lM8VIyihFrEFhYP2kOvHnoolCKTbLIuZM2y2Qgqfvbt/qHdXkrnMjM/3sybyXVh11XwGue1UBHLLpgo50tsqtvH/BPGUjlYDt6FwJls0H4qlMuk2FEyu1eeLuBvRw3lYo209NoaHMmD0C5xBnzRlfz/dTxieaiVdWY@SMSpz23tMMX4gBluDGgMRV7fvAD/w2h8iNidse9hTpJIkeQRRliufvhwX7ikoCxLTwn24Xq12mOCl@aRV2fNsNGvnnp9Cx76Hl20@PG55yRVrE3S8l/jtO2U1Rc" rel="nofollow noreferrer" title="Perl 6 ‚Äì Try It Online">Try it</a></p>

<pre class="lang-perl6 prettyprint-override"><code>{[+] flat&#9;1&#9;X.. values(bag
.comb)}
</code></pre>

<p><a href="https://tio.run/##hY9PawIxEMXP5lM8rBilEmoRW1g8lB569dCDIEUm2WRdyJplsxFU/Ozr/qFdL9K5zMyPN/Nmcl3YZRW8xnEpVMSyE8bK@RKr6rJ9/oGxVA7mg40QOJIN2k8kJUwol8nptfJ0Av/eaygXa6Sl19ZgTx6Edokz4LOu5P@v4xHLQ62sM/NBIk59bmuHCUY7THFhQGMo8vrmGfgDo9EuYlfGfoc5SSJFkkd4wnzxx4frwiUFZVl6SLAO57PVHmN8No98OWuGjX7x1utb8NL36KLFr@89J6libZKW343TR6esbg" rel="nofollow noreferrer" title="Perl 6 ‚Äì Try It Online">Try it</a></p>
</div>
<div id="pu91" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog)</a>, score 15</h1>



<pre class="lang-apl prettyprint-override"><code>+/1 1‚çâ+\‚àò.=‚ç®‚çû
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///qKPdOb@45L@2vqGC4aPeTu2YRx0z9Gwf9a541DsPJPtfAQxAirgSkxITkxOTuJCEsOoDAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) ‚Äì Try It Online">Try it online!</a></p>

<p><code>‚çû</code>‚ÄÉget text input</p>

<p><code>‚àò.=‚ç®</code>‚ÄÉequality table with self</p>

<p><code>+\</code>‚ÄÉcumulative sum across</p>

<p><code>1 1‚çâ</code>‚ÄÉdiagonal (lit. collapse both dimensions into dimension one)</p>

<p><code>+/</code>‚ÄÉsum</p>
</div>
<div id="pu92" class="pu"><h1>Python 2, score 83</h1>
<pre class="lang-python prettyprint-override"><code>lambda z:sum((2*z.count(x)+1)**2/8for x in set(z))
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/qfZhvzPycxNyklUaHKqrg0V0PDSKtKLzm/NK9Eo0JT21BTS8tI3yItv0ihQiEzT6E4tUSjSlPzf7FtDJc66frUuQqKMvNKFNI0ijX/AwA" rel="nofollow noreferrer"><strong>Try it online</strong></a></p>
<p><code>1/8 (1 + 2 n)^2 -1/8</code> is the same as <code>n (n+1) / 2</code>. Floor division removes the need to subtract <code>1/8</code>.</p>
</div>
<div id="pu93" class="pu"><h1>JavaScript (ES6), score <s>81</s> 78</h1>

<p><em>Saved 3 points thanks to @Arnauld</em></p>

<pre><code>s=&gt;s.replace(d=/./g,z=&gt;q+=d[z]=-~d[z],q=0)&amp;&amp;q
</code></pre>

<p>My original score-81 recursive solution:</p>

<pre><code>f=([c,...s],d={})=&gt;c?(d[c]=-~d[c])+f(s,d):0
</code></pre>
</div>
<div id="pu94" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, score 6</h1>

<pre><code>{Œ≥‚Ç¨gLO
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f@/@tzmR01r0n38kZgA" rel="nofollow noreferrer" title="05AB1E ‚Äì Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/127261/">127261</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




