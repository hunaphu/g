<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::264918</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>010</td><td>Jelly</td><td>230905T212243Z</td><td><a href="https://codegolf.stackexchange.com/questions/264918/sum-of-consecutive-nth-powers/264952#264952">Jonathan</a></td></tr>
<tr d-ix="1"><td>054</td><td>Haskell</td><td>230905T184744Z</td><td><a href="https://codegolf.stackexchange.com/questions/264918/sum-of-consecutive-nth-powers/264946#264946">xnor</a></td></tr>
<tr d-ix="2"><td>062</td><td>JavaScript V8</td><td>230905T090244Z</td><td><a href="https://codegolf.stackexchange.com/questions/264918/sum-of-consecutive-nth-powers/264922#264922">Arnauld</a></td></tr>
<tr d-ix="3"><td>055</td><td>Ruby</td><td>230905T150827Z</td><td><a href="https://codegolf.stackexchange.com/questions/264918/sum-of-consecutive-nth-powers/264936#264936">G B</a></td></tr>
<tr d-ix="4"><td>074</td><td>Haskell</td><td>230905T103904Z</td><td><a href="https://codegolf.stackexchange.com/questions/264918/sum-of-consecutive-nth-powers/264927#264927">matteo_c</a></td></tr>
<tr d-ix="5"><td>020</td><td>Charcoal</td><td>230905T092107Z</td><td><a href="https://codegolf.stackexchange.com/questions/264918/sum-of-consecutive-nth-powers/264924#264924">Neil</a></td></tr>
<tr d-ix="6"><td>9125</td><td>Vyxal</td><td>230905T091205Z</td><td><a href="https://codegolf.stackexchange.com/questions/264918/sum-of-consecutive-nth-powers/264923#264923">lyxÎ±l</a></td></tr>
<tr d-ix="7"><td>084</td><td>Python</td><td>230905T084306Z</td><td><a href="https://codegolf.stackexchange.com/questions/264918/sum-of-consecutive-nth-powers/264921#264921">bsoelch</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 10 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Â½á¸Šbt0á»ŠÆ‘É—@Æ‡
</code></pre>
<p>A monadic Link that accepts a positive integer and yields a list of all valid integer bases.</p>
<p><strong><a href="https://tio.run/##ASYA2f9qZWxsef//wr3huIpidDDhu4rGkcmXQMaH/8OHxZLhuZj//zE1Ng" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<p>A base, <span class="math-container">\$b\$</span>, works for <span class="math-container">\$n\$</span> when <span class="math-container">\$n\$</span> converted to base <span class="math-container">\$b\$</span> is a run of ones optionally followed by a run of zeros.</p>
<p>No <span class="math-container">\$b &gt; \sqrt{n}\$</span> can work since the <span class="math-container">\$b^2\$</span> term breaks the bank on its own and the <span class="math-container">\$b^1\$</span> and <span class="math-container">\$b^0+b^1\$</span> solutions are the excluded cases <span class="math-container">\$b\ge n-1\$</span>.</p>
<pre><code>Â½á¸Šbt0á»ŠÆ‘É—@Æ‡ - Link: positive integer, n
Â½          - square-root {n}
 á¸Š         - dequeue -&gt; B = [2,3,4,...,floor(sqrt(n))]
         Æ‡ - keep those {b in B} for which:
       É—@  -   last three links as a dyad with swapped arguments - f(n, b):
  b        -     convert {n} to base {b}
   t0      -     trim zeros (e.g. [4,0,1,0,0,0] -&gt; [4,0,1])
      Æ‘    -     is invariant under?:
     á»Š     -       insignificant? (abs(digit)&lt;=1 vectorised)
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 54 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>f n|r&lt;-[0..n]=[i|i&lt;-[2..n-2],a&lt;-r,b&lt;-r,n*i-n==i^a-i^b]
</code></pre>
<p><a href="https://tio.run/##XZLRboMgFIbvfYpzsYt2gUYOqG0iT2JoYjeXkXZkUS99dwdtIv7zgvgB5@Tjh@9@ug@Px7p@UVjGVnbl6RSc7fziI3AEyU70rRzFLQ3h3ctgrb/20l9vbv3pfSBLv6MPM71RHz6pi63IWhppoUMQNB6plTQP0/zRT8PkimL7j5VdQfE7KEGdO4oX8B70HkwE3qjaL9Ww1ACdgS6R9Eaq3HdRIKKSCYvdZo216KMqxKeSMHmigeZnoAskkKRyIStECIghIUYlTkpVxhr2NnAaxpgYjHT5PExupdX/CYZyDVraAMHN6SSlRZ0nICcNOWm8PVMiwvWZZJTbGo0ISgaUDORkwMdgTCYJNflNvp6TK9Y/" rel="nofollow noreferrer" title="Haskell â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 62 bytes</h1>
<p>Prints the results.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;{for(b=1;i=++b&lt;n-1;k||print(b))for(k=n;k%b?i--:k/=b;)k-=!i}
</code></pre>
<p><a href="https://tio.run/##FcrRCsIgFMbx@57iJASKWHkRRO7Ug0QXc2xhynE42c22Zzd39f/g9/3auZ265Mas5nsZsBA@lyEmblEbh1LahpQ2fl3H5ChzK8SuHsn4k305pR7@gtYIr/DotrJj6DMQIGhT0yDcrnVIKWA5AHSRphj6c4hfzt6EDGR9SWAfJkz1gVPtVv4" rel="nofollow noreferrer" title="JavaScript (V8) â€“ Try It Online">Try it online!</a></p>
<h3>Algorithm</h3>
<p>Given the input <span class="math-container">\$n\$</span> and for each <span class="math-container">\$b\in[2,n-2]\$</span>:</p>
<ol>
<li>we do <span class="math-container">\$n\gets n/b\$</span> as long as <span class="math-container">\$n\equiv 0\pmod b\$</span></li>
<li>we do <span class="math-container">\$n\gets (n-1)/b\$</span> as long as <span class="math-container">\$n-1\equiv 0\pmod b\$</span></li>
</ol>
<p>If we end up with <span class="math-container">\$n=0\$</span>, then <span class="math-container">\$b\$</span> is a solution.</p>
<h3>Explanation</h3>
<p>If <span class="math-container">\$n\$</span> is of the form <span class="math-container">\$b^p+b^{p+1}+\dots+b^{p+q}\$</span>, the first step will normalize it to:</p>
<p><span class="math-container">$$b^0+b^1+\dots+b^q$$</span></p>
<p>and each iteration of the second step will remove the most significant term ...</p>
<p><span class="math-container">$$b^0+b^1+\dots+b^{q-1}$$</span></p>
<p>... until it's eventually reduced to <span class="math-container">\$0\$</span>.</p>
<hr />
<h3><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 79 bytes</h3>
<p>Essentially the same code. I wish I could get rid of the parentheses around <code>k/=b</code>.</p>

<pre class="lang-c prettyprint-override"><code>b,i,k;f(n){for(b=1;i=++b&lt;n-1;k||printf(&quot;%d &quot;,b))for(k=n;k%b?i--:(k/=b);)k-=!i;}
</code></pre>
<p><a href="https://tio.run/##NY7LDoIwEEX3fMVIQtKmNNKFG4bGb6ElxaY6EERdAL9u5RF3J/eRe61srY3R5D4P6BjxyXUDM1qh10KYiqTCMM/94Gl0LM0aSHPD@RYKmjBk5uqlLFk4a8ORB6lPHpf47nwDj9oT4zAlAGsbCFfYigQaFAJBpeFSrCDEkQL475DOmnKdAuK4G9u1g/rXaG/1wFSxC0uyxK9197p9Rvn5AQ" rel="nofollow noreferrer" title="C (gcc) â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 55 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;n{(2...n).select{|x|/^0(_0)*(_1)+$/=~n.digits(x)*?_}}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf1y6vWsNIT08vT1OvODUnNbmkuqaiRj/OQCPeQFNLI95QU1tF37YuTy8lMz2zpFijQlPLPr629n9BaUmxgoahnp6pgaZebmIBSJeScnVFrYJydVp0RWytUu1/AA" rel="nofollow noreferrer" title="Ruby â€“ Try It Online">Try it online!</a></p>
<p>If a number <code>n</code> is the sum of consecutive powers of <code>x</code>, then its representation is base <code>x</code> is a sequence of <code>1</code>s followed by at least one zero.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a>, 74 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>0#i=[]
n#i=mod n i:div n i#i
f n=[i|i&lt;-[2..n-2],all(==1)$snd$span(&lt;1)$n#i]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XZM9boMwGIaHbhyh0yclA0gmwj9AUsUX6BUQAypEtUrcKNBOuUmXLFXP1J6mdlAxb1nMY_N9evzafHw9N8NL1_fX6-fbeEi334_Zyuiqjqwbjq8tWTIPrXn348pEB7K6MhezTyux2dhU1Kzp-1hrnqwH266HU2PjvQNXXk8df-7uj42xpOl0NnakNTW2pcp1Iq3pTBeKLaNzQvuUxm4Yn5qhG-oomt9dZRWRe2LOqKoTNoFYglyCciBmypdLBSyVQFugnSM5E8-WXTiIcG8i2OJjibXow3PEmxJTYaKE5lugHSTgpUKh4IgQkICEBCoJr5QHLODbEnYjMCYBRjK7bSa0kvz_hIByCVpSAcHJSS8lWREmICcJOUk8PZUhwvEpbxTaKokISgqUFOSkwEdhTMoLleFOTtepjqZf5O_n-wU" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>24</s> 20 bytes</h1>
<pre><code>ï¼®Î¸ï¼©Î¦â€¦Â²âŠ–Î¸Â¬âŠ™âªªâ˜Î¸Î¹0â»Î»ï¼©Â¬Î¼
</code></pre>
<p><a href="https://tio.run/##LYzNCsIwEITvPkXoaQMRtNee/EHwYBH7BGtcaiDZtslG8OljFOcwh5n5xj4x2gl9KWees/Q53CnCorvVNToWOGASODkvNb0hjwStUUeykQKx0KNOtVH9JLDjNwyzdwJ7TDRIxUdYjHK1bzZN9YvjnMAb9Tv9MkH/1ZWybcv65T8" rel="nofollow noreferrer" title="Charcoal â€“ Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: When converted to base <code>b</code>, <code>n</code> has to have the form <code>1+0*</code>, thus when split on <code>0</code> the first part can only contain <code>1</code>s and the other parts must be empty, although the code &quot;permits&quot; <code>0</code>s.</p>
<pre><code>ï¼®Î¸                      Input `n` as a number
    â€¦                   Range from
     Â²                  Literal integer `2` to
       Î¸                Input `n`
      âŠ–                 Decremented
   Î¦                    Filtered where
            Î¸           Input `n`
           â˜            Converted to base
             Î¹          Current value
          âªª             Split on
              0         Literal string `0`
        Â¬âŠ™              All parts satisfy
                Î»       Current part
               â»        Only contains occurrences of
                   Î¼    Inner index
                  Â¬     Logical Not
                 ï¼©      Cast to string
                        Implicitly print
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="noreferrer">Vyxal</a>, 73 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="noreferrer">bits<sup>v2</a></sup>, 9.125 bytes</h1>
<pre><code>â‡©á¸¢'?Ê€eÃSá¹ ?c
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyJBPSIsIiIsIuKHqeG4oic/yoBlw55T4bmgP2MiLCIiLCIxXG4yXG4zXG40XG41XG42XG43XG44XG45XG4xMFxuMTFcbjEyXG4xM1xuMTRcbjE1XG4xNlxuMTdcbjE4XG4xOVxuMjAiXQ==" rel="noreferrer">Try it Online!</a></p>
<p>Formulas? No we do things brute force around here.</p>
<h2>Explained</h2>
<pre><code>â‡©á¸¢'?Ê€eÃSá¹ ?cÂ­â¡â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â â€âªâ¡âªâ âªâ¢âªâ€â â€âªâ¡âªâ âªâ£âªâ€â€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ¢â£âªâ€â â€âªâ¡âªâ âªâ¢â¤âªâ€â â€âªâ¡âªâ âªâ£â¡âªâ€â€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ¤âªâ€â â€âªâ¡âªâ âªâ¢â¡âªâ€â â€âªâ¡âªâ âªâ¢â¢âªâ€â€â€‹â¡â â¡â€Œâ¤â€‹â€â€âªâ¡âªâ âªâ£â¢âªâ€â â€âªâ¡âªâ âªâ£â£âªâ€â€â€‹â¡â â¡â€ŒÂ­
â‡©á¸¢'          # â€â¡Keep all from the range [2, n - 2] where:
      ÃSá¹     # â€â¢  Sums of sublists of
   ?Ê€e       # â€â£  The number raised to each number in the range [0, input]
         ?c  # â€â¤  Contains the input
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="noreferrer">Luminespire</a>.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 84 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda n:[b for b in range(2,n-1)for i in range(n*n)if(b**(i%n+1)-b**(i//n))/~-b==n]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhY3Q3ISc5NSEhXyrKKTFNLyixSSFDLzFIoS89JTNYx08nQNNUGCmQjBPK08zcw0jSQtLY1M1TxtQ01dMFNfP09TU79ON8nWNi8WarYymlZTA00rLgWFgqLMvBKNTJ00jUxNTYjSBQsgNAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Uses the equation <span class="math-container">\$\sum_{k=i}^{j}b^k = \frac{b^{j+1}-b^i}{b-1}\$</span></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/264918/">264918</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




