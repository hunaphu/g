<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::8429</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>015</td><td>Uiua</td><td>250718T195720Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/282694#282694">nyxbird</a></td></tr>
<tr d-ix="1"><td>078</td><td>Swift 6</td><td>250505T150743Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/279525#279525">macOSist</a></td></tr>
<tr d-ix="2"><td>069</td><td></td><td>120925T193241Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8450#8450">Kaz</a></td></tr>
<tr d-ix="3"><td>043</td><td>Raku Perl 6 rakudo</td><td>250415T195737Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/279194#279194">xrs</a></td></tr>
<tr d-ix="4"><td>016</td><td>Japt</td><td>250414T164010Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/279173#279173">Shaggy</a></td></tr>
<tr d-ix="5"><td>088</td><td>AWK</td><td>250414T145932Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/279171#279171">xrs</a></td></tr>
<tr d-ix="6"><td>014</td><td>Vyxal</td><td>220502T092639Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/246791#246791">emanresu</a></td></tr>
<tr d-ix="7"><td>016</td><td>05AB1E</td><td>220502T014135Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/246776#246776">Makonede</a></td></tr>
<tr d-ix="8"><td>070</td><td>Python 2</td><td>120925T230848Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8453#8453">daniero</a></td></tr>
<tr d-ix="9"><td>076</td><td>AHK</td><td>170403T184756Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/115096#115096">Engineer</a></td></tr>
<tr d-ix="10"><td>032</td><td>Seriously</td><td>160114T192847Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/69438#69438">quintopi</a></td></tr>
<tr d-ix="11"><td>085</td><td>PARI/GP</td><td>160114T204326Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/69446#69446">Charles</a></td></tr>
<tr d-ix="12"><td>037</td><td>Octave</td><td>160113T151709Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/69343#69343">Stewie G</a></td></tr>
<tr d-ix="13"><td>116</td><td>Python</td><td>120925T170527Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8446#8446">Adrien P</a></td></tr>
<tr d-ix="14"><td>065</td><td>JavaScript</td><td>120925T190214Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8449#8449">Joe Tusk</a></td></tr>
<tr d-ix="15"><td>061</td><td>JavaScript</td><td>120925T194334Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8451#8451">user1686</a></td></tr>
<tr d-ix="16"><td>143</td><td>Javascript</td><td>150721T145525Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/53478#53478">SuperJed</a></td></tr>
<tr d-ix="17"><td>389</td><td>Java</td><td>141228T154416Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/42889#42889">PoweredB</a></td></tr>
<tr d-ix="18"><td>014</td><td>CJam</td><td>141227T112824Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/42854#42854">Martin E</a></td></tr>
<tr d-ix="19"><td>060</td><td>Mathematica</td><td>120925T090624Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8432#8432">DavidC</a></td></tr>
<tr d-ix="20"><td>031</td><td>CJam</td><td>141228T152433Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/42887#42887">user1640</a></td></tr>
<tr d-ix="21"><td>018</td><td>Pyth</td><td>141228T114625Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/42880#42880">Jakube</a></td></tr>
<tr d-ix="22"><td>042</td><td>R</td><td>141228T121100Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/42881#42881">plannapu</a></td></tr>
<tr d-ix="23"><td>013</td><td>TIBASIC</td><td>141226T011605Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/42799#42799">Timtech</a></td></tr>
<tr d-ix="24"><td>012</td><td>APL</td><td>140106T004813Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/17688#17688">Zaq</a></td></tr>
<tr d-ix="25"><td>042</td><td>Perl 6</td><td>140104T095213Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/17434#17434">null</a></td></tr>
<tr d-ix="26"><td>045</td><td>Mathematica</td><td>131101T081242Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/13056#13056">alephalp</a></td></tr>
<tr d-ix="27"><td>059</td><td>Perl</td><td>131031T172123Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/13054#13054">Dom Hast</a></td></tr>
<tr d-ix="28"><td>059</td><td>PowerShell</td><td>131029T160241Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/13042#13042">Rynant</a></td></tr>
<tr d-ix="29"><td>117</td><td>VBA</td><td>131029T151848Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/13041#13041">Gaffi</a></td></tr>
<tr d-ix="30"><td>074</td><td>Perl</td><td>121006T092328Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8623#8623">o_o</a></td></tr>
<tr d-ix="31"><td>098</td><td>Haskell</td><td>120926T051026Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8460#8460">Rotsor</a></td></tr>
<tr d-ix="32"><td>045</td><td>16bit x86 machine code under MSDOS</td><td>120926T194435Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8481#8481">Jonas En</a></td></tr>
<tr d-ix="33"><td>069</td><td>Lisp</td><td>120925T170931Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8447#8447">wintermu</a></td></tr>
<tr d-ix="34"><td>025</td><td>Q</td><td>120925T154242Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8439#8439">sinedcm</a></td></tr>
<tr d-ix="35"><td>nan</td><td></td><td>120925T231629Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8454#8454">KeithS</a></td></tr>
<tr d-ix="36"><td>016</td><td>k</td><td>120925T155808Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8440#8440">skeevey</a></td></tr>
<tr d-ix="37"><td>017</td><td>J</td><td>120925T105645Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8435#8435">Gareth</a></td></tr>
<tr d-ix="38"><td>061</td><td>Java</td><td>120926T134028Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8470#8470">Quasar</a></td></tr>
<tr d-ix="39"><td>062</td><td>Ruby 1.9</td><td>120925T164615Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8444#8444">js-coder</a></td></tr>
<tr d-ix="40"><td>083</td><td>Python</td><td>120926T081158Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8464#8464">Alex L</a></td></tr>
<tr d-ix="41"><td>nan</td><td></td><td>120926T072807Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8463#8463">codeporn</a></td></tr>
<tr d-ix="42"><td>065</td><td>Bash shell script</td><td>120926T044737Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8459#8459">PleaseSt</a></td></tr>
<tr d-ix="43"><td>055</td><td>Clojure</td><td>120926T015951Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8458#8458">mikera</a></td></tr>
<tr d-ix="44"><td>072</td><td>Clojure</td><td>120926T014736Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8457#8457">mikera</a></td></tr>
<tr d-ix="45"><td>123</td><td>C</td><td>120926T011032Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8456#8456">baby-rab</a></td></tr>
<tr d-ix="46"><td>026</td><td>GolfScript</td><td>120925T202552Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8452#8452">Peter Ta</a></td></tr>
<tr d-ix="47"><td>097</td><td>Python</td><td>120925T180433Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8448#8448">scleaver</a></td></tr>
<tr d-ix="48"><td>094</td><td>C</td><td>120925T161919Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8442#8442">Joe Iban</a></td></tr>
<tr d-ix="49"><td>077</td><td>PHP  77 Chars</td><td>120925T165437Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8445#8445">TwoScoop</a></td></tr>
<tr d-ix="50"><td>027</td><td>GolfScript</td><td>120925T122725Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8436#8436">Ilmari K</a></td></tr>
<tr d-ix="51"><td>041</td><td>R</td><td>120925T094203Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8434#8434">flodel</a></td></tr>
<tr d-ix="52"><td>077</td><td>Python</td><td>120925T093122Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8433#8433">sgrieve</a></td></tr>
<tr d-ix="53"><td>028</td><td>K</td><td>120925T082534Z</td><td><a href="https://codegolf.stackexchange.com/questions/8429/can-you-golf-golf/8430#8430">tmartin</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 15 bytes</h1>
<pre><code>+4°⍆⊂⊸¯⊚⊟⟜-⚂₁₀9
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_17_0-dev_1__KzTCsOKNhuKKguKKuMKv4oqa4oqf4p-cLeKaguKCgeKCgDkKCuKNpSgrNMKw4o2G4oqC4oq4wq_iipriip_in5wt4pqC4oKB4oKAOSkxMAo=" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>+4°⍆⊂⊸¯⊚⊟⟜-⚂₁₀9
               ⚂₁₀  # -&gt; randint in [0, 9]
           ⊟⟜-   9 # r -&gt; [r, 9-r]
         ⊚          # [p, q] -&gt; [p 0s, q 1s]
     ⊂⊸¯            # -&gt; [p 0s, q 1s, p -0s, q -1s]
+4°⍆                # shuffle and add 4 to each
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Swift 6, <s>83</s> 78 bytes</h1>
<pre class="lang-swift prettyprint-override"><code>print({[3:$0,5:$0,4:18-$0*2]}(.random(in:0...9)).flatMap([_].init).shuffled())
</code></pre>
<p><a href="https://swiftfiddle.com/iiy5cc3ggnbblbe3ve6guh3gjq" rel="nofollow noreferrer">Try it on SwiftFiddle!</a></p>
</div>
<div id="pu2" class="pu"><h1><s>TXR</s> TXR Lisp (<s>99 71</s> 69 chars)</h1>
<pre><code>(for((x(gun(+(rand 3)3)))y)((/=(sum y)72)y)((pop x))(set y[x 0..18]))
</code></pre>
<p>This expression generates an infinite lazy list of random numbers from 3 to 5:</p>
<pre><code>(gun (+ 3(rand 3)))  ;; gun -&gt; &quot;generate until null&quot;
</code></pre>
<p>The expression never produces <code>nil</code>, so the generation continues.</p>
<p>The rest of the logic is a simple loop which checks whether the first 18 elements of this list add up to 72. If not, it pops an element off and tries again. The <code>for</code> loop contains an implicit block called <code>nil</code> and so <code>(return ...)</code> can be used to terminate the loop and return value.</p>
<h2>Translation of Clojure (53 chars)</h2>
<pre><code>(find-if(opip sum(= 72))(tuples 18(gun(+(rand 3)3))))
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://raku.org" rel="nofollow noreferrer">Raku (Perl 6) (rakudo)</a>, <s>45</s> 43 bytes</h1>
<pre class="lang-perl prettyprint-override"><code>{my@x=(3..5).roll(18)until ([+] @x)==72;@x}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kKDG7dMHy3EoFtTQF26WlJWm6Fje1q3MrHSpsNYz19Ew19Yryc3I0DC00S_NKMnMUNKK1YxUcKjRtbc2NrB0qaiFalhYnViqkQdgLFkBoAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-perl prettyprint-override"><code>my@x=      # declare array
(3..5)     # range 3 to 5
.roll(18)  # create 18 random holes
until      # until....
([+] @x)   # the sum of the elements
==72;      # equals 72
say @x     # print array
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 16 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>@72nXx}f@3õ5 ö18
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=QDcyblh4fWZAM/U1IPYxOA" rel="nofollow noreferrer">Test it</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.gnu.org/software/gawk/" rel="nofollow noreferrer">AWK</a>, 88 bytes</h1>
<pre><code>END{for(srand();y-72;)for(y=i=0;i++&lt;18;)y+=b[i]=int(rand()*3)+3;for(;j++&lt;18;)print b[j]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m704sTx7wYKlpSVpuhY3I1z9XKrT8os0iosS81I0NK0rdc2NrDVBIpW2mbYG1pna2jaGFtaaldq2SdGZsbaZeSUaEKVaxpraxtYgldZZUEUFRUBphaTorNhaiPlQa2DWAQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 14 bytes</h1>
<pre><code>{:ṁ4≠|18ƛ3 6r℅
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCJ7OuG5gTTiiaB8MTjGmzMgNnLihIUiLCIiLCIiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>{              # While...
 :ṁ            # The mean of the current value
   4≠          # Isn't 4
     |         # Do...
      18ƛ      # Fill an array of 18 elements with...
         3 6r℅ # one of 3, 4, and 5.
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 16 bytes</h1>
<pre><code>[18Lε3LÌΩ}DO₆·Q#
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f8/2tDC59xWY5/DPedW1rr4P2pqO7Q9UPn/fwA" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1>Python 2, 70 bytes</h1>



<pre class="lang-python prettyprint-override"><code>from random import*
print sample(([3,5]*randint(0,9)+[4]*99)[:18],18)
</code></pre>

edit:

<p>Here's another one, similar to the solution of sgrieve:</p>

<h1>Python 2, 73 bytes + equal probability</h1>

<pre class="lang-python prettyprint-override"><code>from random import*
a=[]
while sum(a)-72:a=sample([3,4,5]*18,18)
print a
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://autohotkey.com/" rel="nofollow noreferrer">AHK</a>, 76 bytes</h1>
<pre><code>Loop{
s=
t=0
Loop,18{
Random,r,3,5
s:=r &quot; &quot;s
t+=r
}
If t=72
Break
}
Send,%s%
</code></pre>
<p>It's of the style to just loop forever until it happens to generate a list that totals 72 strokes.</p>
</div>
<div id="pu10" class="pu"><h2>Seriously, 32 bytes (noncompeting)</h2>

<pre><code>35k9Ju;)@nktd9-τ4nktW;lJ`\`np@WX
</code></pre>

<p>This language post-dates this challenge. Posted to prove the need for a shuffle command and perhaps a cons command. This uses the same solution as CJam roughly:</p>

<pre><code>35k                                 Push [5,3]
   9Ju                              Push a random number n from 1 to 9
      ;)                            Save a copy of it for later use.
        @n                          Make n copies of [5,3]
          (9-τ                      Transform n -&gt; 2*(9-n)
              4n                    Push that many 4's
                kt                  Compile all numbers into a list.
                  W         W       Until the list is empty:
                   ;lJ`\`np@        Pop a random element from it.
                             X      Discard empty list.
</code></pre>
</div>
<div id="pu11" class="pu"><h2>PARI/GP, 85 bytes</h2>

<pre><code>vecextract(Vec(partitions(72,[3,5],[18,18])[random(10)+1]),numtoperm(18,random(18!)))
</code></pre>

<p>This generates a random partition of 72 with 18 components ranging from 3 to 5. The probabilities are not uniform, from 1/10 for the all-4 vector to 1/171531360 for [3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5] and its permutations.</p>
</div>
<div id="pu12" class="pu"><h1>Octave, 37 bytes</h1>

<pre><code>while sum(x=2+randi(3,1,18))-72;end;x
</code></pre>

<p>It seems straight forward, (and I guess it is), but there are a few nifty tricks in here. It's 16 bytes shorter than the MATLAB answer, and I think it's hard to golf any further. </p>

<p>In Octave, you can initialize a variable inside a function call, or inside the <code>while</code> statement as done here. So, by doing <code>sum(x=2+randi(3,1,18))</code> I manage to continuously shuffle a vector of 18 elements with values <code>[3,4,5]</code> until the sum is 72. Instead of checking if this equals 72, we can subtract 72, and check if that's a truthy or a falsey value. Any non-zero values are considered truthy, so it will only stop when the sum is 72.
In the end, the loop stops and the vector is printed. </p>
</div>
<div id="pu13" class="pu"><p><strong>Python, <strike>128</strike> <strike>120</strike> 116 characters</strong></p>

<pre class="lang-python prettyprint-override"><code>import random,itertools
random.choice([g for g in itertools.product(*(range(3,6)for l in range(18))) if sum(g)==72])
</code></pre>

<p><em><code>import</code> statements are still length killers (23 characters only to import 2 function in the namespace)</em></p>

<p>i hope you do not need the result in a near future, as this code first evaluates all possible solutions before chosing one at random. maybe the slowest solution to this problem.</p>

<p>i do claim extra kudos for equal probability of each configuration...</p>
</div>
<div id="pu14" class="pu"><h1>JavaScript, <s>116</s> <s>99</s> 65 bytes</h1>



<p><s><code>for(i=0,h=[];i&lt;18;)h[i++]=5;while(h.reduce(function(a,b){return a+b})!=72){i=Math.random()*18|0;h[i]=[3,4,4][i%3]}h;</code></s></p>

<p><s><code>h=[0];while(h.reduce(function(a,b){return a+b})-72)for(i=0;i&lt;18;h[i++]=[3,4,5][Math.random()*3|0])h</code></s></p>

<pre class="lang-js prettyprint-override"><code>while(i%18||(a=[i=s=0]),s+=a[i++]=Math.random()*3+3|0,s-72|i-18)a
</code></pre>
</div>
<div id="pu15" class="pu"><h1>JavaScript, <s>66</s> <s>64</s> 61 chars</h1>



<p>Heavily inspired by TwoScoopsofPig (PHP) and Joe Tuskan (JS).</p>

<p><s></p>

<pre class="lang-js prettyprint-override"><code>for(a=[s=0];s!=72;)for(s=i=0;i&lt;18;s+=a[i++]=Math.random()*3+3|0);a
</code></pre>

<p></s>
<s></p>

<pre class="lang-js prettyprint-override"><code>for(a=[s=0];s-72;)for(s=i=0;i&lt;18;s+=a[i++]=Math.random()*3+3|0)a
</code></pre>

<p></s></p>

<pre class="lang-js prettyprint-override"><code>for(a=s=[];s;)for(i=18,s=72;i;s-=a[--i]=Math.random()*3+3|0)a
</code></pre>
</div>
<div id="pu16" class="pu"><h1>Javascript, <s>148</s> 143 bytes</h1>

<pre class="lang-js prettyprint-override"><code>t=[];d=0;while(d&lt;18){q=t.reduce(function(a,b){return a+b},z=0);while(!z||q+z+13-d*5&lt;0||q+z-d*3&gt;21)z=3+3*Math.random()|0;t.push(z);d++}alert(t)
</code></pre>
</div>
<div id="pu17" class="pu"><h2>Java: 389 bytes</h2>

<p>Run by calling the <code>b()</code> function.</p>

<pre class="lang-java prettyprint-override"><code>import java.util.*;public class a{Random b=new Random();int[]b(){int[]c=new int[18];int d=0;for(int i=0;i&lt;c.length;i++){int e=g(c.length-i,d);int f=h(c.length-i,d);c[i]=i(e,f);d=d+c[i];}
return c;}
int i(int j,int k){return b.nextInt((k-j)+1)+j;}
int g(int l,int m){int n=(l-1)*5;int o=72-m;int p=o-n;return p&lt;3?3:p;}
int h(int q,int r){int s=(q-1)*3;int t=72-r;int u=t-s;return u&gt;5?5:u;}}
</code></pre>
</div>
<div id="pu18" class="pu"><h2>CJam, <s>17</s> 14 bytes</h2>

<p>CJam is newer than this challenge, but this is not the shortest answer anyway, so that doesn't really matter.</p>

<pre><code>Z5]Amr*I4e]mrp
</code></pre>

<p><a href="http://cjam.aditsu.net/" rel="nofollow">Test it here.</a></p>

<p>To maintain the total of 72, each <code>3</code> must be paired with <code>5</code>. So here is how it works:</p>

<pre><code>Z5]            e# Push [3 5].
   Amr         e# Get a random number between 0 and 9.
      *        e# Repeat the [3 5] array that many times.
       I4e]    e# Pad the array to size 18 with 4s.
           mr  e# Shuffle the array.
             p e# Print it.
</code></pre>
</div>
<div id="pu19" class="pu"><h1>Mathematica <strike>71 68 66</strike> 60</h1>
<p>With 6 chars saved by Tally's suggestion.</p>
<pre><code>RandomSample@RandomChoice@IntegerPartitions[72, {18}, {3, 4, 5}]
</code></pre>
<blockquote>
<p>{5, 4, 3, 3, 5, 3, 5, 5, 3, 3, 4, 5, 3, 5, 4, 4, 5, 3}</p>
</blockquote>
<p>All possible outcomes are possible, but they are not equally likely.</p>
<hr />
<p><strong>Analysis</strong></p>
<pre><code>IntegerPartitions[72, {18}, {3, 4, 5}]
</code></pre>
<p>produces all 10 possible partitions (combinations, not permutations) of 72 into 18 elements consisting of 3's, 4's and 5's.</p>
<p><img src="https://i.sstatic.net/MpOBI.png" alt="partitions" /></p>
<hr />
<p><code>RandomChoice</code> selects one of those.</p>
<p><code>RandomSample</code> returns a permutation of that choice.</p>
</div>
<div id="pu20" class="pu"><h1>CJam, 31</h1>

<p>[Language was created after the question was posted]</p>

<p>Shamelessly long for CJam. It's basically a brute-force solution that keeps trying random configurations until it finds one that adds to 72.</p>

<pre><code>L{;L{3mr3+_U+:U;a+}I*U72=:U!}g`
</code></pre>
</div>
<div id="pu21" class="pu"><h1>Pyth, 18 bytes</h1>

<pre><code>#Jm+3O3U18IqsJ72JB
</code></pre>

<h2>How it works:</h2>

<pre><code>#                    infinite loop
       U18           generate the list [0, 1, ..., 17]
  m    U18           map every value of this list to
   +3O3              a random number between 3 and 5
 Jm+3O3U18           and assign the resulting list to J
          I          if
           qsJ72     the sum of J == 72
                J    print J
                 B   and exit the loop
</code></pre>
</div>
<div id="pu22" class="pu"><h1>R, 42 bytes</h1>

<pre><code>a=0;while(sum(a)-72)a=sample(3:5,18,r=T);a
</code></pre>

<p><code>sample</code>, by default, draws evenly among the possible values (here <code>3 4 5</code>). <code>r=T</code> stands for <code>replace=TRUE</code> and allows sample with replacement.</p>
</div>
<div id="pu23" class="pu"><h1>TI-BASIC, <a href="http://tibasicdev.wikidot.com/tokens" rel="nofollow noreferrer">13 bytes</a></h1>
<pre><code>3+3fPart(randIntNoRep(0,17)/3
</code></pre>
<p>Outputs list of 18 integers. Meets all specs and has equal probability for each case.</p>
</div>
<div id="pu24" class="pu"><h2>APL 12</h2>
<pre><code>4+{⍵,-⍵}?9⍴2
</code></pre>
<p>Note that I have the index origin set to 0, meaning arrays start at 0.  You can set this with <code>⎕IO←0</code>.</p>
</div>
<div id="pu25" class="pu"><h1>Perl 6 (42 bytes)</h1>

<pre><code>my@a=roll 18,3..5 while 72!= [+] @a;say @a
</code></pre>

<p>Probably too long to be acceptable, but at least the solution does exist. <code>roll</code> rolls the dice containing 3, 4, and 5. This generates numbers until the sum is equal to 72. I believe it can generate any course with equal probability (in theory), but considering pseudo-random number generators, it probably doesn't.</p>

<p>Sample output:</p>

<pre><code>~ $ perl6 -e 'my@a=roll 18,3..5 while 72!= [+] @a;say @a'
3 4 3 3 4 5 4 3 4 4 3 4 5 4 5 5 4 5
</code></pre>
</div>
<div id="pu26" class="pu"><h1>Mathematica, 45 chars</h1>
<pre><code>NestWhile[{3, 5}~RandomInteger~18 &amp;, {}, Tr@# != 72 &amp;]
</code></pre>
</div>
<div id="pu27" class="pu"><h2>Perl, 59</h2>

<pre><code>@a=map{3+rand 3|0}1..18 while 72!=eval join'+',@a;print"@a"
</code></pre>

<p>Not a winner by any means and could probably be improved still...</p>

<p><a href="http://www.perlmonks.org/?node_id=17439" rel="nofollow">Array sum method stolen from perlmonks</a>.</p>
</div>
<div id="pu28" class="pu"><p><strong>PowerShell - 59</strong></p>

<pre><code>while(($x|measure -s).sum-ne72){$x=1..18|%{3..5|random}};$x
</code></pre>
</div>
<div id="pu29" class="pu"><h2>VBA - 117</h2>

<p>VBA never wins at golf. :-)</p>

<pre><code>Sub a()
Do Until d=72
d=0
c=""
For b=1 To 18
e=Int(3*Rnd()+3)
c=c &amp;" " &amp;e
d=d+e
Next
Loop
MsgBox c
End Sub
</code></pre>
</div>
<div id="pu30" class="pu"><h2>Perl, 74</h2>

<pre><code>{@c=map{3+int rand 3}(0)x18;$s=0;$s+=$_ for@c;redo unless$s==72}print"@c"
</code></pre>

<p>Alternative solution:</p>

<pre><code>@q=((3,5)x($a=int rand 9),(4,4)x(9-$a));%t=map{(rand,$_)}(0..17);print"@q[@t{sort keys%t}]"
</code></pre>
</div>
<div id="pu31" class="pu"><h1>Haskell, <strike>104</strike> <strike>102</strike> 98 chars.</h1>

<pre><code>import System.Random
q l|sum l==72=print l|1&gt;0=main
main=mapM(\_-&gt;randomRIO(3::Int,5))[1..18]&gt;&gt;=q
</code></pre>
</div>
<div id="pu32" class="pu"><h2>16-bit x86 machine code under MS-DOS - 45 bytes</h2>

<p>Hexdump:</p>

<pre><code>0E5F576A12595188ECE44088C3E44130D8240374F400C4AAE2EF595E80FC2475DFAC0432CD29B020CD29E2F5C3
</code></pre>

<p>Base64 coded binary:</p>

<pre><code>Dl9XahJZUYjs5ECIw+RBMNgkA3T0AMSq4u9ZXoD8JHXfrAQyzSmwIM0p4vXD
</code></pre>

<p>Actual source code with some comments:</p>

<pre><code> bits 16
 org 0x100

again:
 push cs               ; Save whatever CS we get.
 pop di                ; Use CS:DI as our course buffer..
 push di               ; Save for later use in the print loop
 push 18               ; We need 18 holes for our golf course.
 pop cx                ; ch = 0, cl = 18.
 push cx               ; Save for later use.
 mov ah, ch            ; Zero out ah.
generate_course:
 in al, 0x40           ; Port 0x40 is the 8253 PIT Counter 0.
 mov bl, al            ; Save the first "random" value in bl.
 in al, 0x41           ; Port 0x41 is the 8253 PIT Counter 1.
 xor al, bl            ; Add some more pseudo randomness.
 and al, 3             ; We only need the two lower bits.
 jz generate_course    ; If zero, re-generate a value, since we need only 3, 4, 5 holes.
 add ah, al            ; Sum in ah register.
 stosb                 ; Store in the course buffer.
 loop generate_course  ; Loop for 18 holes.
 pop cx                ; cx = 18.
 pop si                ; si = course buffer.
 cmp ah, 36            ; 72 holes?
 jne again             ; No, re-generate the whole course.

print:                 ; Yup, we have a nice course.
 lodsb                 ; Load the next hole.
 add al, '2'           ; Add ASCII '2' to get '3', '4' or '5'
 int 0x29              ; Undocumented MS-DOS print function.
 mov al, ' '           ; Print a space too for better readability.
 int 0x29              ; Print the character.
 loop print            ; Print the whole course.
 ret                   ; Return to the beginning of the PSP where a INT 0x20 happen to be.
</code></pre>

<p>Compile with <code>nasm 18h.asm -o 18h.com</code> and run under MS-DOS (or Dosbox), or NTVDM from a 32-bit Windows version.</p>

<p>Sample output:</p>

<pre><code>4 5 4 5 4 5 3 4 3 4 3 4 4 5 4 3 5 3
</code></pre>
</div>
<div id="pu33" class="pu"><h1>Lisp (<s>78</s> 69 chars)</h1>
<p><s>(do((c()(mapcar(lambda(x)(+ 3(random 3)))(make-list 18))))((=(apply'+ c)72)c))</s></p>
<pre><code>(do((c()(loop repeat 18 collect(+ 3(random 3)))))((=(apply'+ c)72)c))
</code></pre>
<p>It's rather similar to sgrieve's Python solution.</p>
<p>Start with c as NIL, check for a sum of 72, the <code>do</code> &quot;increment function&quot; for c generates a list of 18 numbers between 3 and 5, check for 72 again, lather, rinse, repeat.</p>
<p>It's refreshing to see <code>do</code> and <code>loop</code> nicely play golf together.</p>
</div>
<div id="pu34" class="pu"><h2>Q (25 characters)</h2>

<p>Original (27)</p>

<pre><code>while[72&lt;&gt;sum a:18?3 4 5];a
</code></pre>

<p>Sample output</p>

<pre><code>4 4 3 3 4 5 4 3 4 5 5 3 5 5 5 4 3 3
</code></pre>

<p>Slightly shorter (25)</p>

<pre><code>{72&lt;&gt;sum x}{x:18?3 4 5}/0
</code></pre>
</div>
<div id="pu35" class="pu"><h1>C# (143 non-whitespace):</h1>

<pre><code>()=&gt;{
  var n=new Math.Random().Next(10);
  Enumerable.Range(1,18)
    .Select((x,i)=&gt;i&lt;n?3:i&gt;=18-n?5:4)
    .OrderBy(x=&gt;Guid.NewGuid())
    .ForEach(Console.Write);
}
</code></pre>
</div>
<div id="pu36" class="pu"><h1>k (<s>18 17</s> 16 chars)</h1>

<p>Back to the original approach, credit to CS for the improvement.</p>

<pre><code>(+/4-){3+18?3}/0
</code></pre>

<p>Other approach (17 chars), same method as the J solution, H/T to CS</p>

<pre><code>4+a,-a:9?2 -18?18
</code></pre>

<p><s>Old version:</p>

<pre><code>(72-+/){18?3+!3}/0
</code></pre>

<p></s></p>

<p>Not susceptible to stack-overflow and runs in fixed amount of space.</p>
</div>
<div id="pu37" class="pu"><h2>J, <strike>20</strike> <strike>18</strike> 17 characters</h2>

<pre><code>(?~18){4+(,-)?9#2
</code></pre>

<p>This works in the same way as the previous answer except that the 9 random digits are either 0 or 1 and are negated before being appended. This means there are as many <code>-1</code>s as there are <code>1</code>s. Adding 4 gives me a list of <code>3</code>s, <code>4</code>s and <code>5</code>s that add up to 72 every time.</p>

<p>Previous answer:</p>

<pre><code>({~?~@#)3+(,2-])?9#3
</code></pre>

<p>Generates the first 9 holes randomly <code>?9#3</code>, then copies and inverts them <code>(,2-])</code> (turns a 3 into a 5 and a 5 into a 3) to generate the final 9. This guarantees that the total will be 72 (since every 3 will have a matching 5 the average total per hole will be 4 and 4x18=72). It then randomly shuffles the result <code>({~?~@#)</code> to ensure that every combination is possible.</p>
</div>
<div id="pu38" class="pu"><h1>Java (61 chars)</h1>
<pre><code>while(s!=72)for(i=0,s=0;i&lt;18;i++)s+=3+(int)(Math.random()*3);
</code></pre>
<p>Sample output:</p>
<pre><code>5 4 3 4 5 3 4 4 3 5 4 4 4 4 3 4 4 5
</code></pre>
</div>
<div id="pu39" class="pu"><h1>Ruby 1.9 (62 chars)</h1>

<pre><code>a=Array.new(18){[3,4,5].sample}until(a||[]).inject(:+)==72
p a
</code></pre>

<h1>Rails (55 chars)</h1>

<p>In the <code>$ rails c</code> REPL (in any Rails folder):</p>

<pre><code>a=Array.new(18){[3,4,5].sample}until(a||[]).sum==72
p a
</code></pre>

<p><em>Note: It works with Ruby 1.8 if you use <code>shuffle[0]</code> instead of <code>sample</code>.</em></p>
</div>
<div id="pu40" class="pu"><h1>Python 83</h1>

<pre><code>import random as r;x=[]
while sum(x)!=72:x=[r.randint(3,5) for i in 18*[0]]
print x
</code></pre>

<p>Like sgrieve's solution, but without numpy</p>

<p><strong>Golfing Adrien Plisson's solution:</strong>
120->108 characters</p>

<pre><code>import random as r,itertools as i
r.choice([g for g in i.product(*([3,4,5,6]for l in 18*[0]))if sum(g)==72])
</code></pre>

<h1>MATLAB 53</h1>

<pre><code>x=[];
while sum(x)~=72
x=3+floor(rand(1,18)*3);
end
x
</code></pre>

<p><strong>Output</strong>:</p>

<blockquote>
  <p>x =
       4     3     4     4     4     4     5     4     4     3     4     4     3     5     3     5     4     5</p>
</blockquote>
</div>
<div id="pu41" class="pu"><h1>Groovy</h1>

<p><strong>126 chars</strong></p>

<p><strike></p>

<pre><code>def a=[];while(1){(new Random().nextInt(3)!=1&amp;&amp;a.size()&lt;17?a&lt;&lt;3&lt;&lt;5:a&lt;&lt;4);if(a.size()==18)break};Collections.shuffle(a);print a
</code></pre>

<p></strike>
... ooooh, what a waste of chars :)</p>

<p><strong>110 chars</strong></p>

<pre><code>def a=[];while(a.size()&lt;18){(new Random().next(2)&gt;1&amp;&amp;a.size()&lt;17?a&lt;&lt;3&lt;&lt;5:a&lt;&lt;4)};Collections.shuffle(a);print a
</code></pre>
</div>
<div id="pu42" class="pu"><h2>Bash shell script (65 chars)</h2>

<pre><code>shuf -e `for x in {0..8}
do echo $((r=RANDOM%3+3)) $((8-r))
done`
</code></pre>

<p>(<a href="//www.gnu.org/software/coreutils/manual/html_node/shuf-invocation.html">shuf</a> comes from the GNU coreutils package. Also, thanks Gareth.)</p>
</div>
<div id="pu43" class="pu"><h1>Clojure - 55</h1>

<pre><code>(shuffle(mapcat #([[4 4][3 5]%](rand-int 2))(range 9)))
</code></pre>

<p>Quite a fun trick.... exploits the mathematical structure of the problem that there must be exactly as many 3 par holes as 5 par holes.</p>
</div>
<div id="pu44" class="pu"><h1>Clojure - 72 chars</h1>

<p><code>(some #(if(=(apply +%)72)%)(partition 18(repeatedly #(+(rand-int 3)3))))</code></p>

<p>Would be much shorter if Clojure didn't have such flowery descriptive function names :-)</p>
</div>
<div id="pu45" class="pu"><h2>C (123 chars) - effort on efficiency</h2>

<p>Pipe through wc and it will generate all 44152809 solutions within 10 seconds...</p>

<pre><code>char s[19];g(d,t){int i;if(d--){for(i=51,t-=3;i&lt;54;i++,t--)if(t&gt;=3*d&amp;&amp;t&lt;=5*d)s[d]=i,g(d,t);}else puts(s);}main(){g(18,72);}
</code></pre>

<p>Oh, well - didn't read the question properly - but given we're generating all solutions then picking a random one with equal probability is a scripting exercise :P</p>
</div>
<div id="pu46" class="pu"><h2>GolfScript (26 chars)</h2>

<pre><code>{;0{3rand.3+@@+(}18*])}do`
</code></pre>

<p>There are some obvious similarities with Ilmari's solution, but also some obvious differences. In particular, I'm exploiting the fact that the average par is 4.</p>
</div>
<div id="pu47" class="pu"><h1>Python, 97</h1>

<p>Using a different method than the rejection sampling, this picks a random list of indices of random even length and alternates adding and subtracting to the elements at these indices.</p>

<pre><code>from random import*;a=[4]*18;d=1
for i in sample(range(18),2*randint(0,9)):a[i]+=d;d=-d
print a
</code></pre>
</div>
<div id="pu48" class="pu"><h1>C (94 chars)</h1>
<pre><code>int h[18],s=0,i;
while(s!=72)for(i=s=0;i&lt;18;s+=h[i++]=rand()%3+3);
while(i)printf(&quot;%d &quot;,h[--i]);
</code></pre>
<p>The <code>s=0</code> on line 1 may not be required, because what are the chances an uninitialized int will equal 72?  I just don't like reading uninitialized values in straight C.  Also, this probably requires seeding the <code>rand()</code> function.</p>
<h2>output</h2>
<pre><code>3 3 3 4 5 5 3 3 4 5 5 4 3 4 5 5 5 3 
</code></pre>
</div>
<div id="pu49" class="pu"><h1>PHP - 77 Chars</h1>
<pre><code>&lt;?while(array_sum($a)!=72){for($i=0;18&gt;$i;){$a[++$i]=rand(3,5);}}print_r($a);
</code></pre>
<p>Much like sgrieve's solution, this builds a list of 18 holes, checks total par, and either prints it or rejects it and tries again. Oddly enough, our two solutions are the same length.</p>
<p>Rather annoyingly, PHP doesn't offer array functions with any brevity of name. Array_sum and print_r are killing me. Suggestions welcome.</p>
</div>
<div id="pu50" class="pu"><h2>GolfScript, 27 chars</h2>

<pre><code>{;18{3.rand+}*].{+}*72-}do`
</code></pre>

<p>Uses the same rejection sampling method as sgrieve's Python solution.  Thus, every valid output actually is equally likely.</p>
</div>
<div id="pu51" class="pu"><h2>R - 41</h2>

<pre><code>x=0;while(sum(x)!=72)x=sample(3:5,18,T);x

# [1] 5 3 5 3 3 3 3 3 5 4 5 4 5 4 4 5 5 3
</code></pre>

<p>The algorithm is similar to @sgrieve's.</p>
</div>
<div id="pu52" class="pu"><h1>Python 77</h1>
<p><strong>Code</strong></p>
<pre><code>from numpy.random import*;l=[]
while sum(l)!=72:l=randint(3,6,18)
print l
</code></pre>
<p><strong>Output</strong></p>
<pre><code>[3 4 4 5 3 3 3 5 4 4 5 4 5 3 4 4 5 4]
</code></pre>
<p>The import really kills this solution. It uses numpy to generate a 18 numbers between 3 and 5 and keeps generating lists until the sum of the list equals 72.</p>
</div>
<div id="pu53" class="pu"><h1>K, 28</h1>

<pre><code>{$[72=+/s:18?3 4 5;s;.z.s`]}
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/8429/">8429</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




