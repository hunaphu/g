<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276637</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>016</td><td>Jelly</td><td>241112T191154Z</td><td><a href="https://codegolf.stackexchange.com/questions/276637/perfect-ruler-search/276649#276649">Jonathan</a></td></tr>
<tr d-ix="1"><td>026</td><td>Pyth</td><td>241112T164159Z</td><td><a href="https://codegolf.stackexchange.com/questions/276637/perfect-ruler-search/276643#276643">CursorCo</a></td></tr>
<tr d-ix="2"><td>039</td><td>K ngn/k</td><td>241112T162934Z</td><td><a href="https://codegolf.stackexchange.com/questions/276637/perfect-ruler-search/276642#276642">att</a></td></tr>
<tr d-ix="3"><td>033</td><td>05AB1E</td><td>241112T155233Z</td><td><a href="https://codegolf.stackexchange.com/questions/276637/perfect-ruler-search/276641#276641">Kevin Cr</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 16 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>‘ŒPŒcIQLƲÐṀLÐṂṬṚ
</code></pre>
<p>A monadic Link that accepts the ruler length, <span class="math-container">\$N\$</span>, and yields all perfect rulers of length <span class="math-container">\$N\$</span> as lists of binary marks ordered numerically.</p>
<p><strong><a href="https://tio.run/##y0rNyan8//9Rw4yjkwKOTkr2DPQ5tunwhIc7G3xAZNPDnWse7pz1//9/MwA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##AUAAv/9qZWxsef//4oCYxZJQxZJjSVFMxrLDkOG5gEzDkOG5guG5rOG5mv/Dh1bFkuG5mOKBuCxq4oG@OsK2KVn//zEy" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h4>How?</h4>
<pre><code>‘ŒPŒcIQLƲÐṀLÐṂṬṚ - Link: non-negative integer, N
‘                - increment {N} -&gt; N+1
 ŒP              - powerset {[1..N+1]}
                   -&gt; [[],[1],[2],...,[N+1],[1,2],[1,3],...,[1..N+1]]
         ÐṀ      - keep those maximal under:
        Ʋ        -   last four links as a monad:
   Œc            -     unordered pairs
     I           -     forward deltas
      Q          -     deduplicate
       L         -     length
            ÐṂ   - keep those minimal under:
           L     -   length
              Ṭ  - untruth (convert each to their binary representation)
               Ṛ - reverse (equivalent to sorting by binary representation)
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 26 bytes</h1>
<pre><code>.mSbf.Amsm}`11%hd&gt;TkQQ^`Th
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/Xy83OClNzzG3OLc2wdBQNSPFLiQ7MDAuIQQoZwYA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
<p>Alternatively <a href="https://tio.run/##K6gsyfj/P0svNzgpTc8xtzi3NsHQUDUjxS4kOzAwLiEEKGkGAA" rel="nofollow noreferrer">+1 byte to seperate by newlines</a>.</p>
<h3>Explanation</h3>
<pre><code>.mSbf.Amsm}`11%hd&gt;TkQQ^`ThQ    # implicitly add Q
                               # implicitly assign Q = eval(input())
                       `T      # string &quot;10&quot;
                      ^  hQ    # Q+1 times repeated cartesian product (this generates all binary strings of lenght Q+1)
    f                          # filter list on lambda T
       m             Q         #   map range(Q) over lambda d
         m          Q          #     map range(Q) over lambda k
          }`11                 #       check whether &quot;11&quot; is in
              %hd              #       the string made from taking every (d+1)-th character of
                 &gt;Tk           #       T[k:]
        s                      #     sum (check if at least one boolean is true) the following
     .A                        #   check if all items in list are truthy
.m                             # filter for elements which minimize lambda b
  Sb                           #   sort the characters in b
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>44</s> <s>43</s> 39 bytes</h1>
<pre><code>*&lt;==!/+/'\{'[#x^/-/:/2#,&amp;:]_+!x:'2}@!1+
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxLs9KysbVV1NfWV4+pVo9WrojT19W30jdS1lGzio3XVqywUjeqdVA01ObiSlMwBGIjIDYGYhMgNgViMyA2B2ILAHZtD/Q=" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>                                    !1+ range 0..n
          {                       }@    complete rulers:
                            +!x:'2        n+1-d range (0...)..(1...)
           '[             ]_              keep where
                 -/:/2#,&amp;:                  distances
             #x^/                           superset of range 0..n
   =!/+/'\                              group by #marks
*&lt;=                                     min
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 33 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>&gt;EÝN.Æεœ.Δ.ÆíÆêILQ}}®KZdiIÝδå{që\
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/fzvXwXD@9w23nth6drHduCpB1eC0Qr/L0CaytPbTOOyol0/Pw3HNbDi@tLjy8Oub/f9P/urp5@bo5iVWVAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W/u6mevpPCobZKCkr2fS@h/O9eIw3P99A63ndt6dLLeuSlA1uG1QLwqwiewtvbQOu@olEyginNbDi@tPt12eHXMf6Do@gt7D23R@f9fVzcvXzcnsaoSAA" rel="nofollow noreferrer">verify <span class="math-container">\$n\$</span> in the range 1-7</a>.</p>
<p>If binary-strings are mandatory, a <code>J</code> can be added after the <code>{</code> for +1 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">byte</a>:<br />
<a href="https://tio.run/##yy9OTMpM/f/fzvXwXD@9w23nth6drHduCpB1eC0Qr/L0CaytPbTOOyol0/Pw3HNbDi@t9io8vDrm/3/T/7q6efm6OYlVlQA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W/u6mevpPCobZKCkr2fS@h/O9eIw3P99A63ndt6dLLeuSlA1uG1QLwqwiewtvbQOu@olEyginNbDi@t9jrddnh1zH@g8PoLew9t0fn/X1c3L183J7GqEgA" rel="nofollow noreferrer">verify <span class="math-container">\$n\$</span> in the range 1-7</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-none prettyprint-override"><code>&gt;                  # Increase the (implicit) input by 1
                   # (for edge-cases n=1 and n=2 that have larger output-rulers)
 E                 # Loop `N` in the range [1,input+1]:
  Ý                #  Push a list in the range [0,(implicit) input]
   N.Æ             #  Pop and push a list of all `N`-sized combinations
      ε            #  Map over each inner list:
       œ           #   Get all permutations of this list
        .Δ         #   Get the first that's truthy for:
                   #   (or -1 if none are truthy)
          .Æ       #    Pop the list and get all combination-pairs
            í      #    Reverse each inner pair
             Æ     #    And then reduce each pair by subtracting
                   #    (these are all sizes this ruler can measure)
              ê    #    Uniquify and sort it
               IL  #    Push a list in the range [1,input]
                 Q #    Check that the two lists are the same
         }         #   Close the find_first
      }            #  Close the map
       ®K          #  Remove all -1s
         Zdi       #  If valid rulers have been found:
            IÝ     #   Push a list in the range [0,input] again
              δ    #   Apply double-vectorized:
               å   #    Check for each value in [0,input] if it's in the ruler
                   #   (we now have a list of binary-lists)
                {  #   Sort this list of binary-lists
                 q #   Stop the program
                   #   (after which the list of binary-lists is output implicitly)
           ë       #  Else:
            \      #   Discard the empty list (so we can use the implicit input
                   #   for the next iteration again)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276637/">276637</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




