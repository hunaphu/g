<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276637</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>044</td><td>K ngn/k</td><td>241112T162934Z</td><td><a href="https://codegolf.stackexchange.com/questions/276637/perfect-ruler-search/276642#276642">att</a></td></tr>
<tr d-ix="1"><td>033</td><td>05AB1E</td><td>241112T155233Z</td><td><a href="https://codegolf.stackexchange.com/questions/276637/perfect-ruler-search/276641#276641">Kevin Cr</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 44 bytes</h1>
<pre><code>*&lt;==!/+/'\{'[#x^,/-/:/2#,&amp;:]_+1,2\!2/~x}@!1+
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxLs9KysbVV1NfWV4+pVo9WrojT0dfVt9I3UtZRs4qN1zbUMYpRNNKvq6h1UDTU5uJKUzAEYiMgNgZiEyA2BWIzIDYHYgsA15ERVw==" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 33 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>&gt;EÝN.Æεœ.Δ.ÆíÆêILQ}}®KZdiIÝδå{që\
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/fzvXwXD@9w23nth6drHduCpB1eC0Qr/L0CaytPbTOOyol0/Pw3HNbDi@tLjy8Oub/f9P/urp5@bo5iVWVAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W/u6mevpPCobZKCkr2fS@h/O9eIw3P99A63ndt6dLLeuSlA1uG1QLwqwiewtvbQOu@olEyginNbDi@tPt12eHXMf6Do@gt7D23R@f9fVzcvXzcnsaoSAA" rel="nofollow noreferrer">verify <span class="math-container">\$n\$</span> in the range 1-7</a>.</p>
<p>If binary-strings are mandatory, a <code>J</code> can be added after the <code>{</code> for +1 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">byte</a>:<br />
<a href="https://tio.run/##yy9OTMpM/f/fzvXwXD@9w23nth6drHduCpB1eC0Qr/L0CaytPbTOOyol0/Pw3HNbDi@t9io8vDrm/3/T/7q6efm6OYlVlQA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W/u6mevpPCobZKCkr2fS@h/O9eIw3P99A63ndt6dLLeuSlA1uG1QLwqwiewtvbQOu@olEyginNbDi@t9jrddnh1zH@g8PoLew9t0fn/X1c3L183J7GqEgA" rel="nofollow noreferrer">verify <span class="math-container">\$n\$</span> in the range 1-7</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-none prettyprint-override"><code>&gt;                  # Increase the (implicit) input by 1
                   # (for edge-cases n=1 and n=2 that have larger output-rulers)
 E                 # Loop `N` in the range [1,input+1]:
  Ý                #  Push a list in the range [0,(implicit) input]
   N.Æ             #  Pop and push a list of all `N`-sized combinations
      ε            #  Map over each inner list:
       œ           #   Get all permutations of this list
        .Δ         #   Get the first that's truthy for:
                   #   (or -1 if none are truthy)
          .Æ       #    Pop the list and get all combination-pairs
            í      #    Reverse each inner pair
             Æ     #    And then reduce each pair by subtracting
                   #    (these are all sizes this ruler can measure)
              ê    #    Uniquify and sort it
               IL  #    Push a list in the range [1,input]
                 Q #    Check that the two lists are the same
         }         #   Close the find_first
      }            #  Close the map
       ®K          #  Remove all -1s
         Zdi       #  If valid rulers have been found:
            IÝ     #   Push a list in the range [0,input] again
              δ    #   Apply double-vectorized:
               å   #    Check for each value in [0,input] if it's in the ruler
                   #   (we now have a list of binary-lists)
                {  #   Sort this list of binary-lists
                 q #   Stop the program
                   #   (after which the list of binary-lists is output implicitly)
           ë       #  Else:
            \      #   Discard the empty list (so we can use the implicit input
                   #   for the next iteration again)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276637/">276637</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




