<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::277636</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>115</td><td>Python</td><td>250114T125736Z</td><td><a href="https://codegolf.stackexchange.com/questions/277636/ranking-of-binary-trees/277643#277643">Mukundan</a></td></tr>
<tr d-ix="1"><td>094</td><td>Maple</td><td>250114T220509Z</td><td><a href="https://codegolf.stackexchange.com/questions/277636/ranking-of-binary-trees/277658#277658">dharr</a></td></tr>
<tr d-ix="2"><td>004</td><td>Jelly</td><td>250114T163145Z</td><td><a href="https://codegolf.stackexchange.com/questions/277636/ranking-of-binary-trees/277652#277652">Unrelate</a></td></tr>
<tr d-ix="3"><td>042</td><td>Charcoal</td><td>250114T180438Z</td><td><a href="https://codegolf.stackexchange.com/questions/277636/ranking-of-binary-trees/277655#277655">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 115 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda n:[*permutations(range(n))].index((t:=lambda x:x&lt;n and(x,)+t(2*x+1)+t(2*x+2)or())(0))
from itertools import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=NY1BDoIwEEX3nGJWZgbQCHFhGjmJuqih1SYwbcqQ1LO4YYN38jaagH_z_uIl7_UOT3l4nmYLDVzmUez2-Bk63d9aDazOeTCxH0WL8zxg1Hw3yETXnePWJERRzSonlU4MmltMJRWCdZ6K6n9q8hGJcE-U2eh7cGKieN8N4Prgo-RremN9BAeOYWkdSqgqUhn8FqJjQYuOaLGnaeEX" rel="nofollow noreferrer">Attempt This Online!</a></p>
<hr />
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <sup><s>93</s></sup> 91 bytes</h1>
<p><em>-2 bytes thanks to <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">@Jonathan Allan</a> by realizing we can use the range [0, n] instead of [1, n]</em></p>
<pre class="lang-python prettyprint-override"><code>lambda n:[*permutations(r:=range(n+1))].index((*sorted(r,key=bin),))
from itertools import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LY0xDoJAEEV7TjGV2UE0IbEwJJwELJawqxPZ2c0wJHIWGxq8k7eRBF_zm5f_3p806yPysnqooV0n9afrtxls6HoLXDV5chImtUqRRyNVLZbvzvCxRLydiXv3MiYfo6jrjRRPN9cdMRaImZcYgNSJxjiMQCFtVv5PHHwUICCG_fBSQFlilcFGEmI13hDibi_Lvj8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/277652/91267">Unrelated String's amazing answer</a></p>
<hr />
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> + <a href="https://docs.sympy.org/latest/index.html" rel="nofollow noreferrer">SymPy</a>, <sup><s>111</s></sup> 88 bytes</h1>
<p><em>-23 bytes thanks to <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">@Jonathan Allan</a> by switching to @Unrelated String's approach</em></p>
<pre class="lang-python prettyprint-override"><code>lambda n:Permutation(sorted(range(n+1),key=bin)).rank()
from sympy.combinatorics import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LYw7DsIwEER7TrEdNoQooUKRcgdKChonsWEVvGttnMJnoUkT7sRtsBSmGWk-7_0JKT6ZltVBC_d1ju50-d5exneDAWquVvwcTUQmNbFEOygx9LCKjrUuRpvaDknrMoej0jsn7GFKPqSyZ58rE1mwnwB9yO_Dn793LICABBusLuBcVbrZQVYQpKicQq23-bJs_gM" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Use of sympy was inspired by the program provided in <a href="https://oeis.org/A379905" rel="nofollow noreferrer">A379905</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.maplesoft.com/" rel="nofollow noreferrer">Maple</a>, 94 bytes</h1>
<pre><code>proc(n)sort(convert~([$n],binary),key=String);combinat:-rankperm(convert~(%,decimal,2))-1;end;
</code></pre>
<p>This is @Unrelated String's nice algorithm. Take [1,...,n], convert to binary, sort in string (lex) order, convert back to decimal, and find the rank (builtin).</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, <s>8</s> 4 bytes</h1>
<pre><code>BÞŒ¿
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/9/p8Lyjkw7t/3@4/VHDTM3I//8NDQA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p><em>-4 because WHY exactly did I think Hamming weight was involved again??</em></p>
<p>Returns the rank 1-indexed, but the test harness converts to 0-indexed for convenience.</p>
<pre><code> Þ      Sort [1 .. n] by lexicographic comparisons of
B       their binary digits.
  Œ¿    Builtin permutation index.
</code></pre>
<h3>Intuition:</h3>
<p>If you label the nodes with <span class="math-container">\$[1, n]\$</span> instead of <span class="math-container">\$[0, n-1]\$</span>, the labels at each &quot;tier&quot; of the tree all have the same length in bits:</p>
<pre><code>                    1
                .../ \...
           ..../         \....
          /                   \
         10                   11
        /  \                 /  \
       /    \               /    \
      /      \             /      \
     /        \           /        \
   100        101       110        111
  /   \      /   \     /   \      /   \
1000 1001  1010 1011 1100 1101  1110 1111 
</code></pre>
<p>and not only that, but the tree is a prefix tree of the binary representations--the direct children of every node are labeled with precisely its label with either 0 or 1 appended. Hence, lexicographic comparison of the bits will sort correctly within each tier, sort all nodes after their immediate parents, and sort all nodes before later nodes than their parents in their parents' tier.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 42 bytes</h1>
<pre><code>≔ＥＮ↨⊕ι²θＷ⁻θυ⊞υ⌈ιＵＭυ↨ι²≔⁰ηＷυ≔⁺×ηＬυ№÷υ⊟υ⁰ηＩη
</code></pre>
<p><a href="https://tio.run/##RY6xDsIwDER3viKjIwUJMSF1grIgUdSBHwitRSw1aWli4O@DU5BYbrg7v3Pn7NyNdsh5HyPdAzR2glOYOF3Y33AGbdTBRhSvm9FjSNgDibnVIg9drV6OBlTQUOAID6NYa9VydMBGNfZNnr0cSFHI9ei9DX2JFigtnGr1294Y5f5E1urnt4Ogr@QxgjPqjOGeBF8eqEcOSX5LR3pSjwXcjtM32xQpvHYmKdU2JnCylvMur5/DBw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Uses @UnrelatedString's observation.</p>
<pre><code>≔ＥＮ↨⊕ι²θ
</code></pre>
<p>Generate the binary representations of the numbers <code>1..n</code>.</p>
<pre><code>Ｗ⁻θυ⊞υ⌈ι
</code></pre>
<p>Sort them in descending order, because it's golfier to calculate the rank of the reverse of a list.</p>
<pre><code>ＵＭυ↨ι²
</code></pre>
<p>Convert them back to decimal.</p>
<pre><code>≔⁰ηＷυ≔⁺×ηＬυ№÷υ⊟υ⁰ηＩη
</code></pre>
<p>Compute the rank. This code was inspired by the Java code on the linked Rosetta Code page.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/277636/">277636</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




