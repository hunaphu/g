<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::2225</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>219</td><td>Nim</td><td>250330T203320Z</td><td><a href="https://codegolf.stackexchange.com/questions/2225/textual-maze-solver/278995#278995">janAkali</a></td></tr>
<tr d-ix="1"><td>300</td><td>Python3</td><td>250330T151544Z</td><td><a href="https://codegolf.stackexchange.com/questions/2225/textual-maze-solver/278989#278989">Ajax1234</a></td></tr>
<tr d-ix="2"><td>270</td><td>Python 3</td><td>191108T104203Z</td><td><a href="https://codegolf.stackexchange.com/questions/2225/textual-maze-solver/195508#195508">Jitse</a></td></tr>
<tr d-ix="3"><td>022</td><td>05AB1E legacy</td><td>200306T161819Z</td><td><a href="https://codegolf.stackexchange.com/questions/2225/textual-maze-solver/200668#200668">Grimmy</a></td></tr>
<tr d-ix="4"><td>244</td><td>Ruby 1.9</td><td>110425T111531Z</td><td><a href="https://codegolf.stackexchange.com/questions/2225/textual-maze-solver/2239#2239">Ventero</a></td></tr>
<tr d-ix="5"><td>368</td><td>ANSI C</td><td>110425T023737Z</td><td><a href="https://codegolf.stackexchange.com/questions/2225/textual-maze-solver/2236#2236">Jonathan</a></td></tr>
<tr d-ix="6"><td>339</td><td>Python</td><td>110425T055833Z</td><td><a href="https://codegolf.stackexchange.com/questions/2225/textual-maze-solver/2238#2238">Keith Ra</a></td></tr>
<tr d-ix="7"><td>421</td><td>Python</td><td>110424T223047Z</td><td><a href="https://codegolf.stackexchange.com/questions/2225/textual-maze-solver/2232#2232">Champo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nim-lang.org" rel="nofollow noreferrer">Nim</a>, 219 bytes</h1>
<p>Basically, a recursive flood fill.<br />
Outputs to stderr.</p>
<pre class="lang-none prettyprint-override"><code>var
 m=stdin.readall
 l=1+m.find'\n'
 c=0
template d:auto=(if c&gt;3:quit m else:return)
proc f(i=0)=((if i&lt;0 or i&gt;m.high:d);case m[i]
of'\n':d
of' ':m[i]='*'
of'@':l=l
else:return
c+=1
f i+1;f i-1;f i+l;f i-l)
f m.find'@'
</code></pre>
<p><a href="https://wandbox.org/permlink/XWRzTVynGYKTA7DW" rel="nofollow noreferrer">Try it online in wandbox!</a></p>
<p>Example output for two inputs:</p>
<pre><code>####   
#  #   
@*#####
#*****#
#    **
#######

###*###################
###*********#*********#
##**#########******#**#
 #*************#####**#
 ###############   #@##
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Python3, 300 bytes</h1>
<pre class="lang-py prettyprint-override"><code>E=enumerate
def f(b):
 d={(x,y):v for x,r in E(b)for y,v in E(r)}
 q=[(*i,[i])for i in d if'@'==d[i]]
 for x,y,p in q:
  for X,Y in[(1,0),(-1,0),(0,1),(0,-1)]:
   if(N:=(x+X,y+Y))not in d and' '==d[(x,y)]:
    for J,K in p[1:]:b[J][K]='*'
    return b
   if' '==d.get(N)and N not in p:q+=[(*N,p+[N])]
</code></pre>
<p><a href="https://tio.run/##jVFNawIxED03v2LQQxKN4loKZSHgxYvCnpU0FGV32xTNxuwqLqW/3eZjtZZeOodM5r03b7I7pm3eK/34bOzlMueFPu4Lu2kKlBcllGRLUwQ5/yRn1tL0BGVl4cwsKA1zR/qyZadYWvqF4MAFGSgmlAyk8lQOqsQzzHnuYIk6k5YZTx7cgICs2NrVgiRsQhkZxTRhSThHCZVe6JxIlnJyHq5YO1xTqqsmjtjoHEOYEd4a1cF4wZZeYkSSynQrFlIsJccDHAS2aI5WwzZ6R4fxW9GQjDpHyKAbYNLD0H9axsxQZJLKS53wXq@H@i5cL3JHyDPwSN/XLq4Zgs7jvqeeAoeuGfp/A0XPGHc35OGb6kb30Z0oYJH2@O/w3Kx7hF9wU71uq43NSe32/ND9CyEGSsJte6XaNYUlWaULBvW4NjvVEPyiMaUSIWOVjuX4o1Ka7DeG4HhnJfnxT6iPq3yEB08T@u/maWi@fAM" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 270 bytes</h1>

<pre class="lang-python prettyprint-override"><code>import sys
def q(g,*s):w=len(g[0])+1;k='@'.join(g)+w*'@';*p,x=s or[k.find('#')];return'@'&gt;k[x]and{x}-{*p}and[p,min((q(g,*s,x+a)or k for a in(-1,1,-w,w)),key=len)]['*'&gt;k[x]]
g=''.join(sys.stdin.read());s=q(g.split('\n'))
for i,c in enumerate(g):print(end=[c,'+'][i in s])
</code></pre>
<p><a href="https://tio.run/##ZU/BboQgFLz7FSR7gKdoanpbw4b/oBzMipa6IgU2ajb77RZru9mmk0AeM5N5g13C@2he11UPdnQB@cUnjWrRJ@lo6uE4sYsypBMvErKy6hnmuPgYdaQgm9L4qlJLZ@bR6ERftNo0BB8wyMqpcHUmGk69mGVtmtt8z2@pvcdRWDrECLIvoXNWw@hQj9p41ygqeUlLmk90AqC9WrYOIAVO9zCZdAz/1Ih9Cx8abQqn6oYAVJ7F2MLbiw4EvxkMkGy5mp5jMlLmOihXBxU/cLROm0CUaZg4U5xhKfTm8RLWlXOe8v9I4kG/eJqSjX64HjJPnkzf3C5v/F9s2oHzLw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Port of my answer to <a href="https://codegolf.stackexchange.com/a/195042/87681">Find the shortest route on an ASCII road</a>.</p>
<p>Uses <code>'#'</code> for start, <code>'*'</code> for end, <code>'@'</code> for wall and <code>' '</code> for empty space. In this, the function <code>q</code> is a helper function which returns a one-dimensional array with the shortest path in the maze. Function <code>f</code> can be shortened 4 bytes by not assigning the variable <code>s</code>. This is incredibly inefficient and will likely time out, since it calls the path-finding function for each character in the maze.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/tree/fb4a2ce2bce6660e1a680a74dd61b72c945e6c3b" rel="nofollow noreferrer">05AB1E (legacy)</a>, <s>23</s> 22 bytes</h1>

<pre><code>[¾#4Føí„ *„@*δJ`:¬'*¢½
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/V/zP/rQPmUTt8M7Dq991DBPQQtIOGid2@KVYHVojbrWoUWH9v6PPbT7v7KysoIyJuACicMAEosLJAxXBZdW5kJSBBaDSIPEUQFIzkFZGQA" rel="nofollow noreferrer" title="05AB1E (legacy) – Try It Online">Try it online!</a></p>

<h3>Modern <a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 26 bytes</h3>

<pre><code>[¾#4F€SøíJ„ *„@*â2ô`:¬'*¢½
</code></pre>

<p><a href="https://tio.run/##yy9OTMpM/V/zP/rQPmUTt0dNa4IP7zi81utRwzwFLSDhoHV4kdHhLQlWh9aoax1adGjv/9hDu/8rKysrKGMCLpA4DCCxuEDCcFVwaWUuJEVgMYg0SBwVgOQclJUB" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h2>Ruby 1.9, 244 characters</h2>

<pre><code>l=*$&lt;
i=l*""
e=[]
d=[1,-1,x=l[0].size,-x]
r=[f=9e9]*s=x*b=l.size;r[i=~/@/]=0
r.map{i.gsub(/ /){r[p=$`.size]=d.map{|u|p&gt;-u&amp;&amp;r[u+p]||f}.min+1;e&lt;&lt;p if p%x%~-~-x*(p/-~x%~-b)&lt;1}}
r[g=e.find{|i|r[i]&lt;f}].times{i[g]=?*;g+=d.find{|l|r[g]&gt;r[g+l]}}
puts i
</code></pre>

<p>Output for the two examples:</p>

<pre><code>####   
#  #   
@*#####
#*    #
#******
#######

###*###################
###*        #     *** #
## *######### *****#* #
 # ************#####* #
 ###############   #@##
</code></pre>

<p>Edits:</p>

<ul>
<li>(247 -> 245) Inlined e and renamed it to g</li>
<li>(245 -> 249) Fix a bug when the exit is directly above the entrance</li>
<li>(249 -> 246) Inlining + simplifications</li>
<li>(246 -> 244) Shorter way to iterate over every field</li>
</ul>
</div>
<div id="pu5" class="pu"><p><strong>ANSI C (<strike>384</strike> <strike>373</strike> 368 characters)</strong></p>

<p>Here's my C attempt. Compiled and run on Mac OS X. </p>

<pre><code>m[9999],*r=m,*s=m,c,R=0,*a,L;
P(){while(*s++)putchar(*(s-1));}
C(int*l){if((l-s+2)%R==0||(l-s)%R==0||l-s&lt;R||l&gt;r-R)*l=42,P(),exit(0);}
e(int*l){if(*l==32)C(l),*l=42,e(l-1),*l=32,*l=42,e(l-R),*l=32,*l=42,e(l+1),*l=32,*l=42,e(l+R),*l=32;}
main(){while(~(c=getchar()))*r++=c,R=!R&amp;&amp;c==10?r-s:R,L=c==64?r-s-1:L;L%R==0&amp;&amp;e(s+L+1);(L+2)%R==0&amp;&amp;e(s+L-1);L&lt;R&amp;&amp;e(s+L+R);e(s+L-R);}
</code></pre>

<p>Sample output for a couple of tests:</p>

<pre><code>####   
#  #   
@*#####
#*****#
#    *#
#####*#

###*###################
###*        #******** #
##**#########**    #* #
 #*************#####* #
 ###############   #@##
</code></pre>

<p>Limitations: Only works for mazes up to 1000 characters, but this can easily be increased. I just picked an arbitrary number rather than bother to malloc/remalloc.</p>

<p>Also, this is the most warning-laden code I've ever written. 19 warnings, though it looks like even more with the XCode code highlighting. :D</p>

<p>EDITS: Edited and tested to drop int from main, to use ~ instead of !=EOF and putchar instead of printf. Thanks for the comments!</p>
</div>
<div id="pu6" class="pu"><h2>Python, 339 chars</h2>

<pre><code>import sys
M=list(sys.stdin.read())
L=len(M)
R=range(L)
N=M.index('\n')+1
D=2*L*[9e9]
D[M.index('@')+N]=0
J=(1,-1,N,-N)
for x in R:
 for i in[N+i for i in R if' '==M[i]]:D[i]=min(1+D[i+j]for j in J)
e=[i+N for i in R[:N]+R[::N]+R[N-2::N]+R[-N:]if 0&lt;D[i+N]&lt;9e9][0]
while D[e]:M[e-N]='*';e=[e+j for j in J if D[e+j]&lt;D[e]][0]
print''.join(M)
</code></pre>

<p>Generates a shortest path through the maze.</p>

<p>Output for example mazes:</p>

<pre><code>####   
#  #   
@*#####
#*    #
#******
#######

###*###################
###*        #     *** #
## *######### *****#* #
 # ************#####* #
 ###############   #@##
</code></pre>
</div>
<div id="pu7" class="pu"><p><strong>Python - <strike>510</strike> 421 chars</strong></p>

<pre><code>m=[]
i=raw_input
l=i()
x=y=-1
while l:
 if y&lt;0:x+=1;y=l.find('@')
 m.append(list(l));l=i()
s=(x,y)
t={}
q=[s]
v={s:1}
while 1:
 try:(i,j),q=q[0],q[1:];c=m[i][j]
 except:continue
 if c==' 'and(i*j==0)|(i+1==len(m))|(j+1==len(m[0])):break
 for d,D in(-1,0),(0,-1),(1,0),(0,1):
  p=(i+d,j+D)
  if not p in v and'#'!=c:v[p]=0;q.append(p);t[p]=(i,j)
while(i,j)!=s:m[i][j]='*';i,j=t[(i,j)]
print'\n'.join(''.join(l)for l in m)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/2225/">2225</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




