<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276558</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>052</td><td>Python 2</td><td>241111T014628Z</td><td><a href="https://codegolf.stackexchange.com/questions/276558/three-player-rock-paper-scissors-but-with-wuxings/276604#276604">Lucenapo</a></td></tr>
<tr d-ix="1"><td>041</td><td>JavaScript ES6</td><td>241107T102914Z</td><td><a href="https://codegolf.stackexchange.com/questions/276558/three-player-rock-paper-scissors-but-with-wuxings/276561#276561">Arnauld</a></td></tr>
<tr d-ix="2"><td>063</td><td>Perl 5 MListUtil=sum pF</td><td>241107T183600Z</td><td><a href="https://codegolf.stackexchange.com/questions/276558/three-player-rock-paper-scissors-but-with-wuxings/276569#276569">Xcali</a></td></tr>
<tr d-ix="3"><td>024</td><td>Charcoal</td><td>241107T165503Z</td><td><a href="https://codegolf.stackexchange.com/questions/276558/three-player-rock-paper-scissors-but-with-wuxings/276567#276567">Neil</a></td></tr>
<tr d-ix="4"><td>012</td><td>05AB1E</td><td>241107T110048Z</td><td><a href="https://codegolf.stackexchange.com/questions/276558/three-player-rock-paper-scissors-but-with-wuxings/276562#276562">Kevin Cr</a></td></tr>
<tr d-ix="5"><td>100</td><td>Retina 0.8.2</td><td>241107T101047Z</td><td><a href="https://codegolf.stackexchange.com/questions/276558/three-player-rock-paper-scissors-but-with-wuxings/276560#276560">Neil</a></td></tr>
<tr d-ix="6"><td>022</td><td>Uiua</td><td>241107T093208Z</td><td><a href="https://codegolf.stackexchange.com/questions/276558/three-player-rock-paper-scissors-but-with-wuxings/276559#276559">mousetai</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 52 bytes</h1>

<pre class="lang-none prettyprint-override"><code>lambda i:i[88614024&gt;&gt;int(`sorted(i)`[2::5])%74%28&amp;3]
</code></pre>
<p><a href="https://tio.run/##TZFBCsJADEX3nmI2WgUXMcYYBupFasEWLQ5oK203Ip692o6Y7B7hhf8n83j216bGoUqPw624l@fCBR8yEd4QIB0Ooe6Xp65p@8t5GVanDL3f5av5nuYoi20@lOkrYZbEu0SStfsyj8wjA9DIMLGIMqmDNDk0MSoDmV3SXYwcfdFcEp0Dqk/Gp9gzdrM9TX8ycyLLphvgyBizWBnsu9j0UR@NjyYXjQNgbhVvMs1FrK8MAH@frcO/rPesaloXXKhd6Yuuu7S9q77fmaZlFvLhAw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>This is Arnauld's answer which I translated into Python.</p>
</div>
<div id="pu1" class="pu"><h1>JavaScript (ES6), 41 bytes</h1>
<p>Expects an array of 3 integers and returns an integer.</p>
<p>Mapping: 0, 1, 2, 3, 4 → Fire, Soil, Metal, Water, Wood.</p>

<pre class="lang-none prettyprint-override"><code>a=&gt;a[88614024&gt;&gt;a.sort().join``%37%14*2&amp;3]
</code></pre>
<p><a href="https://tio.run/##hZJdT8IwFIbv@RUnC5hWtrIBURKy3emFiXLBhRfLkhXWYXGupKtGs@y3z3YDGYgxadP29H3Oe/qxpR@0WEu@U04uElanfk39gIaz2Y03dcfTIKCkEFIhTLaC53E8mNwOvOn1@GoS1WuRFwoyIV7fd@BDCNY9l8yywVoKnpnxkSnaTJ6pYrKZCJFYEM17YQ@6xJkAIhtGIwhdG3QbenppNv5gWpsD43iGsMFpKKM5xU5x6GKmu5epY4EtdqDGTYXuP1btoQ7QcF@hoYzkzMmIL0BHp9/MyWgY6FzfDxL1SCrkHV2/IAp@AKVOkjEFK/16lLzRHSpMuH1RwvOEfS5SVGA83wsl0wJIUUgIWUVN2HwCkTGSiQ2K@@XDcvFECiV5vuHpF1rhClC/pBUGJ4B@qRM0gdYi1MuowrFOVOF5/Q0" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Method</h3>
<p>Once the input array is sorted in ascending order, there are only <a href="https://tio.run/##bVFda4MwFH33V1wyOuL8oB@uLTiFwTrYw9igD3sQoaHGks4motmmXfvbXXS2VraAOZeck5NzvVvySfJ1xlJpcRHRKvYq4vkkmM@nI2c4dnyf2LnIJNbtrWB8tRpMZoORczO@noTVWvBcQiLE@0cKHgSAHllGkQloKVhS4zOVpCneiKRZUwgRIQhdLaESuLo1dDWtNhIJtROxwQiu4ABPD6D2RUJ3lMsczusA9zz/opkqXkXOJBMc6W7fwLIsw7LOe38ZfwrLqh20WGS4zlQ0mRTcwa0Cw9DhWwM40aWiC1dBQ5cnuhPslaB0FTSCfScAqGnS/KjChNKEfWhqXWsZzRUXY6LS/J5cdhWcldgwuG5LsZQZ4xs1mJRES0nUjMZ650eaeWGEemc7kmIGnt8OLWCh3upM1BgteIRHs4s7rVCFC0/8tGfJeESLlxgrxf@pHL1Vh@1TanZIb5s8avV3rH4A" rel="nofollow noreferrer">35 possible cases</a> that can be identified with the concatenation of the values:</p>
<pre class="lang-none prettyprint-override"><code>000, 001, ..., 333, 334, 344, 444
</code></pre>
<p>It turns out that it's quite efficient to use a modulo chain on this identifier, combined with a bitmask encoding the position of the answer in the sorted array.</p>
<p>It's worth noting that we may have several possibilities for the position (e.g. for <code>000</code> all positions are correct). This potentially allows us to optimize the collisions in the lookup data. But in practice, taking the first matching position is apparently just as good.</p>
<hr />
<h1>JavaScript (ES6), 39 bytes</h1>
<p>We can exploit the loose I/O format to save a few bytes. But I don't really like doing so.</p>
<p>Mapping: 0, 2, 4, 6, 8 → Fire, Soil, Metal, Water, Wood.</p>

<pre class="lang-none prettyprint-override"><code>a=&gt;a[88614024&gt;&gt;a.sort().join``%74%28&amp;3]
</code></pre>
<p><a href="https://tio.run/##hZJdT8IwFIbv@RUnC5hWtjImURKy3emFiXLBBRfLkhXWYXGupKtGs@y3z3YDGYgxadP29H3Oe/qxpR@0WEu@U04uElanfk39gIbT6e144nqTIKCkEFIhTLaC53E8uJsMvOnVTVSvRV4oyIR4fd@BDyFYD1wyywZrIXhmxiemaDNZUsVkMxEisSCa9cIedIkzAUQ2jEYQujboNhzrpdn4g2ltDowzNoQNTkMZzSl2ikMXM929TB0LbLED5TUVuv9YtYc6QMN9hYYykjMnI74AHZ1@MyejYaBzfT9I1COpkPd0/YIo@AGUOknGFKz061HyRneoMOH2RQnPE/Y5T1GB4Ro8PNuLJdMiSFFICFlFTdh8BJExkokNivvl42L@TAoleb7h6Rda4QpQv6QVBieAfqkTNIHWJjT5RuBFFY51sgrP6m8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-MList::Util=sum -pF</code>, 63 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>s;.;$a[5+sum map{($b=($_-$&amp;)%5)==1||-($b==2)}@F]=$&amp;;ge;$_=pop@a
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/7/YWs9aJTHaVLu4NFchN7GgWkMlyVZDJV5XRU1T1VTT1tawpkYXJGZrpFnr4BZrq6JmnZ5qrRJvW5Bf4JD4X9lNwYRLOVjBmEvZV8GIS9lDwZBLOVzB4L@JocG//IKSzPy84v@6vqZ6BoYGQNons7jEyiq0JDPHFmjhf90CNwA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>Input as three digits with no spaces:</p>
<pre class="lang-perl prettyprint-override"><code>4   Fire
3   Soil
2   Metal
1   Water
0   Wood
</code></pre>
<p>Output uses the same encoding.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 24 bytes</h1>
<pre><code>Ｆθ⊞υ↨Ｅ²№θＩ﹪⁺κ⊕ι⁵±¹§θ⌕υ⌊υ
</code></pre>
<p><a href="https://tio.run/##FY27DgIhFER7v4LykmDhmq22UhOTLTD8AoGrS@ThAtf49wjVzBTnjNl0Nkn71p4pM9g5U1Q2IMGuuiBI/YFJsFuiWGHvRZcKMlnyCZSnAm/B1mgyBowVLTjOBZs5H/HAl64Ipz6Wg8quGy51jRZ/w3R30Y4b6aILFIAGtLQ2T@d2/Po/" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as a string of digits <code>1-5</code> representing Wood, Water, Metal, Soil, Fire. Explanation:</p>
<pre><code>Ｆθ
</code></pre>
<p>Loop over each digit.</p>
<pre><code>⊞υ↨Ｅ²№θＩ﹪⁺κ⊕ι⁵±¹
</code></pre>
<p>Count the number of times the incremented and double incremented digit appears (modulo 5) in the input string, and take the difference (but the wrong way around, so that the points are negated).</p>
<pre><code>§θ⌕υ⌊υ
</code></pre>
<p>Output the digit with the minimum negated points.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>16</s> <s>14</s> 12 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Σ-5%2LδQÆO}θ
</code></pre>
<p>Mapping: Wood=<code>1</code>; Water=<code>2</code>; Metal=<code>3</code>; Soil=<code>4</code>; Fire=<code>5</code>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//3GJdU1Ujn3NbAg@3@dee2/H/f7SpjrGOUSwA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##AW0Akv9vc2FiaWX/Ildvb2QgV2F0ZXIgTWV0YWwgU29pbCBGaXJlIiPCqTPDo3Z5P3nCrsSBOsOQVUQiICgiP8OvPyIpIOKGkiAiP//Oo1hzLTUlMkzOtFHDhk99zrj/RMKuczzDqCLDvyAow78pIiz/" rel="nofollow noreferrer">verify all possible combinations</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-none prettyprint-override"><code>Σ          # Sort the (implicit) input-triplet by:
 -         #  Subtract the current value from each value in the (implicit) input
  5%       #  Modulo-5 each (-4,-3,-2,-1,0,1,2,3,4 becomes 1,2,3,4,0,1,2,3,4)
    2L     #  Push pair [1,2]
      δ    #  Apply double-vectorized:
       Q   #   Equals check
           #  (==1 are +1 point cases; ==2 are -1 point cases)
        Æ  #  Reduce each inner-most pair of checks by subtracting
         O #  Sum this triplet together
}θ         # After the sort-by: pop and keep the last/maximum item
           # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 100 bytes</h1>
<pre><code>O`.
$
¶$`
T`d`0670`.+$
.
$*_¶
O$^`(_+)(?=¶+\1(_)\b)?((?!(¶+_+)*¶+\1__\b))?
$#2$*1$#3$*
1G`^_{1,5}$
_
</code></pre>
<p><a href="https://tio.run/##TY6xCsIwEIb3/ykqPSFNRYxanaSbTuKg0KV4qZihUCyUbuJr9QH6YjVNQJvh@O/L3fE1pi1fxTAXOs@AY9kYJLjWZYUtzqYtKmyQFa1psEZW10@o4aKXIPQdadz0U692@5VexgRLJfcdLnTXguNIpIe@i3MlOMofUSpEOhMW2B/pOLPFUQoK1yQVhRuSUCd957daJB8CDwwen9dyyZmNwbvZ4OXYyQ3jYOBI4GQnvV9w4E@nAxPg6f@ATZP2V74" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes input as a string of digits <code>1-5</code> representing Wood, Water, Metal, Soil, Fire but link is to test suite that converts from and to words for convenience. Explanation:</p>
<pre><code>O`.
</code></pre>
<p>Sort the digits.</p>
<pre><code>$
¶$`
</code></pre>
<p>Make a copy of the digits.</p>
<pre><code>T`d`0670`.+$
</code></pre>
<p>Change <code>1</code> and <code>2</code> to <code>6</code> and <code>7</code> and the other copies to <code>0</code>.</p>
<pre><code>.
$*_¶
</code></pre>
<p>Convert to unary.</p>
<pre><code>O$^`(_+)(?=¶+\1(_)\b)?((?!(¶+_+)*¶+\1__\b))?
$#2$*1$#3$*
</code></pre>
<p>Sort descending by points plus one (<code>$#3</code> is <code>1</code> if there is no negative action).</p>
<pre><code>1G`^_{1,5}$
</code></pre>
<p>Take the first, but take care not to take <code>6</code> or <code>7</code> by mistake, as they are only used for scoring purposes.</p>
<pre><code>_
</code></pre>
<p>Convert to decimal.</p>
</div>
<div id="pu6" class="pu"><h1>Uiua, 22 chars</h1>
<pre><code>=⟜/↥×⊃(+1-⊃(↻2|↻1))±/+
</code></pre>
<p><a href="https://uiua.org/pad?src=0_14_0-dev_1__RiAgICAg4oaQID3in5wv4oalw5fiioMoKzEt4oqDKOKGuzJ84oa7MSkpwrEvKwpGaXJlICDihpAgMF8wXzBfMF8xClNvaWwgIOKGkCAwXzBfMF8xXzAKTWV0YWwg4oaQIDBfMF8xXzBfMApXYXRlciDihpAgMF8xXzBfMF8wCldvb2QgIOKGkCAxXzBfMF8wXzAKJnAgRiBbRmlyZSBXYXRlciBXb29kXQomcCBGIFtGaXJlIFdhdGVyIE1ldGFsXQomcCBGIFtGaXJlIEZpcmUgV2F0ZXJdCiZwIEYgW0ZpcmUgV2F0ZXIgV2F0ZXJdCiZwIEYgW0ZpcmUgRmlyZSBXb29kXQomcCBGIFtGaXJlIFdvb2QgV29vZF0KJnAgRiBbRmlyZSBGaXJlIEZpcmVdCg==" rel="nofollow noreferrer">Pad Link</a></p>
<p>Represents the elements as follows:</p>
<pre><code>Fire  ← 0_0_0_0_1
Soil  ← 0_0_0_1_0
Metal ← 0_0_1_0_0
Water ← 0_1_0_0_0
Wood  ← 1_0_0_0_0
</code></pre>
<p>Basic explanation:</p>
<pre class="lang-py prettyprint-override"><code>total = sum(input)
mask = sign(s) # filter non-zero elements
scores = rotate(total, 1) - rotate(total, 2) + 1
masked_scores = scores * mask
max_value = max(masked_scores)
output = max_value == masked_scores
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276558/">276558</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




