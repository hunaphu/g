<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::193502</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>058</td><td>Wolfram Language Mathematica</td><td>190925T010854Z</td><td><a href="https://codegolf.stackexchange.com/questions/193502/approximate-the-perfect-fifth/193512#193512">att</a></td></tr>
<tr d-ix="1"><td>113</td><td>Raku Perl 6 rakudo exact</td><td>240803T190942Z</td><td><a href="https://codegolf.stackexchange.com/questions/193502/approximate-the-perfect-fifth/274651#274651">bb94</a></td></tr>
<tr d-ix="2"><td>071</td><td>Perl 5 MPOSIX=log2 M5.01 n</td><td>190925T071233Z</td><td><a href="https://codegolf.stackexchange.com/questions/193502/approximate-the-perfect-fifth/193522#193522">Nahuel F</a></td></tr>
<tr d-ix="3"><td>025</td><td>MATL</td><td>190925T101721Z</td><td><a href="https://codegolf.stackexchange.com/questions/193502/approximate-the-perfect-fifth/193528#193528">Luis Men</a></td></tr>
<tr d-ix="4"><td>018</td><td>05AB1E</td><td>190925T104717Z</td><td><a href="https://codegolf.stackexchange.com/questions/193502/approximate-the-perfect-fifth/193529#193529">Grimmy</a></td></tr>
<tr d-ix="5"><td>078</td><td>JavaScript V8</td><td>190925T075730Z</td><td><a href="https://codegolf.stackexchange.com/questions/193502/approximate-the-perfect-fifth/193523#193523">Shieru A</a></td></tr>
<tr d-ix="6"><td>108</td><td>Clean</td><td>190925T004946Z</td><td><a href="https://codegolf.stackexchange.com/questions/193502/approximate-the-perfect-fifth/193511#193511">Οurous</a></td></tr>
<tr d-ix="7"><td>092</td><td>Python 2</td><td>190925T004909Z</td><td><a href="https://codegolf.stackexchange.com/questions/193502/approximate-the-perfect-fifth/193509#193509">xnor</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>62</s> <s>60</s> 58 bytes</h1>
<pre><code>Denominator@Table[a=#~Rationalize~Abs[#-a]&amp;@Log2@3,a=1;#]&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73yU1Lz83My@xJL/IISQxKSc1OtFWuS4IKJ@fl5iTWZVa55hUHK2smxir5uCTn27kYKyTaGtorRyr9j@gKDOvxCHNwcTgPwA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://raku.org" rel="nofollow noreferrer">Raku (Perl 6) (rakudo)</a> (exact), 113 bytes</h1>
<pre class="lang-perl prettyprint-override"><code>{$/=(0,2);(grep {$1**$_&gt;(my$d=min map {1/$_ max$_},((2 X**^$_)X*(⅔.FatRat**$_)))**$0&amp;&amp;($/=($_,$d))},1..*)[^$_]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=vZK_TsMwEIclxj6FI07R2TJJnAnJcsqExMpUiT-RQxJUQarSphJRyMgbsLFkgI0XgrFPwjkVTCAVkFh89tm_-77Bj08Le7Xq33b8qmF-ycxol10uijkTiZKVnbP2DlUIqYSUdxIxZhMhzukwEbi-fwgObX1sayGowyk6JFQC6XjsUp4H6dYpek-7260SLdkiWAkZN5E8mpW6ag4uNA7q7vI0N9V09tPJeloyyNw-yWm1rAVrINWQmVyrrrheFqyNuk6qIBD8hKacdc4GQhNp8IwT-bMDeJ8Coe8jzXYGnsn5t9z436jPq7rc23-9cWiMZMw_yKCGPFYN_EqAU4k2YHTfLedfgV_0aGkbVqIi8qbV95v6Dg" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2><a href="https://raku.org" rel="nofollow noreferrer">Raku (Perl 6) (rakudo)</a> (approximate), 77 bytes</h2>
<pre class="lang-perl prettyprint-override"><code>{$!=1;(grep {$!&gt;(my$d=min ((^$_ X/$_)X+⅔.log2)&gt;&gt;.abs)&amp;&amp;($!=$d)},1..*)[^$_]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kKDG7dMHy3EoFtTQF26WlJWm6Fjd9q1UUbQ2tNdKLUgsUgGw7jdxKlRTb3Mw8BQ2NOJV4hQh9lXjNCO1HrVP0cvLTjTTt7PQSk4o11dQ0gBpVUjRrdQz19LQ0o4FqY2shhq6x5ipOrFRI0zA00rSGCC1YAKEB" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> (<code>-MPOSIX=log2 -M5.01 -n</code>), <s>73</s>, <s>78</s>, 71 bytes</h1>

<p>Fixed following comment, may be improved...</p>

<p>-7 bytes thanks to Grimy
</p>

<pre class="lang-perl prettyprint-override"><code>$o=abs$d-(0|.5+($d=log2 3)*++$;)/$;;$@=$o,$_-=say$;if!$@|$o&lt;$@;$_&amp;&amp;redo
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/18l3zYxqVglRVfDoEbPVFtDJcU2Jz/dSMFYU0tbW8VaU1/F2lrFwVYlX0clXte2OLFSxTozTVHFoUYl30bFwVolXk2tKDUl//9/83/5BSWZ@XnF/3V9A/yDPSPA5gA5pnoGhv918wA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>27</s> 25 bytes</h1>
<pre><code>1`@:@/Q3Zl-|X&lt;hY&lt;tdzG-}df
</code></pre>
<p><a href="https://tio.run/##y00syfn/3zDBwcpBP9A4Kke3JsImI9KmJKXKXbc2Je3/f3MA" rel="nofollow noreferrer">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>1       % Push 1. This initiallizes the vector of distances
  `     % Do...while
  @:    %   Range [1, 2, ..., k], where k is the iteration index, staring at 1
  @/    %   Divide by k, element-wise. Gives [1/k, 2/k, ..., 1]
  Q     %   Add 1, element-wise. Gives [(k+1/k, (k+2)/k, ..., 2]
  3Zl   %   Push log2(3)
  -|    %   Absolute difference, element-wise
  X&lt;    %   Minimum
  h     %   Concatenate with vector of previous distances
  Y&lt;    %   Cumulative minimum
  t     %   Duplicate
  dz    %   Consecutive differences, number of nonzeros. This tells how many
        %   times the cumulative minimum has decreased
  G-    %   Subtract input n. This is the loop condition. 0 means we are done
}       % Finally (execute on loop exit)
  d     %   Consecutive differences (of the vector of cumulative differences)
  f     %   Indices of nonzeros. This is the final result
        % End. A new iteration is executed if the top of the stack is nonzero
        % Implicit display
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, <s>19</s> 18 bytes</h1>

<pre><code>µ¯ßNLN/3.²&lt;αßDˆ›D–
</code></pre>

<p><a href="https://tio.run/##ASgA1/9vc2FiaWX//8K1wq/Dn05MTi8zLsKyPM6xw59Ey4bigLpE4oCT//83" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<pre><code>µ                      # repeat until counter == input
 ¯                     #  push the global array
  ß                    #  get the minimum (let's call it M)
   N                   #  1-based iteration count
    L                  #  range 1..N
     N/                #  divide each by N
       3.²             #  log2(3)
          &lt;            #  -1
           α           #  absolute difference with each element of the range
            ß          #  get the minimum
             Dˆ        #  add a copy to the global array
               ›       #  is M strictly greater than this new minimum?
                D–     #  if true, print N
                       #  implicit: if true, add 1 to the counter
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, <s>81</s> <s>80</s> 78 bytes</h1>

<p>-2 bytes thanks Arnauld!</p>



<pre class="lang-javascript prettyprint-override"><code>n=&gt;{for(d=g=1;w=Math.log2(3),w+=~(w*g-.5)/g,n--;g++)w*w&lt;d?d=print(g)||w*w:n++}
</code></pre>

<p><a href="https://tio.run/##DchRDoIwDADQ67SUIUJMjFg5gYdYWFYxZpCx0A@Bq0/f53vb1S5DHOdk1mv2nAM/vn6K4Fj43Ck/bXpVn0kaaLFU4gO0EFNd8CRlMKYTItRC7653PMcxJBDctv/cAtGePTQ15h8" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Ourous/curated-clean-linux" rel="nofollow noreferrer">Clean</a>, <s>128</s> <s>111</s> 108 bytes</h1>

<pre><code>import StdEnv
c=ln 3.0/ln 2.0
?d=abs(toReal(toInt(c*d))/d-c)
$i=take i(iterate(\d=until((&gt;)(?d)o?)inc d)1.0)
</code></pre>

<p><a href="https://tio.run/##Dc29DoIwEADgnafowNCaAPVnrSw6kDjJ6nL2qrnYXg0cJr68lekbPx8DcEkZlxhUAuJC6Z0nUaPgmT@Vd5HVvrXdyq61VY8O7rOWfA0QVwYW7TdoTIeNN1VNTuAVFGmSMIEEfUO3sFDU@mh0jyb3htgrNNvWmjIKrJdTtTrY8vOPCM@5NMOlnL4Mifz8Bw" rel="nofollow noreferrer" title="Clean – Try It Online">Try it online!</a></p>

<p>Should work up to the limits of <code>Real</code>'s 64-bit double precision type.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 92 bytes</h1>



<pre class="lang-python prettyprint-override"><code>E=k=input()
n=0
while k:
 n+=1;e=abs((3.169925001442312*n-1)%2-1)/n
 if e&lt;E:print n;E=e;k-=1
</code></pre>

<p><a href="https://tio.run/##DcRBCoMwEADAe16xl0K0WLOrFTTuMQ@xkGKIbINGSl@fOodJv7x@hEpxHDlIOrOulLBR3zVsHuKkQO6M1vPyOrTuHjiMIz2Nwb6nDqmWBqsbXbWiILzBz25Ke5AMYh17GxvGUtD8AQ" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Uses the constant <code>3.169925001442312</code> for <span class="math-container">\$2 \log_2(3)\$</span>. I wasn't sure how many digits of accuracy are required, since the inaccuracy will break the sequence eventually, so I used the full float precision of <code>2 * numpy.log2(3)</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/193502/">193502</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




