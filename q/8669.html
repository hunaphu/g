<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::8669</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>009</td><td>Uiua</td><td>250914T190908Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/283677#283677">nyxbird</a></td></tr>
<tr d-ix="1"><td>033</td><td>jq Rr</td><td>250914T140301Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/283674#283674">pmf</a></td></tr>
<tr d-ix="2"><td>124</td><td>C++</td><td>250914T131656Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/283673#283673">Toby Spe</a></td></tr>
<tr d-ix="3"><td>139</td><td>C++</td><td>190226T013319Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/180406#180406">zelcon</a></td></tr>
<tr d-ix="4"><td>012</td><td>APLNARS</td><td>250914T083508Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/283671#283671">Rosario</a></td></tr>
<tr d-ix="5"><td>082</td><td>JavaScript Node.js</td><td>190225T211822Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/180392#180392">Kamil Na</a></td></tr>
<tr d-ix="6"><td>034</td><td>JavaScript</td><td>190225T213233Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/180393#180393">Shaggy</a></td></tr>
<tr d-ix="7"><td>070</td><td>R</td><td>190225T204641Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/180387#180387">Sumner18</a></td></tr>
<tr d-ix="8"><td>005</td><td>Japt</td><td>190225T171911Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/180375#180375">Quintec</a></td></tr>
<tr d-ix="9"><td>008</td><td>Brachylog v2</td><td>190225T190208Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/180381#180381">ais523</a></td></tr>
<tr d-ix="10"><td>045</td><td>JavaScript</td><td>190225T174102Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/180377#180377">kamoroso</a></td></tr>
<tr d-ix="11"><td>008</td><td>APL Dyalog Extended</td><td>190225T123750Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/180365#180365">Ad&#225;</a></td></tr>
<tr d-ix="12"><td>059</td><td>PowerShell</td><td>190225T103215Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/180358#180358">mazzy</a></td></tr>
<tr d-ix="13"><td>090</td><td>Java 8</td><td>180316T131307Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/158338#158338">Kevin Cr</a></td></tr>
<tr d-ix="14"><td>128</td><td>sed and coreutils</td><td>121016T005007Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8731#8731">Thor</a></td></tr>
<tr d-ix="15"><td>nan</td><td></td><td>121011T012118Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8671#8671">beary605</a></td></tr>
<tr d-ix="16"><td>070</td><td>PHP</td><td>121011T181854Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8686#8686">hengky m</a></td></tr>
<tr d-ix="17"><td>241</td><td>Perl</td><td>121011T132101Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8680#8680">Gareth</a></td></tr>
<tr d-ix="18"><td>133</td><td>Ocaml</td><td>121011T094258Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8679#8679">ReyCharl</a></td></tr>
<tr d-ix="19"><td>018</td><td>K</td><td>121011T191335Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8688#8688">tmartin</a></td></tr>
<tr d-ix="20"><td>078</td><td>PHP</td><td>121011T182048Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8687#8687">milo5b</a></td></tr>
<tr d-ix="21"><td>137</td><td>PHP</td><td>121011T164417Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8683#8683">W Kristi</a></td></tr>
<tr d-ix="22"><td>077</td><td>C# –</td><td>121011T150304Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8682#8682">Mormegil</a></td></tr>
<tr d-ix="23"><td>036</td><td>Ruby</td><td>121011T031951Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8673#8673">Steven R</a></td></tr>
<tr d-ix="24"><td>012</td><td>J</td><td>121011T135055Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8681#8681">Gareth</a></td></tr>
<tr d-ix="25"><td>013</td><td>GolfScript</td><td>121011T061434Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8676#8676">Howard</a></td></tr>
<tr d-ix="26"><td>014</td><td>GolfScript</td><td>121011T091655Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8677#8677">Peter Ta</a></td></tr>
<tr d-ix="27"><td>055</td><td>Perl</td><td>121011T050400Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8675#8675">Daniel H</a></td></tr>
<tr d-ix="28"><td>063</td><td>Mathematica</td><td>121011T003440Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8670#8670">DavidC</a></td></tr>
<tr d-ix="29"><td>044</td><td>Perl</td><td>121011T034453Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8674#8674">flodel</a></td></tr>
<tr d-ix="30"><td>056</td><td>Python</td><td>121011T013405Z</td><td><a href="https://codegolf.stackexchange.com/questions/8669/removing-unique-elements-from-string/8672#8672">arshajii</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 9 bytes</h1>
<pre><code>▽±+⧆⟜⊸⍜⇌⧆
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_17_0-rc_1__ZiDihpAg4pa9wrEr4qeG4p-c4oq44o2c4oeM4qeGCmYgImhlbGxvd29ybGQiCg==" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>▽±+⧆⟜⊸⍜⇌⧆
       ⍜⇌⧆  # get the number of repeats following each element
   ⧆⟜       # get the number of repeats preceding each element
  +          # add them
▽±    ⊸      # keep elements with at least 1
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://stedolan.github.io/jq/" rel="nofollow noreferrer">jq</a> -Rr, v1.5+, 33 bytes</h1>
<p>Another noncompetitive (non-TIOBE 20) entry:</p>
<pre><code>./&quot;&quot;|.-(.-[group_by(.)[][1]])|add
</code></pre>
<p><a href="https://tio.run/##yyr8/19PX0mpRk9XQ083Or0ov7QgPqlSQ08zOjbaMDZWsyYxJeX//4zUnJz88vyinJR/@QUlmfl5xf91g4oA" rel="nofollow noreferrer" title="jq – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1>C++, 124 bytes</h1>

<pre class="lang-c++ prettyprint-override"><code>#include &lt;algorithm&gt;
void f(auto&amp;s){auto a=begin(s),z=end(s);s.erase(remove_if(a,z,[=](char
c){return count(a,z,c)&lt;2;}),z);}
</code></pre>
<p>Just uses the erase-remove idiom, inefficiently using <code>std::count()</code> to determine how many times each letter appears.</p>
<p>This code assumes that <code>&lt;algorithm&gt;</code> causes <code>std::begin</code> and <code>std::end</code> to be defined (otherwise we also need <code>&lt;iterator&gt;</code>) and that <code>std::string</code> iterators are not raw pointers (so that argument-dependent lookup finds <code>std</code>-namespace functions).</p>
<h2>Demo</h2>
<pre class="lang-c++ prettyprint-override"><code>#include &lt;iostream&gt;
#include &lt;string&gt;

int main(int, char **argv)
{
    while (*++argv) {
        std::string s{*argv};
        f(s);
        std::cout &lt;&lt; s &lt;&lt; '\n';
    }
}
</code></pre>
</div>
<div id="pu3" class="pu"><h1>C++, 139 bytes</h1>

<pre class="lang-c++ prettyprint-override"><code>string s;cin&gt;&gt;s;string w{s}; auto l=remove_if(begin(s),end(s),[&amp;w](auto&amp;s){return count(begin(w),end(w),s)==1;});s.erase(l,end(s));cout&lt;&lt;s;
</code></pre>
<p>ungolfed:</p>
<pre class="lang-c++ prettyprint-override"><code>#include &lt;algorithm&gt;
#include &lt;string&gt;
#include &lt;iostream&gt;

int main() {
  using namespace std;
  string s;
  cin &gt;&gt; s;
  const string w{s};
  auto l = remove_if(begin(s), end(s), [&amp;w](auto&amp; s) {
                                         return count(begin(w), end(w), s) == 1;
                                       });
  s.erase(l, end(s));
  cout &lt;&lt; s;
  return 0;
}
</code></pre>
</div>
<div id="pu4" class="pu"><h1>APL(NARS), 12 chars</h1>
<pre><code>{⍵/⍨⍵∊⍵∼⍦∪⍵}
</code></pre>
<p>Find the elements that are in the list repeated (that are ⍵∼⍦∪⍵), sign them
in a boolean array, for doing a new list composed only from them. It could be okay for all other list too even if not chars composite.</p>
<p>test:</p>
<pre><code>  {⍵/⍨⍵∊⍵∼⍦∪⍵}'helloworld'
llool
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 82 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>p=&gt;[...p].map((v,i,a)=&gt;a.filter(f=&gt;f==v).length).reduce((a,c,i)=&gt;c&gt;1?a+=p[i]:a,[])
</code></pre>

<p><a href="https://tio.run/##XcoxDsIwDADAnWd0ckSwxApyeAZD1MFNnTbIbaK09PsBVua7Fx@8hZrKflnzKC1SK@Q8IpYeFy4Ah02WDTnGmHSXCpFcJDoMqqzTPhusMr6DALANNn1ncNcHn6n41N/Y@t60kNctq6DmCSJ0s6jmZ646dsbcT3868MwLD1x/2D4" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1>JavaScript, 34 bytes</h1>
<p>Input as a string, output as a character array.</p>
<pre><code>s=&gt;[...s].filter(x=&gt;s.split(x)[2])
</code></pre>
<p><a href="https://tio.run/##BcFLDsAQEADQu3TForPonouIhPi0ZGLESOv2@l71r@cwSp9no5h2VpuVNgDAFnLBmYZYSjNwxzLFkuaycgdqTJgA6RZZHE9CpI8GxkNCpdKck/sH" rel="nofollow noreferrer">Try It Online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 70 bytes</h1>



<pre class="lang-r prettyprint-override"><code>a=utf8ToInt(scan(,''));intToUtf8(a[!a%in%names(table(a)[table(a)&lt;2])])
</code></pre>

<p><a href="https://tio.run/##RY3BTsMwDIbvPEWpNC2RRg@ckNgegPs4TTs4jdMUXHsk6dYw7dnLqhaQL7@/3/IXRrdzPdepFVaDvsYaePv0R6qq0tfhNsKuT@5lL2@c1HSiNuu11q8tp7283xsFh0dYtbxi6DCqBIZQgT78hu3zUR/1eHtwqvRIJBcJZEs97WBqa9E13rcfn0QzNMD3mXPtESPO2QvlwgPbognIYBfcCadcnHLywstXoix9MBARAhok4SZJH/@dk3IydiynrxBTf74M@XtRisWiEXKlHn8A" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>A poor attempt, even from a TIOBE top 20 language. I know something can be done about the second half, but at the moment, any golfs escape me.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>6</s> 5 bytes</h1>

<pre><code>ÆèX É
</code></pre>

<p><em>-1 byte thanks to @Oliver</em></p>

<p><a href="https://tio.run/##y0osKPn//3Db4RURCoc7//9XykjNyckvzy/KSVECAA" rel="nofollow noreferrer" title="Japt – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a> (v2), 8 bytes</h1>

<pre><code>⊇.oḅlⁿ1∧
</code></pre>

<p><a href="https://tio.run/##SypKTM6ozMlPN/r//1FXu17@wx2tOY8a9xs@6lj@/79SYlJickpqYkqS0v8oAA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>

<p>Function submission. Technically noncompeting because the question has a limitation on what langauges are allowed to compete (however, several other answers have already ignored the restriction).</p>

<h2>Explanation</h2>

<pre><code>⊇.oḅlⁿ1∧
⊇         Find {the longest possible} subset of the input
  o       {for which after} sorting it,
   ḅ        and dividing the sorted input into blocks of identical elements,
    lⁿ1     the length of a resulting block is never 1
 .     ∧  Output the subset in question.
</code></pre>
</div>
<div id="pu10" class="pu"><h1>JavaScript, 45 bytes</h1>
<pre><code>s=&gt;[...s].filter(c=&gt;s.match(c+'.*'+c)).join<span class="math-container">``</span>
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, 8 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">bytes</a><sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer" title=".dyalog files using a single byte character set">SBCS</a></sup></h1>



<p>Anonymous tacit prefix function.</p>

<pre class="lang-apl prettyprint-override"><code>∊⊢⊆⍨1&lt;⍧⍨
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn//1FH16OuRY@62h71rjC0edS7HEj/T3vUNuFRb9@jvqme/o@6mg@tN37UNhHICw5yBpIhHp7B/9MU1DNSc3Lyy/OLclLUAQ" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>

<p><code>⍧⍨</code> count-in selfie (count occurrences of argument elements in the argument itself)</p>

<p><code>1&lt;</code> Boolean mask where one is less than that</p>

<p><code>⊢⊆⍨</code> partition the argument by that mask (beginning a new partition on 1s and removing on 0s)</p>

<p><code>∊</code> <strong>ϵ</strong>nlist (flatten)</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, 59 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>"$args"-replace"[^$($args|% t*y|group|?{$_.Count-1}|% n*)]"
</code></pre>

<p><a href="https://tio.run/##PY7BCsIwEETv@YolbE1TWsGrIAp@hmgp7VoPoYlJS5Wm3x5ji@5peTuzM0aPZN2DlAp4hwNMgWNlW8cLS0ZVNfHLDdMF@QT67O1bqwfjjxOW27Meur7YzfHSZfLKw8zYKWUQJ0/F96ketVWNyEHEXSshmQQPCUyLCF0OSC9DdU9NDMdyxZbcoPoINrETugXy2GLlBT3/Jrn/qTmbwwc" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>

<p>Less golfed:</p>

<pre class="lang-powershell prettyprint-override"><code>$repeatedСhars=$args|% toCharArray|group|?{$_.Count-1}|% name
"$args"-replace"[^$repeatedСhars]"
</code></pre>

<p>Note: <code>$repeatedChars</code> is an array. By default, a Powershell joins array elements by space char while convert the array to string. So, the regexp contains spaces (In this example, <code>[^l o]</code>). Spaces do not affect the result because the input string contains letters only.</p>
</div>
<div id="pu13" class="pu"><h1>Java 8, 90 bytes</h1>

<pre class="lang-java prettyprint-override"><code>s-&gt;{for(char c=96;++c&lt;123;s=s.matches(&quot;.*&quot;+c+&quot;.*&quot;+c+&quot;.*&quot;)?s:s.replace(c+&quot;&quot;,&quot;&quot;));return s;}
</code></pre>
<p><strong>Explanation:</strong></p>
<p><a href="https://tio.run/##hVDBTsMwDL3vK6ycEsoiARIShMIXsAtHxCG42ZqSJlXsDqGp314ykQMnkGzZfn7ye/Jgj3abJheH7mPFYIng2fp42gD4yC7vLTrYnUeAF84@HgBlbUiZgi8lSxBb9gg7iNDCStvH0z5lib3NgO3drWkafLi6vjHUkh4tY@9ICn0hGmx@FfVE96Szm0LRlQUTl0IoZbLjOUcgs6zmR2@a30PRq7LH5DsYi/Hq7fXNqmr6i9iNOs2sp7LhEGXUKEXvQkifKYfufP9PKveePFl2xP9yh/LPSlo2y/oN" rel="nofollow noreferrer">Try it online.</a></p>
<pre class="lang-java prettyprint-override"><code>s-&gt;{                         // Method with String as both parameter and return-type
  for(char c=96;++c&lt;123;     //  Loop over the lowercase alphabet
    s=s.matches(&quot;.*&quot;+c+&quot;.*&quot;+c+&quot;.*&quot;)?
                             //   If the String contains the character more than once
       s                     //    Keep the String as is
      :                      //   Else (only contains it once):
       s.replace(c+&quot;&quot;,&quot;&quot;));  //    Remove this character from the String
  return s;}                 //  Return the modified String
</code></pre>
</div>
<div id="pu14" class="pu"><h2>sed and coreutils (128)</h2>
<p>Granted this is not part of the TIOBE list, but it's fun (-:</p>
<pre><code>&lt;&lt;&lt;$s sed 's/./&amp;\n/g'|head -c -1|sort|uniq -c|sed -n 's/^ *1 (.*)/\1/p'|tr -d '\n'|sed 's:^:s/[:; s:$:]//g\n:'|sed -f - &lt;(&lt;&lt;&lt;$s)
</code></pre>
<p>De-golfed version:</p>
<pre><code>s=helloworld
&lt;&lt;&lt; $s sed 's/./&amp;\n/g'        \
| head -c -1                  \
| sort                        \
| uniq -c                     \
| sed -n 's/^ *1 (.*)/\1/p'   \
| tr -d '\n'                  \
| sed 's:^:s/[:; s:$:]//g\n:' \
| sed -f - &lt;(&lt;&lt;&lt; $s)
</code></pre>
<h3>Explanation</h3>
<p>The first sed converts input into one character per line. The second sed finds characters that only occur once. Third sed writes a sed script that deletes unique characters. The last sed executes the generated script.</p>
</div>
<div id="pu15" class="pu"><h2>Python 2.7 (<s>52</s> 51), <s>Python 3 (52)</s></h2>

<p>I didn't expect it to be so short.</p>

<p>2.7: <code>a=raw_input();print filter(lambda x:a.count(x)&gt;1,a)</code><br></p>

<p><s>3.0: <code>a=input();print''.join(i for i in a if a.count(x)&gt;1)</code></s></p>

<p><code>raw_input()</code>: store input as a string (<code>input()</code> = <code>eval(raw_input())</code>)<br>
(Python 3.0: <code>input()</code> has been turned into <code>raw_input()</code>)</p>

<p><code>filter(lambda x:a.count(x)&gt;1,a)</code>:
Filter through all characters within <code>a</code> if they are found in <code>a</code> more than once (<code>a.count(x)&gt;1</code>).</p>
</div>
<div id="pu16" class="pu"><h1>PHP - 70</h1>
<pre><code>while($x&lt;strlen($s)){$c=$s[$x];echo substr_count($s,$c)&gt;1?$c:'';$x++;}
</code></pre>
<p>with asumption $s = 'helloworld'.</p>
</div>
<div id="pu17" class="pu"><h2>Perl, <strike>28</strike> 24 characters (includes 1 for 'p' option)</h2>

<pre><code>s/./$&amp;x(s!$&amp;!$&amp;!g&gt;1)/eg
</code></pre>

<p>Usage:</p>

<pre><code>&gt; perl -pe 's/./$&amp;x(s!$&amp;!$&amp;!g&gt;1)/eg'
helloworld
llool
</code></pre>

<p>At first I thought I could do this with negative look-ahead and negative look-behind, but it turns out that negative look-behinds must have a fixed length. So I went for nested regexes instead. With thanks to <a href="https://codegolf.stackexchange.com/users/5202/mob">mob</a> for the <code>$&amp;</code> tip.</p>
</div>
<div id="pu18" class="pu"><h1>Ocaml, <s>139</s> 133</h1>

<p>Uses ExtLib's ExtString.String</p>

<pre><code>open ExtString.String
let f s=let g c=fold_left(fun a d-&gt;a+Obj.magic(d=c))0 s in replace_chars(fun c-&gt;if g c=1 then""else of_char c)s
</code></pre>

<p>Non-golfed version</p>

<pre><code>open ExtString.String
let f s =
  let g c =
    fold_left
      (fun a c' -&gt; a + Obj.magic (c' = c))
      0
      s
  in replace_chars
  (fun c -&gt;
    if g c = 1
    then ""
    else of_char c)
  s
</code></pre>

<p>The function <code>g</code> returns the number of occurences of c in the string s. The function <code>f</code> replaces all chars either by the empty string or the string containing the char depending on the number of occurences. Edit: I shortened the code by 6 characters by abusing the internal representation of bools :-)</p>

<p>Oh, and ocaml is 0 on the TIOBE index ;-)</p>
</div>
<div id="pu19" class="pu"><h1>K, 18</h1>

<pre><code>{x@&amp;x in&amp;~1=#:'=x}
</code></pre>
</div>
<div id="pu20" class="pu"><p><strong>PHP - <strike>83</strike> 78</strong></p>

<pre><code>&lt;?for($a=$argv[1];$i&lt;strlen($a);$r[$a[$i++]]++)foreach($ras$k=&gt;$c)if($c&gt;1)echo$k
</code></pre>

<p>Improved version:</p>

<pre><code>&lt;?for($s=$argv[1];$x&lt;strlen($s);$c=$s[$x++]) echo substr_count($s,$c)&gt;1?$c:'';
</code></pre>

<p>Of course this needs notices to be turned off</p>

<p><strong>Edit:</strong> Improvement inspired by @hengky mulyono</p>

<p>I am so bad at codegolf :)</p>
</div>
<div id="pu21" class="pu"><h2>PHP - 137</h2>

<p><strong>Code</strong></p>

<pre><code>implode('',array_intersect(str_split($text),array_flip(array_filter(array_count_values(str_split($text)),function($x){return $x&gt;=2;}))));
</code></pre>

<p><strong>Normal Code</strong></p>

<pre><code>$text   = 'helloworld';
$filter = array_filter(array_count_values(str_split($text)), function($x){return $x&gt;=2;});
$output = implode('',array_intersect(str_split($text),array_flip($filter)));

echo $output;
</code></pre>
</div>
<div id="pu22" class="pu"><h2>C# – 77 characters</h2>

<pre class="lang-cs prettyprint-override"><code>Func&lt;string,string&gt;F=s=&gt;new string(s.Where(c=&gt;s.Count(d=&gt;c==d)&gt;1).ToArray());
</code></pre>

<p>If you accept the output as an array, it boils down to <strong>65</strong> characters:</p>

<pre class="lang-cs prettyprint-override"><code>Func&lt;string,char[]&gt;F=s=&gt;s.Where(c=&gt;s.Count(d=&gt;c==d)&gt;1).ToArray();
</code></pre>
</div>
<div id="pu23" class="pu"><h1>Ruby <strike>46</strike> <strike>40</strike> 36</h1>

<pre><code>gets.chars{|c|$&gt;&lt;&lt;c if$_.count(c)&gt;1}
</code></pre>
</div>
<div id="pu24" class="pu"><h2>J, 12 characters</h2>

<p>Having entered a valid Perl answer, here's an invalid (language not in the TIOBE top 20) answer.</p>

<pre><code>a=:#~1&lt;+/@e.
</code></pre>

<p>Usage:</p>

<pre><code>   a 'helloworld'
llool
</code></pre>

<p>Declares a verb <code>a</code> which outputs only non unique items.</p>
</div>
<div id="pu25" class="pu"><h3>(GolfScript, <strike>15</strike> 13 characters)</h3>
<pre><code>:;{.;?);&gt;?)},
</code></pre>
<p>GolfScript is not one of the top 20, but a codegolf without GolfScript... (<a href="http://golfscript.apphb.com/?c=OydoZWxsbyB3b3JsZCcKCjo7ey47Pyk7Pj8pfSwKCnByaW50" rel="noreferrer">run it yourself</a>)</p>
<p><em>Previous Version:
(<a href="http://golfscript.apphb.com/?c=OydoZWxsbyB3b3JsZCcKCjEvOjt7O1wtLDssKDx9LAoKcHJpbnQ%3D" rel="noreferrer">run script</a>)</em></p>
<pre><code>1/:;{;\-,;,(&lt;},
</code></pre>
</div>
<div id="pu26" class="pu"><h2>GolfScript (14 chars)</h2>

<pre><code>:x{{=}+x\,,(},
</code></pre>

<p><a href="http://golfscript.apphb.com/?c=OydoZWxsbyB3b3JsZCcKCjp4e3s9fSt4XCwsKH0sCgpwcmludA%3D%3D">Online demo</a></p>

<p>Might not qualify to win, but it's useful to have a yardstick.</p>
</div>
<div id="pu27" class="pu"><h2>Perl (55)</h2>

<pre><code>@x=split//,&lt;&gt;;$s{$_}++for@x;for(@x){print if($s{$_}&gt;1)}
</code></pre>

<p>Reads from stdin.</p>
</div>
<div id="pu28" class="pu"><h1>Mathematica <strike>72</strike> 63</h1>
<p>Ok, Mathematica isn't among the top 20 languages, but I decided to join the party anyway.</p>
<p><code>x</code> is the input string.</p>
<pre><code>&quot;&quot; &lt;&gt; Select[y = Characters@x, ! MemberQ[Cases[Tally@y, {a_, 1} :&gt; a], #] &amp;]
</code></pre>
</div>
<div id="pu29" class="pu"><h2>Perl 44</h2>

<pre><code>$l=$_;print join"",grep{$l=~/$_.*$_/}split""
</code></pre>

<p>Execution:</p>

<pre><code>perl -lane '$l=$_;print join"",grep{$l=~/$_.*$_/}split""' &lt;&lt;&lt; helloworld
llool
</code></pre>
</div>
<div id="pu30" class="pu"><h2>Python (56)</h2>

<p>Here's another (few chars longer) alternative in Python:</p>

<pre><code>a=raw_input();print''.join(c for c in a if a.count(c)&gt;1)
</code></pre>

<hr>

<p>If you accept output as a list (e.g. <code>['l', 'l', 'o', 'o', 'l']</code>), then we could boil it down to <strong>49</strong> characters:</p>

<pre><code>a=raw_input();print[c for c in a if a.count(c)&gt;1]
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/8669/">8669</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




