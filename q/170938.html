<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::170938</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>4240</td><td>Wolfram Language Mathematica</td><td>241219T080833Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/277335#277335">Introduc</a></td></tr>
<tr d-ix="1"><td>010</td><td>Japt x</td><td>180821T162102Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170992#170992">Shaggy</a></td></tr>
<tr d-ix="2"><td>012</td><td>MATL</td><td>180820T211234Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170949#170949">Sundar R</a></td></tr>
<tr d-ix="3"><td>016</td><td>MATL</td><td>180820T191901Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170940#170940">Luis Men</a></td></tr>
<tr d-ix="4"><td>182</td><td>Java 10</td><td>180821T092203Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170972#170972">Kevin Cr</a></td></tr>
<tr d-ix="5"><td>009</td><td>Brachylog</td><td>180820T201544Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170944#170944">Sundar R</a></td></tr>
<tr d-ix="6"><td>053</td><td>Perl 6</td><td>180822T100755Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/171030#171030">nwellnho</a></td></tr>
<tr d-ix="7"><td>098</td><td>Clean</td><td>180821T033551Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170963#170963">Οurous</a></td></tr>
<tr d-ix="8"><td>104</td><td>Python 2</td><td>180821T181929Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170994#170994">ovs</a></td></tr>
<tr d-ix="9"><td>095</td><td>R</td><td>180821T143620Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170985#170985">digEmAll</a></td></tr>
<tr d-ix="10"><td>089</td><td>Haskell</td><td>180821T154149Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170988#170988">ბიმო</a></td></tr>
<tr d-ix="11"><td>092</td><td>JavaScript ES6</td><td>180820T203709Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170946#170946">Arnauld</a></td></tr>
<tr d-ix="12"><td>041</td><td>Physica</td><td>180820T212617Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170950#170950">Mr. Xcod</a></td></tr>
<tr d-ix="13"><td>008</td><td>Husk</td><td>180820T192429Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170941#170941">ბიმო</a></td></tr>
<tr d-ix="14"><td>005</td><td>Jelly</td><td>180820T191835Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170939#170939">Jonathan</a></td></tr>
<tr d-ix="15"><td>068</td><td>Retina 0.8.2</td><td>180820T205313Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170948#170948">Neil</a></td></tr>
<tr d-ix="16"><td>006</td><td>05AB1E</td><td>180820T200216Z</td><td><a href="https://codegolf.stackexchange.com/questions/170938/the-number-of-ways-a-number-is-a-sum-of-consecutive-primes/170943#170943">Adnan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <del>42</del> 40 bytes</h1>
<pre><code>Count[Tr/@Subsequences@Prime@Range@#,#]&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78/985vzSvJDqkSN8huDSpOLWwNDUvObXYIaAoMzfVISgxLz3VQVlHOVbtf0lqcYlnnm21kY6xjomOqY6ZjrmOhY6hgY6xmY6JoY6JkY4JUMJEx9jQsNaaC6Tav7TEttpQx1DHQMcIiA3BEKQdImYKVAa0Bmg7sW7Qd4A6whZqfOx/AA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Edit:
-2 Bytes thanks to att :) !</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-x</code></a>, <s>17</s> 10 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p><s>There's gotta be a shorter way than this!</s> I was right!</p>
<p>Craps out on the last test case.</p>
<pre><code>õ fj ã@¶Xx
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LXg&amp;code=9SBmaiDjQLZYeA&amp;input=MTE1MQ" rel="nofollow noreferrer">Try it</a> or <a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=9SBmaiDjQLZYeA&amp;footer=eA&amp;input=WzIgMyA0IDUgNiA3IDggMTAgMzYgNDEgNDIgNDMgNDQgMzExIDExNTFdLW1T" rel="nofollow noreferrer">run all test cases</a> (except <code>34421</code>)</p>
<pre><code>õ fj ã@¶Xx     :Implicit input of integer U
õ              :Range [1,U]
  f            :Filter
   j           :  Is prime?
     ã         :Sub-arrays
      @        :Map each X
       ¶       :  U is equal to
        Xx     :  X reduced by addition
               :Implicit output of sum of resulting array
</code></pre>
</div>
<div id="pu2" class="pu"><h1>MATL, <s>15</s> 12 bytes</h1>
<pre><code>EZqPYTRYsG=z
</code></pre>
<p><a href="https://matl.io/?code=EZqPYTRYsG%3Dz&amp;inputs=1151&amp;version=20.9.2" rel="nofollow noreferrer">Try it on MATL Online</a></p>
<p>The initial <code>E</code> (multiply by 2) makes sure that, for prime input, the result of the later <code>Ys</code> (<code>cumsum</code>) does not have the input prime repeating itself in the zeroed part of the matrix (thus messing with the count).</p>
<h3>Explanation:</h3>
<pre><code>                % Implicit input, say 5
E               % Double the input
 Zq             % Get list of primes upto (and including) that
                %  Stack: [2 3 5 7]
   P            % Reverse that list
    YT          % Toeplitz matrix of that
                %  Stack: [7 5 3 2
                           5 7 5 3
                           3 5 7 5
                           2 3 5 7]
      R         % `triu` - upper triangular portion of matrix
                %  Stack: [7 5 3 2
                           0 7 5 3
                           0 0 7 5
                           0 0 0 7]
       Ys       % Cumulative sum along each column
                %  Stack: [7  5  3  2
                           7 12  8  5
                           7 12 15 10
                           7 12 15 17]


         G=     % Compare against input - 1s where equal, 0s where not
           z    % Count the number of non-zeros
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 16 bytes</h1>
<pre><code>:&quot;GZq@:g2&amp;Y+G=vs
</code></pre>
<p><a href="https://matl.io/?code=%3A%22GZq%40%3Ag2%26Y%2BG%3Dvs&amp;inputs=311&amp;version=20.9.2" rel="nofollow noreferrer">Try it at MATL Online!</a></p>
<h3>Explanation</h3>
<pre><code>:&quot;        % Input (implicit): n. For each k in [1 2 ... n]
  G       %   Push n
  Zq      %   Primes up to that
  @:g     %   Push vector of k ones
  2&amp;Y+    %   Convolution, removing the edges
  G=      %   True for entries that equal n
  v       %   Concatenate vertically with previous results
  s       %   Sum
          % End (implicit). Display (implicit)
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Java 10, <s>195</s> <s>194</s> <s>184</s> 182 bytes</h1>

<pre class="lang-java prettyprint-override"><code>n-&gt;{var L=new java.util.Stack();int i=1,k,x,s,r=0;for(;i++&lt;n;){for(k=1;i%++k&gt;0;);if(k==i)L.add(i);}for(x=L.size(),i=0;i&lt;x;)for(k=i++,s=0;k&lt;x;r+=s==n?1:0)s+=(int)L.get(k++);return r;}
</code></pre>
<p>-1 byte thanks to <em>@ceilingcat</em>.<br />
-10 bytes thanks to <em>@SaraJ</em>.</p>
<p><a href="https://tio.run/##ZVJNbwIhFLz7KyhJEwh0s@hqGyn11pPtxWPbA2XR4G7RAGttjb/dwmpT114IM7w3zPtYyo28WZbVQdXSe/Akjd31ADA2aDeXSoPnBFsCKJROi3lk9r14@CCDUeAZWCDAwd487DbSgamw@hMso3DWBFNnsyBVhTBPyUYwWtEt9dSJnM9XDnFDyL3leJdAJRg314RUDzmPCfNICIOnmSxLZDDfp5itmGbefGuEqYka5n7L8TE3KlEfqSpSjggvhJ2wcY49Ecl51FnogCpCMHc6NM4Cx/cHnipZN@91rORU0GZlSvARW4FmwRm7eHkDEh/7ELQPqE9Z24QTHHRhQfNzOKT9czjqvt52c@@6kOUXP426YgWjgw6@cFZcWrvwNmCMDjsfsiGjRSekKPqMjv4Nve1RG9HOlbYbordrrYIu8d/SSBUaWcf9sJlKM2wfZl8@6I9s1YRsHRscaosMgePXAMkxnkAAECToiIT4FZ7AWaOU1qUur@AYPkpTpxsmEMOTxf3hBw" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{                // Method with integer as both parameter and return-type
  var L=new java.util.Stack();
                    //  List of primes, starting empty
  int i=1,k,x,s,    //  Temp integers
      r=0;          //  Result-counter, starting at 0
  for(;i++&lt;n;){     //  Loop `i` in the range [2, `n`]
    for(k=1;        //   Set `k` to 1
        i%++k&gt;0;);  //   Inner loop which increases `k` by 1 before every iteration,
                    //   and continues as long as `i` is not divisible by `k`
    if(k==i)        //   If `k` is now still the same as `i`; a.k.a. if `i` is a prime:
      L.add(i);}    //    Add the prime to the List
  for(x=L.size(),   //  Get the amount of primes in the List
      i=0;i&lt;x;)     //  Loop `i` in the range [0, amount_of_primes)
    for(s=0,        //   (Re)set the sum to 0
        k=i++;k&lt;x;  //   Inner loop `k` in the range [`i`, amount_of_primes)
        r+=s==n?    //     After every iteration, if the sum is equal to the input:
            1       //      Increase the result-counter by 1
           :        //     Else:
            0)      //      Leave the result-counter the same by adding 0
      s+=(int)L.get(k++);
                    //    Add the next prime (at index `k`) to the sum
  return r;}        //  And finally return the result-counter
</code></pre>
<hr />
<p>It's basically similar as the <a href="https://codegolf.stackexchange.com/a/170939/52210">Jelly</a> or <a href="https://codegolf.stackexchange.com/a/170943/52210">05AB1E</a> answers, just 190 bytes more.. XD<br />
Here a comparison for each of the parts, added just for fun (and to see why Java is so verbose, and these golfing languages are so powerful):</p>
<ol>
<li>Take the input: (Jelly: 0 bytes) <em>implicitly</em>; (05AB1E: 0 bytes) <em>implicitly</em>; (Java 10: 5 bytes) <code>n-&gt;{}</code></li>
<li>Create a list of primes in the range <code>[2, n]</code>: (Jelly: 2 bytes) <code>ÆR</code>; (05AB1E: 2 bytes) <code>ÅP</code>; (Java 10: 95 bytes) <code>var L=new java.util.Stack();int i=1,k,x,s,r=0;for(;i++&lt;n;){for(k=1;i%++k&gt;0;);if(k==i)L.add(i);}</code></li>
<li>Get all continuous sub-lists: (Jelly: 1 byte) <code>Ẇ</code>; (05AB1E: 1 byte) <code>Œ</code>; (Java 10: 55 bytes) <code>for(x=L.size(),i=0;i&lt;x;)for(k=i++;k&lt;x;)</code> and <code>(int)L.get(k++);</code></li>
<li>Sum each sub-list: (Jelly: 1 byte) <code>§</code>; (05AB1E: 1 byte) <code>O</code>; (Java 10: 9 bytes) <code>,s</code> and <code>,s=0</code> and <code>s+=</code></li>
<li>Count those equal to the input: (Jelly: 1 byte) <code>ċ</code>; (05AB1E: 2 bytes) <code>QO</code>; (Java 10: 15 bytes) <code>,r=0</code> and <code>r+=s==n?1:0</code></li>
<li>Output the result: (Jelly: 0 bytes) <em>implicitly</em>; (05AB1E: 0 bytes) <em>implicitly</em>; (Java 10: 9 bytes) <code>return r;</code></li>
</ol>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, <s>14</s> 9 bytes</h1>

<pre><code>{⟦ṗˢs+?}ᶜ
</code></pre>

<p><a href="https://tio.run/##ASIA3f9icmFjaHlsb2cy//974p@m4bmXy6JzKz994bac//8zNv9a" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a><br>
<a href="https://tio.run/##SypKTM6ozMlPN/pf/ahtw6Ompoe7Omsfbp0A5M5f9nDn9NOLirWt7W1rH26b8/9/tJGOgrGOgomOgqmOgpmOgrmOgoWOgqEBUBTIMzEEYqAKE5ASoBpjQ6CAoaGpYSwA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Multiple test cases</a></p>

<p><em>(-5 whole bytes, thanks to @Kroppeb!)</em></p>

<h3>Explanation:</h3>

<pre><code>{⟦ṗˢs+?}ᶜ
{      }ᶜ     Count the number of ways this predicate can succeed:
 ⟦            Range from 0 to input
  ṗˢ          Select only the prime numbers
    s         The list of prime numbers has a substring (contiguous subset)
     +        Whose sum
      ?       Is the input
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, 53 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>{+grep $_,map {|[\+] $_},[\R,] grep *.is-prime,2..$_}
</code></pre>

<p><a href="https://tio.run/##HcmxDoIwFAXQX7kDMQK18bWP6qB8hCsQwtAaEhqbMhH022vDeHKCjYtJfsPJ4Zn2@h1tQDEKPwXs366vh6yf6PqXGHBkJef1EuLsrVBS5kzrtMGdi7GE@0Q8FDQYDQxuuIOu0AZMYAXOwdBEIGqoTX8" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>

<p>Uses the triangle reduction operator twice. The last test case is too slow for TIO.</p>

<h3>Explanation</h3>

<pre class="lang-perl6 prettyprint-override"><code>{                                                   } # Anonymous block
                               grep *.is-prime,2..$_  # List of primes up to n
                         [\R,]  # All sublists (2) (3 2) (5 3 2) (7 5 3 2) ...
          map {|[\+] $_},  # Partial sums for each, flattened
 +grep $_,  # Count number of occurrences
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Ourous/curated-clean-linux" rel="nofollow noreferrer">Clean</a>, <s>100</s> 98 bytes</h1>

<pre><code>import StdEnv,StdLib
$n=sum[1\\z&lt;-inits[i\\i&lt;-[2..n]|all(\j=i/j*j&lt;i)[2..i-1]],s&lt;-tails z|sum s==n]
</code></pre>

<p><a href="https://tio.run/##RY6xDoIwFEV3vqKJDGooBmRsNx1M2BgpQy1gHmkfhrYmEr7dimFwujn3JDdX6U5iMGPrdUeMBAxgnuPkSOXaK76SNUq4RzFy602dCTEzCgjO1iAEMFrnaYrNIrXei4HDaTgODA6/FmjWNIll1EnQlszLOkAs59iEysnJRTvSe1QORiScxCuiN/duWuFcFHkW8b/fTPioXsuHDfRWhssbpQG1wfbyCw" rel="nofollow noreferrer" title="Clean – Try It Online">Try it online!</a></p>

<p>Defines the function <code>$ :: Int -&gt; Int</code> which works as explained below:</p>

<pre><code>$ n                              // the function $ of n is
    = sum [                      // the sum of
        1                        // 1, for every 
        \\ z &lt;- inits [          // prefix z of 
            i                    // i, for every
            \\ i &lt;- [2..n]       // integer i between 2 and n
            | and [              // where every
                i/j*j &lt; i        // j does not divide i
                \\ j &lt;- [2..i-1] // for every j between 2 and i-1
            ]
        ]
        , s &lt;- tails z           // ... and suffix s of the prefix z
        | sum s == n             // where the sum of the suffix is equal to n
    ]
</code></pre>

<p>(Explanation is for an older but logically identical version)</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>106</s> 104 bytes</h1>



<pre class="lang-python prettyprint-override"><code>P=k=o=1
p=[]
i=input()
exec'o+=P%k*sum(p)==i;P*=k*k;k+=1;p+=P%k*[k];exec"p=p[i&lt;sum(p):];"*k;'*i
print~-o
</code></pre>

<p><a href="https://tio.run/##JY4xa8MwFIT3@xVCUJI4FPpsJS1R35iu9dDNeGhcQYRa66HKtFn6110LT3dwH3cnt3yNYz0P8cOx1npuOXBkgnDXw7MfZcrbHdyvGzZxz@1dqL6nr63smL1tKw5VsGHPZGUNu9DbAmth6fzzyp56qxduU3lI8mP@u4/zMgb8XP2nU29pcicoldOtiFKlQJVLKH5wktX59eWcUkwrcEnuPcw1GhgccMQjnkAPaI4wBFPDLIFBQwSiA/0D" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.r-project.org/" rel="noreferrer">R</a>, 95 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(x,P=2){for(i in 2:x)P=c(P,i[all(i%%P)])
for(i in 1:x){F=F+sum(cumsum(P)==x)
P[i]=0}
F}
</code></pre>

<p><a href="https://tio.run/##Tc1PC4MgGAbwu59CkMCXNcg/tTHw2tl7dIhAEJqNWiyIPrvTsUgv8vN9n8fJj6@3Hd1MP93k1JUBMsqbxfXxla65Vhw2M07UYuswf6ygVU91bptuGKjNMg1tyBwLLCxstaov8/Kk/fKMlwalVkC6sa0qdlTv3lAOOB6CGTJUpJAHioDyAA@o0sktzdxTsAKS6grOAsn@EBE8WZMihYTzH8F@IYLLWM3KKIJlnEjJgwiu/Bc" rel="noreferrer" title="R – Try It Online">Try it online!</a></p>

<ul>
<li>-24 bytes thanks to @Giuseppe who has basically revolutionized my solution supporting 34421 as well !</li>
</ul>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 89 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>g n=sum[1|a&lt;-[0..n],_&lt;-filter(n==).scanl1(+)$drop a[p|p&lt;-[2..n],all((&gt;0).mod p)[2..p-1]]]
</code></pre>

<p><a href="https://tio.run/##HcoxDgIhEEDRq0xhAdEli4kd2HgMQsxEEIkwEMBu746rxW9@3gv726c0ZwDS/ZON3FAtZhWC7OmulmdMwzdGWnPRH0hJsiM/uFYqoKlb3e35bzElxq4rF7k4qPx36yKttTNjJNBQW6QBAsJe8@hAKwXBj1uh4Wn0efkC" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<h3>Alternative, 89 bytes</h3>



<pre class="lang-hs prettyprint-override"><code>f n=length$do a&lt;-[0..n];filter(n==).scanl1(+)$drop a[p|p&lt;-[2..n],all((&gt;0).mod p)[2..p-1]]
</code></pre>

<p><a href="https://tio.run/##FcqxDoMgEIDhV7nBAdJKtEmngksfwzBcCijpeRBg7LtTHf7lz7dj/Xqi3gOwIc9b2weXAPW4TkqxfYVIzRfBxkhVP8g0i5scXEkZcM2/fMLHBe9IJMQySXUkB1leN4@ztf3AyGAgl8gNFISz4tGB0Ro2396Jm@dW@/MP" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1>JavaScript (ES6), 92 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;(a=[],k=1,g=s=&gt;k&gt;n?0:!s+g(s&gt;0?s-(p=d=&gt;k%--d?p(d):d&lt;2&amp;&amp;a.push(k)&amp;&amp;k)(++k):s+a.shift()))(n)
</code></pre>
<p><a href="https://tio.run/##dc/NDoIwDAfwu0@hB0kbPmQw1BAHD2I8LA5QRwax6usjaoJxcT32l7b/XuRD0vF67m@h6VQ11GIwogAp9odACxY0gkShC1PG@YL8BqiISwqhF2psL8NQlT0ozNUu8TwZ9Xc6gUbP0wi@rzEnX0Z0Otc3QEQwOBw7Q11bRW3XQA0J4vxVq9WczX4pdRP/UmxR9qXEorV7auO@tXUTiz/2L/x6IjsGZxOlNiXOhTx1E5/I/itln2MjZXZ4lr1tJD48AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>n =&gt; (                          // n = input
  a = [],                       // a[] = array holding the list of consecutive primes
  k = 1,                        // k = current number to test
  g = s =&gt;                      // g = recursive function taking s = n - sum(a)
    k &gt; n ?                     //   if k is greater than n:
      0                         //     stop recursion
    :                           //   else:
      !s +                      //     increment the final result if s = 0
      g(                        //     add the result of a recursive call to g():
        s &gt; 0 ?                 //       if s is positive:
          s - (                 //         subtract from s the result of p():
            p = d =&gt; k % --d ?  //           p() = recursive helper function looking
              p(d)              //                 for the highest divisor d of k,
            :                   //                 starting with d = k - 1
              d &lt; 2 &amp;&amp;          //           if d is less than 2 (i.e. k is prime):
              a.push(k) &amp;&amp;      //             append k to a[]
              k                 //             and return k (else: return false)
          )(++k)                //         increment k and call p(k)
        :                       //       else:
          s + a.shift()         //         remove the first entry from a[]
                                //         and add it to s
      )                         //     end of recursive call
  )(n)                          // initial call to g() with s = n
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Mr-Xcoder/Physica" rel="nofollow noreferrer">Physica</a>, 41 bytes</h1>

<pre><code>-&gt;x:Count[Sum@Sublists[PrimeQ$$[…x]];x]
</code></pre>

<p><a href="https://tio.run/##K8ioLM5MTvzvZhvzX9euwso5vzSvJDq4NNchuDQpJ7O4pDg6oCgzNzVQRSX6UcOyithY64rY/0AhoCq3aBPD2Nj/AA" rel="nofollow noreferrer" title="Physica – Try It Online">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>-&gt;x:Count[Sum@Sublists[PrimeQ$$[…x]];x] // Full program.
-&gt;x:            // Define an anonymous function with parameter x.
    […x]        // Range [0 ... x] (inclusive).
        $$      // Filter-keep those that...
  PrimeQ        // Are prime.
 Sublists[...]  // Get all their sublists.
Sum@            // Then sum each sublist.
Count[...;x]    // Count the number of times x occurs in the result.
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <s>9</s> 8 bytes</h1>

<p><sup>-1 byte thanks to <a href="https://codegolf.stackexchange.com/users/59487/mr-xcoder">Mr.Xcoder</a> (use named argument <code>¹</code> instead of <code>S</code>)!</sup></p>

<pre><code>#¹ṁ∫ṫ↑İp
</code></pre>

<p><a href="https://tio.run/##yygtzv6fG5yvnaCtpGBrp6CkUfyoqbFI89C2/8qHdj7c2fioY/XDnasftU08sqHg////RlzGXCZcplxmXOZcFlyGBlzGZlwmhlwmRlwmQAkTLmNDQy5DQ1NDAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>

<h3>Explanation</h3>

<pre><code>#¹ṁ∫ṫ↑İp  -- example input: 3
#¹        -- count the occurrences of 3 in
      İp  -- | primes: [2,3,5,7..]
     ↑    -- | take 3: [2,3,5]
    ṫ     -- | tails: [[2,3,5],[3,5],[5]]
  ṁ       -- | map and flatten
   ∫      -- | | cumulative sums
          -- | : [2,5,10,3,8,5]
          -- : 1
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, <s> 6 </s> 5 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="noreferrer">bytes</a></h1>
<p>-1 thanks to dylnan</p>
<pre><code>ÆRẆ§ċ
</code></pre>
<p>A monadic link</p>
<p><strong><a href="https://tio.run/##y0rNyan8//9wW9DDXW2Hlh/p/v//v7GhIQA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8//9wW9DDXW2Hlh/p/n90z@H2R01r3P//N9Ix1jHRMdUx0zHXsdAxNNAxNtMxMdQxMdIxAUqY6BgbGuoYGpoaAgA" rel="noreferrer" title="Jelly – Try It Online">test-suite</a> (note the final test case would time out at 60s at TIO).</p>
<h3>How?</h3>
<pre><code>ÆRẆ§ċ - Link: integer, n
ÆR    - primes from 2 to n inclusive
  Ẇ   - all contiguous substrings
   §  - sum each
    ċ - count occurrences of n
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 68 bytes</h1>

<pre><code>.+
$*_$&amp;$*
_
$`__¶
A`^(__+)\1+$
m)&amp;`^((_)|¶)+¶[_¶]*(?&lt;-2&gt;1)+$(?(2)1)
</code></pre>

<p><a href="https://tio.run/##Dcq7DQIxEEXR/NUxrGZsgRjbLASIFRFF8BkTEBCwwYqQulyAGzMOr85dXt/3/Gwr5ktuGw9yRgM5GCib1YJzfrCZl5t6wkeGnmzyq0V8Ldd@3B1Px3U4qXjiiYOotBYQkbDDiD0O0C3iiKRIAalDQlT9Aw" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes faster test cases. Explanation:</p>

<pre><code>m)
</code></pre>

<p>Run the whole script in multiline mode where <code>^</code> and <code>$</code> match on every line.</p>

<pre><code>.+
$*_$&amp;$*
</code></pre>

<p>Convert to unary twice, first using <code>_</code>s, then using <code>1</code>s.</p>

<pre><code>_
$`__¶
</code></pre>

<p>Generate all the prefixes of the <code>_</code>s and add two to each, thus counting from \$2\$ to \$n + 1\$.</p>

<pre><code>A`^(__+)\1+$
</code></pre>

<p>Delete all the composite numbers in the range.</p>

<pre><code>&amp;`^((_)|¶)+¶[_¶]*(?&lt;-2&gt;1)+$(?(2)1)
</code></pre>

<p>Match any number of <code>_</code>s and newlines (starting and ending at the end of a line) then compare the number of <code>_</code>s with the number of <code>1</code>s. Count the number of sums of consecutive prime numbers which add up to \$n\$.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 6 bytes</h1>

<h3>Code</h3>

<pre><code>ÅPŒOQO
</code></pre>

<p>Uses the <strong>05AB1E</strong> encoding. <a href="https://tio.run/##yy9OTMpM/f//cGvA0Un@gf7//5sYAgA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/170938/">170938</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




