<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::152392</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>006</td><td>Japt m</td><td>180103T114217Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152399#152399">Shaggy</a></td></tr>
<tr d-ix="1"><td>013</td><td>Julia 0.6</td><td>180104T162854Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152501#152501">gggg</a></td></tr>
<tr d-ix="2"><td>030</td><td>Mathematica</td><td>180104T024226Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152469#152469">totallyh</a></td></tr>
<tr d-ix="3"><td>023</td><td>Wolfram Language Mathematica</td><td>180104T145151Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152487#152487">alephalp</a></td></tr>
<tr d-ix="4"><td>004</td><td>J</td><td>180103T151105Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152424#152424">Ad&#225;</a></td></tr>
<tr d-ix="5"><td>021</td><td>Pari/GP</td><td>180104T081842Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152474#152474">alephalp</a></td></tr>
<tr d-ix="6"><td>077</td><td>C gcc</td><td>180104T015059Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152465#152465">Jonathan</a></td></tr>
<tr d-ix="7"><td>058</td><td>Clean</td><td>180104T020200Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152466#152466">Οurous</a></td></tr>
<tr d-ix="8"><td>023</td><td>R</td><td>180103T123653Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152407#152407">Giuseppe</a></td></tr>
<tr d-ix="9"><td>003</td><td>APL Dyalog Unicode</td><td>180103T145453Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152422#152422">Ad&#225;</a></td></tr>
<tr d-ix="10"><td>002</td><td>Jelly</td><td>180103T133426Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152415#152415">Dennis</a></td></tr>
<tr d-ix="11"><td>008</td><td>CJam</td><td>180103T132637Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152413#152413">Luis Men</a></td></tr>
<tr d-ix="12"><td>004</td><td>Husk</td><td>180103T112000Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152398#152398">ბიმო</a></td></tr>
<tr d-ix="13"><td>045</td><td>Python 2</td><td>180103T105326Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152395#152395">Mr. Xcod</a></td></tr>
<tr d-ix="14"><td>040</td><td>Haskell</td><td>180103T115721Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152401#152401">totallyh</a></td></tr>
<tr d-ix="15"><td>006</td><td>MATL</td><td>180103T115448Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152400#152400">Steadybo</a></td></tr>
<tr d-ix="16"><td>007</td><td>Jelly</td><td>180103T110154Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152397#152397">Mr. Xcod</a></td></tr>
<tr d-ix="17"><td>007</td><td>05AB1E</td><td>180103T105537Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152396#152396">Emigna</a></td></tr>
<tr d-ix="18"><td>048</td><td>JavaScript ES6</td><td>180103T105319Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152394#152394">Arnauld</a></td></tr>
<tr d-ix="19"><td>013</td><td>Octave</td><td>180103T105212Z</td><td><a href="https://codegolf.stackexchange.com/questions/152392/compute-the-optimal-square-matrix/152393#152393">Steadybo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-m</code></a>, <s>12</s> <s>10</s> <s>8</s>  6 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Look, Ma, no transposing or zipping!</p>
<pre><code>ËwWgEV
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LW0&amp;code=y3dXZ0VW&amp;input=W1s0LDUsLTZdLFswLDgsLTEyXSxbLTIsMiw0XV0KLVE" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.6</a>, 13 bytes</h1>

<p><code>max.</code> applies the function <code>max</code> elementwise to it's arugments.
</p>

<pre class="lang-julia prettyprint-override"><code>a-&gt;max.(a,a')
</code></pre>

<p><a href="https://tio.run/##yyrNyUw0@5@mYKuQlJqemfc/UdcuN7FCTyNRJ1Fd839qXgpXSmZxQU5ipUaaRrSJgqmCmbWhgrmCkbW5grGCQaym5n8A" rel="nofollow noreferrer" title="Julia 0.6 – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Mathematica</a>, 30 bytes</h1>

<p><em>-8 bytes thanks to Jonathan Frech.</em></p>

<pre><code>Map@Max/@t/@t@{#,t@#}&amp;
t=#&amp;
</code></pre>

<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73zexwME3sULfoQSIHKqVdUoclGvVuEpsld/3t6v9DyjKzCuJTlNwUKiuNtEx1TGr1ak21DHXMQLS5jrGOga1tbH/AQ" rel="nofollow noreferrer" title="Mathematica – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 23 bytes</h1>
<p>A port of my <a href="https://codegolf.stackexchange.com/a/152474/9288">Pari/GP answer</a>.</p>
<pre><code>(#+#+Abs[#-#])/2&amp;
</code></pre>
<p><code></code> is <a href="http://reference.wolfram.com/language/ref/character/Transpose.html" rel="nofollow noreferrer"><code>\[Transpose]</code></a>.</p>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n6Zgq/BfQ1lb@X1/u7ZjUnG0si6IGaupb6T2P6AoM68kOi26utpEx1THrFan2lDHXMcISJvrGOsY1NbGxv4HAA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 4 bytes</h1>

<p>Tacit prefix function.</p>

<pre><code>&gt;.|:
</code></pre>

<p><a href="https://tio.run/##y/r/P83Wyk6vxup/anJGvkKagrGCsYqJgqmCmYKhgrmCERAbKxhwQSWNFIxUDM2BpCUIwYXx6gFJGgIFjRWQSHSd8WYKBgoWCvGGRgrxQOMVTP4DAA" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>

<p><code>&gt;.</code> ceiling [of the argument] with</p>

<p><code>|:</code> the transposed argument</p>
</div>
<div id="pu5" class="pu"><h1><a href="http://pari.math.u-bordeaux.fr/" rel="nofollow noreferrer">Pari/GP</a>, 21 bytes</h1>

<pre><code>m-&gt;(m+m~+abs(m-m~))/2
</code></pre>

<p><a href="https://tio.run/##K0gsytRNL/ifpmCr8D9X104jVzu3TjsxqVgjVze3TlNT3@h/QVFmXolGmka0iY6pjpm1oY65jpG1uY6xjkGspuZ/AA" rel="nofollow noreferrer" title="Pari/GP – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>79</s> 77 bytes</h1>

<ul>
<li>Saved two bytes thanks to <a href="https://codegolf.stackexchange.com/users/61405/steadybox">Steadybox</a>; only taking in one matrix dimension parameter as all matrices in this challenge are square.</li>
</ul>



<pre class="lang-c prettyprint-override"><code>j,i;f(A,n)int*A;{for(j=0;j&lt;n*n;j++)printf("%d,",A[A[j]&gt;A[i=j/n+j%n*n]?j:i]);}
</code></pre>

<p><a href="https://tio.run/##bc7RCoIwGAXga3uKEIItj6SztFoWsx4iEC/CMDZoRdmV@Ow2lago2Haz75z/z91TnjeNguQFEdBU6nIseFVcbkTFHlcrPdZcOQ693sxXQezRETZEKlKVrUUqYzXRjhoZlW3UUmaU1835IDWh1cAaWCYzFGkWV37EwBbt8epuFKP8@ijvxLYp713SuilmCOEjAjM36HWC4Edvu1ajAny8rd7@0btXtxvCwxyuz@CajTBtE7s/if27vzP7743r5gk" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<p>Takes a flat integer array <code>A</code> and the matrix dimension <code>n</code> (as the matrix has to be square) as input. Outputs a flat integer array string representation to stdout.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://clean.cs.ru.nl" rel="nofollow noreferrer">Clean</a>, 58 bytes</h1>

<pre><code>import StdEnv,StdLib
@l=zipWith(zipWith max)(transpose l)l
</code></pre>

<p>I don't think this needs an explanation.</p>

<p><a href="https://tio.run/##S85JTcz7n5ufUpqTqpCbmJn3PzO3IL@oRCG4JMU1r0wHSPlkJnE55NhWZRaEZ5ZkaEBpoOIKTY2SosS84oL84lSFHM2c/8EliUCdtgoOCtHRJjqmOrpmsTrRBjoWOrqGRkCWrpGOkY5JbOz/f8lpOYnpxf91PX3@u1TmJeZmJkM4ENsA" rel="nofollow noreferrer" title="Clean – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 23 bytes</h1>

<pre class="lang-r prettyprint-override"><code>function(A)pmax(A,t(A))
</code></pre>
<p><a href="https://tio.run/##K/qfpmD7P600L7kkMz9Pw1GzIDexQsNRpwTI1PyfppGSmZiuYQJkAgA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>This is equivalent to most other answers. However, R has two distinct <code>max</code> functions for the two common scenarios:</p>
<blockquote>
<p><code>max</code> and <code>min</code> return the maximum or minimum of all the values present in their arguments, as integer if all are logical or integer, as double if all are numeric, and character otherwise.</p>
<p><code>pmax</code> and <code>pmin</code> take one or more vectors (or matrices) as arguments and return a single vector giving the ‘parallel’ maxima (or minima) of the vectors. The first element of the result is the maximum (minimum) of the first elements of all the arguments, the second element of the result is the maximum (minimum) of the second elements of all the arguments and so on. Shorter inputs (of non-zero length) are recycled if necessary.</p>
</blockquote>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 3 bytes</h1>



<p>Anonymous tacit prefix function.</p>

<pre class="lang-apl prettyprint-override"><code>⊢⌈⍉
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///P@1R24RHXYse9XQ86u0EchWMFYwf9W4xUTBVMFMwVDBXMAJiYwUDrjSFR20TH/VN9Qr291NQj442NDfSMbKM1Yk2stQxiI1Vx1BgomOqYwaUN9Qx1zEC0uY6xtgVGuoY6RiDFSLTOEzUBRlpoGOho2sIMlQX6AgdE6BiAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p><code>⊢</code> argument</p>

<p><code>⌈</code> ceiling'd with</p>

<p><code>⍉</code> transposed argument</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 2 bytes</h1>

<pre><code>»Z
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///Q7qj/h9sfNa1xB@KsRw1zDm07tO3//@joaENzIx0FI8tYHS4FhWggQ0dBwSAWyONSiI420VEw1VEwg8gZ6iiYA1VCOECWsQ5CIVAOaIoxVKGCDhIHKgNVqAAxUkEXaqiCgY6ChY6CriHUXF0jsHoFBZPY2FgA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>»Z  Main link. Argument: M (integer matrix)

 Z  Zip the rows of M, transposing rows and columns.
»   Take the maxima of all corresponding integers.
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, 8 bytes</h1>
<pre><code>{_z..e&gt;}
</code></pre>
<p>Anonymous block (function) that takes the input from the stack and replaces it by the output.</p>
<p><a href="https://tio.run/##S85KzP1fWPe/Or5KTy/VrvZ/XcH/6GgTBVMFs1iFaEMFcwUjIG2uYKxgEBsLAA" rel="nofollow noreferrer" title="CJam – Try It Online"><strong>Try it online!</strong></a> Or <a href="https://tio.run/##TYxBCoAgFAWv8jYtFf1a1qaLyCci2gRBbRO9umkUtJoHw7xlm/d8ppDDdEm5jjGnIzbZe@0INDA8DVBc6C1adGVoOFChg3mNBsE85s@vETVS6CF0zUT5hWXmGw" rel="nofollow noreferrer"><strong>verify all test cases</strong></a>.</p>
<h3>Explanation</h3>
<pre><code>{      }    e# Define block
 _          e# Duplicate
  z         e# Zip
   .        e# Apply next operator to the two arrays, item by item
            e# (that is, to rows of the two matrices)
    .       e# Apply next operator to the two arrays, item by item
            e# (that is, to numbers of the two rows)
     e&gt;     e# Maximum of two numbers
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="noreferrer">Husk</a>, <s>5</s> 4 bytes</h1>

<p>Whoop, never got to use <code>‡</code> before (or <code>†</code>):</p>

<pre><code>S‡▲T
</code></pre>

<p><a href="https://tio.run/##yygtzv7/P/hRw8JH0zaF/P//PzraRMdUR9csVifaQMdCR9fQCMjSNdIx0jGJjQUA" rel="noreferrer" title="Husk – Try It Online">Try it online!</a></p>

<h3>Explanation</h3>

<pre><code>S  T -- apply the function to itself and itself transposed
 ‡▲  -- bi-vectorized maximum
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 45 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda k:[map(max,*c)for c in zip(k,zip(*k))]
</code></pre>

<p><a href="https://tio.run/##lZDLboMwEEX3/oqpu8HpECUmDQkSi35BN91RFpSYQnkY2U5fP09tlyhZRKq68chzfebO9fhlajnwqUqfp67oXw4FtEnWF2PQF5@4KFklFZTQDPDdjEGL7ly0jOWTEdpoSCHLsg3e4zbHbI0xcltjjHCV52i1NXKMvHRZveSo0GEr3GG4dmDIrbyZydhe9rbJ925YTrTsjqaRw4VpbGV7@slXTPlcIytdmnKP7fBPS@LSu6AIJ/fTV/j457ZmCYFRNYMB@lQLUEIfOwONpgi0lEqJ0iQUmgoqjzJI0/NM0WkB9EPJ4TWhqI0K5ldsqd6O2gTRlt3RJSXkFh4HAb1UAspalG0C/12y0Fooc20NQnwAMsd46LpfDw118S5gdOThhk4/" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Thanks to totallyhuman for a few bytes saved.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, 40 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>z(z max)&lt;*&gt;foldr(z(:))e
e=[]:e
z=zipWith
</code></pre>

<p><a href="https://tio.run/##y0gszk7NyfmfZhvzv0qjSiE3sULTRssuLT8npUijSsNKUzOVK9U2OtYqlavKtiqzIDyzJON/bmJmnoKtQkFRZl6JgopCmkJ0tImOqY5ZrE60oY65jhGQNtcx1jGIjf3/LzktJzG9@L9uckEBAA" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>I would ungolf this as:</p>

<pre class="lang-hs prettyprint-override"><code>import Data.List
f m = zipWith (zipWith max) m (transpose m)
</code></pre>

<p>...which is so much more elegant.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 6 bytes</h1>

<pre><code>t!2$X&gt;
</code></pre>

<p><a href="https://tio.run/##y00syfn/v0TRSCXC7v//aBMFUwUzawVDBXMFI2sgYaxgEAsA" rel="nofollow noreferrer">Try it online!</a></p>

<p><strong>Explanation:</strong></p>

<pre><code>t        % Duplicate the input.
!        % Transpose the duplicate.
2$X&gt;     % Elementwise maximum of the two matrices.
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>

<pre><code>żZZṀ€$€
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///onqiohzsbHjWtUQHi////R0eb6JjqmMXqRBvqmOsYAWlzHWMdg9hYAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 7 bytes</h1>

<pre><code>ø‚øεøεà
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f//8I5HDbMO7zi3FYwX/P8fHW2iY6qjaxarE22gY6Gja2gEZOka6RjpmMTGAgA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>ø         # transpose input matrix
 ‚        # pair with original matrix
  ø       # zip together
   ε      # apply on each sublist ([[row],[transposed row]])
    ø     # zip
     ε    # apply on each sublist (pair of elements)
      à   # extract greatest element
</code></pre>
</div>
<div id="pu18" class="pu"><h1>JavaScript (ES6), 48 bytes</h1>

<pre class="lang-js prettyprint-override"><code>m=&gt;m.map((r,y)=&gt;r.map((v,x)=&gt;v&gt;(k=m[x][y])?v:k))
</code></pre>

<h3>Test cases</h3>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>let f =

m=&gt;m.map((r,y)=&gt;r.map((v,x)=&gt;v&gt;(k=m[x][y])?v:k))

console.log(JSON.stringify(f([[172,29],[29,0]]            ))) // -&gt; [[172,29],[29,0]]
console.log(JSON.stringify(f([[4,5,6],[1,7,2],[7,3,0]]    ))) // -&gt; [[4,5,7],[5,7,3],[7,3,0]]
console.log(JSON.stringify(f([[1,2,3],[1,2,3],[1,2,3]]    ))) // -&gt; [[1,2,3],[2,2,3],[3,3,3]]
console.log(JSON.stringify(f([[4,5,-6],[0,8,-12],[-2,2,4]]))) // -&gt; [[4,5,-2],[5,8,2],[-2,2,4]]</code></pre>
</div>
</div>
</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a>, 13 bytes</h1>

<pre><code>@(A)max(A,A')
</code></pre>

<p><a href="https://tio.run/##y08uSSxL/f/fQcNRMzexQsNRx1Fd83@agq1CYl6xNRdXmka0obmRgpGlNRArGMRqgkRMFEwVzKwVDBXMFYysgYQxTMJQwUjBGCSBoBA6dIFaDBQsFHQNgZp0gWYqmMRq/gcA" rel="nofollow noreferrer">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/152392/">152392</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




