<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::157554</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>035</td><td>Uiua</td><td>240828T112930Z</td><td><a href="https://codegolf.stackexchange.com/questions/157554/cutpoints-in-a-maze/275202#275202">nyxbird</a></td></tr>
<tr d-ix="1"><td>341</td><td>Python3</td><td>240826T140517Z</td><td><a href="https://codegolf.stackexchange.com/questions/157554/cutpoints-in-a-maze/275162#275162">Ajax1234</a></td></tr>
<tr d-ix="2"><td>407</td><td>Java 8</td><td>180308T110444Z</td><td><a href="https://codegolf.stackexchange.com/questions/157554/cutpoints-in-a-maze/157599#157599">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>122</td><td>Javascript</td><td>180309T104923Z</td><td><a href="https://codegolf.stackexchange.com/questions/157554/cutpoints-in-a-maze/157707#157707">edc65</a></td></tr>
<tr d-ix="4"><td>089</td><td>Perl 5</td><td>180308T064443Z</td><td><a href="https://codegolf.stackexchange.com/questions/157554/cutpoints-in-a-maze/157586#157586">Ton Hosp</a></td></tr>
<tr d-ix="5"><td>026</td><td>MATL</td><td>180307T230059Z</td><td><a href="https://codegolf.stackexchange.com/questions/157554/cutpoints-in-a-maze/157567#157567">Luis Men</a></td></tr>
<tr d-ix="6"><td>040</td><td>Stax</td><td>180308T012942Z</td><td><a href="https://codegolf.stackexchange.com/questions/157554/cutpoints-in-a-maze/157573#157573">recursiv</a></td></tr>
<tr d-ix="7"><td>118</td><td>Wolfram Language Mathematica</td><td>180308T072223Z</td><td><a href="https://codegolf.stackexchange.com/questions/157554/cutpoints-in-a-maze/157588#157588">alephalp</a></td></tr>
<tr d-ix="8"><td>290</td><td>Python 2</td><td>180307T215230Z</td><td><a href="https://codegolf.stackexchange.com/questions/157554/cutpoints-in-a-maze/157561#157561">hyper-ne</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 35 bytes</h1>
<pre><code>⬚0↯:°⊚▽≠⍜⊂≡(⧻⊜π.⍜⬚∞⊡¬)⊙(,¤⟜⊚)⟜:⊂.⧻.
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_13_0-dev_1__ZiDihpAg4qyaMOKGrzrCsOKKmuKWveKJoOKNnOKKguKJoSjip7viipzPgC7ijZzirJriiJ7iiqHCrCniipkoLMKk4p-c4oqaKeKfnDriioIu4qe7LgpmW1sxIDEgMSAwIDEgMCAwIDFdCiAgWzEgMSAwIDEgMSAxIDAgMV0KICBbMCAwIDAgMCAwIDAgMCAxXQogIFsxIDEgMSAwIDEgMSAxIDFdCiAgWzEgMSAxIDEgMCAxIDAgMV0KICBbMCAwIDAgMSAxIDEgMSAxXQogIFsxIDAgMSAxIDAgMCAwIDFdCiAgWzEgMSAxIDEgMSAxIDEgMV1dCmZbWzEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDFdCiAgWzEgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDFdCiAgWzEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAwIDFdCiAgWzAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMSAwIDFdCiAgWzEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDAgMSAwIDFdCiAgWzEgMCAwIDAgMCAwIDAgMCAwIDAgMCAxIDAgMSAwIDFdCiAgWzEgMCAxIDEgMSAxIDEgMSAxIDEgMCAxIDAgMSAwIDFdCiAgWzEgMCAxIDAgMCAwIDAgMCAwIDEgMCAxIDAgMSAwIDFdCiAgWzEgMCAxIDAgMSAxIDEgMSAwIDEgMCAxIDAgMSAwIDFdCiAgWzEgMCAxIDAgMSAwIDEgMSAxIDEgMCAxIDAgMSAwIDFdCiAgWzEgMCAxIDAgMSAwIDAgMCAwIDAgMCAxIDAgMSAwIDFdCiAgWzEgMCAxIDAgMSAxIDEgMSAxIDEgMSAxIDAgMSAwIDFdCiAgWzEgMCAxIDAgMCAwIDAgMCAwIDAgMCAwIDAgMSAwIDFdCiAgWzEgMCAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAwIDFdCiAgWzEgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDFdCiAgWzEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDFdXQpmW1sxIDAgMSAxIDAgMSAwIDAgMCAxIDEgMSAxIDAgMSAwXQogIFsxIDEgMSAxIDEgMSAxIDAgMSAxIDEgMCAxIDEgMCAxXQogIFsxIDEgMSAwIDAgMSAwIDEgMCAxIDAgMCAxIDAgMSAxXQogIFsxIDEgMSAxIDAgMCAxIDEgMSAwIDAgMSAwIDAgMSAwXQogIFsxIDEgMSAxIDAgMSAwIDAgMCAwIDEgMCAxIDAgMCAxXQogIFswIDEgMSAxIDEgMCAxIDAgMCAxIDAgMCAwIDEgMCAxXQogIFswIDAgMSAxIDEgMCAwIDEgMSAxIDEgMSAwIDAgMSAwXQogIFsxIDAgMCAxIDEgMSAwIDAgMSAxIDEgMSAxIDEgMSAwXQogIFswIDEgMCAxIDAgMCAwIDAgMSAxIDEgMCAwIDAgMSAxXQogIFsxIDEgMSAwIDEgMSAwIDEgMCAxIDAgMCAxIDEgMSAwXQogIFswIDAgMSAwIDEgMCAwIDEgMSAxIDAgMCAwIDEgMSAwXQogIFsxIDAgMCAwIDEgMSAwIDEgMSAxIDAgMSAxIDAgMSAwXQogIFswIDEgMCAwIDEgMCAxIDAgMCAwIDEgMCAwIDEgMCAxXQogIFswIDAgMCAxIDAgMSAwIDEgMCAxIDEgMCAwIDAgMSAxXQogIFsxIDAgMCAxIDAgMSAwIDAgMCAwIDEgMSAxIDEgMCAxXQogIFsxIDAgMCAwIDEgMSAxIDAgMSAxIDAgMCAwIDAgMSAwXV0K" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>⬚0↯:°⊚▽≠⍜⊂≡(⧻⊜π.⍜⬚∞⊡¬)⊙(,¤⟜⊚)⟜:⊂.⧻.
                                      ⊂.⧻. # push [length length], keeping original
                                   ⟜:      # duplicate around the original
                          ⊙(,¤⟜⊚)         # between the [len len]s:
                               ⟜⊚          #   push the location of the 1s,
                              ¤             #   a 'fixed' version of the array
                             ,              #   and duplicate the locations of the 1s
         ⍜⊂                                # push [len len] to the locations
            ≡(           )                  # for each location:
                   ⍜⬚∞⊡¬                   #   set its cell in the fixed array to 0
              ⧻⊜π.                         #   and count the number of groups of 1s
         ⍜⊂                                # pop the count for [len len]
       ▽≠                                  # keep the points that aren't equal to [len len]'s count
    °⊚                                    # convert them to a binary array
⬚0↯:                                       # pad to size [len len] with 0s
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Python3, 341 bytes</h1>
<pre class="lang-py prettyprint-override"><code>E=enumerate
def G(g):
 while g:
  q,s=[(t:=[*g][0])],[t];g-={t}
  for x,y in q:
   for X,Y in[(1,0),(0,1),(0,-1),(-1,0)]:
    if(u:=(x+X,y+Y))in g:s+=[u];q+=[u];g-={u}
  yield{*s}
def f(b):
 B=[[0 for _ in i]for i in b]
 for i in G({(x,y)for x,r in E(b)for y,v in E(r)if v}):
  for j in i:
   if len([*G(i-{j})])!=1:x,y=j;B[x][y]=1
 return B
</code></pre>
<p><a href="https://tio.run/##5VTNjtowED7XT@FyWRtC5YFLBfIFacWt5125FgKRZI3YAEnYLkI8O/VvnESs@gC1BB7PfPPNeDyT46V@OxTTn8fyfn/maXF@T8t1naJtmuElyekM4T9vap/iXEv4lFRckHrGxTCXgkkqE1HLeT7m1/qm7dmhxJ/JBasCnwzeKl6SV60QBBJGE8ISsP9js42NTlokVhk5zzj5HL0kl9ErpZojn1UjLs5yfnKbiXM2cS4q3W@vw@pm88zIxuS54EIwG3FlElDSiMqIG4lwc1iSK9E5UpdraVTPmsAcL8mHO5ZUZfjjZlit484S2jy1YZ8WRAyXRI2vuxuV9DuHmWbku/lCfEpxkRwQLtP6XBZ4cTcZ1ofV5rAut6TSlN@8SYjh@/pIVFEnWNGYbab2dVqSX4ciTXD1ozruVU2efhdPlEqEKsAcDwYDBAAMGANkdvNDzC1wJr2MYEDWBE6j94BxGsNVwSr3tIbTLMtm@Rtat1nBklhMIzgvcBbmaCcx185CwDoLeogYlTVBu3bW4QiKtt0pWnaviPagYD0X6JGyXljoJcZ6qf/jcqHmk1jz3vrfFbY809A7zDV6eCXUFBqcyfWcfzijcm3PvDq4uGfzMxPIHLFvafBD4lzaGi2g0BiuwyFMmWe0iCjbCUF@b4DIZ@gny8@lb0FPylpxQjN5Agv2xXnQO6E8zpOF2/XKC3Ggu9MbyxNcmjmIHBC@DhBlXx7WonV3bUruqsGaa3sExBi@EeBxWAis7UwBuqm3ynMs9UeVZCR@doFSzlvHVU7pA9ikC5t8AZt2YVMDu/8F" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1>Java 8, <s>503</s> <s>489</s> <s>459</s> <s>455</s> 407 bytes</h1>

<pre class="lang-java prettyprint-override"><code>int R,C,v[][];m-&gt;{int r[][]=new int[R=m.length][C=m[0].length],i=R*C,a=i(m),x,y,q;for(;i--&gt;0;m[y][x]=0,r[y][x]=i(m)!=a?1:0,m[y][x]=q)q=m[y=i/C][x=i%C];return r;}int i(int[][]m){int r=0,i=R*C,x,y;for(v=new int[R][C];i--&gt;0;)if(m[y=i/C][x=i%C]&gt;v[y][x]){d(m,x,y);r++;}return r;}void d(int[][]m,int c,int r){v[r][c]=1;for(int k=-3,x,y;k&lt;4;k+=2)if((x=c+k%2-k/2)&gt;=0&amp;x&lt;C&amp;(y=r+k/2)&gt;=0&amp;y&lt;R&amp;&amp;m[y][x]&gt;v[y][x])d(m,x,y);}
</code></pre>
<p>-66 bytes thanks to <em>@ceilingcat</em>.</p>
<p><a href="https://tio.run/##rVbNk5owFL/vX5HuzDqhBA12TxtjD5566LbjHhkOLOJuVNDFaGUc/nY3gYAgScuhE@Uj7@P3ey/vkayCY@Bsd1GyWqwv4SbY78HPgCXnOwBYwqN0GYQReJavxYTnez4IYfUUW0RI8rtSG8zRDB2lgEj10QjY7iN4zXi0B3wL@HtUvDjh9pBwafMMEkDBJXamZ2meSlOaRH8KpDmNh5soeePvvjejsYf96hUxOv86QwFlMLbQCWXogyy3KSTMcaaYxF7meyefYpSqJ6n3hQbf3SeMKumH9SGcZpSNZuKdsoeZT9KIH9IEpCQnkg@r4oytkp9wWUILzALxeGUrSPqKgMWW8Mb19FjCWucFjKW5RVLbJvkV8bhlC7CoEZEEDItrap2PXup7oU/dAlVOrqnzraCxnjyStU3HEhSeaGivH8bOejS2phQPTpPZAGY0tauJbDIfDFQKak41pfwCwO7wumEh2POAi1vBKhYFAV94ypI3zw@sshjEonJYRS8Yl7MAnF0kBy7@4pqjpgCjWnwVYNQcNxZXm46gQum4cnUWWFloMa4WeVHS/4zPONqQ5mGm0Bp/SVTLWz@PGkWjt66iwZtOUetNr6jxZlLE/aDdfsHgfulx@yUc91vC/1IUPesUtzrxJnkmJNy6a9uxvVJ1KnXtiVHbyADdzLL223G78s2gOi1yC@7qoU2qblsRd/i5zYzqv1bt9HQ8asT1M@4Wi3ZduhzxzWpj8/ex3VHaYDDSR24o6Da7GkfVaS7@4tfcVYrCrQ4SLNkduNpZXrI9j@Lh9sCHO7Hn8E0C739I@RO4V0W/E/smz35LKSxNidH014EbbWXfyOMOtIbJMFSuzL6up51mIG0y6mAUiO3ypAISezaAS5YEm7JJQbSJ4khs4k@VHqi6ttreVxST1UTpqXMPWdm2pfS69KBS9la@CsAcQrke@V1@@QQ" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>int R,C,                    // Amount of rows/columns on class-level
    v[][];                  // Visited-matrix on class-level

m-&gt;{                        // Method with int-matrix as both parameter and return-type
  int r[][]=new int[R=m.length][C=m[0].length],
                            //  Create the result-matrix, and set `R` and `C`
      i=R*C,                //  Index-integer
      a=i(m),               //  The current amount of islands
      x,y,                  //  Temp integers for the coordinates
      q;                    //  Temp integer for the value
  for(;i--&gt;0                //  Loop `i` over each cell:
      ;                     //    After each iteration:
       m[y][x]=0,           //     Temporarily change the current value to 0
       r[y][x]=i(m)!a?      //     If the current and initial amount of islands are not
                            //     the same anymore:
                1           //      Set the result-value at this coordinate to 1
               :            //     Else:
                0,          //      Set the result-value at this coordinate to 0
       m[y][x]=q)           //     Then change the current value back to what it was
    q=m[y=i/C][x=i%C];      //   Save the current value at this coordinate
  return r;}                //  Return the result-matrix

// Separated method to determine the amount of islands in a matrix
int i(int[][]m){
  int r=0,                  //  Result-count, starting at 0
      i=R*C,                //  Index integer
      x,y;                  //  Temp integers for the coordinates
  for(v=new int[R][C];      //  Reset the visited array
      i--&gt;0;)               //  Loop over the cells:
    if(m[y=i/C][x=i%C]      //   If the current cell is a 1,
       &gt;v[y][x]){           //   and we haven't visited it yet:
      d(m,x,y);             //    Check every direction around this cell
      r++;}                 //    And raise the result-counter by 1
   return r;}               //  Return the result-counter

// Separated method to check each direction around a cell
void d(int[][]m,int c,int r){
  v[r][c]=1;                //  Flag this cell as visited
  for(int k=-3,x,y;k&lt;4;k+=2)//  Loop over the four directions:
    if((x=c+k%2-k/2)&gt;=0&amp;x&lt;C&amp;(y=r+k/2)&gt;=0&amp;y&lt;R
                            //   If the cell in the direction is within bounds,
       &amp;&amp;m[y][x]            //   and it's a path we can walk,
         &gt;v[y][x])          //   and we haven't visited it yet:
      d(m,x,y);}            //    Do a recursive call for this cell
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Javascript 122 bytes</h1>
<p>Input/output as a multiline string.</p>
<pre class="lang-js prettyprint-override"><code>m=&gt;m.replace(/./g,(v,p,m,n=[...m],f=p=&gt;n[p]==1&amp;&amp;(n[p]=0,v=f(p-1)+f(p+1)+f(p-w)+f(p+w)-1?1:0,1))=&gt;(f(p),v),w=~m.search`\n`)
</code></pre>
<p>For each walkable cell, put a block and try to fill the 4 neighbor cells. If the current cell is not a cut point, then starting from any open neighbor will fill all of them. Else, I will need more than one fill operation to reach all neighbor cells.</p>
<p><em>Less golfed</em></p>
<pre class="lang-js prettyprint-override"><code>m=&gt;{
  w = m.search('\n') + 1; // offset to the next row
  result = [...m].map( // for each cell
     ( v, // current value
       p  // current position
     ) =&gt; {
     n = [...m]; // work on a copy of the input
     // recursive fill function from position p
     // returns 1 if managed to fill at least 1 cell
     fill = (p) =&gt; {
        if (n[p] == 1)
        {
           n[p] = 0;
           // flag will be &gt; 1 if the fill from the current point found disjointed areas
           // flag will be 0 if no area could be filled (isolated cell)
           var flag = fill(p+1) + fill(p-1) + fill(p+w) + fill(p-w);
           // v is modified repeatedly, during recursion
           // but I need the value at top level, when fill returns to original caller
           v = flag != 1 ? 1 : 0;
           return 1; // at least 1 cell filled
        }
        else
           return 0; // no fill
     }
     fill(p)
     return v // orginal value or modified by fill function
  }) 
}
</code></pre>
<p><strong>Test</strong>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var F=
m=&gt;m.replace(/./g,(v,p,m,n=[...m],f=p=&gt;n[p]==1&amp;&amp;(n[p]=0,v=f(p-1)+f(p+1)+f(p-w)+f(p+w)-1?1:0,1))=&gt;(f(p),v),w=~m.search`\n`)

var test=`in:
11101001
11011101
00000001
11101111
11110101
00011111
10110001
11111111
out:
01000000
00001001
00000001
00000101
00110000
00010000
00000000
11100000

in:
1111111111111111
1000000000000001
1111111111111101
0000000000000101
1111111111110101
1000000000010101
1011111111010101
1010000001010101
1010111101010101
1010101111010101
1010100000010101
1010111111110101
1010000000000101
1011111111111101
1000000000000001
1111111111111111
out:
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000

in:
1011010001111010
1111111011101101
1110010101001011
1111001110010010
1111010000101001
0111101001000101
0011100111110010
1001110011111110
0101000011100011
1110110101001110
0010100111000110
1000110111011010
0100101000100101
0001010101100011
1001010000111101
1000111011000010
out:
0000000000111010
1011110001001000
0000000000000011
0000000100010000
0000010000101000
0000001000000100
0000000011000000
1001100000011110
0000000001000010
0110100001000110
0000100101000010
1000100000000000
0100001000000100
0000000100100001
0000010000111000
0000010000000010
`.match(/\d[10\n]+\d/g);
for(i = 0; test[2*i]; ++i)
{
   input = test[2*i]
   check = test[2*i+1]
   result = F(input)
   ok = check == result
   console.log('Test '+ i + ' ' + (ok?'OK':'FAIL'),
   '\n'+input, '\n'+result)
}</code></pre>
</div>
</div>
</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, <code>-p0</code> <s>105</s> <s>101</s> <s>96</s> <s>93</s> <s>90</s> 89 bytes</h1>

<p>Uses <code>b</code> instead of <code>1</code> in the input.</p>

<p>Make sure the matrix on STDIN is terminated with a newline</p>



<pre class="lang-perl prettyprint-override"><code>#!/usr/bin/perl -p0
s%b%$_="$`z$'";s:|.:/
/&gt;s#(\pL)(.{@{-}}|)(?!\1)(\pL)#$&amp;|a.$2.a#se&amp;&amp;y/{c/z /&gt;0:seg&amp;/\B/%eg
</code></pre>

<p><a href="https://tio.run/##TU/LDoIwELz3K1QKwoF2MPGC8RHP@gck6hpiTIwS60XBX7dCH0of283s7sy0Ku@XqdYqpJDv5iO@f/HxaKbyRuSSyYUK4qLaJLGoV3X6fjdJvBwWWWLAgEfNQfCJOASqjKKnrI/yNZAL5Ko8RbJYy7A8aU2g9gDtYxJGdsFeUAe0VbO7YAAy/bAQc6OAa2KezBJ3APwMuZE@0iYMnoGsGeb14VoZ/nkXDQd6Rg2HoyEv64z/SNHTMZ9zkuTss8@tepxvV6XTCjrdTkUGgS8" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>

<p>Uses 3 levels of substitution!</p>

<p>This 87 byte version is both in input and output format easier to interpret, but is not competing since it uses 3 different characters in the output:</p>



<pre class="lang-perl prettyprint-override"><code>#!/usr/bin/perl -0p
s%b%$_="$`z$'";s:|.:/
/&gt;s#(\w)(.{@{-}}|)(?!\1)(\w)#$&amp;|a.$2.a#se&amp;&amp;y/{c/z /&gt;0:seg&amp;/\B/%eg
</code></pre>

<p><a href="https://tio.run/##TU/LDoIwELz3K1YpCAdaMPGCEY13/4BEXdMQEyPEmhgFf91KX0of283s7sy0FbfLQikZYkj3qyk9vOhsupRFzwpOeCmDuHokMes2Xfp@90m8nlR5orGARv2R0Tk7BlJE0ZN3J/4CXmaFFHXEqy0PRa0UAg4HYHhMQtAusBdQA0PVbB0MgKYfLETcKIBrIp7MEmsA/Ay6kTEyJAQ8A1ozxOuDayXwz3U0HDAyajgcDXpZZ/xHCiMd8zknic7@p2nv5@YqVdpmKt0tWJ6x7As" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>

<p>It's easy to save another byte (the regex <code>s</code> modifier) in both versions by using some different (non-alphanumeric) character as row terminator (instead of newline), but that makes the input quite unreadable again.</p>

<h1>How it works</h1>

<p>Consider the substitution </p>

<pre class="lang-perl prettyprint-override"><code>s#(\w)(.{columns}|)(?!1)(\w)#c$2c#s
</code></pre>

<p>This will find two letters that are different and next to each other horizontally or vertically and replace them by <code>c</code>. In a maze whose paths consist of entirely the letter <code>b</code> nothing will happen since the letters are the same, but as soon as one of the letters is replaced by another one (e.g. <code>z</code>) that letter and a neighbor will be replaced by <code>c</code> and repeated application is a flood-fill of the connected component with <code>c</code> from seed <code>z</code>.</p>

<p>In this case I however don't want a complete flood-fill. I want to fill only one of the arms neighboring <code>z</code>, so after the first step I want the <code>z</code> gone. That already works with the <code>c$2c</code> replacement, but I later want to restart a flood-fill along another arm starting from the same point and I don't know which of the <code>c</code>s was originally <code>z</code> anymore. So instead I use</p>

<pre class="lang-perl prettyprint-override"><code>s#(\w)(.{columns}|)(?!\1)(\w)#$&amp;|a.$2.a#se
</code></pre>

<p><code>b | a</code> is <code>c</code>, <code>b | c</code> is <code>c</code> and <code>z | a</code> is <code>{</code>. So in a maze with paths made up of <code>b</code> and a seed <code>z</code> in the first step <code>b</code> will get replaced by <code>c</code> and <code>z</code> will get replaced by <code>{</code> which is not a letter and does not match <code>\w</code> and so will not cause further fills. The <code>c</code> however will keep a further flood-fill going and one neighbor arm of the seed gets filled. E.g. starting from</p>

<pre class="lang-perl prettyprint-override"><code>  b                      c
  b                      c
bbzbb       becomes    bb{bb
  b                      b
  b                      b
</code></pre>

<p>I can then replace all c by some non letter (e.g. <code>-</code>) and replace <code>{</code> by <code>z</code> again to restart the flood-fill:</p>

<pre class="lang-perl prettyprint-override"><code>  -                      -
  -                      -
bbzbb       becomes    cc{bb
  b                      b
  b                      b
</code></pre>

<p>and repeat this process until all neighbors of the seed have been converted. If I then once more replace <code>{</code> by <code>z</code> and flood-fill:</p>

<pre class="lang-perl prettyprint-override"><code>  -                      -
  -                      -
--z--       stays      --z--
  -                      -
  -                      -
</code></pre>

<p>The <code>z</code> remains behind at the end because there is no neighbor to do a transformation with.
That makes clear what happens in the following code fragment:</p>

<pre class="lang-perl prettyprint-override"><code>/\n/ &gt;                                    
</code></pre>

<p>Find the first newline. The starting offset is now in <code>@-</code></p>

<pre class="lang-perl prettyprint-override"><code>s#(\w)(.{@{-}}|)(?!\1)(\w)#$&amp;|a.$2.a#se
</code></pre>

<p>The regex discussed above with <code>@{-}</code> as number of columns (since plain <code>@-</code> confuses the perl parser and doesn't properly substitute)</p>

<pre class="lang-perl prettyprint-override"><code>&amp;&amp;
</code></pre>

<p>The <code>/\n/</code> always succeeds and the substitution is true as long as we can still flood-fill. So the part after <code>&amp;&amp;</code> is executed if the flood-fill of one arm is done. If not the left side evaluates to an empty string</p>

<pre class="lang-perl prettyprint-override"><code>y/{c/z / &gt; 0
</code></pre>

<p>Restart the flood-fill and return 1 if the previous flood-fill did anything. Else return the empty string. This whole piece of code is wrapped inside</p>

<pre class="lang-perl prettyprint-override"><code>s:|.: code :seg
</code></pre>

<p>So if this is executed on a starting string <code>$_</code> with a <code>z</code> at the seed position the piece of code inside will be executed many times mostly returning nothing but a <code>1</code> every time a neighbor arm gets flood-filled. Effectively <code>$_</code> gets destroyed and replaced by as many <code>1</code>s as there are connected components attached to <code>z</code>. Notice that the loop needs to be executed up to sum of component sizes + number of arms times but that is OK since it will "number of characters including newlines * 2 + 1" times.</p>

<p>The maze gets disconnected if there are no <code>1</code>'s (empty string, an isolated vertex) or if there are more than 1 arms (more than 2 <code>1</code>s). This can be checked using the regex <code>/\B/</code> (this gives <code>0</code> instead of <code>1</code> on older perl versions. It's arguable which one is wrong). Unfortunately if it doesn't match this will give an empty string instead of <code>0</code>. However the <code>s:|.: code :seg</code> was designed to always return an odd number so by doing an <code>&amp;</code> with <code>/\B/</code> this will give <code>0</code> or <code>1</code>.</p>

<p>All that is left is walking the whole input array and at each walkable position seed with <code>z</code> and count connected arms. That is easily done with:</p>

<pre class="lang-perl prettyprint-override"><code>s%b%$_="$`z$'"; code %eg
</code></pre>

<p>The only problem is that in the non-walkable positions the old value is retained. Since we need <code>0</code>s there that means the original input array must have <code>0</code> in the non walkable positions and <code>0</code> matches <code>\w</code> in the original substitution and would trigger flood-fills. That's why I use <code>\pL</code> instead (only match letters).</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 26 bytes</h1>
<pre><code>n:&quot;GG0@(,w4&amp;1ZIuz]=~]vGZye
</code></pre>
<p>The input is a numerical matrix, using <code>;</code> as row separator.</p>
<p><a href="https://tio.run/##y00syfn/P89Kyd3dwEFDp9xEzTDKs7Qq1rYutsw9qjL1//9oQwUQNABjIGkN50Jpa7A4AkJVINTABWCmwLUYIqswgKpAMQMOYwE" rel="nofollow noreferrer">Try it online!</a> Or <a href="https://tio.run/##pVO7DsIwDNz5iooBMTDYEhMWEgMLmRmqVpFAiA2YeAgGfj1A1bq2k2ZBVh@J7s6xcz7vr6ewK124LMbOwWo6e8wnWG1uL798@7urnscAh3K9DTUWv4Dm@b6Jl@2Xmv0@WkSP4Y1OhSkoEdAilAaHH9VYZIOYnY5YU0WiEsXOKwjAILsHDLAlIMnWgATbAiCfAvOHhHyZmG8U5Fv912V1hgDlTVMtJQ6PwmjCqGBa0oKkccGATQrZDjUtEEFQd8pK65RAieyqKoouE@Uk2XnUZbJCYpv/gfQy1iPTOdBtkhOvrakOCQOVGMfo7KzrPw" rel="nofollow noreferrer">verify all test cases</a>.</p>
<h3>Explanation</h3>
<pre><code>n           % Implicit input: matrix. Push number of elements, N
:           % Range: gives [1 2 ... N]
&quot;           % For each k in [1 2 ... N]
  GG        %   Push input matrix twice
  0@(       %   Write 0 at position k (in column-major order: down, then across).
            %   The stack now contains the original matrix and a modified matrix
            %   with 0 at position k
  ,         %   Do twice
    w       %     Swap
    4       %     Push 4. This specifies 4-element neighbourhood
    &amp;1ZI    %     Label each connected component, using the specified
            %     neighbourhood. This replaces each 1 in the matrix by a
            %     positive integer according to the connected component it
            %     belongs to
    u       %     Unique: gives a vector of deduplicate elements
    z       %     Number of nonzeros. This is the number of connected components
  ]         %   End
  =~        %   Are they different? Gives true of false
]           % End
v           % Concatenate stack into a column vector
GZye        % Reshape (in column-major order) according to size of input matrix.
            % Implicit display
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 40 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>Çóê↓â.Φ}╞│*w&lt;(♦◙¼ñ£º█¢,D`ì♥W4·☺╛gÇÜ♠╗4D┬
</code></pre>

<p><a href="https://staxlang.xyz/#p=80a28819832ee87dc6b32a773c28040aaca49ca7db9b2c44608d035734fa01be67809a06bb3444c2&amp;i=%2211101001+11011101+00000001+11101111+11110101+00011111+10110001+11111111%22%0A%221111111111111111+1000000000000001+1111111111111101+0000000000000101+1111111111110101+1000000000010101+1011111111010101+1010000001010101+1010111101010101+1010101111010101+1010100000010101+1010111111110101+1010000000000101+1011111111111101+1000000000000001+1111111111111111%22%0A%221011010001111010+1111111011101101+1110010101001011+1111001110010010+1111010000101001+0111101001000101+0011100111110010+1001110011111110+0101000011100011+1110110101001110+0010100111000110+1000110111011010+0100101000100101+0001010101100011+1001010000111101+1000111011000010%22%0A&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug test cases</a></p>

<p>This program takes input as a space separated string containing rows.  The output is in the same format.  Here's the unpacked ascii representation.  </p>

<pre><code>{2%{_xi48&amp;GxG=-}_?m}{'1'2|e{"12|21".22RjMJguHgu%
</code></pre>

<p>The fundamental operation for counting an island works like this.</p>

<ol>
<li>Replace the first <code>'1'</code> with a <code>'2'</code>.</li>
<li>Regex replace <code>'12|21'</code> with <code>'22'</code>.</li>
<li>Split on spaces.</li>
<li>Transpose matrix.</li>
<li>Repeat from 2. until a string is repeated.</li>
<li>Repeat from 1. until there is no longer a <code>'1'</code> in the string.  The number of repetitions is the number of islands.</li>
</ol>

<p>.</p>

<pre><code>{               start map block over input string, composed of [ 01]
  2%            mod by 2. space and 0 yield 0. 1 yields 1. (a)
  {             start conditional block for the 1s.
    _           original char from string (b)
    xi48&amp;       make copy of input with current character replaced with 0
    G           jump to unbalanced }, then return; counts islands (c)
    xG          counts islands in original input (d)
    =           are (c) and (d) equal? 0 or 1 (e)
    -           b - e; this is 1 iff this character is a bridge
  }             end conditional block
  _?            execute block if (a) is 1, otherwise use original char from string
m               close block and perform map over input
}               goto target - count islands and return
{               start generator block
  '1'2|e        replace the first 1 with a 2
  {             start generator block
    "12|21".22R replace "12" and "21" with "22"
    jMJ         split into rows, transpose, and rejoin with spaces
  gu            generate values until any duplicate is encountered
  H             keep the last value
gu              generate values until any duplicate is encountered
%               count number of iterations it took
</code></pre>

<p><a href="https://staxlang.xyz/#p=8124d11dcf6f6f00efaa77e1ac76c461606012a97a3bae4f55e4efce7d9d9683fe1aad5ae63003c59f5a6955&amp;i=11101001%0A11011101%0A00000001%0A11101111%0A11110101%0A00011111%0A10110001%0A11111111%0A%0A1111111111111111%0A1000000000000001%0A1111111111111101%0A0000000000000101%0A1111111111110101%0A1000000000010101%0A1011111111010101%0A1010000001010101%0A1010111101010101%0A1010101111010101%0A1010100000010101%0A1010111111110101%0A1010000000000101%0A1011111111111101%0A1000000000000001%0A1111111111111111%0A%0A1011010001111010%0A1111111011101101%0A1110010101001011%0A1111001110010010%0A1111010000101001%0A0111101001000101%0A0011100111110010%0A1001110011111110%0A0101000011100011%0A1110110101001110%0A0010100111000110%0A1000110111011010%0A0100101000100101%0A0001010101100011%0A1001010000111101%0A1000111011000010&amp;a=1&amp;m=1" rel="nofollow noreferrer">Bonus 44 byte program</a> - this version inputs and outputs using the grid format.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 118 bytes</h1>

<pre><code>(r=ReplacePart)[0#,Cases[#~Position~1,p_/;(c=Max@MorphologicalComponents[#,CornerNeighbors-&gt;1&lt;0]&amp;)@r[#,p-&gt;0]&gt;c@#]-&gt;1]&amp;
</code></pre>

<p><a href="https://tio.run/##bY3BCoMwEER/RRBEIdJ4bpWAZ4v0KqGkEjWg2RBzKIj@eqoUaSzCsgwz@2YHZjo@MCNqZhsvtaFOH1z1rOYl0yaqsI9yNvKx8pcSRmEEyCVB6nm5hnVasDcpQKsOemjXhj6HQYHk0qz3KActub5z0XYv0GOcJTdMg4joNVNxhmlWE5@uNg1sqYU0pCHTlCDvO3jfm5iRN7n2T28J3u/ccZg/7Ji4r45tyQmDHebsz5GZ7Qc" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 290 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda m:[[b([[C and(I,J)!=(i,j)for J,C in e(R)]for I,R in e(m)])!=b(eval(`m`))for j,c in e(r)]for i,r in e(m)]
def F(m,i,j):
&#9;if len(m)&gt;i&gt;=0&lt;=j&lt;len(m[i])&gt;0&lt;m[i][j]:m[i][j]=0;F(m,i,j+1);F(m,i,j-1);F(m,i+1,j);F(m,i-1,j)
b=lambda m:sum(F(m,i,j)or c for i,r in e(m)for j,c in e(r))
e=enumerate
</code></pre>

<p><a href="https://tio.run/##XVBNb8MgDD0vv4L1BKo7kR3TkEulSe2xV4ZU0hCNKJCIppv26zPIV7PKAj/7PRvj9rf7aux7X7LPvpYmLyQyCec55vyApC3wEU7klWENFSkbh05wQNoihc9EhPgI5zE2RHhdjtW3rPHFXMggr@A60m6Ua3CLPCpUiT6wgdA7iV50iWplPZPpjNGUVekQci1IRtPgeSWSyTO6n0q3MZnhbobb2Lcc4S7AKGfL5253g@dX/URX9DTX09gkUkzZu1FOdqoPpGt@Aln6FcUQjA7H3wIiPicmH1IU1raoHrpVau62Koz/q@ikeur1UImwzNZp26EN2rxVjfZblC2@dQ5QAJ6B8AtCSP8H" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>-11 bytes thanks to Rod<br>
-11 bytes thanks to Lynn</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/157554/">157554</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




