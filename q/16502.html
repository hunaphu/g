<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::16502</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>224</td><td>Pascal</td><td>241128T101002Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/276933#276933">Kai Burg</a></td></tr>
<tr d-ix="1"><td>035</td><td>05AB1E nolazy</td><td>210527T025554Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/226334#226334">Makonede</a></td></tr>
<tr d-ix="2"><td>nan</td><td>zsh</td><td>131228T194958Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/16504#16504">Ry-</a></td></tr>
<tr d-ix="3"><td>062</td><td>Two bash based answers 52 and</td><td>140511T221401Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/26943#26943">F. Hauri</a></td></tr>
<tr d-ix="4"><td>066</td><td>AWK</td><td>210609T065105Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/229312#229312">cnamejj</a></td></tr>
<tr d-ix="5"><td>122</td><td>Tcl</td><td>181224T000614Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/177987#177987">sergiol</a></td></tr>
<tr d-ix="6"><td>049</td><td>Powershell</td><td>181224T053548Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/177992#177992">mazzy</a></td></tr>
<tr d-ix="7"><td>052</td><td>PHP</td><td>181226T090840Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/178052#178052">Titus</a></td></tr>
<tr d-ix="8"><td>035</td><td>SmileBASIC</td><td>181226T031158Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/178044#178044">12Me21</a></td></tr>
<tr d-ix="9"><td>7170</td><td>Lua</td><td>181224T032225Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/177989#177989">cyclamin</a></td></tr>
<tr d-ix="10"><td>077</td><td>Python</td><td>131230T121314Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/16793#16793">AsksAnyw</a></td></tr>
<tr d-ix="11"><td>039</td><td>Windows Batch</td><td>171127T201453Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/149263#149263">peter fe</a></td></tr>
<tr d-ix="12"><td>120</td><td>Perl</td><td>140517T012047Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/28139#28139">Heiko Ob</a></td></tr>
<tr d-ix="13"><td>072</td><td>Ruby</td><td>140517T003424Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/28136#28136">Aearnus</a></td></tr>
<tr d-ix="14"><td>065</td><td>C</td><td>140516T004044Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/27091#27091">Fors</a></td></tr>
<tr d-ix="15"><td>nan</td><td></td><td>140515T091339Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/27073#27073">jaybee3</a></td></tr>
<tr d-ix="16"><td>099</td><td>Groovy</td><td>140514T214707Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/27060#27060">Michael </a></td></tr>
<tr d-ix="17"><td>089</td><td>PHP</td><td>140514T084328Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/27037#27037">MisterBl</a></td></tr>
<tr d-ix="18"><td>045</td><td>PHP</td><td>140511T123041Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/26930#26930">mleko</a></td></tr>
<tr d-ix="19"><td>nan</td><td></td><td>140511T151936Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/26936#26936">draegtun</a></td></tr>
<tr d-ix="20"><td>172</td><td>PHP</td><td>140511T010111Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/26921#26921">Spedward</a></td></tr>
<tr d-ix="21"><td>162</td><td>C</td><td>140511T002032Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/26919#26919">bacchusb</a></td></tr>
<tr d-ix="22"><td>048</td><td>Windows Batch File</td><td>140510T191344Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/26907#26907">kitcar20</a></td></tr>
<tr d-ix="23"><td>nan</td><td></td><td>131230T112419Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/16790#16790">tamasgal</a></td></tr>
<tr d-ix="24"><td>024</td><td>Shell script</td><td>131229T000810Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/16569#16569">Darren S</a></td></tr>
<tr d-ix="25"><td>nan</td><td></td><td>131228T203012Z</td><td><a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files/16517#16517">user1148</a></td></tr>
</table>
<div id="pu0" class="pu"><h2>Pascal, 224 B</h2>
<p>This complete Pascal <code>program</code> requires a processor meeting the requirements of ISO standard 7185 “Standard Pascal” or ISO standard 10206 “Extended Pascal”.</p>
<pre class="lang-pascal prettyprint-override"><code>program X(A,B);var A,B,C:text;Z:char;procedure M(var S,D:text);begin
reset(S);rewrite(D);while not EOF(S) do
begin while not EOLn(S) do
begin read(S,Z);write(D,Z)end;readLn(S);writeLn(D)end
end;begin M(A,C);M(B,A);M(C,B)end.
</code></pre>
<p>The notion of files being organized in a file system is foreign to Pascal so renaming files is not an option.
Commented:</p>
<pre class="lang-pascal prettyprint-override"><code>program swap(A, B);
    var
        A, B, C: text;
    procedure copy(var source, destination: text);
        var
            buffer: char;
        begin
            reset(source);
            rewrite(destination);
            
            while not EOF(source) do
            begin
                { A `text` file is a (possibly empty) sequence of lines.
                  Each line is a (possibly empty) sequence of `char` values
                  followed by one implementation‐defined end‐of‐line sequence. }
                while not EOLn(source) do
                begin
                    read(source, buffer);
                    write(destination, buffer)
                end;
                { `Read` can (by design) not read across lines. }
                readLn(source);
                { Upon reaching the end of a line, the file buffer `source↑`
                  returns the `char` value of a space character.
                  Therefore, in Pascal the only correct method of
                  emitting an end‐of‐line character sequence is `writeLn`. }
                writeLn(destination)
            end
        end;
    begin
        copy(A, C); { original A =                  C }
        copy(B, A); { original B =              new A }
        copy(C, B)  {          C = original A = new B }
    end.
</code></pre>
<p>Note that the method of associating program parameters with external entities is implementation‐defined.
For example the <a href="https://www.GNU-Pascal.de/" rel="nofollow noreferrer" title="Homepage of the GNU Pascal Compiler">GNU Pascal Compiler</a> prompts you for pathnames when <code>reset</code> or <code>rewrite</code> are invoked for the first time:</p>
<pre class="lang-none prettyprint-override"><code>Input file `A': i.txt
Input file `B': o.txt
</code></pre>
<p>The <code>i.txt</code> and <code>o.txt</code> are user input (i. e. not generated by the <code>program</code>) and only <code>program</code> parameters are queried in this fashion (so not <code>C</code>).</p>
<p>The FreePascal Compiler in its (not yet mature) ISO compiler compatibility mode, on the other hand, expects pathnames as command‐line arguments.
However, as of version 3.2.4 the FreePascal Compiler does not support anonymous files; the <code>text</code> file <code>C</code> is not associated with a pathname and the FPC cannot deal with that (fails miserably).</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a> <code>--no-lazy</code>, <s>39</s> <s>37</s> 35 bytes</h1>
<p><em>-2 thanks to <a href="https://codegolf.stackexchange.com/users/52210/kevin-cruijssen">Kevin Cruijssen</a>.</em></p>
<pre><code>'°ŽDÀøεS’.í¼t&quot;’«`’File.‚™‚ˆ&quot;ÿ,&quot;ÿ’.E
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f@oYd7hmYf7HjXsPLRJWf3w4kcNuw7vKKtMeNQw0y0zJ1XvUcPCw2s11A/v1zu89tCeEnUdIFNdEyir5wpSNAekSAEoW1JR8qhpzaGlRxccngZkHN0LMng5UAaoRqf2v/qhDUf3uhxuOLzj3NZgkG6waUpA1qHVSHbNetSyCEieblM6vF9HCaQZaM//Woi7yiqRFB6eoYjkKqiDMNxzeDLIURuQ3fL/v65uXr5uTmJVJQA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a> Link includes a header and footer to create the files and prove that it worked.</p>
<pre class="lang-erl prettyprint-override"><code>'°ŽDÀøεS’...’«`’...’.E  # trimmed program
      ε                 # for each in...
     ø                  # all characters of...
'°Ž                     # &quot;bio&quot;...
     ø                  # paired with corresponding characters of...
'°ŽD                    # &quot;bio&quot;...
    À                   # rotated left one character...
                    .E  # evaluate...
               ’...’    # &quot;File.rename\&quot;ÿ\&quot;,\&quot;ÿ\&quot;&quot;...
                        # (implicit) with the first ÿ replaced by...
              `         # second element of...
       S                # list of characters of...
                        # (implicit) current element...
                        # (implicit) with each element...
             «          # concatenated with...
        ’...’           # &quot;.txt&quot;...
                        # (implicit) with the second ÿ replaced by...
              `         # first element of...
        S               # list of characters of...
                        # (implicit) current element...
                        # (implicit) with each element...
              «         # concatenated with...
         ’...’          # &quot;.txt&quot;...
                    .E  # as Elixir code

====================

File.rename  # full program
File.rename  # rename file with name argument 1 to argument 2
</code></pre>
</div>
<div id="pu2" class="pu"><h2>zsh, 20 + 4 = 24</h2>
<p>The script needs to be named <code>.txt</code>.</p>
<pre><code>(mv [io]$0;&gt;i$0)&lt;o$0
</code></pre>
<p>or <strong>14</strong> with parameters:</p>
<pre><code>(mv $@;&gt;$1)&lt;$2
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Two <a href="/questions/tagged/bash" class="post-tag" title="show questions tagged &#39;bash&#39;" rel="tag">bash</a> based answers; 52 and 62 chars</h1>
<h2>shell: diff + patch (+ tee + sed...) 52</h2>
<p>Maybe not the shorter, but I find this fun (and there is no use of <em>temporary</em> file):</p>
<pre><code>diff -u [io]*|tee &gt;(patch -r -)|sed 1s/i/o/|patch -R
</code></pre>
<p>Where content is swapped and files are modified <strong>in place</strong>:</p>
<h3>Sample run</h3>
<pre><code>swapContent() { diff -u $1 $2|tee &gt;(patch -r -)|sed 1s/$1/$2/|patch -R ;}

while read page file ;do man -Pcol\ -b $page &gt;$file.txt;done &lt;&lt;&lt;$'man i\nbash o'
printf &quot;%s %8d  %s\n&quot; $(join -j 2 &lt;(stat -c '%s %n' [io]*) &lt;(md5sum [io]*))
swapContent [io]*
printf &quot;%s %8d  %s\n&quot; $(join -j 2 &lt;(stat -c '%s %n' [io]*) &lt;(md5sum [io]*))
</code></pre>
<p>Could produce something like:</p>
<pre><code>i.txt    46007  1da1f7533e0eab1e97cce97bb7ca1d3b
o.txt   321071  7dcd230890faf4ef848d4745eda14407
patching file o.txt
i.txt   321071  7dcd230890faf4ef848d4745eda14407
o.txt    46007  1da1f7533e0eab1e97cce97bb7ca1d3b
</code></pre>
<h2>use of xargs to <em>simplify</em> <code>mv</code> requests</h2>
<p>Not as funny, but nice anyway.</p>
<pre><code>set -- {i,o}.txt t&amp;&amp;eval 'xargs -n2 mv&lt;&lt;&lt;&quot;' \${1,3,2,1,3,2} \&quot;
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, 66 bytes</h1>
<pre><code>a=FILENAME,b=!b?a:b{c[a]=c[a]$0RS}END{printf c[a]&gt;b;printf c[b]&gt;a}
</code></pre>
<p><a href="https://tio.run/##SyzP/v8/0dbN08fVz9HXVSfJVjHJPtEqqTo5OjHWFkSoGAQF17r6uVQXFGXmlaQpgMTskqzhvKRYu8Ta//8B" rel="nofollow noreferrer" title="AWK – Try It Online">Try it online!</a></p>
<p>Note: I provided a TIO line, but I have no idea how to make it work when the code needs to read from input files?</p>
<p>The rename approaches seem to be much shorter, but here's one in AWK that copies the data instead.  At a high level, it takes a commandline like,</p>
<pre><code>gawk '...code...' i.txt o.txt
</code></pre>
<p>which feeds both files into the program on STDIN. It uses the magic variable <code>FILENAME</code> to cache the contents of each one into a separate entry in an associative array.  Then the <code>END</code> clause just overwrites each file with the content from the other one.</p>
<p>The &quot;test&quot; per line, which is always truthy, sets <code>a</code> to the current filename over and over.  And it also ensures <code>b</code> is to the first filename seen.</p>
<pre><code>a=FILENAME,b=!b?a:b
</code></pre>
<p>The code block executed per line, just appends the current line to the accumulated data for the current filename.</p>
<pre><code>c[a]=c[a]$0RS
</code></pre>
<p>Then once all the lines from both files have been read, the <code>END</code> code block writes out the files with the content swapped.</p>
<pre><code>printf c[a]&gt;b;printf c[b]&gt;a
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="http://tcl.tk/" rel="nofollow noreferrer">Tcl</a>, 122 bytes</h1>

<pre><code>set A [read [open i.txt]]
puts [set i [open i.txt w]] [read [open o.txt]]
puts [set o [open o.txt w]] $A
close $i
close $o
</code></pre>

<p><a href="https://tio.run/##jY/BCsIwDIbveYpQd/Yd5uykIC3owMPoQWaFwjDDVfTtqx0tzrnDcgrJ/@f745rWr4oDzyuOFkux59Abh1eLNXXmhnbtXg6fGrqH6zH7zNmG74REVaIAsaSAy@0gZ9C01JtwBSBBaQSlCKUJlEZQBWpJJaj6Qgl8oORY3835Mv5PR1Id9tPP9Y@e/vTT0BqzPDFtasgPBib5CQslKy6rY4hnWbw0EwnmLTRjian8Gw" rel="nofollow noreferrer" title="Tcl – Try It Online">Try it online!</a></p>

<hr>

<p><s></p>

<h1><a href="http://tcl.tk/" rel="nofollow noreferrer">Tcl</a>, 169 bytes</h1>

<pre><code>set A [read [set i [open i.txt r]]]
set B [read [set o [open o.txt r]]]
close $i
close $o
puts [set i [open i.txt w]] $B
puts [set o [open o.txt w]] $A
close $i
close $o
</code></pre>

<p><a href="https://tio.run/##jY/BCoMwDIbveYrgPO8d1NUhjBY2YQfpYTgHBVlEO9zbO1sVq/NgTm2S///@6LzsDtGVBSlDhXFyYdAUGl8KM6qKN6qj/mpsJVQf3aDf972QnROOIsYEkj0FjJ/sugd5SU1hXAAmKDlQGqG0gpIDFSD21AQVM5SgM5QAs7p4PDEzn@WZtZTSJgndnWUquzNaqulBQ9INy1ZK9ENnvL6xHwf/fp0VeJzdMRI8ZTy9mWuUNzoN6WZOnwm2JbQhoUHS/QA" rel="nofollow noreferrer" title="Tcl – Try It Online">Try it online!</a></p>

<p></s></p>
</div>
<div id="pu6" class="pu"><h1>Powershell, <s>44</s> 49 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>$t='.txt'
ren i$t a$t -fo
ren o$t i$t
ren a$t o$t
</code></pre>

<p>where <code>ren</code> is alias for <a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/rename-item" rel="nofollow noreferrer">Rename-Item</a>. The script uses and delete a third file <code>a.txt</code>.</p>
</div>
<div id="pu7" class="pu"><h1>PHP, 52 bytes</h1>
<p><a href="https://codegolf.stackexchange.com/a/16793/55735">AsksAnyway´s php</a> modernized &amp; golfed:</p>
<pre><code>($r=rename)(i.$e=&quot;.txt&quot;,x);$r(o.$e,i.$e);$r(x,o.$e);
</code></pre>
<p>Run with <code>php -nr '&lt;code&gt;'</code>.</p>
</div>
<div id="pu8" class="pu"><h1>SmileBASIC, <s>36</s> 35 bytes</h1>
<pre><code>@L
RENAME@OI[2-I],@IO[I]I=I+1GOTO@L
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.lua.org" rel="nofollow noreferrer">Lua</a>, <del>71</del> 70 bytes</h1>



<pre class="lang-lua prettyprint-override"><code>_ENV=os t='.txt'i,o,r='i'..t,'o'..t,rename r(i,t)r(o,i)r(t,o)remove(t)
</code></pre>

<p><a href="https://tio.run/##tc6xCsJADAbg3afIlguk9wDCja6OrnLQDAF7Kbkovn0tVToIji75h//jJ7d7XYYBZtcWqfYuvodatlkaoOZ4BtLRpY6AFYnhh7RvScv1dL4U6xAFt1LZ2Asq5hyMtoVLq5OAJ@UgT8a63mAjl8kekoL@@uNhHf@oZgG7fMPlBQ" rel="nofollow noreferrer" title="Lua – Try It Online">Try it online!</a></p>

<p>Define <code>os</code>, the operating system library, as the global table so we can write <code>rename</code> and <code>remove</code> instead of <code>os.rename</code> and <code>os.remove</code>. (Incidentally this also means the one-letter variables are actually fields in the <code>os</code> table.) Make short alias for <code>os.rename</code> to save some space. Set up filename variables, using <code>'.txt'</code> as temporary file. Do the renaming and deleting.</p>
</div>
<div id="pu10" class="pu"><h1>Python, 77</h1>

<pre><code>import os;t='.txt';r,i,o,x=[os.rename,'i'+t,'o'+t,'1'+t];r(i,x);r(o,i);r(x,o)
</code></pre>

<h1>Python, 65</h1>

<pre><code>import os;t='.txt'
for a,b in zip('iox','xio'):os.rename(a+t,b+t)
</code></pre>

<h1>Python, 63</h1>

<pre><code>import os;t='.txt'
for a,b in 'ix','oi','xo':os.rename(a+t,b+t)
</code></pre>

<h1>PHP, 68</h1>

<pre><code>&lt;?$r=rename;$t='.txt';$r("i$t","x");$r("o$t","i$t");$r("x","o$t");?&gt;
</code></pre>

<h1>Windows Batch File, 42</h1>

<pre><code>move i.txt x&amp;move o.txt i.txt&amp;move x o.txt
</code></pre>

<h1>Windows Batch File (args), 30</h1>

<pre><code>move %1 x&amp;move %2 %1&amp;move x %2
</code></pre>
</div>
<div id="pu11" class="pu"><h2>Windows Batch, 39 bytes</h2>

<pre><code>ren i.txt x&ren o.txt i.txt&ren x o.txt</code></pre>
</div>
<div id="pu12" class="pu"><h1>Perl, 120 bytes (Contents swapping without file renaming)</h1>

<pre class="lang-perl prettyprint-override"><code>use open IO,':bytes';undef$/;open I,"&lt;i.txt";$I=&lt;I&gt;;open I,"&lt;o.txt";open O,"&gt;i.txt";print O&lt;I&gt;;open O,"&gt;o.txt";print O$I
</code></pre>

<p>The file contents is put into memory and written back to the other file. Thus <code>i.txt</code> and <code>o.txt</code> must fit into memory.</p>

<p>Since the file contents are actually exchanged, hard links are updated automatically, see AJManfield's <a href="https://codegolf.stackexchange.com/questions/16502/swap-contents-of-two-files#comment59884_16502">comment</a>.</p>

<p><strong>Ungolfed:</strong></p>

<pre class="lang-perl prettyprint-override"><code>use open IO =&gt; ':bytes'; # binmode, not needed for Unix, but needed for Windows
undef $/;                # read whole file instead of lines
open I, "&lt;i.txt";        # open i.txt for reading
$I = &lt;I&gt;;                # read i.txt
open I, "&lt;o.txt";        # open o.txt for reading
open O, "&gt;i.txt";        # open i.txt for writing
print O &lt;I&gt;;             # read o.txt and put the contents in i.txt
open O, "&gt;o.txt";        # open o.txt for writing
print O $I;              # write o.txt with contents of old i.txt
</code></pre>
</div>
<div id="pu13" class="pu"><h2>Ruby, 72 bytes</h2>

<p>Wow! A Ruby code golf! I don't think that's ever been attempted before!</p>

<p>In all reality though, this required some nice Ruby shortcuts and a couple patterns which I found. It was my first golf ever and it was very fun to do. Without further ado, here's the golfed code:</p>

<pre><code>3.times{|x|x*=2;t=".txt";a=([?i,?a,?o]*2);File.rename(a[x]+t,a[x+1]+t)}
</code></pre>

<p>And the ungolfed version</p>

<pre><code>3.times do |x|
    x = x * 2
    t=".txt"
    a=([?i,?a,?o]*2)
    File.rename(a[x]+t, a[x+1]+t)}
end
</code></pre>

<p>The key factor in this is that the parameters passed to the <code>File.rename</code> are this, exactly:</p>

<pre><code>File.rename "i.txt", "a.txt"
File.rename "o.txt", "i.txt"
File.rename "a.txt", "o.txt"
</code></pre>

<p>Hope this (doesn't) make sense!</p>
</div>
<div id="pu14" class="pu"><h1>C: 65 characters</h1>



<pre class="lang-c prettyprint-override"><code>#define r(a,b)rename(#a".txt",#b".txt");
main(){r(i,)r(o,i)r(,o)}
</code></pre>

<p>A quite simple solution in C that does the job. It uses a temporary name (<code>.txt</code>) for one of the files before giving it its proper new name.</p>

<p>Ungolfed (note how the syntax highlighting fails in the define, a bug has been uncovered!):</p>

<pre class="lang-c prettyprint-override"><code>#include &lt;stdio.h&gt;

#define r(a, b) rename(#a ".txt", #b ".txt");

int main()
{
    r(i,  ) // rename("i.txt",  ".txt");
    r(o, i) // rename("o.txt", "i.txt");
    r( , o) // rename( ".txt", "o.txt");

    return 0;
}
</code></pre>
</div>
<div id="pu15" class="pu"><h1>VBA (148...132) and (126...110)</h1>

<p>Renaming with a temp file t in the c:\ drive. Also first attempt at golf :S</p>

<pre><code>Sub s():Set f=CreateObject("Scripting.FileSystemObject"):i="c:\i.txt":t="c:\t":f.MoveFile i,t:f.MoveFile "c:\o.txt",i:Kill t:End Sub
</code></pre>

<p>If scrrun.dll is referenced already, could cut it down a bit to 126...110.</p>

<pre><code>Sub s():Set f=new FileSystemObject:i="c:\i.txt":t="c:\t":f.MoveFile i,t:f.MoveFile "c:\o.txt",i:Kill t:End Sub
</code></pre>
</div>
<div id="pu16" class="pu"><h2>Groovy - 99 chars</h2>

<p>This is my attempt, with Groovy 2.2.1. I tried to do it without renaming:</p>

<pre><code>f={new File(it+".txt")}
w={x,y-&gt;x.withWriter{it.write y}}
i=f "i"
o=f "o"
t=i.text
w i,o.text
w o,t
</code></pre>

<p>Ungolfed:</p>

<pre><code>file = { new File(it+".txt") }
writeTextToFile = { x,y -&gt; x.withWriter{it.write y} }

iFile = file("i")
oFile = file("o")

iText = iFile.text
writeTextToFile (iFile,oFile.text)
writeTextToFile (oFile,iText)
</code></pre>
</div>
<div id="pu17" class="pu"><h2>PHP, 89</h2>

<p>I thought I'd give it a shot.</p>

<pre><code>&lt;?php $f1='f1.txt';$f2='f2.txt';$ft='ft.txt';copy($f1,$ft);copy($f2,$f1);rename($ft,$f2);
</code></pre>

<p>Ungolfed version:</p>

<pre><code>&lt;?php
$f1 = 'f1.txt';
$f2 = 'f2.txt';
$ft = 'ft.txt';

copy($f1, $ft);
copy($f2, $f1);
rename($ft, $f2);
</code></pre>

<p>Apparently I took 2 answers of here and combined them.. oh well.</p>
</div>
<div id="pu18" class="pu"><h1>PHP, 45</h1>
<pre class="lang-php prettyprint-override"><code>&lt;?php
copy('i','t');copy('o','i');rename('t','o');
</code></pre>
<p>Not very golfy but shortest PHP so far.</p>
</div>
<div id="pu19" class="pu"><h1>Rebol - 46 (rename file) or 55 (r/w contents)</h1>
<p>Rename file (using <code>t</code> as temporary file):</p>
<pre><code>r: :rename 
r i: %i.txt %t
r o: %o.txt i
r %t o
</code></pre>
<p>Read in then write out file contents:</p>
<pre><code>a: read i: %i.txt
b: read o: %o.txt
write o a 
write i b
</code></pre>
</div>
<div id="pu20" class="pu"><p><strong>PHP</strong> - 172</p>

<p>Golfed version of @EisaAdil's answer</p>

<pre><code>$f1='file1.txt';$f2='file2.txt';$f1contents=file_get_contents($f1);$f2contents=file_get_contents($f2);file_put_contents($f1,$f2contents);file_put_contents($f2,$f1contents);
</code></pre>
</div>
<div id="pu21" class="pu"><h2>C 162</h2>

<p>Golfed: uses t.txt as tmp file and swaps names then removes t.txt.</p>

<pre><code>#include &lt;stdio.h&gt;
#define R(x,y) rename(x,y)
#define X(x) remove(x)
int main(){char *i="i.txt",*o="o.txt",*t="t.txt";R(i,t);X(i);R(o,i);R(t,o);X(t);return 0;}
</code></pre>

<p>Edit: removed 2 spaces</p>
</div>
<div id="pu22" class="pu"><h1>Windows Batch File (48)</h1>

<pre><code>type i.txt&gt;a&amp;type o.txt&gt;i.txt&amp;type a&gt;o.txt&amp;del a
</code></pre>

<p>I forgot about the move command when I wrote this...</p>
</div>
<div id="pu23" class="pu"><p><strong>Python:</strong></p>

<pre><code>import os
l,e='i_o'*2,'.txt'
for x,y in zip(l,l[1:])[::2]:
 os.rename(x+e,y+e)
</code></pre>
</div>
<div id="pu24" class="pu"><h2>Shell script, 24</h2>

<p>Works in Bash and probably most shells.  Pass with your two filenames as parameters.</p>

<pre><code>mv $1 ੴ;mv $2 $1;mv ੴ $2
</code></pre>

<p>If you want fixed filenames then this will do it, for a 12 char penalty:</p>

<pre><code>mv i.txt ੴ;mv o.txt i.txt;mv ੴ o.txt
</code></pre>
</div>
<div id="pu25" class="pu"><h1>Ruby</h1>
<pre><code>i1=&quot;i.txt&quot;
i2=&quot;o.txt&quot;
c1=IO.readlines(i2)
c2=IO.readlines(i1)
File.open(i1){|x|x.puts(c1)}
File.open(i2){|x|x.puts(c2)}
</code></pre>
<p>Shortened version:</p>
<pre><code>a=[&quot;i.txt&quot;,&quot;o.txt&quot;]
(0..1).each{|x|b[x]=IO.readlines(a[x])*&quot;\n&quot;}
a.reverse!
(0..1).each{|x|IO.write(a[x],b[x])}
</code></pre>
<p>Not the shortest, but very simple and easy to read. Also, no intermediate files, only RAM.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/16502/">16502</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




