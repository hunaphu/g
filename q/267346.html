<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::267346</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>264</td><td>Python3</td><td>240828T170838Z</td><td><a href="https://codegolf.stackexchange.com/questions/267346/night-hike-partitioning/275208#275208">Ajax1234</a></td></tr>
<tr d-ix="1"><td>114</td><td>Perl 5 MListUtil=uniq F</td><td>231211T165908Z</td><td><a href="https://codegolf.stackexchange.com/questions/267346/night-hike-partitioning/267464#267464">Xcali</a></td></tr>
<tr d-ix="2"><td>106</td><td>JavaScript ES6</td><td>231207T222536Z</td><td><a href="https://codegolf.stackexchange.com/questions/267346/night-hike-partitioning/267358#267358">Arnauld</a></td></tr>
<tr d-ix="3"><td>096</td><td>JavaScript Node.js</td><td>231208T035848Z</td><td><a href="https://codegolf.stackexchange.com/questions/267346/night-hike-partitioning/267360#267360">l4m2</a></td></tr>
<tr d-ix="4"><td>015</td><td>Jelly</td><td>231207T194237Z</td><td><a href="https://codegolf.stackexchange.com/questions/267346/night-hike-partitioning/267357#267357">Jonathan</a></td></tr>
<tr d-ix="5"><td>006</td><td>Nekomata</td><td>231207T135421Z</td><td><a href="https://codegolf.stackexchange.com/questions/267346/night-hike-partitioning/267354#267354">alephalp</a></td></tr>
<tr d-ix="6"><td>016</td><td>05AB1E</td><td>231207T081825Z</td><td><a href="https://codegolf.stackexchange.com/questions/267346/night-hike-partitioning/267347#267347">Kevin Cr</a></td></tr>
<tr d-ix="7"><td>052</td><td>Charcoal</td><td>231207T114203Z</td><td><a href="https://codegolf.stackexchange.com/questions/267346/night-hike-partitioning/267350#267350">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 264 bytes</h1>
<pre class="lang-py prettyprint-override"><code>def f(m,n):
 q,s=[(m-1,n,['X'])],[]
 for m,n,g in q:
  if m==0 and n==0:s+=[tuple(sorted(g))];continue
  if m:
   q+=[(m-1,n,g[:-1]+['X'+g[-1]])];q+=[(m-1,n,g+['X'])]
   if n:q+=[(m-1,n-1,g+['Xx'])]
  if n and'X'in g[-1]:q+=[(m,n-1,g[:-1]+[g[-1]+'x'])]
 return{*s}
</code></pre>
<p><a href="https://tio.run/##TZDBCsIwEETP9iv21sREsHqRSv9DCDmITWrAbts0BUX89rqpQT0EFt7Mzmz6R7h2uD/0fp5rY8GyViIvMxjkWCnWbgqJUuWnXHMtlc7Adh5IIhtwCAMJwVloq2oLZ6wBaShHUakw9TfDxs4HU7OGc328dBgcTiY5ohMG8c1oVLkptIhRolE0UuDxn4vUIvpoAZY/SG/B98QjjnXIQCWXbUn90aaoBYg8ubwJk8fnenzN8UYX77NsL3f0G6veOwzM8fkN" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-MList::Util=uniq -F</code>, 114 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$X=y/X//;$x=y/x//;say for uniq grep{s/^ +| +$//g;!/xX|\bx+\b|  /&amp;&amp;$X==y/X//&amp;&amp;$x==y/x//}sort glob&quot;{X,x,' '}&quot;x(@F*3)
</code></pre>
<p><a href="https://tio.run/##Jc3BCoJAFIXhV7mJaKV2jXCjCK1c1TKYhQQJKgPi2MwEVxxfvWnC1flW/5laOWTW@qyckSEWPjmQg3rN0AkJn5G/oZfttCh8QmQg8hH7YofETN1QVDcGAIPAFbaEI5VbZFVCaugH0XgLiykOIVw92l@r4@VgLWNEXzFpLkZlk3t2Ss@p2xtXOs8fmg/l/9sm1Q8" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>It's extremely slow.  TIO times out on any input longer than 4 characters.</p>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES6), 106 bytes</h1>
<p><em>-1 thanks to @l4m2</em></p>
<p>Expects a string with leading <code>1</code>'s for <code>X</code>'s and trailing <code>0</code>'s for <code>x</code>'s.</p>
<p>Returns a single string with commas and line breaks as separators.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(s,o=O=[],p=&quot;1&quot;)=&gt;s-(q=s.replace(p,&quot;&quot;))?f(q,[...o,p].sort())+f(s,o,p+0)+f(s,o,p+1):O[o]||s?&quot;&quot;:O[o]=o+`
`
</code></pre>
<p><a href="https://tio.run/##RZBBi8IwEIXv/RVDTgkd0/W6Ej3tudeBUrDE1lVKExtZCupv7ybTihPIvHzvzRxybf6aYMeLv28Gd2rnuTMyoDOlqWr0RmyFMvuwkTcT9Nj6vrGt9CiEUodO3rDSWjv0tQ5uvEul8i5No8@/PnKrvsvK1c9nOAjB0rj8mB3nXZUBCBIIXEUBxGBKFWkCrJkSsyUWNdIUXaQUWfw1wD4H2IttCUYNlPILBcbrJJF4b46F6QJuQGvjJ9C7LwDWk9WZ7tz409hfGcDs4RH3RgGfPyt0cUawyRQTCX0ZTu1UdtIqtYth64bg@lb37izjvyX4UvM/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 96 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(s,o=[],p=&quot;1&quot;)=&gt;s-(q=s.replace(p,&quot;&quot;))&amp;&amp;p&lt;o[0]+f?f(q,[p,...o])+f(s,o,p+0)+f(s,o,p+1):s?&quot;&quot;:o+`
`
</code></pre>
<p><a href="https://tio.run/##RZDBasMwDIbveQrhQ7GJ6rTXdm5PO@8qCIEGN@46QuzGYwTGnj2zlZTKYP369EsHfbU/bbTjPXxvB3/t5tkZGdGbusFgxF4oc4pb@TBRj13oW9vJgEIotdmEN1/vmtKdnXxgHVBr7RtVujyOody95F4d4lmIgy8vxWU@1gWAIIHAUVVADKYciWbAmimt9FnwWLYkjTQlK1L2L/3VwH02cC@lxZg0UPYvFBivk0TiuTkF5g84Aa2JS6BnXgCsr2gK7fz43tpPGcGc4DftTQJeh6t0dUOwuSkmEvo@XLvpw0mr1DGZrR@i7zvd@5tMl8vwT83/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>From Arnauld's</p>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 82 bytes, slow</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(s,o=[],p=s)=&gt;p?(s-(q=s.replace(p,&quot;&quot;))?f(q,[p,...o],p):'')+f(s,o,p-1):s?'':o+`
`
</code></pre>
<p><a href="https://tio.run/##RY5Bi8IwEIXv/RUhl2YwiXi0kva0570KRTDExK2WTuwUKS771zebKrhzeY/53vDmYu@W3NjFSQ148ikFI0iiaQ8yGgJTx0aQEjdDevSxt86LKDkHaIK4yTZKrTXmLFRlCauw3MqoNlBRU5YVro7FMe3agjG@5/Ipb53fZnGHQgccP6z7EsRMzb4zy4b99671@iyZWyCf91x3w8nPn0E4gF0OOxwIe697PIv8x7L8gfSLceoySYom666Kuoc329f8AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 15 bytes</h1>
<p><sup>I'm very prepared for a smarter approach to trounce this!</sup></p>
<pre><code>Œ!ŒṖ€ẎṢ€ṢẸƇƊƑƇQ
</code></pre>
<p>A monadic Link that accepts a list of zeros (no torch) and ones (has torch) that yields a list of the possible partitions.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///oJMWjkx7unPaoac3DXX0Pdy4CMXYuerhrx7H2Y13HJh5rD/x/uB2kZAZQJvL//2gDHRA0BMFYAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>Œ!ŒṖ€ẎṢ€ṢẸƇƊƑƇQ - Link: Hikers
Œ!              - all permutations of {Hikers}
  ŒṖ€           - list partitions of each
     Ẏ          - tighten to a single list of hiker partitions
             Ƈ  - keep those for which:
            Ƒ   -   is invariant under?:
           Ɗ    -     last three links as a monad - f(hiker partition):
      Ṣ€        -       sort each group
        Ṣ       -       sort that
          Ƈ     -       keep those for which:
         Ẹ      -         any? (has torch?)
              Q - deduplicate
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="noreferrer">Nekomata</a>, 6 bytes</h1>
<pre><code>Ooᵐᵗžũ
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFZtJJurlLsgqWlJWm6Fmv88x9unfBw6_Sj-46uXFKclFwMlVhw0zjaMJYr2kAHBmE8Q2QWmG2oA4WxEL0A" rel="noreferrer">Attempt This Online!</a></p>
<p>Takes input as a sorted list of <code>1</code>s and <code>0</code>s, where <code>1</code> means with torch and <code>0</code> means without torch.</p>
<pre><code>Ooᵐᵗžũ
O       Set partition; split the input into a list of subsets
 o      Sort
  ᵐᵗž   Check that each subset contains at least one nonzero element
     ũ  Remove duplicate solutions
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 16 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>œ€.œ€`€€{€{êʒ€àP
</code></pre>
<p>I/O as a list of <code>1</code>s/<code>0</code>s for <code>X</code>s/<code>x</code>s respectively.</p>
<p>I have the feeling the first part of the code can be substantially shorter and I'm missing some obvious builtin combinations.. :/</p>
<p><a href="https://tio.run/##yy9OTMpM/f//6ORHTWv0wGQCEANRNQgfXnVqEpA@vCDg//9oQx0QNNAxiAUA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V@m5JlXUFpipaCgZF/pYu8V8qhhXkTFo4aFSgoah/drKulwKfmXloBVABX8Pzr5UdMaPTCZAMRAVA3Ch1edmgSkDy8I@F/rYg80QkHD/tzWc1sRxtXW2qtr6hzaZv8/OtowVifaUMcABsE8QyQWKhsMY2MB" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong>&quot;</p>

<pre class="lang-python prettyprint-override"><code>œ€.œ€`€€{€{ê # Get all unique sorted partitions:
œ            #  Get all permutations of the (implicit) input-list
 €.œ         #  Get all partitions of each permutation
    €`       #  Flatten this list of lists of lists of 1s/0s one level down
      €€{    #  Sort the values inside the parts of partitions
         €{  #  Sort the parts of each partition
           ê #  Sorted-uniquify the list of sorted partitions
ʒ            # Filter this list of partitions by:
 €à          #  Get the maximum of each part
   P         #  Take the product to check if all are truthy
             # (after which the filtered list is output implicitly)
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 52 bytes</h1>
<pre><code>⊞υ⟦⟧ＦＳ«≔υθ≔⟦⟧υＦθ«Ｆκ⊞υＥκ⎇⁼ν⌕κλ⁺μιμ¿⁼ιX⊞υ⊞ＯκX»»Φυ⁼κ⌕υι
</code></pre>
<p><a href="https://tio.run/##RY7PCsIwDIfP7imCpwbqE3jy4MCDONBDQTyUObWs67b@EUX27LWZG56SkC/fL@VD2rKVOsYiuAcLHM4XXGe31gLbmS74o7fK3BkifLLFxjl1N0T1CZrH84VDoHm86kfy19cIs3YvO1ZzOFXWSPtm2z5I7ZjhkCtzpY1G5FDo4FjDQaW@QSTpQt1gxhWHpVji30r10FVW@taSZNymoyEbsiI97lmutK8ssZOjniIDpVBEjEKI1yuunvoL" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Assumes the input contains <code>X</code>s optionally followed by <code>x</code>s. Explanation:</p>
<pre><code>⊞υ⟦⟧
</code></pre>
<p>Start with all possibilities of <code>0</code> elements.</p>
<pre><code>ＦＳ«
</code></pre>
<p>Loop over the elements.</p>
<pre><code>≔υθ≔⟦⟧υＦθ«
</code></pre>
<p>Loop over a saved copy of the possibilities and start collecting new possibilities.</p>
<pre><code>Ｆκ⊞υＥκ⎇⁼ν⌕κλ⁺μιμ
</code></pre>
<p>Add the current element to each of the unique lists in this possibility. (If there are duplicates then this doesn't prevent them, it just ensures that they are sorted so that they can be identified as duplicate.)</p>
<pre><code>¿⁼ιX⊞υ⊞ＯκX
</code></pre>
<p>If the current element is an <code>X</code> then also add it as a new list.</p>
<pre><code>»»Φυ⁼κ⌕υι
</code></pre>
<p>Deduplicate and output the found possibilities.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/267346/">267346</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




