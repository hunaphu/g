<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::277623</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>207</td><td>JavaScript ES8</td><td>250113T192321Z</td><td><a href="https://codegolf.stackexchange.com/questions/277623/draw-an-ascii-analog-digital-clock/277624#277624">Arnauld</a></td></tr>
<tr d-ix="1"><td>074</td><td>Charcoal</td><td>250113T230039Z</td><td><a href="https://codegolf.stackexchange.com/questions/277623/draw-an-ascii-analog-digital-clock/277627#277627">Neil</a></td></tr>
<tr d-ix="2"><td>129</td><td>Ruby</td><td>250113T210943Z</td><td><a href="https://codegolf.stackexchange.com/questions/277623/draw-an-ascii-analog-digital-clock/277625#277625">Level Ri</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (ES8), 207 bytes</h1>
<p>Expects <code>(&quot;HH&quot;)(&quot;MM&quot;)</code> and returns a matrix of characters.</p>

<pre class="lang-none prettyprint-override"><code>h=&gt;m=&gt;(C=[...(M=Math)+99].map(_=&gt;[...&quot;&quot;.padEnd(32)]),g=(n,s,z)=&gt;[1.072,2,z].map(i=&gt;[0,1].map(k=&gt;C[7.5+M.sin(q=(n-3)/1.9)*i*7/3|0][15.5+M.cos(q)*i/3*(n%3?13-~n%2:15.1)+k|0]=i?s[k]:&quot;#&quot;)))(h,h,!g(m/5,m,2.9))&amp;&amp;C
</code></pre>
<p><a href="https://tio.run/##RZDNboJAEIDvPsV0G82MLMtfiVWzeDAeeQJKGoIoqCwIpAf78@p0V5v0NDPffDPZ2VP2kfV5V7WDrZp9MR7kWMqolhFuZSKEwFjG2VCStVymos5afJeR4YyJNtvv1B4Dn1LiR4mK9/xGuu0Jd@Fzn98eE5VGLvcexVlG22QhQisWfaXwqsfsgBxPLGlezRdO8OWmiRfehbzp8aqxE8xRTYONF9g/auqvdNsj66xNWW365Jyu2DMjIix5yZ@OWDshr7mvV9Jsth3XyQQgAea@Mg7MDxmk/EE83xDX/SduYMiLcSbpRByabpflJWICJYcaUgIZwad2L8UAMUg4YElY01qjvFF9cynEpTlifD@2M3YnTo2@lOkX/mVvihFYYKIJNhNd0RbZYL5Sb/qm8Rc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Ungolfed</h3>
<p>This ungolfed code draws the full clock, using the same formulas.</p>

<pre class="lang-none prettyprint-override"><code>let M = [...Array(15)].map(_ =&gt; [...&quot;&quot;.padEnd(32)]);

for(let n = 0; n &lt; 12; n++) {
  [ 0, 1.072, 2, 2.9 ].forEach(i =&gt; {
    let q = (n - 3) / 1.9,
        y = 7.5 + Math.sin(q) * i * 7 / 3 | 0,
        x = 15.5 + Math.cos(q) * i / 3 * (n % 3 ? 13 - ~n % 2 : 15.1) | 0;

    M[y][x] = i ? n &gt;&gt; 1 : &quot;#&quot;;
    M[y][x + 1] = i ? n * 5 % 10 : &quot;#&quot;;
  });
}
console.log(M.map(r =&gt; r.join(&quot;&quot;)).join(&quot;\n&quot;));
</code></pre>
<p><a href="https://tio.run/##TZBhT4MwEIa/8yveYExatlUKIcvEzfhhH/kFSEwD6Fhmy2AxIzr/Ot4tztm0uWvved/LdWs@TF92TXuYWVfV47irD8iwRK6Ueuo6MwidyEK9m1a8YLk6v/u@ak21tpWII1nI1PNeXSdYaUkZphQeoCOKk4nEpwfkCKfQKpxHU/BWCxSKRGtTbkTDvkwB7LEnD2ExQyxxR6LF9FziNVBprhJMkJnDRvWNFXuJAA2dOcExvqjRH34kXCdXvnT9hWc24Da3lDxCx9Tvm28R7lmjJVvRZOyT5UORHwtya4i1WK2gCfNv/PRfnbroKxMgITcdXrkTfdTJK53t3a5WO/cmsvO3djx@p7aOpvF9KX@zZ0t5Oo4/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 74 bytes</h1>
<pre><code>##Ｆ²«≔§⪪θ:¬ιη≔⎇ι﹪Ｉη¹²÷Ｉη⁵ζＪ⁰∧¬﹪ζ⁶⊖÷ζ³Ｆ⁻³ι«Ｍ×∨‹ζ⁶±¹Ｉ§024542ζ⁻Ｉ§”)⊞↷ηk⦃”ζ²Ｐη
</code></pre>
<p><a href="https://tio.run/##XZDRaoMwFIav9SmCvTmBDDTaMborWW865jaYLyB6VgOauCTK1tFnd4muFHoTQs6fj@8/dVvpWlXdPL9rIS1Em01EH8NPpQlwSn7DIDdGHCXk9iAb/IaPoRMWvhiJdhFl5FVZENRdWvfrki1Ry0r/gGCkUM3YKXiqjIXWxRLujoO0ezGJBq/vW884ecbz2A@lgpiRXDbg@f@MEyP3PrXHWmOP0mIDV5KbppR6wOJeCDkaSBlxcr5FUKgJoRQ9GnjT8ILGrEBXAY@VRUg8e/G5VI1inm0zHnkxP1yZN5E44WmWZSlP4jXICF80gmLsrBiWrS7LOYfneY4fdnw7303dHw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>##
</code></pre>
<p>Output the clock's centre.</p>
<pre><code>Ｆ²«
</code></pre>
<p>Loop over the minutes and hours.</p>
<pre><code>≔§⪪θ:¬ιη
</code></pre>
<p>Extract the minutes or hours from the input time.</p>
<pre><code>≔⎇ι﹪Ｉη¹²÷Ｉη⁵ζ
</code></pre>
<p>Get the direction index from <code>0</code> to <code>11</code>.</p>
<pre><code>Ｊ⁰∧¬﹪ζ⁶⊖÷ζ³
</code></pre>
<p>Jump to the centre of the clock, except for <code>:00</code>/<code>:30</code>/<code>06:</code>/<code>12:</code>, which are offset vertically.</p>
<p>Ｆ⁻³ι«</p>
<p>Loop thrice for the minutes or twice for the hours.</p>
<pre><code>Ｍ×∨‹ζ⁶±¹Ｉ§024542ζ⁻Ｉ§”)⊞↷ηk⦃”ζ²
</code></pre>
<p>Move to the next minutes (or hours) position. The horizontal offsets are cyclically extracted from the <code>024542</code> string and then negated for the larger directions while the vertical offsets are extracted from a compressed string <code>001234443210</code> from which <code>2</code> is subtracted.</p>
<pre><code>Ｐη
</code></pre>
<p>Output the minutes or hours without moving the cursor.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 129 bytes</h1>

<pre class="lang-none prettyprint-override"><code>-&gt;t{s=(&quot;.&quot;*39+$/)*20
(-3..2).map{|i|j=t[h=i/3]
s[420+i*[-120,-78,-36,5,44,82][(g=j/5**-h)%6]*~0**h+=g/6,2]=i==0?&quot;##&quot;:&quot;%02d&quot;%j}
s}
</code></pre>
<p><a href="https://tio.run/##ZcrRCoIwFIDh@z1FzASdZzrP1Cw49SBjF0WoEwJJvQitV18RdNXl//Hf58vDN@TlcVpGinjKhd4n2ywWqFgkdZpinN7Ow7K6tafJdOQybdloClSJE0bmqEDuapC6ghKKAmq0Jmqpz0ohZBeHlRUvJUSXUJtVgJYckTrxIOAHHiq88rB/svHph3kaN40xNWBpLfsm@2GOoNSfaig@q38D" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>Semi-golfed. Will try to golf the array of magic numbers tomorrow.</p>
<h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 137 bytes</h1>

<pre class="lang-none prettyprint-override"><code>-&gt;t{s=(&quot;.&quot;*39+$/)*20
(-3..2).map{|i|j=t[h=i/3]
k=[-120,-78,-36,5,44,82][(g=j/5**-h)%6]*~0**g/=6
s[420+i*k*~0**h,2]=i==0?&quot;##&quot;:&quot;%02d&quot;%j}
s}
</code></pre>
<p><a href="https://tio.run/##ZcrNCoJAFEDh/TxFjAk63tHxjpoFtx5kmEUR/hJI6iLUXt1CaNXyfJzneHutBa3yPEw9eTzkQh@DfeQLVMyTOgzRDx/XbprruaHBVFRH2rKWjIxRgTzkIHUGKSQJ5GiNV1ITpULIynczK95KiDKijPUmQRXUot2oArRUE6kLdxx@4q7CO3ebhfXL2o1DvyuMyQFTa9mW7IcxglJ/qiH5rusH" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>A function taking an argument in the form <code>[12,00]</code> and returning a newline separated string.</p>
<p>It forms a canvas of lines of 40 characters including the newline. In the link these are periods but can be replaced by spaces by editing the period in the first line. It then draws from the tip of the minute hand at iteration <code>-3</code> to the centre <code>0</code> and then on to tip of the hour hand <code>2</code> by replacing characters.</p>
<p>The centre of the clock is at index 420 (I didn't plan it that way, it just happened!) There is an array of 6 magic numbers for the offsets corresponding to half a revolution of the hand. the other half revolution is managed by negating these offsets by multiplying by <code>-1</code> raised to the power <code>g</code> or <code>h</code> (due to Ruby priority rules, <code>-1</code> is represented by <code>~0</code>.)</p>
<p>Full explanation and golfing later.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/277623/">277623</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




