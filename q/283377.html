<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::283377</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>033</td><td>Haskell</td><td>250830T093231Z</td><td><a href="https://codegolf.stackexchange.com/questions/283377/float-vs-decimal/283399#283399">ceased t</a></td></tr>
<tr d-ix="1"><td>025</td><td>Charcoal</td><td>250830T092203Z</td><td><a href="https://codegolf.stackexchange.com/questions/283377/float-vs-decimal/283398#283398">Neil</a></td></tr>
<tr d-ix="2"><td>050</td><td>R</td><td>250829T165243Z</td><td><a href="https://codegolf.stackexchange.com/questions/283377/float-vs-decimal/283393#283393">M--</a></td></tr>
<tr d-ix="3"><td>044</td><td>Maple</td><td>250829T223148Z</td><td><a href="https://codegolf.stackexchange.com/questions/283377/float-vs-decimal/283395#283395">dharr</a></td></tr>
<tr d-ix="4"><td>nan</td><td>Python</td><td>250829T080251Z</td><td><a href="https://codegolf.stackexchange.com/questions/283377/float-vs-decimal/283381#283381">ojdo</a></td></tr>
<tr d-ix="5"><td>057</td><td>Java</td><td>250829T073501Z</td><td><a href="https://codegolf.stackexchange.com/questions/283377/float-vs-decimal/283380#283380">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>068</td><td>Python v3.8+</td><td>250829T071610Z</td><td><a href="https://codegolf.stackexchange.com/questions/283377/float-vs-decimal/283378#283378">Kevin Cr</a></td></tr>
<tr d-ix="7"><td>001</td><td>Vyxal 3</td><td>250829T072451Z</td><td><a href="https://codegolf.stackexchange.com/questions/283377/float-vs-decimal/283379#283379">lyxal</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 33 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>compare=&lt;&lt;realToFrac.fromRational
</code></pre>
<p><a href="https://tio.run/##y0gszk7Nyfn/P03BViE5P7cgsSjV1samKDUxJyTfrSgxWS@tKD83KLEkMz8vMed/bmJmnoKVlYKnv4KGJheYZ6uQm1jgG6@gUVCUmVeioKeQpqkQbaSjYKBnqKOgCyRj/wMA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 25 bytes</h1>
<pre><code>≔∧№θ.⌕⮌θ.η⁼∕ＮＸ·⁵η÷Ｉ⁻θ.Ｘ⁵η
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/9@xuDgzPU/DMS9Fwzm/NK9Eo1BHQUlPSVNHwS0TKBaUWpZaVJyqUagJEQZSGZrWXAFFmUClroWliTnFGi6ZZZkpqRqeeQWlJX6luUmpRRpAZQH55UCGnilIA5DrmVcCVeecWFyi4ZuZV1oMswuuGqJYU9P6/39DA@zgv25ZDgA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs a Charcoal boolean, i.e. <code>-</code> if the input can be represented in floating-point, nothing if not. Explanation:</p>
<pre><code>≔∧№θ.⌕⮌θ.η
</code></pre>
<p>Find the number of decimals (if any).</p>
<pre><code>⁼∕ＮＸ·⁵η÷Ｉ⁻θ.Ｘ⁵η
</code></pre>
<p>Divide the input by <code>.5</code> to that power, which converts it to a float if it isn't one already, without further loss of precision, then compare that to the result of integer dividing the input without a decimal point by <code>5</code> to that power.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 50 bytes</h1>
<pre class="lang-r prettyprint-override"><code>f=\(x)(x&gt;(y=sprintf(&quot;%.17g&quot;,as.numeric(x))))-(x&lt;y)
</code></pre>
<p>Function <code>f</code> returns</p>
<ul>
<li><code>0</code> if the <em>decimal representation</em> is the <strong>same</strong>,</li>
<li><code>1</code> if <strong>larger</strong>,</li>
<li>and <code>-1</code> if <strong>smaller</strong>.</li>
</ul>
<p><a href="https://ato.pxeger.com/run?1=fVBBTsMwELz3FStXqI6UREkRAkrDkVf0YiXrYClxo7UjpUIceQWXcOBR_QVPYOOkAi74suP1zuyM3z9oPL_VsE9A97b05mili-BlBVAqL10MAowD54-EFSi3AxGD68hYr6W4SvPbWsTKpbZvkUzJ3IgpD-CfCTVzgND3ZI2tA1PzAPOxg0KIaFkiDpbx62fvdXJ33uriIIdIDo_yVPyzaYj4JHLYn6KF-bVeg1Mtsk1YBeGnJRJs9GZx4iADo9kfQoWlaVXDDx2hQ-tVmOW40-ukFEM-DTeKaqQYlK0gCR3HvAYpZd8_CWopsjS_gJsZbNMsgHxpZ9fhyuD-Nzcg6u30U6B3f3Q5_nYus7y-6My5x3Gu3w" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.maplesoft.com/" rel="nofollow noreferrer">Maple</a>, 44 bytes</h1>
<pre><code>s-&gt;sign(evalf[20]((r:=parse(s))-evalhf(r)));
</code></pre>
<p>Compares with hardware float type as internal representation. (Maple's default floats are decimal and so precluded by the rules.)</p>
<p>Inputs a string; output is -1 if the internal is greater, 0 if the same, and +1 if the internal is less.</p>
<p>The 20 here can be anything significantly more than 15, which is the approx. number of decimal digit accuracy for the hardware floats. Unfortunately the default software float accuracy is 10 digits and not some number higher than 15, otherwise we could get rid of evalf[20]() and save 11 bytes. evalhf converts to hardware float.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <del>67</del> <del>65</del> 64 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda n:D(n).compare(D(eval(n)))
from decimal import*;D=Decimal
</code></pre>
<p>&quot;The obvious&quot; as in using <code>Decimal</code> for the comparison. Only golfy idea is replacing <code>float()</code> by <code>eval()</code> to save 1 byte.</p>
<p><a href="https://ato.pxeger.com/run?1=PY7NSsQwFEb3fYpLVom0JeNKRyIzUAYEF8Is1UXsJBjIH0kUZeiTuCmIPoBv49t4Oy1mc3PP_Th8H9_xvTwHP35q8fD1UnRz8bux0j0dJPh1Rz1r--CiTIp2VL1Ki4SxSqfg4KB646QF42JI5eyqE91MFs9P6TMIuK8AHyW8XZEamhWrF3DecgT8f-ctv0QwBR4rHRLkGtRbBOMBTetTKibjCyV32_2egNGgaWYgxCmnbFZAdtubW7Ro4sUxD_ixQRZsLY5LOzqTzNgAzTUaptvkGQibm4_jPP8A" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu5" class="pu"><h1>Java, <s>80</s> <s>79</s> <s>59</s> 57 bytes</h1>

<pre class="lang-java prettyprint-override"><code>s-&gt;s.compareTo(new java.math.BigDecimal(new Float(s))+&quot;&quot;)
</code></pre>
<p>Outputs a negative integer if the internal floating point value is larger; <code>0</code> if they're the same; and a positive integer if the floating point is smaller.</p>
<p><a href="https://tio.run/##jZA9bwIxDIZ3foWVKdGV6OhSFdQOCHUrC90qBjcEmms@TnE4VKH77UdyR/cutvzafvzKDXY4bw4/g7JIBO9o/HUGYHzS8YhKw7aUowCK71I0/gQkVlnsZzlQwmQUbMHDy0DzV5IquBaj/gjc6ws0mS8dpm@5NqeNVsahHRtvNmDiJETFmBhWhdWev2xm3ZFdMAdw2c/96ucexeTlGCLvMAItC@ive2W1XLAHYI8l1PJpSvUz68W4BrD7paSdDOck27yUrOdUMWDVf50uy6xUpZg@0A83" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>s-&gt;                          // Method with String parameter and integer return
  s.compareTo(               //  Compare the input to (resulting in neg/0/pos):
   new java.math.BigDecimal( //   Create a BigDecimal, with value:
    new Float(s))            //    The (32-bit) floating point number of the input
   +&quot;&quot;)                      //   Convert that BigDecimal to a String
</code></pre>
<p>Minor note: I've used <code>Float</code> (which is 32 bits) and therefore holds slightly different values than in the challenge description. If I would change it to <code>Double</code> (which is 64 bits) the values would be the same as the challenge description. This difference can for certain inputs also result in different outputs (e.g. the <code>&quot;0.09&quot;</code> is <code>0.0900000035762786865234375</code> as float, resulting in <code>-23</code>, but <code>0.0899999999999999966693309261245303787291049957275390625</code> as double, resulting in <code>1</code>). The overall functionality would still be the same, though:<br />
<a href="https://tio.run/##jZCxbgIxDIZ3nsLKlOggurJUgGCoWMtCN9TBDQFyXJJTHK6q0D37NbmDncWWf9uff7nCFmfV8dqrGongE427TwCMizqcUGnY5XIQQPF9DMadgcQqid0kBYoYjYIdOFj3NNuQVN42GPSX507/QpX40mK8yA9z3mplLNZDY@tvP7XmJETBmOhXGdYkKcEezNabI9hk6HH28I1iNHPygbcYgJaZ9OzeWSnf2BTYPIdSvo@pXLBODGsA@z@K2kp/i7JJS7F2nAoGrHjZ6jIPS5WL8Qdd/w8" rel="nofollow noreferrer">Try it online.</a></p>
</div>
<div id="pu6" class="pu"><h1>Python (v3.8+), 68 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda d:(s&gt;(t:=str(longdouble(float(d)))))-(s&lt;t)
from numpy import*
</code></pre>
<p>Integers should be input with <code>.0</code> (e.g. test case <code>2</code> is input as <code>&quot;2.0&quot;</code>).<br />
Outputs <code>-1</code> if the internal floating point value is larger; <code>0</code> if they're the same; and <code>1</code> if the floating point is smaller.</p>
<p><a href="https://ato.pxeger.com/run?1=bY1NCsIwFIT3OUXIKpG2RFdabDd6DDcpTbSQP_JeFz2Lm4LonbyNLRVRcDYzs_hmro844CX48Waq071Hk2-fR6tc0yoKJYeaY1kBJm6DP7ehb6zmxgaFHMSsnMMeBTEpOOp7FwfauRgSrt5bttWGogY8KNATUxJKY-r8xGf_JjOW1ywzcyTkwzFZrJn46ptC_nRZyB0Ty-c4Lv4C" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-python prettyprint-override"><code>lambda s:          # Function with a string as argument
  (s&gt;              #  Check if the input-string is larger than:
    (t:=str(longdouble(float(d)))))
                   #  the internal floating point value of `s` as string
                   #  (which is also stored in `t`)
  -(s&lt;t)           #  And subtract the s&lt;t check from the s&gt;t check to get -1/0/1
from numpy import* # Import for the `longdouble`
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3/" rel="nofollow noreferrer">Vyxal 3</a>, 1 byte</h1>
<pre><code>1
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#H4sIAAAAAAAAAzXLQQqAIBSE4avErEWKQMkLdAhxIakVVC_M2kR377Vo9zH8cyNRXn2BaQWm6EPMMIDAQCGyGmYiKv-cFj8eMNYJzNt-ls8WfaZzr7i1qKXSSmkN57i5Yj5m2vjbyk7WeF6jGZtKcAAAAA" rel="nofollow noreferrer">Vyxal It Online!</a></p>
<p>Outputs 1 if equivalent, 0 if bigger, -1 if smaller. This probably polyglots a lot of languages lol. Leave a comment if you have a polyglot language where the answer is always <code>1</code>.</p>
<p>Notably, this always outputs 1. That's because all numbers are stored exactly by default. That's an intentional language design decision we went out of our way to accommodate by using a third party library under the hood. Technically, the number type is called <code>VNum</code> which extends <code>spire.Complex[Real]</code>, so not a &quot;decimal&quot; type but a type that happens to also be able to store decimals exactly by consequence of also storing things like surds exactly.</p>
<p>There's a slight chance this could be considered invalid by the &quot;don't use decimal type&quot; restriction, but that's up to the challenge asker as to whether the default (and only) generic number type being exact is allowed.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/283377/">283377</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




