<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::283359</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>129</td><td>JavaScript ES6</td><td>250828T202423Z</td><td><a href="https://codegolf.stackexchange.com/questions/283359/squared-squares/283373#283373">Arnauld</a></td></tr>
<tr d-ix="1"><td>179</td><td>Python 3</td><td>250828T031933Z</td><td><a href="https://codegolf.stackexchange.com/questions/283359/squared-squares/283363#283363">Ted</a></td></tr>
<tr d-ix="2"><td>097</td><td>x86_64 machine code</td><td>250829T114015Z</td><td><a href="https://codegolf.stackexchange.com/questions/283359/squared-squares/283386#283386">Ifier</a></td></tr>
<tr d-ix="3"><td>6363</td><td>Uiua</td><td>250829T112339Z</td><td><a href="https://codegolf.stackexchange.com/questions/283359/squared-squares/283385#283385">YufangIG</a></td></tr>
<tr d-ix="4"><td>059</td><td>05AB1E</td><td>250828T082701Z</td><td><a href="https://codegolf.stackexchange.com/questions/283359/squared-squares/283366#283366">Kevin Cr</a></td></tr>
<tr d-ix="5"><td>046</td><td>Charcoal</td><td>250827T235352Z</td><td><a href="https://codegolf.stackexchange.com/questions/283359/squared-squares/283362#283362">Neil</a></td></tr>
<tr d-ix="6"><td>7793</td><td>Uiua</td><td>250827T233446Z</td><td><a href="https://codegolf.stackexchange.com/questions/283359/squared-squares/283361#283361">janMakos</a></td></tr>
<tr d-ix="7"><td>294</td><td>R</td><td>250827T222504Z</td><td><a href="https://codegolf.stackexchange.com/questions/283359/squared-squares/283360#283360">M--</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (ES6), 129 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(n,y=x=0)=&gt;y&gt;2*n?&quot;&quot;:`╬╩╠╚╦║╔
╣╝═ ╗`[x&gt;4*n?(x=-1,7):x%4?10+y%2:y%2?5:y/2/n|!x*2|!y*4|x/4/n&lt;&lt;3]+f(n,y+!++x)
</code></pre>
<p><a href="https://tio.run/##XY1RaoNAGITfc4pfIeC6SY1GKRhXDxIKSqolRXZLlLJLzB0ayE8gECgUCoWe6r@IXV/7MHwwM8y8Vu9Vtzvs3/qlVM/1ODbCkwsjtFgxkZs88mXhumlJ@Ev4Q/hJeCP8JjwTXmaEX4R3wg8gvJZbnce27mmxDBePLNXzuAhX3Myj1KpIUhNEgRwc7UeDY/x40EEcyCxbP/FmOuUO55qNjTp4bd2DBAHhxiITkFhyzuA4A9gp2am2fmjVi@dOJRc4SLb5F9lJZs3T@Ac" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>229</s> 179 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(n):[print(&quot;&quot;.join(&quot; ║═╔║║╗╦═╚═╠╝╩╣╬&quot;[sum((n*4!=c,2*(n*2!=r),c and 4,r and 8,c%4and 16,r%2*32))%21]for c in range(n*4+1)))for r in range(n*2+1)]
</code></pre>
<p><a href="https://tio.run/##Tc9BCsIwEAXQvaeIgUKmBjFpESn0JKWLkrYawbTEuvAWCgZBEARBEDxVLhKTbhSGP5@3GJj@OGw6lThXNy1qiYKs6LVUA8F4vu2kIhhZc7bmZM1lLH6u1rxGuY35sOZuzduapzUfXOwPO0JUnE5zQXnsG5/mGqhAlapRSvW4V1REaShsSXXE44QDRJyVbaeRQFIhXal1E87MGAAE1v/MPZcusPwxo2wB2cS/IcF9AQ" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<ul>
<li>23 bytes saved @emanresuA</li>
</ul>
<h2>Explanation</h2>
<p>In essence, we iterate through all the rows an columns (of the character grid, not of the box grid), denoted by <code>r</code> and <code>c</code>.</p>
<p>We define some checks for each cell:</p>
<pre class="lang-python prettyprint-override"><code>sum((n*4!=c,2*(n*2!=r),c and 4,r and 8,c%4and 16,r%2*32))
</code></pre>
<p>These are designed to each be 1 bit worth of information, so when summed they don't affect eachother. Then we modulo the whole thing by 21, which gives us the smallest resulting domain of numbers without causing collisions between characters (found by exhaustive search).</p>
<p>Then we lookup the resulting value in the string <code>&quot; ║═╔║║╗╦═╚═╠╝╩╣╬&quot;</code></p>
<p><a href="https://pastebin.com/0rCLDuXw" rel="nofollow noreferrer">Here's the code</a> for finding the lookup string.</p>
</div>
<div id="pu2" class="pu"><h2>x86_64 machine code: 97 bytes</h2>
<pre><code>0:  57                      push   rdi
1:  48 b8 66 25 50 25 50    movabs rax,0x2550255025502566
8:  25 50 25
b:  89 f1                   mov    ecx,esi
d:  f3 48 ab                rep stos QWORD PTR es:[rdi],rax
10: b8 57 25 0a 00          mov    eax,0xa2557
15: ab                      stos   DWORD PTR es:[rdi],eax
16: 5a                      pop    rdx
17: 80 2a 12                sub    BYTE PTR [rdx],0x12
1a: 89 f1                   mov    ecx,esi
000000000000001c &lt;writelines&gt;:
1c: 51                      push   rcx
1d: 48 b8 51 25 20 00 20    movabs rax,0x20002000202551
24: 00 20 00
27: 89 f1                   mov    ecx,esi
29: f3 48 ab                rep stos QWORD PTR es:[rdi],rax
2c: b8 51 25 0a 00          mov    eax,0xa2551
31: ab                      stos   DWORD PTR es:[rdi],eax
32: 57                      push   rdi
33: 5a                      pop    rdx
34: 48 b8 6c 25 50 25 50    movabs rax,0x255025502550256c
3b: 25 50 25
3e: 89 f1                   mov    ecx,esi
40: f3 48 ab                rep stos QWORD PTR es:[rdi],rax
43: b8 63 25 0a 00          mov    eax,0xa2563
48: ab                      stos   DWORD PTR es:[rdi],eax
49: 80 2a 0c                sub    BYTE PTR [rdx],0xc
4c: 59                      pop    rcx
4d: e2 cd                   loop   1c &lt;writelines&gt;
4f: 80 2a 06                sub    BYTE PTR [rdx],0x6
0000000000000052 &lt;correct_last&gt;:
52: ff ce                   dec    esi
54: 74 06                   je     5c &lt;end&gt;
56: 80 2c f2 03             sub    BYTE PTR [rdx+rsi*8],0x3
5a: eb f6                   jmp    52 &lt;correct_last&gt;
000000000000005c &lt;end&gt;:
5c: 80 6f fc 06             sub    BYTE PTR [rdi-0x4],0x6
60: c3                      ret
</code></pre>
<p><a href="https://godbolt.org/z/cKo6dzM97" rel="nofollow noreferrer">Running on godbolt</a>, but since godbolt doesn't seem to print the characters I've translated them to ascii characters that are kind of similar so there's something to display.</p>
<p>The algorithm is pretty simple, print the first line, then print alternating vertical and horizontal lines N times, correcting characters on the final line afterwards. Main size optimisation is using 1-byte subtracts to adjust the UTF-16 characters to the correct ones, since all the characters used are only distinguished by the low 8 bits.</p>
<p>Version with comments:</p>
<pre><code>#save start position
    push rdi
#generate line - '╦═══'
    movabs rax, 0x2550255025502566
#write it N times
    mov ecx, esi
    rep stosq
#write ending - '╗\n'
    mov eax, 0x000a2557
    stosd
#restore first char
    pop rdx
#change starting char '╦' -&gt; '╔'
    sub byte ptr[rdx], 18
#setup loop counter
    mov ecx, esi
writelines:
#save current loop counter
    push rcx
#generate line - '║   '
    movabs rax, 0x0020002000202551
#write it N times
    mov ecx, esi
    rep stosq
#write ending - '║\n'
    mov eax, 0x000A2551
    stosd
#save start position
    push rdi
    pop rdx
#generate line - '╬═══'
    movabs rax, 0x255025502550256c
#write it N times
    mov ecx, esi
    rep stosq
#write ending - '╣\n'
    mov eax, 0x000A2563
    stosd
#change starting char '╬' -&gt; '╠'
    sub byte ptr[rdx], 12
#restore loop counter and iterate
    pop rcx
    loop writelines
#change starting char '╠' -&gt; '╚'
    sub byte ptr[rdx], 6
#correct chars on last line '╬' -&gt; '╩'
correct_last:
#decrement first so we don't immediately access out of bounds
    dec esi
    je end
    sub byte ptr[rdx + rcx*8], 3
    jmp correct_last
#change last char '╣' -&gt; '╝'
end:
    sub byte ptr[rdi - 4], 6
    ret
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Uiua, 63 characters (63 bytes SBCS)</h1>
<pre class="lang-none prettyprint-override"><code>˜⊏˜≡⌞⊏⍜⊢⍜⊢⋅@ +9520⬚@![&quot;&quot;&quot; -*9&quot;&quot; '$6&quot;&quot; 30&lt;&quot;]∩⌟/⊂₃⊸˙⊟₃0+×₂⊸⇌⊂0˜↯1
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_17_0-dev_2__U3F1YXJlcyDihpAgy5ziio_LnOKJoeKMnuKKj-KNnOKKouKNnOKKouKLhUAgKzk1MjDirJpAIVsiIiIgLSo5IiIgJyQ2IiIgMzA8Il3iiKnijJ8v4oqC4oKD4oq4y5niip_igoMwK8OX4oKC4oq44oeM4oqCMMuc4oavMQoK4pSM4pSA4pW0dGVzdAogIOKJoSZwIFNxdWFyZXMgMwogIOKJoSZwIFNxdWFyZXMgMTAK4pSU4pSA4pW0Cg==" rel="nofollow noreferrer">Try it!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>67</s> <s>62</s> 59 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>4*&lt;U₄RX∍2ì3«©4DjRXÌ∍®āžm‡‚I·&lt;∍`®ā56(‡»žm(•dÃи“·”.•29вŽb[+ç‡
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/fRMsm9FFTS1DEo45eo8NrjA@tPrTSxCUrKOJwD1Dk0LojjUf35T5qWPioYZbnoe02QLEEkKCpmQZQ8NBuoCSQsSjlcPOFHY8a5hza/qhhrh5QwMjywqaje5OitQ8vB6r7/98YAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V@m5JlXUFpipaBkX2nLpeRfWgLh6fw30bIJfdTUEhTxqKPX6PAa40OrD600cckKijjcAxQ5tO5I49F9uY8aFj5qmFV5aLsNUCwBJGhqpgEUPLQbKAlkLEo53Hxhx6OGOYe2P2qYqwcUMLK8sOno3qRo7cPLger@6xzaZv8/2lDHSMfQIBYA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>4*         # Multiply the (implicit) input-integer by 4
  &lt;        # Decrease it by 1
   U       # Pop and store this input*4-1 in variable `X`
₄          # Push 1000
 R         # Reverse it: &quot;0001&quot;
  X∍       # Extend/shorten it to length `X`
    2ì3«   # Prepend a 2 and append a 3
        ©  # Store it in variable `®` (without popping)
4          # Push 4
 D         # Duplicate it
  j        # Pad leading spaces to make it that length: &quot;   4&quot;
   R       # Reverse it: &quot;4   &quot;
    XÌ∍    # Extend/shorten it to length `X+2` (aka input*4+1)
®          # Push string `®`
 ā         # Push a list in the range [1,length] (without popping): [1,2,3,...]
  žm       # Push constant 9876543210
    ‡      # Transliterate 1,2,3 to 9,8,7 in string `®`
           # (the other values that aren't present in `®` are no-ops)
‚          # Pair the top two strings together
 I·&lt;∍      # Extend/shorten this list to length input*2-1
     `     # Pop and push all strings separately to the stack
®          # Push string `®` again
 ā         # Push a list in the range [1,length] (without popping) again
  56(      # Push -56
     ‡     # Transliterate 1,2,3 to &quot;-&quot;,5,6 in string `®`
           # (the other integers that aren't present in `®` are no-ops again)
»          # Join all strings on the stack with newline delimiter
žm         # Push constant 9876543210
  (        # Negate it: -9876543210
•dÃи“·”.•  # Push compressed integer 10932220548783273
  29в      # Convert it to base-29 as list: [25,28,16,19,13,10,1,7,4,22,0]
     Žb[   # Push compressed integer 9552
        +  # Add it to each value in the list:
           #  [9577,9580,9568,9571,9565,9562,9553,9559,9556,9574,9552]
         ç # Convert each to a character with that unicode value:
           #  [&quot;╩&quot;,&quot;╬&quot;,&quot;╠&quot;,&quot;╣&quot;,&quot;╝&quot;,&quot;╚&quot;,&quot;║&quot;,&quot;╗&quot;,&quot;╔&quot;,&quot;╦&quot;,&quot;═&quot;]
‡          # Transliterate the &quot;-&quot;,&quot;9&quot;,&quot;8&quot;,... to &quot;╩&quot;,&quot;╬&quot;,&quot;╠&quot;,...
           # (after which the result is output implicitly)
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/166851/52210">See this 05AB1E tip of mine (sections <em>How to compress large integers?</em> and <em>How to compress integer lists?</em>)</a> to understand why <code>•dÃи“·”.•</code> is <code>10932220548783273</code>; <code>•dÃи“·”.•29в</code> is <code>[25,28,16,19,13,10,1,7,4,22,0]</code>; and <code>Žb[</code> is <code>9552</code>.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 46 bytes</h1>
<pre><code>ＮθＵＢ⁺⁺╬×═³¶║Ｐ…⁺╦×ψ³⊕⊗θＰ↓…⁺╠ψ⊕θ╔‖Ｂ⌈
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iOSOxKDk_MWfBgqWlJWm6Fjd_euYVlJb4leYmpRZpFGpacwWnljglJmenF-WX5qVoBOSUFkMIpUdT1yjpKIRk5qaCOROAHGNNTR0FpZi8R1MnKmkC9fqW5pRkFhRl5pVoOFcm56Q6Z-QXwHUvg-uuhOr0zEsuSs1NzStJTdFwyS9NygHShZqaaCZZueSX5-koYBq4AGhgJZoxhWDdAWCNQCVTlIC8oNS0nNTkEqfSkpLUorScSg2rRz0dmtZLipOSi6HBsDxaSbcsRyl2kaEBRAAA" rel="nofollow noreferrer">Attempt This Online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｎθ
</code></pre>
<p>Input <code>n</code>.</p>
<pre><code>ＵＢ⁺⁺╬×═³¶║
</code></pre>
<p>Set the background to a <code>2×4</code> section of the result. This handles all of the horizontal and vertical segments and the interior joins correctly, but the edges are still wrong.</p>
<pre><code>Ｐ…⁺╦×ψ³⊕⊗θ
</code></pre>
<p>Output the top edges, but the top left corner is still wrong.</p>
<pre><code>Ｐ↓…⁺╠ψ⊕θ
</code></pre>
<p>Output the left edges, but the top left corner is still wrong.</p>
<pre><code>╔
</code></pre>
<p>Output the top left corner.</p>
<pre><code>‖Ｂ⌈
</code></pre>
<p>The previous code only drew the top left quarter of the result; this reflects it twice to complete the output.</p>
<p>Note that each of the box-drawing characters takes <code>3</code> bytes to represent in Charcoal.</p>
</div>
<div id="pu6" class="pu"><h1>Uiua, 77 characters (93 bytes SBCS)</h1>
<pre class="lang-none prettyprint-override"><code>≡⌞▽1_3⊂˜⊂/⊂₃¤⊃($&quot;╠_╣&quot;/⊂₃@╬|↯⟜(/⊂₃@ ˜↯@║+₁)⧻|⊓$&quot;╔_╗&quot;$&quot;╚_╝&quot;∩⌟/⊂₃@╦@╩)˜↯@═
</code></pre>
<p>Takes the integer as input, and outputs a matrix of characters.</p>
<p><a href="https://uiua.org/pad?src=0_17_0-dev_2__RiDihpAg4omh4oye4pa9MV8z4oqCy5ziioIv4oqC4oKDwqTiioMoJCLilaBf4pWjIi_iioLigoNA4pWsfOKGr-KfnCgv4oqC4oKDQCDLnOKGr0DilZEr4oKBKeKnu3ziipMkIuKVlF_ilZciJCLilZpf4pWdIuKIqeKMny_iioLigoNA4pWmQOKVqSnLnOKGr0DilZAKCuKJoSZwIEYgMwriiaEmcCBGMTAKCiQgcD1wYXN0ZTtyPXJlcDtxPVwoLi4uKWNhdCguLi4sc2VwPSIiKTtmPVwobilmb3IoaSBpbiAwOigyKm4pKSJpZiIoaSUlMj09MCwiaWYiKGk9PTAscSgi4pWUIixwKHIoIuKVkOKVkOKVkCIsbiksY29sbGFwc2U9IuKVpiIpLCLilZdcbiIpLCJpZiIoaT09MipuLHEoIuKVmiIscChyKCLilZDilZDilZAiLG4pLGNvbGxhcHNlPSLilakiKSwi4pWdXG4iKSxxKCLilaAiLHAocigi4pWQ4pWQ4pWQIixuKSxjb2xsYXBzZT0i4pWsIiksIuKVo1xuIikpKSxxKHAocigi4pWRICAgIixuKSxjb2xsYXBzZT0iIiksIuKVkVxuIikpCuKnuwo=" rel="nofollow noreferrer">Try it in the pad!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 294 bytes</h1>
<pre class="lang-r prettyprint-override"><code>p=paste;r=rep;q=\(...)cat(...,sep=&quot;&quot;);f=\(n)for(i in 0:(2*n))&quot;if&quot;(i%%2==0,&quot;if&quot;(i==0,q(&quot;╔&quot;,p(r(&quot;═══&quot;,n),collapse=&quot;╦&quot;),&quot;╗\n&quot;),&quot;if&quot;(i==2*n,q(&quot;╚&quot;,p(r(&quot;═══&quot;,n),collapse=&quot;╩&quot;),&quot;╝\n&quot;),q(&quot;╠&quot;,p(r(&quot;═══&quot;,n),collapse=&quot;╬&quot;),&quot;╣\n&quot;))),q(p(r(&quot;║   &quot;,n),collapse=&quot;&quot;),&quot;║\n&quot;))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGCpaUlaboWtxjVCmwLEotLUq2LbItSC6wLbWM09PT0NJMTS0C0TnFqga2SkqZ1GlA8TzMtv0gjUyEzT8HASsNIK09TUykzTUkjU1XVyNbWQAfCAbEKNZQeTZ2ipFOgUQRiTYAgJZ08TZ3k_JycxILiVFug-DIlTR0gNT0mD8SA6gaaC9E_i6D-lRD9c8H6wXoWENSzBqJnMUiPJkgXVP1EBQUFNMUQlRPBKiHBtTlNw1CTK03DCEQYgwgTqAwsQAE" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/283359/">283359</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




