<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::264818</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>682</td><td>JavaScript ES6</td><td>230902T092006Z</td><td><a href="https://codegolf.stackexchange.com/questions/264818/we-already-have-pipes-pattern-matching-at-home/264834#264834">Arnauld</a></td></tr>
<tr d-ix="1"><td>070</td><td>JavaScript Node.js</td><td>230901T182741Z</td><td><a href="https://codegolf.stackexchange.com/questions/264818/we-already-have-pipes-pattern-matching-at-home/264819#264819">bsoelch</a></td></tr>
<tr d-ix="2"><td>138</td><td>R</td><td>230902T073807Z</td><td><a href="https://codegolf.stackexchange.com/questions/264818/we-already-have-pipes-pattern-matching-at-home/264832#264832">Dominic </a></td></tr>
<tr d-ix="3"><td>109</td><td>Python</td><td>230902T013657Z</td><td><a href="https://codegolf.stackexchange.com/questions/264818/we-already-have-pipes-pattern-matching-at-home/264824#264824">Value In</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (ES6), 68 bytes (2 pipes)</h1>

<pre class="lang-javascript prettyprint-override"><code>{type:(v=other.foo,o=scenario1)?1:2|!v|!scenario2,thing:o?o.thing:v}
</code></pre>
<p><a href="https://tio.run/##pdFLboMwEAbgPaeYZBOQHBLIjopm1VMgFi6YQGR5IvOQIuKzUxOrbqAtUVVWfsz/2R7OtKN1JqtLsxWYs@ElcQAS6JuyEqcIGtkyRcDOC8rrcaEvECPYvFO5UZAS2O10yfXCooDAY3SC2fAcf46Z6B800XKu4Lk21umQ/eZzowXhQWMT7WC1cXNys70yQityVlSC5eTRWnzn3kjfkjP5Vym0ktlc1Nbner3Y/39oYx9Ba/BTx@4/x0kdv0D5RrPSdROoMyaorFD34nOoj8emZBJSD@JX6CFDUSNnPseTOxjU7eJ7jaaQYGwV7xhE4W3V3VZfmjkdj@ibUacGT3nDBw" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>{                  //
  type: (          // define the 'type' property:
    v = other.foo, //   copy other.foo in v
    o = scenario1  //   copy scenario1 in o
  ) ?              //   if scenario1 is truthy:
    1              //     set the type to 1
  :                //   else:
    2 |            //     set the type to 2 unless
    !v |           //     other.foo is falsy
    !scenario2,    //     or scenario2 is falsy,
                   //     in which case it's set to 3
  thing:           // define the 'thing' property:
    o ?            //   if scenario1 is truthy:
      o.thing      //     use scenario1.thing
    :              //   else:
      v            //     use other.foo
}                  //
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 70 bytes</h1>
<p><em>-4 bytes, thanks to Value Ink</em></p>
<pre class="lang-javascript prettyprint-override"><code>{type:(s=scenario1)?1:2|!((o=other.foo)&amp;&amp;scenario2),thing:s?s.thing:o}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kLz8ldcFN2-Lk1LzEosx8Q9vSvJTUtMy81BQumJiRbV5pTg5XfklGapFtdVp-vpWCelJikXotV1FqcWlOie3S0pI0XYubbtUllQWpVhrFCNM07Q2tjGoUNTTybcHa9YC6NdXU4CZr6pRkZOalWxXbF-tBWPm1ENM2J-fnFefnpOrl5KdrQOzRhMgsWAChAQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes Inputs as global variables</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, <s>180</s> <s>150</s> 138 bytes</h1>
<pre class="lang-r prettyprint-override"><code>o=&quot;other&quot;
s=&quot;scenario1&quot;
`+`=\(x)exists(x)&amp;&amp;length(get(x))
list(type=(3-(+&quot;scenario2&quot;&amp;+o))^!+s,thing=`if`(+s,get(s)$thing,if(+o)other$foo))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=zZNNTsMwFIQX7HwKY6rEVtIFYcPGN0EoaXESi2JT_0gpR-AKbMKCQ5XT4D5XbqgQQghVrOKJ503mk52XVzNuswusNLZLoRoj9WU5VRUo7Xph3rxr59fbZ80JaIIsJ2mKoLqo-Q0dmBikdTYssmwlVOd62gkXJEOrsEHd5lFwejWnRRquSFZoxm7PC1u6XqqO17KtaVC7Sctm8LKULQ02-Pas1WEgNno_u_8eACZwrIVCyL7gpDtj5oEmyb4yVZ9NFUMQy4EptOFk0Rjy94wIHcOlRO6MF7_BOyTEtlAn9H8ip6RKhfYc00PD2kQudHBNu679QH54TBNTvLZggOUpuPDCO3ynhVW5w0utXCMVbtQG5xCRHwOuvR92fP6fEsZ_bhzj8wM" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Treats non-empty lists as truthy (not R's default behaviour, but seems to be the intent of this question).<br />
Handles the cases where global variables <code>scenario1</code>, <code>scenario2</code> or <code>other</code> are undefined (=not 'declared').</p>
<hr />
<h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, <s>116</s> 94 bytes</h1>
<pre class="lang-r prettyprint-override"><code>o=other
s=scenario1
`+`=length
list(type=(3-(+scenario2&amp;+o))^!+s,thing=`if`(+s,s$thing,o$foo))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=jZIxTsMwGIUlRotDmFIRW0kHwtLFN6jYWKukwWksVf5b-7eUgjgJSxjYuQ6cBtcWaQpCzWQ_-fl9_p_8-ma6D5QWRe10hQo048_vDuvZ_HNpha2kLo2CWwICsJGGFGkhNlKvsSEbZZHhfisFu5ux9Meb36TA-fIqtRk2Sq9FoerCH2d2GnQG0xq8I1K-Li5fCLmmGmgPy4YqDyrCe4e4f1gseplHGTxxe5iI8XO54QKVrZ_DjsoOE_vHi8mqNBP-L-Z4GY2TY0Gxz1CZz3_y-eeox6jIGY5HwfxpbUjYudZnjanwlEJXDukjSKsTpBVoLJWmpd7TJAQnv3E759oDzY3ixU_RdXH9Bg" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Assumes that global variables <code>scenario1</code>, <code>scenario2</code> and <code>other</code> already exist.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 109 bytes</h1>
<p>Inspired by Gugu72's comment, and they sure were right about how hard booleans are to golf.</p>
<p><code>undefined</code> doesn't exist, so <code>None</code> pulls double duty as its usual analogue of <code>null</code> and as that. If I have to explicitly handle a case where the input is the string <code>&quot;undefined&quot;</code> I will probably explode</p>
<pre class="lang-python prettyprint-override"><code>{'type':1if(s:=scenario1)else 2|(not((f:=other and other['foo'])and scenario2)),(t:='thing'):s[t]if s else f}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=jVE9TsMwFFbXnOJttqWASFiQpayMTGylgyE2cZXYxn5BiopPwtIFbsBh4DTkt5UqQHjye_p-9V7fXYeVNfuPUipAGZAynoCX2HoDd28tqrOrz2ZHsHOS8EwrGngRHqQRXtuMyTpIyF-osUip4oXFSnoQpoTxtybKWrJhw2Ih5YylFHlBsNLmkTAe1rjRCgKMYirOpkZ520DoAujGWY8QsNQmUdZDrY0EbaZNH_eQJz26pFMCKKARjspnUacj7zy4WvctWQLOa4N0Ks0m1_3XarWbk_Fb38oIh_Fa9PmGeejEyb3wJCY3to9yfCfjAs7yy5gchC7iH9CfdU-4_wSTbSBxcvod8zRAFsEBNR_gGw" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/264818/">264818</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




