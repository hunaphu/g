<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::50768</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>069</td><td>Juby</td><td>250510T181708Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/279643#279643">Jordan</a></td></tr>
<tr d-ix="1"><td>105</td><td>Forth gforth</td><td>190206T210528Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/179583#179583">reffu</a></td></tr>
<tr d-ix="2"><td>017</td><td>Japt</td><td>190206T203622Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/179582#179582">Kamil Dr</a></td></tr>
<tr d-ix="3"><td>nan</td><td>PHP</td><td>190206T183033Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/179577#179577">640KB</a></td></tr>
<tr d-ix="4"><td>245</td><td>C</td><td>150527T190253Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/50871#50871">kirbyfan</a></td></tr>
<tr d-ix="5"><td>nan</td><td></td><td>150526T151256Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/50809#50809">edc65</a></td></tr>
<tr d-ix="6"><td>113</td><td>Common Lisp</td><td>150526T153953Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/50811#50811">coredump</a></td></tr>
<tr d-ix="7"><td>019</td><td>Pyth</td><td>150526T070129Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/50781#50781">Jakube</a></td></tr>
<tr d-ix="8"><td>024</td><td>CJam</td><td>150526T000159Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/50772#50772">Martin E</a></td></tr>
<tr d-ix="9"><td>090</td><td>ECMAScript 6</td><td>150526T105325Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/50800#50800">YetAnoth</a></td></tr>
<tr d-ix="10"><td>027</td><td>Pip</td><td>150526T054219Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/50779#50779">DLosc</a></td></tr>
<tr d-ix="11"><td>101</td><td>Mathematica</td><td>150526T000130Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/50771#50771">LegionMa</a></td></tr>
<tr d-ix="12"><td>021</td><td>Pyth</td><td>150525T233937Z</td><td><a href="https://codegolf.stackexchange.com/questions/50768/split-as-number-join-as-string-repeat/50769#50769">orlp</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/cyoce/J-uby" rel="nofollow noreferrer">J-uby</a>, 69 bytes</h1>
<p>Takes curried arguments like <code>F[S,B][N]</code>.</p>
<pre class="lang-ruby prettyprint-override"><code>~:**%(:|%[:&amp; &amp;~:to_i|~:|&amp;(~:/&amp;2.0),:&amp; &amp;~:to_s|~:**&amp;:+|~:%&amp;[:ceil,Z]])
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=fY7NToNAFIXjlqe4qWEyIEVACzpJdSVJX0FCCMLQYPhpOpDQiCx9ALdu2PShdOmTyAjBtKgnmdzc8825OW_7R6982LUfJ0qah2VCwS6zQBCgU0gjkGXAmfS9csURZGrMPP8Wr7KCrun2h3HNb3AlPR1YXJlaxCllEOYTxFXBEgI_SbrshNMsnHjVgfM8bjRh9LiO7G_X7NdKPVJTf4MRo0kkSX-dHSrwyZ9gL_dlEc2v3u8aIssiJrXoEASoIUXuxXVDaoQbco4MVZOUEbCa_0bkrJsickhA40S5d11pOLbblAUD29EVXXOdmWHNXDiFz5dX0C_1C2GgxoRammVppjCmr_8LH0FzYZgLvS_Qtv38Ag" rel="nofollow noreferrer">Attempt This Online!</a> (Uses the <code>**</code> operator that’s <a href="https://github.com/cyoce/J-uby/issues/6" rel="nofollow noreferrer">missing</a> from the latest version of J-uby.)</p>
</div>
<div id="pu1" class="pu"><h1><a href="http://www.complang.tuwien.ac.at/forth/gforth/Docs-html/" rel="nofollow noreferrer">Forth (gforth)</a>, 105 bytes</h1>

<pre class="lang-forth prettyprint-override"><code>: f base ! 0 ?do 0. 2swap &gt;number nip 2drop 2 /mod &gt;r i + r&gt; 0 tuck &lt;# #s 2drop #s #&gt; loop type decimal ;
</code></pre>
<p><a href="https://tio.run/##VY5BcsIwDEX3nOLhLIE08YYBipnhAN1wghAnkCnBHicp09MHmYFp2Uj6T9KXahf68@JUxzSOa2qORVcxJWNnHVmK7m6Fx1yH9lgFro1H2@Ak8tE6iwk0zAhGNvqh/OYzIemeM1IkhouTsv/1FbYqm7a4sJFLnlSxZ4uyQ3RLQwRzDhG5H7n1x74i0w/48BHIwqDk3TKwmXQKvVTk5Bn@pfSbyln9b4kY7w" rel="nofollow noreferrer" title="Forth (gforth) – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>Changes the base to B, then in a loop that runs S times:</p>
<ul>
<li>Converts string to a number</li>
<li>Splits number in 2 halves (one larger than the other if odd)</li>
<li>Combines the two numbers back into a string</li>
</ul>
<p>Prints the string when finished and sets the base back to 10 (so we can run multiple times in a row)</p>
<h3>Code Explanation</h3>
<pre class="lang-forth prettyprint-override"><code>:f                    \ start a new word definition
  base !              \ set the base to B
  0 ?do               \ loop from 0 to S-1 (runs S times)
    0. 2swap          \ places a double-length 0 on the stack behind the string
    &gt;number           \ converts the string to a number in the current base
    nip 2drop         \ get rid of string remainder and second part of double
    2 /mod            \ get the quotient and remainder of dividing by 2
    &gt;r                \ throw the quotient on the return stack
    i                 \ get a copy of the quotient from the return stack
    +                 \ add quotient and remainder
    r&gt;                \ move quotient from return stack to stack
    0 tuck            \ convert both to double-length numbers
    &lt;#                \ start a pictured numeric output
      #s              \ add entire number to output
      2drop           \ drop empty number
      #s              \ add second number to output
    #&gt;                \ convert output to a string and drop number from stack
  loop                \ end loop
  type                \ print output string
  decimal             \ set base back to 10
;                     \ end word definition
    
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 17 bytes</h1>

<pre><code>_nW o ó ®ÊsWÃq}gV
</code></pre>

<p><a href="https://tio.run/##y0osKPn/Pz4vXCFf4fBmhUPrDncVhx9uLqxND/v/35ArWsnIXCmWy9AAAA" rel="nofollow noreferrer" title="Japt – Try It Online">Try it online!</a></p>

<p>Takes input in the order S, N, B with N as a <a href="https://codegolf.meta.stackexchange.com/a/11884/71434">singleton list</a>. Accepting N without a singleton list costs <a href="https://tio.run/##y0osKPn/Pz4vXCFf4fBmhUPrDncVhx9uLqxNjw6L/f/fkEvJyFyJy9AAAA" rel="nofollow noreferrer">2 bytes</a>.</p>

<p>Explanation:</p>

<pre><code>_             }g     #Get the Sth item generated by this function...
                V    #...Starting with N as the 0th item:
 nW                  # Evaluate the previous item as a base B number
    o                # Create a list with that length
      ó              # Divide it into two lists as evenly as possible
        ®   Ã        # For each of those lists:
         Ê           #  Get the length
          sW         #  Convert it to base B
             q       # Join the two strings together
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, <del>115</del> 112 bytes</h1>



<pre class="lang-php prettyprint-override"><code>function($b,$n,$s){while($s--)$n=($c=base_convert)(ceil($n=$c($n,$b,10)/2),10,$b).$c(floor($n),10,$b);return$n;}
</code></pre>

<p><a href="https://tio.run/##fZAxa8MwEIXn@FccRoNElDb2EowiCoVCh9IGuhZMLaTaYCQhOe0Q/NvdU3BCW5pMd7r3vnuHfOun7Z1vPegQXKiD9i4Mnf2gayaAGDmZvVVD5ywlDSeWk8gOX23Xa0riasWIlZQo2bxHXStnP3UYGFW66ykqRNFENLxYs9uSYcEHu8Gx6Z0LKJ5mIuhhHyyxYpxEplXrIL8HCajCM9Zyw@E1vd@GnONZFAWcFYzD7nFXP7w8XaPK31T5P1VdiKquJFUXgqo/OT/gzLgAFEiT/CLVbbo4dcslMDhki@N@/DbIcZ/IFjMRQSZbTMAmNSf/DBh6hAqePOxMj/PC8wXj9A0" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>

<p>Ungolfed:</p>

<pre class="lang-php prettyprint-override"><code>function split_join_repeat( $b, $n, $s ) {
    // repeat S times
    for( $x=0; $x &lt; $s; $x++ ) {
        // convert N from base B to base 10 for arithmetic
        $n = base_convert( $n, $b, 10 );
        // divide and split in base 10, convert back to base B and join
        $n = base_convert( ceil( $n / 2 ), 10, $b ) .
            base_convert( floor( $n / 2 ), 10, $b );
    }
    return $n;
}
</code></pre>

<p>Output</p>

<pre class="lang-php prettyprint-override"><code>B = 10, N = 27, S = 1   1413
B = 10, N = 27, S = 2   707706
B = 9, N = 27, S = 1    1413
B = 9, N = 27, S = 2    652651

2   1   10  11  101 1110    111111  10000011111 10000100001000001111    
3   1   10  21  1110    202201  101101101100    1201201201212012012011  212100212102121002121212100212102121002120  
4   1   10  22  1111    223222  111311111311    2232222232322322222322  11131111131311311111311113111113131131111131    
5   1   10  32  1413    432431  213441213440    104220331443104220331442    12141204110401030043301214120411040103004330    
6   1   10  33  1514    535535  245550245545    122553122553122553122552    131022143412311313533131022143412311313533  
7   1   10  43  2221    11111110    40404044040403  2020202202020220202022020201    40556522600645213204055652260064521320  
8   1   10  44  2222    11111111    44444454444444  2222222622222222222226222222    76650460747555347665046074755534    
9   1   10  54  2726    13581357    62851746285173  3142536758708231425367587081    4861155667688600048611556676886000  
10  1   10  55  2827    14141413    70707077070706  3535353853535335353538535353    17676769267677271767676926767727
</code></pre>
</div>
<div id="pu4" class="pu"><h1>C, 245 bytes</h1>

<pre><code>int b,z,n,f,r;c(char*t,n){return n?((z=c(t,n/b)),z+sprintf(t+z,"%d",n%b)):0;}main(){char t[99],*p;gets(t);b=atoi(t);f=n=strtol(p=strchr(t,32)+1,0,b);if(!(r=atoi(strchr(p,32)+1)))f=0;while(r--)n=strtol(t+c(t+c(t,n-n/2),n/2)*0,0,b);puts(f?t:"0");}
</code></pre>

<p>This isn't going to win <em>anything</em>, but it was fun to make!</p>
</div>
<div id="pu5" class="pu"><h1>JavaScript (<em>ES6</em>) 78 <s>79</s></h1>

<p>Recursive function. Run snippet to test (Firefox only)</p>

<p><strong>Edit</strong> 1 byte saved thx @DocMax</p>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>F=(b,n,s,S=x=&gt;x.toString(b),m=parseInt(n,b))=&gt;m*s?F(b,S(-~m&gt;&gt;1)+S(m&gt;&gt;1),s-1):n

// Ungolfed

U=(b,n,s)=&gt;
{
  var S=x=&gt;x.toString(b) // function to convert in base b
  var m=parseInt(n,b) // string in base b to integer
  if (m==0 || s==0)
    return n
  else  
    return F(b,S((m+1)&gt;&gt;1) + S( m&gt;&gt;1 ),s-1)
}

// Test
test=[
  {B: 10, N: '0', S:3, K: '0' }, {B: 10, N: '27', S: 1, K: '1413' }, {B: 10, N: '27', S: 2, K: '707706' }, {B: 9, N: '27', S: 1, K: '1413' }, {B: 9, N: '27', S: 2, K: '652651' }
];

test2=[[2, '11011', '11101101', '11101111110110', '11101111110111110111111011'],[3, '2210', '11021101', '20102012010200', '1001212100121210012121001211'],[4, '1113', '230223', '112112112111', '2302302302323023023022'],[5, '101', '2323', '11341134', '31430423143042' ]  ,[6, '120', '4040', '20202020', '1010101010101010'],[7, '134', '5252', '24612461', '1230456412304564'],[8, '22', '1111', '445444', '222622222622'],[9, '4', '22', '1111', '505505'],[10, '92', '4646', '23232323', '1161616211616161' ]
]
test2.forEach(r=&gt;test.push(
  {B:r[0],N:r[1],S:1,K:r[2]}, {B:r[0],N:r[1],S:2,K:r[3]}, {B:r[0],N:r[1],S:3,K:r[4]}
))  

test.forEach(t =&gt; (
  r=F(t.B, t.N, t.S), 
  B.innerHTML += '&lt;tr&gt;&lt;th&gt;'+(r==t.K?'Ok':'Failed')
      +'&lt;/th&gt;&lt;td&gt;'+t.B +'&lt;/td&gt;&lt;td&gt;'+t.N
      +'&lt;/td&gt;&lt;td&gt;'+t.S +'&lt;/td&gt;&lt;td&gt;'+r +'&lt;/td&gt;&lt;td&gt;'+t.K +'&lt;/td&gt;&lt;/tr&gt;'
))</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>th,td { font-size: 12px; padding: 4px; font-family: helvetica }</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;table&gt;&lt;thead&gt;&lt;tr&gt;
  &lt;th&gt;Test&lt;th&gt;B&lt;th&gt;N&lt;th&gt;S&lt;th&gt;Result&lt;th&gt;Check
  &lt;/tr&gt;&lt;/thead&gt;
  &lt;tbody id=B&gt;&lt;/tbody&gt;
&lt;/table&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu6" class="pu"><h1>Common Lisp - 113 characters</h1>

<pre><code>(lambda(b n s)(dotimes(i s)(setf n(format ()"~vR~vR"b (- #1=(parse-integer n :radix b)#2=(floor #1# 2))b #2#)))n)
</code></pre>

<h1>Ungolfed</h1>

<pre class="lang-lisp prettyprint-override"><code>(lambda(b n s)
  (dotimes(i s)
    (setf n (format () "~vR~vR" b (- #1=(parse-integer n :radix b)
                                     #2=(floor #1# 2))
                                b #2#)))
  n)
</code></pre>

<ul>
<li>The <code>~vR</code> format directive outputs integer in base <code>v</code>, where <code>v</code> is provided as an arguments to <code>format</code>.</li>
<li><code>parse-integer</code> accepts a <code>:radix</code> argument for converting from a specified base.</li>
<li><p><code>#1=</code> and <code>#1#</code> (respectively assign and use) are reader variables which allow to share common sub-expressions. When expanded, they give the following code:</p>

<pre class="lang-lisp prettyprint-override"><code>(lambda (b n s)
  (dotimes (i s)
    (setf n
            (format nil "~vr~vr" b
                    (- (parse-integer n :radix b)
                       (floor (parse-integer n :radix b) 2))
                    b (floor (parse-integer n :radix b) 2))))
  n)
</code></pre></li>
</ul>
</div>
<div id="pu7" class="pu"><h1>Pyth, <s>21</s> 19 bytes</h1>

<pre><code>vujksmjldQc2UiGQvwz
</code></pre>

<p>Takes input in the format <code>N\nB\nS</code>. Try it online: <a href="https://pyth.herokuapp.com/?code=vujksmjldQc2UiGQvwz&amp;input=27%0A10%0A1&amp;debug=0">Demonstration</a> or <a href="https://pyth.herokuapp.com/?code=z+Q%23w%3Dzw%3DQvw%0AvujksmjldQc2UiGQvwz&amp;input=Test+Cases%3A%0A%22%22%0AB+%3D+10%2C+N+%3D+27%2C+S+%3D+1%0A27%0A10%0A1%0AB+%3D+10%2C+N+%3D+27%2C+S+%3D+2%0A27%0A10%0A2%0AB+%3D+9%2C+N+%3D+27%2C+S+%3D+1%0A27%0A9%0A1%0AB+%3D+9%2C+N+%3D+27%2C+S+%3D+2%0A27%0A9%0A2%0AB+%3D+5%2C+N+%3D+141%2C+S+%3D+0%0A141%0A5%0A0%0AB+%3D+9%2C+N+%3D+0%2C+S+%3D+4%0A0%0A9%0A4&amp;debug=0">Test harness</a></p>

<h3>Explanation</h3>

<pre><code>                      implicit: z = 1st input (N)
                                Q = 2nd input evaluated (B)
 u              vwz   reduce z (evaluated 3rd input) times by:
             iGQ         convert string from base Q to base 10
            U            create a range [0, 1, ..., ^-1]
          c2             split into 2 lists (lengths are N-[N/2] and [N/2])
     m                   map each list d to:
       ld                   their length
      j  Q                  in base Q
    s                    join both lists
  jk                     join the numbers by ""
v                     convert string to int (getting rid of leading zeros)
</code></pre>
</div>
<div id="pu8" class="pu"><h1>CJam, 24 bytes</h1>

<pre><code>q~:B;{:~Bb_)\]2f/Bfbs}*i
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=q~%3AB%3B%7B%3A~Bb_)%5C%5D2f%2FBfbs%7D*i&amp;input=%221%22%207%202" rel="nofollow">Test it here.</a> Takes input as <code>"N" S B</code>.</p>

<h2>Explanation</h2>

<pre><code>q~                       e# Read an eval input.
  :B;                    e# Store the base in B and discard it.
     {               }*  e# Repeat S times.
      :~                 e# Turn the string N into an array of digits.
        Bb               e# Interpret as base B.
          _)\            e# Duplicate and increment. Swap order.
             ]2f/        e# Wrap them in an array and (integer-)divide both by 2.
                 Bfb     e# Convert both to base B.
                    s    e# Flatten into a single string.
                       i e# Convert to an integer to fix the N = 0 case.
</code></pre>
</div>
<div id="pu9" class="pu"><h1>ECMAScript 6, 90 bytes</h1>

<pre><code>var f=(B,N,S)=&gt;((n,s)=&gt;S?f(B,s(n+1&gt;&gt;1)+s(n&gt;&gt;1),S-1):s(n))(parseInt(N,B),x=&gt;x.toString(B))
</code></pre>

<p>Defining a recursive function using a variable is not really good style, but it is the shortest code I could come up with in ECMAScript 6.</p>

<p>Getting the corner case <code>"00" =&gt; "0"</code> right wastes three bytes (<code>s(n)</code> instead of simply <code>N</code>).</p>

<p>To try it out, you can use <a href="http://babeljs.io/repl/" rel="nofollow">Babel's REPL</a>: copy/paste the code and print example invocation results like so: <code>console.log(f(9, "27", 2))</code>.</p>
</div>
<div id="pu10" class="pu"><h1><a href="http://github.com/dloscutoff/pip" rel="nofollow">Pip</a>, 27 bytes</h1>

<pre><code>Lcb:+J[(bFB:a)%2i]+b//2TBab
</code></pre>

<p>Takes base, integer, and number of repetitions as command-line arguments. The algorithm is straightforward, but uses a couple interesting language features:</p>

<pre><code>                             a, b, c initialized from cmdline args, and i = 0 (implicit)
Lc                           Do c times:
        bFB:a                Convert b from base a to decimal and assign back to b
      [(     )%2i]           Construct a list containing b%2 and 0 (using i to avoid
                               scanning difficulties)
                  +b//2      Add floor(b/2) to both elements of list; the list now contains
                               b-b//2 and b//2
                       TBa   Convert elements of list back to base a
     J                       Join list
    +                        Coerce to number (necessary to turn 00 into plain 0)
  b:                         Assign back to b
                          b  Print b at the end
</code></pre>

<p>Pip's scalar type, which represents both numbers and strings, is handy here, as are item-wise operations on lists; unfortunately, parentheses and the two-character operators <code>FB</code>, <code>TB</code>, and <code>//</code> negate any advantage.</p>

<p>Alternate solution, without the intermediate assignment but still 27 bytes:</p>

<pre><code>Lcb:+J[bFBa%2i]+bFBa//2TBab
</code></pre>
</div>
<div id="pu11" class="pu"><h1>Mathematica, 101 bytes</h1>
<pre><code>Nest[a~Function~(b=FromDigits)[Through@((c=IntegerString)@*Ceiling&lt;&gt;c@*Floor)[a/2],#],#2~b~#,#3]~c~#&amp;
</code></pre>
<p>Uses some <code>Through</code> trickery to apply both the ceiling and floor functions. Just ignore the errors.</p>
</div>
<div id="pu12" class="pu"><h1>Pyth, <strike>29</strike> 21 bytes</h1>
<pre><code>jku+j-JiGQK/J2QjKQvwz
</code></pre>
<p>Really straightforward implementation.</p>
<p>Takes input on stdin in the following format:</p>
<pre><code>N
B
S
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/50768/">50768</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




