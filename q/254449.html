<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::254449</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>452</td><td>Python3</td><td>250924T175757Z</td><td><a href="https://codegolf.stackexchange.com/questions/254449/perfect-nontransitive-sets/283835#283835">Ajax1234</a></td></tr>
<tr d-ix="1"><td>050</td><td>JavaScript ES6</td><td>221110T152917Z</td><td><a href="https://codegolf.stackexchange.com/questions/254449/perfect-nontransitive-sets/254450#254450">Arnauld</a></td></tr>
<tr d-ix="2"><td>037</td><td>Ruby</td><td>221115T162932Z</td><td><a href="https://codegolf.stackexchange.com/questions/254449/perfect-nontransitive-sets/254578#254578">G B</a></td></tr>
<tr d-ix="3"><td>014</td><td>05AB1E</td><td>221110T183832Z</td><td><a href="https://codegolf.stackexchange.com/questions/254449/perfect-nontransitive-sets/254458#254458">Kevin Cr</a></td></tr>
<tr d-ix="4"><td>019</td><td>Charcoal</td><td>221111T005241Z</td><td><a href="https://codegolf.stackexchange.com/questions/254449/perfect-nontransitive-sets/254470#254470">Neil</a></td></tr>
<tr d-ix="5"><td>012</td><td>Jelly</td><td>221110T200349Z</td><td><a href="https://codegolf.stackexchange.com/questions/254449/perfect-nontransitive-sets/254462#254462">Jonathan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 452 bytes</h1>
<pre class="lang-py prettyprint-override"><code>def K(j,p):
 U=[0,0]
 for J in p:
  if j!=J:
   u=[0,0]
   for a,b in zip(j,J):
    if a and b and a!=b:u[a&lt;b]+=1
   U[u[0]&lt;u[1]]+=1
 return abs(U[0]-U[1])
def f(n):
 T={*range(1,n+1)}
 q=[([[i,0,0]for i in T],1)]
 for a,i in q:
  if i&gt;2:continue
  L=[*zip(*a)][i]
  if 0 not in L:q+=[(a,i+1)];continue
  for r in T-{*L}:
   A=eval(str(a));A[L.index(0)][i]=r
   if len(V:={*map(tuple,A)})==n:
    if 0==any(K(m,V-{m})for m in V):return A
    q+=[(A,i)]
</code></pre>
<p><a href="https://tio.run/##TVDLbsIwELznK8zNG0yVFFWqAq6UK@RIuFg@OMVpjYhjTFKVonx7apuHuFir2fE81py771bP340dx52s0RrviYEsQiVlCUl4hOrWohVSGhmHIlWj/YSu/Ij6OwUFkiCVp/0p4zRWECieL5DQO1SFV0xolfVMLCs@palnlKxnCV/2LOVXyMqutxqJ6oRLt5mVbgORz1Zj7VU39BJbob8kTomepjBE6EgZZkwRH8dHUT7IhpMUbgUECdDxVkF9vGafre6U7qVDCspiHzsWwJniV06CdNv5T0V2nDp9J@HM@OLpn1e2wWp2iYshNM6p/BEHfOosFgCLnBUvSu/kL06CNrXR9SoHqfE2c1UaYXDXm4MkOQxAqX4cLqFU6DNe44ZsZ5dmAO/XeL8tZLcz5YEcAuZEAR@NVbrDNU4Bovs8f5rfAMZ/" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1>JavaScript (ES6), 50 bytes</h1>
<p>-5 bytes by porting the formulas used in <a href="https://codegolf.stackexchange.com/a/254578/58563">G B's answer</a>, as suggested by G B.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;[...Array(i=n)].map(_=&gt;[i+=n+~n/2,-i-(i%=n),i])
</code></pre>
<p><a href="https://tio.run/##ZU9LTsMwEN33FLOhsZXENJXYUBzEgg0SsOiyipDrOolpmESOG6lC5QRIbFjCPThPL8ARgpOAskAeeT7vzZuZR9GIWhpd2RDLjWpT3iKPV4yxK2PEnmiONGFPoiIPrqx9jv4Lns6DUIdEnzgw0Alt09IQBA7RAhAunD/rAp/DnMLzBMCo2qEpQbpwmSyxLgvFijIjyGy5tEZjRiirxGZphbHEtfnguefDzfL@jtU9Q6d74pRGjMhcye1QuwTv@@vt@PHufg/OwTt@vnrUzTtMJukOpdUlwsAXf0vZnUEQTDXK7MkaeNzXAQplodZZd9EKZkFvkCx6TDB37LWQOZFjA/T01a2wOesismZGbXZSEVIF0ASwpR25cjuPnAZCkKttQp067Y6KEt8fhhzo4H9X7MVnCXDuxhcKM5tDHEME0@mART025vP/3E6wkz20Pw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<hr />
<h1>JavaScript (ES6), 55 bytes</h1>
<p><em>-1 thanks to <a href="https://codegolf.stackexchange.com/users/52210/kevin-cruijssen">@KevinCruijssen</a></em></p>
<p>Returns one perfect non-transitive set, built in a specific way.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;[...Array(i=n)].map(_=&gt;[i,(i+~n/2)%n,(4*n-i-++i)%n])
</code></pre>
<p><a href="https://tio.run/##ZU9LTsMwEN33FLOhsXFimgo2FAexYIMELLqMIuS6TmIanMhxI1WonACJDUu4B@fpBThCcBJQFsgjz@e9eTPzyBteC6MqG@hyLduUtZpFMaX0yhi@Q4ppnNAnXqEHV1Y@UuRFn8zxkfbR6bEOVECIclmC27Q0SAODcAEaLpw/6wLCYI7heQJgZO3QFGm8cJkodV0WkhZlhjS15dIapTOEacXXS8uNRa6NgOcegZvl/R2te4ZKd8gpjRgSuRSboXYJ3vfX2@Hj3f0enIN3@Hz1sJu3n0zSrRZWlRoGPv9bym6NBk5lI80OrYBFfR2gkBZqlXUXxTDze4Nk0WOcumOvuciRGBugp8e33Oa0i9CKGrneColQ5UPjwwZ35MrtPHIaCEDEmwQ7ddwdFSaEDEP2ePC/K/biswQYc@MLqTObQxRBCNPpgIU9Nubz/9xOsJPdtz8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>The tuples are built as follows:</p>
<ul>
<li><p>First entry: <span class="math-container">\$n\$</span> to <span class="math-container">\$2n-1\$</span>. It would be more obvious to use <span class="math-container">\$0\$</span> to <span class="math-container">\$n-1\$</span>, but it's golfier that way.</p>
</li>
<li><p>Second entry: <span class="math-container">\$\lfloor n/2\rfloor\$</span> to <span class="math-container">\$n-1\$</span>, then <span class="math-container">\$0\$</span> to <span class="math-container">\$\lfloor n/2\rfloor-1\$</span>.</p>
</li>
<li><p>Third entry: <span class="math-container">\$n-1\$</span>, <span class="math-container">\$n-3\$</span>, ..., <span class="math-container">\$0\$</span>, <span class="math-container">\$n-2\$</span>, <span class="math-container">\$n-4\$</span>, ..., <span class="math-container">\$1\$</span>.</p>
</li>
</ul>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>43 ...</s> 37 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;n{(1..x=n).map{[x+=n/2,-x-x%=n,x]}}
</code></pre>
<p><a href="https://tio.run/##PY6xDoJAEER7vsLG5IjcKmeMoVh@ZLOFGqFyJSeEI@x9@wmS2MzLFPMyfrhPqcFka5lNCRBQcnjdupnCAeXoChts2KMUgWNM3a6hC2crzhuuG0rOshZXifzWOqoRSyPn8HgP0s86qTkBuH/3OpLneloiIroY4yIq4dM/O1NVhdteqGhLDQmzEsf0BQ" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>I wish you didn't ask.</p>
<p>Just trial and error.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>19</s> 14 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<p>-5 bytes porting <a href="https://codegolf.stackexchange.com/a/254470/52210"><em>@Neil</em>'s Charcoal answer</a> (which in turn is based on <a href="https://codegolf.stackexchange.com/a/254462/52210"><em>@JonathanAllan</em>'s Jelly answer</a> - so make sure to upvote both of them as well).</p>
<pre><code>Lε&lt;DI&gt;;+y·()I%
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/f59xWGxdPO2vtykPbNTQ9Vf8fXv/fGAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W9oerj1cGdZpb2SwqO2SQpK9pUuof99zm21cYmws9auPLRdQzNC9X/t4fU6/wE" rel="nofollow noreferrer">verify all odd inputs up to 15</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>L           # Push a list in the range [1, (implicit) input-integer]
 ε          # Map over each integer `y`:
  &lt;         #  Decrease the integer to make it 0-based
  D         #  Duplicate it
   I&gt;       #  Push the input+1
     ;      #  Halve it
      +     #  Add it to the `y-1`
  y         #  Push `y` again
   ·        #  Double it
    (       #  Negate it
       )    #  Wrap all three values on the stack into a list
        I%  #  Modulo each by the input
            # (after which the list of triplets is output implicitly as result)
</code></pre>
<p><strong>Original 19 (18†) <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a> brute-force approach:</strong></p>
<pre class="lang-python prettyprint-override"><code>Ý3ãIã.ΔDδ.SOεD_«O}P
</code></pre>
<p>Very slow and will already time out for <span class="math-container">\$n\geq5\$</span>..</p>
<p><a href="https://tio.run/##ASUA2v9vc2FiaWX//8OdM8OjScOjLs6URM60LlNPzrVEX8KrT31Q//8z" rel="nofollow noreferrer">Try it online.</a> or <a href="https://tio.run/##ATcAyP9vc2FiaWX/NcOFw4l2eT8iIOKGkiAiP3n/w50zw6N5w6MuzpREzrQuU0/OtURfwqtPfVD/fSz/" rel="nofollow noreferrer">verify 1 and 3..</a>.</p>
<p>† If we're allowed to output all possible results for a certain range (e.g. all valid results using integers in the range <span class="math-container">\$[0,n]\$</span>), it could be 1 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">byte</a> less by changing the <code>.Δ</code> (find_first) to <code>ʒ</code> (filter), although it'll then become even slower and already times out for <span class="math-container">\$n=3\$</span>.. <a href="https://tio.run/##ASQA2/9vc2FiaWX//8OdM8OjScOjypJEzrQuU0/OtURfwqtPfVD//zM" rel="nofollow noreferrer">try it online</a>.</p>
<p><strong>Explanation:</strong></p>
<pre class="lang-python prettyprint-override"><code>Ý            # Push a list in the range [0, (implicit) input]
 3ã          # Get a list of all triplets using these values
   Iã        # Get all input-sized lists using these triplets
.Δ           # Find the first list of triplets which is truthy for:
  D          #  Duplicate the current list of triplets
   δ         #  Apply double-vectorized:
    .S       #   Vectorize-compare the triplets
             #   (e.g. [a,b,c] and [d,e,f] → [C(a,d),C(b,e),C(c,f)], where C(A,B) is a
             #   compare resulting in -1 if A&lt;B; 0 if A==B; and 1 if A&gt;B)
      O      #  Get the sum of each inner-most triplet comparison
       ε     #  Map over each inner list:
        D    #   Duplicate the list
         _   #   Check which values are equal to 0 (1 if 0; 0 otherwise)
          «  #   Merge the two lists together
           O #   Sum the list
       }P    #  After the map: take the product of this list of sums
             #  (only 1 is truthy in 05AB1E, so I basically check for each triplet-
             #  comparison [x,y,z] whether x+y+z+(x==0)+(y==0)+(z==0)==1 - meaning there
             #  is exactly one 0 and an equal amount of 1s and -1s)
             # (after which the result is output implicitly)
</code></pre>
<p><a href="https://tio.run/##XZHBahsxFEX3/orHbNKCZ0gTsikYU2xaDG0TcLIKpSgzLx5RWU/oSQ4JBPoR3XZl6KLdZNHkA@y9P6I/MpU0SiAZZjW6517dO8TiQmLXFTNtvHsLxXC0eRgPignpFVoH0oEjEHC@P5RR8aW0Qi@wASU5ybc/e@ADOhBKgSFmeaEQnJVGoWPwLPUCXIuMsBLKI0fucLt@Dib7kuVNNn8OPrm9Iq2uwVipXT6FS2nZwcHR6@g7266nB0eb9b/vv6qq2vweppC5E6GMIjIRolAtkJJTEPhgpeAK91bBi7xuQt9wUdmARfYq1ax2PwYFTLy1qF2PhV2SSjhMQ9yN@0IwoaURFqEhH4YoV1g7srFXlk13f6t51sb2sQP7JdAloKjbx65QJx/JpDN4nKFPaBeYsHSRK@na3kQs86elMCbsKBhGo32oW6y/cTbZ3U@/bv7cZqt5yE2hIdy1xD3PLwIfb2ksNb52QxBhJHZkgHSN/ZThfZOxk4yVT08Rf8PtoHg/@/zuIxyfnZ6cnUbxuOsOu7LUVCpxc/0f" rel="nofollow noreferrer">See here for a step-by-step output.</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 19 bytes</h1>
<pre><code>ＮθＩ﹪Ｅθ⟦ι⁺ι⊘⊕θ±⊗⊕ι⟧θ
</code></pre>
<p><a href="https://tio.run/##XcqhDoMwEIBhv6eovCadQCM3MQQEv0wc5bI1OVparrz@rbNT/y8@/8HiE7LqEPcqU90WKpBtf5lLiAI3PATGtFZOMOIO2ZlncGbmekDrA/mkFYboC20UpX221joz0RuF4J7qwn8gNPBq5Ad71a7T68lf" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs the triples @JonathanAllan's answer does (except decremented because Charcoal is 0-indexed), but using a different approach to generating the triples. Explanation:</p>
<pre><code>Ｎθ                  Input `n` as an integer
     θ              Input `n`
    Ｅ               Map over implicit range
      ⟦             List of
       ι            Current index
            θ       Input `n`
           ⊕        Incremented
          ⊘         Halved
        ⁺           Plus
         ι          Current index
                ι   Current index
               ⊕    Incremented
              ⊗     Doubled
             ±      Negated
                 ⟧  End of list
   ﹪                Vectorised modulo by
                  θ Input `n`
  Ｉ                 Cast to string
                    Implicitly print
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 12 <a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>rCm2ĖṠÞĖF€%o
</code></pre>
<p>A monadic Link that accepts an odd, positive integer and yields a list of triples.</p>
<p><strong><a href="https://tio.run/##AR4A4f9qZWxsef//ckNtMsSW4bmgw57Elkbigqwlb////zU" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<p>Or see a <a href="https://tio.run/##y0rNyan8/7/IOdfoyLSHOxccnndkmtujpjWq@f8Pt8cf3pcAFDu0HEgc6T68z1BH9@GOJY8aZtg@atxxYtnD3d2PGuaEJeZkpgBpz7wyCGsuV1Cu0dFJD3fO0DncfqwLaJj7//8mRgA" rel="nofollow noreferrer" title="Jelly – Try It Online">check of the first 21</a><br />
(checks that there are exactly <span class="math-container">\$\frac{n-1}{2}\$</span> others that are greater and exactly <span class="math-container">\$\frac{n-1}{2}\$</span> that are less for each triple in the result.).</p>
<h3>How?</h3>
<pre><code>rCm2ĖṠÞĖF€%o - Link: (odd, positive) integer, n
 C           - complement (n) -&gt; 1-n
r            - (n) inclusive range (that) -&gt; [n,n-1,n-2,...,1,0,-1,...,3-n,2-n,1-n]
  m2         - modulo two slice           -&gt; [n,    n-2,...,1,  -1,...,3-n,    1-n]
    Ė        - enumerate -&gt; [[1,n],[2,n-2],...,[(n+1)/2,1],[(n+3)/2,-1],...,[n-1,3-n],[n,1-n]]
      Þ      - sort by:
     Ṡ       -   sign (vectorises)
               ...rotates that list left by (n+1)/2 such that the [(n+3)/2,-1] entry is first
       Ė     - enumerate
        F€   - flatten each
          %  - modulo (n) (vectorises)
           o - logical OR (n) (vectorises) ...replaces zeros with n.
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/254449/">254449</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




