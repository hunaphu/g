<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::172910</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>010</td><td>Japt</td><td>180927T181117Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172944#172944">Shaggy</a></td></tr>
<tr d-ix="1"><td>005</td><td>Vyxal</td><td>220426T025842Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/246590#246590">naffetS</a></td></tr>
<tr d-ix="2"><td>5343</td><td>Wolfram Language Mathematica 53 43 Bytes</td><td>220426T164056Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/246609#246609">Romanp</a></td></tr>
<tr d-ix="3"><td>061</td><td>Desmos</td><td>220426T032948Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/246594#246594">Aiden Ch</a></td></tr>
<tr d-ix="4"><td>111</td><td>Retina</td><td>180928T032858Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172973#172973">ais523</a></td></tr>
<tr d-ix="5"><td>004</td><td>Vyxal</td><td>201113T060158Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/215164#215164">lyxal</a></td></tr>
<tr d-ix="6"><td>026</td><td></td><td>180927T135105Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172914#172914">Jo King</a></td></tr>
<tr d-ix="7"><td>032</td><td>Perl 5 p</td><td>201113T054921Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/215163#215163">Xcali</a></td></tr>
<tr d-ix="8"><td>007</td><td>Husk</td><td>201113T042250Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/215160#215160">Razetime</a></td></tr>
<tr d-ix="9"><td>007</td><td>Jelly</td><td>180929T051105Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/173028#173028">Dennis</a></td></tr>
<tr d-ix="10"><td>048</td><td>Python 2</td><td>180928T225811Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/173017#173017">xnor</a></td></tr>
<tr d-ix="11"><td>056</td><td>Python 2</td><td>180928T204737Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/173009#173009">ovs</a></td></tr>
<tr d-ix="12"><td>016</td><td>K ngn/k</td><td>180928T090606Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172981#172981">ngn</a></td></tr>
<tr d-ix="13"><td>014</td><td>MathGolf</td><td>180927T135837Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172917#172917">maxb</a></td></tr>
<tr d-ix="14"><td>020</td><td>J</td><td>180928T075642Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172979#172979">Galen Iv</a></td></tr>
<tr d-ix="15"><td>044</td><td>Haskell</td><td>180927T234047Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172969#172969">xnor</a></td></tr>
<tr d-ix="16"><td>032</td><td>Retina</td><td>180927T160441Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172933#172933">Neil</a></td></tr>
<tr d-ix="17"><td>006</td><td>05AB1E</td><td>180927T135419Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172915#172915">Kevin Cr</a></td></tr>
<tr d-ix="18"><td>066</td><td>Java 10</td><td>180927T183601Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172947#172947">Kevin Cr</a></td></tr>
<tr d-ix="19"><td>008</td><td>Stax</td><td>180927T183045Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172946#172946">recursiv</a></td></tr>
<tr d-ix="20"><td>376</td><td>Shakespeare Programming Language</td><td>180927T170728Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172939#172939">user2027</a></td></tr>
<tr d-ix="21"><td>041</td><td>JavaScript ES6</td><td>180927T134229Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172911#172911">Arnauld</a></td></tr>
<tr d-ix="22"><td>009</td><td>Husk</td><td>180927T154806Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172930#172930">ბიმო</a></td></tr>
<tr d-ix="23"><td>014</td><td>APL Dyalog Unicode</td><td>180927T151131Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172925#172925">jslip</a></td></tr>
<tr d-ix="24"><td>051</td><td>Haskell</td><td>180927T143507Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172921#172921">Delfad0r</a></td></tr>
<tr d-ix="25"><td>015</td><td>Pyth</td><td>180927T135511Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172916#172916">Sok</a></td></tr>
<tr d-ix="26"><td>088</td><td>Python 2</td><td>180927T134342Z</td><td><a href="https://codegolf.stackexchange.com/questions/172910/how-many-threes/172912#172912">TFeld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>12</s> 10 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ì*3 å+ xv3
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=7CozIOUrIHh2Mw&amp;input=WzIgNiAwIDQgMl0" rel="nofollow noreferrer">Try it</a> or <a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;header=7A&amp;code=7CozIOUrIHh2Mw&amp;input=MTAwMQotbQ" rel="nofollow noreferrer">view results for<code>0-1000</code></a></p>
<pre><code>ì*3 å+ xv3  :Implicit input of digit array
ì*3         :Convert to integer, multiply by 3, and convert back
    å+      :Cumulative sums
       x    :Sum of elements that are
        v3  :  Divisible by 3
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 5 bytes</h1>
<pre><code>T¦v₃∑
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCJUwqZ24oKD4oiRIiwiIiwiMjYwNDIiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<h2>How?</h2>
<pre><code>T¦v₃∑
T     # Triple the (implicit) input
 ¦    # Cumulative sum
  v₃  # Is each element divisible by three?
    ∑ # Sum
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>: (53) 43 Bytes</h1>
<pre><code>If[#&lt;1,1-Sign@#,Boole[3#~Mod~1&lt;1]+#0[.1#]]&amp;
</code></pre>
<p><em>-10 bytes from att</em></p>
<p>Pretty long, but I figured it was worth posting anyways because it was difficult enough to golf.</p>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73zMtWtnGUMdQNzgzPc9BWccpPz8nNdpYuc43P6XO0MYwVlvZIFrPUDk2Vu1/QFFmXkl0mr5DUGJeemq0gY6hkUFs7H8A" rel="nofollow noreferrer">Try It Online</a></p>
<hr />
<h2>Explanation:</h2>
<p><code>If[#&lt;1, 1-Sign@#</code>: If our input was 0, return 1.</p>
<p><code>Boole[3#~Mod~1&lt;1]</code>: Otherwise, check if the fractional part of 3n is less than 1, and return 1 if so.</p>
<p><code>+#0</code>: Then, add this same expression to this total
<code>[.1#]]&amp;</code> but with a tenth of the input.</p>
<p>I also tried using the other algorithm, but I couldn't get anything below around 75 bytes with it. Probably possible to get much lower than 75 (I'm not great at golfing), but 43 certainly seems better.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, 61 bytes</h1>
<pre><code>f(n)=total(0^{mod(floor(3n/10^{[0...floor(log(0^n+n))]}),3)})
</code></pre>
<p>Essentially does the prefix trick that some of the other answers are using. Pretty straightforward, though quite interesting to implement in Desmos.</p>
<p><a href="https://www.desmos.com/calculator/pugd698blv" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p><a href="https://www.desmos.com/calculator/d35v1oscrp" rel="nofollow noreferrer">Try It On Desmos! - Prettified</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 11 bytes of Latin-1</h1>
<pre><code>v`.3*[012¶]
</code></pre>
<p><a href="https://tio.run/##K0otycxLNPz/vyxBz1gr2sDQ6NC22P//jcwMTIy4AA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a></p>
<p>Retina works on strings rather than integers, so I'm taking the number as it'd appear in a file (digits followed by a newline).</p>
<p>(Note: as pointed out in the comments, <code>v`.3*[¶-2]</code> works for 10 bytes, but I didn't come up with it myself.)</p>
<h2>Algorithm</h2>
<p>Almost all the solutions here have a multiplication by 3, but I thought it'd be interesting to try to solve the problem without it. We already know from the algorithm most people are using that we need to identify the number of suffixes of 3<i>n</i> that are divisible by 3. Now, given a suffix of <em>n</em> (say <em>s</em>), 3<i>s</i> will appear as a suffix of 3<i>n</i> if the multiplication <em>s</em>×3 does not carry into the digit before the suffix. Meanwhile, if the multiplication <em>s</em>×3 <em>does</em> carry, then the corresponding suffix of 3<i>n</i> will not be divisible by 3 (as the digital root of 3<i>s</i> is divisible by 3 – 3 divides (10-1) and we're working in base 10 – and the corresponding suffix of 3<i>n</i> will be equal to 3<i>s</i> but without a leading <code>1</code> or <code>2</code>, neither of which is divisible by 3).</p>
<p>We do need to adjust for the possibility that 3<em>n</em> has more digits than <em>n</em>, thus meaning that 3<em>n</em> has an extra suffix that doesn't correspond to any suffix of <em>n</em>. This suffix is trivially the whole number 3<em>n</em>, and will always be divisible by 3 (for obvious reasons). Thus, if the multiplication <em>n</em>×3 carries, we have to add 1 to the result. We can note that if <em>n</em>×3 doesn't carry, it will contribute 1 to the result using a naive algorithm, whereas if it does, it won't; and thus we can do this adjustment simply by counting the &quot;suffix that represents the whole number <em>n</em>&quot; unconditionally, rather than checking for a carry. Equivalently (and slightly more tersely), we can unconditionally <em>not</em> count this suffix, and count some other suffix instead (the empty suffix is convenient), as it'll come to the same total.</p>
<p>How do we determine if a multiplication by 3 would carry? Well, if the first digit of the number is greater than 3, it must; if it's less than 3, it can't. If it's 3, whether it carries or not will depend on the next digit of the number in the same way. If the number consists <em>entirely</em> of 3s, the multiplication won't carry (it'll stop just short at a number consisting entirely of 9s). Thus, the algorithm we want is &quot;count the number of proper suffixes that start with 0 or more 3s, followed by 0, 1, 2, or the end of the string; plus one extra suffix&quot;.</p>
<h2>Explanation</h2>
<p>This algorithm ends up longer than the consensus algorithm in most languages, so I'm submitting it in Retina, a language where it turns out to be shorter than the more usual method (and a similar length to golfing languages).</p>
<pre><code>v`.3*[012¶]
v`            {Count the number of} points within the input from which you can
  .             ignore one character,
   3*           and skip past any number (including zero) of 3s,
     [012¶]     to find 0, 1, 2, or the newline at the end of the input.
</code></pre>
<p>The requirement to ignore one character before we start looking means that the improper suffix consisting of the whole number cannot be counted (as the suffixes that we actually look at will be the ones starting one character to the right of where Retina starts, and thus not at the first character). However, the improper suffix consisting only of the newline at the end of the number will always be counted, thus giving us the one extra suffix we need.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Lyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, <code>s</code>, <s>6</s> <s>5</s> 4 bytes</h1>
<pre><code>3*¦₃
</code></pre>
<p><a href="http://lyxal.pythonanywhere.com?flags=s&amp;code=3*%C2%A6%E2%82%83&amp;inputs=26042&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>;)</p>
<h2>Explained</h2>
<pre><code>3*¦₃
3*      # multiply the input by 3
  ¦     # take cumulative sums of that number, treating it as a list
   ₃    # get the divisibility of 3 of each number and then
        # the `-s` flag sums the top of the stack before outputting
</code></pre>
</div>
<div id="pu6" class="pu"><h1><s><a href="https://github.com/Raku/problem-solving/issues/81" rel="nofollow noreferrer">Perl 6</a></s> <a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Raku</a>, <s>54 28</s> 26 bytes</h1>
<p><em>-14 bytes thanks to nwellnhof!</em></p>

<pre class="lang-perl6 prettyprint-override"><code>{sum [\+](.comb)X%%3}o*×3
</code></pre>
<p><a href="https://tio.run/##K0gtyjH7n1upoJamYPu/urg0VyE6pi5WQy85PzdJM0JV1bg2X@vwdOP/1lzFiZUKekBlaflFCkZmBiZGOgo1cUYG1v8B" rel="nofollow noreferrer">Try it online!</a></p>
<p>This counts how many prefixes of the number times three are divisible by 3.</p>
<h3>Explanation:</h3>
<pre class="lang-perl6 prettyprint-override"><code>{                   }o*×3  # Pass the input times 3 into the code block
     [\~](.comb)           # Get all the prefixes of the number
                X%%3       # Map each to whether they are divisible by 3
 sum                       # And get the sum
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-p</code>, 32 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_*=3;s/./$\+=!(($t+=$&amp;)%3)/ge}{
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18lXsvW2LpYX09fJUbbVlFDQ6VE21ZFTVPVWFM/PbW2@v9/QwNDg3/5BSWZ@XnF/3V9TfWA/P@6BQA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 7 bytes</h1>
<pre><code>#¦3∫d*3
</code></pre>
<p><a href="https://tio.run/##yygtzv7/X/nQMuNHHatTtIz///9vaGAIAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>Same as the other answer, except it uses cumulative sum.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>

<pre><code>×3DÄ3ḍS
</code></pre>

<p><a href="https://tio.run/##7dWhDcJAFIDhhWq4g07ABp0B03QBHCEkKHQVG6BJ/U3SLnKYE01QDQhKvjz33HfJu789dN0x59THfbrEcbg1ud7VYRye6TqdH@10uld5U71PKLOmXSwTZrN0x8HBwcHBsVbHtkyczdLdJ2/wrR3H/zncOQcHB4eec@i5O@fg4NBzHeTQc/8VBweHnusgh577rzg4OPRcBzn0nIODg0PPOfTcnf@I4wU" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>×3DÄ3ḍS  Main link. Argument: n

×3       Compute 3n.
  D      Decimal; convert 3n to the array of its digits in base 10.
   Ä     Accumulate; take the cumulative sum.
         Note that an integer and its digit sum are congruent modulo 3.
    3ḍ   Test each partial digit sum for divisibility by 3.
      S  Take the sum of the Booleans, counting the multiples of 3.
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 48 bytes</h1>



<pre class="lang-python prettyprint-override"><code>n=input()*3;p=n&lt;1
while n:p+=n%3&lt;1;n/=10
print p
</code></pre>

<p><a href="https://tio.run/##LYw7DsIwEAX7PcXKEhKfAjtBFElchpaGC0BYKRbRerVyBDm9iQXVe8XMyJLGyFUe4pPQozEmsw8sc9ru9nUrnjsH7zFMhNzIwfOm7lzLR@8siAZOKHmV4M/cdKYGEJMuZRDpQwOWOJQ/kCTsr5deNeoPeCjdX9mCg7VYne2p@gI" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Similar to <a href="https://codegolf.stackexchange.com/a/173009/20260">ovs's answer</a>, but takes the whole prefix mod 3 without accumulating rather than the last digit. Outputs <code>True</code> as 1 on input of 0.</p>

<hr>

<h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 42 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda n:n&gt;=1and(n%1&lt;1/3)+f(n/10)or n==0
</code></pre>

<p><a href="https://tio.run/##DcHBCoQgFAXQvV/hJnjSovcqWkTOvziYJNhNwoq@3plz8lu2A0OtwSa3f73TmPGx4uAJjSzSDaYNhE7YHKeGtVyfLaZVy5zPiEKB1tslishXIfNXWYkSVv3EY/8D" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p>Uses ideas from <a href="https://codegolf.stackexchange.com/a/172973/20260">ais523's very nice solution</a>. Repeatedly floor-divides the input by 10 until it's zero, and counts how many times the fractional part is less than 1/3. On very large inputs float precision will eventually be a problem. The <code>n=0</code> case is handled with <code>or n==0</code> making it return True for 1. The code can work in Python 2 if the input is a float, if we rewrite <code>n%1&lt;1/3</code> as <code>n%1*3&lt;1</code> which is the same length.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 56 bytes</h1>



<pre class="lang-python prettyprint-override"><code>n=input()*3;k=p=0
while n:k+=n%10;n/=10;p+=k%3&lt;1
print p
</code></pre>

<p><a href="https://tio.run/##LY2xDoJAEET7/YoNCYlK4R0YC3BLbG38AcVNIEeWzeaI8vUnRJt5U7zJ6BL7ScrUTS9GwizLktAgOsfd/lA1gZQcvPthZJQ6FCS5d40caU0tKOTVxYPaIBE1rWP4u3ebuQbEaMsGRP5wh9sJbL1jjdjerq3ZZD/hafwIyYN3UJ7dqfwC" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://gitlab.com/n9n/k" rel="nofollow noreferrer">K (ngn/k)</a>, 16 bytes</h1>

<pre><code>{+/~3!+\.:'$3*x}
</code></pre>

<p><a href="https://tio.run/##y9bNS8/7/z/dqlpbv85YUTtGz0pdxVirovZ/iVW1SnRlXZFVmkKFdUJ@trVGQlpiZo51hXWldZFmbC0XV7GVkiEcGAEBbVjGQGAEBrhYA2GHEleaVbWOvkq6umJFrXVJtHKxdXGsgn5ZalFmWqVCWmZRcYmCkakBF0iZtj5MlZmpmZE10DZLC4Ta4tJchfw0qBaQgv8A" rel="nofollow noreferrer" title="K (ngn/k) – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/maxbergmark/mathgolf" rel="nofollow noreferrer">MathGolf</a>, <s>15</s> 14 bytes</h1>

<pre><code>3*▒0\Æ§_3÷\;]Σ
</code></pre>

<p><a href="https://tio.run/##y00syUjPz0n7/99Y69G0SQYxh9sOLY83Prw9xjr23OL//43MDEyMAA" rel="nofollow noreferrer" title="MathGolf – Try It Online">Try it online!</a></p>

<p>-1 byte thanks to JoKing</p>

<h2>Explanation</h2>

<pre><code>3*                Multiply the input by 3
  ▒               Convert to a list of digits
   0\             Push a zero and swap the top two elements
     Æ            Execute the next 5 characters for each block
      §           Concatenate
       _          Duplicate
        3÷        Check divisibility by 3 (returns 0 or 1)
          \       Swap top two elements
           ;      Discard TOS (the last swap
            ]Σ    Wrap the entire stack in an array and output its sum
</code></pre>

<p>I don't know if this is the correct solution to the problem but it mimics the JS solution by Arnauld. If I'm incorrect, I'll try to fix it.</p>
</div>
<div id="pu14" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 20 bytes</h1>

<pre><code>1#.0=[:(3|".)\3":@*]
</code></pre>

<p><a href="https://tio.run/##LcmxDkAwFEbhvU/xp4YicnOLGG7SxOQlMIkGi0SNPHtJGM93tuiDIzAEHG1C7HpJq0tTNlRa2nyMmdIE4x0ZFLgFPig1T8sOj7LhuvzCdOsRTlhmMf/WjJVegIoP" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 44 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>g.(*3).max 1
g 0=0
g n=0^mod n 3+g(div n 10)
</code></pre>

<p><a href="https://tio.run/##DcZLCoAgEADQfaeYRYs@JCOtPUkfGCxNUpOK6PRNbh5vo2tfvWejRraiavpaBHpBFhZQYTYqnMOxQIS@tdXinjyJNQdyUaXTxRtKCJTAwIBCSMSJP2082Ys7ndIP" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>Uses <a href="https://codegolf.stackexchange.com/a/172921/20260">Delfad0r's observation</a> that the output is the number of suffixes (equivalently, prefixes) of 3n that are multiples of 3. This method finds the prefixes arithmetically by repeatedly floor-dividing by 10 rather than using the string representation. The <code>0^</code> is a short arithmetic way to produce <code>1</code> if the exponent <code>mod n 3</code> is zero, and produce <code>0</code> otherwise.</p>

<p>The first line is the main function, which triples the input before passing it to the helper function <code>g</code> which is defined recursively. The <code>max 1</code> is a hack to make <code>f(0)</code> equal 1, since we're required to handle zero like the string <code>'0'</code> rather than the empty string.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, <s>35</s> 32 bytes</h1>

<pre><code>.+
$.(*3*
Lv$`.+
&lt;$&amp;*-&gt;
&lt;(---)*&gt;
</code></pre>

<p><a href="https://tio.run/##K0otycxLNPz/X0@bS0VPQ8tYi8unTCUByLNRUdPSteOy0dDV1dXUsvv/38jQwgAA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Explanation:</p>

<pre><code>.+
$.(*3*
</code></pre>

<p>Multiply the input by 3.</p>

<pre><code>Lv$`.+
&lt;$&amp;*-&gt;
</code></pre>

<p>Convert each suffix to unary.</p>

<pre><code>&lt;(---)*&gt;
</code></pre>

<p>Count the multiples of three.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>14</s> <s>12</s> <s>7</s> 6 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>3*η3ÖO
</code></pre>
<p>-5 bytes creating a port of <a href="https://codegolf.stackexchange.com/a/172930/52210"><em>@BMO</em>'s Husk answer</a>.<br />
-1 byte thanks to <em>@Nitrodon</em> by changing suffixes to prefixes.</p>
<p><a href="https://tio.run/##yy9OTMpM/f/fWOvcduPD0/z//zcyMzAxAgA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/f@oqcXN77@x1rntxoen@f9/1DDv8H4d@/8A" rel="nofollow noreferrer">verify the first 1000 items</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>3*        # Multiply the (implicit) input by 3
          #  i.e. 26042 → 78126
  η       # List of prefixes
          #  i.e. 78126 → [&quot;7&quot;,&quot;78&quot;,&quot;781&quot;,&quot;7812&quot;,&quot;78126&quot;]
   3Ö     # Check for each if its divisible by 3
          #  i.e. [&quot;7&quot;,&quot;78&quot;,&quot;781&quot;,&quot;7812&quot;,&quot;78126&quot;] → [0,1,0,1,1]
     O    # And take the sum (which is implicitly output)
          #  i.e. [0,1,0,1,1] → 3
</code></pre>
<hr />
<p><strong>Old 12-bytes answer:</strong></p>
<pre class="lang-python prettyprint-override"><code>3*.œʒ3ÖP}€gà
</code></pre>
<p>Or alternatively <code>€gà</code> can be <code>éθg</code>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f/fWEvv6ORTk4wPTwuofdS0Jv3wgv//jcwMTIwA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##ASgA1/9vc2FiaWX/4oKERk7/MyouxZPKkjPDllB94oKsZ8Og/@KAnsO/LD//" rel="nofollow noreferrer">verify the first 1000 items</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>3*             # Multiply the (implicit) input by 3
               #  i.e. 26042 → 78126
  .œ           # Take all possible partitions of this number
               #  i.e. 78126 → [[&quot;7&quot;,&quot;8&quot;,&quot;1&quot;,&quot;2&quot;,&quot;6&quot;],[&quot;7&quot;,&quot;8&quot;,&quot;1&quot;,&quot;26&quot;],[&quot;7&quot;,&quot;8&quot;,&quot;12&quot;,&quot;6&quot;],
               #                ...,[&quot;781&quot;,&quot;26&quot;],[&quot;7812&quot;,&quot;6&quot;],[&quot;78126&quot;]]
    ʒ   }      # Filter these partitions by:
     3ÖP       #  Only keep partitions where every number is divisible by 3
               #   i.e. [&quot;7&quot;,&quot;8&quot;,&quot;1&quot;,&quot;2&quot;,&quot;6&quot;] → [0,0,0,0,1] → 0
               #   i.e. [&quot;78&quot;,&quot;12&quot;,&quot;6&quot;] → [1,1,1] → 1

               #(option 1:)
         €g    # Take the length of each remaining partition
               #  i.e. [[&quot;78&quot;,&quot;12&quot;,&quot;6&quot;],[&quot;78&quot;,&quot;126&quot;],[&quot;7812&quot;,&quot;6&quot;],[&quot;78126&quot;]] → [3,2,2,1]
           à   # And take the max (which we output implicitly)
               #  i.e. [3,2,2,1] → 3

               #(option 2:)
         é     # Sort the remaining partitions by length
               #  i.e. [[&quot;78&quot;,&quot;12&quot;,&quot;6&quot;],[&quot;78&quot;,&quot;126&quot;],[&quot;7812&quot;,&quot;6&quot;],[&quot;78126&quot;]]
               #   → [[&quot;78126&quot;],[&quot;78&quot;,&quot;126&quot;],[&quot;7812&quot;,&quot;6&quot;],[&quot;78&quot;,&quot;12&quot;,&quot;6&quot;]]
          θ    # Take the last one (the longest)
               #  i.e. [[&quot;78126&quot;],[&quot;78&quot;,&quot;126&quot;],[&quot;7812&quot;,&quot;6&quot;],[&quot;78&quot;,&quot;12&quot;,&quot;6&quot;]]
               #   → [&quot;78&quot;,&quot;12&quot;,&quot;6&quot;]
           g   # And take its length (which we output implicitly)
               #  i.e. [&quot;78&quot;,&quot;12&quot;,&quot;6&quot;] → 3
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Java 10, 66 bytes</h1>

<pre class="lang-java prettyprint-override"><code>n-&gt;{int m=1,r=n&lt;1?1:0;for(n*=3;m&lt;n;m*=10)r+=n%m%3&lt;1?1:0;return r;}
</code></pre>
<p><a href="https://tio.run/##bVCxasMwEN3zFYchIMWOkeLSwbLardChWTKWDqqiBKXWOchyoAR/uyu53trljnv3eO/dXdRNbS/Hr0m3qu/hTVm8rwAsBuNPShvYp3EGQJPXCJ@NB6QiouMqlj6oYDXsAUHChNune6I6yQsrWeElNvyZ10ycOk9wIyvhGhRuIzmjPpe4dutqYXgTBo/gxTiJpHwdPtuovBjcOnsEF@ORQ/AWz@8foOhvtsN3H4wruyGU17gKLZJs98gedjVkOZaazAOdM//PfrG@D8AZY3W20FLedEm8QoBtuKliy3M6L/@qkORjaZ4V2fKbcfoB" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<p>Uses a combination of <a href="https://codegolf.stackexchange.com/a/172930/52210"><em>@BMO</em>'s Husk answer</a> (checking how many prefixex are divisible by 3) and <a href="https://codegolf.stackexchange.com/a/172911/52210"><em>@Arnauld</em>'s JavaScript (ES6) answer</a> (multiplying an integer by 10 every iteration, and get the prefixes with a modulo of this integer).</p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{             // Method with integer as both parameter and return-type
  int m=1,       //  Modulo-integer, starting at 1
      r=         //  Result-integer, starting at:
        n&lt;1?     //   If the input is the edge-case 0:
         1       //    Start it at 1
        :        //   Else:
         0;      //    Start it at 0
  for(n*=3;      //  Multiply the input by 3
      m&lt;n;       //  Loop as long as `m` is still smaller than `n`
      m*=10)     //    After every iteration: Multiply `m` by 10
    r+=n%m       //   If `n` modulo-`m` (to get a suffix),
          %3&lt;1?  //   is divisible by 3:
        1        //    Increase the result-sum by 1
       :         //   Else:
        0;       //    Leave the result-sum the same by adding 0
  return r;}     //  Return the result-sum
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 8 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>αNΘ╠╠1d}
</code></pre>

<p><a href="https://staxlang.xyz/#p=e04ee9cccc31647d&amp;i=26042&amp;a=1" rel="nofollow noreferrer">Run and debug it</a></p>

<p>Unpacked, ungolfed, and commented, it looks like this.</p>

<pre><code>3*      triple input
E       convert to array of decimal digits
:+      get all prefix sums
F       for each prefix sum
  3%!   is it a multiple of 3?
  +     add to running total
</code></pre>

<p><a href="https://staxlang.xyz/#p=e04ee9cccc31647d&amp;i=26042&amp;a=1" rel="nofollow noreferrer">Run this one</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/TryItOnline/spl" rel="nofollow noreferrer">Shakespeare Programming Language</a>, 376 bytes</h1>

<pre><code>T.Ajax,.Page,.Act I:x.Scene I:x[Enter Ajax and Page]Ajax:Listen tothy!You be the sum ofthe sum ofyou you you!Scene V:x.Page:You be the sum ofyou the quotient betweena cat the sum ofa cat the remainder of the quotient betweenI the sum ofa big cat a cat!Ajax:You be the quotient betweenyou twice the sum ofa big big cat a cat!Be you nicer zero?If solet usscene V.Page:Open heart
</code></pre>

<p><a href="https://tio.run/##bVBBCsIwEPzK9l6KiHjoRRQ8FAQFRRDxEOu2jbSJJhts/XxNUkFrPQR22JnZmehb2ba7aH5ldRhtWI5hNE8JkriOtikKdNNxKQgVOA4wcQFHOzkUr7gmFECSiiY4SANnBCoQtKlAZp@psav3CzrbvT3gfOKByvEcuhtJHAXZLT0QBYOU0RfvgxVWjIuLjSizv9KkJzvz3Eu9QeB7fIX41fo4D57iwKPvs0DfUFimgicqOUsy0LJEAqN117lrvL7ZLyuQKWrb8XQ0Gb8A" rel="nofollow noreferrer" title="Shakespeare Programming Language – Try It Online">Try it online!</a></p>

<p>I wonder if the <code>1/(1+I/3)</code> trick is better than a control flow.</p>
</div>
<div id="pu21" class="pu"><h1>JavaScript (ES6), 41 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(n,i=10)=&gt;!(n*3%i%3)+(n*3&gt;i&amp;&amp;f(n,i*10))
</code></pre>
<p><a href="https://tio.run/##FctBCoMwEEDRq6QLdcamQ8R1Aj1HKSVYLSN2RmIRPH0adx8ef4573IbE6@8m@h5znjyIZd859OEC0vYVVz1ezwpc19OpbVHMg8qmy0iLfuBBRPeU4gGdcw6f9I0rwMsaQeODKRcizcoCjW3K@wc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="noreferrer">Husk</a>, 9 bytes</h1>

<pre><code>#o¦3dṫd*3
</code></pre>

<p><a href="https://tio.run/##yygtzv7/Xzn/0DLjlIc7V6doGf///9/QwBAA" rel="noreferrer" title="Husk – Try It Online">Try it online</a> or <a href="https://tio.run/##yygtzv6f@6ip8WjDf@X8Q8uMUx7uXJ2iZfz//38jQwsLAA" rel="noreferrer" title="Husk – Try It Online">verify the first 2188 terms!</a></p>

<h3>Explanation</h3>

<pre><code>#(¦3d)ṫd*3  -- example: 42
        *3  -- times 3: 126
       d    -- digits: [1,2,6]
      ṫ     -- tails: [[1,2,6],[2,6],[6]]
#(   )      -- count values that are truthy when
    d       -- | undigits: [126,26,6]
  ¦3        -- | divisible by 3: [42,0,2]
            -- : 2
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 14 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>+/0=3|+\⍎¨⍕3×⎕
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///qKM97b@2voGtcY12zKPevkMrHvVONT48/VHfVJDc/zQuIzMDEyMA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a> or <a href="https://tio.run/##SyzI0U2pTMzJT///qG9qZv6jtgkG/9OAZLW2voGtcY12zKPevkMrHvVONT48/VHv1tr//zXSQPzNhgYGBpqPOhcaKmBCIygcSmLGUGiEBEkVG/XHqD9G/THqj1F/jPpjiPoDAA" rel="nofollow noreferrer">verify the first 1000</a></p>
<h3>Explanaition</h3>
<pre class="lang-apl prettyprint-override"><code>+/0=3|+\⍎¨⍕3×⎕
             ⎕ ⍝ prompt for input
           3×  ⍝ multiply by 3
        ⍎¨⍕    ⍝ convert the number to a vector of digits
      +\       ⍝ take the cumulative sum
    3|         ⍝ find each term modulo 3
+/0=           ⍝ count those that equal 0
</code></pre>
<p>This works because a number is divisible by three if and only if the sum of its digits is divisible by three</p>
</div>
<div id="pu24" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, 51 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>f n=sum[1|x&lt;-scanr(:)"0".show$3*n,read x`mod`3&lt;1]-1
</code></pre>

<p><a href="https://tio.run/##y0gszk7Nyfn/P00hz7a4NDfasKbCRrc4OTGvSMNKU8lASa84I79cxVgrT6coNTFFoSIhNz8lwdjGMFbX8H9uYmaebW5igW@8RkFRZl6JXppmtIGenpGhhXnsfwA" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>The key idea is the following: given a multiple of 3 (call it <span class="math-container">\$3n\$</span>), the best way to write it as the juxtaposition of multiples of 3 is to start from the end (or the beginning) and select multiples of 3 greedily. For instance, if <span class="math-container">\$3n=78126\$</span>, then we get (starting from the end) a <span class="math-container">\$6\$</span>, then a <span class="math-container">\$12\$</span>, and finally a <span class="math-container">\$78\$</span>: <span class="math-container">\$78|12|6\$</span>. Note that this is possible because a number is a multiple of 3 iff the sum of its digits is a multiple of 3. Also note that if we concatenate two multiples of 3, we get another multiple of 3, so <span class="math-container">\$6,12|6,78|12|6\$</span> are all multiples of 3.</p>

<p>Thus the answer can be found by considering the list of suffixes of <span class="math-container">\$3n\$</span> (e.g. <span class="math-container">\$[78126,8126,126,26,6]\$</span>) and counting the multiples of 3.</p>
</div>
<div id="pu25" class="pu"><h1>Pyth, <s>16</s> 15 bytes</h1>
<pre><code>lef!.E%vT3./`*3
</code></pre>
<p>Try it online <a href="https://pyth.herokuapp.com/?code=lef%21.E%25vT3.%2F%60%2A3&amp;input=26042&amp;debug=0" rel="nofollow noreferrer">here</a>.</p>
<pre><code>lef!.E%vT3./`*3Q   Implicit: Q=eval(input())
                   Trailing Q inferred
            `*3Q   Input * 3
            `      Convert to string
          ./       Take divisions into disjoint substrings
  f                Filter the above using:
       vT            Convert each back to integer
      %  3           Mod 3
    .E               Are any non-0?
   !                 Logical NOT
le                 Take the length of the last value
                   As the substring sets are generated in order of number of 
                   substrings, the last value is guaranteed to be the longest
</code></pre>
</div>
<div id="pu26" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>99</s> 88 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda n:g(`3*n`)
g=lambda n:int(n)%3&lt;1and 1+max([g(n[i:])for i in range(1,len(n))]+[0])
</code></pre>

<p><a href="https://tio.run/##7Y/BCoMwEETvfkUuhU31YGLpQeqXpAFTTNKArhKstF9vI0op9NSjEOayzMwOvOE13nvks6muc6u6W6MIlhbq4og1TWz18RyOgPRQXJjChrC0U08QFlC4UlLTe@KIQ@IVWg0sazWGNpWpyCWdlxiXmGUsz/g5P/EyIYMPm8SEXpKst2pbAAOOVtW0bmbT8qbx0WmvRg0iLPyIb9qTV2ziX/rXixyRI3JEjsgROXbKISmd3w" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/172910/">172910</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




