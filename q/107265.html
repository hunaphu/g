<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::107265</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>120</td><td>AWK</td><td>250404T143553Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/279056#279056">xrs</a></td></tr>
<tr d-ix="1"><td>139</td><td>PHP 7</td><td>170215T172722Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/110138#110138">Titus</a></td></tr>
<tr d-ix="2"><td>105</td><td>SmileBASIC</td><td>170215T000816Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/110079#110079">12Me21</a></td></tr>
<tr d-ix="3"><td>084</td><td>QBIC</td><td>170120T203912Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107548#107548">steenber</a></td></tr>
<tr d-ix="4"><td>061</td><td>TIBASIC</td><td>170118T215435Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107283#107283">Julian L</a></td></tr>
<tr d-ix="5"><td>111</td><td>Mathematica</td><td>170121T140556Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107587#107587">LegionMa</a></td></tr>
<tr d-ix="6"><td>081</td><td>Perl 6</td><td>170119T000146Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107293#107293">smls</a></td></tr>
<tr d-ix="7"><td>172</td><td>8th</td><td>170119T221928Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107438#107438">Chaos Ma</a></td></tr>
<tr d-ix="8"><td>nan</td><td></td><td>170119T230306Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107441#107441">Suma</a></td></tr>
<tr d-ix="9"><td>nan</td><td></td><td>170118T234705Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107290#107290">Archmage</a></td></tr>
<tr d-ix="10"><td>083</td><td>Retina</td><td>170119T104602Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107318#107318">Leo</a></td></tr>
<tr d-ix="11"><td>094</td><td>Ruby</td><td>170119T104805Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107319#107319">IMP1</a></td></tr>
<tr d-ix="12"><td>1812</td><td>sed</td><td>170119T042538Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107307#107307">Ray</a></td></tr>
<tr d-ix="13"><td>130</td><td>Befunge93</td><td>170118T235934Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107292#107292">James Ho</a></td></tr>
<tr d-ix="14"><td>107</td><td>Python 2</td><td>170119T004443Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107295#107295">xnor</a></td></tr>
<tr d-ix="15"><td>062</td><td>TIBASIC</td><td>170118T214018Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107281#107281">Golden R</a></td></tr>
<tr d-ix="16"><td>160</td><td>Python 2</td><td>170118T204931Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107279#107279">ElPedro</a></td></tr>
<tr d-ix="17"><td>094</td><td>Perl</td><td>170118T202951Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107275#107275">Dada</a></td></tr>
<tr d-ix="18"><td>108</td><td>JavaScript ES6</td><td>170118T194836Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107270#107270">Luke</a></td></tr>
<tr d-ix="19"><td>230</td><td>Batch</td><td>170118T202156Z</td><td><a href="https://codegolf.stackexchange.com/questions/107265/ascii-art-flight-simulator/107273#107273">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.gnu.org/software/gawk/" rel="nofollow noreferrer">AWK</a>, 120 bytes</h1>
<pre><code>{for(i=5;i--;print(b=&quot;____&quot;)&quot;|&quot;(i?&quot;     &quot;:a)&quot;|&quot;b&quot;\n&quot;){if(i)printf&quot;%*s&quot;(a=&quot;--O--&quot;),5+int($1*i/5),X
for(j=i;j--;)print&quot;&quot;}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m704sTx7wYKlpSVpuhY3K6rT8os0Mm1NrTN1da0LijLzSjSSbJXigUBJU6lGSSPTXkkBBJSsEkH8JKWYPCXN6sw0jUxNsOo0JVWtYiWNRFslXV1_XV0lTR1TbZAhKoZamfqmmjoRXCALsmwzrbOAFkD0KCnV1kLshzpjwSJDAwgLAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>{for(i=5;i--;                             # 5 iterations
print(b=&quot;____&quot;)&quot;|&quot;(i?&quot;     &quot;:a)&quot;|&quot;b&quot;\n&quot;)  # runway
{if(i)printf&quot;%*s&quot;(a=&quot;--O--&quot;),             # airplane
5+int($1*i/5),X                           # padding
for(j=i;j--;)print&quot;&quot;}}                    # air/spacing
</code></pre>
</div>
<div id="pu1" class="pu"><h1>PHP 7, 139 bytes</h1>
<p>still awfully long</p>
<pre class="lang-php prettyprint-override"><code>for($x=$argv[1],$d=6;$d--;$x+=5&lt;=&gt;$x)for($i=$p=-1;$i++&lt;$d;print&quot;$s
&quot;)for($s=$i&lt;$d?&quot; &quot;:&quot;____|     |____
&quot;;!$i&amp;++$p&lt;5;)$s[$x+$p]=&quot;--O--&quot;[$p];
</code></pre>
<p>takes input from command line argument; run with <code>-r</code>.</p>
<p><strong>breakdown</strong></p>
<pre class="lang-php prettyprint-override"><code>for($x=$argv[1],                        // take input
    $y=6;$y--;                          // loop height from 5 to 0
    $x+=5&lt;=&gt;$x)                             // post increment/decrement horizontal position
    for($i=$p=-1;$i++&lt;$y;                   // loop $i from 0 to height
        print&quot;$s\n&quot;)                            // 3. print
        for($s=$i&lt;$y?&quot; &quot;:&quot;____|     |____\n&quot;;   // 1. template=empty or runway+newline
            !$i&amp;++$p&lt;5;)$s[$x+$p]=&quot;--O--&quot;[$p];  // 2. if $i=0, paint plane
</code></pre>
</div>
<div id="pu2" class="pu"><h1>SmileBASIC, <s>109</s> 105 bytes</h1>
<pre><code>G$=&quot;_&quot;*4INPUT X
FOR I=0TO 4?&quot; &quot;*X;&quot;--O--&quot;;CHR$(10)*(4-I)?G$;&quot;|     |&quot;;G$X=X-SGN(X-5)?NEXT?G$;&quot;|--O--|&quot;;G$
</code></pre>
</div>
<div id="pu3" class="pu"><h2><a href="https://drive.google.com/drive/folders/0B0R1Jgqp8Gg4cVJCZkRkdEthZDQ" rel="nofollow noreferrer">QBIC</a>, <s>93</s> <s>91</s> 84 bytes</h2>

<pre><code>:{X=space$(a)+@--O--`â”˜a=a-sgn(a-5)~t&gt;-1|?X[t|?]t=t-1?@____|`+@     `+_fB|\_xB+A+_fB
</code></pre>

<p><em>Dropped some bytes by replacing the declaration of X$; optimised the FOR loop that prints the distance above-ground. Explanation below is for the old version, but it basically works the same.</em></p>

<p>For testing (and aesthetics) I had a slightly different version, at 103 bytes:</p>

<pre><code>:{_z.5|_CX=Y[a|X=X+@ `]X=X+@--O--`
a=a-sgn(a-5)
~u&gt;0|?X';`[u|?]u=u-1?@____|`+@     `+_fC|\_xC+_tB+_fC
</code></pre>

<p>These are functionally identical. The second one has the addition that the screen gets cleared between frames and that it halts for 0.5 seconds between frames.</p>

<h1>Sample output</h1>

<p>Note that I've added two newlines between frames. The most golfed code above does not add empty lines between frames, the cooler one clears the screen.</p>

<pre><code>Command line: 10


          --O--




____|     |____


         --O--



____|     |____


        --O--


____|     |____


       --O--

____|     |____


      --O--
____|     |____


____|--O--|____
</code></pre>

<h1>Explanation</h1>

<p>Since I feel this touches upon many things I really like about QBIC, and gives a good insight in how some of its functions work under the hood, I've gone a bit overboard on the explanation. Note that QBIC is, at its core, an QBasic interpreter for Codegolf. QBIC code goes in - QBasic code comes out (and is subsequently executed).</p>

<pre><code>:{      get the starting offset (called 'a') from the command line, and start a DO-loop

----  cool code only  ----
_z.5|_C At the start of a DO-loop, pause for half a second and clear the screen
---- resume golf-mode ----

---- #1 - The tip of the left wing is anywhere between 0 and 10 positions to the right.
----       Create the plane with the spacing in X$
X=Y          Clear X$
[a|          For each point in the current offset
X=X+@ `]     Add a space to X$
    - Every capital letter in QBIC references that letter+$, a variable of type String
    - @ and ` start and end a string literal, in this case a literal space.
    - ] ends one language construct (an IF, DO or FOR). Here, it's NEXT
X=X+@--O--`  Create the actual plane
    - @ and `once again create a string literal. Every literal that is created in this
      way is assigned its own capital letter. This is our second literal, so the body of
      our plane is stored in B$ (A$ contains the space, remember?)

---- #2 Adjust the offset for the next iteration      
a=a-sgn(a-5) The clever bit: We have an offset X in the range 0 - 10, and 5 attempts to 
             get this to be == 5. X - 5 is either positive (X = 6 - 10), negative 
             (X = 0 - 4) or 0 (X=5). sgn() returns the sign of that subtraction 
             as a 1, -1 or 0 resp. We then sub the sign from 'a', moving it closer to 5.

---- #3 Draw the plane, the empty airspace and the landing strip             
~u&gt;0|     Are we there yet?
    - ~ is the IF statement in QBIC
    - It processes everything until the | as one true/false expression
    - All the lower-case letters are (or better, could be) references to numeric 
      variables. Since QBasic does not need to post-fix those, they double as 'natural' 
      language: ignored by QBIC and  passed as literal code to the QBasic beneath.
    - The lower-case letters q-z are kinda special: at the start of QBIC, these 
      are set to 1 - 10. We haven't modified 'u' yet, so in the first DO-loop, u=5

?X';`     If we're still air-borne, print X$ (our plane, incl. spacers)
    - ? denotes PRINT, as it does in QBasic.
    - ' is a code literal in QBIC: everything until the ` is not parsed, but 
      passed on to QBasic.
    - In this case, we want a literal ; to appear after PRINT X$. This suppresses 
      QBasic's normal line-break after PRINT. This needs to be a code literal 
      because it is the command to read a String var from the command Line in QBIC.
[u|?]     FOR EACH meter above the ground, print a newline
u=u-1     Descent 1 meter
?@____|`  Print the LHS of the landing strip
+@     `  plus 5 spaces
+_fC|     plus the LHS reversed.
\         ELSE - touchdown!
_x        Terminate the program (effectively escape the infinite DO-loop)
    - the _x command has an interesting property: ULX, or Upper/Lowercase Extensibility. 
      Writing this command with an uppercase _X does something similar, yet different. 
      The _x command terminates, and prints everything found between _x and | before 
      quitting. Uppercase _X does not look for |, but only prints something if it is 
      followed by a character in the ranges a-z and A-Z - it prints the contents of 
      that variable.
C+B+_fC   But before we quit, print C$ (the LHS of the landing strip) and the plane, 
          and the LHS flipped.

---- #4 QBIC has left the building
- Did I say _x looks for a | ? Well, that gets added implicitly by QBIC at the end of 
  the program, or when one ( ']' ) or all ( '}' ) opened language constructs are closed.
- Also, all still opened language constructs are automatically closed at EOF.
- Had we stored anything in Z$, that would also be printed at this time.
</code></pre>
</div>
<div id="pu4" class="pu"><h1>TI-BASIC, 61 bytes</h1>
<pre><code>Input A
A
For(B,1,5
ClrHome
Output(5,1,&quot;----/     /----
Output(B,Ans,&quot;--O--
Ans+6-median({5,7,Ans
End
</code></pre>
</div>
<div id="pu5" class="pu"><h1>Mathematica, 111 bytes</h1>

<pre><code>If[#&lt;1,"____|--O--|____"," "~Table~#2&lt;&gt;"--O--"&lt;&gt;"
"~Table~#&lt;&gt;"____|     |____

"&lt;&gt;#0[#-1,#2+#2~Order~5]]&amp;[5,#]&amp;
</code></pre>

<p>Anonymous function. Takes a number as input and returns a string as output. Could probably be golfed further.</p>
</div>
<div id="pu6" class="pu"><h1><a href="http://perl6.org/" rel="nofollow noreferrer">Perl 6</a>, <s>97</s> <s>90</s> 81 bytes</h1>

<pre><code>{say "{"{" "x 15}\n"x 5}____|     |____"~|("\0"x$^h+$_*(17-$h/5)~"--O--") for ^6}
</code></pre>

<p>Contrary to what it looks like, it outputs the *lower-case version of the plane (<code>--o--</code>), as allowed by the updated task description.</p>

<p><a href="https://tio.run/nexus/perl6#y61UUEtTsP1fXZxYqaBUDYQKShUKhqa1MXlA2rQ2HghqFECgBsRUqqvRUIoxUKpQicvQVonX0jA011XJ0DfVrFPS1fXX1VXSVEjLL1KIM6v9n6ZgYf0fAA" rel="nofollow noreferrer" title="Perl 6 â€“ TIO Nexus">Try it online!</a></p>

<h3>How it works</h3>

<p>Bitwise string operators FTW!</p>

<pre><code>{                                                  # Lambda accepting horizontal index $h.
    say                                            # Print the following:
        "{ "{ " " x 15 }\n" x 5 }____|     |____"  # The 15x6 background string,
        ~|                                         # bitwise-OR'd against:
        (
            "\0"                                   # The NULL-byte,
            x $^h + $_*(17 - $h/5)                 # repeated by the plane's offset,
            ~ "--O--"                              # followed by an OR mask for the plane.
        )
    for ^6                                         # Do this for all $_ from 0 to 5.
}
</code></pre>

<p>It works because bitwise string operators use the codepoint values of the characters at a given position in two strings, to calculate a new character at that position in the output string.<br>
In this case:</p>

<pre><code>space  OR  O   =  o
space  OR  -   =  -
any    OR  \0  =  any
</code></pre>

<p>For an uppercase-<code>O</code> plane, we could have used <code>~^</code> (string bitwise XOR), with a plane mask of <code>\r\ro\r\r</code> (+4 bytes for backslashes):</p>

<pre><code>space  XOR   o  =  O
space  XOR  \r  =  -
any    XOR  \0  =  any
</code></pre>

<p>The formula for the plane's offset, <code>h + v*(17 - h/5)</code>, was simplified from:</p>

<pre><code>  v*16         # rows to the vertical current position
+ h            # columns to the horizontal starting position
+ (5 - h)*v/5  # linearly interpolated delta between horizontal start and goal
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="http://8th-dev.com/" rel="nofollow noreferrer">8th</a>, <s>177</s> 172 bytes</h1>

<pre><code>: f 5 &gt;r 5 repeat over " " swap s:* . "--O--" . ' cr r&gt; times "____|     |____\n\n" . over 5 n:cmp rot swap n:- swap n:1- dup &gt;r while "____|--O--|____\n" . 2drop r&gt; drop ; 
</code></pre>

<p>The word <code>f</code> expects an integer between 0 and 10.</p>

<p><strong>Usage</strong></p>

<pre><code>4 f
</code></pre>

<p><strong>Explanation</strong></p>

<pre><code>: f \ n --
  5 &gt;r     \ Push vertical distance from airport to r-stack
  5 repeat 
    \ Print plane
    over " " swap s:* . "--O--" . 
    \ Print airport 
    ' cr r&gt; times "____|     |____\n\n" . 
    \ Now on the stack we have:
    \ distanceFromLeftSide distanceFromAirport
    over      \ Put distance from left side on TOS 
    5 n:cmp   \ Compare left distance and 5. Return
              \ -1 if a&lt;b, 0 if a=b and 1 if a&gt;b
    rot       \ Put distance from left side on TOS   
    swap n:-  \ Compute new distance from left side 
    swap n:1- \ Decrement distance from airport
    dup &gt;r    \ Push new airport-distance on the r-stack  
  while 
  "____|--O--|____\n" .  \ Print final step
  2drop r&gt; drop          \ Empty s-stack and r-stack
;
</code></pre>
</div>
<div id="pu8" class="pu"><p></p>

<h2><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, <strike>177, 163, 159</strike> 137 bytes</h2>

<pre><code>def p(x:Int,t:Int=5,a:String="\n"):String=a+(if(t&gt;0)
" "*x+"--O--"+"\n"*t+"____|     |____\n"+p(x-(x-4).signum,t-1)else"____|--O--|____")
</code></pre>

<p>Based on <a href="https://codegolf.stackexchange.com/a/107290/64633">another answer</a>, with significant reductions.</p>
</div>
<div id="pu9" class="pu"><p></p>

<h2>Scala, <s>224</s> 181 bytes</h2>

<p><strong>EDIT</strong>: I had no idea you could do <code>"string"*n</code> to repeat it n times! Scala continues to blow my mind. Missing the <code>if(t&gt;0)</code> instead of <code>if(t==0)</code> was a rookie mistake. Thanks for the tips, <a href="https://codegolf.stackexchange.com/users/64633/suma">Suma</a>!</p>

<hr>

<pre><code>def?(x:Int,t:Int=5):Unit={var(p,o)=("--o--","")
o=s"____|${if(t&gt;0)" "*5 else p}|____\n"
for(i&lt;-0 to t)o=if(i!=0&amp;&amp;i==t)" "*x+p+o else "\n"+o
println(o)
if(t&gt;0)?(x-(x-4).signum,t-1)}
</code></pre>

<hr>

<p>Original remarks:</p>

<p>I figured a recursive solution would be fun to try. I'm relatively new to Scala, so I'm certain this is far from optimal.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/m-ender/retina" rel="nofollow noreferrer">Retina</a>, <strike>86</strike> 83 bytes</h1>

<pre><code>.+
$* --O--Â¶Â¶Â¶Â¶Â¶Â¶____|     |____
{*`$
Â¶
2D`Â¶
 ( {5})
$1
}`^ {0,4}-
 $&amp;
 +
--O--
G`_
</code></pre>

<p><a href="https://tio.run/nexus/retina#@6@nzaWipaCr66@re2gbAsYDQY0CCNSAmFzVWgkqXIe2cRm5JABJBQ2FatNaTS4VQ67ahDiFagMdk1pdLgUVNS4FbS6wWVzuCfH//xsAAA" rel="nofollow noreferrer" title="Retina â€“ TIO Nexus">Try it online!</a></p>

<p>There is probably some sort of compression I could have used on the runway and the empty space over it, but anything I tried came up more expensive than plaintext (in Retina Â¶ is a newline, so you can see the initial state in plaintext on the second line).</p>
</div>
<div id="pu11" class="pu"><h1>Ruby, 94 bytes</h1>

<pre><code>-&gt;a{5.times{|i|puts" "*a+"--O--#{?\n*(5-i)}____|     |____

";a+=5&lt;=&gt;a};puts"____|--O--|____"}
</code></pre>

<p>Prints the plane's position followed by newlines and then the airport.
Then it moves the plane by 1, -1, or 0, depending on its position relative to 5.</p>

<p>After looping the above 5 times, it prints the plane in the airport.</p>
</div>
<div id="pu12" class="pu"><h1>sed, 181 bytes + 2 for <code>-nr</code> flags</h1>

<pre><code>s/10/X/
:A
s/^/ /;y/0123456789X/-0123456789/;/[0-9]/bA;s/ -/P\n\n\n\n\n____|P|____/
:B
h;s/P([\n|])/--O--\1/;s/P/     /;s/^ *_/_/;p;/^_/q;x;s/\n//
/^ {5}$/bB;/ {6}/s/  //;s/^/ /;bB
</code></pre>

<h2>Ungolfed</h2>

<pre><code># Add leading spaces
s/10/X/
:A
    s/^/ /
    y/0123456789X/-0123456789/
/[0-9]/bA

s/ -/P\n\n\n\n\n____|P|____/

:B
    # Place plane in appropriate spot
    h
    s/P([\n|])/--O--\1/
    s/P/     /
    s/^ *_/_/
    p
    /^_/q
    x

    # Movement
    s/\n//
    /^ {5}$/bB
    # move left one extra, since we'll move right next line
    / {6}/s/  // 
    s/^/ /
bB
</code></pre>

<p>Usage: <code>$ echo 2 | sed -nrf flightsim.sed</code></p>
</div>
<div id="pu13" class="pu"><h1>Befunge-93, <s>136</s> 130 bytes</h1>
<pre><code>&amp;5&gt;00p10p55+v
:::00g&gt;:1-\v&gt;:&quot;____|     |_&quot;
&gt;:1-\v^\+55_$&quot;--O--&quot;10g
^\*84_$&gt;:#,_10g::5v&gt;:#,_@
&lt;_v#!:-1g00+`\5\-`&lt;^&quot;____|--O--|____&quot;
</code></pre>
<p><a href="http://befunge.tryitonline.net/#code=JjU+MDBwMTBwNTUrdgo6OjowMGc+OjEtXHY+OiJfX19ffCAgICAgfF8iCj46MS1cdl5cKzU1XyQiLS1PLS0iMTBnCl5cKjg0XyQ+OiMsXzEwZzo6NXY+OiMsX0AKPF92IyE6LTFnMDArYFw1XC1gPF4iX19fX3wtLU8tLXxfX19fIg&amp;input=MTA" rel="nofollow noreferrer">Try it online!</a></p>
<p><strong>Explanation</strong></p>
<pre><code>&amp;                          Read the plane position.
 5                         Initialise the plane height.
  &gt;                        Begin the main loop.

   00p                     Save the current height.
      10p                  Save the current position.
         55+:              Push two linefeed characters.

         &quot;____|     |_&quot;    Push most of the characters for the airport string.
:::                        Duplicate the last character three times to finish it off.

   00g&gt;:1-\v               Retrieve the current height, and then push
      ^\+55_$                that many copies of the linefeed character.

             &quot;--O--&quot;       Push the characters for the plane.

&gt;:1-\v              10g    Retrieve the current position, and then push
^\*84_$                      that many copies of the space character.

       &gt;:#,_               Output everything on the stack in reverse.

            10g::          Retrieve the current position and make two copies to work with.
                 5v        If it's greater than 5
                -`&lt;          then subtract 1.
           +`\5\           If it's less than 5 then add 1.

        g00                Retrieve the current height.
      -1                   Subtract 1.
 _v#!:                     If it's not zero, repeat the main loop.

^&quot;____|--O--|____&quot;         Otherwise push the characters for the landed plane.
&gt;:#,_@                     Output the string and exit.
</code></pre>
</div>
<div id="pu14" class="pu"><h2>Python 2, 107 bytes</h2>

<pre class="lang-python prettyprint-override"><code>n=input();h=5
while h:print' '*n+'--O--'+'\n'*h+'____|     |____\n';n-=cmp(n,5);h-=1
print'____|--O--|____'
</code></pre>

<p><a href="https://tio.run/nexus/python2#@59nm5lXUFqioWmdYWvKVZ6RmZOqkGFVUJSZV6KuoK6Vp62uq@uvq6uurR6Tp66Voa0eDwQ1CiBQA2ICRa3zdG2Tcws08nRMgabo2hpyQbSDVYJ1g1Wq//9vaAAA">Try it online</a></p>

<p>Simply hardcodes the last line for the landing plane. It can likely be golfed by re-using parts from before or being integrated into the loop.</p>
</div>
<div id="pu15" class="pu"><h1>TI-BASIC, 62 bytes</h1>
<pre><code>:Input A
:A
:For(N,3,8
:ClrHome
:Output(8,1,&quot;----I     I----
:Output(N,Ans,&quot;--O--
:Ans+(Ans&lt;6)-(Ans&gt;6
:End
</code></pre>
<p>Note that TI-BASIC does not support _ or | and therefore I replaced with a capital I and -. This should not effect byte count.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 160 bytes</h1>

<pre class="lang-python prettyprint-override"><code>i,s,p,l,r,c,x=input(),' ','--O--','____|','|____',0,4
while x&gt;=0:print'\n'.join([s*i+p]+[s*15]*x+[l+s*5+r])+'\n';c+=1;x-=1;i=((i,i-1)[i&gt;5],i+1)[i&lt;5]
print l+p+r
</code></pre>

<p><a href="https://tio.run/nexus/python2#HYxBDsIgFET3PQU7aP/HlCgbK72CB0DiojHxG4IEamTRuyN1FvPeYjKVMGNEjwkXLIZC/KyiR844cimvUjbeW7bGbReOI56675P8g5XZjOeYKKz8Fvjh9aYgbB4IooNGpd1QwHrIg4bkethX0wJGTUW2IiMEIUnVW5q1Q4LdLtp1/0/mIUKq9fgD" rel="nofollow noreferrer" title="Python 2 â€“ TIO Nexus">Try it online!</a></p>

<p>Here is the reference implementation golfed down to 160 from 384. Still a way to go I think. Just posted for fun and to encourage a better Python answer.</p>
</div>
<div id="pu17" class="pu"><h2>Perl, 94 bytes</h2>

<p>93 bytes of code + <code>-p</code> flag.</p>

<pre class="lang-perl prettyprint-override"><code>$\="____|     |____
";$p="--O--";for$i(-5..-1){print$"x$_.$p.$/x-$i;$_+=5&lt;=&gt;$_}$\=~s/ +/$p/}{
</code></pre>

<p><a href="https://tio.run/nexus/perl#U1YsSC3KUdAt@K8SY6sUDwQ1CiBQA2JyKVmrFNgq6er66@oqWaflF6lkauia6unpGmpWFxRl5pWoKFWoxOupFOip6FfoqmRaq8Rr25ra2NqpxNcCjasr1lfQ1lcp0K@t/v/fEAA" title="Perl â€“ TIO Nexus">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1>JavaScript (ES6), 108 bytes</h1>

<pre><code>f=(a,b=5)=&gt;b?" ".repeat(a)+`--O--${`
`.repeat(b)}____|     |____

`+f(a&lt;5?a+1:a-1,b-1):"____|--O--|____"
</code></pre>

<h2>Test it</h2>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=
(a,b=5)=&gt;b?" ".repeat(a)+`--O--${`
`.repeat(b)}____|     |____

`+f(a&lt;5?a+1:a-1,b-1):"____|--O--|____"</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input type=number min=0 max=10 oninput=o.textContent=f(+this.value)&gt;&lt;pre id=o&gt;</code></pre>
</div>
</div>
</p>

<h2>Usage</h2>

<p>Just call <code>f</code> with the index of the plane. </p>

<pre><code>f(2)
</code></pre>

<h2>Output</h2>

<pre><code>  --O--




____|     |____

   --O--



____|     |____

    --O--


____|     |____

     --O--

____|     |____

    --O--
____|     |____

____|--O--|____
</code></pre>
</div>
<div id="pu19" class="pu"><h2>Batch, 230 bytes</h2>

<pre><code>@echo off
set/ax=10-%1
set s=          --O--
for /l %%i in (0,1,4)do call:l %%i
echo ____^|--O--^|____
exit/b
:l
call echo %%s:~%x%%%
for /l %%j in (%1,1,3)do echo(
echo ____^|     ^|____
echo(
set/a"x-=x-5&gt;&gt;3,x+=5-x&gt;&gt;3
</code></pre>

<p><code>x</code> is the number of spaces to remove from the beginning of the string <code>s</code>, so I subtract the parameter from 10. The last line is the nearest Batch has to <code>x-=sgn(x-5)</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/107265/">107265</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




