<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::86668</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>Vyxal Canvas</td><td>240406T145943Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/272383#272383">pacman25</a></td></tr>
<tr d-ix="1"><td>033</td><td>Uiua</td><td>240406T131221Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/272382#272382">noodle m</a></td></tr>
<tr d-ix="2"><td>022</td><td>Vyxal 2.6</td><td>220219T095917Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/243076#243076">emanresu</a></td></tr>
<tr d-ix="3"><td>115</td><td>Zsh</td><td>210818T030407Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/233518#233518">roblogic</a></td></tr>
<tr d-ix="4"><td>022</td><td>Japt R</td><td>210818T112940Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/233541#233541">Shaggy</a></td></tr>
<tr d-ix="5"><td>034</td><td>Vyxal mM</td><td>210817T223722Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/233498#233498">emanresu</a></td></tr>
<tr d-ix="6"><td>025</td><td>Pyth</td><td>160727T010504Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86670#86670">Leaky Nu</a></td></tr>
<tr d-ix="7"><td>033</td><td>Pip</td><td>170329T075721Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/114334#114334">DLosc</a></td></tr>
<tr d-ix="8"><td>100</td><td>PHP</td><td>170216T043701Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/110210#110210">Titus</a></td></tr>
<tr d-ix="9"><td>097</td><td>SmileBASIC</td><td>170215T210726Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/110161#110161">12Me21</a></td></tr>
<tr d-ix="10"><td>135</td><td>Python</td><td>160727T024732Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86677#86677">Nonlinea</a></td></tr>
<tr d-ix="11"><td>070</td><td>x86 machine code</td><td>160729T085330Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86863#86863">anatolyg</a></td></tr>
<tr d-ix="12"><td>nan</td><td>C</td><td>160728T215045Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86843#86843">Dave</a></td></tr>
<tr d-ix="13"><td>086</td><td>MATLAB</td><td>160728T134805Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86813#86813">PieCot</a></td></tr>
<tr d-ix="14"><td>183</td><td>Python 2</td><td>160727T144347Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86722#86722">Ioannes</a></td></tr>
<tr d-ix="15"><td>079</td><td>Matricks</td><td>160728T022515Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86772#86772">Blue</a></td></tr>
<tr d-ix="16"><td>171</td><td>Python 2</td><td>160727T194557Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86743#86743">r3mainer</a></td></tr>
<tr d-ix="17"><td>268</td><td>C</td><td>160727T181716Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86729#86729">owacoder</a></td></tr>
<tr d-ix="18"><td>112</td><td>PowerShell v2+</td><td>160727T183331Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86731#86731">Ben Owen</a></td></tr>
<tr d-ix="19"><td>062</td><td>Actually</td><td>160727T054245Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86680#86680">user4594</a></td></tr>
<tr d-ix="20"><td>035</td><td>Dyalog APL</td><td>160727T054321Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86681#86681">Ad&#225;</a></td></tr>
<tr d-ix="21"><td>125</td><td>JavaScript ES6</td><td>160727T091607Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86695#86695">Neil</a></td></tr>
<tr d-ix="22"><td>277</td><td>Lua</td><td>160727T141151Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86719#86719">Katenkyo</a></td></tr>
<tr d-ix="23"><td>128</td><td>JavaScript ES6</td><td>160727T092347Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86697#86697">edc65</a></td></tr>
<tr d-ix="24"><td>269</td><td>Emacs Lisp</td><td>160727T100818Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86700#86700">Lord Yuu</a></td></tr>
<tr d-ix="25"><td>135</td><td>php</td><td>160727T095140Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86699#86699">user5564</a></td></tr>
<tr d-ix="26"><td>028</td><td>MATL</td><td>160727T091825Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86696#86696">Luis Men</a></td></tr>
<tr d-ix="27"><td>205</td><td>Python 2.7</td><td>160727T074431Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86693#86693">R. Kap</a></td></tr>
<tr d-ix="28"><td>102</td><td>Ruby</td><td>160727T015244Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86674#86674">Value In</a></td></tr>
<tr d-ix="29"><td>146</td><td>Mathematica</td><td>160727T011542Z</td><td><a href="https://codegolf.stackexchange.com/questions/86668/do-x-without-y/86671#86671">LegionMa</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal (Canvas)</a>, 127 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 15.875 bytes</h1>
<pre><code>d‹kP‛YyFƈṅ\x?½⌈ø∧
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyI9IiwiIiwiZOKAuWtQ4oCbWXlGxojhuYVcXHg/wr3ijIjDuOKIpyIsIiIsIjUiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>0111010011011101011010111101000000101011100111011010100100010101110001101111010011100010110010101000001010001100101110101001010
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Uiua, 33 bytes</h1>
<pre><code>+@ ×∵⋅(+1++∩&gt;86,55.⌊×92⚂).↥⇌.⊞=.⇡
</code></pre>
<p><a href="https://uiua.org/pad?src=0_10_0__RiDihpAgK0Agw5fiiLXii4UoKzErK-KIqT44Niw1NS7ijIrDlzky4pqCKS7ihqXih4wu4oqePS7ih6EKCkYgMQpGIDMKRiA1CkYgNwpGIDkK" rel="nofollow noreferrer">Try it</a></p>
<p>Look ma, no <code>y</code>!</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal 2.6</a>, 22 bytes</h1>
<pre><code>½⌈:ʁ\%꘍↲∞v∞⁋?dkP‛yYFƈ%
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCLCveKMiDrKgVxcJeqYjeKGsuKInnbiiJ7igYs/ZGtQ4oCbeVlGxoglIiwiIiwiNSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>½⌈:                    # Push ⌈x/2⌉ twice
   ʁ                   # For each 0...^-1
    \%꘍                # Prepend that many spaces to a %
½⌈     ↲               # Pad to length ⌈x/2⌉ with spaces
        ∞v∞            # Quad palindromise
           ⁋           # Join by newlines
                    ƈ  # Choose...
            ?d         # Input * 2
                    ƈ  # Random items from...
              kP       # Printable ASCII
                ‛yYF   # Without Y
                     % # Replace % in the first bit with the random chars
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Zsh, 115 <s>122</s> <s>130</s> bytes</h1>
<pre class="lang-bash prettyprint-override"><code>for i ({1..$1}){for j ({1..$1}){x=$[(i==j)|(j+i==$1+1)?RANDOM%93+33:32]
echo -n ${${(#)x==45?89:x}/[yY]/\-}};echo}
</code></pre>
<ul>
<li><code>i</code> &amp; <code>j</code> iterate over the rows &amp; columns.</li>
<li>If we're on the <strong>X</strong>, set <code>x</code> to to a random ascii-value in the valid range, otherwise <code>32</code> [space].</li>
<li>Convert ascii-value to text. Switch &quot;-&quot; character (45) to a &quot;Y&quot; (89) if found (necessary to avoid a bug). Change &quot;y&quot; or &quot;Y&quot; to hyphen char &quot;-&quot;,  and print</li>
</ul>
<p><a href="https://tio.run/##qyrO@J@moVnNlZqcka@QZ6tiaPU/Lb9IIVNBo9pQT0/FsFazGsTPQuJX2KpEa2Ta2mZp1mhkaQMZKobahpr2QY5@Lv6@qpbG2sbGVsZGsRAjdfMUVKpVqjWUNStsbU1M7S0srSpq9aMrI2P1Y3Tra2utQapq/4NIrlquNAVjIDYEYTBh/h8A" rel="nofollow noreferrer">try it online!</a>
 
<sub><s><a href="https://tio.run/##qyrO@J@moVnNlZqcka@QZ6tiaPU/Lb9IIVNBo9pQT0/FsFazGsTPQuJX2qpEBzn6ufj7qloaaxsbx3JVAEU0Mm1tszRrNLK0gQwVQ21DTftKW1sTU3sLS6tKK2OjWIgVunkKKtUq1RrKmhW1@tGVkbH6Mbr1tbXWIMna/yCSq5YrTcEYiA1BGEyY/wcA" rel="nofollow noreferrer">122 bytes</a></s>
<s><a href="https://tio.run/##TY2xCsIwGIT3PEXACAnBwt9Y2kbSILiq4CqdxNBmaEGXxphnj4kuDt9x9y33eg7RUObR/TbMeFIEZDTzA4@YeigKAoH5vO3fdopcL/vT4Xxct8CF6NGSDB2VsuxNLU@FAAemXQfQasdL6bqmSQWkU2pbaagr6aQo@9/tZsLE0xVbQthlEWJOFJDBIgGZb9TxAw" rel="nofollow noreferrer">130 bytes</a></s></sub></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-R</code></a>, <s>25</s> 22 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>A much messier approach that somehow worked out shorter than the original. The need for the <code>j1</code> is annoying me but <a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LVI&amp;code=O8YyxkXFa9X2w8f5tFVhWMOsw/s&amp;input=NQ" rel="nofollow noreferrer">this</a> is the closest I can get otherwise, without tanking my score (the middle line is wrong).</p>
<pre><code>;Æ2ÆEÅkÕöÃqSp´UaX¹j1Ãû
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LVI&amp;code=O8YyxkXFa9X2w3FTcLRVYVi5ajHD%2bw&amp;input=NQ" rel="nofollow noreferrer">Try it</a></p>
<pre><code>;Æ2ÆEÅkÕöÃqSp´UaX¹j1Ãû     :Implicit input of integer U
 Æ                         :Map each X in the range [0,U)
  2Æ                       :  Map the range [0,2)
;   E                      :    ASCII
     Å                     :    Slice off the first character (space)
      k                    :    Case insensitively remove
       Õ                   :      &quot;y&quot;
        ö                  :    Random character
         Ã                 :  End map
          q                :  Join with
           S               :    Space
            p              :    Repeat
             ´U            :      Prefix decrement U
               aX          :      Absolute difference with X
                 ¹         :  End join
                  j1       :  Remove character at 0-based index 1
                    Ã      :End map
                     û     :Centre pad each element with spaces to the length of the longest
                           :Implicit output joined with newlines
</code></pre>
<h2>Original (w/o flag), 25 bytes</h2>
<pre><code>;z ôÈç iÕêÃÔê û ·ry@EÅkÕö
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=O3og9MjnIGnV6sPU6iD7ILdyeUBFxWvV9g&amp;input=NQ" rel="nofollow noreferrer">Try it</a></p>
<pre><code>;z ôÈç iÕêÃÔê û ·ry@EÅkÕö     :Implicit input of integer
 z                            :Floor divide by 2
   ô                          :Range [0,result]
    È                         :Map each X
     ç                        :  X spaces
       i                      :  Prepend
        Õ                     :    &quot;y&quot;
         ê                    :  Palindromise
          Ã                   :End map
           Ô                  :Reverse
            ê                 :Palindromise
              û               :Centre pad each element with spaces to the length of the longest
                ·             :Join with newlines
                 ry           :Replace &quot;y&quot;s
                   @          :  Pass each match through the following function
;                   EÅkÕö     :    As above
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>mM</code>, 34 bytes</h1>
<pre><code>‹½ƛ\%꘍⁰↲øm;øm⁋?‹4*›ƛ‛yY95ɾ31+CF℅;%
</code></pre>
<p><a href="https://lyxal.pythonanywhere.com?flags=mM&amp;code=%E2%80%B9%C2%BD%C6%9B%5C%25%EA%98%8D%E2%81%B0%E2%86%B2%C3%B8m%3B%C3%B8m%E2%81%8B%3F%E2%80%B94*%E2%80%BA%C6%9B%E2%80%9ByY95%C9%BE31%2BCF%E2%84%85%3B%25&amp;inputs=3&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>‹½ƛ       ;                        # Map 0...(n-1)/2...
   \%꘍                             # That many spaces before a %
      ⁰↲                           # Left-padded to correct width
        øm                         # Palindromise
           øm                      # Palindromise
             ⁋                     # Join by newlines
              ?‹4*›                # 4(n-1)+1
                   ƛ            ;  # Map 0...n...
                       95ɾ31+C     # Printable ASCII
                    ‛yY            # Push ys
                              F    # Remove ys
                               ℅   # Choose a random element from this
                                 % # Format the cross by this
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, <s>28</s> <s>27</s> <s>26</s> 25 bytes</h1>
<pre>
<s>jmuXGHO-rF"!~""Yy"{,d-tQd*;Q</s>
<s>VQuXGHO-rF"!~""Yy"{,N-tQN*d</s>
<s>VQuXGHO-r\!\~"Yy"{,N-tQN*d</s>
<s>VQuXGHO-r\!\~"Yy",N-tQN*d</s>
VQuXGHO-r\!\[DEL];"Yy",N-tQN*d
</pre>
<p><a href="https://tio.run/##K6gsyfj/PyywNMLdw1@3KEYxpl4pslJJx0@3JNBPK@X/f1MA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a>, 33 bytes</h1>

<p>32 bytes of code, +1 for <code>-l</code> flag. Strangely enough, the code begins with <code>Y</code> and ends with <code>y</code>...</p>

<pre><code>Ya{$=a|$+a=y-1?RCPARM-`y`s}MMCGy
</code></pre>

<p>Takes input as a command-line argument. <a href="https://tio.run/nexus/pip#@x@ZWK1im1ijop1oW6lraB/kHOAY5KubUJlQXOvr6@xe@f//f92c/0amX/PydZMTkzNSAQ" rel="nofollow noreferrer" title="Pip – TIO Nexus">Try it online!</a></p>

<h3>Explanation</h3>

<p>Constructs a grid of the appropriate size; replaces elements on the diagonals with a random non-y character, and all other elements with space.</p>

<pre><code>                                  a is 1st cmdline arg; PA is printable ASCII characters;
                                  s is space (implicit)
Ya                                Yank a into y (global var, accessible within functions)
                             CGy  y by y coordinate grid
  {                       }MM     To each coordinate pair, map this function:
   $=a                             Fold on equality (true if both elements are equal)
      |                            Logical OR
       $+a                         Fold on +
          =y-1                     and test if equal to size - 1
              ?                    If the preceding expression is true, then:
                 PARM               From printable ASCII chars, remove         
                     -`y`           regex matching y, case-insensitive
               RC                   Take a random choice from the resulting string
                         s         Else, space
                                  The whole expression returns a nested list, which is
                                  autoprinted as lines of concatenated items (-l flag)
</code></pre>
</div>
<div id="pu8" class="pu"><h1>PHP, 100 bytes</h1>
<pre class="lang-php prettyprint-override"><code>for(;($x%=$n=$argv[1])?:$y++&lt;$n&amp;print&quot;\n&quot;;)echo strtr(chr($y+$x++-$n&amp;&amp;$x-$y?32:rand(33,126)),yY,zZ);
</code></pre>
<p>takes input from command line argument; run with <code>-nr</code>.</p>
<p>combined loop prints characters depending on position</p>
<p><strong>breakdown</strong></p>
<pre class="lang-php prettyprint-override"><code>for(;
    ($x%=$n=$argv[1])       // inner loop
        ?
        :$y++&lt;$n&amp;print&quot;\n&quot;  // outer loop; print newline
;)
    echo strtr(chr(             // 2. replace Y with Z; print
        $y+$x++-$n&amp;&amp;$x-$y       // 1: if position is not on diagonals
            ?32                 // then space
            :rand(33,126)       // else random printable
    ),yY,zZ);
</code></pre>
</div>
<div id="pu9" class="pu"><h1>SmileBASIC, 97 bytes</h1>
<pre><code>INPUT S
FOR X=1TO S
FOR Y=1TO S
Q=RND(93)+33?CHR$((Q+!(Q-121&amp;&amp;Q-89))*(X==Y||X+Y==S+1));
NEXT?NEXT
</code></pre>
<p>Instead of having to calculate the number of spaces between each character or something, I decided to just print in all locations where <code>X==Y</code> or <code>X+Y==Size+1</code>.<br />
The random character generator just adds 1 if it generates <code>y</code> or <code>Y</code>, so <code>z</code> and <code>Z</code> are slightly more common than usual.</p>
</div>
<div id="pu10" class="pu"><h1>Python, <s>142</s> <s>139</s> 135 bytes</h1>

<p>This is a straight forward implementation create the square character by character. If the character is <em>on a diagonal</em>: use a random char, <em>else</em>: use a space. This also uses a regex substitution and random int to generate non-<kbd>Y</kbd> characters:</p>



<pre class="lang-py prettyprint-override"><code>import re,random
lambda x:''.join('\n'*(i%x&lt;1)+re.sub("y|Y","t",chr(random.randint(33,126))+' ')[i%x!=i/x!=x-i%x-1]for i in range(x*x))
</code></pre>

<hr>

<h2>Explanation [ Old ]</h2>



<pre class="lang-py prettyprint-override"><code>"\n".join( ... for i in range(x)) # Create 'x' lines 
''.join( ... for j in range(x))   # Create 'x' chars on each line
(...)[j!=i!=x-j-1]                # Not on diagonals? 2nd char in "? "; Else, choose the 1st
j!=i                              # Not on downward diagonal
i!=x-j-1                          # Not on upward diagonal
re.sub("y|Y","t", ... )           # Replace y or Y for t
chr(random.randint(33,126))+' '   # Random char + a space
</code></pre>

<p><strong>Update</strong></p>

<ul>
<li><strong>-4</strong>  [16-07-30] Shortened newline conditional</li>
<li><strong>-3</strong>  [16-07-30] Changed to single for-loop</li>
<li><strong>-6</strong>  [16-07-29] Exchanged if statement for ternary op. Thanks to @RootTwo</li>
<li><strong>-11</strong> [16-07-27] Removed extra brackets/spaces and flipped if statement</li>
<li><strong>-49</strong> [16-07-27] Absorded @squeamishossifrage's method by creating the square step-by-step, Thanks!</li>
<li><strong>-10</strong> [16-07-27] Shorten random char lambda + math stuff from @ConorO'Brien</li>
<li><strong>-22</strong> [16-07-26] Squeaze in a lambda + misc golfing</li>
<li><strong>-6</strong>  [16-07-26] <code>import*</code> - Thanks to @KevinLau</li>
</ul>
</div>
<div id="pu11" class="pu"><h1>x86 machine code, 70 bytes</h1>

<pre><code>60 89 d7 31 db 43 88 ce b2 fe 49 d1 e1 87 da 0f
c7 f0 24 7f 3c 22 72 f7 48 3c 79 74 f2 3c 59 74
ee aa 49 7c 1c 00 df 79 06 86 f7 42 43 eb f6 f6
c3 01 74 03 b0 0a aa 51 88 f9 b0 20 f3 aa 59 eb
cc c6 07 00 61 c3
</code></pre>

<p>My executable code, disassembled:</p>

<pre><code>0000003d &lt;myheh&gt;:                                       
  3d:   60                      pusha                   
  3e:   89 d7                   mov    %edx,%edi        
  40:   31 db                   xor    %ebx,%ebx        
  42:   43                      inc    %ebx             
  43:   88 ce                   mov    %cl,%dh          
  45:   b2 fe                   mov    $0xfe,%dl        
  47:   49                      dec    %ecx             
  48:   d1 e1                   shl    %ecx             

0000004a &lt;myloop&gt;:                                      
  4a:   87 da                   xchg   %ebx,%edx        

0000004c &lt;myrand&gt;:                                      
  4c:   0f c7 f0                rdrand %eax             
  4f:   24 7f                   and    $0x7f,%al        
  51:   3c 22                   cmp    $0x22,%al        
  53:   72 f7                   jb     4c &lt;myrand&gt;      
  55:   48                      dec    %eax             
  56:   3c 79                   cmp    $0x79,%al        
  58:   74 f2                   je     4c &lt;myrand&gt;      
  5a:   3c 59                   cmp    $0x59,%al        
  5c:   74 ee                   je     4c &lt;myrand&gt;      
  5e:   aa                      stos   %al,%es:(%edi)   
  5f:   49                      dec    %ecx             
  60:   7c 1c                   jl     7e &lt;mydone&gt;      

00000062 &lt;mylab&gt;:                                       
  62:   00 df                   add    %bl,%bh          
  64:   79 06                   jns    6c &lt;myprint&gt;     
  66:   86 f7                   xchg   %dh,%bh          
  68:   42                      inc    %edx             
  69:   43                      inc    %ebx             
  6a:   eb f6                   jmp    62 &lt;mylab&gt;       

0000006c &lt;myprint&gt;:                                     
  6c:   f6 c3 01                test   $0x1,%bl         
  6f:   74 03                   je     74 &lt;myprint1&gt;    
  71:   b0 0a                   mov    $0xa,%al         
  73:   aa                      stos   %al,%es:(%edi)   

00000074 &lt;myprint1&gt;:                                    
  74:   51                      push   %ecx             
  75:   88 f9                   mov    %bh,%cl          
  77:   b0 20                   mov    $0x20,%al        
  79:   f3 aa                   rep stos %al,%es:(%edi) 
  7b:   59                      pop    %ecx             
  7c:   eb cc                   jmp    4a &lt;myloop&gt;      

0000007e &lt;mydone&gt;:                                      
  7e:   c6 07 00                movb   $0x0,(%edi)      
  81:   61                      popa                    
  82:   c3                      ret                     
</code></pre>

<p>It is a function that receives the size of the X in ecx, and a pointer to the output buffer in edx.</p>

<p>It fills the output buffer sequentially with bytes. There are <code>2 * n - 1</code> iterations (equal to the number of non-space characters to output). At each iteration, it does the following:</p>

<ul>
<li>Generate a random number</li>
<li>Fiddle with the number to fit it into range; if it's bad, go back and generate anew</li>
<li>Print the random character</li>
<li>Print a newline (every other iteration)</li>
<li>Print the proper number of spaces</li>
</ul>

<p>Conversion from a random number to a random character is not remarkable:</p>

<pre><code>myrand:
    rdrand eax;
    and al, 7fh;
    cmp al, 22h;
    jb myrand;
    dec eax;
    cmp al, 'y';
    je myrand;
    cmp al, 'Y';
    je myrand;
</code></pre>

<p>The interesting part is the calculation of the number of spaces. It must generate the following numbers (example for N=9):</p>

<pre><code>7    1
5    2
3    3
1    4

     3
1    2
3    1
5    0
7
</code></pre>

<p>The numbers are taken alternatingly from two arithmetic progressions. The first one goes down with step -2, and the second one goes up with step 1. When the first progression arrives at -1 (in the middle of the X), there is a glitch (-1 is removed), and then the progressions change direction.</p>

<p>The progressions are stored in registers <code>ebx</code> and <code>edx</code> - the high parts <code>bh</code> and <code>dh</code> store the current number, and the low parts <code>bl</code> and <code>dl</code> store the step. To alternate between the progressions, the code swaps the registers with <code>xchg</code>.</p>

<p>When the progression arrives at -1 (around the <code>mylab</code> label), it increases both registers, switching the steps from <code>-2, 1</code> to <code>-1, 2</code>. This also changes the roles of the registers, so then it swaps the high parts of the registers.</p>

<p>At the end of the function, it stores a zero byte to indicate an end of string.</p>
</div>
<div id="pu12" class="pu"><h1>C, 154 bytes (or 119 without the boiler-plate)</h1>

<pre class="lang-c prettyprint-override"><code>o(w,c){c=rand()%94+33;printf("%*c",w,w?c+!(c&amp;95^89):10);}main(h){scanf("%d",&amp;h);srand(time(0));for(int n=h,p;n--;)p=abs(h/2-n),o(h/2-p+1),p&amp;&amp;o(p*2),o(0);}
</code></pre>

<p>Or 119 bytes as a function <code>X(h)</code> with <code>srand(time(0))</code> taken care of elsewhere:</p>

<pre><code>o(w,c){c=rand()%94+33;printf("%*c",w,w?c+!(c&amp;95^89):10);}X(h,n,p){for(n=h;n--;)p=abs(h/2-n),o(h/2-p+1),p&amp;&amp;o(p*2),o(0);}
</code></pre>

<p>Breakdown:</p>

<pre class="lang-c prettyprint-override"><code>o(w,c){                         // "Output" function, for all printing
    c=rand()%94+33;             // Generate random char, whether we need it or not
    printf("%*c",               // Print a char with some number of leading spaces
           w,                   // Use "w" (width) - 1 leading spaces
           w?                   // Either print the random char...
             c+!(c&amp;95^89)       // (exclude "y" and "Y" by incrementing to "z"/"Z")
                         :10    // ...or print a newline if called with w = 0
    );
}
main(h){                        // Main function; repurpose argc to store grid size
    scanf("%d",&amp;h);             // Get grid size from stdin
    srand(time(0));             // Boiler-plate for random number seeding
    for(int n=h,p;n--;)         // Loop over all lines (count down to save chars)
        p=abs(h/2-n),           // Calculate half-distance between "X" bars
        o(h/2-p+1),             // Output the first half of the "X" ("&gt;")
        p&amp;&amp;                     // If we are not in the centre:
           o(p*2),              //   output the second half of the "X" ("&lt;")
        o(0);                   // Output a newline
}
</code></pre>
</div>
<div id="pu13" class="pu"><h2>MATLAB, 86 bytes</h2>

<pre><code>a=@(n)(char(changem(randi(92,n),33+[0:55 57:87 89:93],1:92).*(eye(n)|fliplr(eye(n)))))
</code></pre>

<p>Some examples:</p>

<pre><code>&gt;&gt; a(1)

ans =

i


&gt;&gt; a(3)

ans =

~ {
 Z 
* ^


&gt;&gt;a(5)

ans =

k   E
 | M 
  }  
 ] s 
b   t


&gt;&gt; a(10)

ans =

Q        k
 +      a 
  j    w  
   X  [   
    rO    
    %3    
   P  d   
  K    q  
 r      &amp; 
?        v
</code></pre>
</div>
<div id="pu14" class="pu"><h1>Python 2, <s>204</s> <s>191</s> 183 bytes</h1>
<p>Okay, Python competition here is getting fierce. Here's my attempt on shaving as many bytes as possible. <s>By now I'm stuck</s> (Ok, stuck again).</p>
<p>Credits to @NonlinearFruit for the way random characters are selected.</p>
<p><strong>183 byte version:</strong></p>
<pre><code>import re,random
s=i=input();t=lambda:re.sub(&quot;y|Y&quot;,&quot;t&quot;,chr(random.randint(33,126)))
while i&gt;-s:i-=2;u=abs(i);z=(s-u)/2-1;print('',' '*-~z+t()+'\n')[-1==i]+(' '*z+t()+' '*u+t())*(i&gt;-s)
</code></pre>
<p><a href="http://ideone.com/lwLInO" rel="nofollow noreferrer">Try It Online! (Ideone)</a></p>
<p>Main change is to rewrite the conditional</p>
<pre><code>(&quot; &quot;*(z+1)+t()+&quot;\n&quot;if -1==i else&quot;&quot;) 
</code></pre>
<p>as</p>
<pre><code>(&quot;&quot;,&quot; &quot;*-~z+t()+'\n')[-1==i]
</code></pre>
<p>which saves 7 bytes.</p>
<p><strong>191 byte version:</strong></p>
<pre><code>import re,random
s=i=input();t=lambda:re.sub(&quot;y|Y&quot;,&quot;t&quot;,chr(random.randint(33,126)))
while i&gt;-s:
 i-=2;u=abs(i);z=(s-u)/2-1;print(' '*(z+1)+t()+'\n'if -1==i else'')+(' '*z+t()+' '*u+t())*(i&gt;-s)
</code></pre>
<p><a href="http://ideone.com/Qf2DNS" rel="nofollow noreferrer">Try It Online! (Ideone)</a></p>
<p>Main changes are the way random characters are selected and some code rearrangement such as <code>s=input();i=s;</code> becoming <code>s=i=input();</code>, removing the <code>r=range</code> assignment as it is no longer needed and calling <code>abs</code> directly as it results in less bytes of code.</p>
<p><s>Beating the previous shortest answer in Python by 1 byte!</s> @R. Kap 's approach is used for generating the random characters.
Each iteration of the while loop a row of the ex is printed.</p>
<p><strong>204 byte version</strong>:</p>
<pre><code>from random import*
s=input();i=s;a=abs;r=range;t=lambda:chr(choice(r(33,89)+r(90,121)+r(122,128)))
while i&gt;-s:
 i-=2;z=(s-a(i))/2-1;print(' '*(z+1)+t()+'\n'if -1==i else'')+(' '*z+t()+' '*a(i)+t())*(i&gt;-s)
</code></pre>
<p><a href="http://ideone.com/Xcx268" rel="nofollow noreferrer">Try It Online! (Ideone)</a></p>
<p>Ungolfed version to get an idea of how it works:</p>
<pre><code>from random import *
random_character = lambda : chr(choice(range(33,89)+range(90,121)+range(122,128)))

size = input()
current_row = size

while current_row &gt; -size:
    current_row-=2
    n_leading_spaces = (size-abs(current_row)/2)-1 
    row_to_print = ''
    if current_row == -1:
        row_to_print = ' ' * (n_leading_spaces+1) + random_chr() + '\n'
    if current_row &gt; -size:
        row_to_print += ' ' * n_leading_spaces + random_chr()+' '*abs(current_row)+random_chr()
    print row_to_print
</code></pre>
<p>It was hard to handle the 1-character case!</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/jediguy13/Matricks/tree/master" rel="nofollow noreferrer">Matricks</a>, 79 bytes (non-competing)</h1>
<p>Matricks <strong>excels</strong> as the beginning of making the x and all the random values, but flops when it comes to conditionals...</p>
<p>I marked this as noncompeting because I had to fix a few bugs and get all the new features working after this challenge was posted.</p>
<pre><code>m:n;:1;mr=c:L:L;k({}|{X;})*{m_?33:126;;:L:l;miC&lt;121,89&gt;:gr:c;;:49:gr:c;;:L:l;};
</code></pre>
<p>Run with <code>python matricks.py x.txt [[]] &lt;input&gt; --asciiprint</code></p>
<p>Explanation:</p>
<pre><code>m:n;:1;mr=c:L:L;                   #Initialize matrix to be a square with
                                   #a diagonal of 1s
k...;                              #Set the output to...
({}|{X;})*                         #The boolean x matrix multiplied by...
{m_?33:126;;:L:l;                  #A bunch of random characters
miC&lt;121,89&gt;:gr:c;;:49:gr:c;;:L:l;} #But make sure they are not y or Y
</code></pre>
<p>This also supports even numbers.</p>
</div>
<div id="pu16" class="pu"><h1>Python 2, 171 bytes</h1>
<pre class="lang-python prettyprint-override"><code>from random import*
def x(n):
 w=range(-n/2+1,n/2+1)
 for i in w:
  o=''
  for j in w:c=randint(33,124);c+=(c&gt;88)+(c&gt;119);c=[c,32][bool(i^j and i^-j)];o+=chr(c)
  print o
</code></pre>
<p>Guaranteed to choose random characters with uniform probability.</p>
<p>Try it out here: <a href="http://ideone.com/AUKacR" rel="nofollow noreferrer">ideone link</a></p>
<p><strong>EDIT: Thanks to Morgan Thrapp for the corrections.</strong></p>
</div>
<div id="pu17" class="pu"><h1>C, 268 bytes</h1>
<pre><code>V(c){for(c=89;c==89||c==121;c=rand()%95+33);return c;}p(n,s){n^1?s-n?printf(&quot;%*.c&quot;,s-n,32):0,printf(&quot;%c%*.c%c\n&quot;,V(),n*2-3,32,V()),p(n-1,s),s-n?printf(&quot;%*.c&quot;,s-n,32):0,printf(&quot;%c%*.c%c\n&quot;,V(),2*n-3,32,V()):printf(&quot;%*.c%c\n&quot;,s-n,32,V());}f(n){srand(time(NULL));p(n,n);}
</code></pre>
<p>Call <code>f()</code> with the size of the <code>x</code> to draw.</p>
</div>
<div id="pu18" class="pu"><h1>PowerShell v2+, 112 bytes</h1>

<pre><code>Param($i)function f{Random(33..126-ne121-ne89|%{[char]$_})};1..$i|%{$a=,' '*$i;$a[$_-1]=f;$a[$i-$_]=f;$a-join''}
</code></pre>

<p>Reads input off the command line.</p>

<p>For each line, an array of spaces is created, the correct indices filled in with characters pulled from function <code>f</code>, then the char array is joined to output as one line.</p>
</div>
<div id="pu19" class="pu"><h2>Actually, 62 bytes</h2>
<pre><code>&quot;!⌂&quot;♂┘ix♂c&quot;Yy&quot;@-╗½≈u;r2@∙`i=`M╪k`;dXR@+`M;dXR@+`&quot;╜J' aI&quot;£MΣ`Mi
</code></pre>
<p>This is one of the longest Actually programs I've ever written.</p>
<p><a href="http://actually.tryitonline.net/#code=IiHijIIi4pmC4pSYaXjimYJjIll5IkAt4pWXwr3iiYh1O3IyQOKImWBpPWBN4pWqa2A7ZFhSQCtgTTtkWFJAK2Ai4pWcSicgYUkiwqNNzqNgTWk&amp;input=NQ" rel="noreferrer">Try it online!</a></p>
<h3>Explanation:</h3>
<p><strong>Part 1</strong>: setting up the character list</p>
<pre><code>&quot;!⌂&quot;♂┘ix♂c&quot;Yy&quot;@-
&quot;!⌂&quot;              push the string &quot;!⌂&quot;
    ♂┘            CP437 ordinal of each character ([21, 127])
      ix          range(21, 127)
        ♂c        character at each ordinal (list of printable ASCII characters)
          &quot;Yy&quot;@-  set difference with [&quot;Y&quot;, &quot;y&quot;] (printable ASCII except &quot;Y&quot; and &quot;y&quot;)
</code></pre>
<p><a href="http://actually.tryitonline.net/#code=IiHijIIi4pmC4pSYaXjimYJjIll5IkAt&amp;input=" rel="noreferrer">Try it online!</a></p>
<p><strong>Part 2</strong>: constructing the boolean array for an X</p>
<pre><code>½≈u;r2@∙`i=`M╪k`;dXR@+`M;dXR@+
½≈u;                            two copies of int(input/2)+1
    r                           range
     2@∙                        Cartesian product with itself
        `i=`M                   for each sublist: push 1 if both elements are equal, else 0
             ╪k                 split into int(input/2)+1-length chunks
                                (at this point, we have one quarter of the X)
               `;dXR@+`M        mirror each sublist (one half of the X)
                        ;dXR@+  mirror the entire list (the whole X)
</code></pre>
<p><a href="http://actually.tryitonline.net/#code=wr3iiYh1O3IyQOKImWBpPWBN4pWqa2A7ZFhSQCtgTTtkWFJAKw&amp;input=NQ" rel="noreferrer">Try it online!</a></p>
<p><strong>Part 3</strong>: picking random characters</p>
<pre><code>`&quot;╜J' aI&quot;£MΣ`Mi
`&quot;╜J' aI&quot;£MΣ`M   for each row:
 &quot;╜J' aI&quot;£M        for each column:
  ╜J                 push a random value from the character list
    '                push a space
      a              invert the stack
       I             take the character if the value is 1, else take the space
           Σ       concatenate the strings
              i  flatten the list and let implicit output take care of the rest
</code></pre>
<p><a href="http://actually.tryitonline.net/#code=IiHijIIi4pmC4pSYaXjimYJjIll5IkAt4pWXYCLilZxKJyBhSSLCo03Oo2BNaQ&amp;input=W1sxLDAsMCwwLDFdLFswLDEsMCwxLDBdLFswLDAsMSwwLDBdLFswLDEsMCwxLDBdLFsxLDAsMCwwLDFdXQ" rel="noreferrer">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="http://goo.gl/9KrKoM" rel="nofollow noreferrer">Dyalog APL</a>, 35 <a href="http://meta.codegolf.stackexchange.com/a/9429/43319">bytes</a></h1>
<pre><code>⎕UCS 32+(⊢+∊∘57 89)⌊?95×(⊢∨⌽)∘.=⍨⍳⎕
</code></pre>
<p><code>⎕</code> prompt for number<br>
<code>⍳</code> 1 through that number<br>
<code>∘.=⍨</code> equality table (i.e. the diagonal has 1s)<br>
<code>(⊢∨⌽)</code> itself OR its mirror image (gives both diagonals)<br>
<code>95×</code> multiply by 95<br>
<code>?</code> rand int between 1 and 95 for the diagonals, rand float between 0 and 1 for the rest<br>
<code>⌊</code> floor to get rid of the floats<br>
<code>(⊢+∊∘57 89)</code> add one to the elements that are a member of {57,89} (Yy – 32) <br>
<code>32+</code> add 32 to make the 0s into spaces, and other numbers into the proper range<br>
<code>⎕UCS</code> convert to text</p>
<p><a href="http://tryapl.org/?a=%u2395UCS%2032+%28%u22A2+%u220A%u221857%2089%29%u230A%3F95%D7%28%u22A2%u2228%u233D%29%u2218.%3D%u2368%u237325&amp;run" rel="nofollow noreferrer">TryAPL</a>!</p>
</div>
<div id="pu21" class="pu"><h2>JavaScript (ES6), <s>137</s> <s>131</s> 125 bytes</h2>

<pre><code>n=&gt;[...Array(n)].map((_,i,a)=&gt;String.fromCharCode(...a.map((r=Math.random()*94,j)=&gt;i-j&amp;&amp;i+j+1-n?32:(r+72&amp;95&amp;&amp;r)+33))).join`\n`
</code></pre>

<p>Where <code>\n</code> represents the literal newline character. Edit: Saved 1 byte by moving the <code>' '</code> inside the <code>String.fromCharCode</code> expression. Saved 5 bytes by making my random character generation non-uniform; the expression <code>r+72&amp;95</code> is zero for the values that map to <code>Y</code> and <code>y</code> and an <code>!</code> is generated in their place. Saved 4 bytes when I realised that spreading over <code>String.fromCharCode</code> avoids having to <code>join</code>. Saved 2 bytes by stealing a trick from @edc65.</p>
</div>
<div id="pu22" class="pu"><h2>Lua, 277 Bytes</h2>



<p>Well... Lua is sooooo good at manipulating strings :D. First time I had to use <code>local</code> in a statement! I could save some bytes by using Lua 5.1 instead of 5.3 because they moved the global function <code>unpack</code> into the object <code>table</code> at Lua 5.2. But I prefer to stick with the latest version I have :).</p>

<p>Defines a function that should be called with a single parameter (the second one is used for recursion purpose) and returns a string.</p>

<pre class="lang-lua prettyprint-override"><code>function f(n,N)N=N or n e=" "p="\n"r=math.random C=e.char
R={}for i=1,4 do x=r(33,126)R[i]=x~=89 and x~=121 and x or r(33,88)end
local s,S,a,b,c,d=e:rep((N-n)/2),e:rep(n-2),table.unpack(R)return
n&lt;2 and s..C(a)..p or s..C(a)..S..C(b)..s..p..f(n-2,N)..s..C(c)..S..C(d)..s..p
end
</code></pre>

<h3>Ungolfed</h3>

<pre class="lang-lua prettyprint-override"><code>function f(n,N)                       
  N=N or n                          -- N is equal to the n we had on the first call
  e=" "                             -- shorthand for the space
  p="\n"                            -- shorthand for the newline
  r=math.random                     -- shorthand for math.random
  C=e.char                          -- uses the string e to obtain the function string.char
  R={}                              -- define an array for our random values
  for i=1,4                         -- iterate 4 times (for the random characters)
  do
    x=r(33,126)                     -- random between ASCII "!" and "~"
    R[i]=x~=89 and x~=121           -- if we didn't pick y or Y
           and x                    -- keep this number
         or r(33,88)                -- or roll for a character between "!" and "X"
  end
  local s,S                         -- these variables have to be local
          ,a,b,c,d                  -- or the recursion would change them
         =e:rep((N-n)/2),e:rep(n-2) -- s and S are the number of spaces for the X
           ,table.unpack(R)         -- a,b,c and d are the 4 random characters
  return n&lt;2                        -- if n==1 
           and s..C(a)..p           -- we're at the center of the X, time to end recursion
         or                         -- else
           s..C(a)..S..C(b)..s..p   -- concatenate the topmost line for n
           ..f(n-2,N)               -- with the inner X
           ..s..C(c)..S..C(d)..s..p -- and the bottom line
end
</code></pre>
</div>
<div id="pu23" class="pu"><h1>JavaScript (ES6), 128 <s>131</s></h1>
<p><strong>Edit</strong> 3 bytes saved thx @Neil</p>
<p>So bulky, probably not the best approach. Bonus - it works with odd or even input.</p>
<pre class="lang-js prettyprint-override"><code>n=&gt;[...Array(n)].map((_,i,z)=&gt;String.fromCharCode(...z.map((r=1+Math.random()*94,j)=&gt;32+(j==i|j==n+~i&amp;&amp;(r+7&amp;31?r:25))))).join`
`
</code></pre>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>F=n=&gt;[...Array(n)].map((_,i,z)=&gt;String.fromCharCode(...z.map((r=1+Math.random()*94,j)=&gt;32+(j==i|j==n+~i&amp;&amp;(r+7&amp;31?r:25))))).join`\n`

Z=_=&gt;{
    o=F(+S.value),O.textContent=o,/y/i.test(o)||setTimeout(Z,100)
}
setTimeout(Z,100)</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input id=S value=15 type=number&gt;
&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu24" class="pu"><h2>Emacs Lisp, 269 bytes</h2>

<pre><code>(defalias'n'number-sequence)(set'c(mapcar'string(delq 89(delq 121(n 33 126)))))(defun c()(nth(random(length c))c))(defun s(x)" ")(defun x(l)(let((s(mapcar's(n 1 l))))(dotimes(i l)(set'x(copy-seq s))(setf(nth i x)(c)(nth(-(length x)i 1)x)(c))(message(apply'concat x)))))
</code></pre>

<p>Ungolfed and slightly modified:</p>

<pre><code>(defvar c (mapcar 'string (delq 89 (delq 121 (number-sequence 33 126)))))
(defun c() (nth (random (length c)) c))
(defun s(x)" ")
(defun x(l)
  (let ((s(mapcar's(n 1 l)))
        x)
    (dotimes (i l)
      (set 'x (copy-seq s))
      (setf (nth i x) (c)
            (nth (- (length x) i 1) x) (c))
      (message (apply 'concat x)))))
</code></pre>
</div>
<div id="pu25" class="pu"><h1>php, 135 bytes</h1>

<pre><code>&lt;?php for(;$i&lt;$n=$argv[1];){$s=str_pad('',$n);$s[$i?:0]=chr(rand(33,126));$s[$n-++$i]=chr(rand(33,126));echo str_ireplace(Y,X,"$s
");}
</code></pre>

<p>Fairly straightforward approach uses str_pad to make a string of spaces of the required length, replaces the necessary characters with random ones then replaces any Ys (case insensitive) with Xs and echos the line.<br>Generates 2n+3 notices but, as usual, that's fine.</p>
</div>
<div id="pu26" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 28 bytes</h1>
<pre><code>6Y2'Yy 'X-iZr1MZrXdwXdP2$X&gt;c
</code></pre>
<p><a href="http://matl.tryitonline.net/#code=NlkyJ1l5ICdYLWlacjFNWnJYZHdYZFAyJFg-Yw&amp;input=OQ" rel="nofollow noreferrer"><strong>Try it online!</strong></a></p>
<p>All the allowed characters have the same probability of appearing. Works for even input too.</p>
<pre><code>6Y2     % Predefined literal of ASCII chars from 32 to 126
'Yy '   % Not allowed chars
X-      % Set difference. Produces the set of allowed chars
i       % Input number, n
Zr      % Random sample without replacement. Gives a string with n chars taken from 
        % the allowed set
1MZr    % Do the same
Xd      % Diagonal matrix. Zeros will be displayed as spaces
wXd     % Diagonal matrix with the other string
P       % Flip vertically
2$X&gt;    % Maximum of the two matrices
c       % Convert to char. Implicitly display
</code></pre>
</div>
<div id="pu27" class="pu"><h1>Python 2.7, 205 bytes:</h1>

<pre><code>from random import*;C=input()/2;S=' ';R=range;Z=lambda:chr(choice(R(33,89)+R(90,121)+R(122,128)));T=lambda*G:''.join([S*i+Z()+S*(2*(~-C-i)+1)+Z()+S*i+'\n'for i in R(*G)]);print T(C)+S*C+Z()+'\n'+T(~-C,-1,-1)
</code></pre>

<p><a href="http://ideone.com/hhB4qm" rel="nofollow">Try It Online! (Ideone)</a></p>
</div>
<div id="pu28" class="pu"><h1>Ruby, 102 bytes</h1>

<p><code>Array#sample</code> doesn't do repetitions for sampling from the character set, but that's OK because the character distribution don't have to be perfectly uniform! Recursive function, returns an array of lines.</p>
<p><a href="https://repl.it/CgUD" rel="noreferrer">Try it online!</a></p>
<pre class="lang-ruby prettyprint-override"><code>f=-&gt;l{w,x,y,z=([*?!..?~]-%w&quot;y Y&quot;).sample 4
l&lt;2?[w]:[w+(s=' '*(l-2))+x,*f[l-2].map{|e|&quot; #{e} &quot;},y+s+z]}
</code></pre>
</div>
<div id="pu29" class="pu"><h1>Mathematica, 146 bytes</h1>

<pre><code>a:=RandomChoice[33~CharacterRange~126~Complement~{"Y","y"}];StringRiffle[Normal@SparseArray[{{b_, b_}:&gt;a,{b_,c_}/;c-1==#-b:&gt;a},{#,#}," "],"
",""]&amp;
</code></pre>

<p>Anonymous function. Takes a number as input, and returns a string as output.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/86668/">86668</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




