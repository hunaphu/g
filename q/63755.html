<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::63755</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>014</td><td>Uiua</td><td>241014T004052Z</td><td><a href="https://codegolf.stackexchange.com/questions/63755/rotate-the-anti-diagonals/276116#276116">noodle p</a></td></tr>
<tr d-ix="1"><td>094</td><td>Python 2</td><td>190412T013444Z</td><td><a href="https://codegolf.stackexchange.com/questions/63755/rotate-the-anti-diagonals/183050#183050">vo1stv</a></td></tr>
<tr d-ix="2"><td>020</td><td>Pyth</td><td>151113T231525Z</td><td><a href="https://codegolf.stackexchange.com/questions/63755/rotate-the-anti-diagonals/63786#63786">isaacg</a></td></tr>
<tr d-ix="3"><td>030</td><td>J</td><td>151113T201632Z</td><td><a href="https://codegolf.stackexchange.com/questions/63755/rotate-the-anti-diagonals/63767#63767">randomra</a></td></tr>
<tr d-ix="4"><td>085</td><td>Octave</td><td>151114T051442Z</td><td><a href="https://codegolf.stackexchange.com/questions/63755/rotate-the-anti-diagonals/63822#63822">alephalp</a></td></tr>
<tr d-ix="5"><td>024</td><td>J</td><td>151114T042930Z</td><td><a href="https://codegolf.stackexchange.com/questions/63755/rotate-the-anti-diagonals/63819#63819">algorith</a></td></tr>
<tr d-ix="6"><td>139</td><td>Julia</td><td>151113T235800Z</td><td><a href="https://codegolf.stackexchange.com/questions/63755/rotate-the-anti-diagonals/63796#63796">Alex A.</a></td></tr>
<tr d-ix="7"><td>075</td><td>ES6</td><td>151114T010949Z</td><td><a href="https://codegolf.stackexchange.com/questions/63755/rotate-the-anti-diagonals/63802#63802">Neil</a></td></tr>
<tr d-ix="8"><td>020</td><td>CJam</td><td>151113T180154Z</td><td><a href="https://codegolf.stackexchange.com/questions/63755/rotate-the-anti-diagonals/63759#63759">aditsu q</a></td></tr>
<tr d-ix="9"><td>040</td><td>CJam</td><td>151113T163724Z</td><td><a href="https://codegolf.stackexchange.com/questions/63755/rotate-the-anti-diagonals/63756#63756">Martin E</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Uiua, 14 bytes</h1>
<pre><code>⍜⊕□⍚↻₁⊞+∩⇡°⊟⊸△
</code></pre>
<p>Try it: <a href="https://uiua.org/pad?src=0_13_0-dev_3__IyBFeHBlcmltZW50YWwhCkYg4oaQIOKNnOKKleKWoeKNmuKGu-KCgeKKniviiKnih6HCsOKKn-KKuOKWswoKRiBbMF8xXzJfMyA0XzVfNl83IDhfOV8wXzFdCkYgWzBfMSA2XzJdCkYgWzZfM18wXzggNF82XzFfNCA2XzJfM18zIDlfM18wXzNdCg==" rel="nofollow noreferrer">Uiua pad</a></p>
<p>Take the addition table of the same shape, use this to group the input, rotate each group by one to the right, and ungroup back to a matrix.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>113</s> <s>104</s> 94 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda i,b=[]:i and[b and b[:1]+i[0][:-1]]+f(i[1:],b[1:]or i[0][:-1]+[l[-1]for l in i])or[b]
</code></pre>

<p><a href="https://tio.run/##PY7LisMwDEX3@opLVwl1i51nG8iXGC8SShkNeRF70/n5jJSB2UjWOXp4@6SvdSmO491Pwzy@BrAZex86xrC8/KgRo@9cuLK3wXc3F8L1nbF3XTCjxnXHv7r6yUt6C5vACzjk6@7HcPC8rXtC/ERKvbemNs4aJ7E1NhD387BlMe33uE2cjLTdY3rxkpOuiibpsh/esnSeMUkP5x3h1Cr1S7FLIhVj23lJuOBy/155yWJOf@hoUMLiQRUaOFTUoBBS0vPkJVGNBwrBrRSFNsnboiHpeKLSp2idUVmhJYcaOi2Z7EntyUVoWyVaph0VVFJFNUnxCw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>This is a fairly literal interpretation of @aditsu's method.
Python's syntax for treating empty lists as False helped save an extra 10 bytes.</p>
</div>
<div id="pu2" class="pu"><h1>Pyth, 20 bytes</h1>

<pre><code>J+PhQ.)MQ++L.(J0tQ]J
</code></pre>

<p>Uses Adistu's approach of removing the top row and right column, then sticking them on the left and bottom. But with mutable data structures, not transpositions.</p>
</div>
<div id="pu3" class="pu"><h1>J, <s>38</s> 30 bytes</h1>

<p><em>8 bytes saved thanks to @algorithmshark.</em></p>

<pre><code>{./.((}.~#),~({.~#),.])}:"1@}.   
</code></pre>

<p>The function collects the top and left edges into a list, cuts the list to two pieces of sufficient sizes and stitches them to the right and bottom of the core part.</p>

<p>Usage:</p>

<pre><code>   ]input=.0 1 2 3, 4 5 6 7,: 8 9 0 1
0 1 2 3
4 5 6 7
8 9 0 1
   ({./.((}.~#),~({.~#),.])}:"1@}.) input
0 4 5 6
1 8 9 0
2 3 7 1
</code></pre>

<p><a href="http://tryj.tk/" rel="nofollow">Try it online here.</a></p>
</div>
<div id="pu4" class="pu"><h1>Octave, 85 bytes</h1>

<pre><code>@(a)[(b=[a(1,1:end),a(2:end,end)'])(1:(s=size(a)(1)))',[a(2:end,1:end-1);b(s+1:end)]]
</code></pre>

<p>I hope I could get rid of the <code>end</code>s.</p>
</div>
<div id="pu5" class="pu"><h1>J, 24 char</h1>

<p>Function taking one argument.</p>

<pre><code>$$&lt;@(1&amp;|.)/./:&amp;;&lt;/.@i.@$
</code></pre>

<p>J has an operator <code>/.</code> called <a href="http://www.jsoftware.com/help/dictionary/d421.htm"><em>Oblique</em></a>. It can't invert it, so reconstruction isn't trivial, but you can consider "listing obliques" as a permutation of the elements of the array. So we invert that permutation with <code>/:</code> (dyadic <a href="http://www.jsoftware.com/help/dictionary/d422.htm"><em>Sort</em></a>), by putting the "listing obliques" permutation for that size (<code>&lt;/.@i.@$</code>) on the right and our new oblique values, rotated properly, on the left. Then we reshape this list into the old rectangular array using good old <code>$$</code>.</p>

<pre><code>   3 4$i.10
0 1 2 3
4 5 6 7
8 9 0 1
   ($$&lt;@(1&amp;|.)/./:&amp;;&lt;/.@i.@$) 3 4$i.10
0 4 5 6
1 8 9 0
2 3 7 1
</code></pre>

<p><a href="https://a296a8f7c5110b2ece73921ddc2abbaaa3c90d10.googledrive.com/host/0B3cbLoy-_9Dbb0NaSk9MRGE5UEU/index.html#code=%28%24%24%3C%40%281%26%7C.%29%2F.%2F%3A%26%3B%3C%2F.%40i.%40%24%29%203%204%24i.10">Try it online.</a></p>
</div>
<div id="pu6" class="pu"><h1>Julia, <s>153</s> <s>149</s> 139 bytes</h1>



<pre class="lang-julia prettyprint-override"><code>A-&gt;(length(A)&gt;1&amp;&amp;((m,n)=size(A);r(X)=for i=1:n X[:,i]=reverse(X[:,i])end;r(A);for i=-m:m A[diagind(A,i)]=circshift(diag(A,i),1)end;r(A));A)
</code></pre>

<p>This creates an unnamed function that accepts an array and returns the input array modified in place.</p>

<p>Ungolfed:</p>

<pre class="lang-julia prettyprint-override"><code># Create a function to reverse the columns of a matrix
function revcols!(X)
    for = 1:size(X, 2)
        X[:,i] = reverse(X[:,i])
    end
    return X
end

# Our main function
function zgarb!(A)
    # Only perform operations if the array isn't one element
    if length(A) &gt; 1
        # Record the number of rows
        m = size(A, 1)

        # Reverse the columns in place
        revcols!(A)

        # Shift each diagonal
        for i = -m:m
            A[diagind(A, i)] = circshift(diag(A, i), 1)
        end

        # Reverse the columns back
        revcols!(A)
    end
    return A
end
</code></pre>

<p>Thanks to Martin Büttner for algorithmic advice and for saving 4 bytes!</p>
</div>
<div id="pu7" class="pu"><h2>ES6, 75 bytes</h2>

<p>This accepts an array of arrays as a parameter and modifies it in place.</p>

<pre><code>a=&gt;{t=a.shift();a.map(r=&gt;{t.push(r.pop());r.unshift(t.shift())});a.push(t)}
</code></pre>

<p>Ungolfed:</p>

<pre><code>function anti_diagonal(array) {
    var temp = array.shift(); // strip off the first row
    array.forEach(row =&gt; temp.push(row.pop())); // strip off the last elements of each row
    array.forEach(row =&gt; row.unshift(temp.shift())); // distribute the elements to the beginning of each row
    array.push(temp); // the remaining elements become the last row
}
</code></pre>

<p>See @aditsu's diagram for further clarification.</p>
</div>
<div id="pu8" class="pu"><h1>CJam, 20</h1>

<pre><code>{z_)\zLa+(@+\.+s\,/}
</code></pre>

<p>Written as a function block. <a href="http://cjam.aditsu.net/#code=qN%2F%20e%23%20read%20and%20convert%20input%0A%0A%7Bz_)%5CzLa%2B(%40%2B%5C.%2Bs%5C%2C%2F%7D%0A%0A~N*%20e%23%20execute%20and%20format&amp;input=994062%0A232647%0A159315%0A026047" rel="noreferrer">Try it online</a></p>

<p><strong>Explanation:</strong></p>

<p>The input can be viewed like this:</p>

<p><a href="https://i.sstatic.net/SFeZk.png" rel="noreferrer"><img src="https://i.sstatic.net/SFeZk.png" alt="input diagram"></a></p>

<p>That is, we separate the top row and right column from the rest of the matrix, and consider those elements in the order shown by the arrow.</p>

<p>Then the output is like this:</p>

<p><a href="https://i.sstatic.net/8IDfX.png" rel="noreferrer"><img src="https://i.sstatic.net/8IDfX.png" alt="output diagram"></a></p>

<p>The remaining rectangular block is moved diagonally as a whole, and the edge elements are rearranged in the order/positions showed by the new arrow.</p>

<p>The code does almost exactly that, except the output is first generated with the arrow going straight down (so the matrix has a tail, like the letter P), then corrected.</p>

<pre><code>z      zip (transpose) the matrix
_      make a copy
)      take out the last row (right column before transposing)
\      swap with the rest of the matrix
z      transpose back
La+    append an empty row (needed for the single-column case,
        which leaves an empty matrix here)
(      take out the first row (top row without the corner)
@+     bring the right column to the top of the stack and concatenate
        obtaining an array of the edge elements (marked with the blue arrow)
\      swap with the remaining part (big white block in the diagrams)
.+     concatenate element by element
        each edge element is concatenated with a row of the white block
        after the white block runs out, the remaining elements form new rows
s      convert the whole thing to a string (concatenating all rows)
\      swap with the copy of the transposed matrix
,      get its length (number of original columns)
/      split the string into rows of that length
</code></pre>
</div>
<div id="pu9" class="pu"><h2>CJam, <s>44</s> <s>43</s> <s>42</s> 40 bytes</h2>

<pre><code>qN/:ReeSf.*:sz1fm&lt;{Rz,{(S-(o\}*~]{},No}h
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=qN%2F%3AReeSf.*%3Asz1fm%3C%7BRz%2C%7B(S-(o%5C%7D*~%5D%7B%7D%2CNo%7Dh&amp;input=0123%0A4567%0A8901">Test it here.</a></p>

<p>Hmm, much better than my first attempt, but I have a feeling Dennis will solve this in much less anyway...</p>

<p>Input and output are as ASCII grids:</p>

<pre><code>0123
4567
8901
</code></pre>

<p>gives</p>

<pre><code>0456
1890
2371
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/63755/">63755</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




