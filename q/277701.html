<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::277701</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>349</td><td>Bash on vt510rm</td><td>250117T154844Z</td><td><a href="https://codegolf.stackexchange.com/questions/277701/make-a-textual-paint-like-program/277723#277723">Themooni</a></td></tr>
<tr d-ix="1"><td>263</td><td>Java OpenJDK 8</td><td>250117T143411Z</td><td><a href="https://codegolf.stackexchange.com/questions/277701/make-a-textual-paint-like-program/277721#277721">mastaH</a></td></tr>
<tr d-ix="2"><td>173</td><td>JavaScript ES8</td><td>250116T204331Z</td><td><a href="https://codegolf.stackexchange.com/questions/277701/make-a-textual-paint-like-program/277702#277702">Arnauld</a></td></tr>
<tr d-ix="3"><td>080</td><td>Charcoal</td><td>250117T012110Z</td><td><a href="https://codegolf.stackexchange.com/questions/277701/make-a-textual-paint-like-program/277708#277708">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a> on vt510-rm, 349 bytes</h1>
<pre class="lang-bash prettyprint-override"><code>s=&quot; ░▒▓█&quot;
e=&quot;echo -ne &quot;
r=&quot;read -sn1 c&quot;
while $r; do
case $c in
w)((y&gt;0))&amp;&amp;$e&quot;\033[1A&quot;&amp;&amp;((y--))
;;
a)((x&gt;0))&amp;&amp;$e&quot;\033[1D&quot;&amp;&amp;((x--))
;;
s)((y&lt;25))&amp;&amp;$e&quot;\033[1B&quot;&amp;&amp;((y++))
;;
d)((x&lt;80))&amp;&amp;$e&quot;\033[1C&quot;&amp;&amp;((x++))
;;
0|1|2|3|4|5)$e&quot;${s:$c:1}\033[1D&quot;
;;
\?)$r
s=${s::5}$c
;;
!)$e&quot;\033[1;1;$y;$y;$x;$x*y&quot;&gt;/dev/tty;read -s c
s=${s::5}${c:6:1}
;;
esac
done
</code></pre>
<p>Don't try this online, it requires a terminal that supports <a href="https://vt100.net/docs/vt510-rm/DECRQCRA.html" rel="nofollow noreferrer">DECRQCRA</a>. I don't have one, but as far as I can tell, this should work (maybe). DECRQCRA is a vt510-rm escape code that asks the terminal to do a checksum of all the characters in a rectangular area. if you ask it to check an area of 1x1, it returns the sum of 1 character (so that character). It is largely unsupported because that means that applications would be able to read what previous apps launched from the same terminal wrote, and is thus a security risk. For this reasons, command line programs that need to reference what they've previously outputted need to use <code>ncurses</code> or otherwise keep an array of what the ouput looks like, on modern terminals.</p>
<p>only <code>!</code> requires the exotic terminal, the rest works on normal modern terminals:</p>
<p><a href="https://i.sstatic.net/wiMtkdXY.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/wiMtkdXY.png" alt="test case 1" /></a></p>
<p>my shell catches commands that don't end at the beggining of a line (and prints the ugly <code>%</code>), so i've taken the liberty of adding <code>sd</code> to the test case so we could see it in its entirety</p>
<p><code>!</code> is untested, I can emulate it with <code>?▒</code> here:
<a href="https://i.sstatic.net/LhixGV6d.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/LhixGV6d.png" alt="test case 2" /></a></p>
<p><a href="https://i.sstatic.net/Y5XZWcx7.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/Y5XZWcx7.png" alt="test case 3" /></a></p>
<p>if you don't pipe in a test case, <code>read</code> will read from stdin, which means you get to paint manually which is actually pretty fun :D
<a href="https://i.sstatic.net/BOY0LqTz.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/BOY0LqTz.png" alt="enter image description here" /></a></p>
</div>
<div id="pu1" class="pu"><h1><a href="http://openjdk.java.net/" rel="nofollow noreferrer">Java (OpenJDK 8)</a>, 263 bytes</h1>
<p>Posting this lengthy Java version just because it was fun implementing it with an array instead of a matrix.</p>

<pre class="lang-java prettyprint-override"><code>char[] g=new char[2000];Arrays.fill(g,' ');int p=0,i=0;char m=0,c;while(i&lt;s.length){c=s[i++];if(c&gt;47&amp;c&lt;54)g[p]=(&quot; ░▒▓█&quot;+m).charAt(c-48);else if(c&lt;64)m=c&lt;34?g[p]:s[i++];else p=c&gt;100?c&gt;115?p&lt;80?p:p-80:p&gt;1975?p:p+80:c&gt;99?p%80&gt;78?p:p+1:p%80&lt;1?p:p-1;}return g;
</code></pre>
<p><a href="https://tio.run/##jVJNj5swEL3nV3gjtWuXDTIJNCSGoFUvvfS0x4iDawgx5cPCTtAqyr3XtlJ@YP5I1gZ2lagf6ozsmbHfPMOzc7qnk1qkVZ58u/BS1I0CuV6zd4oX9mPT0GdJRiOx@1pwBlhBpQRfKK/AYQS0sS1t1jEQcEgkOlyGNAurtO0BU4xxTHoye8OLAmYP9@AeEV4pIEL8wENMDBKUumCk3fIihTyQdpFWmdqiAwvlmltWTPgGspU7f88Cz0XZWsQhHIPz6cf59PN8@nU@fR9bJbIN16OCbOL6iKSFTIHpCz66qAxZMHMj07kcKLt9EbKVg3GkZ8eLRODjSCzFxMdLsXIWc89Ulq7YarGIxDsfr@Z@t@YsTRU4HdwhxyZVu6YCGbkYfY6jTqZBPqmo0mFf8wSUWkT4pBpeZVos2mQSDZoa6yQuQQiMhqaAiLxtCt2kYGkLOHak9mTaak9mUnvittqHvF/vMGNb1Z@MKuYSIEJ/ppsmkrZ30pNecuWmpoO3XjvTw@Sz/@OkxmQSffaSKNWjMJwR1ePOo1HtSTdxKXV7/wvlq4wN31OV3ujYn/T65q413NQNgOaFca0jJjoEYOrpaFnXsBto3kNzDfVN/B1q7OlZqrS0652y@@OzNQcfdAewQB5fydB/@79ai5ubPQ5/e7y8AA" rel="nofollow noreferrer" title="Java (OpenJDK 8) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-java prettyprint-override"><code>char[] p(char[] s) {
    char[] g=new char[2000];          // output 25*80 chars
    Arrays.fill(g, ' ');              // fill with spaces
    int p = 0, i = 0;                 // array (p)osition and input (i)ndex
    char m = 0,c;                     // in (m)emory and current input (c)har
    while(i &lt; s.length){              // for each char in input array
        c = s[i++];                   //   get char
        if (c &gt; 47 &amp; c &lt; 54)          //   if c = &quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot; or &quot;5&quot;
            g[p] = (&quot; ░▒▓█&quot;+m)        //     add m to grayscale chars
                    .charAt(c - 48);  //     converto to number
        else if (c &lt; 64)              //   if c = &quot;?&quot; or &quot;!&quot;
            m =                       //   update (m)emory with
                c &lt; 34 ?              //     if c = &quot;!&quot;
                    g[p]              //       char at current position
                :                     //     else (c = &quot;?&quot;)
                    s[i++];           //       next input char
        else                          //   if c = &quot;w&quot;,&quot;a&quot;,&quot;s&quot; or &quot;d&quot;
            p =                       //     update (p)osition with
                c &gt; 100 ?             //       if c = &quot;w&quot; or &quot;s&quot;
                    c &gt; 115 ?         //         if c = &quot;w&quot;
                        p &lt; 80 ?      //           if y = 0
                            p         //             don't move
                        :             //           else (y &gt; 0)
                            p - 80    //             move up by a full row (80 chars)
                    :                 //         else (c = &quot;s&quot;)
                        p &gt; 1975 ?    //           if y = 24
                            p         //             don't move
                        :             //           else (y &lt; 24)
                            p + 80    //             move down by a full row (80 chars)
                :                     //       else (c = &quot;a&quot; or &quot;d&quot;)
                    c &gt; 99 ?          //         if c = &quot;d&quot;
                        p % 80 &gt; 78 ? //           if x = 79
                            p         //             don't move
                        :             //           else (x &lt; 79)
                            p+1       //             move right
                    :                 //         else (c = &quot;a&quot;)
                        p % 80 &lt; 1 ?  //           if x = 0
                            p         //             don't move
                        :             //           else (x &gt; 0)
                            p-1;      //             move left
    }
    return g;                         // return array
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES8), 173 bytes</h1>
<p>Expects an array of characters and returns a matrix of characters.</p>

<pre class="lang-none prettyprint-override"><code>a=&gt;a.map(c=&gt;~a?1/c?m[y][x]=&quot; ░▒▓█&quot;[c]||a:c&lt;{}?a=c&gt;&quot;!&quot;?-1:m[y][x]:c&gt;&quot;s&quot;?y-=!!y:c&gt;&quot;d&quot;?y+=y&lt;24:x+=c&gt;&quot;a&quot;?x&lt;79:-!!x:a=c,m=[...1e9+{}].map(_=&gt;[...&quot;&quot;.padEnd(80)]),x=y=0)&amp;&amp;m
</code></pre>
<p><a href="https://tio.run/##XVDLboMwELznK8CHCJTghgTUhsT4VKn/QFG1wk6biJdwVEBJeu61rcQH8iN0nXCo6tFKM@PZldcHeAeVVPvy6OSFkMOODcBCoBmUVsLCD@DuXcKzqI2jJmbE6Luvvvvuu5@@@yRREp/PECTb04UDS0JiEu64wZgO0FCEtw4zzVYLgWLG2u3SC5qZjgPhzfZ@HTim2QQ4YJ6xiFLqyvXsdImvb3hhobYIoSWIx1xYDws7tucNa9nCnk6zYRNNDIO4CiGWNUKsFEJ4NWLkN/@aIXMdXwoFtal85Ys/0BpG1H69wtJ8desBfZTgT77gEivVPRywTB944StPeADeDWQST@iuqB4hebOUwULjhDNSeTQqidLYWXorFdsbtJMiV0UqaVq8Wnh93bvSPRU9FPvcIsS2R/acI//fQxxCK1lKOOrfweuLvRl@AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-none prettyprint-override"><code>a =&gt; a.map(c =&gt;           // for each character c in the input array a[]:
  ~a ?                    //   if a is not -1:
    1 / c ?               //     if c is a digit:
      m[y][x] =           //       update m[y][x]:
        &quot; ░▒▓█&quot;[c]        //         with either a 'grayscale' character
        || a              //         or a (if c = 5)
      :                   //     else:
        c &lt; {} ?          //       if c is not a letter:
          a =             //         update a:
            c &gt; &quot;!&quot; ?     //           if c = &quot;?&quot;:
              -1          //             use -1
            :             //           else (c = &quot;!&quot;):
              m[y][x]     //             use the character at the current position
        :                 //       else (c is a letter):
          c &gt; &quot;s&quot; ?       //         if c = &quot;w&quot;:
            y -= !!y      //           decrement y if it's not 0
          :               //         else:
            c &gt; &quot;d&quot; ?     //           if c = &quot;s&quot;:
              y += y &lt; 24 //             increment y if it's less than 24
            :             //           else:
              x +=        //             update x:
                c &gt; &quot;a&quot; ? //               if c = &quot;d&quot;:
                  x &lt; 79  //                 increment x if it's less than 79
                :         //               else (c = &quot;a&quot;):
                  -!!x    //                 decrement x if it's not 0
  :                       //   else (a = -1):
    a = c,                //     copy c in a
  m = [...1e9 + {}]       //   start with a matrix m[] made of 25 rows ...
    .map(_ =&gt;             //
      [...&quot;&quot;.padEnd(80)]  //     ... of 80 columns, filled with spaces
    ),                    //
  x = y = 0               //   start with x = 0 and y = 0
) &amp;&amp; m                    // end of map() -&gt; return m[]
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 80 bytes</h1>
<pre><code>ＵＯ⁸⁰¦²⁵ ≔⪪ ░▒▓█ ¹θＦＳ¿υ§≔θ⊟υι≡ιwＭ›ⅉ⁰↑aＭ›ⅈ⁰←sＭ‹ⅉ²⁴↓dＭ‹ⅈ⁷⁹→?⊞υ⁵!§≔θ⁵ＫＫＰ§θＩι
</code></pre>
<p><a href="https://tio.run/##ZZDNSsQwFIX3fYo7XSUQYRxa1JlFGRR0YMTBQdBlbNI2GJpOk04Fce9WhT5gX6TeWqx/CecuDl/OJSfOeBkbrrvu6l6bPCXHUwazkIEPPl14S2tVmpNtoZUjPrTNa9u8tc1727yAz@CQMtghlpgSyCovKrd1pcIUSkElQCoKQ8LSrXIhH8mOwcYU6DNQdAFSWwm2Vi7OgCgKT17M0fFrfw6XZi/JeSm5kyW5I/hiiprfFLhvoPhf6nak1jJxI2e/uLW0doiaBT11Zup8pMQv6jPq6KSnrlWafYdFiG0qm5GKQTi6E3T//RRb3Ej5gGUsPCETXmmHK3CqAkty5Ad6yq3DAnryuet4f6yILkIRSZQOBU6OmoQ8MqENRMB5MNzuYK8/AA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Note that TIO's deverbosifier inserts an unnecessary <code>”y”</code>. Explanation:</p>
<pre><code>ＵＯ⁸⁰¦²⁵ 
</code></pre>
<p>Create the grid.</p>
<pre><code>≔⪪ ░▒▓█ ¹θ
</code></pre>
<p>Create the list of drawing characters for the commands <code>0-5</code>. (Note that non-code page characters are allowed but cost 3 or 4 bytes each; this has been included in the byte count.)</p>
<pre><code>ＦＳ
</code></pre>
<p>Loop over the input characters.</p>
<pre><code>¿υ§≔θ⊟υι
</code></pre>
<p>If the last character was a <code>?</code> then replace the <code>5</code> character with the current character.</p>
<pre><code>≡ι
</code></pre>
<p>Otherwise, switch on the current character.</p>
<pre><code>wＭ›ⅉ⁰↑
</code></pre>
<p>If it's a <code>w</code> then move up unless the cursor is in the top row.</p>
<pre><code>aＭ›ⅈ⁰←
</code></pre>
<p>If it's an <code>a</code> then move left unless the cursor is in the left column.</p>
<pre><code>sＭ‹ⅉ²⁴↓
</code></pre>
<p>If it's an <code>s</code> then move down unless the cursor is in the bottom row.</p>
<pre><code>dＭ‹ⅈ⁷⁹→
</code></pre>
<p>If it's a <code>d</code> then move right unless the cursor is in the right column.</p>
<pre><code>?⊞υ⁵
</code></pre>
<p>If it's a <code>?</code> then prepare to save the next character as the output for the <code>5</code> command.</p>
<pre><code>!§≔θ⁵ＫＫ
</code></pre>
<p>If it's a <code>!</code> then save the character under the cursor as the output for the <code>5</code> command.</p>
<pre><code>Ｐ§θＩι
</code></pre>
<p>Otherwise replace the character under the cursor with the appropriate character for the commands <code>0-5</code>.</p>
<p><code>18</code> bytes to prevent the cursor from exiting the grid may seem a lot, but trying to share code between the directions also takes <code>18</code> bytes, of which <code>9</code> is used translating from <code>wasd</code> to Charcoal direction codes which could be removed if <code>uldr</code> could be used instead.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/277701/">277701</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




