<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::QNNN</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
  <!-- TXXX -->
<tr d-ix="0"><td>044</td><td>Charcoal</td><td>230820T164741Z</td><td><a href="https://codegolf.stackexchange.com/questions/264408/give-the-fools-fibonacci-sequence/264413#264413">Neil</a></td></tr>
<tr d-ix="1"><td>062</td><td>C gcc</td><td>230823T204946Z</td><td><a href="https://codegolf.stackexchange.com/questions/264408/give-the-fools-fibonacci-sequence/264569#264569">Saladin</a></td></tr>
<tr d-ix="2"><td>076</td><td>Haskell</td><td>230823T001903Z</td><td><a href="https://codegolf.stackexchange.com/questions/264408/give-the-fools-fibonacci-sequence/264532#264532">Yonatan </a></td></tr>
<tr d-ix="3"><td>021</td><td>Pyth</td><td>230821T024816Z</td><td><a href="https://codegolf.stackexchange.com/questions/264408/give-the-fools-fibonacci-sequence/264431#264431">CursorCo</a></td></tr>
<tr d-ix="4"><td>014</td><td>05AB1E</td><td>230821T095249Z</td><td><a href="https://codegolf.stackexchange.com/questions/264408/give-the-fools-fibonacci-sequence/264448#264448">Kevin Cr</a></td></tr>
<tr d-ix="5"><td>066</td><td>Python</td><td>230820T154347Z</td><td><a href="https://codegolf.stackexchange.com/questions/264408/give-the-fools-fibonacci-sequence/264410#264410">bsoelch</a></td></tr>
<tr d-ix="6"><td>023</td><td>K ngn/k</td><td>230820T235652Z</td><td><a href="https://codegolf.stackexchange.com/questions/264408/give-the-fools-fibonacci-sequence/264428#264428">Bubbler</a></td></tr>
<tr d-ix="7"><td>039</td><td>sclin</td><td>230821T003723Z</td><td><a href="https://codegolf.stackexchange.com/questions/264408/give-the-fools-fibonacci-sequence/264430#264430">Mama Fun</a></td></tr>
<tr d-ix="8"><td>051</td><td>Python</td><td>230820T235609Z</td><td><a href="https://codegolf.stackexchange.com/questions/264408/give-the-fools-fibonacci-sequence/264427#264427">loopy wa</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 44 bytes</h1>
<pre><code>Ｆ²⊞υι≔Ｅ²ιηＦＮ⊞η⁻⌈⊞ＯυΣ…⮌υ²↨¹Ｅ✂⮌η⁵Ｌη³×κ§υ×³λＩ⌈η
</code></pre>
<p><a href="https://tio.run/##PY67DsIwDEV3vsKjI4WBIgbEBJ0q8RLwA6EYEpGmVR4Ivj44gLDkwedeX7vVyre9sjlfew9YCdinoDFJMGIxWoZgbg43asCqEAma6cfZuCHFberO5FH8trSEjXEp8MLTdKnDQncDeRV7XzKPzOpXa6nW/YAHepAPhIlzK8ElYaV4nnAMXzxa09LfpFmdSViTu0X9mabcJ9NRwLuEZWzchZ7lyJdNJVjxrcVo742LWKsQ/6/pIuRczfP4Yd8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs <span class="math-container">\$ f(n) \$</span> where <span class="math-container">\$ f(2)=2 \$</span>. Explanation:</p>
<pre><code>Ｆ²⊞υι
</code></pre>
<p>Start with the first two terms of the Fibonacci sequence (<span class="math-container">\$ 0 \$</span>-indexed).</p>
<pre><code>≔Ｅ²ιη
</code></pre>
<p>Start with the first two terms of the Wheat Wizard sequence (<span class="math-container">\$ 0 \$</span>-indexed).</p>
<pre><code>ＦＮ
</code></pre>
<p>Calculate <span class="math-container">\$ n \$</span> new terms.</p>
<pre><code>⊞η⁻⌈⊞ＯυΣ…⮌υ²↨¹Ｅ✂⮌η⁵Ｌη³×κ§υ×³λ
</code></pre>
<p>Calculate <span class="math-container">\$ F(n) \$</span> and <span class="math-container">\$ f(n)=F(n)-\sum_{i=0}^{\lfloor(n-5)/3\rfloor}F(3i)f(n-5-3i) \$</span>.</p>
<pre><code>Ｉ⌈η
</code></pre>
<p>Output the <span class="math-container">\$ n \$</span>th additional term. This results in the following sequence:</p>
<p><span class="math-container">$$ 1, 2, 3, 5, 8, 13, 21, 34, 53, 87, 140, 219, 359, 578, 903, 1481, 2384, 3725, 6109, 9834, 15365, 25199, 40564, 63379, 103943, 167322, 261431, 428753, 690184, $$</span></p>
<p>29 bytes for the boring version with all the values triplicated:</p>
<pre><code>Ｆ³⊞υ²ＦＮ⊞υΣ×✂⮌υ²χ³⟦⁴¦¹±²⟧Ｉ§υ±³
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iOSOxKDk_MWfBgqWlJWm6Fjf70_KLFDSMNRUCSoszNEp1FIw0rbnAYp55BaUlfqW5SalFGpoI-eDSXI2QzNzUYo3gnMzkVI2g1LLUouJUjVJNoF4dBUMDHQVjIDPaBMjWUfBLTU8sSdUw0ozV1AQaHFCUmVei4ZxYXKLhWOKZl5JaATISqsgYpGRJcVJyMdRxy6OVdMtylGIXGVlCBAA" rel="nofollow noreferrer" title="Charcoal - Attempt This Online">Attempt This Online!</a> Link is to verbose version of code. Outputs the first <code>n</code> terms. Explanation:</p>
<pre><code>Ｆ³⊞υ²
</code></pre>
<p>Start with <code>3</code> <code>2</code>s.</p>
<pre><code>ＦＮ
</code></pre>
<p>Generate <code>n</code> more terms.</p>
<pre><code>⊞υΣ×✂⮌υ²χ³⟦⁴¦¹±²⟧
</code></pre>
<p>Calculate the next term using @loopywalt/@Bubbler's formula.</p>
<pre><code>Ｉ§υ±³
</code></pre>
<p>Output the <code>n</code>th term.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 62 bytes</h1>

<pre class="lang-c prettyprint-override"><code>b,c;main(a){for(a++;;)printf(&quot;0,0,%u,&quot;,a=-2*c+(c=b)+4*(b=a));}
</code></pre>
<p><a href="https://tio.run/##BcHBCoAgDADQfxGCzU2Q6Db8mDkwPGQhdYq@fb1naTdzr2xyaB@g@LZzghKJ4DX7uBuEzJmXhwNrSWs0AisVaYtQiyLK5/4D" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>New approach to a complete program, using the f(n)=4<em>f(n-1)+f(n-2)-2</em>f(n-3) formula used in other solutions.</p>
<p>It starts outputting the sequence at 8, not 0 or 2 as the challenge states.</p>
<p>I feel like this could be improved upon even further.</p>
<h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>,  <del>74</del> <del>69</del> <del>65</del> 63 bytes</h1>

<pre class="lang-c prettyprint-override"><code>a,b,t;main(c){for(;t=b+(c+=b);printf(&quot;0,0,%u,&quot;,a=3*a+2*t))b=a;}
</code></pre>
<p><a href="https://tio.run/##BcHBCoAgDADQfxGCTRdIHWUfsw0MD1mInaJvX@/Zepi5CynNckrrYPjWa0CZrAkssWK5R@uzQsiUaXkokPAeJW1xIipL@dx/" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>After many reworks, this is what I came up with from following the same algorithm to its conclusion.</p>
<p>This implementation</p>
<ul>
<li><del>Depends on undefined behaviour (sequencing)</del></li>
<li>Is a complete program, not a fragment.</li>
<li>And computes the sequence explicitly, outputting zeros on all but every third number.</li>
</ul>
<p>It may be shorter if we loop once per number output, instead of once every three numbers.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 76 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>z=zipWith(+)
g=z((*2)&lt;$&gt;0:0:g)$z(0:g)$(*2)&lt;$&gt;scanl(+)1g
f=[x|x&lt;-g,_&lt;-[1..3]]
</code></pre>
<p>I don't really know Haskell that well, but I do enjoy loopholes. This is a direct ripoff of the code in the question, with each element repeated three times. <a href="https://codegolf.stackexchange.com/questions/264408/give-the-fools-fibonacci-sequence">Direct link for good measure</a>.</p>
<p><a href="https://tio.run/##y0gszk7Nyfn/v8q2KrMgPLMkQ0NbkyvdtkpDQ8tI00bFzsDKwCpdU6VKA0xBBYuTE/NygAoN07nSbKMraipsdNN14m10ow319IxjY//nJmbmKdgqFBRl5pUoqCiUJGanKhgbKKT9BwA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 21 bytes</h1>
<pre><code>L&amp;b+2su+@G1G3*2_%3yMb
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/30ctSduouFTbwd3Q3VjLKF7VuNI36X92mLFhpd9/AA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
<p>Defines a function <code>y</code>, which when given <code>N</code> returns the Nth term in the sequence
<span class="math-container">$$
0, 2, 2, 2, 8, 8, 8, 34, 34, 34, 140, 140, 140, 578, 578, 578, 2384, 2384, 2384, \dots
$$</span></p>
<h3>Explanation</h3>
<pre><code>L                        # define y(b)
 &amp;b                      # short circuiting and, if b==0: return 0
                  yMb    # map range(b) over y
                %3       # take every third element
               _         # reverse the list
             *2          # and double it
      u     3            # reduce range(3) over lambda G,H with the list as the starting value 
       +@G1G             #   add the second element of G to the beginning of G
     s                   # sum
   +2                    # add 2
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>16</s> 14 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>2λ‚āR*λ·«OÌ}€Ð
</code></pre>
<p>Outputs the infinite sequence starting with <span class="math-container">\$2\$</span>, where all values occur three times in a row.</p>
<p><a href="https://tio.run/##ASMA3P9vc2FiaWX//zLOu@KAmsSBUirOu8K3wqtPw4x94oKsw5D//w" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code> λ          # Start a recursive environment,
            # to output the infinite sequence
2           # Starting with a(0)=2
            # Where every following a(n) is calculated as:
  ‚         #  Pair the last two implicit values together: [a(n-2),a(n-1)]
            #  (uses a(n-2)=0 in the first iteration: [0,2])
   āR       #  Push pair [2,1]
     *      #  Multiply the values at the same positions: [2*a(n-2),a(n-1)]
      λ     #  Push a list of all terms thus far: [a(0),a(1),...,a(n-1)]
       ·    #  Double each: [2*a(0),2*a(1),...,2*a(n-1)]
        «   #  Append the lists together: [2*a(n-2),a(n-1),2*a(0),2*a(1),...,2*a(n-1)]
         O  #  Take its sum
          Ì #  And increase it by 2
 }          # After the recursive sequence has been generated:
  €Ð        # Triplicate each value in place
            # (after which the infinite list is output implicitly as result)
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <s>96</s> <s>72</s> 66 bytes</h1>
<p><em>-6 bytes, thanks to @xnor</em></p>
<pre class="lang-python prettyprint-override"><code>f=lambda n:n&gt;0and 2+3*f(n-3)+4*f(n-6)+2*sum(map(f,range(0,n-8,3)))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=NY5BCsIwEADvvmIJCEmbQGyslEB78CeRZjXQbEuaHnyLl170T_5GUHubwzDM4zXd822kdX0uGVXzPmM7uHjpHZClTjvqoSpNgZyUEeXxCydRVsW8RB7dxFEmR1fPtSTVSCOE-JcsjgkCBIKfcJCmFnYHMKVAmbOOQUAIe9O2Gvwwe2DAJPKwFbanDw" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="noreferrer">K (ngn/k)</a>, 23 bytes</h1>
<pre><code>{-2/z,x,y}/[;0;2;8] -3!
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxLs6rWNdKv0qnQqazVj7Y2sDaytohV0DVW5OJKU1dQNDPgAgCjLQgP" rel="noreferrer">Try it online!</a></p>
<p>Given <code>n</code>, returns the <code>n</code>th term (0-indexed) of the given sequence triplicated, i.e. <code>0, 0, 0, 2, 2, 2, 8, 8, 8, 34, 34, 34, ...</code>. To start with 2 instead, change <code>0;2;8</code> to <code>2;8;34</code> or replace the space with <code>1+</code> for +1 byte.</p>
<p>The OP's sequence can be simplified as follows:</p>
<p><span class="math-container">$$
\begin{aligned}
a_n &amp;= a_{n-1} + 2a_{n-2} + 2\sum_{k=0}^{n-1}a_k + 2 \\
a_{n-1} &amp;= a_{n-2} + 2a_{n-3} + 2\sum_{k=0}^{n-2}a_k + 2 \\
a_n - a_{n-1} &amp;= a_{n-1} + 2a_{n-2} - a_{n-2} - 2a_{n-3} + 2a_{n-1} \\
a_n &amp;= 4a_{n-1} + a_{n-2} - 2a_{n-3}
\end{aligned}
$$</span></p>
<p>Now we want to find a sequence whose every third term satisfies the above, i.e. the original sequence satisfies</p>
<p><span class="math-container">$$
a_n = 4a_{n-3} + a_{n-6} - 2a_{n-9}
$$</span></p>
<p>but it turns out that this recurrence is irreducible, at least in integers. So the code simply evaluates the &quot;every third term&quot; sequence at index <code>floor(n/3)</code>.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/molarmanful/sclin" rel="nofollow noreferrer">sclin</a>, 39 bytes</h1>
<pre><code>[0 2 8]&quot;dup [2_1 4] * +/ +`1dp&quot;itr flat
</code></pre>
<p><a href="https://replit.com/@molarmanful/try-sclin" rel="nofollow noreferrer">Try it here!</a> Outputs an infinite list:</p>
<p><span class="math-container">$$
0,2,8,2,8,34,8,34,140,34,140,578,140,578,2384,...
$$</span></p>
<p>For testing purposes:</p>
<pre><code>; 100tk &gt;A
[0 2 8]&quot;dup [2_1 4] * +/ +`1dp&quot;itr flat
</code></pre>
<h2>Explanation</h2>
<p>Prettified code:</p>
<pre><code>[0 2 8] ( dup [2_ 1 4] * +/ +` 1dp ) itr flat
</code></pre>
<p>Based on a simplified variant of the original equation (first found by @loopy walt and @Bubbler):</p>
<p><span class="math-container">$$
f(n)=4f(n-1)+f(n-2)−2f(n-3)
$$</span></p>
<ul>
<li><code>[0 2 8] (...) itr</code> creates an infinite series of modifications starting from 0, 2, 8
<ul>
<li><code>dup [2_1 4] *</code> vectorized-multiply each term by -2, 1, 4</li>
<li><code>+/</code> sum</li>
<li><code>+` 1dp</code> append as new term, discard oldest term</li>
</ul>
</li>
<li><code>flat</code> flatten, which conveniently also creates a 2-term gap</li>
</ul>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 51 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda n:n&gt;3and 4*f(n-3)+f(n-6)-2*f(n-9)or(n&gt;0)*2
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3jdNscxJzk1ISFfKs8uyME_NSFEy00jTydI01tUGUmaauEZhvqZlfpJFnZ6CpZQTVapWWX6SQqZCZp1CUmJeeqmGoY2yqacWloFBQlJlXoqFkp6SQmaaQqWpsa2ugkJpTnKqgpKCkk6aRqakJMQHmCAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Test harness borrowed from @bsoelch.</p>
<h3>How?</h3>
<p>Taking the difference f(n)-f(n-3) gets rid of the sum.</p>
</div>
<!-- TYYY -->

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/QNNN/">QNNN</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




