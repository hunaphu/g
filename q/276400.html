<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276400</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>214</td><td>C# Visual C# Interactive Compiler with /uSystem.Linq.Enumerable & /uSystem.String flags</td><td>241031T143226Z</td><td><a href="https://codegolf.stackexchange.com/questions/276400/solve-the-word-break-problem-in-a-single-line-of-code/276422#276422">Kevin Cr</a></td></tr>
<tr d-ix="1"><td>007</td><td>Vyxal</td><td>241031T211535Z</td><td><a href="https://codegolf.stackexchange.com/questions/276400/solve-the-word-break-problem-in-a-single-line-of-code/276434#276434">emanresu</a></td></tr>
<tr d-ix="2"><td>011</td><td>Vyxal 3</td><td>241031T184534Z</td><td><a href="https://codegolf.stackexchange.com/questions/276400/solve-the-word-break-problem-in-a-single-line-of-code/276432#276432">Ginger</a></td></tr>
<tr d-ix="3"><td>076</td><td>Charcoal</td><td>241031T171555Z</td><td><a href="https://codegolf.stackexchange.com/questions/276400/solve-the-word-break-problem-in-a-single-line-of-code/276428#276428">Neil</a></td></tr>
<tr d-ix="4"><td>012</td><td>Japt</td><td>241031T142655Z</td><td><a href="https://codegolf.stackexchange.com/questions/276400/solve-the-word-break-problem-in-a-single-line-of-code/276421#276421">Shaggy</a></td></tr>
<tr d-ix="5"><td>006</td><td>Jelly</td><td>241031T132440Z</td><td><a href="https://codegolf.stackexchange.com/questions/276400/solve-the-word-break-problem-in-a-single-line-of-code/276419#276419">Jonathan</a></td></tr>
<tr d-ix="6"><td>008</td><td>05AB1E</td><td>241031T135413Z</td><td><a href="https://codegolf.stackexchange.com/questions/276400/solve-the-word-break-problem-in-a-single-line-of-code/276420#276420">Kevin Cr</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a> with <code>/u:System.Linq.Enumerable</code> &amp; <code>/u:System.String</code> flags, <s>243</s> <s>236</s> 214 bytes</h1>

<pre class="lang-cs prettyprint-override"><code>w=&gt;d=&gt;{var t=w.SelectMany((_,j)=&gt;w.Skip(j).Select((_,k)=&gt;w.Substring(j,k+1))).Where(d.Contains);return Range(0,1&lt;&lt;t.Count()).Select(i=&gt;t.Where((_,j)=&gt;(i&amp;(1&lt;&lt;j))&gt;0)).Where(e=&gt;Concat(e)==w&amp;e.All(d.ToList().Remove));}
</code></pre>
<p>-7 bytes thanks to <em>@jdt</em>, changing the <code>.Equals(w)</code> to <code>==w</code> (which unlike Java in which I usually program, is fine in C# when comparing strings specifically) and another<br />
-22 bytes thanks to <em>@jdt</em> simplifying getting all valid substrings for variable <code>t</code></p>
<p><a href="https://tio.run/##hVNba9swFH7PrxB@KBJTveS1iQ2jbNDRMWgKfQhlyPJJrVykTJITQshfn3ckJ66TDmbQ7TvfRRcs3a10qvlWazlx3ir9xnvz2St/@KrrNVhRrGDSn7eEHD8yJ1mzy/Iyyw9bYYnPdukUViD9D6H3lP7iC5bliC3Vhi7YqRbwZYvXRWtGF3z5acQYS18qsEDL9N5oL5R2bGzB11aTJ6HfgA75aDLxWK21p6xzVFnuT9JTKFU3FKkLxvJhZwtZjr5SeAosy3Y3kH5ZrTDs2Twqh37pE6zNFhgbH5vx4BkQS3bGloUFsdxYg6dfJ1zDjpwv6ZD4SrmE44BdnM3F2tRhEpQ4RHEYsVlsgE1gi5htCSdaqAT4HHVk512IQl4Hi2AY4OgWFvJSUH5QBG6nioryQlKIf0kijPT/M88bKa74sjJKgruWhF3IcG8yXIBR2FWxD0vX14sPp5ciHrjNbA8@2BpVkqiYRh4JL/CgN7XnnZIIa8U@guwwIOTFKg@PSgNNIujuyGF4JEKXZHYYHV8T/m7y3ShNMY73PDD3wuRn7VuXJFbmBp9VVjT8HY4oTea082O074PkC6MZbgPTu0x3HYXLY/PHbLwy2jWf67vp3nlYp1j8nb7/rr1Keyt/AQ" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<p>Explanation in pseudo-code:</p>
<ol>
<li>Generate all substrings of the given <span class="math-container">\$str\$</span>, and only keep those that:
<ul>
<li>occurs in list <span class="math-container">\$d\$</span> <sup><em>†</em></sup></li>
</ul>
</li>
<li>Get all combinations of these substrings, and only keep those that:
<ul>
<li>joined together without delimiter is equal to <span class="math-container">\$str\$</span></li>
<li>all occur at least that many times in list <span class="math-container">\$d\$</span></li>
</ul>
</li>
</ol>

<pre class="lang-cs prettyprint-override"><code>w=&gt;d=&gt;{                      // Method with string and string-array parameters,
                             // and IEnumerable&lt;IEnumerable&lt;string&gt;&gt; result
  var t=                     //  Create a temp list
                             //  of all substrings of `w` that are present in `d`:
        w.SelectMany(        //   Flat-map over the characters of `w`:
           (_,j)=&gt;           //    Only use the index within `w` as `j`:
             w.Skip(j)       //    Take `w` without its first `j` characters
              .Select(       //    Map over the remaining characters:
                (_,k)=&gt;      //     Again only use the index as `k`:
                  w.Substring(j,k+1))
                             //      Take a substring of `w` starting at index `j` with a length of `k+1`
         ).Where(            //   After the flat-map, filter it by:
                 d.Contains);//    Only leave substrings that are present in `d`
  return                     //  Then return all combinations of valid substrings
                             //  where each valid substring is that many times available in `d`
                             //  and which concatenated are equal to string `w`:
    Range(0,1&lt;&lt;t.Count())    //   Create the range [0,2 to the power the size of `t`):
   .Select(i=&gt;               //   Map those values to:
     t.Where(                //    Use `t`, filtered further by:
       (_,j)=&gt;               //     Only use the index within `t` as `j`:
         (i&amp;(1&lt;&lt;j))&gt;0))      //      Check whether (2 to the power `j`) bitwise-AND `i` is NOT 0
   .Where(e=&gt;                //   Then filter this list of substrings:
     Concat(e)               //    Join them together without delimiter
      ==w                    //    and check whether this equals the given `w`
     &amp;                       //    And also check that `e` doesn't use an item in `d` too many times:
      e.All(                 //     Check that all currently used substrings
            d.ToList().Remove));}
                             //     can one by one successfully be removed from a copy of `d`
</code></pre>
<p>Sources:</p>
<ul>
<li><s><a href="https://stackoverflow.com/a/10713006/1682559">Get all substrings of a string is taken as a simplified version of this</a>. Which is <code>Range(0,w.Length).SelectMany(j=&gt;Range(1,w.Length-j).Select(k=&gt;w.Substring(j,k)))</code> in my code.</s> Now golfed by <em>@jdt</em> to <code>w.SelectMany((_,j)=&gt;w.Skip(j).Select((_,k)=&gt;w.Substring(j,k+1)))</code></li>
<li><a href="https://stackoverflow.com/a/57058345/1682559">Combinations of List is taken from here</a>. Which is <code>Range(0,1&lt;&lt;t.Count()).Select(i=&gt;t.Where((_,j)=&gt;(i&amp;(1&lt;&lt;j))&gt;0))</code> in my code.</li>
<li><a href="https://stackoverflow.com/a/52003324/1682559">List intersection with duplicated items is taken from here</a>. Which modified to an All-check is <code>e.All(d.ToList().Remove))</code> in my code.</li>
</ul>
<p>† Limitation: since C# uses unsigned integers by default and I use <code>1&lt;&lt;t.Count()</code> in my code, the maximum amount of valid substrings it can handle is <code>30</code>, which will become <code>1073741824</code>. One higher <code>1&lt;&lt;31</code> would be <code>-2147483648</code>, which gives incorrect results with the <code>Range</code>. This is also why I've added the <code>.Where(s=&gt;d.Contains(s))</code> even though it's redundant with the later <code>e.All(d.ToList().Remove)</code> check, since it otherwise wouldn't be able to handle the larger test case <code>wordbreakproblem</code>, reducing the amount of substrings 136 to the amount of <em>valid</em> substrings 16, and it would also time out for test case <code>choices</code>, reducing the amount of substrings 28 to the amount of <em>valid</em> substrings 8.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 7 bytes</h1>
<pre><code>øṖ'⁰Þ∩⁼
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJBIiwiIiwiw7jhuZYn4oGww57iiKnigbwiLCIiLCJcImJyZWFrXCIsIFtcImJyZWFrXCIsXCJiXCIsXCJyXCIsXCJlXCIsXCJhXCIsXCJrXCIsXCJiclwiLFwiYnJlXCIsXCJicmVhXCIsXCJha1wiXVxuXCJjaG9pY2VzXCIsIFtcImNcIiwgXCJjaFwiLCBcImNlXCIsIFwib2lcIiwgXCJob2lcIixcImVcIiwgXCJzXCJdIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/276419/100664">Jonathan Allan's Jelly answer</a></p>
<pre><code>øṖ      # Partitions
  '     # Where
      ⁼ # Remains the same under
   ⁰Þ∩  # (multiset) intersection with input
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3/" rel="nofollow noreferrer">Vyxal 3</a>, 11 bytes</h1>
<p>It's certainly not a marvel of efficiency.</p>
<pre><code>ṖᵛṢ1⁾Ω“¹=}u
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#H4sIAAAAAAAAClXPsQ3CMBAF0FXQr08IBJUlJrFd2GeHRAKMkkCDkGAJGqjoGIAiDQUDsEOYBJHEKDT-J_ve6bxDEvKlKSEmhNQb53MIgMDBeQjU1am-n-vqOn4fH6_b-3B5VrP9BoQkhDI2JwszLyCkJmSr9ab81hJsGCQhFdgokAI356_WIHzfWAFak4SxERjbNNm-sP_O2L5zEbbgj3fQ9aSLlNOQsS_ingo0UOC0S99myNpMm0Khuy5-X2iHNDM1YevzIgsrCEyG0-F4hP0HgoSihmYBAAA" rel="nofollow noreferrer">Vyxal It Online!</a></p>
<h2>Explanation</h2>
<pre><code>ṖᵛṢ1⁾Ω“¹=}u­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠⁪⁪⁠⁪⁪⁠⁪⁪‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌⁣​‎⁪⁪⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠⁪⁪⁠⁪⁪‏​⁡⁠⁡‌⁢⁡​‎⁪⁪⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁣⁣⁪‏‏​⁡⁠⁡‌­
Ṗ            # ‎⁡Permutations of the dictionary
 ᵛṢ1⁾        # ‎⁢Sublists of those permutations
     Ω   }   # ‎⁣Filter sublists which:
      “      # ‎⁤  joined together,
       ¹=    # ‎⁢⁡  equal the input word.
          u  # ‎⁢⁢Only unique sublists.
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 76 bytes</h1>
<pre><code>ＳθＷＳ⊞υι≔⟦⟦⟦⟧υθ⟧⟧υＦυ¿§ι²ＦΦ§ι¹∧⁼λ⌕§ι¹κ¬⌕§ι²κ⊞υ⟦⁺§ι⁰⟦κ⟧Φ§ι¹⁻μ⌕§ι¹κ✂§ι²Ｌκ⟧⟦⭆¹§ι⁰
</code></pre>
<p><a href="https://tio.run/##dZBNa8MwDIbv/RU6yuBB22tPObRQaEegR5ODk7qJqOs0sb3t33vyejGhQyBhvY8@rG7Qczdqm9LRPWO4hJlcj5PYrb4HsgawTAsBdfQDRgnEROU99Q6VUo0Ezk1NjizcxhkwCqAbYBWO7mp@kCRsuf5POpANZi6ljZBQuSvup6itRyvhQPxcEHfB7nMMuBS3L1EUC6raRl8ya2bUvRG59bvxZ3Jc8Ph3MvuLpc4s556M68OATDRiB8Z6AzVfK6B6Xe2sn7jh35WbZDQl3bZ6lS3Hli19fNlf" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>ＳθＷＳ⊞υι
</code></pre>
<p>Input the target string and list of words. (These bytes could be saved by taking the input in JSON format.)</p>
<pre><code>≔⟦⟦⟦⟧υθ⟧⟧υＦυ
</code></pre>
<p>Start a breadth-first search with no words found so far, all of the words remaining, and the entire string remaining.</p>
<pre><code>¿§ι²
</code></pre>
<p>If there is still string left to match, then...</p>
<pre><code>ＦΦ§ι¹∧⁼λ⌕§ι¹κ¬⌕§ι²κ
</code></pre>
<p>... filtering on those words that are unique prefixes of the remainder, ...</p>
<pre><code>⊞υ⟦⁺§ι⁰⟦κ⟧Φ§ι¹⁻μ⌕§ι¹κ✂§ι²Ｌκ⟧
</code></pre>
<p>Add the current word to the match list, remove one instance of it from the word list, remove it from the start of the string, and push the result to the search list.</p>
<pre><code>⟦⭆¹§ι⁰
</code></pre>
<p>Otherwise, pretty-print the matched words.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 12 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>à cá fÈ¬¶VÃâ
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=4CBj4SBmyKy2VsPi&amp;input=WyJjIiwgImNoIiwgImNlIiwgIm9pIiwgImhvaSIsImUiLCAicyJdCiJjaG9pY2VzIgotUQ" rel="nofollow noreferrer">Try it</a></p>
<pre><code>à cá fÈ¬¶VÃâ     :Implicit input of dictionary array U &amp; target string V
à                :Combinations of U
  c              :Flat map
   á             :  Permutations
     f           :Filter
      È          :Through the following function
       ¬         :  Join
        ¶V       :  Equal to V?
          Ã      :End filter
           â     :Deduplicate
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 10 </s> 6 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ŒṖœ&amp;ƑƇ
</code></pre>
<p>A monadic Link that accepts the target on the left and the word list on the on the right and yields a list of lists of words.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///opIc7px2drHZs4rH2/4eXez9qWhP5/79SYlJSotL/aKVEJR0FJAIkCqKUYgE" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (Footer prints each on its own line, space separated)<br />
Or see the <a href="https://tio.run/##tZAxDsIwDEV3ToEyICFV4iCcAFUdkjSoLS1BKQgxwsIMSFyBhbkSC0NRew@4SLCdtvQCDN92nGf/KIlK05211fn9uFaXUX2qj/Z1m0w/h/tsnHz2z7IoC2t9n221CYVRfLEyWqQqY97QZ@sozpkHCQJVc57pDRaIQ6IJzCADUiAOop5xQIPhDbbb/UHgDcCCC0lWHFdgTfN4kD0kdAzedhwxYQvJSMdS5cThRmhQVBh1jDHCxKiRd2Pc2UtOjs695yz4z7l9m3AvbJil1ktiIHaiHtMk5AL758/8Ag" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h4>How?</h4>
<pre><code>ŒṖœ&amp;ƑƇ - Link: Target; Wordlist
ŒṖ     - all partitions of {Target}
     Ƈ - keep those for which:
    Ƒ  -   is invariant under?:
  œ&amp;   -     {Potential} multiset intersection {Wordlist}
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 8 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>.œʒI1.;P
</code></pre>
<p>Inputs in the order <span class="math-container">\$str,d\$</span>.</p>
<p>Pretty slow for large <span class="math-container">\$str\$</span>, but it's still able to do all test cases simultaneously in about 35-40 seconds on TIO.</p>
<p><a href="https://tio.run/##yy9OTMpM/f9f7@jkU5M8DfWsA/7/T87Iz0xOLeaKVkpW0lFKzgARqUAiPxNIZIBJELdYKRYA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##ZY9NCsIwEIWvUrIuBdcuvIIbQQgFJ2mkQUsk9Ycu3HqAeiY3HsOLxHlTWwUX85O8b14moSXjXTp3C5W9bn2mFt1mlYrH/dmvZ8V8ma550lpdQqxMdLQ7xGD2rlG5Vsfatyrnwkm6LTXhhAY0FxlA5YgcjoM45C4OwAeDguvRvizzTCsyFg8RDNDKNA72C1RCQJsoIaoJMTQi0rL8r4zG5ke3dfDWtUDgavFPi4WD51RLxrEdeZJtLcmCgycWLd8" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-none prettyprint-override"><code>.œ       # Get all partitions of the first (implicit) input-string `str`
  ʒ      # Filter this list of partitions by:
   I     #  Push the input-list `d`
    1.;  #  Replace each first occurrence of a value in `d` in the current
         #  partition by a 1
       P #  Product, to check if all parts in the partition are now 1s
         # (after which the remaining partitions are output implicitly as result)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276400/">276400</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




