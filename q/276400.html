<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276400</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>243</td><td>C# Visual C# Interactive Compiler with /uSystem.Linq.Enumerable & /uSystem.String flags</td><td>241031T143226Z</td><td><a href="https://codegolf.stackexchange.com/questions/276400/solve-the-word-break-problem-in-a-single-line-of-code/276422#276422">Kevin Cr</a></td></tr>
<tr d-ix="1"><td>010</td><td>Japt</td><td>241031T142655Z</td><td><a href="https://codegolf.stackexchange.com/questions/276400/solve-the-word-break-problem-in-a-single-line-of-code/276421#276421">Shaggy</a></td></tr>
<tr d-ix="2"><td>006</td><td>Jelly</td><td>241031T132440Z</td><td><a href="https://codegolf.stackexchange.com/questions/276400/solve-the-word-break-problem-in-a-single-line-of-code/276419#276419">Jonathan</a></td></tr>
<tr d-ix="3"><td>008</td><td>05AB1E</td><td>241031T135413Z</td><td><a href="https://codegolf.stackexchange.com/questions/276400/solve-the-word-break-problem-in-a-single-line-of-code/276420#276420">Kevin Cr</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a> with <code>/u:System.Linq.Enumerable</code> &amp; <code>/u:System.String</code> flags, 243 bytes</h1>

<pre class="lang-cs prettyprint-override"><code>w=&gt;d=&gt;{var t=Range(0,w.Length).SelectMany(j=&gt;Range(1,w.Length-j).Select(k=&gt;w.Substring(j,k))).Where(s=&gt;d.Contains(s));return Range(0,1&lt;&lt;t.Count()).Select(i=&gt;t.Where((_,j)=&gt;(i&amp;(1&lt;&lt;j))&gt;0)).Where(e=&gt;Concat(e).Equals(w)&amp;e.All(d.ToList().Remove));}
</code></pre>
<p><a href="https://tio.run/##hVPda9swEH/PXyH8UCRwveS1jQ1jdNCRMWgKfQhlyPIllpNIqSTHhJB/fdlJrl0nHcxw@rj7fUgnLOytsPL8vVZiap2RahUP1ovX@PFB1VswPN/AdLhuARl@ZEnSc5NmRZod99wQlz5xtQI6jptkBmrlSpbMYQPC/eTqQKs0a@uTvn5bdQi6TrMmmdd5K0@reM0YS15KMEAteiTftHJcKkstY/cGXG0U6fwm06lDQK0cZb2iTDP3LkB/xxVLMypvKEIrxrJxLw5phtKCOwoseXir@cbSht1A8nWzoUXyrGfSomzyBFu9B/Q@ne9Hz4C5qNGmyA3w9c5obM02ihU0pOvgMXKltFGMEw5hteRbXfuFZ@IUyH7GMBiAwTFCzrSAd5iv@HRndWLdKXguro25F/TpoOY34pJQfGJ4bM8KjOKCkvN/UUIa4f9HdgfJr/Ci1FKAvab4UwjfN@EboCUOZRj91g75/NPtBQ8Xbj3bi4/2WhYkMOYBR/wLPKpd7eKeSbgx/BCS7Dgi5MVIBzOpgEYhae/IcXwiXBVkcZycXqP4Q@SHloqiXTzQQN8LkV@1a1WiUFlqfFZRUv/rWCIVWdJej9GhDoIvhBZ4DHTvPe21FW5P5z9656RW9vylvpsfrINtgsW35ONfHlTarvwF" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<p>Explanation in pseudo-code:</p>
<ol>
<li>Generate all substrings of the given <span class="math-container">\$str\$</span>, and only keep those that:
<ul>
<li>occurs in list <span class="math-container">\$d\$</span> <sup><em>†</em></sup></li>
</ul>
</li>
<li>Get all combinations of these substrings, and only keep those that:
<ul>
<li>joined together without delimiter is equal to <span class="math-container">\$str\$</span></li>
<li>all occur at least that many times in list <span class="math-container">\$d\$</span></li>
</ul>
</li>
</ol>

<pre class="lang-cs prettyprint-override"><code>w=&gt;d=&gt;{                          // Method with string and string-array parameters,
                                 // and IEnumerable&lt;IEnumerable&lt;string&gt;&gt; result
  var t=                         //  Create a temp list
                                 //  of all substrings of `w` that are present in `d`:
        Range(0,w.Length)        //   Create the range [0,length of `w`)
       .SelectMany(j=&gt;           //   Flat-map it to:
          Range(1,w.Length-j)    //    Map in the range [1,length of `w` minus the current `j`):
         .Select(k=&gt;             //    Map those values to:
           w.Substring           //     Substrings of `w`,
                      (j,k)))    //     starting at index `j` of length `k`
       .Where(s=&gt;d.Contains(s)); //    And only keep substrings which are in given array `d`
  return                         //  Then return all combinations of valid substrings
                                 //  where each valid substring is that many times available in `d`
                                 //  and which concatenated are equal to string `w`:
    Range(0,1&lt;&lt;t.Count())        //   Create the range [0,2 to the power the size of `t`):
   .Select(i=&gt;                   //   Map those values to:
     t.Where(                    //    Use `t`, filtered further by:
       (_,j)=&gt;                   //     Only use the index within `t` as `j`:
         (i&amp;(1&lt;&lt;j))&gt;0))          //      Check whether (2 to the power `j`) bitwise-AND `i` is NOT 0
   .Where(e=&gt;                    //   Then filter this list of substrings:
     Concat(e)                   //    Join them together without delimiter
      .Equals(w)                 //    and check whether this equals the given `w`
     &amp;                           //    And also check that `e` doesn't use an item in `d` too many times:
      e.All(                     //     Check that all currently used substrings
            d.ToList().Remove));}//     can one by one successfully be removed from a copy of `d`
</code></pre>
<p>Sources:</p>
<ul>
<li><a href="https://stackoverflow.com/a/10713006/1682559">Get all substrings of a string is taken as a simplified version of this</a>. Which is <code>Range(0,w.Length).SelectMany(j=&gt;Range(1,w.Length-j).Select(k=&gt;w.Substring(j,k)))</code> in my code.</li>
<li><a href="https://stackoverflow.com/a/57058345/1682559">Combinations of List is taken from here</a>. Which is <code>Range(0,1&lt;&lt;t.Count()).Select(i=&gt;t.Where((_,j)=&gt;(i&amp;(1&lt;&lt;j))&gt;0))</code> in my code.</li>
<li><a href="https://stackoverflow.com/a/52003324/1682559">List intersection with duplicated items is taken from here</a>. Which modified to an All-check is <code>e.All(d.ToList().Remove))</code> in my code.</li>
</ul>
<p>† Limitation: since C# uses unsigned integers by default and I use <code>1&lt;&lt;t.Count()</code> in my code, the maximum amount of valid substrings it can handle is <code>30</code>, which will become <code>1073741824</code>. One higher <code>1&lt;&lt;31</code> would be <code>-2147483648</code>, which gives incorrect results with the <code>Range</code>. This is also why I've added the <code>.Where(s=&gt;d.Contains(s))</code> even though it's redundant with the later <code>e.All(d.ToList().Remove)</code> check, since it otherwise wouldn't be able to handle the larger test case <code>wordbreakproblem</code>, reducing the amount of substrings 136 to the amount of <em>valid</em> substrings 16, and it would also time out for test case <code>choices</code>, reducing the amount of substrings 28 to the amount of <em>valid</em> substrings 8.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 10 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>à cá fÈ¬¶V
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=4CBj4SBmyKy2Vg&amp;input=WyJjIiwgImNoIiwgImNlIiwgIm9pIiwgImhvaSIsImUiLCAicyJdCiJjaG9pY2VzIgotUQ" rel="nofollow noreferrer">Try it</a></p>
<pre><code>à cá fÈ¬¶V     :Implicit input of dictionary array U &amp; target string V
à              :Combinations of U
  c            :Flat map
   á           :  Permutations
     f         :Filter
      È        :Through the following function
       ¬       :  Join
        ¶V     :  Equal to V?
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 10 </s> 6 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ŒṖœ&amp;ƑƇ
</code></pre>
<p>A monadic Link that accepts the target on the left and the word list on the on the right and yields a list of lists of words.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///opIc7px2drHZs4rH2/4eXez9qWhP5/79SYlJSotL/aKVEJR0FJAIkCqKUYgE" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (Footer prints each on its own line, space separated)<br />
Or see the <a href="https://tio.run/##tZAxDsIwDEV3ToEyICFV4iCcAFUdkjSoLS1BKQgxwsIMSFyBhbkSC0NRew@4SLCdtvQCDN92nGf/KIlK05211fn9uFaXUX2qj/Z1m0w/h/tsnHz2z7IoC2t9n221CYVRfLEyWqQqY97QZ@sozpkHCQJVc57pDRaIQ6IJzCADUiAOop5xQIPhDbbb/UHgDcCCC0lWHFdgTfN4kD0kdAzedhwxYQvJSMdS5cThRmhQVBh1jDHCxKiRd2Pc2UtOjs695yz4z7l9m3AvbJil1ktiIHaiHtMk5AL758/8Ag" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h4>How?</h4>
<pre><code>ŒṖœ&amp;ƑƇ - Link: Target; Wordlist
ŒṖ     - all partitions of {Target}
     Ƈ - keep those for which:
    Ƒ  -   is invariant under?:
  œ&amp;   -     {Potential} multiset intersection {Wordlist}
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 8 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>.œʒI1.;P
</code></pre>
<p>Inputs in the order <span class="math-container">\$str,d\$</span>.</p>
<p>Pretty slow for large <span class="math-container">\$str\$</span>, but it's still able to do all test cases simultaneously in about 35-40 seconds on TIO.</p>
<p><a href="https://tio.run/##yy9OTMpM/f9f7@jkU5M8DfWsA/7/T87Iz0xOLeaKVkpW0lFKzgARqUAiPxNIZIBJELdYKRYA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##ZY9NCsIwEIWvUrIuBdcuvIIbQQgFJ2mkQUsk9Ycu3HqAeiY3HsOLxHlTWwUX85O8b14moSXjXTp3C5W9bn2mFt1mlYrH/dmvZ8V8ma550lpdQqxMdLQ7xGD2rlG5Vsfatyrnwkm6LTXhhAY0FxlA5YgcjoM45C4OwAeDguvRvizzTCsyFg8RDNDKNA72C1RCQJsoIaoJMTQi0rL8r4zG5ke3dfDWtUDgavFPi4WD51RLxrEdeZJtLcmCgycWLd8" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-none prettyprint-override"><code>.œ       # Get all partitions of the first (implicit) input-string `str`
  ʒ      # Filter this list of partitions by:
   I     #  Push the input-list `d`
    1.;  #  Replace each first occurrence of a value in `d` in the current
         #  partition by a 1
       P #  Product, to check if all parts in the partition are now 1s
         # (after which the remaining partitions are output implicitly as result)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276400/">276400</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




