<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::279050</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>038</td><td>Jelly</td><td>250410T233954Z</td><td><a href="https://codegolf.stackexchange.com/questions/279050/efficiently-navigate-a-6-sided-die/279139#279139">Jonathan</a></td></tr>
<tr d-ix="1"><td>102</td><td>Ruby</td><td>250405T201606Z</td><td><a href="https://codegolf.stackexchange.com/questions/279050/efficiently-navigate-a-6-sided-die/279060#279060">Level Ri</a></td></tr>
<tr d-ix="2"><td>057</td><td>Charcoal</td><td>250404T115314Z</td><td><a href="https://codegolf.stackexchange.com/questions/279050/efficiently-navigate-a-6-sided-die/279055#279055">Neil</a></td></tr>
<tr d-ix="3"><td>104</td><td>JavaScript Node.js</td><td>250404T065416Z</td><td><a href="https://codegolf.stackexchange.com/questions/279050/efficiently-navigate-a-6-sided-die/279052#279052">l4m2</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 38 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>“¢ṭ⁴×tṭ‘Ä©⁸ịðiị⁽BgDŻ¤ṃ“FRB”ṄȧƲị®œ?⁸ðƒ®
</code></pre>
<p>A monadic Link that accepts a list of face numbers (not starting with <code>1</code> and without any equal neighbours) and prints to stdout as a side effect (and yields a list of numbers, which may be ignored).</p>
<p><strong><a href="https://tio.run/##y0rNyan8//9Rw5xDix7uXPuoccvh6SUgRsOMwy2HVj5q3PFwd/fhDZlA8lHjXqd0l6O7Dy15uLMZqMEtyOlRw9yHO1tOLD@2CSh/aN3RyfZADYc3HJt0aN3/w@0Pd8xP@P/fSMdQxxiITYDYFIjNdAwB" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h4>How?</h4>
<p>Permute some permutation indices :)</p>
<pre><code>“¢ṭ⁴×tṭ‘Ä©⁸ịðiị⁽BgDŻ¤ṃ“FRB”ṄȧƲị®œ?⁸ðƒ® - Link: list of integers, Faces
“¢ṭ⁴×tṭ‘                               - code page indices -&gt; [1,224,132,17,116,224]
        Ä                              - cumulative sums -&gt; [1,225,357,374,490,714]
                                             = the permutation indices of:
                                               [no-op, F, RF, RB, B, FF] from [1,2,3,4,5,6]
         ©                             - ...and copy that to the register
          ⁸ị                           - Faces indexed into {that} -&gt; P
            ð                      ðƒ® - starting with the register, reduce P by - f(Current, PValue):
             i                         -   1-index of {PValue} in {Current}
                             Ʋ         -   last four links as a monad - SideEffect(X=that):
              ị                        -     1-index {X} into:
                    ¤                  -       nilad followed by links as a nilad
               ⁽Bg                     -         17604
                  D                    -         to decimal -&gt; [1,7,6,0,4]
                   Ż                   -         prefix with a zero -&gt; [0,1,7,6,0,4]
                     ṃ“FRB”            -     convert to base three with digits 120 as FRB
                           Ṅ           -     print {that} to stdout and yield {that}
                            ȧ          -     {that} logical AND {X} -&gt; X
                              ị®       -   1-index {X} into the register
                                œ?⁸    -   permutation of {Current} at {that} index -&gt; Next
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 102 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;i{x,y,z=1,2,3
i.map{|j|k=s=&quot;&quot;;(x,y=y,7-x;k+=?F;k[3]&amp;&amp;(y,z,s,k=z,7-y,?R,&quot;&quot;))while x!=j;s+=k[2]??B:k}}
</code></pre>
<p><a href="https://tio.run/##TY7LCsIwFET3/YqaRan0VkhjKxiuARd@gNuQhYLFNgrFIjZ9fHu8FUR3M@cwMI/n2fkSfbqrhg4c9MghAxFUq/upGcZ6tNgiYzImiQ42aSdtguogrRYmimJaQAsWe1IO1BEYWy5f1@p2CbsF1rJN0OrMKLXf2mnyTVhqnUEOAnJjgk8tgEPxLcRhTQ/4z85A/COKBDhhTpLGs/Jv" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>6 bytes saved with help from l4m2.</p>
<h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 108 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;i{x,y,z=1,2,3
i.map{|j|j-=j/4*7;k=s=&quot;&quot;;z*z==j*j&amp;&amp;(y,z,s=z,-y,?R);(x,y=y,-x;k+=?F)while x!=j;s+=k[2]??B:k}}
</code></pre>
<p><a href="https://tio.run/##TY7LCsIwEEX3/YraRantRElfgmEMuPAD3JYuFCw2USgWsenj2@NUEN3NPedemMfzbGyFlu3qoQMDPXKIIXHq1f3UDKMaFUO1TsON0Nii54k@7BFVqHw/oDa02AMzII9LEdAeDbBO6AjlYfm61reL2y1QiTZCXcSllPutnibbuFVRxJBBAllZOp@YA4f8G4hDSn/wn51B8o/oJMAJc5I0npV9Aw" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>A function taking an array of face numbers and returning an array of strings. Will also handle repeat numbers in the input - If the current face is in the input, an empty string is returned.</p>
<p>The dice is represented by the vector <code>x,y,z</code> which initially contains <code>1,2,3</code> containing the top, front and right sides. If the desired face is to the left or right, we rotate about the x axis <code>y,z=z,-y</code> (always to the right.) Then we rotate forward about the z axis <code>x,y=y,-x</code> until the desired face is on top. If the number of rotations is more than 2 we output <code>B</code> otherwise we output the relevant number of <code>F</code>s.</p>
<p>Faces <code>j </code>other than <code>1,2,3</code> are represented by <code>j-7</code> and are therefore <code>-3,-2,-1</code> for 4,5,6. A vector with <code>x=-1</code> means that the 1 face is on the bottom so the 6 face represented by <code>-1</code> is on top.</p>
<p>There are some similarities between l4m2 's  code and mine but I'm not sure if they are using the same approach.</p>
<p><strong>commented code</strong></p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;i{x,y,z=1,2,3               #set up vector x,y,z with start position
i.map{|j|                     #iterate j through elements in input array i 
j-=j/4*7                      #if j=4,5,6 subtract 7 to convert to -3,-2,-1
k=s=&quot;&quot;                        #setup 2 empty strings: s for right turns, k for forward
z*z==j*j&amp;&amp;(y,z,s=z,-y,?R)     #if desired face is right or left (magnitude of j and z is equal) rotate right and s=&quot;R&quot;
(x,y=y,-x;k+=?F)while x!=j    #rotate forward until desired face on top. Add &quot;F&quot; to k each time
s+=k[2]??B:k}                 #final value is s (either &quot;R&quot; or &quot;&quot;) with k appended. If k has more than 2 F's append &quot;B&quot; instead.
}                             #return with the value returned by .map (the final values of each iteration.)
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 57 bytes</h1>
<pre><code>≔⭆⁶⊕ιηＦＳ«§⪪”＆↓⎇\`ï≧ξ,⁸” ⌕ηι→≔⭆§⪪”←⧴◨¡C·κ&lt;B✂9Ｓ!ⅈ¿” ⌕ηι§ηＩκη
</code></pre>
<p><a href="https://tio.run/##bY/NisJAEITP@hRNTj0wQnp@POgpuzAQUFj0CUIyJoNxEpJZWRCffZxl8bJ6KKiC5uuququmeqj6GIt5dq3HY5icb/fViGsOpa8ne7E@2AYdYxw6tl2ehgmw9ON3@LtFxuC2XHwlH7AIpW/sDx7H3gXMjAEDBwM7Ax8ZhwyyBDHON9hxSMSEW@yHq8XNwbVd@I0vPf4htRKSciAtZK5AaEW5BKlJ5QKSknv3iMMTk/JnNQc8s@ege4yCJCnStKa4uvYP" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔⭆⁶⊕ιη
</code></pre>
<p>Start with the six digits.</p>
<pre><code>ＦＳ«
</code></pre>
<p>Loop over the input.</p>
<pre><code>§⪪”＆↓⎇\`ï≧ξ,⁸” ⌕ηι→
</code></pre>
<p>Output the move that will bring the ant to the desired digit.</p>
<pre><code>≔⭆§⪪”←⧴◨¡C·κ&lt;B✂9Ｓ!ⅈ¿” ⌕ηι§ηＩκη
</code></pre>
<p>Update the ant's position and direction.</p>
<p>As far as I can tell, local optimal is also global optimal. In any given position, <code>F</code> and <code>B</code> can only allow you to visit four of the six digits; you'll need to turn to reach the other two, which you might as well do immediately as the best that taking an extra <code>F</code> or <code>B</code> can do is to save you a single turn later on. For example, <code>32</code> might as well be <code>RF LF</code> as <code>FRF B</code> is the same length. But just in case you aren't convinced, I wrote a program that definitively finds the globally optimal solution, although it is 50% longer, and a lot slower of course:</p>
<pre><code>⊞υ⟦Ｓ⭆⁶⊕ιω⟧ＦυＦＥＥ∧¬ⅈFBR⟦§ι⁰⭆§⪪”)⊟}↓＆≕Ｇ*”⁶λ§§ι¹Ｉμ⁺§ι²κ⟧⎇⌕§ι⁰§§κ¹¦⁰κＥκ§⟦Φμπμ⁺μ ⟧ν¿⌊κ⊞υκ⊟κ
</code></pre>
<p><a href="https://tio.run/##XVBNa8MwDL3vVwifZPAg35eeukEgh42w7jAIOYTEbU0cJzjOPn59Jq8L62qQn6z3/CTUnhvbjo1e13KZz7gIqAozLe7grDIn5AIu2VMzYSagMK2VgzROdqg4sR81390dRwu4cPhBr/SxNx0@jw7f0OtY/vDCCKu9K0wnP1EJCP65b8Rh0sohC9MoDpIkiOI0DKIkjFMmIKMfmmLTXpmFVH5sZocD9/1KvczXdES1ntd0v0prGvuFuaIBb6a59e0vvoF3pNyP2f@pqlxpJy0OAiYSDL9dCRkwXgsw3B9QR9qKMmpYBuzpvW265zuQepZQ0g4cluPk6d26ZmkSR@F6/66/AQ" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs a trailing space. Explanation:</p>
<pre><code>⊞υ⟦Ｓ⭆⁶⊕ιω⟧Ｆυ
</code></pre>
<p>Start a breadth-first search with the input as the faces left to visit, the current die position, and the moves taken.</p>
<pre><code>ＦＥＥ∧¬ⅈFBR⟦§ι⁰⭆§⪪”)⊟}↓＆≕Ｇ*”⁶λ§§ι¹Ｉμ⁺§ι²κ⟧⎇⌕§ι⁰§§κ¹¦⁰κＥκ§⟦Φμπμ⁺μ ⟧ν
</code></pre>
<p>If no solution has been found, then for each of the moves <code>FBR</code> (<code>L</code> isn't needed, as you can just flip all of the letters starting at that <code>L</code>, e.g. <code>FF F LF</code> can be <code>FF F RB</code>), calculate the new die position, and then remove the next face if possible.</p>
<pre><code>¿⌊κ⊞υκ⊟κ
</code></pre>
<p>If this is not a solution then add it to the search list otherwise print the moves taken.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://nodejs.org" rel="noreferrer">JavaScript (Node.js)</a>, 104 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.map(g=t=&gt;t-H?([H,F]=t-F?t+R-7&amp;&amp;t-R?[7-F,H,'B']:[H,R,'R',R=7-F]:[F,7-H,'F'])[2]+g(t):'',H=1,F=2,R=3)
</code></pre>
<p><a href="https://tio.run/##JZBPi4MwEMXv/RQ5NZEmKfEvdImCh8HDsodcXaGutbKLrWKzi9/eHZOZQMh7v8mD@Wn/2le3fM9WPKdbv931tup8lY92ZoO2OreiKlhdcWi0FVDYkxHZ8WiFKepMAK84LWlzQcBwaig3GlV8A88EekCboA6b08BscKGUV1px0CFiUbC9XQ8HghUmUUJ0ToAAEAOkdGqqUieCP06LkjhUu2ocuLfxTprEkbd2mry7qRJvn6AiFatEpZ5AY4/B9nn791e59PPYdj07f95O54ET3EM3PV/T2MtxGtjKyZ3VUsq1cdv5@H189UuAtf0D" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Never turn left. It's useless.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/279050/">279050</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




