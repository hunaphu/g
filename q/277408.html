<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::277408</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>092</td><td>Retina</td><td>241228T062450Z</td><td><a href="https://codegolf.stackexchange.com/questions/277408/determine-if-two-trees-are-equal-in-the-free-quandle/277426#277426">Neil</a></td></tr>
<tr d-ix="1"><td>120</td><td>Charcoal</td><td>241228T220906Z</td><td><a href="https://codegolf.stackexchange.com/questions/277408/determine-if-two-trees-are-equal-in-the-free-quandle/277429#277429">Neil</a></td></tr>
<tr d-ix="2"><td>392</td><td>Python3.10</td><td>241228T013733Z</td><td><a href="https://codegolf.stackexchange.com/questions/277408/determine-if-two-trees-are-equal-in-the-free-quandle/277421#277421">Ajax1234</a></td></tr>
<tr d-ix="3"><td>261</td><td>Python</td><td>241227T114654Z</td><td><a href="https://codegolf.stackexchange.com/questions/277408/determine-if-two-trees-are-equal-in-the-free-quandle/277418#277418">Albert.L</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, <s>97</s> 92 bytes</h1>
<pre><code>\d+
0$(*)2
{`{(\w+)&lt;(\w+)}
$1$2$^$1
)`{(\w+)&gt;(\w+)}
$^$2$1$2
¶.+
$^
+`(\d)(_+)(\d)\3\2\1

^¶
</code></pre>
<p><a href="https://tio.run/##lU/NaoQwEL7PU2QhLZMGxIkiCpqXaG9NXQvbQy89LIUexNfaB9gXszOjgaWXpZc48/3N5/nj@/PrndYHPD9PxQAvEzozzcsRCv/ax7fCw2wflzWdPJQWn1yAeZox/XjX67uAJRvsaAncTsRMjEwwCdcLx9gR/ITp5PDonXxTlUIigPF6WVcqTW@QAr@VM8PAsyAUnOKl4oBkovDRdJtGJlmx0gnEr3PQkAq2yFo0PDFUQ63WKsMVUCuXWoGphdCJXfND9zcQ94K8A/L53mhB0g6yqoCcim/2@2JE3uJG7j99o1BL2HzCOyBz4AsBKEvZdNhuChizVUDu2uTYRoAm8829Zof/NJMY9ws" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Link is to test suite that mostly converts from the given format to what the program wants, which is expressions separated by newlines, fully parenthesised using <code>{}</code>s instead of <code>()</code>s and no spaces. Explanation: Port of @Albert.Lang's Python answer.</p>
<pre><code>\d+
0$(*)2
</code></pre>
<p>Convert integers to unary, wrapping them in markers. Wrapping Retina's <code>*</code> operator in <code>$()</code> makes its arguments default to <code>$&amp;</code> and <code>_</code> respectively, or I could have just written them out as <code>0$&amp;*_2</code>. (My previous answer wanted to repeat <code>1</code>, but this caused a problem because Retina tokenises numbers as a single token so e.g. <code>10*10</code> becomes <code>10101010101010101010</code> but <code>2*_2</code> becomes <code>__2</code>.)</p>
<pre><code>{(\w+)&lt;(\w+)}
$1$2$^$1
</code></pre>
<p>Convert <code>{a&lt;b}</code> into aba⁻¹, where <code>a⁻¹</code> is just the reverse of <code>a</code>.</p>
<pre><code>{(\w+)&gt;(\w+)}
$^$2$1$2
</code></pre>
<p>Convert <code>{a&gt;b}</code> into b⁻¹ab.</p>
<pre><code>{`
)`
</code></pre>
<p>Repeat the above until all of the operators have been processed.</p>
<pre><code>¶.+
$^
</code></pre>
<p>Invert the second expression.</p>
<pre><code>+`(\d)(_+)(\d)\3\2\1

</code></pre>
<p>Cancel out any <code>a⁻¹a</code> or <code>bb⁻¹</code> patterns.</p>
<pre><code>^¶
</code></pre>
<p>Check that everything was eliminated.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 120 bytes</h1>
<pre><code>Ｆ²«≔υζ≔⟦⟦⁰⟧⟧υＦ⁻Ｓ(≡κ)«≔⊟υι≡⊟υ&lt;⊞υ⁺⁺§υ±¹ι±⮌⊟υ⊞υ⁺⁺±⮌ι⊟υι»¿›κ9⊞⊞Ｏυκ⟦⁰⟧⊞§υ±¹⁺×⊟§υ±¹χＩκ»≔⁺⊟ζ±⮌⊟υυＷ⌊ΦＬυ∧κ⁼§υ⊖κ±§υκ≔Φυ∧⁻λι⁻λ⊖ιυ¬υ
</code></pre>
<p><a href="https://tio.run/##fVJNa8JAED3rr1g8zYIF461VBOkXQmul7U08hDiaxTWx@6HF4m9PZzYx2mIbwpJ5mffmzcwmaWySPNZFsciNgK4UX83G0Fq1zMC3xV726nA67cxmbeEZCsnPKvMWRtnGuzdnVLYE2RYtaEkp7E65JBWwCnpJbFG0ZOuGg6PcJN@AJ4JivcaRUKKBVdH6RJt4m7KdiaaC4Ri6UTbHTwbHuIwdQiSDWB2/4haNxaMiPVxnjovYa3dJ8hdPsV5FZuFAPzT5rUXUQsCjQaIZWFHv19x7UObjZYMmdrnhMivSoPnJnkBNXYWcP3oIZt7VGm3wfjGL0qIOHbexdTTkYO7QPDSPsw1NEXn/zzzKVe5SpTHsUq39Gh6U5maeMFu6NOxnmM25t/sPH@sfc7/DxOAaM4dztlAXOktZyfIRla9K3Zeq5f3R5dbq4FxWnXxO6II5GOeOzfeKAgCiflf2IzmgD@j2eSqCUOgOCKM/J3hAGESESVlcbfU3" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes two space- or newline-separated fully parenthesised inputs without spaces. Explanation: Another port of @Albert.Lang's Python answer.</p>
<pre><code>Ｆ²«
</code></pre>
<p>Loop through each input.</p>
<pre><code>≔υζ
</code></pre>
<p>Save the previous pass, if any.</p>
<pre><code>≔⟦⟦⁰⟧⟧υ
</code></pre>
<p>Start parsing with no positive integer so far.</p>
<pre><code>Ｆ⁻Ｓ(
</code></pre>
<p>Loop though the next input but ignoring <code>(</code>s as both operators are binary.</p>
<pre><code>≡κ)«
</code></pre>
<p>If the next character is a <code>)</code>, then:</p>
<pre><code>≔⊟υι
</code></pre>
<p>Get the operator's RHS <code>b</code>.</p>
<pre><code>≡⊟υ&lt;
</code></pre>
<p>If the last operator was a <code>&lt;</code>, then...</p>
<pre><code>⊞υ⁺⁺§υ±¹ι±⮌⊟υ
</code></pre>
<p>... pop the LHS <code>a</code> and push <code>aba⁻¹</code>.</p>
<pre><code>⊞υ⁺⁺±⮌ι⊟υι
</code></pre>
<p>Otherwise pop the LHS <code>a</code> and push <code>b⁻¹ab</code>.</p>
<pre><code>»¿›κ9⊞⊞Ｏυκ⟦⁰⟧
</code></pre>
<p>Otherwise if the next character is <code>&lt;</code> or <code>&gt;</code> then push it and start parsing another positive integer.</p>
<pre><code>⊞§υ±¹⁺×⊟§υ±¹χＩκ
</code></pre>
<p>Otherwise continue parsing the current positive integer.</p>
<pre><code>»≔⁺⊟ζ±⮌⊟υυ
</code></pre>
<p>Invert the second input and concatenate it to the first input.</p>
<pre><code>Ｗ⌊ΦＬυ∧κ⁼§υ⊖κ±§υκ
</code></pre>
<p>While the result contains two consecutive values which are negations of each other...</p>
<pre><code>≔Φυ∧⁻λι⁻λ⊖ιυ
</code></pre>
<p>... cancel (remove) those two values.</p>
<pre><code>¬υ
</code></pre>
<p>Check whether all of the values could be cancelled.</p>
</div>
<div id="pu2" class="pu"><h1>Python3.10, 392 bytes</h1>
<p>Perfect use case for <a href="https://peps.python.org/pep-0622/" rel="nofollow noreferrer">match-case</a>.</p>
<pre class="lang-py prettyprint-override"><code>lambda a,b:f(a)in[b,f(b)]
def f(a,p=[]):
 match a:
  case[b,0,[c,1,B]]if b==B:l=c
  case[[b,0,c],1,B]if f(b)==f(B):l=f(c)
  case[b,0,[c,0,B]]if b==B:l=[[b,0,c],0,B]
  case[b,0,[c,0,d]]if'['!=str(b)[0]:l=[[b,0,c],0,[b,0,d]]
  case[[b,1,c],1,d]:l=[[b,1,d],1,[c,1,d]]
  case[b,_,B]if b==B:l=b
  case _:l=a
 return l if'['!=str(l)[0]else(U if(U:=[f(i)for i in l])==l or U in p+[a]else f(U,p+[U]))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=lVPBjtMwEBXitP6KaS-xqXcVp6VqozqHHvYGt57SaOWkCRspTaPERYsod_6BSyUEH8XXMLaTVReEKi7pmzdvZt7Y7refzSf9eKjP3-_l9sdRF7eLX6--Vmqf7hQonoYFVays45QXNGUJ2eUFIMUbGScsJLBXOnsEhQgy1eWo83mcccHXSVIWkEq5DiuZDWmbzxKbL02nlElZ0DVDUUEz9kcb_2Wb53LD_yXdGakXeyPZ6RYbx37yssYiVF2YEc7MblAaiB-7wYUy5Q_OcG8k7RPwgIEi0Ob62NZQwYWByhjIqy6nG6TpJpRxQUtWHFoooURxgqtXgOHGhM0kVlaOh7LhGG0SxvoLef2u3DeHVuMcewGNarFth-d_00_WOAKqvKY6lPlHVVG0MWnzu-6YUm9LT1t22kan7crj0N_tU_jZo16IOg4eQ5AYECHA1Q1cGehz70v8dPehPRwbyhIOHZugkrFIgDWrcUlCNEgYj8dE-LACKgL8ThlIidgwImCW9y1PqIDI5CNYOo1BJqRTi4iptziwTabEtZwZDSKkZmRmS6cDPSViYSYtDC0WJFiacts_WA4NV31D2hvEmFAKwiWw2powoVUI1u9wQaD-mpxiFLlkv_eFwpYErs7kGTHnRrQYThBG6D8gYijEFoaxXoUrtpORRPPzYcjcEPMhP7_mc_Q_PlfWpzP6_HyLstJ5S98f6pzru66pSo0vrcanga9ScUhxoXLgzbl4jNw0bVlrek_dA1aMO5DiPOJy3q335q3P_jFHXB00uj6IuH_V-ex-fwM" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 261 bytes</h1>
<pre class="lang-python prettyprint-override"><code>import re
l=lambda a,b:f'{a} {b} {a[::-1]}'
g=lambda b,a:f'{a[::-1]} {b} {a}'
f=lambda P,o=' ':f(P[1:],o[::-1]+eval(re.sub('(\\d+)','&quot;\\1.&quot;',P[0]))+' ')if P else o!=(o:=re.sub(r&quot; (\.?)(\d)&quot;+8*r&quot;(\d?)&quot;+r&quot;(?:\. \.| )\9\8\7\6\5\4\3\2\1 &quot;,&quot; &quot;,o))and f([],o)or' '==o
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=lVFBjptAENQecplXdLjQE2PWA46DUbA_sAffPZY1xOAgsQwCHCVy_JJcfMn-Jg_I_iP39AwgWUmkVQ5Y1dVV3TXtb0_1l-6jrq7X76cun0bPd6-Kx1o3HTQZK5NSPaYHBcpL49w9qwucU_rUNo6nYndx2XFUpJ6yiqEz6EiRj4qNpxMX3DjHzVbEO0_30kn2SZXYZH57StFFKQ8T7nquI6XwHdfbbGc7zidk5EUOG8jKNgP9OkEdJ4OpcQClv-YoD9yZRG8ah9CaIIF1LH2Q_lfgcikj-U4u5Fs5l6EMpADHc-jTnKvqADluKRPXDa1KEt1f4-evD6VqW1Cnz9h2DY8ZHLIc9vuy2--xJX3cZN2pqawid0o8txfvrC_c4aP0-G_p8Vaa6wYeoKhA11mFM7OHTg4JmCfWZdGhA35CYf-6kxlmbuVQ8cB9ClnUyGm5IjdVaM-rDJPeMqlh6qaoOqRNnjtduR6dgDCdu3_89fnuh5jBe0AR0G_IIUkIG0YE3PIzyzMUsDL9FSx7jUGmxNAiZvwWB3ZIyPqRc6MhRNScza01HOmQichsigwtIhYsjd3OD5Z_DsQhINUMEQRVNqGwIUxpFYIPb7ghSP-SHKla9c3h3TcKawl6n-lzJuCeEgdMjFIyGcYgJnq53UUkxV2MYxeGWIz9xUvJ7v8nmRkz_K2_AQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes positive integers as atoms and a Polish-ish function notation <code>l(a,b) ~ (a&lt;b) ; g(a,b) ~ (a&gt;b)</code> to represent the input trees.</p>
<p>I'm sure the code can be streamlined ...</p>
<h3>How?</h3>
<p>Wikipedia says one example of this structure is group conjugation (in the free group). So I translate inputs like <span class="math-container">\$(a &lt; b)\$</span> to something like <span class="math-container">\$ab a^{-1}\$</span>. What we gain by this is that expression normalisation is extremely simple: adjacent inverses cancel and that's it.</p>
<p>Products are written as space separated juxtaposition.
I'm adding a dot at the end of each integer. That way the inverse in the free group can be represented by string reversal for both single integers and products. And normalisation can be done by finding and eliminating two word palindromes.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/277408/">277408</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




