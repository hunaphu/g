<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276858</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>215</td><td>JavaScript V8</td><td>241126T143307Z</td><td><a href="https://codegolf.stackexchange.com/questions/276858/frogs-on-lily-pads-want-to-make-a-party/276861#276861">Arnauld</a></td></tr>
<tr d-ix="1"><td>240</td><td>Haskell</td><td>241126T154839Z</td><td><a href="https://codegolf.stackexchange.com/questions/276858/frogs-on-lily-pads-want-to-make-a-party/276865#276865">colossus</a></td></tr>
<tr d-ix="2"><td>369</td><td>Python3</td><td>241126T143701Z</td><td><a href="https://codegolf.stackexchange.com/questions/276858/frogs-on-lily-pads-want-to-make-a-party/276862#276862">Ajax1234</a></td></tr>
<tr d-ix="3"><td>085</td><td>Charcoal</td><td>241126T135018Z</td><td><a href="https://codegolf.stackexchange.com/questions/276858/frogs-on-lily-pads-want-to-make-a-party/276859#276859">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 215 bytes</h1>
<p>Quite long, but fast (to some extent).</p>
<pre class="lang-none prettyprint-override"><code>n=&gt;(F=(a,g=a[n*n]=n,i=-1,k=a.find(x=&gt;x&gt;!!++i))=&gt;k?(g=j=&gt;--j+k&amp;&amp;g(j,a[i+j]||F(b=[...a],b[b[i+j]=j*=j&gt;0||-1,i]-=j)))(k):F[s=/1(.*1)?/.exec(a.join``)[0]]||print(F[s]=F[[...s].reverse().join``]=s))(Array(n*n*2).fill(0))
</code></pre>
<p><a href="https://tio.run/##TY7LasMwFET3/QoFSrjXDyXOopSm16EbL/sDQmDZlY1kIwfZGJc43@6qoYuuBmYOh7FqVmPtzXVK59etoc1RDgWBSlpSwkVOkksMpVnSkeKNcV@wUL7ku10cG0TKuwu0ZClPUxt3@30LNlHCxFauawEVCc65kkklqkdJNiKbH9c1CI1MySIidPhWiJEOGfAow8uB60XXoLgdjCtLFEcZZFdv3ASBk1SIX@soudez9qMG/EMljUH34b36hnA9OmF43PdwRNyawUOvJ@YYsewc4p3YS8g4RnZ7Yqwe3Dj0mvdDC@VngJ5v7l7iOUwNuEf@R0Jx334A" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<p><a href="https://tio.run/##LZBNasMwEIX3PYUKJYwsW7G7Kk1HoRsvewEhaiWVjWQjB9mElDhndyehqzc/j483E@zZTsfkT3NxfltPyceZIftmqNgsxI61uEZUUCPYvEOrYxYNxtxjUeU9Wtn6@AMXVBf1/CyE5xxVv4cOA6qiCKLfbDoIudVeBLMsNRxQSymtyQ/68BhiyDCoclkI6E2BgXMOPX@v9YTbCmRW8f1Wuos7gpVh9LFpuC4NwR5hgXwGa32nTkYmd3ZpcsD/rQYnwn2mZH@BomevnBIPA5Scr@2YYHAzi3RwtSP5IC2pEIKz6xNj909Q30LkO2qPY5zGwclh7KD5ot3LNd5YoUjnW0OW2/oH" rel="nofollow noreferrer">Check the number of solutions up to n=10</a></p>
<h3>Method</h3>
<p>As illustrated on the <a href="https://oeis.org/A378004" rel="nofollow noreferrer">OEIS page</a>, we start with all frogs in a single place and make a tree of all possible reverse moves with a breadth-first search:</p>
<pre><code>                     _____________4____
                    /             |    \
               ___3001___        202    13
              /   |  |   \      /   \    |
        201001 12001 2101 1021 1102 112 121
       /   |     |         |    |
1101001 111001 11101      1111 11011
</code></pre>
<h3>Implementation</h3>
<p>We start with an array of size <span class="math-container">\$2n^2\$</span> filled with 0's, except the entry at position <span class="math-container">\$n^2\$</span> (0-indexed) which is set to <span class="math-container">\$n\$</span>.</p>
<p>At each iteration, we look for the first value <span class="math-container">\$k&gt;1\$</span> in the array and try to move <span class="math-container">\$1\$</span> to <span class="math-container">\$k-1\$</span> frogs from there to empty lily pads, in both directions.</p>
<p>Once there are only 0's and 1's remaining in the array, we trim the leading and trailing 0's and check whether the resulting pattern was already encountered. If not, we print the pattern and save it along with its reversed counterpart, so that neither is printed again.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 240 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>g.h.pure
h l|all(&lt;2)l=[show=&lt;&lt;l]|m&lt;-length l-1=[r|(i,k)&lt;-zip[0..]l,k&gt;1,j&lt;-[1..k-1],d&lt;-[i+j,i-j],d&lt;0||d&gt;m||l!!d&lt;1,r&lt;-h[last$0:[l!!x|elem x[0..m]]++[k-j|x==i]++[j|x==d]|x&lt;-[min 0 d..max d m]]]
g(a:r)=a:g(filter(`notElem`[a,reverse a])r)
g e=e
</code></pre>
<p><a href="https://tio.run/##HZDBboQgFEX3fgWTzEIjEG26MjC7fgVDMmRARB9qwE5Nw7fX4uzOu@/mLO6g4mQAjj4sNvL7YelA1@9gigFBUgAl@6iAizgsP5wxkMkzAma2W/6TlouQSoenipFft4qGUgl4urV4ZES0lE6klVhndvWIHRnPo0lJ33xKcLlo1uLAyCBAxe3adCJnezJgPNpPmZeyrsVExrRz7k5@k5Zpz07vZtQgnWtqRxrlsixsqbpQcdXZsnewmVA@5mX7ysaHUDiYlwnRICWrUBUWGW4Or9zM1@DmDV3RewX0efw9e1A2HuS5rv8" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Starts with a party and backtracks to find all possible starting positions.</p>
<p>The <code>h</code> function takes a list of frog counts and returns a list of starting positions that can lead to that position. First we check if all the frogs are alone; if so we simply return the input as binary string in a singleton list. Otherwise we iterate over each position that has <code>k</code> frogs (where <code>k</code> is at least 2) and send <code>j</code> of them <code>j</code> positions left or right (where <code>j</code> is at most <code>k-1</code> so we always leave at least one frog behind) as long as the landing spot is empty. Then we recur with that new position.</p>
<p>Finally all we have to do is filter out all the repetitions.</p>
</div>
<div id="pu2" class="pu"><h1>Python3, 369 bytes</h1>
<pre class="lang-py prettyprint-override"><code>def f(n):
 q,s,r=[([],n,0)],[],[]
 for a,b,t in q:
  if b:q+=[(a+[1],b-1,0)]
  if t&lt;n-1 and b and a:q+=[(a+[0],b,t+1)]
  if b==0 and a[::-1]not in s:
   s+=[a[::-1],a];Q,S=[a],[a]
   for u in Q:
    if u.count(0)==len(u)-1:r+=[a];break
    for i,j in enumerate(u):
     for I in[-1,1]:
      if 0&lt;=(V:=I*j+i)&lt;len(u)and u[V]:U=[*u];U[i]=0;U[V]+=j;Q+=[U];S+=[U]
 return r
</code></pre>
<p><a href="https://tio.run/##PY/BboQgEIbvPsUcZcVG0jZpUB5gj2bjXsgcsItZbIuKcujTW8DdJoQB5vv/@Zl/t/tkXz9mt@83PcCQW8IzWOhKnZC5RGppRZDKuDIYJgeK9nQDY2EJIJgBer4UgVWFZEj7kkXB0dkaWzJQ9gZ92tU/WWF0KdiT7IWoDkRyXjK0UxqxxhGwBtHjnSqsW3oJ9xBIRXHK5CPcJji6@ZfPydstr4gQ39rmnpSMu@iCde@0@kpgFBo6Rqm2/kc7temAHi6pew49GT7E8PEYzatG5FcuzqexMKQ57GNyL6/IOyFPHutOGhRVKFcsxFi3YXSH9SWVDJzevLPg9tmZkHLI3wjJnud3QvY/" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 85 bytes</h1>
<pre><code>ＮθＦΦＥＸ²Σ…⁰⊕θ↨⊕⊗ι²›⁼θΣι‹ι⮌ι«≔⟦ι⟧υＦυ«≔⌕ＡＸ⁰κ⁰ηＦηＦΦη⁼§κλ↔⁻λμ⊞υＥκ⎇⁻ξμ∧⁻ξλν⁺ν§κλ»¿⊙υ№κθ⟦⪫ιω
</code></pre>
<p><a href="https://tio.run/##TVBNb8IwDD3Dr/DRlTIJIe20U/fBxDQmxHZDHAI1NCJ1aNLwoYnf3jmFCSI5if38nl@yKrVfOW3bdsy72HzFakke6@ypv3YecGRsI/lE73DqDnIbKviOFc40bwgHCsa88lQRN1QIS5aCZx0I7@uvLi6tnCahw7S9e9JJ962O2gasL6Id/kkhoFEwoz15ETJJNIPffi8PwWwY52ahIIrBXucwdtg/ODJc5NZezYq/rUgOJMpEuDDKDO7fViq42sibMRd0xK0CK5R8GZyNDeHEcAxoFVQXL9MYSowK0q9I7w951v50bTumNiFzcSskNZaYWslZwPtBaYm3c79n1oA5n5L0i4vcJLzuBnoj2fzDGU5fc8gWwji37WP7sLd/" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｎθ
</code></pre>
<p>Input <code>n</code>.</p>
<pre><code>ＦΦＥＸ²Σ…⁰⊕θ↨⊕⊗ι²›⁼θΣι‹ι⮌ι«
</code></pre>
<p>Make bit strings of up to length <code>1+T(n)</code> (<code>n²</code> would save 2 bytes but take too long on TIO) which both start and end in <code>1</code> plus have <code>n</code> bits in total and do not already appear as a reversal.</p>
<pre><code>≔⟦ι⟧υＦυ«
</code></pre>
<p>Start a breath-first search for parties.</p>
<pre><code>≔⌕ＡＸ⁰κ⁰η
</code></pre>
<p>Find the list of valid sources and destinations.</p>
<pre><code>ＦηＦΦη⁼§κλ↔⁻λμ
</code></pre>
<p>Find those sources and destinations that are an exact hop away.</p>
<pre><code>⊞υＥκ⎇⁻ξμ∧⁻ξλν⁺ν§κλ
</code></pre>
<p>Calculate the position after the hop and add it to the search list.</p>
<pre><code>»¿⊙υ№κθ
</code></pre>
<p>If any position is a party, then...</p>
<pre><code>⟦⪫ιω
</code></pre>
<p>... output the original bit string.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276858/">276858</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




