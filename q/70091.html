<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::70091</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>027</td><td>Haskell + hgl</td><td>240117T224833Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/269324#269324">Wheat Wi</a></td></tr>
<tr d-ix="1"><td>028</td><td>Perl 6</td><td>160125T032644Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70101#70101">Brad Gil</a></td></tr>
<tr d-ix="2"><td>nan</td><td>Perl 5</td><td>240117T170155Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/269314#269314">Xcali</a></td></tr>
<tr d-ix="3"><td>008</td><td>05AB1E</td><td>220110T110923Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/240838#240838">Kevin Cr</a></td></tr>
<tr d-ix="4"><td>056</td><td>Haskell</td><td>220109T141853Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/240794#240794">Wheat Wi</a></td></tr>
<tr d-ix="5"><td>078</td><td>Haskell</td><td>220109T055235Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/240782#240782">Madison </a></td></tr>
<tr d-ix="6"><td>061</td><td>Factor</td><td>220109T083038Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/240786#240786">chunes</a></td></tr>
<tr d-ix="7"><td>179</td><td>Racket</td><td>161005T233219Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/95423#95423">rnso</a></td></tr>
<tr d-ix="8"><td>016</td><td>APL</td><td>160627T150801Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/83895#83895">lstefano</a></td></tr>
<tr d-ix="9"><td>017</td><td>Seriously</td><td>160125T032113Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70100#70100">quintopi</a></td></tr>
<tr d-ix="10"><td>047</td><td>TIBASIC</td><td>160126T234108Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70256#70256">lirtosia</a></td></tr>
<tr d-ix="11"><td>009</td><td>Pyth</td><td>160125T024744Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70094#70094">lirtosia</a></td></tr>
<tr d-ix="12"><td>056</td><td>PowerShell</td><td>160125T163655Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70140#70140">AdmBorkB</a></td></tr>
<tr d-ix="13"><td>008</td><td>Jelly</td><td>160126T010019Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70185#70185">Dennis</a></td></tr>
<tr d-ix="14"><td>055</td><td>JavaScript ES6</td><td>160125T045014Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70104#70104">jrich</a></td></tr>
<tr d-ix="15"><td>034</td><td>JavaScript ES6</td><td>160125T092749Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70112#70112">Neil</a></td></tr>
<tr d-ix="16"><td>224</td><td>C#</td><td>160125T141409Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70127#70127">Dmitry S</a></td></tr>
<tr d-ix="17"><td>120</td><td>Ruby</td><td>160125T163912Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70141#70141">Connor C</a></td></tr>
<tr d-ix="18"><td>017</td><td>CJam</td><td>160125T152914Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70132#70132">Sp3000</a></td></tr>
<tr d-ix="19"><td>010</td><td>awk</td><td>160125T135010Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70126#70126">Rainer P</a></td></tr>
<tr d-ix="20"><td>036</td><td>Mathematica</td><td>160125T124952Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70124#70124">Martin E</a></td></tr>
<tr d-ix="21"><td>063</td><td>R</td><td>160125T124025Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70123#70123">lambrusc</a></td></tr>
<tr d-ix="22"><td>020</td><td>MATL</td><td>160125T115311Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70119#70119">Luis Men</a></td></tr>
<tr d-ix="23"><td>063</td><td>Mathematica</td><td>160125T120113Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70120#70120">LegionMa</a></td></tr>
<tr d-ix="24"><td>018</td><td>J</td><td>160125T113155Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70117#70117">randomra</a></td></tr>
<tr d-ix="25"><td>177</td><td>C#  177 Bytes</td><td>160125T113601Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70118#70118">Stephan </a></td></tr>
<tr d-ix="26"><td>057</td><td>Python</td><td>160125T102909Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70116#70116">xnor</a></td></tr>
<tr d-ix="27"><td>092</td><td>R</td><td>160125T034630Z</td><td><a href="https://codegolf.stackexchange.com/questions/70091/remove-every-n-th-n/70102#70102">mnel</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a> + <a href="https://gitlab.com/wheatwizard/haskell-golfing-library" rel="nofollow noreferrer">hgl</a>, 27 bytes</h1>
<pre><code>gj&lt;&lt;fn(by**(ce~&lt;gj)$gj)&lt;pxn
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708I7E4OzUnZ8FNxczcgvyiEoXC0sSczLTM1BSFgKLUnNKUVC6oRMDS0pI0XYu9abbpWTY2aXkaSZVaWhrJqXU26VmaKkBsU1CRB1FzUyE3MTPPtqBIJS3aWMdSx1DHWMcIiA2BEEQbxULULVgAoQE" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<p>This code is a rats nest. That's in part because to do the glue for this program I tried structuring it a bunch of different ways, plugging things into the pointfree converted until I ran out of ideas and using the shortest one.</p>
<p>It's rather difficult to truly explain it, but the rough idea is as follows:</p>
<p>First we use <code>pxn</code> to get all the prefixes of the list. Then we perform a filter to filter out prefixes where their last element occurs in the prefix a number of times divisible by that last element.  Then we get the last element of each prefix.</p>
<p>The rats nest is in the part where we &quot;filter out prefixes where their last element occurs in the prefix a number of times divisible by that last element&quot;. By the description it seems like that is a rather complex operation.</p>
<h2>Reflection</h2>
<p>There are a couple of things I think would have been really helpful.</p>
<ul>
<li>It would be nice to have a combined zip and filter.  What I'd really like is something like
<pre><code>(Alternative f, Zip f) =&gt; (a -&gt; b -&gt; Bool) -&gt; f a -&gt; f b -&gt; f a
</code></pre>
But I'd happily settle for:
<pre><code>(Alternative f, Zip f) =&gt; f a -&gt; f Bool -&gt; f a
</code></pre>
which seems like it would have more general use.</li>
<li>Speaking of odd filters. Why not have prefix/suffix filters? This solution is doing a filter on the prefix list, and I can imagine it happening again in the future. There are a couple of ways to do this. The best motivated types seem to be
<pre><code>(a -&gt; List a -&gt; Bool) -&gt; List a -&gt; List a
</code></pre>
and
<pre><code>(List a -&gt; Bool) -&gt; List a -&gt; List (List a)
</code></pre>
</li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="http://perl6.org" rel="nofollow noreferrer">Perl 6</a>, 28 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>{$_=$;grep {++.{$^n}%$n},@_}
</code></pre>

<p>Explanation</p>
<pre class="lang-perl6 prettyprint-override"><code>{
  $_=$;        # put $_ in a clean state
  grep {
    ++.{$^n}   # increment $_{ $n } and declare $n as an argument
    % $n       # check if the count is not divisible by $n
  }, @_        # the input
}
</code></pre>
<p>Usage:</p>
<pre class="lang-perl6 prettyprint-override"><code># give it a lexical name for ease of use
my &amp;code = {...}

sub check ( @a, @b ){
  say try { so all code(@a) »==« @b } // False
}

check [1], []; # True
check [2], [2]; # True
check [1,1,1], []; # True
check [2,2,2], [2,2]; # True
check [1,1,2,2,2,3,3,3,3], [2,2,3,3,3]; # True
check [1,2,3,1,2,3,1,2,3,1,2,3], [2,3,3,2,3]; # True
check [3,2,6,1,1,6,2,3,2,6,6,6,6,1,6,6,3,3,7,2], [3,2,6,6,3,2,6,6,6,6,6,3,7]; # True
</code></pre>

<p>Double check that the correct elements are being thrown out</p>
<pre class="lang-perl6 prettyprint-override"><code># have to change it to a pure number
# when checking $_         V
my &amp;code = {$_=$;grep {++.{+$^n}%$n},@_}
# only matters here because we are using
# a subclass of Int but want it to use
# the same key as a normal Int

sub F ( Int $v ) { IntStr.new: $v, &quot;Fail($v)&quot; }
# prove that it passes through unchanged
say [F(2)];
# (Fail(2))

say code [3,2,6,F(1),F(1),6,F(2),3,2,6,6,6,F(6),F(1),6,6,F(3),3,7,F(2)];
# (3 2 6 6 3 2 6 6 6 6 6 3 7)
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 24 + 1 <code>-p</code>= 25 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$\.=$_ if++$k{0|$_}%$_}{
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18lRs9WJV4hM01bWyW72qBGJb5WFYir//835jLiMuMyBEIzIAvCg0BDMGkMhOZcRv/yC0oy8/OK/@v6muoZGBr81y0AAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>Input has each entry on a separate line</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 8 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ʒˆ¯y¢yÖ_
</code></pre>
<p>Inspired by <a href="https://codegolf.stackexchange.com/a/70126/52210"><em>@RainerP.</em>'s awk answer</a>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//1KTTbYfWVx5aVHl42qPOBf//RxvrGOmY6RgCoRmQBeFBoCGYNAZCcx2jWAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##7ZE9bsMwDIX3niLwzMGyZVUpUGTOlAMYHlogQ5e2QJMCHroWyJohc5ALZAlyAGdrb5GLuORjZLs/JygE2hT5PZKS5aeXu/uHefuaTB@fl4ubUUL17VUyWy4uWfux/nxv9nWzq0@b82rbvlFznDSHtixNRaMyE2eIDRmxBYKEcjWFkv7yIuUcOJnCXgTJ1Ay8zLjW0QVZkjenEA0z3c7@0HLVpd0Bet5hjAN4NBVsDqsebIzY854FxwYjPRTLzEOTPny1ZchFMtHCEAZn1Vmo30kn9A1dyR9w0BUu25j@cbhvd1k1BlY5U@cUZKHD9TdtuoEd0Iow1ehPHW4KGadJKeOU1TTll8WUayOMMMIII4wwwgj/OayqLw" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>ʒ         # Filter the (implicit) input-list by:
 ˆ        #  Pop and add the current integer to the global array
    ¢     #  Count how many times
   y      #  the current integer
  ¯       #  occurs in the global array
       ≠  #  Check that this count is NOT
      Ö   #  evenly divisible
     y    #  by the current integer
          # (after which the filtered list is output implicitly as result)
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>58</s> 56 bytes</h1>
<p><em>2 bytes saved by xnor</em></p>

<pre class="lang-hs prettyprint-override"><code>q w=[x|(n,x)&lt;-zip[1..]w,0&lt;mod(sum[1|u&lt;-take n w,u==x])x]
</code></pre>
<p><a href="https://tio.run/##LYdBCoAgEAC/socOBatkXfUl4kEoSEqzUpTo71YUw8DMpI95XJZSNkhC5qt2mBtOTuMlo1QlbLldh/qIVrIrchL0PIKDhFGIrJqsitXGgQC/Gxeggg0kww77x5ev2f@9Kjc" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1>Haskell, 78 bytes</h1>
<pre><code>f l=[l!!n|n&lt;-[0..length l-1],0/=mod(1+(length.filter(==l!!n)$take n l))(l!!n)]
</code></pre>
<p><a href="https://tio.run/##JctBDoMgEEbhq/wmLiBFKu22cxLCgkSoxHHaKMvenUbN233Jm@O@JObWMpg8d5385DX40VpO8q4zeHDBjHdaP5NyN3WpzYVr2hTRcei@xiVBwFqrE0JbYxEQvluRih4Z3hlnHmfPq9D@" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a>, 61 bytes</h1>
<pre><code>[ H{ } clone '[ _ 2dup inc-at over of swap mod 0 &gt; ] filter ]
</code></pre>
<p><a href="https://tio.run/##7ZbPboMwDMbvPIVvOw0R/mR0k3bddtll2qmqpoiGFq0EBummquLZmXFooO2eYAoG8@X32U4kLuQi01XTv7@9vD7dQ94c4FM2Su5AtG2VtVAKvQUlStnWIpMttPJrL9Wg6kZqfaibQum59rNK5cUGHjzv6AFeR2DQwSjDSTKKmRNeugZFY8ysAV5nWxDhktMETsawMsEoD9Pu5pslENMTWTVfme3jCy8afTuEk5Xi3AUdKaXWBIPT2xxyQTrF/RPUjAan5MTIUvIS6reDYwwsHebGFCRPKTYpJvecWGNqsCV/wHnX2WdhbLo5ET6@jSZs7NAkbkB46uDTF2B2oAWm4jSVsatNjd2djhRAiAxLggAfrAhCBx100EEHHXTQwf8PO6/rl/B8xF@1bFcpCTdL@IBwva@hUNmt0FB9ywaqHNofUUNZrSGAR1hBXuw0Gqs@CXBcKZpNofC3XqOsYQm@72ORFNm2/wU" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<p>The idea is to have a hash table that keeps a running count of each element. Then we reject each element from the input that is divisible by its current count.</p>
</div>
<div id="pu7" class="pu"><h2>Racket 179 bytes</h2>

<pre><code>(λ(l)(define m(apply max l))(let g((n 1)(c 0))(set! l(for/list((i l))(if(= i n)(begin 
(set! c(+ 1 c))(if(= 0(modulo c n))0 i))i)))(if(&lt; n m)(g(+ 1 n)0)(filter(λ(x)(&gt; x 0))l))))
</code></pre>

<p>Ungolfed:</p>

<pre><code>(define f
  (λ(l)
    (define m (apply max l))
    (let loop ((n 1) (c 0))
      (set! l (for/list ((i l))
                (if (= i n)
                    (begin
                      (set! c (+ 1 c))
                      (if (= 0 (modulo c n))
                          0 i ))                  ; replace by 0
                    i )))
      (if (&lt; n m)
          (loop (+ 1 n) 0)
          (filter (λ(x)(&gt; x 0)) l)                ; remove all 0s
          ))))
</code></pre>

<p>Testing: </p>

<pre><code>(f '[1]) 
(f '[2]) 
(f '[1 1 1]) 
(f '[2 2 2]) 
(f '[1 1 2 2 2 3 3 3 3])
(f '[1 2 3 1 2 3 1 2 3 1 2 3]) 
(f '[3 2 6 1 1 6 2 3 2 6 6 6 6 1 6 6 3 3 7 2])
</code></pre>

<p>Output:</p>

<pre><code>'()
'(2)
'()
'(2 2)
'(2 2 3 3 3)
'(2 3 3 2 3)
'(3 2 6 6 3 2 6 6 6 6 6 3 7)
</code></pre>
</div>
<div id="pu8" class="pu"><h2>APL, 16 chars</h2>

<pre><code>{⍵/⍨×⍵|+/¨⍵=,\⍵}
</code></pre>

<p>In English:</p>

<ul>
<li><code>,\⍵</code>: vector of the vector prefixes up to the nth-element of the argument</li>
<li><code>+/¨⍵=</code>: per prefix vector, count how many are equal to the n-th element itself</li>
<li><code>×⍵|</code>: signs of the mod's (that is: 0 if the remainder of the division is 0, 1 otherwise)</li>
<li><code>⍵/⍨</code>: of the argument keep only the element where the mod is 0</li>
</ul>
</div>
<div id="pu9" class="pu"><h2>Seriously, <s>22</s> 17 bytes</h2>

<pre><code>k╗,;`;;╜o;╗c%`M@░
</code></pre>

<p>Hex Dump:</p>

<pre><code>6bbb2c3b603b3bbd6f3bbb6325604d40b0
</code></pre>

<p><a href="http://seriously.tryitonline.net/#code=a-KVlyw7YDs74pWcbzvilZdjJWBNQOKWkQ&amp;input=WzIsMyw0LDIsMyw0LDIsMyw0LDIsMyw0XQ" rel="nofollow">Try It Online</a></p>

<p>Explanation:</p>

<pre><code>k╗                                Put empty list in reg0
  ,;                              Two copies of input
    `        `M                   Map over the list
     ;;                           Make 2 extra copies of n
       ╜o                         Load reg0 and push the n onto it
         ;╗                       Put a copy back in reg0
           c                      Count the number of copies of n in the list
            %                     Take the result modulo n
               @░                 Filter the original list with the resulting list
</code></pre>
</div>
<div id="pu10" class="pu"><h2>TI-BASIC, 47 bytes</h2>
<pre><code>Input X
For(I,1,dim(∟X
∟X(I
If fPart(sum(∟X=Ans),1,I)/Ans
Ans→L₁(1+dim(L₁
End
L₁
</code></pre>
<p>This uses the fact that, on a fresh calculator, <code>L₁</code> is initialized and cleared. Note that trying to display an empty list in TI-BASIC throws an error.</p>
</div>
<div id="pu11" class="pu"><h1>Pyth, <s>18</s> <s>15</s> <s>14</s> <s>10</s> 9 bytes</h1>
<pre><code>f%/aYTTTQ
</code></pre>
<p>I think this is the first code I've written that has five consecutive variable references in nine bytes.</p>
<p>I wish the array manipulation solution (<code>u.DG%HgxHGH{QQ</code>, 14 bytes) weren't so long.</p>
<pre><code>f%/aYTTTQ       Implicit: Q=input
                 lambda T:
    Y              Variable: starts as empty list.
   a T             Append T to Y. Mutates Y.
  /   T           Number of elts of Y that equal T.
 %     T         Modulo by T
f       Q       Filter that lambda over Q.
</code></pre>
<p>Try it <a href="https://pyth.herokuapp.com/?code=f%25%2FaYTTTQ&amp;input=%5B3%2C2%2C6%2C1%2C1%2C6%2C2%2C3%2C2%2C6%2C6%2C6%2C6%2C1%2C6%2C6%2C3%2C3%2C7%2C2%5D&amp;debug=1" rel="noreferrer">here</a>.</p>
</div>
<div id="pu12" class="pu"><h2>PowerShell, 56 bytes</h2>

<pre><code>param($a)$b=,0*($a|sort)[-1];$a|%{if(++$b[$_-1]%$_){$_}}
</code></pre>

<p>Uses a similar helper-array-trick as <a href="https://codegolf.stackexchange.com/a/70126/42963">Rainer P's answer</a>, which I developed independently but I apparently got FGITW'd.</p>

<p>Takes input as an array with <code>param($a)</code>. We then create our helper array <code>$b</code> as a populated-with-zeros array by using the comma operator coupled with the overloaded multiplication operator. This creates <code>$b</code> to be equal to <code>@(0,0,0...0)</code> with <code>$b.length</code> equal to the maximal number in <code>$a</code>.<br>
<sub>(Quick plug for my "Showcase your language" <a href="https://codegolf.stackexchange.com/a/66119/42963">answer</a> where I describe this in detail)</sub></p>

<p>Next is our output. We loop over every element of our input array <code>$a|%{...}</code> and each loop check an <code>if</code> statement. The conditional pre-increments the value in our helper array that corresponds with the current element, then checks whether it's a multiple of the current element with the modulo operator. If it is a multiple, the <code>%</code> will equal <code>0</code> which is falsey, so the <code>if</code> doesn't execute. Otherwise, we output the current element.</p>

<p>Takes advantage of implicit typecasting to save on output formatting. If a function or program returns multiple elements, and you save the results to a variable, PowerShell will dynamically create that variable as an array. Example:</p>

<pre><code>PS C:\Tools\Scripts\golfing&gt; $testc = .\remove-every-nth-n.ps1 @(2,2,2)

PS C:\Tools\Scripts\golfing&gt; $testc
2
2

PS C:\Tools\Scripts\golfing&gt; $testc.GetType()

IsPublic IsSerial Name                                     BaseType
-------- -------- ----                                     --------             
True     True     Object[]                                 System.Array
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="http://github.com/DennisMitchell/jelly">Jelly</a>, <s>10</s> 8 <a href="https://github.com/DennisMitchell/jelly/blob/master/docs/code-page.md">bytes</a></h1>

<pre><code>=;\S€%af
</code></pre>

<p><em>Thanks to @Sp3000 for golfing off 2 bytes!</em></p>

<p><a href="http://jelly.tryitonline.net/#code=PTtcU-KCrCVhZg&amp;input=&amp;args=WzMsMiw2LDEsMSw2LDIsMywyLDYsNiw2LDYsMSw2LDYsMywzLDcsMl0">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>=;\S€%af    Main link. Input: A (list)

 ;\         Compute the cumulative concatenations of the elements of A, i.e., the
            list of A's prefixes.
=           Compare the elements of the nth prefix with the nth element of A.
   S€       Compute the sum of the resulting arrays.
     %      Take the nth sum modulo the nth element of A.
      a     Logical AND; replace the nth remainder with the nth element of A
            if the remainder is non-zero.
        f   Filter; remove the zeroes (which do not occur in A) from the result.
</code></pre>
</div>
<div id="pu14" class="pu"><h1>JavaScript ES6, 55 bytes</h1>



<pre class="lang-js prettyprint-override"><code>a=&gt;a.filter((v,i)=&gt;a.filter((w,j)=&gt;j&lt;=i&amp;v==w).length%v)
</code></pre>

<h3>Explanation</h3>

<pre class="lang-js prettyprint-override"><code>a=&gt;                            //a -&gt; input array
 a.filter(                     //filter array. only keep elements if inside function returns truthy
      (v,i)=&gt;                  //inside function to decide whether to keep items. v -&gt; item; i -&gt; index
           a.filter((w,j)=&gt;    //get all ocurrences of v that occur before index i
                j&lt;=i&amp;v==w      //(this is done by keeping all items w at index j, if j &lt;= i and v == w
           ).length%v          //get length (count ocurrences), and mod v.
                               //this will only be falsy if the number of ocurrences of v up to this index is divisible by v. (0 -&gt; falsy, positive -&gt; truthy) 
 )                             //so, we don't keep every second 2, every third 3, etc.
</code></pre>
</div>
<div id="pu15" class="pu"><h2>JavaScript ES6, 34 bytes</h2>

<pre><code>a=&gt;a.filter(v=&gt;f[v]=-~f[v]%v,f=[])
</code></pre>

<p>Turned out to be the same as Brad's Perl algorithm.</p>

<p>Edit: Saved 2 bytes thanks to @edc65.</p>
</div>
<div id="pu16" class="pu"><h2>C#, 224 bytes</h2>

<pre><code>List&lt;int&gt;R(List&lt;int&gt;l,int n=1){l=l.Where(w=&gt;w!=0&amp;&amp;w!=1).ToList();for(int i=0,t=0;i&lt;l.Count;i++){if(l[i]==n&amp;&amp;++t==n){l[i]=0;t=0;}}return !l.Any()||n&gt;l.Max()?l:R(l,++n);}
</code></pre>

<p>This code uses recursion. With <code>using</code> statements that's 224 bytes (160 for the method code itself).</p>

<p><a href="https://dotnetfiddle.net/Qh5g1O" rel="nofollow">Try it online.</a></p>

<pre><code>List &lt;int&gt; R(List &lt;int&gt; l, int n = 1)
{
    l = l.Where(w =&gt; w &gt; 1).ToList();
    for (int i = 0, t = 0; i &lt; l.Count; i++)
    {
        if (l[i] == n &amp;&amp; ++t == n)
        {
            l[i] = 0;
            t = 0;
        }
    }
    return !l.Any() || n &gt; l.Max() ? l : R(l, ++n);
}
</code></pre>
</div>
<div id="pu17" class="pu"><h1>Ruby, 120 bytes</h1>
<pre><code>-&gt;a{1.upto(a.max).each{|i|k=0;a.length.times.each{|j|k+=1if a[j]==i;a[j]=''if k%i==0&amp;&amp;a[j]==i;a[j]}};a.select{|i|i!=''}}
</code></pre>
</div>
<div id="pu18" class="pu"><h2>CJam, 17 bytes</h2>

<pre><code>Lq~{:X+_Xe=X%},p;
</code></pre>

<p>Just beat... J? Not sure what my expectations are for this challenge, really. Note that <code>""</code> is CJam's representation of an empty array.</p>

<p><a href="http://cjam.aditsu.net/#code=Lq~%7B%3AX%2B_Xe%3DX%25%7D%2Cp%3B&amp;input=%5B3%202%206%201%201%206%202%203%202%206%206%206%206%201%206%206%203%203%207%202%5D">Try it online</a> | <a href="http://cjam.aditsu.net/#code=qN%2F%7B%0A%0AL%5C~%7B%3AX%2B_Xe%3DX%25%7D%2Cp%3B%0A%0A%7D%2F&amp;input=%5B1%5D%0A%5B2%5D%0A%5B1%201%201%5D%0A%5B2%202%202%5D%0A%5B1%201%202%202%202%203%203%203%203%5D%0A%5B1%202%203%201%202%203%201%202%203%201%202%203%5D%0A%5B3%202%206%201%201%206%202%203%202%206%206%206%206%201%206%206%203%203%207%202%5D%0A%5B5%204%205%204%203%205%204%205%204%205%204%203%205%204%205%203%203%203%204%205%204%205%204%205%204%203%203%203%205%204%5D%0A%5B6%204%205%208%202%209%203%201%208%205%203%205%205%206%203%205%201%202%203%209%203%205%208%207%205%209%201%203%204%208%202%203%204%207%208%205%208%205%203%201%5D%0A%5B4%204%209%2012%209%204%204%204%2012%209%2012%209%2012%204%2012%204%204%209%204%209%2012%204%2012%204%204%2012%204%204%209%2012%209%2012%209%204%209%2012%204%209%2012%209%2012%209%204%209%2012%2012%204%204%2012%204%5D%0A%5B2%202%2011%2011%2011%2011%206%202%202%206%206%202%202%202%202%206%2011%206%2011%2011%202%2011%202%206%206%2011%202%2011%206%202%206%206%206%206%206%2011%202%2011%2011%206%206%206%2011%206%202%206%202%206%206%202%2011%202%202%2011%2011%2011%2011%202%206%202%5D">Test suite</a> (the last case is too long for the permalink)</p>

<h3>Explanation</h3>

<pre><code>L                     Push empty array (let's call it L)
 q~                   Push input and evaluate

   {         },       Filter the array elements by...
    :X                   Save number to variable X
      +                  Append to L

       _                 Duplicate
        Xe=              Count occurences of X
           X%            Take modulo X

                      The top element is popped to determine whether or not to keep that
                      element, with the updated L kept on the stack for the next iteration

               p      Print the resulting filtered array
                ;     Pop L, which is now equal to the input array
</code></pre>
</div>
<div id="pu19" class="pu"><h2>awk, 10 bytes</h2>

<p>Input is expected on STDIN, one number per line.</p>

<pre><code>++a[$1]%$1
</code></pre>

<h3>Explanation</h3>

<p>Keeps a counter for each number in an associative array, prints only if the counter value modulo <code>n</code> is not zero. Printing is implicit. Long version:</p>

<pre><code>++a[$1]%$1{print $0}
</code></pre>
</div>
<div id="pu20" class="pu"><h2>Mathematica, <s>40</s> <s>38</s> 36 bytes</h2>

<pre><code>Select[(f@#=#)&amp;/@#,++f[#]~Mod~#&gt;0&amp;]&amp;
</code></pre>

<p>This is an unnamed function taking and returning a <code>List</code>. It defines a named function <code>f</code> when executed (to keep track of the numbers), but takes care of resetting the relevant definitions of <code>f</code> beforehand.</p>

<h3>Explanation</h3>

<p>The way functions (or function definitions) work in Mathematica is really powerful. As in Haskell (for instance), functions cannot only be overloaded and defined for certain types, but also for individual values (or arbitrary patterns of arguments, actually). But it is even more powerful than Haskell in that a) these values can be defined as side effects during control flow and b) the values can also be redefined at any time. That means functions are actually pretty powerful lookup tables (that can optionally <em>compute</em> the looked-up value instead of just storing it).</p>

<p>If we remove the golfitude from the code it would look a bit like this:</p>

<pre><code>g[list_] := (
  Map[
    (f[#] = #) &amp;,
    list
  ];
  Select[
    list,
    Mod[++f[#], #] &gt; 0 &amp;
  ]
)
</code></pre>

<p>So first, we loop over the input and define <code>f[x] = x</code>, for all <code>x</code> in the list. <code>f</code> will ultimately be used to keep track of how often each number has already appeared in the list. Why do we not count from <code>0</code>? The loop over the list is a <code>Map</code>. The expression <code>f[x] = y</code> returns <code>y</code> (in addition to storing the function definition). So by setting <code>f[x]</code> to <code>x</code>, the map will evaluate to the input list itself. That saves two bytes because then we don't need to provide <code>list</code> again explicitly to <code>Select</code>. Starting from <code>x</code> instead of <code>0</code> doesn't affect the computation at all since we're only ever interested in <code>Mod[f[x], x]</code>.</p>

<p>(Normally we could simply use something like <code>f[_] = 0</code> as a fallback definition to avoid the <code>Map</code>, but we don't know if our function has been used before, which would leave some previous values defined that would mess with our counting.)</p>

<p>Then <code>Select</code> filters the list by keeping only those elements where the unnamed function passed as the second argument yields <code>True</code>. That function <em>first</em> increments the value of <code>f[x]</code> (where <code>x</code> is the current list element), in order to count the occurrences, and then it takes the resulting count modulo <code>x</code>. We want to discard all elements where this yields <code>0</code>.</p>
</div>
<div id="pu21" class="pu"><h1>R, 63 bytes</h1>

<pre><code>f=function(z){n=seq(z);for(i in n)z[which(z==i)[n*i]]=0;z[z&gt;0]}
</code></pre>
</div>
<div id="pu22" class="pu"><h1><a href="https://esolangs.org/wiki/MATL" rel="nofollow noreferrer">MATL</a>, 20 bytes</h1>
<pre><code>tu&quot;t@=f@@h0h)0w(]tg)
</code></pre>
<p>This uses <a href="https://github.com/lmendo/MATL/releases/tag/10.2.1" rel="nofollow noreferrer">current release (10.2.1)</a> of the language/compiler.</p>
<p><a href="http://matl.tryitonline.net/#code=dHUidEA9ZkBAaDBoKTB3KF10Zyk&amp;input=WzMsMiw2LDEsMSw2LDIsMywyLDYsNiw2LDYsMSw2LDYsMywzLDcsMl0" rel="nofollow noreferrer"><strong>Try it online!</strong></a></p>
<h3>Explanation</h3>
<pre><code>tu        % implicitly input array. Duplicate and get unique elements
&quot;         % for each unique element, say &quot;i&quot;
  t       % duplicate
  @=f     % indices of occurrences of i
  @@h0h   % build index representing i-th occurrences (Matlab's i:i:end)
  )       % keep only indices of i-th occurrences
  0w(     % set those entries to 0
]         % end for loop
tg)       % keep nonzeros only. Implicit display
</code></pre>
</div>
<div id="pu23" class="pu"><h2>Mathematica, 63 bytes</h2>

<pre><code>Fold[Delete[#,Position[#,#2][[#2;;;;#2]]~Check~{}]&amp;,#,Union@#]&amp;
</code></pre>

<p>Quite interesting to golf! Ignore the occasional message that pops up.</p>
</div>
<div id="pu24" class="pu"><h1>J, 18 bytes</h1>

<pre><code>#~((0&lt;]|+/@:=){:)\
</code></pre>

<p>Usage:</p>

<pre><code>   (#~((0&lt;]|+/@:=){:)\) 1 2 3 1 2 3 1 2 3 1 2 3
2 3 3 2 3
</code></pre>

<p>Pretty straightforward method. We count the occurrences of a number up to it and select the number only if the number divides the count.</p>

<p>More explanation comes later.    </p>

<p><a href="http://tryj.tk/" rel="nofollow">Try it online here.</a></p>
</div>
<div id="pu25" class="pu"><h1>C# - 177 Bytes</h1>

<pre><code>void r(List&lt;int&gt; i){for(int c=1,k=1,m=i.Max();k&lt;=m;k++){var n=new List&lt;int&gt;();foreach(var o in i)if(o==k&amp;&amp;c++==k)c = 1;else n.Add(o);i=n;}Console.WriteLine(string.Join(" ",i));}
</code></pre>

<p>Ungolfed</p>

<pre><code>void r(List&lt;int&gt; i)
{
    for (int c = 1, k = 1, m = i.Max(); k &lt;= m; k++)
    {
        var n = new List&lt;int&gt;();
        foreach (var o in i)
            if (o == k &amp;&amp; c++ == k)
                c = 1;
            else
                n.Add(o);
        i = n;
    }
    Console.WriteLine(string.Join(" ", i));
}
</code></pre>
</div>
<div id="pu26" class="pu"><h2>Python, 57 bytes</h2>

<pre class="lang-python prettyprint-override"><code>lambda l:[n for i,n in enumerate(l)if l[:i+1].count(n)%n]
</code></pre>
</div>
<div id="pu27" class="pu"><h1>R, <s>110</s> <s>98 </s> <s>99</s> 92 Bytes</h1>

<pre><code>function(a){for(i in 1:max(a))for(j in seq_along(b&lt;-which(a==i)))if(j%%i&lt;1)a[b[j]]=0;a[a&gt;0]}
</code></pre>

<p>Edit complete rewrite fixes bug with test case 2/3
Edit 2 Save 7 bytes thanks to @Alex-A</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/70091/">70091</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




