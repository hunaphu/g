<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::161761</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>562</td><td>Python3</td><td>250403T212651Z</td><td><a href="https://codegolf.stackexchange.com/questions/161761/the-lonely-islands/279047#279047">Ajax1234</a></td></tr>
<tr d-ix="1"><td>317</td><td>Python 2</td><td>180411T110801Z</td><td><a href="https://codegolf.stackexchange.com/questions/161761/the-lonely-islands/161869#161869">TFeld</a></td></tr>
<tr d-ix="2"><td>037</td><td>Jelly</td><td>180411T111754Z</td><td><a href="https://codegolf.stackexchange.com/questions/161761/the-lonely-islands/161870#161870">user2027</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 562 bytes</h1>
<p>Long, but fast.</p>
<pre class="lang-py prettyprint-override"><code>E=enumerate
def f(b):
 q,s,F,W=[(b,0,0)],[],[],-1
 for b,w,c in q:
  o={j for x,r in E(b)for y,v in E(r)for X,Y in[(1,0),(-1,0),(0,1),(0,-1),(1,1),(-1,1),(1,-1),(-1,-1)]for j in[(0,min(x,x+X)),(1,min(y,y+Y))]if v and 0&lt;=x+X&lt;len(b)and 0&lt;=y+Y&lt;len(b[0])and b[x+X][y+Y]}
  if not o:F+=[(b,w,c)];W=w
  for d,x in o:
   l=[b,[*zip(*b)]][d];l=l[:x+1]+[L:=[0]*len(l[x])]+l[x+1:];l=[l,[*map(list,zip(*l))]][d]
   if(W==-1 or w+len(L)&lt;=W)and l not in s:q+=[(l,w+len(L),c+d)];s+=[l]
 K={}
 for b,w,c in F:K[w]=K.get(w,[])+[(b,c)]
 return max(K[min(K)],key=lambda x:x[1])[0]
</code></pre>
<p><a href="https://tio.run/##lZLPc6IwFMfPy1@R8WIiwSG1tg41x3qxs1fbyWZ2oMAubgSEtMJ2@rfbl4Da3dk9oMLzffN5v5KUrf5Z5LNFWR2P9zzJX3ZJFerEiZMUpTgigYP2tKYruuECR9SnPpFU2J/HHJQWFYrogT6jLEd7gFHB37ZWbmhlxHtIYtyWvnZuZd1H@gSuwAwSUux1xqfMvj1jmHW8zrBO86yVJsHWhvt0l@W4oY37SCxm3Ja27hMhMkvRKwrzGPlLDsBSJTk00wuAdILwpdUiAYwUoMt3mAOC80KjIli5dnKYkci7DT/Amqkf08bMU5iZkeIiomLyOyvxJCJSiljeKa5E0LhMuuIh4FBlYsop0UgiXTAuCwwkFATuwhKrrNbUZlCkS2EyZynecO4xBCUPrsnwQJZ8YztWtkNoog72pklFTwR9dmPotgZVQZo1f3v/66xWwVocJF9PfyQaH@A4iWumhBkdVCX6pcrRLmzwWpgNXcOZ/0parsJdFIeoCRrBJIGRjuaa6OJ7VIRVjGu4LV/6YNENleWaomxalyrTGMayTWSmgTRTOqnw1yJPKKp7YvwtHwPl2OtXQird2jt4ymrWp9sCWhqj/o@pUuuKZoRckkfEqRniaDQaOcwx7/rq5KJemH0SzuL1WfQd/yTOL6L9MrOE7OP4ne3wXrNBN33QnwC7ALf/BD5lWFyAcz99SQuUFewu7ncpxZdjYAQ@/fLYG0/mPvk/fDUEng2Br4fA8yHwzRD4dgi8MPDxAw" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>374</s> <s>346</s> <s>340</s> <s>339</s> <s>323</s> 317 bytes</h1>



<pre class="lang-python prettyprint-override"><code>R=range;L=len
def f(a):
 w,h=L(a[0]),L(a);W=[]
 for i in R(2**w):
&#9;A=zip(*a)
&#9;for c in R(w):A[-c:-c]=[[0]*h]*(i&amp;1&lt;&lt;c&gt;0)
&#9;for j in R(2**h):
&#9; B=zip(*A);x=L(B[0])
&#9; for r in R(h):B[-r:-r]=[(0,)*x]*(j&amp;1&lt;&lt;r&gt;0)
&#9; y=L(B);W+=[(w*h-x*y,x,B)]*all(sum(B[i][j:j+2]+B[i+1][j:j+2])&lt;2for i in R(y-1)for j in R(x))
 return max(W)[2]
</code></pre>

<p><a href="https://tio.run/##rZA/b4MwEMXn@lPcVNnGSDYjCZXCnClLBssDohBAhERuokC/PD2HkD9tqFSpgIB773fPPu@7Q7Frgr5fRTZpNtlsGdVZQ96zHHKasJDASRTRkiZaGibwy2brSBsC@c5CCWUDKxpwfkLyZRF9lnvKE0ZenJsOLloL7aehn5pIYwovDKflq5rP0zd5QatrUOGCIB6SFmzW4tqxWxtVR9qBRCzWvg19i6FUCsZbTK1cqj2nQucacbMe@ide@C3vRCtiZnhS1/TjuMXY0ugqrLzAePjvqbFi8@Buus5X7G6PLWMEbHY42ga2SUvXTAemd@e1Gc7LsbVjk3Bvy@YANSEbmlOtlTHYfBZHRcCEKGDSlM6UU@b4qJEaqlvbVZM/ie@BE7j6G/5b@mXQ20yPtXwyo7y/jSCAF7LqufyU/peQURh61KOsxrcboP8C" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 37 bytes</h1>

<pre><code>ṫƤ-S€ZƊ⁺FỊẠ
Z_,,WƲ€ŒpẎ€Ʋ⁺€ẎLÞFL$ÞṚÇÞṪ
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///hztXHlugGP2paE3Ws61HjLreHu7se7lrAFRWvoxN@bBNQ/Oikgoe7@oAMIK9xF5AG8nwOz3PzUTk87@HOWYfbQdSq/4fbgVLuQJz1qGHOoW22MHBo26OGuf//R3NxRhvGcsXqgBk6CqhsHUxBA7CgAZogDBnCZSFcJPVwQQMsaqBG4VJmSJwyLKbBvIDkbHQRA4RHDBAQKmuIIYKuhnhdEFFDuIghTBToAAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>Function returning a 2D array of integers. Note that naturally in Jelly singleton list displays as its value so <code>G</code> is used to format the output.</p>

<hr>

<ul>
<li>Link 1: Return (validity).</li>
<li>Link 2: Main program.</li>
</ul>

<hr>

<p>The program runs in exponential time, but so-far I could not think of any polynomial time algorithm.
Uses <code>Ƥ</code> on dyadic function, that feature postdates the challenge.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/161761/">161761</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




