<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::277750</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>018</td><td>Japt</td><td>250119T231154Z</td><td><a href="https://codegolf.stackexchange.com/questions/277750/meandering-over-%e2%84%a4/277761#277761">Shaggy</a></td></tr>
<tr d-ix="1"><td>106</td><td>SageMath</td><td>250121T201255Z</td><td><a href="https://codegolf.stackexchange.com/questions/277750/meandering-over-%e2%84%a4/277798#277798">Sophia A</a></td></tr>
<tr d-ix="2"><td>076</td><td>JavaScript ES7</td><td>250119T171441Z</td><td><a href="https://codegolf.stackexchange.com/questions/277750/meandering-over-%e2%84%a4/277754#277754">Arnauld</a></td></tr>
<tr d-ix="3"><td>083</td><td>Ruby</td><td>250122T082950Z</td><td><a href="https://codegolf.stackexchange.com/questions/277750/meandering-over-%e2%84%a4/277803#277803">G B</a></td></tr>
<tr d-ix="4"><td>075</td><td>R</td><td>250119T231755Z</td><td><a href="https://codegolf.stackexchange.com/questions/277750/meandering-over-%e2%84%a4/277762#277762">Dominic </a></td></tr>
<tr d-ix="5"><td>091</td><td>Python 3.8</td><td>250119T184531Z</td><td><a href="https://codegolf.stackexchange.com/questions/277750/meandering-over-%e2%84%a4/277755#277755">Jonathan</a></td></tr>
<tr d-ix="6"><td>021</td><td>Jelly</td><td>250119T154250Z</td><td><a href="https://codegolf.stackexchange.com/questions/277750/meandering-over-%e2%84%a4/277753#277753">Jonathan</a></td></tr>
<tr d-ix="7"><td>074</td><td>Charcoal</td><td>250119T152622Z</td><td><a href="https://codegolf.stackexchange.com/questions/277750/meandering-over-%e2%84%a4/277752#277752">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>19</s> 18 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Both versions output the first <code>n</code> terms. Replace <code>h</code> with <code>g</code> to output the 0-based <code>n</code>-th term.</p>
<p>This first version works on the basis that <code>n</code> is always <code>&gt;=a(n)</code>, so the <code>min</code> method will, therefore, always return <code>a(n)</code>.</p>
<pre><code>@ËaX ¬v1 «ZøD}cn}h
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=QMthWCCsdjEgq1r4RH1jbn1o&amp;input=NjI" rel="nofollow noreferrer">Try it</a></p>
<pre><code>@ËaX ¬v1 «ZøD}cn}h     :Implicit input of integer U
@                      :Outer function taking an integer (X) and an array (Z) as arguments
 Ë                     :  Minimum of U and the following inner function, taking an integer D as argument
  aX                   :    Absolute difference between D &amp; X
     ¬                 :    Square root
      v1               :    Divisible by 1?
         «             :    Logical AND with logical NOT of
          ZøD          :      Z contains D
             }         :  End inner function
              c        :  Get the first integer in the sequence [0,-1,1,-2,2,-3,3,...] that returns true
                       :   when passed through the inner function
               n       :    After first negating it (to instead give the sequence [0,1,-1,2,-2,3,-3,...])
                }      :End outer function
                 h     :Starting with [0,1], pass the current last element (X) and the array (Z) through the outer function,
                       : pushing the result to the array until it reaches length U
</code></pre>
<h2>Original, 19 bytes</h2>
<pre><code>T@_aT ¬v1 «YøZ}cn}h
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=VEBfYVQgrHYxIKtZ%2bFp9Y259aA&amp;input=NjI" rel="nofollow noreferrer">Try it</a></p>
<pre><code>T@_aT ¬v1 «YøZ}cn}h     :Implicit input of integer U
T@                      :Outer function taking an integer (T) and an array (Y) as arguments
  _                     :  Inner function taking an integer Z as argument
   aT                   :    Absolute difference with T
      ¬                 :    Square root
       v1               :    Divisible by 1?
          «             :    Logical AND with logical NOT of
           YøZ          :      Y contains Z
              }         :  End inner function
               c        :  Get the first integer in the sequence [0,-1,1,-2,2,-3,3,...] that returns true
                        :   when passed through the inner function
                n       :    After first negating it (to instead give the sequence [0,1,-1,2,-2,3,-3,...])
                 }      :End outer function
                  h     :Starting with [0,1], pass the current last element (T) and the array (Y) through the outer function,
                        : pushing the result to the array until it reaches length U
</code></pre>
<p>The <code>T</code> at the start is necessary here as, without it, the parameters of the outer function would be <code>X</code> (the current integer), <code>Y</code> (the iteration index) &amp; <code>Z</code> (the array). But the <code>Z</code> would be overridden by the inner function which has a single parameter, also named <code>Z</code>, which creates a problem as we need access to the array in the inner function.</p>
<p>Thankfully (for once) through a quirk, bug, or perhaps even a feature of Japt, any variable name (uppercase letter) preceding a function declaration shortcut (<code>@</code>, in this case) gets prepended to that function's list of parameters. For some reason that I've yet to fathom, <code>T</code> (which normally defaults to <code>0</code>) is the only variable that works in this instance - I would have expected any letter that isn't <code>U</code>, <code>X</code>, <code>Y</code> or <code>Z</code> to also work, most especially <code>V</code> as it also defaults to <code>0</code>. So, <code>T</code> is now the current integer, <code>X</code> the iteration index, <code>Y</code> the array, and <code>Z</code> is <code>null</code>, allowing us to use parameter <code>Z</code> in the inner function while still being able to access the array.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.sagemath.org" rel="nofollow noreferrer">SageMath</a>, 106 bytes</h1>

<pre class="lang-none prettyprint-override"><code>f=lambda b,a=[0],i=1:a if b&lt;1 else f(b,a,(i&lt;0)-i)if i in a or not is_square(abs(a[-1]-i))else f(b-1,a+[i])
</code></pre>
<p>A recursive function that accepts <span class="math-container">\$b\$</span> and returns a list of integers <span class="math-container">\$a(n) \$</span> for <span class="math-container">\$\forall n \in [0, b]\$</span>.</p>
<p><strong><a href="https://sagecell.sagemath.org/?q=tniley" rel="nofollow noreferrer">Try it online!</a></strong></p>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES7), 76 bytes</h1>
<p>Takes an integer <span class="math-container">\$n\$</span> and returns the <span class="math-container">\$n\$</span>-th term (1-indexed).</p>

<pre class="lang-none prettyprint-override"><code>n=&gt;(v=g=_=&gt;n?g(g[(h=i=&gt;g[i]||((i-v)**2)**.25%1?h((i&lt;1)-i):v=i)(0)]=n--):v)()
</code></pre>
<p><a href="https://tio.run/##DYpBCoMwEAC/EoTCrjWhCl6KG@k7RCRYjRG7ES2Bgn9Pc5jDDLOaYM7xcPtXsn9PcabIpCGQpYE0txZsBws50rZz/XUBOBkwz6uEqupb2S4pNSVKh89ADuGBPbGUyRAwjp5Pv01q8xY6pdTrOMwP6jSpj9kBhkIwCtJiBhZ3USKq1TuGrBAZYvwD" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-none prettyprint-override"><code>n =&gt; (                   // n = input
  v =                    // v = previous value in the sequence
  g = _ =&gt;               // g is a recursive function, whose underlying
                         // object is re-used to store the sequence values
  n ?                    // if n is not zero:
    g(                   //   do a recursive call to g:
      g[                 //     update g[h(0)], where ...
        (                //
          h = i =&gt;       //     ... h is a recursive function taking i:
          g[i] ||        //       if g[i] is defined
          ((i - v) ** 2) //       or the squared difference between i and v
          ** .25 % 1 ?   //       is not the 4th power of an integer:
            h(           //         do a recursive call to h:
              (i &lt; 1)    //           with i updated as follows:
              - i        //           0 -&gt; 1 -&gt; -1 -&gt; 2 -&gt; -2 -&gt; ...
            )            //         end of recursive call
          :              //       else:
            v = i        //         save the new value i in v
        )(0)             //     initial call to h
      ] = n--            //     set g[h(0)] and decrement n
    )                    //   end of recursive call
  :                      // else:
    v                    //   return v
)()                      // initial call to g
</code></pre>
<hr />
<h1>JavaScript (ES7), 84 bytes</h1>
<p>Takes an integer <span class="math-container">\$n\$</span> and returns the first <span class="math-container">\$n\$</span> entries of the sequence.</p>

<pre class="lang-none prettyprint-override"><code>n=&gt;(v=g=_=&gt;n?[(h=i=&gt;g[i]||((i-v)**2)**.25%1?h((i&lt;1)-i):v=i)(0),...g(g[v]=n--)]:[])()
</code></pre>
<p><a href="https://tio.run/##DcjBCoMwDADQXxnCIBEbVPAiS/2QUoY4rRFJZY6e/PfOw7u8bUzjOX3l@BmNnzkvnJUtJA78ZquDg5WFbXDirwtATMKybG/Uds9mWO96NWgE@8SCUGNFRAGCS57VGPS98wiYp6hn3GfaY4AFuhppi6JQVI8CMf8B" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>86 ...</s> 83 bytes</h1>

<pre class="lang-none prettyprint-override"><code>-&gt;n,*r{n.times{r&lt;&lt;n=r.sum([]){|b|[n+b*=b,n-b]-r}.min_by{|x|(x-0.4).abs}||r.size};r}
</code></pre>
<p><a href="https://tio.run/##Dcs7CoAwDADQqzj6a3DQSetFShEDCh0aJFVQm569@vbHFz5511nN1NYcCU7ntxB5mkgzhMuXxlZRUAw1WGtsSaFVnMA7WvCJckt5qw76ClYMSeRP7t3SyCkfxW6GzuYP" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>Today I learned: <code>sum([])</code> is the same as <code>flat_map</code> only 1 byte shorter.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 75 bytes</h1>

<pre class="lang-r prettyprint-override"><code>repeat{b=0;while(abs(b-F[1])^.5%%1|b%in%F)b=-b+!b&gt;0;F=c(b,F);cat(F[2],&quot;
&quot;)}
</code></pre>
<p><a href="https://tio.run/##K/r/vyi1IDWxpDrJ1sC6PCMzJ1UjMalYI0nXLdowVjNOz1RV1bAmSTUzT9VNM8lWN0lbMcnOwNrNNlkjScdN0zo5sUTDLdooVkeJS0mz9v9/AA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>Prints the infinite sequence.</p>
<hr />
<h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 79 (or 76) bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(n){while(n&lt;-n-1){b=0;while(abs(b-F[1])^.5%%1|b%in%F)b=-b+!b&gt;0;F=c(b,F)};F[1]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGq3NTEvJTUovgo26WlJWm6Fjf9YzTyNKvLMzJzUjXybHTzdA01q5NsDawhIolJxRpJum7RhrGacXqmqqqGNUmqmXmqbppJtrpJ2opJdgbWbrbJGkk6bpq11iBltRBjtxUnFhTkVGoYWhkZ6MDt1IRILlgAoQE" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Outputs the <code>n</code>-th element of the sequence.<br />
<a href="https://ato.pxeger.com/run?1=m72waMGq3NTEvJTUovgo26WlJWm6Fjd9YjTyNKvLMzJzUjXybHTzdA01q5NsDawhIolJxRpJum7RhrGacXqmqqqGNUmqmXmqbppJtrpJ2opJdgbWbrbJGkk6bpq11m61EDPXwi3RMDLQhIgtWAChAQ" rel="nofollow noreferrer">76 bytes</a> by outputting the sequence up to the <code>n</code>-th element, but in reverse order.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="noreferrer">Python 3.8</a>, 91 bytes</h1>

<pre class="lang-none prettyprint-override"><code>f=lambda b,r=[0],c=1:r*(r[:b]&lt;r)or f(b,r+[c]*(v:=abs(r[-1]-c)**.5%1==(c in r)),v or(c&lt;0)-c)
</code></pre>
<p>A recursive function that accepts <span class="math-container">\$b\$</span> and returns a list of integers <span class="math-container">\$a(n) \forall n \in [0,b]\$</span>.</p>
<p><strong><a href="https://tio.run/##DclBCsMgEEDRfU7hpjBjkxApLSXEk4gLtQkVEpXRBnJ664e/eukq3xge70S1bnI3h/0YZnuSatK9k2ImDqRmqxfCSGyDZnflNIdzlsbmhoPQg0POx@dNSAmO@cAIsT9ZJHDLhE2rP1KkwvKVu/aY10Kr@1H2Mez@8AXE1MKuS@RDgQ1eArH@AQ" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></strong></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 23 </s> 21 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<p>-2 thanks to <a href="https://codegolf.stackexchange.com/users/85334/unrelated-string">Unrelated String</a> (<code>0ị$</code> -&gt; <code>ṛ/</code> and inlining using an initial niladic chain to use the default argument of zero)</p>
<pre><code>µ²Ṁ‘rN$AÞḟạÆ²¥Ƈṛ/Ḣṭø¡
</code></pre>
<p>A full program that accepts a non-negative integer, <span class="math-container">\$b\$</span>, and prints a Jelly representation of a list of integers <span class="math-container">\$a(n) \forall n \in [0,b]\$</span>.</p>
<p><strong><a href="https://tio.run/##ATgAx/9qZWxsef//wrXCsuG5gOKAmHJOJEHDnuG4n@G6ocOGwrLCpcaH4bmbL@G4ouG5rcO4wqH///82MQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (This is not an efficient method so it does get slow fairly quickly.)</p>
<h4>How?</h4>
<pre><code>µ²Ṁ‘rN$AÞḟạÆ²¥Ƈṛ/Ḣṭø¡ - Main Link: non-negative integer, B
                   ø  - niladic chain, initialising Found to zero
µ                   ¡ - repeat the previous monadic chain {B} times:
 ²                    -   square {Found} (vectorises)
  Ṁ                   -   maximum value
   ‘                  -   increment (just to cater for the initial zero)
      $               -   last two links as a monad - f(V = max(Found²)+1)
     N                -     negate {V} -&gt; -V
    r                 -     {V} inclusive range {-V} -&gt; [V,V-1,...,-V]
       AÞ             -   sort by absolute value -&gt; [0,1,-1,...,V,-V]
         ḟ            -   filter discard {Found} -&gt; Candidates
               ṛ/     -   rightmost of {Found} -&gt; a(n-1)
              Ƈ       -   keep those {Candidates} for which:
             ¥        -     last two links as a dyad - f(Candidate, a(n-1))
          ạ           -       {Candidate} absolute difference {a(n-1)}
           Æ²         -       is a perfect square?
                 Ḣ    -   head -&gt; a(n)
                  ṭ   -   tack {a(n)} to {Found} -&gt; Found + [a(n)]
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 74 bytes</h1>
<pre><code>≔⁰θ⊞υθＦＮ«≔⁰η≔⟦⟧ζＷ∨¬ζ›×⌊ζ⌈ζ⁰«≦⊕η≔Ｅ²⁺θ××ηη⊖⊗λεＦε¿¬№υλ⊞ζλ»≔⌊↔ζθＦ¬№ζθ≦±θ⊞υθ»Ｉυ
</code></pre>
<p><a href="https://tio.run/##TVA9b8MgEJ3jX3HjIVEp7dAlU5RIVQa7HrpVHXB6iZEwJHy0lav8dheMHZcB7sF7j7t3bIU9GqGGYeucPGtcc7iyTVEH12LI9clYwIO@BF@FriGLjMFvsVoEbSTN8P2DQ5/wdysVAb5arIzHnnF4sSR8lL/JjhyWUssudONLKX6mOoI1y/6rUlwm04M@WupIe/qcfpu/ixx84lCr4PDKIVvnvU1UDnu6a3FvQqPiqVhaHGi0GucjBvIEY687E7RPwycajEn0CUTu7T7n3P62cUYFT7n3FFf2W4z6dB2NlnEqOscgJvb/pG9FbWWU7ISLDTC2GYbnx@HhS/0B" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔⁰θ⊞υθ
</code></pre>
<p>Start with <code>a(0)=0</code> as the last value and also the list of values so far.</p>
<pre><code>ＦＮ«
</code></pre>
<p>Generate <code>b</code> additional values.</p>
<pre><code>≔⁰η
</code></pre>
<p>Start with a candidate square root of <code>0</code>.</p>
<pre><code>≔⟦⟧ζ
</code></pre>
<p>Start with no candidate successors.</p>
<pre><code>Ｗ∨¬ζ›×⌊ζ⌈ζ⁰«
</code></pre>
<p>Repeat until both positive and negative candidates have been found.</p>
<pre><code>≦⊕η
</code></pre>
<p>Try the next square root.</p>
<pre><code>≔Ｅ²⁺θ××ηη⊖⊗λε
</code></pre>
<p>Get the next potential candidates.</p>
<pre><code>Ｆε¿¬№υλ⊞ζλ
</code></pre>
<p>Add them if they're not already in the <code>a</code> list.</p>
<pre><code>»≔⌊↔ζθ
</code></pre>
<p>Assume the next value is the absolute minimum candidate.</p>
<pre><code>Ｆ¬№ζθ≦±θ
</code></pre>
<p>If this value isn't a candidate then negate it.</p>
<pre><code>⊞υθ
</code></pre>
<p>Add the value to the <code>a</code> list.</p>
<pre><code>»Ｉυ
</code></pre>
<p>Output the <code>a</code> list.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/277750/">277750</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




