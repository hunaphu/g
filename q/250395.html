<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::250395</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>032</td><td>Regex Perl / PCRE2 / Boost / Pythonregex</td><td>220727T025529Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250406#250406">Deadcode</a></td></tr>
<tr d-ix="1"><td>011</td><td>Nekomata + e</td><td>230704T040825Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/262399#262399">alephalp</a></td></tr>
<tr d-ix="2"><td>086</td><td>R</td><td>220727T112145Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250420#250420">pajonk</a></td></tr>
<tr d-ix="3"><td>061</td><td>Python 3.8 prerelease</td><td>220727T115107Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250421#250421">m90</a></td></tr>
<tr d-ix="4"><td>015</td><td>05AB1E</td><td>220727T093128Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250417#250417">Kevin Cr</a></td></tr>
<tr d-ix="5"><td>032</td><td>Charcoal</td><td>220727T085254Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250416#250416">Neil</a></td></tr>
<tr d-ix="6"><td>019</td><td>Brachylog</td><td>220727T080823Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250414#250414">Fatalize</a></td></tr>
<tr d-ix="7"><td>072</td><td>Python</td><td>220727T020724Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250405#250405">loopy wa</a></td></tr>
<tr d-ix="8"><td>035</td><td>Retina 0.8.2</td><td>220727T071602Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250413#250413">Neil</a></td></tr>
<tr d-ix="9"><td>031</td><td>J</td><td>220727T064735Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250412#250412">Jonah</a></td></tr>
<tr d-ix="10"><td>038</td><td>Curry PAKCS</td><td>220727T015837Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250404#250404">alephalp</a></td></tr>
<tr d-ix="11"><td>069</td><td>lin</td><td>220727T030646Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250407#250407">Mama Fun</a></td></tr>
<tr d-ix="12"><td>060</td><td>JavaScript Node.js</td><td>220727T033752Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250409#250409">tsh</a></td></tr>
<tr d-ix="13"><td>305</td><td>Python3</td><td>220727T012756Z</td><td><a href="https://codegolf.stackexchange.com/questions/250395/have-you-heard-of-tralindromes/250400#250400">Ajax1234</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Regex (Perl / PCRE2 / Boost / Python<sup><a href="https://bitbucket.org/mrabarnett/mrab-regex/src/hg/" rel="nofollow noreferrer"><code>regex</code></a></sup>), <s>59</s> <s>47</s> <s>46</s> <s>38</s> <s>37</s> <s>33</s> 32 bytes</h1>
<pre><code>^((.+)((.)(?3)\4|(?=\2$).?))?.?$
</code></pre>
<p><a href="https://tio.run/##VU1Nb4MwDL37V1htVIjWj7GPS1OKKnU79tRjNRQCCCRCugBSacf@OjObOrWK/ez4PT8fE1u89rpFZgVeCqNkgWwh6Ouvtpv9Zt1BaqzLcv9RrNaCqscvmKc04ZejzcsaR4dyJDpkBfpYNVFVkzyczrypx5PPgcTgZv5IDMclslAAkhG6tDiZ/CsKUni8TJyxcz3gDhL/GxfMLnIeOHvbJEtEZ@m8y6Ki1uGiI7M/NSsEdmH4ttuGYf/huvMHTsDd4JkfXr7cwD88MT4POA/mAev7Me6tLPIytkYnFYCEKAKlFCijDGiptYQmy5oMTm17OrUQyVJSQmzq2hBALK8PYIw7U87qO0faIS9IZZpSfz63oButW7CyjI2GzNQVJdws3ViSqaRzQ/zCHTWQkVKRVINCUfwA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a> - Perl v5.28.2 / <a href="https://ato.pxeger.com/run?1=VU_NTsJAEL7PU0xgQ7uRv6oHQykNCXrkxJHYbJc2NOl2cdsmFKwv4oWDvo5neRunIgay87fzffNN5v1jE5n0cPxWFTLj4j7VUqTIBi59vfFsuphOaoi1sVniDd3xxKXs8D0mMXX4fmOSrMDWMmu5NbIUPczLMC-IHnR7Ttfh0UsDon_RHxLCcYQscAFJCG0a7HT-GSkxHJ5FVts6L7AbiveGA2YGCfethSmjEaI1sp5EmlNpcbcmsRObpS7WQfA4nwXBZ1nEvYcjPtt2_4ZT4LZ_x5f3r7bvLW8Z7_uc-32fnXiHv3T8auPCiDTJVkarKAcQEIYgpQSppQYllBJQrtflGrZVtd1WEIpMkMNKF4WmACtxfgBtnOusV1wp0gxpQSzimOrdrgJVKlWBEdlKK1jrIieHi6ELSRIVtK6x33AFNWAoZShkw5Bkp7N-AA" rel="nofollow noreferrer" title="Perl – Attempt This Online">Attempt This Online!</a> - Perl v5.36+<br />
<a href="https://tio.run/##XZJtb9sgEMff8ykosRrYHOdh2aaEWX6zdKo0pVOWd3OHMMG1NTAWxlLSrZ89O2ea1k5wp@Puzw840Vbt@UPWVi2OPE4xmRKc4NbrB@F1a6TSdDxNXmVCVNIEoZxta6N9TnPG8920G8d4DFZCUjzoQdAE3YSOCnFz@3kjBIvxnAGSTPuacFQ3teh0oKRVXieFVD@CBydMbetAYkyWi9Vy9e79YvWWMI5K52lUpzMembQEfke/7j/ebhlnP3Fd0sh864I3uoGITeb3aUryhjAQd30BFUjHs3gyZ/yirplWlRskHAN1zhGGPKb/GNfXgJzdX6Xj0RiOiGx6aYWVQVU08jFIOB4gf1pkZBeE9h5uya7SL7vNJ7G9E5vd7m6Xkc2QX2OyppHNyN73eo1hRW6k6SCE5@EnuMCFRiJD@NN/TaaMn79Tmrxm4BjN3rB8@Ytmab6IWJIxliVZdD6P8N5LUzcH76zuEJKoKJBSCimnHLLSWon6quordDydjscTKmQjwdDBheDAoYP8OxAa4a1rJuEFEfYAC5WyLCF@fDwh21t7Ql42B2dR5UIHhp5teoYEqITjhnlxL0pDsVAKvsGgUDB/Aw" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a> - PCRE2 v10.33 / <a href="https://ato.pxeger.com/run?1=XZLdbtMwFMfFrZ_Cc6PVhjT9oHy0JsoNHZqEOhR6R4bluM4SESeR40jtYC8CN5MQr8P9eBpOWhAbss_J8Tl__2wf5dv3Jm9ufz36-iqCAHsWh5iMCQ5wY_WVsLoppdJ0OA4eR0LksnRC1aYpSm0TmjCexON26OMhWAZJcaV7QeV05VoqxNn525UQzMdTBkgy7grCUVEVotWOkkZZHaRSfXIWnCgLUzjiYzKfLeaL5y9mi2eEcZTVlnpFOOFeGWbAb-n7zevzNePsMy4y6pUfWmdLXUHERtPLMCRJRRiI2y6FCqT9iT-aMn5QF0yrvO4lHAN1yhGGPKb_GKengJxcnoTDwRCO8Ex4aIWRTuXUsz5IOO4hxxaVsnVCWwu3ZCfhu3j1RqwvxCqOL-KIrPr8EpMl9UxENrbTSwwrcibLFkJ4Hr6BCxxoxCsJv_mvyZTxH53LRi_v8EdKgycMHKPRU5bMv9AoTGYeCyLGoiDyjrrbP5-7nwO8sbIsqq2tjW4RkihNkVIKqVrVyEhjJOryvMvRbr_f7fYolZUEQ9vauRoc2sq_A6EBXtfVyD0gwh5goUxmGcTX13tkOmP2yMpqWxuU164FQ_c23UMCVMJx_Ty4B6W-mCoF_0avUDCPz_oN" rel="nofollow noreferrer" title="PHP – Attempt This Online">Attempt This Online!</a> - PCRE2 v10.40+<br />
<a href="https://tio.run/##XVFNj9owEL37V0xhtdi7QJel6iFZFqmHHnuoOLQCGjmO86EmduQ4grDlr5eOHWihTjwae2bem3kWdT3JhDgNCyXKNpHwEmvd2PdGZnI/zev6lYicG4jq9RYW8HXwabf7Gc/b7133bZV/3OX09IPS6SNDw@hyzjYfftHlYvN8x6ZLxpbT5d2J/V8zGMNDvYjqx1lI/hEXyGskr15JoSzUBm0kjdGGCq0aC76Ph0o2Dc8ke2tsEgQCE@DlBc63zvX3UiVlCEba1iiYhUcPWfFCUQZvBHDVa2QrpaI1m8y2i6cQWsyZP0cWtDu5ggwdn@wxMb9QGQbq1obQ9@TFCgKvFtLRenxzFQSF4I1k4eW2qbgVOexybnvkVBugjuvgSD1PJm1ZKEn7AQs17ikR5LCYXdp3q0iBHhhgzElDRxs1YuFN1Beun7Zwfw8X/91iNByxv2leC6d1Sq87jxrJjch7hLFveIwDMljCYGVaGQAMIIDBZ142eBhcEac7U1jZV05FhLJRdp5h2hQH6U6zsZtVu6l83dHb83uh6MfTEFaGow6J0fi4hHASx0QIQYQWmlS8qjhp87zNyb7r9vuOxFxx3CTR1mo0JOGXj5AhfNFqYm8QsQaxSMrTFP3DoSNVW1UdMVwluiK5tg1uclV0BYmgHOnc781NyAVjIWIuXIbA/7dIS541p0npRY68xn8A" rel="nofollow noreferrer" title="C++ (gcc) – Try It Online">Try it online!</a> - Boost<br />
<a href="https://ato.pxeger.com/run?1=bU9LTsMwEN3PKYa0UmPRRi2wQEFWdixZddcWyXEcEsmfynGkJOImbLqBO7DlAOx7G-yWilZCno-tee-N39vHtneV0bvPWm2Nddj0zdSKF9GBRYo2iqL31pWz-z0-x3FyTXwhcXZL1nevcUbXN2OSZIRkSTb-xX15ymqRzhabBxzoHEpjUWKtg3LSuKLWKSDWJQ4pbm2tXUyObyl0LAkyXaBceTqlk7WepCipXM2D3j-w-eaKTkaTk5LQBY2WthUpYhTABydJI5jlVWyn6IlCNgKjR-ZbilHY_ceVJPx5cXSy23-PcGmZrHVhjRINAIM8B845cMMNKKYUg7aq2gq6vu-6HnKmmU8ojHPGFyjY6QCM8MnombtQ9ByvBSUrS38fhh5Uq1QP1vszCirjGp9wRjqT9KLMrwtxKBejMMw5zxkPCO7jaOsH" rel="nofollow noreferrer" title="Python – Attempt This Online">Attempt This Online!</a> - Python <sub><sup><code>import regex</code></sup></sub></p>
<p>This has been a special-case rollercoaster. The original versions needed <code>|^.$</code> to match one-character strings – and then two 38 byte versions suddenly didn't need that anymore, and just naturally matched one-character strings. And then at 37 the <code>|^.$</code> was back... it stuck around during the drop to 33 bytes.</p>
<p>Now at 32 bytes, it's still there, but hiding. It's subsumed into the rest of the expression, at the cost of also matching an empty string (which is allowed by the challenge's rules).</p>
<p>The following explanation is for the 33 byte version, because it's easier to format the comments. The transformation is <code>^pattern.?$|^.$</code> → <code>^(pattern)?.?$</code>, with all of <code>pattern</code>'s capture group indices incremented by 1.</p>
<pre><code>^                 # Anchor start
(.+)              # Match the longest prefix that we conjecture (but later prove)
                  # recurs as a suffix, and capture it in \1.
# Match the palindromic subsection at the end, using recursion
(                 # Define recursive subroutine (?2)
    (.)           # \3 = one character from the left side
    (?2)          # Call self recursively
    \3            # Match the same character on the right side
|           # or...
    (?=\1$)       # End the recursion. Assert that the remaining suffix exactly
                  # matches the prefix we captured.
    .?            # Optionally skip one character, which will happen if the
                  # palindromic portion is odd in length.
)
.?                # Optionally skip one character at the end. This will have been
                  # verified already by the &quot;(?=\1$)&quot; above, so we don't need to
                  # do so again.
$                 # Assert we've reached the end of the string.
|^.$              # Match a one-character string as a special case, since the
                  # above algorithm only works on multi-character tralindromes.
</code></pre>
<p>A previous 38 byte version was PCRE2-only due to use of non-atomic lookahead, but that has turned out to be unnecessary.</p>
<h1>Regex (Ruby), <s>53</s> <s>52</s> <s>44</s> <s>43</s> <s>39</s> 38 bytes</h1>
<pre><code>^((.+)((.)\g&lt;3&gt;\k&lt;4+0&gt;|(?=\2$).?))?.?$
</code></pre>
<p><a href="https://tio.run/##VU3fb4IwEH6/v@JEoxIjQbcnsRITt0cfFt/EkVKKkLWFFIhglv3rrOiWaHr35a7fj9N11HYaCX7wM28KR/EL7raHraM5jT3MiOvhJc0ER0HOvCoBMUswG/T/RV2VHnJ10y28nhDH@eJEiBUoyzMOcXQdZ7483VR360A4XBZV6@N4bOTuaUAmw4nhEAudqQoFkh/U6KN10DVfIVq4QuuditIs1n/Sn/a@huHbfheG3ed06sxsA3ZwXr9sgq/168zdfE99EixHtuPbtu/4o64b4kFTkalY55KXABSiCBhjwHKWg6RSUqjTtE6hadumaSGiipqGOK@q3ADE9P8BDHGfq3n1lGg8JgsSmiRmvl5bkLWULWiq4lxCmlelaXgwPUSaUGrO9XWDJ6onI8YiynoFM/UL" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>This is the <s>47</s> <s>46</s> <s>38</s> <s>37</s> <s>33</s> 32 byte regex ported to Ruby's subroutine call syntax. <code>\k&lt;4+0&gt;</code> retrieves <code>\4</code> from the current level of recursion, whereas what <code>\4</code> would retrieve may have been overwritten at a deeper level of recursion.</p>
<h1>Regex (.NET), 35 bytes</h1>
<pre><code>^(.?(.)*.?)(?&lt;-2&gt;\2)*(?(2)^)\1$|^.$
</code></pre>
<p><a href="https://tio.run/##bU/BasMwDL3rK0xqiF2WsPaYrEthsNt26m1dwXGcOSy2i@PQJF2@vVMHgw6GJVmS33uSj@6kfKdV216o37x59aGG9yyz6sS28eXA0oKlfJkWnBUPyfpxv@ZLVrA1P/D9in4dUnqJt3fRkzPHplVVxHM6be7z2nklpGa0JY0ltLHHPvBzUzM68fPJN0El2nVhRvAqb2qCwETYKrEuXNO2@VTxYhnzWzDBV1yrbawiEWU/LJ@@iCC16pDFOTnHO9@rjMQzUW2nsH4WeGfxzEk05/9r0Xa@LMjOC6wq74zqAASUJUgpQTrpwAhjBPRa9xqGcRyGEUphBTpULgSHASrxewAW5NXZJPxRRA5qQS3qGvNpGsH0xozg8dvOgHahQ4cb0o0kigocd7WfAKKUshTy2pJo3w" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>
<p>From <a href="https://codegolf.stackexchange.com/a/250413/17216">Neil's Retina answer</a>; please see his post for the explanation. Beats my .NET regex by <s>20</s> <s>12</s> <s>11</s> <s>7</s> 6 bytes.</p>
<p>I have ported it to my style here, optimizing for the best speed at its length. Moving the special-case test to the end should make it theoretically faster to match any valid multi-character tralindrome, at the cost of being slower to match a one-character string.</p>
<p>Ported to PCRE2, this is 55 bytes, demonstrating that what's optimal in one regex engine isn't necessarily so in others:</p>
<pre><code>^(?*((.?).*(?=(.*))(.?)))\2((.)(?5)\6|(?=\3$)\4)\1$|^.$
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XZLdbtMwFMfFrZ_Cc6PVrtL0g26jC1Fu6NAk1KHSO7JZjussEXEcOY7Uju1F4GYS4jl4jvE0nLQgBorPyfHf5_xsH_nrtzqvH3---PI6hgB7FkeYjAgOcG3VLbeqLoVUtD8KBjHnuSgdl0bXRalsQhMWJqtR0_dxHywDkd-qLqFyqnIN5fzi8t2Cc-bjCQMkGbUFCVFRFbxRjpJaWhWkQn5yFhwvC1044mMym85n89Oz6fyEsBBlxlKviMahV0YZ8Bv6Yf3mcslC9hkXGfXKj42zpaogYsPJdRSRpCIMkps2hRWQ_bE_nLBwn10wJXPTpYQYqJMQYdAx_cs4Pgbk-Poo6vf6sIWno30rtHAyp571ISXEHeTQolI0jitr4ZTsKHq_Wrzlyyu-WK2uVjFZdPo5JufU0zFZ21adY5iRC1E2EML18AMcYE8jXknCh_-aTFn4vXXZ8NXT2Q2NB5QGMQsGNI5oMGCsmzGWTEFmND5hyek9LCUvPZbMWDLx7m8C71D--Pv39KOH11aURbWxRqsGIYHSFEkpkTTSIC20FqjN8zZH291uu92hVFQCDG2McwYc2og_H0I9vDTV0P1DhBpgoUxkGcR3dzukW613yIpqYzTKjWvA0LOiZ0iACtiuG3uHRColvJFOkjAO9_gF" rel="nofollow noreferrer" title="PHP – Attempt This Online">Attempt This Online!</a> - PCRE2 v10.40+</p>
<h1>Regex (<sub><sup>.NET</sup></sub>), <s>64</s> <s>63</s> <s>55</s> <s>47</s> <s>46</s> <s>42</s> 41 bytes</h1>
<pre><code>^((.+)(.)*(?=\2$).?(?&lt;-3&gt;\3)*(?(3)^))?.?$
</code></pre>
<p><a href="https://tio.run/##bU9fa4MwEH@/TxHagEk3ZVvfdJ2Fwd62p76tK8QYF5kxJUaqFj@7OwuDFkbuLnf5/UlytCflGq2qaqJu8@nUt@q@4rhWJ7YNpgNj0R1nEV@xdLN/ojxKWfocrl/26/mIrfmB8zRK6RRs7xev1hzLSuULntBh85AU1ikhNaMVKWtCy/rYen4uC0YHfj650qtQ28aPSH5MyoIgMRR1HtbWz21V/qhguQr4NZkgio@rylqRBWUXlYvehZdaNajinJyDnWtVTIKRqKpROL8J3ONg5GQxJv970WqclmTnBE65s0Y1AAKyDKSUIK20YIQxAlqtWw1d33ddD5moBSbk1nuLBXLxtwCW5MPWob9xRA16QSGKAvth6MG0xvTg8NvWgLa@wYQr0ZUlmgq8bo5LuYFmMJMyE3JmSIxf" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>
<p>At <s>55</s> <s>47</s> <s>46</s> <s>42</s> 41 bytes, this is now a port of the <s>38</s> <s>37</s> <s>33</s> 32 byte Perl/PCRE2/Boost regex.</p>
<p><code>((.)(?3)\4|pattern3.?)</code> becomes <code>(.)*pattern3.?(?&lt;-3&gt;\3)*(?(3)^)</code>, using .NET's balancing groups instead of recursion to match the palindromic subsection:</p>
<p><code>(.)*</code> - capture the left half of the palindrome, pushing it onto the <code>\3</code> stack one character at a time.</p>
<p><code>.?</code> - optionally skip one character, in the case that the palindrome is odd in length.</p>
<p><code>(?&lt;-3&gt;\3)*</code> - pop every character off the <code>\3</code> stack, matching them in reverse order.</p>
<p><code>(?(3)^)</code> - assert that if the <code>\3</code> stack isn't empty, then something impossible (that we're at the start of the string) is true – i.e. assert that the <code>\3</code> stack is empty.</p>
<h1>Regex (<sub><sup>Perl / </sup></sub>PCRE<sub><sup> / .NET</sup></sub>), <s>61</s> <s>57</s> 51 bytes</h1>
<pre><code>^(.+)((.?)(?=.*?(\3(?(4)\4|.?)$)))+(?=\1$).?\4$|^.$
</code></pre>
<p><a href="https://tio.run/##VU1Nb4JAEL3Pr5joRnaroqT2IiIxsT325JFIlhUiCcvaBRLxo3/dDm1sNDtf@96bN4fUFm833SKzPp4Lo2SBbOLTN1isV5vV8gqZsZzlwdRfLH3qnjhjnhEizgeblzX2orLnX5EVGGDVJFVN8ng09kaeSL86EsMHfEqMwDmy2AckI@S0OBj8KwpSeKJMnb5zP8A7SfCNE2YnuQidjW3SOaIzdz5kUdHoCP9KZn9qVvh4jeP3z3Uc37bcHQrO3VDwMHBfQh698pDPRDS7EMaEEEMiIo8JN4xm7LJ12e3Wx42VRV7urNFpBSAhSUApBcooA1pqLaHZ75s9HNv2eGwhkaWkhJ2pa0MFdvL@APr4acpx/eRIO@QFmcwymk@nFnSjdQtWljujYW/qihIelh4syVTSuS5@yxPVkYlSiVSdQlH8AA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a> - Perl v5.28.2 / <a href="https://ato.pxeger.com/run?1=VU_NTsJAEL7PU0xgY3cVCo0cDLU2JurRE8eGZru0oUm3i9s2oSK-iBcO-jqe5W2cihjMzt_O97PZt_dVaovd_ku3yKyPm8IoWSAb-XQNru9uZ7c3W8iM5SwPxv71jU_dExvMM9qIzcrmZY29qOz5W2QFBlg1SVUTPR4MvYEn0qcOxPBkPyZE4BRZ7AOSEXISnp39MQpieKJMnb5zfIB3lOAVR8yOchE6M9ukU0Rn6jzIoqLREf6WzA5sVvi4jeP7x7s4_mjqbHi1v5xz90Jw7oaCh4F7HvLokod8IqLJC-2YEOKCgMhjwg2jCXuZu-wg3f22_WcfZ1YWebmwRqcVgIQkAaUUKKMMaKm1hGa5bJawbtv1uoVElpISFqauDRVYyOMB6OOjKYf1P0fSkBdkMstofn5uQTdat2BluTAalqauKOFEdGJJppKe6-Kn_IM6MFEqkapjKIrDt74B" rel="nofollow noreferrer" title="Perl – Attempt This Online">Attempt This Online!</a> - Perl v5.36+<br />
<strong><a href="https://tio.run/##lVJRb5swEH73r3BdVOyVQKLlKYTxsnSqNKVTlrfRWsaYgoZxZBsp6drfnh2ZqjV9K7ZPx3efvzudrxSuOVolKjyxFQ5DbJfLkH/wC9Ey3zU7HFicYZIQHOOdVY/cql0npKJhEn/KOW9E57k0etd2yha0YGmxSVwYQdoI1wDyRzUSeq967yjnN7ffV5yzCM8YSIJwitq@5U55SnbSqrgU8re3YHjX6taTCJPJjLAUn9OskoN1renf0VBtLA3abJoGXVZDckd/br/erlnK/uC2pkH3y3nbqR48NpndZxkpesKA7IYSIgBH02gyGxMCu2VKNmakpBhUZynCgGP6X@PqCiSn9xdZeBlCikBnpz5p4WVDAxsBJcWjyL/@dcJ5rqyFKtlF9mOz@sbXd3y12dxtcrIa8QUmCxronGztoBYY/siN6By4YxdeoICTGgk6kr68ewHK0uMDja8ZpXHOaJ7BI9HiM83pnBXzZ8ACxtg1BIpZwOK8mAfPD3Fw/Oh0oFMJkx6qsOSLNJWKYVhStVcSJ4OzSdn2yTg@r6HjJd5a0bV9ZY1WDiGByhJJKZE00iAttBZoaJqhQfvDYb8/oFL0Ag6qjPcGDKrE60LoEq9NP/FninAHtFAt6hr8p6cD0oPWB2RFXxmNGuMdHPTm0htJEBWQbtwncxYag6WUMJkjQ8L@Cw" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a> - PCRE1</strong><br />
<a href="https://tio.run/##XZJRb9sgEMff@RSUoAZW10m6bFPiWX5ZWlWa0inL29wiTHBtDYyFsZR07WfPzpmmtZO503H35wc@aKv2@DlrqxZTj1NMJgTHuPX6UXjdGqk0G0/id5kQlTRBKGfb2mifs5wn@WbSjSM8BishKR71IGiCbkLHhLi@/boSgkd4xgFJJn1NElQ3teh0YKRVXseFVD@DBydMbetAIkzmV4v54uOnq8UHwhNUOs9onU4TatIS@B37vv1yu@YJ/4XrklHzowve6AYifjm7T1OSN4SDuOsLqEA6mkaXM56c1DXXqnKDJMFAnSUIQx6zf4zzc0BO78/S8WgMW1CbnlphZVAVoz4CSYIHyJ8WGdkFob2HU/Kz9NtmdSPWd2K12dxtMrIa8ktMlozajGx9r5cYZuRamg5C@D38Agc40Qg1JHn5r8mMJ8cHFl9wxuKMsyyFe2D5e5axOc/nz5CjnPMLKOQzyuMsn9Pnh5gejyO89dLUzc47qzuEJCoKpJRCyimHrLRWor6q@grtD4f9/oAK2UgwtHMhOHBoJ/9@CI3w2jWX4Q0R1gALlbIsIX56OiDbW3tAXjY7Z1HlQgeGXi16hQSohO2GcXJvSkOxUApexqBQMH4D" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a> - PCRE2 v10.33 / <a href="https://ato.pxeger.com/run?1=XZLdbtMwFMfFrZ_Cc63VZmnabuWjDVFu6NAk1KHSO7JZjussEXESOY7Uju1F4GbStNfhfjwNJy2IDcU-OTnnf362j_Pjvs7qu18vvr-LwMHU4hCTIcE-rq2-ElbXhVSa9Yf-y0iITBZOqMrUeaFtzGIexMth0_dwH2YKQXGlO0HpdOkaJsTp2ce5ENzDYw5IMmxzEqC8zEWjHSO1stpPpPrqLBhR5CZ3xMNkcjydTF-_OZ6-IjxAaWUZzcNRQIswBX7DPq_eny14wL_hPGW0-NI4W-gSPD4YX4QhiUvCQdy0CWQg7I28wZgHO3XOtcqqThJgoI4DhCGO2T_G4SEgRxcHYb_XhyWoCXetMNKpjFHrgSTAHWTfokI2TmhrYZf8IPy0nH8Qi3MxXy7PlxGZd_EZJjNGTURWttUzDF_kVBYNuHA8fAsb2NEILUhw-1-TGQ8eWpcO3j6eXDL_iDPmR5xFIVwHi09YxCY8ntxAjHLOjyARjyn3o3hCby59ui-9-_N6_NnDKyuLvFzbyugGIYmSBCmlkKpUhYw0RqI2y9oMbbbbzWaLEllKmGhdOVeBQWv590GohxdVOXDPiFADLJTKNAX_-nqLTGvMFllZriuDsso1MNGToidIgEpYrhs78yzVJROl4HfpFArG_li_AQ" rel="nofollow noreferrer" title="PHP – Attempt This Online">Attempt This Online!</a> - PCRE2 v10.40+<br />
<a href="https://tio.run/##bU9fa4MwEH@/TxHagEk7ZWV9UoqFwd62p77NFWKMU2ZMiZGqrZ/dnYVBCyN3l7v8/iQ5mbOyTaGqaqJ292nVt@q@wrBWZ7b3piML1pyxIOYs3gWrmCUvLGZbnmyveEY552sEkg3lQZxs6fUY0MnbPy1ejT6VlcoWPKLD7jnKjVVCFoxWpKwJLetT6/ilzBkd@OVsS6f8wjRuRPImKnOCRF/UmV8bN7dV@aO85crj92SCKD6zKmtFFpTdVDZ4F04WqkEV5@TiHWyrQuKNRFWNwvlN4B56IyeLMfrfi1bjtCQHK3DKrNGqARCQpiClBGmkAS20FtAWRVtA1/dd10MqaoEJmXHOYIFM/C2AJfkwte8eHFGDXpCLPMd@GHrQrdY9WPy20VAY12DCnejOEk0FXjfHrTxAM5hKmQo5MyTGLw" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a> - .NET</p>
<p>This is a port of the <s>46</s> <s>38</s> 33 byte Perl/PCRE2/Boost version, to regex engines that don't have recursion (or do have it, but not in a non-atomic form, in the case of PCRE1). To match the palindromic subsection, group-building (with a nested backreference) is used instead of recursion.</p>
<h1>Regex (Java<sub><sup> / Perl / PCRE / .NET</sup></sub>), <s>66</s> 56 bytes</h1>
<pre><code>^(.+?)((.?)(?=.*?(\3(\4|(?!\6).?)$))())+(?=\1$).?\4$|^.$
</code></pre>
<p><strong><a href="https://tio.run/##bZFbT9swFIDf/SsOoVrtMkzR0B6IsmqTxtNA0@BtHZLjOI3Bl852oKX0t3cnbZjoRhI79rl853YnHsTxXXW/0XbuQ4I7vHPt@SiH15I2afOmLKiZWnSaeVsaLUEaESNcCu1g1YtiEgl/D15XYFFBr1PQbgYizOLPXwxSE/xjhK8LqeZJe3QkABfaKKgLpx63R5px6SvFUZ@x/Etb1yqo6ocSlQpQbs32hfTFs7/WjOV93Pg@5Y9Nx6c0FiWWIKpv2inK2EHhWmOYrmnk6ncrTKTZyWg0yhhb7ZvuCJSmNwErJKS/BAScIKFEu/s8HhXDqRt2/5Svd7L1d5GSCg5C0Z@wWjvvAkSWYzeupXAOK9Vu3iYooCuul9HrZUzKcu0Yjscl0MU4h76@rT1vRLxSi4TpwQowM31QjFnv5lE/x7Yk42gHKE67eBhx1yuDwXYQh4S@dGQANdwoN0sNZZ/G8O4dGC4bET4nOsYmDA@HbDvG7rkUSTaYvEVW4HZ3owY5/@ZQU8tr7SrKYALZTWjVOUAG55BdYCPxgrNf/@fVodbrNekGtbml/GjCKOW4TQo@mtDpBzo9e6aTg@lHhtIBY9iII1ROTwcomJ4Nnm/5YNMNaXMIN0EYzCB4qyIhgpQlkVIS6aUnVlgrSNs0bUMWy@VisSSlcAIXqXxKHjdSiZeXkEO48u447RHRB1mkFnWN56enJbGttUsShKu8JY1PERd55fQKiVCB4bpvu@2pOmUpZSlkZyHx@wM" rel="nofollow noreferrer" title="Java (JDK) – Try It Online">Try it online!</a> - Java 12.0.2 / <a href="https://ato.pxeger.com/run?1=bZLbTtswGIAvduen-CkVtcswRUMTIsqqnZAmAUKUXa1Dchyn8ZbYneNAS-mT7IYL9jq7Z0-z301AsJGD4__0_Qfn5-03cSFu_rzo6nJqnYcgcm15P4LHmtrr4lmdUxM1-9eC8Qe6UBFM66TQEmQhqgqOhDawaFWVFx4_F1anUKKBjrzTZgLCTaovXxn43NnLCj7OpJp6bTGQAAQoZLFRl6stDUS-gvOJ8ifOeiWD8we7QrKgfW9TNbK1k6qRD60UwQclbz-ffmq0J8LnlLHoXZ1lyqn0VIlUOUhWuZ4q6X36VswwDGtr669e-ugyD3VSWsUJzkekh9pgcrYWm7oomM5oxdWPWhQV7Wz3-_0OY4unrg2BUv8sYIEE_0BAwDYSEvT7HlWbcW9seuHro2WjW2Jx2J5XzoCL2x2XtpyGHBWLYCSFMditNtPaQwyhwVZHR_PKq5Jrg37aeNDxIIK2wZU_z0V1rGYe64MFYGl6LR6wNsyifYpz8QXOGwHxThjVw7AKTNZADBLa3pEBtOCFMpNwJm8GsLEBBZe5cG89HeAUeus9tvofwnUkvMyx-BJZjpeNRIvQ1j81ZLTkmTYpZTCEzpmr1T5AB_ahc4CTRKHDouV_UQG1XC5JOKlftc-29u72zinfHDJKOS7DmPeHdPyKjnev6XBt_JqhtssYzmMTjeOdLirGu93rc95t4m_DkTXbm7vf63DmRIFlOVuqihBBkoRIKYm00pJSlKUgdZ7XOZnN57PZnCTCCHxJar23uJBU3N-ErMOxNVv-CRFjkEUykWW4v7qak7IuyzlxwqS2JLn1Fb7kUdAjJEIFpgvPanliCsZEykTI4CHxadr6Cw" rel="nofollow noreferrer" title="Java – Attempt This Online">Attempt This Online!</a> - Java 18.0.1+</strong><br />
<a href="https://tio.run/##VU3LbsIwELzvV2zBauzyjEp7IIQIifbIiWNE5JhERIpj6iQS4dFfp5tWVCDvyzOzs/vE5m9X3SCzHp5yo2SObOTR158tF@vF/AKpsZxl/tibzT3qrjhhlhIiTnubFRV2wqLjXZDl6GNZx2VF8qg/cPuuSL5aEoM7fEyMwCmyyAMkI@S0@Pz8r8hJ4YoicbrO7QBvJf43jpgdZSJw1rZOpojO1PmUeUmjI7wLmf2pWe7hJYo@Vssoum74sBcIzodUAn/4EvDwlYeTMw@ewndBKBOCC9EjMnQZAeGEnTdDdr12cW1lnhVba3RSAkiIY1BKgTLKgJZaS6h3u3oHh6Y5HBqIZSEpYWuqylCBrbw9gC6uTDGoHhxph7wglWlK8/HYgK61bsDKYms07ExVUsLd0p0lmUo618ZveaBaMlYqlqpVKIof" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a> - Perl v5.28.2 / <a href="https://ato.pxeger.com/run?1=VU_LTsMwELzvVyytRWxKWyIqhJqGqBJw5NRjROQ4iRopjsFJpKal_AgXDvA7nOnfsKGAirwvz8yO5Ze3h9QWr7tP3SKzHm4Ko2SBbOzR1Z9dzxfzqy1kxnKW-2fe7Mqj7ooN5hkhYvNg87LGXlj2vC2yAn2smriqSR6dDt1TV6SPHYnBAX5GjMApssgDJCPktHh8_KcoSOGKMnX6zu8DvJP4zzhmdpyLwFnYJp0iOlPnVhYVjY7wtmS2V7PCw20U3dxdR9F7U2fDy93lPR8NAsH5iErgj04CHp7zcPLEg6PwQhDKhOBCDIgMXUZAOGFP9yO233_9abuPPi6sLPIysUanFYCEOAalFCijDGiptYRmuWyWsGrb1aqFWJaSEhJT14YKJPL3APTxzpTD-p8j7ZAXZDLLaF6vW9CN1i1YWSZGw9LUFSUcLB1Ykqmk57r4Lv-ojoyViqXqFIpi_60v" rel="nofollow noreferrer" title="Perl – Attempt This Online">Attempt This Online!</a> - Perl v5.36+<br />
<a href="https://tio.run/##lVJNb9swDL3rVyiKUUur4yRYsUMcz5elQ4EhHbLc5laQZbk2ZlmBJANJP357Rmco1vRWSyLox6dHgmIhXH20SpR4YkschtgulyH/4BeiZbardziwOMVkSnCMd1Y9cKt2rZCKhtP4U8Z5LVrPpdG7plU2pzlL8s3UhRGkjXAFIH9QA6HzqvOOcn5982PFOYvwnIEkCCeo6RrulKdkJ62KCyH/eAuGt41uPIkwmcwJS/A5zSrZW9eY7h0NVcbSoElnSdCmFSR39Nf2282aJewJNxUN2t/O21Z14LHJ/C5NSd4RBmTXFxABOJpFk/mQENgNU7I2AyXBoDpPEAYc0/8aFxcgObsbpeE4hBSBTk990sLLmgY2AkqCB5F//WuF81xZC1WyUfpzs/rO17d8tdncbjKyGvAFJgsa6Ixsba8WGP7ItWgduEMXXqCAkxoJWpK8vHsBypLjPY0vM0ZpDCZL4ZVo/pnmV880G@VfGKABY5SxSwjm8wCA/Cp4vo@D40dHBJ3qmHRQiiVfpSlVDBOTqL2SeNo7Oy2abjrM0GvoOMZbK9qmK63RyiEkUFEgKSWSRhqkhdYC9XXd12h/OOz3B1SITsBBpfHegEGleF0IjfHadBN/pgh3QAtVoqrAf3w8IN1rfUBWdKXRqDbewUFvLr2RBFEB6YZ9MmehIVhICeM5MCTsvw" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a> - PCRE1<br />
<a href="https://tio.run/##XZLRbpswFIbv/RSOYxV7JSTpsk6Jh7hZOlWa0inL3Wgt45iChgEZIyVd@@zZIdO0dsI@Ovzn92dzTFu0p09JW7SYOhxjMiU4wq0zj9KZtlLasGAavUukLFTlpW5sW1bGpSzlIt1OuyDEAcwcRPloBkPtTe07JuXN7de1lDzEcw5IMu1LIlBZl7IznpFWOxNlSv/0DoKsSlt6EmKyuFoultcfr5YfCBcobxyjZTwTtIpz4Hfs@@7z7YYL/guXOaPVj867ytSQ8cn8Po5JWhMO5q7PoAJyOAsncy7O7pIbXTSDRWCgzgXCoGP2j3FxAcjZ/SgOxgFsQW18boVVXheMuhAsAg@QPy2qVOelcQ5OyUfxt@36i9zcyfV2e7dNyHrQV5isGLUJ2bnerDC8kRtVdZDC5@EXOMCZRmhFxMt/TWZcnB5YdJlwxiIISQwXwdL3LF08s2SUXnNQKeeM80sopnMKQrqgzw8RPZ3GeOdUVdZ711jTIaRQliGtNdKNbpBV1irUF0VfoMPxeDgcUaZqBRPtG@8bCGiv/j4IjfGmqSf@DRHWAAvlKs8hf3o6Ittbe0RO1fvGoqLxHUz0atErJEAVbDeMc3hTGoqZ1vB7DA4N4zc" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a> - PCRE2 v10.33 / <a href="https://ato.pxeger.com/run?1=XVLRbtMwFBWv_grXtVabpWk7ylgXorysQ5NQh0rfyGY5rrNExEnkOFI7th-Bl0mI3-F9fA03LYgN2ffm-txzj-3rfPteZ_XDrxdf30YQYGpxiMmIYB_XVt8Iq-tCKs0GI_9lJEQmCydUZeq80DZmMQ_i5agZeHgAlgIobnRHKJ0uXcOEOL94PxeCe3jCQZKM2pwEKC9z0WjHSK2s9hOpPjsLThS5yR3xMJkezaaz4zdHs9eEByitLKN5OA5oEaag37CPq7OLBQ_4F5ynjBafGmcLXULEh5OrMCRxSTiQmzaBDMDe2BtOeLBj51yrrOooAQbVSYAw4Jj90zg4AMnxVS8c9AewBTXhrhVGOpUxaj2gBLgT2beokI0T2lo4Je-FH5bzd2JxKebL5eUyIvMOP8XklFETkZVt9SmGFTmXRQMhXA_fwwF2aoQWJLj_r8mMBz9alw5PHk-umX8YccZ8cFEI78HiVyye3rGoFx9zQCnnjPNDSMYTCkA8pXfXPt3XP_z5PP7s45WVRV6ubWV0g5BESYKUUkhVqkJGGiNRm2Vthjbb7WazRYksJRhaV85V4NBa_h0I9fGiKofumSLUgBZKZZpCfHu7RaY1ZousLNeVQVnlGjD0pOiJJIhK2K6bO_cs1SUTpeCf6RgK5v5avwE" rel="nofollow noreferrer" title="PHP – Attempt This Online">Attempt This Online!</a> - PCRE2 v10.40+<br />
<a href="https://tio.run/##bU9fa8IwEH@/T5FpoInOMpnswSIVBnvbnnxbJ6RpupQ1jaQp2mo/e3cVBgojl8vd/f4kOdijcrVWZTlQt/l06ludvtbrSh3ZNhj2LJzHnLEQU7wJZzFLnlmyurD4IXnhOKWcM87nCCZLioNkRS/7kA7B9nHyas2hKFU24RHtNk9Rbp0SUjNakqIitKgOjefnIme04@ejK7xaaFv7HsnLqMgJEheiyhaV9WNZFj8qmM4CfksmiOJby6JSZELZVeXCd@GlVjWqOCfnYOcatSZBT1RZK@zfBJ7roOdk0kf/e9GyH6Zk5wR2mbNG1QAC0hSklCCttGCEMQIarRsNp7Y9nVpIRSVwQ2a9t5ggE38LYEo@bLXwd46oQS/IRZ5j3XUtmMaYFhx@2xrQ1te44UZ0Y4mmAq8b45ruoBFMpUyFHBkS4xc" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a> - .NET</p>
<p>This is a port of the <s>61</s> 51 byte Perl/PCRE/.NET version, to regex engines that don't have conditionals but do have nested backreferences.</p>
<p>Java seems to have some bugs in its regex engine, especially in the vein of giving up on backtracking when there are too many possibilities (and there don't even have to be all that many). To work around this, <code>(.+?)</code> is used instead of <code>(.+)</code>. If Java's regex engine were really behaving well, this wouldn't be necessary.</p>
<p>Some other variants don't play nice in Java. For example, a port of the previous 57 byte Perl/PCRE/.NET version is <strong>62 bytes</strong>:</p>
<pre><code>^(.*)(?=(.)).?((.)(?=.*(\4(\5()|(?!\7))$)))*(?=\1\2$).?\5$|^.$
</code></pre>
<p>But fails in Java: <a href="https://tio.run/##bZFbT9swFIDf/SsOoaJ2NkyZhiYRZdUmjSdA0@BtGZLjOI0htjvbgZbS396dtGGCjTaJfW7fud2Ke3F4W91ttJk7H@EWZa4dTzN4qemibt/UeTVTi94y78pWS5CtCAEuhLawGlQhiojHvdMVGDTQq@i1nYHws/DzF4PYePcQ4NtCqnnUDgMJwJluFdS5VQ/bK024dJXiaE9Y9rWra@VV9UOJSnkot26vlfQ5chBrxrIhb3gfs4em51Ma8hJbENW5tooytpfbrm2Zrmng6ncn2kCTozRNE8ZWr113BErjm4AVEuJfAgKOkFCi310W3uXjwo77M2brnW79XcSovAWfDzfs1sz7BIFlOI0rKazFTrWddxFy6JsbdPRqGaIyXFuG67ERdD7JYOhv688bES7VImJ5sAKsTO/lEzaEObTPcSyxtbQH5Md9Psy4m1WLyXYQi4ShdWQAbXmr7Cw2lH2ewMEBtFw2wn@JdIJDGO@P2XaN/e9CRNlg8QZZnpudRFvk/FtDTQ2vta0ogykk175TpwAJnEJyhoNEAXe//i@qR63Xa9IvanNDecroNKecMT6leKDAU1p8pMUJZU90uld8YmzEGEvRUhwXH0boWJyMnm74aNOvarMP1160WId3RgVCBClLIqUk0klHjDBGkK5puoYslsvFYklKYQW@pHIxOvyQSjz/CdmHS2cP4ysixiCL1KKu8f74uCSmM2ZJvLCVM6RxMeBLXgS9QCJUYLr@2X6IKKUshexVEp8/" rel="nofollow noreferrer" title="Java (JDK) – Try It Online">Try it online!</a> (12.0.2) / <a href="https://ato.pxeger.com/run?1=bZLdTtswFIAvduenOJSK2t1myjS0iShU-0OaBAhRdrUOyXGcxltid44DLaVPshsu2HPsOdjT7LgJCBhJ_HOOz_nOj_Pr-rs4E1d_n3V1ObXOQxC5trwfwX1N7XXxpM6piZo9PkH_PV2oCKZ1UmgJshBVBQdCG1i0qsoLj8uZ1SmUeEBH3mkzAeEm1ddvDHzu7HkFn2ZSTb226EgAAhSy2Kjz1ZYGIl_B-UT5I2e9ksH4o10hWdB-sKka2dpJ1cj7Vopgg5K3X44_N9oj4XPKWPS-zjLlVHqsRKocJKtYD5X0NnwrZuiGubX5Vy98dJ6HPCmt4gT7I9J9bTA4W4tNXRRMZ7Ti6mctiop2Nvv9foexxUPThkCpfxKwQIK_IyBgEwkJ2v2Iqudxb2x6YfXRstEtMTkszytnwMXtjktbTkOMikUwksIYrFabae0hhlBgq6OjeeVVybVBO2086HgQQVvgyp7nojpUM4_5wQIwNb0WD1jrZvF8in3xBfYbAfFWaNVdswoM1kAMEtrakQG04IUyk3AnuwPY2ICCy1y4d54OsAu99R5b_Q_hORBe5ph8iSzHy0aiRSjrUQ4ZLXmmTUoZDKFz4mq1A9CBHejsYSdR6LBo-Z9XQC2XSxJu6nfts5dvb3ZPKe8zOowpZ4wPKS4o8D4dv6bjbcou6XBt_IaxLmOsjyfjrfGrLhqOt7uXp7zbUK7DxTXbq5s_63DiRIHJOVuqihBBkoRIKYm00pJSlKUgdZ7XOZnN57PZnCTCCBwktd5bnEgqbl9C1uHQmpf-ARF9kEUykWW4v7iYk7IuyzlxwqS2JLn1FQ5yz-keEqECw4VvNRGRSJkIGVQSv6aOfw" rel="nofollow noreferrer" title="Java – Attempt This Online">Attempt This Online!</a> (18.0.1+)<br />
This warrants further research.</p>
<h1>Regex (<sub><sup>Perl / PCRE / Python<sup><a href="https://bitbucket.org/mrabarnett/mrab-regex/src/hg/" rel="nofollow noreferrer"><code>regex</code></a></sup> / .NET</sup></sub>), <s>61</s> 59 bytes</h1>
<pre><code>^(.+)((.?)(?=.*?(?=(\3(?(5)\5|.?)$))(\4)))+(?=\1$).?\4$|^.$
</code></pre>
<p><a href="https://tio.run/##VU1Nb4JAEL3Pr5jopuy2FiXVi4ikie3Rk0dSsiwQSFi2XSCRKv3rdmhjY7Pzte@9efOe2Wp10T0y6@OpMkpWyOY@fYPN7vnwvB0gN5azMlj4m61P3RMnLHNCxOndlnWLk6ie@AOyCgNsuqRpSR7PHr2ZJ7KPkcTwBl8QI3CNLPYByQg5Ld7d/SkqUniizpypcz3AR0nwhXNm56UInYPtsjWis3ZeZdXQ6Ah/ILNfNat8HOL4Zb@L48sbdx8E524oeBi49yFVHj3xkK9EtDoTzITg0VII8UBU5DHhhtGSnd9cdrlM8WBlVdapNTprACQkCSilQBllQEutJXRF0RVw7PvjsYdE1pISUtO2hgqk8voAprg39WP7z5F2yAtymec0f372oDute7CyTo2GwrQNJdws3ViSqaRzY/yUf9RIJkolUo0KRfEN" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a> - Perl v5.28.2 / <a href="https://ato.pxeger.com/run?1=VU9LTsMwEN3PKUbUIjbQlAgqoZoQIQHLrrqMiBw3USPFMTiJ1FDKRdiwgOuwprdhQgG18vw8780bzev7Q-bKt82X6ZA5iavSalUiG0n6hpc317PrqzXk1nFWhKfy8kpSDsQKi5w6YvXgiqrBg7g6kGtkJYZYt2ndED05GQYngcgeexCjnf4pIQInyBIJSELIafDw8J9REiMQVeYNvL8FvKeELzhiblSIyJu5NpsgehPvTpU1lZ6QaxLbslkpcZ0kt9ObJPlom3x4sZH33D8WnPuR4FHoH0UUeXzGIz4W8fiZ2kwIHp8LIY4JigMm_Cg-Z8_3PttKvP2mzecAZ06VRTV31mQ1gII0Ba01aKstGGWMgnaxaBew7LrlsoNUVYoc5rZpLAWYq78HMMCprYbNniLNkBbkKs-pfnrqwLTGdOBUNbcGFrapyWFnaEeSRBWt6-0n7EE9mGqdKt0zNNn2rG8" rel="nofollow noreferrer" title="Perl – Attempt This Online">Attempt This Online!</a> - Perl v5.36+<br />
<a href="https://tio.run/##lVJRb5swEH73r3AdVOyVQKK1L6GMl6VTpSmdsryN1jLGFDSMI9tISdf@9uzIVK3pW7F9Or77/N3pfKVwzcEqUeGprXAYYnt9HfIPfiG6zrfNFgcWZ5gkBMd4a9Ujt2rbCalomMSfcs4b0Xkujd62nbIFLVharBMXRpA2wjWA/FGNhN6r3jvK@c3t9yXnLMJzBpIgnKK2b7lTnpKttCouhfztLRjetbr1JMJkOicsxac0q@RgXWv6dzRUG0uDNpulQZfVkNzRn5uvtyuWsj@4rWnQ/XLedqoHj03n91lGip4wILuhhAjA0SyazseEwG6Zko0ZKSkG1XmKMOCY/tc4PwfJ2f1ZFk5CSBHo7NgnLbxsaGAjoKR4FPnXv044z5W1UCU7y36sl9/46o4v1@u7dU6WI77AZEEDnZONHdQCwx@5EZ0Dd@zCCxRwVCNBR9KXdy9AWXp4oPEFozTOGc0zeCSwtPhMc3rFiqtngAPGaHHJGLuAUDEPWJwXl8HzQxwcPjol6FjKtIdqLPkiTaViGJpU7ZTEyeBsUrZ9Mo7Ra@gwwRsruravrNHKISRQWSIpJZJGGqSF1gINTTM0aLff73Z7VIpewEGV8d6AQZV4XQhN8Mr0U3@iCHdAC9WirsF/etojPWi9R1b0ldGoMd7BQW8uvZEEUQHpxn00J6ExWEoJEzoyJOy/" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a> - PCRE1<br />
<a href="https://tio.run/##XZJRb9sgEMff@RSUoBpWx0m6ZFPiWX5ZOlWa0inL29wiTHBtzRgLYynp2s@enTNNaydzp@Puzw980Jbt6VPali2mDieYTAiOcOv0o3C6raXSLJhE71IhSll7oaxpq1q7jGU8zraTLghxAFZAUjzqQdB43fiOCXFz@3UtBA/xjAOSTPqKxKhqKtFpz0irnI5yqX56B07Ulak8CTGZXy/nyw8fr5cLwmNUWMdolUxjWicF8Dv2fff5dsNj/gtXBaP1j867WjcQ8fHsPklI1hAO4q7PoQLpcBqOZzw@qyuuVWkHSYyBOosRhjxm/xiXl4Cc3l8kwSiALahJzq0w0quSUReCJMYD5E@Latl5oZ2DU/KL5Nt2/UVs7sR6u73bpmQ95FeYrBg1Kdm5Xq8wzMiNrDsI4ffwCxzgTCO0JvHLf01mPD49sOiKMxalnKUJ3AN4lr1nKVvwbPEMaco5y@ac8ysoZTPKozSb0@eHiJ5OI7xzsq6avbNGdwhJlOdIKYWUVRYZaYxEfVn2JTocj4fDEeWykWBob7234NBe/v0QGuGNbcb@DRHWAAsVsiggfno6ItMbc0RONntrUGl9B4ZeLXqFBKiE7YZxdm9KQzFXCl7IoFAwfgM" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a> - PCRE2 v10.33 / <a href="https://ato.pxeger.com/run?1=XZJRb9MwEMfFqz-F50arzdK0HS3QmigvdGgS6lDpG9ksx3WWiDiJHEdqx_ZF4GUS4uvwPj4NlxbEhuK7XO7-_tk-59v3Oqvvfz37-iaCAHsWh5gMCQ5wbfW1sLoupNK0PwyeR0JksnBCVabOC21jGjMer4ZN38d9sBSS4lp3gtLp0jVUiLPz9wshmI_HDJBk2OaEo7zMRaMdJbWyOkik-uwsOFHkJnfEx2RyOpvMXr46nU0J4yitLPXycMS9IkyB39CP67fnS8bZF5yn1Cs-Nc4WuoSIDcaXYUjikjAQN20CFUj7I38wZnyvzplWWdVJOAbqmCMMeUz_MY6PATm6PAr7vT4s4Zlw3wojncqoZ32QcNxBDi0qZOOEthZ2yY7CD6vFO7G8EIvV6mIVkUWXn2Myp56JyNq2eo7hi5zJooEQjofvYAN7GvEKwu_-azJl_Efr0sHrB35FgxNGaRAxGoVwHeBp_IJGdMri6S2kPcZoPGGMnUApHnssiOKJd3sVeAfE_Z_Xw88eXltZ5OXGVkY3CEmUJEgphVSlKmSkMRK1WdZmaLvbbbc7lMhSgqFN5VwFDm3k3wehHl5W5cA9IcIcYKFUpinENzc7ZFpjdsjKclMZlFWuAUOPJj1CAlTCct3YuyelrpgoBb9Np1AwDsf6DQ" rel="nofollow noreferrer" title="PHP – Attempt This Online">Attempt This Online!</a> - PCRE2 v10.40+<br />
<strong><a href="https://ato.pxeger.com/run?1=bY_NTsMwDMfvfgrTTVoCrNoEk1CnqjeOnLitm5SmKa2UjylNpXXiTbjsAu_AlQfgvrfBZSBAQrGdD_v_c_z0su1D7ezhtTFb5wO2fXvp1YPagccUfRRFz12opjfH5YbFF5yxOOMsS-PzjCLLr1jGFjxfPNLzmHOWX3POLyiVz8c8zvLr8eMmHn8h3oi2mifT-XqJ-3QGlfOosbFD07gNZWMTQGwq3Ce49Y0NjJ_uWlmmOQpbol6RPE0nuZ0kqFO9mg28f8pm67N0Mpp8k5Qt0-jedypBjIbizyHjVgkva-YvkYRKtwqjW0FbgtHQ-0er-fDn-WmSw_F9hPde6MaW3hnVAggoCpBSgnTSgRHGCOjquqth1_e7XQ-FsIIcSheCowCl-F4AI7xzdhr-EElDLKhEVdF5v-_BdMb04Gk-Z6B2oSWHX6JfSIIKajfYZ_iTGpKFlIWQQ4UkO431AQ" rel="nofollow noreferrer" title="Python – Attempt This Online">Attempt This Online!</a> - Python <sub><sup><code>import regex</code></sup></sub></strong><br />
<a href="https://tio.run/##bU9fa4MwEH@/TxHagEk7ZWXti1IsDPa2PfVtrhBjnDJjSoxUbf3s7loYtDByd7nL70@Sozkp2xSqqiZqt59WfavuKwxrdWI7bzqwYMkZC2LO4m2wiLGy5IXFbMOTzQWPKecsWXPOlwglK8qDOFnTyyGgk7d7mr0afSwrlc14RIftc5Qbq4QsGK1IWRNa1sfW8XOZMzrw88mWTvmFadyI5FVU5gSJvqgzvzbu2lblj/LmC4/fkwmi@NyqrBWZUXZT2eBdOFmoBlWck7O3t60KiTcSVTUK5zeBe@iNnMzG6H8vWo3TnOytwCmzRqsGQECagpQSpJEGtNBaQFsUbQFd33ddD6moBSZkxjmDBTLxtwDm5MPUvntwRA16QS7yHPth6EG3Wvdg8dtGQ2Fcgwl3ojtLNBV43TVu5QG6gqmUqZBXhsT4BQ" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a> - .NET</p>
<p>This is a port of the 51 byte Perl/PCRE/.NET regex to engines that lack nested backreferences. To emulate them, <code>\4</code> and <code>\5</code> are copied back and forth to each other.</p>
<p>Ruby does not work with this regex at all. It just hangs.</p>
<h1>Regex (<sub><sup>Java / Perl / PCRE / Python<sup><a href="https://bitbucket.org/mrabarnett/mrab-regex/src/hg/" rel="nofollow noreferrer"><code>regex</code></a></sup> / .NET</sup></sub>), 64 bytes</h1>
<pre><code>^(.+?)((.?)(?=.*?(?=(\3(\6|(?!\7).?)$))(\4))())+(?=\1$).?\4$|^.$
</code></pre>
<p><a href="https://tio.run/##bZFbT9swFIDf/SsOoaJ2GaZoaJOIsmqTxtNA0@BtGZLjOI0htjvboS2lv707acNEN9rkxD6X79zuxaM4uS8fNtrMnI9wj3euHR@l8FrTRt28qfNqqhadZdYWjZYgGxECXAltYdWrQhQRP49Ol2DQQG@i13YKwk/Dz18MYu3dPMDXhVSzqB0GEoBL3SioMqvm2yNNuHSl4mhPWPqlrSrlVflDiVJ5KLZu@0r6EtlfK8bSPm94F9N53fEpDVmBLYjym7aKMnaQ2bZpmK5o4Op3K5pAk9PRaJQwttp33REojW8CVkiIfwkIOEVCgX4PaTjOhrkddt@Yrne69XcRo/IWfNafsFsz6xIEluI0bqSwFjvVdtZGyKBrrtfRm2WIynBtGa7HRtDZOIW@v60/r0W4VouI5cEKsDJ9kI1ZH@bQPsOxxMbSDpCddfkw425WDSbbQSwS@taRAbThjbLTWFP2aQxHR9BwWQv/OdIxDmF4OGTbNXa/KxFljcUbZHludjfaIOffGipqeKVtSRlMILn1rboASOACkkscJF5w9@v/ojrUer0m3aI2d5QfTxilHMUk46MJSpq/p/mHZzo5yD8yNAwYo/k5CsaO0ZyfDVCbnw@e7/hg0y1rcwi3XjRYiXdGBUIEKQoipSTSSUeMMEaQtq7bmiyWy8ViSQphBb6kdDE6FKQUL39CDuHa2ZO4R8QYZJFKVBWen56WxLTGLIkXtnSG1C4GfMmroFdIhApM1z1bsWfqjIWUhZCdh8TnDw" rel="nofollow noreferrer" title="Java (JDK) – Try It Online">Try it online!</a> - Java 12.0.2 / <a href="https://ato.pxeger.com/run?1=bZLbTtswGIAvduen-CkVtcswRUPbRJR1R6RJgBBlV-uQHMdpvCV25zjQUvoku-GCvc7u2dPsd1MQZeTg-D99_8H5dfNdnIvrv8_auhxb5yGIXFvejeChpva6eFLn1EhNHlswfl8XKoJxnRRagixEVcGh0AZmS1XlhcfPudUplGigA--0GYFwo-rrNwY-d_aigk8TqcZeWwwkAAEKWWzUxWJLA5Ev4Hyk_LGzXsng_NEukCxoP9hUDWztpGrkAytF8EHJ2y8nnxvtsfA5ZSx6X2eZcio9USJVDpJFrlUlvUu_FDMMw9qW9VfPfXSRhzopreIE5yPSA20wOVuLTV0UTGe04upnLYqKtra73W6Lsdmqa0Og1D8JmCHB3xMQsI2EBP1-RNVm3BmaTvj6aN7o5lgctueVM-Di5Y5LW45DjopFMJDCGOxWm3HtIYbQ4FJHB9PKq5Jrg37aeNBxL4Jlgwt_novqSE081gczwNL0WtxjyzCL9jHOxRc4bwTEO2FU98MqMFkDMUhY9o4MoAUvlBmFM3nTg40NKLjMhXvnaQ-n0FnvsMX_EK5D4WWOxZfIcrxsJFqEth7VkNGSZ9qklEEfWqeuVnsALdiD1j5OEoUWi-b_RQXUfD4n4aR-1z7ben379ozyzT6jlOPSj3m3jysdvqDDl1e0vzZ8xdDQZowOd3FhbBPNw502aoe77asz3m44N-Homu317Z91OHWiwPKcLVVFiCBJQqSURFppSSnKUpA6z-ucTKbTyWRKEmEEviS13ltcSCrubkLW4ciaLb9CxBhkkUxkGe4vL6ekrMtySpwwqS1Jbn2FL3kQ9ACJUIHpwrNYVkzBmEiZCBk8JD5NW_8A" rel="nofollow noreferrer" title="Java – Attempt This Online">Attempt This Online!</a>   - Java 18.0.1+<br />
<a href="https://tio.run/##VU1NT8MwDL37V5gtogmDjoovaV2pkIAjpx2rVWnWqpWSBtJWWhnlrxcXBBqK/ez4PT@/5k7fjKZH5kI8aKukRrYM6RutHx82D/cDFNZxVkWX4fo@pBqIA1YFTcTh1VV1i7OknoUDMo0RNl3WtCRPzy@C80DkbxOJ8dH8khiBK2RpCEhGyGnx9PRPoUkRiDr35t7vAT5Jok9cMresROxtXJevEL2V9yx1Q60nwoHMftRMhzik6dPLY5qOW@4vYsG5TxBH/llMyJMrntx@8PgkuRNEMCF4ck0gxILoJGA0Ta7Zx9Zn4zjHjZO6qnfOmrwBkJBloJQCZZUFI42R0JVlV8K@7/f7HjJZS0rY2ba1BLCTvw9gji@2vmj/OdIOeUEhi4L69/ceTGdMD07WO2ugtG1DCUdLR5ZkKuncFN/wj5rITKlMqkmhKL4A" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a> - Perl v5.28.2 / <a href="https://ato.pxeger.com/run?1=VU_LTsMwELzvVyzUIjb0QQQC1DQNSIUjpx4jIsdN1EhxXJxEaijlR7j0AL_Dmf4NGwqoyLuz653Zsfz6tkhsvtl-6gaZ9XCVGyVzZAOPrv5ocjO9Ga8hNZazzD_1RmOPqitWmKU0EauFzYoKD8Pi0Fsjy9HHso7LiuRRt-d2XZE8tiQGe_NTYgQOkUUeIBkhp8Wjoz9FTgpXFInTcX4f4K3Ef8EBs4NMBM7U1skQ0Rk6dzIvqXWEtyaznZrlHq6j6PZ-EkXvdZX2rrbXD7x_EgjO-wSB3z8OCHl4xsOLZx4chJeCCCYED88JhDghOnQZTcNz9vzQZzufzU_ZfnRwamWeFTNrdFICSIhjUEqBMsqAllpLqOfzeg7LplkuG4hlISlhZqrKEMBM_h6ADt6bolf9c6Qd8oJUpin1T08N6FrrBqwsZkbD3FQlJewt7VmSqaTn2viGf1RLxkrFUrUKRbH71hc" rel="nofollow noreferrer" title="Perl – Attempt This Online">Attempt This Online!</a> - Perl v5.36+<br />
<a href="https://tio.run/##lVJRb9sgEH7nVxBi1bA6TqJVmxTH88vSqdKUTlne5hZhjGtrxkSApaRrf3t2zlSt6VsNnM73fXx3Oq4Qrj5aJUo8sSUOQ2yXy5C/8wvRMtvVOxxYnGIyJTjGO6seuFW7VkhFw2n8IeO8Fq3n0uhd0yqb05wl@WbqwgjSRriCIH9QA6HzqvOOcn59833FOYvwnIEkCCeo6RrulKdkJ62KCyF/ewuGt41uPIkwmcwJS/A5zSrZW9eY7g0NVcbSoElnSdCmFSR39Of2682aJewPbioatL@ct63qwGOT@V2akrwjDMiuLwCBcDSLJvMhIbAbpmRtBkqCQXWeIAxxTP9rXFyA5OxulIbjEFIEOj31SQsvaxrYCCgJHkT@9a8VznNlLVTJRumPzeobX9/y1WZzu8nIaogvMFnQQGdka3u1wPBHrkXrwB268AwFnNRI0JLk@c0LUJYc72l8mTFKYzBZCq8EluYfaf7piWaj/DMDIGCM5ldgGLsEOJ8HEM2vgqf7ODi@d1TQqZ5JByVZ8kWaUsUwOYnaK4mnvbPToummwyy9QMcx3lrRNl1pjVYOIYGKAkkpkTTSIC20Fqiv675G@8Nhvz@gQnQCDiqN9wYMKsXLQmiM16ab@DNFuANaqBJVBf7j4wHpXusDsqIrjUa18Q4OenXplSSICkg37JM5gwawkBLGdGBI2H8B" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a> - PCRE1<br />
<a href="https://tio.run/##XZLRbtsgFIbveQpCUAOr4yRd1iphlm@WVpWmdMpyN7cIE1xbM7aFsZR07bOnx6mmtZPh1/E5Px/44CZvjl/jJm8wdTjCZEJwiBtnHqUzTam0YaNJ@CmWMlell7q2TVEal7CEi2QzaUcBHsHMICkfTW@ovKl8y6S8vv2@kpIHeMYBSSZdQQQqqkK2xjPSaGfCVOnf3oHIsrCFJwEm84vFfHF5dbH4QrhAWe0YLaKpoGWUAb9lP7ffbtdc8D@4yBgtf7XelaaCiI9n91FEkopwMLddChVIB9NgPOPi5C640XndWwQG6kwgDHnM/jHOzgA5vR9Eo@EItqA2OrXCKq9zRl0AFoF7yFuLStV6aZyDU/JB9GOzupHrO7nabO42MVn1@SUmS0ZtTLauM0sMb@RalS2E8Hn4BQ5wohFaEvHyX5MZF8cHFp7HnLEQJI7gIkBZ8pkll88sHiRXHAqUc5bMQTg/h3Iyo5BN5vT5IaTH4xBvnSqLaudqa1qEFEpTpLVGutY1sspahbo873K0Pxz2@wNKVaVgol3tfQ2Cdurvg9AQr@tq7D8QYQ2wUKayDOKnpwOynbUH5FS1qy3Ka9/CRO8WvUMCVMF2/TjJh1JfTLWG36R3aBiv" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a> - PCRE2 v10.33 / <a href="https://ato.pxeger.com/run?1=XZJRb9MwEMfFqz-F61qrzdK0HWWjC1F4oEOTUIdK38hmOa6zRMRJ5DhSO7YvAi-TEF-H9_FpuLQgNhTf5XL398_2Od--11l9_-vZ19cRBJhaHGIyItjHtdXXwuq6kEqzwch_HgmRycIJVZk6L7SNWcyDeDlqBh4egKWQFNe6E5ROl65hQpydv58LwT084YAkozYnAcrLXDTaMVIrq_1Eqs_OghNFbnJHPEymR7Pp7PjkaPaS8ACllWU0D8cBLcIU-A37uHp7vuAB_4LzlNHiU-NsoUuI-HByGYYkLgkHcdMmUIG0N_aGEx7s1DnXKqs6SYCBOgkQhjxm_xgHB4AcX_bCQX8AS1AT7lphpFMZo9YDSYA7yL5FhWyc0NbCLnkv_LCcvxOLCzFfLi-WEZl3-VNMThk1EVnZVp9i-CJnsmgghOPhO9jAjkZoQYK7_5rMePCjdenw1cObK-YfRpwxH1wUwn2AZ_ELFh_fsqgXn3AoUM5ZPAXH-SGU4wmFbDylt1c-3XPu_7wefvbxysoiL9e2MrpBSKIkQUoppCpVISONkajNsjZDm-12s9miRJYSDK0r5ypwaC3_Pgj18aIqh-4JEeYAC6UyTSG-udki0xqzRVaW68qgrHINGHo06RESoBKW68bOPSl1xUQp-Hc6hYKxP9Zv" rel="nofollow noreferrer" title="PHP – Attempt This Online">Attempt This Online!</a> - PCRE2 v10.40+<br />
<a href="https://tio.run/##bU9Na8JAEL3PrxhjwN2qwaC0kBK89diTN2Nhs9k0gf2QzQqJ@N/txCJVKDvz9uPNe7NzHELj7PramqPzAbuhW3j1rXrwmKOPouj6xZL5ljOWEGzz5GVLyIo1K14vbDsp3jgRMees2BBwPie6SGN6LTbx5SuJr2SyT7NlenjHc76C2nnU2NqxV9KFqrUZILY1njM8@tYGxn/vWlmmOQpbod6TPM9nhZ1lqHO9X41@/5StDpN8Np3dnZSt8mjnTypDjMbi22xJp4SXDfMLJKHSncLoQ9CWYTT2/tNqPv45vU5x54VubeWdUR2AgLIEKSVIJx0YYYyAU9OcGuiHoe8HKIUVlFC5EBwBVOK@AKb46ewyPDmShrygFnVN5/N5AHMyZgBPczkDjQsdJTyIHizJVFC7MW7wRI1kKWUp5FghKX4A" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a> - Python <sub><sup><code>import regex</code></sup></sub> / <a href="https://ato.pxeger.com/run?1=bU9LTsMwEN3PKaZppdpAo1ZUgIKismLJqrumlRzHIZH8qRxHaipuwoYN3IEtB2DPbZhQEFRCnnn-vHlvPI8v2y5Uzj691mbrfMCma868ulc78Jiij6LouQ3l5OrjZsPi0wVnLCZYpPHJgpBl5yy7eGCLQXbJiRhxzrI5AeenRGezEb1m89HDJh59-7yR5WqWTGbra9ynUyidR4217TvHTShqmwBiXeI-wa2vbWD8cNfKMs1R2AL1iuRpOs7sOEGd6tW09_unbLoepOPh-MdJ2SKNlr5VCWLUF39NGjdKeFkxf4YkVLpRGN0K2hKM-t6_Ws37P88Okzx9vA9x6YWubeGdUQ2AgDwHKSVIJx0YYYyAtqraCnZdt9t1kAsrKKFwITgCKMTPAhjinbOTcORIGvKCUpQlnff7DkxrTAee5nMGKhcaSvgj-mNJpoLa9fEFR1RP5lLmQvYVkuIw1ic" rel="nofollow noreferrer" title="Python – Attempt This Online">Attempt This Online!</a><br />
<a href="https://tio.run/##bU9da4MwFH2/vyKzAZN2ysrKBkqxMNjb9tS3uUKMccqMKTHSautvd7eFQQcj9577eU6SvTko25aqridq1x9WfanjZxQ16sA2/rRj4SLhjIUIyTqcJ4gsfWTp05kld@kzxwHlnKUrBM4XOE6XFLvpip53IZ38zb33YvS@qlXu8ZgO64e4MFYJWTJak6ohtGr2neOnqmB04KeDrZwKStO6EZeXcVUQXAxEkweNcZe0rr6VP5v7/HaZ4BTfXFeNIh5lV5YN34STpWqRxTk5@VvbqYj4I1F1q7B@FRgjf@TEG@P/tWg9TjOytQKr3BqtWgABWQZSSpBGGtBCawFdWXYlHPv@eOwhE41Ah9w4ZxAgF78HYEbeTRO4P4rIQS0oRFFgPgw96E7rHix@22gojWvR4YZ0I4miAq@72BVAZFJmQl5aEu0H" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a> - .NET</p>
<p>This combines both the 56 Java and 59 byte Python ports, to support five different regex engines.</p>
<h2><span class="math-container">\$\large\textit{Anonymous functions}\$</span></h2>
<h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl</a>, <s>49</s> <s>45</s> 44 bytes</h1>
<pre><code>sub{pop=~/^((.+)((.)(?3)\4|(?=\2$).?))?.?$/}
</code></pre>
<p><a href="https://tio.run/##VY5Nb8IwDIbv/hUWRDTR@NzHhaz0tuNOHNFQGlpaqUm6tNUoHfvrzAVtAsV2rLyvH6dMfPFybqoEq9rnupbY91/K29zuK4mmRZaG56qJu9KV4c/sg/Ppg6AiePQkNs/fPAo3j0xMIyGiacRmp7NMneemZXk4l68rSfdCdJinnOWiK31uaxxs7ECeLvQCQyQ8redsO54sxguRfPY6Rjfvc1IELpFtJSCxkBeJ3dcZjY9G/76CfAthk2AYiI5tw8FAXvdxlk5WpIsoWPsmWSIGy@BNFRW1gaCfXG2skKfzENdeFbndeWeSCkBBHIPWGrTTDowyRkGTZU0Gh7Y9HFqIlVWUsHN17ajATv0dgCG@Ozup74g0QyxIVZpSfzy2YBpjWvDK7pyBzNUVJdwM3SAJqmhdH5dyJ/VirHWsdO/QFL8" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<h1><a href="https://julialang.org" rel="nofollow noreferrer">Julia</a> v1.5+, 44 bytes</h1>
<pre><code>endswith(r&quot;^((.+)((.)(?3)\4|(?=\2$).?))?.?&quot;)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VU9NT8MwDL37V5gOsUSwCQYHtKr0xpHTbgwkN23XonygNBVrxT_hssv-Dvf9G9yNSZtivyR6fs_2z_aj1TVtdqZPStJNEWPpPGqsLfqCcl3bohESEFfaZaSxj-uS4dPXNmgrZFzYPMY-Cb4tuIpJXdhVqISWT7d4dYX69e7tIhmPxswi7nVCbNtQTh53Nyxuvmqu9tG7ENNrySBFei-XD98iTZazSzlNpUynaST_NTPJ1phitOCOc8QI5xg9D6PzPQzKnnBspCXw96Dc7H5HuPDEK-XemaIBIMgyUEqBcsqBIWMI2qpqK1h33XrdQUaWOCF3ITgGyOl4AEb44uwknDmyhr2gpLLkd993YFpjOvBkc2egcqHhhBPRiSWbErcbYg9n1EBmSmWkhgrFcVjrDw" rel="nofollow noreferrer" title="Julia – Attempt This Online">Attempt This Online!</a></p>
<p><em>-5 bytes compared to v1.2+, <a href="https://codegolf.stackexchange.com/questions/251772/tut-tut-tut-tut-tut/251777?noredirect=1#comment593573_251777">thanks to MarcMush</a></em></p>
<h1><a href="https://julialang.org" rel="nofollow noreferrer">Julia</a> v1.2+, <s>54</s> <s>50</s> 49 bytes</h1>
<pre><code>s-&gt;endswith(s,r&quot;^((.+)((.)(?3)\4|(?=\2$).?))?.?&quot;)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VU9NT8JAEL3PrxiLkd0oRNCDoYHePHriJppMty2t2Q-z3Uba-E-8cOHveOffOAVJIDvzdjdv3puZn91Hoyva7k03L0jXeYyF86ixsuhzynRl81pIQFxrl5LGLq4Khk9f2aCtkHFusxi7efBNzlVM6tyuQym0XNzjzQ3q18nb1Xw4GDKLeNAJsWtCMXraT-rRgvX1V8WC-s5H70KMbyWDFMmDXD1-i2S-ml7LcSJlMk4i-S-cSvbHBKMlt50hRjjD6Lmfn-9-WnaFUzctgb9H5Xb_O8ClJ94r887kNQBBmoJSCpRTDgwZQ9CUZVPCpm03mxZSssQJmQvBMUBGpwMwwBdnR-HCkTXsBQUVBb-7rgXTGNOCJ5s5A6ULNSecic4s2ZS4XR8HuKB6MlUqJdVXKI7jWn8" rel="nofollow noreferrer" title="Julia – Attempt This Online">Attempt This Online!</a></p>
<h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>53</s> <s>49</s> 48 bytes</h1>
<pre><code>-&gt;s{s=~/^((.+)((.)\g&lt;3&gt;\k&lt;4+0&gt;|(?=\2$).?))?.?$/}
</code></pre>
<p><a href="https://tio.run/##VY1Nc4IwEIbv@ytWdFTGAdH2JEZuPfbkTbATAgjTfDgQpoZ@/HUabJ3Rye5ONu/7Pqnb1PQF6b1d89mQn@VxPvcXrh1ufNo@7eL37fMi2H3NIxKvJ64fuW7kR5Pld9@RIMSPsuI5cnLKdQOIVYHdaHg/t7oJMZdZiB1ZhYPAD94qIcSJpRPaBD8Evu@tk3/X5I3Iiv8hRtzPxVmbCKdTGwuSEZmNZ1ZDPNeV1FgceIIROvu6zTeIDm7QeaG8sYtz5cHNya9rP8Z9TXkls1qJvAGgkKbAGAOmmAJBhaDQlmVbwsWYy8VASiW1DZnSWtkBGb0dgDG@KunpB6LNWBYUtCjsvesMiFYIAzWVmRJQKt3YhrvQHdJCqf1uqOt4kAYxZSylbHAwW78" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, 48 bytes</h1>
<pre><code>$args-match'^(.?(.)*.?)(?&lt;-2&gt;\2)*(?(2)^)\1$|^.$'
</code></pre>
<p><a href="https://tio.run/##dY1Nb4MwDIbv/hUWjUZSCdT22K7jtuNOva2rFEJYkEjShaAWOn47C0jVusPkj9iO38dne5GuUbKuR1LubyPh7rNJNPdCxSeaZjRlyzRjNHtONi/HDVvSjG7YiR3X5PuUkngcdqTfr3aldZILRUmNlUFSmXPr2Q0Qq5KSnt0urvIyUbbxQ9hfzx8YthP5hVGEiXVI6vfVx9wvIoaTdkBZN3IuEX8JmBhr5KWujMSI0An0RMqgD6r44Fq5RYzv2viVh3cbBiyakPAfidQwjAs8OB7awlktGwAOeQ5CCBBWWNBcaw6tUq2Ca9ddrx3k3PAQUFjvbUhQ8LsBLPDNmsT/IQZNYEHJyzLUfd@BbrXuwHFTWA3K@iYEPIgekAHKw7nJ5wQ8FyLnYhqJ4D8" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>
<h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>58</s> <s>53</s> 52 bytes</h1>
<pre><code>\(L)grepl('^((.+)((.)(?3)\\4|(?=\\2$).?))?.?$',L,,1)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VY_BSsQwEIbv8xTRlU0G6-KqB7GU3jwVT4KXIqRpsi20yZK0sK36JF5WwVfwMbz7Nk5dhV0yMyQz__8leX3z23eTfPSdObv-vspFhiuv143gj0IsTpEKivQS8_zqWaRJnl-c4CJFTBfpCY-yKFrin_czJOcxGxNTN1och66s7THGYJwXGastC_167XUID9Lb2q6C8FqWWW11ECMiPgFjtREBlewEzy3HOCTLeNe1qpKEQTafE6cIHR2iJd19lPAZRzZ5aqOboIUhWcTvfa9vGOMRv5XUvWEccWJNwgzjF1CNI_GI8e712--vGbv3sqlt6V2rA4CEogClFCinHLSybSX0VdVXsBmGzWaAQlpJCaXrOkcFSvm_AGbsztmz7oBIHmKBkcbQfhwHaPu2HcBLW7oWKtcFStgz7SEJKum6KX7LwWgaFkoVUk0KRbH71g8" rel="nofollow noreferrer" title="R – Attempt This Online">Attempt This Online!</a></p>
<h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, <s>64</s> <s>60</s> 59 bytes</h1>
<pre><code>fn($s)=&gt;preg_match('/^((.+)((.)(?3)\4|(?=\2$).?))?.?$/',$s)
</code></pre>
<p><a href="https://tio.run/##VVHBbtswDL3zK1TFaCQsSZMs25B4mi/Lil7SIc2t6QxZsWtjkmVIMhB37bendIZhLUQ@EOTjIwk1ZXP6mjRlQ6JCnIqaRZ6Lb43LH1MjgyrZ8OoXY5MPHIGz5CPfL55ZIvbziE8SzpNJEl0NR9h0iqu6Sn0eGG2UyyeZVL@DQ0h1ZapAR4Qu5svF8vOX@fIT5TEU1rGoEtM40qJ4zINnd7vvNxse8z@kKlik731wOseNNB/PHoSg@5pyJPs2wwqmR9PReMbjM7viuSptT4kJqs5iIJgn7L/G5SVKTh8uxHAwxBE9nZzv1NKHNHcO9@EX4ud2fZ1ubtP1dnu7Tei6z68IXbGo34kndOfafEUwQ39I7THEY17@ytFI0/jlNCA7J3VVH5w1uQeQkGWglAJllQUjjZHQlmVbwrHrjscOMllLdDjYECwCHOS/BzAgG1uPwztF7EEtKGRRYPz01IFpjenAyfpgDZQ2eHR40/RGEkUljuvtDO9KfTFTCn@vZyi0Vw" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>
<h1><a href="https://docs.python.org/" rel="nofollow noreferrer">Python</a> (with <a href="https://bitbucket.org/mrabarnett/mrab-regex/src/hg/" rel="nofollow noreferrer"><code>regex</code></a>), 71 bytes</h1>
<pre><code>lambda s:regex.match(r'((.+)((.)(?3)\4|(?=\2$).?))?.?$',s);import regex
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bZC9TsMwEMf3e4ojrZRY0KgFBpTKygYbU7emg-MkJJI_KtuRkog3YelSnoDnYO_b4LRFtBLy3fnj_vc72x-f297VWu2-GrnVxqHt7RIHOl9iRbN966rZ0-FFMJkXDG1iyreyiyVzvI5MGEXxLfGBROkDyR7fo5Rm91MSp4SkcToN7yxZnrHHwjNuX2mDAhs1NoutKxqVAGJT4ZDg1jTKReS0F6WKBEGmChTr2WJDaZipMEFBxXqe-IN_ZPPNDQ0n4S-pVAUNVqYtE8RgFFejtBS2xOCZ-SnBYOz2pxZk_IDF6bK7w_cEV4aJRhVGy9ICMMhz4JwD11yDZFIyaOu6raHr-67rIWeKeYdCO6d9gIL9DoAJvmo1c1dEX-NZULGq8uth6EG2UvZg_Iu0hFo76x0uii6QHsp8u9GO4So1JnPOc8ZHBfd2etYP" rel="nofollow noreferrer" title="Python – Attempt This Online">Attempt This Online!</a></p>
<h1><a href="https://docs.python.org/" rel="nofollow noreferrer">Python</a> (with <a href="https://bitbucket.org/mrabarnett/mrab-regex/src/hg/" rel="nofollow noreferrer"><code>regex</code></a>), 72 bytes</h1>
<pre><code>lambda s:__import__('regex').match(r'((.+)((.)(?3)\4|(?=\2$).?))?.?$',s)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bVBLTsMwEN3PKYa0km2gUQssUFCUHWLFqru2ihwnIZH8qRxHSirOwAXYdAPHYd_b4BAqWgl55o09n-eZef_c9q4yen94q9XWWIdN3zzgLp5DaSxKrPXgCRuX1zoCxLrEXYRbW2tH2fiWhaaSIdc5ytVssYljstYkQhnL1Tzyjn_S5puLmEzIkanQeRwsbVtEiMGQTD9aV87uD0-Sqyzn2ERpOjaYppTY4qXoCAsVd6KillAaXjEPjCa3bH33SpN4fTNlYcJYEiZTct2wX75LRDZ0UcimwOCRexNhMAzy14hkwwIWY8X-8DXBpeWy1rk1qmgAOGQZCCFAGGFAcaU4tFXVVtD1fdf1kHHNvUJunDMeIOfHAzDBZ6Nn7ozR13guKHlZ-vtu14NqlerB-mUZBZVxjVc4KTqh9KTcfzfID5yFhmAmRMbFkCG8jGN9Aw" rel="nofollow noreferrer" title="Python – Attempt This Online">Attempt This Online!</a></p>
<p>(If it must be a pure lambda.)</p>
<h1>Java, <s>85</s> 75 bytes</h1>
<pre><code>s-&gt;s.matches(&quot;((.+?)((.?)(?=.*?(\\4(\\5|(?!\\7).?)$))())+(?=\\2$).?\\5)|.&quot;)
</code></pre>
<p><a href="https://tio.run/##ZY9Nb9swDIbv@hWMU7RSugjZsGFAPSfYDj1tvaS3eQdatmNl@jAsuY3b5rdnjNMC7QqJ1MdLPi@4xTucb8u/B21b30XY0lv2URtZ905F7Z2cpfBOnKVMGQwBfqF28MgA2r4wWkGIGOm487oESxpfx067ze8/gN0miLEU4PqZ/e2kfvjhvanQLaGG7BDmyyAtRtVUgSecy8uVoExplcnZiuf5Z4ovT3w1yfOvgoQzIbgQl6Tn@acz@iFZPMlEHFKyWyt0rupAu7aPkIGr7l/@@HoIsbJSO0FDugg6W6Rw32hTAR/rZYPhptpF4sMj6JrrSbYQz22e9JYGiMbxIyD7mI7jnaYCQ2YniCPCT@2qsaoGbqSp3CY2XCwXcH4ORqoGu@@RL8Qku5heiBFDoP98eC2xbc3AjYAVJLddX10BJHAFyTWaQI@EHN51GZGy/X5/mMJth0a7svO2CowhKwqmlGLKK88sWousb5q@Ybth2O0GVqBDClb6GD0lVuLLYmwKN97N4xsi9RCL1VjXdH94GJjtrR1Yh670ljU@Bgr2qukVkqBIdsc9pjfSUSyUKlAdKxTtfw" rel="nofollow noreferrer" title="Java (JDK) – Try It Online">Try it online!</a></p>
<h2><span class="math-container">\$\large\textit{Full programs}\$</span></h2>
<h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl</a> <code>-p</code>, <s>42</s> <s>38</s> 37 bytes</h1>
<pre><code>$_=/^((.+)((.)(?3)\4|(?=\2$).?))?.?$/
</code></pre>
<p><a href="https://tio.run/##VY3BboMwDIbvfoqIRpRoLW239dKIcdtxpx6rIRPCQCIJgiAVur76mFtp0qrYvx399udWd81@HnrN9vF2t5XMjLxM@iG/8CxpXStnqpvPKIqfBImI0hdxev2O0uT0zEWcCpHGKd/MkmdXyXqPXjM@ST6FYdvV1gcnG9Av2UmmKmdaSXxMeCbrMmq0/fIVRxaGjC72vos4rrarnbB6uViKy50Q8XL9RoZIg2M36ANjwSF4x6anNhDX@wzjKNlgC10yns0LduywqW3ROaN7AIQ8B6UUKKccGDQGYaiqoYLzOJ7PI@RokRIK570jgQL/HsCCfTi79g9E2iEWlFiW1E/TCGYwZoQObeEMVM73lPBv6R@SoEjnbnGXB@tm5krlqG4TiuLHtb52tp/X7S8" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a> <code>-n</code>, <s>47</s> <s>43</s> 42 bytes</h1>
<pre><code>p~/^((.+)((.)\g&lt;3&gt;\k&lt;4+0&gt;|(?=\2$).?))?.?$/
</code></pre>
<p><a href="https://tio.run/##KypNqvz/v6BOP05DQ09bE0hoxqTbGNvFZNuYaBvY1WjY28YYqWjq2Wtq2uvZq@j//5@SCIP/8gtKMvPziv/r5gEA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>Prints <code>nil</code> for false and <code>0</code> for true, which are respectively falsey and truthy in Ruby. If printing <code>0</code> or <code>1</code> is desired, replace <code>p~</code> with <code>p !!</code> (+2 bytes).</p>
<h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a> <code>-F</code>, <s>63</s> <s>59</s> 58 bytes</h1>
<pre><code>&lt;?=preg_match('/^((.+)((.)(?3)\4|(?=\2$).?))?.?$/',$argn);
</code></pre>
<p><a href="https://tio.run/##VUzbisIwEH2f7yiYsFph3TeVvO1XyMpkao3gZEpMoRG/3ThdWHCZcw4D5zKEodad2w/pdD4yZgpmsf4xpv2wKta4jT18PYzbHz4b2zprXeua9WLZYDpHu60VwXsgIiAhAUZmhDGEMcBUyjQV8BhRCZ3kLCrQ4d9pZK5Bj32v//1egEfmAgljJwxB8k0JOeH1ErskfHprax91ecav/LNm0xN5pDlBiqcM@SLxVlffLw" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a> - bare-bones test harness<br />
<a href="https://tio.run/##VVFNj9owED13fsXbEBGiNmRpeyKE3FB7aVfq3oAixzE4UmJHxqh8hN9OHdhdgT0e229m3szYOdvKy8/ZnxRGsAKRKRAEMJNJsHobwWWSpY0Rm1XNLJeDIP47GAw/h06Fg@xbuPjeDrJ08dUPh1kYZsPMj4MvPjMbFSaXdxISXGpECt4kO2VT33jBuYO8hfKSAFNwXYjE6cZojpcfLzgh1o2NG9nEeam6HRFHLCxHVGArtbEr3Qi1smyT/laIZm8cZ/ony0rgvilUbTu/pvcrD8uk0PTJ3Y/wj1i2bVdJckxHCco15njqLDdP9PsO8E/V@Hk8OuMpRdALHAGsFArXpjrHad8/uaLno@U5eUwc7XAzPS/PYGhbiH1pk46UIU0xwrLf/3icV7MTY8C7lXSFZqzaOsxLsC4TfMAuKRVaiUsPr4ZVpSqMrsWWiFGeE@ecuOaaalbXjHZS7iTtD4f9/kA5U8wtF22tdooK9j6JevilVWQfGF2M46I1W6/d@Xg8UL2r6wMZpgpdk9TW/Yalu6A7SkfKXLpOrurB1BlzznPGOw/u5D8" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a> - fancier test harness</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a> + <code>-e</code>, 11 bytes</h1>
<pre><code>p::↔ᵃᶜt$,,=
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VU8xDsIwDNx5BYoY2x1V4iWIwXEbBYEb1KZS2xWJF7DB0AEkBhYGeAGfYCwvwU5hQHHuLmfrrBwuebZyBB6ucxWTisYqztSiO1fexNPbJkneu31_3_aPo59E0exUaiy_3e71VKBGSmsGRBR06JgIiKRTWVtZ5rpp6rqRUciBL6vUee8YRMLvhNEhhtGAMcFpWzGpIhIuIE8dsbDOlzYk-ALWyzwtHGV_eSEReKNUAHlrRA0oJnKp4TMf" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A port of <a href="https://codegolf.stackexchange.com/a/250404/9288">my Curry answer (based on @Bubbler's comment)</a>.</p>
<pre><code>p::↔ᵃᶜt$,,=
p               Find a prefix of the input
 ::             Triplicate it
   ↔            Reverse the third copy
    ᵃᶜt         Optionally drop the first character of the second and third copies
       $        Swap the second and third copies
        ,,      Join three copies together
          =     Check if the result is equal to the input
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, <s>96</s> 86 bytes</h1>
<pre><code>\(x,l=sum(x|1),t=l%%3&gt;0,`!`=\(y)any(y-x[1:h]))!tail(x,h&lt;-l%/%3+t)|!x[q&lt;-h:1+h]&amp;!x[q-t]</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bZNRS8MwEMcfBB_2KbJJJWErc-xljFXwQVHwSacwtsHSrCWDptE2xWTsm_gyBT-UfhqvLd1Y2rZ3Se9-veZ_aT-_kv136P1kKnRHv68LrHuRl2YC692A9JQXOc7w-qq3aq-8BTaExgYbV88HY74kpK3oJoIn-MSNnL4z7Cqya-v5-8Tl40GXLy_zG1cty-p_Z-eMKtyZPr1M72eLuENaIYbMaCofYojTDiEXqDwwRX1UmAX5_pHCPgCFEeSiWKoAKU4VuCAJEAVTHxK9yTTd-FGAGJcbFqQolAmanVZljB3KYgYVC7NezSSTFYWZBEIWmLQ4QYWotGBRiBDghC0l4zzjFZdxQHgGLuMWp43R2pQg1gYQo8FpY7eGxhTssESYAwaxvEM0tui1VEqCqxYAU-AgBB7mNk2rs-BxPsuFwZjzMJJWq9jdu5vH59uG3S0V1DpaD4Y0DOtRbbbbhgoiE6IhnNB4LUU9zqVKean5NKESGm3idSJFUE8exZfyrc8Wmp5fhWtI-4z5lOUMgysHyt9hvy_Hfw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Pretty naive implementation, with some optimizations to make the code shorter (and unreadable).</p>
<p>Takes input as a vector of character codes. Outputs <code>FALSE</code> for tralindromes and <code>TRUE</code> otherwise.</p>
<h3>Explanation outline:</h3>
<ol>
<li>Let <code>l</code> be the length of input vector <code>x</code>.</li>
<li>Compute <code>h</code> - the length of the tralindrome parts. It's <span class="math-container">\$\lfloor\frac{l}{3}\rfloor+t\$</span>, where <code>t</code> is 0 for <code>l</code> divisible by 3 and 1 otherwise.</li>
<li>Prepare a helper function <code>!</code>, which compares its input with first <code>h</code> elements of <code>x</code> (denote them with <code>X</code> as in the question).</li>
<li>Then last <code>h</code> characters must be equal to <code>X</code>.</li>
<li>And one of the following must be equal to <code>X</code>:
<ol>
<li>characters from <code>h+1</code> to <code>2*h</code>, reversed</li>
<li>characters from <code>h+1-t</code> to <code>2*h-t</code>, reversed.</li>
</ol>
</li>
</ol>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="noreferrer">Python 3.8 (pre-release)</a>, 61 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda s:s[1:~(m:=-len(s)//3)]in s[m-1:~m:-1]in s[:-m]==s[m:]
</code></pre>
<p><a href="https://tio.run/##TUyxasQwDJ1PX@ExgYbjuKUYPF7XW7pdM8iOjQORbWyHxjf011OlpVCkJ/Se9F5q1cdwfU15d@pjX5D0hKLI8rjIr46kGhYbutKfz9d@nIMoDxr4QnK4/FI50KgUy3Lca24STp9@Xqx4z6tlcipCiTmktXY9s5TnUDvHgS@i9GA3Y1MVt/vbLeeYpUhYyo6gNRhjwEQTgZAIYfV@9bC1tm0NNAZkwBRrjTxgwr/il8MGDp3j/flsQCtRg4xhigQ@1sKAmnGZw5Qj2X9u9iMnH/0zALUxGs0hGe5v" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<ul>
<li>If the full string S has length <span class="math-container">\$L\$</span>, then the length <span class="math-container">\$l\$</span> of each of the three sections is <span class="math-container">\$\lceil\frac{L}{3}\rceil \$</span>; <span class="math-container">\$m = \lfloor\frac{-L}{3}\rfloor = -\lceil\frac{L}{3}\rceil = -l\$</span>.</li>
<li>The sections X and Z are extracted as <code>s[:-m]</code> and <code>s[m:]</code>; they must be equal.</li>
<li>The remainder of the string, reversed, which is <code>s[m-1:~m:-1]</code>, must be X with the first and last characters each possibly removed. This is equivalent to it being a substring of X and a superstring of (X with the first and last characters removed).
<br>(There is a subtlety to why this equivalence is true.
<br>The generalisation to removing up to <span class="math-container">\$k\$</span> characters from each end is false: for X=<code>dedent</code> and <span class="math-container">\$k=2\$</span>, <code>ded</code> is a substring of X and a superstring of the central part <code>de</code>, but cannot be obtained from X by removing up to 2 characters from each end.
<br>However, the original equivalence (which is the <span class="math-container">\$k=1\$</span> case) is true. If the length is reduced by 2, that is the same as the central part's length, so it can only be a superstring of the central part if it is equal. If the length is reduced by 1 or 0, then for it to be a substring of X, it can only be X with one end possibly removed.)</li>
<li>Chaining of comparisons is used to check all those conditions together concisely.</li>
<li>The <span class="math-container">\$L=1\$</span> case is a bit different, but it works out because negative-length slices produce empty strings in Python.</li>
</ul>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="noreferrer">05AB1E</a>, 15 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="noreferrer">bytes</a></h1>
<pre><code>ηεºyû‚yy¦‚δ«}Qà
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//3PZzWw/tqjy8@1HDrMrKQ8uA1Lkth1bXBh5e8P9/bmJubiIA" rel="noreferrer">Try it online</a> or <a href="https://tio.run/##VU0xDsIwDPwKytw/dOEDzIjBcVulEqmlNkVNJSQmHsDIxMTCCkKCrd37iH4k2EEMKM7d@WydqQFd5mHnU7WYj6eFSv0yTM/pMbz8@J4PZ@@HK9N0H2771XgJSVgrUInSmgERBQmJyYK1MmmNaQ1z533XeVmFCvizysg5YhAJvxdXvzGMBRRFdPpeTNtaK1xDlZFlYcg1Jia4GrZlldVk87@8mAh8USqC9BpRA4qJXGrzAQ" rel="noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>η         # Get the prefixes of the (implicit) input-string
 ε        # Map over each prefix:
     ‚    #  Push a pair of:
  º       #   The mirrored version of the prefix
   yû     #   And the palindromized version of the prefix
          #    e.g. &quot;abc&quot; → [&quot;abccba&quot;,&quot;abcba&quot;]
     ‚    #  Push another pair of:
  y       #   The prefix
   y¦     #   And the prefix minus its first character
          #    e.g. &quot;abc&quot; → [&quot;abc&quot;,&quot;bc&quot;]
      δ   #  Apply double-vectorized over the two pairs:
       «  #   Append
          #    → [[&quot;abccbaabc&quot;,&quot;abccbabc&quot;],[&quot;abcbaabc&quot;,&quot;abcbabc&quot;]]
 }        # Close the map
  Q       # Check if any inner-most string is equal to the (implicit) input
   à      # Check if any is truthy by taking the flattened maximum
          # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 32 bytes</h1>
<pre><code>⊙θ⊙Ｅ⊕κ⮌✂θμ⊕κ¹Φ²∧⁼…θ⁺μξλΦ²⁼λ✂θ⁺κρ
</code></pre>
<p><a href="https://tio.run/##XY1BCsIwEEWvkuUE4kK3rqQouBBKPUFIBho6TdpJWuzpYyIq6Cz@37z3x/SaTdCUc8vOJzj5DWYlat30BFdvGEf0CS0MUokOV@SIcCdnsIKjEv/MXsqSF0cJGQ51y8J5XjRFaDZD2PRhqmpLS4TiPypOP8obJyW@j170oATLzx1ztiGlUCLvVnoC" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs a Charcoal boolean, i.e. <code>-</code> for a tralindrome, nothing if not. Explanation: Brute-force search for a substring whose reverse equals its possibly overlapping prefix and suffix.</p>
<pre><code> θ                                  Input string
⊙                                   Any index satisfies
     κ                              Current index
    ⊕                               Incremented
   Ｅ                                Map over implicit range
        θ                           Input string
       ✂    ¹                       Sliced from
         μ                          Inner index to
           κ                        Outer index
          ⊕                         Incremented
      ⮌                             Reversed
  ⊙                                 Any reversed substring satisfies
              ²                     Literal integer `2`
             Φ                      Filter over implicit range
                  θ                 Input string
                 …                  Truncated to length
                    μ               Inner index
                   ⁺                Plus
                     ξ              Optional overlap
                ⁼                   Equals
                      λ             Reversed substring
               ∧                    Logical And
                        ²           Literal integer `2`
                       Φ            Filter over implicit range
                          λ         Reversed substring
                         ⁼          Equals
                            θ       Input string
                           ✂        Sliced from
                              κ     Outer index
                             ⁺      Plus
                               ρ    Optional overlap
                                    Implicitly print
</code></pre>
<p>The final optional overlap is added rather than subtracted because the outer index is actually that of the last character in the substring (which is why it is incremented when the substring is actually extracted). <code>Filter</code> is used instead of <code>Any</code> in the inner loops because it accepts an implicit range and <code>Any</code> does not.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, <s>20</s> 19 bytes</h1>
<pre><code>~cṪ{|~k}ʰ{|~b}ᵗ↺↔ʰ=
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r/vy754c5V1TV12bWnNgCppNqHW6c/atv1qG3KqQ22//8rJSXmJQKx0n8A" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>~cṪ                   Deconcatenate the input into 3 strings
   {|~k}ʰ             Do nothing, or add an unknown trailing char to the first string
         {|~b}ᵗ       Do nothing, or add an unknown leading char to the last string
               ↺↔ʰ    Reverse the middle string
                   =  The 3 strings must be equal
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 72 bytes</h1>
<pre>lambda s:1&gt;s.find(s[(l:=len(s))//-3:])&lt;=s.find(s[-~-l//3-1::-1])&lt;=l%3//2</pre>
<p><a href="https://ato.pxeger.com/run?1=TVHBToQwEI3XfsVcTGgi2133Yoh49hfMuodSaNqk7RBaIuzBH_GyidF_0q9xCqsReG8674Xpo7x99nMyGM7vun7-GJMu774enfRNKyFWu4e40Ta0RTwUrqpdF4rIuRDlvjry-_rPLF9LJ8S-3FVVucuOu94LcXuZt9U4gAUbAHuasOUVA1vbTeydTQU_bI8M-sGGVNgbXVjO1_fO31e9hPUqJAhYwFnTXLSG-gUcSgiYOkhGJqJu6EAS0gtCjzHaxnWgDFrVRchhnphSah2iaMACzhQqXDUkARcVOfPS-5yj8EsAT-QpxmjMaLJMLMCMRKPhbJrnaZpJJhIwT0TTTKFlkIQ1N1UB1OfsMnDWYkpIlM1cBFBLTGsy5e9NZmbKQDXbVDmTNDc_C9H2-TOYllrT-nSamR-9n9kgQ4ueGUyRwNIgHf26AX33b4NWrif_Aw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Previous <a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 74 bytes</h3>
<pre>lambda s:s.find(u:=s[(l:=len(s))//-3:])&lt;1&gt;=s[l//3:l-l//3].find(u[::-1])&gt;=0</pre>
<p><a href="https://ato.pxeger.com/run?1=TVFRToQwEI2_PcV80kS2bPwxjewBvIFZ-SiFpk1oh9ASYa_izyZG76SncQprIvDe67yB6QPev8Y1WQzXD1O_fs7JlI_fz4PybacgyngwLnTFLOt4LgZZD30oIudClA-y4U_HE_mDEA9yKLM0t9vPUpbHhp_q6jaxMjiBAxcARxpRccnA1e4Qx8Glgp-rhsE4uZAKd28Kx_n-3PXnblSwH4UCARs4a9ub11K9gUMJAVMPyapE1E89KEJ6QxgxRtcOPWiLTvcRcpgXprXeh2gasIEzjRp3D8nAzUXOvPI-5yj8FsATeYoxWzvbbBMLsDPRbDlb1nVZVrKJBKwL0bJSaBUUYc9NKoDqnF0FzjpMCYlyM4sAKolpTU31d1IzM2UgzW1SzhTNzddGtH1-DWaUMbS-XFbmZ-9XNqnQoWcWUySwNKmBftaEvv-3Qaf2L_8L" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Previous <a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 88 bytes</h3>
<pre>lambda s:{s[~(n:=len(s)//-3)::-1]}&amp;{s[:n-1:-1]}&amp;{s[n-~n:~n-n],s[-n:n],s[~n:n],s[-n:-~n]}</pre>
<p><a href="https://ato.pxeger.com/run?1=TVBLTsMwFBRbn-KtUCw1pBUbFKn3AJUsnJ9sKfaLYkckRe1F2FRCcCc4DeOkIOLMjN885Xmct89-Dprd5b3dP3-MoU0fvh47Zctakc9f_eGcuHzfNS7xMsvSe5nn6a443aKTu3T3V7j07PKzS12x8YfU5Yuer4oa7eJ0nb9teSBDxhH3GLyVuSCzN3e-70xI5GFbCOoH40JiNm1ipFy_u3zf9IrWJ1GU0QIpyvLqlagXSErJcWgoaBVAzdCQAsILU8_em7JrqNJsqsZTDPMkqqpah1QYsECKiitePYbBi8tSWGVtzJHYJYAFWcQYtR51tMEZ6RE0aimmeZ6mGTYoo3kCTTNCK6eANTc0I9Qxu3JS1BwCg2IzSkYowdijqX4XmpGRARrbUCkU5sZ3IRwfryFa1bbYH4-zsKO1sxiUq9kKzcEDIgyqM64e2Db_DqjV-ud_AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Returns the middle copy of the &quot;template&quot; as a singleton set (which is truthy in Python) or the empty set (falsy in Python).</p>
<h3>Previous <a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 90 bytes (-1 @Steffan)</h3>
<pre>lambda s:s[~(n:=len(s)//-3)::-1]in(s[n:]==s[:-n])*[s[n-~n:~n-n],s[-n:n],s[~n:n],s[-n:-~n]]</pre>
<p><a href="https://ato.pxeger.com/run?1=TVDNToYwEIzXPsUeqRH5jBfThAdR5FD-0ia0S2iJ4OF7ES8mRt9Jn8YpfCYCM9uZDbsDb1_TFg3794-hfP5c4pA_fD-N2jWdpqBCdc68KsfeZ0EWRX4vlcrvagtZeVWXZahU7mt5XUHnZ6_OHvImVLlXez1fKjTadX3ZcBp4JkvWE0-YfZJKkC3tbZhGGzNZnWpB02x9zOzNkFkpj_fef64mTceVaSpohxRNc_Ea6B2ScvIce4pGR1A_96SB-MI0cQi2GXtqDdu2D5TCPIq2bY8hLQbskKLllg-PYfDushROO5dyZG4P4EAOMRZjFpNscEFmAS1GinXb1nWDDSpoW0HrhtDaa-DIjVoQdMquvRQdx8ig1EylIEgwzmjqvxvNxMiAmtqoUmjMTc9OWJ8-Qwx6GHB-fd2EW5zbxKx9x04YjgEQcdaj9d3Mrv-3oNPHn_8F" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Sort of similar to <a href="https://codegolf.stackexchange.com/a/250404/107561">@alephalpha's logic</a> now.</p>
<h3>Previous wrong <a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 85 bytes</h3>
<pre>lambda s:s[~(n:=len(s)//-3)::-1]in(s[n:]==s[:-n])*(s[2*n:n],s[-n:-2*n],s[n-~n:-n+~n])</pre>
<p><a href="https://ato.pxeger.com/run?1=TVBLjtUwEBRbn6KX8TAhD9ggSzkGCxSycH6ypbg7ih2RzOJdhM1ICO4Ep6GcPCRiVXVXddIu5fuv5UhO-PXHVH_9uaWp_PT782xDN1iKJjb3gk09j1xEXVXlR21M-b71kA2btq5jY0pu9RP0hyc23D7HpmRTQuSWyzsEv73jncfy2yQrefJMsmDtTRtFvvbv4jL7VOjm1ipaVs-p8M9T4fXju9c_bzpL11NYquiEVl338DroE5pKYkkjJWcTaFxHskD6JrRIjL6bR-qd-H6MlMN8UX3fX0t6LDihVS-9XJ7AkNMVrYINIecowhkggAJibM5tLtvgitwG2pxW-3Hs-wEbVNGxg_YDoS1b4MqNWhF0zm5Zq0FSElAe5lIRJBg9hvbfwTAzMqDmMWq-MAdXk50m9C8vhwpbCIdaLQ8SlJMUAZVWO3seVgnjfysHe_3rvw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Fails on aabaabaaaabaa (false positive).</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="noreferrer">Retina 0.8.2</a>, 35 bytes</h1>
<pre><code>^.$|^(.?(.)*.?)(?&lt;-2&gt;\2)*(?(2)^)\1$
</code></pre>
<p><a href="https://tio.run/##TYzRCsIwDEXf8x0T2oEF9yz20Z8YwzTd6MC0MDtYh/9eM0GQ3HsJIecuY54j1pO6P@pgmvegjFVGt8ZqZa/n7tZ3ulVWdXrQ/aWpFcE5ICKgRAkYmRHWENYAWynbVsBhRDH4lHOSAI@/kZcDgwmnSfZ9L8Arc4EFo08MIeWXGPKCzzn6JfH4RwuP0nzoG4COyCEdJxJ9AA" rel="noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation: Port of @alephalpha's Curry explanation.</p>
<pre><code>^.$|
</code></pre>
<p>Match a single character, or...</p>
<pre><code>^(.?(.)*.?)
</code></pre>
<p>... a leading substring, capturing a substring of that which optionally skips the first and/or last characters, ...</p>
<pre><code>(?&lt;-2&gt;\2)*(?(2)^)
</code></pre>
<p>... the inner substring in reverse, ...</p>
<pre><code>\1$
</code></pre>
<p>... and the leading substring again.</p>
</div>
<div id="pu9" class="pu"><h1><a href="http://jsoftware.com/" rel="noreferrer">J</a>, 31 bytes</h1>
<pre><code>&lt;e.[:;&amp;.&gt;@,(&lt;{@;g@|.,g=.&lt;@;}.)\
</code></pre>
<p><a href="https://tio.run/##bY/LCsIwEEX3fkVwYRRqcJ22UhBcuXKrm2naNErTQJtCU/Xba31mBJkHOZfJcOc8TBmVJOaEkoCsCB9rychmv9sOUc4OPJyxdRLMo0sSFsmVBUXMoiS8scVxWExyoQyhtm6tcvRFkgScwhdomvq3EAKBEcaTBq3Rr1apVnnsnOs6h5ZCBWN5ITPWmrEhBT7x1qiEsnF4548XDxKkxGN9jyZ1qzXCGqrMaM/K2EZhG7aG8lRltdH5P28ZuhnGkx75bHS4Aw" rel="noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Inspired by <a href="https://codegolf.stackexchange.com/a/250404/15469">alephalpha's Curry answer</a>, and Bubbler's edit.</p>
<p>It's a bit ugly mechanically, but I like the simplicity of the idea.</p>
<p>For each prefix, we create the Cartesian product of:</p>
<ol>
<li>[prefix]</li>
<li>[prefix reversed, tail of prefix reversed]</li>
<li>[prefix, tail of prefix]</li>
</ol>
<p>And then check if the input is equal to any of the elements of any of the Cartesian products.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.informatik.uni-kiel.de/%7Epakcs/" rel="noreferrer">Curry (PAKCS)</a>, 38 bytes</h1>
<p>-14 bytes thanks to <a href="https://codegolf.stackexchange.com/users/78410/bubbler">@Bubbler</a>.</p>
<pre><code>g a=a?tail a
f(a++g(reverse a)++g a)=1
</code></pre>
<p><a href="https://tio.run/##zU5RDsIgFPv3FC98bVETPcDiETyA8aPCkEUfLIyZsctPYDHGGxigLSWPVo7ex32PhxyW5U5ocAronoSNrrDd3ivfvlo/tIQ63RI2x4XRWWpIuQ1R7zsbqGL0pOmSDCIBsSMhpSzkpMvMYC7@aMxosphinKaY1Q0W6YjdOq5cCC5BflL4LHGtv3Gw8ax/Q9evUlwmDa3XjHkuPo/MRXhY5Tgr48Jgcso6HzyenVXecfsbrEptpIZ5FyhGKvRHja41nehQL28" rel="noreferrer" title="Curry (PAKCS) – Try It Online">Try it online!</a></p>
<hr />
<h1><a href="https://www.informatik.uni-kiel.de/%7Epakcs/" rel="noreferrer">Curry (PAKCS)</a>, 52 bytes</h1>
<pre><code>f([_]?(a++reverse(g a)++a))=1
g(a?(a++[_]))=a?tail a
</code></pre>
<p><a href="https://tio.run/##Sy4tKqrULUjMTi7@/z9NIzo@1l4jUVu7KLUstag4VSNdIVFTWztRU9PWkCtdIxEsB1QD5CfalyRm5igk/s9NzMxTsFVIU1BKSYRBpf8A" rel="noreferrer" title="Curry (PAKCS) – Try It Online">Try it online!</a></p>
<p>Returns <code>1</code> for truth, and nothing otherwise.</p>
<h2>How?</h2>
<p>Returns <code>1</code> when the input is either:</p>
<ul>
<li>a single character, or</li>
<li>in the form <code>a ++ reverse b ++ a</code>, where <code>b</code> is one of the following:
<ul>
<li><code>a</code>,</li>
<li>removing the first character from <code>a</code>,</li>
<li>removing the last character from <code>a</code>,</li>
<li>removing the first and the last characters from <code>a</code>.</li>
</ul>
</li>
</ul>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/molarmanful/lin" rel="noreferrer">lin</a>, 69 bytes</h1>
<pre><code>.+.#a $`.a len `t1+ `t \; `|
.+ `rev \`_`.' ,.a&quot;^%s?%s?%1$s$&quot;.@ sf ?t
</code></pre>
<p><a href="https://replit.com/@molarmanful/try-lin" rel="noreferrer">Try it here!</a> Switched to an approach inspired by @tsh because previous approach - although interesting - sucked at handling the edge cases.</p>
<p>For testing purposes:</p>
<pre><code>&quot;mamma&quot; ; outln
.+.#a $`.a len `t1+ `t \; `|
.+ `rev \`_`.' ,.a&quot;^%s?%s?%1$s$&quot;.@ sf ?t
</code></pre>
<h2>Explanation</h2>
<p>Prettified code:</p>
<pre><code>.+.#a $` .a len `t 1+ `t \; `|
.+ `rev \`_`.' , .a &quot;^%s?%s?%1$s$&quot;.@ sf ?t
</code></pre>
<ul>
<li><code>.+.#a</code> store input as <em>a</em></li>
<li><code>$` .a len `t 1+ `t</code> generate prefixes</li>
<li><code>\; `|</code> check if any are true...
<ul>
<li><code>.+ `rev</code> duplicate prefix, reverse</li>
<li><code>\`_`.'</code> convert to string</li>
<li><code>,</code> pair</li>
<li><code>&quot;^%s?%s?%1$s$&quot;.@ sf</code> turn into regex (templated as <em>x</em>, <em>y</em>, <em>x</em>)</li>
<li><code>.a ... ?t</code> check if regex matches</li>
</ul>
</li>
</ul>
</div>
<div id="pu12" class="pu"><h1><a href="https://nodejs.org" rel="noreferrer">JavaScript (Node.js)</a>, 60 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;[...s,l=r=''].some(t=&gt;s.match(`^${l+=t}?${r=t+r}?${l}$`))
</code></pre>
<p><a href="https://tio.run/##TVHBTsMwDL3nK3yY1ERsKXeUceIj0Bial6akqKmnJIWWad8@nA4Qrd6z/Zy6T/E7fmCysTvlzUCNu7bmmsx2p7VO695EU1V7nSg4mc026YDZenl4XZ37O5Mvj6tzNPkulqS/rA5KXbNL2WJyCQwcBMLtkQg1LFDiePzRjlwvULCBgbKD7DEzuegAGfmT4EQpdcfegfXUWR7bUoRnYa29DbE8YIESlizdNGKBFpWUCBhC8SHDYiAwBbYxej/6IjPX4Eem0SsxzfM0zSwz1TBPTNPMpnFAxs03xxq4Lt5xUKKhnImpNEuogUtmzrmJvy83C7MHjqXNsfywGBctti3nX1@zCGMIs4g4NBSEp5wYIkfsu6GJvIp/IxsUB51jF6TS6dR3WVYvQ6V4Tyc5gdnCbvrVoVK7@/3P4TXUL7LWZVlyUnv1IP72pvmCn5C3LHfdGtxelTFnAXyXQ6Le6Z7eZCs7nuH4u4t6uH4D" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1>Python3, 305 bytes:</h1>
<pre class="lang-py prettyprint-override"><code>lambda s:any(all({*s}-{*k}for k in j)^1and K(s,j)and j[0]==j[1][::-1]==j[2]for i in R(1,L(s)+1)for j in C(s,i))
R=range
L=len
K=lambda s,l:not(l or s)or l and s[:(T:=L(l[0]))]==l[0]and any(K(s[T-i:],l[1:])for i in[0,1])
C=lambda s,n,l=[]:L(l)==3and[l]or[j for x in R(L(s)-n+1)for j in C(s,n,l+[s[x:x+n]])]
</code></pre>
<p><a href="https://tio.run/##dZJNb9swDIbP068QcrGY2E2dXgYDPvXYYIeil0FxAcWWZ7n6MCwFtVv0t2eU02zDgMbhK4kEyUcChzl0zt59H8ZzWx7OWphjI6gvhJ2Z0Jq9r/1H9r5@@WjdSF@osrSH51zYhj4wn/YQdz2/rcqy53nFiyLLl/2uigkqJjyyPN0zD5scoq@PvntMVgDksRyF/SXJvtTSkofy2j/VhXWBaYoJHlA0jZ08L9hTUe6ZxpYA2CluYiTyIhF/ylRRpZrnRQVXAn6b5hWQ@7/VbapLXhVYB8ryDvO5rtzIexpTpgt0RM7s/9CYueGeT8W0sVUF1VmZwY2BjpL4vFytVoJefkzQLV0MyPH46TvieTGgGcULSho6EVDkKKlAC6@ODs57ddSS1p1TtfQL1E9S1/WlSI0FFgNSu9pdfA4dbvE6IEYYEzmYWQAMikGMU9eduuhG3dLuhHLqgEzzPE0zulG2dJ5QphmhhRVoF25ctxTPkV1YII0LwaHEYFy2FI@ouMeguH4YjIoMuMYwroCPRP4MR6t0kCP74axMqc9v/KBVYMnBJgAF@TaMygbWslHetMo2cSKT58PrJkmpgmUGiN/FZ5/m@BikFW2LF3p7m4k5GTMTHK/GGdK54NFIGIXGOqMz8h/MRhCBd43/RSLhpXOSJevdLXzFu/uKF2f7/Bs" rel="nofollow noreferrer">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/250395/">250395</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




