<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="g.js"></script>
    <title>cg::57845</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>016</td><td>Thunno 2 N</td><td>230730T080156Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/263527#263527">The Thon</a></td></tr>
<tr d-ix="1"><td>014</td><td>Stax</td><td>211020T222436Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/236475#236475">recursiv</a></td></tr>
<tr d-ix="2"><td>019</td><td>APL Dyalog Unicode</td><td>211020T141240Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/236464#236464">ovs</a></td></tr>
<tr d-ix="3"><td>121</td><td>Java JDK</td><td>211020T133625Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/236462#236462">0xff</a></td></tr>
<tr d-ix="4"><td>068</td><td>Python 3</td><td>210628T104516Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/230632#230632">Hunaphu</a></td></tr>
<tr d-ix="5"><td>017</td><td>Japt h</td><td>210628T091137Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/230624#230624">Shaggy</a></td></tr>
<tr d-ix="6"><td>029</td><td>Vyxal j</td><td>210628T023355Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/230616#230616">Wasif</a></td></tr>
<tr d-ix="7"><td>020</td><td>05AB1E legacy</td><td>161009T192834Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/95725#95725">Luke</a></td></tr>
<tr d-ix="8"><td>038</td><td>Regenerate</td><td>210627T004215Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/230576#230576">DLosc</a></td></tr>
<tr d-ix="9"><td>082</td><td>Python 3</td><td>210511T193208Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/225441#225441">drmosley</a></td></tr>
<tr d-ix="10"><td>095</td><td>R</td><td>210510T124802Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/225364#225364">pajonk</a></td></tr>
<tr d-ix="11"><td>021</td><td>J</td><td>210510T034752Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/225343#225343">Jonah</a></td></tr>
<tr d-ix="12"><td>067</td><td>Python 2</td><td>210510T033743Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/225342#225342">dingledo</a></td></tr>
<tr d-ix="13"><td>107</td><td>MAWP</td><td>200807T131157Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/209227#209227">Razetime</a></td></tr>
<tr d-ix="14"><td>108</td><td>MAWP</td><td>200811T061026Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/209402#209402">Dion</a></td></tr>
<tr d-ix="15"><td>051</td><td>Perl 5 n</td><td>200807T212135Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/209240#209240">Xcali</a></td></tr>
<tr d-ix="16"><td>070</td><td>Haskell</td><td>200807T185138Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/209236#209236">Kyuuhach</a></td></tr>
<tr d-ix="17"><td>066</td><td>Python 3</td><td>200807T155225Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/209231#209231">Kyuuhach</a></td></tr>
<tr d-ix="18"><td>073</td><td>SmileBASIC</td><td>170202T034507Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/108924#108924">12Me21</a></td></tr>
<tr d-ix="19"><td>165</td><td>C gcc</td><td>170202T075542Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/108930#108930">Abel Tom</a></td></tr>
<tr d-ix="20"><td>142</td><td>C#</td><td>161030T235845Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/98084#98084">Ozzieret</a></td></tr>
<tr d-ix="21"><td>093</td><td>PHP</td><td>150913T221327Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57883#57883">Ismael M</a></td></tr>
<tr d-ix="22"><td>110</td><td>C#</td><td>161008T223041Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/95692#95692">adrianmp</a></td></tr>
<tr d-ix="23"><td>172</td><td>Racket</td><td>161009T011338Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/95695#95695">rnso</a></td></tr>
<tr d-ix="24"><td>006</td><td>Pyke noncompetitive</td><td>161008T190208Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/95682#95682">Blue</a></td></tr>
<tr d-ix="25"><td>091</td><td>PHP</td><td>161008T145020Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/95672#95672">Titus</a></td></tr>
<tr d-ix="26"><td>056</td><td>Perl 5.14+</td><td>150915T070506Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57966#57966">ThisSuit</a></td></tr>
<tr d-ix="27"><td>083</td><td>Ruby</td><td>150914T191451Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57934#57934">jmm</a></td></tr>
<tr d-ix="28"><td>090</td><td>Lua</td><td>150914T042630Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57898#57898">Trebuche</a></td></tr>
<tr d-ix="29"><td>091</td><td>MATLAB</td><td>150913T231751Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57887#57887">rayryeng</a></td></tr>
<tr d-ix="30"><td>076</td><td>Perl</td><td>150913T233106Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57888#57888">tchrist</a></td></tr>
<tr d-ix="31"><td>104</td><td>><></td><td>150913T212845Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57880#57880">cole</a></td></tr>
<tr d-ix="32"><td>198</td><td>C++</td><td>150913T230151Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57886#57886">Cyv</a></td></tr>
<tr d-ix="33"><td>082</td><td>PowerShell</td><td>150913T223500Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57885#57885">briantis</a></td></tr>
<tr d-ix="34"><td>020</td><td>CJam</td><td>150913T133216Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57852#57852">Martin E</a></td></tr>
<tr d-ix="35"><td>074</td><td>Python 2</td><td>150913T193727Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57878#57878">xnor</a></td></tr>
<tr d-ix="36"><td>088</td><td>Python 3</td><td>150913T130453Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57847#57847">Beta Dec</a></td></tr>
<tr d-ix="37"><td>027</td><td>vim</td><td>150913T153242Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57857#57857">Doorknob</a></td></tr>
<tr d-ix="38"><td>156</td><td>brainfuck</td><td>150913T174227Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57868#57868">undergro</a></td></tr>
<tr d-ix="39"><td>031</td><td>Pyth</td><td>150913T131843Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57850#57850">Blue</a></td></tr>
<tr d-ix="40"><td>089</td><td>pb</td><td>150913T161340Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57860#57860">undergro</a></td></tr>
<tr d-ix="41"><td>021</td><td>K</td><td>150913T145601Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57856#57856">JohnE</a></td></tr>
<tr d-ix="42"><td>073</td><td>JavaScript ES6</td><td>150913T143812Z</td><td><a href="https://codegolf.stackexchange.com/questions/57845/surround-a-string-with-hashes/57855#57855">edc65</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>N</code>, 16 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ðṛ[l'#×;lṣ;]'#ṛⱮ
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVDMyVCMCVFMSVCOSU5QiU1QmwnJTIzJUMzJTk3JTNCbCVFMSVCOSVBMyUzQiU1RCclMjMlRTElQjklOUIlRTIlQjElQUUmZm9vdGVyPSZpbnB1dD1IZWxsbyUyMFdvcmxkJmZsYWdzPU4=" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>ðṛ[l'#×;lṣ;]'#ṛⱮ  # Implicit input
ðṛ                # Surround by spaces
  [    ;  ;]      # Apply parallelly, and wrap into a list:
   l'#×          '#   [0]  length * &quot;#&quot;
        lṣ        #   [1]  length * &quot; &quot;
                  #   [2]  just that
            '#ṛ  '# Surround each by &quot;#&quot;s
               Ɱ  # Palindromise the list
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 14 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>≡┼ö▓ú¡êqct╜R&quot;Γ
</code></pre>
<p><a href="https://staxlang.xyz/#p=f0c594b2a3ad88716374bd5222e2&amp;i=hello+world&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 19 <a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">bytes</a></h1>

<pre class="lang-apl prettyprint-override"><code>(⍉⍪⍪⊣)/'##  ',⊂∘⍉∘⍪
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///X@NRb@ej3lUg1LVYU19dWVlBQV3nUVfTo44ZICkQuep/2qO2CY96@x71TfX0f9TVfGi98aO2iUBecJAzkAzx8Az@DxROU1D3SM3JyVcIzy/KSVEHAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="http://jdk.java.net/" rel="nofollow noreferrer">Java (JDK)</a>, 121 bytes</h1>

<pre class="lang-java prettyprint-override"><code>i-&gt;{int l=i.length()+2;return &quot;#&quot;.repeat(l+2)+&quot;\n#&quot;+&quot; &quot;.repeat(l)+&quot;#\n# &quot;+i+&quot; #\n#&quot;+&quot; &quot;.repeat(l)+&quot;#\n&quot;+&quot;#&quot;.repeat(l+2);}
</code></pre>
<p><a href="https://tio.run/##dZCxcsIwDIb3PIXqLMmlhDvWHJ3L0KlDh7aDSEQwFbbPVnLHcXn21IU00KFabH@Sfsn/AXtcHJqvsWYMAV5QGzgnCcRYLqHeo2kJt0ygjZDfYU2XnPO6R7mjsIltMMWreG1aQOf4lE0PbVwneXWpGa4DXLdlXUMQlHj0Vjdw/Jk/tbx/Avo25HfC8yXuFkg6N4MNBMudaGtgPcO76tbyjhqobUOjXjyd4@LAa10ymVb2WV6sKh8FvQGVqtKTI5SMi1VeqA@TqkLBjUaWRgiq0JGn/@Qj@6tUDWOV3Dw6BaFjaTspo5lG2GS/PyivxqlnYraP8GY9Nw8qn80bxm8" rel="nofollow noreferrer" title="Java (JDK) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 68 bytes</h1>

<pre class="lang-python prettyprint-override"><code>s=input()
n=len(s)+2
v='#'*n+'##\n#'+' '*n+'#\n#'
print(v,s,v[::-1])
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/7/v9g2M6@gtERDkyvPNic1T6NYU9uIq8xWXVldK09bXVk5Jk9ZXVtdAcIDcbgKijLzSjTKdIp1yqKtrHQNYzX///dIzcnJV3DKT0@tBAA" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-h</code></a>, 17 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>8Æ=z ®i&quot; #&quot;gXz4}R
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LWg&amp;code=OMY9eiCuaSIgIyJnWHo0fVI&amp;input=IkhlbGxvIFdvcmxkIg" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Lyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>j</code>, 29 bytes</h1>
<pre><code>L4+\#*:\#?L½›꘍m:„W2\#ð+Ḃ?$++Ṁ
</code></pre>
<p><a href="https://lyxal.pythonanywhere.com?flags=j&amp;code=L4%2B%5C%23*%3A%5C%23%3FL%C2%BD%E2%80%BA%EA%98%8Dm%3A%E2%80%9EW2%5C%23%C3%B0%2B%E1%B8%82%3F%24%2B%2B%E1%B9%80&amp;inputs=%22This%20is%20a%20test%22&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>For some reason Vertical mirror and center doesn't work</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/tree/fb4a2ce2bce6660e1a680a74dd61b72c945e6c3b" rel="nofollow noreferrer">05AB1E (legacy)</a>, 20 bytes</h1>
<pre><code>g4+'#×©,¹' .ø'#.ø,®,
</code></pre>
<p><a href="https://tio.run/##MzBNTDJM/f8/3URbXfnw9EMrdQ7tVFfQO7xDXRlI6Bxap/P/v6GRsYmpmbmFpQGCBQA" rel="nofollow noreferrer" title="05AB1E (legacy) – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/dloscutoff/Esolangs/tree/master/Regenerate" rel="nofollow noreferrer">Regenerate</a>, 38 bytes</h1>
<pre><code>(\#{#~1+4})(\n# {#~1+2}#\n)# $~1 #$2$1
</code></pre>
<p>Takes the string as a command-line argument. <a href="https://replit.com/@dloscutoff/regenerate" rel="nofollow noreferrer">Try it here!</a></p>
<h3>Explanation</h3>
<p>Spaces are replaced by underscores so they're easier to see.</p>
<pre><code>(         )                             Group 1: top row
 \#                                      A literal hash character
   {     }                               repeated
    #~1                                  len(input)
       +4                                + 4 times
           (              )             Group 2: second row (plus newlines)
            \n#                          Newline followed by hash
               _{     }                  followed by space repeated
                 #~1+2                   len(input) + 2 times
                       #\n               followed by hash and another newline
                                        Middle row:
                           #_            Hash followed by space
                             $~1         followed by input
                                _#       followed by space and another hash
                                        Final two rows:
                                  $2     Group 2 again
                                    $1   Group 1 again
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 82 bytes</h1>

<pre class="lang-python prettyprint-override"><code>d,h,s,m=input(),'#',' ','\n'
l=len(d)+2
print(l*h+h,l*s,s+d+s,l*s,l*h+h,sep=h+m+h)
</code></pre>
<p><a href="https://tio.run/##JcgxDoAgDEDR3VNoHADbSWd2b@DiCElJaiEWB0@PRoefvPxyV8qytBaQUPHwScpVrUMzGjT92y6mY89RbHAwd@VMUi1PBIQ8KSoE0E//01g8wQHkWlsjc8Z@yyeH4QE" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>106</s> 95 bytes</h1>

<pre class="lang-r prettyprint-override"><code>function(t,l=nchar(t),n=&quot;#
#&quot;,s=&quot; &quot;,`&amp;`=strrep)cat(a&lt;-&quot;#&quot;&amp;l+3,b&lt;-c(n,s&amp;l+2,n),s,t,s,b,a,sep=&quot;&quot;)
</code></pre>
<p><a href="https://tio.run/##VY3BCsIwEETv/Yq4gZLg9qLX5uA/eBTsNkZSKJuS3X5/jTeFGZiB4U09Mkl@Ui07v8Lx3jnqUtgproFjpurUIwewnQWUAAZw6qcgWmvafCR1NA5goV/PV5zHITpGaeWC7FFQm2cklLQFAP975uCeFzFNZDSJgu@@OHhwS3@7GxfNqZrC6dQYHw" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p><em>-5 bytes thanks to <a href="https://codegolf.stackexchange.com/users/95126/dominic-van-essen">@Dominic</a></em>, which led to further golfs.</p>
</div>
<div id="pu11" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 21 bytes</h1>
<pre><code>'#'g' '&amp;g=.|.@|:@,^:4
</code></pre>
<p><a href="https://tio.run/##y/qvpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/1ZXV09UV1NXSbfVq9BxqrBx04qxM/mtypSZn5CukKehYqXuk5uTkK4TnF@WkqCMJe@XnJWao/wcA" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 67 bytes</h1>

<pre class="lang-python prettyprint-override"><code>s=input()
n=len(s)+2
y='#\n#'
x='#'*-~n+y+' '*n+y
print x,s,x[::-1]
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/r/v9g2M6@gtERDkyvPNic1T6NYU9uIq9JWXTkmT1mdqwLIUNfSrcvTrtRWV1DXAtJcBUWZeSUKFTrFOhXRVla6hrH//yt5pObk5CuE5xflpCgBAA" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://esolangs.org/wiki/MAWP" rel="nofollow noreferrer">MAWP</a>, <strike>117</strike> 107 bytes</h1>
<pre><code>%|0_!!!3M[1A75W;]25W;%75W;1M[1A84W;]75W;25W;75W;84W;~[;]84W;75W;25W;%75W;1M[1A84W;]75W;25W;%3M[1A75W;]25W;.
</code></pre>
<p>-10 bytes from Dion.</p>
<p><a href="https://8dion8.github.io/MAWP/?code=%25%7C0_!!!3M%5B1A75W%3B%5D25W%3B%2575W%3B1M%5B1A84W%3B%5D75W%3B25W%3B75W%3B84W%3B%7E%5B%3B%5D84W%3B75W%3B25W%3B%2575W%3B1M%5B1A84W%3B%5D75W%3B25W%3B%253M%5B1A75W%3B%5D25W%3B.&amp;input=Hello%20World" rel="nofollow noreferrer">Try it!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://esolangs.org/wiki/MAWP" rel="nofollow noreferrer">MAWP</a>, 108 bytes</h1>
<pre><code>%|_4M[75W;1A]%52W;75W;84W;_1M[84W;1A]%75W;25W;75W;84W;0__~[;]%84W;75W;52W;75W;1M![84W;1A]%75W;52W;2M[75W;1A]
</code></pre>
<p><a href="https://8dion8.github.io/MAWP/?code=%25%7C_4M%5B75W%3B1A%5D%2552W%3B75W%3B84W%3B_1M%5B84W%3B1A%5D%2575W%3B25W%3B75W%3B84W%3B0__%7E%5B%3B%5D%2584W%3B75W%3B52W%3B75W%3B1M!%5B84W%3B1A%5D%2575W%3B52W%3B2M%5B75W%3B1A%5D&amp;input=Yay%2C%20it%20works!" rel="nofollow noreferrer">Try it!</a></p>
<p>Now an actually valid solution</p>
<p>Explanation:</p>
<pre><code>%              Remove the 1 already on stack
|              Push input as ascii
_4M            Push length of stack + 4
[75W;1A]%      Print that many #
52W;           Print a newline
75W;           Print #
84W;           Print a space
_1M            Push length of stack + 1
[84W;1A]%      Print that many spaces
75W;25W;       Print # with a newline
75W;84W;       Print # with a space
0              Push a 0
__             Push length of stack twice
~[;]           Reverse stack and print until 0
%              Remove top of stack
84W;75W;52W;   Print a space, # and newline
75W;           Print #
1M!            Add 1 to top and duplicate it
[84W;1A]%      Print that many spaces
75W;52W;       Print # with a newline
2M[75W;1A]     Add 2 and print that many #
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-n</code>, 51 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>map{say&quot;#$_#&quot;}($_=&quot; $_ &quot;,y// /cr,y//#/cr)[2,1,0..2]
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/z83saC6OLFSSVklXlmpVkMl3lZJQSVeQUmnUl9fQT@5CEQrA2nNaCMdQx0DPT2j2P//S1KLSxRyU4uLE9NT/@UXlGTm5xX/1/U11TMwNPivmwcA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 70 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>x a=(\s-&gt;s++a++reverse s)$concat[&quot;##&quot;,'#'&lt;$a,&quot;##\n# &quot;,' '&lt;$a,&quot; #\n# &quot;]
</code></pre>
<p><a href="https://tio.run/##JcdBDkAwEEDRq0xaSUm5AU5gxw6LSU1SQUmnxO2rieQv/rPIG@17jC9gk09ctaw1au3pIc8EXGTmdAbDKKQUpZKqzrBMPzkJyfAbfs/xwNU11x364DuXv2KwK0MKwZwLiSJ@" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<hr />
<h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 68 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>x a=id&lt;&gt;pure a&lt;&gt;reverse$concat[&quot;##&quot;,'#'&lt;$a,&quot;##\n# &quot;,' '&lt;$a,&quot; #\n# &quot;]
</code></pre>
<p><s>Try it online!</s> (Doesn't work since TIO uses an old GHC where <code>&lt;&gt;</code> isn't imported by default.)</p>
<hr />
<h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 63 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>x a|s&lt;-['#'&lt;$a,&quot;####\n# &quot;,' '&lt;$a,&quot; #\n# &quot;]&gt;&gt;=id=s++a++reverse s
</code></pre>
<p><a href="https://tio.run/##JYhBDkAwEAC/smklJeUH6gVu3HDYsIkGJd0SB38viclcZmbkhdY1xhvw4bLolFRlgrmQH72TIHIF/4G/h6oydjKsNWrt6SLPBBw3tM4cZ2iCr116i3a2DJ8I4z6RyOIL" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 66 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda x:(&quot;###### %s ######\n\n\n\n&quot;%' ## '.join(f&quot; {x} &quot;)*5)[::5]
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/6fZhvzPycxNyklUaHCSkNJGQwUVIsVIKyYPAhUUlUHiiio62XlZ@ZppCkpVFfUKihpaplqRltZmcb@LyjKzCvRSNNQCsnILFYAokSF5PyUVCVNzf8A" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1>SmileBASIC, 73 bytes</h1>
<pre><code>LINPUT S$L=LEN(S$)+2O$=&quot;#&quot;+&quot; &quot;*L+&quot;#
T$=&quot;#&quot;*(L+2)?T$?O$?&quot;# &quot;;S$;&quot; #
?O$?T$
</code></pre>
</div>
<div id="pu19" class="pu"><h2>C (gcc) 165 bytes</h2>

<pre><code>f(*s){i,j;c='#';for(j=0;j&lt;5;j++){if(j==0||j==4){for(i=0;i&lt;strlen(s)+2;i++)printf("#");}else if(j==2) printf("#%s#",s);else printf("#%*c",(strlen(s)+1),c);puts("");
</code></pre>

<p>Ungolfed version</p>

<pre><code>void  f(char *s)
{
    int i,j;
    char c='#';

    for(j=0;j&lt;5;j++)
    { 
       if(j==0||j==4)
       { 
         for(i=0;i&lt;strlen(s)+2;i++)
           printf("#");
       }
       else
        if(j==2)
         printf("#%s#",s);
      else
        printf("#%*c",(int)(strlen(s)+1),c);

   puts("");
}
</code></pre>
</div>
<div id="pu20" class="pu"><h2>C# - 142 bytes (method body is 104)</h2>

<pre><code>class P{static void Main(string[]a){for(int i=0;++i&lt;6;)System.Console.Write("#{0}#\n",i==3?$" {a[0]} ":new string(" #"[i%2],a[0].Length+2));}}
</code></pre>

<p>Ungolfed:</p>

<pre><code>class P
{
    static void Main(string[] a)
    {
        for (int i = 0; ++i &lt; 6;)
            System.Console.Write("#{0}#\n", i == 3 ? $" {a[0]} " : new string(" #"[i%2], a[0].Length + 2));
    }
}
</code></pre>
</div>
<div id="pu21" class="pu"><h1>PHP, <s>95</s> 93 bytes</h1>

<p>Not exactly brilliant or anything similar, but it was actually fun!</p>

<pre><code>$l=strlen($s=" $argv[1] ");printf("#%'#{$l}s#
#%1\${$l}s#
#$s#
#%1\${$l}s#
#%1\$'#{$l}s#",'');
</code></pre>

<p>Not exactly pretty or anything, but it works brilliantly!</p>

<hr>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/55735/titus">@Titus</a> for saving 2 bytes.</p>
</div>
<div id="pu22" class="pu"><h1>C#, <strike>116</strike> 110 bytes</h1>
<pre><code>s=&gt;{string r=&quot;\n&quot;.PadLeft(s.Length+5,'#'),p=&quot;#&quot;.PadRight(s.Length+3,' ')+&quot;#\n&quot;;return r+p+&quot;# &quot;+s+&quot; #\n&quot;+p+r;};
</code></pre>
<p>Ungolfed:</p>
<pre><code>s=&gt;
{
    string r = &quot;\n&quot;.PadLeft(s.Length + 5, '#'),         //the first line, made of '#'s
        p = &quot;#&quot;.PadRight(s.Length + 3, ' ') + &quot;#\n&quot;;    //the second line
    return r + p + &quot;# &quot; + s + &quot; #\n&quot; + p + r;           //output is simmetrical
};
</code></pre>
<p>Initial version:</p>
<pre><code>s=&gt;{int l=s.Length;string r=new string('#',l+4)+&quot;\n&quot;,p=&quot;#&quot;+new string(' ',l+2)+&quot;#\n&quot;;return r+p+&quot;# &quot;+s+&quot; #\n&quot;+p+r;};
</code></pre>
<p>Full program with test cases:</p>
<pre><code>using System;

namespace SurroundStringWithHashes
{
    class Program
    {
        static void Main(string[] args)
        {
            Func&lt;string,string&gt;f= s=&gt;{int l=s.Length;string r=new string('#',l+4)+&quot;\n&quot;,p=&quot;#&quot;+new string(' ',l+2)+&quot;#\n&quot;;return r+p+&quot;# &quot;+s+&quot; #\n&quot;+p+r;};

            Console.WriteLine(f(&quot;Hello World&quot;));
            Console.WriteLine(f(&quot;Programming Puzzles &amp; Code Golf&quot;));
        }
    }
}
</code></pre>
</div>
<div id="pu23" class="pu"><h2>Racket 172 bytes</h2>

<pre><code>(λ(s)(let((n(string-length s))(p #\space)(g(λ(l c)(make-string l c))))(display(string-append
(g(+ 4 n)#\#)"\n#"(g(+ 2 n)p)"#\n# "s" #\n#"(g(+ 2 n)p)"#\n"(g(+ 4 n)#\#)))))
</code></pre>

<p>Ungolfed:</p>

<pre><code>(define (f s)
  (let ((n (string-length s))
        (p #\space)
        (g (λ (l c) (make-string l c))))
    (display (string-append (g (+ 4 n) #\#)
                            "\n#"
                            (g (+ 2 n) p)
                            "#\n# "
                            s
                            " #\n#"
                            (g (+ 2 n) p)
                            "#\n"
                            (g (+ 4 n) #\#)
                            ))))
</code></pre>

<p>Testing: </p>

<pre><code>(f "This is a test" )
</code></pre>

<p>Output:</p>

<pre><code>##################
#                #
# This is a test #
#                #
##################
</code></pre>
</div>
<div id="pu24" class="pu"><h2>Pyke (noncompetitive), 6 bytes</h2>
<pre><code>.X&quot;.X#
</code></pre>
<p><a href="http://pyke.catbus.co.uk/?code=.X%22.X%23&amp;input=Hello%2C+World%21" rel="nofollow noreferrer">Try it here!</a></p>
<p>Pyke was written after the challenge and is therefore noncompetitive.</p>
<pre><code>.X&quot;    - surround string in spaces
   .X# - surround string in hashes
</code></pre>
<p><code>.X</code> takes a string and a string constant arg and surrounds a string with that group of characters. The constant arg can be up to 8 characters and have different effects on how the string is surrounded.</p>
</div>
<div id="pu25" class="pu"><h1>PHP, <s>93</s> 91 bytes</h1>

<pre><code>$b=str_pad("",$e=strlen($s=" $argv[1] "));echo$h=str_pad("",2+$e,"#"),"
#$b#
#$s#
#$b#
$h";
</code></pre>

<p>Takes input from command line argument; escape spaces or use single quotes. Run with <code>-r</code>.</p>
</div>
<div id="pu26" class="pu"><h1>Perl 5.14+, <s>57</s> 56 bytes</h1>

<pre><code>perl -lpe '$_=join"#
#",($_=" $_ ",y// /cr,"#".y//#/cr)[2,1,0..2]'
</code></pre>

<p>54 bytes + 2 bytes for <code>-lp</code> (if input doesn't end in a newline, <code>-l</code> can be dropped to save one byte).</p>

<p>Accepts input on STDIN:</p>

<pre><code>$ echo Hello World | perl -lpe '$_=join"#
#",($_=" $_ ",y// /cr,"#".y//#/cr)[2,1,0..2]'
###############
#             #
# Hello World #
#             #
###############
</code></pre>

<h2>How it works</h2>

<p>The core of the program is a list slice:</p>

<pre><code>($_=" $_ ",y// /cr,"#".y//#/cr)[2,1,0..2]'
</code></pre>

<p>This provides a compact way to store the three unique rows of the output (the first two rows of the bounding box are the same as the last two, only mirrored). For the input string <code>foo</code>, the results of the slice would be:</p>

<pre><code>index   value
--------------
  2    "######"
  1    "     "
  0    " foo "
  1    "     "
  2    "######"
</code></pre>

<p>Joining these values with <code>#\n#</code> gives us our box.</p>

<p>Note that Perl 5.14+ is required to use the non-destructive <code>r</code> modifier to the transliteration operator <code>y///</code>.</p>
</div>
<div id="pu27" class="pu"><h1>Ruby, 83 bytes</h1>

<p>I guess it could be golfed further, but since there's no Ruby answer yet, here it is:</p>

<pre><code>s=ARGV[0]
n=s.size
r="#"*(n+4)
t="\n#"+" "*(n+2)+"#\n"
puts r+t+"\n# "+s+" #\n"+t+r
</code></pre>
</div>
<div id="pu28" class="pu"><h1>Lua, 90 bytes</h1>

<pre><code>a=arg[1]h="#"s=" "t="\n"..h c=h:rep(#a+4)..t..s:rep(#a+2)..h..t..s print(c..a..c:reverse())
</code></pre>
</div>
<div id="pu29" class="pu"><h1>MATLAB, <s>93</s> 91 bytes</h1>

<p>Not the prettiest, but it gets the job done.</p>

<pre><code>t=[32 input('','s') 32];m='#####'.';n=repmat('# ',numel(t),1)';disp([m [n;t;flipud(n)] m])
</code></pre>

<h1>Code Explanation</h1>

<h2>Step #1</h2>

<pre><code>t=[32 input('','s') 32];
</code></pre>

<p>Read in a string from STDIN and place a leading and trailing single space inside it.  32 is the ASCII code for a space and reading in the input as a string type coalesces the 32s into spaces.</p>

<h2>Step #2</h2>

<pre><code>m='#####'.';
</code></pre>

<p>Declare a character array of 5 hash signs in a column vector.</p>

<h2>Step #3</h2>

<pre><code>n=repmat('# ',numel(t),1)'
</code></pre>

<p>Create a 2 row character matrix that is filled by hash signs first followed by white space after.  The number of characters is the length of the input string plus 2 so that we can accommodate for the space before and after the string.</p>

<h2>Step #4</h2>

<pre><code>disp([m [n;t;flipud(n)] m])
</code></pre>

<p>We're going to piece everything together.  We place the first column of 5 hashes, followed by the centre portion and followed by another column of 5 hashes.  The centre portion consists of the 2 row character matrix created in Step #3, the input string itself which has a trailing and leading space, followed by the 2 row character matrix but reversed.</p>

<h1>Example Runs</h1>

<pre><code>&gt;&gt; t=[32 input('','s') 32];m='#####'.';n=repmat('# ',numel(t),1)';disp([m [n;t;flipud(n)] m])
This is something special for you
#####################################
#                                   #
# This is something special for you #
#                                   #
#####################################
&gt;&gt; t=[32 input('','s') 32];m='#####'.';n=repmat('# ',numel(t),1)';disp([m [n;t;flipud(n)] m])
Hello World
###############
#             #
# Hello World #
#             #
###############
&gt;&gt; t=[32 input('','s') 32];m='#####'.';n=repmat('# ',numel(t),1)';disp([m [n;t;flipud(n)] m])
I &lt;3 Code Golf StackExchange!
#################################
#                               #
# I &lt;3 Code Golf StackExchange! #
#                               #
#################################
</code></pre>
</div>
<div id="pu30" class="pu"><h1>Perl, <s> 43 </s> 76 bytes</h1>
<p>Transform each text input line as specified:</p>
<pre><code>s/.*/($x=(&quot;#&quot;x(4+($z=length)))).&quot;\n&quot;.($y=&quot;#&quot;.&quot; &quot;x(2+$z).&quot;#\n&quot;).&quot;# $&amp; #\n$y$x&quot;/e
</code></pre>
<p>For example:</p>
<pre><code>echo surround a long string with pounds | 
perl -ple's/.*/($x=(&quot;#&quot;x(4+($z=length)))).&quot;\n&quot;.($y=&quot;#&quot;.&quot; &quot;x(2+$z).&quot;#\n&quot;).&quot;# $&amp; #\n$y$x&quot;/e' 
######################################
#                                    #
# surround a long string with pounds #
#                                    #
######################################
</code></pre>
<p>Here’s how to see what it’s really doing:</p>
<pre><code>perl -MO=Deparse,-p,-q,-x9 -ple '($x=(&quot;#&quot;x(4+($z=length)))).&quot;\n&quot;.($y=&quot;#&quot;.&quot; &quot;x(2+$z).&quot;#\n&quot;).&quot;# $&amp; #\n$y$x&quot;;'
BEGIN { $/ = &quot;\n&quot;; $\ = &quot;\n&quot;; }
LINE: while (defined(($_ = &lt;ARGV&gt;))) {
    chomp($_);
    (((($x = ('#' x (4 + ($z = length($_))))) . &quot;\n&quot;) . ($y = (('#' . (' ' x (2 + $z))) . &quot;#\n&quot;))) . (((('# ' . $&amp;) . &quot; #\n&quot;) . $y) . $x));
}
continue {
    (print($_) or die((('-p destination: ' . $!) . &quot;\n&quot;)));
}
-e syntax OK
</code></pre>
<p>So something more like this:</p>
<pre><code>((  
      (($x =  ('#' x (4 + ($z = length($_))))) . &quot;\n&quot;)
    .  ($y = (('#' . (' ' x (2 + $z))) . &quot;#\n&quot;))
  )  
    .  (((('# ' . $&amp;) . &quot; #\n&quot;) . $y) . $x)
)   
</code></pre>
</div>
<div id="pu31" class="pu"><h2><a href="http://esolangs.org/wiki/Fish" rel="nofollow">>&lt;></a>, <s>106</s> 104 Bytes</h2>

<p>I get the feeling that >&lt;> may not be the best language for this, but I've come too far to give up and not post this. The <code>*</code> at the end of line 4 is supposed to be a space. Don't you love how incredibly grotesque this code looks? Try it <a href="http://fishlanguage.com/playground" rel="nofollow">online</a>.</p>

<pre><code>&lt;v?(0:i
v&gt;~" ## "}}l:::
&gt;"#"o1-:?!v02.&gt;~a"#"oo
"-2ooa"#"~&lt;.31v!?:-1o" 
7v?=3loroo"#"a&lt;.4
.&gt;";^"e3pa2p093
</code></pre>

<p>Here's a version without anything but direction changers to give an idea of how the pointer moves (note that I've left out the "teleport" statements, i.e. <code>.</code>).</p>

<p><strong>Direction flow:</strong></p>

<pre><code>&lt;v
v&gt;
&gt;         v   &gt;
          &lt;   v 
 v            &lt;
 &gt;           
</code></pre>

<hr>

<h2>Explanation</h2>

<p>My visualization of the stack will be based off of the input <code>input</code>. >&lt;> is a two dimensional language, so pay attention to where the pointer is moving between lines, as it executes code underneath it (in this code <code>&lt;&gt;v^</code> are primarily used to change direction). I'll be starting my explanations from where the pointer starts. Note that there will be two lines repeated, as the pointer moves backwards after the fifth line.</p>

<p>What I always find cool about >&lt;> is its ability to modify its own source code, and I make use of it in this program. Lines 3 and 4 are reused to print the last two lines through a modification of a character in each.</p>

<p><strong>Line 1 :</strong> Input loop</p>

<pre><code>&lt;v?(0:i
&lt;        change direction to left
   (0:i  checks if input is less than 0 (no input defaults to -1)
 v?      change direction to down if so
</code></pre>

<p>Stack: <code>[-1,t,u,p,n,i]</code></p>

<hr>

<p><strong>Line 2:</strong> Generates third line of output</p>

<pre><code>v&gt;~" ## "}}l:::  
 &gt;~" ## "}}      remove -1 (default input value) from stack and pads with # and spaces
           l:::  push 4 lengths of padded input
</code></pre>

<p>Stack: <code>[9,9,9,9,#, ,t,u,p,n,i, ,#]</code></p>

<hr>

<p><strong>Line 3:</strong> Prints first line of output</p>

<pre><code>&gt;"#"o1-:?!v02.&gt;~a"#"oo
&gt;"#"o                   print "#"
     1-                 subtract 1 from length (it's at the top of the stack)
       :?!v             move down if top of stack is 0
</code></pre>

<p>Stack: <code>[0,9,9,9,#, ,t,u,p,n,i, ,#]</code></p>

<p>Output:</p>

<pre><code>#########
</code></pre>

<hr>

<p><strong>Line 4:</strong> Prints second line of output</p>

<pre><code>"-2ooa"#"~&lt;.31v!?:-1o"*
 -2ooa"#"~&lt;              pops 0, prints newline, "#", then decrements length by 2
"                   o"*  prints space (* is supposed to be space char)
                  -1     decrements top of stack
           .31v!?:       changes direction to down if top of stack is 0, else jumps back to "
</code></pre>

<p>Stack: <code>[0,9,9,#, ,t,u,p,n,i, ,#]</code></p>

<p>Output (<code>*</code> represents space):</p>

<pre><code>#########
#*******
</code></pre>

<hr>

<p><strong>Line 5:</strong> Prints third line of output</p>

<pre><code>7v?=3loroo"#"a&lt;.4
        oo"#"a&lt;    prints "#",newline
       r           reverses stack
7v?=3lo        .4  outputs until stack has 3 values, then changes direction to down
</code></pre>

<p>Stack: <code>[9,9,0]</code></p>

<p>Output:</p>

<pre><code>#########
#       #
# input #
</code></pre>

<hr>

<p><strong>Line 6:</strong> Sets itself up to print fourth and fifth lines of output</p>

<pre><code>.&gt;";^"e3pa2p093
 &gt;";^"           push ";",then "^"
      e3p        place "^" as the fifteenth character on line 4
         a2p     place ";" as the eleventh character on line 3
            0    push a value (value doesn't matter -- it will be deleted)
.            93  jump to the tenth character on line 4
</code></pre>

<p>Stack: <code>[0,9,9,0]</code></p>

<hr>

<p><strong>Line 4:</strong> Print fourth line of output</p>

<pre><code>"-2ooa"#"~&lt;.31^!?:-1o"*
   ooa"#"~&lt;              delete 0 (unnecessary value pushed), then print newline,"#"
 -2                      subtract two from value on top of stack (length)
"          .31^!?:-1o"*  print space until top of stack is 0, then change direction to up
</code></pre>

<p>Stack: <code>[0,9,0]</code></p>

<p>Output (<code>*</code> represents space):</p>

<pre><code>#########
#       #
# input #
#*******
</code></pre>

<hr>

<p><strong>Line 3:</strong> Print last line of output</p>

<pre><code>"#"o1-:?!;02.&gt;~a"#"oo
             &gt;~a"#"oo  pop top of stack, print "#", newline
"#"o1-:?!;02.          print "#" until top of stack is 0, then terminate
</code></pre>

<p>Stack: <code>[0,0]</code></p>

<p>Output:</p>

<pre><code>#########
#       #
# input #
#       #
#########
</code></pre>
</div>
<div id="pu32" class="pu"><h1>C++, 198 Bytes</h1>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
int i;int main(){std::string t,n,o;std::getline(std::cin,o);t="\n#";o="# "+o+" #";for(;i&lt;o.size();i++){n+="#";if(i&gt;1)t+=" ";}t+="#\n";std::cout&lt;&lt;n+t+o+t+n;}
</code></pre>

<p>My first stab at codegolf, and while I learned C++ is probably not the best language for golfing, I felt I did decently(?) for my first try.</p>

<p><strong>Ungolfed</strong></p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;

int i;                              //globals default to a value of 0

int main()
{
    std::string t, n, o;
    std::getline(std::cin, o);

    t = "\n#";                      // t needs hashes at start and end, places hash at start here
    o = "# " + o + " #";            // put hash at each end of input

    for(; i &lt; o.size(); i++) {
        n += "#";                   // fills n with hashes
        if(i &gt; 1) {
            t += " ";               // fill t with spaces between hashes, has two fewer spaces than n has hashes
        }
    }
    t += "#\n";                     // puts final hash at end of t

    std::cout &lt;&lt; n + t + o + t + n; // final output
}
</code></pre>

<p>n, o and t represent the fully hashed lines, the input (with hashes at each end) and the lines between the input and the hashed lines respectively.</p>
</div>
<div id="pu33" class="pu"><h1>PowerShell, <s>84</s> 82 bytes</h1>

<pre class="lang-psh prettyprint-override"><code>$l=$input.length+4;$p='#'*$l;$s=' '*$l;$p,$s,"  $input  ",$s,$p-replace'^ | $','#'
</code></pre>
</div>
<div id="pu34" class="pu"><h1>CJam, <s>22</s> 20 bytes</h1>

<pre><code>qa{4/3*' +f+W%z}8/N*
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=qa%7B4%2F3*32%2Bcf%2BW%25z%7D8%2FN*&amp;input=Hello%20World">Test it here.</a></p>

<h2>Explanation</h2>

<p>How do you wrap a 2D grid of characters in one layer of spaces (or any other character)? Correct: four times, you append a space to each line and then rotate the grid by 90 degrees. That's exactly what I'm doing here with eight rotations: four for spaces, four for <code>#</code>:</p>

<pre><code>qa      e# Read the input and wrap it in an array, to make it a 2D grid.
{       e# Execute this block for each value from 0 to 7.
  4/3*  e#   Divide by 4, multiply by 3. Gives 0 for the first four iterations and
        e#   and 3 for the other four.
  ' +   e#   Add the result to a space character (space + 3 == #).
  f+    e#   Append this to each line of the grid.
  W%z   e#   Reverse the lines, then transpose the grid - together these rotate it.
}8/
N*      e# Join the lines of the grid by newlines.
</code></pre>
</div>
<div id="pu35" class="pu"><h2>Python 2, 74</h2>



<pre class="lang-python prettyprint-override"><code>s='# %s #'%input()
n=len(s)
b='\n#'+' '*(n-2)+'#\n'
print'#'*n+b+s+b+'#'*n
</code></pre>

<p>Takes input in quotes like <code>"Hello World"</code>.</p>

<ul>
<li>The third line is the input encased in <code># _ #</code>.  </li>
<li>The second and fourth lines <code>b</code>  are <code>#   #</code> with the right number of spaces, surrounded with newlines to either side to take care of all four newlines. </li>
<li>The first and fifth lines are <code>#</code> multiplied to the length of the input</li>
</ul>

<p>The lines are concatenated and printed.</p>
</div>
<div id="pu36" class="pu"><h1>Python 3, 88 bytes</h1>

<p>Thanks @WorldSEnder</p>

<pre><code>s=" ";n=s+input()+s
b=len(n)
h="#";x=h*(b+2);y=h+s*b+h;z="\n"
print(x+z+y+z+h+n+h+z+y+z+x)
</code></pre>

<h2>Example I/O:</h2>

<pre><code>This is a test
##################
#                #
# This is a test #
#                #
##################
</code></pre>
</div>
<div id="pu37" class="pu"><h2>vim, <s>28</s> 27 keystrokes</h2>

<pre><code>I# &lt;esc&gt;A #&lt;esc&gt;Y4PVr#G.kwv$3hr kk.
</code></pre>

<p>Assumes input is provided as a single line of text in the currently open file.</p>

<p>Explanation:</p>

<pre><code>I# &lt;esc&gt;        put a "#" and space at the beginning of the line
A #&lt;esc&gt;        put a space and "#" at the end of the line
Y4P             copy the line 4 times
Vr#             replace the entirety of the first line with "#"s
G.              do the same for the last line
kwv$3hr&lt;space&gt;  replace middle of the fourth line with spaces
kk.             do the same for the second line
</code></pre>

<p>This can also be run as a "program" like so:</p>

<pre><code>echo 'Hello World' | vim - '+exe "norm I# \&lt;esc&gt;A #\&lt;esc&gt;Y4PVr#G.kwv$3hr kk."'
</code></pre>

<p>Which is a bit convoluted, but it works.</p>
</div>
<div id="pu38" class="pu"><h1>brainfuck - 156 bytes</h1>

<pre><code>++++++++++&gt;,[&gt;&gt;+++++[&lt;+++++++&gt;-],]&lt;....[.---&lt;&lt;]&gt;&gt;+++&gt;&gt;+++.---.[.&gt;&gt;]&lt;&lt;.+++.[&lt;]&gt;.&gt;&gt;+++.---.&lt;[.&gt;&gt;]&lt;&lt;&lt;.&gt;&gt;.---[&lt;]&gt;.---&gt;&gt;+++.---[.&gt;&gt;]&lt;&lt;..+++.---[&lt;]&gt;[+++.&gt;&gt;]&lt;&lt;....
</code></pre>

<p>This is probably golfable. There's some places where I didn't know if it would be better to store a value somewhere for reuse or to remake it/go get it from elsewhere on the tape. Instead of doing the work to figure it out, I didn't do that. :D</p>

<p>With comments:</p>

<pre><code>++++++++++&gt;              Place a 10 (\n) at the beginning of the tape

,[&gt;&gt;+++++[&lt;+++++++&gt;-],]  Place a byte of input; place a 35 (#); repeat until end of input

&lt;....                    Print the last cell (35; #) 4 times

[.---&lt;&lt;]                 Print every noninput cell on the tape in reverse (one # for each byte of input; then \n)
                         After printing each cell; decrease it by 32

&gt;&gt;+++                    Increase the 7 back up to 10

&gt;&gt;+++.---.               Increase a 32 (space) back up to 35 (#); print it; put it back to 32 and print again

[.&gt;&gt;]                    Print every 32 on the tape (one for each byte of input)

&lt;&lt;.+++.                  Print the last space again; increase it by 3 and print the resulting #

[&lt;]&gt;.                    Go to the beginning of the tape and print the \n

&gt;&gt;+++.---.               Increase a 32 (space) back up to 35 (#); print it; put it back to 32 and print again

&lt;[.&gt;&gt;]                   Print every byte of input

&lt;&lt;&lt;.&gt;&gt;.---               Print a space; then print a 35 (#} that was left behind earlier; Set it back to 32 after

[&lt;]&gt;.---                 Go to the beginning of the tape and print the \n; decrease by 3

&gt;&gt;+++.---                Set a space to #; print it; set it back to space

[.&gt;&gt;]                    Print all spaces

&lt;&lt;..+++.---              Print a space twice more; set it to #; print it again; set it back to space

[&lt;]&gt;                     Go to the "newline" (currently a 7 instead of 10)

[+++.&gt;&gt;]                 Increase by 3; print; do the same for all spaces (to set them to # before printing)

&lt;&lt;....                   Print the last # 4 more times
</code></pre>
</div>
<div id="pu39" class="pu"><h1>Pyth, 31 bytes</h1>
<pre><code>Js[K\#*d+2lzKb*K+4lz)_Jjd[KzK)J
</code></pre>
<p>Thanks to people in comments giving hints on how to golf further, I really don't know the language well as you can (probably) tell.</p>
</div>
<div id="pu40" class="pu"><h1><a href="https://esolangs.org/wiki/Pb" rel="noreferrer">pb</a> - 89 bytes</h1>

<pre><code>v[4]w[Y!-1]{b[35]^}w[B!0]{t[B]vvv&gt;&gt;b[T]^^^&lt;}v&gt;&gt;&gt;w[Y!4]{b[35]v}w[X!0]{b[35]^[Y]b[35]v[4]&lt;}
</code></pre>

<p>This is the kind of challenge pb was made for! Not that it's <em>competitive</em> for this kind of challenge or anything. It's still a horrible golf language. However, challenges like this are a lot less of a pain to solve in pb than others are. Since pb treats its output as a 2D canvas and is able to write to any coords, anything involving positioning text/drawing around text (i.e. this challenge) is handled rather intuitively.</p>

<p>Watch it run:<br>
<img src="https://i.stack.imgur.com/CS5R5.gif" alt=""><br>
This visualization was created with an in-development version of pbi, the pb interpreter. The line with the blue background is <code>Y=-1</code>, where input is stored when the program starts. The rectangle with the red background is the current location of the brush. The rectangles with yellow backgrounds are anywhere the ascii character 32 (a space) is explicitly written to the canvas. Any blank spaces without this background actually have the value <code>0</code>, which is converted to a space.</p>

<p>Here's the code with the comments I used while writing it, with some thematically relevant section headers ;)</p>

<pre><code>################################
#                              #
# Handle first column oddities #
#                              #
################################
v[4]           # Start from Y=4 and go up (so we land on input afterwords)
w[Y!-1]{       # While we're on the visible part of the canvas
    b[35]^         # Write "#", then go up
}

#########################
#                       #
# Insert text of output #
#                       #
#########################

w[B!0]{        # For each character of input
    t[B]           # Save input char in T
    vvv&gt;&gt;          # Down 3 + right 2 = where text part of output goes
    b[T]^^^&lt;       # Write T and go to next char
}

###############################
#                             #
# Handle last column oddities #
#                             #
###############################

v&gt;&gt;&gt;           # Go to Y=0, X=(X of last text output's location + 2)
w[Y!4]{        # Until we reach the last line of output
    b[35]v         # Draw "#", then go down
}

###########################
#                         #
# Loop to finish Y=0, Y=4 #
#                         #
###########################

w[X!0]{        # Until we've gone all the way left
    b[35]^[Y]      # Print "#" at Y=4, go to Y=0
    b[35]v[4]      # Print "#" at Y=0, go to Y=4
    &lt;              # Move left, printing until output is complete
}
</code></pre>
</div>
<div id="pu41" class="pu"><h1>K, 21 bytes</h1>

<pre><code>4(|+"#",)/4(|+" ",)/,
</code></pre>

<p>Enlist the string, Add a space to all four sides of a string, then add an octothorpe to each side of the string. In action:</p>

<pre><code>  4(|+"#",)/4(|+" ",)/,"Hello."
("##########"
 "#        #"
 "# Hello. #"
 "#        #"
 "##########")
</code></pre>

<p>Works in oK, Kona and k5.</p>

<p>There are quite a few variations within one character of length which remove the redundancy in the above, but none seem to break even when we only have to perform the "wrap" operation twice:</p>

<pre><code>{x{|+x," #"y}/&amp;4 4},:
{x{|+x,y}/,/4#'" #"},:
{x{|+x,y}/" #"@&amp;4 4},:
{|+x,y}/[;" #"@&amp;4 4],:
</code></pre>
</div>
<div id="pu42" class="pu"><h1>JavaScript (ES6), 73</h1>
<p>Heavily using template string, the 2 newlines are significant and counted.</p>
<p>Test running the snippet below in any EcmaScript 6 compliant browser (FireFox and latest Chrome, maybe Safari).</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=s=&gt;(z=c=&gt;`*${c[0].repeat(s.length+2)}*
`)`*`+z` `+`* ${s} *
`+z` `+z`*`

// Less golfed

U=s=&gt;(
  z=c=&gt;'*' + c.repeat(s.length+2) + '*\n',
  z('*') + z(' ') + '* ' + s + ' *\n' + z(' ') + z('*')
)

// TEST

O.innerHTML=f('Hello world!')</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
<p>This is quite shorter than my first try, derived from <a href="https://codegolf.stackexchange.com/a/57470/21348">this other challenge</a>:</p>
<pre><code>f=s=&gt;(q=(c,b,z=c.repeat(b[0].length))=&gt;[z,...b,z].map(r=&gt;c+r+c))('*',q(' ',[s])).join`\n`
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/57845/">57845</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




