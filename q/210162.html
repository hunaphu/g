<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="g.js"></script>
    <title>cg::210162</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>023</td><td>ForWhile</td><td>230728T073115Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/263449#263449">bsoelch</a></td></tr>
<tr d-ix="1"><td>005</td><td>PARI/GP</td><td>230728T055309Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/263439#263439">alephalp</a></td></tr>
<tr d-ix="2"><td>030</td><td>Arturo</td><td>230329T211613Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/259567#259567">chunes</a></td></tr>
<tr d-ix="3"><td>011</td><td>Vyxal</td><td>230329T163907Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/259560#259560">Joao-3</a></td></tr>
<tr d-ix="4"><td>001</td><td>Vyxal</td><td>230329T134308Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/259555#259555">emirps</a></td></tr>
<tr d-ix="5"><td>004</td><td>Pyt</td><td>230329T113741Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/259552#259552">Kip the </a></td></tr>
<tr d-ix="6"><td>043</td><td>Retina 0.8.2</td><td>200826T101140Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210191#210191">Neil</a></td></tr>
<tr d-ix="7"><td>032</td><td>Regex ECMAScript</td><td>210228T045404Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/219939#219939">Deadcode</a></td></tr>
<tr d-ix="8"><td>002</td><td>05AB1E</td><td>210309T170131Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/220453#220453">Makonede</a></td></tr>
<tr d-ix="9"><td>064</td><td>Java</td><td>200826T092847Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210189#210189">Kevin Cr</a></td></tr>
<tr d-ix="10"><td>007</td><td>APL Dyalog Unicode 17.0</td><td>210307T150717Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/220353#220353">user4180</a></td></tr>
<tr d-ix="11"><td>007</td><td>APL Dyalog Unicode</td><td>210301T235217Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/220062#220062">Bubbler</a></td></tr>
<tr d-ix="12"><td>008</td><td>APL Dyalog Unicode</td><td>210301T180927Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/220047#220047">user</a></td></tr>
<tr d-ix="13"><td>025</td><td>Zsh</td><td>210228T202156Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/219989#219989">pxeger</a></td></tr>
<tr d-ix="14"><td>004</td><td>Pyth</td><td>200826T033229Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210171#210171">Manish K</a></td></tr>
<tr d-ix="15"><td>059</td><td>Setanta</td><td>200826T105145Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210193#210193">bb94</a></td></tr>
<tr d-ix="16"><td>029</td><td>R</td><td>200826T051958Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210175#210175">Robin Ry</a></td></tr>
<tr d-ix="17"><td>002</td><td>Brachylog</td><td>200826T141621Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210209#210209">xash</a></td></tr>
<tr d-ix="18"><td>238</td><td>Assembly MIPS</td><td>200826T122401Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210198#210198">user9649</a></td></tr>
<tr d-ix="19"><td>098</td><td>J</td><td>200826T040341Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210172#210172">Jonah</a></td></tr>
<tr d-ix="20"><td>006</td><td>Burlesque</td><td>200826T092100Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210187#210187">Mintable</a></td></tr>
<tr d-ix="21"><td>048</td><td>Io</td><td>200826T013649Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210166#210166">user9649</a></td></tr>
<tr d-ix="22"><td>003</td><td>Jelly</td><td>200826T100608Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210190#210190">caird co</a></td></tr>
<tr d-ix="23"><td>043</td><td>JavaScript ES6</td><td>200826T064336Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210178#210178">Arnauld</a></td></tr>
<tr d-ix="24"><td>036</td><td>Haskell</td><td>200826T081608Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210182#210182">xnor</a></td></tr>
<tr d-ix="25"><td>329</td><td>Shakespeare Programming Language</td><td>200826T085406Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210185#210185">Robin Ry</a></td></tr>
<tr d-ix="26"><td>006</td><td>Japt</td><td>200826T084136Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210184#210184">Shaggy</a></td></tr>
<tr d-ix="27"><td>035</td><td>Factor</td><td>200826T082407Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210183#210183">Galen Iv</a></td></tr>
<tr d-ix="28"><td>026</td><td>APL Dyalog Classic</td><td>200826T043208Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210173#210173">Razetime</a></td></tr>
<tr d-ix="29"><td>010</td><td>MathGolf</td><td>200826T075059Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210181#210181">Kevin Cr</a></td></tr>
<tr d-ix="30"><td>042</td><td>Python 2</td><td>200826T044346Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210174#210174">xnor</a></td></tr>
<tr d-ix="31"><td>011</td><td>Wolfram Language Mathematica</td><td>200826T004632Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210163#210163">ZaMoC</a></td></tr>
<tr d-ix="32"><td>031</td><td>GAP 4.7</td><td>200826T054402Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210176#210176">Rosie F</a></td></tr>
<tr d-ix="33"><td>002</td><td>Sagemath</td><td>200826T030803Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210170#210170">Sisyphus</a></td></tr>
<tr d-ix="34"><td>043</td><td>C gcc</td><td>200826T020429Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210169#210169">att</a></td></tr>
<tr d-ix="35"><td>002</td><td>05AB1E</td><td>200826T011745Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210165#210165">Sisyphus</a></td></tr>
<tr d-ix="36"><td>004</td><td>MATL</td><td>200826T004821Z</td><td><a href="https://codegolf.stackexchange.com/questions/210162/is-it-almost-prime/210164#210164">Luis Men</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://esolangs.org/wiki/ForWhile" rel="nofollow noreferrer">ForWhile</a>, 23 bytes</h1>
<p><code>{1;[1+;;%);[';/';;%!)&lt;}</code></p>
<p>takes input from stack, returns <code>1</code> if number is prime power and <code>0</code> otherwise</p>
<p><a href="https://bsoelch.github.io/OneChar.js/?lang=forwhile&amp;src=ezE7WzErOzslKTtbJzsvJzs7JSEpPH0KCjIgOz80OCsjLjEwIy4gXCBjYWxsIHByb2NlZHVyZSBhbmQgcHJpbnQgcmVzdWx0IGZvbGxvd2VkIGJ5IG5ldy1saW5lCjkgOz80OCsjLjEwIy4KMTYgOz80OCsjLjEwIy4KMjUgOz80OCsjLjEwIy4KNDAzNTM2MDcgOz80OCsjLjEwIy4KCjYgOz80OCsjLjEwIy4KMTIgOz80OCsjLjEwIy4KMzYgOz80OCsjLjEwIy4KMTc1NTYwIDs_NDgrIy4xMCMu" rel="nofollow noreferrer">online interpreter</a></p>
<h1>Explanation</h1>
<p>Checks if the number has any prime factors that are larger than its smallest prime factor larger than 1.</p>
<pre><code> {                     }  \ anonymous procedure
  1;[1+;;%)               \ compute smallest non-trivial prime factor
  1                       \ push 1
   ;[1+;;%)               \ increase counter while it does not divide input number
           ;[';/';;%!)    \ divide number by smallest prime factor until it is no longer a factor
                      &lt;   \ check if resulting number is less than the prime factor
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 5 bytes</h1>
<pre><code>ffgen
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=JU9LagMxDL2KyWoGXsCyJFtepBcpJWQxDgNhMEO66FmyGSihx-g5epsqjBC8D08Sevz0yzqfr337buH0_Ly3oz1bu07Lzv9-L73fvoYlHN9CX-fl7vTwEocwt2ldhzYsI8LkPTq-JzAEhgrKSIpUwAlSkd0lEDMhSSS3iJFNq0eqCUGZxIGosHiyWI0vlMjKORYUTZbMF4H8SIYKqLJBjZwV1RxR93KZqvjkx7i_sW07_gM" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A port of <a href="https://codegolf.stackexchange.com/a/210170/9288">@Sisyphus's Sagemath answer</a>.</p>
<p>Outputs via <a href="https://codegolf.meta.stackexchange.com/a/11908/48931">exception</a>.</p>
<p><code>ffgen(k)</code> returns a generator for the finite field of order <span class="math-container">\$k\$</span>. It errors if <span class="math-container">\$k\$</span> is not a prime power.</p>
<hr />
<h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 12 bytes</h1>
<pre><code>isprimepower
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=JU5LagMxDL2KySoDL2BZki0vkouUUrLIhIFkYiYJpWfJZqCUbrrqbXqbKow276Onz-O77afh7djmzz5sv-63fmM_w7VNw_nQLu-HabH-fvetnT7WY9jsgjfHm9PVU6xCvx67DuElgSEwVFBGUqQCTpCK7C6BmAlJIrlFjGxaPVJNCMokDkSFxZPFanyiRFbOsaBosmS-CORHMlRAlQ1q5Kyo5oi6lMtUxSdfu-XzeV7wHw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A boring built-in.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 30 bytes</h1>
<pre><code>$=&gt;[p:factors.prime&amp;[]=p--p\0]
</code></pre>
<p><a href="http://arturo-lang.io/playground?fYb3Hp" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, <s>18 16 13</s> 11 bytes</h1>
<p><em>Thanks to <a href="https://codegolf.stackexchange.com/users/114446/the-thonnu">The Thonnu</a> for -7 bytes</em></p>
<pre><code>∆õ?$·∏ä$√¶‚àß;‚àë1=
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCLGmz8k4biKJMOm4oinO+KIkTE9IiwiIiwiMjUiXQ==" rel="nofollow noreferrer">Run it</a></p>
<p>Explanation:</p>
<pre><code>∆õ      ;    # map over the input with this code:
 ?          # get input
  $         # swap
   ·∏ä        # divisible?
    $       # swap
     √¶      # is the item prime?
      ‚àß     # logical and

        ‚àë   # sum
         1= # is 1?
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 1 byte</h1>
<pre><code>‚Ä†
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJBIiwiIiwi4oCgIiwiIiwiMlxuM1xuNFxuOFxuOVxuMTZcbjI1XG4yN1xuMzJcbjQ5XG42NFxuODFcbjEzMzFcbjI0MDFcbjQ5MTNcbjY4NTlcbjI3OTg0MVxuNTMxNDQxXG4xMTczNDgxXG43ODkwNDgxXG40MDM1MzYwN1xuNzUyODI4OVxuNlxuMTJcbjM2XG41NFxuMTkzOFxuNTgxNFxuMTc1NTYwXG45OTk5OTk5XG4xNzI5NDQwMyJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Truthy outputs are <code>1</code>, falsy outputs are anything else.</p>
<h1>Explanation</h1>
<pre><code>‚Ä† # length of prime factors
</code></pre>
<h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 2 bytes</h1>
<pre><code>‚Ä†ƒã
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJBIiwiIiwi4oCgxIsiLCIiLCIyXG4zXG40XG44XG45XG4xNlxuMjVcbjI3XG4zMlxuNDlcbjY0XG44MVxuMTMzMVxuMjQwMVxuNDkxM1xuNjg1OVxuMjc5ODQxXG41MzE0NDFcbjExNzM0ODFcbjc4OTA0ODFcbjQwMzUzNjA3XG43NTI4Mjg5XG42XG4xMlxuMzZcbjU0XG4xOTM4XG41ODE0XG4xNzU1NjBcbjk5OTk5OTlcbjE3Mjk0NDAzIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Version with distinct and consistent (albeit inverted) truthy and falsy  values. A simple logical NOT <code>¬¨</code> could fix it for a fully correct 3 bytes: <a href="https://vyxal.pythonanywhere.com/#WyJBIiwiIiwi4oCgxIvCrCIsIiIsIjJcbjNcbjRcbjhcbjlcbjE2XG4yNVxuMjdcbjMyXG40OVxuNjRcbjgxXG4xMzMxXG4yNDAxXG40OTEzXG42ODU5XG4yNzk4NDFcbjUzMTQ0MVxuMTE3MzQ4MVxuNzg5MDQ4MVxuNDAzNTM2MDdcbjc1MjgyODlcbjZcbjEyXG4zNlxuNTRcbjE5MzhcbjU4MTRcbjE3NTU2MFxuOTk5OTk5OVxuMTcyOTQ0MDMiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/mudkip201/pyt" rel="nofollow noreferrer">Pyt</a>, 4 bytes</h1>
<pre><code>œº≈Å1=
</code></pre>
<p><a href="https://tio.run/##K6gs@f///J6jjYa2//8bAgA" rel="nofollow noreferrer" title="Pyt ‚Äì Try It Online">Try it online!</a></p>
<pre><code>œº         Implicit input; get unique œºrime factors
 ≈Å        ≈Åength of array
  1=      equals 1?; implicit print
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, <s>50</s> 43 bytes</h1>
<pre><code>.+
$*
^(?=(11+?)\1*$)((?=(1+)(\3+$))\4)*\1$
</code></pre>
<p><a href="https://tio.run/##HYsxDkIhEAX7dw5MdiEx/7ELQmF@@S9BjBYWNhbG@yOxnJnM5/l9vR/zJMd9nhNCxE32q5Bp18EYVP6YVIaloDpc42CYM8PgaOhgRS7IF1iGd9RlCZoR2TcuRUNtZRVwXRXFwW4NpdF/" rel="nofollow noreferrer" title="Retina 0.8.2 ‚Äì Try It Online">Try it online!</a> Link includes faster test cases. Originally based on @Deadcode's answer to <a href="https://codegolf.stackexchange.com/q/19262/17602">Match strings whose length is a fourth power</a>, but saved 7 bytes thanks to @Deadcode by improving the basic algorithm. Explanation:</p>
<pre><code>.+
$*
</code></pre>
<p>Convert the input to unary.</p>
<pre><code>^(?=(11+?)\1*$)
</code></pre>
<p>Start by matching the smallest factor <code>p</code> of <code>n</code>. (<code>p</code> is necessarily prime, of course.)</p>
<pre><code>(?=(1+)(\3+$))
</code></pre>
<p>Find <code>n</code>s largest proper factor <code>m</code>, which is equivalent to <code>n</code> divided by its smallest prime factor <code>q</code> (which will be equal to <code>p</code> on the first pass).</p>
<pre><code>\4
</code></pre>
<p>The factorisation also captures <code>n-m</code>, which is subtracted from the current value of <code>n</code>, effectively dividing <code>n</code> by <code>q</code> for the next pass of the loop.</p>
<pre><code>(...)*\1$
</code></pre>
<p>Repeat this division by the smallest prime factor until <code>n</code> becomes <code>p</code>, which is only possible if <code>n</code> is a power of <code>p</code>.</p>
</div>
<div id="pu7" class="pu"><h1>Regex (ECMAScript), <s>35</s> <s>33</s> 32 bytes</h1>
<p><em>-2 bytes thanks to H.PWiz; the explanation for why this worked was more complicated</em><br />
<em>-1 bytes by returning to the original algorithm (with its simple explanation), by actually constructing values of <span class="math-container">\$a\$</span> not divisible by <span class="math-container">\$b\$</span> (32 bytes) instead of asserting <span class="math-container">\$a\$</span> is not divisible by <span class="math-container">\$b\$</span> (35 bytes); this is slower, but not exponentially so</em></p>
<pre><code>^(?!(((x+)x+)(?=\2+$)\2*\3)\1+$)
</code></pre>
<p><a href="https://tio.run/##TY/LbsIwEEV/BaIKZkgTElp1gWtYdcGGRbtsWsmCwZnWOJZtHuXx7WlYVKp0F1c6V7o6X2qvwsqzi1lwvCa/bew3/bReWjr0Xkm/HB3ASc7Go/YT5n0AOKbYBeaymqR3WE1G1QNWZVfb0fiEeWzeomerAfNgeEXwdJ89IoogC3Go2RCAkZ7U2rAlQOxLuzMGz1qaPDjDEYbZEAVvAKzUuSGrY42zyeXCYamWwNIpH2hhI@j34gPxD9B/YGflvJzeMMbaN4dkYffK8LrnldU07SWpEZvGg@BnSYLTFLvD5JjknhypCIz5VsVVDR7xHAYD1ylFuFmUwu1iiL6biOu1LbOyKIpf" rel="nofollow noreferrer" title="JavaScript (SpiderMonkey) ‚Äì Try It Online">Try it online!</a></p>
<p>The 35 byte version was <a href="https://gist.github.com/Davidebyzero/9090628#gistcomment-1177373" rel="nofollow noreferrer">written in 2014</a> by teukon and me.</p>
<p>This works by asserting that there do not exist any <span class="math-container">\$a\$</span> and <span class="math-container">\$b\$</span>, both proper divisors of <span class="math-container">\$n\$</span> where <span class="math-container">\$a&gt;b\$</span>, for which <span class="math-container">\$a\$</span> is not divisible by <span class="math-container">\$b\$</span>.</p>
<p>This will always be true when <span class="math-container">\$n\$</span> is of the form <span class="math-container">\$p^k\$</span> (a prime power), because we will have <span class="math-container">\$a=p^c\$</span> and <span class="math-container">\$b=p^d\$</span> where <span class="math-container">\$k &gt; c &gt; d \ge 0\$</span>, thus <span class="math-container">\$a\$</span> will always be divisible by <span class="math-container">\$b\$</span>.</p>
<p>But if <span class="math-container">\$n\$</span> is not of the form <span class="math-container">\$p^k\$</span>, there will always be at least one counterexample <span class="math-container">\$a,b\$</span> such that <span class="math-container">\$a\$</span> is not divisible by <span class="math-container">\$b\$</span>. Trivially we can choose two different prime factors of <span class="math-container">\$n\$</span>, and they will not be mutually divisible.</p>
<p>This algorithm is similar to that used by <a href="https://codegolf.stackexchange.com/a/220047/17216">Original Original Original VI's answer</a>.</p>
<pre><code># For the purpose of these comments, the input number will be referred to as N.
^(?!              # Assert that the following cannot match
    (             # Capture \1 to be the following:
        ((x+)x+)  # Cycle through all values of \3 and \2 such that \2 &gt; \3 &gt; 1
        (?=\2+$)  # such that \2 is a proper divisor of N
        \2*\3     # Cycle through all values of \1 &gt; \2 that aren't divisible
                  # by \2, by letting \1 = \2 * A + \3 where A &gt;= 0
    )
    \1+$          # where \1 is a proper divisor of N
)
</code></pre>
<hr />
<p>Bonus: Here is a 28 (27üêå) byte regex that matches numbers of the form <span class="math-container">\$p^k\$</span> where <span class="math-container">\$0 \le k \le 2\$</span>:<br />
<code>^(?!((x+)x+)(?!\1*\2+$)\1+$)</code>, exponential slowdown üêå version: <code>^(?!((x+)+)(?!\1*\2+$)\1+$)</code><br />
(<code>(x+)+)</code> is equivalent to <code>(x+)x*</code> but exponentially slower)</p>
<p><a href="https://tio.run/##TY9PawIxFMS/ii5F33O760ZKD6bRUw9ePLTH2kLQZ/a1MRuS@KdqP/t2PRQKwzDwGxjmUx90XAf2qYieNxR2jfui7zYoR8feC5nnkwc4q9l41H7AvA9wyrFTF1ditJrkd7gSnbWj8RnL1LymwM4AltHymuDxvnhAlFFV8lizJQCrAumNZUeA2Fduby1ejLJl9JYTDIshSt4COGVKS86kGmeT65XjUi@Bldch0sIlMG/VO@IfoP/AzcRcTG8YUx2aY7ZwB2150wvaGZr2stzKbRNA8pMiyXmO3WB2yspAnnQCxnKn07qGgHiJg4HvLiW4vRDS71NMoavIn59WFKKqql8" rel="nofollow noreferrer" title="JavaScript (SpiderMonkey) ‚Äì Try It Online">Try it online!</a></p>
<p>This is interesting because if I'd set out to implement that function intentionally, I would have come up with something like <a href="https://tio.run/##TY/NTsJAFEZfBRsC91JbWiUuGIeuXLBhoUuqyQQu7dVhOpkZoPLz7BVMTFx@OV9ycj7VXvmVYxsSb3lNbtuYL/runDR06L1S9dJagKOcjUfdBxQS2qKNCyzzUR/hd8cI5WPcRywnWJR5vxuNj5iG5i04NhVg6jWvCJ7ukwmi8DITh5o1AWjpSK01GwLEO2l2WuOpkjr1VnOAYTJEwRsAI6tUk6lCjbOH85n9Qi2ApVXO09wEqJbZO@IfoP/AzPIin94whto1h2hu9krzuueUqWjai2ItNo0Dwc@SBMcxXoVRG6WOLKkAjOlWhVUNDvHkBwN7TQpwq8iF3QUf3PUiLpcuS/Isy34A" rel="nofollow noreferrer" title="JavaScript (SpiderMonkey) ‚Äì Try It Online"><code>^(?=(x?x+?)\1*$)((?=(x+)(\3+$))\4)?\1$</code></a> (38 bytes), which is 10 bytes longer.</p>
<p>It was inspired by the algorithm used by <a href="https://codegolf.stackexchange.com/a/220062/17216">Bubbler's APL answer</a>. The full prime power version of that would be:<br />
<a href="https://tio.run/##TY9Lb8IwEIT/CkQV7JImJKjqAddw6oELh/ZYWsmCxdnWOJZtHuXx29OAhNTLaEbfSKP5VjsVlp5dzILjFflNbX/ot/HS0r7zRvr14ACOcjIcNF8w7QIcUoSpXIzSB7zZ7qIc3NKibKUZDI@Yx/o9erYaMA@GlwTPj9kTogiyEPuKDQEY6UmtDFsCxK60W2PwpKXJgzMcoZ/1UfAawEqdG7I6VjgZnc8c5moOLJ3ygWY2gv4oPhHvgP4DOymn5fiKMVa@3iczu1OGVx2vrKZxJ0mNWNceBL9IEpym2A4mhyT35EhFYMw3Ki4r8Iin0Ou59lKE64tSuG0M0bcVcbk0ZVYWRfEH" rel="nofollow noreferrer" title="JavaScript (SpiderMonkey) ‚Äì Try It Online"><code>^(?!((x+)(?=\2+$)x+)(?!\1*\2+$)\1+$)</code></a> - ECMAScript, 36 bytes<br />
<a href="https://tio.run/##ZVBNaxsxEL3nV8imYE33g11DL1Vkhyw9BBIS6kAPdQPqeuIIZO2i0bqKN/ntrryb5JJBl@G90fuoKasbh0erdkitqpGtnsnjru9I2y2rZNVYagyKcb/H4POfuO2Mcj9C65BIR4KojSJiu5688rpm@0Zv2I3SlnHo98oxkhfT4wNfTjgPCcS3vuTLxbr8uuTLc/mwnicAX@A4FSeykxb/saiCgVO@6v6Sd1Gclynl12i3/imbQzrgt60/6edVs2u1wQ2IkcuMeGwc19YzKwvBjayibbW51hY5wETazhhhZQm9fuR2UUCV/3La40gYbLTS5KvWaM9n2QzE6S@dojiLB@2bj8X85WUSgfzePd8pR8jb38WftOkiFT5D72dZOXIQ3mX59MrulYmtOWW3@J31xes0NSDQEA4NhqGU1djELMxSDR8RDzGiPpcodJKkIZERhujS5Vd0o3z9xAMMOQ@fch5kKT4sDJrhzSOI12GOZfatKP4D" rel="nofollow noreferrer"><code>^(?!((x+)x+)\B(?&gt;\1*?(?&lt;=^\2+))$)</code></a> - .NET, 33 bytes<br />
<a href="https://tio.run/##ZZBPT@MwFMTv@yncCql@mz9qKnHBuF1txAEJtGiLxIEukkkfxZLrRH5OMQ189q6bABd8s2bs@c1UlFW1w4NVW6RGVciWr@Rx27Wk7YaVsqwt1QbFcL/F4PO/uGmNchehcUiko0FURhGxbUdeeV2xXa3X7Fppyzh0O@UYyV/jwwNfjDgPCSSw@s0X81Xxc8EX5/JhNUsATuAwFkevkxZfWAzBwClfto/kXczmRUr5FdqNf85mkPb6n8Yf4/Oy3jba4BrE4GVGPNWOa@uZlVPBjSwjtVpfaYscYCRta4ywsoBOP3E7n0KZ3zntcTD0GI00@bIx2vNJNgFx/EunKH7EB80Hx3z29jaKQn7rXm@UI@TN/fRfWrfRCt@lz2dZMXgQPmP5@NLulImjOWU3eMa66fs4NSDQEPYDhn6U5bDEJExSDV8V97GiPpcodJKkIZFRhkjp8ku6Vr565gH6nvtvPfeyEF8IfWb4YATx3p9Dkc1O/wM" rel="nofollow noreferrer"><code>^(?!((x+)+)\B(?&gt;\1*?(?&lt;=^\2+))$)</code></a> - .NET, 32 bytes, üêå exponential slowdown</p>
<p>And <a href="https://codegolf.stackexchange.com/a/220353/17216">user41805's APL answer</a> ported to regex is:<br />
<a href="https://tio.run/##TY7BbsIwEER/pY2QvEuIFXOMMTn1wIVDeyxFWIkJW7lOahuIBHx7GlpV4rIa7ZvdmU990qHy1MXMtbUZgsqlV6@meek7eIueXMO9Pu@GLZTP0PcpbsQUSjXOCfZ/i/l0AuVCbTfzFHHY8WCpMiBmmUCU3nwfyRtg3ujakjMMeTXqaFYuGr/Xo/VCrjvGovNtZULgIdbkbshbB@z3YmbV8tIoy0NnKQLLGEraAzjVcGtcEw@4nF@vFNZ6DaQ67cP9OzTv@QfiPzCPwC1FKYo7xnjw7TlZuZO2VD957RpTPCWplfvWg6SFMpLSFMfApE@4N91YHgj5l47VATzi5aF4e4z87CkagFCyjWMFY5gSyqCEvN1wEJnI8/wH" rel="nofollow noreferrer" title="JavaScript (Node.js) ‚Äì Try It Online"><code>^(?!(xx+)\1*(?=\1*$)x(xx+)\2*$(?&lt;=^\2+))</code></a> - ECMAScript 2018, 40 bytes<br />
<code>^(?!(?*(xx+)\1*$)(xx+)\2*(?=\2*$)x\1*$)</code> - ECMAScript + <code>(?*)</code>, 39 bytes</p>
<p>The algorithm used by 10+ of the other answers (that all the prime factors are the same / there is only one prime factor), ported to regex is:<br />
<a href="https://tio.run/##Tc69bsIwFAXgV4Goku9tiBXTLcZk6sDC0I5NEVZiwq1cJ7UNRAKenYZKldiO9N2f86WPOtSe@pi5rjG3oHLp1ZtpX4ce3qMn13KvT9vbBkoFw5CWWInnJ4RyCpUY0jEsppvqJb0bYjUf7bblwVJtQMwygSi9@TmQN8C80Y0lZxjyeszRrFw0fqfH0TO5/hCL3ne1CYGH2JC7Iu8csL@NmVXLc6ssD72lCCxjKGkH4FTLrXFt3ONyfrlQWOs1kOq1D/fr0H7kn4j/YB7BLUUpijtj3PvulKzcUVtqJl671hSTJLVy13mQtFBGUpri@DAZEu5NP5YHQv6tY70Hj3h@KN4dIj95igYglKxyrGAMU0IZlJDXK97mmcjz/Bc" rel="nofollow noreferrer" title="JavaScript (Node.js) ‚Äì Try It Online"><code>^(?=(xx+?)\1*$)(?!(\1x+)(?&lt;!^\3+(xx+))\2*$)</code></a> - ECMAScript 2018, 43 bytes</p>
<h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, <s>41</s> <s>39</s> 38 bytes</h1>
<pre><code>.+
$*
^(?!(((1+)1+)(?=\2+$)\2*\3)\1+$)
</code></pre>
<p><a href="https://tio.run/##DYoxCsMwEMB2/aKQwDmGwN05bjyUjPmECc2QoUuH0v87Bg1C6Hf9P9@zjbK/2xwZJg7ZHiKiMXRke1WLQ6g2VQ9Vu7ZmOImVgmZswZ64kQq5V0XdlYz2LbMktPh6Aw" rel="nofollow noreferrer" title="Retina 0.8.2 ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 2 bytes</h1>
<pre><code>fg
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f8/Lf3/fxMDY1NjMwNzAA" rel="nofollow noreferrer" title="05AB1E ‚Äì Try It Online">Try it online!</a></p>
<pre><code>fg  # full program
 g  # number of...
f   # prime factors of...
    # implicit input
    # implicit output
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Java, <s>69</s> 64 bytes</h1>

<pre class="lang-java prettyprint-override"><code>n-&gt;{int f=0,t=1;for(;n%++t&gt;0;);for(;n&gt;1;n/=t)f|=n%t;return f&lt;1;}
</code></pre>
<p>-5 bytes thanks to <em>@Deadcode</em>.</p>
<p><a href="https://tio.run/##LVDBjoIwEL37FRMTEwijS2kLrV38g/Xi0XioCBtcLAaqm43Lt7PDag@dvtfXN69ztne7PJ@@xqKxfQ8ftnaPGUDtfNlVtihhO0GAY9s2pXVQBHQFLjTEDjPaem99XcAWHOQwuuXmMQmqPEafM1O1XWDcIor8JjbhC26YcW@5D6vf3C286Up/6xxU78wMo5k8r7djQ54v63tbn@BCwYKd72r3uT@ADZ@pJr@pXb125fcUen94JMhRoEKNLMVEYpIhT1BoTIllyDhnmIiYEcU4pkpqkmglGErOBBXGMi5ImSkdT1XEXPI0zjCTiUoUGSGjJilKgUxzhVIxOmVSpjHq5yKYaEEvh/A/KMDup/flZdXe/OpKv/CNC@povoZ55FY01PA10WH8Aw" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{             // Method with integer parameter and boolean return-type
  int f=0,       //  Flag-integer `f`, starting at 0
      t=1;       //  Temp integer `t`, starting at 1
  for(;n%++t&gt;0;);//  Increase `t` by 1 before every iteration with `++t`,
                 //  And continue looping until the input `n` is divisible by `t`
  for(;n&gt;1;      //  Then start and continue a second loop as long as `n` is not 0 or 1:
      n/=t)      //    After every iteration: divide `n` by `t`
    f|=          //   Bitwise-OR the flag by:
       n%t;      //    `n` modulo-`t`
  return f&lt;1;}   //  After both loops, return whether the flag is still 0
</code></pre>
<hr />
<p>If we would be allowed to ignore floating point inaccuracies, a port of <a href="https://codegolf.stackexchange.com/a/210175/52210"><em>@RobinRyder</em>'s R answer</a> would be <strong>64 bytes</strong> as well:</p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{int m=1;for(;n%++m&gt;0;);return Math.log(n)/Math.log(m)%1==0;}
</code></pre>
<p><a href="https://tio.run/##PVDLbsIwELzzFatKSImypPErsYnCH5QLR8TBhEBDEwclhqpC@Xa6Kag@eB@enRnv2d7s4nz4epSNHQb4sLW7zwBq56v@aMsK1lMJsO@6prIOyoCewIU5dccZXYO3vi5hDQ4KeLjF6j4B2oLlx64PcjePonaV5GHeV/7aO1Lwn3HTnQIXvv/nbThnRZHk4yOfOC/XfUOcL@pbVx@gJWPBxve1O213YMOnq0likquXrvqeTG93d44CJWo0yFLkCnmGgqM0mFKXIROCIZcJoxYTmGplCGK0ZKgEkxQYy4QkZKZNMkWZCCXSJMNMcc01ESEjkRSVRGaERqUZZZlSaYLmeajkRtLkGP4ZBdj8DL5q4@7q4wv9wjcuqKO3JbxFLqalhq@Njo9f" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{               // Method with integer parameter and boolean return-type
  int m=1;         //  Minimum divisor integer `m`, starting at 1
  for(;n%++m&gt;0;);  //  Increase `m` by 1 before every iteration with `++m`
                   //  And continue looping until the input `n` is divisible by `m`
  return Math.log(n)/Math.log(m)
                   //  Calculate log_m(n)
         %1==0;}   //  And return whether it has no decimal values after the comma
</code></pre>
<p>But unfortunately this approach fails for test case <code>4913</code> which would become <code>2.9999999999999996</code> instead of <code>3.0</code> due to floating point inaccuracies (it succeeds for all other test cases).<br />
A potential fix would be <strong>71 bytes</strong>:</p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{int m=1;for(;n%++m&gt;0;);return(Math.log(n)/Math.log(m)+1e9)%1&lt;1e-8;}
</code></pre>
<p><a href="https://tio.run/##PVDBbsIwDL3vKywkpFY1rG6SNqGDP4ALR8QhQGFlbYrawDShfjtzB1oOsf3y7Pfis73Zyfnw9dhXtutgaUt3fwMonS/ao90XsBpKgF3TVIV1sA/4CVyYM9q/8dV568s9rMDBHB5usrgPhHpO@bFpg9yNo6hexHmYt4W/ti5YWv85rZpT4ML3/7wOIypMOKYPKiY67x/5MPpy3VU8@qVwa8oD1OwvWPu2dKfNFmz4NDcoDarlzBXfg/fN9p6gQIkaDVKKicIkQ5GgNJgySkhCECYyJoZIYKqVYYrRklAJkhyIMiGZmWkTD1HGQok0zjBTiU40D0JikRSVRDJCo9LEWaZUGqN5Hi4TI7mzD/@MAqx/Ol/U0@bqpxf@ha9cUEajGYwiN@Xdhq/F9o9f" rel="nofollow noreferrer">Try it online.</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode) 17.0</a>, 7 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>‚ç∏2‚åä/‚ä¢‚à®‚ç≥
</code></pre>
<p><a href="https://tio.run/##JU07TkNBDOw5xVwAsV7bu@u0NNASLhAJ5TWRoEWIChShBxtBQUkDTToKhESdo/giDwem8Fjz0SyuVocX14vV5TBN3n@yP41HPr77w9b71zT4@tn7xse73Sf7@sU3r/Oz47jnJ6fzaRnuDdFslvzxnnz8GLx/3x4sd9sMhqDBQAVZkSs4QwwlVAIxE7IkCokYpalFxJoQlEmCiCpLJGuz9MeaW24G72@SWLmkut8poJgqUAEZN2ij@KpqSbB/7CtUs0n0fgE" rel="nofollow noreferrer" title="APL (Dyalog Unicode) ‚Äì Try It Online">Try it online!</a></p>
<p>Uses a different approach from <a href="https://codegolf.stackexchange.com/a/220062">Bubbler's answer</a>, but only works for Dyalog 17.X. Errors with a domain error on non-prime powers, and doesn't error on truthy inputs.</p>
<p>The train is decomposed as the following</p>
<pre class="lang-apl prettyprint-override"><code>‚îå‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ‚ç∏‚îÇ‚îå‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ ‚îÇ‚îÇ ‚îÇ‚îå‚îÄ‚î¨‚îÄ‚îê‚îÇ‚îå‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚îê‚îÇ‚îÇ
‚îÇ ‚îÇ‚îÇ2‚îÇ‚îÇ‚åä‚îÇ/‚îÇ‚îÇ‚îÇ‚ä¢‚îÇ‚à®‚îÇ‚ç≥‚îÇ‚îÇ‚îÇ
‚îÇ ‚îÇ‚îÇ ‚îÇ‚îî‚îÄ‚î¥‚îÄ‚îò‚îÇ‚îî‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚îò‚îÇ‚îÇ
‚îÇ ‚îÇ‚îî‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îî‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<p>First a range from 1 to the right argument is created using <code>‚ç≥</code>.</p>
<pre class="lang-apl prettyprint-override"><code>      (‚ç≥) 10
1 2 3 4 5 6 7 8 9 10
</code></pre>
<p>Then each value in this list is <a href="https://en.wikipedia.org/wiki/Greatest_common_divisor" rel="nofollow noreferrer">GCD</a>ed <code>‚à®</code> with the right argument <code>‚ä¢</code>.</p>
<pre class="lang-apl prettyprint-override"><code>      (‚ä¢‚à®‚ç≥) 10
1 2 1 2 5 2 1 2 1 10
</code></pre>
<p>Then the pairwise minimum is taken, with the pairs overlapping, so <code>2‚åä/1 3 2</code> is equivalent to <code>(1‚åä3)(3‚åä2)</code>.</p>
<pre class="lang-apl prettyprint-override"><code>      (2‚åä/‚ä¢‚à®‚ç≥) 10
1 1 1 2 2 1 1 1 1
</code></pre>
<p>Monadic <code>‚ç∏</code> in Dyalog 17.0 is a function that finds the indices of truthy values given a binary array, but this function of it is irrelevant for this solution. If the input is not a prime power, it will have at least one number greater than 1 when the above is performed (proof below). Otherwise if it is a prime power, the above will result in a list with only 1s. So applying <code>‚ç∏</code> on a non-prime power will cause the function to error because its argument is not a binary array, whereas on a prime power it won't error because the argument would binary consisting only of 1s.</p>
<p>In Dyalog 18.0 <code>‚ç∏</code> has been extended to also accept non-binary arrays, so the above won't work. Instead, using 'unique' <code>‚à™</code> in place of <code>‚ç∏</code> will return the 1-length vector consisting only of 1 for truthy values, and a longer vector for falsey values.</p>
<p><a href="https://codegolf.stackexchange.com/users/78410">Bubbler</a> gave the following proof as to why <code>2‚åä/‚ä¢‚à®‚ç≥</code> does not give a vector of 1s for falsey values.</p>
<p>Consider the Diophantine equation <span class="math-container">\$p_1a-p_2b=1\$</span>, where <span class="math-container">\$p_1\$</span> and <span class="math-container">\$p_2\$</span> are distinct prime factors of a non-prime tower <span class="math-container">\$N\$</span> and <span class="math-container">\$a,b&gt;0\$</span>. This equation has solutions, a proof of which can be found in the following <a href="https://en.wikipedia.org/wiki/B%C3%A9zout%27s_identity" rel="nofollow noreferrer">Wikipedia article</a>. What this equation means is that you will have a situation where a multiple of <span class="math-container">\$p_1\$</span> occurs as the number immediately following a multiple of <span class="math-container">\$p_2\$</span>. Since each prime factor divides the input <span class="math-container">\$N\$</span>, their multiple, when GCDed with the input, will result in a value greater than 1. The fact that these multiples are less than <span class="math-container">\$N\$</span> is left as an exercise to the reader. So the two multiples of prime numbers following one another and that these multiples are less than <span class="math-container">\$N\$</span> mean that you have a situation where <code>2‚åä/‚ä¢‚à®‚ç≥</code> will have a number greater than 1 in it.</p>
<p>This situation does not occur for prime powers because given any two prime factors <span class="math-container">\$p^m\$</span> and <span class="math-container">\$p^n\$</span> where <span class="math-container">\$n&gt;m\$</span>, there will never be a situation where <span class="math-container">\$p^na-p^mb=1\$</span> because that would imply <span class="math-container">\$p(p^{n-1}a-p^{m-1}b)=1\$</span>, i.e. that <span class="math-container">\$p\$</span> divides 1 which is false.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 7 <a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">bytes</a></h1>

<pre class="lang-apl prettyprint-override"><code>‚ä¢‚àä‚ç≥‚àò.‚àß‚ç≥
</code></pre>
<p><a href="https://tio.run/##JYw9CsJgEET7nGIuoHy7m5ikFsRUgnqBgKhFQPGnSC2EEIhoIdjY2Ghn4Q08yl4krqYZBubNS9dZZ5an2WrR6PGSjLQ4uUaru5aV1m8tr10tH9aauS1aH7U6fF6ixdnoybhvOR0mk0brG6ab/W6Ze/PPEwyBjwAhIsQgAgmoBwpBMVjAATgExxCC8P9CYp19R97PNUizbauylwMxyAcFoAjswEayweAeOII4iLSSWAwInfsC" rel="nofollow noreferrer" title="APL (Dyalog Unicode) ‚Äì Try It Online">Try it online!</a></p>
<p>Uses <code>‚éïIO‚Üê0</code>. Returns 0 if the input is almost-prime, 1 otherwise.</p>
<h3>How it works</h3>
<pre class="lang-apl prettyprint-override"><code>‚ä¢‚àä‚ç≥‚àò.‚àß‚ç≥    ‚çù Input: integer n ‚â• 2
  ‚ç≥‚àò.‚àß‚ç≥    ‚çù Generate a table of LCMs over 0..n-1
‚ä¢‚àä         ‚çù Does the table contain n?
</code></pre>
<p>The LCM of two numbers is equivalent to taking the maximum of powers in their prime factorizations. If <code>n = p^k</code>, any numbers smaller than <code>n</code> cannot have <code>p^k</code> in their prime factorization, so the LCM table does not contain <code>n</code>. Otherwise, we can find a pair of coprime numbers under <code>n</code> that multiplies to <code>n</code>, so the LCM table is guaranteed to contain at least one copy of <code>n</code>.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 8 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>‚à®/1~‚ç®‚ä¢‚à®‚ç≥
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///P@1R24RHHSv0Dese9a541LUIyH7Uu/n/f/WQotKSjEorda40BSMgNgZiEyC2AGJLIDY0A0mYgghzkDRIjQlIwgysyhCkxNjYkItL3S0xpxhiDkiLIdgwEMsUpNDQ0hhkoqmFoQkA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) ‚Äì Try It Online">Try it online!</a></p>
<p>Outputs 1 if it isn't almost-prime, some other positive integer otherwise.</p>
<pre class="lang-apl prettyprint-override"><code>‚à®/1~‚ç®‚ä¢‚à®‚ç≥
     ‚ä¢‚à®‚ç≥   ‚çù All divisors
  1~‚ç®     ‚çù Remove 1
‚à®/         ‚çù GCD
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 25 bytes</h1>

<pre class="lang-sh prettyprint-override"><code>&gt;`factor`
dir &lt;-&gt;|grep \ 
</code></pre>
<p><a href="https://tio.run/##JU7LCsJADLz3K@Yg0griZpPsA0r9EQ@KWi34Yn0cxH@vEXPITIaZJO/7cezrpq7Hbt1vto9rWVe7oaCdd59D2d@wwthMu8Vu/1pcnqdT27aTofr15QrGyhmzpuqvBQNqD4YgIYMCvMJHsIdkBFMJxEzw4sgkYoSk2Sw5CUGZxIAospgzpux@KI6Vg4uI6pNPtghkRwJUQJkTNJGxqBoc8r9s9FksaW@NXw" rel="nofollow noreferrer" title="Zsh ‚Äì Try It Online">Try it online!</a></p>
<p>Outputs via exit code - <code>1</code> is a prime power, <code>0</code> isn't.</p>
<ul>
<li><code>factor</code> - factorise the input</li>
<li><code>&gt;``</code> - create a file named each word in that output (effectively uniquifies)</li>
<li><code>&lt;-&gt;</code> - match any file that is just a number (eliminates the file called <code>input:</code> which comes from the output of <code>factor</code>)</li>
<li><code>dir</code> - list those files separated by spaces (as opposed to <code>ls</code> which separates by newlines)</li>
<li><code>|grep \ </code> - search for a space in that output (which means there were at least 2 matching files and therefore more than 1 distinct factor)</li>
</ul>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 4 bytes</h1>
<pre><code>!t{P
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/X7GkOuD/f3MjSwA" rel="nofollow noreferrer" title="Pyth ‚Äì Try It Online">Try it online!</a></p>
<p>Explanation:</p>
<pre><code>P - List of prime factors
{ - Remove duplicate elements
t - Removes first element
! - Would return True if remaining list is empty, otherwise False
</code></pre>
<p><em>-1 byte, thanks to hakr14</em></p>
</div>
<div id="pu15" class="pu"><h2><a href="https://try-setanta.ie/" rel="nofollow noreferrer">Setanta</a>, <s>61</s> 59 bytes</h2>
<pre><code>gniomh(n){p:=2nuair-a n%p p+=1nuair-a n&gt;1 n/=p toradh n==1}
</code></pre>
<p><a href="https://try-setanta.ie/editor/EhEKBlNjcmlwdBCAgIDAzs2RCg" rel="nofollow noreferrer">Try it here</a></p>
<p>Notes:</p>
<ul>
<li>The proper keyword is <code>gn√≠omh</code>, but Setanta allows spelling it without the accents so I did so to shave off a byte.</li>
</ul>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>36</s> <s>32</s> 29 bytes</h1>
<p><em>-3 bytes by outputting a vector of booleans without extracting the first element</em></p>

<pre class="lang-r prettyprint-override"><code>!(a=2:(n=scan()))[!n%%a]^n%%n
</code></pre>
<p><a href="https://tio.run/##K/r/X1Ej0dbISiPPtjg5MU9DU1MzWjFPVTUxNg5I5v03tPgPAA" rel="nofollow noreferrer" title="R ‚Äì Try It Online">Try it online!</a></p>
<p>Outputs a vector of booleans. In R, a vector of booleans is truthy iff the first element is <code>TRUE</code>.</p>
<p>First, find the smallest divisor <code>p</code> of <code>n</code>. We can do this by checking all integers (not only primes), as the smallest divisor of an integer (apart from 1) is always a prime number. Here, let <code>a</code> be all the integers between <code>2</code> and <code>n</code>, then <code>p=a[!n%%a][1]</code> is the first element of <code>a</code> which divides <code>n</code>.</p>
<p>Then <code>n</code> is almost prime iff <code>n</code> divides <code>p^n</code>.</p>
<p>This fails for any moderately large input, so here is the previous version which works for most larger inputs:</p>
<h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>36</s> 33 bytes</h1>

<pre class="lang-r prettyprint-override"><code>!log(n&lt;-scan(),(a=2:n)[!n%%a])%%1
</code></pre>
<p><a href="https://tio.run/##K/r/XzEnP10jz0a3ODkxT0NTRyPR1sgqTzNaMU9VNTFWU1XV8L@RuaWFieF/AA" rel="nofollow noreferrer" title="R ‚Äì Try It Online">Try it online!</a></p>
<p>Compute the logarithm of <code>n</code> in base <code>p</code>: this is an integer iff <code>n</code> is almost prime.</p>
<p>This will fail due to floating point inaccuracy for certain (but far from all) large-ish inputs, in particular for one test case: <span class="math-container">\$4913=17^3\$</span>.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 2 bytes</h1>
<p>Are all prime factors equal?</p>
<pre><code>·∏ã=
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r//@GObtv//w2NjQ0B" rel="nofollow noreferrer" title="Brachylog ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/TryItOnline/spim" rel="nofollow noreferrer">Assembly (MIPS, SPIM)</a>, 238 bytes, 6 * 23 = 138 assembled bytes</h1>
<pre><code>main:li$v0,5
syscall
move$t3,$v0
li$a0,0
li$t2,2
w:bgt$t2,$t3,d
div$t3,$t2
mfhi$t0
bnez$t0,e
add$a0,$a0,1
s:div$t3,$t2
mfhi$t0
bnez$t0,e
div$t3,$t3,$t2
b s
e:add$t2,$t2,1
b w
d:move$t0,$a0
li$a0,0
bne$t0,1,p
add$a0,$a0,1
p:li$v0,1
syscall
</code></pre>
<p><a href="https://tio.run/##fY/BDsIgDIbvfYodduwBUKPyNiCoJDBJIFv05bFlusSLh6bN369/25JDai2ZMOkYxlngAcqzXEyMkB6zH@sOSQXqGYE9V4UKFm1vlUsGHLgwd7IqSNc7MQLs5F@U0YNxjoc5JBT9l92aK2CHAl6zQV@lyMAOCzi93tZNt9vIhSWJ@Xdl/nwmv5@1po7n016@AQ" rel="nofollow noreferrer" title="Assembly (MIPS, SPIM) ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <sup>9</sup> 8 bytes</h1>
<pre><code>1=#@=@q:
</code></pre>
<p><a href="https://tio.run/##NU1BCgIxELv3FUEPi6Cl05lpOwuFBcGTJ78ginhY8bivX0fEQEgmJMxz3cThjj5iwB4Jo/MQcbycTyv17dSn97juwtJjBkPQYKCCrMgVnCGG4imBmAlZEnlEjNLUvGJNCMokLkSVxZu1WfqqJFYuqaJqbrlZmHssIP9ToAIybtBG7qpqSbAf/MwmPg7hdn28cMfyN3NYPw" rel="nofollow noreferrer" title="J ‚Äì Try It Online">Try it online!</a></p>
<p><em>-1 byte thanks to xash</em></p>
<p>Tests if the <a href="https://code.jsoftware.com/wiki/Vocabulary/eq#monadic" rel="nofollow noreferrer">self-classify</a> <code>=</code> of the prime factors <code>q:</code> has length <code>#</code> equal to one <code>1=</code></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/FMNSSun/Burlesque" rel="nofollow noreferrer">Burlesque</a>, 6 bytes</h1>
<pre><code>rifCsm
</code></pre>
<p><a href="https://tio.run/##SyotykktLixN/f@/KDPNuTj3/38TA2NTYzMDcwA" rel="nofollow noreferrer" title="Burlesque ‚Äì Try It Online">Try it online!</a></p>
<p>Explanation:</p>
<pre><code>ri      # Read integer from input
  fC    # Find its prime factorisation
    sm  # Are all values the same?
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="http://iolanguage.org/" rel="nofollow noreferrer">Io</a>, 48 bytes</h1>
<p>Port of @RobinRyder's R answer.</p>
<pre><code>method(i,c :=2;while(i%c&gt;0,c=c+1);i log(c)%1==0)
</code></pre>
<p><a href="https://tio.run/##nY1NDoMgGAX37xSExARSF36AVmvoEXoCN5ZiJcGfqE2PbzlD3@7NYiYs58BulnXn5I9xeYmQu/RV@x1D9CJk7l7kzroLyTawuLyFkxlZW8iTK2gY1GhAFVQJdYVWMA2qRAmkNUGZghIizdm@xnAI3s1csqlfRb8/PtPTb5INy@Z7N6Y2WNoggmTrFuYjzpDgFSilKpQG1OgaZU3mb935Aw" rel="nofollow noreferrer" title="Io ‚Äì Try It Online">Try it online!</a></p>
<h2>Explanation</h2>
<pre><code>method(i,            // Take an input
    c := 2           // Set counter to 2
    while(i%c&gt;0,     // While the input doesn't divide counter:
        c=c+1        //     Increment counter
    )
    i log(c)%1==0    // Is the decimal part of input log counter equal to 0?
)
</code></pre>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 3 bytes</h1>
<pre><code>√ÜfE
</code></pre>
<p><a href="https://tio.run/##JY6xDQIxDEV7z@Iiju3EGQAxBKKE4nQLXEsByzAC3YlFWCR8Q6TE1vv5/l4u67rNud@vh/l@7Y/P7Xmc80SVSZmMKZgGkzSm6rgdHJqBtVQFmireakWSC2wtfOTfEQbmKpZVpKuloccov8aKuraCmd1r1ICJECQZjuoIkKHYwEOy7@6tYJ//SVCHYQjT@Qs" rel="nofollow noreferrer" title="Jelly ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu23" class="pu"><h1>JavaScript (ES6), 43 bytes</h1>
<h2>Without BigInts</h2>
<p>Returns a Boolean value.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n,k=1)=&gt;n%1?!~~n:f(n&lt;0?n/k:n%++k?n:-n,k)
</code></pre>
<p><a href="https://tio.run/##bZG9bsJAEIT7vAUFsk@EcOv78Z2FcccTpCMpLIITsLWOMERKw6sbUJoks1d@N9qd2TnUX/WwPe4/T3Pu33bj2JQpP7YlqXLFU6omlwsXTcpLXfGiLXg6m7UVF/ObRo3bnoe@2z11/XuabJ6P59PH92uiHn7zJs3Uf2KAWCABSARCHlDmEOVoAD1ZHO8FV4QmjEGYWU3CCsLkPrgoWI7B4gBnyAo4D1FbwZnVxhmv7/H//CQvvFnX3SB0hQcloT5UOTwVRYMdukCCMnfOa@z75wnyLNpbNqXGKw" rel="nofollow noreferrer" title="JavaScript (Node.js) ‚Äì Try It Online">Try it online!</a></p>
<p>A recursive function that first looks for the smallest divisor <span class="math-container">\$k&gt;1\$</span> of <span class="math-container">\$n\$</span> and then divides <span class="math-container">\$-n\$</span> by <span class="math-container">\$k\$</span> until it's not an integer anymore. (The only reason why we invert the sign of <span class="math-container">\$n\$</span> when <span class="math-container">\$k\$</span> is found is to distinguish between the two steps of the algorithm.)</p>
<p>If <span class="math-container">\$n\$</span> is almost-prime, the final result is <span class="math-container">\$-\dfrac{1}{k}&gt;-1\$</span>. So we end up with <span class="math-container">\$\lceil n\rceil=0\$</span>.</p>
<p>If <span class="math-container">\$n\$</span> is not almost-prime, there exists some <span class="math-container">\$q&gt;k\$</span> coprime with <span class="math-container">\$k\$</span> such that <span class="math-container">\$n=q\times k^{m}\$</span>. In that case, the final result is <span class="math-container">\$-\dfrac{q}{k}&lt;-1\$</span>. So we end up with <span class="math-container">\$\lceil n\rceil&lt;0\$</span>.</p>
<hr />
<h1>JavaScript (ES11), 33 bytes</h1>
<h2>With BigInts</h2>
<p>With BigInts, using <a href="https://codegolf.stackexchange.com/a/210174/58563">@xnor's approach</a> is probably the shortest way to go.</p>
<p>Returns a Boolean value.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n,k=1n)=&gt;n%++k?f(n,k):k**n%n&lt;1
</code></pre>
<p><a href="https://tio.run/##bdDJDoJAEATQu/9BYEANzTAsRvTmF3hDDwTBBdJjAE38elxO6tT1pZOqrktxL/qyO1@HGetDNY515vC0yYhFtmLL85p1/QaxaFyXLV7SWGrudVvNW3107Hzb3YbTY2@LybfXTsDin6RJoUmJSalJFJkWKGAx6AG6hSAjQu0IdJESaBD6hHIIzBAl6pP/w/aO803R9mBc8DyhwcGdAk9RKsHqKiF0GysV@S8fnw" rel="nofollow noreferrer" title="JavaScript (Node.js) ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu24" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 36 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>f n=mod(until((&lt;1).mod n)(+1)2^n)n&lt;1
</code></pre>
<p><a href="https://tio.run/##DcdBCoAgEADAr@yhgxKJeq6XRIGYlrRuYvb9tuY2h7vPgMgcgaZ8beKhllCI0Uj1F0iK3ki7kqTRcHaJYIJSEzXoICZsoUKE2SpltF749RHdfvPgS/kA" rel="nofollow noreferrer" title="Haskell ‚Äì Try It Online">Try it online!</a></p>
<p><strong>36 bytes</strong></p>

<pre class="lang-hs prettyprint-override"><code>f n=and[mod(gcd d n^n)n&lt;2|d&lt;-[1..n]]
</code></pre>
<p><a href="https://tio.run/##BcExDoAgEATAr2xhoQUErfUlBBPCiRLhJGjp2z1nDn@fW84iEbx4Jlsu6vdAIPDKA8/TS7Oyo9bsnBSfGAtqS/ygQ0z52Roi7KT1aIyTL8Ts91tUqPUH" rel="nofollow noreferrer" title="Haskell ‚Äì Try It Online">Try it online!</a></p>
<p><strong>39 bytes</strong></p>

<pre class="lang-hs prettyprint-override"><code>f n=all((`elem`[1,n]).gcd n.(^n))[2..n]
</code></pre>
<p><a href="https://tio.run/##FclBCoAgEADAr@yhg0KJdvclYiSmJm2LpO9vo7nOGfqVEJkzkA2IQuwJ0707M5OXqsQDSImNpHSrUuT5DpXAQnsqDZggVxzpgQx/G609vzFjKJ2X2NoH" rel="nofollow noreferrer" title="Haskell ‚Äì Try It Online">Try it online!</a></p>
<p><strong>39 bytes</strong></p>

<pre class="lang-hs prettyprint-override"><code>f n=mod n(n-sum[1|1&lt;-gcd n&lt;$&gt;[1..n]])&lt;1
</code></pre>
<p><a href="https://tio.run/##DcgxDoAgDADAr3Rw0AFincGPEAaCoESoRHTz7VZvvM21PeTMHIF0ORagnkS7i8EHlVj9H6qbDUpJ1g4KubhEoKGeiS7oIKZ8hRMimElKHEfLr4/ZrY2Fr/UD" rel="nofollow noreferrer" title="Haskell ‚Äì Try It Online">Try it online!</a></p>
<p><strong>40 bytes</strong></p>

<pre class="lang-hs prettyprint-override"><code>f n=and[mod(p^n)n&lt;1|p&lt;-[2..n],mod n p&lt;1]
</code></pre>
<p><a href="https://tio.run/##FcpBDkAwEAXQq/yFBQmi1u1JpJKGlkaNCV06u8H25a3u2nxKIgFkHM3Dfswlj1SRVjfrZujblmz9KQislZXdRYIBn5EyCoSYsj8R8E/VdVaeKSS3XNJMzC8" rel="nofollow noreferrer" title="Haskell ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/TryItOnline/spl" rel="noreferrer">Shakespeare Programming Language</a>, 329 bytes</h1>
<pre><code>,.Ajax,.Page,.Act I:.Scene I:.[Enter Ajax and Page]
Ajax:Listen tothy.
Page:You cat.
Scene V:.
Page:You is the sum ofYou a cat.
 Is the remainder of the quotient betweenI you nicer zero?If soLet usScene V.
Scene X:.
Page:You is the cube ofYou.Is you worse I?If soLet usScene X.
 You is the remainder of the quotient betweenYou I.Open heart
</code></pre>
<p><a href="https://tio.run/##hZDLCsIwEEV/ZT6gBEQ3diMuXAQKCoIo4iJNpzZiE00m@Pj5mLQFhS7cTS7nzknibtcQMra8iGfGNuKMcZYEPGdbiRrTcFxpQgsJAaErSNQpnfJCOUINZKh5deX8YDxIQUN5l39T5YAaBOdbMHUKRAfyPrbYCqWrqDF1F9y9IYWaoER6IGoOr9jRSkbkjdYseA3OFEjg3SAbpPuxVPoSe2vypUUPY1183HjLnv30/t4qsZytb/ETGhSWQpjNJ9MP" rel="noreferrer" title="Shakespeare Programming Language ‚Äì Try It Online">Try it online!</a></p>
<p>Outputs <code>0</code> if the input is almost prime, and a positive integer otherwise. I am not sure this is an acceptable output; changing it would cost a few bytes.</p>
<p>Explanation:</p>
<ul>
<li>Scene I: <code>Page</code> takes in input (call this <code>n</code>). Initialize <code>Ajax = 1</code>.</li>
<li>Scene V: Increment <code>Ajax</code> until <code>Ajax</code> is a divisor of <code>Page</code>; call the final value <code>p</code> This gives the smallest divisor of <code>Page</code>, which is guaranteed to be a prime.</li>
<li>Scene X: Cube <code>Ajax</code> until you end up with a power of <code>p</code>, say <code>p^k</code> which is greater than <code>n</code>. Then <code>n</code> is almost-prime iff <code>n</code> divides <code>p^k</code>.</li>
</ul>
</div>
<div id="pu26" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 6 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>I feel like this should be 1 or 2 bytes shorter ...</p>
<pre><code>k √§¬∂ √ó
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=ayDktiDX&amp;input=WzIKMwo0CjgKOQoxNgoyNQoyNwozMgo0OQo2NAo4MQoxMzMxCjI0MDEKNDkxMwo2ODU5CjI3OTg0MQo1MzE0NDEKMTE3MzQ4MQo3ODkwNDgxCjQwMzUzNjA3Cjc1MjgyODkKNgoxMgozNgo1NAoxOTM4CjU4MTQKMTc1NTYwCjk5OTk5OTkKMTcyOTQ0MDMKXS1t" rel="nofollow noreferrer">Try it</a> - includes all test cases</p>
</div>
<div id="pu27" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a>, 35 bytes</h1>
<pre><code>: f ( n -- ? ) factors all-equal? ;
</code></pre>
<p><a href="https://tio.run/##VU@7TsNAEOznK7aEwpb33ucUKVGaNIgKUVjm7ERcbGM7BYr4drOAKNhmZkcz@@iadh3n7enxcHyo6S3NQ8o0zWldP6b5PKx0adZTKfSSlrL7MS/Uz@N1Og89Len9moY2LbTD4VhTO76mfszdVlNHdzRQUdCe7ukv2ORcSKTJe9ptN1LQMAiIYAdloTy0golwojJYa4YyFYvEGi7YKJYYDMNqNgLMXhtx@hCrbzSVttpVHt6qoEKkT3qWS17ki4lK4EYOLFsdrAFHHWADC/PWugrxt6RV0cio/@ntCw" rel="nofollow noreferrer" title="Factor ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu28" class="pu"><h1><a href="https://www.dyalog.com/" rel="noreferrer">APL (Dyalog Classic)</a>, <s>33</s> <s>31</s> 26 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>{‚çµ‚àä‚àä(((‚ä¢~‚àò.√ó‚ç®)1‚Üì‚ç≥)‚çµ)‚àò*¬®‚ç≥‚çµ}
</code></pre>
<p>-5 bytes from Kevin Cruijssen's suggestion.</p>
<p><em>Warning:</em> Very, very slow for larger numbers.</p>
<h2>Explanation</h2>
<pre class="lang-apl prettyprint-override"><code>{‚çµ‚àä‚àä(((‚ä¢~‚àò.√ó‚ç®)1‚Üì‚ç≥)‚çµ)‚àò*¬®‚ç≥‚çµ} ‚çµ=n in all the following steps
                       ‚ç≥‚çµ  range from 1 to n
                    ‚àò*¬®    distribute power operator across left and right args
    (((‚ä¢~‚àò.√ó‚ç®)1‚Üì‚ç≥)‚çµ)       list of primes till n
   ‚àä                       flatten the right arg(monadic ‚àä)
 ‚çµ‚àä                        is n present in the primes^(1..n)?
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v@/@lHv1kcdXUCkoaHxqGtR3aOOGXqHpz/qXaFp@Kht8qPezZpAFZpAUa1DK4A8IKf2f9qjtgmPevsedTU/6l3zqHfLofXGj9omPuqbGhzkDCRDPDyD/6cpGHGlKRgDsQkQmwGxIVjADAA" rel="noreferrer">Try it online!</a></p>
</div>
<div id="pu29" class="pu"><h1><a href="https://github.com/maxbergmark/mathgolf/blob/master/math_golf.txt" rel="nofollow noreferrer">MathGolf</a>, 10 <a href="https://github.com/maxbergmark/mathgolf/blob/master/code_page.py" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>‚ïíg¬∂m√âk‚ïí#‚îÄ‚ïß
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/210173/52210"><em>@Razetime</em>'s APL (Dyalog Classic) answer</a>, so make sure to upvote him as well!</p>
<p><a href="https://tio.run/##y00syUjPz0n7///R1Enph7blHu7MBrKUH01peDR1@f//RlzGXCZcFlyWXIZmXEamXEbmXMZGXCaWXGZAUUMuMy5DoAozLlMTAA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>‚ïí           # Push a list in the range [1, (implicit) input-integer)
 g          # Filter it by:
  ¬∂         #  Check if it's a prime
   m        # Map each prime to,
    √â       # using the following three operations:
     k‚ïí     #  Push a list in the range [1, input-integer) again
       #    #  Take the current prime to the power of each value in this list
        ‚îÄ   # After the map, flatten the list of lists
         ‚ïß  # And check if this list contains the (implicit) input-integer
            # (after which the entire stack joined together is output implicitly)
</code></pre>
</div>
<div id="pu30" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 42 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda n,p=2:n%p and f(n,p+1)or p**n%n&lt;1
</code></pre>
<p><a href="https://tio.run/##ZcuxCsIwGEXhPU9xKRSa2sHGLZhXcOjmGGmjAb35iVl8@lgRBXE8cD55lEuiqTW4q7@dZg8O4oxlK/CcEbq1N6NOGdL3bLkf6@Sy53npzLDbaqUkRxY0x@XeqLB@RCQmqxDDi2uL98HP@iWH9C@Yyq@qTw" rel="noreferrer" title="Python 2 ‚Äì Try It Online">Try it online!</a></p>
<p>Since Python doesn't have any built-ins for primes, we make do with checking divisibility.</p>
<p>We find the smallest prime <code>p</code> that's a factor of <code>n</code> by counting up <code>p=2,3,4,...</code> until <code>n</code> is divisible by <code>p</code>, that is <code>n%p</code> is zero. There, we check that this <code>p</code> is the only prime factor by checking that a high power of <code>p</code> is divisible by <code>n</code>. For this, <code>p**n</code> suffices.</p>
<p>As a program:</p>
<p><strong>43 bytes</strong></p>

<pre class="lang-python prettyprint-override"><code>n=input()
p=2
while n%p:p+=1
print p**n%n&lt;1
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/r/P882M6@gtERDk6vA1oirPCMzJ1UhT7XAqkDb1pCroCgzr0ShQEsrTzXPxvD/fzMA" rel="noreferrer" title="Python 2 ‚Äì Try It Online">Try it online!</a></p>
<p>This could be shorter with exit codes if those are allowed.</p>
<p><strong>46 bytes</strong></p>

<pre class="lang-python prettyprint-override"><code>lambda n:all(n%p for p in range(2,n)if p**n%n)
</code></pre>
<p><a href="https://tio.run/##ZcuxCsIwGEXhPU9xKRSS4iB1C/QVHLoJLpE2Gog3P2kWnz5apEJxPZxPXuWR2Fc/XGt0z9vkQOti1GwFPmUIApEd77PuDzTBQ7qOLU0dhy2fjkYpyYEFzWVeGrVCrnC0Ch/iNY3F9@C2/sg5/Qumslf1DQ" rel="noreferrer" title="Python 2 ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu31" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="noreferrer">Wolfram Language (Mathematica)</a>, 11 bytes</h1>
<pre><code>PrimePowerQ
</code></pre>
<p><a href="https://tio.run/##JU1LCoNQELtKDxDwze@9mUXBI9gjSBHrwhZE6KL07Hak2SQTksw67o9pHfflPh7z9Ri2ZZ2G13vabqd@7peun7v@wxAoHAGqYAM3CEMDNV0CiRBYC6VFguoWGQlXgglpElETzWTzKCdrEZNaGpqxs@cQKJ9UmIJCHOaUqpnVgvgjTw7N5vc4fg" rel="noreferrer" title="Wolfram Language (Mathematica) ‚Äì Try It Online">Try it online!</a></p>
<p>@Sisyphus saved 1 byte</p>
</div>
<div id="pu32" class="pu"><h1>GAP 4.7, 31 bytes</h1>
<p><code>n-&gt;Length(Set(FactorsInt(n)))&lt;2</code></p>
<p>This is a lambda. For example, the statement</p>
<p><code>Filtered([2..81], n-&gt;Length(Set(FactorsInt(n)))&lt;2 );</code></p>
<p>yields the list <code>[ 2, 3, 4, 5, 7, 8, 9, 11, 13, 16, 17, 19, 23, 25, 27, 29, 31, 32, 37, 41, 43, 47, 49, 53, 59, 61, 64, 67, 71, 73, 79, 81 ]</code>.</p>
<p><a href="https://tio.run/##S08s@B9QlJlXouGWmVOSWpSaohFtpKdnYRir8z9P184nNS@9JEMjOBUon5hckl9U7AlUmqepqWlj9F9T0/o/AA" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu33" class="pu"><h1><a href="https://www.sagemath.org/" rel="noreferrer">Sagemath</a>, 2 bytes</h1>
<pre><code>GF
</code></pre>
<p>Outputs via <a href="https://codegolf.meta.stackexchange.com/a/11908/48931">exception</a>.</p>
<p><a href="https://sagecell.sagemath.org/?z=eJxtjc0KwkAMhO-FvsNeRIU5bDbJ_hS86kOoB9EWBKlSK-jbG1Hx4lwymXxJusWmrlbLuqqr7jy43h17tw5gCDIKKCIoQgIHSEG0lEDMhCCeLCJGzFoMKVkIyiRWiBKLkSkX_6riWTn6hKQhh2yHQPYkQgVUOEMzmUuq0aO8ZW0oYpvbpq6caRweH_dSN-vnv-4yHPtxNp0cGsNu7dRN3Hfc3vftZWz-st3udP3AT22yOJg=&amp;lang=sage&amp;interacts=eJyLjgUAARUAuQ==" rel="noreferrer">Try it online!</a></p>
<hr />
<p>The Sagemath builtin <span class="math-container">\$\text{GF}\$</span> creates a <a href="https://en.wikipedia.org/wiki/Finite_field" rel="noreferrer">Galois Field</a> of order <span class="math-container">\$n\$</span>. However, remember that <span class="math-container">\$\mathbb{F}_n\$</span> is only a field if <span class="math-container">\$n = p^k\$</span> where <span class="math-container">\$p\$</span> is a prime and <span class="math-container">\$k\$</span> a positive integer. Thus the function throws an exception if and only if its input is not a prime power.</p>
</div>
<div id="pu34" class="pu"><h1><a href="https://gcc.gnu.org/" rel="noreferrer">C (gcc)</a>, 43 bytes</h1>

<pre class="lang-c prettyprint-override"><code>f(n,i){for(i=1;n%++i;);n=i&lt;n&amp;&amp;f(n/i)^i?:i;}
</code></pre>
<p><a href="https://tio.run/##LU/bTsMwDH3GXxFN6pSoQcv9QlbxIWNIU0eRH8jQ6BNVv704QCTHzjnHJ/b4@D6O2zbxKlEs0@3OcdCldn2PRZQ64LHu98QeULzi8xOWdfu4YOViAawzm09nNrAFjAQrwUlIErIEHSQYTxEJJ84RFhqribOWbuOUbrimtpB8btqcHGHeatey1tG61hBTVr@FU9bboMgzepNMaqaka39T9uSvs6UBfNKtjt4HReP8nQaY7MgD1gK0KONtARxUweMXfr/dJj6Lw39FlCjY9wIePu/0mPiuy1fWXV/qTs4nPEtSUxKiwLr9AA" rel="noreferrer" title="C (gcc) ‚Äì Try It Online">Try it online!</a></p>
<p>Returns <code>p</code> if <code>n</code> is almost-prime, and <code>1</code> otherwise.</p>
<pre class="lang-c prettyprint-override"><code>f(n,i){
    for(i=1;n%++i;);    // identify i = the least prime factor of n
    n=i&lt;n&amp;&amp;f(n/i)^i     // if n is neither prime nor almost-prime
      ?                 //  return 1
      :i;               // return i
}
</code></pre>
</div>
<div id="pu35" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 2 bytes</h1>
<pre><code>√í√ã
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//8KTD3f//mxgYmxqbGZgDAA" rel="noreferrer" title="05AB1E ‚Äì Try It Online">Try it online!</a></p>
<h3>Commented:</h3>
<pre><code>√í   -- Are all the primes in the prime decomposition
 √ã  -- Equal?
</code></pre>
</div>
<div id="pu36" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="noreferrer">MATL</a>, 4 bytes</h1>
<pre><code>Yf&amp;=
</code></pre>
<ul>
<li>For almost-primes the output is a matrix containing only <code>1</code>s, which is <a href="https://codegolf.stackexchange.com/a/95057/36398">truthy</a>.</li>
<li>Otherwise the output is a matrix containing several <code>1</code>s and at least one <code>0</code>, which is <a href="https://codegolf.stackexchange.com/a/95057/36398">falsy</a>.</li>
</ul>
<p><a href="https://tio.run/##y00syfn/PzJNzfb/fxMDY1NjMwNzAA" rel="noreferrer">Try it online!</a> Or <a href="https://tio.run/##bY47T8QwEIT7@RVuIJcmyvoR2wWiOZDoKK6hQCICh1g4D8WJ0BX89mByEroTbLPe8bcz29VzWF/Yb12x/VAUxWfrg1ufmuub9fb886FBdpiWuT1m2/y4xJbNrY8szpPv3/F1Tt@F6JDd1yFu@H/88wXfv7Gdb3LsLw7ycQz1EYdz8WQ0LY7tNruu/nAxOTu2nc7CMIzM943v/exysD8xG5anuG4M/tXP@cohIGFgQRW4AtcQHNKiSiqBhCBwWVKSSKAyyibEGklQgmRqRFrIRGpjy58uS6FEVWpoxQ03yQiUQiooCbLCQBlKL61UVcKeKo3cyrT5DQ" rel="noreferrer">verify all test cases</a>, including truthiness/falsihood test.</p>
<h3>How it works</h3>
<pre><code>     % Implicit input
Yf   % Prime factors. Gives a vector with the possibly repeated prime factors
&amp;=   % Matrix of all pair-wise equality comparisons
     % Implicit output
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/210162/">210162</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




