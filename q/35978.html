<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::35978</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>065</td><td>JavaScript Node.js</td><td>250404T081030Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/279053#279053">l4m2</a></td></tr>
<tr d-ix="1"><td>nan</td><td></td><td>220902T103608Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/251564#251564">alephalp</a></td></tr>
<tr d-ix="2"><td>111</td><td>Python 3</td><td>220923T182750Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/252193#252193">Pandu</a></td></tr>
<tr d-ix="3"><td>105</td><td>C gcc</td><td>180313T083325Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/157994#157994">gastropn</a></td></tr>
<tr d-ix="4"><td>119</td><td>brainfuck</td><td>190611T215106Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/186727#186727">Nitrodon</a></td></tr>
<tr d-ix="5"><td>057</td><td>Python 2</td><td>180311T225851Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/157848#157848">xnor</a></td></tr>
<tr d-ix="6"><td>065</td><td>Bash</td><td>180313T002635Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/157970#157970">Sophia L</a></td></tr>
<tr d-ix="7"><td>021</td><td>APL Dyalog</td><td>180312T205336Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/157955#157955">H.PWiz</a></td></tr>
<tr d-ix="8"><td>nan</td><td></td><td>140813T020234Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/36157#36157">alephalp</a></td></tr>
<tr d-ix="9"><td>022</td><td>APL Dyalog Unicode</td><td>180311T125701Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/157831#157831">Erik the</a></td></tr>
<tr d-ix="10"><td>053</td><td>Haskell</td><td>180311T213729Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/157847#157847">xnor</a></td></tr>
<tr d-ix="11"><td>014</td><td>Jelly</td><td>180311T131320Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/157833#157833">Erik the</a></td></tr>
<tr d-ix="12"><td>064</td><td>Haskell</td><td>140809T215629Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/35993#35993">proud ha</a></td></tr>
<tr d-ix="13"><td>188</td><td>Marbelous</td><td>140812T030840Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/36110#36110">Sparr</a></td></tr>
<tr d-ix="14"><td>2419</td><td>GolfScript</td><td>140809T231957Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/35996#35996">Ilmari K</a></td></tr>
<tr d-ix="15"><td>068</td><td>Python</td><td>140810T082231Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/36015#36015">Armin Ri</a></td></tr>
<tr d-ix="16"><td>214</td><td>Perl  120</td><td>140810T011452Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/36007#36007">faubi</a></td></tr>
<tr d-ix="17"><td>150</td><td>Python  110</td><td>140809T181246Z</td><td><a href="https://codegolf.stackexchange.com/questions/35978/an-ant-on-a-cube/35979#35979">Vectoriz</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 65 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=x=&gt;x.map(t=&gt;[H,L,R]=t?[R,H^L^R,~L]:[L,~R,H^L^R],H=0,L=1,R=2)|!H
</code></pre>
<p><a href="https://tio.run/##XZA9T8MwEIb3@xVhalqMXRiLXDaU4SaLLUlVK3UrUGiiJKAMVv96OH8EIs6yfc/53teWP/S37qvuvR0ers3JTGKT@NhC2BORFDBnds6FXwMgTftLtiDt3yEpyMBlKnKgRNjAwheoKXCQOv/AoTujPbIv2OUDC89iRmK7IBIuIPhvxHSWo9yP/FO36SD3ecaQqVIOL7li2QEPit2w3OXIbpFLlsktQ/nIlHxa27tseq6aa9/UhtfNJT3CW/dlkkr3pt8BKApAClDoBhUQ3QSMmWtxDQoco@dQCBgzL/8fAK@67he3kRj8jd4tejpEFXwB/TP8SbzIL3DknWlrXZlU5KjKe3FhCX3MOc0552M5/88g5Uqt1hTTDw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Seems some other solution have better way to solve.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a></h1>
<p>Based on <a href="https://codegolf.stackexchange.com/a/251549/9288">my answer</a> to <a href="https://codegolf.stackexchange.com/q/251538/9288">Detect round trips on a dodecahedron</a>.</p>
<h2>Cube, 35 bytes</h2>
<pre><code>f(s)=t=x;[t=1/Mod(t+c,3)|c&lt;-s];t==x
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728ILEoMz69YMGCpaUlaboWN5XTNIo1bUtsK6yjS2wN9X3zUzRKtJN1jDVrkm10i2OtS2xtKyBKbzFJJBYU5FRqFCvo2ikUFGXmlQCZSiCOkgLIFE0dhehoQx0FKIoFcnWBDAQGiUA5yBRUGEkpMg9mDHYVCL0oNkEVIVmoi24mwqFYNOLQg1sNhrdIQ2AHwVyF5Dq459F8gsN3yIGli2YUUoCheQGHmbgCCF0kNlYTkkBgaQoA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes a list of <code>1</code>s and <code>-1</code>s.</p>
<p>The rotational symmetry group of a cube is isomorphic to <span class="math-container">\$PSL(2,3)\$</span> (the <a href="https://en.wikipedia.org/wiki/Projective_linear_group" rel="nofollow noreferrer">projective special linear group</a>). Here <code>L</code> and <code>R</code> correspond to the rational functions <span class="math-container">\$\frac{1}{x+1}\$</span> and <span class="math-container">\$\frac{1}{x-1}\$</span> respectively.</p>
<hr />
<h2>Dodecahedron, 37 bytes</h2>
<pre><code>f(s)=t=x;[t=Mod(t^c+1,5)^c|c&lt;-s];t==x
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728ILEoMz69YMGCpaUlaboWN1XTNIo1bUtsK6yjS2x981M0SuKStQ11TDXjkmuSbXSLY61LbG0roIrXJBYU5FRqFCvo2ikUFGXmlQCZSiCOkgLIGE0dhehoQx0FBIoFigBpXQgXBwVSpIsqjs4EKYEog5qIYYsusghQWawmxM0wjwIA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes a list of <code>1</code>s and <code>-1</code>s.</p>
<p>The rotational symmetry group of a dodecahedron is isomorphic to <span class="math-container">\$PSL(2,5)\$</span>. Here <code>L</code> and <code>R</code> correspond to the rational functions <span class="math-container">\$x+1\$</span> and <span class="math-container">\$\frac{x}{x+1}\$</span> respectively.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 111 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(s):
 u,f,r,l,b,d='WGROBY'
 for c in s:
  if'R'==c:u,f,d,b=b,u,f,d
  else:u,l,d,r=l,d,r,u
 return'WG'==u+f
</code></pre>
<p><a href="https://tio.run/##HUy7CgMhEOz9iu1Usl26A5s0aQIBm5DW0yWCeMeqxX292TsGhmFe@9F/W73PGRMBmWYXBQMJGQsGjE5/nv79@GoFtDGskCs0qUAm7bVz63KWIwYX8FISpdKS2EVsdhfjUMCpD65yJ6txo7lzrt2Q0f51Qls7/w" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>There are a few ways I can think to shave off a few bytes,  but I'll just leave it like this, since this approach isn't anywhere near competitive anyway. Happy to hear about other tweaks, though!</p>
<ul>
<li>-5: Take a boolean array as input, so <code>if'R'==c:</code> can be just <code>if c:</code>
<ul>
<li>-1: Or just change <code>if'R'==c:</code> to <code>if'L'&lt;c:</code></li>
</ul>
</li>
<li>-1: Change the lettering scheme from <code>WGROBY</code> to <code>ABCDEF</code> so <code>'WG'==u+f</code> can be <code>'AC'&gt;u+f</code></li>
</ul>
</div>
<div id="pu3" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>118</s> <s>116</s> <s>107</s> 105 bytes</h1>

<p>-2 bytes thanks to <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">ceilingcat</a></p>



<pre class="lang-c prettyprint-override"><code>f(char*s){char*p,n[]="@ABCDEFG",y;for(;*s;s++)for(p=n;*p;*p++^=*s^82?y%2+1:4-(y&amp;2))y=*p/2^*p;y=n[2]==66;}
</code></pre>

<p><a href="https://tio.run/##XVBda4MwFH2uvyIEHElUxmSUsRD23b3kKfStVhCLVthSMXYQir/dxbTW2JOPe7n33HtPkkdlnvd9gfJ91hCFT9bWodxsGXx9e//4/Fp9w1DT4tAgShRVQYAHv2aSktrsIEgZUelT/KL9OHh4foyQvosx1ozU93FqOJrJTbxlbLmkXf93qHagtOOAmeedvEXdVLItEPR3wFeJhCEokMIhUJh6neeZJPjNKonO5GOrEFw3x3avExkZQENblAgKg9EfLTe45vmwJjbnw7kyLwGn21AspmrusMWYnkUvATvoFpYzyk/kKvtRt/qn5s6YSZ@jZC7L4XAxUzgJE1aZ8xXnB9hriHb9Pw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<p>Suppose we gave the cube the following coordinates:</p>

<pre class="lang-c prettyprint-override"><code>            (1,1,1)       (1,1,0)
          G +--------------+ C
           /|             /|
          / |            / |
         /  |    (0,1,0)/  |
(0,1,1) +--------------+ D |
      H |   |          |   |
        |   |          |   |
        | F +----------|---+ (1,0,0)
        |  /(1,0,1)    |  / B           x
        | /            | /           y / 
        |/             |/            |/  
      E +--------------+ A      z ---*   
        (0,0,1)       (0,0,0)
</code></pre>

<p>If we start on corner D, then moving to C or H can be thought of as rotating the cube around us instead. Moving right would mean rotating counter-clockwise around the Z axis, and moving left would mean rotating clockwise around the X axis. These are the only two rotations we need to care about. Since each rotation is exactly 90 degrees, we can imagine the corners "sliding" along the edges. For moving right, this means A -> B, B -> C, C -> D, D -> A with the other side doing E -> F etc. For moving left, we instead get A -> E, E -> H etc.</p>

<p>Since each corner only slides along an edge, that means only one of the dimensions of each point changes for each rotation. When B moves to C, only its y component changes, and when H moves to D, only its z component changes, and so on. Furthermore, since the coordinates are restricted to 0 and 1, we can think of each point as a binary number, with the appropriate bit flipped upon movement.</p>

<p>We can see that for a movement to the right, A and C flip their x's, while D and B flip their y's. If we change perspective to look on that side of the cube head on, and ignore the z component (which does not change for this rotation anyway) we get:</p>

<pre class="lang-c prettyprint-override"><code>D (0,1)         C (1,1)
 +-------------+
 |             |
 |             |
 |             |
 |             |
 |             |
 |             |
 +-------------+
A (0,0)         B (1,0)
</code></pre>

<p>A pattern emerges: For the points that flip their x, x == y, while the opposite is true for the points flipping their y's. This holds for the other type of rotation, but with z instead of x.</p>

<p>In other words:</p>

<pre class="lang-c prettyprint-override"><code>Right
    if (x == y) x = !x
    if (x != y) y = !y

Left
    if (z == y) z = !z
    if (z != y) y = !y
</code></pre>

<p>Now we can easily go through all the rotations, and at the end see if the final D matches our initial D.</p>

<p>Storing each point as a single number is a given, but in C, assigning a char array is that much more compact than an int array. We take care to choose characters whose lower three bits match 000..111, making it possible to just ignore the rest of the bits. Flipping the coordinates is simply a matter of XOR'ing with the appropriate bitmask.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/TryItOnline/brainfuck" rel="nofollow noreferrer">brainfuck</a>, 119 bytes, 137 bytes</h1>

<p>Uses the fact that the rotation group of the cube is isomorphic to <span class="math-container">\$S_4\$</span>.  Brainfuck has no functions at all, named or otherwise, so this is a full program that takes input through STDIN and outputs to STDOUT.  (If you insist on a variable, pretend the value of the cell the program ends on is a variable.)</p>

<h3>Cube, 119 bytes</h3>

<pre><code>++++&gt;+++&gt;++&gt;+&gt;,[+++[-&gt;+++&lt;]&lt;&lt;&lt;&lt;[-&gt;&gt;&gt;&gt;+&lt;&lt;&lt;&lt;]&gt;[&gt;]&lt;+[[-]&lt;[-&gt;+&lt;]&lt;&lt;&lt;[-&gt;&gt;&gt;+&lt;&lt;&lt;]&gt;[&gt;]],]&lt;[[&lt;]&gt;[-&gt;]&lt;[&gt;&gt;]&lt;]&lt;[&gt;&gt;-&lt;]-[-----&gt;+&lt;]&gt;--.
</code></pre>

<p><a href="https://tio.run/##NYtRCoAwDEMP1NUTjJ5gX/sN/VBBEMEPwfPXdMNA2keTbs963se7XxFC2bSJFRCheaheKTIliW4wrwKo53kWRi5/6oURkpVVGMdYWl2hqXwz1SWi99bSHw" rel="nofollow noreferrer" title="brainfuck – Try It Online">Try it online!</a></p>

<pre><code>++++&gt;+++&gt;++&gt;+    Initialize tape as 4 3 2 1

&gt;,[              For each input byte:

  +++[-&gt;+++&lt;]       Add 3 and multiply by 3; if input is R, this will be 255

  &lt;&lt;&lt;&lt;[-&gt;&gt;&gt;&gt;+&lt;&lt;&lt;&lt;]  Move first number to end (BCDA)

  &gt;[&gt;]&lt;+[           If input wasn't R:

    [-]                Zero input cell (which is now negative 18)

    &lt;[-&gt;+&lt;]            Move previously moved number one slot further (BCD_A)

    &lt;&lt;&lt;[-&gt;&gt;&gt;+&lt;&lt;&lt;]      Move first number into vacated slot (CDBA)

  &gt;[&gt;]]

,]

&lt;[[&lt;]&gt;[-&gt;]&lt;[&gt;&gt;]&lt;]     Determine whether tape is still 4 3 2 1

&lt;[&gt;&gt;-&lt;]               If not: subtract 1 from output cell

-[-----&gt;+&lt;]&gt;--.       Create "1" in output cell and output
</code></pre>

<h3>Dodecahedron, 137 bytes</h3>

<pre><code>+++++&gt;++++&gt;+++&gt;++&gt;+&gt;,[+++[-&gt;+++&lt;]&lt;&lt;&lt;&lt;&lt;[&gt;&gt;&gt;&gt;&gt;+[&lt;]&gt;-]&gt;[&gt;]&lt;+[[-]&lt;&lt;[[-&gt;&gt;+&lt;&lt;]&lt;&lt;]&gt;[&gt;&gt;&gt;&gt;&gt;&gt;+[&lt;]&lt;-]&gt;&gt;[&gt;]],]&lt;[[&lt;]&gt;[-&gt;]&lt;[&gt;&gt;]&lt;]&lt;[&gt;&gt;-&lt;]-[-----&gt;+&lt;]&gt;--.
</code></pre>

<p><a href="https://tio.run/##PYxBCoBQCEQP9L@dQDzBX7kVFxUEEbQIOr/NBDWKyvh0ueb93O71qGqUfcWY1gNjCA1NpcKoFpomaWGpLUKwQ4WvxOj/mAIjlz3BcCc4ApD6NtGUEArXeCpTlY8x3H0wvukB" rel="nofollow noreferrer" title="brainfuck – Try It Online">Try it online!</a></p>

<p>The only differences between the two programs are the setup and permutations. The left permutation used here is <code>DCAEB</code>, which seemed to be the golfiest conjugate available.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 57 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda l:reduce(lambda n,x:n%4*64+n/4*16**x%63,l,27)&lt;28
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/r/P802JzE3KSVRIceqKDWlNDlVA8rP06mwylM10TIz0c7TN9EyNNPSqlA1M9bJ0TEy17QxsvhfnpGZk6pgaFVQlJlXopCmkZlXUFqioan5P9pQRwGKYrmigchARwGKgBxDMAtBQoQMYUoQbIhGLHJwHXAJqDTcdANkQxCuQVOOqRSrHJqDSUMg@6FuQDgF6jNk52JxviE8AAxQdMMDwQAtJNFMwepvFG4sAA" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>This uses the permutation representation</p>

<pre class="lang-python prettyprint-override"><code>0: abcd -&gt; dabc
1: abcd -&gt; dcab
</code></pre>

<p>where left and right (0 and 1) correspond to length-4 cycles on 4 elements. We iterate over the input applying the indicated permutation, and check if the outcome equals the initial value.</p>

<p>We start <code>a,b,c,d</code> as the four-element list <code>0,1,2,3</code>. We compact them into a single base-4 number <code>n=abcd</code>, with initial value <code>n=27</code> corresponding to <code>0123</code> in base 4. We instantiate each the permutation arithmetically on <code>n</code>.</p>

<p>Since both results start with <code>d</code>, we can do <code>n%4</code> to extract <code>d</code>, then <code>n%4*64</code> to move it into the right position <code>d___</code>. The other digits are <code>abc</code>, extracted as <code>n/4</code>. We need to insert them into the lower three place values. </p>

<p>For direction <code>x=0</code>, we insert <code>abc</code> as is, and for <code>x=1</code>, we rotate them as <code>cab</code>. The rotation can be achieved as <code>*16%63</code>, which takes <code>abc</code> to <code>abc00</code> to <code>cab</code>. (The <code>%63</code> would go wrong on <code>a==b==c==3</code>, but these value aren't possible.) Since just doing <code>%63</code> is a no-op, the direction-dependent expression <code>*16**x%63</code> gives <code>abc</code> or <code>cab</code> as required.</p>

<hr>

<h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 55 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda l:reduce(lambda n,x:n^(n*8%63|7*8**x),l,10)&lt;11
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/r/P802JzE3KSVRIceqKDWlNDlVA8rP06mwyovTyNOyUDUzrjHXstDSqtDUydExNNC0MTT8X56RmZOqYGhVUJSZV6KQppGZV1BaoqGp@T/aUEcBimK5ooHIQEcBioAcQzALQUKEDGFKEGyIRixycB1wCag03HQDZEMQrkFTjqkUqxyag0lDIPuhbkA4BeozZOdicb4hPAAMUHTDA8EALSTRTMHqbxRuLAA" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a>, <strike>71</strike> 65 bytes</h1>



<pre class="lang-bash prettyprint-override"><code>f()(a=1234;for i;{ a=`tr 1-4 4$[$i?123:312]&lt;&lt;&lt;$a`;};((a==1234));)
</code></pre>

<p><a href="https://tio.run/##hVDLDoMgELzzFZuGAxyagHoqGnvpF@itaSK2Gk1MTHycjN9OrVSBeigbyLI7s8yQy75SqiSUyIh7fiDKtoNaTCCjbOiAnwMI8B3X8dK8@Nx7hGGIZSZmQRbGSqFUUJXekpRQmBAsqwR8FVA8qxZwLNCM0JqfkqodmxfkBTAgQzcW9ITQhwlch77ok@nY@mzbhsDWAjco5pbt0d9p2xMbirkoC/cLcMtGz584WudAStn0lvddgSVlN2TrPcg3MLvHbfvM/JzLdx3vmXoD" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a></p>

<p>Like many previous answers, uses a representation of the group of rotations of the cube generated by 1234->4123 and 1234->4312. Uses numbers instead of letters so that I can use a ternary operator with an arithmetic expansion. Expects its input as 0's and 1's separated by spaces, and outputs via exit code.</p>

<p>6 bytes saved thanks to @manatwork's comment!</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog)</a>, 21 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>f←{x≡(↓∪⊢∘⌽)/⍵,x←⊂⍳4}
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///P@1R24TqikedCzUetU1@1LHqUdeiRx0zHvXs1dR/1LtVpwIo/air6VHvZpPa//8f9U0F8tWdUnPyyxVKMjKLFXIy81J1FFLLUosqgfy8dIXijPzSnBSFpFSFRAVDPXUuqJZD66kP1bnSFIwgkCvtUe8aINcQAsEShjAMVWYI5hlB5Q1RxeBGQU0AGQmXN0SSR1KBIosqhrCdAISFDzygiA1bAzqELcTTMK9DAg0eLKhBBJWFixrBg9UQERFIelADE84CAA" rel="nofollow noreferrer" title="APL (Dyalog) – Try It Online">Try it online!</a> (Using the testing environment from Erik the Outgolfer's <a href="https://codegolf.stackexchange.com/a/157831/71256">answer</a>)</p>

<p>I take left and right as <code>1</code> and <code>2</code>. This uses the following permutations of <code>abcd</code>:</p>

<pre class="lang-apl prettyprint-override"><code>1 : bcda
2 : cdba
</code></pre>

<p>I apply the permutations corresponding to <code>1</code> and <code>2</code> to <code>⍳4 : 1 2 3 4</code>, and check if it is unchanged</p>
</div>
<div id="pu8" class="pu"><h1>Mathematica</h1>

<p>Inspired by Ilmari Karonen's solution. The rotational symmetry group of a cube is isomorphic to S<sub>4</sub>. </p>

<h2>Cube, 51 bytes</h2>

<pre><code>Fold[Part,r=Range@4,{{2,3,4,1},{3,4,2,1}}[[#]]]==r&amp;
</code></pre>

<p>Takes a list of <code>1</code>s and <code>-1</code>s as input.</p>

<p><a href="https://tio.run/##y00syUjNTSzJTE78n6xgq/DfLT8nJTogsahEp8g2KDEvPdXBRKe62kjHWMdEx7BWpxpEGwFZtdHRyrGxsba2RWr/A4oy80qik6OrDXUU4EgXDWNj1sbG/gcA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>

<h2>Dodecahedron, 55 bytes</h2>

<pre><code>Fold[Part,r=Range@5,{{2,3,4,5,1},{3,5,4,2,1}}[[#]]]==r&amp;
</code></pre>

<p>Takes a list of <code>1</code>s and <code>-1</code>s as input.</p>

<p><a href="https://tio.run/##y00syUjNTSzJTE78n6Jgq/DfLT8nJTogsahEp8g2KDEvPdXBVKe62kjHWMdEx1THsFan2hhIm@gYAdm10dHKsbGxtrZFav8DijLzSqJToqsNdRR0kTAc6WJQuJXUxsb@BwA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 22 bytes (<a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">Adám's SBCS</a>)</h1>



<pre class="lang-apl prettyprint-override"><code>f←{x∊(-@3∘⌽⌽)/⍵,x←⊂⍳3}
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///P@1R24TqikcdXRq6DsaPOmY86tkLRJr6j3q36lQA5R51NT3q3Wxc@///o76pQL66U2pOfrlCSUZmsUJOZl6qjkJqWWpRJZCfl65QnJFfmpOikJSqkKhgqKfOBdVyaD31oTpXmoIhBHKlPepdA@QaQCBYwgCGocoMwDxDqLwBqhjcKKgJICPh8gZI8kgqUGRRxRC2E4Cw8IEHFLFha0CHsIV4GuZ1SKDBgwU1iKCycFFDeLAaICICSQ9qYMJZAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p><a href="https://codegolf.stackexchange.com/users/71256/h-pwiz">H.PWiz</a> suggested that reversing the steps doesn't make a difference, and that resulted in -2 bytes.</p>

<p>Well, this is embarrassing, since it was intended to be way shorter than GolfScript. <a href="https://chat.stackexchange.com/transcript/message/43331784#43331784">At least I tried to.</a></p>

<p>The function is named <code>f</code>, and, in the test cases, <code>1</code> represents a left turn (boolean true) and <code>0</code> represents a right turn (boolean false). <code>⍬</code> represents the empty list.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 53 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>f=(&lt;28).foldl(\n x-&gt;mod n 4*64+mod(div n 4*16^x)63)27
</code></pre>

<p><a href="https://tio.run/##XY1JDsIwDEX3PoV3JCAqKFVhAZzAK68RUkRbUZGmQMtw@@IMK@wket/Dz9UMt9raaWoOap/vdNb0trLq5PC7PHZ9hQ6LeVksBFXVvoNcl@evLjc6304PnPEMD7gGIfK0AuhM64RaN9ZPcxlRvZxtXT1ghp25oxqu/Ue4SfqhBcKAnlgCgCSAyScwE/kLlEgq7AcYvKagYyHKRGH9P0DSH4a4nky8JI5GQOHf0EnO4YEf" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>Same logic as my <a href="https://codegolf.stackexchange.com/a/157848/20260">Python answer</a>, even thought <code>mod</code> and <code>div</code> are longer to write.</p>

<hr>

<p><strong><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 58 bytes</strong></p>



<pre class="lang-hs prettyprint-override"><code>r=[1..3]
f=(==r).foldl(\[x,y,z]-&gt;(!!)[[x,-z,y],[-z,y,x]])r
</code></pre>

<p><a href="https://tio.run/##XY3PDsIgDMbvfQo8CQlbNJ7xCXrqFTkQ3eIiots0br78LIyTLX9@X2k/rn68NSEsy2Dsvq4PDlojjRlU3T7CJciTnfSsv646ys1GWVbVV89O23TpyTk1LL3Y0lYYsQcmTLQDuPsuMnXx1Qz@/BLyHUMXm1HU4u6fQo7Xx4e5LbpXDLlBLcQBgBxAmBKIENMGLMQVSg0ESWPWa2GVhfL4fwBnWgTreDFJEmk1Asz/5pfinA/4AQ" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 14 bytes</h1>

<pre><code>3RðW;ṙN1¦ṚƊ/⁼⁸
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/9846PCGcOuHO2f6GR5a9nDnrGNd@o8a9zxq3PH///9oQx0FAx0FQyRkAEMo3FgA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p><code>1</code> = left turn, <code>0</code> = right turn. Based on my Dyalog solution.</p>

<p>Unfortunately, Jelly doesn't have named functions. If I can't use an implicit input and need to assume it's in a variable, this same-length version will do:</p>

<pre><code>3RµW;®ṙN1¦ṚƊ/⁼
</code></pre>

<p>It assumes the input is in the register (©/®).</p>
</div>
<div id="pu12" class="pu"><h1>Haskell, <strike>104</strike> <strike>103</strike> <s>99</s> <s>97</s> 96 / <s>67</s> 64 chars</h1>
<p><strike>I feel the equivalent of right/left would be a datatype Direction like so:</p>
<pre><code>Direction = R | L
</code></pre>
<p>so I assumed in my answer that they were available.
</strike><br/>
<b>edit:</b> actually realized that booleans would lead to shorter code.
True represents a left turn, and False represents a right turn (although, technically, the code would work the same if it was flipped; it's symmetric)</p>
<p>96 characters:</p>
<pre><code>m[p,l,r]b|b=[p%l,7-r-l,r]|0&lt;1=[p%r,l,7-r-l]
p%x|odd$div p x=p-x|0&lt;1=p+x
g l=foldl m[0..2]l&lt;[0,2]
</code></pre>
<p>g is a function that given a list of Direction would return weather of not the ant got back to its place.</p>
<p><b>explanation of representation of position:</b>
the position of the ant is coded as a three tuple of integers.
the first integer represents the vertex that the ant is heading to.
the first bit represents if the vertex is at the up/down half, the second is the left/right half, and the third is the back/front half. this is done so that moving from a vertex to a neighbor vertex can be done by flipping one bit.</p>
<p>the second integer is the amount that the ant's vertex would change if it would go left. for example, if the ant was at vertex 3, and the second integer was 4, than after turning left the vertex would be 7. note this would always be a power of 2, because exactly one bit is flipped by moving one vertex.</p>
<p>the third integer is the same, but for going right; i know this is can be calculated by the first two, but i don't know how to. if you got an idea, please tell me.</p>
<p>something to note is that when turning left, the third integer would stay the same, and the second would become the one between 1 2 and 4 that wasn't either the second integer or the third, which happens to be the same as 7 - second integer - third integer.</p>
<p>i chose this way of representing position because (as was just stated in the previous paragraph) it was trivial to compute the next position.</p>
<p><b>explanation of functions:</b></p>
<p>the (%) function is the function that takes the current vertex and the amount to change it, and changes it. it gets to the bit that is going to change and flips it (in a very numeric way).</p>
<p>the m function is a function that takes the position of the ant, and the direction, and returns the new position by using the note we noted earlier.</p>
<p>then the m function is combined using foldl (which is sort of like <code>reduce</code> in javascript, but a bit more expressive) to create the function g, the answer to this question.</p>
<hr />
<h1>Haskell, 64 characters</h1>
<p>inspired by @alphaalpha's answer, here is it's version ported to haskell:</p>
<pre><code>m[a,b,c,d]p|p=[b,c,d,a]|0&lt;1=[b,d,a,c]
g l=foldl m[0..3]l&lt;[0,1,3]
</code></pre>
<br>
<hr />
<p><b>edit:</b> <strike>I now feel incredibly stupid because of lmari Karonen's answer. maybe i'll port his answer to haskell.</strike>
<b> another edit:</b> not feeling as stupid as his answer <strike>is</strike> was wrong
<br><b>edit:</b> switched from actually using tuples to using lists as their <code>Ord</code> instance and the <code>[ ... ]</code> syntactic sugar makes it shorter</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/marbelous-lang/marbelous.py" rel="nofollow noreferrer">Marbelous</a> 188</h1>

<p>Shameless theft of <a href="https://codegolf.stackexchange.com/users/3191/ilmari-karonen">Ilmari Karonen</a>'s algorithm for the purpose of showing off a new language.</p>

<p>This script expects a string of 0x00 for left and 0x01 for right on stdin, followed by a 0x0A (newline). It outputs "0" for a failed case and "1" for a success.</p>

<pre><code>......@5@3FF
@0@1@2\\]]@5
010203@4=A@4
&amp;0&amp;0&amp;0&amp;0/\
MVMVMVMV..
@0@1@2@3..!!
:MV
}2}2}1}0}1}0}3
&amp;0&amp;1&amp;0&amp;1~~~~&lt;A@P
{0{1{1{0&amp;1&amp;0=0&amp;1
}0}1}2@P{2{2&amp;030
=1=2=3&amp;2FF}3..//
&amp;2&amp;2&amp;231&amp;2{3
\/\/\/&amp;2!!..//
</code></pre>

<p>example run:</p>

<pre><code># echo -e "\x0\x0\x0\x1\x0\x0\x1\x1\x0\x1\x0\x1\x1\x1\x1\x1\x1\x1\x1\x1\x1\x1\x1\x1\x1\x1\x1\x1" | marbelous.py ant-on-a-cube.mbl
1
</code></pre>
</div>
<div id="pu14" class="pu"><h1>GolfScript, 24 chars (19 for function body only)</h1>

<p>Math FTW!</p>

<pre class="lang-golfscript prettyprint-override"><code>{3,.@{[+~@\{@}*~]}/=}:f;
</code></pre>

<p><a href="http://golfscript.apphb.com/?c=IyBmdW5jdGlvbiBkZWZpbml0aW9uOgp7MywuQHtbK35AXHtAfSp%2BXX0vPX06ZjsKCiMgdGVzdCBjYXNlcyAodHJ1ZSkKIjEgMSAxIDEKCjAgMCAwIDAKMSAwIDEgMCAxIDAKMSAxIDAgMCAxIDEgMCAwCjAgMSAxIDAgMCAxIDEgMAoxIDEgMSAwIDAgMCAwIDEKMSAwIDAgMSAwIDAKMSAxIDEgMSAwIDAgMCAwIDEgMCAwIDEgMCAwCjAgMCAwIDEgMCAwIDEgMSAwIDEgMCAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEiCm4ve1t%2BXWZ9JXAKCiN0ZXN0IGNhc2VzIChmYWxzZSkKIjEKMSAxCjEgMSAxCjAgMQoxIDAgMCAwIDEKMSAwIDAgMSAxCjAgMSAwIDEKMSAxIDEgMSAwCjAgMCAxIDAgMSAwIDAgMQoxIDAgMSAxIDEgMSAwIDAgMCAxIDEgMCAwIDAKMCAxIDEgMSIKbi97W35dZn0lcA%3D%3D" rel="nofollow noreferrer">Test this solution online.</a></p>

<p>This function takes as input a binary array (0 for left, 1 for right) and returns 1 for true and 0 for false.</p>

<p>Conceptually, it works by rotating the <em>cube</em> so that the ant always maintains the same position and orientation, and checking whether the cube finally ends up in the same orientation as it began in.</p>

<p>In particular, we can represent the left and right turns as two linear maps in three dimensions, where a left turn corresponds to a 90&deg; rotation around the <em>x</em> axis, i.e. the map (<em>x</em>, <em>y</em>, <em>z</em>) &rarr; (<em>x</em>, <em>z</em>, &minus;<em>y</em>), and a right turn corresponds to a 90&deg; rotation around the <em>y</em> axis, i.e. the map (<em>x</em>, <em>y</em>, <em>z</em>) &rarr; (<em>z</em>, <em>y</em>, &minus;<em>x</em>).</p>

<p>At the beginning of the function, we simply set up a three-element vector containing the distinct positive values (1, 2, 3), apply the sequence of rotation maps to it, and check whether the resulting vector equals the initial one.</p>

<p>(In fact, to save a few chars, I actually transform the coordinates so that the initial vector is (0, 1, 2) and the maps are (<em>x</em>, <em>y</em>, <em>z</em>) &rarr; (<em>x</em>, <em>z</em>, &minus;1&minus;<em>y</em>) and (<em>x</em>, <em>y</em>, <em>z</em>) &rarr; (<em>z</em>, <em>y</em>, &minus;1&minus;<em>x</em>), but the end result is the same.)</p>

<p>Ps. Thanks to <a href="https://codegolf.stackexchange.com/users/20370/proud-haskeller">proud haskeller</a> for spotting the bug in the original version of this solution.</p>

<hr>

<h1>Perl, 58 chars</h1>

<p>As requested in the comments, here's the same solution ported to Perl.  (This version actually uses the untransformed coordinates, since the transformation saves no chars in Perl.)</p>

<pre class="lang-perl prettyprint-override"><code>sub f{@a=@b=1..3;@a[$_,2]=($a[2],-$a[$_])for@_;"@a"eq"@b"}
</code></pre>

<p><a href="http://codepad.org/RuWBoviC" rel="nofollow noreferrer">Test this solution online.</a></p>

<hr>

<h1>Bonus: Ant on a Dodecahedron (GolfScript, 26 chars)</h1>

<pre><code>{5,.@{{2*2%[~\]}*(+}/=}:f;
</code></pre>

<p><a href="http://golfscript.apphb.com/?c=IyBmdW5jdGlvbiBkZWZpbml0aW9uOgp7NSwuQHt7MioyJVt%2BXF19KigrfS89fTpmOwoKIyB0ZXN0IGNhc2VzICh0cnVlKQoiCjEgMSAxIDEgMQowIDAgMCAwIDAKMSAwIDAgMCAwIDEgMSAwIDAgMCAwIDEKMSAwIDEgMCAxIDAgMSAwIDEgMAoxIDAgMCAwIDEgMCAwIDAKMSAwIDAgMCAxIDEgMSAwIDEgMCAxIDAgMCAwIDEgMSAxIDAgMSAwIgpuL3tbfl1mfSVwCgojdGVzdCBjYXNlcyAoZmFsc2UpCiIxCjEgMQoxIDEgMQoxIDEgMSAxCjAgMSAxIDEgMQoxIDAgMCAwIDAgMQoxIDAgMCAwIDEgMCAxIDEgMSAwIgpuL3tbfl1mfSVwCg%3D%3D" rel="nofollow noreferrer">Test this solution online.</a></p>

<p>Like the ant-on-a-cube function above, this function takes as input a binary array (0 for left, 1 for right) and returns 1 if the ant ends up at the same position and orientation as it started in, or 0 otherwise.</p>

<p>This solution uses a slightly more abstract representation than the cube solution above.  Specifically, it makes use of the fact that the <a href="//en.wikipedia.org/wiki/Icosahedral_symmetry" rel="nofollow noreferrer">rotational symmetry group of the dodecahedron</a> is isomorphic to the <a href="//en.wikipedia.org/wiki/Alternating_group" rel="nofollow noreferrer">alternating group</a> A<sub>5</sub>, i.e. the group of even permutations of five elements.  Thus, each possible rotation of the dodecahedron (that maps edges to edges and vertices to vertices) can be uniquely represented as a <a href="//en.wikipedia.org/wiki/Permutation" rel="nofollow noreferrer">permutation</a> of a five-element array, with consecutive rotations corresponding to applying the corresponding permutations in sequence.</p>

<p>Thus, all we need to do is find two permutations <em>L</em> and <em>R</em> that can represent the left and right rotations.  Specifically, these permutations need to be 5-cycles (so that applying them five times returns to the original state), they must not be powers of each other (i.e. <em>R</em> &ne; <em>L</em><sup><em>n</em></sup> for any <em>n</em>), and they need to satisfy the relation (<em>LR</em>)<sup>5</sup> = (1), where (1) denotes the identity permutation.  (In effect, this criterion states that the path <code>LRLRLRLRLR</code> must return to the original position.)</p>

<p>Fixing the <em>L</em> permutation to be a simple barrel shift to the left, i.e. mapping (<em>a</em>, <em>b</em>, <em>c</em>, <em>d</em>, <em>e</em>) &rarr; (<em>b</em>, <em>c</em>, <em>d</em>, <em>e</em>, <em>a</em>), since it can be implemented in GolfScript in just two chars (<code>(+</code>), we find that there are five possible choices for the <em>R</em> permutation.  Out of those, I chose the mapping (<em>a</em>, <em>b</em>, <em>c</em>, <em>d</em>, <em>e</em>) &rarr; (<em>c</em>, <em>e</em>, <em>d</em>, <em>b</em>, <em>a</em>), since it also has a relatively compact GolfScript implementation.  (In fact, I implement it by first interleaving the elements with <code>2*2%</code> to obtain (<em>a</em>, <em>c</em>, <em>e</em>, <em>b</em>, <em>d</em>), then swapping the last two elements with <code>[~\]</code>, and finally applying the <em>L</em> permutation unconditionally to move <em>a</em> to the end.)</p>

<p>The online demo link above includes some test cases of valid paths on a Dodecahedron that return to the origin, such as:</p>

<pre><code>           # empty path
1 1 1 1 1  # clockwise loop
0 0 0 0 0  # counterclockwise loop
1 0 0 0 0 1 1 0 0 0 0 1  # figure of 8
1 0 1 0 1 0 1 0 1 0      # grand circle
1 0 0 0 1 0 0 0          # loop around two faces 
1 0 0 0 1 1 1 0 1 0 1 0 0 0 1 1 1 0 1 0  # Hamilton cycle
</code></pre>
</div>
<div id="pu15" class="pu"><h1>Python, 68</h1>

<p>Takes a list of 1 and -1.  Based on 3D rotations: checks if the point (3,2,1) ends up at the same position after applying a series of rotations.  There are two possible rotations, corresponding to 1 and -1.  Each one is done by permuting two coordinates and changing the sign of one of them.  The exact coordinates to change and which sign to permute is not important.</p>

<pre class="lang-python prettyprint-override"><code>def f(l):
 p=[3,2,1]
 for d in l:p[d],p[0]=-p[0],p[d]
 return[3,2]&lt;p
</code></pre>

<p>EDIT: this is actually mostly the same solution as "Perl, 58".</p>
</div>
<div id="pu16" class="pu"><h1>Perl - 120, 214</h1>

<p>Takes an array (list) of booleans.</p>

<p>Cube (120):</p>

<pre><code>sub e{$a=$b=0;for$c(@_){$_=(13,62,53,40,57,26,17,'04')[$b];$d=s/$a/($b-1)%8/e;($a,$b)=($b,substr($_,$c^$d,1))}return!$b}
</code></pre>

<p>Dodecahedron (214):</p>

<pre><code>sub e{$a=$b='00';for$c(@_){$_=('01041102090307040500061807160308091502101114121019131714151016081706131819051200'=~/\d{4}/g)[$b];$d=s/$a/sprintf'%02d',($b-1)%20/e;($a,$b)=($b,substr($_,($c^$d)*2,2));}return!($b+0)}
</code></pre>
</div>
<div id="pu17" class="pu"><h2>Python - 110, 150</h2>

<p>Takes in a list of integers with <code>-1</code> for turn left, <code>1</code> for turn right.</p>

<p><strong>Cube, 110:</strong></p>

<pre class="lang-python prettyprint-override"><code>def f(l):
    c,p='07'
    for d in l:a="100134462634671073525275"[int(c)::8];c,p=a[(a.index(p)+d)%3],c
    return'1'&gt;c
</code></pre>

<p><strong>Test:</strong></p>

<pre class="lang-python prettyprint-override"><code>l=map(int,'1 1 1 1'.split())
print f(l)
</code></pre>

<p><strong>Dodecahedron, 150:</strong></p>

<pre class="lang-python prettyprint-override"><code>def f(l):
    c,p='0J'
    for d in l:a="I5H76E8BBA8F76543100JI0J21D3A5C7E9CJI2132H4GF94C6D98AHGBEDGF"[int(c,36)::20];c,p=a[(a.index(p)+d)%3],c
    return'1'&gt;c
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/35978/">35978</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




