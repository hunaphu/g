<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::161614</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>004</td><td>Thunno 2</td><td>230721T065717Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/263113#263113">The Thon</a></td></tr>
<tr d-ix="1"><td>004</td><td>Vyxal</td><td>210915T101035Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/235335#235335">emanresu</a></td></tr>
<tr d-ix="2"><td>026</td><td>x86</td><td>180410T185800Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161833#161833">qwr</a></td></tr>
<tr d-ix="3"><td>074</td><td>BrainFlak</td><td>180409T202210Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161679#161679">MegaTom</a></td></tr>
<tr d-ix="4"><td>054</td><td>Go</td><td>180411T114413Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161872#161872">Kristoff</a></td></tr>
<tr d-ix="5"><td>052</td><td>Java 10</td><td>180409T124514Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161617#161617">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>117</td><td>Whitespace</td><td>180410T133756Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161788#161788">Kevin Cr</a></td></tr>
<tr d-ix="7"><td>037</td><td>Zsh</td><td>180411T060159Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161860#161860">muru</a></td></tr>
<tr d-ix="8"><td>034</td><td>Julia 0.6</td><td>180410T191938Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161834#161834">gggg</a></td></tr>
<tr d-ix="9"><td>007</td><td>Jstx</td><td>180410T160436Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161815#161815">Quantum6</a></td></tr>
<tr d-ix="10"><td>005</td><td>05AB1E</td><td>180409T124820Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161621#161621">Uriel</a></td></tr>
<tr d-ix="11"><td>043</td><td>R</td><td>180409T131043Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161629#161629">Giuseppe</a></td></tr>
<tr d-ix="12"><td>028</td><td>Ruby</td><td>180410T083339Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161756#161756">anna328p</a></td></tr>
<tr d-ix="13"><td>050</td><td>brainfuck</td><td>180410T002511Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161706#161706">Jo King</a></td></tr>
<tr d-ix="14"><td>054</td><td>Excel</td><td>180409T232857Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161704#161704">Sophia L</a></td></tr>
<tr d-ix="15"><td>025</td><td>Pari/GP</td><td>180409T182750Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161668#161668">alephalp</a></td></tr>
<tr d-ix="16"><td>066</td><td>dc</td><td>180409T174700Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161663#161663">brhfl</a></td></tr>
<tr d-ix="17"><td>007</td><td>Stax</td><td>180409T135551Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161640#161640">recursiv</a></td></tr>
<tr d-ix="18"><td>008</td><td>Pyth</td><td>180409T151404Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161650#161650">Digital </a></td></tr>
<tr d-ix="19"><td>036</td><td>Perl 5</td><td>180409T160453Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161658#161658">Xcali</a></td></tr>
<tr d-ix="20"><td>128</td><td>C# Visual C# Compiler</td><td>180409T155754Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161657#161657">Hyarus</a></td></tr>
<tr d-ix="21"><td>006</td><td>MATL</td><td>180409T150007Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161649#161649">Stewie G</a></td></tr>
<tr d-ix="22"><td>008</td><td>CJam</td><td>180409T152657Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161655#161655">Luis Men</a></td></tr>
<tr d-ix="23"><td>010</td><td>APL Dyalog</td><td>180409T124646Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161620#161620">Uriel</a></td></tr>
<tr d-ix="24"><td>028</td><td>Bash + GNU utilities</td><td>180409T151659Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161652#161652">Digital </a></td></tr>
<tr d-ix="25"><td>064</td><td>PHP</td><td>180409T132919Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161633#161633">Francisc</a></td></tr>
<tr d-ix="26"><td>043</td><td>AWK</td><td>180409T145328Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161647#161647">Robert B</a></td></tr>
<tr d-ix="27"><td>032</td><td>Octave with the communication toolbox</td><td>180409T134100Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161636#161636">Stewie G</a></td></tr>
<tr d-ix="28"><td>005</td><td>Husk</td><td>180409T143622Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161645#161645">Fyr</a></td></tr>
<tr d-ix="29"><td>006</td><td>Japt</td><td>180409T142950Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161644#161644">Etheryte</a></td></tr>
<tr d-ix="30"><td>032</td><td>Haskell</td><td>180409T142420Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161643#161643">Angs</a></td></tr>
<tr d-ix="31"><td>036</td><td>Retina 0.8.2</td><td>180409T141116Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161641#161641">Neil</a></td></tr>
<tr d-ix="32"><td>007</td><td>J</td><td>180409T124856Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161622#161622">DELETE_M</a></td></tr>
<tr d-ix="33"><td>027</td><td>C</td><td>180409T133834Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161635#161635">O.O.Bala</a></td></tr>
<tr d-ix="34"><td>007</td><td>Japt</td><td>180409T134439Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161639#161639">Shaggy</a></td></tr>
<tr d-ix="35"><td>019</td><td>Attache</td><td>180409T133351Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161634#161634">Conor O&</a></td></tr>
<tr d-ix="36"><td>023</td><td>JavaScript Node.js</td><td>180409T124532Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161618#161618">l4m2</a></td></tr>
<tr d-ix="37"><td>027</td><td>Ruby</td><td>180409T132426Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161631#161631">Kirill L</a></td></tr>
<tr d-ix="38"><td>054</td><td>Python 2</td><td>180409T130207Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161626#161626">ElPedro</a></td></tr>
<tr d-ix="39"><td>031</td><td>Python 2</td><td>180409T130603Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161628#161628">Dennis</a></td></tr>
<tr d-ix="40"><td>055</td><td>Python 2</td><td>180409T130328Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161627#161627">TFeld</a></td></tr>
<tr d-ix="41"><td>044</td><td>Java JDK 10</td><td>180409T125622Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161625#161625">DELETE_M</a></td></tr>
<tr d-ix="42"><td>014</td><td>Add++</td><td>180409T125329Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161624#161624">caird co</a></td></tr>
<tr d-ix="43"><td>007</td><td>Brachylog</td><td>180409T125114Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161623#161623">Fatalize</a></td></tr>
<tr d-ix="44"><td>004</td><td>Jelly</td><td>180409T124447Z</td><td><a href="https://codegolf.stackexchange.com/questions/161614/up-go-the-bits/161616#161616">Erik the</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 4 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ḃ⁺3b
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVFMSVCOCU4MyVFMiU4MSVCQTNiJmZvb3Rlcj0maW5wdXQ9OSZmbGFncz0=" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>ḃ⁺3b  # Implicit input
ḃ     # Convert to binary
 ⁺    # Increment each
  3b  # Convert from base-3
      # Implicit output
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 4 bytes</h1>
<pre><code>b›3β
</code></pre>
<p><a href="https://lyxal.pythonanywhere.com?flags=&amp;code=b%E2%80%BA3%CE%B2&amp;inputs=9&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>b    # Binary
 ›   # Increment
  3β # From base 3
</code></pre>
</div>
<div id="pu2" class="pu"><h1>x86, 26 bytes</h1>
<p>Rewrite of the recursive formula as a tail-recursive stack function, since  function calls are expensive. Uses __fastcall convention (input in <code>ecx</code>, output in <code>eax</code>).</p>
<p><s>The <code>cmp %esp,%ebp</code>/<code>je sum1</code> branch is done to prevent an extra multiplication of 3 from occurring. It might save bytes to avoid this branch.</s> Reordering the multiplication makes this unnecessary and saves 4 bytes.</p>
<pre><code>.section .text
.globl main
main:
        mov     $10, %ecx

start:
        mov     %esp, %ebp          # Save sp 
build:
        mov     %ecx, %eax
        and     $1, %eax
        inc     %eax                # n%2 + 1
        push    %eax                # push n%2 + 1
        sar     %ecx                # n &gt;&gt;= 1
        jnz     build               # do while (n)
        
        xor     %eax, %eax          # sum = 0
sum0:
        lea     (%eax,%eax,2),%eax  # sum *= 3
        pop     %ebx
        add     %ebx, %eax          # pop stack, add to sum
        cmp     %esp, %ebp
        jnz     sum0                # do while stack non-empty


        ret
</code></pre>
<p>Hexdump:</p>
<pre><code>00000039  89 e5 89 c8 83 e0 01 40  50 d1 f9 75 f5 31 c0 8d  |.......@P..u.1..|
00000049  04 40 5b 01 d8 39 e5 75  f6 c3                    |.@[..9.u..|
</code></pre>
<hr />
<p>Assembly-friendly python:</p>
<pre><code>stack = []
while n:
    stack.append(n%2 + 1)
    n //= 2

while stack:
    s *= 3
    s += stack.pop()
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DJMcMayhem/Brain-Flak" rel="nofollow noreferrer">Brain-Flak</a>, 74 bytes</h1>
<pre><code>({&lt;&gt;(())&lt;&gt;({&lt;({}[()])&gt;&lt;&gt;([{}]())&lt;&gt;})}(&lt;&gt;)){{}((({})()){}{}[{}])([][()])}{}
</code></pre>
<p><a href="https://tio.run/##HYsxCoBAEAO/kxQWKnbHfeS44iwEUSxsw759DTaBGSb7O85nOu5xZUKlAqRXBYoGdlZTU/TfBwOlklIALmircOmAaP1/mDPnZd0@" rel="nofollow noreferrer" title="Brain-Flak – Try It Online">Try it online!</a></p>
<h2>&quot;Readable&quot; version</h2>
<pre><code>({&lt;&gt;(())&lt;&gt;
  ({
    &lt;({}[()])&gt;
    &lt;&gt;
    ([{}]())
    &lt;&gt;
  })
}
# At this point we have a inverted binary string on the stack
(&lt;&gt;)
)
{
  {}
  (
    (({})()){}{}[{}]
  )
  ([][()])
}{}
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Go, 54 bytes</h1>

<pre><code>func f(n int)(o int){if n&gt;0{o=n%2+1+3*f(n&gt;&gt;1)};return}
</code></pre>

<p>Base solution is the same as the one that everyone else uses.</p>

<p><a href="https://tio.run/##ZY1BCoMwEEX3OUUQCkmF6kyqtZR6hl5BxEhonUiIK/Hs1tZ0k64G3v//TW/XsWmfTd/xoTHEzDBa53miB5@seqKWa0HckJfCfs9sNKc6n@2dDphCqo5boa5BLjfX@cnRss8@NiH5zNimOj3ctn2R0AKk5FnGMcK440uEi9BWEb/uvKxiex48eewPAQLEE1ThCxR5@f9JVfjL4YwFQglsWd8" rel="nofollow noreferrer" title="Go – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1>Java 10, <s>81</s> 52 bytes (Base conversion)</h1>

<pre class="lang-java prettyprint-override"><code>n-&gt;n.toString(n,2).chars().reduce(0,(r,c)-&gt;r*3+c-47)
</code></pre>
<p><a href="https://tio.run/##hY7BTsMwDIbvfQprJ4e2EW2ZxlS2J9h22RFxCGk2srXOlKSbEOqzl7QFDggJKdEv279/fydxFempOveyFs7BVmj6iAA0eWUPQirYDSVAbegIEjeDECtDrws/vB0QrKCndE3cm723mo5ISc64fBPWIeNWVa1UeJ@gTSRL1/auiGX6sGB9GYWAS/taawnOCx/kanQFTaDAKer5RbCJYECDJtwidRsLHDEADsbiiKdXWQn6KSvyIHHMxinA/t151XDTen4JkR4bTlyiZvEsmX1l/PbUP@l/TKb9LC/mG/afa1k85t@2Lur6Tw" rel="nofollow noreferrer">Try it online.</a></p>
<p>-29 bytes thanks to <em>@Holger</em>.</p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{                         // Method with Long as both parameter and return-type
  n.toString(n,2)            //  Convert the input to a Base-2 String
  .chars().reduce(0,(r,c)-&gt;  //  Loop over its digits as bytes
    r*3+c-47)                //  Multiply the current result by 3, and add the digit + 1
                             //  (which is equal to increasing each digit by 1,
                             //  and then converting from Base-3 to Base-10)
</code></pre>
<hr />
<h1>Java 10, <s>171</s> <s>167</s> <s>151</s> <s>150</s> 149 bytes (Sequence)</h1>
<pre class="lang-java prettyprint-override"><code>n-&gt;{int t=31-n.numberOfLeadingZeros(n);return a(t+1)+b(n-(1&lt;&lt;t));};int a(int n){return--n&lt;1?n+2:3*a(n)+1;}int b(int n){return n&lt;1?0:n+3*b(n/=2)+n*2;}
</code></pre>
<p>-16 bytes thanks to <em>@musicman523</em>, changing <code>(int)Math.pow(2,t)</code> to <code>(1&lt;&lt;t)</code>.<br />
-1 byte thanks to <em>@Holger</em>, changing <code>(int)(Math.log(n)/Math.log(2))</code> to <code>31-n.numberOfLeadingZeros(n)</code>.</p>
<p><a href="https://tio.run/##hY9RS8MwEMff@ymOPSWLraZF0KXVZ0Hnw94UH9IuG5nrdaTpREo/e710Q1AEIclxd7//5f47fdTxbv0@VnvdtvCkLfYRgEVv3EZXBpYhnQpQsQcqb40D5IqqA106S0AoYMT4rg@ULzIZY4JdXRr3vHk0em1x@2Jc0zLSOeM7h6CZF5KLkmHMZJ57ztWgglyz8CLvT2AcYy7vUaSLbK5JL6QaAlD@xCBQVwsU2ZxGXhYpFzhP1TCqiDY8dOXeVtB67SkcG7uGmoyylXe02uub5ieTwT3UZAbNx5SwySfApnHTf7aQCmwus5SCEHxqAqw@W2/qpOl8cqCJntUJJhWzXMwuZucRv5n99/A/Oie9TLNr/h90m92kZ2qIhvEL" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{                         // Method with Integer as both parameter and return-type
  int t=31-n.numberOfLeadingZeros(n);
                             //  2_log(n)
  return a(t+1)              //  Return A060816(2_log(n)+1)
         +b(n-(1&lt;&lt;t));}      //   + A005836(n-2^2_log(n))

// A060816: a(n) = 3*a(n-1) + 1; a(0)=1, a(1)=2
int a(int n){return--n&lt;1?n+2:3*a(n)+1;}

// A005836: a(n+1) = 3*a(floor(n/2)) + n - 2*floor(n/2).
int b(int n){return n&lt;1?0:n+3*b(n/=2)+n*2;}
</code></pre>
<p>When we look at the sequence:</p>
<pre class="lang-java prettyprint-override"><code>2,  7,8,  22,23,25,26,  67,68,70,71,76,77,79,80,  202,203,205,206,211,212,214,215,229,230,232,233,238,239,241,242, ...
</code></pre>
<p>We can see multiple subsequences:</p>
<pre class="lang-java prettyprint-override"><code>A053645(n):
0,  0,1,  0,1,2,3,  0,1,2,3,4,5,6,7,  0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,  ...

A060816(A053645(n)):
2,  7,7,  22,22,22,22,  67,67,67,67,67,67,67,67,  202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,  ...

A005836(A053645(n)+1)
0,  0,1,  0,1,3,4,  0,1,3,4,9,10,12,13,  0,1,3,4,9,10,12,13,27,28,30,31,36,37,39,40,  ...
</code></pre>
<p>So the sequence being asked is:</p>
<pre class="lang-java prettyprint-override"><code>A060816(A053645(n)) + A005836(A053645(n)+1)
</code></pre>
<hr />
<p>I suck at finding patterns, so I'm proud of what I found above.. Having said that, <em>@user202729</em> found <a href="https://codegolf.stackexchange.com/a/161625/52210">a better and shorter approach in Java</a> within a few minutes.. :'(</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://web.archive.org/web/20150618184706/http://compsoc.dur.ac.uk/whitespace/tutorial.php" rel="nofollow noreferrer">Whitespace</a>, 117 bytes</h1>
<pre><code>[S S S N
_Push_0][S N
S _Duplicate_0][S N
S _Duplicate_0][T   N
T   T   _Read_STDIN_as_number][T    T   T   _Retrieve][N
S S S N
_Create_Label_OUTER_LOOP][S N
S _Duplicate][S S S T   S N
_Push_2][T  S T T   _Modulo][S S S T    N
_Push_1][T  S S S _Add][S N
T   _Swap][S S S T  S N
_Push_2][T  S T S _Integer_division][S N
S _Duplicate][N
T   S N
_If_0_jump_to_Label_INNER_LOOP][N
S N
S N
_Jump_to_Label_OUTER_LOOP][N
S S N
_Create_Label_INNER_LOOP][S S S T   T   N
_Push_3][T  S S N
_Multiply][T    S S S _Add][S N
T   _Swap][S N
S _Duplicate][N
T   S T N
_If_0_jump_to_Label_PRINT_AND_EXIT][S N
T   _Swap][N
S N
N
_Jump_to_Label_INNER_LOOP][N
S S T   N
_Create_Label_PRINT_AND_EXIT][S N
T   _Swap][T    N
S T _Output_integer_to_STDOUT]
</code></pre>
<p>Letters <code>S</code> (space), <code>T</code> (tab), and <code>N</code> (new-line) added as highlighting only.<br />
<code>[..._some_action]</code> added as explanation only.</p>
<p><a href="https://tio.run/##PYtBCoBADAPPySvyBkXQ54gs6E1Q8Pm16aJtGUI7ffbjbte5bi1CErNzQLj4bSSIEOBEU8W@LSmjVdZ/Xkr71RJgWqF6TiBiGedhegE" rel="nofollow noreferrer">Try it online</a> (with raw spaces, tabs and new-lines only).</p>
<h3>Explanation in pseudo-code:</h3>
<p>I first converted the recursive function <code>int f(int n){return n&lt;1?0:n%2+1+3*f(n/2);}</code> to its iterative form (in pseudo-code):</p>
<pre><code>Integer n = STDIN as integer
Add starting_value 0 to the stack
function OUTER_LOOP:
  while(true){
    Add n%2+1 to the stack
    n = n/2
    if(n == 0):
      Jump to INNER_LOOP
    Else:
      Jump to next iteration OUTER_LOOP

function INNER_LOOP:
  while(true){
    n = 3*n
    n = n + Value at the top of the stack (the ones we calculated with n%2+1)
    Swap top two items
    Check if the top is now 0 (starting value):
      Jump to PRINT_AND_EXIT
    Else:
      Swap top two items back
      Jump to next iteration INNER_LOOP

function PRINT_AND_EXIT:
  Swap top two items back
  Print top to STDOUT as integer
  Exit program with error: Exit not defined
</code></pre>
<p>And I then implemented this iterative approach in the stack-based language Whitespace, using it's default stack.</p>
<h3>Example runs:</h3>
<p><strong>Input: <code>1</code></strong></p>
<pre><code>Command    Explanation                   Stack           Heap    STDIN   STDOUT   STDERR

SSSN       Push 0                        [0]
SNS        Duplicate top (0)             [0,0]
SNS        Duplicate top (0)             [0,0,0]
TNTT       Read STDIN as integer         [0,0]           {0:1}   1
TTT        Retrieve                      [0,1]           {0:1}
NSSSN      Create Label OUTER_LOOP       [0,1]           {0:1}
 SNS       Duplicate top (1)             [0,1,1]         {0:1}
 SSSTSN    Push 2                        [0,1,1,2]       {0:1}
 TSTT      Modulo top two (1%2)          [0,1,1]         {0:1}
 SSSTN     Push 1                        [0,1,1,1]       {0:1}
 TSSS      Add top two (1+1)             [0,1,2]         {0:1}
 SNT       Swap top two                  [0,2,1]         {0:1}
 SSSTSN    Push 2                        [0,2,1,2]       {0:1}
 TSTS      Int-divide top two (1/2)      [0,2,0]         {0:1}
 SNS       Duplicate top (0)             [0,2,0,0]       {0:1}
 NTSN      If 0: Go to Label INNER_LOOP  [0,2,0]         {0:1}
 NSSN      Create Label INNER_LOOP       [0,2,0]         {0:1}
  SSSTTN   Push 3                        [0,2,0,3]       {0:1}
  TSSN     Multiply top two (0*3)        [0,2,0]         {0:1}
  TSSS     Add top two (2+0)             [0,2]           {0:1}
  SNT      Swap top two                  [2,0]           {0:1}
  SNS      Duplicate top (0)             [2,0,0]         {0:1}
  NTSTN    If 0: Jump to Label PRINT     [2,0]           {0:1}
  NSSTN    Create Label PRINT            [2,0]           {0:1}
   SNT     Swap top two                  [0,2]           {0:1}
   TNST    Print top to STDOUT           [0]             {0:1}           2
                                                                                  error
</code></pre>
<p><a href="https://tio.run/##PYtBCoBADAPPySvyBZ8ksqA3QcHn16SLtmUI7fTZj3tc57qNKkl0e0Ck@G0kiBCQxFDNuW3JMSr735fWfrUFhFGomQ1ULS8" rel="nofollow noreferrer">Try it online</a> (with raw spaces, tabs and new-lines only).<br />
Stops with error: Exit not defined.</p>
<p><strong>Input: <code>4</code></strong></p>
<pre><code>Command    Explanation                   Stack           Heap    STDIN   STDOUT   STDERR

SSSN       Push 0                        [0]
SNS        Duplicate top (0)             [0,0]
SNS        Duplicate top (0)             [0,0,0]
TNTT       Read STDIN as integer         [0,0]           {0:4}   4
TTT        Retrieve                      [0,4]           {0:4}
NSSSN      Create Label OUTER_LOOP       [0,4]           {0:4}
 SNS       Duplicate top (4)             [0,4,4]         {0:4}
 SSSTSN    Push 2                        [0,4,4,2]       {0:4}
 TSTT      Modulo top two (4%2)          [0,4,0]         {0:4}
 SSSTN     Push 1                        [0,4,0,1]       {0:4}
 TSSS      Add top two (0+1)             [0,4,1]         {0:4}
 SNT       Swap top two                  [0,1,4]         {0:4}
 SSSTSN    Push 2                        [0,1,4,2]       {0:4}
 TSTS      Int-divide top two (4/2)      [0,1,2]         {0:4}
 SNS       Duplicate top (2)             [0,1,2,2]       {0:4}
 NTSN      If 0: Go to Label INNER_LOOP  [0,1,2]         {0:4}
 NSNSN     Jump to Label OUTER_LOOP      [0,1,2]         {0:4}
 SNS       Duplicate top (2)             [0,1,2,2]       {0:4}
 SSSTSN    Push 2                        [0,1,2,2,2]     {0:4}
 TSTT      Modulo top two (2%2)          [0,1,2,0]       {0:4}
 SSSTN     Push 1                        [0,1,2,0,1]     {0:4}
 TSSS      Add top two (0+1)             [0,1,2,1]       {0:4}
 SNT       Swap top two                  [0,1,1,2]       {0:4}
 SSSTSN    Push 2                        [0,1,1,2,2]     {0:4}
 TSTS      Int-divide top two (2/2)      [0,1,1,1]       {0:4}
 SNS       Duplicate top (1)             [0,1,1,1,1]     {0:4}
 NTSN      If 0: Go to Label INNER_LOOP  [0,1,1,1]       {0:4}
 NSNSN     Jump to Label OUTER_LOOP      [0,1,1,1]       {0:4}
 SNS       Duplicate top (1)             [0,1,1,1,1]     {0:4}
 SSSTSN    Push 2                        [0,1,1,1,1,2]   {0:4}
 TSTT      Modulo top two (1%2)          [0,1,1,1,1]     {0:4}
 SSSTN     Push 1                        [0,1,1,1,1,1]   {0:4}
 TSSS      Add top two (1+1)             [0,1,1,1,2]     {0:4}
 SNT       Swap top two                  [0,1,1,2,1]     {0:4}
 SSSTSN    Push 2                        [0,1,1,2,1,2]   {0:4}
 TSTS      Int-divide top two (1/2)      [0,1,1,2,0]     {0:4}
 SNS       Duplicate top (0)             [0,1,1,2,0,0]   {0:4}
 NTSN      If 0: Go to Label INNER_LOOP  [0,1,1,2,0]     {0:4}
 NSSN      Create Label INNER_LOOP       [0,1,1,2,0]     {0:4}
  SSSTTN   Push 3                        [0,1,1,2,0,3]   {0:4}
  TSSN     Multiply top two (0*3)        [0,1,1,2,0]     {0:4}
  TSSS     Add top two (2+0)             [0,1,1,2]       {0:4}
  SNT      Swap top two                  [0,1,2,1]       {0:4}
  SNS      Duplicate top (1)             [0,1,2,1,1]     {0:4}
  NTSTN    If 0: Jump to Label PRINT     [0,1,2,1]       {0:4}
  SNT      Swap top two                  [0,1,1,2]       {0:4}
  NSNN     Jump to Label INNER_LOOP      [0,1,1,2]       {0:4}
  SSSTTN   Push 3                        [0,1,1,2,3]     {0:4}
  TSSN     Multiply top two (2*3)        [0,1,1,6]       {0:4}
  TSSS     Add top two (1+6)             [0,1,7]         {0:4}
  SNT      Swap top two                  [0,7,1]         {0:4}
  SNS      Duplicate top (1)             [0,7,1,1]       {0:4}
  NTSTN    If 0: Jump to Label PRINT     [0,7,1]         {0:4}
  SNT      Swap top two                  [0,1,7]         {0:4}
  NSNN     Jump to Label INNER_LOOP      [0,1,7]         {0:4}
  SSSTTN   Push 3                        [0,1,7,3]       {0:4}
  TSSN     Multiply top two (7*3)        [0,1,21]        {0:4}
  TSSS     Add top two (1+21)            [0,22]          {0:4}
  SNT      Swap top two                  [22,0]          {0:4}
  SNS      Duplicate top (0)             [22,0,0]        {0:4}
  NTSTN    If 0: Jump to Label PRINT     [22,0]          {0:4}
  NSSTN    Create Label PRINT            [22,0]          {0:4}
   SNT     Swap top two                  [0,22]          {0:4}
   TNST    Print top to STDOUT           [0]             {0:4}           22
                                                                                  error
</code></pre>
<p><a href="https://tio.run/##PYtBCoBADAPPySvyCD8ksqA3QcHn16SLtmUI7fTZj3tc57qNKkl0e0Ck@G0kiBCQxFDNuW3JMSr735fWfrUFhFGomQ1ULS8" rel="nofollow noreferrer">Try it online</a> (with raw spaces, tabs and new-lines only).<br />
Stops with error: Exit not defined.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 37 bytes</h1>



<pre class="lang-sh prettyprint-override"><code>a=3#$[[##2]$1];echo $[a+${a//[01]/1}]
</code></pre>

<p><a href="https://tio.run/##HcnNCgIhEADg@zzFoHML0VEWCqkXEQ@SAwqxQrsQFD27/Rw/vufW5qP1m@BdSsUesQ7cZEdjUFFXEeXaBpr1JzQXVLOcg6aUtPaZOMf/UyoHehVrk@Ns@Z1nHatMBg8LnIAdeAfswxfh6JcP" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></p>

<ul>
<li><code>$[...]</code> is another (deprecated?) form of <code>$(( ))</code></li>
<li><code>[#n]</code> in arithmetic expansion sets the output base but includes the base in output (so you get <code>2#1001</code>), <code>[##n]</code> omits the base in output: <code>1001</code>.</li>
<li><code>n#</code> in arithmetic expansion sets the input base</li>
<li><code>${var//pat/rep}</code> replaces all matches of <code>pat</code> with <code>rep</code>.</li>
</ul>
</div>
<div id="pu8" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.6</a>, 34 bytes</h1>



<pre class="lang-julia prettyprint-override"><code>x-&gt;parse(Int,map(x-&gt;x+1,bin(x)),3)
</code></pre>

<p><a href="https://tio.run/##yyrNyUw0@59mm5Sanpn3v0LXriCxqDhVwzOvRCc3sUADKFChbaiTlJmnUaGpqWOs@T81L4XLoTgjv1whTcNS8z8A" rel="nofollow noreferrer" title="Julia 0.6 – Try It Online">Try it online!</a></p>

<p>Tho it seems like this is the cool way</p>

<h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.6</a>, 25 bytes</h1>



<pre class="lang-julia prettyprint-override"><code>f(n)=n&lt;1?0:n%2+1+3f(n÷2)
</code></pre>

<p><a href="https://tio.run/##yyrNyUw0@/8/TSNP0zbPxtDewCpP1UjbUNsYKHJ4u5Hmf4fijPxyhTQNS83/AA" rel="nofollow noreferrer" title="Julia 0.6 – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/Quantum64/Jstx" rel="nofollow noreferrer">Jstx</a>, 7 <a href="https://quantum64.github.io/Jstx/codepage" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>£?☺å♥£F
</code></pre>

<p><a href="https://quantum64.github.io/Jstx/JstxGWT-1.0.3/JstxGWT.html?code=wqM_4pi6w6XimaXCo0Y%3D&amp;args=OQ%3D%3D" rel="nofollow noreferrer">Try it online!</a></p>

<p>Explanation</p>

<pre><code>£? # Push the first stack value in binary.
☺  # Push literal 1
å  # Push the second stack value with all characters arithmetically shifted by the first stack value.
♥  # Push literal 3
£F # Push the second stack value in base first stack value converted to decimal.
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 5 bytes</h1>

<pre><code>b€&gt;3β
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f8/6VHTGjvjc5v@/zcyAAA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<pre><code>b       binary
 €&gt;     increment each
   3β   base 3
</code></pre>

<hr>

<h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 5 bytes</h1>

<pre><code>2в&gt;3β
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f/f6MImO@Nzm4AMAwA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>55</s> 43 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(n)(n%/%2^(x=0:log2(n))%%2+1)%*%3^x
</code></pre>

<p><a href="https://tio.run/##K/qfpmCj@z@tNC@5JDM/TyNPUyNPVV/VKE6jwtbAKic/3QgopKmqaqRtqKmqpWocV/E/TcPS2MLIVPM/AA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>Uses the standard base conversion trick in R, increments, and then uses a dot product with powers of <code>3</code> to convert back to an integer.</p>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/66252/user2390246">@user2390246</a> for dropping 12 bytes!</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 28 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>f=-&gt;x{x&gt;0?x%2+3*f[x&gt;&gt;1]+1:0}
</code></pre>

<p>black magic, no idea how it works</p>

<p><a href="https://tio.run/##KypNqvz/P81W166iusLOwL5C1UjbWCstusLOzjBW29DKoPZ/QWlJsUJadHpqSbFeSX58Zux/IwMA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/TryItOnline/brainfuck" rel="nofollow noreferrer">brainfuck</a>, 50 bytes</h1>

<pre><code>+&lt;,[[&gt;-]++&gt;[&lt;]&lt;[&gt;+[&lt;]&lt;]&gt;&gt;-]&gt;[&gt;]&lt;-&lt;&lt;[&gt;[-&lt;+++&gt;]&lt;&lt;]&gt;.
</code></pre>

<p><a href="https://tio.run/##SypKzMxLK03O/v9f20YnOtpON1Zb2y7aJtYm2k4bRMXaAYXsou1ibXRtgGLRujbaQAWxNkAJvf//uQA" rel="nofollow noreferrer" title="brainfuck – Try It Online">Try it online!</a></p>

<p>Input and output as code points, and assumes arbitrary size cells otherwise it can't get past n=31.</p>
</div>
<div id="pu14" class="pu"><h1>Excel, 54 bytes</h1>

<pre><code>=DECIMAL(SUBSTITUTE(SUBSTITUTE(BASE(A1,2),1,2),0,1),3)
</code></pre>

<p>A fairly straightforward translation of the problem. Takes input from A1. I tried some cuter things with bit math like</p>

<pre><code>=SUM(IF(ROW(1:31)&lt;LOG(A1,2)+1,POWER(3,ROW(1:31)-1)*(1+MOD(BITRSHIFT(A1, ROW(1:31)-1),2))))
</code></pre>

<p>because nesting SUBSTITUTE always feels wasteful, but couldn't get nearly as short.</p>
</div>
<div id="pu15" class="pu"><h1><a href="http://pari.math.u-bordeaux.fr/" rel="nofollow noreferrer">Pari/GP</a>, 25 bytes</h1>

<pre><code>f(n)=if(n,n%2+1+3*f(n\2))
</code></pre>

<p><a href="https://tio.run/##K0gsytRNL/j/P00jT9M2E0jq5KkaaRtqG2sB2TFGmpr/EwsKcio18hR07RQKijLzSoBMJRBHSQGkR1NHIdpQR8FIR8FUR8FSR8HQAMgBYkMjY5CAsYWRaazmfwA" rel="nofollow noreferrer" title="Pari/GP – Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.gnu.org/software/bc/manual/dc-1.05/html_mono/dc.html" rel="nofollow noreferrer">dc</a>, 66 bytes</h1>

<pre><code>[2~rd0&lt;B]dsBxz1-si[1+z:tz0&lt;T]dsTx0dsj[ljd1+dsj;tr3r^*+ljli&gt;M]dsMxp
</code></pre>

<p><a href="https://tio.run/##JYuxCsMgFEX3fEXnSsGnBJI27eAuhJBN0g6@xfAoQTOIQ3/darIcDvdw0eY@G/HzyAe1YFAxwS04Ayzd98SHuWxz5BhWQysCK/LYvfTvK6OV3EuXruOWDX7bbiQVwycFR@eFdER48s0uYWqAj7YBmuJFVLQVfQXwYzwIQp5BdqJK/gM" rel="nofollow noreferrer" title="dc – Try It Online">Try it online!</a></p>

<p><code>[2~rd0&lt;B]dsBx</code> is a macro that uses <code>dc</code>'s quotient/remainder integer division, <code>~</code> to continuously break divide by two, breaking <em>n</em> down to individual binary bits on the stack. It will always leave one extra zero, so we subtract one from the stack depth and store this total length in <code>i</code> with <code>z1-si</code>. </p>

<p><code>[1+z:tz0&lt;T]dsTx</code> is a macro that adds one to whatever is on the stack, and then pops that value, storing it at index(stack depth) in array <code>t</code>. This basically means that if we started with the binary <code>1101</code>, <code>t</code> now holds <code>2, 1, 2, 2</code>, assuming 1-indexing. <code>0dsj</code> puts a zero on the stack so we don't get a stack empty error when we do our first addition, and it stores a zero in register <code>j</code> as well.</p>

<p><code>[ljd1+dsj;tr3r^*+ljli&gt;M]dsMx</code> is, unfortunately, a lot of counter nonsense. We need register <code>j</code> for two things - pull element <code>(j+1)</code> from array <code>t</code>, and multiply it by <code>3^j</code>. We start macro <code>M</code> by putting <code>j</code> on the stack and duplicating it. We increment the new copy, duplicate it, and store it back into <code>j</code>. With the copy of <code>(j+1)</code> we left behind, we pull from array <code>t</code>. Swap so that our original <code>j</code> is at the top of the stack, do the necessary base-three math with <code>3r^*</code>, add this 'bit' to our total, and then compare <code>j</code> with <code>i</code> to see if we still have more 'bits' to do. At the very end, we <code>p</code>rint.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 7 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>É¥ê4¼⌐○
</code></pre>

<p><a href="https://staxlang.xyz/#p=909d8834aca909&amp;i=9%0A1235&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>

<p>This one is pretty straightforward.  After unpacking, and commenting, the program looks like this.</p>

<pre><code>:B  Convert to bits
{^m Increment each
3|b Base-3 convert
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Pyth, 8</h1>
<pre><code>ihMjQ2 3
</code></pre>
<p>How to eliminate the space and make the <code>Q</code> implicit?</p>
<p><a href="https://pyth.herokuapp.com/?code=ihMjQ2%203&amp;input=9&amp;test_suite=1&amp;test_suite_input=1%0A2%0A5%0A9%0A10%0A20%0A1235%0A93825&amp;debug=0" rel="nofollow noreferrer">Pyth online</a>.</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 36 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>$\+=(1+$_%2)*3**$b++,$_&gt;&gt;=1while$_}{
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/18lRttWw1BbJV7VSFPLWEtLJUlbW0cl3s7O1rA8IzMnVSW@tvr/f0MjY9N/@QUlmfl5xf91fU31DAwN/usWAAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Compiler)</a>, 128 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>using System;using System.Linq;i=&gt;{int z=0;return Convert.ToString(i,2).Reverse().Select(a=&gt;(a-47)*(int)Math.Pow(3,z++)).Sum();}
</code></pre>

<p><a href="https://tio.run/##TZBBS8QwEIXPya@YY@J2w27rolLbi@DJhWIFD@IhxHQ3sE0wSVfc0t8ep1LQEMLM8N6bj6iwVkGlIRh7gPY7RN2X9H8nnoz9LCkNUUajQJ1kCNB4d/Cy70dKlvnZmQ/YS2NZiB7db@8g/SHwkVJYzuNg1b2xMQN8auiqZKp6xBou1ab0Og7ewoOzZ@2jeHHtbw4zWc7Fs8Zh0IyLVp@0ikxWNZPr6xt@xTCA72U8isZ9sSK7rFYcZUPPeDmlkhLSOa@lOi5gYIceARY6AEJQQmYKC9VMJho5r0IZn90EiYI7afHqTdT4GZp1zPI/QM5LmDMmineiKW1TnnbpLm03Kd@kbV5gU9zmux8" rel="nofollow noreferrer" title="C# (Visual C# Compiler) – Try It Online">Try it online!</a></p>

<p>I am counting <code>System</code> because i use <code>Convert</code> and <code>Math</code>.</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>12</s> <s>7</s> 6 bytes</h1>

<pre><code>BQ3_ZA
</code></pre>

<p><a href="https://tio.run/##y00syfn/3ynQOD7K8f9/SwA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>

<p>Saved <strong>5</strong> bytes thanks to Giuseppe and another one thanks to Luis Mendo.</p>

<p>Old 7 byte answer: </p>

<pre><code>YBQc3ZA
</code></pre>

<p><a href="https://tio.run/##y00syfn/P9IpMNk4yvH/f0sA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>

<h3>Explanation:</h3>

<pre><code>YB        % Convert to binary string
  Q       % Increment each element
   c      % Convert ASCII values to characters
    3     % Push 3
     ZA   % Convert from base 3 to decimal.
</code></pre>

<hr>

<p>Old one for 12 bytes:</p>

<pre><code>BQtz:q3w^!Y*
</code></pre>

<p><a href="https://tio.run/##y00syfn/3ymwpMqq0Lg8TjFS6/9/SwA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>

<p>Oh my, that was messy... So is this: `BQ3GBn:q^!Y*.</p>

<h3>Explanation:</h3>

<pre><code>               % Implicit input
B              % Convert to binary vector
 Q             % Increment all numbers
  t            % Duplicate
   z           % Number of element in vector
    :          % Range from 1 to that number
     q         % Decrement to get the range from 0 instead of 1
      3        % Push 3
       w       % Swap order of stack
        ^      % Raise 3 to the power of 0, 1, ...
         !     % Transpose
          Y*   % Matrix multiplication
               % Implicit output
</code></pre>
</div>
<div id="pu22" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, 8 bytes</h1>
<pre><code>ri2b:)3b
</code></pre>
<p><a href="https://tio.run/##S85KzP3/vyjTKMlK0zjp/39LYwsjUwA" rel="nofollow noreferrer" title="CJam – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>ri   e# Read input as an integer
2b   e# Convert to base 2. Gives a list containing 0 and 1
:)   e# Add 1 to each number in that list
3b   e# Convert list from base 3 to decimal. Implicitly display
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog)</a>, 10 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>3⊥1+2⊥⍣¯1⊢
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///P@1R2wTjR11LDbWNgOSj3sWH1hs@6loElFAw5EpTMAJiUyC2VAAShgYgEQMA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<pre><code>    2⊥⍣¯1  binary
  1+       go guess
3⊥         base 3
</code></pre>
</div>
<div id="pu24" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a> + GNU utilities, 28</h1>



<pre class="lang-bash prettyprint-override"><code>dc -e?2op|tr 01 12|dc -e3i?p
</code></pre>

<p>Input read from STDIN.</p>

<p><a href="https://tio.run/##PYsxDoAgEAR7X7GFrQkcIdFY@BEbhTPYeAQo@TsSC6ebSeY8cmiXJBTOxR2ZcT/QIFgs0AqkoMl0MTPZFV4GdNgFwfgvFXvzDhNvJLGWBKX7Vb9k7i02Lw@3Fw" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h2>PHP, <strike>84</strike> 64 Bytes</h2>

<p><a href="https://tio.run/##FcpBCoAgEEDRq7QQcshF0SosOoo0NlIQo5i1ic5utvnw4Ict5HEOpe5im3bPlZOC4RE4rWRx51@a7OYrXE4y1vNNMUmBzZmiiRRoSbLualV4UNkRQPWqa0G/2ckBdP4A" rel="nofollow noreferrer">Try it online!!</a></p>

<p><strong>ORIGINAL Code</strong></p>

<pre><code>function f($n){$b=decbin($n);echo base_convert($b+str_repeat('1',strlen($b)),3,10);}
</code></pre>

<p><a href="https://tio.run/##K8go@G9jXwAk00rzkksy8/MU0jRU8jSrU5Mz8hWSEotT45Pz88pSi0o0ikuKSoo0UlKTkzLzQEp0DA10jAw1dYyBDE3r2v9pGpaa1v8B" rel="nofollow noreferrer">Try it online!!</a></p>

<p><strong>Thanks to Cristoph</strong>, less bytes if ran with php -R</p>

<pre><code>function f($n){echo base_convert(strtr(decbin($n),10,21),3,10);}
</code></pre>

<p><strong>Explanation</strong></p>

<pre><code>function f($n){
$b=decbin($n);                    #Convert the iteger to base 2
echo base_convert(                  #base conversion PHP function
    $b+str_repeat('1',strlen($b)),  #It adds to our base 2 number
    3,                              #a number of the same digits length
    10);                            #with purely '1's
}
</code></pre>
</div>
<div id="pu26" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, 43 bytes</h1>

<pre><code>func n(x){return x&lt;1?0:x%2+1+3*n(int(x/2))}
</code></pre>

<p><a href="https://tio.run/##JYrLCsIwFET39yuyqJBYxMzEpFV8fIuIggh3UVoMiN8eSVydOcO5vl@lPBa9GbXZfab7vExq8hEXf8gr9ujDWu1TZ5u3dO5bOn9S28EVmM3ZUFgxSGwWZF@ZRoFvvxe2QUDA0CpEn2oZRv4dO0YiQX4" rel="nofollow noreferrer" title="AWK – Try It Online">Try it online!</a></p>

<p>I discovered that <code>AWK</code> has <code>rshift</code> and <code>lshift</code> functions.  They use more bytes than just doing a divide and cast, but might be useful sometime. :)</p>
</div>
<div id="pu27" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a> with the communication toolbox, <s>33</s> 32 bytes</h1>



<pre class="lang-matlab prettyprint-override"><code>@(x)(de2bi(x)+1)*3.^(0:log2(x))'
</code></pre>

<p><a href="https://tio.run/##y08uSSxL/Z9mq6en999Bo0JTIyXVKCkTyNA21NQy1ovTMLDKyU83Agpoqv9P0zDU5ErTMAIRpiDCEkQYGmj@BwA" rel="nofollow noreferrer" title="Octave – Try It Online">Try it online!</a></p>

<p>Converts the input to a binary vector using <code>de2bi</code>, and incrementing all numbers. Does matrix multiplication with a vertical vector of <strong>3</strong> raised to the appropriate powers: <code>1, 3, 9, ...</code>, thus getting the sum without an explicit call to <code>sum</code>.</p>
</div>
<div id="pu28" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 5 bytes</h1>

<pre><code>B3m→ḋ
</code></pre>

<p><a href="https://tio.run/##yygtzv7/38k491HbpIc7uv///29pbGFkCgA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>

<h3>Explanation</h3>

<pre><code>B3m→ḋ
    ḋ  Convert to base 2
  m→   Map increment
B3     Convert from base 3
</code></pre>
</div>
<div id="pu29" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 6 bytes</h1>

<pre class="lang-js prettyprint-override"><code>¤cÄ n3
¤      // Convert the input to a base-2 string,
 c     // then map over it as charcodes.
  Ä    // For each item, add one to its charcode
       // and when that's done,
    n3 // parse the string as a base 3 number.
 
</code></pre>
<p>Takes input as a number, outputs a number.</p>
<p><a href="https://tio.run/##y0osKPn//9CS5MMtCnnG//9bAgA" rel="nofollow noreferrer" title="Japt – Try It Online">Try it online!</a></p>
</div>
<div id="pu30" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 32 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>f 0=0
f a=1+mod a 2+3*f(div a 2)
</code></pre>

<p><a href="https://tio.run/##FcdNDkAwEAbQvVN8Sz8TaaeRsOgRnEBEJqHRUARx/WL33izXMq1rjA7KqsRBrC7CPkLAhcldOvrndxaD@A0WQY52QHqcfrtRwmXoNDFV1JBWxIo0my@m5qqPLw" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu31" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 36 bytes</h1>

<pre><code>.+
$*
+`^(1+)\1
$1;1
^
1
+`1;
;111
1
</code></pre>

<p><a href="https://tio.run/##K0otycxL/P9fT5tLRYtLOyFOw1BbM8aQS8XQ2pArjssQKGRozWVtaGjIZfj/vyUA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Explanation:</p>

<pre><code>.+
$*
</code></pre>

<p>Convert from decimal to unary.</p>

<pre><code>+`^(1+)\1
$1;1
</code></pre>

<p>Repeatedly divmod by 2, and add 1 to the result of the modulo.</p>

<pre><code>^
1
</code></pre>

<p>Add 1 to the first digit too.</p>

<pre><code>+`1;
;111
</code></pre>

<p>Convert from unary-encoded base 3 to unary.</p>

<pre><code>1
</code></pre>

<p>Convert to decimal.</p>
</div>
<div id="pu32" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 7 bytes</h1>

<pre><code>3#.1+#:
</code></pre>

<p><a href="https://tio.run/##y/qvpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/jZX1DLWVrf5rcilwpSZn5CsopCkZKGTqGRlA@WkKhkbGpjC2pbGFkSnXfwA" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>

<p>Thanks Galen Ivanov for -4 bytes! I really need to improve my J golfing skill...</p>
</div>
<div id="pu33" class="pu"><h1>C, <s>32</s> 27 bytes</h1>

<pre class="lang-c prettyprint-override"><code>n(x){x=x?x%2+1+3*n(x/2):0;}
</code></pre>
<p>Based on <a href="https://codegolf.stackexchange.com/users/69850/user202729">user202729</a>'s Java <a href="https://codegolf.stackexchange.com/a/161625/79343">answer</a>. Try it online <a href="https://tio.run/##S9ZNT07@/z9Po0KzusK2wr5C1UjbUNtYCyigb6RpZWBd@18hNzEzT0OzmksBCNLyizQy80oUMm0NrRUybQyNjYCUtrYmWFJBoaAIKJmmoaSaoqOkk6eRqalpDZYpKC0p1lBSgvHgqmLyQMoMjYxNNXHIWRpbGEEla7n@AwA" rel="nofollow noreferrer">here</a>.
Thanks to <a href="https://codegolf.stackexchange.com/users/52210/kevin-cruijssen">Kevin Cruijssen</a> for golfing 5 bytes.</p>
<p>Ungolfed version:</p>
<pre class="lang-c prettyprint-override"><code>n(x) { // recursive function; both argument and return type are implicitly int
    x = // implicit return
    x ? x % 2 + 1 + 3*n(x/2) // if x != 0 return x % 2 + 1 + 3*n(x/2) (recursive call)
    : 0; // else return 0
}
</code></pre>
</div>
<div id="pu34" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 7 bytes</h1>
<pre><code>¤£°XÃn3
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.5&amp;code=pKOwWMNuMw==&amp;input=OA==" rel="nofollow noreferrer">Try it here</a></p>
</div>
<div id="pu35" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/attache" rel="nofollow noreferrer">Attache</a>, 19 bytes</h1>

<pre><code>FromBase&amp;3@1&amp;`+@Bin
</code></pre>

<p><a href="https://tio.run/##SywpSUzOSP2fZmX7360oP9cpsThVzdjBUC1B28EpM@@/X2pqSnG0SkFBcnosV0BRZl5JSGpxiTNQVXF0mo5CtKGOkY6pjqWOoYGOkYGOoZExkGNsYWQaG/sfAA" rel="nofollow noreferrer" title="Attache – Try It Online">Try it online!</a></p>

<p>This is a composition of three functions:</p>

<ul>
<li><code>FromBase&amp;3</code></li>
<li><code>1&amp;`+</code></li>
<li><code>Bin</code></li>
</ul>

<p>This first converts to binary (<code>Bin</code>), increments it (<code>1&amp;`+</code>), then converts to ternary (<code>FromBase&amp;3</code>).</p>

<h2>Alternatives</h2>

<p>Non-pointfree, 21 bytes: <code>{FromBase[Bin!_+1,3]}</code></p>

<p>Without builtins, 57 bytes: <code>Sum@{_*3^(#_-Iota!_-1)}@{If[_&gt;0,$[_/2|Floor]'(1+_%2),[]]}</code></p>
</div>
<div id="pu36" class="pu"><h1><a href="https://nodejs.org" rel="noreferrer">JavaScript (Node.js)</a>, 23 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>f=x=&gt;x&amp;&amp;x%2+1+3*f(x&gt;&gt;1)
</code></pre>

<p><a href="https://tio.run/##JcVBDkAwEADAu1f0QnYVUY60n/ACQWVFulKN9PcVcZk55me@F09XqB2vW0pWR21iUcS8k0r2pYVojMJk2QPpdhA0qvZLSsyEWNjdfG7NyTtQJSwQ/jaBp@DJ7dAjDukF" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu37" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 27 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>f=-&gt;x{x&gt;0?x%2+1+3*f[x/2]:0}
</code></pre>

<p><a href="https://tio.run/##NYtBCsIwFET3/xQBcWOtZiYmVsF4kJCFisGlSIVI27NHpHH3ePPm9b5@Skmn1uche33OSzZozCqFvGU86qkErBeq9YrCGfZiqzFymMl1Al1XLaxIQEBTa1jtfg/T8W@woyUcJG7ul9tjGPvxqVLo41S@" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu38" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>56</s> 54 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda i:int(''.join(`int(x)+1`for x in bin(i)[2:]),3)
</code></pre>

<p><a href="https://tio.run/##FcxBCoQwDEDRq2Rng2GwKcJMwZOoYEWKGbQVcaGnr@3yv8U/nmuNgZPvhrS5fV4ciJVwqar6/KMENZW4sdaTjyfcIAHmzII92xHJYCruiveamFr6kW6IG9Jscpgvt6M9zrwBrxymFw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu39" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 31 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda n:n and 3*f(n/2)+n%2+1
</code></pre>

<p><a href="https://tio.run/##FYxBCoMwFAXX9hRvEzT1l5ofAlVo75IioYI@RXTR06fpYhYzi9m@x2el5pyec1zeYwQHInKEv6aGd7UtjbYup3UHMRFOoIIg6AWuK1Jw6v/BPzQMl2rbJx6oTThxe8H0Zw2DhoIytDb/AA" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu40" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>56</s> 55 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda n:int(''.join('12'[c&gt;'0']for c in bin(n)[2:]),3)
</code></pre>

<p><a href="https://tio.run/##TYxNDoIwEEb3nmISF20TYzpTW5FEL4IsANOI0SkhbDx9hRqLy/e@n@E93QNT9OdrfDav9tYAlz1PUoj9I/QsBZKouovQovZhhA56hnb2rCoqa7UzKg7jPAAvUcEWaPNDWvCY0abUZD4t7IrMqFNfr/skCHGtkEkvaLX7fzIFfT0eyBI6jB8" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu41" class="pu"><h1><a href="http://jdk.java.net/" rel="noreferrer">Java (JDK 10)</a>, 44 bytes</h1>



<pre class="lang-java prettyprint-override"><code>long n(long x){return x&lt;1?0:x%2+1+3*n(x/2);}
</code></pre>

<p><a href="https://tio.run/##fY3LDoIwEEX3fMXExKS1irbERAXjD@jKpXFRBUkRCoGiGMK311ofC2Nc3UzuuWcSfuGjJDzrY8qrCjZcyNbRaS5jkMhGg9syUnUpoQnoarJo@oxQ4g0kasYM@512AIr6kIojVIorE5dchJAZE9qqUsh4t@e4NRRYPWSwBBld7YGwb4tTXj6/iSX1QQTUYyYIwbYF2N4qFWVuXiu3MEqFMlcigUlv2HsZvon04/7RPNaUedM1/s/MvRl7Q53T6Ts" rel="noreferrer" title="Java (JDK 10) – Try It Online">Try it online!</a></p>
</div>
<div id="pu42" class="pu"><h1><a href="https://github.com/cairdcoinheringaahing/AddPlusPlus" rel="nofollow noreferrer">Add++</a>, 14 bytes</h1>

<pre><code>L,BBu1€+B]3$Bb
</code></pre>

<p><a href="https://tio.run/##S0xJKSj4/99Hx8mp1PBR0xptp1hjFaek////W/7LLyjJzM8r/q@rm5lbkJOZnFkCAA" rel="nofollow noreferrer" title="Add++ – Try It Online">Try it online!</a></p>
</div>
<div id="pu43" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 7 bytes</h1>
<pre><code>ḃ+₁ᵐ~ḃ₃
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r//@GOZu1HTY0Pt06oAzIfNTX//29oZGz6PwoA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>Not that you really need one, but…</p>
<pre><code>ḃ            To binary
 +₁ᵐ         Map increment
    ~ḃ₃      From ternary
</code></pre>
</div>
<div id="pu44" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 4 bytes</h1>

<pre><code>B‘ḅ3
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/9/pUcOMhztajf///28JAA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/161614/">161614</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




