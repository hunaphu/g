<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276265</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>085</td><td>Python 3</td><td>241024T231629Z</td><td><a href="https://codegolf.stackexchange.com/questions/276265/check-subtype-relation-in-a-simple-type-system/276319#276319">apilat</a></td></tr>
<tr d-ix="1"><td>038</td><td>oK</td><td>241024T175055Z</td><td><a href="https://codegolf.stackexchange.com/questions/276265/check-subtype-relation-in-a-simple-type-system/276310#276310">zgrep</a></td></tr>
<tr d-ix="2"><td>209</td><td>Python3</td><td>241024T185358Z</td><td><a href="https://codegolf.stackexchange.com/questions/276265/check-subtype-relation-in-a-simple-type-system/276311#276311">Ajax1234</a></td></tr>
<tr d-ix="3"><td>051</td><td>JavaScript Node.js</td><td>241023T065738Z</td><td><a href="https://codegolf.stackexchange.com/questions/276265/check-subtype-relation-in-a-simple-type-system/276267#276267">l4m2</a></td></tr>
<tr d-ix="4"><td>040</td><td>Charcoal</td><td>241023T234253Z</td><td><a href="https://codegolf.stackexchange.com/questions/276265/check-subtype-relation-in-a-simple-type-system/276295#276295">Neil</a></td></tr>
<tr d-ix="5"><td>199</td><td>Retina 0.8.2</td><td>241023T065105Z</td><td><a href="https://codegolf.stackexchange.com/questions/276265/check-subtype-relation-in-a-simple-type-system/276266#276266">Neil</a></td></tr>
<tr d-ix="6"><td>052</td><td>JavaScript Node.js</td><td>241023T070624Z</td><td><a href="https://codegolf.stackexchange.com/questions/276265/check-subtype-relation-in-a-simple-type-system/276268#276268">tsh</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 85 bytes</h1>

<pre class="lang-none prettyprint-override"><code>f=lambda s,t:t==0if t==0 or s==0else(t[0]==s[0])&amp;f(s[2],t[2])&amp;f(*[s[1],t[1]][::s[0]])
</code></pre>
<p><a href="https://tio.run/##fVDLDoIwELzzFXsy1NQE9NakX9L0gEqjCbaE3YtfX1sQEIpc9jEzu9Nt@6aHsxfvjWyq1/VeAXISJGXxNBATuA4w5LrBOidVaCkxRHYwOaqz5hRCbI4KVRnbUmslRNRo5sm1IKHIbp1DDNXkASRAlbyvdGZswp0mMqsQ647A5GFbQFzLZsjYAe0NZgHjEJgV@KXm4YEfVwySdNEaSc3XuZexf/g4b91000Kw5Pdfl2g3T941@Jn4d/v2P/oP" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Uses <code>0</code> for Top, <code>[1,S,T]</code> for <span class="math-container">\$S \times T\$</span>, <code>[-1,S,T]</code> for <span class="math-container">\$S \to T\$</span>.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/JohnEarnest/ok/" rel="nofollow noreferrer">oK</a>, 38 bytes</h1>
<pre><code>{$[*x&amp;x=y;&amp;/o.'(.*x;_)@'1_+(x;y);*~y]}
</code></pre>
<p><a href="https://tio.run/##dY/RCoIwFIbvfYpzEbpZ6Yq6qEPQe4iF1AahuXBGk6hXX0tUVArGdvjOf/7zL53L1BixfU4iX7t6V6EbysAjBwx8jUe696ZEY0XRf1fxy4RQFncOXCfXW8YVyBzEpVAlFPIxA5Fkin@Z4ieZnx1CQEQMEFjsANiaLJYrZEg2a3szSm2rRi2wp1Va0qgtHgw09chy8Fhl592HMVAH2lAdHjqxf0t6IX9N191x0P7HgFLzAQ" rel="nofollow noreferrer" title="K (oK) – Try It Online">Try it online!</a></p>
<p>The input is encoded as follows, whether or not it's reasonable depends on how charitable you're feeling:</p>
<ul>
<li><span class="math-container">\$\textbf{Top}\$</span> is <code>0</code></li>
<li><span class="math-container">\$X \times Y\$</span> is <code>(95;X;Y)</code></li>
<li><span class="math-container">\$X \to Y\$</span> is <code>(124;X;Y)</code></li>
</ul>
<p>Output is <code>1</code> for true and <code>0</code> for false.</p>
<p>Translation:</p>
<pre><code>{                                    } /function(x, y):
      x=y                              /  ans = (x == y)    // element-wise
    x&amp;                                 /  ans = min(x, ans) // element-wise
   *                                   /  ans = first(ans)
 $[      ;                      ;   ]  /  if ans:
                           (x;y)       /    ans = [x, y]
                          +            /    ans = transpose(ans)
                        1_             /    ans = drop_first(ans)
                .*x                    /    f1 = eval(first(x))
                                       /    // eval interprets int as char:
                                       /    //    95 → &quot;_&quot; → floor
                                       /    //   124 → &quot;|&quot; → reverse
                    _                  /    f2 = floor
               (   ; )@'               /    ans = map(apply, zip([f1, f2], ans))
            o                          /    o = this function
             .'                        /    ans = map(uncurry, zip([o, o, …], ans))
          &amp;/                           /    return fold(min, ans)
                                       /  else:
                                 *~y   /    return first(not y)
</code></pre>
<p>Explanation:</p>
<ul>
<li><code>*x&amp;x=y</code> is true when <span class="math-container">\$X = Y \not= \textbf{Top}\$</span>
<ul>
<li>This lets us recurse only when <span class="math-container">\$X \in \{A \to B, A \times B\}\$</span> and <span class="math-container">\$Y \in \{C \to D, C \times D\}\$</span>.</li>
<li><code>1_+(x;y)</code> gives us the array <span class="math-container">\$[[A, C], [B, D]]\$</span></li>
<li><code>(f;g)@'</code> zip-maps, giving <span class="math-container">\$[f([A, C]), g([B, D])]\$</span></li>
<li><code>_</code> floor acts as an identity function</li>
<li>If <span class="math-container">\$X = \cdot \to \cdot\$</span>:
<ul>
<li><code>.*x</code> is reverse, so the array is <span class="math-container">\$[[C, A],[B, D]]\$</span></li>
</ul>
</li>
<li>Otherwise:
<ul>
<li><code>.*x</code> is floor, so the array is <span class="math-container">\$[[A, C], [B, D]]\$</span></li>
</ul>
</li>
<li>Given <span class="math-container">\$[[w,z],[B,D]]\$</span>, <code>o.'</code> recurses to check both <span class="math-container">\$w &lt;: z\$</span> and <span class="math-container">\$B &lt;: D\$</span>.</li>
<li><code>&amp;/</code> returns true iff both are true.</li>
</ul>
</li>
<li>Otherwise <span class="math-container">\$\textbf{Top} \in \{X, Y\}\$</span>:
<ul>
<li>Return <code>*~y</code>, which is true iff <span class="math-container">\$Y = \textbf{Top}\$</span>.</li>
</ul>
</li>
</ul>
<hr />
<p>A similar 38-byte solution:</p>
<pre><code>{$[*x&amp;x=y;&amp;/o.'(^;.*x;_)@'+(x;y);*~y]}
</code></pre>
<p>And if the input is a two-element array, as opposed to two arguments:</p>
<pre><code>{$[**x&amp;*=/x;&amp;/o'(.**x;_)@'1_+x;**~|x]}
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Python3, 209 bytes</h1>
<pre class="lang-py prettyprint-override"><code>def f(a,b):
 if a==0:return b==0
 if b==0:return 1
 for r,T in[([[0,2],[1,3]],1),([[2,0],[1,3]],2)]:
  U=a[1:]+b[1:]
  if T==a[0]and T==b[0]and all(len(str(U[X]))&gt;len(str(U[Y]))or 0==U[Y]for X,Y in r):return 1
</code></pre>
<p><a href="https://tio.run/##dU/BqsIwELz3K/aY4B429SKF@BUKSsghwQYLJZa8voNfXze2thUVwjIzmUxmu3t/vcXtrkvDcKkDBOHQy6qAJoDTmqpU9/8pgmf8FP1KVAWEW4KEB2iiEcYQlhaNwq21qCSyUiLNSiktB8NRO6Mqu/F5MufQg2aNrIuXDP0EXduKto7ir0/iaE5Wyv1Cz0z5b9I641zjhGeuAUnO9YYuNbEXQRCSlMWL5VK5E6vcCphOhM/apvDpHBd4mUf0kTYPdo2ZC1@Zabr6TKBf4Uu3r2/V@y7qbZfhAQ" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 51 bytes</h1>

<pre class="lang-none prettyprint-override"><code>f=(x,y)=&gt;y?x&amp;&amp;f(x.b,y.b)&amp;f(x.a,y.a)+f(y.A,x.A):x&gt;=x
</code></pre>
<p><a href="https://tio.run/##bVDRjoMgEHz3K3hq4A4p9NEGjN9hyBU9NHchtdG2WdL02z2KRq@9I5vJ7DA72ey3uZqh7r9O5/TYfdpxbCQG6olUPofNpsHAKupZRSI1gRry3mDPCgqsIBkoCeM@aSVIBTmUXEsp8pvJWgyl0IRWke00uWe34j@V75NDwhFHqULn/mKTckc5LUUArjUK3cxDrR5Boy2oq3MiLzkLBEtMW9vFydEsPZTGuGEe5k@hy8evff7Oiaflxcvyk@nAentyprZ4i9kbQRFStW0pwh90On/dHYfOWea6FoeDt9hejcNACJ2pJ483/gA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p><code>{A:_,b:_}</code> as arrow, <code>{a:_,b:_}</code> as mult,</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 40 bytes</h1>
<pre><code>¹⊞υＡＦυＦ…§ι¹¦¹¿κ¿⁻κ§§ι⁰¦⁰⎚Ｆ²⊞υＥ⎇∧λ⊖κ⮌ιι⊟μ
</code></pre>
<p><a href="https://tio.run/##VU6xCoMwEN37FTfeQQrVtZPYxUGQ0i10CHrFYIwSjdSvT2OlpR3evXfH492rW@XqQZkQKqftjAmdD5WfWvQCCjv6GSleHoMD9ARvztfacN4OI2ZzYRt@ohaQ0AYC/QDsdiq19RN2Aj62H/uJNhDkhpVDOgObiff4lOBToFQj3thZ5VbMbINGwIVrxz3bmZv4J6ZceWE3MeqoN1SxV0@xdAhSykTIVMjTfUMcyVf/L/dwXMwL" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as a list of the two types and uses <code>[0]</code> for Top and outputs a Charcoal boolean, i.e. <code>1</code> for subtype, nothing if not. Explanation:</p>
<pre><code>¹
</code></pre>
<p>Assume that the first input element is a subtype of the second.</p>
<pre><code>⊞υＡＦυ
</code></pre>
<p>Start by considering the two input types.</p>
<pre><code>Ｆ…§ι¹¦¹
</code></pre>
<p>Get the kind of the second type.</p>
<pre><code>¿κ
</code></pre>
<p>If the second type is not Top, then...</p>
<pre><code>¿⁻κ§§ι⁰¦⁰⎚
</code></pre>
<p>... if the two types are different then they are not subtypes, otherwise...</p>
<pre><code>Ｆ²⊞υＥ⎇∧λ⊖κ⮌ιι⊟μ
</code></pre>
<p>... take the two pairs of inner types, reverse the first pair if necessary, and save both pairs for further processing.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, <s>219</s> 199 bytes</h1>
<pre><code>^({(({)|(?&lt;-3&gt;})|\w)+)p((({)|(?&lt;-6&gt;})|\w)+},)({(({)|(?&lt;-9&gt;})|\w)+)p(?(9)^)
$7x$4$1x
^{((({)|(?&lt;-3&gt;})|\w)+)x((({)|(?&lt;-6&gt;})|\w)+)},{((({)|(?&lt;-9&gt;})|\w)+)x((({)|(?&lt;-12&gt;})|\w)+)}$
$1,$7¶$4,$10
+%)A`,T$
^$
</code></pre>
<p><a href="https://tio.run/##bY1BCsIwEEX3c44RZmgEo8VSkBTvMEspdeHCjRQRDKS5lgfwYjFGUysUhvmfP48/19PtfDmGBVFnoA8tOSLHAzW75cZ4Hg53LrinMdzm0CuesPWEbajmlgEriyVqC62jmU4708leTdh6jtXrH4yAWmH1fGCpUK@gWPC@U4LQYgiiBJwYJ1Z8rE1qxEN0UWzO3/LhTDqk7GtBVDKQdmZz03izfz/ivAA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>^({(({)|(?&lt;-3&gt;})|\w)+)p((({)|(?&lt;-6&gt;})|\w)+},)({(({)|(?&lt;-9&gt;})|\w)+)p(?(9)^)
$7x$4$1x
</code></pre>
<p>Match <code>{S'pT},{SpT'}</code> and turn it into <code>{SxT},{S'xT'}</code>.</p>
<pre><code>^{((({)|(?&lt;-3&gt;})|\w)+)x((({)|(?&lt;-6&gt;})|\w)+)},{((({)|(?&lt;-9&gt;})|\w)+)x((({)|(?&lt;-12&gt;})|\w)+)}$
$1,$7¶$4,$10
</code></pre>
<p>Match <code>{SxT},{S'xT'}</code> and split it into <code>S,S'</code> and <code>T,T'</code>.</p>
<pre><code>+%)A`,T$
</code></pre>
<p>Delete any conditions where the RHS is <code>T</code> and repeatedly process any remaining conditions.</p>
<pre><code>^$
</code></pre>
<p>Check that there are no left-over conditions.</p>
<p>The input format is as follows:</p>
<ul>
<li>A condition <code>S &lt;: T</code> to be tested takes the form <code>S,T</code> where <code>S</code> and <code>T</code> are types.</li>
<li>A type can be of the form <code>T</code> (representing Top), <code>{SpT}</code> (representing <code>S -&gt; T</code> or <code>{SxT}</code> (representing <code>S * T</code>).</li>
<li>The test harness allows for multiple conditions each on their own line.</li>
<li>As a convenience, the test harness also allows <code>&gt;</code> in place of <code>p</code>.</li>
</ul>
</div>
<div id="pu6" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 52 bytes</h1>

<pre class="lang-none prettyprint-override"><code>f=([a,b,c],[x,y,z])=&gt;~x?a-x||f(c,z)|f(a?y:b,a?b:y):0
</code></pre>
<p><a href="https://tio.run/##fVLLbsIwELznK/aGrTrB5ggKnPoVUVQc16FUKY5sg4DS/nq6MXlAi3qxPTszu6tdv8uDdMpuax/vzKtumjIlmWQFUznLjuzEzjlNl9/HlYyPl0tJFDtTvOTqNC@YXBXzE53zppbWaUjBQLqEzwhgWwJBkAKnYLXf2x1kscgXPZXxvGXFyHIGIQtyIqcjmOU02Hqd@Ff3FXntvJJOO2xnHUUcOMRL8HavI/RyhoX7e4jPEHdBZGf9@04jWJBhdFQ@zDMcKAnZRjgoOXShNlLKynXm@@YG4qafvz5x17z41fxVFK2TD@nVG5kmT9MNRVAT2@@q0h5w5VAweGGgcDFgE1dXW08mMKG3w78OWx9kRSQdhh9w0eLwUmERdNxEUhr7LLE66cqY9k@F2srsnKl0UpkNwV@FLGYxtPUvmh8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Use <code>[-1]</code> for <span class="math-container">\$\mathbf{Top}\$</span>, <code>[0,S,T]</code> for <span class="math-container">\$S\times T\$</span>, <code>[1,S,T]</code> for <span class="math-container">\$S\to T\$</span>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276265/">276265</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




