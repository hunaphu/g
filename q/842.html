<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::842</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>092</td><td>APLNARS</td><td>250228T135941Z</td><td><a href="https://codegolf.stackexchange.com/questions/842/polynomial-long-division/278424#278424">Rosario</a></td></tr>
<tr d-ix="1"><td>123</td><td>Python</td><td>250303T192750Z</td><td><a href="https://codegolf.stackexchange.com/questions/842/polynomial-long-division/278494#278494">Username</a></td></tr>
<tr d-ix="2"><td>063</td><td>APL Dyalog Unicode 18.0</td><td>200924T044940Z</td><td><a href="https://codegolf.stackexchange.com/questions/842/polynomial-long-division/211568#211568">Bubbler</a></td></tr>
<tr d-ix="3"><td>108</td><td>Javascript with lambdas</td><td>141023T153522Z</td><td><a href="https://codegolf.stackexchange.com/questions/842/polynomial-long-division/40218#40218">Qwertiy</a></td></tr>
<tr d-ix="4"><td>255</td><td>Python 2</td><td>141004T062548Z</td><td><a href="https://codegolf.stackexchange.com/questions/842/polynomial-long-division/38519#38519">Justin</a></td></tr>
<tr d-ix="5"><td>094</td><td>J</td><td>110211T192917Z</td><td><a href="https://codegolf.stackexchange.com/questions/842/polynomial-long-division/861#861">Eelvex</a></td></tr>
<tr d-ix="6"><td>126</td><td>Haskell</td><td>110211T152629Z</td><td><a href="https://codegolf.stackexchange.com/questions/842/polynomial-long-division/858#858">J B</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>APL(NARS), 92 chars</h1>
<pre><code>{{⍬≡↑⌽⍵:(⊂¯1↓⍵),⊂,0⋄0=≢1↓⍵:(⊂,0),⍵⋄(⊂¯1↓⍵),¯1↑⍵}⍺{0&gt;k←-/≢¨⍵⍺:⊂,⍵⋄d,⍺∇1↓⍵-(⍺,k⍴0)×d←÷/↑¨⍵⍺}⍵}
</code></pre>
<p>Input: 1 2 3 4 means x^3+2x^2+3x^1+4</p>
<p>Input: divisor function dividend</p>
<p>Output: quotient, remainder</p>
<p>Im sorry for the one has upvote this, but i find some bugs... Possible there are other bugs, not too much test... last few test:</p>
<pre><code>  f←{{⍬≡↑⌽⍵:(⊂¯1↓⍵),⊂,0⋄0=≢1↓⍵:(⊂,0),⍵⋄(⊂¯1↓⍵),¯1↑⍵}⍺{0&gt;k←-/≢¨⍵⍺:⊂,⍵⋄d,⍺∇1↓⍵-(⍺,k⍴0)×d←÷/↑¨⍵⍺}⍵}

 2 5   f 1 3
┌2────────────┐
│┌1───┐ ┌1───┐│
││ 0.5│ │ 0.5││
│└~───┘ └~───┘2
└∊────────────┘
  1 0 ¯5 f 12 ¯5 3 ¯1
┌2─────────────────┐
│┌2─────┐ ┌2──────┐│
││ 12 ¯5│ │ 63 ¯26││
│└~─────┘ └~──────┘2
└∊─────────────────┘
  2 0 ¯5 f 12 ¯5 3 ¯1
┌2────────────────────┐
│┌2──────┐ ┌2────────┐│
││ 6 ¯2.5│ │ 33 ¯13.5││
│└~──────┘ └~────────┘2
└∊────────────────────┘
  1 2 f 1 2 3 4
┌2─────────────┐
│┌3─────┐ ┌1──┐│
││ 1 0 3│ │ ¯2││
│└~─────┘ └~──┘2
└∊─────────────┘
  1 1 f 1 6 12 7
┌2────────────┐
│┌3─────┐ ┌1─┐│
││ 1 5 7│ │ 0││
│└~─────┘ └~─┘2
└∊────────────┘
  1 3 ¯1 f 5 ¯2 ¯3 171 4
┌2───────────────────┐
│┌3────────┐ ┌2─────┐│
││ 5 ¯17 53│ │ ¯5 57││
│└~────────┘ └~─────┘2
└∊───────────────────┘
  1  f 12 ¯5 3 ¯1
┌2─────────────────┐
│┌4──────────┐ ┌1─┐│
││ 12 ¯5 3 ¯1│ │ 0││
│└~──────────┘ └~─┘2
└∊─────────────────┘
  2  f 12 ¯5 3 ¯1
┌2──────────────────────┐
│┌4───────────────┐ ┌1─┐│
││ 6 ¯2.5 1.5 ¯0.5│ │ 0││
│└~───────────────┘ └~─┘2
└∊──────────────────────┘
  1 1 1 1 1 1  f 12 ¯5 3 ¯1
┌2─────────────────┐
│┌1─┐ ┌4──────────┐│
││ 0│ │ 12 ¯5 3 ¯1││
│└~─┘ └~──────────┘2
└∊─────────────────┘
3 f 4
┌2──────────────────┐
│┌1───────────┐ ┌1─┐│
││ 1.333333333│ │ 0││
│└~───────────┘ └~─┘2
└∊──────────────────┘
  1 1 1 1 1 1  f 0
┌2────────┐
│┌1─┐ ┌1─┐│
││ 0│ │ 0││
│└~─┘ └~─┘2
└∊────────┘
</code></pre>
<p>this below is a little more long of the recursive one, but i like it more</p>
<pre><code>r←a D w;q;k;d
r←,w⋄q←⍬
→3×⍳0&gt;k←-/≢¨r a⋄q←q,d←÷/↑¨r a⋄r←1↓r-(a,k⍴0)×d⋄→2
→4×⍳q≢⍬⋄q←,0
→5×⍳r≢⍬⋄r←,0
r←(⊂q),⊂r
</code></pre>
<p>//14+9+49+13+13+10= 108
it would returns the same of the recursive one. It is need a function remove
the more 0 in the remainder. For example in</p>
<pre><code>  1 1 1 1 f 1 0 0 0 ¯2
┌2────────────────┐
│┌2────┐ ┌3──────┐│
││ 1 ¯1│ │ 0 0 ¯1││
│└~────┘ └~──────┘2
└∊────────────────┘
</code></pre>
<p>it is better that is just -1 and not 0x^2+0x-1.</p>
</div>
<div id="pu1" class="pu"><h1>Python, 123 bytes</h1>
<pre><code>f=lambda x,y,z=[],l=len:z+x if l(x)&lt;l(y)else f([X[0]-X[1]*x[0]/y[0]for X in zip(x[:l(y)],y)][1:]+x[l(y):],y,z+[x[0]/y[0]])
</code></pre>
<p>Divides term by term.
Run with <code>print(f(dividend, divisor))</code></p>
<p><a href="https://tio.run/##PUw7DsMgDN17Co9QHDU06oKSe0SyPKQqqEiURGkGyOUpLB3eV/bb8vFe41CKm8Lyeb4WSJjxnIgxTMFGc6oE3kEQSY5BZGnD14ITNFPP3Uyar6m6W67k1h1m8BFOv4lEpp0zVpA2rBK1bLjNK/o/sbyUbffxEHVU3xG6B8JQRTMCaYS@VSxl@QE" rel="nofollow noreferrer">Try it online</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a> 18.0, 63 <a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">bytes</a></h1>

<pre class="lang-apl prettyprint-override"><code>{0≥d←1+⍺-⍥≢⍵:⍬⍺⋄q(r↓⍨⊥⍨0=⌽r←⍺-m+.×q←(d↑⍺)⌹d↑m←⍉{⍵,⍨⍺⍴0}∘⍵⍤0⍳d)}
</code></pre>
<p><a href="https://tio.run/##bY@xSgNBEIb7e4rpckvuZPfOpBCuSmMqwdhIuCKwrAiJSQwIclylBC/mjohErSUBCyGFplCwSd5kXuScWdRKGP7Zmf@bGbYz6Pr6stPtn5RYzJsHOJ5JZ/tAKXExX1MA5p@ChQL@Wuu0TCRmS02kqpLl01D2TMYe5q9M314P3XMc32P@gpMlqYxw@kWdGdO96s72cUiFSxvu@AROP/jZs0CW0CaPR/nuu0zx5sneXkjM37RIS2O5AidXm1XIK4p567BBerTfbPFfGscVbc5GFUefjgagAtisahCSKjCgQHL9rxdYT8kfk2pjNYRdxxF9Y8i4cNsq8MCveRBSUrEHbeWB5FYsIIrgF2CnzkxQj8U3" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
<p>The TIO link (which uses 17.1) has a polyfill for <code>⍥</code>.</p>
<p>Well, it uses <code>⌹</code> to solve a system of equations, but technically it's not a library, so...</p>
<h3>How it works</h3>
<p>Illustration for the inputs <code>x←12 ¯5 3 ¯1</code> and <code>y←1 0 ¯5</code>:</p>
<ul>
<li>We know that, from the lengths of <code>x</code> and <code>y</code>, the quotient will have two terms.</li>
<li>Construct a matrix which, when matrix-multiplied with the quotient, will give the polynomial product of quotient with <code>y</code>:</li>
</ul>
<pre class="lang-apl prettyprint-override"><code> 1  0
 0  1
¯5  0
 0 ¯5
</code></pre>
<ul>
<li>Calculate the quotient <code>q</code> so that first two terms of <code>x</code> agree with those of <code>y×q</code>, using matrix division <code>⌹</code>.</li>
<li>Calculate the remainder <code>r</code> using <code>x - y×q</code>, then remove leading zeros of <code>r</code>. (<code>q</code> is guaranteed to have no leading zeros.)</li>
</ul>
<pre class="lang-apl prettyprint-override"><code>{ ⍝ x←dividend, y←divisor
  d←1+⍺-⍥≢⍵  ⍝ Degree of the quotient; 1 + length of x - length of y
  0≥d: ⍬⍺    ⍝ If degree is zero or lower: quotient is zero, remainder is x

  m←⍉{⍵,⍨⍺⍴0}∘⍵⍤0⍳d  ⍝ Construct the matrix
                 ⍳d  ⍝ 0..d-1
     {      }∘⍵⍤0    ⍝ For each number i, yielding a matrix row
      ⍵,⍨⍺⍴0         ⍝ Make i copies of 0, and append y
                     ⍝ (Implicitly right-pad with zeros for short rows)
    ⍉                ⍝ Transpose

  q←(d↑⍺)⌹d↑m  ⍝ Get the quotient
          d↑m  ⍝ Take first d rows of the matrix
    (d↑⍺)      ⍝ Take first d numbers of x
         ⌹     ⍝ Matrix divide aka. solve linear system of equations

  r←⍺-m+.×q  ⍝ Get the remainder

  q(r↓⍨⊥⍨0=⌽r)  ⍝ Remove leading zeros from r, and join with q
       ⊥⍨0=⌽    ⍝ Reverse r, test equal to zero, and count trailing ones (⊥⍨)
    r↓⍨         ⍝ Drop that many numbers from start of r
  q(         )  ⍝ Join with q
}
</code></pre>
</div>
<div id="pu3" class="pu"><h2>Javascript with lambdas, 108</h2>

<pre><code>f=(a,b)=&gt;{for(n=b.length;a.length&gt;=n;a.shift())for(b.push(k=a[q=0]/b[0]);q&lt;n;++q)a[q]-=k*b[q];b.splice(0,n)}
</code></pre>

<p>It replaces first argument by reminder and second by result.</p>

<p>Example of usage in Firefox:</p>

<pre><code>f(x=[12,-5,3,-1], y=[1,0,-5]), console.log(x, y)
// Array [ 63, -26 ] Array [ 12, -5 ]
</code></pre>

<p>Sorry for the bug. Already fixed.</p>
</div>
<div id="pu4" class="pu"><h1>Python 2, <s>260</s> <s>258</s> <s>257</s> 255 bytes</h1>

<pre class="lang-python prettyprint-override"><code>exec'''def d(p,q):
 R=range;D=len(p);F=len(q)-1;d=q[0];q=[q[i]/-d@R(1,F+1)];r=[0@R(D)];a=[[0@R(F)]@R(D)]
@R(D):
  p[i]/=d;r[i]=sum(a[i])+p[i]
  for j in R(F):
   if i&lt;D-F:a[i+j+1][F-j-1]=r[i]*q[j]
 return r[:D-F],[d*i@r[D-F:]]'''.replace('@',' for i in ')
</code></pre>
<p>This executes:</p>
<pre class="lang-python prettyprint-override"><code>def d(p,q):
 R=range;D=len(p);F=len(q)-1;d=q[0];q=[q[i]/-d for i in R(1,F+1)];r=[0 for i in R(D)];a=[[0 for i in R(F)] for i in R(D)]
 for i in R(D):
  p[i]/=d;r[i]=sum(a[i])+p[i]
  for j in R(F):
   if i&lt;D-F:a[i+j+1][F-j-1]=r[i]*q[j]
 return r[:D-F],[d*i for i in r[D-F:]]
</code></pre>
<p>Use like so:</p>
<pre class="lang-python prettyprint-override"><code>&gt;&gt;&gt;d([12., -5., 3., -1.],[1.,0.,-5.])
([12.0, -5.0], [63.0, -26.0])
</code></pre>
</div>
<div id="pu5" class="pu"><h2>J, 94</h2>

<pre><code>f=:&gt;@(0&amp;{)
d=:0{[%~0{[:f]
D=:4 :'x((1}.([:f])-((#@]{.[)f)*d);([:&gt;1{]),d)^:(&gt;:((#f y)-(#x)))y'
</code></pre>

<p>eg.</p>

<pre><code>(1 0 _5) D (12 _5 3 _1;'')
63 _26 | 12  _5
</code></pre>

<p>Explanation of some snippets, given that a: (12 -5 3 -1) and b: (1 0 -5)</p>

<p>length of a:</p>

<pre><code>#a
4
</code></pre>

<p>make a and b same order by appending zeroes to b:</p>

<pre><code>(#a) {. b
1 0 -5 0
</code></pre>

<p>divide higher powers (first elements) of a, b:</p>

<pre><code>(0{a) % (0{b)
12
</code></pre>

<p>multiply b by that and subtract it from a:</p>

<pre><code>a - 12*b
12 0 _60
</code></pre>

<p>repeat n times b = f(a,b):</p>

<pre><code>a f^:n b
</code></pre>
</div>
<div id="pu6" class="pu"><h2>Haskell, 126</h2>

<p>For a start:</p>

<pre><code>l s _ 0=s
l(x:s)(y:t)n=x/y:l(zipWith(-)s$map(*(x/y))t++repeat 0)(y:t)(n-1)
d s t=splitAt n$l s t n where n=length s-length t+1
</code></pre>

<p>Sample use:</p>

<pre><code>*Main&gt; d [12, -5, 3, -1] [1, 0, -5]
([12.0,-5.0],[63.0,-26.0])
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/842/">842</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




