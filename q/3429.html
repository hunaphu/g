<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::3429</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>447</td><td>Python3</td><td>250330T170554Z</td><td><a href="https://codegolf.stackexchange.com/questions/3429/lights-out-find-the-solution/278990#278990">Ajax1234</a></td></tr>
<tr d-ix="1"><td>102</td><td>Ruby</td><td>110814T135153Z</td><td><a href="https://codegolf.stackexchange.com/questions/3429/lights-out-find-the-solution/3438#3438">migimaru</a></td></tr>
<tr d-ix="2"><td>133</td><td>Ruby</td><td>110814T082950Z</td><td><a href="https://codegolf.stackexchange.com/questions/3429/lights-out-find-the-solution/3436#3436">Howard</a></td></tr>
<tr d-ix="3"><td>nan</td><td></td><td>110813T193628Z</td><td><a href="https://codegolf.stackexchange.com/questions/3429/lights-out-find-the-solution/3431#3431">Ming-Tan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 447 bytes</h1>
<pre class="lang-py prettyprint-override"><code>E=enumerate
def U(I,x,y):I[(x,y)]=int(not I[(x,y)])
def f(b):
 d={(x,y):v for x,r in E(b)for y,v in E(r)}
 p,s=[(d,[[0 for _ in i]for i in b])],[d]
 for i,m in p:
  if sum(i.values())==0:return m
  C=[]
  for x,y in i:
   r=0
   I={**i};r+=I[(x,y)];U(I,x,y);M=eval(str(m));M[x][y]=1
   for X,Y in[(1,0),(-1,0),(0,1),(0,-1)]:
    if(N:=(x+X,y+Y))in d:r+=I[N];U(I,*N)
   if I not in s:C+=[(I,M,r)]
  I,M,_=max(C,key=lambda x:x[-1]);p+=[(I,M)];s+=[I]
</code></pre>
<p><a href="https://tio.run/##dVJLi9swED7Xv0LkYo2jBGtLoTjoFPbgw@ZW2EUVwcEyVRs/kORgs@xvTzWKszmtDjMjzTffPDTD7P/03fefg73WuiGD1d7PtIYi@RbM0Xbp7y7d/u1NR9NFt9VAnbdsBGh6S0ZiOlLD9Vnobmy1rbxOkOoXLdnEZihKSVErYTpPu96T@wNEXENPIRupxXt8LS4EWSdmkfc5OPE6s8vtauEjIQNzQtKaSZlH8BF9RqFp0DwpUEzWKolew1p8HEISYhrixpaa7aU6j9pRACHy4tYpaQNgL2QIW0qYIy/GEStyVKV4zzLzsbNrce9id2909yJ0oMXZ0BbCVU5KzkpwDETCV/YWCCXlLAdGNzeVMx7lhoOKmUKN9FAIOq1f2bx@A8DxFjHh4ZYsO0AScaQkOM8AcMV@HUZSshdmARtA6yjaaqJ79k/P4ly1p7oiUzHJDVewGxZ4qN8Fs1Tx@31/PPWVral7LACRMsMvD7/HDDyG3Jiz15Ye@k4z4rZuOBtPcVsgFJA4TgRZrVZJjudTch4kX@ycJ4hwTwuU4/lSImKwuEPLkjb0US6HcBZ3ukmzHzl8DX5C8PU/" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h2>Ruby <strike>(130)</strike> <strike>(121)</strike> <strike>(113)</strike> (102)</h2>

<p>EDIT: Saved 9 characters, thanks to Howard.</p>

<p>EDIT 2: Another 8 characters, courtesy of Howard.</p>

<p>EDIT 3: Saved 11 more characters after learning how to use Ruby's % operator for sprintf.</p>

<pre><code>b=(0..4).map{gets.to_i 2}
32.times{|x|z=0;k=b.map{|i|x=z^i^31&amp;(x&lt;&lt;1^x&gt;&gt;1)^z=x;'%05b'%z}
puts k if x&lt;1}
</code></pre>

<p>Accepts 5 lines of input from stdin. Outputs all solutions as 5x5 grids as specified, though there are no extra line breaks between solutions (or between the input and the solutions).</p>

<p>Solutions are found by iterating through all 32 possibilities for the top row, since the top row determines the switches that must be flipped in the following rows.</p>

<p>Input:</p>

<pre><code>00000
00000
00110
01000
00101
</code></pre>

<p>Output:</p>

<pre><code>00000
00000
00000
00110
00001
01110
10101
11011
10011
01111
10101
10101
00000
10011
10100
11011
00000
11011
00110
11010
</code></pre>
</div>
<div id="pu2" class="pu"><h3>Ruby, 133 characters</h3>
<pre><code>t=-&gt;z,v,s{v&lt;0?z&amp;33814345664&lt;1&amp;&amp;s :t[z,v-1,s+?0]||t[z^4321&lt;&lt;(v+v/5),v-1,s+?1]}
puts t[32*$&lt;.read.tr(?\n,?0).to_i(2),24,''].scan /.{5}/
</code></pre>
<p>This is a brute-force search through all possible on/off combinations. The input must be specified on stdin with exactly five lines of five 0/1 characters each and a newline after each one, e.g.:</p>
<pre><code>&gt; ruby lights.rb
11111
11111
11011
11111
11111
^Z
00000
11111
10001
11111
00000
</code></pre>
</div>
<div id="pu3" class="pu"><h2>F#</h2>

<p>brute-force,
will golf later</p>

<pre><code>open System;
let a = Array2D.create 5 5 false
let b = Array2D.create 5 5 false

for i = 0 to 4 do
  for j = 0 to 4 do
    a.[i, j] &lt;- if Console.Read() = 49 then true else false
  Console.ReadLine() |&gt; ignore

let r = Random()
while Seq.cast a |&gt; Seq.exists id do
  let x, y = r.Next(5), r.Next(5)
  b.[x, y] &lt;- not b.[x, y]
  for u, v in [ x, y;
                x - 1, y;
                x + 1, y;
                x, y - 1;
                x, y + 1 ] do
    try
      a.[u, v] &lt;- not a.[u, v]
    with
    | _ -&gt; ()

printfn "%s" (let mutable z = ""
              for i = 0 to 4 do
                for j = 0 to 4 do
                  z &lt;- z + (if b.[i, j] then "1" else "0")
                z &lt;- z + "\n"
              z)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/3429/">3429</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




