<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::63726</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>079</td><td>APLNARS</td><td>241221T210331Z</td><td><a href="https://codegolf.stackexchange.com/questions/63726/iterative-binary-search/277359#277359">Rosario</a></td></tr>
<tr d-ix="1"><td>104</td><td>Python</td><td>241221T051955Z</td><td><a href="https://codegolf.stackexchange.com/questions/63726/iterative-binary-search/277354#277354">Joon Yor</a></td></tr>
<tr d-ix="2"><td>143</td><td>Common Lisp</td><td>151118T140538Z</td><td><a href="https://codegolf.stackexchange.com/questions/63726/iterative-binary-search/64196#64196">Joshua T</a></td></tr>
<tr d-ix="3"><td>146</td><td>Prolog</td><td>151118T131118Z</td><td><a href="https://codegolf.stackexchange.com/questions/63726/iterative-binary-search/64195#64195">Emigna</a></td></tr>
<tr d-ix="4"><td>112</td><td>Python</td><td>151113T125643Z</td><td><a href="https://codegolf.stackexchange.com/questions/63726/iterative-binary-search/63747#63747">TFeld</a></td></tr>
<tr d-ix="5"><td>nan</td><td>C – 119</td><td>151113T113302Z</td><td><a href="https://codegolf.stackexchange.com/questions/63726/iterative-binary-search/63743#63743">user1525</a></td></tr>
<tr d-ix="6"><td>085</td><td>C++14</td><td>151113T074913Z</td><td><a href="https://codegolf.stackexchange.com/questions/63726/iterative-binary-search/63733#63733">sweerpot</a></td></tr>
<tr d-ix="7"><td>092</td><td>AutoIt</td><td>151113T063252Z</td><td><a href="https://codegolf.stackexchange.com/questions/63726/iterative-binary-search/63732#63732">user4264</a></td></tr>
<tr d-ix="8"><td>094</td><td>JavaScript</td><td>151113T041046Z</td><td><a href="https://codegolf.stackexchange.com/questions/63726/iterative-binary-search/63727#63727">A T</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>APL(NARS), 79 chars</h1>
<pre><code>r←v b x;h;k
h←1⋄k←≢x
→0×⍳0&gt;r←k-h⋄→0×⍳v=x[r←h+⌊r÷2]⋄→3×⍳x[r]&lt;v⋄k←r-1⋄→2
h←r+1⋄→2
</code></pre>
<p>--11+8+49+8+ 3=79</p>
<p>The function binsearch in APL; indented, with line number useful for see the goto;
goto 0, or →0 it means out of function...</p>
<pre><code>  r←v b x;h;k
1 h←1⋄k←≢x
2 →0×⍳0&gt;r←k-h⋄→0×⍳v=x[r←h+⌊r÷2]⋄→3×⍳x[r]&lt;v⋄k←r-1⋄→2
3                                       h←r+1⋄→2
</code></pre>
<p>some test:</p>
<pre><code>  55 b ,1 
¯1
  55 b ,55 
1
  2 b 1 2 8 55 75    
2
  1 b 1 2 8 55 75   
1
  75 b 1 2 8 55 75  
5
  5 b 1 2 8 55 75  
¯1
  95 b 1 2 8 55 75  
¯1
  0 b 1 2 8 55 75     
¯1
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 104 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def b(A,k,l=0,z=-1):
 r=len(A)
 while l&lt;r:l,r=[[l,m:=l+r&gt;&gt;1],[m+1,r]][A[m]&lt;k];z=[z,m][A[m]==k]
 return z
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=fY9BCoMwFET3niLLBL9gsLZi_YLnCKEgjSgmqYRIaa7SjZv2Tr1NBdutzGp4MI95vqeH7292WV6z75Li019VR1rawAgaUwiYcFZGxKFWljYsIvd-0IroypUaHAqhwZSoY1fXXIIwMQcnpWiEkdUozwFFALN1xFGuS8rPzpLw810mN1hPWyo4ZJDDEU5QrOGphJyxaAfzdJ_nh4yxTfO_9wU" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Would love to have this go lower than 100 bytes but this is what I can do for now</p>
</div>
<div id="pu2" class="pu"><h2>Common Lisp, <s>142</s> 143 bytes</h2>

<p><em>Having seen some of the comments about recursive vs iterative, I'd point out that in any implementation with tail-call optimization, the second (original) solution</em> is <em>iterative.</em></p>

<h3>pure iterative, with <code>do</code> loop (143):</h3>

<pre><code>(lambda(a e)(do((l 0)(h(length a)))((&lt;= h l)-1)(let*((m(ash(+ h l)-1))(x(aref a m)))(if(= x e)(return m)(if(&lt; e x)(setf h m)(setf l(1+ m)))))))
</code></pre>

<p></p>

<pre><code>(lambda (a e)
    (do ((l 0)
         (h (length a)))
        ((&lt;= h l) -1)
      (let* ((m (ash (+ h l) -1))
             (x (aref a m)))
        (if (= x e)
            (return m)
            (if (&lt; e x)
                (setf h m)
                (setf l (1+ m)))))))
</code></pre>

<h3>recursive (142)</h3>

<pre><code>(defun b(a e &amp;optional(l 0)(h(length a)))(if(&lt;= h l)-1(let*((m(ash(+ h l)-1))(x(aref a m)))(if(= x e)m(if(&lt; e x)(b a e l m)(b a e(1+ m)h))))))
</code></pre>

<p></p>

<pre><code>(defun b (a e &amp;optional (l 0) (h (length a)))
  (if (&lt;= h l) -1
      (let* ((m (ash (+ h l) -1))
             (x (aref a m)))
        (if (= x e) m
            (if (&lt; e x)
                (b a e l m)
                (b a e (1+ m) h))))))
</code></pre>

<p></p>

<pre><code>CL-USER&gt; (loop with array = #(1 3 5 6 7 8 8 10)
            for element in '(1 7 5 3 2 4 6)
            collect (b array element))
(0 4 2 1 -1 -1 3)
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Prolog, 146 bytes</h1>
<p>I made the assumption that a program returning easy to understand truthy/falsy values is OK, as adding code just to return -1/1 instead of true/false in a code-golf challenge seems counter-productive.<br>
So the program returns <strong>true</strong> if the value is present in the list, otherwise <strong>false</strong>.<br></p>
<pre><code>s(F,S,L):-append(F,S,L),length(F,G),length(S,T),T&gt;=G,T-G&lt;2.
c(L,X):-s(_,[X|_],L).
c(L,X):-s(_,[M|T],L),X&gt;M,c(T,X).
c(L,X):-s(F,[_|_],L),c(F,X).
</code></pre>
<p><strong>How it works</strong><br></p>
<pre><code>s(F,S,L):-append(F,S,L),length(F,G),length(S,T),T&gt;=G,T-G&lt;2.
</code></pre>
<p>Helper function that takes the list <strong>L</strong> and splits it in the middle into the lists <strong>F</strong> and <strong>S</strong> where <strong>F</strong> is the lower part of the list.
If <strong>L</strong> has an odd number of elements, <strong>S</strong> is one element larger than <strong>F</strong>.<br></p>
<pre><code>c(L,X):-s(_,[X|_],L).
</code></pre>
<p>Succeeds if the sought after element <strong>X</strong> is in the middle of list <strong>L</strong>.</p>
<pre><code>c(L,X):-s(_,[M|T],L),X&gt;M,c(T,X).
</code></pre>
<p>Checks for <strong>X</strong> in the higher part of the list if <strong>X</strong> is bigger than the middle element of list <strong>L</strong>.</p>
<pre><code>c(L,X):-s(F,[_|_],L),c(F,X).
</code></pre>
<p>Checks for <strong>X</strong> in the lower part of the list if <strong>X</strong> is smaller than the middle element of list <strong>L</strong>.<br>
As the previous predicates are checked first we can save a few bytes by not doing a comparison here.<br><br>
<strong>Examples:</strong><br></p>
<pre><code>&gt; c([1,3,5,6,7,8,8,10],5).
true

&gt; c([1,3,5,6,7,8,8,10],543).
false
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Python 112 bytes</h1>

<pre><code>def b(A,k):
 l,h=0,len(A)
 while l&lt;h:
  m=(l+h)/2
  if A[m]&gt;k:h=m
  elif A[m]&lt;k:l=m+1
  else:return m
 return -1
</code></pre>

<p><strong>Example:</strong></p>

<p><code>print b([1,3,5,6,7,8,8,10], 5)</code></p>

<p><code>2</code></p>
</div>
<div id="pu5" class="pu"><h1>C – 119 <s>115</s> bytes</h1>
<p>Iterative solution at 119 bytes:</p>
<pre><code>f(a,x,l,h)int*a,x,l,h;{while(l&lt;h){int m=(h+l)/2;if(a[m]&gt;x)h=m;else if(a[m]&lt;x)l=m+1;else return m;}return a[l]==x?l:-1;}
</code></pre>
<p>Recursive solution at 115 bytes:</p>
<pre><code>f(a,x,l,h)int*a,x,l,h;{if(l==h)return a[l]==x?l:-1;int m=(h+l)/2;return a[m]&gt;x?f(a,x,l,m):(a[m]&lt;x?f(a,x,m+1,h):m);}
</code></pre>
<p>You can precede with <code>int </code> to prevent compiler warnings or if you're using <code>gcc</code> compile with <code>-Wno-implicit-int</code>. Sample:</p>
<pre><code>#include &lt;stdio.h&gt;

f(a,x,l,h)int*a,x,l,h;{while(l&lt;h){int m=(h+l)/2;if(a[m]&gt;x)h=m;else if(a[m]&lt;x)l=m+1;else return m;}return a[l]==x?l:-1;}

int main()
{
    int x, a[] = {-10, -8, -6, -4, -2, 0, 2, 4, 6, 8, 10};

    for (x = -15; x &lt;= 15; x++)
        printf(&quot;%d\t%d\n&quot;, x, f(a, x, 0, 10));

    return 0;
}
</code></pre>
</div>
<div id="pu6" class="pu"><h1>C++14, <s>87</s> 85 bytes</h1>

<pre class="lang-c prettyprint-override"><code>#include&lt;algorithm&gt;
[](int i,auto v){return std::binary_search(begin(v),end(v),i)-1;}
</code></pre>
<p>Assumes a sorted data structure which has iterators as input.</p>
<p><strong>Example:</strong></p>
<pre class="lang-c prettyprint-override"><code>#include&lt;algorithm&gt;
#include&lt;iostream&gt;

auto f = [](int i, auto v){ return std::binary_search(begin(v), end(v), i) - 1; };

int main()
{
    std::vector&lt;int&gt; v = { 1, 2, 3, 4, 5 };
    
    std::cout &lt;&lt; f(3, v);
}
</code></pre>
</div>
<div id="pu7" class="pu"><h2><a href="http://autoitscript.com/forum" rel="nofollow">AutoIt</a>, 92 bytes</h2>

<p>This function binary searches an array in-memory and replaces it with an integer holding the index (or -1 if not found). Array needs to be sorted to work with the binary search:</p>

<pre><code>#include &lt;Array.au3&gt;
Func b(ByRef $a,$n)
_ArraySort($a)
$a=_ArrayBinarySearch($a,$n)
EndFunc
</code></pre>

<p>Testing:</p>

<pre><code>Local $a = [1,2,3,4,5,6,7,8,9,10]
b($a,5)
ConsoleWrite($a &amp; @LF)
</code></pre>

<p>Output: <code>4</code></p>
</div>
<div id="pu8" class="pu"><h3>JavaScript (94 bytes)</h3>

<pre><code>(a,e)=&gt;{u=a.length,m=0;for(l=0;l&lt;=u;)e&gt;a[m=(l+u)&gt;&gt;1]?l=m+1:u=e==a[m]?-2:m-1;return u==-2?m:-1}
</code></pre>

<p>Expanded out a little so you can see what's going on:</p>

<pre><code>function binary_search(array, elem) {
    let u = array.length, m;
    for (let l = 0; l &lt;= u;)
        if (elem &gt; array[(m = (l + u) &gt;&gt; 1)]) l = m + 1;
        else u = (elem == array[m]) ? -2 : m - 1;
    return (u == -2) ? m : -1;
}
</code></pre>

<p>Example usage:</p>

<pre><code>&gt; a = [1,2,3,4,5,6,7,8,9,10]
&gt; binary_search(a, 5)
4
&gt; binary_search(a, 15)
-1
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/63726/">63726</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




