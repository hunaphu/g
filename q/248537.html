<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::248537</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>112</td><td>05AB1E legacy</td><td>250627T033718Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/282410#282410">Lucenapo</a></td></tr>
<tr d-ix="1"><td>538</td><td>R</td><td>220613T213030Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248594#248594">Dominic </a></td></tr>
<tr d-ix="2"><td>347</td><td>Python</td><td>220613T192930Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248589#248589">loopy wa</a></td></tr>
<tr d-ix="3"><td>112</td><td>Husk</td><td>220613T153422Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248581#248581">Dominic </a></td></tr>
<tr d-ix="4"><td>022</td><td>22 bytes total</td><td>220613T162106Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248583#248583">Cong Che</a></td></tr>
<tr d-ix="5"><td>9312</td><td>Python</td><td>220613T071647Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248549#248549">pxeger</a></td></tr>
<tr d-ix="6"><td>6511</td><td>JavaScript ES6</td><td>220613T084517Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248562#248562">Arnauld</a></td></tr>
<tr d-ix="7"><td>011</td><td>Retina</td><td>220613T131325Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248574#248574">m90</a></td></tr>
<tr d-ix="8"><td>224</td><td>x86 32bit machine code</td><td>220613T124311Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248573#248573">m90</a></td></tr>
<tr d-ix="9"><td>014</td><td>Octave</td><td>220613T124249Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248572#248572">flawr</a></td></tr>
<tr d-ix="10"><td>6612</td><td>Zsh</td><td>220613T070530Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248547#248547">pxeger</a></td></tr>
<tr d-ix="11"><td>012</td><td>Brachylog</td><td>220613T090941Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248564#248564">Fatalize</a></td></tr>
<tr d-ix="12"><td>167</td><td>sh + coreutils</td><td>220613T095142Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248569#248569">matteo_c</a></td></tr>
<tr d-ix="13"><td>336</td><td>Factor</td><td>220613T094158Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248568#248568">chunes</a></td></tr>
<tr d-ix="14"><td>034</td><td>Haskell</td><td>220613T092335Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248567#248567">matteo_c</a></td></tr>
<tr d-ix="15"><td>336</td><td>Charcoal</td><td>220613T091111Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248565#248565">Neil</a></td></tr>
<tr d-ix="16"><td>003</td><td>BQN</td><td>220613T080246Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248559#248559">Bubbler</a></td></tr>
<tr d-ix="17"><td>112</td><td>Vyxal</td><td>220613T074836Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248554#248554">emanresu</a></td></tr>
<tr d-ix="18"><td>8412</td><td>Retina</td><td>220613T073648Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248553#248553">Neil</a></td></tr>
<tr d-ix="19"><td>003</td><td>J</td><td>220613T073244Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248552#248552">Ad&#225;</a></td></tr>
<tr d-ix="20"><td>004</td><td>APL Dyalog Unicode</td><td>220613T073106Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248551#248551">Ad&#225;</a></td></tr>
<tr d-ix="21"><td>224</td><td>K ngn/k</td><td>220613T072435Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248550#248550">Bubbler</a></td></tr>
<tr d-ix="22"><td>007</td><td>Wolfram Language Mathematica</td><td>220613T070516Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248546#248546">att</a></td></tr>
<tr d-ix="23"><td>007</td><td>Pascal FPC</td><td>220613T062216Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248544#248544">tsh</a></td></tr>
<tr d-ix="24"><td>017</td><td>Julia</td><td>220613T051359Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248540#248540">Czylabso</a></td></tr>
<tr d-ix="25"><td>112</td><td>Jelly</td><td>220613T045452Z</td><td><a href="https://codegolf.stackexchange.com/questions/248537/give-f-and-g-that-sometimes-commute/248538#248538">Anders K</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/tree/fb4a2ce2bce6660e1a680a74dd61b72c945e6c3b" rel="nofollow noreferrer">05AB1E (legacy)</a>, 1+1=2 bytes</h1>
<pre><code>·
</code></pre>
<p><a href="https://tio.run/##MzBNTDJM/f//0Pb//80A" rel="nofollow noreferrer" title="05AB1E (legacy) – Try It Online">Try it online!</a></p>
<p>Doubles the input.</p>
<pre><code>É
</code></pre>
<p><a href="https://tio.run/##MzBNTDJM/f//cOf//2YA" rel="nofollow noreferrer" title="05AB1E (legacy) – Try It Online">Try it online!</a></p>
<p>Given <code>input % 2</code>.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 5 + 3 = 8 bytes</h1>
<pre><code>nchar
</code></pre>
<pre><code>abs
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGCpaUlaboWa9Ns85IzEou40m0Tk4ohYjedixMLCnIqNXQNDawMDXTSSvOSSzLz8zQqNNM00oGkpiYXThXpGmlgFRCjYNYAAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Commutative for positive values &amp; zero, non-commutative for negative values (since the minus sign is counted as a character by <code>nchar</code>).</p>
</div>
<div id="pu2" class="pu"><h1>Python, 3+4 = 7 bytes</h1>
<p><code>abs</code></p>
<p><code>hash</code></p>
<p>These two builtins commute for most integers.</p>
<p>But not all:</p>
<p>The following depends on an implementation detail of CPython; I didn't find an official spec, below I give my best guess:</p>
<p><code>hash</code> maps integers onto themselves modulo <code>2**61-1</code> (which appears to be the 9th Mersenne prime; also, this may depend on the bitness (32/64 etc.) of the C long of the platform) while keeping the sign (so <code>-4</code> does not map to <code>2**61-5</code> but to <code>-4</code>). Therefore <code>hash(-n)==-hash(n)</code> for all integers except those which equal <code>+/-1</code> modulo <code>2**61-1</code> because in the underlying <code>C</code> implementation <code>-1</code> is used as an error indicator. So, whenever the hash would be <code>-1</code>, <code>-2</code> is returned instead.</p>
<p><a href="https://tio.run/##K6gsycjPM/7/Py2/SKFCITNPIdpQR9dQx0hLywzIgFDGWlqmBjq6YCrWikuhoCgzr0SjQicjsThDo0JTR6NCVQOsUtdQUzMzTaHCzkAhNac4VUFXQxdZSvP/fwA" rel="noreferrer">Minimal demo at TIO</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 1+1 = 2 bytes</h1>
<pre><code>ṗ
¬
</code></pre>
<p><a href="https://tio.run/##yygtzv6fe2h5qsajpsZHTU2aQLoJyNT8/3DndK5Da/7//x9tqGOkY6xjomOqY6ZjrmOhY6ljaKBjaBgLAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>There are several 1+1 bytes pairs that work in <a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a> (including a port of the absolute-value/offset approach [<a href="https://tio.run/##yygtzv6fe2h5qsajpsZHTU2aQLoJyNT8n8j1qG3S////o3VNdXRNdHSNdXSNdHQNdQx0DHWMdIx1THRMYwE" rel="nofollow noreferrer"><code>a</code>/<code>→</code></a>] that separates <code>a</code>/<code>b</code> by positive/negative values, and <a href="https://tio.run/##yygtzv6fe2h5qsajpsZHTU2aQLoJyNT8/6htCpfLf2WF5Pzc3NKSxJLMslSFtPwihbzS3KTUomKF8sySDIXEnByFlMz0zJJiBRvT//@jDXWMjHVMTHUMjYyMjXWMTU3NzYFsYxMdM3MLSxDLMhYA" rel="nofollow noreferrer">some</a> <a href="https://tio.run/##yygtzv6fe2h5qsajpsZHTU2aQLoJyNT8n8h1bsF/ZYXk/Nzc0pLEksyyVIW0/CKFgvziTDAnrzQ3KbWoWEEjv7SkoLSkWCEtMbkkvygzMUfTGqwyLzU9EUWleuK5BeoKMOWGCol5KQrq5xYkIsTgRvz/H61rqqNroqNrrKNrpKNrqGOgY6hjpGOsY6JjGgsA" rel="nofollow noreferrer">other</a> interesting approaches).</p>
<p>But I like this one best: <code>ṗ</code> and <code>¬</code> are commutative only for prime numbers, and non-commutative for all positive non-prime integers.</p>
<pre><code>ṗ    # index of x in the infinite list of primes, or zero if non-prime
D    # logical NOT
</code></pre>
<p>So:</p>
<pre><code>ṗ¬   # outputs zero for all nonzero inputs
¬ṗ   # outputs 1 for non-primes, zero for prime numbers
</code></pre>
</div>
<div id="pu4" class="pu"><h1>22 bytes total</h1>
<h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 15 bytes</h1>
<pre><code>\(x)round(x,-2)</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGSNAVbhaWlJWm6FutjNCo0i_JL81I0KnR0jTQhomsKijLzSjTSNEwNNKFCCxZAaAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 7 bytes</h1>
<pre><code>\(x)x^2</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGSNAVbhaWlJWm6FstjNCo0K-KMILw1BUWZeSUaaRqmBpqaEKEFCyA0AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Commutes for x 0 mod 100, doesn't for x 0 mod 10 but not 0 mod 100.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 9 + 3 = 12 bytes</h1>
<p><span class="math-container">\$ f(x) = \operatorname{bitwise\_or}(x, 1) = \begin{cases} x &amp; x \text{ is odd} \\ x + 1 &amp; x \text{ is even} \end{cases} \$</span></p>
<pre>1 .__or__</pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhYrDRX04uPzi-LjIfxtBUWZeSUaaRogMjOvoLREQxMIIJILFukaQ1gA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><span class="math-container">\$ g(x) = \lvert x \rvert = \begin{cases} x &amp; x \ge 0 \\ -x &amp; x \le 0 \end{cases} \$</span></p>
<pre>abs</pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhaLE5OKIaxtBUWZeSUaaRogMjOvoLREQxMIIJILFukaQ1gA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Commutes for all <span class="math-container">\$ x \$</span> except negative even numbers.</p>
<p>If <span class="math-container">\$ x \$</span> is positive or odd, then at least one of <span class="math-container">\$ f \$</span> and <span class="math-container">\$ g \$</span> will act as the identity function <span class="math-container">\$ \operatorname{id} \$</span> and return <span class="math-container">\$ x \$</span> unchanged. In that case, clearly, they commute:</p>
<p><span class="math-container">$$
h(\operatorname{id}(x)) = h(x) = \operatorname{id}(h(x))
$$</span></p>
</div>
<div id="pu6" class="pu"><h1>JavaScript (ES6), 6 + 5 = 11 bytes</h1>
<p>These functions commute for odd negative values and for even non-negative values. They do not commute for the other cases.</p>

<pre class="lang-javascript prettyprint-override"><code>f=
x=&gt;x%2 // 6 bytes
g=
x=&gt;~x  // 5 bytes
</code></pre>
<p><a href="https://tio.run/##ZU5BTsMwELznFXtBXitxSgpFguDyiB6jHEzqhFRpHDlWZEThBUhcOMI/eA8f4AnBToMEYrWWRzO7O7MTg@gLXXeGtWorx7HkgeVre7KExQIu4PbeyD6oJvLJgidXR3IsVNurRsaNqpCAhQOUWKGl1KEKyxnthSnuCE2DP@OMsZD91D/kx4NSabTAga1Sd/yag//DkMJDANBIA/rUqbNl5DhfOnHcbJ467rdpZiO3414SASF5vBcd4hBBTYGvAYfYqI3RdVshhRAIkFjLTgqDmVs4nzrJszqnNO7EdmOEdtJZBJdTL2dpp@oWyYH4G@gjch/qBsjn2@vXxwuBKwffn4nP9zh@Aw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>The sign of the modulo in JS is the sign of the numerator. So the functions are more formally defined as:</p>
<p><span class="math-container">$$\begin{align}&amp;f(x)=\cases{0&amp;if $x$ is even\\-1&amp;if $x&lt;0$ and $x$ is odd\\1&amp;if $x&gt;0$ and $x$ is odd}\\
&amp;g(x)=-x-1\end{align}$$</span></p>
<p>For odd negative values, we have: <span class="math-container">\$\cases{g(f(x))=g(-1)=0\\f(g(x))=f(-x-1)=0}\$</span></p>
<p>For even negative values, we have: <span class="math-container">\$\cases{g(f(x))=g(0)=-1\\f(g(x))=f(-x-1)=1}\$</span></p>
<p>For odd non-negative values, we have: <span class="math-container">\$\cases{g(f(x))=g(1)=-2\\f(g(x))=f(-x-1)=0}\$</span></p>
<p>For even non-negative values, we have: <span class="math-container">\$\cases{g(f(x))=g(0)=-1\\f(g(x))=f(-x-1)=-1}\$</span></p>
<h3>Generalization</h3>
<p>We can actually use any modulo <span class="math-container">\$m&gt;1\$</span> for <span class="math-container">\$f\$</span>, making the non-commutative cases more and more sparse as <span class="math-container">\$m\$</span> increases (but obviously, we'd still get infinitely many of them).</p>
<p><a href="https://tio.run/##ZY5LSsRAEIb3OUVtpKvJY4wYQWOPh5hlyKLNJDFDJh06TWhx9ASCG5d6D8/jBTxCrM5EUCyq4Oerx187Ocqh0E1vwk5ty2mqhGfF2p4ksFrBBdzem3Lw6hk@WXAwOcKpUN2g2jJqVY0MwMIBKqzRck6qxmpRe2mKO8ZT7898SOGHP/FPuXmvUhotCAjjJKXz1wJm4fscHjyAtjSgT6m/uAbEXOiY2OKfEvvtm9mAdqjiABjLo73sEccAGg5iDThGRm2MbroaOfjAgEW67EtpMKOF8znjPGtyzqNebjdGamoRvJzzbGntVNMhOzB3A92Lwj11A@zz7fXr44XBFcn3Z@b@e5y@AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a> (example with <span class="math-container">\$m=5\$</span>)</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="noreferrer">Retina</a>, 0 + 1 = 1 byte</h1>
<pre><code></code></pre>
<p><a href="https://tio.run/##K0otycxLNPwPBIZGxiamZuYWlgA" rel="noreferrer" title="Retina – Try It Online">Try it online!</a></p>
<p>This is a Count stage that matches an empty string at the start, between every two consecutive digits, and at the end. This produces the number of digits plus 1.</p>
<hr />
<pre><code>.
</code></pre>
<p><a href="https://tio.run/##K0otycxLNPz/X@//f0MjYxNTM3MLSwA" rel="noreferrer" title="Retina – Try It Online">Try it online!</a></p>
<p>This is a Count stage that matches every digit, producing the number of digits.</p>
<hr />
<p>Applying these in the two possible orders gives <span class="math-container">\$\mathrm{ndigits}(\mathrm{ndigits}(n))+1\$</span> and <span class="math-container">\$\mathrm{ndigits}(\mathrm{ndigits}(n)+1)\$</span>, which are equal if and only if <span class="math-container">\$\mathrm{ndigits}(n)\$</span> is 1 less than a power of 10.</p>
</div>
<div id="pu8" class="pu"><h1>x86 32-bit machine code, 2 + 2 = 4 bytes</h1>
<pre><code>40 C3
98 C3
</code></pre>
<p><a href="https://tio.run/##nVJNT8MwDD03v8IUTUrWDXUbArRSLpy5cEJiaErTJIvUplM/tE7b@OkUp9OGEAcQFz/Z79nPiSzGWoiu41UO9NmnRM09YwVI3hKvlDXRc09sUnlMmM8islzyui5N0tSS0lLqNS9zOmGMgbE1KOpi@6tOn3XkEg2zJpVwX9WpKa5WD8RxOTeWMrIjnipK6OUcYggjhIsYrhGDgBHvi06QHk8iROSniEfeMwooh/0e3pM@37ng9f7YwWEIs@ntzR0EkEQ9tS6RVNRXVNOBwY1jGJiF9UfQjsAVW3zGd6mm6qfUFc/SA/HIWb6wC/vExcpYCaJI5RxbnOy0VDiCLaZpAbtTyyCcvgDO3caUNrYy2soUxIqXQ6bYaxsEbyw6wGZlMgl0674gbB9nbuhpAi4IybaWFTsu6Lje7O9O@v9OeEBNaZ3Zoes@hMq4rrpxPptiwPOLsVNmnw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>Uses the <code>regparm(1)</code> calling convention – argument in EAX, result in EAX.</p>
<p>In assembly:</p>
<p><code>inc eax; ret</code> – <span class="math-container">\$f\$</span> simply adds 1 to a number.</p>
<p><code>cwde; ret</code> – <span class="math-container">\$g\$</span> sign-extends the low 16 bits of EAX, duplicating bit 15 into all the higher bits.</p>
<p>If the low 15 bits are not all 1, these two functions do not interact, thus they commute.</p>
<p>If the low 16 bits are 1111 1111 1111 1111, either order of functions results in 0.</p>
<p>If the low 16 bits are 0111 1111 1111 1111, applying <span class="math-container">\$f\$</span> then <span class="math-container">\$g\$</span> results in -32768, while applying <span class="math-container">\$g\$</span> then <span class="math-container">\$f\$</span> results in 32768.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a>, 14 bytes</h1>
<p>I haven't seen anyone use this one yet, it might work better in another language. (And it is definitely possible to do better in Octave!)</p>

<pre class="lang-matlab prettyprint-override"><code>@(x)x&lt;0
@(x)x&gt;0
</code></pre>
<p>The key here is that <code>true == 1</code> and <code>false == 0</code>.
<a href="https://tio.run/##y08uSSxL/Z9mq6en999Bo0KzwsaAC0zbGfxPt03MK@aqULBV0DW1MrXmqjQEMtM00oHSmkCeEZCXrpEG4aVkFhdogBTYKlQaaVr/BwA" rel="nofollow noreferrer" title="Octave – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 6 + 6 = 12 bytes</h1>
<pre>tr 1 2</pre>
<p><a href="https://ato.pxeger.com/run?1=m724qjhjwYKlpSVpuhbLSooUDBWMIByo2IIlhkbGJhA2AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre>tr 2 3</pre>
<p><a href="https://ato.pxeger.com/run?1=m724qjhjwYKlpSVpuhbLSooUjBSMIRyo2IIlhkbGJhA2AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>The first program replaces <code>1</code>s with <code>2</code>s; the second replaces <code>2</code>s with <code>3</code>s. These commute only for numbers not containing the digit <code>1</code>.</p>
<hr />
<p>Old answer:</p>
<h2><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 10 + 10 = 20 bytes</h2>
<p><span class="math-container">\$ f(x) = \lfloor \frac x 2 \rfloor \$</span></p>
<pre>&lt;&lt;&lt;$[$1/2]</pre>
<p><a href="https://ato.pxeger.com/run?1=m724qjhjwYKlpSVpuharbGxsVKJVDPWNYiECUPGl0WbmxrFQDgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><span class="math-container">\$ g(x) = 2x \$</span></p>
<pre>&lt;&lt;&lt;$[$1*2]</pre>
<p><a href="https://ato.pxeger.com/run?1=m724qjhjwYKlpSVpuharbGxsVKJVDLWMYiECUPGl0cbGZrFQDgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>For even <span class="math-container">\$ x \$</span>, <span class="math-container">\$ f(x) = \frac x 2 \$</span>, so <span class="math-container">\$ g(f(x)) = x \$</span>.</p>
<p>But for odd <span class="math-container">\$ x \$</span>, <code>/2</code> rounds downwards, so <span class="math-container">\$ f(x) = f(x-1) \$</span>, so <span class="math-container">\$ g(f(x)) = x - 1 \ne x \$</span></p>
<p><span class="math-container">\$ g(x) \$</span> is always even, so for all <span class="math-container">\$ x \$</span>, <span class="math-container">\$ f(g(x)) = x \$</span>.</p>
<p>Therefore, <span class="math-container">\$ f(g(x)) = g(f(x)) \$</span> if and only if <span class="math-container">\$ x \$</span> is even.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 1 byte (or 2 bytes if including call modifier)</h1>
<pre><code>b
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r/qG3Do6bGOgj1P@n/fyMj0/9RAA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<p><strong>I don’t know exactly if that’s bending the rules or not, let me know.</strong></p>
<p>In this single program, <code>f(x)</code> is <code>b - behead</code>, with a given input and an unknown output, and <code>g(x)</code> is also <code>b - behead</code>, but with a given output and an unknown input.</p>
<p>You can run <code>f(g(x)</code> with <code>↰₁~↰₁</code> in the header, and <code>g(f(x))</code> with <code>~↰₁↰₁</code>. This is why I’m ok with this being scored as 2 bytes, as you need to use <code>~</code> to &quot;reverse&quot; the program’s calling order.</p>
<h3>Explanation</h3>
<p><code>b</code> asserts that its output is the input without the first element.</p>
<ul>
<li><p>For all positive integers that begin with a leading <code>1</code> (except <code>1</code> itself), <code>f(g(x))</code> will remove this leading 1, and then add an unknown leading digit back. Since <code>0</code> cannot be a leading digit, this leading digit will unify with <code>1</code> as the next possibility, and so <code>f(g(x)) = x</code>. Similarily, <code>g(f(x))</code> will append an unknown leading digit first, and then remove it, so once again <code>g(f(x)) = x = f(g(x))</code>.</p>
</li>
<li><p>For all positive integers that don’t begin with a leading <code>1</code> (and <code>1</code>), <code>f(g(x))</code> will remove the leading digit, and then append an unknown leading digit, which will unify with <code>1</code> as it is the first possibility. Since the initial leading digit wasn’t <code>1</code>, we have <code>f(g(x)) ≠ x</code>. On the other hand, <code>g(f(x))</code> will append an unknown leading digit, and then remove it, leaving <code>x</code> unchanged. So we have <code>g(f(x)) = x ≠ f(g(x))</code>.</p>
</li>
</ul>
<p>Obviously, there are infinitely many positive integers that start with a leading <code>1</code>, and infinitely many positive integers that don’t.</p>
</div>
<div id="pu12" class="pu"><h1>sh + coreutils, 16 + 7 bytes</h1>
<pre><code>(cat;echo +1)|bc
tr -d -
</code></pre>
<p>The first function adds one to the number given in input; the second function calculates the absolute value. The composition here is intended as piping the output of one into the other, that is:</p>
<pre><code>echo -n &quot;-12&quot; | (cat;echo +1)|bc | tr -d -
echo -n &quot;-12&quot; | tr -d - | (cat;echo +1)|bc
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a>, 3 + 3 = 6 bytes</h1>
<pre><code>abs
</code></pre>

<pre><code>?1+
</code></pre>
<p><a href="https://tio.run/##S0tMLskv@h8a7OnnbqWQm1iSoVBQlFpSUllQlJlXopCZr2D9/7@pQmJSsYK9obaCHpcpmAbx9bjycrh0keV0kST/AwA" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<p>Absolute value and increment. (<code>?1+</code> is a single word/function that always increments integers by one or changes <code>f</code> [Factor's canonical false value] to <code>0</code>.) Factor does not come with a 'normal' increment word, such as <code>1+</code> in Forth.</p>
</div>
<div id="pu14" class="pu"><h1>Haskell, 3 + 4 bytes</h1>
<pre><code>abs
(+1)
</code></pre>
<p>If <code>x</code> is non-negative the functions commute, otherwise they do not.</p>
<h1>Haskell, 4 + 8 bytes</h1>
<pre><code>(*2)
(`div`2)
</code></pre>
<p>If <code>x</code> is even, the functions commute.
If <code>x</code> is odd, <code>(``div`` 2) $ (*2) x</code> is equl to <code>x</code>, while  <code>(*2) $ (``div`` 2) x</code> is equal to <code>x-1</code>.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 3 + 3 = 6 bytes</h1>
<pre><code>Ｉ↔Ｎ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMM5sbhEwzGpOD@ntCRVwzOvoLTErzQ3KbVIQxMIrP//1zU0MDL5r1uWAwA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code.</p>
<pre><code>Ｉ⊕Ｎ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMM5sbhEwzMvuSg1NzWvJDUFyC4oLfErzU1KLdLQBALr//91DQ2MTP7rluUAAA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code.</p>
<p>Another port of @att's Mathematica answer.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://mlochbaum.github.io/BQN/" rel="nofollow noreferrer">BQN</a>, 3 bytes (SBCS)</h1>
<pre class="lang-none prettyprint-override"><code>|¬
|
</code></pre>
<p><a href="https://mlochbaum.github.io/BQN/try.html#code=RuKGkHzCrApH4oaQfAp44oaQwq8xMCvihpUyMAooRiBHIHgp4omNKEcgRiB4KQ==" rel="nofollow noreferrer">Try it online!</a></p>
<p><code>abs(1-x)</code> and <code>abs(x)</code> respectively. <code>f(g(x)) = abs(1-abs(x))</code> and <code>g(f(x)) = abs(abs(1-x)) = abs(1-x)</code>. The results differ if and only if <code>x</code> is negative.</p>
<pre><code>   F←|¬
   G←|
   x←¯10+↕20
   (F G x)≍(G F x)
┌─                                           
╵  9  8 7 6 5 4 3 2 1 0 1 0 1 2 3 4 5 6 7 8  
  11 10 9 8 7 6 5 4 3 2 1 0 1 2 3 4 5 6 7 8  
                                            ┘
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 1 + 1 = 2 bytes</h1>
<p>f(x) = <a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCLigLkiLCIiLCIiXQ==" rel="nofollow noreferrer"><code>‹</code></a> and g(x) = <a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCLIpyIsIiIsIiJd" rel="nofollow noreferrer"><code>ȧ</code></a>.</p>
<p><code>ȧ</code> is absolute value and <code>‹</code> is decrement, so <span class="math-container">\$f(g(x))\$</span> = <span class="math-container">\$\left|x-1\right|\$</span> and <span class="math-container">\$g(f(x))\$</span> = <span class="math-container">\$ \left|x\right| - 1\$</span>, which are the same only on positive integers.</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 8 + 4 = 12 bytes</h1>
<pre><code>V`[1-9]+
</code></pre>
<p><a href="https://tio.run/##K0otycxLNPz/Pywh2lDXMlb7/39dQwMjEy4gaWLEZWhkbGJqZm5hacBlaWFuZmpibGRoAAA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Link includes test cases. Explanation: Reverses all runs of non-zero digits.</p>
<pre><code>L`.$
</code></pre>
<p><a href="https://tio.run/##K0otycxLNPyvquGe8N8nQU/l/39dQwMjEy4gaWLEZWhkbGJqZm5hacBlaWFuZmpibGRoAAA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Link includes test cases. Explanation: Outputs the last digit, without a sign.</p>
<p>The functions commute in a lot of cases such as the trivial ones of the input being a multiple of 10 or a repdigit.</p>
</div>
<div id="pu19" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 3 bytes</h1>
<p><code>|</code>  absolute value</p>
<p><code>&gt;:</code> increment</p>
<p><a href="https://tio.run/##y/r/P83WqoYr3dbKzup/anJGvkKaQrpCvJlCvKlCvIlCvLFCvJFCvKGCgYKhgpGCsYKJgqmCGRdYYTpQKQGF/wE" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>See <a href="https://codegolf.stackexchange.com/a/248546/43319">att's answer</a> for explanation.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 4 bytes</h1>

<p><code>|</code>  absolute value</p>
<p><code>1∘+</code> increment (lit. 1 curried to plus)</p>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///v8bwUccMbS4wWfM/7VHbhEe9fY@6mh/1rnnUu@XQetNHbRMf9U0NDnIGkiEensFc6RhqTNDVAM3pmJF@aIXCofVmQGwKxCZAbAzERkBsqGCgYKhgpGCsYKJgqmAGNLFjRhqxqgE" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
<p>See <a href="https://codegolf.stackexchange.com/a/248546/43319">att's answer</a> for explanation.</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 2 + 2 = 4 bytes</h1>
<pre><code>0=
1&gt;
</code></pre>
<p><a href="https://ngn.bitbucket.io/k#eJxLszKw5Uq3MrTj4rKqsNJQ1DU00NRRNDTgSldPU6/gSlNPV68AAI43CBA=" rel="nofollow noreferrer">Try it online!</a></p>
<ul>
<li>f: <code>0=</code>, returns 1 if the input is 0, 0 otherwise.</li>
<li>g: <code>1&gt;</code>, returns 1 if the input is 0 or negative, 0 otherwise.</li>
</ul>
<p><code>g</code> is boolean negation when the domain is limited to booleans (0 and 1). <code>f(x)</code> and <code>g(x)</code> are the same for <code>x&gt;=0</code> and different otherwise, and the same can be said for <code>g(f(x))</code> (negation of <code>f(x)</code>) and <code>f(g(x))</code> (negation of <code>g(x)</code>).</p>
<p>4 bytes is optimal in ngn/k since any monadic function is at least two bytes long.</p>
<p><a href="https://codegolf.stackexchange.com/a/248540/78410">Czylabson Asa's mod-2 and mod-3</a> are also the same length in K: <code>2!</code> and <code>3!</code>.</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="noreferrer">Wolfram Language (Mathematica)</a>, 7 bytes</h1>
<pre><code>Abs
</code></pre>
<pre><code>#+1&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78/z/N1jGpmCvdVlnbUO1/QFFmXolDSGJSTmp0mkO6Q4WtbbpDmkOFTnWFjq6ljmVt7H8A" rel="noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p><span class="math-container">\$(f\circ g)(x)=|x+1|\$</span>, the distance of <span class="math-container">\$x\$</span> from <span class="math-container">\$-1\$</span>. <span class="math-container">\$(g\circ f)(x)=|x|+1\$</span>, one more than the distance of <span class="math-container">\$x\$</span> from <span class="math-container">\$0\$</span>. These are equal when <span class="math-container">\$x\ge0\$</span>, and unequal when <span class="math-container">\$x&lt;0\$</span>.</p>
<p><a href="https://i.sstatic.net/rLE9K.png" rel="noreferrer"><img src="https://i.sstatic.net/rLE9K.png" alt="Plot of abs(x) vs x+1" /></a></p>
<p>I suspect this is minimal. Trig functions such as <code>Sin</code> unfortunately are not <span class="math-container">\$\mathbb Z\to\mathbb Z\$</span>.</p>
</div>
<div id="pu23" class="pu"><h1><a href="https://www.freepascal.org/" rel="noreferrer">Pascal (FPC)</a>, 7 bytes</h1>
<pre class="lang-pascal prettyprint-override"><code>succ
</code></pre>
<pre class="lang-pascal prettyprint-override"><code>odd
</code></pre>
<p><a href="https://tio.run/##NYtBCoMwFET3OcXbmYAtdat4g14iTaJ8KInEtB4/TQUXA2/eMJvdnX3fls3VCl@bkRGJJawhT@oVVokKltQ848xASQwPfOLa4MhSwjNq6enoepL3ev84p8UYZk78u1bN1B4hetVyr/UH" rel="noreferrer" title="Pascal (FPC) – Try It Online">Try it online!</a></p>
<p><code>succ</code> acted as <span class="math-container">\$x \rightarrow x+1\$</span>; while <code>odd</code> acted as <span class="math-container">\$x \rightarrow x \bmod 2\$</span>. So <code>succ(odd(x)) = odd(succ(x))</code> iff x is even.</p>
</div>
<div id="pu24" class="pu"><h1>Julia, 17</h1>
<pre><code>f(n)=n%2;g(n)=n%3
</code></pre>
<p>consider the numbers of form 6k and 6k+3.</p>
<p><a href="https://ato.pxeger.com/run?1=m700qzQnM3HBgqWlJWm6FhvTNPI0bfNUjazTIQxjiPjNzKLEciUlJQxpoFiNXU5qXnpJhkKNnUJBUWZeSU4eV1p-kUKeQmaegoGVqQEXJ1RYQ0klT0HXTkFFI00DZICmpoI9kJOukQbmKGlypealQCyEOQgA" rel="nofollow noreferrer">ATO</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 1 + 1 = 2 bytes</h1>
<pre><code>Ḃ
</code></pre>
<p><span class="math-container">\$f(x) = x \bmod 2\$</span> (<a href="https://tio.run/##y0rNyan8///hjqb///8bGhkDAA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a>).</p>
<pre><code>Ḥ
</code></pre>
<p><span class="math-container">\$g(x) = 2x\$</span> (<a href="https://tio.run/##y0rNyan8///hjiX///83NDIGAA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a>). These functions commute only for even input.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/248537/">248537</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




