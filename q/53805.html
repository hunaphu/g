<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::53805</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>425</td><td>Python 3.8 prerelease</td><td>250220T144853Z</td><td><a href="https://codegolf.stackexchange.com/questions/53805/enter-your-name-via-a-d-pad/278321#278321">squarero</a></td></tr>
<tr d-ix="1"><td>482</td><td>Python  482 Bytes</td><td>150731T010310Z</td><td><a href="https://codegolf.stackexchange.com/questions/53805/enter-your-name-via-a-d-pad/54111#54111">J Atkin</a></td></tr>
<tr d-ix="2"><td>369</td><td>Ruby</td><td>150801T005200Z</td><td><a href="https://codegolf.stackexchange.com/questions/53805/enter-your-name-via-a-d-pad/54153#54153">Alex Rei</a></td></tr>
<tr d-ix="3"><td>670</td><td>Swift 1.2</td><td>150726T065628Z</td><td><a href="https://codegolf.stackexchange.com/questions/53805/enter-your-name-via-a-d-pad/53817#53817">David Sk</a></td></tr>
<tr d-ix="4"><td>675</td><td>C 675 Bytes</td><td>150728T160242Z</td><td><a href="https://codegolf.stackexchange.com/questions/53805/enter-your-name-via-a-d-pad/53969#53969">LambdaBe</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 425 bytes</h1>

<p>Based on <a href="https://codegolf.stackexchange.com/a/54111">J Atkin's answer</a>—go upvote that one.</p>
<pre class="lang-none prettyprint-override"><code>a=input()+'=';b=d=q=0;c=&quot;0123456789abcdefghijklmnopqrstuvwxyz-+^=&quot;;e=[0,1];f,g='+^';h=[i==' 'or'@'&lt;i&lt;'['for i in a];i=abs;p=lambda z:h[q:q+z]==[b]*z
def l(z):global s;k=c.index(z.lower().replace(' ','-'));m,n=s=[k%10,k//10];m-=e[0];n-=e[1];return min(i(m),i(10-m))+min(i(n),i(4-n))
def o(z):global d,e;d+=l(z);e=s
for r in a:
 if p(3):o(g);b^=1
 if p(2):
  if l(f)&lt;l(g):o(f)
  else:o(g);b^=1
 if p(1):o(f)
 o(r);q+=1
print(d)
</code></pre>
<p><a href="https://tio.run/##ZY9fS8MwFMXf9ymCIMm17dZuU2ezC4IPfojSQf@kXVyatGnntn75mU4FwadzOefA/Z32MuyNXm1ae71mKHV7HBh4FCnPscQOQ17gXRgtV@vHp@fNS5YXpajqvfw4qEabtrP9cPw8nS9j4O3wjgtMQj9KeeXXSL0d5XtMJCIl1Fj6SrdySxNaGUskkZpkKZeY5T1vUWVNXmZkjPdJF3femCImefowztw7otgIca1MninS8wMWc6lLcWbjXJmTsAzmVrQqKwRzj3waUADe@Bp7TA73UegfFosoTHkToEic6kkdpBXD0WrSSM0ka8CXLAqDBsD7dvTkrAMNcIMwfyBKX/DSw4nLTe5n0yJ7WxTPiKxIy1YQG1YDz3cY/VhLcOF0KlbBVrnUVSpwnlC9@FePfmPDLPDOc0FrpR5YCdfrmykFeTeq@gI" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1>Python <s>679</s> <s>661</s> <s>619</s> <s>602</s> <s>589</s> <s>576</s> <s>539</s> <s>520</s> <s>496</s> 482 Bytes</h1>
<p>Run this and it will ask for a input (without prompt text). For the input <code>Code Golf</code> it prints <code>43</code>.</p>
<pre class="lang-python prettyprint-override"><code>a=input()+'=';b=0;c=&quot;0123456789abcdefghijklmnopqrstuvwxyz-+^=&quot;;d=0;e=[0,1];f='+';g='^';h=[i.isupper()or i==' 'for i in a];i=abs;p=lambda z:all([i==b for i in z]);q=0
def l(z):global s;k=c.index(z.lower().replace(' ','-'));s=[k%10,int(k/10)];m,n=s;return sum([min(i(m-e[0]),i(10-(m-e[0]))),min(i(n-e[1]),i(4-(n-e[1])))])
def o(z):global d,e;d+=l(z);e=s
for r in a:
 if p(h[q:q+3]):o(g);b^=1
 if p(h[q:q+2]):
  if l(f)&lt;l(g):o(f)
  else:o(g);b^=1
 if p([h[q]]):o(f)
 o(r);q+=1
print(d)
</code></pre>
<hr />
<p>Full program:</p>
<pre class="lang-python prettyprint-override"><code>input = input() + '='
capsOn = False

keys = &quot;0123456789abcdefghijklmnopqrstuvwxyz-+^=&quot;
totalKeys = 0
caret = [0, 1]

shiftKey = '+'
capsKey = '^'

cases = [char.isupper() or char == ' ' for char in input]

def locate(char):
    &quot;&quot;&quot;
        Find the location of the char on the keyboard
        regardless of case
    &quot;&quot;&quot;
    location = keys.find(char.replace(' ', '-').lower())
    return [location % 10, int(location / 10)]


def dist(key):
    &quot;&quot;&quot;
        Calculate the min dist to a char
    &quot;&quot;&quot;
    nx, ny = locate(key)
    return sum([min(abs(nx - caret[0]), abs(10 - (nx - caret[0]))), min(abs(ny - caret[1]), abs(4 - (ny - caret[1])))])


def moveTo(char):
    &quot;&quot;&quot;
        Move the caret to the char, ignoring case and
        adds the dist to the tally
    &quot;&quot;&quot;
    global totalKeys, caret
    totalKeys = totalKeys + dist(char)

    print(keys[caret[0] + caret[1] * 10], '-&gt;', char, '=', dist(char))

    caret = locate(char)

diffCase = lambda case: all([i == capsOn for i in case])

for ind, ch in enumerate(input):
    if diffCase(cases[ind:ind + 3]): # use caps
        moveTo(capsKey)
        capsOn ^= 1
    elif diffCase(cases[ind:ind + 2]): # use closest
        if dist(shiftKey) &lt; dist(capsKey):
            moveTo(shiftKey)
        else:
            moveTo(capsKey)
            capsOn ^= 1
    elif diffCase([cases[ind]]): # use shift
        moveTo(shiftKey)

    moveTo(ch) # apply the move

print('Total:', totalKeys)
</code></pre>
<hr />
<h2>Extended output from the full program:</h2>
<pre><code>Code Golf
a -&gt; C = 2
c -&gt; ^ = 6
^ -&gt; o = 5
o -&gt; d = 2
d -&gt; e = 1
e -&gt; + = 5
+ -&gt; _ = 1
- -&gt; + = 1
+ -&gt; G = 3
g -&gt; o = 3
o -&gt; l = 3
l -&gt; f = 5
f -&gt; = = 6
Total: 43
</code></pre>
<hr />
<blockquote>
<p>Saved a byte thanks to @justin <a href="https://codegolf.stackexchange.com/a/18983/42736">https://codegolf.stackexchange.com/a/18983/42736</a><br />
4 @xnor <a href="https://codegolf.stackexchange.com/a/40791/42736">https://codegolf.stackexchange.com/a/40791/42736</a>
19 thanks to @Alex</p>
</blockquote>
</div>
<div id="pu2" class="pu"><h1>Ruby (369 bytes)</h1>

<p>Takes input from command line. </p>

<pre><code>K="0123456789"+('A'..'Z').to_a.join+" +^="
Q=K.downcase.sub' ','-'
def d x,y
t,s=(x/10-y/10).abs,(x%10-y%10).abs
[t,4-t].min+[s,10-s].min
end
def v s,i,l,a
return l if s.empty?
c,r=s[0],s[1..-1]
j=K.index(c.upcase)||36
return v(r,j,l+d(i,j),a)if a.include?c
s,p=d(i,37)+d(37,j),d(i,38)+d(38,j)
[v(r,j,l+s,a),v(r,j,l+p,a==K ? Q : K)].min
end
puts v("#{ARGV[0]}=",10,0,K)
</code></pre>

<p>Saved a bunch of bytes thanks to @Charlie :)</p>
</div>
<div id="pu3" class="pu"><h1>Swift 1.2, <s>812</s> <s>588</s> 670 bytes</h1>

<p>Edit: Removed 224 bytes by replacing the large arrays of numbers with a Range and converting it to an Array instead.</p>

<p>Edit2: Added looping vertically</p>

<pre><code>typealias S=String
typealias I=Int
var A:(I)-&gt;S={S(UnicodeScalar($0))},B:(I)-&gt;(I,I)={a in(a%10,a/10)},a=Array(48...57).map{A($0)},b=[a+(Array(65...90)+[32,43,94,61]).map{A($0)},a+(Array(97...122)+[45,43,94,61]).map{A($0)}],z=Process.arguments
z.removeAtIndex(0)
func C(e:I,f:I)-&gt;I{let(a,b)=B(e),(c,d)=B(f)
return min(abs(d-b), abs(4-(d-b)))+min(abs(c-a),abs(10-(c-a)))}
func D(c:S,_ e:I=10,_ f:Bool=false,_ g:Bool=false)-&gt;I{if count(c)==0{return C(e,39)}
let h=c.startIndex,i=c.endIndex,j=S(c[h])
if let k=find(b[f ?1:0],j){return C(e,k)+D(c[advance(h,1)..&lt;i],k,(g ?(!f):f),false)}else{return min(C(e,37)+D(c,37,!f,true),C(e,38)+D(c,38,!f,false))}}
print(D(" ".join(z)))
</code></pre>

<p>To run, put the code in a <code>.swift</code> file and run it with <code>swift &lt;filename&gt; &lt;your name&gt;</code></p>

<hr>

<p>This uses the simple approach where the two 'keyboards' are stored as arrays.</p>

<p><code>B:(I)-&gt;(I,I)={a in(a%10,a/10)}</code>
Converts an index from the array to an x,y position on the virtual keyboard.</p>

<p><code>func C(e:I,f:I)-&gt;I{let(a,b)=B(e),(c,d)=B(f)
 return abs(d-b)+min(abs(c-a),abs(10-(c-a)))}</code> Takes a start/end index and returns the minimum number of moves to get from once to the other (accounting for horizontal wrap)</p>

<p><code>func D(c:S,_ e:I=10,_ f:Bool=false,_ g:Bool=false)-&gt;I</code> Is the main recursive function that does most of the calculations.  It calculates the distance from the current position to the target character, unless the case should change, then it calculates <strong>both</strong> the <em>shift</em> <strong>and</strong> the <em>caps lock</em> methods and takes the smallest.</p>

<p>Running <code>swift codegolf.swift Code Golf</code> prints <code>43</code></p>
</div>
<div id="pu4" class="pu"><h1>C 675 Bytes</h1>
<p>Takes input from command line argument. Uses recursive main:</p>
<pre><code>#define Y(_) (!isdigit(_)?!isalpha(_)?3:1+(toupper(_)-65)/10:0)
#define X(_) (!isdigit(_)?!isalpha(_)?_-32&amp;&amp;_-45?_-43?9-(_==94):7:6:(toupper(_)-5)%10:_-48)
x,y,z;char*s;main(a,_,p,q,r){a&lt;2?s[_]?!isdigit(s[_])&amp;&amp;((s[_]-32&amp;&amp;!isupper(s[_]))||!a)&amp;&amp;((s[_]-45&amp;&amp;!islower(s[_]))||a)?q=x,r=y,main(3,43),p=z,x=X(43),y=Y(43),main(3,s[_]),p+=z,x=X(s[_]),y=Y(s[_]),main(a,_+1),p+=z,x=q,y=r,main(3,94),q=z,x=X(94),y=Y(94),main(3,s[_]),q+=z,x=X(s[_]),y=Y(s[_]),main(!a,_+1),q+=z,z=(q&lt;p?q:p):(main(3,s[_]),q=z,x=X(s[_]),y=Y(s[_]),main(a,_+1),z+=q):(main(3,61)):(a&lt;3?s=((char**)_)[1],x=0,y=1,main(1,0),printf(&quot;%d&quot;,z):(x=X(_)-x,y=Y(_)-y,x+=10*(x&lt;0),y+=4*(y&lt;0),z=(x&gt;5?10-x:x)+(y&gt;2?4-y:y)));}
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/53805/">53805</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




