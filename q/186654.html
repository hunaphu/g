<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::186654</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>035</td><td>Wolfram Language Mathematica</td><td>190611T001140Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186672#186672">att</a></td></tr>
<tr d-ix="1"><td>017</td><td>Uiua 0.10.0</td><td>240228T053032Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/271372#271372">Tbw</a></td></tr>
<tr d-ix="2"><td>5511</td><td>Nibbles</td><td>230130T234110Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/257235#257235">Dominic </a></td></tr>
<tr d-ix="3"><td>037</td><td>JavaScript ES6</td><td>190610T215940Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186662#186662">Arnauld</a></td></tr>
<tr d-ix="4"><td>008</td><td>Vyxal</td><td>221020T153218Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/253496#253496">u-ndefin</a></td></tr>
<tr d-ix="5"><td>042</td><td>Haskell</td><td>201101T143949Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/214541#214541">lynn</a></td></tr>
<tr d-ix="6"><td>013</td><td>Arn f</td><td>201101T141224Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/214539#214539">ZippyMag</a></td></tr>
<tr d-ix="7"><td>007</td><td>Husk</td><td>201031T235537Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/214528#214528">LegionMa</a></td></tr>
<tr d-ix="8"><td>018</td><td>Pyth</td><td>190821T083934Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/190509#190509">ar4093</a></td></tr>
<tr d-ix="9"><td>099</td><td>Python 3</td><td>190613T133433Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186819#186819">ruohola</a></td></tr>
<tr d-ix="10"><td>189</td><td>C++ clang</td><td>190617T174146Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/187005#187005">ruohola</a></td></tr>
<tr d-ix="11"><td>090</td><td>DC</td><td>190618T185134Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/187051#187051">FlexEast</a></td></tr>
<tr d-ix="12"><td>077</td><td>C# Visual C# Interactive Compiler</td><td>190612T104706Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186754#186754">dana</a></td></tr>
<tr d-ix="13"><td>076</td><td>Java</td><td>190611T133544Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186700#186700">Achaaab</a></td></tr>
<tr d-ix="14"><td>069</td><td>Clojure</td><td>190612T102503Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186752#186752">NikoNyrh</a></td></tr>
<tr d-ix="15"><td>015</td><td>CJam</td><td>190612T073253Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186745#186745">Peter Ta</a></td></tr>
<tr d-ix="16"><td>051</td><td>Python</td><td>190611T231733Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186733#186733">xnor</a></td></tr>
<tr d-ix="17"><td>042</td><td>Perl 6</td><td>190610T224157Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186667#186667">Jo King</a></td></tr>
<tr d-ix="18"><td>095</td><td>Red</td><td>190611T071426Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186683#186683">Galen Iv</a></td></tr>
<tr d-ix="19"><td>102</td><td>Bourne shell</td><td>190611T041514Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186677#186677">jnfnt</a></td></tr>
<tr d-ix="20"><td>112</td><td>Python 3</td><td>190610T212727Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186657#186657">hyper-ne</a></td></tr>
<tr d-ix="21"><td>062</td><td>Python 3</td><td>190610T213938Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186659#186659">ArBo</a></td></tr>
<tr d-ix="22"><td>017</td><td>APL Dyalog Unicode</td><td>190611T140630Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186701#186701">Sherlock</a></td></tr>
<tr d-ix="23"><td>011</td><td>Japt h</td><td>190611T151507Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186709#186709">Shaggy</a></td></tr>
<tr d-ix="24"><td>061</td><td>Haskell</td><td>190611T145323Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186707#186707">nimi</a></td></tr>
<tr d-ix="25"><td>066</td><td>Haskell</td><td>190611T063856Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186680#186680">flawr</a></td></tr>
<tr d-ix="26"><td>008</td><td>05AB1E</td><td>190611T123301Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186691#186691">Kevin Cr</a></td></tr>
<tr d-ix="27"><td>042</td><td>Perl 5 p</td><td>190611T121546Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186688#186688">Grimmy</a></td></tr>
<tr d-ix="28"><td>023</td><td>J</td><td>190610T220324Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186664#186664">Jonah</a></td></tr>
<tr d-ix="29"><td>063</td><td>C gcc</td><td>190610T232930Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186671#186671">att</a></td></tr>
<tr d-ix="30"><td>008</td><td>Jelly</td><td>190610T220824Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186665#186665">Jonathan</a></td></tr>
<tr d-ix="31"><td>009</td><td>Stax</td><td>190610T212633Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186656#186656">recursiv</a></td></tr>
<tr d-ix="32"><td>023</td><td>Charcoal</td><td>190610T215006Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186661#186661">Neil</a></td></tr>
<tr d-ix="33"><td>007</td><td>Jelly</td><td>190610T214955Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186660#186660">Erik the</a></td></tr>
<tr d-ix="34"><td>062</td><td>R</td><td>190610T212202Z</td><td><a href="https://codegolf.stackexchange.com/questions/186654/nth-term-of-van-eck-sequence/186655#186655">Giuseppe</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>48</s> <s>45</s> <s>42</s> 35 bytes</h1>
<pre><code>Nest[0&amp;@@a++[a@#=1;#]&amp;,a=&lt;||&gt;;0,#]&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73y@1uCTaQM3BIVFbOzrRQdnW0Fo5Vk0n0dampsbO2kAHyPkfUJSZVxKtrGuX5gDk1gUnJ@bVBSXmpadGG@gYGcT@BwA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Zero-indexed.</p>
<pre><code>                       a=&lt;||&gt;;0     initial: no distances, value 0
Nest[                 ,        ,#]  do N times:
         a  [     ;#]                 distance to last value
     0&amp;@@                               default 0
         a++ a@#=1                    update distances
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.uiua.org/" rel="nofollow noreferrer">Uiua 0.10.0</a>, 17 bytes <sup><a href="http://tinyurl.com/Uiua-SBCS-Feb-17" rel="nofollow noreferrer" title="SBCS for Uiua 0.9.0">SBCS</a></sup></h1>
<pre><code>⊢⍥(⊂⬚0⊡1⊚⌕⊢..):¤0
</code></pre>
<p><a href="https://uiua.org/pad?src=0_10_0-dev_1__VmFuRWNrIOKGkCDiiqLijaUo4oqC4qyaMOKKoTHiiprijJXiiqIuLik6wqQwCgpWYW5FY2sgMAojIwpWYW5FY2sgNwojIwpWYW5FY2sgMTgKIyMKVmFuRWNrIDI2CiMjClZhbkVjayA1MQojIwpWYW5FY2sgNjMKIyMK" rel="nofollow noreferrer">Try on Uiua Pad!</a> Constructs the sequence in reverse order and then just takes the first entry. Golfed from a solution by @5imon in the Uiua Discord</p>
</div>
<div id="pu2" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, 5.5 bytes (11 nibbles)</h1>
<pre><code>=$.~~0?`)$
</code></pre>
<pre><code>=$           # get the input-th element of:
  .~~        #   append until null (=for ever)
     0       #   starting with 0
      ?      #     get the index (or 0 if absent)
       `)$   #     in the list-so-far without its first element
             #     of its first element
</code></pre>
<p>I expected to need to reverse (<code>\</code>) the list-so-far (so: <code>=$.~~0?`)\$</code> for 6 bytes), but somehow this works without doing that.  I'm not sure why.</p>
<p><a href="https://i.sstatic.net/c4jUL.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/c4jUL.png" alt="enter image description here" /></a></p>
</div>
<div id="pu3" class="pu"><h1>JavaScript (ES6), <s> 46 41 </s> 37 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;(g=p=&gt;--n?g(g[p]-n|0,g[p]=n):p)(0)
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/Z9m@z/P1k4j3bbA1k5XN88@XSM9uiBWN6/GQAfEsM3TtCrQ1DDQ/J@cn1ecn5Oql5OfrpGmYaipqaCgr69gwIUqbgEVN0ITN7QESgDFTdHEjcwh4pZo4qZGEHETdIPMTCASBv8B" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>We don't need to store the full sequence. We only need to keep track of the last position of each integer that appears in the sequence. We use the underlying object of the recursive function <span class="math-container">\$g\$</span> for that purpose.</p>
<p>For a given term <span class="math-container">\$p\$</span>, we don't need either to set <span class="math-container">\$g[p]\$</span> to its actual absolute position in the sequence because we're only interested in the distance with the current position. That's why we can just store the current value of the input <span class="math-container">\$n\$</span>, which is used as a decrementing counter in the code.</p>
<p>Therefore, the distance is given by <span class="math-container">\$g[p]-n\$</span>. Conveniently, this evaluates to <em>NaN</em> if this is the first occurrence of <span class="math-container">\$p\$</span>, which can be easily turned into the expected <span class="math-container">\$0\$</span>.</p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>n =&gt; (           // n = input
  g = p =&gt;       // g = recursive function taking p = previous term of the
                 //     sequence; g is also used as an object to store the
                 //     last position of each integer found in the sequence
    --n ?        // decrement n; if it's not equal to 0:
      g(         //   do a recursive call:
        g[p] - n //     subtract n from the last position of p
                 //     if g[p] is undefined, the above expression evaluates
        | 0,     //     to NaN, in which case we coerce it to 0 instead
        g[p] = n //     update g[p] to n
      )          //   end of recursive call
    :            // else:
      p          //   we've reached the requested term:
                 //   stop the recursion and return it
)(0)             // initial call to g with p = 0
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 8 bytes</h1>
<pre><code>W?(p:ḣḟ›
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJBIiwiIiwiVz8ocDrhuKPhuJ/igLoiLCIiLCIxXG44XG4xOVxuMjdcbjUyXG42NCJd" rel="nofollow noreferrer">Try it Online!</a> 1-indexed.</p>
<p><strong>Explanation:</strong></p>
<p>Since <span class="math-container">\$a(n) &lt; n\$</span>, we can push <span class="math-container">\$n\$</span> to the beginning of the list. Also builds the sequence backwards.</p>
<pre><code>W?(p:ḣḟ› # whole program

W        # []
 ?       #            input
  (      # repeat for       times:
   p     #  prepend to list (uses implicit input the first time)
    :    #  duplicate
     ḣ   #  split head from the rest
      ḟ  #  find its index on the list (-1 if none)
       › #  increment
         # as we didn't prepend the last item, output it 
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 42 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>f n=last$0:[n-j-1|j&lt;-[0..n-2],f j==f(n-1)]
</code></pre>
<p><a href="https://tio.run/##y0gszk7Nyfn/P00hzzYnsbhExcAqOk83S9ewJstGN9pATy9P1yhWJ00hy9Y2TSNP11Az9n9uYmaegq1CQVFmXomCikKago2KnQJIqaFB7H8A" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Other Haskell answers: <a href="https://codegolf.stackexchange.com/a/186680/3852">66 bytes by flawr</a> and <a href="https://codegolf.stackexchange.com/a/186707/3852">61 bytes by nimi</a>.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/ZippyMagician/Arn" rel="nofollow noreferrer">Arn</a> <code>-f</code>, <a href="https://github.com/ZippyMagician/Arn/wiki/Carn" rel="nofollow noreferrer">13 bytes</a></h1>
<pre><code>f→S›J⁻åƒƒN5═%
</code></pre>
<p><a href="https://zippymagician.github.io/Arn?code=Ji57KysuezppOnspfH1b&amp;input=MQo4CjE5CjI3CjUyCjY0&amp;flags=Zg==" rel="nofollow noreferrer">Try it!</a>
0-indexed</p>
<h1>Explained</h1>
<p>Unpacked: <code>&amp;.{++.{:i:{)|}[</code></p>
<pre><code>&amp;.            Mutate S N times
  {             With block, key of `_`
      ++        Increment
            _   Implicit
          .{    Behead
        :i      Index of
            _   Implicit
          :{    Head
      )     Don't ask
    |           Concatenated with
      _         Implicit
  }             End block
  [           Where S is an array
  ]             Ending implicit
  _           And N is STDIN; implicit
            Then take the head
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <s>8</s> 7 bytes</h1>
<pre><code>!¡oΓ€↔ø
</code></pre>
<p><a href="https://tio.run/##ATAAz/9odXNr/21vd1Ms4oKB/yHCoW/Ok@KCrOKGlMO4////WzEsOCwxOSwyNyw1Miw2NF0" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a> The behavior of <code>€</code> is surprisingly helpful here.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 18 bytes</h1>

<pre><code>VQ=Y+?YhxtYhY0Y;hY
</code></pre>

<p><a href="https://tio.run/##K6gsyfj/PyzQNlLbPjKjoiQyI9Ig0joj8v9/UyMA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>

<p>Builds up the sequence in reverse and prints the first element (last term of the sequence).</p>

<pre><code>VQ                 # for N in range(Q) (Q=input)
  =Y+         Y    # Y.prepend(
        xtY        #   Y[1:].index(    )
           hY      #               Y[0]
       h           #                     +1
     ?Y      0     #                        if Y else 0)
               ;hY # end for loop and print Y[0]
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>128</s> <s>114</s> <s>111</s> <s>102</s> 99 bytes</h1>

<p><em>102 -> 99 bytes, thanks to Jonathan Frech</em></p>



<pre class="lang-python prettyprint-override"><code>f=lambda n,i=1,l=[0]:f(n,i+1,l+[l[i-2::-1].index(l[-1])+1if l[-1]in l[:-1]else 0])if n&gt;i else l[-1]
</code></pre>

<p><a href="https://tio.run/##RcpNCsIwEAXgvaeYXROaShP7D/UiIYtKExyIsWgXCt49xirjat773izP9XwNhxjd6KfLaZ4gCByl8KMuzeBYanlqufYaCzUMhTR7DLN9MK9T5rlEB1vEkO5nt/5uoTQ8DeGIsNXtIy43DCuTAjJ4ZQIck5zvvtj9sSOUfdLfZ0@qWlLVktaKtFakTUXaVJzHNw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="http://clang.llvm.org/" rel="nofollow noreferrer">C++ (clang)</a>, <s>241</s> <s>235</s> <s>234</s> <s>219</s> <s>197</s> 189 bytes</h1>

<p><em>197 -> 189 bytes, thanks to ceilingcat</em></p>



<pre class="lang-cpp prettyprint-override"><code>#import&lt;bits/stdc++.h&gt;
int f(int n,int i=0,std::vector&lt;int&gt;l={0}){return~-n&gt;i?l.push_back(find(begin(l),end(l)-1,l[i])-end(l)+1?find(rbegin(l)+1,rend(l),l[i])-rbegin(l):0),f(n,i+1,l):l[i];}
</code></pre>

<p><a href="https://tio.run/##fdHbboQgEAbge5@CbG8g4lbMHtV1H6RtGmV1l5RFg9gba1/dDtpDQhO5@MPMfCGTwJsm4DJX13F8EPem1iYthGkfW3Phvr@@ZZ5QBlXYpqI2xSmkMI3j95KbWqfQy@SpDwfS69J0Wn0GKhNnuW669vZa5PwNV0JdcFFehcKS0BIKSQJG5ZN4IcFc@uw8Kf3DfEb1PPp2v5M4JLTCsAwQqOw0GUa72j0HQLzeQ3CmHXndGZSmiNlYIfQBAbcKMzJ1ntUq@a8Prj4saXac@d/bxyUe7R0e7Zf4NnL4Nlriu43DdxuHz5@EwsQbxi8" rel="nofollow noreferrer" title="C++ (clang) – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><strong>DC, <strike>94</strike> <strike>91</strike> 90 bytes</strong></h1>

<p>Input is taken during the program. Save this to a file and then do "dc " to run. Definitely not the shortest, but I have fun with challenges like these in dc. Input is 1-based index, as preferred.</p>

<pre><code>[st1si0swlbxltlwlu1-sulu0!=m]sm[dlt=qSsli1+siz0!=b0siLs]sb[0pq]sf[lisw2Q]sq?2-dsu1&gt;f0dlmxp

Main control macro
[st                         ]sm   save top value as target
[  1si0sw                   ]sm   reset i to 1 and w to 0
[        lbx                ]sm   execute macro b to get next value in w
[           ltlw            ]sm   restore target to the stack and add w to the stack
[               lu1-su      ]sm   decrement the user inputted variable
[                     lu0!=m]sm   if the user inputted variable is not 0 recurse

Next value finder macro
[dlt=q                  ]sb     if the value on the stack is the target, quit
[     Ss                ]sb     save top value to s register
[       li1+si          ]sb     increment i register
[             z0!=b     ]sb     recurse if still more values            
[                  0si  ]sb     set i to 0 (will be saved to w if relevant)
[                     Ls]sb     move top value of s register to stack

[lisw2Q]sq   Load i, save it to w, and then quit this macro and the one that called it

[0pq]sf print 0 and quit the program
<span class="math-container">```</span>
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a>, 77 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>n=&gt;{int i,v=0;for(var m=new int[n];--n&gt;0;m[v]=n,v=i&lt;1?0:i-n)i=m[v];return v;}
</code></pre>

<p><a href="https://tio.run/##HYyxCsMwDAV3f4VGm8TgrFXkbp27hwzFxKAhKjiJM5R@u6t0ePA4jkubTxu3xyFpZNl7XczUhOJHL3BfKWB@F1tfBVaS5QTlk8zovcSA61RnErV4HO7hxl4c0wWxLPtRBCp@GxpzJf5BGlDVEJC7zhmAZ1Fss2XnsP0A" rel="nofollow noreferrer" title="C# (Visual C# Interactive Compiler) – Try It Online">Try it online!</a></p>

<p>Pretty much a port of the Java answer at this point.</p>
</div>
<div id="pu13" class="pu"><h2>Java, <strike>96</strike> <strike>80</strike> 76 bytes</h2>

<pre><code>n-&gt;{int i,v=0,m[]=new int[n];for(;--n&gt;0;m[v]=n,v=i&lt;1?0:i-n)i=m[v];return v;}
</code></pre>

<p>Not obfuscated:</p>

<pre><code>Function&lt;Integer, Integer&gt; vanEck =
n -&gt; {

    int i;                  // i is the value of n when v was previously encountered
    int v = 0;              // v is the current element of vanEck sequence
    int[] m = new int[n];   // m[v] is the value of n when v was previously encountered

    while (--n &gt; 0) {       // n is used as a decrementing counter

        i = m[v];
        m[v] = n;
        v = i == 0 ? 0 : i - n;
    }

    return v;
};
</code></pre>
</div>
<div id="pu14" class="pu"><h2>Clojure, 69 bytes</h2>

<pre><code>#((fn f[i c t](if(= i 1)t(f(dec i)(assoc c t i)(-(or(c t)i)i))))%{}0)
</code></pre>

<p>Sadly a more functional approach seems to be longer.</p>
</div>
<div id="pu15" class="pu"><h2>CJam (15 bytes)</h2>

<pre><code>0a{_(#)\+}qi*0=
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=0a%7B_(%23)%5C%2B%7Dqi*0%3D&amp;input=9" rel="nofollow noreferrer">Online demo</a>. This is a full program and 0-indexed.</p>

<h3>Dissection</h3>

<pre><code>0a      e# Push the array [0]
{       e# Loop...
  _(#   e#   Copy the array, pop the first element, and find its index in the array
  )\+   e#   Increment and prepend
}qi*    e# ... n times, where n is read from stdin
0=      e# Take the first element of the array
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python</a>, 51 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda n,i=1:n&gt;i and[f(n,i+1),i][f(n-1)==f(n+~i)]
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/r/P802JzE3KSVRIU8n09bQKs8uUyExLyU6TQPI1zbU1MmMBbF1DTVtbYG0dl2mZuz/tPwihTyFzDyFosS89FQNQ0NNKy6FgqLMvBKgKQraQHWa/wE" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Outputs <code>False</code> for <code>0</code>. Implements the spec pretty literally, looking for the lowest positive integer <code>i</code> such that <code>f(n-1)==f(n-i-1)</code>. If such a search leads to <code>i&gt;=n</code>, the previous element hasn't appeared before and we produce <code>0</code>.</p>

<p>Instead of doing something reasonable like storing earlier values in a list, the function just recomputes them recursively from scratch whenever they're needed, and sometimes when they're not needed. This makes the function run very slowly for inputs above 10 or so.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="noreferrer">Perl 6</a>, <s>47</s> 42 bytes</h1>
<p><em>-5 bytes thanks to nwellnhof</em></p>

<pre class="lang-perl6 prettyprint-override"><code>{({+grep(@_[*-1],:k,[R,] @_)[1]}...*)[$_]}
</code></pre>
<p><a href="https://tio.run/##K0gtyjH7n1upoJamYPu/WqNaO70otUDDIT5aS9cwVscqWyc6SCdWwSFeM9owtlZPT09LM1olPrb2f3FipUKaRpyRgaY1F4QdbahjoWNoqWNkrmNqpGNmEhuha6j5HwA" rel="noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
<p>Anonymous codeblock that outputs the 0-indexed element in the sequence.</p>
<h3>Explanation:</h3>
<pre class="lang-perl6 prettyprint-override"><code>{                                            } # Anonymous codeblock
 (                                      )[$_]  # Return the nth element
                                    ...*       # Of the infinite sequence
  {                            }  # Where each element is
    grep(        :k        )[1]   # The key of the second occurrence
         @_[*-1],                 # Of the most recent element
                   ,[R,] @_       # In the reversed sequence so far
   +     # And numify the Nil to 0 if the element is not found
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, <s>106</s> 95 bytes</h1>

<pre><code>func[n][b: copy[0]loop n[insert b either not find t: next b
b/1[0][-1 + index? find t b/1]]b/2]
</code></pre>

<p><a href="https://tio.run/##Pcu7DgIhFIThfp9iemNWiFca38H2hIblEEnMgbCYrE@PFEr3Jf9MYd8e7MlOwbTwloXEkjNYUv7Qwb5SyhCKsnKpcOBYn1wgqSJE8agGwlsvk5tV39NeYYdeeLv/FujFWjdr23KJ0o9Q01/XIXUb1JfBkx48H9sX" rel="nofollow noreferrer" title="Red – Try It Online">Try it online!</a></p>
</div>
<div id="pu19" class="pu"><h1>Bourne shell, 102 bytes</h1>

<pre><code>until [ 0"$i" -eq $1 ];do i=$((${i:-0}+1)) a=${n:-0};eval 'n=$(($i-${m'$a:-$i'}))' m$a=$i;done;echo $a
</code></pre>

<p><a href="https://tio.run/##HcxNCoMwFEXhrVzkQgwloIITgysRB69twAcaKf2ZBNf@ajs88HGu8lzM3vmlKyY0FbVCSA@wxRzvO3RkXbPoEJrj0noPGVnyr2L6yAqX/0ADy@YoQ6C6w3uHjafUc5FTTLdlB8XM@u4L" rel="noreferrer">try it online</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 112 bytes</h1>



<pre class="lang-python prettyprint-override"><code>a=[0]
for _ in a*int(input()):k=a[-1];a+=k in a[:-1]and[a[::-1].index(k)+~a[-2::-1].index(k)]or[0]
print(-a[-2])
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/7/P9E22iCWKy2/SCFeITNPIVErM69EIzOvoLREQ1PTKts2MVrXMNY6Uds2GywdbQXkJualRANZIKZeZl5KaoVGtqZ2HVClEapYbH4RyPCCIpCZuiD5WM3//43MAQ" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p>-3 bytes thanks to mypetlion</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://docs.python.org/3/" rel="noreferrer">Python 3</a>, <s>69</s> <s>63</s> 62 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda n,l=0,*s:f(n-1,l in s and~s.index(l),l,*s)if n else-l
</code></pre>

<p><a href="https://tio.run/##FcoxDsIwDAXQGU7h0UYpKrBV6mGCEoMl97dKOrRLr57Cm9@yr98Zr9Z09Di9UyQEH/twq4MyukdwMlCliHTUuyHljV2C/4KYEih7zZ03nQvZv5aIT@ZnL8P1shTDysom0k4" rel="noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p><sub> Note: as Erik the Outgolfer mentioned, this code works fine in Python 2 as well. </sub></p>

<p>0-indexed (although, just to be utterly perverse, you can make it -1-indexed by changing <code>if n</code> to <code>if~n</code> :P)</p>

<p>Makes use of Python's gorgeous unpacking "star operator", to recursively build up the series, until <code>n</code> reaches zero.</p>

<p>The function builds up the series in the reverse order, to avoid having to reverse it for the search. Additionally, it actually stores the negations of all the elements, because converting them back at the end was free (else the <code>-</code> would have had to be a space) and it saves us a byte along the way, by using <code>~s.index(l)</code> instead of <code>-~s.index(l)</code>.</p>

<p>Could be 51 bytes if Python tuples had the same <code>find</code> functions strings do (returning -1 if not found, instead of raising an error), but no such luck...</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, <s>19</s> 17 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">bytes</a><sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer" title=".dyalog files using a single byte character set">SBCS</a></sup></h1>

<p>Many thanks to ngn, Adám, Richard Park and H.PWiz for their help in writing and golfing this answer in <a href="https://chat.stackexchange.com/rooms/52405/the-apl-orchard">The APL Orchard</a>, a great place to learn APL and get APL help.</p>

<p><strong>Edit:</strong> -2 bytes from Adám.</p>



<pre class="lang-apl prettyprint-override"><code>⊃(⊢,⍨≢|1∘↓⍳⊃)⍣⎕-1
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///qKNdIe3/o65mjUddi3Qe9a541LmoxvBRx4xHbZMf9W4GSmg@6l38qG@qriFILVfao7YJj3r7DB/17FWvrVbXUQdKgXCR@qPerepAM4we9WwH8pOL1NPUFR71zlUoKUpMSctTKMlXAFL/q4HKFAwf9W4BMXTSgETtoRUgi4AMQwMDAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre class="lang-apl prettyprint-override"><code>⊃(⊢,⍨≢|1∘↓⍳⊃)⍣⎕-1

                 -1  We initialize our array of results with -1.
 (           )⍣⎕    ⍣ repeats the train (in parentheses) our input, ⎕, times.
        1∘↓⍳⊃        We take the index of the head (our last element in the sequence).
                     To signify "element not found", this returns the length of the array.
      ≢|             We take our index modulo the length of the array.
                     This turns our "element not found" from the length of the array to 0.
  ⊢,⍨                And we prepend to our array.
⊃                    Finally, we return the first element of the array,
                     which is the most recently-generated.
                     This is the ⍵-th element of the Van Eck sequence.
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-h</code></a>, 11 bytes</h1>
<pre><code>@ÒZÔÅbX}hTo
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LWg&amp;code=QNJa1MViWH1oVG8&amp;input=NTI" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu24" class="pu"><h2>Haskell, 61 bytes</h2>

<pre><code>(([]#0)1!!)
(l#n)i=n:(((n,i):l)#maybe 0(i-)(lookup n l))(i+1)
</code></pre>

<p>0-based indexing.</p>

<p><a href="https://tio.run/##BcHBDoIwDADQu19RMg9tFLIdvJDsS4DDJEwburKAHPx563vvdKyLiOU4GuIwOU@haeiC4pQ4ao@IemfqhVxJ3@cCHrkllG1bzwoKQoR8C2QlsUKEurN@4AolVcgw@K4Lj8l@c5b0Oqyda/0D" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>68 67</s>  66 bytes</h1>

<p>Quite straightforward implementation (using 0 based indexing).</p>



<pre class="lang-hs prettyprint-override"><code>f n|all((/=f(n-1)).f)[0..n-2]=0|m&lt;-n-1=[k|k&lt;-[1..],f(m-k)==f m]!!0
</code></pre>

<p><a href="https://tio.run/##FcwxDsMgDADArxgpA0i1A5lxP4IYGGIFAVbVduTvpF1vuKt82tn7WgI6S@/W7ixWMThH4pInUjwy@zki/pRTmy1iCkT5IXZgc8wCIxvj1yhVgeH1rvqFDQTi9oR/EXxeNw" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu26" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 8 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>F¯Rćk&gt;Dˆ
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/f7dD6oCPt2XYup9v@/zc1AgA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/f/f7dD6oCPt2Xan22oPrf//39DAAAA" rel="nofollow noreferrer">output the first <span class="math-container">\$n\$</span> values in the list</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>F         # Loop the (implicit) input amount of times:
 ¯        #  Push the global array
  R       #  Reverse it
   ć      #  Extract the head; push the remainder and the head to the stack
    k     #  Get the 0-based index of the head in the remainder (-1 if not found)
     &gt;    #  Increase it by 1 to make it 1-indexed (or 0 if not found)
      Dˆ  #  Add a copy to the global array
          # (after the loop, output the top of the stack implicitly as result,
          #  which is why we need the `D`/duplicate)
</code></pre>
</div>
<div id="pu27" class="pu"><h1>Perl 5 (<code>-p</code>), 42 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>map{($\,$\{$\})=0|$\{$\};$_++for%\}1..$_}{
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/z83saBaQyVGRyWmWiWmVtPWoAbCslaJ19ZOyy9Sjak11NNTia@t/v/f1OhffkFJZn5e8X/dAgA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu28" class="pu"><h1><a href="http://jsoftware.com/" rel="noreferrer">J</a>, <s><sup>29</sup></s> 23 bytes</h1>

<pre><code>1{(,~#|1+}.i.{.)@]^:[&amp;0
</code></pre>

<p><a href="https://tio.run/##y/qvpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/Das1dOqUawy1a/Uy9ar1NB1i46yi1Qz@a3KlJmfkAxXaKqQpGEI4RmCOBYRjCpGxhPAswTwjcwjPBKLS1AjZEDOT/wA" rel="noreferrer" title="J – Try It Online">Try it online!</a></p>

<p>The real work is done in the iteration verb of the power verb <code>^:</code>, which iterates as many times as the argument <code>[</code>, starting the iteration with the constant value 0 <code>&amp;0</code>...</p>

<ul>
<li><code>(#|1+}.i.{.)</code> This is what iterates.  Breaking it down...</li>
<li><code>}.i.{.</code> Find the index of <code>i.</code> of the head of the list <code>{.</code> within the tail of the list <code>}.</code>.  This will return a 0-based index, so if the current item is found 1 previous it will return 0.  If it is not found, it will return the length of the list, ie, the length of the tail.</li>
<li><code>1+</code> Add one to the value to correct for the 0-based indexing, since the Ven Eck's "how far back" is 1-based.  Note that if it was not found, the value will now be the length of the full list.</li>
<li><code>#|</code> Return the remainder of the value calculated in the previous step, when divided by the length of the full list.  Note that this turns "not found" into 0, but leaves all other values unchanged.</li>
<li><code>,~</code> Append the new value to the front of the list.  We use the front rather than last merely for convenience.</li>
<li><code>1{</code> return the 2nd item in the list, since we calculated one too many times because it's shorter that way.</li>
</ul>
</div>
<div id="pu29" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 63 bytes</h1>



<pre class="lang-c prettyprint-override"><code>f(n){n=g(n,--n);}g(n,i){n=n&gt;0?f(--n)-f(i)?g(n,i)+!!g(n,i):1:0;}
</code></pre>

<p><a href="https://tio.run/##JcwxCsMwDIXh3adwAgEJW@CMjZrkIl2Kg4KGqiV0Cz67W5Pt53vwMu051ypgeNq8g0UiQy6ttJEtaRVoSAKK6zWErrtiGqfEpb6eaoCnk/cBal@vc2K9jzfWENB9jr8J9MPmafHD9rA@amx3yK7UHw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<p>0-indexed.</p>
</div>
<div id="pu30" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 8 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ẎiḢ$;µ¡Ḣ
</code></pre>
<p>A monadic Link accepting a positive integer, <span class="math-container">\$n\$</span>, which yields the <span class="math-container">\$n^{th}\$</span> term of the Van Eck Sequence.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///hrr7MhzsWqVgf2npoIZDx//9/UyMA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>ẎiḢ$;µ¡Ḣ - Link: n
     µ¡  - repeat this monadic link n times - i.e. f(f(...f(n)...)):
         - (call the current argument L)
Ẏ        -   tighten (ensures we have a copy of L, so that Ḣ doesn't alter it)
   $     -   last two links as a monad:
  Ḣ      -     head (pop off &amp; yield leftmost of the copy)
 i       -     first index (of that in the rest) or 0 if not found
    ;    -   concatenate with L
       Ḣ - head
</code></pre>
<p>Note that without the final <code>Ḣ</code> we've actually collected <code>[a(n), a(n-1), ..., a(2), a(1), n]</code></p>
</div>
<div id="pu31" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="noreferrer">Stax</a>, <s>10</s> 9 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="noreferrer">bytes</a></h1>

<pre><code>é"▬π²"ô↕j
</code></pre>

<p><a href="https://staxlang.xyz/#p=822216e3fd2293126a&amp;i=1%0A8%0A19%0A27%0A52%0A64&amp;a=1&amp;m=2" rel="noreferrer">Run and debug it</a></p>

<p>If 0-based indexing is allowed:</p>

<h3><a href="https://github.com/tomtheisen/stax" rel="noreferrer">Stax</a>, 8 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="noreferrer">bytes</a></h3>

<pre><code>à┐æ8Å/[┤
</code></pre>

<p><a href="https://staxlang.xyz/#p=85bf91388f2f5bb4&amp;i=0%0A7%0A18%0A26%0A51%0A63&amp;a=1&amp;m=2" rel="noreferrer">Run and debug it</a></p>
</div>
<div id="pu32" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 23 bytes</h1>

<pre><code>≔⁰θＦ⊖Ｎ«≔⊕⌕⮌υθη⊞υθ≔ηθ»Ｉθ
</code></pre>

<p><a href="https://tio.run/##S85ILErOT8z5/9@xuDgzPU/DQEehUNOaKy2/SEHDJTW5KDU3Na8kNUXDM6@gtMSvNDcptUhDU1NToZqLE6rDMw@hyi0zL0UjKLUstag4VaNUE2QWkMgAGsgZUFqcoVEKMR2mNQPCreUKKMrMK9FwTiwu0QDqsP7/39Dyv25ZDgA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>

<pre><code>≔⁰θ
</code></pre>

<p>Set the first term to 0.</p>

<pre><code>Ｆ⊖Ｎ«
</code></pre>

<p>Loop <code>n-1</code> times. (If 0-indexing is acceptable, the <code>⊖</code> can be removed for a 1-byte saving.)</p>

<pre><code>≔⊕⌕⮌υθη
</code></pre>

<p>The next term is the incremented index of the current term in the reversed list of previous terms.</p>

<pre><code>⊞υθ
</code></pre>

<p>Add the current term to the list of previous terms.</p>

<pre><code>≔ηθ
</code></pre>

<p>Set the current term to the next term.</p>

<pre><code>»Ｉθ
</code></pre>

<p>Print the current term at the end of the loop.</p>
</div>
<div id="pu33" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>

<pre><code>Ḷß€ṚiḢ$
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///hjm2H5z9qWvNw56zMhzsWqfw3NAEJtQOF/gMA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>0-indexed.</p>
</div>
<div id="pu34" class="pu"><h1><a href="https://www.r-project.org/" rel="noreferrer">R</a>, 62 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(n){while(sum(F|1)&lt;n)F=c(match(F[1],F[-1],0),F)
+F[1]}
</code></pre>

<p><a href="https://tio.run/##K/qfpmCj@z@tNC@5JDM/TyNPs7o8IzMnVaO4NFfDrcZQ0yZP0802WSM3sSQ5Q8Mt2jBWxy1aF0gaaOq4aXJpg0Rq/xcnFhTkVGoYWhka6KRp/gcA" rel="noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>Builds the list in reverse; <code>match</code> returns the <em>first</em> index of <code>F[1]</code> (the previous value) in <code>F[-1]</code> (the remainder of the list), returning <code>0</code> if no match is found.</p>

<p><code>F</code> is initialized to <code>FALSE</code> and is coerced to <code>0</code> on the first pass of the <code>while</code> loop.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/186654/">186654</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




