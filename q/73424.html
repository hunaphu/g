<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::73424</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>274</td><td>Python3</td><td>241019T153951Z</td><td><a href="https://codegolf.stackexchange.com/questions/73424/finish-work-as-early-as-possible/276203#276203">Ajax1234</a></td></tr>
<tr d-ix="1"><td>036</td><td>MATL</td><td>160218T153257Z</td><td><a href="https://codegolf.stackexchange.com/questions/73424/finish-work-as-early-as-possible/73476#73476">Luis Men</a></td></tr>
<tr d-ix="2"><td>020</td><td>Jelly</td><td>160218T000550Z</td><td><a href="https://codegolf.stackexchange.com/questions/73424/finish-work-as-early-as-possible/73446#73446">Dennis</a></td></tr>
<tr d-ix="3"><td>124</td><td>Ruby</td><td>160217T234926Z</td><td><a href="https://codegolf.stackexchange.com/questions/73424/finish-work-as-early-as-possible/73445#73445">PellMell</a></td></tr>
<tr d-ix="4"><td>025</td><td>Pyth</td><td>160217T203649Z</td><td><a href="https://codegolf.stackexchange.com/questions/73424/finish-work-as-early-as-possible/73429#73429">PurkkaKo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 274 bytes</h1>
<pre class="lang-py prettyprint-override"><code>def f(l,t):
 q,s,b=[([],t)],[],[]
 for T,t in q:
  if[]==[1 for i in t if sum(T)+i&lt;=l]:b+=[(sum(T),T)]
  for i,a in enumerate(t):
   if(U:=sum(V:=T+[a]))&lt;=l and(S:=sorted(V))not in s and all(U&lt;o for o,_ in b):q+=[(V,t[:i]+t[i+1:])];s+=[S]
 return min(b,key=lambda x:x[0])[0]
</code></pre>
<p><a href="https://tio.run/##XVLbbqMwEH1ef8UoL7GVaRSbEAhb@gn70rQvDqqgMVprCRDsrFpp/z07NlWlVuYyM2fOOYPx@O5/D32Sj9PtdjIttLxDLwoGF3TYlJrrivIKdbgYtMMEB/Rge7hQE9hWV2WpZQRsKBPWgrue@UGs7H3ZVUWzIpm5ggdBInMz1qHd9NezmWpveHQNivypKEP7c1EeVrquhCAZqPsTfyRgmLw58Wch@iGO4QICddfxp/shKg/4EoBGFJfg/IxeF7ZaeW1XsqhE9dNR@ZHmmIy/Tj2cbc8b/GPey64@N6ca3oo3vakE3Td7HsmQOpmTUMJisWAgQUtUFdw9gGSwA71FGbOUQQY6wwz3Mc8Y7EEnuI1LYfpRVRvQO8oTlIqak5ktM7ZVMz2sPKwIJLsvwBco/QZ948ldnBXDDCnuIrxHuZkNE5bQvDJFlREuURJEc21Q0ZPiWUYlTJGH2gYkqKvYltKil8yJOn@uzFlOXyaJr1AGW5VHtYyciR6MQ5QREkz3FM47IllKGxVcc1Ld0pgqCfJESSiRoaZiNE9I5N2844qFX/J5@FrbeTPxX0NvEJxcu7Gzni@P/VLQ6fpRIzQIr/QjJ/OJuePd8eHo/h3dEsGunZ/syMW6@wgE0ZwzdAhabnvPa4Fg/tYdb4SAsoRQexWMjVOIlt4472AMlNNS3P4D" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://esolangs.org/wiki/MATL" rel="nofollow noreferrer">MATL</a>, 36 bytes</h1>
<pre><code>iTFinZ^!&quot;2G@2#)sXKt1G&gt;~wb+lG&gt;A*?KhX&lt;
</code></pre>
<p><a href="http://matl.tryitonline.net/#code=aVRGaW5aXiEiMkdAMiMpc1hLdDFHPkF-d2IrbEc-Kj9LaFg8&amp;input=NDIKWzcsNyw3LDcsNyw3LDgsOCw4XQ" rel="nofollow noreferrer"><strong>Try it online!</strong></a></p>
<pre><code>i           % input number L
TF          % array [true, false]
in          % input array T. Get its length
Z^!         % Cartesian power and transpose. Each column is a selection from T
&quot;           % for each selection
  2G@2#)    %   take non-selected and then selected tasks
  sXK       %   sum of selected tasks. Copy to clipboard K
  t1G&gt;~     %   duplicate. Is sum of selected tasks &lt;= L?
  wb        %   swap, rotate
  +         %   sum of selected tasks plus each non-selected task
  lG&gt;A      %   are all of those numbers greater than L?
  *         %   are both conditions met?
  ?         %   if so
    Kh      %     paste current minimum (or initially L), append new value
    X&lt;      %     compute new minimum
            %   end if implicitly
            % end for each implicitly
            % display stack implicitly
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Jelly, 20 bytes</h1>

<pre><code>³œ-;⁴Ṃ;¹S&gt;⁴
ŒPÇÐfS€Ṃ
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=wrPFky074oG04bmCO8K5Uz7igbQKxZJQw4fDkGZT4oKs4bmC&amp;input=&amp;args=WzI0LDIwLDgsOCwyOSwxNiw1LDUsMTYsMTgsNCw5XQ+MjI" rel="nofollow">Try it online!</a></p>

<p>TIO is fast enough to finish the last test cases within its 60 second time limit, even if just barely.</p>

<h3>Background</h3>

<p>The algorithm is both simple and inefficient:</p>

<ol>
<li><p>We generate all subsets of <strong>T</strong>, counting multiplicities.</p></li>
<li><p>We filter the the subsets, keeping only those those subsets S that satisfy one of the following criteria:</p>

<ul>
<li><p><strong>S</strong> is different from <strong>T</strong>, and the sum of the elements of <strong>S</strong> and the minimal element <em>not</em> in <strong>S</strong> is larger than <strong>L</strong>.</p></li>
<li><p><strong>S</strong> and <strong>T</strong> are identical.</p></li>
</ul>

<p>The filtered <strong>T</strong> (let's call it <strong>T'</strong>) now contains all lists of task that do just enough work (or even some overtime).</p></li>
<li><p>Of all <strong>S</strong> in <strong>T'</strong>, pick the one with the lowest sum.</p></li>
</ol>

<h3>How it works</h3>

<pre><code>ŒPÇÐfS€Ṃ     Main link. Left input: T (list). Right input: L (integer).

ŒP           Powerset; generate all subsets of T.
   Ðf        Filter them...
  Ç            applying the helper link.
     S€      Compute the sum of each kept subset.
       Ṃ     Take the minimum.

³œ-;⁴Ṃ;¹S&gt;⁴  Helper link. Input: A (subset of T)

³œ-          Multiset subtraction; remove the elements of A from T, counting
             multiplicities.
   ;⁴        Append L to the resulting list.
     Ṃ       Take the minimum.
             If S == T, the difference was empty and the minimum is L.
      ;¹     Prepend the minimum to A.
        S    Compute the sum.
         &gt;⁴  Compare it with L.
             If S == T, the comparison will return 1.
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Ruby, 124 bytes</h1>

<pre><code>-&gt;(m,s){
f=proc{|l,t|t.reject!{|x|x&gt;l}
(0...(t.size)).map{|x|
f.call(l-t[x],t[0,x]+t[(x+1)..-1])
}.max||l
}
m-f.call(m,s)
}
</code></pre>

<p>This is a brute-force solution.</p>
</div>
<div id="pu4" class="pu"><h1>Pyth, <s>26</s> 25 bytes</h1>
<pre><code>JEhSsMf&amp;gJsT&gt;hS.-QT-JsTyQ
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=JEhSsMf%26gJsT%3EhS.-QT-JsTyQ&amp;input=%5B1%2C2%2C3%2C4%2C5%2C6%2C7%2C8%2C9%2C10%5D%0A16&amp;debug=0" rel="nofollow noreferrer">Try it online.</a> <a href="http://pyth.herokuapp.com/?code=JEhSsMf%26gJsT%3EhS.-QT-JsTyQ&amp;test_suite_input=%5B1%2C2%5D%0A1%0A%5B4%2C1%5D%0A6%0A%5B7%2C7%2C9%5D%0A7%0A%5B3%2C4%2C4%2C4%2C2%2C5%5D%0A9%0A%5B6%2C2%2C3%2C12%2C7%2C31%5D%0A20%0A%5B7%2C7%2C7%2C7%2C8%2C8%2C8%5D%0A42%0A%5B7%2C7%2C7%2C7%2C7%2C8%2C8%2C8%5D%0A42%0A%5B7%2C7%2C7%2C7%2C7%2C7%2C8%2C8%2C8%5D%0A42%0A%5B1%2C2%2C3%2C4%2C5%2C6%2C7%2C8%2C9%2C10%5D%0A16%0A%5B15%2C27%2C4%2C1%2C19%2C16%2C20%2C26%2C29%2C18%5D%0A37%0A%5B24%2C20%2C8%2C8%2C29%2C16%2C5%2C5%2C16%2C18%2C4%2C9%5D%0A22%0A%5B10%2C22%2C11%2C2%2C28%2C20%2C27%2C6%2C24%2C9%2C10%2C6%2C27%2C2%2C15%2C29%2C27%5Dh%0A80%0A%5B26%2C28%2C5%2C4%2C7%2C23%2C5%2C1%2C9%2C3%2C7%2C15%2C4%2C23%2C7%2C19%2C16%2C25%2C26%5Dh%0A59&amp;debug=0&amp;input_size=2" rel="nofollow noreferrer">Test suite.</a></p>
<p>I haven't been able to run the last two test cases (they time out online, I assume), but all the others work. This is just a basic brute force solution.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/73424/">73424</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




