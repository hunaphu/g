<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::279064</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>010</td><td>x86 32bit machine code</td><td>250409T122956Z</td><td><a href="https://codegolf.stackexchange.com/questions/279064/the-oreo-problem-how-to-find-the-excess/279108#279108">m90</a></td></tr>
<tr d-ix="1"><td>016</td><td>Redirection</td><td>250409T172916Z</td><td><a href="https://codegolf.stackexchange.com/questions/279064/the-oreo-problem-how-to-find-the-excess/279117#279117">m90</a></td></tr>
<tr d-ix="2"><td>005</td><td>Jelly</td><td>250407T191325Z</td><td><a href="https://codegolf.stackexchange.com/questions/279064/the-oreo-problem-how-to-find-the-excess/279079#279079">Jonathan</a></td></tr>
<tr d-ix="3"><td>023</td><td>AWK</td><td>250407T154115Z</td><td><a href="https://codegolf.stackexchange.com/questions/279064/the-oreo-problem-how-to-find-the-excess/279075#279075">xrs</a></td></tr>
<tr d-ix="4"><td>009</td><td>Charcoal</td><td>250407T085114Z</td><td><a href="https://codegolf.stackexchange.com/questions/279064/the-oreo-problem-how-to-find-the-excess/279073#279073">Neil</a></td></tr>
<tr d-ix="5"><td>005</td><td>05AB1E</td><td>250407T070300Z</td><td><a href="https://codegolf.stackexchange.com/questions/279064/the-oreo-problem-how-to-find-the-excess/279069#279069">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>014</td><td>JavaScript Node.js</td><td>250407T051130Z</td><td><a href="https://codegolf.stackexchange.com/questions/279064/the-oreo-problem-how-to-find-the-excess/279068#279068">l4m2</a></td></tr>
<tr d-ix="7"><td>019</td><td>Python</td><td>250407T025556Z</td><td><a href="https://codegolf.stackexchange.com/questions/279064/the-oreo-problem-how-to-find-the-excess/279067#279067">xnor</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>x86 32-bit machine code, 10 bytes</h1>
<pre><code>99 D1 E8 83 D8 FF 4A 7A F8 C3
</code></pre>
<p>Following the <code>regparm(1)</code> calling convention, this function takes a 32-bit integer in EAX and returns a 32-bit integer in EAX.</p>
<p><a href="https://tio.run/##XVHJbtswED2LX/GiQDBpyYFj5xB4SQ4555JTgbgwKIqSWNC0K9EtDSO/XmXkBUUyBDicN5x5s6jdblQp1XW3xim7LzQWrS/M9q5@Yl8ga/LvWGNc1WNMB68bh/glxnG9lp48@d7r9ZrzUrZeSWuFgHEeJe9vKeYfTLYbcLzFnN1VdptLi5KVs0gVv1kzi9q6gZYhwz2L2jw/v0dkFFpBF4FFv3YaDYsa7ZmIIeaM9ak30rgzR1OpDKqWDYZDMv4IdmQg6Z0BS0qW4UB6PD/Bf2tjNXiaBizwMBYnsJcdtelLHicTg9ETeoVExRmooJIHkYGH9F4kj3jGgM4Mg5UbiHPWa/DKvUpVG6ehtoWexRd3@M9fbHG8/kYynvwghsOS871rTeV0cWplKErxHtL0Jw3wWvEBN5QkvEy/UYInBvnB61asXF/uxU8D29OyiPaDdd0/VVpZtd1oM53QRUtZUri2nw" rel="nofollow noreferrer" title="C++ (gcc) – Try It Online">Try it online!</a></p>
<p>This uses the headline definition from <a href="https://oeis.org/A110657" rel="nofollow noreferrer">A110657</a>: apply <a href="https://oeis.org/A028242" rel="nofollow noreferrer">A028242</a> (2m ↦ m+1, 2m+1 ↦ m) twice.</p>
<p>In assembly:</p>
<pre><code>f:  cdq         # Set EDX to 0 by sign-extending EAX.
r:  shr eax, 1  # Shift EAX right by 1 bit. The last bit goes into CF.
    sbb eax, -1 # Subtract (-1 - CF) from EAX: +1 if the last bit was 0.
    dec edx     # Decrement EDX, to -1 the first time and -2 the second time.
    jpe r       # Jump back if the sum of the eight low bits is even.
                #  This is true for -1 (...11111111) but not for -2 (...11111110).
    ret         # Return.
</code></pre>
<h2>Alternative: 7 bytes, works on 8-bit integers</h2>
<pre><code>40 D4 04 D5 01 48 C3
</code></pre>
<p><a href="https://tio.run/##XVFNb8IwDD2TX/HWqSKhZeLrMPG1A@dddpo0JhTStEQKAbVhC0L89XUuA02bI9nKe/GzHav9vlsoVdf3xil7yDSmlc/M7mEzZ38ga9b/sdK4osGYDl6XDtEiwmm1kp6Y9cHr1YrzXFZeSWuFgHEeOW@8FJMzk9UWHC8RZw@F3a2lRc7ycYv0oWVgLSm3GDUhQ5@1Mn2FS@2ZiCAmjDVSW2ncj2ZZqBRqI0t0OnT5EOzEQNaQATN0@ymOFHuTC/y5MVaDJ0nAFKOeuICN7Wksn/MoHhh052gCYhWlCCm1H0QKHpK@iB/xhDadMdpL1xY/qrfkpXuWamOchtplehxd6fBbP9vhdHuNuDd4pQrHGecHV5nC6ewySkfk4i0kyTt92K3jI@5IJCyG/0qCxwbro9eVWLqm3StPH3ag5VDZM6vrL5VbWVR1dzsckKMlzChd228" rel="nofollow noreferrer" title="C++ (gcc) – Try It Online">Try it online!</a></p>
<p>In assembly:</p>
<pre><code>f:  inc eax # Add 1 to EAX; its low byte, AL, is increased by 1.
    aam 4   # Divide AL by 4; AH:=quotient, AL:=remainder.
    aad 1   # Set AL to AH*1+AL (and AH to 0).
    dec eax # Subtract 1 from EAX (AL is decreased by 1).
    ret     # Return.
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://esolangs.org/wiki/Re:direction" rel="nofollow noreferrer">Re:direction</a>, 16 bytes</h1>
<pre><code>v&gt;
++&gt;
&gt;++
 v&gt;+v
</code></pre>
<p><a href="https://tio.run/##K0rVTcksSk0uyczP@/@/zI5LW9uOy05bm0uhzE677P9/ExNjAA" rel="nofollow noreferrer" title="Re:direction – Try It Online">Try it online!</a></p>
<p>This uses the headline definition from <a href="https://oeis.org/A110657" rel="nofollow noreferrer">A110657</a>: apply <a href="https://oeis.org/A028242" rel="nofollow noreferrer">A028242</a> (2m ↦ m+1, 2m+1 ↦ m) twice.</p>
<p><a href="https://i.sstatic.net/2dxGDM6N.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/2dxGDM6N.png" alt="Diagram" /></a></p>
<p>The input number <i>n</i> initialises the queue with <i>n</i> <code>&gt;</code>s and one <code>v</code>. At the top-left, a <code>v</code> is added and execution is sent down, into the loop on line 1.</p>
<p>This loop consumes the <code>&gt;</code>s, adding a <code>&gt;</code> for every two <code>&gt;</code>s consumed, then goes down with the <code>v</code>. If the number was even, it goes down on the left column, and one more <code>&gt;</code> is added.</p>
<p>In either case, we arrive at the same <code>+</code>. The first time we get there, it consumes the extra <code>v</code> to go down, into a path that adds <code>v&gt;v</code> and reenters the loop on line 1.</p>
<p>The second time we arrive at that <code>+</code>, the queue contains <code>&gt;v</code> followed by a number of <code>&gt;</code>s. The <code>&gt;</code> sends execution right, into another <code>+</code> which consumes the <code>v</code> to go down, leaving just the number of <code>&gt;</code>s. Then one <code>&gt;</code> is added, one <code>&gt;</code> is consumed, and finally the <code>v</code> adds one <code>v</code> and points to itself to end execution.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 5 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>_3d4S
</code></pre>
<p>A monadic Link that accepts the number of checkers and yields the number of leftovers.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/z/eOMUk@L/O4XZN9///ixLz0lM1jEw1AQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h4>How?</h4>
<p><span class="math-container">$$\Bigl \lfloor \frac{n-3}{4} \Bigr \rfloor + ((n-3) \mod 4)$$</span></p>
<pre><code>_3d4S - Link: non-negative integer, N
_3    - {N} subtract three -&gt; N - 3
  d4  - {that} div-mod four -&gt; [(N - 3) // 4, (N - 3) % 4]
    S - sum -&gt; (N - 3) // 4 + ((N - 3) % 4)
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.gnu.org/software/gawk/" rel="nofollow noreferrer">AWK</a>, 23 bytes</h1>
<pre><code>1,$0=$1-3*int(($1+1)/4)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m704sTx7wYKlpSVpuhbbDXVUDGxVDHWNtTLzSjQ0VAy1DTX1TTQhslBFC3YacBlyGXEZc5lwmXKZcZlzWXBZchkCBQ0hCgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 9 bytes</h1>
<pre><code>Ｉ⁻Ｎ×³÷⊕θ⁴
</code></pre>
<p><a href="https://tio.run/##FcqxDkAwEADQXzGehISwGVkMxOAHqr3EJXpor37/8OZndxPsaQ7VJRAL9CYKTMQpwshXkjn5DQPkRbaSxwhNkY0sAz3k8Bs2oEcWdHB/pc1/nWpdafkcLw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: I independently found @xor's first and third (see @KevinCruijssen's answer) formulae, and I also double-checked his second approach, but it was the first one that produces the shortest port.</p>
<pre><code>       θ    First input
      ⊕     Numerically incremented
     ÷      Integer divided by
        ⁴   Literal integer `4`
   ×        Multiplied by
    ³       Literal integer 3
 ⁻          Subtracted from
  Ｎ         First input as a number
Ｉ           Cast to string
            Implicitly print
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>6</s> 5 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>&gt;4‰O&lt;
</code></pre>
<p>Originally two equal-bytes ports of <a href="https://codegolf.stackexchange.com/a/279067/52210"><em>@xnor</em>'s Python answers</a>, but now golfed an additional byte by <em>@xnor</em> with a third variation:</p>
<p><span class="math-container">$$\left\lfloor\frac{n+1}{4}\right\rfloor+((n+1)\bmod 4)-1$$</span></p>
<p><a href="https://tio.run/##yy9OTMpM/f/fzuRRwwZ/m///zQE" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W9o5OZnr6TwqG2SgpK93387k0cNG/xt/uv8BwA" rel="nofollow noreferrer">verify the first 12 test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>&gt;      # Increase the (implicit) input-integer by 1: n+1
 4‰    # Divmod it by 4: [(n+1)//4,(n+1)%4]
   O   # Sum this pair together: (n+1)//4+(n+1)%4
    &lt;  # Decrease it by 1: (n+1)//4+(n+1)%4-1
       # (after which the result is output implicitly)
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 14 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;n/4+n%4%3|0
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/Z9m@z/P1i5P30Q7T9VE1bjG4H9afpFGnkJmnoJjUVFipYahmaZeWmZOjoamZnJ@XnF@TqpeTn66hnaeThqQ0NT8DwA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Port of xnor's alternate</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="noreferrer">Python</a>, 19 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda n:n--~n//4*3
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM7YoKPqfZhvzPycxNyklUSHPKk9Xty5PX99Ey/h/Wn6RQp5CZp5CUWJeeqqGoZGmFZdCQVFmXolGnk6aRp6m5n8A" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>The formula is <span class="math-container">$$n-3\left\lfloor \frac{n+1}{4}\right\rfloor$$</span></p>
<p>This comes from starting with <span class="math-container">\$n\$</span> checkers and removing sandwiches of 3. How many sandwiches? The color alternation doesn't let sandwiches touch, so the densest they pack is: sandwich of 3, skip 1, sandwich of 3, skip 1, and so on. This allows one sandwich per 4 checkers except the first one uses only 3, for <span class="math-container">\$\left\lfloor \frac{n+1}{4}\right\rfloor\$</span> sandwiches.</p>
<hr />
<p>An alternate formulation is:</p>

<pre class="lang-python prettyprint-override"><code>lambda n:n//4+n%4%3
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM7YoKPqfZhvzPycxNyklUSHPKk9f30Q7T9VE1fh/Wn6RQp5CZp5CUWJeeqqGoZGmFZdCQVFmXolGnk6aRp6m5n8A" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>with <code>n//4</code> leftovers as one per group of 4, then the remaining <code>n%4</code> are leftovers unless this is 3 where they form another sandwich leaving 0 leftovers.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/279064/">279064</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




