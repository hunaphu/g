<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276681</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>014</td><td>Jelly</td><td>241115T171040Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276685#276685">Jonathan</a></td></tr>
<tr d-ix="1"><td>097</td><td>Retina</td><td>241115T170507Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276683#276683">Neil</a></td></tr>
<tr d-ix="2"><td>035</td><td>Charcoal</td><td>241115T170848Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276684#276684">Neil</a></td></tr>
<tr d-ix="3"><td>142</td><td>Python</td><td>241115T181150Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276690#276690">movatica</a></td></tr>
<tr d-ix="4"><td>021</td><td>Japt</td><td>241115T173018Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276688#276688">Shaggy</a></td></tr>
<tr d-ix="5"><td>094</td><td>Ruby</td><td>241115T172048Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276686#276686">Jordan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 14 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>&gt;⁶Ä3ḍk⁸Ġ€F=2)S
</code></pre>
<p>A monadic Link that accepts a list of lists of <code>&lt; &gt;</code> characters and yields a list of the column-wise tail counts.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9/uUeO2wy3GD3f0Zj9q3HFkwaOmNW62RprB/x/u3nK4/f9/BQU7GzsFKEAw4SxkBpeNnQ2ICaXQdEFFQeowtQNpJF1ANkQCKMYFV4bkEJhahNFc2N2JYgNChAvMA2pDWAoTwTAG7GBs5mBhIhyCkEPyF5wJNxkA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h4>How?</h4>
<p>Partition each row after either the right-hand side of each fish (whether a head or a tail) or a space character like so:</p>
<pre><code>  &gt;&lt;&gt;   &gt;&lt;&gt;&gt;&lt;&gt;
00111000111111    &lt;- greater than space?
00123333456789    &lt;- cumulative sums
11001111001001    &lt;- is divisible by three?
ww[f]www[f][f][]  &lt;- identified &quot;parts&quot; (by partitioning after 1s) 
                        shown here as: water (w);
                                       fish ([f]); and
                                       a trailing empty list ([])
</code></pre>
<p>Then identify the &quot;tails&quot; of each &quot;part&quot; using the group-indices-by-value monad, <code>Ġ</code>:</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th style="text-align: center;">Part Type</th>
<th style="text-align: center;">Part</th>
<th style="text-align: center;">Ġ(Part)</th>
<th style="text-align: center;">flatten(Ġ(Part))=2?</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>[f]</code></td>
<td style="text-align: center;"><code>&quot;&lt;&gt;&lt;&quot;</code></td>
<td style="text-align: center;"><code>[[1,3],[2]]</code></td>
<td style="text-align: center;"><code>[0,0,1]</code></td>
</tr>
<tr>
<td style="text-align: center;"><code>[f]</code></td>
<td style="text-align: center;"><code>&quot;&gt;&lt;&gt;&quot;</code></td>
<td style="text-align: center;"><code>[[2],[1,3]]</code></td>
<td style="text-align: center;"><code>[1,0,0]</code></td>
</tr>
<tr>
<td style="text-align: center;"><code>w</code></td>
<td style="text-align: center;"><code>&quot; &quot;</code></td>
<td style="text-align: center;"><code>[[1]]</code></td>
<td style="text-align: center;"><code>[0]</code></td>
</tr>
<tr>
<td style="text-align: center;"><code>[]</code></td>
<td style="text-align: center;"><code>&quot;&quot;</code></td>
<td style="text-align: center;"><code>[]</code></td>
<td style="text-align: center;"><code>[]</code></td>
</tr>
</tbody>
</table></div>
<pre><code>&gt;⁶Ä3ḍk⁸Ġ€F=2)S - Link: list of lists of characters, School
            )  - for each (Row of the School):
&gt;⁶             -    {Row} greater than the space character? (vectorises)
  Ä            -    cumulative sums of {that}
   3ḍ          -    three divides {that}? (vectorises)
     k⁸        -    partition the Row after truthy indices of {that}
       Ġ€      -    group the indices of each of {those} by their values
         F     -    flatten {that}
          =2   -    {that} equals two? (vectorises)
             S - sum {that} (column-wise)
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 97 bytes</h1>
<pre><code>N$^`
$.&amp;
(\S)(\S)\1
 $2&#32;
 &lt;
1&#32;
&gt;&#32;
 1
+`(?&lt;=^(.)*)(.)((.*¶)+(?&lt;-1&gt;.)*)1(?(1)^)
$.(_$2*)$3&#32;
&#32;
0
0G`
</code></pre>
<p><a href="https://tio.run/##bU8xDsIwDNz9Cg8RsltR1WUN6cjGwlqVMjCwMCDexgP4WHBKmwTaSIkvZ9/l8rg@b/eLeH80/QCm2gB1Jw67E0DTIKAFQXAKBMqBWrvvqeKC9SCqiveLSyW34gIp1JJwz@pEZ9MUbHYqhBrqw@A9orMOp5VgRDkA62yAU/lTTWyYW8q1ZirF34ZyEMeyIPNssob1nD8vJAbGm8rSozOzsBkDr/mswBQk9bJ/RRidPw" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Explanation:</p>
<pre><code>N$^`
$.&amp;
</code></pre>
<p>Sort the rows in descending order of length.</p>
<pre><code>(\S)(\S)\1
 $2 
</code></pre>
<p>Chop the heads and tails off all the fish.</p>
<pre><code> &lt;
1 
&gt; 
 1
</code></pre>
<p>Place <code>1</code>s where the tails used to be.</p>
<pre><code>+`(?&lt;=^(.)*)(.)((.*¶)+(?&lt;-1&gt;.)*)1(?(1)^)
$.(_$2*)$3 
</code></pre>
<p>Accumulate the column totals.</p>
<pre><code>&#32;
0
</code></pre>
<p>Replace any remaining spaces with zeros.</p>
<pre><code>0G`
</code></pre>
<p>Keep just the totals.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>40</s> 35 bytes</h1>
<pre><code>ＷＳ«Ｆ⪫Ｅ⪪ι ⭆⪪κ³◧Ｉ∨‹μ=¹⁰⁰¦³ Ｉ⁺ΣκΣＫＫＦι←
</code></pre>
<p><a href="https://tio.run/##bU/BjoIwFDzbr3jx9Jqwicabi1w8rZFIwhc0WteGCgQKe9j47fVVK2VXeuBNpzPzhuNFNMdKaGt/LkpLwK@y7kxuGlV@I@fwy2bnqgHcVarEVNSY11oZVBHMYc4jeCrDQxHBiuhMnPbybHArWoOHBveybfFKpo0zLRcLzp3QfV0Oh4xivDzTXYt5d8XC5dPMpCyoC51P30ZxSKte4totIfZmLUASJ@BPgAMaAxYnsYN@/HN51une7TRHLsLPB@LYIBsVeWlDNJvu@WdDYNjjRraw9MW8xTwKT@VMwFAkvI3@a4Ah2X70@g4" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as a list of newline-terminated strings. Explanation:</p>
<pre><code>ＷＳ«
</code></pre>
<p>Loop through each row of fish.</p>
<pre><code>Ｆ⪫Ｅ⪪ι ⭆⪪κ³◧Ｉ∨‹μ=¹⁰⁰¦³ 
</code></pre>
<p>Split each row on spaces, then split each part into fish, replace the tails with <code>1</code>s, join everything back together again, and loop over the result.</p>
<pre><code>Ｉ⁺ΣκΣＫＫ
</code></pre>
<p>Increment the number under the cursor if there is a <code>1</code> in the current position of the string otherwise replace blanks with zeros.</p>
<pre><code>Ｆι←
</code></pre>
<p>Move back to the left column.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 142 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda s:(p:=[m.start()+2*(m[0]&lt;'&gt;')for r in s.split('\n')for m in re.finditer('&gt;&lt;&gt;|&lt;&gt;&lt;',r)])and[p.count(i)for i in range(max(p)+1)]
import re
</code></pre>
<p>I bet there is a shorter way to solve this.</p>
<p><a href="https://ato.pxeger.com/run?1=bVFLTsMwEBVbn8LKxjYtUT4bVCW5SJqFIQkY1Y7luFKROAMXYBMJwTG4B5yGyadxoLFszfObec-TzNunfraPjere63T_cbT1ze3364HLu5Ljdkf1Ls2l31puLGWb6JrKPCgSkhFWNwYbLBRu_VYfhKVkr0ZW9qyp_FqoUtjKUJIl2UuSJWRrWMG4KnPt3zdHZakYBGIQcPVQUclPVLNNyAokpG6MBaOxq5-rL5PW1PM8jMEPT8vBGS0Bgmd7OIV_qont6y7lEBcqwGMCODSXLRo51zprtN7nnxccg4YbyNyjZ-bCZmh4zWcFukZcbvFdM5yd4Q8zhLQRMB9C_KdGKBiLpq01MD_GppQXxlEYBrAjiGEAK-7PcOl3DCeKgILCIPDYOMauG-Mv" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>24</s> 21 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p><s>Not happy with the inclusion of both &quot;fish&quot; in this :\ </s><br>That's a <em>little</em> better, but it still feels too long. Takes input as an array of lines.</p>
<pre><code>ËËr.³ÈhQJ*Xb&gt;Ã}SÃÕËèQ
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;header=tw&amp;code=y8tyLrPIaFFKKlhiPsN9U8PVy%2bhR&amp;input=IiAgPjw%2bICAgICAgICA%2bPD4gICAgICAgPjw%2bICAgICAgPjw%2bICAgICAgPjw%2bCjw%2bPCAgICA8PjwgICAgICAgICAgICA%2bPD4gICAgPD48ICAgID48PgogPjw%2bICAgICAgPjw%2bICAgICA%2bPD48PjwgICAgICAgID48Pj48PiAgIDw%2bPAogICAgPjw%2bICA%2bPD4gICAgICAgIDw%2bPCAgICAgPjw%2bICAgIDw%2bPAogPjw%2bICAgICAgICA%2bPD4gICAgICAgICA%2bPD4gICAgID48PiAgICAgICA%2bPD4KPjw%2bICA8Pjw8PjwgICAgICAgPjw%2bICA8Pjw%2bPD4gICAgICAgID48PiAgID48PgogICA%2bPD4gICAgID48PiAgICAgICAgPjw%2bICAgICAgICA%2bPD4gICAgPD48CiA%2bPD4gID48PiAgICAgICA8PjwgICAgICAgIDw%2bPCAgICAgID48PiAgID48PiI" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 94 bytes</h1>
<p>Takes an array of lines as input.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a{h=Hash.new 0
(0...a.map{_1.scan(/(&gt;&lt;&gt;)|&lt;&gt;&lt;/){h[$`.size+($1?0:2)]+=1}
_1.size}.max).map &amp;h}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kqDSpcsEiN9ulpSVpuhY343TtEqszbD0SizP08lLLFQy4NAz09PQS9XITC6rjDfWKkxPzNPQ17GzsNGts7Gz0NaszolUS9Iozq1K1NVQM7Q2sjDRjtW0Na7lAioGitUCdFZog7QpqGbVQW4wLFNyio7mUgMYAkQLQICUdLiUQDURACOJB5KB8rthYiNYFCyA0AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 92 bytes</h2>
<p>Assumes the first line is as long as the longest line.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a{h=Hash.new 0
a.map{_1.scan(/(&gt;&lt;&gt;)|&lt;&gt;&lt;/){h[$`.size+($1?0:2)]+=1}}
(0...a[0].size).map &amp;h}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kqDSpcsEiN9ulpSVpuhY3Y3TtEqszbD0SizP08lLLFQy4EvVyEwuq4w31ipMT8zT0Nexs7DRrbOxs9DWrM6JVEvSKM6tStTVUDO0NrIw0Y7VtDWtruTQM9PT0EqMNYsGymiATFNQyaqF2mBcouEVHcykBTQIiBaBZCgpKOlxKIBYQgcTAfIg8BCpxxcZCtC9YAKEB" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276681/">276681</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




