<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276681</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>071</td><td>JavaScript ES6</td><td>241115T211329Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276696#276696">Arnauld</a></td></tr>
<tr d-ix="1"><td>095</td><td>R</td><td>241117T045504Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276716#276716">Eonema</a></td></tr>
<tr d-ix="2"><td>083</td><td>Ruby</td><td>241117T004341Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276715#276715">Level Ri</a></td></tr>
<tr d-ix="3"><td>016</td><td>Japt</td><td>241115T173018Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276688#276688">Shaggy</a></td></tr>
<tr d-ix="4"><td>122</td><td>Python</td><td>241115T181150Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276690#276690">movatica</a></td></tr>
<tr d-ix="5"><td>079</td><td>Python + NumPy</td><td>241116T073709Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276701#276701">Albert.L</a></td></tr>
<tr d-ix="6"><td>178</td><td>Scala 3</td><td>241116T033427Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276700#276700">138 Aspe</a></td></tr>
<tr d-ix="7"><td>026</td><td>Charcoal</td><td>241115T170848Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276684#276684">Neil</a></td></tr>
<tr d-ix="8"><td>009</td><td>Vyxal</td><td>241116T005055Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276699#276699">emanresu</a></td></tr>
<tr d-ix="9"><td>018</td><td>K ngn/k</td><td>241115T224747Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276698#276698">ovs</a></td></tr>
<tr d-ix="10"><td>057</td><td>Perl 5 F</td><td>241115T210837Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276695#276695">Xcali</a></td></tr>
<tr d-ix="11"><td>014</td><td>Jelly</td><td>241115T171040Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276685#276685">Jonathan</a></td></tr>
<tr d-ix="12"><td>097</td><td>Retina</td><td>241115T170507Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276683#276683">Neil</a></td></tr>
<tr d-ix="13"><td>094</td><td>Ruby</td><td>241115T172048Z</td><td><a href="https://codegolf.stackexchange.com/questions/276681/count-the-fish-in-a-school/276686#276686">Jordan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (ES6), 71 bytes</h1>
<p>Expects an array of arrays of characters (which may be of different lengths). Returns an array of integers.</p>

<pre class="lang-none prettyprint-override"><code>a=&gt;a.map(r=&gt;r.map((c,i)=&gt;b[i]=~~b[i]+(c==&quot;&lt;&gt;&quot;[1/c||++n%3])),b=[n=0])&amp;&amp;b
</code></pre>
<p><a href="https://tio.run/##bVDRTsMgFH3nKxoSF0gnzvho4U1/YI9dHyijk6VChWpinPv1Cm1XOlcgl8PlnHsPHPkXd8Kqpr3XZi@7inacMk7eeYMsZbYHSKwVpqzMVUHP57ClSFAKMwbzxwdxOqWpvnsqMF6XNNd0U@DVquys/PhUViJYOYiJlXz/qmq5/dYCbTBpzba1Sh8QJq6pVYvgTu@0J1bGvnDxhlxCWfIDkkQY7UwtSW0OqEIu0j05uOuJOSHEeQfkaJRGEGL8DH5xxzIGgA9@JRnLQAh@hfSQHQ9ggvMJfPegHEeEE5oD4CUBjts/1ZgNvFv50G@mGC56xxfazMiFG0uDZZ9XHWIG9KfhK@a84dXX0t7wUp0FGI3Eu9m7JjhV/gM" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-none prettyprint-override"><code>a =&gt;               // a[] = input array
a.map(r =&gt;         // for each row r[] in a[]:
  r.map((c, i) =&gt;  //   for each character c at position i in r[]:
    b[i] =         //     update b[i]:
      ~~b[i] + (   //       coerce it to an integer in case it's still undefined
        c == &quot;&lt;&gt;&quot;[ //       test whether c is a fish tail:
          1 / c || //         this gives +Infinity if c is a space, which forces
                   //         the test to fail
          ++n % 3  //         otherwise, increment n; if this is the middle part
                   //         of the fish, we have n = 2 (mod 3) which, again,
                   //         forces the test to fail
        ]          //       end of lookup
      )            //
  ),               //   end of inner map()
  b = [n = 0]      //   start with n = 0 and b = [0]
) &amp;&amp; b             // end of outer map(); return b[]
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 95 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(x)Reduce(\(v,m)v+`[&lt;-`(0*1:max(nchar(x)),(m*attr(m,&quot;m&quot;))[-1,],1),gregexec(&quot;&lt;&gt;(&lt;)|(&gt;)&lt;&gt;&quot;,x),0)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bVJLboMwFJS6qeRTWF69l9hS2FWVxSGyTaoGUZMiBVoZJ2LRm3RDVfVQ7WnqD2ACgcUbxvPmDbY_v3T3XUjxczaFePh93kOLW_VyzhXs4cIrvKwPOykOsFklj1XWQp2_ZtqKkEO1yozRUHFWMcSdSPgTT5AftTqqVuXAZAoSPyBFmTLeIt9gGPN3d29UYxopTmVjgORAGKWpTGn_RDiiKWCcWG_pvvoya-xZL6XWe-Fi66TT4rBgOec9KieRBnmcMLO-Uk8HRcZ5e8J2x_EDs3Aa49-yuwGH9LPokx8dYRxAkNv9d7GYRz6hWx7cQtaYPmzddevyZUiQkOJNgztpWtbUnzjSd13WBgpPY38fui7Ufw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Ungolfed:</p>
<pre><code>\(x) {
  Reduce(
    # for each vector of fish tail indices, increment the correct slots in the output 
    #   vector
    \(v,m) {
      v +
        # assigning 1's to the indices of fish tails in a vector of zeroes
        # (this works because the assignment form of [] silently returns the new vector
        `[&lt;-`(
          0*1:max(nchar(x)),
          # multiply match indices by match lengths so that zero-length matches 
          #   aren't included, and exclude row 1 (total match)
          # (this works since assigning to index 0 leaves the vector unchanged)
          (m*attr(m,&quot;m&quot;))[-1,],
          1
         )
    },
    # find the fish tails and return a list of integer vectors, where each vector is
    #   the indices of the fish tails
    gregexec(&quot;&lt;&gt;(&lt;)|(&gt;)&lt;&gt;&quot;,x),
    # initial value for `Reduce`
    0
  )
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 83 bytes</h1>

<pre class="lang-none prettyprint-override"><code>-&gt;s{a=[c=x=0]*w=1+(s=~/\n/)
s.bytes{|i|c+=i/60
a[(x+i-61)%w]+=c%3/2
x+=1}
a[0..-2]}
</code></pre>
<p><a href="https://tio.run/##JYlBCoMwFET3/xTBImhDzI@CK38uYrPQUCGbUkyLEbVXTyMyD2aYN3/HNXrKdKcTrNMdY3BW4jwYXOYKZHCrERtEpVQaMFEU2m8D9ZYCobkvpHjh6ScfL1mCr8b18/Tb7nbLyckWYeiLwJ1oVZkvhpPNG1lD4KSOpLCqRG2O@GZT7038Aw" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>Function that takes a newline separated string as an argument and returns an array.</p>
<p>Assumes all lines are the same length, but could be rewritten if that is not acceptable. There are a few bytes that could be golfed out.</p>
<p><code>c</code> is a count of the number of <code>&lt;</code> and <code>&gt;</code> (characters over 60) found. When we are at the middle character of a fish <code>c%3</code> reaches its max value of 2. The direction of the character (ascii 60 or 62) points toward the tail, and the appropriate adjacent column <code>a[x+1]</code> or <code>a[x-1]</code> is incremented.</p>
<p>The last cell of <code>a</code> maintains a count for the column containing the newline characters and needs to be removed which costs a lot of bytes. I will try to golf this out tomorrow (and possibly relax the requirement for all lines to be the same length.)</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>24</s> <s>21</s> 16 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Takes input as a 2D array of codepoints.</p>
<pre><code>Ëí+DËgHÃå+ÃÕËxv3
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;header=t8txIMtj&amp;code=y%2b0rRMtnSMPlK8PVy3h2Mw&amp;input=IiAgPjw%2bICAgICAgICA%2bPD4gICAgICAgPjw%2bICAgICAgPjw%2bICAgICAgPjw%2bCjw%2bPCAgICA8PjwgICAgICAgICAgICA%2bPD4gICAgPD48ICAgID48PgogPjw%2bICAgICAgPjw%2bICAgICA%2bPD48PjwgICAgICAgID48Pj48PiAgIDw%2bPAogICAgPjw%2bICA%2bPD4gICAgICAgIDw%2bPCAgICAgPjw%2bICAgIDw%2bPAogPjw%2bICAgICAgICA%2bPD4gICAgICAgICA%2bPD4gICAgID48PiAgICAgICA%2bPD4KPjw%2bICA8Pjw8PjwgICAgICAgPjw%2bICA8Pjw%2bPD4gICAgICAgID48PiAgID48PgogICA%2bPD4gICAgID48PiAgICAgICAgPjw%2bICAgICAgICA%2bPD4gICAgPD48CiA%2bPD4gID48PiAgICAgICA8PjwgICAgICAgIDw%2bPCAgICAgID48PiAgID48PiI" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <s>142</s> <s>126</s> 122 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda s:[*map([m.start()+2*(m[0]&lt;'&gt;')for r in s for m in re.finditer(r'\S..',r)].count,range(max(map(len,s))))]
import re
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bVFNToQwFI7bnqJh03bEhp-NMQyXcAksqgNaQwspnUS9ihsSo4fxBnoaX4EBdHhp877383198N4-2xf72Oj-vdrnH0dbXV1_v9ZC3R0E7m6ynRItzRTvrDCWsstoR1UWFAlJCasagw2WGnfYQeWgKXkl9UHa0lBD8lvOiW9Ywe-bo7a-EfqhpEo8Uydbl9rvGFiBpGobY4E9TvBz8WX2FfU8D-M0SfFkC5zRGqAkTRyc3D_WlHV953TwKxbgsQA5NLetBjn1LtJoe84_LywZNERAWx49Zc5khoG3dDbgMshSW33XDGdl-MO8a2tpKck1YQyh1kgNEeFPjdTDmjprYIVQG0teGEdhGMCJwIcBWOzuELgTw40iSEFjEHhsXGnfj_4X" rel="nofollow noreferrer">Attempt This Online!</a></p>
<ul>
<li>Input: list of strings</li>
<li>Output: list of integers</li>
</ul>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> + NumPy, 79 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda s:sum((cumsum((X:=c_[s].view(&quot;i4&quot;)%-8)&lt;0,1)+X)%3&gt;1,0)
from numpy import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bVFLboMwEFW3PoWFFMmmBNnQRYSAfVbdRipVlRJQUINt8WmVs3QTqWrv1N6j-9rYiaEBxuM3v-fx-P1LHLs9Z6ePMsk--65crr7vD9v6ebeFbdT2NUJ5Xw_7Jkryp4f20X-tijfkVHcOXixXOCYexbcbvAhT6hEMyobXkPW1OMKqFrzpXEObl7yB-b5nL7BikIuCIYL9ptjuEPZbcag65GQsYw6OAHTXHoeJTrdBBwMomop1yC3RGnttIRLHOjnWR51-bn7TOAWUEAAkkALjNAZKSVEh7TVGQEhICKU0MAXXv-JSKVMNAISK3HwWXtAYAEmkoNn-VRmvyrsu112MKnRguNQ5bdTIOddSg_k-JydYDxgsPa1xnp7FtHRoeI5nBtpGbGx0rwu0zDQM5KClBHIf5h6qNRhKQrmCQD1HKLV-_j8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes a list of rows which are strings.</p>
<h2>How?</h2>
<p>Using numpy is convenient here, because the array constructor pads strings to equal length (with zeros, so normally you wouldn't necessarily notice). The view cast to integer does roughly the same as ord in standard python; it also reveals the padding.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala 3</a>, 178 bytes</h1>
<hr />
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=bVI9T8MwEJUY_StOnmyhWhUsqNSRGBCqRBcQU6mQaZNicJwovvBR4JewwAALG_8Gfg12UpIAzXLv7t47P1_89OZmyqjt9wnt2exGFZZOvzYOdJpnBULVEyVqI1KFswttF-IoXsS3hGTnl_EMYay0hXsCMI8TSH3CVLFwA9grCnU3OcbCS6Z8ACdWI8iKCXCtDGibl1j3fZ1SChANI1h9LWxQF5BhNAxwFf6oVtXA-y_3saPyuG74GmloHSM_3HY0We_z1wlthVSZl7WH_lT-jakMr5uzBrZG2l7nXg1sJvsNk2b5WYnd7bOEdX4H5yK9qiGjlFei3GdoLOsKQ-eRkDAvGQCrizI61A4nI4tTDvK1xKS38_nhZHQfeEvphMuNRkZPLeUiMQrHKmdGRtR7fPC2qShEou18z5hxeHIjy4w35EmpjFLhUBW4yXTC0vpJxnMpadDxLYiNi6HPOd8FT1gK7fbTHO94sMR46LI-ZrD0ytt6ppbRUsyy0iI7k1L7q2MW2I-185dVfH6u4zc" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>s=&gt;{val z=s.split(&quot;\n&quot;).flatMap(l=&gt;&quot;&gt;&lt;&gt;|&lt;&gt;&lt;&quot;.r.findAllMatchIn(l).map(m=&gt;m.start+(if(m.matched==&quot;&lt;&gt;&lt;&quot;)2 else 0))); if(z.isEmpty)List()else(0to z.max).map(i=&gt;z.count(_==i)).toList}
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=dVTNbtQwEL5w8lOMcnKEsCq4oNXuSj1wqMRKVRGnUiGz6ywGx4niSdVqyZNw6QUeiqfBf7HdNs3F45nvm5lvYvv3X7Pnir97ePgzYvPm_b9XXLZ9NyB4PxtRKtZy3H-X-siuxFHcEdJ9-yH2CDsuNZwIwEE00NoN5cPRrOB8GPj99SccLOWmXsFnLRE2HglwyxVI3Y8Y4tZfVRXAdr2F-GUzWaVB1tu1M-PyhBW9DvecbteCZe0QsD6SYEUjMzanJst9PqqQPcTvLC0XnT3P0viGl_IsmLmRHCt0JTNlthMmafh9ZyTKThs7-kbqwyVHFIO-nN20-Dt1Yg3CjMr9xX03aszglC1DuxHL3xuYrP0ZPLSqArS3O1SalnAXmUg8UYvN2eMVoSv4KA1eX2i8eXS4-kBxB8tK_2WnUbHBRw0zvZJIqy-6qlmjOO54DydQUgvY-Pm7vgKfufLnSu3c2b_Q1IFqexMcoc1ogJYZ5Pa-vAYqG6BtuC3iABvbgatew1sQygg4qyNp8uvEsHMSSs0vTbcQuyjcVU5gJs2Htsf72gNpqOo7OMUG3JxafjcXsmky2fojip4BdiVu1i9L_Znpm6dfnXCZpGaRQfdEpvDSxAdnfnj-Aw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>import scala.util.matching.Regex

object Main {
  def main(args: Array[String]): Unit = {
    val inputString = &quot;&quot;&quot;  &gt;&lt;&gt;        &gt;&lt;&gt;       &gt;&lt;&gt;      &gt;&lt;&gt;      &gt;&lt;&gt;
&lt;&gt;&lt;    &lt;&gt;&lt;            &gt;&lt;&gt;    &lt;&gt;&lt;    &gt;&lt;&gt;
 &gt;&lt;&gt;      &gt;&lt;&gt;     &gt;&lt;&gt;&lt;&gt;&lt;        &gt;&lt;&gt;&gt;&lt;&gt;   &lt;&gt;&lt;
    &gt;&lt;&gt;  &gt;&lt;&gt;        &lt;&gt;&lt;     &gt;&lt;&gt;    &lt;&gt;&lt;
 &gt;&lt;&gt;        &gt;&lt;&gt;         &gt;&lt;&gt;     &gt;&lt;&gt;       &gt;&lt;&gt;
&gt;&lt;&gt;  &lt;&gt;&lt;&lt;&gt;&lt;       &gt;&lt;&gt;  &lt;&gt;&lt;&gt;&lt;&gt;        &gt;&lt;&gt;   &gt;&lt;&gt;
   &gt;&lt;&gt;     &gt;&lt;&gt;        &gt;&lt;&gt;        &gt;&lt;&gt;    &lt;&gt;&lt;
 &gt;&lt;&gt;  &gt;&lt;&gt;       &lt;&gt;&lt;        &lt;&gt;&lt;      &gt;&lt;&gt;   &gt;&lt;&gt;&quot;&quot;&quot;

    val positions = findPatternPositions(inputString)
    val result = countPositions(positions)
    val outputString = result.mkString(&quot;&quot;)
    println(outputString)
  }

  def findPatternPositions(s: String): List[Int] = {
    val pattern = &quot;&gt;&lt;&gt;|&lt;&gt;&lt;&quot;.r
    s.split(&quot;\n&quot;).flatMap { line =&gt;
      pattern.findAllMatchIn(line).map { m =&gt;
        m.start + (if (m.matched == &quot;&lt;&gt;&lt;&quot;) 2 else 0)
      }
    }.toList
  }

  def countPositions(positions: List[Int]): List[Int] = {
    if (positions.isEmpty) List()
    else {
      val maxPosition = positions.max
      (0 to maxPosition).map { i =&gt;
        positions.count(_ == i)
      }.toList
    }
  }
}
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>40</s> <s>35</s> <s>28</s> 26 bytes</h1>
<pre><code>ＷＳＰ⭆ι⁺¬﹪⁺℅κＬ⁻…ι⊕λ ³Σ⊟ＫＤ⊕λ→
</code></pre>
<p><a href="https://tio.run/##bU/BbsMgDL3nK6yejJSddtuiXLpLpWaL1i@ICAqoFCJmNu3rGaFpSNf4gJ@f37MNl53jttMh/EilBeDBjJ5O5JQZkDFovCY1xorwSjbdiKqEVvsvfLeEje29tpjqD9cr02k8sxKOwgwksVEmNva/XIu9tMl6MNyJizAketQsSnewY1N@np6Tv2Abha0Q5zflBCdlDd57Snj5VIMkluI1BIC6qmGODBe0BkVVVxOc0z/XzE66R3vMK1fE10bkikW2OuSmzaOL7TvvNmSmSFW05aU35mFMOnhrzgbMh@Te6l8LzJPD07f@Aw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as a list of newline-terminated strings. Explanation: Now inspired by @Ausername's version of @ovs' answer.</p>
<pre><code>ＷＳ
</code></pre>
<p>Loop through each row of fish.</p>
<pre><code>Ｐ⭆ι⁺¬﹪⁺℅κＬ⁻…ι⊕λ ³Σ⊟ＫＤ⊕λ→
</code></pre>
<p>For each character, count the number of non-spaces so far including the current character, add on the current character's ordinal, and check whether the result is divisible by <code>3</code>. If so, then increment the appropriate digit of the result, otherwise replace blanks with zeros. Replace the current result with the new computed values. (Unfortunately Charcoal has no way of adding the values in two arrays to each other so it has to peek each digit of the result in turn.)</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="noreferrer">Vyxal</a>, 9 bytes</h1>
<pre><code>ƛC&lt;¦+3Ḋ;∑
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJQIiwiIiwixptDPMKmKzPhuIo74oiRIiwiIiwiW1szMiwgMzIsIDYyLCA2MCwgNjIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgNjIsIDYwLCA2MiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjJdLCBbNjAsIDYyLCA2MCwgMzIsIDMyLCAzMiwgMzIsIDYwLCA2MiwgNjAsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjIsIDMyLCAzMiwgMzIsIDMyLCA2MCwgNjIsIDYwLCAzMiwgMzIsIDMyLCAzMiwgNjIsIDYwLCA2Ml0sIFszMiwgNjIsIDYwLCA2MiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgNjIsIDYwLCA2MiwgMzIsIDMyLCAzMiwgMzIsIDMyLCA2MiwgNjAsIDYyLCA2MCwgNjIsIDYwLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjIsIDYyLCA2MCwgNjIsIDMyLCAzMiwgMzIsIDYwLCA2MiwgNjBdLCBbMzIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjIsIDMyLCAzMiwgNjIsIDYwLCA2MiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDMyLCA2MCwgNjIsIDYwLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjIsIDMyLCAzMiwgMzIsIDMyLCA2MCwgNjIsIDYwXSwgWzMyLCA2MiwgNjAsIDYyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgNjIsIDYwLCA2MiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjJdLCBbNjIsIDYwLCA2MiwgMzIsIDMyLCA2MCwgNjIsIDYwLCA2MCwgNjIsIDYwLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgNjIsIDYwLCA2MiwgMzIsIDMyLCA2MCwgNjIsIDYwLCA2MiwgNjAsIDYyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjJdLCBbMzIsIDMyLCAzMiwgNjIsIDYwLCA2MiwgMzIsIDMyLCAzMiwgMzIsIDMyLCA2MiwgNjAsIDYyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDYyLCA2MCwgNjIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgNjIsIDYwLCA2MiwgMzIsIDMyLCAzMiwgMzIsIDYwLCA2MiwgNjBdLCBbMzIsIDYyLCA2MCwgNjIsIDMyLCAzMiwgNjIsIDYwLCA2MiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDYwLCA2MiwgNjAsIDMyLCAzMiwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgNjAsIDYyLCA2MCwgMzIsIDMyLCAzMiwgMzIsIDMyLCAzMiwgNjIsIDYwLCA2MiwgMzIsIDMyLCAzMiwgNjIsIDYwLCA2Ml1dIl0=" rel="noreferrer">Try it Online!</a>
I/O as a matrix of charcodes. Inspired by <a href="https://codegolf.stackexchange.com/a/276698/100664">ovs's K answer</a> (and then backported to that to save two bytes)</p>
<pre><code>ƛ      ;∑ # Over each line, sum the results of
 C&lt;       # For each number, check if it's not a space
 C        # by checking if if casting it to a char
  &lt;       # results in a larger value - ' ' &lt; '3', '&lt;'/'&gt;' &gt; '6'
   ¦      # Take the cumulative sum of these
    +     # Add to the original charcodes
     3Ḋ   # And check if it's divisible by 3
</code></pre>
<p>As to why this works, here's an example:</p>
<ul>
<li>Given <code>&gt;&lt;&gt;&gt;&lt;&gt; &lt;&gt;&lt;  </code> (<code>[62 60 62 62 60 62 32 60 62 60 32 32]</code>)</li>
<li>Mask of nonspaces i.e. fish characters: <code>[1 1 1 1 1 1 0 1 1 1 0 0]</code></li>
<li>Cumulative sum of that: <code>[1 2 3 4 5 6 6 7 8 9 9 9]</code> (modulo 3: <code>[1 2 0 1 2 0 0 1 2 0 0 0]</code>)
<ul>
<li>First char of fish -&gt; 1 (modulo 3), second char -&gt; 2, last char -&gt; 0, space -&gt; 0</li>
</ul>
</li>
<li>input charcodes modulo 3: <code>[2 0 2 2 0 2 2 0 2 0 2 2]</code>
<ul>
<li><code>&gt;</code> -&gt; 2, <code>&lt;</code> -&gt; 0, <code> </code> -&gt; 2</li>
</ul>
</li>
<li>Add these together: <code>[0 2 2 0 2 2 2 1 1 0 2 2]</code> (modulo 3). The only way this will result in a 0 is if:
<ul>
<li>a <code>1</code> from the first char of a fish is added to a 2 from a <code>&gt;</code> i.e. tail of rightwards fish</li>
<li>a <code>0</code> from the last char of a fish is added to a 0 from a <code>&lt;</code> i.e. tail of a leftwards fish</li>
</ul>
</li>
<li>Check divisibility by 3: <code>[1 0 0 1 0 0 0 0 0 1 0 0]</code> i.e. fish positions</li>
</ul>
</div>
<div id="pu9" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 18 bytes</h1>
<pre><code>+/{x=62-3!2+\~^x}'
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxtUEsOwiAQ3XOKcTbatMakJi4Mkh7EuOwZmhg9u8Dj85ACTV+GeR9mvY+X9/a4zefrYR6f39f2ORqzLpM669SjUwD+iHVWRI3/AvQnFFFAB7YOhd5vCIpEKlaFBbUgOkRzkfT746ZqVULKTg8hiIwLelhupnyZ0XrtuDQs9qRKnpakEXJznijz48gQrBfcgZCkYLWFghdYTESHH9wkWo0=" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>  {             }'   / for each row:
   x=62-3!2+\~^x     /   mark the tails
+/                   / add the rows to get column count
                     / example: &quot;&gt;&lt;&gt;&gt;&lt;&gt; &lt;&gt;&lt;  &quot;
             ~^x     / is not null (not space)
                     / 1 1 1 1 1 1 0 1 1 1 0 0
          2+\        / cumulative sums, starting at 2
                     / 3 4 5 6 7 8 8 9 10 11 11 11
        3!           / modulo 3. maps each fish to 0 1 2
                     / 0 1 2 0 1 2 2 0 1 2 2 2
     62-             / subtract from 62 (&gt;). Maps each fish to &quot;&gt;=&lt;&quot;
                     / &quot;&gt;=&lt;&gt;=&lt;&lt;&gt;=&lt;&lt;&lt;&quot;
   x=                / character-wise equal to original row
                     / 1 0 0 1 0 0 0 0 0 1 0 0
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-F</code>, 57 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>s/(&gt;)&lt;&gt;|&lt;&gt;&lt;/$1?100:aa1/ge;$i=0;$;[$i++]+=$_ for/./g}{say@
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/79YX8NO08auxsbORl/F0N7QwMAqMdFQPz3VWiXT1sBaxTpaJVNbO1bbViVeIS2/SF9PP722ujix0uH/fwUFOxs7BShAMOEsZAYX0HwQE0qh6YKKgtRhagfSSLqAbIgEUIwLrgzJITC1CKO5sLsTxQaECBeYB9SGsBQmgmEM2MHYzMHCRDgEIYfkLzgTbvK//IKSzPy84v@6vqZ6BoYG/3XdAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 14 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="noreferrer">bytes</a></h1>
<pre><code>&gt;⁶Ä3ḍk⁸Ġ€F=2)S
</code></pre>
<p>A monadic Link that accepts a list of lists of <code>&lt; &gt;</code> characters and yields a list of the column-wise tail counts.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9/uUeO2wy3GD3f0Zj9q3HFkwaOmNW62RprB/x/u3nK4/f9/BQU7GzsFKEAw4SxkBpeNnQ2ICaXQdEFFQeowtQNpJF1ANkQCKMYFV4bkEJhahNFc2N2JYgNChAvMA2pDWAoTwTAG7GBs5mBhIhyCkEPyF5wJNxkA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h4>How?</h4>
<p>Partition each row after either the right-hand side of each fish (whether a head or a tail) or a space character like so:</p>
<pre><code>  &gt;&lt;&gt;   &gt;&lt;&gt;&lt;&gt;&lt;
00111000111111    &lt;- greater than space?
00123333456789    &lt;- cumulative sums
11001111001001    &lt;- is divisible by three?
ww[f]www[f][f][]  &lt;- identified &quot;parts&quot; (by partitioning after 1s) 
                        shown here as: water (w);
                                       fish ([f]); and
                                       a trailing empty list ([])
</code></pre>
<p>Then identify the &quot;tails&quot; of each &quot;part&quot; using the group-indices-by-value monad, <code>Ġ</code>:</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th style="text-align: center;">Part Type</th>
<th style="text-align: center;">Part</th>
<th style="text-align: center;">Ġ(Part)</th>
<th style="text-align: center;">flatten(Ġ(Part))=2?</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>[f]</code></td>
<td style="text-align: center;"><code>&quot;&lt;&gt;&lt;&quot;</code></td>
<td style="text-align: center;"><code>[[1,3],[2]]</code></td>
<td style="text-align: center;"><code>[0,0,1]</code></td>
</tr>
<tr>
<td style="text-align: center;"><code>[f]</code></td>
<td style="text-align: center;"><code>&quot;&gt;&lt;&gt;&quot;</code></td>
<td style="text-align: center;"><code>[[2],[1,3]]</code></td>
<td style="text-align: center;"><code>[1,0,0]</code></td>
</tr>
<tr>
<td style="text-align: center;"><code>w</code></td>
<td style="text-align: center;"><code>&quot; &quot;</code></td>
<td style="text-align: center;"><code>[[1]]</code></td>
<td style="text-align: center;"><code>[0]</code></td>
</tr>
<tr>
<td style="text-align: center;"><code>[]</code></td>
<td style="text-align: center;"><code>&quot;&quot;</code></td>
<td style="text-align: center;"><code>[]</code></td>
<td style="text-align: center;"><code>[]</code></td>
</tr>
</tbody>
</table></div>
<pre><code>&gt;⁶Ä3ḍk⁸Ġ€F=2)S - Link: list of lists of characters, School
            )  - for each (Row of the School):
&gt;⁶             -    {Row} greater than the space character? (vectorises)
  Ä            -    cumulative sums of {that}
   3ḍ          -    three divides {that}? (vectorises)
     k⁸        -    partition the Row after truthy indices of {that}
       Ġ€      -    group the indices of each of {those} by their values
         F     -    flatten {that}
          =2   -    {that} equals two? (vectorises)
             S - sum {that} (column-wise)
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 97 bytes</h1>
<pre><code>N$^`
$.&amp;
(\S)(\S)\1
 $2&#32;
 &lt;
1&#32;
&gt;&#32;
 1
+`(?&lt;=^(.)*)(.)((.*¶)+(?&lt;-1&gt;.)*)1(?(1)^)
$.(_$2*)$3&#32;
&#32;
0
0G`
</code></pre>
<p><a href="https://tio.run/##bU8xDsIwDNz9Cg8RsltR1WUN6cjGwlqVMjCwMCDexgP4WHBKmwTaSIkvZ9/l8rg@b/eLeH80/QCm2gB1Jw67E0DTIKAFQXAKBMqBWrvvqeKC9SCqiveLSyW34gIp1JJwz@pEZ9MUbHYqhBrqw@A9orMOp5VgRDkA62yAU/lTTWyYW8q1ZirF34ZyEMeyIPNssob1nD8vJAbGm8rSozOzsBkDr/mswBQk9bJ/RRidPw" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Explanation:</p>
<pre><code>N$^`
$.&amp;
</code></pre>
<p>Sort the rows in descending order of length.</p>
<pre><code>(\S)(\S)\1
 $2 
</code></pre>
<p>Chop the heads and tails off all the fish.</p>
<pre><code> &lt;
1 
&gt; 
 1
</code></pre>
<p>Place <code>1</code>s where the tails used to be.</p>
<pre><code>+`(?&lt;=^(.)*)(.)((.*¶)+(?&lt;-1&gt;.)*)1(?(1)^)
$.(_$2*)$3 
</code></pre>
<p>Accumulate the column totals.</p>
<pre><code>&#32;
0
</code></pre>
<p>Replace any remaining spaces with zeros.</p>
<pre><code>0G`
</code></pre>
<p>Keep just the totals.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 94 bytes</h1>
<p>Takes an array of lines as input.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a{h=Hash.new 0
(0...a.map{_1.scan(/(&gt;&lt;&gt;)|&lt;&gt;&lt;/){h[$`.size+($1?0:2)]+=1}
_1.size}.max).map &amp;h}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kqDSpcsEiN9ulpSVpuhY343TtEqszbD0SizP08lLLFQy4NAz09PQS9XITC6rjDfWKkxPzNPQ17GzsNGts7Gz0NaszolUS9Iozq1K1NVQM7Q2sjDRjtW0Na7lAioGitUCdFZog7QpqGbVQW4wLFNyio7mUgMYAkQLQICUdLiUQDURACOJB5KB8rthYiNYFCyA0AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 92 bytes</h2>
<p>Assumes the first line is as long as the longest line.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a{h=Hash.new 0
a.map{_1.scan(/(&gt;&lt;&gt;)|&lt;&gt;&lt;/){h[$`.size+($1?0:2)]+=1}}
(0...a[0].size).map &amp;h}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kqDSpcsEiN9ulpSVpuhY3Y3TtEqszbD0SizP08lLLFQy4EvVyEwuq4w31ipMT8zT0Nexs7DRrbOxs9DWrM6JVEvSKM6tStTVUDO0NrIw0Y7VtDWtruTQM9PT0EqMNYsGymiATFNQyaqF2mBcouEVHcykBTQIiBaBZCgpKOlxKIBYQgcTAfIg8BCpxxcZCtC9YAKEB" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276681/">276681</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




