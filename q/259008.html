<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::259008</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>021</td><td>Haskell + hgl</td><td>240722T164318Z</td><td><a href="https://codegolf.stackexchange.com/questions/259008/language-word-checker/274330#274330">Wheat Wi</a></td></tr>
<tr d-ix="1"><td>029</td><td>K ngn/k</td><td>230730T055022Z</td><td><a href="https://codegolf.stackexchange.com/questions/259008/language-word-checker/263520#263520">doug</a></td></tr>
<tr d-ix="2"><td>016</td><td>Jelly</td><td>230310T074138Z</td><td><a href="https://codegolf.stackexchange.com/questions/259008/language-word-checker/259012#259012">Unrelate</a></td></tr>
<tr d-ix="3"><td>074</td><td>Scala</td><td>230525T104351Z</td><td><a href="https://codegolf.stackexchange.com/questions/259008/language-word-checker/261224#261224">138 Aspe</a></td></tr>
<tr d-ix="4"><td>063</td><td>Python</td><td>230310T083101Z</td><td><a href="https://codegolf.stackexchange.com/questions/259008/language-word-checker/259013#259013">JvdV</a></td></tr>
<tr d-ix="5"><td>134</td><td>Go</td><td>230310T150805Z</td><td><a href="https://codegolf.stackexchange.com/questions/259008/language-word-checker/259022#259022">bigyihsu</a></td></tr>
<tr d-ix="6"><td>033</td><td>Charcoal</td><td>230311T010149Z</td><td><a href="https://codegolf.stackexchange.com/questions/259008/language-word-checker/259035#259035">Neil</a></td></tr>
<tr d-ix="7"><td>017</td><td>05AB1E</td><td>230310T100654Z</td><td><a href="https://codegolf.stackexchange.com/questions/259008/language-word-checker/259016#259016">Kevin Cr</a></td></tr>
<tr d-ix="8"><td>028</td><td>Retina 0.8.2</td><td>230310T094925Z</td><td><a href="https://codegolf.stackexchange.com/questions/259008/language-word-checker/259015#259015">Neil</a></td></tr>
<tr d-ix="9"><td>055</td><td>JavaScript Node.js</td><td>230310T065841Z</td><td><a href="https://codegolf.stackexchange.com/questions/259008/language-word-checker/259010#259010">tsh</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a> + <a href="https://gitlab.com/wheatwizard/haskell-golfing-library" rel="nofollow noreferrer">hgl</a>, 21 bytes</h1>
<pre><code>cP$rX&quot;[AB]/r[AC]/r?|&quot;
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708I7E4OzUnZ8FNxczcgvyiEoXC0sSczLTM1BSFgKLUnNKUVC6oRMDS0pI0XYvtabbJASpFEUrRjk6x-kXRjs5A0r5GCSJ7c1JuYmaegq1CSj6XgkJuvIJGQZGCjUKaJpCnoBCtoOTs5OioBObogDhOTnCOk7MzkoyzozOc4-jsiFAGZCPJOCErc0TiOMFlYiEuW7AAQgMA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h1>No regex, 32 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>x=py$xay&quot;AB&quot;&lt;*x&lt;*xay&quot;AC&quot;&lt;*x
</code></pre>
<pre><code>cP x
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708I7E4OzUnZ8FNxczcgvyiEoXC0sSczLTM1BSFgKLUnNKUVC6oRMDS0pI0XYubShW2BZUqFYmVSo5OSjZaFUAEYjuD2FxptskBChVQlZNyEzPzFGwVUvK5FBRy4xU0CooUbBTSNIE8BYVoBSVnJ0dHJTBHB8RxcoJznJydkWScgYbDOI7OjghlQDaSjBOyMkckjhNcJhbisgULIDQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h1>Reflection</h1>
<ul>
<li>There should be a shortcut for <code>cP&lt;rX</code>.</li>
<li><code>(&lt;*?)</code> and <code>(?*&gt;)</code> have the wrong type they are <code>t m -&gt; t m -&gt; t m</code>, but the two input types do not need to be the same.</li>
<li>There could be a parser combinator for the recursive pattern used in the no regex answer. It appears in a lot of balanced string type questions. This could then be <code>cP$on blj xys&quot;AB&quot;&quot;AC&quot;</code> which would tie the regex answer at least.</li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>43</s> <s>41</s> <s>36</s> 29 bytes</h1>
<pre><code>~&amp;/0{(0&gt;)_,/x+/:1-2*&amp;2 2\-y}/
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxdjDsPgjAURvf7K+o14SE0LR2vCdg2DN3ZrEEGcXHCRzRGfrtoYkIdT853vp7GSMhnIsu0zcU9E1RwtYoUU54/XgJAgDVaM855yfrudD5MbMycjbWht9rOWZsfX4brhFYHudaBNuF6Gtu/86D24DZUtNGYuCqPUXiPabxYOkaS9t1wvLECoKEMGfrYQU0JfkNc4+cf00pQwxRAPfZxs5U7eAOesERh" rel="nofollow noreferrer">Try it online!</a></p>
<p>-2 bytes : Better lookup<br/>
-5 bytes : Even better thanks to @ngn<br/>
-7 bytes : Fairly sizeable overhaul by @ngn (go team ngn/k!!)</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>18</s> <s>15</s> 16 bytes</h1>
<pre><code>,UċƤ&quot;⁾CBḤ«ƑJ&gt;LḂ$
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/18n9Ej3sSVKjxr3OTs93LHk0OpjE73sfB7uaFL5/3D3lsPtj5rWRP7/7@zk6Mjl7OTkxOXk7AxkOTs6czk6gQhnRycuR0cgywnEBfKcQbIgMZAwAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p><a href="https://tio.run/##bVOxbtswEN31FVcVhURUdix3M6ACtoEOQdd2CdKCkE4WHVoUSDqFx3bt1H/I1h/I1CEo8h/pj7hHirbsIIYH8r13d7y7p25nG9W@29dabUBY1FYpaUBsOqUtdFpV29JGnl2jlLsD4y9f8ZbLzJ9FvYuiHqSgleYbKCBJkn326e/Px7v43/c/y8XT/d3D78dfl18@Pt3/2BN7lc9G@XUUVVgDpRJVatgsAvqJGiS2dIU3MIVXBUxmoNFudQsfuDToRQ2XNZUJwosLmHq4VNvWzokwY39Mk3nCBmZxyixOmeUpswwMvSSEve8LKn1Q98ALD3tNUCd5iVALbSykPnAUEjGI53FCQ26tgngR@xBDtek8XitB3YxNJ4VNSZfBeSx7VoBigBuIU1Iq26A2/sqGrGYctClpM6dkA@IKkPgEWQbEx0usLaWY@EvtOm/o2WD6JR3G00BRuLyzXv@2gPzIo/SrrG0gR@ekwRfGF4C@uKvuDcJXGtEcHRJEB9s44WDK9MyKGVwFj5LwmkWR66R1jWjerjCdZJDnGUzZjAZ76W1ulNxaoVqwWtwK7iCNayytAVVVznIr25iMdNDSH7ECWmbZYHlznNU3pStXJHxFZMPFMsnc5pC7qbZsGCM3hr69Q49J0vvAZaCNR50WzpKfXa/cYpWw/X8" rel="nofollow noreferrer">Validated against tsh's Python demonstration</a> and <a href="https://tio.run/##XVG9TsMwEN7zFCeKZBuFisBWqUJtt4oVlqhFJrkkLokd2W6hI6xMvEM3XqATA0J9j/IiwfkpAiwP5/u@@@6@c7m2mZIXVaJVAcKitkrlBkRRKm2h1CpeRtZr0AXm@fqANI9bXPHcb2KRrL0O0pjiI3DjAs9reU4n1byAIRBCKv/682W3Ofp6ep@M99vNx9vudTq/2m@fK4eGweA0mHlejAk4dRFTwwYeuKPRLrWEOzcg1dgvuI0yqsmchqPxjF4G7CQcTWbs5Jj4hrFWgaca0fyXOOjCcPjLCP0zqw9h58sRZ04uURokCAmayxTpmQ9B4MM5G0APps1qjMqXVigJVouV4HVK4wIja0DFMeQoU5sZ3/FAuosYg1UQZRjdN9PVHR6Ujusm3eYpGY0nxHc6JXLr9ic7J/XpOZaQltY17CfLjXG/eHBOSH@hhGw5zkVbQW7qDXCLMWHVNw" rel="nofollow noreferrer">against JvdV's regex</a>. (But, I neglected to check extremely unbalanced odd cases...) Checks that no more than half of the symbols in every prefix are <code>C</code> and that no more than half of the symbols in every suffix are <code>B</code>.</p>
<pre><code>,U                  Pair the input with its reverse.
    &quot;⁾CB            For the original and C, and the reverse and B:
  ċƤ                Count how many times the symbol occurs in each prefix.
        Ḥ           Double the counts.
         «Ƒ         Are all elements less than or equal to
           J        their 1-indices?
            &gt;LḂ$    Also, reject any odd-length inputs.
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 74 bytes</h1>
<p>Golfed version. <a href="https://tio.run/##bZBRT8MgFIXf@yuufVghdma@1rEEeDJRX4xPy2JwwsRga4At3WZ/ewU6XTQlaUg/zj335Li1MKJvXt7l2sO90DUcs2wnLKgK3Wnnl/xN2FV5W3tMFqxpjBQ1EDiuhZPwDGQB3m5l1yuSEGqral8egha184IXE4XC7@U1xl@ovSAFKyaHxWyg00Bv0tCDNmnmQMis6wFepYKPkAUJu3EVUGvFfvnora43K1zBU619zJBBODthwEvno5ELNIZG6QUA5ZTmZUqIy1/GWaJKGPcXMzaCGeejak75CKYs4X8bKadj1pSOidmoRXDg4zHOzoniLF2qsYCQLkFimE/PDeFTbUNxVrqtiV0qpK98E7srYYZPis9QuDc10grQj5JEw3yXgwwbIW/D8uFpGOqy@GVd/w0" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>f={case(x::y,z)=&gt;(x&lt;'C'&amp;f(y,z+1))|(x!='B'&amp;z&gt;0&amp;f(y,z-1));case(Nil,z)=&gt;z==0}
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##bZHBT8IwGMXv/BXPHaCNw@B1YSRtTybqxXgiHOrsoGZspi0EEP72@W0DUbNdtvy@1/e9vvlMF7quq7cPkwU8aVviazAA3k2OnGUr7XyCR@vDXNH3IsYhwUMZeAJZVYXRJVK0Kqx1yFZ0GPRk2hvskCTYI521CGA7TDFSIwyHZL0nK9zinnMcj83sJsVItsMDZpj8Uo0b1dX32RZkSjxNMSF8uuRdU3qm3ZISC@f0fv4SnC2XCwr7WtpASbt0W10gGB8aN0@0uR67hIyEiGIEtzE8/mFKtjTXhf@LpezBUqletRKqBwvZ4n8bhRJ91kL0iWWvBTmo/hhX55byQfvKKwfGbAzDMR1fG@Ln2rrinPGboukyZ/YuVE13MSb8rPikwkNRMpuDXZRpYxhtIxjaiGhHy7tRd@jU/cLToK6/AQ" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {

  def f(chars: List[Char], z: Int): Boolean = chars match {
    case x :: y =&gt;
      (x &lt; 'C' &amp;&amp; f(y, z + 1)) || (x != 'B' &amp;&amp; z &gt; 0 &amp;&amp; f(y, z - 1))
    case Nil =&gt; z == 0
  }

  def main(args: Array[String]): Unit = {
    val testcases = List(
      (&quot;AA&quot;, true),
      (&quot;CBAA&quot;, false),
      (&quot;CBBB&quot;, false),
      (&quot;BCCA&quot;, false),
      (&quot;CCAC&quot;, false),
      (&quot;ABAC&quot;, true),
      (&quot;ACAB&quot;, false),
      (&quot;AAAC&quot;, true),
      (&quot;BBAC&quot;, true),
      (&quot;CABC&quot;, false),
      (&quot;CCAB&quot;, false)
    )

    for ((i, e) &lt;- testcases) {
      val result = f(i.toList, 0)
      println(if (result == e) &quot;v&quot; else &quot;x&quot;, result)
    }
  }

}

</code></pre>
</div>
<div id="pu4" class="pu"><h1>Python, 63 bytes</h1>
<pre><code>lambda x:bool(match('^([AB](?1)*[AC])*$',x))
from regex import*
</code></pre>
<p>See an online <a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhY37XMSc5NSEhUqrJLy83M0chNLkjM01OM0oh2dYjXsDTW1oh2dYzW1VNR1KjQ1udKK8nMVilLTUysUMnML8otKtCDGbCgoyswr0UjTUHd0cnRW19SECC9YAKEB" rel="nofollow noreferrer">demo</a></p>
<p>This is based on the <em>PCRE</em> regex pattern:</p>
<pre><code>^([AB](?1)*[AC])*$
</code></pre>
<p>See an online <a href="https://regex101.com/r/7z1fFZ/1" rel="nofollow noreferrer">demo</a>. I was unsure if we were allowed to simply post the pattern for 18 bytes.</p>
<hr />
<h1>Excel (ms365), 120 bytes</h1>
<p><a href="https://i.sstatic.net/vNx5W.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/vNx5W.png" alt="enter image description here" /></a></p>
<p>Formula in <code>B1</code>:</p>
<pre><code>=REDUCE(A1,ROW(A:A),LAMBDA(a,b,IFERROR(REPLACE(a,MIN(IFERROR(FIND({&quot;AC&quot;,&quot;BA&quot;,&quot;BC&quot;},a),&quot;&quot;)),2,),SUBSTITUTE(a,&quot;AA&quot;,))))=&quot;&quot;
</code></pre>
<p>The idea here is to 1st replace any of the compound words that are not a copy of itself. If not found, try to replace 'AA'. Check if the final result after the last iteration is empty.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, <s>125</s> 134 bytes</h1>
<pre class="lang-go prettyprint-override"><code>import.&quot;strings&quot;
func f(s string)bool{l:=s
for _,e:=range[]string{&quot;BA&quot;,&quot;AC&quot;,&quot;BC&quot;,&quot;AA&quot;}{l=ReplaceAll(l,e,&quot;&quot;)}
return l==&quot;&quot;||l!=s&amp;&amp;f(l)}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=1ZXBitRAEIaPYj9Fb8MuCWZEbxJooatUEDwsznEdNnHojIM9mSHJDMrsXH0JL4vgQ61nH8ROsurUv-pdBjKp1N_pn_qqK5-_LNbXNw825fx9ufB6VS5rpZarzbrpHppq1ZlfQds183W9M1-3XTV5cvPp6PmyXrRGVdt6rquk1eOT9O16HfYht62q1o2-zHxum7Je-IvZKNgbciYzjuOF-otz5rAP9rXfhHLuXQhJyHxmTHpQje-2Ta2DtcZcXYUT256dVUlID6Obb_e-D7v39pNU79U0t9NNWHZJoSeTyVPdNVuvmJwbw6oMbR8THcfELPPs-Dh29DMeXufYieXOiTRJdRQzvBxWs5BD8vjF0sRxRsjADst1JLYvMvOmNuktqVbnVg-s9DQWM_ThWM42M-OqqF3WmfZ9Klw8mmXx-nim_IdNdpnb87JpPUX-iU9VOe96VZUs67io0lFzYuPDvbp_HvugqxLzwr189fxZrovTtujz-elOR0X_FyNrx_voMBs2jZv06eFOW9vfp-oQf8rvfPOxexe7q9-yiEiOSxKjfxGLWakmUMsKOpZqRMZQb_f38t9pLSIn02CFCDpTeiHwQgyN62Qo1QxtLqvCYAX6Cs5QjEHOwjlJQgSEsIkdtDgcYEmInPRCgIgceJGMCBjBgSZgRDhNgBFJRgSMSDIihjMPXhgPt1TjYJN1AUYEjAgYsYO5CZDYOdAT6An0MAqBEwMnBk535zj4IfADpHDuM5BiAj-AiolxlON3gyAGPfgBXMz4qcDvEviRvAr1hzE-TO_f0zHTw7z_v4b77cf--nr8_wE" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Recursive function that repeatedly replaces the <code>A[empty string]B</code> pairs with an empty string.</p>
<h3>Explanation, slightly ungolfed</h3>
<pre class="lang-go prettyprint-override"><code>import.&quot;strings&quot;      // boilerplate
func f(s string)bool{ // function that maps string -&gt; bool
l:=s                  // init
for _,e:=range[]string{&quot;BA&quot;,&quot;AC&quot;,&quot;BC&quot;,&quot;AA&quot;}{
                      // replace these pairs in this exact order
l=ReplaceAll(l,e,&quot;&quot;)} // with an empty string
return l==&quot;&quot;||l!=s&amp;&amp;f(l)} // ok if empty, not ok if non-empty
</code></pre>
<h3>Changelog</h3>
<ul>
<li>+9 bytes for matching <code>AACC</code>, using a different approach.</li>
</ul>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 33 bytes</h1>
<pre><code>⊞υＳＦυＦABＦACＦ⌕Ａι⁺κλ⊞υΦι∧⁻ξμ⁻ξ⊕μ¬⌊υ
</code></pre>
<p><a href="https://tio.run/##PU7NCoMwDL77FMFTAt0TeOoEwcNGwScQ7WZZGkdtx96@qwPNJd9P8vFNyximdeScTdoWTAp6eac4xODkiURN9VgDYCL471pf6xO2B@yczJoZnQLDacOXAiYiOCI7x9GG3dYy481Jufkq8KTgJL1MwXor0c7oaZ@mMqVExPsa9x/nky89ip6z1m2bLx/@AQ" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>⊞υＳ
</code></pre>
<p>Start a breadth-first search with the input string.</p>
<pre><code>Ｆυ
</code></pre>
<p>Loop over all of the found strings.</p>
<pre><code>ＦABＦAC
</code></pre>
<p>Loop over <code>AB</code>, <code>AC</code>, <code>BA</code> and <code>BC</code>.</p>
<pre><code>Ｆ⌕Ａι⁺κλ
</code></pre>
<p>Loop over all of the indices of those substrings in the string being considered.</p>
<pre><code>⊞υΦι∧⁻ξμ⁻ξ⊕μ
</code></pre>
<p>Push the string with the substring at that index removed to the list of strings to consider.</p>
<pre><code>¬⌊υ
</code></pre>
<p>See whether we were able to end up with the empty string.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 17 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>„AB„ACâIgиæõδ.;õå
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//UcM8RycQ4Xx4kWf6hR2Hlx3eem6LnvXhrYeX/v/v5OzkDAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##S0oszvifnFiiYKeQnJ@SqpdfnJiUmapgY6Pg6u/GZa@k8KhtkoKS/f9HDfMcnUCE8@FFnunWF3YcXnZ467ktetaHtx5e@l@HC6SaqzwjMydVoSg1MUUhM48rJZ9LQUE/v6BEH2IolEKzx0ZBBaw2L/W/k6OjM5eTs5Mzl6MTkOUI5jpBxYCiIHkgpQQGXM5OQOToCCScnIAqnIEsZ5AuZ0eghCNQnTOIBdTIBQA" rel="nofollow noreferrer">verify all test cases</a>. The test suite contains a <code>;</code> (halve) after the <code>g</code> to speed it up substantially.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>„AB„ACâ     # Push [&quot;AA&quot;,&quot;AC&quot;,&quot;BA&quot;,&quot;BC&quot;] by taking the cartesian product of &quot;AB&quot; &amp; &quot;AC&quot;
 Ig         # Push the length of the input-string
   и        # Repeat the earlier list of strings that many times as single list,
            # so each individual pair is repeated the input-length amount of times
    æ       # Get the powerset of this list
      δ     # Map over each inner list:
     õ .;   #  Replace every first occurrence of the pairs one by one with an empty
            #  string in the (implicit) input-string
         õå # Check if the resulting list contains an empty string
            # (after which the result is output implicitly)
</code></pre>
<p>Minor note: for an explicit empty string input, it'll do the following steps: <code>„AB„ACâIgи</code>=<code>[]</code> → <code>æ</code>=<code>[[]]</code> → <code>õδ.;</code>=<code>[&quot;&quot;]</code> → <code>õå</code>=<code>1</code> (truthy). This is different than if no input is provided, since <code>õδ.;</code> would then keep <code>[[]]</code> and the result is falsey: <a href="https://tio.run/##yy9OTMpM/f//UcM8RycQ4Xx4kWf6hR22h5fZHt56boueNZA6vFTn/38lMAAA" rel="nofollow noreferrer">try it online with explicit empty string input</a> vs <a href="https://tio.run/##yy9OTMpM/f//UcM8RycQ4Xx4kWf6hR22h5fZHt56boueNZA6vFTn/38A" rel="nofollow noreferrer">try it online without any input</a>.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 28 bytes</h1>
<pre><code>^((A|B)|(?&lt;-2&gt;A|C))*$(?(2)^)
</code></pre>
<p><a href="https://tio.run/##FYkhDoAwEAR93wHJHQmmmkB2V/CLBgQCgyDI/v1ozWQm817f/Zwx2n5EMUOlV9uWOa@ocp8G2yx78QgRSCKZKDUTlMAOgQloxp6t1C9/" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>^(
</code></pre>
<p>Starting at the beginning of the string, ...</p>
<pre><code>(A|B)|
</code></pre>
<p>match either of <code>A</code> or <code>B</code>, or...</p>
<pre><code>(?&lt;-2&gt;A|C)
</code></pre>
<p>... match a previously matched <code>A</code> or <code>B</code> with an <code>A</code> or <code>C</code>, removing the knowledge of the match, so that a subsequent <code>A</code> or <code>C</code> has to match a previous <code>A</code>or <code>B</code>, ...</p>
<pre><code>)*$
</code></pre>
<p>... repeating until the end of the string, ...</p>
<pre><code>(?(2)^)
</code></pre>
<p>without leaving any unmatched leading <code>A</code>s or <code>B</code>s.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 55 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=([x,...y],z)=&gt;x?x&lt;'C'&amp;f(y,-~z)|x!='B'&amp;z&gt;0&amp;f(y,~-z):!z
</code></pre>
<p><a href="https://tio.run/##XY9NT8IwGMfv@xQPF9qStngGO9I2XjzowSOQ0MxOa8a2tJWMqXz1uREhzMuT/P5vyfNhDiZk3tWRldWr7bpc4HVDOefHLW2JSJtVc480mub4SNmpJd/NRCCFpm16d9ZOrCWLSdtFG2Jmgg0gYJdICYyxFKL/tIlWF8xNEQZW6paV1mNfS33LUl34PCe1HNWlHNlqnO7D@t/4qL3j0bs9JjzUhYsYbUpE@N7U2INIwf/J802YsVna3zkhy@T6LM8r/2Cyd4zXjoLdkqH0lQBkVRmqwvKiesM5dr0u4PHl@YnXxgeLLYEVoAOCBaAGURgi/e4PWXa/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>This question <a href="https://tio.run/##fVLbaoQwEH3vV0xTyiZ0191u3wQLSaD/IbsJWoJKEgv9ejvGWC@s@pQ5lzmTic2vL@rqo@vuSsNPbso7dSx9AvxKDUZVWMIrXOE5g0sKVvnWVvCVG6eCqMiNhmwUns9wDfCtbivPkXBJONIDP7CJEXNGzBk5Z2RkcJJo@xwCazuqB@DBYC8INSa/KdCldR5oMJ5iIwaEk4ODsvI1EEGCxWE2npPvusTbJK4xpaeoO8LSy1YB6IHcAaGorH2hrAslm7q6JGopao@9kk1IH4DiGSIjEvxGaY8tLqHQ/c0LHBvc8EjjegrIsr5vOujfMnj/55UJT6l9JE9L0qkH64vAEI7pXWNxV3T4Q4gUnBPGcAc6OFakEJukkHLHKbncJLkYSW/bNSf5diTn20ax0xR7yr1RF4ndHw" rel="nofollow noreferrer">can be solved in linear time</a>, however we do prefer golf instead of time complexity.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/259008/">259008</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




