<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::263496</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>814</td><td>Zig</td><td>250214T134501Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/278236#278236">138 Aspe</a></td></tr>
<tr d-ix="1"><td>194</td><td>Elixir</td><td>250214T071027Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/278232#278232">138 Aspe</a></td></tr>
<tr d-ix="2"><td>041</td><td>Haskell + hgl</td><td>240720T020113Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/274286#274286">Wheat Wi</a></td></tr>
<tr d-ix="3"><td>nan</td><td>C89</td><td>230801T055849Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263596#263596">Pignotto</a></td></tr>
<tr d-ix="4"><td>nan</td><td>Rust</td><td>230729T140042Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263499#263499">mousetai</a></td></tr>
<tr d-ix="5"><td>047</td><td>JavaScript Node.js</td><td>230801T035122Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263593#263593">l4m2</a></td></tr>
<tr d-ix="6"><td>108</td><td>Ruby</td><td>230731T013302Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263556#263556">Value In</a></td></tr>
<tr d-ix="7"><td>053</td><td>Perl 5</td><td>230730T232032Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263553#263553">good old</a></td></tr>
<tr d-ix="8"><td>008</td><td>Nekomata + e</td><td>230731T072004Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263560#263560">alephalp</a></td></tr>
<tr d-ix="9"><td>026</td><td>Charcoal</td><td>230730T140337Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263542#263542">Neil</a></td></tr>
<tr d-ix="10"><td>073</td><td>Haskell</td><td>230730T123742Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263536#263536">Gurkengl</a></td></tr>
<tr d-ix="11"><td>059</td><td>JavaScript Node.js</td><td>230730T075502Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263526#263526">tsh</a></td></tr>
<tr d-ix="12"><td>095</td><td>JavaScript</td><td>230729T144258Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263501#263501">bsoelch</a></td></tr>
<tr d-ix="13"><td>144</td><td>Retina 0.8.2</td><td>230730T075426Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263525#263525">Neil</a></td></tr>
<tr d-ix="14"><td>139</td><td>Haskell</td><td>230730T070715Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263523#263523">LeopardS</a></td></tr>
<tr d-ix="15"><td>nan</td><td>Scala</td><td>230729T153542Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263502#263502">138 Aspe</a></td></tr>
<tr d-ix="16"><td>013</td><td>Jelly</td><td>230729T164305Z</td><td><a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263509#263509">Jonathan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://ziglang.org/" rel="nofollow noreferrer">Zig</a>, 814 bytes</h1>
<p>814 bytes, it can be golfed much more.</p>
<hr />
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=vVbNbtNAED4gcchTDDkgW7W3cbhUTV1RIW5IRMCtVNXaXicruWvLuy4JiZ-ESyWExCvB0zBe_-bPLUXFcuz1zOx838zuzObb9698dvdL-rGQCqQKwIXX_CaJU2UM8XNoTgaDUvmJSfWGSoYWUqWZr2A1ALzoKVxelSb8xNIib1fEFgnzFQtOwYvjyBrkkx-ZCu2T389IaTjt-IXwFPirsQVSvyGfDEIBobEJtQljascVp1J44WIEZM5oQhI6Y9c0imKfqjidaKNbmoLUJhdpSpfvuFTG1CRccGVcmKVNwEKGViRgWlxJJaFJwkRgTFckdEcWke4oNwF9-3PIRMqoP6dexErrME7BGBFCScSEuebrimTNQRSB95FonEjCFbuR5jpZty7aeBeOm5DwiF7yq8ke9bJQyyPvgHox1rMPqZdjPXvXOQ-NhXPujoCKADFwZG6SKy5RZ4wUGVs4FmDOls7hpNVXvoUFxmLcgBUjE3rRoIAbl3Djv4FrR9urr2WuKD_ydon3rk7BGNPqVpQxhe5OglKmslSAczaebMGXz1p_jvq8KpvnP5PMA6yKG8qFYcKL25gHG7sf91ScKSg3F4_JjKmPKnifYRzkS4pU0yIgPeH4GN5iOkBhiWOGsMbnVIKMuM8kUE3cs_RLzVlTyrrgGBW4iaOMdZBV1Skkgl9eX9WNow26WBaKypeo5ScrJ8f18dpvWwsaGBdCGiGn3DrkAHA_2Q5suelIO76wxdznqrzt5rffsbXxegSM_RCcf4SxOwDV3Y9i74W5dwHsjem9QfWY_VfER6E-HLRNeJveXri8LcYPmQC2UZBtl2mKy4R1Pe6eKGUJpkxmUVH8YTOBUKupTOLVpV8hTlMuFNDiCMKKbzQqXVZ9hCSFhTHEI3i1giHGscq3j6cuEp53SBA7gwU8WKy3mvSu3xUVy1w_tG8oZ2LzxNlw1hLXhyjY4JgFiSGwIoPDIXTJ5D38Ic9b9gcz4PV48B6SAe_pMuA9SQZ27dp_bJqUBbNYVePPoqTYcKptrXrj1WTy-sC6uyvffwA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-none prettyprint-override"><code>const P = struct { f: i32, s: i32 };
fn f(a: []const i8, b: []const i8) bool {
    const A=std.heap.page_allocator;
    var s=std.ArrayList(P).init(A);
    defer s.deinit();
    s.append(P{.f=0,.s=0}) catch unreachable;
    for (0..a.len)|i| {
        var n= std.ArrayList(P).init(A);
        for (s.items)|p|{
            const x1=p.f+a[i];
            const y1=p.s+b[i];
            const x2=p.f+b[i];
            const y2=p.s+a[i];
            if(x1&gt;=0 and y1&gt;=0){
                n.append(.{.f=x1, .s=y1}) catch unreachable;
            }
            if (x2&gt;=0 and y2&gt;=0) {
                n.append(.{ .f=x2, .s=y2}) catch unreachable;
            }
        }
        s.deinit();
        s=n;
    }
    for (s.items)|p|{
        if (p.f==0 and p.s==0){
            return 1&lt;2;
        }
    }
    return 1&gt;2;
}
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=vVdtb9s2EP5uYP_h6g-bhcpq4n4JkmVYsW7AgK0JWgMDlgURJZ1iYjIpUFRiz9Uv2ZcCxf7Ufs2OpF5tx01bdIHjF97xnofP3ZHU3-__4rfv3v1T6nR68u9XT2IpCg2FTuAcvufLXCo9GdPPsXc2GjnjHAv9AyuQPAqtyljDZgT0x07h6tq58BPfDkW7Q7jKMdaYnEIkZeaPKor77Bm8xJQLBAaXjKs6bo1nR7awUq4KfQr8-cxFLZB8k3rAhEwFpJMhoyEbz-LX4dwgyzIZW6QkWCDLg5zd4o0dZVoqimp875jhxzTWni-UYutfeKEnhqgXcMH1xE4iycyEBFOspwQJWrN3BkCL_g2_yTKQIluDM0Bo3UJgGvQC4Q7VGlAkDplmvNFM6Rr-nusFTI58OPKs-cYSMigsz2mS5bOBwGpFNvIMnE7mB1Qe0LLiBZRCIYsXLMrwrAX6WaMyIJIoAGa4RKEL4AJCFsKEUYwwCr3G-1LZNY5TqcjowdsbH_jbMchm7CgIWJChIJMZpzhLmaAS8Du_DVxGd9zq3DSaC1zpNx-je7OSXy8vXs9fvJqfQiLh1cUcQpeRNmCXlRAWqNCHgouYBLbpWZIEQKnhQssmP8GoRbC8nexc47Ig6jnx6bPvKmx1TOSNuU7KU2BX_Ppsj-e69axT9hSiB1xXs-2gD3muZztBHf7Al6cwIaLfmSIxiV67797WipqS62Ssyy7o1dzquF90FGl_1fVjVrtkZj0ys88gMxuQmX0UmWrUL6qXrl1lljQl0Vq3Gn0wba6YKEztyXuBqljwHFIllxC2vEPoqmwYsr86R7Jqu_UnLqjy1z7EC4z_tKId-SQSty1rdpLUeAwCP6JwTZxeYZ03SeiX0PmebCjUJfU2bdg9Oas-59ojZVlBLjSYlxHQnr1kXEw8eHIneTLYm6njZanr1ucyuEVSIrkoSeLgXtECVKs16fEjJRM0nVOUXzqoFqyAIuMxFnTAmAVEvv0wwjTnkT0OkAnaa7ISe8i6Pu4KAr-6uW5Ov27FpsQYGb8mKz_ZHFdUZVH3e2oHWphzt2io_IcCAPXMlDplGKY32otlJP5AKPeatv_7A_uDj0-AmT4G5zNhpj2A-nUYZboX5oMJmA6mH1zUAbf_FfGTUB8P2gneyXsQruqa8XUpAAcN2e0_bXPR7tN87-9ArgUVFmVmmj9tJwTMbzsziLa22UtFhzUwc0Ggjm8tmi5Tbh8JcuMxGdMFcbOBMa1jU_VuDQNqBonuJUSQdga61iSr7bN9N-6GiXVl32xscDNpN6XZ8G1H3F52YArHniExposWKTgeQ59MdYA_VFXH_kEFogMRoscoEH05BaIvosCuX_fYYUn5cCt1_f0P4Si2nBpfvym8hkxFJ5V7UqofmJoHp_8A" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>const std = @import(&quot;std&quot;);

const TestCase = struct {
    a: []const i8,
    b: []const i8,
    expected: bool,
};

// Define a Pair struct
const Pair = struct {
    first: i32,
    second: i32,
};

fn f(a: []const i8, b: []const i8) bool {
    const alloc = std.heap.page_allocator;

    var state = std.ArrayList(Pair).init(alloc);
    defer state.deinit();  // We'll only deinit `state` at the very end

    // Start state with (0, 0)
    _ = state.append(Pair{ .first = 0, .second = 0 }) catch unreachable;

    // Iterate over elements in `a` (and `b`)
    // Prefer &quot;for (a) |_, i|&quot; or &quot;for (0..a.len) |i|&quot; in modern Zig.
    for (0..a.len) |i| {
        var nextState = std.ArrayList(Pair).init(alloc);
        // IMPORTANT: do NOT `defer nextState.deinit();` here, since we'll move it into `state`.

        for (state.items) |pair| {
            const x1 = pair.first + a[i];
            const y1 = pair.second + b[i];
            const x2 = pair.first + b[i];
            const y2 = pair.second + a[i];

            if (x1 &gt;= 0 and y1 &gt;= 0) {
                _ = nextState.append(.{ .first = x1, .second = y1 }) catch unreachable;
            }
            if (x2 &gt;= 0 and y2 &gt;= 0) {
                _ = nextState.append(.{ .first = x2, .second = y2 }) catch unreachable;
            }
        }

        // Deinit old `state`
        state.deinit();

        // Transfer ownership from `nextState` to `state`
        state = nextState;
    }

    // Finally, check if (0,0) is in the final `state`
    for (state.items) |pair| {
        if (pair.first == 0 and pair.second == 0) {
            return true;
        }
    }

    return false;
}

pub fn main() !void {
    const stdout = std.io.getStdOut().writer();

    // Each test case has slices a and b, and the expected boolean value
    const testCases = [_]TestCase{
        .{ .a = &amp;[_]i8{1}, .b = &amp;[_]i8{-1}, .expected = false },
        .{ .a = &amp;[_]i8{ 1, -1 }, .b = &amp;[_]i8{ 1, -1 }, .expected = true },
        .{ .a = &amp;[_]i8{ 1, 1, 1, -1, -1, -1 }, .b = &amp;[_]i8{ 1, -1, 1, -1, 1, -1 }, .expected = true },
        .{ .a = &amp;[_]i8{ 1, -1, 1, -1, -1, -1 }, .b = &amp;[_]i8{ 1, 1, 1, -1, 1, -1 }, .expected = true },
        .{ .a = &amp;[_]i8{ -1, -1, -1, 1, 1, 1 }, .b = &amp;[_]i8{ 1, 1, 1, -1, -1, -1 }, .expected = false },
        .{ .a = &amp;[_]i8{ -1, -1, -1, -1, -1, -1, -1 }, .b = &amp;[_]i8{ -1, -1, -1, -1, -1, -1 }, .expected = false },
        .{ .a = &amp;[_]i8{ -1, -1, -1, -1, -1, -1, -1 }, .b = &amp;[_]i8{ -1, -1, -1, -1, -1, -1, -1 }, .expected = false },
        .{ .a = &amp;[_]i8{ 1, -1, -1, -1, -1, -1, -1 }, .b = &amp;[_]i8{ 1, 1, 1, 1, 1, 1, -1 }, .expected = false },
    };

    // Run each test case
    for (testCases) |testCase| {
        const result = f(testCase.a, testCase.b);

        // Print arrays a
        try stdout.print(&quot;a: {{ &quot;, .{});
        for (testCase.a, 0..) |val, idx| {
            try stdout.print(&quot;{any}{any}&quot;, .{ val, if (idx &lt; testCase.a.len - 1) &quot;, &quot; else &quot;&quot; });
        }
        try stdout.print(&quot; }} &quot;, .{});

        // Print arrays b
        try stdout.print(&quot;b: {{ &quot;, .{});
        for (testCase.b, 0..) |val, idx| {
            try stdout.print(&quot;{any}{any}&quot;, .{ val, if (idx &lt; testCase.b.len - 1) &quot;, &quot; else &quot;&quot; });
        }
        try stdout.print(&quot; }} &quot;, .{});

        try stdout.print(&quot;expected: {any}, got: {any}\n&quot;, .{ testCase.expected, result });
    }
}

</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://elixir-lang.org" rel="nofollow noreferrer">Elixir</a>, 194 bytes</h1>
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=nVRLbtswEN105VMMkkUkmBKcTVIEtQsUSIEsii7SnWEYtDhyiMikTFKJVVcn6SZA0R6kt0hP0yFlO3LawEUBSaTmvZkh5_f1BxZyJc3D4zeB-UKLqkD4wKUCoXsAx_DpRlrIK5U5qRVk2hi0pVbCgtNwkp8AUd0NwnXGC064wDToXTlw_BaJdq-hkNZZ0DmRHc7RWIi0kXOpeFHUMKsd8chOsBEHda4EGHSVURY4zLQukKv0e-Xy5PXjTzoq5BFns5gJfQGXqlqkn2UZJF9G4degqDKMxusBGzQTlqv1itUNE8lIbBh5wd10wcuIsJItm2Q0Xpf9FVv2iUe7mnarZoJKbG3msnBooo2tZLQaDQfhpLXfeGKHzFX99okaluEwnMaT2pv8ejXwl32vDQhcaGWd4T7ODAp0JxYWciGzEN5tuIBC5SDjFi3FycfBVGrqhbbNGATGNDBgCOMgAliPTycMxon_5ryw2LAnhEGQ7zbOVM_w9kl27469k7-sm7ygfFA36Whtnj9Udxb3L3UMl8tK3vEClfOFeo1Ln70iOoujKDmNU6ffUdXFW18hY74WTtP0jIwpmEIyIsshqwwO4f_o_fyw9_MD3v-GP_cekUPibrxAv__i_dke8lxljxp3Ksnj_xmyFvYGusUYbE96YcmpG9YWl1POwC8zBrgqMXMoGniTdOt7U_EAc-2o2POoq7Y98NXHtKycjY6O11JZb6ilxQ3sS2Yk2Xq66GBbWdww76gL0W_cHLWe6F699uvfHo3AHGpdwT1vq0CqO32LoZvbfr2_QeXbV0k1D2LKA7Kgk3GatTQcL3p-Fqe7Ho82g-PhoV1_Aw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-none prettyprint-override"><code>def f(a,b),do: Enum.zip(a,b)|&gt;Enum.reduce([{0,0}],fn{x,y},d-&gt;d|&gt;Enum.flat_map(fn{p,q}-&gt;[{p+x,q+y},{p+y,q+x}]end)|&gt;Enum.filter(fn{x,y}-&gt;x&gt;=0 and y&gt;=0 end)end)|&gt;Enum.any?(fn{x,y}-&gt;{x,y}=={0,0}end)
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=nVXNattAED4W_BRDcohEJBFDSUqoUygkkEPpIbmZYNbSyF6y3pV3V7FV10_SSy7pQ_VpOrv6iew2uBRkazXfzDc7Pzv74ycKvub6-fmltHn84de79xnmC5WVAuEL4xIyNQA4hvs5N5CXMrVcSUiV1mgKJTMDVsFJfgKkaucIdykTjPAME293a8GyRyS1lQLBjTWgclK2OENtIFCaz7hkQlQwrSzpEY_nCL05kxlotKWWBhhMlRLIpGOmXUIesAimYb1Fp31nmbaw4nbu98Ilt5wJYGlaLkrBrNLO-XhzFsHZ9qExup-jhJwgZOkcCsY1bNYRVNsIcF24DXigT4LS6go2RQTLbcNCESkfY6GM4VMuyDWaCHIuLGouZ6BKCxJnzPInpAQpnVHcFHHSMNw0aUjnmD4Cz2GFMGekG7jthm2CKe-lsI7QZbM2vpblIvnGizofXvT9qpZqzMoUgzZm2pDswqOQIL7y6uA-mlVrmlOwkwUrAmfiY33VBhh3KyAUToFIl_Qi4n2kqpH1tgMemhXKLNz36hNW-yTKotrxWqzhagRnvi-Kyq_3qbpFy8hk9WmP73U9GkGdmtaOXgPfejdU6AwXShqrmev6CATaEwMLvuCpr0XbvEBltJAyg6ZpTV3KiROatjndx8RrwKjL3WY8pIqMY_efM2Gwyx0hEXh5t7C63MPrJ-5-nXYnf9s2fsP4oG3cs2qeP0w7xt2gjuF6WfInJuj8uLFxh0tXbhGch0EQD8PEqs80A9qO2PjquQYcJsm579yJq1089LWK4BD-j94vDnu_OOD9b_i-94Ackm7jBU5P34w_2kH2TXZUw14nOfw_U1bDjqDfjIP6qPqXG5Abg8sJjRj3mvrpiKnFbAsf435_Nx0PMFOWmj0P-mbthm-_JkVpTXB0vOHSOKJaLdzCrmRKktbTZQ9rZSENMnLUh-gz3B5106A51P5g04WUQ6VKWLG6C7h8Uo_oT3N9XlfuOqDjK92IdWKqA0beJmV089GMvhy4mzHpzngQ1pdnc4e2d-lv" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>defmodule Main do
  # This function corresponds to 'f' in the Scala code.
  # It takes two lists of integers (originally bytes in Scala)
  # and returns a boolean.
  def f(a, b) do
    # Start with the initial accumulator of [{0, 0}]
    # Then for each pair {x, y}, expand each accumulator entry {p, q}
    # into two possibilities, filtering out negative coordinates.
    # Finally check if we have (0, 0) in the resulting list.
    Enum.zip(a, b)
    |&gt; Enum.reduce([{0, 0}], fn {x, y}, acc -&gt;
      acc
      |&gt; Enum.flat_map(fn {p, q} -&gt;
        [
          {p + x, q + y},
          {p + y, q + x}
        ]
      end)
      |&gt; Enum.filter(fn {px, py} -&gt;
        px &gt;= 0 and py &gt;= 0
      end)
    end)
    |&gt; Enum.any?(fn {px, py} -&gt; {px, py} == {0, 0} end)
  end

  # For demonstration, let's mimic the original test cases
  def run_tests do
    test_cases = [
      {[1], [-1], false},
      {[1, -1], [1, -1], true},
      {[1, 1, 1, -1, -1, -1], [1, -1, 1, -1, 1, -1], true},
      {[1, -1, 1, -1, -1, -1], [1, 1, 1, -1, 1, -1], true},
      {[-1, -1, -1, 1, 1, 1], [1, 1, 1, -1, -1, -1], false},
      # Equivalent to Seq.fill(6)((-1).toByte)
      {Enum.map(1..6, fn _ -&gt; -1 end), Enum.map(1..6, fn _ -&gt; -1 end), false},
      # Equivalent to Seq.fill(7)((-1).toByte)
      {Enum.map(1..7, fn _ -&gt; -1 end), Enum.map(1..7, fn _ -&gt; -1 end), false},
      # (Seq(1.toByte) ++ Seq.fill(6)((-1).toByte), Seq.fill(6)(1.toByte) ++ Seq((-1).toByte))
      {[1] ++ Enum.map(1..6, fn _ -&gt; -1 end), Enum.map(1..6, fn _ -&gt; 1 end) ++ [-1], false}
    ]

    for {seq_a, seq_b, expected} &lt;- test_cases do
      got = f(seq_a, seq_b)
      IO.puts(&quot;#{inspect(seq_a)} #{inspect(seq_b)} expected: #{inspect(expected)}, got: #{inspect(got)}&quot;)
    end
  end
end

# If you want to invoke the tests when running the file, you can call:
Main.run_tests()
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a> + <a href="https://gitlab.com/wheatwizard/haskell-golfing-library" rel="nofollow noreferrer">hgl</a>, 41 bytes</h1>
<pre><code>mx&lt;(zWn~&lt;rv)&lt;(no lt0*^*q0&lt;gj)&lt;&lt;scp&lt;&lt;sQ&lt;tx
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZZC_bsIwEMbV1U_xiYUzTaSwVch0aCcWRKVKDECrQJySNv8cnIoy9EW6sFR9Jvo0teOCIjhLd9_dz-c7-etnHW7eZJruD6MkK4tKQ9VhmsSJjDCpZFpHkv2DCfN9jAuNIkeoC3xIzXbTHEPspsjGTAVGSoXgu9axf3O4jofZVpC58imqdy4oL5DqoPfUU4F4eeVCbFalcQ9Cb13L79VcYTDA_Tqs4N9ilGum0KUuhgzoW82d9vuMZWFih0eFybNnUFlBgOYUelh6kNtSrrSMuH2IYsyUoQbZsFy0OOemH5iBOtTx0OHG3bmaZ2s2d_6xVSUyjY7Yc0b5idIlNciUj5SfzeONNYsc1QVt4YttT5waa_GF--T93sU_" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes the input as a list of length 2 with 1 representing <code>(</code> and -1 representing <code>)</code>.</p>
<p>I'm not convinced this is as short as possible. It does outperform a <a href="https://ato.pxeger.com/run?1=ZZDLSsNAFIZxO0_xmyx6BhNo6EbKpIiKIC4s6K4tkk4mNJi7CYqv4iYb8Znq0zjJ2BKaM3Au_8e5MF8_u-DtVSVJuz-P0yKvapRNkMRRrEIsK5U0oWL_YPnd1JF7uV_kfnqHpPaEqJ7I5lMhHmZCfL4XbGZLH65kU5vk1eMt96Xr6UL68sJjWR8zM-X3bF1iPsfNLqjgLnCf1azEhCbwGeB1OTe5nsDSIM7gI8x1nb6AigoCtKbAwdaB-iiUrFXIu0EUYVVqqlEXtpsB51z3AyuQRZYDi2t3bTSn07ra-OeBSqQbDeneCeVHSmOqkZYPlJ_s4731hxyyER3g0bVHTr0N-MZ8ctua-Ac" rel="nofollow noreferrer">naïve conversion</a> of <a href="https://codegolf.stackexchange.com/a/263536/56656">the shortest pure Haskell answer</a>. I will come back to this later and try again.</p>
<h2>Explanation</h2>
<ul>
<li><code>tx</code> transpose the input.</li>
<li><code>sQ</code> perform the cartesian product.</li>
<li><code>scp</code> scan each element with addition to get the cumulative sums.</li>
<li><code>no lt0</code> check elements have no negative values ...</li>
<li><code>*^*</code> ... and ...</li>
<li><code>gj</code> ... end in ...</li>
<li><code>q0</code> ... zero.</li>
<li><code>zWn~&lt;rv</code> zip the result with its reverse using logical and.</li>
<li><code>mx</code> determine if any result is true.</li>
</ul>
<h1>Reflection</h1>
<p>I'm a bit annoyed by how long this is. I also don't like the input format and feel like it's indicative of a weakness. I'd prefer to take it as two separate arguments.</p>
<ul>
<li>This feels like not the first time I've used <code>sQ&lt;tx</code>. It will probably be useful and should have a builtin.</li>
<li>There should be a builtin to determine if a string is balanced. We could do this as:
<pre><code>mx&lt;(zWn~&lt;rv)&lt;blp&lt;&lt;sQ&lt;tx
</code></pre>
if such a builtin existed. (Input format would be a list of two strings.)</li>
<li>For all the <code>zW</code> variants we already have, there could be versions that apply a function to each element before combining them with the fixed function. This would save a little plumbing here.</li>
<li>I'm debating whether there should be a <code>mx&lt;&lt;zWn</code> and <code>mn&lt;&lt;zWX</code>, we use the former here and the latter <a href="https://codegolf.stackexchange.com/a/274184/56656">here</a>. It seems like it might be a recurring pattern.</li>
</ul>
</div>
<div id="pu3" class="pu"><h2><a href="https://en.wikipedia.org/wiki/C89_(C_version)" rel="nofollow noreferrer">C89</a>, <del>79</del> <del>77</del> 69 bytes</h2>
<pre class="lang-c prettyprint-override"><code>r,c;f(*a,*b){for(c=r=1;*a&amp;0&lt;c;++a)c+=*a^*b++?r=-r:*a;return c==1==r;}
</code></pre>
<p>Using <code>(int)1</code> as <code>'('</code> and <code>(int)-1</code> as <code>')'</code></p>
<pre class="lang-c prettyprint-override"><code>int diff;
int count;
int check(int *a, int *b)
{
    for ( c=1, r=1; *a!=0 &amp;&amp; 0&lt;c; ++a, ++b )
    {
        c += (*a != *b) ? (r=-r) : *a;
    }
    return (c==1) == r;
}
</code></pre>
<p>The logic is based on the consideration that if a solution exists, it will get a count on the nodes of different values lower than what it would get by alternating between <code>'('</code> and <code>')'</code>, so that would also be a solution</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.rust-lang.org" rel="nofollow noreferrer">Rust</a>, <sup><del>204</del> <del>179</del> <del>147</del> <del>132</del> <del>123</del> <del>98</del> <del>90</del></sup> 80 bytes</h1>
<pre class="lang-rust prettyprint-override"><code>|a,b|a.iter().zip(b).fold([0;3],|[c,d,f],(&amp;e,g)|[c+e+g,d^e^g,f.min(c+d)])==[0;3]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=jVNLboMwEF10VU4xYVHZik0-VaUo3yM0i6obRCoCdmQJTASmitpwkm6yaI_Qw7SnKeQDhISkyMj2zLzHDHrv4zOMI_Vt6pQyVygRSJ2A3m13O7r1Q7kE3xYSYXjXPKaA97lEz8wZit6Y7HdMx_Mg8GD0FStOez_TtU3ma9sQioUIG29iiebY4IHnIrM9uLfI2nSIS7hF0B0jC5xem6y5IO6MzRaEG376PafpYguPRlvAjvf3xh-ApvEgBMUi9eLYEQMhwdQgfdArcxpmxyKQH7jtRQwT7baSo-eSBAosgZoSelKjwrjCsl00f48Aea4WTi_gr8FpCbhfZ9G0ZkB6lK82UJv9F8t1pgs__RJZMWsxYokmk0arBU-pYCATTASPU3A8W_gR2CEDJ4hlKlO2sv2lx6KylM6w1rdUI4Vq0QlzFW2lPst6WIZCKk82kM7RKjVff_gwSUD189NhoCwySVLLcpS7wmgbjhdIhjAprGJ0DsGjaLd8ORQMtERLdq7bbHb7Hw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<ul>
<li>-9 bytes thanks to <a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263499?noredirect=1#comment576827_263499">SUTerliankov</a></li>
<li>-2 bytes thanks to <a href="https://codegolf.stackexchange.com/questions/263496/can-you-perform-swaps/263499?noredirect=1#comment576943_263499">SUTerliankov</a></li>
</ul>
<p>Radically new algorithm. We know the only possible failure case is if:</p>
<ul>
<li>We get 2 simultaneous closing parenthesis when the nesting level is 0</li>
<li>We get 2 different closing parenthesis when the nesting level is 0</li>
</ul>
<p>We use <code>d</code> to store if there currently is an odd or even number of unequal pairs. If the nesting level <code>c-d</code> is negative, we fail. If the nesting level is not 0 or the number of unequal pairs is not even at the end we fail.</p>
<p><code>d^((e^!g)+1)/2</code> should be 1 if e=g and 0 otherwise.</p>
<p>Uses <code>1</code> to represent an opening parenthesis and <code>-1</code> for closing.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 47 bytes</h1>
<p>Input: array, 2(<code>[</code>), -2(<code>]</code>)</p>
<p>Output: integer, 0(balanced), truthy(not)</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;b=&gt;a.some((v,i)=&gt;0&lt;(S=v-b[i]?S^1:S-v),S=0)|S
</code></pre>
<p><a href="https://tio.run/##jZBNb4MwDIbv/ArvhC1B2vVIF1Ar9dZTOTKmBhY2Jr5EMlRp229n4aNru12WSLb8vParxG@iEypt80a7Vf0s@4z3gvsJ9wVTdSkROycn7i8fMOSdm0R5HIRP917oduSEfEmfYb8HDivrYKK7siwtlU6FksrURwuBwPUhE4WSFhLgWOr23VSIRAMZ7oXSRPGGGmQIzCM/hjQemNMvfOY3D5gAjudKODLd5iUSU02Ra7QfK5tYKRo8AffhNOMFYOCZGQoWROvLT1lWtzuRviJGwoHEARnTMPdhAaR1pTRszDIixpiIR9d0UE3gHGy0IYA9eHAwluf@7dyf/LN/Z/rlpA/7ss9KXUhW1C9odA53GQ6em5jGvI3JgT/ImH7Ruv8G" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 52 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;b=&gt;!a.some((v,i)=&gt;1&lt;(S-=v-b[i]?j^=-2:v),S=j=1)==S
</code></pre>
<p><a href="https://tio.run/##jZBNb4MwDIbv/ArvhC1BqvbYzqBW6q2n9tgxNbCwUVFAJEOVpv12Fr7WdbsskWz5ee1Xic@ykTqps8r4Rfmi2pRbyUHMwYMUurwoxMbLiIP5Ix58bvz4mEXh@Zn9xbIh78BnnhPzod0Bw8LZ2@gvHMcobRKplbb1yUEg8ANIZa6VgwTYl6Z@txUiUUe6e6M0ULyjFlkC48i3IfUHxvQLT/zuAQPA/vwQTsLU2QVJ6CrPDLpPhUviIiu8AgdwHfEMMFzaGQpnRKvbT0Va1luZvCEepQexByqibu7DAUjKQhtY22UchRAy6l2TTrWBGVx0IYQdLGFvLaf@zdgf/7N/a/vVoHf7cielzJXIy1e0OkOKneU6oj5vIvL@Iuv5Sav2Cw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<pre class="lang-javascript prettyprint-override"><code>      1 if true
      0 if some &quot;)&quot; mismatched, in which case S&gt;1 so S!=0
      |
a=&gt;b=&gt;!a.some((v,i)=&gt;1&lt;(S-=v-b[i]?j^=-2:v),S=j=1)==S
                     |
                     '-- If more &quot;)&quot; appeared
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 108 bytes</h1>
<p>Brute forces all combinations of the two inputs until it finds one that is balanced. Input is an array containing two arrays of integers, where 1 represents <code>(</code> and -1 represents <code>)</code>.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a{(v=0,1).product(*[v]*~-a[0].size).any?{i=-1;j=k=0;_1.all?{|n|(j+=a[n][i+=1])|(k+=a[1-n][i])&gt;=0}&amp;&amp;j|k&lt;1}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=NY1NbsMgEIX3nIJFFQ1OQaarSCnJprdwUYQbnPqnjhXjVK6hF-kmUttD5TYFnII08z5meO_r5zTk4-W7EM-_gyno6trQjZrgLNJ7Tlh3Ou6HFwNJdpbJJ1VZKllffmjCVDtup1JQvq5ELdL1jjPVNNvJthaqpVBZK7NyKbgkFurAnIYXSTYidYtFZetH7twt8-n9tWw0PmjTI6ywwHc71ndNadib6iZvnY9G9xFsblec5smDcwh3g-lxkSmJdLufvS7XI2CCgGDwFYCQoMJFoQSCSF56heeVQGE2txv9Y_g5M8QTGSJ6CzLn_gE" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 53 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>sub{y/(/#/for@_;((pop)&amp;pop)=~/^(#((!?)(?1)*\3)\))+$/}
</code></pre>
<p><a href="https://tio.run/##XY5RbsIwEET/fYoJhLILRFap@EoJPUgEamksIgViJUEVQnD1NF4HKB1Ltud51zs2q4pFuz8hNFiirY9f55MmPdSmrD42MZEtLb@4bXnVaxoSBSum1StP0jdOmaehvrSx@tnlRUbvCeMMhU7bXbm3sVxtlR8ag8Eomi9qjL7Tw2CGcDNDEIQmSgi1LfIGY4w9noPVRbUERpTAfBZ1pohBYpvq2DkiZkfcelD2lJ5ohzqCvuX@IYvQH//wjT8F8IBEfx@c436icSHIRyPf3giSSD7vA7NUSumtWcL6Kff5vw" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>First (wrong) version is in editing history, this one seems to pass. Please tell if it fails some test.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a> + <code>-e</code>, 8 bytes</h1>
<pre><code>Ťᵐ↕∫Ɔž∑≤
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpJuqlLsgqWlJWm6FluPLnm4dcKjtqmPOlYfazu671HHxEedS5YUJyUXQ1UsuPk-OlrXMFYn2jA2lgvE1AFxwBSUD0FgCJXRgRNwPWhKdNHVQGRhMqiKUNXATEHmocmiyyO7A1mJLsJGmGWxsRB_AwA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes input as a list of lists of <code>-1</code> and <code>1</code> representing <code>(</code> and <code>)</code> respectively. For example, <code>[[-1,1,1,1],[-1,-1,-1,1]]</code> represents <code>())) ((()</code>.</p>
<pre><code>Ťᵐ↕∫Ɔž∑≤
Ť           Transpose
 ᵐ↕         Non-deterministically permute each inner list
   ∫        Cumulative sum
    Ɔ       Split into the last element and the rest
     ž      Check if the last element is all 0s
      ∑     Sum; since the last element is all 0s, this will be 0
       ≤    Is the rest less than or equal to this sum (0)?
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 26 bytes</h1>
<pre><code>∧⁼№⁺θη(Ｌθ⬤θ›№⁺…θ⊕κ…η⊕κ(｜κ¹
</code></pre>
<p><a href="https://tio.run/##ZY3BCgIhEIZfRfY0gh06d9okIgjaVxB3SNlJ21GLnt70UkH/YfiYj5/fOsM2Gqp1Yh8yjGGGw1oMJdCxtMdEJcGqhJNKDDC0e8ZwzQ5W2Xgk6vLIaDLyb0W/LKF28d79KVjGG4aMMyy997Xuz36G9j4/fcILw6LEVvbsagUJDQRAh7p50Bs" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs a Charcoal boolean, i.e. <code>-</code> for balanced, nothing if not. Explanation:</p>
<pre><code>    θ                       First input
   ⁺                        Concatenated with
     η                      Second input
  №                         Count of
      )                     Literal string `)`
 ⁼                          Equals
        θ                   First input
       Ｌ                    Length
∧                           Logical And
          θ                 First input
         ⬤                  All characters satisfy
               θ            First input
              …             Truncated to length
                 κ          Current index
                ⊕           Incremented
             ⁺              Concatenated with
                   η        Second input
                  …         Truncated to length
                     κ      Current index
                    ⊕       Incremented
            №               Count of
                      (     Literal string `(`
           ›                Is greater than
                        κ   Current index
                       ｜    Bitwise Or
                         ¹  Literal integer `1`
</code></pre>
<p>The idea here is that the strings can be balanced if the following two conditions hold:</p>
<ol>
<li>Exactly half of all of the characters are <code>(</code>s.</li>
<li>For each prefix of both strings, there are more <code>(</code>s than the 0-indexed position of the last character of the prefix, plus 1 if that is even.</li>
</ol>
<p>Examples:</p>
<pre><code>1st  2nd  (s   Needed
</code></pre>
<p>Valid:</p>
<pre><code>(    (    2    &gt;1
()   ((   3    &gt;1
())  (((  4    &gt;3
())) ((() 4    &gt;3
</code></pre>
<p>Invalid:</p>
<pre><code>(    (    2    &gt;1
((   ()   3    &gt;1
(()  ())  3    &gt;3
(()) ())( 4    &gt;3
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a>, <s>77</s> 73 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>o a b=all(&lt;1)$scanr(%)0$3:zipWith(+)a b
3%c= -c
0%c=c+1-2*mod c 2
n%c=c+n
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bZGxasMwEIbpqqc4RIzvSAwRWUKoOmbrFuisyCoxUWTHViCUvkmXLKXP1D5NZRnVbbEEutP__boT0tvHQXVHY-3t9n7xz8X687EGBXuprMV7QbNOK9diRsvZavNSNU-VP-CcgoOtMi2h0GyZ6de6LEFLXYh-J_VcMBejG4p-3T2cIcdcChYi5eGcYN50vm8F5toY7U0JEpq2ch6wBjypBs6gKGV7WvwYiZ1U5YK9rBlArMORAycOW2U7M4pBicuuvfxSEYkG0s__lBLFCRpQ0PlY5G9DioOPyRQe-cSFkwHjSIbhGdMffQM" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>The other Haskell entry sets the precedent that <code>(</code>=<code>1</code> and <code>)</code>=<code>-1</code>. The right-to-left running totals of <code>A</code> and <code>B</code> are to stay <code>&lt;1</code> (and end <code>&gt;-1</code>, as checked by <code>3%</code>). <code>A+B</code> has all information we need. Wlog the running total of <code>A-B</code> stays in <code>[0,2]</code>. <code>scanr(%)0</code> maps <code>A+B</code> to the running total of <code>A+B + (A-B)/2</code>.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://nodejs.org" rel="noreferrer">JavaScript (Node.js)</a>, 59 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;b=&gt;(h=u=&gt;u&lt;d|!a[i]?u|d:h(u+=p=a[i]+b[i++],d^=!p))(i=d=0)
</code></pre>
<p><a href="https://tio.run/##jZDBboMwDIbvPIV7whY03WWXdga1Um899cqYGiCsTLQgCFOldc/OEkrXdbvMkWL5@@1fid/ku2zTpqj19Fhlqs@5lxwkHOCeOw66p@w8kVERh905m@@x87hmW3tJVHhe7GcvPKmJsOCMH6jfAIN4dLYmTU12tGp1KlvVGrBzEAimAeSybJWDBDiUuulMhUhkiT03SheKd9QgQ2Ac@TakIWBMv/CV3z3gAnCIH8JO6KY4IIm2LguN7vPRJXGQNZ6AAziNeAYYzs0MhTOixe2nIq@atUz3iJH0IfFBxWTnPhyAtDq2GpZmGZEQQsaDa2pVczGDiy6EsIE5bI3ltX819if/7F@bfnXR7b7cq1KVSpTVKxqdYZKj9VzGNORVTD78Qcb0kxb9Fw" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Input arrays of numbers: <code>0.5</code> for <code>(</code>, <code>-0.5</code> for <code>)</code>. Output falsy (0) for &quot;can be balanced&quot;, truthy (non-zero) for &quot;cannot be balanced&quot;.</p>
<p>Construct a string <code>c</code> using inputs <code>a</code> and <code>b</code> by:</p>
<ul>
<li>if the i-th characters match, aka. <code>a[i]==b[i]</code>, then <code>c[i]=a[i]</code></li>
<li>Otherwise, they mismatch. For the k-th mismatch (1-indexed), <code>c[i]=')'</code> when k is odd, and <code>c[i]='('</code> when k is even.</li>
</ul>
<p>Test if <code>c</code> is balanced and there are even number of mismatching.</p>
<p>In above code, <code>u-d</code> is how many unclosed &quot;(&quot; in string <code>c</code>. <code>d</code> is a boolean, truthy when next mismatch should be &quot;(&quot;.</p>
<p>I’m <em>feeling</em> its correctness. Although I don’t have a mathematical proof to it. However, at least no testcase rejects it currently.</p>
</div>
<div id="pu12" class="pu"><h1>JavaScript, <s>109</s> <s>107</s> ... 95 bytes</h1>
<p><em>Thanks to @Arnauld for saving 2 bytes</em></p>
<pre class="lang-javascript prettyprint-override"><code>b=(x,k=0n)=&gt;k&lt;0?0:x?b(x/4n,k+x%4n-2n):!k
f=(l,r,k=0n,x=k&amp;(r^l))=&gt;b(l^x)&amp;b(r^x)||k&lt;l&amp;&amp;f(l,r,++k)
</code></pre>
<p>returns <code>false</code> (for <code>false</code>) or <code>1</code> (for <code>true</code>).</p>
<p>Encodes expressions as base four numbers with <code>3</code> for <code>(</code> and <code>1</code>  for <code>)</code></p>
<p>Helper functions for converting strings to the corresponding base 4 numbers</p>
<pre class="lang-javascript prettyprint-override"><code>e=(s)=&gt;s?4n*e(s.slice(1))+(s[0]=='('?3n:1n):0n
h=(x,y)=&gt;f(e(x),e(y))

h(&quot;)))(((&quot;,&quot;((()))&quot;) // -&gt; false
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ddFRbsIgGAfw7JVbrIn1_61oUftgGllvsAssc0kdnQZCE5kJJt5kLz5sh9pOM9rqTLYKL8D_9wGB9w9bv6jj8XP3Vo3mX8-lhOdaCkvyXi9EIXJflPBpZrlO_CCzo6ml_FazSsLwbUu5lzrGdmkoFJUwS09xGeaeDge9MHFctTRJNHXHfN88MCXhAndFZu8U3NiZzUphQpTAPYonKYcYFjObT8JxwrJ1c699KKig4Ikr7IkYW9XW1UaNTf2KNSJEPKIoBH_XKQToTQCiLm16b-1Z4IoIcchOglqRpv9Nt8tpcN1cUL_Cr0LbGtU96_kXfwA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><em>I was unable to verify the last two Test-cases, as the function exceeded the maximum recursion depth (which as far as I known is allowed for code-golf)</em></p>
<h1>Explanation</h1>
<p><code>b</code> checks if a the expression encoded by the given number is balanced, by counting the difference of <code>3</code> digits minus <code>1</code> digits and returning 0 if the intermediate count goes below zero,
or if the final count is not exactly zero.</p>
<p><code>f</code> checks for all binary numbers <code>k</code> less than <code>l</code> (swapping the outer brackets cannot balance the expression) if swapping the bits of the two inputs at the positions that are one in <code>k</code> will result in a pair of balanced strings.
Swapping a bit has no effect if it is the low bit of a base 4 digit where both numbers have a <code>1</code> bit, if it is the high bit it will swap the characters that the given positions in the strings.</p>
<hr />
<h1>JavaScript, 108 bytes</h1>
<pre class="lang-javascript prettyprint-override"><code>b=(x,k=0n)=&gt;k&lt;0?0:x?b(x/4n,k+x%4n-2n):!k
f=l=&gt;r=&gt;eval(&quot;for(v=0,k=0n;k&lt;l;k++)v|=b(l^k&amp;(r^l))&amp;b(r^k&amp;(r^l));v&quot;)
</code></pre>
<p>uses for-loop to prevent crash due to recursion limit</p>
<p><a href="https://ato.pxeger.com/run?1=dZHfSsMwGMXxtm9hwO18tpuZ9kLafe21zyAO7EydJKTQaOnAN_FmF_pQ-jSm64ogbQL5d34n5yP5-LTVkzocvt5ey8XttykYbaRZWuJMr2UukzYv0F7FNtJhexHbxbWl5FwHJRvOas5U82ggyqpGw_LoTPXapDoMqXnnAmajZ6g3hmhW-HnYpI2gPvPn7C5QDOcDXR7bSwW3dOZlq7AiCuHu5QPzHPP8xiYrny1tsOuK3HtDCYWWyI97oiDYVtZVRi1N9YwdBEQkSHjh_zl5AaMKQNSrXR_1DgQmCC977UTQBNHfcVpMEX_IeCUDg2PrmP5Fh9_8BQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 144 bytes</h1>
<pre><code> |^
$&amp;#
+%`^(((\()|(?&lt;-3&gt;\)))*)#(.)(.* ((\()|(?&lt;-7&gt;\)))*)#(.)
$1$4#$5$8#$'¶$1$8#$5$4#
G`^((\()|(?&lt;-2&gt;\)))*(?(2)$)# ((\()|(?&lt;-4&gt;\)))*(?(4)$)#$
^.
</code></pre>
<p><a href="https://tio.run/##TYwxDsIwDEV3nyJSXPguohIliA6Ijr1EFZWBgYUBMfZcHICLBbuh0ERy/tPL9@P6vN0vqUA3JDdG4pWnTTFEAD1kRHva7s@9iJTiUQmq0v3NcWGIdxw8H7jxvH6/lBqj4KmzbXOlzhW0qIXFL5aFnwlmmGKVEpwQxEEnoFqTXbJhhIk0anL5i5G5/HxpRmtmxnTkAw" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code> |^
$&amp;#
</code></pre>
<p>Place markers at the start of each string to determine progress through them.</p>
<pre><code>^(((\()|(?&lt;-3&gt;\)))*)#(.)(.* ((\()|(?&lt;-7&gt;\)))*)#(.)
$1$4#$5$8#$'¶$1$8#$5$4#
</code></pre>
<p>If the current prefix of both strings is a validly balanced prefix, then progress through the string, generating results with and without a swap of the next character. Testing of balanced prefixes is unsurprisingly performed using .NET's balancing groups.</p>
<pre><code>+%`
</code></pre>
<p>Repeat the above separately on each intermediate result until no new results can be obtained.</p>
<pre><code>G`^((\()|(?&lt;-2&gt;\)))*(?(2)$)# ((\()|(?&lt;-4&gt;\)))*(?(4)$)#$
</code></pre>
<p>Keep only those results that progressed through the whole string and also are completely balanced rather than simply a balanced prefix (using conditional regex to enforce that the balancing group is now empty).</p>
<pre><code>^.
</code></pre>
<p>Check that we had at least one result.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a>, 139 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>g=(\c-&gt;all(&gt;=0) c&amp;&amp;last c==0).scanl(+)0
o j k=any(\(d,e)-&gt;g d&amp;&amp;g e).foldr(\(x,y)h-&gt;concat[[(x:a,y:b),(y:a,x:b)]|(a,b)&lt;-h])[([],[])]$zip j k
</code></pre>
<p><code>foldr(\(x,y)h-&gt;concat[[(x:a,y:b),(y:a,x:b)]|(a,b)&lt;-h])[([],[])]$zip j k</code> gives a list of all possible pairs. <code>o</code> then uses <code>g</code>, which determines if a string is balanced, to get the final result. Input is taken as a sequence, with 1 representing <code>'('</code> and −1 representing <code>')'</code>.</p>
<p><a href="https://ato.pxeger.com/run?1=hZK9boNADMfVlaewUERslYuSrYp6jF27dCMM5iNAcwECRIKqY7c-QpcsVZ-pfZpeQIgMafFJ5_-df2f5ZH98JVztIqVOp89jvRV33--xxE0gHFYKHbkkCCxLcVVDIPVpUQWcKbylpZHDM-wkZy1uMLQjEk4MoWXFENFim6uw1PeN3VIinCDPAq5dF5s12-3aJxtbrRqtvFdk26d7kXjkouvZrkfe7CUtztn7kn5u3g4wx7lcGdrTXIJYGXVU1Y_A4IOEHHDPBRyAaVA-GXtOMx0McwOgKNOshhn0r0w0wSQTpIQHVlV0BdDRbtPIU3m8RiAS9dR5_UfSQOIEqTHNmGPyvwukzsxRTKEjO_HxAcbOLuC-GcOc_AI" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, <del>165</del> 136 bytes</h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/263499/110802">@mousetail's Rust answer</a> in Scala.</p>
<hr />
<p>Golfed version. <a href="https://tio.run/##rVTfS8NADH73rwhDJGFnXRUcFFtwPu9p@DREbvWuVGo7e@dYO/q3z7RjbtN1lGGhND@/fClJTCgTuc5m7yq0MJZxCqsLgDel4YMVlHlkPHjMc1lMJzaP0@iFPHhOYws@R3IowEImoD3AifqcjgqrXgT8iAR@AKMsS5RMOWONUszID1BCGc9hRs6NV@chDsSAiFahNApDgaUoiONCRyfSjuV849BiwcYmXvdLsegXJFgqWCqJKh0nVuUY@UHkvLqBP7i6YuGWBarUMjbWbOr4Pq23xK0y9omxDbOrgZuOoGkGXcdmdRfUNIR47dLOomVi@HssXsBh6Cmfzb9aUY5Je9ntyqmarWDnMOyC25mk@38MOxE4XtE9m96JRv8Oi8PDmuA94Z8/0uJpgxi2Qgyp@8gS9PvQjdbvlKNFmhq0uQ86ywG3ewYP17udo@bY1M@cT4tNUjS9y9XWzTtcwb56W4FazvlQqTfvwHFXCYgyWxs17qUL2EumqrehVV3Ub7X@Bg" rel="nofollow noreferrer">Try it online!</a></p>
<p>Saved 29 bytes thanks to the comment of @corvus_192</p>
<pre class="lang-scala prettyprint-override"><code>(a,b)=&gt;(a zip b)./:(Seq((0,0))){case(c,(z,y))=&gt;c.flatMap{case(f,v)=&gt;Seq((f+z,v+y),(f+y,v+z))}filter(g=&gt;g._1&gt;=0&amp;&amp;g._2&gt;=0)}exists((0,0)==)
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##rVRRa9swEH7Pr/goo9wR1cQutBCWwrqnwvpU@lRCUBLJeGh2ZqmjXfBvzyQncZ02DqbswZZO33133x062YU0crMp5j/VwuFeZjnWA2CpNH55g2SZ2jG@laV8fXpwZZanUx7jMc8cJrUn8Eca6DHoQf1@un11airQbBmTG9wWhVEy9wSSAvP6bEsFZPQ3W9GcI12Y5Q@lXR2G7nIn4H88JRqJETNjDVoILyzQd2RgEWkj3b1ceViHuA2CIIJIR7MYQ0/zq4C3kp2VsEAbTQ7QmLmJVEU6M06VlIYEaaDcTDDC@XkwktrYe1eResmsszTDxJc7Eh7aYtWgaZZT1n2XVlnfkSByxw2VUxy5InSOxVb/RcxvJ1oa69dj/r6YA9dTmCufO6Mc27XY3capnJ3BPqOwT9zeIuP/p7CXgOMZ40/LO1Hox8sS7rGhK6YPHelAukJcd4a45v5XljEcop@s95SjSeocvB0zXZSg/Zzh68XbzHHz9Kz8a@ZMTvbsy3oP@@Gu0DaTCupl5d9GtRwfAJeVQFq4cKipRRdokbk6209/@KrBZvMP" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def main(args: Array[String]): Unit = {
    val f: (Seq[Byte], Seq[Byte]) =&gt; Boolean = (a, b) =&gt; {
      a.zip(b).foldLeft(Seq[(Int, Int)]((0,0))) { (c, de) =&gt;
        c.flatMap { f =&gt; 
          Seq((f._1 + de._1, f._2 + de._2), (f._1 + de._2, f._2 + de._1))
        }.filter(g =&gt; g._1 &gt;= 0 &amp;&amp; g._2 &gt;= 0)
      }.exists(_ == (0, 0))
    }

    val testCases = Seq(
      (Seq(1.toByte), Seq((-1).toByte), false),
      (Seq(1.toByte, (-1).toByte), Seq(1.toByte, (-1).toByte), true),
      (Seq(1.toByte, 1.toByte, 1.toByte, (-1).toByte, (-1).toByte, (-1).toByte), Seq(1.toByte, (-1).toByte, 1.toByte, (-1).toByte, 1.toByte, (-1).toByte), true),
      (Seq(1.toByte, (-1).toByte, 1.toByte, (-1).toByte, (-1).toByte, (-1).toByte), Seq(1.toByte, 1.toByte, 1.toByte, (-1).toByte, 1.toByte, (-1).toByte), true),
      (Seq((-1).toByte, (-1).toByte, (-1).toByte, 1.toByte, 1.toByte, 1.toByte), Seq(1.toByte, 1.toByte, 1.toByte, (-1).toByte, (-1).toByte, (-1).toByte), false),
      (Seq.fill(6)((-1).toByte), Seq.fill(6)((-1).toByte), false),
      (Seq.fill(7)((-1).toByte), Seq.fill(7)((-1).toByte), false),
      (Seq(1.toByte) ++ Seq.fill(6)((-1).toByte), Seq.fill(6)(1.toByte) ++ Seq((-1).toByte), false)
    )

    for (testCase &lt;- testCases) {
      println(s&quot;${testCase._1} ${testCase._2} expected: ${testCase._3}, got: ${f(testCase._1, testCase._2)}&quot;)
    }
  }
}

</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 13 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ZŒpÄṂȯṪƊ€oṚ$Ạ
</code></pre>
<p>A monadic Link that accepts a pair of lists of <span class="math-container">\$\{1,-1\}\$</span> representing <code>(</code> and <code>)</code> respectively and yields <span class="math-container">\$0\$</span> if balancable or <span class="math-container">\$1\$</span> if not (i.e. outputs the inverse).</p>
<p><strong><a href="https://tio.run/##y0rNyan8/z/q6KSCwy0PdzadWP9w56pjXY@a1uQ/3DlL5eGuBf///4@ONtRR0AViKAXBsToK0RAxZNnYWAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8/z/q6KSCwy0PdzadWP9w56pjXY@a1uQ/3DlL5eGuBf8f7t5yaOvDHZv8dbUeNcxJS8wpTn3UMBfILCkqBbEOt9tbA3kKNroKQJ61ZuT//xoKmlwamgoaQFJDQ1MTxAJBLhAB4mmAeUAmkKUAUQLigeQgFJQH44J0QvgaYAA2SQNkqgYA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h3>How?</h3>
<pre><code>ZŒpÄṂȯṪƊ€oṚ$Ạ - Link: pair of lists of -1 and 1 := ) and ( respectively
Z             - transpose
 Œp           - Cartesian product
   Ä          - cumulative sums (vectorises)
       Ɗ€     - for each: last three links as a monad:
      Ṫ       -   tail
    Ṃ         -   minimum (of the rest)
     ȯ        -   {minimum} logical OR {tail}
           $  - last two links as a monad:
          Ṛ   -   reverse
         o    -   logical OR (vectorises)
            Ạ - all?
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/263496/">263496</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




