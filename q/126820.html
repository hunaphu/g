<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::126820</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>197</td><td>Bespoke</td><td>250125T064029Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/277883#277883">Josiah W</a></td></tr>
<tr d-ix="1"><td>038</td><td>APLNARS</td><td>250124T182613Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/277869#277869">Rosario</a></td></tr>
<tr d-ix="2"><td>034</td><td>AWK</td><td>201221T191551Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/216717#216717">Pedro Ma</a></td></tr>
<tr d-ix="3"><td>066</td><td>Rust</td><td>201221T175348Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/216710#216710">Aiden4</a></td></tr>
<tr d-ix="4"><td>019</td><td>APL Dyalog Extended</td><td>200913T094145Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/211014#211014">Razetime</a></td></tr>
<tr d-ix="5"><td>027</td><td>Mathematica</td><td>170616T060921Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126829#126829">Martin E</a></td></tr>
<tr d-ix="6"><td>035</td><td>Ruby</td><td>170626T093530Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/128360#128360">G B</a></td></tr>
<tr d-ix="7"><td>014</td><td>NewStack</td><td>170626T042200Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/128338#128338">Graviton</a></td></tr>
<tr d-ix="8"><td>028</td><td>Charcoal</td><td>170619T011657Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/127177#127177">ASCII-on</a></td></tr>
<tr d-ix="9"><td>096</td><td>Axiom</td><td>170618T050439Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/127113#127113">user5898</a></td></tr>
<tr d-ix="10"><td>014</td><td>M</td><td>170616T070119Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126834#126834">Dennis</a></td></tr>
<tr d-ix="11"><td>086</td><td>PHP</td><td>170617T131533Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/127044#127044">J&#246;r</a></td></tr>
<tr d-ix="12"><td>nan</td><td>sed</td><td>170616T154057Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126926#126926">FireFly</a></td></tr>
<tr d-ix="13"><td>317</td><td>C#</td><td>170616T161804Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126931#126931">Horv&#22</a></td></tr>
<tr d-ix="14"><td>028</td><td>MATL</td><td>170616T045123Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126825#126825">DrQuariu</a></td></tr>
<tr d-ix="15"><td>050</td><td>Octave</td><td>170616T085739Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126849#126849">Sanchise</a></td></tr>
<tr d-ix="16"><td>023</td><td>05AB1E</td><td>170616T194614Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126975#126975">Magic Oc</a></td></tr>
<tr d-ix="17"><td>021</td><td>TIBASIC</td><td>170616T191905Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126973#126973">Scott Mi</a></td></tr>
<tr d-ix="18"><td>027</td><td>k</td><td>170616T140907Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126908#126908">zgrep</a></td></tr>
<tr d-ix="19"><td>nan</td><td>><></td><td>170616T140009Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126903#126903">Sok</a></td></tr>
<tr d-ix="20"><td>020</td><td>Mathematica</td><td>170616T062029Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126830#126830">JungHwan</a></td></tr>
<tr d-ix="21"><td>036</td><td>Javascript</td><td>170616T093827Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126852#126852">Thomas W</a></td></tr>
<tr d-ix="22"><td>046</td><td>Clojure</td><td>170616T092223Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126851#126851">NikoNyrh</a></td></tr>
<tr d-ix="23"><td>040</td><td>Julia 0.5</td><td>170616T062726Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126831#126831">Dennis</a></td></tr>
<tr d-ix="24"><td>027</td><td>Mathematica</td><td>170616T054311Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126828#126828">ZaMoC</a></td></tr>
<tr d-ix="25"><td>049</td><td>Python 2</td><td>170616T034600Z</td><td><a href="https://codegolf.stackexchange.com/questions/126820/approximate-the-plastic-number/126822#126822">xnor</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/WinslowJosiah/bespokelang" rel="nofollow noreferrer">Bespoke</a>, 197 bytes</h1>
<pre><code>cube X=plus X with I;whats X
Richard Padovan,Axel Thue&amp;GH Hardy knew this as ratio
solution came by square-dividing
solution is also morphic,and so^s number X=phi
so this&quot;plastic number&quot;is called P
</code></pre>
<p>Calculates the <a href="https://en.wikipedia.org/wiki/Padovan_sequence" rel="nofollow noreferrer">Padovan sequence</a> <span class="math-container">\$P\$</span>, and outputs <span class="math-container">\$\frac{P(n+3)}{P(n+2)}\$</span> as a fraction. (It loops forever if given an input of <code>0</code>, but that's okay.)</p>
</div>
<div id="pu1" class="pu"><h1>APL(NARS), 38 chars</h1>
<pre><code>{⎕FPC←4×⍵+4⋄⍵⍕+/1r3*⍨1r2+1 ¯1×√23r108}
</code></pre>
<p>If one solve the equation</p>
<pre><code>X^3-X-1=0
</code></pre>
<p>one obtain the solution</p>
<pre><code>X=(0.5+m)^(1/3) + (0.5-m)^(1/3) where m=sqrt(23/108).
</code></pre>
<p>inplementing in APL and this seems to be the result:</p>
<pre><code> ⍪{⎕FPC←4×⍵+4⋄⍵⍕+/1r3*⍨1r2+1 ¯1×√23r108}¨⍳10
1.3          
1.32         
1.325        
1.3247       
1.32472      
1.324718     
1.3247180    
1.32471796   
1.324717957  
1.3247179572 
</code></pre>
<p>With a little approssimation in the last digit each result.<br />
One can consider even too this 245 chars</p>
<pre><code>{⎕FPC←4×⍵+1⋄⍵P+/1r3*⍨1r2+1 ¯1×√23r108}

r←a P w;⎕ct;⎕FPC;s;y;k;b
   ⎕ct←0⋄s←''⋄⎕FPC←4+a×4⋄→B×⍳∼w&lt;0⋄s←'¯'⋄w←-w
B: y←⌊w×10x*a⋄b←''
C: b,←10∣y⋄→C×⍳0&lt;y←⌊y÷10⋄k←≢r←⎕D[1+⌽b]⋄→D×⍳∼a=0⋄r←s,r⋄→0
D: →F×⍳∼0≥y←k-a⋄r←s,'0.',('0'⍴⍨-y),r⋄→0
F: r←s,(y↑r),'.',y↓r
</code></pre>
<p>//38+25+45+19+57+40+21=245</p>
<p>for obtain:</p>
<pre><code>  ⍪{⎕FPC←4×⍵+1⋄⍵P+/1r3*⍨1r2+1 ¯1×√23r108}¨⍳10
1.3          
1.32         
1.324        
1.3247       
1.32471      
1.324717     
1.3247179    
1.32471795   
1.324717957  
1.3247179572  
</code></pre>
<p>With it seems no approssimation of the function that print.
It is clear that the bug or pseudo bug, always exist because one cut in negative numbers
has one other effect of a cut on positive numbers...</p>
<pre><code>   ⍪{⎕FPC←4×⍵+1⋄⍵P ¯1×√23000r10}¨⍳10
¯48.0          
¯47.96         
¯47.958        
¯47.9583       
¯47.95831      
¯47.958315     
¯47.9583152    
¯47.95831523   
¯47.958315233  
¯47.9583152331 
</code></pre>
</div>
<div id="pu2" class="pu"><h1>AWK, 34 bytes</h1>
<pre><code>{for(;$1^3&gt;$1+1;)$1=($1+1)^(1/3)}1
</code></pre>
<p>Step by step:</p>
<pre><code>{                  # $1 is the input (a positive integer)
for(;$1^3&gt;$1+1;)   # as long as $1 cubed is bigger than the input plus one
  $1=($1+1)^(1/3)  # assigns $1 this new value: cube root of $1 plus one
}
1                  # prints $1
</code></pre>
<p><a href="https://tio.run/##SyzP/v@/Oi2/SMNaxTDO2E7FUNvQWlPF0FYDxNKM0zDUN9asNfz/34jLmMuUy9CAy8zEnMvS0NjQxMwcAA" rel="nofollow noreferrer" title="AWK – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.rust-lang.org/" rel="nofollow noreferrer">Rust</a>, 66 bytes</h1>

<pre class="lang-rust prettyprint-override"><code>|n|{let mut i=(1,1,1);for _ in 0..n{i=(i.1,i.2,i.0+i.1)}(i.1,i.2)}
</code></pre>
<p><a href="https://tio.run/##RUzLDsIgELzzFWtPbESk9ibBXzEmlmSTsjUVTpRvRzAxZg4zmdeW3rF6hvAglpiXOYK/epY0XfB066S6dHXn/ZuGFIGcHFUDWr9ucAdiMFpzbj7pUZFuI22OTWP5OViqFf1AcgrqOfMa0Hk5GbTitRHHhQ9yyOWcy6D@FStK/QA" rel="nofollow noreferrer" title="Rust – Try It Online">Try it online!</a></p>
<p>Uses the padovan sequence to approximate the plastic number. Returns a tupled <code>(num,denom)</code>. A readable version that works with arbitrary precision integers can be found <a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2018&amp;code=use%20num%3A%3ABigUint%3B%0A%0Afn%20main()%7B%0A%20%20%20%20let%20f%3Afn(i32)-%3E(BigUint%2CBigUint)%20%3D%20%7Cn%7C%7B%0A%20%20%20%20%20%20%20%20let%20mut%20i%3D(1u32.into()%2C1u32.into()%2C1u32.into())%3B%0A%20%20%20%20%20%20%20%20for%20_%20in%200..n%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20tmp%20%3D%20%26i.0%2B%26i.1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20i%3D(i.1%2Ci.2%2Ctmp)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20(i.1%2Ci.2)%0A%20%20%20%20%7D%3B%0A%20%20%20%20let%20(num%2Cdenom)%20%3D%20f(900)%3B%0A%20%20%20%20println!(%22%7B%7D%2F%7B%7D%22%2Cnum%2Cdenom)%3B%0A%7D" rel="nofollow noreferrer">here</a>.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, 19 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>{{(⍺+⍵*÷3)*÷3}/⍵/1}
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn/qG9qQMCjtgnGJv@rqzUe9e7SftS7VevwdmNNEFGrD@TpG9b@TwMqedTb96ir@VHvmke9Ww6tN37UNhGoOTjIGUiGeHgG/09TMORKUzACYmMgNgFiUyA2A2JDAwMDAA" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>
<p>Uses the cube root approximation method, which very, very slowly creeps towards the value of the plastic number.</p>
<h2>Explanation</h2>
<pre class="lang-apl prettyprint-override"><code>{{(⍺+⍵*÷3)*÷3}/⍵/1} ⍵ → input
               ⍵/1} replicate 1 ⍵ times
 {           }/     reduce by inner fn:
          *÷3       cube root of
     ⍵*÷3           cube root of right arg
   ⍺+               plus left arg
</code></pre>
</div>
<div id="pu5" class="pu"><h2>Mathematica, 27 bytes</h2>

<pre><code>Nest[(1+#)^(1/3)&amp;,1,#]~N~#&amp;
</code></pre>

<p>Uses a truncated approximation of the nested cubic radical form <strong>³√(1+³√(1+³√(1+...)))</strong>. While the output will always have <em>x-1</em> decimal places, the result is actually less accurate than that, because the expression converges more slowly than one digit per iteration (<em>x</em> is also used as the number of nested radicals that are computed). For example <em>x = 100</em> gives </p>

<pre><code>_________________________________________________________________________
1.324717957244746025960908854478097340734404056901733364534015050302827850993693624204577670741656151
</code></pre>

<p>where the overlined part is correct.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 35 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;x{n=1;n+=0.1**x while n**3-n&lt;1;n}
</code></pre>

<p><a href="https://tio.run/##KypNqvyfZvtf166iOs/W0DpP29ZAz1BLq0KhPCMzJ1UhT0vLWDfPBihR@79AIS3aMJYLRBlBKGMIZRL7HwA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/LyamBoylan/NewStack" rel="nofollow noreferrer">NewStack</a>, 14 bytes</h1>

<pre><code>¹Fᵢ{E2x³⁺÷3x²⁻
</code></pre>

<h3>Break down:</h3>

<pre><code>¹                Add arbitrary number 1 to the stack.
 Fᵢ{             Define for loop with a user's input amount of itterations.
    E            Define new edit for element 0 (element 0 being the 1 added. earlier).
     2x³⁺÷3x²⁻   update x to equal (2x^3+1)/(3x^2-1). (x = element 0).
</code></pre>

<h3>How it works:</h3>

<p>The formula (2x<sup>3</sup>+1)/(3x<sup>2</sup>-1) comes from the simplification of <a href="https://en.wikipedia.org/wiki/Newton%27s_method" rel="nofollow noreferrer">Newton's method</a> for the equasion x<sup>3</sup>=x+1. You can find it <a href="https://www.wolframalpha.com/input/?i=simplify%20x-(x%5E3-x-1)%2F(3x%5E2-1)" rel="nofollow noreferrer">here</a>. Repeating this process an infinite amoune of times converges to the plastic number. It's rate of convergence is rather quick at around 2.6 decimals per iteration.</p>

<pre><code>INPUT ITERATION &gt;&gt; VALUE
0 &gt;&gt; 1
1 &gt;&gt; 1.5
2 &gt;&gt; 1.3478260869565217
3 &gt;&gt; 1.325200398950907
4 &gt;&gt; 1.3247181739990537
5 &gt;&gt; 1.3247179572447898
6 &gt;&gt; 1.324717957244746    &lt;- 16 decimal precision in 6 iterations!
...
100 &gt;&gt; 1.324717957244746
</code></pre>

<h1>Padovan sequence alternative, <strike>27</strike> <strike>25</strike> 17 bytes</h1>

<pre><code>¹Fᵢ{[ƨ2+ƨ3]ℲƤƨ/ƨ2
</code></pre>

<h3>Break down:</h3>

<pre><code>¹                  Append first element of Padovan sequence.
 Fᵢ{       Ⅎ       Define for loop of user's input amount of iterations.
    [ƨ2+ƨ3]        Append sum second and third to last elements.
            Ƥƨ/ƨ2  Print ratio of last two elements.
</code></pre>

<p>-2 bytes by choosing better print strategy</p>

<p>-8 bytes by choosing better way to index stack</p>

<h3>How it works:</h3>

<p>As the <a href="https://en.wikipedia.org/wiki/Padovan_sequence" rel="nofollow noreferrer">Padovan sequence</a> continues, the ratio of the last two elements converge to the plastic number.</p>

<pre><code>INPUT ITERATION &gt;&gt; VALUE
0 &gt;&gt; 1
1 &gt;&gt; 2
...
10 &gt;&gt; 1.3157894736842106
...
89 &gt;&gt; 1.324717957244746    &lt;- 16 decimal precision in 89 iterations
...
100&gt; &gt; 1.324717957244746
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 28 bytes</h1>

<pre><code>ＡＩθθＡθνＷ‹∕∕Ｘν³θθ⁺νθＡ⁺ν¹νＩ∕νθ
</code></pre>

<p><a href="https://tio.run/##S85ILErOT8z5/9@xuDgzPU/DObG4RKNQU0ehUNOaCypWqKOQB@SVZ2TmpCpo2Gh45pW4ZJZlpqQisbS0NPJ0FIzBGiFYGyRQqKmpyaUABFCjwIKGmiADuQKKMvNKIBYizIHq@f/f0MjY/L9u2X/d4hwA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link to verbose mode. Also I apparently messed up <code>Divide</code> and <code>IntDivide</code> :|<br>
Uses the same method as the Python and JavaScript answers.</p>
</div>
<div id="pu9" class="pu"><h1>Axiom, 96 bytes</h1>

<pre><code>h(n:NNI):Float==(n&gt;1.E5=&gt;-1;n:=n+1;j:=digits(n::PI);r:=solve(x^3-x=1,10.^-n);digits(j);rhs(r.1))
</code></pre>

<p>results</p>

<pre><code>(31) -&gt; [h(i) for i in 0..10]
   (31)
   [1.0, 1.3, 1.33, 1.325, 1.3247, 1.32472, 1.324718, 1.324718, 1.32471796,
    1.324717957, 1.3247179572]
                                                         Type: List Float
</code></pre>

<p>how you can see h(2) should be 1.32 and not 1.33 so there is some error in last digits </p>

<p>Then there would be this one of 110 bytes</p>

<pre><code>g(n:NNI):Float==(n&gt;1.E5=&gt;-1;n:=n+1;j:=digits(n::PI);x:=sqrt(23./108);r:=(.5+x)^(1/3)+(.5-x)^(1/3);digits(j);r)
</code></pre>

<p>It use the formula for resolve equation of III grade of type x^3-3*p*x-2*q=0
in the case q^2-p^3>=0 that is m=sqrt(q^2-p^3) and x=(q+m)^(1/3)+(q-m)^(1/3)</p>

<p>In our case r^3-r-1=0 this can be written as r^3-3*(1/3)r-2*(1/2)=0 so p=1/3 q=1/2 m=1/4-1/27=23/108
x=(0.5+m)^(1/3)+(0.5-m)^(1/3)</p>

<p>this one that use Newton iteration with start point r=1</p>

<pre><code>f(n:NNI):Float==(n&gt;1.E5=&gt;-1;n:=n+1;j:=digits(n::PI);e:=10^-n;r:=1.;repeat(v:=(r^3-r-1)/(3*r^2-1);abs(v)&lt;e=&gt;break;r:=r-v);digits(j);r)
</code></pre>

<p>it change in the function, digits value for obtain one obj of n+1 digits afther 
the float point. At end the digits() value is assigned back to preciding value.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/DennisMitchell/m" rel="nofollow noreferrer">M</a>, <s>15</s> 14 bytes</h1>

<pre><code>²×3’
*3Ḥ‘÷Ç
Ç¡
</code></pre>

<p><a href="https://tio.run/##ASEA3v9t///CssOXM@KAmQoqM@G4pOKAmMO3w4cKw4fCof///zU" rel="nofollow noreferrer" title="M – Try It Online">Try it online!</a></p>

<h3>Algorithm</h3>

<p>This uses rationals and Newton's method. Specifically, for input <strong>x</strong>, the first <strong>x</strong> iterations with starting value <strong>x</strong> are applied.</p>

<p>We're trying to find a specific root of the polynomial <strong>p(t) = t³ - t - 1</strong>. Newton's method achieves this by taking a starting value <strong>t<sub>0</sub></strong> – sufficiently close to <strong>ρ</strong> – and recursively defining a sequence by<br>
<strong>t<sub>n+1</sub> = t<sub>n</sub> - p(t<sub>n</sub>) / p'(t<sub>n</sub>)</strong>.</p>

<p>Since <strong>p'(t) = 3t² -1</strong>, we get<br>
<strong>t<sub>n+1</sub> = t<sub>n</sub> - (t<sub>n</sub>³ - t<sub>n</sub> - 1)/(3t<sub>n</sub>² - 1) = (3t<sub>n</sub>³ - t<sub>n</sub> - t<sub>n</sub>³ + t<sub>n</sub> + 1) / (3t<sub>n</sub>² - 1) = (2t<sub>n</sub>³ + 1) / (3t<sub>n</sub>² - 1)</strong>.</p>

<p>Note that the initial approximation <strong>x</strong> gets progressively worse as <strong>x</strong> increases. While the output for <strong>x = 3</strong> is slightly less precise than the output for <strong>x = 2</strong>, since Newton's method converges quadratically to <strong>ρ</strong>, this shouldn't be an issue for large values of <strong>x</strong>.</p>

<h3>How it works</h3>

<pre><code>Ç¡    Main link. Argument: x

Ç¡    Call the second helper link x times, which initial argument x.


*3Ḥ‘÷Ç  Second helper link. Argument: t

*3      Compute t³.
  Ḥ     Unhalve; yield 2t³.
   ‘    Increment; yield 2t³+1.
     Ç  Call the first helper link with argument t.
    ÷   Divide the left result by the right one.


²×3’    First helper link. Argument: t

²       Compute t².
 ×3     Compute 3t².
   ’    Decrement; yield 3t²-1.
</code></pre>
</div>
<div id="pu11" class="pu"><h1>PHP, 86 bytes</h1>



<pre class="lang-php prettyprint-override"><code>for($p=[1,1,1];$i++&lt;$argn;)$p[]=bcadd($p[$i],$p[$i-1]);echo bcdiv($p[$i+1],$p[$i],$i);
</code></pre>

<p><a href="http://sandbox.onlinephpfunctions.com/code/06b11e67f076ef77255504ca2566fedc36e1df4d" rel="nofollow noreferrer">PHP Sandbox Online</a></p>

<p>Creates the <a href="https://oeis.org/A134816" rel="nofollow noreferrer">Padovan Spiral</a> and print the ratio of the last two numbers.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.gnu.org/software/sed/" rel="nofollow noreferrer">sed</a>, <s>67</s> 60 (59+1) bytes</h1>

<pre><code>s,^,1/1/1 ,
:;s,(1*/(1*)/(1*).*)1$,\2\3/\1,
t
s,(/1*).*,\1,
</code></pre>

<p><a href="https://tio.run/##K05N@f@/WCdOx1AfCBV0uKysi3U0DLX0gVgTTOhpaRqq6MQYxRjrxxjqcJVwAeX1weI6QP7//4bI4F9@QUlmfl7xf11XAA" rel="nofollow noreferrer">Try it online!</a></p>

<p>+1 for the <code>-E</code> flag (ERE instead of BRE). Input and output are both unary: input 11111 for x=5 e.g. Output is a fraction of two unary numbers: the aforementioned 11111 input yields output 11111/1111 (5/4 in decimal).</p>

<p>Approximates the plastic number as a fraction between to consecutive elements of the <a href="https://en.wikipedia.org/wiki/Padovan_sequence" rel="nofollow noreferrer">Padovan sequence</a>.</p>
</div>
<div id="pu13" class="pu"><h2><a href="https://tio.run/##tVI7b8IwEN75Fad0iE2DIaBOiKlSpUpQRaJqB8RgEhcsJXZlXyAVym9PnYRX6NwbPNx9j/tOju0g00pXVW6l2sLyx6LIpr045dZCdOyBK4scZQx7LRNYcKmIRePAqzVws7W0wbTIup61sjoV7NNIFHOpBImcmBN4y7ONMEQqZBE3VpCavRqtKaXThl3Wz61j6wN/@FDcm8ovIAXMZjCmcGnWZQTmRoEXDkNvepnsuYEEZnfKBQwgpGz5nUok/tCnXcLGEdr7MJdxLwyyd/2qcDImSR2ji44d@ho1WYW3gNNWbT72ok3GkXjHUTk8hqUXdCOQMfTd3XHHIn0gmwAmFB6vjbhu0A7D7bVspIkSh5ML8R/8oNlowYsPnubiiqJsLtQWd5QGXefJnbO7bt8lG/yT@/kf9Mqqqp5@AQ" rel="nofollow noreferrer">C#</a>, 317 bytes</h2>
<pre><code>using m=System.Math;a=x=&gt;{if(a==0)return &quot;1/1&quot;;var d=a(x-1).Split('/');var b=int.Parse(d[0]);var c=int.Parse(d[1]);return string.Format(&quot;{0}/{1}&quot;,(2*m.Pow(b,3)+m.Pow(c,3)).ToString(new string('#',int.MaxValue.ToString().Length)),(3*m.Pow(b,2)*c-m.Pow(c,3)).ToString(new string('#',int.MaxValue.ToString().Length)));};
</code></pre>
<p>It returns the result as a fraction.</p>
<h3>Explanation</h3>
<p>It uses the Newton's method with x iterations for finding the root of the polynomial p^3-p-1=0. The formula is x_n=1-(f(x_(n-1)))/(f'(x_(n-1))), and x_0 is a starting point.</p>
<p>The polynomials derivative is 3p^2-1, and let's say x_(n-1)=b/c. Then, by using the above formula we get, that  x_n=(2 b^3+c^3)/(3 b^2 c-c^3). Let's also say, that we start from 1, this will happen, when x=2, because x&gt;1, and is an integer.  Idented, and commented code:</p>
<pre><code>using System;
string PlasticNumber(int x)
{
    if (x == 2) 
        return &quot;1/1&quot;;                 

//If x=2, we return our starting value, but we need to return it as a fraction

    var d = PlasticNumber(x - 1).Split('/');
    var b = System.Convert.ToInt32(d[0]);
    var c = int.Parse(d[1]);

//We parse the previous value of the fraction, and put it into two variables

    return string.Format(&quot;{0}/{1}&quot;, 
        (2 * Math.Pow(b, 3) + Math.Pow(c, 3))
        .ToString(new string('#', int.MaxValue.ToString().Length)),
        (3 * Math.Pow(b, 2) * c - Math.Pow(c, 3))
        .ToString(new string('#', int.MaxValue.ToString().Length)));

//We return the result as a fraction, but it's important not to return it in
  scientific notation, because that will cause issues in the parsing process 

}
</code></pre>
</div>
<div id="pu14" class="pu"><h1>MATL (<strike>27</strike> 28 bytes)</h1>

<pre><code>7BG:"t@)y@Q)+h]tG3+)yG2+)/
</code></pre>

<p>My first solution (27 bytes)</p>

<p><a href="https://tio.run/##y00syfn/39zJ3UqpxEGz0sFQW1M7I7bE3Vhbs9LdSFtT//9/Q7Ovefm6yYnJGakA" rel="nofollow noreferrer">Try it online!</a></p>

<p>It's certainly not optimal, I'm still getting used to MATL.</p>

<h2>Explanation:</h2>

<p>I create a <a href="https://en.wikipedia.org/wiki/Padovan_sequence" rel="nofollow noreferrer">Padovan sequence</a> up to input+3 then find the ratio of the last two numbers.</p>

<pre><code>7B     % Turn 7 into binary to give 1 1 1 
G:"    % For k=1:input do...
t@)    % Existing sequence member k
y@1+)  % Existing sequence member k+1
+h     % Add them together and concatenate to the sequence array
]      % End loop
tG3+)  % Final sequence member
yG2+)  % Second last sequence member
/      % Divide to approximate ρ
</code></pre>

<h2>Proper fraction output <strike>(35 bytes)</strike> (28 bytes, @Sanchises):</h2>

<p>However, the first solution doesn't fulfill the need for arbitrary precision being the floating point limit of default MATL settings. So rather than adding several bytes to extend this precision, it's simpler to take the proper fraction route and write a fraction of the final two integers in the (N-1)<sup>th</sup> and N<sup>th</sup> elements of the truncated Padovan sequence.</p>

<p>e.g "114/86"</p>

<p><strike>7BG:"t@)y@1+)+h]tG3+)V'/'YcyG2+)VYc</strike></p>

<pre><code>7BG:"t@tQh)sh]tJ)V47hyJq)Vh&amp;
</code></pre>

<p>Courtesy of user @Sanchises. :)</p>

<p><a href="https://tio.run/##y00syfn/39zJ3UqpxKEkMEOzOCO2xEszzMQ8o9KrUDMsQ@3/f0Ozr3n5usmJyRmpAA" rel="nofollow noreferrer">Try it online!</a></p>

<h2>Non-iterative evaluation:</h2>

<p>Notably, my shortest code for <a href="https://en.wikipedia.org/wiki/Plastic_number" rel="nofollow noreferrer">the 'exact' version</a> is (23 bytes):</p>

<pre><code>1-1h69X^12**108+1I/^6/s
</code></pre>

<p><a href="https://tio.run/##y00syfn/31DXMMPMMiLO0EhLy9DAQtvQUz/OTL/4//@vefm6yYnJGakA" rel="nofollow noreferrer">Try it online!</a></p>

<p>...but doesn't give arbitrary precision. I wonder if anyone can adjust this to fulfill the rules (use the input etc) and still add less than 5 bytes? :P</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a>, 50 bytes</h1>



<pre class="lang-matlab prettyprint-override"><code>@(n)char(digits(n)*0+vpasolve(sym('r^3-r-1'))(1));
</code></pre>

<p><a href="https://tio.run/##y08uSSxL/Z9mq6en999BI08zOSOxSCMlMz2zpBjI0zLQLitILM7PKUvVKK7M1VAvijPWLdI1VNfU1DDU1LT@n6ZhqsmVpmFooPkfAA" rel="nofollow noreferrer" title="Octave – Try It Online">Try it online!</a></p>

<p>Defines an anonymous function, with<code>n</code> the desired number of digits of output.</p>

<p>This answer abuses that <code>digits</code> returns the current setting for the number of digits in variable precision arithmetic. This means we can just use it in an anonymous function without errors about 'Too many output arguments'.</p>

<p>Other than that, it's really straightforward: <code>vpasolve</code> is short for Variable-Precision Arithmetic Solve, with the precision set by the last call of <code>digits</code>. Since <code>vpa</code> is a Symbolic data type in Octave, which is banned per the spec, we just wrap the whole function in <code>char(...)</code> to get string output. Note that in <code>solve</code> and <code>vpasolve</code>, the <code>f==0</code> is implied, so <code>r^3==r+1</code> has been replaced by <code>r^3-r-1 (==0)</code></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 23 bytes</h1>

<pre><code>U[X3m¹/¹/¹X+›#X&gt;U]X'/¹J
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f8/NDrCOPfQTn0witB@1LBLOcIuNDZCHcj1@v/f0AAIAA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<hr>

<p>Direct port of <a href="https://codegolf.stackexchange.com/a/126822/59376">https://codegolf.stackexchange.com/a/126822/59376</a> by xnor.</p>
</div>
<div id="pu17" class="pu"><h1>TI-BASIC, 21 bytes</h1>
<pre><code>:Prompt X //Prompt for input, 3 bytes
:While X  //While X, 3 bytes
:³√(1+Y→Y //Calculate cube root of 1+Y and store to Y, 7 bytes
:DS&lt;(X,0  //Decrement X and skip next command (which doesn't do anything), 5 bytes
:End      //End While loop, 2 bytes
:Y        //Display Y, 1 byte
</code></pre>
<p>Uses this <a href="https://en.wikipedia.org/wiki/Plastic_number#Recurrences" rel="nofollow noreferrer">recursive formula</a>.</p>
<p>Interestingly, hard-coding the number and rounding it gives the same byte-count:</p>
<h1>TI-BASIC, 21 bytes</h1>
<pre><code>:Prompt X    //Prompt for input, 3 bytes
:.5√(3       //Store √(3)/2 to Ans, 5 bytes
:Ansֿ¹cosh(3ֿ¹coshֿ¹(3Ans //Store the plastic number to Ans, 9 bytes
:round(Ans,X //Round the plastic number X decimal digits, 4 bytes
</code></pre>
<p>Uses this <a href="https://en.wikipedia.org/wiki/Plastic_number#Trigonometry" rel="nofollow noreferrer">trigonometric formula</a>.</p>
</div>
<div id="pu18" class="pu"><h1>k, 27 bytes</h1>

<pre><code>{"/"/$1_|x({y,z,x+y}.)/3#1}
</code></pre>

<p><a href="https://tio.run/##y9bNz/7/v1pJX0lfxTC@pkKjulKnSqdCu7JWT1PfWNmwVl3R0MDg/38A" rel="nofollow noreferrer" title="K (oK) – Try It Online">Try it online!</a> This assumes infinite integers (which, alas, is not true). It uses the <a href="https://en.wikipedia.org/wiki/Padovan_sequence" rel="nofollow noreferrer">Padovan sequence</a>.</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://esolangs.org/wiki/Fish" rel="nofollow noreferrer">>&lt;></a>, 38+3 = 41 bytes</h1>

<pre><code>11\n;
?!\}2,:01{::::}**-+0(?$-{+{1-:}
</code></pre>

<p>Expects the input to be present on the stack at program start, so +3 bytes for the <code>-v</code> flag.</p>

<p><a href="https://tio.run/##S8sszvj/39AwJs@ay14xptZIx8rAsNoKCGq1tHS1DTTsVXSrtasNda1q////r1umYGoAAA" rel="nofollow noreferrer" title="&gt;&lt;&gt; – Try It Online">Try it online!</a></p>

<p>Effectively performs a binary search to narrow in on the output value. Increasing <code>x</code> increases the number of iterations to perform.</p>

<p><em>Edit: refactored calculation slightly to save 1 byte, previous version:</em></p>

<pre><code>11\n;
?!\}2,:0{::::}**$-1-0)?$-{+{1-:}
</code></pre>
</div>
<div id="pu20" class="pu"><h1>Mathematica, 20 bytes</h1>

<pre><code>#^3-#-1&amp;~Root~1~N~#&amp;
</code></pre>

<p>Mathematica's builtin <code>Root</code> function gives the solutions to a polynomial equation <code>f[x] == 0</code>.</p>

<h3>Explanation</h3>

<pre><code>#^3-#-1&amp;~Root~1~N~#&amp;
                   &amp;  (* Function *)
#^3-#-1&amp;              (* A pure-function polynomial, x^3-x-1 *)
        ~Root~1       (* Find the first root *)
               ~N~#   (* approximate to (input) digits *)
</code></pre>

<h3>Sample I/O</h3>

<pre><code>In[1]:= f=#^3-#-1&amp;~Root~1~N~#&amp;;
        f[1]

Out[1]= 1.

In[2]:= f[9]

Out[2]= 1.32471796

In[3]:= f[100]

Out[3]= 1.324717957244746025960908854478097340734404056901733364534015050302827851245547594054699347981787280
</code></pre>
</div>
<div id="pu21" class="pu"><h2>Javascript, 36 bytes</h2>

<pre><code>f=(x,n=x)=&gt;n**3/x/x&lt;n+x?f(x,++n):n/x
</code></pre>

<p>Works the same as the top python answer. No <code>console.log</code> was included because if you run <code>f(x)</code> in console it will be logged automatically.</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=(x,n=x)=&gt;n**3/x/x&lt;n+x?f(x,++n):n/x
console.log(f(300))</code></pre>
</div>
</div>
</p>
</div>
<div id="pu22" class="pu"><h2>Clojure, 46 bytes</h2>

<pre><code>#(nth(iterate(fn[i](Math/pow(inc i)(/ 3)))1)%)
</code></pre>

<p>Uses the iterated cube-root formula. This is a bit more interesting but longer:</p>

<pre><code>(def f #(apply comp(repeat %(fn[i](Math/pow(inc i)(/ 3))))))

((f 10)1)
1.3247179361449652
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.5</a>, <s>&nbsp;44&nbsp;</s> 40 bytes</h1>

<pre><code>|(x,r=1)=x&lt;1?r:~-x|big(2r^3+1)//(3r^2-1)
</code></pre>

<p>Uses rationals and Newton's method.</p>

<p><a href="https://tio.run/##yyrNyUw0/f@/RqNCp8jWUNO2wsbQvsiqTreiJikzXcOoKM5Y21BTX1/DuCjOSNdQ839afpFChUJmnoKGoZWhgSYXZ5GCrQJQN5BVUJSZV5KTp1Gko6Ck8KizQ0FJRyEtJz@xRKNIU5MrNS/lPwA" rel="nofollow noreferrer" title="Julia 0.5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu24" class="pu"><h1>Mathematica, 27 bytes</h1>
<pre><code>x/.Solve[x^3==x+1&gt;2,x]~N~#&amp;
</code></pre>
<p><em>-1 byte from Martin</em><br />
<em>-2 bytes from ovs</em></p>
<p><strong>input</strong></p>
<blockquote>
<p>[27]</p>
</blockquote>
<p><strong>output</strong></p>
<blockquote>
<p>{1.32471795724474602596090885}</p>
</blockquote>
</div>
<div id="pu25" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 49 bytes</h1>



<pre class="lang-python prettyprint-override"><code>n=x=input()
while n**3/x/x&lt;n+x:n+=1
print n,'/',x
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/r/P8@2wjYzr6C0REOTqzwjMydVIU9Ly1i/Qr/CJk@7wipP29aQq6AoM69EIU9HXV9dp@L/f0MDEAAA" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>The idea is to express the <code>ρ</code> with <code>ρ³=ρ+1</code> as a fraction <code>n/x</code> whose denominator <code>x</code> is the input accuracy parameter. We take <code>(n/x)³=n/x+1</code> and clear denominators to get <code>n³=x²(x+n)</code>. </p>

<p>Since the LHS increases in <code>n</code> faster than the RHS, we can approximate the equality point <code>n</code> as the smallest with <code>n³≥x²(x+n)</code>. The code counts up <code>n</code> until this is the case, starting at <code>x</code> which is smaller. </p>

<p>A small byte save is to divide both sides by <code>x²</code> to write <code>n³/x²≥x+n</code> (negated in the <code>while</code> condition). This is floor division in the code, but the fractional part lost is negligible.</p>

<p>A same-length alternative instead puts <code>x</code> as the numerator:</p>

<p><strong><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 49 bytes</strong></p>



<pre class="lang-python prettyprint-override"><code>n=x=input()
while x**3/n/n&lt;n+x:n-=1
print x,'/',n
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/r/P8@2wjYzr6C0REOTqzwjMydVoUJLy1g/Tz/PJk@7wipP19aQq6AoM69EoUJHXV9dJ@//f0MDIAAA" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/126820/">126820</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




