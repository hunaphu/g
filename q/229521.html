<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::229521</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>084</td><td>MATLAB 1999</td><td>230808T005413Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/263855#263855">l4m2</a></td></tr>
<tr d-ix="1"><td>077</td><td>Julia using GR</td><td>210613T135101Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/229585#229585">mapi1</a></td></tr>
<tr d-ix="2"><td>035</td><td>Jelly</td><td>210612T072110Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/229541#229541">Nick Ken</a></td></tr>
<tr d-ix="3"><td>127</td><td>Python 3.8 with turtle</td><td>210612T065326Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/229538#229538">ovs</a></td></tr>
<tr d-ix="4"><td>070</td><td>Wolfram Language Mathematica</td><td>210611T225325Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/229523#229523">ZaMoC</a></td></tr>
<tr d-ix="5"><td>212</td><td>Red</td><td>210612T065101Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/229537#229537">Razetime</a></td></tr>
<tr d-ix="6"><td>228</td><td>Python + Pygame</td><td>210612T155908Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/229563#229563">user1006</a></td></tr>
<tr d-ix="7"><td>071</td><td>SageMath</td><td>210611T235537Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/229527#229527">Noodle9</a></td></tr>
<tr d-ix="8"><td>127</td><td>Python 3 + matplotlib</td><td>210612T012951Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/229529#229529">Wasif</a></td></tr>
<tr d-ix="9"><td>052</td><td>J</td><td>210612T033508Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/229532#229532">Jonah</a></td></tr>
<tr d-ix="10"><td>166</td><td>HTML + JS</td><td>210612T032101Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/229531#229531">Hannesh</a></td></tr>
<tr d-ix="11"><td>199</td><td>Factor + ui.gadgets.charts ui.gadgets.charts.lines math.unicode</td><td>210612T000557Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/229528#229528">chunes</a></td></tr>
<tr d-ix="12"><td>074</td><td>R >= 4.1</td><td>210611T231241Z</td><td><a href="https://codegolf.stackexchange.com/questions/229521/collatzs-ice-cream-cone-factory/229525#229525">Nick Ken</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>MATLAB 1999,<s> 95 </s>84 bytes</h1>
<p>-1 from Luis Mendo</p>
<pre><code>n=input('');i=n;while i&gt;1;i=(i+mod(i,2)*(5*i+2))/2;n=[n;i];end;plot([0/0;n],[n;0/0])
</code></pre>
<p><a href="https://i.stack.imgur.com/KwaRQ.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/KwaRQ.png" alt="enter image description here" /></a></p>
<p>Even <code>A(2:)</code> and A(2:-1)` was unavailable at that time...</p>
</div>
<div id="pu1" class="pu"><h1>Julia using GR, <strike>121</strike> <strike>99</strike> 77 bytes</h1>
<p>Even better version by @MarcMush:</p>
<pre><code>using GR
!x=while(X=x[end])&gt;1 plot([x;],(x=[x;X%2&gt;0 ? 3X+1 : X/2])[2:end])end
</code></pre>
<p>Improved version thanks to the tips found <a href="https://codegolf.stackexchange.com/questions/24407/tips-for-golfing-in-julia">here</a>:</p>
<pre><code>using GR
c(a)=(i=1;while a[i]&gt;1 a=[a;%(a[i],2)&gt;0 ? 3a[i]+1 : a[i]/2];i+=1end;plot(a[1:i-1],a[2:i]))
</code></pre>
<p>What has been done:</p>
<ul>
<li>single-line notation for functions -10 bytes</li>
<li>replace <code>push!</code> by array concatenation -3 bytes</li>
<li>use input <code>a</code> as array - 6 bytes</li>
<li>replace <code>end</code> by variable <code>i</code> that stores the length -3 bytes</li>
</ul>
<p>Original version:</p>
<pre><code>using GR
function c(x) a=[x]
while a[end]&gt;1 push!(a,%(a[end],2)&gt;0 ? 3a[end]+1 : a[end]/2)end
plot(a[1:end-1],a[2:end])end
</code></pre>
<p>Calling <code>c(27)</code> gives:
<a href="https://i.stack.imgur.com/1Qcqb.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/1Qcqb.png" alt="enter image description here" /></a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 35 bytes</h1>
<pre><code>r0×€:⁸
×3‘ƊHḂ?Ƭ;Ɲ_/AÞṪçƊ+ṪƲƝẎŒṬx€€3
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/7/I4PD0R01rrB417uA6PN34UcOMY10eD3c02R9bY31sbry@4@F5D3euOrz8WJc2kD626djch7v6jk56uHNNBVAbEBn////fyAgA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>A pair of links that takes an integer argument and returns an RGB matrix on the (0 to 1) scale. Approach is the same as PBM output below but loses some bytes from the simpler output format.</p>
<hr />
<h1>Previous PBM answer <a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>49</s> 44 bytes</h1>
<pre><code>r0×€:⁸
×3‘ƊHḂ?Ƭ;Ɲ_/AÞṪçƊ+ṪƲƝẎŒṬµZL;L;FKṭ“P1 
</code></pre>
<p><a href="https://tio.run/##AVgAp/9qZWxsef//cjDDl@KCrDrigbgKw5cz4oCYxopI4biCP8asO8adXy9Bw57huarDp8aKK@G5qsayxp3huo7FkuG5rMK1Wkw7TDtGS@G5reKAnFAxIP///zIy" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>A full program that takes an integer argument and prints the contents of a PBM file.</p>
<p>Thanks to @cairdcoinheringaahing for some nice golfs totally 5 bytes!</p>
<h2>Example for 22:</h2>
<p><a href="https://i.stack.imgur.com/x8PkR.jpg" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/x8PkR.jpg" alt="Example image for 22" /></a></p>
<hr />
<h1>Original SVG-based answer: <a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 83 bytes</h1>
<pre><code>×3‘ƊHḂ?Ị¬$Ð¿µj”,$ƝKṭṀ,`$“¡×ȯFṗẓ&quot;az⁺Ṭ*,ġẎlḣḂ⁷Ọ]Ẏɦ?÷hṖF.IØṣƘŻÇÄ&lt;,Ḥ:ẆṡṂȮXȷḷ[eʂmJ]»Ỵ¤;&quot;
</code></pre>
<p><a href="https://tio.run/##AagAV/9qZWxsef//w5cz4oCYxopI4biCP@G7isKsJMOQwr/CtWrigJ0sJMadS@G5reG5gCxgJOKAnMKhw5fIr0bhuZfhupMiYXrigbrhuawqLMSh4bqObOG4o@G4guKBt@G7jF3huo7Jpj/Dt2jhuZZGLknDmOG5o8aYxbvDh8OEPCzhuKQ64bqG4bmh4bmCyK5YyLfhuLdbZcqCbUpdwrvhu7TCpDsi////NDU" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>A full program taking an integer argument and printing an SVG.</p>
<p>For example, with 45:</p>
<pre><code>&lt;svg width=&quot;136&quot; height=&quot;136&quot;&gt;&lt;path stroke=&quot;red&quot; fill=&quot;none&quot; d=&quot;M45,136 136,68 68,34 34,17 17,52 52,26 26,13 13,40 40,20 20,10 10,5 5,16 16,8 8,4 4,2 2,1&quot;/&gt;&lt;/svg&gt;
</code></pre>
<p><a href="https://i.stack.imgur.com/Hm3ff.jpg" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/Hm3ff.jpg" alt="Example SVG" /></a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8</a> with turtle, <s>156</s> 127 bytes</h1>
<p>Thanks to <a href="https://codegolf.stackexchange.com/users/9481/noodle9">Noodle9</a> for catching a mistake!</p>

<pre class="lang-python prettyprint-override"><code>from turtle import*
def f(n,x=0):
 while~-n:goto(w:=n,n:=[n//2,3*n+1][n%2]);x&lt;1!=clear();setworldcoordinates(0,0,x:=max(x,n),x)
</code></pre>
<p>Animation for <span class="math-container">\$a_1=27\$</span>:</p>
<p><a href="https://i.stack.imgur.com/1dSRs.gif" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/1dSRs.gif" alt="animation of turtle for testcase 27" /></a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 70 bytes</h1>
<pre><code>Graphics@Line@Last@Reap[#//.a_/;a&gt;1:&gt;Last@Sow@{a,If[2∣a,a/2,3a+1]}]&amp;
</code></pre>
<p>-17 bytes from @att</p>
<p><code>63728127</code>
<a href="https://i.stack.imgur.com/C8eZR.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/C8eZR.png" alt="enter image description here" /></a></p>
</div>
<div id="pu5" class="pu"><h1><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, <sup><s>230</s></sup> 212 bytes</h1>
<pre><code>func[n][a: to[]n while[n &gt; 1][append a n: either odd? n[3 * n + 1][n / 2]]to-pair m: last sort copy a view[base 500x500 draw append[line]collect[while[a/2][keep as-pair a/1 / m * 500(first a: next a)/ m * 500]]]]
</code></pre>
<p><a href="https://tio.run/##PY7BasQwDETv/Yo5dreUbFJ6yaH7D70KH9RYIaZe2TjuJv16VyWwAiEYaeapiG@f4sk9zW3@0YnUEY@oiZxiW0IUUnygNzVnUQ@GjpBQFylI3l@h9IYzFC//R4oOg3M1vWYOBbcRkdeKNZWKKeVfs9@DbPTFq@D9ctmt4QtvOOIpBhU3pRhlqnTwuRscfYtk8HrEctcb52ZYsz/PoRjCnlbZbZ4eG2fV2h8" rel="nofollow noreferrer" title="Red – Try It Online">Try it online!</a></p>
<p>I don't know if red has a scalable plotting mechanism, but this was what I managed to get using the draw dialect. All outputs are scaled to 500x500 and there may be some inaccuracies for larger inputs due to downscaling and pairs being integers.</p>
<p>In the red interpreter, you will have to redefine the function before each run because the words get messed up.</p>
<p>-4 after using default axes.</p>
<p>-18 bytes from Galen Ivanov.</p>
<h2>Output(n=12) (old)</h2>
<p><a href="https://i.stack.imgur.com/fn7di.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/fn7di.png" alt="enter image description here" /></a></p>
</div>
<div id="pu6" class="pu"><h1>Python + Pygame, 228 bytes</h1>
<pre class="lang-py prettyprint-override"><code>from pygame import*
d=display
n=int(input())
k=[]
while n&gt;1:k+=[[n,n:=[n//2,3*n+1][n%2]]]
M=max(k)[0]
S=500
g=lambda s:[S*s[0]/M,S*s[1]/M]
s=d.set_mode([S,S])
for i,j in enumerate(k):draw.line(s,[99]*3,g(k[i-1]),g(j))
d.update()
</code></pre>
<p>No TIO link because Pygame is not supported there.</p>
<p>Reversed y-axis.</p>
<p>I could save one byte by setting <code>S</code> to 99 or something, but I chose not to for easier viewing. I could also change <code>[99]*3</code> to <code>[9]*3</code> but I chose not to for easier viewing.</p>
<p>Here is an example for input 63728127:
<a href="https://i.stack.imgur.com/IEp3b.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/IEp3b.png" alt="Example" /></a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://doc.sagemath.org/" rel="nofollow noreferrer">SageMath</a>, <sup><s>81</s> <span class="math-container">\$\cdots\$</span> <s>74</s></sup> 71 bytes</h1>
<p>Saved 3 bytes thanks to <a href="https://codegolf.stackexchange.com/users/88546/dingledooper">dingledooper</a>!!!</p>

<pre class="lang-python prettyprint-override"><code>f=lambda n,*r:n-1and f(c:=[n/2,3*n+1][n%2],*r,(n,c))or list_plot(r,1&lt;2)
</code></pre>
<p><a href="https://sagecell.sagemath.org/?z=eJwFwUEKgCAQAMC7r_ASaG2EK1RIvkQkTBECW8P8P81kW8JzpcAJmnXe0KwCJZ5FNNbRgqBHmpR3NKCHNjlBEKWXtfFyf_18S-2igTpQMpbFqjfcFW7yB5BhGQ4=&amp;lang=sage&amp;interacts=eJyLjgUAARUAuQ==" rel="nofollow noreferrer">Try it online!</a></p>
<h3>f(63728127)</h3>
<p><a href="https://i.stack.imgur.com/RojlB.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/RojlB.png" alt="f(63728127)" /></a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a> + matplotlib, 127 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(n,r=[]):
 k=n
 while ~-n:n=[n//2,3*n+1][n%2];r+=[n]
 p.plot(*zip(*[[k]+r,r]),'-o');p.show()
import matplotlib.pyplot as p
</code></pre>


<p>-5 bytes thanks to @ovs!!!</p>
</div>
<div id="pu9" class="pu"><h1><a href="http://jsoftware.com/" rel="noreferrer">J</a>, 52 bytes</h1>
<pre><code>load 'plot'
f=:[:plot[:(}:;}.)(2&amp;|{-:,1+*&amp;3)^:(&gt;&amp;1)^:a:
</code></pre>
<p><a href="https://tio.run/##y/r/Pyc/MUVBvSAnv0SdK83WKtoKxIy20qi1sq7V09QwUqup1rXSMdTWUjPWjLPSsFMzBFKJVv//AwA" rel="noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Wasn't sure if loading the graphics lib counted towards byte count, so I included it.</p>
<p>Here's an image of calling <code>f 27</code> in the J console:</p>
<p><a href="https://i.stack.imgur.com/UG8UB.png" rel="noreferrer"><img src="https://i.stack.imgur.com/UG8UB.png" alt="27" /></a></p>
</div>
<div id="pu10" class="pu"><h1>HTML + JS, 166 bytes</h1>
<p>JS: 156 bytes</p>
<p>HTML: 14 bytes</p>
<p>This is a pretty basic implementation that renders to the DOM using an HTML canvas. A good chunk of the code is spent scaling the output to fit within the canvas. Anyone got any better ideas to handle this?</p>
<p>The input is specified inline in the code, set the number inside <code>x=[...]</code>.</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>x=[9];c=C.getContext`2d`;c.beginPath();while((z=x[0])-1)x.unshift(z%2?3*z+1:z/2);r=Math.max(...x)/99;x.map((a,i)=&gt;c.lineTo(a/r,99-x[i-1]/r));c.stroke()</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;canvas id=C&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a> + <code>ui.gadgets.charts ui.gadgets.charts.lines math.unicode</code>, <sup><s>208</s> <s>204</s></sup> 199 bytes</h1>
<pre><code>[ [ [ 3 dupn , odd? [ 3 * 1 + ] [ 2/ ] if dup 1 ≠ ] loop , ] f make chart new over supremum 1 + '[ 0 _ ] dup 2array &gt;&gt;axes line new COLOR: red &gt;&gt;color rot 2 clump &gt;&gt;data add-gadget &quot;&quot; open-window ]
</code></pre>
<p>It's quotation (anonymous function) that accepts an integer from the data stack and opens a window with the chart in it. This only works in recent-ish builds of Factor, as the <code>chart</code> gadget is fairly new; I used build <code>2074</code>. Here's what it looks like for an input of <code>27</code>:</p>
<p><a href="https://i.stack.imgur.com/W6QuO.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/W6QuO.png" alt="enter image description here" /></a></p>
<p>Unfortunately, the <code>chart</code> gadget doesn't come with any constructors. It requires us to manually calculate axes, and build its subcomponents which themselves don't come with any constructors. This leads to a bit of verbosity.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a> &gt;= 4.1, <s>81</s> 74 bytes</h1>

<pre class="lang-r prettyprint-override"><code>\(x,y=x){while(x&gt;1)y=c(y,x&lt;-c(x/2,3*x+1)[x%%2+1]);plot(y,c(y[-1],NA),&quot;l&quot;)}
</code></pre>
<p><a href="https://rdrr.io/snippets/embed/?code=f%20%3C-%20function(x%2Cy%3Dx)%7Bwhile(x%3E1)y%3Dc(y%2Cx%3C-c(x%2F2%2C3*x%2B1)%5Bx%25%252%2B1%5D)%3Bplot(y%2Cc(y%5B-1%5D%2CNA)%2C%22l%22)%7D%0Af(45)" rel="nofollow noreferrer">Try it at RDRR.io!</a></p>
<p>Note this uses RDRR because TIO doesn’t support graphical output. It also uses <code>function</code> in place of <code>\</code> since RDRR doesn’t support R 4.1.0 yet.</p>
<p>Thanks to @DominicVanEssen for saving 7 bytes!</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/229521/">229521</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




