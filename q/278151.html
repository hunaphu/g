<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::278151</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>037</td><td>APLNARS</td><td>250209T190525Z</td><td><a href="https://codegolf.stackexchange.com/questions/278151/decide-equality-of-closed-surfaces/278167#278167">Rosario</a></td></tr>
<tr d-ix="1"><td>049</td><td>R</td><td>250210T120707Z</td><td><a href="https://codegolf.stackexchange.com/questions/278151/decide-equality-of-closed-surfaces/278185#278185">pajonk</a></td></tr>
<tr d-ix="2"><td>014</td><td>Japt</td><td>250210T102734Z</td><td><a href="https://codegolf.stackexchange.com/questions/278151/decide-equality-of-closed-surfaces/278184#278184">Shaggy</a></td></tr>
<tr d-ix="3"><td>010</td><td>05AB1E</td><td>250210T084252Z</td><td><a href="https://codegolf.stackexchange.com/questions/278151/decide-equality-of-closed-surfaces/278181#278181">Kevin Cr</a></td></tr>
<tr d-ix="4"><td>082</td><td>Maple</td><td>250209T235801Z</td><td><a href="https://codegolf.stackexchange.com/questions/278151/decide-equality-of-closed-surfaces/278174#278174">dharr</a></td></tr>
<tr d-ix="5"><td>055</td><td>JavaScript Node.js</td><td>250209T234015Z</td><td><a href="https://codegolf.stackexchange.com/questions/278151/decide-equality-of-closed-surfaces/278172#278172">emanresu</a></td></tr>
<tr d-ix="6"><td>021</td><td>Charcoal</td><td>250209T215657Z</td><td><a href="https://codegolf.stackexchange.com/questions/278151/decide-equality-of-closed-surfaces/278171#278171">Neil</a></td></tr>
<tr d-ix="7"><td>082</td><td>Google Sheets</td><td>250209T175106Z</td><td><a href="https://codegolf.stackexchange.com/questions/278151/decide-equality-of-closed-surfaces/278165#278165">doubleun</a></td></tr>
<tr d-ix="8"><td>010</td><td>Jelly</td><td>250209T162908Z</td><td><a href="https://codegolf.stackexchange.com/questions/278151/decide-equality-of-closed-surfaces/278162#278162">Jonathan</a></td></tr>
<tr d-ix="9"><td>056</td><td>Python 3</td><td>250209T090856Z</td><td><a href="https://codegolf.stackexchange.com/questions/278151/decide-equality-of-closed-surfaces/278157#278157">xnor</a></td></tr>
<tr d-ix="10"><td>023</td><td>Retina 0.8.2</td><td>250209T080720Z</td><td><a href="https://codegolf.stackexchange.com/questions/278151/decide-equality-of-closed-surfaces/278156#278156">Neil</a></td></tr>
<tr d-ix="11"><td>059</td><td>JavaScript Node.js</td><td>250209T023102Z</td><td><a href="https://codegolf.stackexchange.com/questions/278151/decide-equality-of-closed-surfaces/278153#278153">l4m2</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>APL(NARS), 37 chars</h1>
<pre><code>{≡/{'P'∊k←⍵:∊k⊣k[⍸⍵='T']←⊂'PP'⋄k}¨⍺⍵}
</code></pre>
<p>the nested function, <strong>if P is element of the string</strong>, replace each 'T' char with 2 chars 'PP' and return the string,
else return the string of input unchanged.</p>
<p>It would return 1 for true 0 for false. Test:</p>
<pre><code>     f←{≡/{'P'∊k←⍵:∊k⊣k[⍸⍵='T']←⊂'PP'⋄k}¨⍺⍵}

  ''f'' 
1
  ''f'P' 
0
  ''f'T' 
0
  'TT'f'TT' 
1
  'PTPTPPP'f'PPPPPTPP' 
1
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 49 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(x)sum(table(gsub(&quot;T&quot;,&quot;PP&quot;,x),grepl(&quot;P&quot;,x))|1)&lt;2
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGWNNsYjUSdJM10jWQwrcmVbru0tCRN1-KmYYxGhWZxaa5GSWJSTqpGenFpkoZSiJKOUkCAkk6Fpk56UWpBjoYSmKNZY6hpYwTReItRLU1DSUlHQUlJU1lHIaSoNJULKhAAFnFLzCmGC4WgCgVgE8MqGAI2MCAAxRKIaAiaIKpaJCMCoOKo6kMghoRgEQzAZkhACMSgECCN6SCQArg9IA5cHhJcCxZAaAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/278157/55372">@xnor's fingerprint solution</a>.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 14 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ëñ e&quot;PT&quot;'P³Ãr¶
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=y/EgZSJQVCInULPDcrY&amp;input=WwpbIiIsICIiXSBUcnVlClsiIiwgIlAiXSBGYWxzZQpbIiIsICJUIl0gRmFsc2UKWyJQIiwgIlQiXSBGYWxzZQpbIlBQIiwgIlQiXSBGYWxzZQpbIlBUIiwgIlBQUCJdIFRydWUKWyJQVCIsICJUUCJdIFRydWUKWyJQUFQiLCAiUFBQIl0gRmFsc2UKWyJQVFAiLCAiUFBQUCJdIFRydWUKWyJUVCIsICJUVCJdIFRydWUKWyJUVCIsICJQUFBQIl0gRmFsc2UKWyJQVFBQVFRQIiwgIlRUVFBQUFAiXSBUcnVlClsiUFRQVFBQUCIsICJQUFBQUFRQUCJdIFRydWUKXS1tUg" rel="nofollow noreferrer">Try it</a> (includes all test cases)</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 10 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>€{„PT¬3×:Ë
</code></pre>
<p>Input as a pair of strings.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//UdOa6kcN8wJCDq0xPjzd6nD3///RSgEhAUo6SgFAoBQLAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/R01rqh81zAsIObTG@PB0q8Pd/3X@R0crKekoKcXqgOkAGCMEzAhAsJCYISCFAQEITgiUjSYTAOFBuCFghSEIdgCSwoAQsOIQIIUkCuJAFYLYSrGxAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-none prettyprint-override"><code>€          # Map over both strings in the (implicit) input-pair:
 {         #  Sort its characters
  „PT      # Push string &quot;PT&quot;
     ¬     # Push its first character (without popping): &quot;P&quot;
      3×   # Repeat it three times: &quot;PPP&quot;
        :  # Replace all &quot;PT&quot; for &quot;PPP&quot; until no &quot;PT&quot; are left
         Ë # Check if both strings in the pair are the same
           # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.maplesoft.com/" rel="nofollow noreferrer">Maple</a>, 82 bytes</h1>
<pre><code>(s,t)-&gt;evalb(`=`((p:=(c:=x-&gt;numboccur~([s,t],x)[])(P))+`if`(`*`(p)=0,-1,2)*c(T)));
</code></pre>
<p>Input is two lists containing Ps and Ts. The TP-&gt;PPP rule means that, provided we have at least one P, we just need to check if the number of Ps plus twice the number of Ts is the same for each list.</p>
<p>Function c(X) counts the number of Xs (X=P or X=T) in each list and outputs a sequence like (2,0). If c(P) has a zero (detected by the product being zero), we need to check for c(P) = c(T), otherwise we need to check c(P) + 2*c(T) has the same two components. Actually, we define a multiplier m=-1 if c(P) has a zero and m=2 otherwise, and then check if the two components of c(P)+m*c(T) are the same.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 55 bytes</h1>

<pre class="lang-none prettyprint-override"><code>x=&gt;y=&gt;g(x)==g(y)
g=x=&gt;x.split`T`.join`PP`+x.includes`P`
</code></pre>
<p><a href="https://tio.run/##ZY3BbsMgEETvfEWVi0Gm5AOq9bFnDnuLIkEIRo6QsYwTOary7Y4xaZK6BxbN25nZk77oaPqmGz7bcLRTDdMI1RUqR0cG4OiVEQczGkXsfDMoVOIUmlZJqcpRNK3x56ONSqrpS5HNhn@kh/3ZZiHn8a19fEh8SbnW/wAuBQvPhZngG3j3PGPywV4@zEFcAbkOSsxhnP@/h9Py2ZvE706J3nZeG0u3otw6HqH6IUsj1Gny5IIhWb0ddpofuNmDvWhPi11RxrLYF4yY0MbgrfDBUcNrqhk9MEZubLoD" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Uses xnor's <a href="https://codegolf.stackexchange.com/a/278157/100664"><code>P</code> fingerprint</a> idea, and I borrowed l4m2's test harness.</p>
<p>As per xnor's answer, we replace <code>T</code> with <code>PP</code>, but need some way to check whether there was a catalyst <code>P</code> in the first place - this is done via appending <code>x.includes`P`</code>, which is coerced to either <code>&quot;true&quot;</code> or <code>&quot;false&quot;</code>.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 21 bytes</h1>
<pre><code>¬↨ＥＥ²Ｓ⎇№ιP⁺Ｌι№ιT±Ｌι±¹
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMMvv0TDKbE4VcM3sQCMjXQUPPMKSkuCS4Dy6RqamjoKIalFeYlFlRrO@aVAHZk6CkoBSkDhgJzSYg2f1Lz0kgyNTCAfIR2iBNLml5qeWJKKUKGJJGgI4lkDHREChAEBXAEgAGT91y3LAQA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs a Charcoal boolean, i.e. <code>-</code> for equal, nothing if not. Explanation: Converts strings of only <code>T</code>s to their negated length but strings that contain <code>P</code>s get any <code>TP</code>s converted to <code>PPP</code> which is equivalent to adding the number of <code>T</code>s to their length.</p>
<pre><code>    ²                   Literal integer `2`
   Ｅ                    Map over implicit range
     Ｓ                  Next input
  Ｅ                     Map over inputs
        ι               Current input
       №                Contains
         P              Literal string `P`
      ⎇                 If true then
            ι           Current input
           Ｌ            Length
          ⁺             Plus
             №          Count of
               T        Literal string `T`
              ι         In current input
                  ι     Else current input
                 Ｌ      Length
                ±       Negated
 ↨                      Evaluate as polynomial
                    ¹   Literal integer `1`
                   ±    Negated
¬                       Logical Not
                        Implicitly print
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Google Sheets, 82 bytes</h1>
<pre><code>=let(f,lambda(s,substitute(regexreplace(s,&quot;^(T*)T$&quot;,&quot;$1_&quot;),&quot;T&quot;,&quot;PP&quot;)),f(A1)=f(B1))
</code></pre>
<p>Uses <a href="https://codegolf.stackexchange.com/a/278157/119296">xnor's method</a>.</p>
<p><img src="https://i.sstatic.net/MKEROxpB.png" alt="screenshot" /></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 10 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<p><sup>9 if we <a href="https://codegolf.meta.stackexchange.com/a/8964/53748">may accept lists of code points</a> (remove <code>O</code>); 7 if we may accept lists of &quot;is T&quot;s (remove <code>Oọ3</code>).</sup></p>
<pre><code>Oọ3~Ạ¡€‘§E
</code></pre>
<p>A monadic Link that accepts a pair of lists of <code>PT</code> characters and yields <code>1</code> if equivalent or <code>0</code> if not.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9//4e5e47qHuxYcWvioac2jhhmHlrv@P9wOZP//Hx2tpKSjoKQUq8OlEK0UEALiBAQEoPBDENwAqDxMJASiIAShICAEoigESCMbBJKC6wZxoDJgISQ23CgUDhoPzZkhIcjOigUA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h4>How</h4>
<pre><code>Oọ3~Ạ¡€‘§E - Link: list of lists of characters, [A, B]
O          - ordinals (P -&gt; 80; T -&gt; 84)
 ọ3        - multiplicity of three (P -&gt; 0; T -&gt; 1)
      €    - for each {list, L, of 0s and 1s}:
     ¡     -   repeat...
    Ạ      -   ...times: all? (i.e. Once iff only Ts existed)
   ~       -   ...action: bitwise NOT (replaces all the values (1s) with -2s)
       ‘   - increment all these 0s, 1s and -2s (P -&gt; 1; T -&gt; 2 or -1 if all were T)
        §  - sums
         E - equal?
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="noreferrer">Python 3</a>, 56 bytes</h1>

<pre class="lang-none prettyprint-override"><code>lambda*l:len({s.replace('T','PP',len(s)-1)for s in l})&lt;2
</code></pre>
<p><a href="https://tio.run/##ZY0xD4IwEIV3fkXD0tZUE3QxRFbnDje6FC2BpJamBY0x/vYKlADicL287917Na@mrPXhaKwvsotX4p7fxEalSmrydjsrjRJXSTBghjnHrOeObhNa1BY5VGmkPvS098@yUhIlaYQca1ieyYdQpNKmbQilETK20g0pSGdSllMfxwz1A7aV0SB495yFcqOEWfK1/gMwFAw8FAYCC7C8mWJ8ZPMdhCCsAF8HOYQwdPv3496censxel8" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>Replaces every <code>T</code> in each string with <code>PP</code> before checking for equality. But, to tell apart strings of only <code>T</code> with no &quot;catalyst&quot; <code>P</code>, the number of replacements is capped at <code>len(s)-1</code>, which leaves one <code>T</code> unconverted in such strings.</p>
<p><strong>57 bytes</strong></p>

<pre class="lang-none prettyprint-override"><code>lambda*l:len({(s.replace('T','PP'),'P'in s)for s in l})&lt;2
</code></pre>
<p><a href="https://tio.run/##ZY29DsIgFIX3PgXpAhhioi6msaszwx1dqNKUBCmBVmOMz470J22tAxfOd@452FdT1eZwtC6U@SVocS9uYqMzLQ15E7910mpxlQQDZphzTOPEyiBPy9ohj@JTf@hpH56V0hLtsgR51rAilw@hiTK2bQilCbJOmYaUJJqUFTSkKUPdAdfKpBc8jrPQfpQwS77WfwD6gp4PhQOBBVjuTDE@snkPhiCsAF8HOQxhiPfvx5059XZi9L4" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>Here the fingerprinting function is <code>(s.replace('T','PP'),'P'in s)</code>, which can be more easily with a helper function <code>g</code> (62 bytes)</p>
<pre class="lang-none prettyprint-override"><code>lambda a,b:g(a)==g(b)
g=lambda s:(s.replace('T','PP'),'P'in s)
</code></pre>
<p>We effectively get the number of <code>P</code>'s plus double the number of <code>T</code>'s, but to separate out the all-<code>T</code>'s case, we also record a bit for whether the string has any <code>P</code>'s.</p>
<p><strong>55 bytes</strong></p>

<pre class="lang-none prettyprint-override"><code>lambda*l:len({s.replace('T',min(s+'~')*2)for s in l})&lt;2
</code></pre>
<p><a href="https://tio.run/##ZY0xD4IwEIV3fkXDQouNibgYI6tzhxtdipbQpJSmBY0x@tcRKAHE4Xp537v3ap51Uen9wdg2Ty@t4mV247E6KqHxy22tMIpfBY4goqXU2G2iT0TihOSVRQ5JjdSbnJL2UUgl0O4YIEdrmqXizhWW2jQ1JiRAxkpd4xx3JqEZacOQon7ANiIYBOueM1dulDBLttZ/AIaCgftCT2ABljdTjI1svgMfhBVg6yADH4Zu/37cm1NvL0bvCw" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>If not for empty inputs, we could get rid if <code>+'~'</code></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 23 bytes</h1>
<pre><code>%O`.
+`PT
PPP
^(.*)¶\1$
</code></pre>
<p><a href="https://tio.run/##K0otycxL/K@qEZyg81/VP0GPSzshIIQrICCAK05DT0vz0LYYQ5X//3W4dAK4dIDiIAwmQnRAaoBUCJCE8wJAdABXCFA4BEQGQIUDQoBSIUACygcxwJIgFgA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes input on separate lines but link is to test suite that splits on commas for convenience. Explanation:</p>
<pre><code>%O`.
</code></pre>
<p>Sort each input separately.</p>
<pre><code>+`PT
PPP
</code></pre>
<p>Convert Dyck's surface to a chosen &quot;canonical&quot; representation.</p>
<pre><code>^(.*)¶\1$
</code></pre>
<p>Compare the two results.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 59 bytes</h1>

<pre class="lang-none prettyprint-override"><code>x=&gt;y=&gt;g(x)==g(y)
g=x=&gt;x.replace(/T(?=.*P)|T(?&lt;=P.*)/g,'PP')
</code></pre>
<p><a href="https://tio.run/##ZZDBjsIgEIbvPMXGC4xFfIDdqTfPHLgZE5GlZA2xplRTo/vsXSiudbsHBv5v5v9J5qAvOpjm69QujvWn7SvsOyyvWDrWAaJjVyAOI@pEY09eG8uWiq1QzCXc4@MDpZjD0nEqJYX@fUdmM/6WjmrONgsZy1r78JBqlHKq/wE1BAw8B2aiXsDrzNMmH2ycU9moJkBOjVJls4r3349T85mbxG9vN@5GFHEXAcsbGRKxSpWnKWzTqLftRvM9N1u0F@0Z3dAiFHRLgZj6GGpvha8dM7xiGtgegHxD/wM" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>if backtrack <code>(?&lt;=P.*)</code> unavailable then</p>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 60 bytes</h1>

<pre class="lang-none prettyprint-override"><code>x=&gt;y=&gt;g(x)==g(y)
g=x=&gt;x==(x=x.replace(/TP|PT/,'PPP'))?x:g(x)
</code></pre>
<p><a href="https://tio.run/##ZZAxb8MgEIV3fkWVBZCJvbc6Z@t8w21RpBCKUSsUR8aNiNL@dteYNE7dgUPvu/ceEh/6rIPp3k/9@ti@2aGBIUJ9gdqJKAGcuEjmYEQRQESIZWdPXhsrKsIvpEpxRORSbuJzSgwve7Zaqad0qPu0WeA4XrUPN0mzxKX@B2gqmHguzIQewKPnHsMbm32Ug7QAuAwi5TCN99@H0/Lem8Tvbj9/S1lUTgWor2xqhCZNlVzQJ6u3/VargzI7sGftBd/yIhR8xyUz7TG03pa@dcKoRmgpDlKybzn8AA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/278151/">278151</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




