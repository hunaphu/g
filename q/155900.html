<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::155900</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>198</td><td>Python3</td><td>250511T151818Z</td><td><a href="https://codegolf.stackexchange.com/questions/155900/conjugate-permutations/279652#279652">Ajax1234</a></td></tr>
<tr d-ix="1"><td>064</td><td>JavaScript ES6</td><td>180216T110226Z</td><td><a href="https://codegolf.stackexchange.com/questions/155900/conjugate-permutations/155912#155912">Neil</a></td></tr>
<tr d-ix="2"><td>016</td><td>J</td><td>180216T101157Z</td><td><a href="https://codegolf.stackexchange.com/questions/155900/conjugate-permutations/155909#155909">Mathias </a></td></tr>
<tr d-ix="3"><td>011</td><td>Jelly</td><td>180215T232508Z</td><td><a href="https://codegolf.stackexchange.com/questions/155900/conjugate-permutations/155903#155903">Dennis</a></td></tr>
<tr d-ix="4"><td>057</td><td>Perl</td><td>180216T085009Z</td><td><a href="https://codegolf.stackexchange.com/questions/155900/conjugate-permutations/155908#155908">Ton Hosp</a></td></tr>
<tr d-ix="5"><td>044</td><td>Wolfram Language Mathematica</td><td>180216T012555Z</td><td><a href="https://codegolf.stackexchange.com/questions/155900/conjugate-permutations/155904#155904">alephalp</a></td></tr>
<tr d-ix="6"><td>016</td><td>MATL</td><td>180215T230020Z</td><td><a href="https://codegolf.stackexchange.com/questions/155900/conjugate-permutations/155901#155901">Luis Men</a></td></tr>
<tr d-ix="7"><td>009</td><td>Husk</td><td>180216T075941Z</td><td><a href="https://codegolf.stackexchange.com/questions/155900/conjugate-permutations/155907#155907">Zgarb</a></td></tr>
<tr d-ix="8"><td>087</td><td>Python 2</td><td>180216T025914Z</td><td><a href="https://codegolf.stackexchange.com/questions/155900/conjugate-permutations/155906#155906">xnor</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 198 bytes</h1>
<pre class="lang-py prettyprint-override"><code>from itertools import*
M=lambda y,x:[x[i-1]for i in y]
def f(x,y):
 R=[*range(1,len(x)+1)]
 for g in permutations(R,len(x)):
  if M(M(g,y),[*zip(*sorted(zip(g,R),key=lambda x:x[0]))][1])==x:return 1
</code></pre>
<p><a href="https://tio.run/##bY7BboQgEIbvPsUcwU6Tou62MfERvHglHGxES6pAkE2wL2/BrWk36Y35v/8bxm7@w@jyzbp9H51ZQHnpvDHzCmqxxvk8a5u5X96HHjYMNQ9cPTMxGgcKlIZNZIMcYSQBN1pn0DU8d72eJGE4S00CfWJUZJCEKQlWuuXme6@MXkn300kmqBFa0pIpLkKefylL8jUeIAeS3hN2FD/ldh4T6sBfBKWCM0GbJtRO@pvTwHbrlPZkJBFggjT7TRAKgcALhEdwBCeAv6SKCUJ5iGko7vODXZ5xlXZU9/p/Xxwk8gvCK8I1tdnZvhzkGknU9m8" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h2>JavaScript (ES6), <s>66</s> 64 bytes</h2>

<pre><code>(a,b,g=a=&gt;b+a.map(h=(e,i)=&gt;e-i&amp;&amp;1+h(a[e],i)).sort())=&gt;g(a)==g(b)
</code></pre>

<p>If I've read the other answers correctly, the problem is equivalent to counting the periods of all the elements and checking that the two lists have the same number of each period. Edit: Saved 1 byte thanks to @Arnauld by calculating one less than the period. Saved another byte thanks to @Arnauld by abusing JavaScript's weird coercion rules to compare the arrays. Another byte could be saved by currying but I don't like curry unless it's chicken tikka masala.</p>
</div>
<div id="pu2" class="pu"><h1><a href="http://www.jsoftware.com/" rel="nofollow noreferrer">J</a>, <s>25 bytes</s> <s>23 bytes</s> 16 bytes</h1>

<p><em>miles'</em> tacit solution :</p>

<pre><code>-:&amp;([:/:~#&amp;&gt;)&amp;C.
</code></pre>

<p>OP's explicit solution :</p>

<pre><code>c=:4 :'-://:~"1#&amp;&gt;C.&amp;&gt;x;y'   
</code></pre>

<p>This checks whether permutations x and y have the same cycle type, using the built-in <code>C.</code> function to produce cycle representations.</p>

<pre><code>   4 1 3 2   c   4 2 1 3
1
   3 2 1 4   c   4 3 2 1
0
   2 1 3 4 5 7 6   c   1 3 2 5 4 6 7
1
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 11 bytes</h1>

<pre><code>Œ!©Ụ€ịị"®⁸e
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///oJMVDKx/uXvKoac3D3d1ApHRo3aPGHan/Dy830o/8/z/aMFYHhBWiDXWMgEwjHTAHTME4JjqGOsZgWRMdIxAbJGgMZpqABcFsqDYgx0THVMdcxwxkMFjKFChipmMeCwA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>Œ!©Ụ€ịị"®⁸e  Main link. Left argument: x. Right argument: y

Œ!©          Take all permutations g of x. Copy the result to the register.
   Ụ€        Grade up each; sort the indices of each permutation g by their
             corresponding values. For permutations of [1, ..., n], grading up
             essentially computes the inverse, g⁻¹.
     ị       Let each g⁻¹ index into y, computing g⁻¹y.
      ị"®    Let the results index into the corresponding g, computing g⁻¹yg.
         ⁸e  Test if x occurs in the result.
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Perl, <s>61</s> <s>58</s> 57 bytes</h1>

<p>Includes <code>+2</code> for <code>ap</code></p>

<p>Give 0-based permutations as 2 lines on STDIN</p>

<pre><code>perl -ap '$_=[@1]~~[@1=map{-grep$_-$G[$i++%@G],@F=@G[@F]}@G=@F,0]'
3 0 2 1
3 1 0 2
^D
</code></pre>

<p>Algorithm is a minor variation on the one in <a href="https://codegolf.stackexchange.com/a/155906/51507">xnor's solution</a></p>

<p>This older version of the code hits a perl bug and dumps core for several inputs on my latest perl <code>5.26.1</code>, but it works on an older perl <code>5.16.3</code>. </p>

<pre><code>@{$.}=map{-grep$_==$F[$i++%@F],@G=@F[@G]}@G=@F,0}{$_=@1~~@2
</code></pre>

<p>It's possibly yet another instance of my old perlgolf enemy, the fact that perl doesn't properly refcount its stack.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 44 bytes</h1>

<pre><code>Equal@@(PermutationCycles[#,Sort[0#]&amp;]&amp;/@#)&amp;
</code></pre>

<p><a href="https://tio.run/##Pc09C8IwEIDhvb/iaCAonNSmH05KQNwLjiVDKC0W@oE1HaTkt8ezNi4h9z4J12vzqHtt2kq7Bs7gbs9Zd1LuinrqZ0MwDtd31dWvkuF9nEx5ZIorHkm2566Y2sEQQAiHC4QITcmUAg6RDGBZltgi0GExABpjBPENAuHfUrojJJvQJH7Be@JLuvkWvAv/nyhDOCHk607/MFslJ7HWug8" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>

<hr>

<h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 44 bytes</h1>

<pre><code>x_±y_:=Or@@(#[[x]]==y[[#]]&amp;/@Permutations@x)
</code></pre>

<p>Using CP-1252 encoding, where <code>±</code> is one byte.</p>

<p><a href="https://tio.run/##PY1dCsIwDIDfd4pgYShEZN2PIEx6A/deyhgycA@dMCtsjB5qV9jFaqyrEPLzfQnRjXm0ujHdvXFurNdlqi/lbRBiz6QclSrLSUqmVHwSVTvot6HVZ/8S48FVQ9cbyRB2PhinAser72FdCCiIQQgRwTzPiUWgZDECGhME/gV082cZ9QjpZmjiPxB8Gki2@Q0Ez8M9qRzhjFD4n2Ex96YgY611Hw" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>20</s> <s>19</s> <s>17</s> 16 bytes</h1>
<pre><code>xY@!&quot;&amp;G@)@b)X=va
</code></pre>
<p>Input: two column vectors (using <code>;</code> as separator). Output: <code>1</code> if conjugate, <code>0</code> if not.</p>
<p><a href="https://tio.run/##y00syfn/vyLSQVFJzd1B0yFJM8K2LPH//2gTawVDawVjawWjWC4QxwjCjwUA" rel="nofollow noreferrer">Try it online!</a> Or <a href="https://tio.run/##y00syfmf8L8i0kFRSdfQ3cDdQdMhSTPCtizxf6xLyP9ow1guCLZWMAJSRtYKhhiUCZCyVjCGqAByjCB8IMcYxjGByED5UK1gPlDU1FrB3FrBDGILRIkpWMIMKBELAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<h3>Explanation</h3>
<p>No theorems about permutations used (out of sheer ignorance); just brute force and these two facts:</p>
<ul>
<li><p>For two permutations <b>p</b> and <b>q</b>, the composition <b>pq</b> is equivalent to using <b>p</b> to index the elements of <b>q</b>.</p>
</li>
<li><p>The condition <b>x</b> = <b>gyg</b><sup>−1</sup> is equivalent to <b>xg</b> = <b>gy</b>.</p>
</li>
</ul>
<p>Commented code:</p>
<pre><code>x      % Implicitly input first permutation, x. Delete it. Gets copied into clipboard G
Y@     % Implicitly input second permutation, y. Push a matrix with all permutations
       % of its elements, each permutation on a different row. So each matrix row is
       % a permutation of [1 2 ...n], where n is the size of y
!      % Transpose. Now each permutation is a column
&quot;      % For each column
  &amp;G   %   Push x, then y
  @    %   Push current column. This is a candidate g permutation
  )    %   Reference indexing. This gives g composed with y
  @    %   Push current column again
  b    %   Bubble up. Moves x to the top of the stack
  )    %   Reference indexing. This gives x composed with g
  X=   %   Are they equal as vectors? Gives true or false
  v    %   Concatenate stack so far. The stack contains the latest true/false result
       %   and possibly the accumulated result from previous iterations
  a    %   Any: gives true if any element is true. This is the &quot;accumulating&quot; function
       % Implicit end. Implicit display
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 9 bytes</h1>

<pre><code>¤¦ṠmöLU¡!
</code></pre>

<p>Returns <code>1</code> for conjugate and <code>0</code> for non-conjugate.
<a href="https://tio.run/##yygtzv7//9CSQ8se7lyQe3ibT@ihhYr///@PNtIx1DHWMdEx1THXMYv9Hw3iGQF5JjpmOuaxAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<p>The conjugacy class of a permutation <strong>P</strong> of <strong>L =
 [1,2,..,n]</strong> is determined by the multiset containing the least period of each number in <strong>L</strong> under <strong>P</strong>.
When <strong>P</strong> is taken in list format, I can replace <strong>L</strong> with <strong>P</strong> and get the same multiset.
The program computes the corresponding multiset for each input and checks if one is a sub-multiset of the other.
Since they have the same number of elements, this is equivalent to being the same multiset.</p>

<pre><code>¤¦ṠmöLU¡!  Implicit inputs: two lists of integers.
¤          Apply one function to both and combine with another function.
  ṠmöLU¡!  First function. Argument: a list P.
  Ṡm       Map this function over P:
       ¡!  iterate indexing into P,
      U    take longest prefix with unique elements,
    öL     take its length.
 ¦         Combining function: is the first list a subset of the other, counting multiplicities?
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 87 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda P,k:k&lt;1or len({sum([x==eval('L['*k+'x'+']'*k)for x in L])for L in P})&amp;f(P,k-1)
</code></pre>

<p><a href="https://tio.run/##TcyxDoIwFIXhvU/RybZyTSyIg7EDsDKwNx0w0kCAQhBNjfHZa@ui25f/ntz5ubaTiZ3TYqjHy7XGFfSn/synBQ@Noa/bfaTSCtE86oGSUpJtHxFLIqK8mPYzizuDS/V1GVy92UZT/2fHmcuE5BDDHg6QQKpQLmTiHUoKXKHid08hUciII5qXzqxYU5pBzsCw/1CE4D4" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Takes input with <code>P</code> as a pair of both permutations and <code>k</code> their length. Outputs <code>1</code> for conjugates and <code>0</code> not.</p>

<p>This uses the result:</p>

<blockquote>
  <p>Two permutations <strong>x</strong> and <strong>y</strong> are conjugate exactly if their <strong>k</strong>-th powers <strong>x<sup>k</sup></strong> and <strong>y<sup>k</sup></strong> have an equal number of fixed points for every <strong>k</strong> from <strong>0</strong> to <strong>n</strong>.</p>
</blockquote>

<p>Two conjugate permutations satisfy this because their <strong>k</strong>-th powers are also conjugate, and conjugacy preserves the count of fixed points. </p>

<p>It's less obvious that any two non-conjugate permutations always differ. In particular, conjugacy is determined by the sorted list of cycle lengths, and these can be recovered from the counts of fixed points. One way to show this is with linear algebra, though it might be overkill. </p>

<p>Let <strong>X</strong> be the permutation matrix for <strong>x</strong>. Then, the number of fixed points of <strong>x<sup>k</sup></strong> is <strong>Tr(X<sup>k</sup>)</strong>. These traces are the <a href="https://en.wikipedia.org/wiki/Power_sum_symmetric_polynomial" rel="noreferrer">power sum symmetric polynomials</a> of the eigenvalues of <strong>X<sup>k</sup></strong> with multiplicity. These polynomials for <strong>k</strong> from <strong>0</strong> to <strong>n</strong> let us recover the corresponding <a href="https://en.wikipedia.org/wiki/Elementary_symmetric_polynomial" rel="noreferrer">elementary symmetric polynomials</a> of these eigenvalues, and therefore the characteristic polynomial and so the eigenvalues themselves. </p>

<p>Since these eigenvalues are roots of unity corresponding to the cycles of <strong>x</strong>, from these we can recover the cycle sizes and their multiplicities. So, our "signature" identifies the permutation up to conjugation.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/155900/">155900</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




