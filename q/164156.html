<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::164156</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>113</td><td>Tcl</td><td>180504T161520Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164184#164184">sergiol</a></td></tr>
<tr d-ix="1"><td>038</td><td>Juby</td><td>230712T193954Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/262730#262730">Jordan</a></td></tr>
<tr d-ix="2"><td>016</td><td>APL Dyalog Unicode</td><td>201223T203011Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/216847#216847">Kamila S</a></td></tr>
<tr d-ix="3"><td>056</td><td>Julia 0.6</td><td>180702T151054Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/167724#167724">Sundar R</a></td></tr>
<tr d-ix="4"><td>013</td><td>Japt</td><td>180504T152638Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164176#164176">Shaggy</a></td></tr>
<tr d-ix="5"><td>033</td><td>Gol><></td><td>180514T005338Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164733#164733">Bubbler</a></td></tr>
<tr d-ix="6"><td>136</td><td>Befunge</td><td>180513T234348Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164728#164728">Gegell</a></td></tr>
<tr d-ix="7"><td>129</td><td>Java 8</td><td>180507T070614Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164290#164290">Kevin Cr</a></td></tr>
<tr d-ix="8"><td>057</td><td>Ruby</td><td>180504T201720Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164198#164198">Kirill L</a></td></tr>
<tr d-ix="9"><td>109</td><td>R</td><td>180504T144948Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164173#164173">ngm</a></td></tr>
<tr d-ix="10"><td>060</td><td>Python 2</td><td>180504T133309Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164163#164163">Dennis</a></td></tr>
<tr d-ix="11"><td>175</td><td>F#</td><td>180505T150301Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164237#164237">Ciaran_M</a></td></tr>
<tr d-ix="12"><td>008</td><td>Gaia</td><td>180504T142617Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164169#164169">Mr. Xcod</a></td></tr>
<tr d-ix="13"><td>018</td><td>Charcoal</td><td>180504T191813Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164196#164196">Neil</a></td></tr>
<tr d-ix="14"><td>061</td><td>Perl 5 p</td><td>180504T210528Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164199#164199">Xcali</a></td></tr>
<tr d-ix="15"><td>093</td><td>PowerShell Core</td><td>180504T180524Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164190#164190">Jeff Fre</a></td></tr>
<tr d-ix="16"><td>049</td><td>Perl 6</td><td>180504T181728Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164193#164193">Sean</a></td></tr>
<tr d-ix="17"><td>7163</td><td>Haskell</td><td>180504T144208Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164171#164171">Angs</a></td></tr>
<tr d-ix="18"><td>010</td><td>Stax</td><td>180504T133436Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164164#164164">Multi</a></td></tr>
<tr d-ix="19"><td>007</td><td>05AB1E</td><td>180504T135948Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164166#164166">Emigna</a></td></tr>
<tr d-ix="20"><td>089</td><td>PHP 7</td><td>180504T152839Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164177#164177">Titus</a></td></tr>
<tr d-ix="21"><td>060</td><td>JavaScript ES6</td><td>180504T131824Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164158#164158">Arnauld</a></td></tr>
<tr d-ix="22"><td>011</td><td>Pyth</td><td>180504T142252Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164168#164168">Mr. Xcod</a></td></tr>
<tr d-ix="23"><td>013</td><td>MATL</td><td>180504T132922Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164161#164161">Stewie G</a></td></tr>
<tr d-ix="24"><td>007</td><td>Husk</td><td>180504T133104Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164162#164162">Erik the</a></td></tr>
<tr d-ix="25"><td>008</td><td>Jelly</td><td>180504T130605Z</td><td><a href="https://codegolf.stackexchange.com/questions/164156/the-add-multiply-add-sequence/164157#164157">Erik the</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://tcl.tk/" rel="nofollow noreferrer">Tcl</a>, 113 bytes</h1>
<pre><code>proc S n {set r [expr $n*($n+1)/2]
while \$r&gt;9 {set r [join [split [expr [join [split $r &quot;&quot;] *]] &quot;&quot;] +]}
expr $r}
</code></pre>
<p><a href="https://tio.run/##VY69DoIwAIT3PsWFdFAYLH8BHHwCNkboQLCJNaU0pUYTwrMjitF4yyVf7i7nOrUsxg4dKmhMo3CwqMXDWFDt76gOwv0h4uR@kUqgofZUfFPXQWrUo1HSfSp/iFp4HofP@dsDPpNt186L1J2FJE72ApNqjRH6jBL1xvmMiJEfDqM4QcxYipSxDEWeJsjSPCkQspcIUX1r1v@0xGRubly/HxvU1ep8Xp4" rel="nofollow noreferrer" title="Tcl – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/cyoce/J-uby" rel="nofollow noreferrer">J-uby</a>, 38 bytes</h1>
<p>This is me resisting forking J-uby to add a bunch of single-character aliases for useful functions.</p>
<pre class="lang-ruby prettyprint-override"><code>:+|:sum|:!~&amp;((d=:digits)|:/&amp;:*|d|:sum)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m700K740qXLBIjfbpaUlaboWN9WstGusiktza6wU69Q0NFJsrVIy0zNLijVrrPTVrLRqUsCymlDVdgUKbtGGRsYmsVwglrGBgSmEZWpgYA5hWVqYQmXNTS1MLCFMQwMQiIWYsmABhAYA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<pre><code>:+ | :sum | :!~ &amp; ((d = :digits) | :/ &amp; :* | d | :sum)

:+ | :sum |                                             # Range 1..n, then sum, then
            :!~ &amp; (                                  )  # Until a fixed point is reached...
                  ((d = :digits) |                      #   Get digits (while saving the function to d for later), then
                                   :/ &amp; :* |            #   Reduce with product, then
                                             d | :sum   #   Get digits, then sum
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 16 bytes</h1>
<p>-4 thanks to @user</p>

<pre class="lang-apl prettyprint-override"><code>f←{⍎¨⍕×/⍎¨⍕+/⍵}⍣≡⍳
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///P@1R24TqR719h1Y86p16eLo@jKkNZG2tfdS7@FHnwke9m4EKFcxNLUwsudIUDA1AAAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.6</a>, 56 bytes</h1>



<pre class="lang-julia prettyprint-override"><code>f(n,k=(n+1)n÷2)=k&gt;9?f(0,sum(digits(prod(digits(k))))):k
</code></pre>

<p><a href="https://tio.run/##yyrNyUw0@/8/TSNPJ9tWI0/bUDPv8HYjTdtsO0v7NA0DneLSXI2UzPTMkmKNgqL8FBg7WxMErLL/5yYWACUy80py8h51zEjTUdAwNDI20VEwNjAw1VEwNTAw11GwtDAFipibWphY6igYGoCApuZ/AA" rel="nofollow noreferrer" title="Julia 0.6 – Try It Online">Try it online!</a></p>

<p>Pretty straightforward: calculate <code>(n+1)n÷2</code> for sum from 1..n, check if it's a single digit number (<code>&gt;9</code>), if it's not, try again with k set to the sum of the digits of the product of the digits of k, else return k. </p>
</div>
<div id="pu4" class="pu"><h1>Japt, <s>16</s> <s>14</s> 13 bytes</h1>
<pre><code>_ì ×ìx}gN®õ x
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.5&amp;code=X+wg1+x4fWdOrvUgeA==&amp;input=OTg1NA==" rel="nofollow noreferrer">Try it</a></p>
<hr />
<h2>Explanation</h2>
<pre><code>                  :Implicit input of integer U
         ®        :Map
        N         :The array of inputs (which just contains U)
          õ       :  Range [1,U]
            x     :  Reduce by addition
_     }g          :Take the last element of N, run it through the following function and push the result to N
                  : Repeat U times and then return the last element of N
 ì                :  Split to an array of digits
   ×              :  Reduce by multiplication
    ìx            :  Split to an array of digits and reduce by addition
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Sp3000/Golfish" rel="nofollow noreferrer">Gol>&lt;></a>, <sub><s>35</s></sub> 33 bytes</h1>

<pre><code>1AY:P*2,TYMR*YR+:a(?Bt
:a(qlBaSD$
</code></pre>

<p><a href="https://tio.run/##S8/PScsszvhv6Oju6Wrt7vffyDHSKkDLSCcyxzdIKzInSNsqUcPeySJIkQvMSAx2Ufn/34jLmMuEy5TLjMucy4LLksvQgMvQyNiEy9jAwJTL1MDAnMvSwtSEy9zUwgQkCQIA" rel="nofollow noreferrer" title="Gol&gt;&lt;&gt; – Try It Online">Try it online!</a></p>

<p>-2 bytes by Jo King.</p>

<p>Extensive use of functions and implicit infinite loops.</p>

<h3>Example full program &amp; How it works</h3>

<pre><code>1AGIE;GN
2AY:P*2,YlMR*YlR+:a(?B8R!
:a(?BaSD$

&lt;main program&gt;
1AG       Register row 1 as function G
   IE;    Take number input; halt on EOF
      GN  Call G and print the result as number
          Repeat indefinitely

&lt;function G&gt;
2AY            Register row 2 as function Y
   :P*2,       Sum of 1 to n
        Y      Call Y (break into digits)
         lMR*  Product
Y              Call Y
 lR+           Sum (an implicit zero is used)
    :a(?B      Return if the result is less than 10
         8R!   Skip initial 8 commands
               Repeat indefinitely

&lt;function Y&gt;
:a(?B      Return if the top is less than 10
     aSD   Divmod by 10; [... n] =&gt; [... n/10 n%10]
        $  Swap top two, so the "div" goes to the top
</code></pre>
</div>
<div id="pu6" class="pu"><h1>Befunge, 136 bytes</h1>

<pre><code>101p&amp;::*+2/&gt;:82+%01g*01p82+/:#v_$01gv
X      v_v# #:/+82p10+g10%+82: &lt;p100&lt;
v:g10$ &gt;#&lt;#^                 #&lt;^
&gt;82+/#v_.@
      &gt;101p^
</code></pre>

<p>You can <a href="http://www.quirkster.com/iano/js/befunge.html" rel="nofollow noreferrer">try it here</a>.</p>

<p>While not all interpreters have a large enough cell size, it works with small numbers for pretty much anyone out there. For a larger number of <code>n</code> you might need a interpreter like <a href="https://www.mikescher.com/programs/view/BefunUtils" rel="nofollow noreferrer">BefunExec</a>.</p>
</div>
<div id="pu7" class="pu"><h1>Java 8, 129 bytes</h1>

<pre class="lang-java prettyprint-override"><code>n-&gt;{long r=1,i=n;for(;i&gt;1;r+=i--);for(;r&gt;9;r=(i+&quot;&quot;).chars().map(p-&gt;p-48).sum(),i=1)for(int s:(r+&quot;&quot;).getBytes())i*=s-48;return r;}
</code></pre>
<p><a href="https://tio.run/##bVGxboMwEN37FadMdikISFBCXDN0b5aMbQeXkPRSMMg2kaKIb6c2UIlIsWxL7/zu7r3zWVyEfz789nkptIZ3gfL2BIDSFOoo8gJ2DgKUtTxBTmwcJGU21NljtzbCYA47kMChl352G5iKRy/IJTvWijDMIqY8jr5Px4DKUqY4QW@xoEH@I5QmNKhEQxo/a/zVhga6rQi1FSLqElxXvSVq4J8K83Y1hU2h@My1pTNVmFZJUKzr2Sirab9LK2tSd6nxAJW1RvZGoTx9fIGgo6//8shjBvgau9vz6PAGYNsYgoPfCUTxcjXHyzBM5jgJw/Ucp5vkjr9ONqv0rmDo1oORDqJHAU7fpHd/1aaogro1QWOtmFK6MW4/zcKTgf0fOlXq@j8" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{            // Method with integer parameter and long return-type
  long r=1,     //  Result-long, starting at 1
       i=n;     //  Temp integer, starting at the input `n`
  for(;i&gt;1;     //  Loop as long as `i` is not 1 yet
      r+=i--);  //   And increase `r` by `i`
  for(;r&gt;9      //  Loop as long as `r` is not a single digit yet
      ;         //    After every iteration:
       r=(i+&quot;&quot;).chars().map(p-&gt;p-48).sum(),
                //     Set `r` to the sum of digits of `i`
       i=1)     //     And reset `i` to 1
    for(int s:(r+&quot;&quot;).getBytes())i*=s-48;
                //    Set `i` to the product of the digits of `r`
  return r;}    //  Return `r` as result
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 57 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;n{("*+"*n).chars.reduce(-~n*n/2){|x,y|eval x.digits*y}}
</code></pre>

<p><a href="https://tio.run/##FcHdCoMgGADQVxEhKPflzJTqol4kumhlKxgy/BlFtld37BzjH0dc2ph3@kwxuWGiMzqto7HUqNlPKs2/mug7z86wwxHUZ3yhnc7bc3OWHNcVe8Ip5QUUvBRQMiZBMlZBU0sBlaxFAwX7G6gap/UMLqC3dxbhxKK2Q4nFSe8ALb0bhiv@AA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>152 130</s> 109 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(w,x=w*(w+1)/2,y=prod(d(x)),z=sum(d(y)))"if"(z&gt;9,f(,z),z)
d=function(x)x%/%10^(0:max(0,log10(x)))%%10
</code></pre>

<p><a href="https://tio.run/##PYzLCoMwEEX3/QoRhJk6xUlM8EHTTymIkiL4QitGfz7VTc/qci6c2dvg@Qi8XYf6244DbOTMdoctFphI2s00jw004BDpMMvan3tHxLC1IRyvgizQcV54a8y/4dBFSST4DVz2lQOmbvwIviIYnd4v1TR1O9QgSylIyFRRyqxJM2dU5FpRpnNVkOALpMCi9z8" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>@Giuseppe found <s>21</s> 42 bytes with various R things I'm not used to yet, along with a way to get the digits of a number without coercing to string and back, and with fewer bytes!</p>

<pre class="lang-r prettyprint-override"><code># Old
d=function(x)strtoi(el(strsplit(paste(x),"")))
# New
d=function(x)x%/%10^(0:max(0,log10(x)))%%10
</code></pre>

<p><code>options(scipen=9)</code> <s>is</s> was required for the case of 9854 for the old function, because the first product stage ends up as 80000, which R prints as 8e+05. </p>
</div>
<div id="pu10" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>77</s> <s>72</s> <s>71</s> <s>62</s> 60 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda n:reduce(lambda x,c:eval(c.join(`x`)),'*+'*n,-n*~n/2)
</code></pre>

<p><em>Thanks to @xnor for golfing off 2 bytes!</em></p>

<p><a href="https://tio.run/##LchLDoIwFEbhsa7inxBauGgpII9EN6ImIBTF4IUQMDhx66iJZ/ad/jXeOtZLjT1OS1s8LlUBzgZTTaURf89UZuZZtKLc3LuGRT7nUpLtuLbD5LHz5q2WS90NYDSMoeCrEZqgtYSLo6@DkBAoFREipWJCmkTfE0dJmBJ89eucrVf90PAI29pN8A42LDChFiyXDw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h2>F#, 175 bytes</h2>
<pre><code>let d n=seq{for i in(string n).ToCharArray() do yield string i|&gt;uint64}
let c n=
 let mutable r=Seq.sum{1UL..n}
 while r&gt;9UL do r&lt;-d r|&gt;Seq.reduce(fun a x-&gt;x*a)|&gt;d|&gt;Seq.sum
 r
</code></pre>
<p><a href="https://tio.run/##LY7BasMwEETv@oolULALNnJjNzHEglJ6y6HQ5lR6UC05Edhys5ZamzjfrkpO97AM7MzbaYak7lE610oDAnQ1yPOl6REUKB0NBpU@go7T9/75xPEJkU9RDKKHSclWwL9BzcwqbR7zKwmc2nMIBNVZw79aCVi9yXM62O6SHfZpqq8Efk8qHFh52Ace7hIBOLPgQylsLaPGauAwJmy85/HMxO3oIQTQfexetMHptfd/2efytuPKB/D4AxUQCF5lJMLCGSFhcOvo9cx8R7@@fXvTaFjd2VW8RAlQ57KHde7WlBauoHTjym2Ru02xzUuX0TB/" rel="nofollow noreferrer">Try it online!</a></p>
<p>The only caveat to the function is that the input value must be of type <code>uint64</code>.</p>
<p>Ungolfed it's a little like this:</p>
<pre><code>let d n=seq{for i in(string n).ToCharArray() do yield string i|&gt;uint64}

let c n =
 let mutable r = Seq.sum {1UL..n}
 while r &gt; 9UL do
  r&lt;-d r
  |&gt; Seq.reduce(fun a x-&gt;x*a)
  |&gt; d
  |&gt; Seq.sum
 r
</code></pre>
<p>The function <code>d n</code> converts the number <code>n</code> into its component digits. It first converts to a string, then gets each character in the string. Each character must then be converted back into a string, otherwise the characters will be converted to their ASCII values instead of their &quot;real&quot; values.</p>
<p>The <code>c n</code> function is the main function, with <code>n</code> as the initial value. In this function <code>r</code> is our running value. The <code>while</code> loop does the following:</p>
<ul>
<li>Convert <code>r</code> into its component digits (<code>d r</code>).</li>
<li>Get the product of all those digits. This uses <a href="https://msdn.microsoft.com/visualfsharpdocs/conceptual/seq.reduce%5b%27t%5d-function-%5bfsharp%5d" rel="nofollow noreferrer"><code>Seq.reduce</code></a> which takes a function with the accumulated value (<code>a</code>) and the next value in the sequence (<code>x</code>) and in this case returns the product. The initial value is the first element in the sequence.</li>
<li>Convert this product value into its component digits (<code>d</code>).</li>
<li>Sum the digits from before, and assign this to <code>r</code>.</li>
</ul>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/splcurran/Gaia" rel="nofollow noreferrer">Gaia</a>, 8 bytes</h1>

<pre><code>┅⟨Σ₸∨Π⟩°
</code></pre>

<p><a href="https://tio.run/##ASEA3v9nYWlh///ilIXin6jOo@KCuOKIqM6g4p@pwrD//zEyMzQ" rel="nofollow noreferrer" title="Gaia – Try It Online">Try it online!</a></p>

<p>The old explanation (before fixing a bug that is Gaia’s fault IMO :P):</p>

<pre>
┅⟨ΣΠ⟩° – Full program. N = The input.
┅      – Range. Push [1, N] ⋂ ℤ to the stack.
 ⟨  ⟩° – While no two consecutive iterations yield the same result, do:
  Σ    – Sum (or digital sum, when applied to an integer).
   Π   – Digital product.
</pre>

<p>Saved 1 byte thanks to <a href="https://codegolf.stackexchange.com/users/12012/dennis">Dennis</a>.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 18 bytes</h1>

<pre><code>≔Σ…·¹ＮθＷ›θ⁹≔ΣΠθθＩθ
</code></pre>

<p><a href="https://tio.run/##S85ILErOT8z5/9@xuDgzPU8juDRXwzMvOae0OLMsNSgxLz1Vw1BHwTOvoLTErzQ3KbVIQ1NTU0ehUNOaqzwjMydVQcO9KDWxBCheqKNgqampgGROQFF@SmlyiUYhTEdAUWZeiYZzYjFYzPr/f3NTCxPL/7plOQA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>

<pre><code>≔Σ…·¹Ｎθ
</code></pre>

<p>Sum the integers up to the input.</p>

<pre><code> Ｗ›θ⁹≔ΣΠθθ
</code></pre>

<p>While the result is greater than 9, take the sum of digits of the product of digits.</p>

<pre><code>Ｉθ
</code></pre>

<p>Cast the result to string and implicitly print it.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-p</code>, 61 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>$_*=$_/2+.5;$_=eval((eval s/./$&amp;*/gr.1)=~s/./+$&amp;/gr)while$_&gt;9
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/18lXstWJV7fSFvP1Fol3ja1LDFHQwNEKhTr6@mrqGnppxfpGWra1oG42ipqQK5meUZmTqpKvJ3l//@GBv/yC0oy8/OK/@sWAAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell Core</a>, <strike>91 101</strike> 93 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>Function F($a){$o=$a*($a+1)/2;1,2|%{$o=[char[]]"$([char[]]"$o"-join'*'|iex)"-join'+'|iex};$o}
</code></pre>

<p><a href="https://tio.run/##TVBta4MwEP5sfsUhKU3q2cW3qojQL/MX7JuUIS6jDjGdWlZQf7vTbGt3HMfz3CVP7slFfcm2O8u6tkvVynnOrk3ZV6qBjNGCD1SltNgt0HL4k5s46I6btZmX56LNTyeTsgdUpv2hqma7246VvPFfZmk2JVRND/UX2fVkIAYt0iPjxMirpl80mLvfuw63jsxxPR89IQIMhAgxjgIfwyDyY3TEGhxG2MAAtIB0LRawDOgrT2AixqIrbxdZ9vJtmZoewgFBIAQILkKIEP8Djq5CZ6xPhn/0oDuevhjpFCYxqndYPkSbMxFMsOUn3N/j6059e5UwwXPdyZ8VJzIRsnqevwE" rel="nofollow noreferrer" title="PowerShell Core – Try It Online">Try it online!</a></p>

<p>Ungolfed a little...</p>



<pre class="lang-powershell prettyprint-override"><code>Function F ($a)
{
    $o=$a*($a+1)/2;
    1..2 | % {
        $o = [char[]]"$o"-join '*' | iex;
        $o = [char[]]"$o"-join '+' | iex;
    }
    $o | Write-Output
}
</code></pre>

<p>First steps were to split the integers into digits -- did this by splitting the integer into an array of <strike>strings</strike>characters.  Afterwards, insert the operand, and then evaluate the string as a command.  Then, it's a matter of doing the multiple-add cycle until the input is one digit.</p>

<p><code>iex</code> is an alias for <code>Invoke-Command</code> which evaluates a string passed into the first param position.</p>

<p>Edit:  As requested by <a href="https://codegolf.stackexchange.com/users/42963/admborkbork">@AdmBorkBork</a>, I have added a function header to the byte count.  Also, I did a little math and realized that an upper bound on the number of iterations is <code>&lt; log log 10^6 &lt; log 6 &lt; 2</code>, so that saved another six bytes.</p>

<p>Edit x2:  <a href="https://codegolf.stackexchange.com/users/42963/admborkbork">@AdmBorkBork</a> found a more terse way of converting the integer into a math expression, and then suggested piping it into <code>iex</code>.  This saved 8 bytes.  Thank you!</p>
</div>
<div id="pu16" class="pu"><h1><a href="http://perl6.org/" rel="nofollow noreferrer">Perl 6</a>, 49 bytes</h1>

<pre><code>{($_*.succ/2,{[+] ([*] .comb).comb}...9&gt;=*).tail}
</code></pre>

<p><a href="https://tio.run/##HcTRCoIwGAbQV/kQCV3xN3VLB20vIjJsNBAUQ@tCxp59UefivJ7bfEvLgZOHTqHILaP949y1voT@PKDo2QBy6/Io/0ciUkazkt7jNMe0jwey3EIbBI/cxgx@3XCv6kag4VxCct5CdVKglZ1QqPiPSV8" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>72</s> 71 63 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>g=map(read.pure).show
f n=until(&lt;10)(sum.g.product.g)$sum[1..n]
</code></pre>

<p>Thanks to @BMO for a byte and @nimi for 8 bytes!</p>

<p><a href="https://tio.run/##FchBDoMgEADAe1@xBw@YkM1SJdZE@hHjgVRFUkCCkD6ftnOcQ1/vzblajfI6srTpFWNJW4vXcX5uOwRVQraOTYJadhWPBmM61/LKaNrmF7NADEv12gZQEJMNGRrYYWqeMIt71/OOSHJJNPBBPvqRC/pb6hc" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, <s> 14 </s> <s> 13 </s> 10 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>ñu┌↕a√äJ²┐
</code></pre>

<p><a href="http://stax.tomtheisen.com/#p=a475da1261fb844afdbf&amp;i=1234%0A&amp;a=1" rel="nofollow noreferrer">Run and debug it</a></p>

<p>Was pretty fun to make. I wonder if there is a more concise way to do the comparison at the end.</p>

<p><strong>Explanation</strong></p>

<pre><code>|+wE:*E|+c9&gt;                 # Full Program Unpacked
|+                           # Create range and sum it
   wE:*                      # Start loop, digitize number, product of digits
       E|+                   # Digitize number, sum digits
          c9&gt;                # Duplicate, check length is = 1
                             # Otherwise loop back to the 'w' character
</code></pre>

<p>-1 bytes thanks to ovs</p>

<p>-3 bytes thanks to Scrooble</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 7 bytes</h1>

<pre><code>LOΔSPSO
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f/fx//clOCAYP///81NLUwsAQ" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p><strong>Exlpanation</strong></p>

<pre><code>L         # push range [1 ... input]
 O        # sum range
  Δ       # loop until top of stack stops changing
   SP     # product of digits
     SO   # sum of digits
</code></pre>
</div>
<div id="pu20" class="pu"><h1>PHP 7, 89 bytes</h1>
<pre class="lang-php prettyprint-override"><code>for($a=$argn*-~+$argn/2;$a&gt;9;)$a=array_sum(($s=str_split)(array_product($s($a))));echo$a;
</code></pre>
<p>Run as pipe with <code>-r</code> or <a href="http://sandbox.onlinephpfunctions.com/code/d941fd16493db3862b495c31fb417589bf084271" rel="nofollow noreferrer">try it online</a>.</p>
<ul>
<li>PHP always takes input as string, so I have to use <code>+</code> to cast to int for <code>~</code> to work as wanted.</li>
<li>Pre-increment would not work: no matter where I put it, it would effect both operands.</li>
<li>But: It doesn´t matter if the single digit takes place before or after the iteration (additional iterations wouldn´t change a thing); so I can use <code>for()</code> instead of <code>do ... while()</code>.</li>
<li>PHP 7 or later is required for the inline assignment of the function name.<br />
Older PHP requires one more byte: <code>for($s=str_split,$a=...;$a&gt;9;)$a=array_sum($s(...));</code><br />
(Not assigning <code>str_split</code> to a variable at all would waste another byte.)</li>
</ul>
</div>
<div id="pu21" class="pu"><h1>JavaScript (ES6), 60 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(n,k=n*++n/2)=&gt;k&gt;9?f(!n,eval([...k+''].join('*+'[+!n]))):k
</code></pre>
<p><a href="https://tio.run/##FY5BboMwFET3PYWzsh1PXX@DAyQyXfUUiIVFoE1A31US5fokjDSLp9GT5pqe6T7cLv@PT87ncV2nqBhz5L0x/OV1bOe2@Z7UjjE@06I6a@1spOztNV9Yyb2Rndlxr7U@zuup8yhQIuCACjUakAMRyIMKUAkKoAOoAtWgBt7Bb2tRonAuIDhXoQp1uYlb@g875dtPGv4Ui9iKIfM9L6Nd8q@SSUlhBL8rtYhig0nx@8n6Ag" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (                     // f = recursive function taking:
  n,                      //   n = original input
  k = n * ++n / 2         //   k = current value, initialized to sum(i=1..n)(i)
) =&gt;                      //
  k &gt; 9 ?                 // if k has more than 1 digit:
    f(                    //   recursive call to f() with:
      !n,                 //     a logical NOT applied to n
      eval(               //     the result of the expression built by:
        [...k + '']       //       turning k into a list of digits
        .join('*+'[+!n])  //       joining with '*' on even iterations or '+' on odd ones
      )                   //     end of eval()
    )                     //   end of recursive call
  :                       // else:
    k                     //   stop recursion and return the last value
</code></pre>
<hr />
<h1>Alternate version, 59 bytes (non-competing)</h1>
<p>A non-recursive version that only works for <strong>n &lt; 236172</strong>. (It covers the requested range but does not qualify as a valid generic algorithm.)</p>
<pre class="lang-javascript prettyprint-override"><code>n=&gt;[...'*+*+'].map(o=&gt;n=eval([...n+''].join(o)),n*=++n/2)|n
</code></pre>
<p><a href="https://tio.run/##FYtBboMwFET3OYV3tvHU9Tc4EEVm11NEWVgEWiL6jUiUVe9O45FmMe9p7umVHsM2r88Pzrdxn@LOsb9Ya2VlKiOv9jetKsee4/hKiyqGjXzze55ZZa3BVTSGP73@4/188ajRIOCIFh1OIAcikAfVoAYUQEdQC@pAJ3gHX2zdoHYuIDjXog1dU44l14Od8vaVhh/FIvZiyPzIy2iX/K1kUlIYwe9KLaIoY1Kstd7/AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://pyth.readthedocs.io" rel="nofollow noreferrer">Pyth</a>, 11 bytes</h1>
<pre><code>usj*FjGTTsS
</code></pre>
<p><a href="https://pyth.herokuapp.com/?code=usj%2aFjGTTsS&amp;input=1234&amp;test_suite=1&amp;test_suite_input=1234%0A3005%0A5007%0A75849%0A100000&amp;debug=0" rel="nofollow noreferrer">Try it here!</a></p>
<pre>
usj*FjGTTsS – Full program. N = The input.
          S – Range. Yield [1, N] ⋂ ℤ.
         s  – Sum.
u           – While no two consecutive iterations yield the same result, do (var: G):
   *FjGT    – Digital product.
 sj     T   – Digital sum.
</pre>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>15</s> 13 bytes</h1>

<p>In tribute to the <a href="https://codegolf.meta.stackexchange.com/questions/16337/language-of-the-month-for-may-2018-matl?cb=1">Language of the month</a>:</p>

<pre><code>:`sV!UpV!Utnq
</code></pre>

<p><a href="https://tio.run/##y00syfn/3yqhOEwxtACIS/IK//83NjAwBQA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>

<p>I don't think there's a simpler way to get the digits of a number than to convert the number to a string <code>V</code>, then transposing it <code>!</code>, and converting this vertical vector back to a numeric one <code>U</code>.</p>

<p>Saved 2 bytes thanks to the Creator<sup>1</sup> himself! I forgot the implicit end, meaning I could remove <code>]</code>, and instead of comparing the number of elements with <code>1</code>, I could simply decrement that value and use it as a boolean directly.</p>

<p>So, the explanation goes like this:</p>

<pre><code>                 % Grab input n implicitly
:                % Range from 1 ... n inclusive
 `               % Do ... while
  s               % sum the vector
   V!U            % Convert the number to digits
      p           % Take the product of these digits
       V!U        % Convert the product into digits
          t       % Duplicate the result
           n      % Count the number of elements
            q     % Decrement the number of elements
                  % Loop until the number of elements is 1
                 % Implicit end
</code></pre>

<p><sup>1</sup>... of MATL, Luis Mendo.</p>
</div>
<div id="pu24" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 7 bytes</h1>

<pre><code>ωöΣdΠdΣ
</code></pre>

<p><a href="https://tio.run/##yygtzv7//3zn4W3nFqecW5BybvH////NAQ" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 8 bytes</h1>

<pre><code>RSDPDƲÐL
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/z8o2CXA5dimwxN8/v//bw4A" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>Full program (it returns a singleton array containing the result, but the brackets aren't visible in STDOUT).</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/164156/">164156</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




