<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276909</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>014</td><td>Jelly</td><td>241129T135823Z</td><td><a href="https://codegolf.stackexchange.com/questions/276909/walks-in-nice-nizza/276955#276955">Jonathan</a></td></tr>
<tr d-ix="1"><td>092</td><td>R</td><td>241204T015329Z</td><td><a href="https://codegolf.stackexchange.com/questions/276909/walks-in-nice-nizza/277005#277005">Eonema</a></td></tr>
<tr d-ix="2"><td>022</td><td>05AB1E</td><td>241128T101604Z</td><td><a href="https://codegolf.stackexchange.com/questions/276909/walks-in-nice-nizza/276934#276934">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>016</td><td>Nekomata</td><td>241205T034859Z</td><td><a href="https://codegolf.stackexchange.com/questions/276909/walks-in-nice-nizza/277047#277047">alephalp</a></td></tr>
<tr d-ix="4"><td>116</td><td>R</td><td>241204T023158Z</td><td><a href="https://codegolf.stackexchange.com/questions/276909/walks-in-nice-nizza/277006#277006">Eonema</a></td></tr>
<tr d-ix="5"><td>156</td><td>Python3</td><td>241128T153833Z</td><td><a href="https://codegolf.stackexchange.com/questions/276909/walks-in-nice-nizza/276939#276939">Ajax1234</a></td></tr>
<tr d-ix="6"><td>038</td><td>Charcoal</td><td>241128T064452Z</td><td><a href="https://codegolf.stackexchange.com/questions/276909/walks-in-nice-nizza/276930#276930">Neil</a></td></tr>
<tr d-ix="7"><td>086</td><td>JavaScript V8</td><td>241127T213129Z</td><td><a href="https://codegolf.stackexchange.com/questions/276909/walks-in-nice-nizza/276910#276910">Arnauld</a></td></tr>
<tr d-ix="8"><td>076</td><td>JavaScript V8</td><td>241128T053927Z</td><td><a href="https://codegolf.stackexchange.com/questions/276909/walks-in-nice-nizza/276928#276928">l4m2</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 16 15 </s> 14 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>4ṗµı*ÄḞoṂṪƊµÐḟ
</code></pre>
<p>A monadic Link that accepts a non-negative integer and yields a list of the walks as a list of lists of integers:</p>
<pre><code>E  1
N  2
W  3
S  4
</code></pre>
<p><strong><a href="https://tio.run/##ASkA1v9qZWxsef//NOG5l8K1xLEqw4ThuJ5v4bmC4bmqxorCtcOQ4bif////NQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##AVAAr/9qZWxsef//NOG5l8K1xLEqw4ThuJ5v4bmC4bmqxorCtcOQ4bif/8W7wrXDh@G7i@KAnEVOV1PigJ3huaLigqzigbg7Sylq4oG@wrbCtv//NA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a> (runs for <code>[0..input]</code>; reformats using ENWS and sorts walks).</p>
<h4>How?</h4>
<pre><code>4ṗµı*ÄḞoṂṪƊµÐḟ - Link: WalkLength
4ṗ             - four Cartesian power {WalkLength} -&gt; PotentialWalks
  µ        µÐḟ - discard those PotentialWalks for which:
   ı           -   i (square root of -1)
    *          -   exponentiate {PotentialWalk} (vectorises) -&gt; Directions
     Ä         -   cumulative sums {Directions} -&gt; Locations
          Ɗ    -   last three links as a monad - f(Locations):
      Ḟ        -     real part -&gt; DistancesNorth
        Ṃ      -     minimum {DistancesNorth} -&gt; MinDistanceNorth
       o       -     {DistancesNorth} logical OR {MinDistanceNorth} (vectorises)
         Ṫ     -   tail
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>121</s> <s>116</s> 92 bytes</h1>
<p><em>-5 thanks to @pajonk:</em></p>
<ul>
<li><em>-3:</em> <code>lapply</code> -&gt; <code>Map</code></li>
<li><em>-1:</em> <code>\n</code> -&gt; literal newline</li>
<li><em>-1:</em> <code>sum(w==&quot;N&quot;)-sum(w==&quot;S&quot;)</code> -&gt; <code>sum((w==&quot;N&quot;)-(w==&quot;S&quot;))</code></li>
</ul>
<p><em>Additional -24 thanks to @pajonk by using</em> <code>0123</code> <em>for</em> <code>NESW</code></p>
<pre class="lang-r prettyprint-override"><code>f=\(n,w={}){q=sum(Re(1i^w))
if(!n&amp;!q)cat(w,&quot;
&quot;,sep=&quot;&quot;)
if(n&amp;q&gt;=0)Map(\(d)f(n-1,c(w,d)),0:3)}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGCpaUlaboWN2PSbGM08nTKbatrNasLbYtLczWCUjUMM-PKNTW5MtM0FPPUFAs1kxNLNMp1lLiUdIpTC2yVlMBSeWqFdrYGmr6JBRoxGimaQAFdQ51koLoUTU0dAytjzVqIHfsz88oyizOTclI10jRMQMYi8U01NSGqYC4CAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Expanded:</p>
<pre><code># recursive function
f &lt;- function(n, w=integer()) {
  # calculate net N-S position: 1i^w converts to complex, Re takes 
  #   N-S component
  q &lt;- sum(Re(1i^w))
  # if at end of walk and at 0 N-S position
  if(!n &amp; !q)
    # then print out the walk
    cat(w,&quot;\n&quot;,sep=&quot;&quot;)
  # if not at end of walk and not in the ocean
  if(n&amp;q&gt;=0)
    # try walking in each direction (recursive case)
    Map(
      function(d) {
        f(n - 1, c(w, d))
      },
      0:3
    )
  }

# recursive function:
f &lt;- function(n, w={}) {
  # net N-S position
  q &lt;- sum(w==&quot;N&quot;)-sum(w==&quot;S&quot;)
  # if at end of walk and at 0 N-S position
  if(!n &amp; !q)
    # then print out the walk
    cat(w, &quot;\n&quot;, sep=&quot;&quot;)
  # if not at end of walk and not in the ocean
  if(n &amp; q &gt;= 0)
    # then for each direction
    lapply(c(&quot;E&quot;,&quot;N&quot;,&quot;S&quot;,&quot;W&quot;),
      # try walking that way
      function(d) f(n - 1, c(w, d))
    )
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>25</s> 22 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>'€ÃIãʒ„ewмÇÈ·&lt;ηO¤_sd`P
</code></pre>
<p>Outputs in lowercase.</p>
<p><a href="https://tio.run/##AS4A0f9vc2FiaWX//yfigqzDg0nDo8qS4oCeZXfQvMOHw4jCtzzOt0/CpF9zZGBQ//80" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-none prettyprint-override"><code>'€Ã                   '# Push dictionary string &quot;news&quot;
   Iã                  # Cartesian product with the input
     ʒ                 # Filter this list by:
      „ewм             #  Remove all &quot;e&quot;s and &quot;w&quot;
          Ç            #  Convert the characters to codepoint-integers
           È·&lt;         #  IsEven *2 -1 (North is now 1; South is -1)
              η        #  Get the prefixes
               O       #  Sum each prefix
                ¤      #  Get the last sum (without popping the list)
                 _     #  Check whether it equals 0
                       #  (aka there are an equal amount of &quot;n&quot; and &quot;s&quot;)
                  s    #  Swap to get the list of cumulative sums again
                   d   #  Check for each whether it's non-negative (&gt;=0)
                       #  (aka for every &quot;s&quot; there should have been at least one
                       #  preceding &quot;n&quot;)
                    `  #  Dump all those &gt;=0 checks to the stack
                     P #  Take the product of the stack to verify all are truthy
                       # (after which the filtered list is output implicitly)
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/166851/52210">See this 05AB1E tip of mine (section <em>How to use the dictionary?</em>)</a> to understand why <code>'€Ã</code> is <code>&quot;news&quot;</code>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a>, 16 bytes</h1>
<pre><code>ᵐįŋᵖ{∫ŤlƆž≥}→ᵐɗH
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHHBgqWlJWm6FjeVHm6dcGT90e6HW6dVP-pYfXRJzrG2o_sedS6tfdQ2CSh3crrHkuKk5GKo-gULTSAMAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Use <code>←</code>, <code>∙</code>, <code>÷</code>, <code>¢</code> (characters code <code>12</code>, <code>21</code>, <code>10</code>, <code>1</code> in Nekomata's custom encoding) to represent <code>N</code>, <code>W</code>, <code>S</code>, <code>E</code> respectively.</p>
<pre><code>ᵐįŋᵖ{∫ŤlƆž≥}→ᵐɗH        Take n=4 as an example
ᵐį                  Find an n-tuple of [0,1] and [1,0]
                        One possible result: [[0,1],[1,0],[1,0],[0,1]]
  ŋ                 Optionally negate some elements
                        One possible result: [[0,1],[1,0],[-1,0],[0,-1]]
   ᵖ{      }        Check that:
     ∫                  Cumulative sum
                            [[0,1],[1,0],[-1,0],[0,-1]] -&gt; [[0,1],[1,1],[0,1],[0,0]]
      Ť                 Transpose
                            [[0,1],[1,1],[0,1],[0,0]] -&gt; [[0,1,0,0],[1,1,1,0]]
       l                Last element
                            [[0,1,0,0],[1,1,1,0]] -&gt; [1,1,1,0]
        Ɔ               Split into the last element and the rest
                            [1,1,1,0] -&gt; [1,1,1],0
         ž              Check that the last element is 0
                            [1,1,1],0 passes the check
          ≥             Check that every element in the rest is not less than the last element
                            [1,1,1],0 passes the check
                        So [[0,1],[1,0],[-1,0],[0,-1]] passes the check
            →       Increment each element
                        [[0,1],[1,0],[-1,0],[0,-1]] -&gt; [[1,2],[2,1],[0,1],[1,0]]
             ᵐɗ     Convert each element from decimal digits to a number
                        [[1,2],[2,1],[0,1],[1,0]] -&gt; [12,21,1,10]
               H    Convert to characters
                        [12,21,1,10] -&gt; &quot;←∙¢÷&quot;
</code></pre>
<p>By default, Nekomata outputs all valid solutions.</p>
<hr />
<p>Or 11 bytes if we can output a list of <code>[0,1],[0,-1],[1,0],[-1,0]</code> instead of a string:</p>
<pre><code>ᵐįŋᵖ{∫ŤlƆž≥
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHHBgqWlJWm6Fjsebp1wZP3R7odbp1U_6lh9dEnOsbaj-x51Ll1SnJRcDFW0YKEJhAEA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<hr />
<p>Another interesting approach is to find all strings of matching parentheses with length <code>2n+2</code>, remove the first and last parentheses, and replace each pair of parentheses with a direction. I can't find a short way to do this in Nekomata, but this may be helpful for some other languages.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>121</s> 116 bytes</h1>
<p><em>-5 thanks to @pajonk:</em></p>
<ul>
<li><em>-3:</em> <code>lapply</code> -&gt; <code>Map</code></li>
<li><em>-1:</em> <code>\n</code> -&gt; literal newline</li>
<li><em>-1:</em> <code>all(s&gt;=0)&amp;!s[n]</code> -&gt; <code>!any(s&lt;0,s[n])</code></li>
</ul>
<p>Without recursion this time. Funnily enough, it also ended up as 121 bytes.</p>

<pre class="lang-r prettyprint-override"><code>\(n)Map(\(i,w=i%/%4^(1:n-1)%%4,s=cumsum(Re(1i^w)))if(!any(s&lt;0,s[n]))cat(c(&quot;N&quot;,&quot;E&quot;,&quot;S&quot;,&quot;W&quot;)[w+1],&quot;
&quot;,sep=&quot;&quot;),1:4^n-1)
</code></pre>
<p><a href="https://tio.run/##TcmxCsIwEIDh3aeoB5E7TNFAXMS4uTro4FBbqCGBgzQW01p8@ppJHP7h53vNvjiUxezHaAd@RowU2r4PH1R73cRSyZ@wnAyLjdBNtiwkhJbJ2LFLY4cXh4qbiYjYYxsCpqPZ0mqZqliTbQe0CGeQcMpdczegalqrWsI9gkyuNwBEM8c3J34Ehx410eL/d9m/" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a> (Note- TIO doesn't yet support \ for function.)</p>
<p>Expanded (before edits):</p>
<pre class="lang-r prettyprint-override"><code>function(n) {
  lapply(
    # for all numbers 1 to 4^n
    1:4^n-1, 
    function(
        i,
        # convert to base 4, as a numeric vector
        w=i%/%4^(1:n-1)%%4,
        # calculate the north-south position at each step
        s=cumsum(Re(1i^w))
      ) {
      # if always on land and ends up at the same point
      if (all(s &gt;= 0) &amp; !s[n])
        # lookup the letters for the directions, concatenate and print
        cat(c(&quot;N&quot;,&quot;E&quot;,&quot;S&quot;,&quot;W&quot;)[w+1], &quot;\n&quot;, sep=&quot;&quot;)
    }
  )
}
</code></pre>
</div>
<div id="pu5" class="pu"><h1>Python3, 156 bytes</h1>
<pre class="lang-py prettyprint-override"><code>C=str.count
def f(n):
 q=['']
 for i in q:
  if len(i)==n:
   if C(i,'N')==C(i,'S'):yield i
  else:
   for j in'NSEW':
    if C(U:=i+j,'N')&gt;=C(U,'S'):q+=[U]
</code></pre>
<p><a href="https://tio.run/##RYwxD4IwEEb3/orbrhXjoiaGpCzElYUQB8IkbTxCDih14NfXUga3ey/fvXnzn4mvj9mFUOrVu8t7@rIXvbFgJatcwKJbxE6AnRwQEMMSJZCF0bAkpTXvvItS0hkrjCpdNap8IzP2QHFgxtWk4d4ZYger@vnCpI7nJteUDalQxEJzFJZMt00XZkfsZXuy8qY6Jf54jxh@" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 38 bytes</h1>
<pre><code>Ｎθ⊞υωＦυ«≔⁼№ιN№ιSη¿‹ＬιθＦ✂SNWEη⊞υ⁺ικ¿η⟦ι
</code></pre>
<p><a href="https://tio.run/##RY0xC8IwEIVn@yuOTHdQR6dOIh0EKYUODuJQS9oEY2qTng7ib49XQVwe97j3vteZNnRj61La@zvPFd8uOuBERVZzNMg5POXuxwDIBK9stY3RDh7LiVsXcTeyn9HmoCpFOfxto0i8ke7K9oAHHaOIH2aDVh4TEXyhjbOdRtVUx1IteYLfbu04LqgrUQHaRQ0LyEggWBk52bPA3ylt0vrhPg" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｎθ
</code></pre>
<p>Input <code>n</code>.</p>
<pre><code>⊞υωＦυ«
</code></pre>
<p>Start a breadth-first search for walks of length <code>n</code>.</p>
<pre><code>≔⁼№ιN№ιSη
</code></pre>
<p>See if this walk ends at the seaside.</p>
<pre><code>¿‹Ｌιθ
</code></pre>
<p>If this walk is not long enough, then...</p>
<pre><code>Ｆ✂SNWEη
</code></pre>
<p>... for each valid next step...</p>
<pre><code>⊞υ⁺ικ
</code></pre>
<p>... add that step to the walk and add that walk to the search list.</p>
<pre><code>¿η⟦ι
</code></pre>
<p>Otherwise if the walk ends at the seaside then output that walk.</p>
<p>By comparison, generating all walks of length <code>n</code> and filtering out those that step into the sea or do not end up at the seaside takes 39 bytes even on ATO and technically does not generate the correct output for <code>n=0</code> (it outputs nothing instead of a single empty string but you can't tell that the cursor is in the wrong place).</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 86 bytes</h1>
<p><em>-4 thanks to <a href="https://codegolf.stackexchange.com/users/76323/l4m2">@l4m2</a></em></p>

<pre class="lang-none prettyprint-override"><code>n=&gt;{for(i=4**n;i--;t||print(s))for(s=t=&quot;&quot;,j=n;j--;t-=t&lt;0||~-q%2)s+=&quot;NESW&quot;[q=i&gt;&gt;j*2&amp;3]}
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNEts/ifZvs/z9auOi2/SCPT1kRLK886U1fXuqSmpqAoM69Eo1hTEyRVbFtiq6Skk2WbZ50Fkta1LbExqKmp0y1UNdIs1rZV8nMNDleKLrTNtLPL0jJSM46t/Z@mYaL5HwA" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-none prettyprint-override"><code>n =&gt; {                 // n = input
  for(                 // outer loop:
    i = 4 ** n;        //   start with i = 4 ** n
    i--;               //   stop when i = 0
    t || print(s)      //   if t = 0, print s
  )                    //
    for(               //   inner loop:
      s =              //     s = Nice-walk string
      t = &quot;&quot;,          //     t = north/south counter
      j = n;           //     start with j = n
      j--;             //     stop when j = 0
      t -=             //     update t:
        t &lt; 0 ||       //       -1 if it's already negative
        ~-q % 2        //       otherwise: +1 for north, -1 for south,
                       //       unchanged for east and west
    )                  //
      s += &quot;NESW&quot;[     //     update s:
        q = i &gt;&gt; j * 2 //       the character index q is obtained by
            &amp; 3        //       extracting the next 2 bits from i
      ]                //       according to j
}                      //
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://v8.dev/" rel="noreferrer">JavaScript (V8)</a>, 76 bytes</h1>

<pre class="lang-none prettyprint-override"><code>f=(n,y=1,s='',i=2)=&gt;y*n--?[...'ENWS'].map(c=&gt;f(n,i--%2+y,s+c)):--y||print(s)
</code></pre>
<p><a href="https://tio.run/##Hc0xCwIhGIDhXxP6pZ/U0RAdn02tLQ0N0SCSYVwqpxwn3H@3o@WdHng/ZjLZjj4VnI4tjT4UmknbGHIcXmqIbz5LIWwo0K@hXd8c8SAr7WUmxqSnDkjXbUA8P5RS7HK939hTfU3ilrRbrUfcdKLKLCzACbEuy3/EMzTHD9B@" rel="noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276909/">276909</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




