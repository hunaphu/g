<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::262518</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>Scala</td><td>230708T143508Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262533#262533">138 Aspe</a></td></tr>
<tr d-ix="1"><td>021</td><td>Uiua</td><td>231116T044005Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/266792#266792">chunes</a></td></tr>
<tr d-ix="2"><td>012</td><td>Nekomata</td><td>230710T030136Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262584#262584">alephalp</a></td></tr>
<tr d-ix="3"><td>319</td><td>Desmos</td><td>230711T185307Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262656#262656">Jakdad J</a></td></tr>
<tr d-ix="4"><td>112</td><td>Java</td><td>230727T101712Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/263414#263414">Top Golf</a></td></tr>
<tr d-ix="5"><td>011</td><td>Husk</td><td>230712T040721Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262694#262694">Leo</a></td></tr>
<tr d-ix="6"><td>025</td><td>BQN</td><td>230711T203501Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262674#262674">DLosc</a></td></tr>
<tr d-ix="7"><td>081</td><td>Swift 5.9</td><td>230711T182633Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262653#262653">macOSist</a></td></tr>
<tr d-ix="8"><td>033</td><td>Q</td><td>230710T221151Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262616#262616">scottste</a></td></tr>
<tr d-ix="9"><td>017</td><td>Pyth</td><td>230710T212040Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262614#262614">CursorCo</a></td></tr>
<tr d-ix="10"><td>047</td><td>R</td><td>230708T194518Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262541#262541">pajonk</a></td></tr>
<tr d-ix="11"><td>036</td><td>Nial</td><td>230708T133552Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262529#262529">ovs</a></td></tr>
<tr d-ix="12"><td>012</td><td>Thunno 2 S</td><td>230708T202701Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262542#262542">The Thon</a></td></tr>
<tr d-ix="13"><td>084</td><td>Excel</td><td>230709T061838Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262549#262549">Jos Wool</a></td></tr>
<tr d-ix="14"><td>063</td><td>Arturo</td><td>230708T223021Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262545#262545">chunes</a></td></tr>
<tr d-ix="15"><td>059</td><td>Raku</td><td>230708T213932Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262544#262544">Sean</a></td></tr>
<tr d-ix="16"><td>051</td><td>Haskell</td><td>230708T210516Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262543#262543">xnor</a></td></tr>
<tr d-ix="17"><td>058</td><td>Python 3</td><td>230708T185223Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262539#262539">Ethan C</a></td></tr>
<tr d-ix="18"><td>064</td><td>C clang</td><td>230708T174622Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262536#262536">c--</a></td></tr>
<tr d-ix="19"><td>026</td><td>Charcoal</td><td>230708T133635Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262530#262530">Neil</a></td></tr>
<tr d-ix="20"><td>013</td><td>Husk</td><td>230708T120906Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262528#262528">Dominic </a></td></tr>
<tr d-ix="21"><td>083</td><td>Retina 0.8.2</td><td>230708T114605Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262527#262527">Neil</a></td></tr>
<tr d-ix="22"><td>9375</td><td>Vyxal s</td><td>230708T055315Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262519#262519">lyxal</a></td></tr>
<tr d-ix="23"><td>251</td><td>Racket</td><td>230708T100843Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262524#262524">Ed The &</a></td></tr>
<tr d-ix="24"><td>052</td><td>JavaScript ES6</td><td>230708T100714Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262523#262523">Arnauld</a></td></tr>
<tr d-ix="25"><td>013</td><td>05AB1E</td><td>230708T094959Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262522#262522">Command </a></td></tr>
<tr d-ix="26"><td>057</td><td>JavaScript V8</td><td>230708T065121Z</td><td><a href="https://codegolf.stackexchange.com/questions/262518/landmine-number-i/262520#262520">l4m2</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, <del>170</del> 163 bytes</h1>
<p>Golfed version. <a href="https://tio.run/##hY/BboMwDIbvPIXVQ5UM2iaB0sDEpB17mHaYph2mHRgNXaaUVYROW6s@OzOl6gQc@suKYvuz9dtmqUnrr/dPlVXwkOoCDo7znRowMXmqSl2svWVR0eQOX0hqknsbTAibxfl0r7cvuvpYFiv1M7VGZ4pwL59avVcTTukhS60i1iOFpykOnbYmOdHYnATytsnLJnfbXOeEGLdMkg0dj4m5Of2odX1QxirA9rlrXf5fujmXRFuyxxpgpXLY4C0kLdc2hvuyTH9f22veaAzPhcZb8FBAbbFamYIYMuLSX/CRBwGlMJvB467a7qoYRJ8TkZAsDIZk0Cf9RshFXS7sc9FFCHPGujgbGBV@MA8XMmKIyyseRKOh16jPsY5woOfCD4c2ojk/Gb5iAf1eAnm/i3Pe56WQbTTLwwGN@NE5OvUf" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>(f,m)=&gt;(0/:f.zipWithIndex.slice(1,f.size-1)){case(s,(n,i))=&gt;val l=f(i-1)-48;val r=f(i+1)-48;if((l+r==m)&amp;&amp;(l*r==m))s+3 else if(l+r==m)s+1 else if(l*r==m)s+2 else s}
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##lZJNb4JAEIbv/oqJB7MoVRYUwcQmTXox6cfBND00Payw4DbrapalsW387XZZkZZaSZwAh5n3mQ9msohwst@vF280UnBPmICvFkBME@BExCsm6DxaS4oSRnk8gbmSTKQ2FIGHfLWgcgIzoSzzhamBAYy4/8k2z0wtZyKm237GWUQRtssYpyJVS7gCbPWTNY/vaKKQY5U8QEQyCigrStuARL6ygcVby4LpdakAeCccuOZ0WZMUacUhI8luWcpUTSlZuqxLe@ekUS4lNePowpWikrAEEDKFe8es018/xIJOBw7x7r9xq8oEYCbUebzKR7mevCjRVOGI4TNYtxlz65hxG9euVbzlAaz0NSAi02wCN1KSj5fD8l/1sp8E@9n2RnsVF6h@MG0ceGPctmGotzYYwGOuNrmalLXPMG7oBo4/PKWGTZRXmGbCOuM3MWFlGsSOU0edxsFcbzjyx0HoaDS4oE@3sNPZwibGqZmG/3Tq@c2thiNsBrygTT1f9WjWq6MYN7GBGxyeoqh/Qprz2rX2@28" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def landmineScore(field: String, mineNumber: Int): Int = {
    field.zipWithIndex.slice(1, field.length - 1).foldLeft(0) {
      case (score, (num, idx)) =&gt;
        val left = field(idx - 1).asDigit
        val right = field(idx + 1).asDigit
        val current = num.asDigit

        if ((left + right == mineNumber) &amp;&amp; (left * right == mineNumber))
          score + 3
        else if (left + right == mineNumber) score + 1
        else if (left * right == mineNumber) score + 2
        else score
    }
  }

  def main(args: Array[String]): Unit = {
    println(landmineScore(&quot;18371&quot;, 4)) // Output: 2
    println(landmineScore(&quot;2928064&quot;, 4)) // Output: 4
    println(landmineScore(&quot;33333&quot;, 9)) // Output: 6
    println(landmineScore(&quot;9999999999&quot;, 100)) // Output: 0
    println(landmineScore(&quot;1234567890&quot;, 8)) // Output: 4
    println(landmineScore(&quot;22222&quot;, 4)) // Output: 9
    println(landmineScore(&quot;00000000000000&quot;, 0)) // Output: 36
    println(landmineScore(&quot;12951&quot;, 10)) // Output: 4
    println(landmineScore(&quot;123123123123&quot;, 3)) // Output: 11
    println(landmineScore(&quot;828828828&quot;, 16)) // Output: 11

  }
}
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 21 <a href="https://codegolf.stackexchange.com/a/265917/97916">bytes</a></h1>
<pre><code>/+♭×1_2=⊟⊃/+/×↘1↻1⍉◫3
</code></pre>
<p><a href="https://uiua.org/pad?src=0_2_0__ZiDihpAgLyvima3DlzFfMj3iip_iioMvKy_Dl-KGmDHihrsx4o2J4perMwoKZiBbMSA4IDMgNyAxXSA0CmYgWzIgOSAyIDggMCA2IDRdIDQKZiBbMyAzIDMgMyAzXSA5CmYgWzkgOSA5IDkgOSA5IDkgOSA5IDldIDEwMApmIFsxIDIgMyA0IDUgNiA3IDggOSAwXSA4CmYgWzIgMiAyIDIgMl0gNApmIFswIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDBdIDAKZiBbMSAyIDkgNSAxXSAxMApmIFsxIDIgMyAxIDIgMyAxIDIgMyAxIDIgM10gMwpmIFs4IDIgOCA4IDIgOCA4IDIgOF0gMTYK" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>/+♭×1_2=⊟⊃/+/×↘1↻1⍉◫3
                   ◫3  # windows of length three
                  ⍉    # transpose
                ↻1     # rotate one 
              ↘1       # drop one
         ⊃/+/×         # sum and product of columns
        ⊟              # couple
       =               # where is it equal to input?
   ×1_2                # multiply by [1 2]
  ♭                    # deshape
/+                     # sum
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a>, 12 bytes</h1>
<pre><code>ᵉpttᵋ+*:,,$Ĉ
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFZtJJurlLsgqWlJWm6Fhsfbu0sKCl5uLVbW8tKR0flSMeS4qTkYqjsgpvnow11LHSMdcx1DGMVTLiijXQsdYyAIgY6ZjomYBFjHSiMVbDkirbUwYCxCoYGBlxAc4yAqkx0TIE6zYEmWOoYxCpYgEyEQrBpBjo4YawC1BRLoBmGIFNhhmKQsQrGXNEWYIcikUAtZhB_AQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>ᵉ               Parallelly apply the following two unary functions:
 p                  Choose a prefix
  tt                Tail of tail
    ᵋ           Parallelly apply the following two binary functions:
     +              Add
      *             Multiply
                    (This step forces the prefix to have the same length as the tail of tail)
       :,       Duplicate and join
         ,      Join
          $     Swap
           Ĉ    Count
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://desmos.com" rel="nofollow noreferrer">Desmos</a>, 319 bytes</h1>
<p><a href="https://www.desmos.com/calculator/n5dzd6tvqr" rel="nofollow noreferrer">https://www.desmos.com/calculator/n5dzd6tvqr</a></p>
<p>Input is a list of numbers.</p>
<p><code>f(a,b)=\sum_{n=1}^{\operatorname{length}(a)}\left[\left\{i=1:0,\left\{i=\operatorname{length}(a):0,\left\{a\left[i-1\right]+a\left[i+1\right]=b:1,0\right\}+\left\{a\left[i-1\right]a\left[i+1\right]=b:2,0\right\}\right\}\right\}\ \operatorname{for}\ i\ =\ \left[1,...\operatorname{length}(a)\right]\right]\left[n\right]</code></p>
</div>
<div id="pu4" class="pu"><h1>Java, <s>120</s> 112 Bytes</h1>
<p><code>var l=range(2,n.length).filter(i-&gt;n[i-2]+n[i]==t).count()+range(2,n.length).filter(i-&gt;n[i-2]*n[i]==t).count()*2;</code></p>
<p>-8 Thanks to @ceilingcat</p>
<p><a href="https://tio.run/##jU89b4MwEJ3Dr7jR5sOSM1SREN07dMoYMbjEpSbmQPZBVUX8dnooqKrUpTfc53vv7jozm6K73lbXj0MgiGTINdBxW03kvIoUrOnVC9L5kaXlOk5vnkGNNzHCq3EI9@SwN3eBeXBX6HkkmOawvdRgQhvlhjw4JK4RKkD7CY/qfsqP@Sn/5Zcygd02BhDj9VOZsMBsAvgqGGyt0Dkqb7Glj0JL9e482SBc8YwXV@g645DpuqpIqmaYkITM/sNL//LSI@/@uej8Fcn2aphIjfwgeRRebsctybKu3w" rel="nofollow noreferrer">Try It</a>!</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="noreferrer">Husk</a>, 11 bytes</h1>
<pre><code>#ṁMzė+**↓2¹
</code></pre>
<p><a href="https://tio.run/##yygtzv7/X/nhzkbfqiPTtbW0HrVNNjq08////9FGOpY6RjoWOgY6Zjomsf9NAA" rel="noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>Inspired by <a href="https://codegolf.stackexchange.com/a/262528/62393">Dominic van Essen's answer</a>, with some added functional trickery to make it shorter.</p>
<h2>Explanation</h2>
<p>A necessary introduction: <code>z+</code> is a function that vectorizes the <code>+</code> operation to sum two lists element by element. If a list is longer than the other, extra elements are dropped. <code>z*</code> does the same thing with multiplication.</p>
<p>For example (in pseudocode) <code>z+[1,2][3,6,9]</code> = <code>[4,8]</code></p>
<pre><code>#ṁMzė+**↓2¹   Example input: [1,2,3,2] 4
    ė+**      A) a list of three functions: [+,*,*]
        ↓2¹   B) the first input without its first two values: [3,2]
  Mz          For each function f in A, do zfB
                this will result in a list of partially-applied functions
                missing the second argument for the vectorized sum (or multiplication):
                  [z+[3,2], z*[3,2], z*[3,2]]
 ṁ            Apply each of these functions to the (implicit) first input:
                  [z+[3,2][1,2,3,4], z*[3,2][1,2,3,4], z*[3,2][1,2,3,4]] = 
                  [[4,4], [3,4], [3,4]]
                and concatenate the results: [4,4,3,4,3,4]
#             Count how many times the (implicit) second input appears in this list: 4
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://mlochbaum.github.io/BQN/" rel="nofollow noreferrer">BQN</a>, 25 bytes</h1>
<pre><code>+´((+˝∾×˝∾×˝)0‿2⊏·⍉3⊸↕)⊸=
</code></pre>
<p><a href="https://mlochbaum.github.io/BQN/try.html#code=RiDihpAgK8K0KCgry53iiL7Dl8ud4oi+w5fLnSkw4oC/MuKKj8K34o2JM+KKuOKGlSniirg9Cgoy4oC/OeKAvzLigL844oC/MOKAvzbigL80IEYgNA==" rel="nofollow noreferrer">Try it at BQN online!</a></p>
<h3>Explanation</h3>
<pre><code>+´((+˝∾×˝∾×˝)0‿2⊏·⍉3⊸↕)⊸=
  (                    )⊸   Using the left argument (array of digits):
                    3⊸↕       Get all windows (contiguous subarrays) of length 3
                              as rows of a 2D array
                   ⍉         Transpose rows and columns
             0‿2⊏·           Keep the first and last rows
   (+˝∾×˝∾×˝)                 Make a 1D array containing their sums, products, and
                              products again
                         =  Equality with the right argument (1s when equal, 0s
                            otherwise)
+´                          Sum
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Swift 5.9, <strike>112</strike> <strike>106</strike> <strike>103</strike> <strike>92</strike> 81 bytes</h1>
<p>Edit: First solution was actually 112 bytes, not 114.</p>
<pre class="lang-swift prettyprint-override"><code>(1...m.count-2).reduce(0){$0+(m[$1-1]+m[$1+1]==n ?1:0)+(m[$1-1]*m[$1+1]==n ?2:0)}
</code></pre>
<p>Where <code>m</code> is an <code>[Int]</code> representing the minefield, and <code>n</code> is an <code>Int</code> representing the mine number.</p>
<p>Ungolfed (plus header):</p>
<pre class="lang-swift prettyprint-override"><code>func landmineScore(mines: [Int], mineNumber: Int) -&gt; Int {
    (1...(mines.count - 2)).reduce(0) { result, index in
        result + (mines[index - 1] + mines[index + 1] == mineNumber ? 1 : 0) + (mines[index - 1] * mines[index + 1] == mineNumber ? 2 : 0)
    }
}
</code></pre>
<p>I can't remove the spaces to the left of the <code>?</code>s, because a trailing <code>?</code> is interpreted as an optional-chain.</p>
</div>
<div id="pu8" class="pu"><h1>Q, 33 bytes</h1>
<p>implemented as a function with two implicit arguments, <strong>x</strong> and <strong>y</strong>. <strong>x</strong> is a list of ints (the &quot;field&quot;) and <strong>y</strong> is an int (the landmine score).</p>
<pre><code>{sum(y=sum x)+2*y=prd x:2 -2_\:x}
q) f: {sum(y=sum x)+2*y=prd x:2 -2_\:x}
q) f[10 vs 1234567890; 8]
4
q) f[1 2 3 1 2 3 1 2 3 1 2 3; 3]
11
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 17 bytes</h1>
<pre><code>/smmvXk1d.:z3&quot;**+
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/X784N7csItswRc@qylhJS0v7/38LLkMjYxNTM3MLSwMA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>/smmvXk1d.:z3&quot;**+&quot;Q    # implicitly add &quot;Q
                       # implicitly assign Q = eval(input)
                       #                   z = input() (second input)
  m          &quot;**+&quot;     # map lambda d over &quot;**+&quot;
   m     .:z3          #   map lambda k over all substrings of length 3 in z
     Xk1d              #     replace the middle char of k with d
    v                  #     and evaluate
 s                     # flatten nested list
/                 Q    # count occurrences of Q
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, <s>50</s> 47 bytes</h1>
<p><em>Edit: -3 bytes thanks to <a href="https://codegolf.stackexchange.com/users/95126/dominic-van-essen">@Dominic van Essen</a>.</em></p>
<pre class="lang-r prettyprint-override"><code>\(x,n){h=t=x[-1:-2];h[]=x;sum(h+t==n,2*!h*t-n)}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZDPCoJAEMbp6lMYXdRG2j-mbrJBz2GeAvGSh1pBiHqRLhb0UPU0jbuagsQHs4ffN_PNzv1xap65fFUq9-P3au_UULqXQipZpz7d-CxLijSTdXKujk6xVFKWwLx54Sm_dK-m7TPb5c7BoRADhwioC3bgLuzb1mZWCxgIYAgJhBAMMNCQQycEwoBQAwEToYUSYkzEMpkMewNY4-gIIwQQNMV9QBffaYgWGhD4K7R2OTz8BQmMoXqH8QfMCpOKPm5slGpfrG8wqu2ksLeYSzaNeb8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Defines explicitly both head and tail to add/multiply, because of usually handy (and here annoying) R recycling of vectors.<br />
Uses also a trick that <code>!a-b</code> is the same as <code>a==b</code> with the same byte-count, but due to precedence, we can multiply the former without extra parentheses.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/danlm/QNial7" rel="nofollow noreferrer">Nial</a>, <s>39</s> 36 bytes</h1>
<pre><code>++mate team[+,[+,*,*][2drop,-2drop]]
</code></pre>
<p><a href="https://tio.run/##dU/LCoNADLz3K@a4ulvYh1UX7/6E7GGhHoTaFiv087eptRArZUICk2QmuQ7xkloMjyTlGOcecx/HTiqKXOWhs@fpdlfHpYSQmsNzGmiqRQFhUMOhgsk2tIWHpZZGiYK1PITDCkYbrSE8dmAj9dvL0l6BE4lWRHjoX9cVjCZhjb/Y3PBx8KTPv3Ff413myyVEvXzMctakFw" rel="nofollow noreferrer" title="Nial – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>S</code>, 12 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>D2ỵZıçpS¹=2ḋ
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#P2hlYWRlcj0mY29kZT1EMiVFMSVCQiVCNVolQzQlQjElQzMlQTdwUyVDMiVCOSUzRDIlRTElQjglOEImZm9vdGVyPSZpbnB1dD0xJTJDOCUyQzMlMkM3JTJDMSUwQTQmZmxhZ3M9Uw==" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>D2ỵZıçpS¹=2ḋ  # implicit input
D             # duplicate the first input
 2ỵ           # remove the first two items
   Z          # zip them together
    ı         # map:
     ç        #  parallelly apply:
      p       #   product
       S      #   sum
        ¹=    #  equals second input?
          2ḋ  #  convert from binary
              # implicit output
</code></pre>
</div>
<div id="pu13" class="pu"><h1>Excel, 84 bytes</h1>
<pre><code>=SUM(TOCOL(LET(a,LAMBDA(b,MID(A1,ROW(A:A)+b,1)),(a(0)+a(2)=B1)+2*(a(0)*a(2)=B1)),2))
</code></pre>
<p>String in <code>A1</code>; landmine number in <code>B1</code>.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 63 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$[a n][0i:0loop drop a 2'x[if=x+a\[i]n[1+]if=x*a\[i]n[2+]'i+1]]
</code></pre>
<p><a href="http://arturo-lang.io/playground?JKtjCO" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>$[a n][                 ; a function taking a list a and integer n
    0                   ; push landmine score
    i:0                 ; assign 0 to i
    loop drop a 2'x[    ; loop over a sans first 2 elements; assign current elt to x
        if=x+a\[i]n[1+] ; add 1 to score if x + a[i] equals n
        if=x*a\[i]n[2+] ; add 2 to score if x * a[i] equals n
        'i+1            ; increment i in place
    ]                   ; end loop
]                       ; end function
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://raku.org/" rel="nofollow noreferrer">Raku</a>, 59 bytes</h1>
<pre><code>-&gt;$_,\n{sum n X==m:ov/(.).(.)/».&amp;{|(.sum,[*] @$_)[0,1,1]}}
</code></pre>
<p><a href="https://tio.run/##VYvbCoJAFEV/ZSODaEw643UmHOkzAgvpIZ9SQykQ9ct668fMSRFa7APnth635h5NZQezgJr2KcnpuerbZ4kKJ6XKQ/1yLcd25nI/b8fsB8uZrzTbXXAkuZ0xyim/jOPUXjsYJIdK0RcYSD4aKOoGCRd@zBGkFIknPcGiYBl8DaRu5QY4Y3rDPT8Io1hIBvEzNYvH/sD6LkM@u6u6Bb7eCE8sAY/S6Qs" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
<ul>
<li><code>m:ov/(.).(.)/</code> finds all <code>ov</code>erlapping matches for sequences of three digits in the input number.</li>
<li><code>».&amp;{ ... }</code> passes each match object to the brace-delimited code block.  (It's one byte shorter than using <code>map</code>.)</li>
<li><code>(.sum, [*] @$_)</code> produces a two-element list of the sum and product of the first and last digits in each match.</li>
<li><code>[0, 1, 1]</code> slices into that list, to append an extra copy of the second element (the product).</li>
<li><code>|</code> flattens that list into the map output.</li>
<li><code>n X== ...</code> crosses the landmine number with each sum and product using the numeric equality operator <code>==</code>, producing a list of booleans.  Each product contributes two of the same boolean, thanks to the slice above.</li>
<li><code>sum</code> sums those booleans, treating <code>True</code> as 1 and <code>False</code> as 0.</li>
</ul>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 51 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>n%(a:t@(b:c:l))=0^(a+c-n)^2+2*0^(a*c-n)^2+n%t
_%_=0
</code></pre>
<p><a href="https://tio.run/##hZBNisJAEIX3nuItDHRrCd2JP0kw4AXmBCFKK4Ji24jppXePZaGOisPAW9TPV/WK2rn2sPW@60KiXBkXal1uSq91ZZbKDTejoJfpMB3cssE9C0nsrZJVZbq4bWOLCrWqLSEnZIQZwTaEsSaoOiUUhFR6hjDl@rOXCX4XVwupFjLxXQxZYwSzspUnx4SJLJ6JCWOGsfzh/qunr5FT/hcPvHoVYmTlhvcT/gyYzQTNHz/4DG7bprrpHd0@8B@P7vSD03kfIvqofRJwgQrk9Xwkr266Kw" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Uses <code>0^(x-y)^2</code> as an arithmetic version of the indicator function <code>sum[1|x==y]</code>. Recursing turned out shorter than my attempts to use <code>zip</code>.</p>
<p><strong>53 bytes</strong></p>

<pre class="lang-hs prettyprint-override"><code>n%l=sum$do(a,c)&lt;-zip l$drop 2l;[1|a+c==n]++[2|a*c==n]
</code></pre>
<p><a href="https://tio.run/##hZHdioNADIXv@xTnwoLWFGa0W5Wtj7BPMHgxVGGl4yjVvVl8d5uGbfeHloVzEZIvOSF5t@OpcW5Z/NqV40cX1H1o6Rgdtp/tABfU535A4l6Nnm18LEtfxbFJZruReJmacRpRwoRGE3JCSsgIuiLsIkJoEkJBSKSmCHvO32up4F/ibCHZQjoeiyGtlGBapnLnjvAigzMxYUwxlt/cv3X3VbLK/@KGn16FGGnZ4fcKTwNmU0Hz2w3@Btdp@6hadbb1fMfODm8Yzq2fEMC4tceM0JPjf8ipq@UC" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p><strong>53 bytes</strong></p>

<pre class="lang-hs prettyprint-override"><code>n%l=sum[1|(a,c)&lt;-zip l$drop 2l,x&lt;-[a+c,a*c,a*c],x==n]
</code></pre>
<p><a href="https://tio.run/##hZHdasMwDIXv9xTnooVkVcFO@pNA8wh9AuMLkxUW6rimSaGUvnuqijVrx8bgGIT0SUfIn67b77wfhjD1VXdqjb4mjup0M780EX7ycTxEZJ7Om7lxs5rcuzxL56oKduh3Xd@hgkmMJhSEnLAmaEtYpITEZISSkElNEVacH2u54F/ibCnZUjp@F0NaKcG0TOXOBWEpg9diwphirHi4f2v0VbLK/@KGZ69SjLTs8LrCnwGzuaDF4wY/g/u0VWrfWtcEvmPr4hbx2IQeExg/DbgiCeT5P@TUdrgB" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>98 75</s> 58 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda n,l:sum((x+y==l)+2*(x*y==l)for x,y in zip(n,n[2:]))
</code></pre>
<p><a href="https://tio.run/##bVDLboMwELz7K1a5YCeosg0hEMn9EcKBppBachyEjRR66K9TL25TVe1oD97xzuxjmP3bzWZLr06Laa8vry3Y1BzddKX0vpuVMmwnt/S@XZ/9bYR7OoO28K4HalNby2PD2OI7553abDaizA4Ccvh4BklkJUte5DHNSYaACpOCVA@A4Bw5ToTM8n1xKCsOZZRIRNRXhP8CrKKsCKpqL4JJVASPR0CGnBCklGUMEEWkwqhPbjDa0@RkE0a0HZyq9TeHRQmreQO4ssaF1xUbcpv8P4XibyF5EGNrLx01naXYhbEjgYBwZoV5rZsvMxb54G491ezH0TbrT@tcN3row92xwjCmFD5wpODCyDBimoR@0BqzDgLn1nUO3HQ@d871kzFzwpblEw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>The inputs are the string of numbers (as a list of ints) and the landmine number (as an int). The function loops through each each pair of valid (i, i+2) indices in the list and calculates the landmine score using boolean addition.</p>
<p>Edit: used zip to save 17 bytes (credit to c--)</p>
</div>
<div id="pu18" class="pu"><h1><a href="http://clang.llvm.org/" rel="nofollow noreferrer">C (clang)</a>, 64 bytes</h1>

<pre class="lang-c prettyprint-override"><code>f(*a,l,n){return--l&gt;1?(*a+a[2]==n)+2*(*a*a[2]==n)+f(a+1,l,n):0;}
</code></pre>
<p><a href="https://tio.run/##jVLbboMwDH0mX2F16gQkbEBv6yjdh3Q8RAW2IBYmSvewim9ndtLLqqnSJCtxnONz7MTbYFtL/TYMpetLUQvtHdqi27c6COp19IJBLjdxlqba47GPR/98LF3JI5PyHCb9cKf0tt7nBax2Xa6ah/c1Y1@NyllX7DpX6Q5QAGivC20d7bEDc8hTCWNO2bTgKkghTEDBinAJcK485jifLcJKdzTORwLkRmUeZZyiMM4hWOP6qvEa2bE2YXW0h8ieMQSyD6m0SzVddAVUxJehKoacmYBIwJOAiYAF@RjDPRawNCvehALmAqbCoidXhrEoNNjbdsREhm9CTDAzlAtDvyQFyx1fGeVNjfz/7NyNLX527CaKf2nfdhC5NPXYpv84zOnxbe27UQtTIxKFoYHYOqlNopxDf/W91eWLd@q7aEqQ8HhyfUk3PDWfDJwK4ryiETBzdI9himZ2CqiGimahH34A" rel="nofollow noreferrer" title="C (clang) – Try It Online">Try it online!</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 26 bytes</h1>
<pre><code>ＮθＩΣＥＥΦη‹¹κ⁺ι§ηκ№⟦ΣιΠιΠι⟧θ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/98zr6C0xK80Nym1SKNQ05oroCgzr0TDObG4RCO4NFfDN7EAjN0yc0qAKjJ0FHxSi4s1DHUUsjU1dRQCckqLNTJ1FBxLPPNSUitA8kBxoIRzfinQmGiQEZkgdUX5KaXJJWjsWB2FQk0QsP7/30LB0MjYxNTM3MLS4L9uWQ4A" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes the landmine number as the first input. Explanation:</p>
<pre><code>Ｎθ                          First input as a number
       η                    Second input
      Φ                     Filtered where
         ¹                  Literal integer `1`
        ‹                   Is less than
          κ                 Current index
     Ｅ                      Map over digits
            ι               Current digit
           ⁺                Concatenated with
              η             Second input
             §              Indexed by
               κ            Current index
    Ｅ                       Map over digit pairs
                   ι        Current pair
                  Σ         Digital sum
                     ι      Current pair
                    Π       Digital product
                       ι    Current pair
                      Π     Digital product
                 ⟦      ⟧   Make into list
                №           Count matches of
                         θ  First input
   Σ                        Take the sum
  Ｉ                         Cast to string
                            Implicitly print
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="noreferrer">Husk</a>, 13 bytes</h1>
<pre><code>#Σz§:+o´e*↓2¹
</code></pre>
<p><a href="https://tio.run/##AS0A0v9odXNr//8jzqN6wqc6K2/CtGUq4oaTMsK5////WzIsOSwyLDgsMCw2LDRd/zQ" rel="noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<pre><code>#             # how many times is arg 2 present in:
 Σ            # flatten the results of
  z           # zipping together
              #   arg 1 and
          ↓2¹ #   arg 1 without its first 2 elements
              # using the function
   §:         #   join together
     +        #     sum of each pair of elemnts
      o´e     #     and 2 copies of
         *    #     product of each pair of elements
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 83 bytes</h1>
<pre><code> \d+|\d
,;,$&amp;$*
&amp;`(,?;)?,(1*),;,1*,;,((1)*),;,(1*,;,)*(?(1)(?&lt;-4&gt;\2)*(?(4)^)|\3\2)$
</code></pre>
<p><a href="https://tio.run/##VYpBCsIwEEX3OcUsapnECJkkbRMqZuklglSoCzcuxGXvHicRCj4@w/zPez8@z9e9HPC6FMjrccur0LPu@k6JfkGdZpk0kpI8kuKDSLI1bFUqTLxgOp/8JdtWvbzJLTtuXSkU3ETghY02mNHz5yoQRdwBMkaQdX4YpxANBGEr7Jo/oFpxIParvgecCDb8AjR@AQ" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code> \d+|\d
,;,$&amp;$*
</code></pre>
<p>Convert the landmine number and each of the numbers in the list to unary. Each unary number is preceded by three characters to allow three places for the following expression to match for each number, one for when the two numbers sum to the landmine number and two for when their product equals the landmine number.</p>
<pre><code>&amp;`
</code></pre>
<p>Count all overlapping matches.</p>
<pre><code>(,?;)?,(1*),;,1*,;,((1)*)
</code></pre>
<p>For each interior number, match the numbers on the left and right. The number on the right is matched in two different ways so it can be both added and multiplied. Also allow the match to start up to three separator characters before the left number.</p>
<pre><code>,;,(1*,;,)*
</code></pre>
<p>Skip ahead to the landmine number.</p>
<pre><code>(?(1)(?&lt;-4&gt;\2)*(?(4)^)|\3\2)$
</code></pre>
<p>If there were at least two separator characters then check that the product of the two matched numbers equals the landmine number otherwise check that the sum does.</p>
<p>The regular expression would be 84 bytes without the conditional, but it still needs .NET capture groups in order to perform the multiplication:</p>
<pre><code> \d+|\d
,;,$&amp;$*
&amp;`(,?;?,)(1*),;,1*,;,((1)*)(,;,1*)*(,?\1(?&lt;-4&gt;\2)*(?(4)^)|,;\1\3\2)$
</code></pre>
<p><a href="https://tio.run/##VYpBCsIwEEX3OcUsapmJETJJ2iZUzNJLBKmgCzcuxGXvHicKBR@fYf7nve7vx/Nad3heKpTbfi03ZWbT9Z1W/YImz9kQsiYZWctBZNKE30pahMKYj4dwKk5qxkAXWs1cuHhZulo5@okhKJdctGOQzzcgqbQBbK1i58MwTjFZiMo1xLV/QLPSwOI3fQt4FV38BXj8AA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases.</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>s</code>, 75 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 9.375 bytes</h1>
<pre><code>3lƛy$₍Π∑⁰=B
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyJzPSIsIiIsIjNsxpt5JOKCjc6g4oiR4oGwPUIiLCIiLCJbMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXVxuMCJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Takes long number as a list of digits then landmine number. Didn't almost accidentally call it a landline number.</p>
<h2>Explained</h2>
<pre><code>3lƛy$₍Π∑⁰=B­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁣⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁢⁪‏‏​⁡⁠⁡‌⁢⁣​‎‏​⁢⁠⁡‌­
3l           # ‎⁡Get all overlapping windows of size 3 of the long input
  ƛ          # ‎⁢To each window:
   y$        # ‎⁣  Remove the middle item
     ₍Π∑     # ‎⁤  Push a list of [product, sum]. I love parallel apply.
        ⁰=   # ‎⁢⁡  And check whether each item equals the landmine number
          B  # ‎⁢⁢Convert from binary
# ‎⁢⁣The s flag sums the resulting list 

💎 Created with the help of Luminespire at https://vyxal.github.io/Luminespire
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="https://racket-lang.org" rel="nofollow noreferrer">Racket</a> - 251 bytes</h1>
<pre class="lang-rkt prettyprint-override"><code>#!racket
(let*([L(map(λ(c)(-(char-&gt;integer c)48))(filter char-numeric?(string-&gt;list(read-line))))][M(read)][R(curry list-ref L)])(for/sum([i(range 1(-(length L)1))])(let*([l(R(- i 1))][r(R(+ i 1))][m(=(* l r)M)])(count(λ(c)c)(list(=(+ l r)M)m m)))))
</code></pre>
<p>Input must be on separate lines, first input is the landscape, and the second input is the number representing the landmine.</p>
<p><a href="https://tio.run/##TY8xjgIxDEV7TmFE8w2KVogtlgL2AtDQjiiiYIaIJKw8mYKz7R32SrPJjJBw5f/9ZH@rdXfJw7CY69jNECQv0RwQ7Q/@fuEYBu5m1ex9ytKKkuPPL2ZcfchV1Vnqo6h33@iy@tSaffBdhoq9mOCTcKlzcxyN0pzgetUnVcioXOnA57LvoR9dH9F4qE2t0LpcDpLafCvAmiszhQs4wZCn6jVaxOolInZYUiDlY8Xdo095@qL8MWbaFXiaR4o1Fw/D5q1m238" rel="nofollow noreferrer" title="Racket – Try It Online">Try it online!</a></p>
<hr />
<h2>Explanation</h2>
<h3>Input, filtering, mapping</h3>
<p>First the program splits the landscape string into a list of characters. It filters out any characters that aren't digits then proceeds to map over the list, turning all the characters into their respective numeric digits.</p>
<h3>Looping</h3>
<p>We then create a <code>for/sum</code> loop that iterates over the list from indices 1 through length - 2 (length - 1 is the last index of the list, but it can't have a landmine). As the loop iterates, it collects the landmine count for each digit. Once it has completed the iteration, the loop returns the summed-up counts.</p>
<h3>Counting landmines</h3>
<p>The way we count the landmines for a digit is simple. We create a boolean list that contains the results of two different equality checks: addition of the left and right digits and the multiplication of the left and right digits must both be the same as the number representing the landmine in order to return <code>#t</code>. Since the multiplication of the left and right digits give two points instead of one, we repeat the check.</p>
<pre class="lang-rkt prettyprint-override"><code>(list (= (+ left right) landmine)
      (= (* (left right) landmine)
      (= (* (left right) landmine))
</code></pre>
<p>Once we have created the list, we can pass it to the <code>count</code> function. But there is still one ingredient we need because <code>count</code> requires two inputs, a <code>proc</code> and a <code>list</code>. The <code>proc</code> function returns a boolean value as <code>count</code> iterates the loop. If the value is <code>#t</code>, then <code>count</code> adds it to the total count.</p>
<p>But we already have the <code>#t</code> and <code>#f</code> values, and we don't need to change them. That is where the <code>identity</code> function comes in handy. The identity function takes a value and returns it the same way as it is. This is how the function looks like in Python:</p>
<pre class="lang-py prettyprint-override"><code>def identity(value):
    return value
</code></pre>
<h3>Putting it all together and testing</h3>
<p>This is the final resulting code:</p>
<pre class="lang-rkt prettyprint-override"><code>#lang racket

(require (only-in rackunit check-eq?))


; count-landmines: String Number -&gt; Number
; Counts the number of landmines in a string.
(define (count-landmines landscape landmine)
  (let* ([-landscape (map (lambda (char) (- (char-&gt;integer char) 48))
                          (filter char-numeric? (string-&gt;list landscape)))])
         (for/sum ([index (range 1 (sub1 (length -landscape)))])
           (let* ([left (list-ref -landscape (sub1 index))]
                  [right (list-ref -landscape (add1 index))]
                  [multeq (= (* left right) landmine)])
             (count identity (list (= (+ left right) landmine) multeq multeq))))))



(displayln &quot;Tests are running...&quot;)
(check-eq? (count-landmines &quot;18371&quot; 4) 2 &quot;18371 4&quot;)
(check-eq? (count-landmines &quot;2928064&quot; 4) 4 &quot;2928064 4&quot;)
(check-eq? (count-landmines &quot;33333&quot; 9) 6 &quot;33333 9&quot;)
(check-eq? (count-landmines &quot;9999999999&quot; 100) 0 &quot;9999999999 100&quot;)
(check-eq? (count-landmines &quot;1234567890&quot; 8) 4 &quot;1234567890 8&quot;)

(check-eq? (count-landmines &quot;22222&quot; 4) 9 &quot;22222 4&quot;)
(check-eq? (count-landmines &quot;00000000000000&quot; 0) 36 &quot;00000000000000 0&quot;)
(check-eq? (count-landmines &quot;12951&quot; 10) 4 &quot;12951 10&quot;)
(check-eq? (count-landmines &quot;123123123123&quot; 3) 11 &quot;123123123123 3&quot;)
(check-eq? (count-landmines &quot;828828828&quot; 16) 11 &quot;828828828 16&quot;)
(displayln &quot;Tests are complete!&quot;)
</code></pre>
<h2>Conclusion</h2>
<p>Hope you enjoyed reading my explanation! I had fun with both writing the code and the answer :D</p>
<p>Have a wonderful weekend ahead everyone!</p>
</div>
<div id="pu24" class="pu"><h1>JavaScript (ES6), 52 bytes</h1>
<p>Expects <code>(n)(array)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;a=&gt;a.map(p=v=&gt;s+=p+v==n|2*(p*(p=a,a=v)==n),s=0)|s
</code></pre>
<p><a href="https://tio.run/##dZFNDoIwEIX3noJlq6O2BZEuxosYFw3@RKPQWMPKu@OAqNhC32QWTb55b9qLqYzL72f7mBfl/lAfsS5wY6gWN2OZxQo3boZ2ViEWTzVllgoNGKw43XBwKPjT1XlZuPJ6WFzLEzuyhLOthAxiWIPccR6FZ7mM1CSkFGhQRApIIQlJohKP0kTF0GnUK/UoKQRxGgL9JhAlPCpr91LklMCKEq4pqQbRdx1I@N6r02hC7VFNPgGjauYQFYeLdRk1JRx@@4GI8XexoH9GECWlb5YSl7Uf1ut/pi1WvwA" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 13 bytes</h1>
<pre><code>Ð¦¦©+s®*D)QOO
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//8IRDy4BwpXbxoXVaLpqB/v7//0cb6hjpWOqY6hjGchkaAAA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<p>I feel like at least one byte can be golfed, but I can't figure out how</p>
</div>
<div id="pu26" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 57 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;k=&gt;x.reduce((r,t,i)=&gt;r+(t+x[i+=2]==k)+2*(t*x[i]==k),0)
</code></pre>
<p><a href="https://tio.run/##dYpBDoIwEEX3nmSGjgQKUYiZXoSwILWYCrGmVNLb18a4M@av3n/vPu3Tpr19huPepZlTZLWwiqU315c2AJ4CWWTlBQQRBytYjswLCllAKPLxIaowXQ7aPTa3mnJ1N5hhqKmjhs5Ujwgt4o@X1JPMTUUnav80DX2XfZ99egM" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<p><code>map</code> and <code>reduce</code> same length</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/262518/">262518</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




