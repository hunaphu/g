<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::151804</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>110</td><td>BQN</td><td>250308T211356Z</td><td><a href="https://codegolf.stackexchange.com/questions/151804/queue-our-decomposition/278570#278570">panadest</a></td></tr>
<tr d-ix="1"><td>019</td><td>Octave</td><td>171226T214349Z</td><td><a href="https://codegolf.stackexchange.com/questions/151804/queue-our-decomposition/151806#151806">Mr. Xcod</a></td></tr>
<tr d-ix="2"><td>324</td><td>Python 2</td><td>171227T012457Z</td><td><a href="https://codegolf.stackexchange.com/questions/151804/queue-our-decomposition/151824#151824">Tyilo</a></td></tr>
<tr d-ix="3"><td>037</td><td>R</td><td>171226T215258Z</td><td><a href="https://codegolf.stackexchange.com/questions/151804/queue-our-decomposition/151807#151807">rturnbul</a></td></tr>
<tr d-ix="4"><td>028</td><td>Python with numpy</td><td>171227T003354Z</td><td><a href="https://codegolf.stackexchange.com/questions/151804/queue-our-decomposition/151822#151822">Tyilo</a></td></tr>
<tr d-ix="5"><td>002</td><td>Julia</td><td>171227T001840Z</td><td><a href="https://codegolf.stackexchange.com/questions/151804/queue-our-decomposition/151821#151821">Alex A.</a></td></tr>
<tr d-ix="6"><td>027</td><td>SageMath</td><td>171226T235308Z</td><td><a href="https://codegolf.stackexchange.com/questions/151804/queue-our-decomposition/151819#151819">Tyilo</a></td></tr>
<tr d-ix="7"><td>015</td><td>Wolfram Language Mathematica</td><td>171226T221151Z</td><td><a href="https://codegolf.stackexchange.com/questions/151804/queue-our-decomposition/151811#151811">notjagan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://mlochbaum.github.io/BQN/" rel="nofollow noreferrer">BQN</a>, 110 bytes</h1>
<pre><code>+˝∘×⎉1‿∞{1=⊢´≢𝕩?𝕩(÷⟜⊑⋈⊢)+˝×˜𝕩;t←@⋄p‿s←𝕊𝔽{𝕘-𝕩𝔽t↩𝕩⍉⊸𝔽𝕘}(k↓˘𝕩)⊑q‿r←𝕊𝕩↑˘˜k←⌈2÷˜⊢´≢𝕩⋄(q∾˘p)⋈((⊢↑˘˜·-k+≠)s)∾˜r∾˘t}
</code></pre>
<p>An answer without built-ins. Inspired by the recursive block QR algorithm from Golub and van Loan's book, algorithm <a href="https://epubs.siam.org/doi/book/10.1137/1.9781421407944" rel="nofollow noreferrer">5.2.3</a>. Uses Gram–Schmidt.</p>
<p><a href="https://mlochbaum.github.io/BQN/try.html#code=UVIg4oaQICvLneKImMOX4o6JMeKAv+KInnsxPeKKosK04omi8J2VqT/wnZWpKMO34p+c4oqR4ouI4oqiKSvLncOXy5zwnZWpO3TihpBA4ouEcOKAv3PihpDwnZWK8J2UvXvwnZWYLfCdlanwnZS9dOKGqfCdlanijYniirjwnZS98J2VmH0oa+KGk8uY8J2VqSniipFx4oC/cuKGkPCdlYrwnZWp4oaRy5jLnGvihpDijIgyw7fLnOKKosK04omi8J2VqeKLhChx4oi+y5hwKeKLiCgo4oqi4oaRy5jLnMK3LWsr4omgKXMp4oi+y5xy4oi+y5h0fQoKceKAv3Ig4oaQIFFSIG0g4oaQIDTigL804oCicmFuZC5SYW5nZSAwCm0gLSBxICvLneKImMOX4o6JMeKAv+KIniByCg==" rel="nofollow noreferrer">BQN online REPL</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a>, 19 bytes</h1>



<pre class="lang-matlab prettyprint-override"><code>@(x)[[q,r]=qr(x),r]
</code></pre>

<p><a href="https://tio.run/##y08uSSxL/Z9mq6en999Bo0IzOrpQpyjWtrAIyAYy/qdpREcb6hjpGMdaRxvoGOsYgmkDHYvYWM3/AA" rel="nofollow noreferrer" title="Octave – Try It Online">Try it online!</a></p>

<p>My first Octave answer \o/</p>

<p>Octave’s <code>qr</code> has quite a few alternatives in other languages that return both <strong>Q</strong> and <strong>R</strong>: <code>QRDecomposition</code> (Mathematica), <code>matqr</code> (PARI/GP), <code>128!:0</code> - if I recall correctly - (J), <code>qr</code> (R)...</p>
</div>
<div id="pu2" class="pu"><h1>Python 2, <s>329</s> 324 bytes</h1>

<pre class="lang-python prettyprint-override"><code>import fractions
I=lambda v,w:sum(a*b for a,b in zip(v,w))
def f(A):
 A,U=[map(fractions.Fraction,x)for x in zip(*A)],[]
 for a in A:
    u=a
    for v in U:u=[x-y*I(v,a)/I(v,v)for x,y in zip(u,v)]
    U.append(u)
 Q=[[a/I(u,u)**.5 for a in u]for u in U];return zip(*Q),[[I(e,a)*(i&gt;=j)for i,a in enumerate(A)]for j,e in enumerate(Q)]
</code></pre>

<p>We must use fractions to ensure correct output, see <a href="https://en.wikipedia.org/wiki/Gram%E2%80%93Schmidt_process#Numerical_stability" rel="nofollow noreferrer">https://en.wikipedia.org/wiki/Gram%E2%80%93Schmidt_process#Numerical_stability</a></p>

<p>Indentation used:</p>

<ol>
<li>1 space</li>
<li>1 tab</li>
</ol>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>38</s> 37 bytes</h1>



<pre class="lang-r prettyprint-override"><code>pryr::f(list(qr.R(q&lt;-qr(m)),qr.Q(q)))
</code></pre>

<p><a href="https://tio.run/##K/qfZvu/oKiyyMoqTSMns7hEo7BIL0ij0Ea3sEgjV1NTB8gN1CjU1NT8n2ubm1hSlFmhkaxhoGOgYwjGhhBaU8dYkysNqOE/AA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>Python with numpy, 28 bytes</h1>



<pre class="lang-python prettyprint-override"><code>import numpy
numpy.linalg.qr
</code></pre>
</div>
<div id="pu5" class="pu"><h1>Julia, 2 bytes</h1>

<pre><code>qr
</code></pre>

<p>The function <code>qr</code> accepts a square matrix and returns a <code>Tuple</code> of matrices: <strong>Q</strong> and <strong>R</strong>.</p>

<p><a href="https://tio.run/##yyrNyUw0@/8/Lb9IoSS1uEQhM09Boyq1KL9YwzOvREfBGIg0dRRSK1NR@NGGCkYKxtYKBgrGCoYgykDBIlaHSwEZRINEwZKGCgbWQAIIY4FagRoVTEB8I5CspYIpDq1w7QYwI6AMCBNsHsRgqJJYTbApBUWZeSU5eRqFRRogH2lqcqXmpfz/DwA" rel="noreferrer">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.sagemath.org/" rel="nofollow noreferrer">SageMath</a>, 27 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda x:matrix(RDF,x).QR()
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 15 bytes</h1>

<pre><code>QRDecomposition
</code></pre>

<p><a href="https://tio.run/##y00syUjNTSzJTE78n2Yb8z8wyCU1OT@3IL84syQzP@9/QFFmXkl0WnR1tYGOAhwZ1uooIAQMgSRCwBAiDBUwhCGwgCGKGbWxsf8B" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>

<p>I mean... what can I say?</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/151804/">151804</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




