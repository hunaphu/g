<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::200950</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>058</td><td>Juby</td><td>250502T171636Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/279472#279472">Jordan</a></td></tr>
<tr d-ix="1"><td>008</td><td>Japt</td><td>201029T103532Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/214342#214342">Shaggy</a></td></tr>
<tr d-ix="2"><td>010</td><td>Husk</td><td>201029T101354Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/214338#214338">Razetime</a></td></tr>
<tr d-ix="3"><td>008</td><td>Jelly</td><td>200313T043402Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200951#200951">hyperneu</a></td></tr>
<tr d-ix="4"><td>007</td><td>Jelly</td><td>200313T190622Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/201007#201007">Jonathan</a></td></tr>
<tr d-ix="5"><td>050</td><td>Ruby</td><td>200313T095629Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200969#200969">G B</a></td></tr>
<tr d-ix="6"><td>081</td><td>C gcc</td><td>200313T155344Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200989#200989">S.S. Ann</a></td></tr>
<tr d-ix="7"><td>060</td><td>C gcc lm</td><td>200313T135458Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200980#200980">Noodle9</a></td></tr>
<tr d-ix="8"><td>039</td><td>Perl 5 MListUtil=sum n</td><td>200313T043544Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200952#200952">Xcali</a></td></tr>
<tr d-ix="9"><td>017</td><td>Charcoal</td><td>200313T121239Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200978#200978">Neil</a></td></tr>
<tr d-ix="10"><td>040</td><td>JavaScript ES7</td><td>200313T082558Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200965#200965">Arnauld</a></td></tr>
<tr d-ix="11"><td>007</td><td>05AB1E</td><td>200313T081349Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200963#200963">Kevin Cr</a></td></tr>
<tr d-ix="12"><td>009</td><td>05AB1E</td><td>200313T094738Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200968#200968">Grimmy</a></td></tr>
<tr d-ix="13"><td>071</td><td>Python 2</td><td>200313T091418Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200966#200966">ovs</a></td></tr>
<tr d-ix="14"><td>029</td><td>Bash + GNU utilities</td><td>200313T061602Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200958#200958">Mitchell</a></td></tr>
<tr d-ix="15"><td>042</td><td>Haskell</td><td>200313T044618Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200954#200954">xnor</a></td></tr>
<tr d-ix="16"><td>052</td><td>Python 2</td><td>200313T045556Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200957#200957">xnor</a></td></tr>
<tr d-ix="17"><td>012</td><td>APL Dyalog Extended</td><td>200313T045355Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200956#200956">Bubbler</a></td></tr>
<tr d-ix="18"><td>093</td><td>Python 3</td><td>200313T045140Z</td><td><a href="https://codegolf.stackexchange.com/questions/200950/progressing-twos/200955#200955">lyxal</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/cyoce/J-uby" rel="nofollow noreferrer">J-uby</a>, 58 bytes</h1>
<pre class="lang-ruby prettyprint-override"><code>:+&amp;1|:*|:zip%(:*&amp;(~:**&amp;0.5|Z))|:*&amp;+:-|~:each_cons&amp;2|:*&amp;+:+
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m700K740qXLBIjfbpaUlaboWN62stNUMa6y0aqyqMgtUNay01DTqrLS01Az0TGuiNDWBMmraVro1dVapickZ8cn5ecVqRhBBbagJrgUKbtHGsQrKCrp2CtEGOgqGOgrGsVwgUUMDNGEdBRMdBVMdBXMdBUugCFDI0AiIgcohhi1YAKEB" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 8 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Another port of <a href="https://codegolf.stackexchange.com/a/200957/58974">xnor's formula</a>.</p>
<pre><code>ôÈ-¬fÃä+
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=9MgtrGbD5Cs&amp;input=MTAw" rel="nofollow noreferrer">Try it</a></p>
<pre><code>ôÈ-¬fÃä+     :Implicit input of integer
ô            :Range [0,input]
 È-          :Map &amp; subtract
   ¬         :  Square root
    f        :  Floored
     Ã       :End map
      ä+     :Consecutive pairs reduced by addition
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 10 bytes</h1>
<pre><code>ΘẊ+mṠ-o⌊√ḣ
</code></pre>
<p><a href="https://tio.run/##AR8A4P9odXNr///OmOG6iitt4bmgLW/ijIriiJrhuKP///81" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 8 bytes</h1>

<pre><code>R_Æ½$+ƝŻ
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/z8o/nDbob0q2sfmHt39//9/QwMA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>-5 bytes by porting <a href="https://codegolf.stackexchange.com/a/200957/68942">xnor's formula</a> (thanks Bubbler!)</p>

<p>-1 byte thanks to Nick Kennedy</p>

<h1>Explanation</h1>

<p>Uses xnor's formula of:</p>

<p><span class="math-container">$$f(n) = \sum_{k \in \{n,n+1\}}\left({k-\lfloor \sqrt k\rfloor}\right)$$</span></p>

<pre><code>R_Æ½$+ƝŻ    Main Link
R           range
 _   $      subtract
  Æ½                 square root floored (of each element)
     +Ɲ     add adjacent pairs together
       Ż    prepend 0
</code></pre>

<p>Without xnor's formula, I have 10 bytes</p>

<h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 10 bytes</h1>

<pre><code>RÆ²Ẹ$Ɲ¬‘ÄŻ
</code></pre>

<p><a href="https://tio.run/##ASAA3/9qZWxsef//UsOGwrLhurgkxp3CrOKAmMOExbv///8xMA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>(range; for each pair of adjacent elements, check if either of them is square; logical NOT that and add one (gets the original 1,2 sequence), cumulative sum, prepend 0)</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>Ż_Æ½$+Ɲ
</code></pre>

<p>A monadic Link accepting a positive integer, <code>n</code>, which yields a list of the first <code>n</code> entries.</p>

<p><strong><a href="https://tio.run/##y0rNyan8///o7vjDbYf2qmgfm/v//39jUwA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>

<h3>How?</h3>

<p>Application of xnor's pair-wise addition formula <span class="math-container">\$f(n) = \sum_{k \in \{n,n+1\}}\left({k-\lfloor \sqrt k\rfloor}\right)\$</span></p>

<pre><code>Ż_Æ½$+Ɲ - integer, n                       e.g. 10
Ż       - zero range                            [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    $   - last two links as a monad:
  Æ½    -   integer square-root (vectorises)    [0, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3]
 _      -   subtract (vectorises)               [0, 0, 1, 2, 2, 3, 4, 5, 6, 6, 7]
      Ɲ - for neighbours:
     +  -   add                                  [0, 1, 3, 4, 5, 7, 9, 11,12,13]
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>52</s> 50 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;n,*w{n.times{|x|w+=[x,x*x,x*x];p w.sort[x+1]+x}}
</code></pre>

<p><a href="https://tio.run/##KypNqvyfZvtf1y5PR6u8Ok@vJDM3tbi6pqKmXNs2ukKnQguMY60LFMr1ivOLSqIrtA1jtStqa/@nRRuaxv4HAA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>

<h3>How:</h3>

<p>The difference between n and f(n) shows an interesting pattern:</p>

<pre class="lang-ruby prettyprint-override"><code>n   f   f-n
----------
0   0   0
1   1   0
2   3   1
3   4   1
4   5   1
5   7   2
6   9   3
7   11  4
8   12  4
9   13  4
10  15  5
11  17  6
12  19  7
13  21  8
14  23  9
15  24  9
16  25  9
17  27  10
18  29  11
19  31  12
</code></pre>

<p>In the rightmost sequence, every non-square number occurs only once, and every square number appears three times (except 0 which occurs only twice). I can build the required sequence as the sum of n and (f-n).</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 81 bytes</h1>



<pre class="lang-c prettyprint-override"><code>r,c,i;f(n){for(r=c=0;~n;c++)for(i=++c;i--+2&amp;&amp;n--;r+=c+~i&amp;&amp;i+2)printf("%d ",r++);}
</code></pre>

<p>Some magic hackery used.</p>

<p><em>-4 bytes thanks to <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">ceilingcat</a>!</em></p>

<p><a href="https://tio.run/##FYtBCsMgEADvvkIsFWVjCYGeNvYvZa3tQqvBJL2E5OvWznGYIfckqrV01DFGk@wWczHFk@/xSEgA9i/YAxCyczBonZzDAp7gYK0ZBjsVTks06hyk6kpbcK8nTvRew0OO8xI4X143IVolP3dO5ps5WLEJ2Yjm2luU07rMRimLYq8/" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a> <code>-lm</code>, <sup><s>72</s> <span class="math-container">\$\cdots\$</span> <s>61</s></sup> 60 bytes</h1>

<p>Saved a byte thanks to <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">ceilingcat</a>!!!   </p>



<pre class="lang-c prettyprint-override"><code>s;i;f(n){for(s=i=0;i&lt;n;)printf("%d ",i-~i-s-(s=sqrt(++i)));}
</code></pre>

<p><a href="https://tio.run/##DYpBCoMwEEX3nmIQCjM6wVhbSkk9jKREBjRtE3dij950HvzN@8@b2ftSshMXMNIeXgnzKKN18oiO3kniFrA@PaFmMV8x2eifP2nDthUickfRBNZJItJegRKwt@SgayxDzzAwXBiuDDeGuxpV/Vk3QNNVR/n5sExzLmZZ/w" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<p>Uses <a href="https://codegolf.stackexchange.com/users/20260/xnor">xnor</a>'s <a href="https://codegolf.stackexchange.com/a/200957/78410">formula</a>.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-MList::Util=sum -n</code>, 39 bytes</h1>

<p>Shoutout to @xnor for the formula.  This is essentially a port of <a href="https://codegolf.stackexchange.com/a/200957/72767">his Python answer.</a></p>



<pre class="lang-perl prettyprint-override"><code>map{say$a+($n=$_-int$_**.5);$a=$n}1..$_
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/z83saC6OLFSJVFbQyXPViVeNzOvRCVeS0vPVNNaJdFWJa/WUE9PJf7/f0ODf/kFJZn5ecX/dX1N9QwMDf7r5uUAAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 17 bytes</h1>

<pre><code>ＩＥＥＮ…±⊕ι⊕ιＬ⁻↔ιＸι²
</code></pre>

<p><a href="https://tio.run/##XYzBCsIwEER/pccNVFCvnsSTYEvxD7ZxSQPppiSb@vnr0qMDc3mPGb9g8RmT6lQiCzywCgy4HX3y1mRs60wFXN@9kQPBSAGFzPlCK7HQB6Iz@weMvIiDLDBEbhXuc82p2TCamfLXLmPfXd2Rm@rlrKc9/QA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Based on @xnor's formula. Explanation:</p>

<pre><code>   Ｎ                Input as a number `m`
  Ｅ                 Map over implicit range `0`..`m-1`
       ι ι          Current index `n`
      ⊕ ⊕           Incremented (i.e. `1`..`m`)
     ±              Negated
    …               Exclusive range (i.e. `-n` .. `n-1`)
 Ｅ                  Map over list of ranges
             ι ι    Current range
              Ｘ ²   Squares of values
            ↔       Absolute values
           ⁻        Remove the squares
          Ｌ         Take the length
Ｉ                   Cast to string
                    Implicitly print
</code></pre>
</div>
<div id="pu10" class="pu"><h1>JavaScript (ES7), 40 bytes</h1>
<p>This is using the closed-form formula described below.</p>
<p>But because we're asked to output the <span class="math-container">\$n\$</span> first terms of the sequence, we need 19 bytes of wrapping code. :'-(</p>

<pre class="lang-javascript prettyprint-override"><code>f=n=&gt;n?[...f(n-1),(n-=n**.5)*2|n%1&gt;0]:[]
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/f8/zTbP1i7PPlpPTy9NI0/XUFMHSNrmaWnpmWpqGdXkqRraGcRaRcf@T87PK87PSdXLyU/XSNMwMtDU/A8A" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>21 bytes (n-th term, 1-indexed)</h3>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;(n-=n**.5)*2|n%1&gt;0
</code></pre>
<p><a href="https://tio.run/##DcoxCoQwEAXQ3lNM4cJMRFHByo1nMaiRXeSP6GITc/as1Wve113unI7P/iuh85K8TbADo7QwpurEtDdezVAnrweDLDU9gd7U1Y9FIRQyoklx6rZUm648Os4Dojw1D54hcZQ@i@kP" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Given <span class="math-container">\$n\ge0\$</span>, we compute:</p>
<p><span class="math-container">$$d(n)=2\cdot\lfloor n-\sqrt{n}\rfloor\\
f(n)=\cases{
d(n)&amp;\text{if $n$ is a square}\\
d(n)+1&amp;\text{otherwise}
}$$</span></p>
<p>The JS implementation uses a bitwise OR which implicitly floors <span class="math-container">\$n-\sqrt{n}\$</span> <em>after</em> it has been multiplied by <span class="math-container">\$2\$</span>. But this leads to the same result.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>9</s> 7 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ÝDtï-ü+
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/200956/52210"><em>@Bubbler</em>'s top APL answer</a>, which uses the same formula as <a href="https://codegolf.stackexchange.com/a/200957/52210"><em>@xnor</em>'s Python answer</a>:<br />
<span class="math-container">$$f(n) = \sum_{k \in \{n,n+1\}}\left({k-\lfloor \sqrt k\rfloor}\right)$$</span></p>
<p>-2 bytes thanks to <em>@Grimmy</em>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//8FyXksPrdQ/v0f7/39DAAAA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Ý        # Push a list in the range [0, (implicit) input-integer]
 D       # Duplicate this list
  t      # Take the square-root of each value
   ï     # Cast it to an integer to floor it
    -    # Subtract the values at the same positions from one another
     ü   # For each overlapping pair:
      +  #  Add them together
         # (after which the result is output implicitly)
</code></pre>

<hr />
<p>Implementing the steps described in the challenge description would be <strong>13 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></strong> instead:</p>
<pre class="lang-none prettyprint-override"><code>2∞и1δš€û˜.¥I£
</code></pre>
<p><a href="https://tio.run/##ASUA2v9vc2FiaWX//zLiiJ7QuDHOtMWh4oKsw7vLnC7CpUnCo///MTAw" rel="nofollow noreferrer">Try it online.</a></p>
<p>Or <code>2∞и1δš€û</code> could alternatively be <code>ÅÉÅ21δ.ø</code>.</p>
<p><a href="https://tio.run/##ASIA3f9vc2FiaWX//8OFw4nDhTIxzrQuw7jLnC7CpUnCo///MTAw" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code> ∞             # Push an infinite positive list: [1,2,3,...]
2 и            # Repeat 2 that many times as list: [[2],[2,2],[2,2,2],...]
    δ          # For each inner list:
   1 š         #  Prepend a leading 1: [[1,2],[1,2,2],[1,2,2,2],...]
      €        # For each inner list:
       û       #  Palindromize it: [[1,2,1],[1,2,2,2,1],[1,2,2,2,2,2,1],...]
        ˜      # Flatten the list of 1s and 2s: [1,2,1,1,2,2,2,1,1,2,2,2,2,2,1,...]
         .¥    # Undelta it (cumulative sum with 0 automatically prepended):
               #  [0,1,3,4,5,7,9,11,12,13,15,17,19,21,23,24,25,...]
           I£  # Leave the first input amount of items from this infinite list
               # (after which the result is output implicitly)

ÅÉ             # Push a list of odd numbers below or equal to the (implicit) input
               #  i.e. 6 → [1,3,5]
  Å2           # Repeat a list of 2s for each inner value: [[2],[2,2,2],[2,2,2,2,2]]
     δ         # For each inner list:
    1 .ø       #  Surround it with 1s: [[1,2,1],[1,2,2,2,1],[1,2,2,2,2,2,1]]
               # (The rest is the same as above)
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 9 bytes</h1>

<pre><code>ENÅ²_©O=®
</code></pre>

<p><a href="https://tio.run/##yy9OTMpM/f/f1e9w66FN8YdW@tseWvf/v7EBAA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<pre><code>E           # loop for N from 1 to input:
 NÅ²        #  is N a square?
    _       #  logical not (0 if N is a square, 1 if not)
     ©      #  save in the register without popping
      O     #  sum all numbers on the stack
       =    #  print without popping
        ®   #  push the content of the register
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 71 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda n,k=0,w=3:n*[n]and[0]+[x-~(k&gt;1)for x in f(n-1,~-k%w,w+2*0**k)]
</code></pre>

<p><a href="https://tio.run/##DclBCoAgEADAr3gJcltB6xbYR8SDEVJYq0RgXfr61lynPNeaqWeOdg/HvARBmKzGaoeRwJEPtDjtO3ert02TkTGf4hYbidiSMviq1FSsXQ8aIEnP5dzo@tNoyR8" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a> + GNU utilities, <s>33</s> 29 bytes</h1>



<pre class="lang-bash prettyprint-override"><code>seq -f %0.fddv-r1-dv-+p $1|dc
</code></pre>

<p><a href="https://tio.run/##S0oszvj/vzi1UEE3TUHVQC8tJaVMt8hQF0hqFyioGNakJP///9/QAAA" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a></p>

<p>This is another solution using <a href="https://codegolf.stackexchange.com/a/200957/78410">@xnor's nice formula</a>.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 42 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>(`take`q 4)
q k=0:[1,3..k]++map(k+)(q$k+4)
</code></pre>

<p><a href="https://tio.run/##BcFLCoAgEADQfaeYRQvFkn6rwJNU4BBaMhaanb/pvRMLuRjZm5WFfZGczTDJKgOZbl76ZtSaNqUuTIKUFLkmNUm@MNxgID3hfqEGD0PH3@4jHoXbPaUf" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>Uses a version of <a href="https://codegolf.stackexchange.com/a/200956/20260">Bubbler's observation</a> that the sequence alternates runs of consecutive odd numbers with an even number directly in between.</p>

<hr>

<h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 43 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>(`take`scanl(+)0(q[2]))
q r=1:r++1:q(2:2:r)
</code></pre>

<p><a href="https://tio.run/##BcFLCoAgEADQfaeYRQtFAnUpeJIKHERLMvF3/qb3bhxPyJmiPYi5iU9ww2PJTHDJ2q5PzpcG3SrThVCmMW206ZxeTAUs1J7KhBUiKEmfjxmvQZuv9Qc" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>Generates an infinite list of 1's and 2's, take the cumulative sums, and truncates to the input length.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 52 bytes</h1>



<pre class="lang-python prettyprint-override"><code>n=p=0
exec"n+=1;r=n-n**.5//1;print p+r;p=r;"*input()
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/r/P8@2wNaAK7UiNVkpT9vW0LrINk83T0tLz1Rf39C6oCgzr0ShQLvIusC2yFpJKzOvoLREQ/P/fyMDAA" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p><strong>54 bytes</strong></p>



<pre class="lang-python prettyprint-override"><code>lambda N:[n-~n-n**.5//1-(n+1)**.5//1for n in range(N)]
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/qfZhvzPycxNyklUcHPKjpPty5PN09LS89UX99QVyNP21ATyknLL1LIU8jMUyhKzEtP1fDTjP1fUJSZV6KQpmFkoPkfAA" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>It's a formula!</p>

<p><span class="math-container">$$f(n) = 2n+1 - \lfloor \sqrt n\rfloor - \lfloor \sqrt {n+1} \rfloor$$</span></p>

<p>This can also be split up as</p>

<p><span class="math-container">$$f(n) = \sum_{k \in \{n,n+1\}}\left({k-\lfloor \sqrt k\rfloor}\right)$$</span></p>

<p>Note that <span class="math-container">\$k-\lfloor \sqrt k\rfloor\$</span> is the number of non-squares from <span class="math-container">\$1\$</span> to <span class="math-container">\$k\$</span> inclusive.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, <sup><s>14</s></sup> 12 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>0,2+/⍳-⌊∘√∘⍳
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn/qG@qp/@jtgmG/w10jLT1H/Vu1n3U0/WoY8ajjlkgsnfz/zSg9KPePojKruZD640ftU0E8oKDnIFkiIdn8P80BUOuNAUjIDYGYkMDAA" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>

<p>Uses <a href="https://codegolf.stackexchange.com/a/200957/78410">xnor's formula</a> of</p>

<p><span class="math-container">$$
f(n) = \sum_{k \in \{n,n+1\}}\left({k-\lfloor \sqrt k\rfloor}\right)
$$</span></p>

<h3>How it works</h3>

<pre class="lang-apl prettyprint-override"><code>0,2+/⍳-⌊∘√∘⍳
     ⍳-       ⍝ 1..n minus...
       ⌊∘√∘⍳  ⍝ floor(sqrt(1..n))
  2+/         ⍝ Add two consecutive pairs
              ⍝ giving first n items of the sequence except leading 0
0,            ⍝ Prepend the leading 0
</code></pre>

<hr>

<h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, 14 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>⊢↑2(∧+/,2××/)⍳
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn/qG@qp/@jtgkG/x91LXrUNtFI41HHcm19HaPD0w9P19d81Lv5fxpQ@lFvH0RlV/Oh9cZAdUBecJAzkAzx8Az@n6ZgyJWmYATExkBsaAAA" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>

<p>Based on the observation that the sequence is the union of all odd numbers and the numbers in the form of <span class="math-container">\$2n(n+1), n \ge 0\$</span>. Uses <code>⎕IO←0</code>.</p>

<h3>How it works</h3>

<pre class="lang-apl prettyprint-override"><code>⊢↑2(∧+/,2××/)⍳  ⍝ Input: positive integer n
             ⍳  ⍝ Generate 0..n-1
  2(      ×/)   ⍝ Pairwise product (0×1, 1×2, ..., (n-2)×(n-1))
        2×      ⍝ Double it
     +/,        ⍝ Concat with pairwise sum (0+1, 1+2, ..., (n-2)+(n-1))
    ∧           ⍝ Ascending sort the 2(n-1) numbers in total
⊢↑              ⍝ Take the first n numbers
                ⍝ For n=1, "overtake" from zero elements, giving single 0
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 93 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda n,x=0:(n-x)*[1]and[sum([j for i in range(1,n,2)for j in[1]+[2]*i+[1]][:x])]+f(n,x+1)
</code></pre>

<p><a href="https://tio.run/##NYxBCoMwEADvfcUed00KRm@CL1n2ELFpI3WVaCG@Pk0PvQ3DMPt1vjbtSwnj26/T7EFtHtsB9Z6pYSdeZz4@K/ICYUsQISokr88HOqu2o59cqqyp4U6aaCoJD1lITMB6M47KnqKeGLAnuv3ZtUTlCw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p><em>-21 bytes thanks to @Bubbler</em></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/200950/">200950</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




