<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::185005</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>058</td><td>JavaScript Node.js</td><td>251014T080828Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/284107#284107">l4m2</a></td></tr>
<tr d-ix="1"><td>029</td><td>Pip</td><td>251013T151221Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/284100#284100">DLosc</a></td></tr>
<tr d-ix="2"><td>048</td><td>Ruby</td><td>190502T101332Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185054#185054">Alexis D</a></td></tr>
<tr d-ix="3"><td>134</td><td>C# Visual C# Interactive Compiler</td><td>190505T144530Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185206#185206">dana</a></td></tr>
<tr d-ix="4"><td>026</td><td>Japt</td><td>190504T133308Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185162#185162">dana</a></td></tr>
<tr d-ix="5"><td>036</td><td>Charcoal</td><td>190501T195431Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185029#185029">Neil</a></td></tr>
<tr d-ix="6"><td>048</td><td>x8664 machine code function</td><td>190503T114027Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185097#185097">Peter Co</a></td></tr>
<tr d-ix="7"><td>180</td><td>Java</td><td>190502T160051Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185071#185071">Poke</a></td></tr>
<tr d-ix="8"><td>4943</td><td>x86 assembly function</td><td>190503T233545Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185139#185139">Daniel S</a></td></tr>
<tr d-ix="9"><td>nan</td><td>PowerPC/PPC64 C</td><td>190501T222853Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185041#185041">Daniel S</a></td></tr>
<tr d-ix="10"><td>047</td><td>Linux POSIX shell with nettools/iputils 34 bytes nonterminating</td><td>190502T083608Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185051#185051">yoann</a></td></tr>
<tr d-ix="11"><td>071</td><td>PHP</td><td>190501T170858Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185018#185018">640KB</a></td></tr>
<tr d-ix="12"><td>120</td><td>R</td><td>190502T124115Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185058#185058">Zahiro M</a></td></tr>
<tr d-ix="13"><td>021</td><td>05AB1E</td><td>190502T095601Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185052#185052">Kevin Cr</a></td></tr>
<tr d-ix="14"><td>062</td><td>Python 3</td><td>190501T140811Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185009#185009">agtoever</a></td></tr>
<tr d-ix="15"><td>072</td><td>Perl 5 Mbigint MSocket=all p</td><td>190502T040129Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185047#185047">Xcali</a></td></tr>
<tr d-ix="16"><td>187</td><td>C# Visual C# Interactive Compiler</td><td>190502T032156Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185046#185046">Gymhgy</a></td></tr>
<tr d-ix="17"><td>023</td><td>Jelly</td><td>190501T173252Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185019#185019">Nick Ken</a></td></tr>
<tr d-ix="18"><td>022</td><td>Stax</td><td>190501T162117Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185015#185015">recursiv</a></td></tr>
<tr d-ix="19"><td>088</td><td>PHP</td><td>190501T143828Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185011#185011">Luis fel</a></td></tr>
<tr d-ix="20"><td>nan</td><td>C# Visual C# Compiler</td><td>190501T151838Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185012#185012">Mayube</a></td></tr>
<tr d-ix="21"><td>082</td><td>JavaScript ES6</td><td>190501T135931Z</td><td><a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185008#185008">Arnauld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 58 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.split(/\D/).map(t=&gt;[b=+t&amp;&amp;a&gt;&gt;&gt;-t,a^=t&lt;&lt;8*i--],i=7)|!b
</code></pre>
<p><a href="https://tio.run/##hdDNjoIwEAfw@z5F14NQlekXqAfb02afYG@oSVVUDAKRarLJvjtLCSR4qLZp8m@TX2amF/3Q1f6WlibIi0NSH2WtpdJQlVlqfLL@IhiuuvSNVPFOTs14rJVSgZnprTSr1XKSBsFmlsoF/vvc1fsir4osgaw4@V78c7ub8@/Gwx/D96M/YnwBtNkM9YkSHo4wRnYRghqZuFAUDZXolAtRCIGBEKhNlrB5X8iFeBTB4CDaFaMt7NGT8tZ5/K2zyjUtAw7CNa2FyWtlEyOCv1XNp1JYirbv7hLaeq3sVf0P" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<hr />
<p>two args for compare</p>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 68 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;b=&gt;(i=7,a+!1+b).split(/\D/).map(t=&gt;[b=+t&amp;&amp;a&gt;&gt;&gt;-t,a^=t&lt;&lt;8*i--])|!b
</code></pre>
<p><a href="https://tio.run/##hdDNjoIwFAXg/TyFspBW5PYPRhe2q8k8wexQk6KoGAaIdCYx8d0ZSiCjJmibLk6TLzfnnvSvrrbntDR@XuySei9rLVUsFUrlfKa9MfNiDFWZpQaR1QfB8K1LZKSKYumZyUQrpXwz0xtplsvFNPX9Nb6O43pb5FWRJZAVB@RGX@cfc7ysXfx2@79HDuNzoM1lDv4PlPDAwXhkDyGjBidDLgwfoOjgkKMQAAMhWmaDVey9HzfkeBjCzbOadiNpa3t3B91VHn3qrBpqzoCDeNLc2uQltIERwV/CZs0UFqIv0OXATm1xD@s/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a>, 29 bytes</h1>
<pre><code>$=Z:Z J*TBg@XI+E8TM1,0Hb@XI@v
</code></pre>
<p>Returns 1 for matching, 0 for not matching. <a href="https://ato.pxeger.com/run?1=m724ILNgwYKlpSVpuhZ7VWyjrKIUvLRCnNIdIjy1XS1CfA11DDySgByHMogaqNJ90UqGRuZ6BnqGeqamSjoKUB4Q6hsZK8VCVQEA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<p>Hey, the operator precedence worked out nicely this time.</p>
<pre><code>$=Z:Z J*TBg@XI+E8TM1,0Hb@XI@v
          g                    List of both command-line args
           @XI                 In each, find all regex matches of integers
              +E8              To each, add 256
        TB                     Convert to binary
                 TM1,0         Trim the leftmost character from each
                               (Add 256 and trim is necessary to pad each to 8 bits)
      J*                       Join each processed arg into a single bitstring
    Z                          Zip the two bitstrings together
                      H        Take this many of those pairs:
                       b         Second command-line arg
                        @XI      Find all regex matches of integers
                           @v    Get the last one
  Z:                           Zip again into a list of two lists of bits
$=                             Are both lists equal?
</code></pre>
<p>Note that the subnet also gets converted to binary with the second address, but the zipping step gets rid of it, so it doesn't matter.</p>
</div>
<div id="pu2" class="pu"><h1><strong>Ruby (48 bytes)</strong></h1>



<pre><code>require 'ipaddr'
lambda{|a,m|IPAddr.new(m)===a}
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a>, 134 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>a=&gt;a.Select(x=&gt;x.Split('.','/').Take(4).Aggregate(0L,(y,z)=&gt;y&lt;&lt;8|int.Parse(z))&gt;&gt;32-int.Parse(a[1].Split('/')[1])).Distinct().Count()&lt;2
</code></pre>

<p><a href="https://tio.run/##ZY5fS8MwFMXf8yl0L00gvUvSVgdrC6IIwh7ECT6MPWQ1q2ElkzZjf2o/e01n5wYjCff8Dpxzk1V@Vun2eWOyuLKlNvlsThfrdZEuk1YmqYSpKlRm8S5JdzD9LrTFHnjUG3oE3uVK4ZDAQ56XKpdWYTaheE8PJEn3cTz60cbCqywrhQ@EpGkg/LMjZ3x@KnRljgiBJ11Zbdw6Ao/rjXEzFu0Ybb90ofCLgVelVpjcJj4nqEZ/H76RyZuSnxNtFCZ0cQFj9FFqq44wqBn1BWtqTn0eNbVoBlTSBV1io7azee10Q1yiabm4B@YORyfFhiL8hyi69IMe@LXPIHR20KvO5XdIRBFcPMT6ADuGOQgIrtee7U7xYSC6TndHwbGkh7BLiF8" rel="nofollow noreferrer" title="C# (Visual C# Interactive Compiler) – Try It Online">Try it online!</a></p>

<p>LINQ statement that takes a 2-element string array as input in <code>[address, subnet]</code> format.</p>

<p>Each dotted quad is converted into 32 bits of a long using bit manipulation. The bits are right shifted by the subnet size and elements are compared for equality.</p>

<p>There were a couple of C# answers at the time that this answer was posted, but none that used pure bit manipulation.</p>

<pre class="lang-cs prettyprint-override"><code>// a: input array containing address and subnet
a=&gt;a
  // iterate over input elements
  .Select(x=&gt;x
    // split element on . and /
    .Split('.','/')
    // the subnet will have 5 elements,
    // we only want the parts before the /
    .Take(4)
    // use an aggregate function to convert dotted quad to 32 bits
    .Aggregate(0L,(y,z)=&gt;y&lt;&lt;8|int.Parse(z))
    // shift bits of aggregate to the right
    &gt;&gt;
    // shift amount determined by subnet size
    32-int.Parse(a[1].Split('/')[1])
  )
  // test for equality by checking if number
  // of unique values is equal to 1
  .Distinct()
  .Count()&lt;2
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 26 bytes</h1>
<pre><code>Ëq'/
ËÎq. Ë°¤ù8Ã¬¯Ug1,1Ãr¶
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LVJt&amp;code=y3EnLwrLznEuIMuwpPk4w6yvVWcxLDHDcrY&amp;input=WwpbIjEyNy4wLjAuMSIsIjEyNy4wLjAuMC8yNCJdLApbIjEyNy4wLjAuNTUiLCIxMjcuMC4wLjAvMjMiXSwKWyIxMjcuMC4xLjU1IiwiMTI3LjAuMC4wLzIzIl0sClsiMTAuNC4xLjMzIiwiMTAuNC4wLjAvMTYiXSwKWyIyNTUuMjU1LjI1NS4yNTUiLCIwLjAuMC4wLzAiXSwKWyIxMjcuMS4yLjMiLCIxMjcuMC4wLjAvMjQiXSwKWyIxMjcuMS4yLjMiLCIxMjcuMS4yLjEvMzIiXSwKWyIxMC4xMC44My4yNTUiLCIxMC4xMC44NC4wLzIyIl0KXQ" rel="nofollow noreferrer">Try it</a></p>
<p>-3 bytes thanks to @Shaggy!</p>
<p>Input is an array with 2 elements <code>[address, subnet]</code>. Transpiled JS below:</p>
<pre><code>// U: implicit input array
// split elements in U on the / and
// save back to U using a map function
U = U.m(function(D, E, F) {
  return D.q(&quot;/&quot;)
});
// map the result of the previous operation
// through another function
U.m(function(D, E, F) {
  return D
    // get the address portion of the / split
    // value and split again on .
    .g().q(&quot;.&quot;)
    // map each octet through another function
    .m(function(D, E, F) {
      // convert the octet to a base 2 string
      // left padded to a length of 8
      return (D++).s(2).ù(8)
    })
    // join the base 2 octets
    .q()
    // take the left bits of the joined octets
    // determined by subnet size
    .s(0, U.g(1, 1))
})
  // at this point, the intermediate result
  // contains 2 masked values, reduce
  // using === to check for equality
  .r(&quot;===&quot;)
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 36 bytes</h1>

<pre><code>≔⪪Ｓ/θ≔Ｉ⊟θζ⊞θＳＵＭθ÷↨Ｉ⪪ι.²⁵⁶Ｘ²⁻³²ζ⁼⊟θ⊟θ
</code></pre>

<p><a href="https://tio.run/##VY7NCoMwEITvPoV42oCNf60XT63toQdB8AmCigY0Jiax0JdPE/XSy7LszH4z7UjWdiGTMXcp6cCg4RNV8GZcq0atlA2AQj@IAjsFKrzTVRKpoF44CGSFrxVqLUcQof/3ae8V4eUyz4R1h6qedKNdDw8i@wNzJFKbggNHS2@5nfXy6VdIQ7@iTEvIUheDHLG2bAUvockkzw7OvndBhTFJjK84xnGU5N6@JzjLzGWbfg" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes the subnet as the first parameter and and outputs <code>-</code> only if the address lies within the subnet. Explanation:</p>

<pre><code>≔⪪Ｓ/θ
</code></pre>

<p>Split the subnet on <code>/</code>.</p>

<pre><code>≔Ｉ⊟θζ
</code></pre>

<p>Remove the mask and cast it to integer.</p>

<pre><code>⊞θＳ
</code></pre>

<p>Push the address to the array.</p>

<pre><code>ＵＭθ÷↨Ｉ⪪ι.²⁵⁶Ｘ²⁻³²ζ
</code></pre>

<p>Split both addresses on <code>.</code>, convert them to integers, interpret as base 256, and discard the masked bits.</p>

<pre><code>⁼⊟θ⊟θ
</code></pre>

<p>Compare the two values.</p>
</div>
<div id="pu6" class="pu"><h1>x86-64 machine code function, <s>53</s> 48 bytes</h1>

<p>changelog:</p>

<ul>
<li>-2 <code>jz</code> over the shift instead of using a 64-bit shift to handle the <code>&gt;&gt;(32-0)</code> special case.</li>
<li>-3 return in ZF instead of AL, saving 3 bytes for a <code>setnz al</code>.</li>
</ul>

<p>(See also <a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code/185139#185139">Daniel Schepler's 32-bit machine code answer</a> based on this, which then evolved to use some other ideas we had.  I'm including my latest version of that at the bottom of this answer.)</p>

<hr>

<p>Returns ZF=0 for host <em>not</em> in subnet, ZF=1 for in subnet, so you can branch on the result with <code>je host_matches_subnet</code></p>

<p>Callable with the x86-64 System V calling convention as<br>
<code>bool not_in_subnet(int dummy_rdi, const char *input_rsi);</code> if you add in <code>setnz al</code>.</p>

<p>The input string contains both the host and network, separated by exactly 1 non-digit character.  The memory following the end of the CIDR width must contain at least 3 non-digit bytes before the end of a page.  (Shouldn't be a problem in most cases, like for a cmdline arg.)  Daniel's 32-bit version doesn't have this limitation.</p>

<p>We run the same dotted-quad parse loop 3 times, getting the two IPv4 addresses, and getting the <code>/mask</code> as an integer in the high byte of a dword.  (This is why there has to be readable memory after the <code>/mask</code>, but it doesn't matter if there are ASCII digits.)</p>

<p><strong>We do <code>(host ^ subnet) &gt;&gt; (32-mask)</code> to shift out the host bits</strong> (the ones allowed to mismatch), leaving only the difference between the subnet and the host.  To solve the <code>/0</code> special case where we need to shift by 32, we jump over the shift on count=0.  (<code>neg cl</code> sets ZF, which we can branch on <em>and</em> leave as the return value if we don't shift.)  Note that <code>32-mask mod 32 = -mask</code>, and x86 scalar shifts mask their count by <code>&amp; 31</code> or <code>&amp; 63</code>.</p>

<pre><code>    line  addr   machine                NASM source.  (from nasm -felf64 -l/dev/stdout)
    num          code bytes

     1                             %use smartalign
     2                             
     3                                 ;10.4.1.33 10.4.0.0/23         true
     4                                 ;10.4.1.33 10.4.0.0/24         false
     5                             
     6                             ;; https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code
     7                             %ifidn __OUTPUT_FORMAT__, elf64
     8                             in_subnet:
     9                             
    10 00000000 6A03                   push 3
    11 00000002 5F                     pop  rdi                    ; edi = 3 dotted-quads to parse, sort of.
    12                             .parseloop:
    13                             
    14                                 ;xor  ebx,ebx             ; doesn't need to be zeroed first; we end up shifting out the original contents
    15                                 ;lea  ecx, [rbx+4]
    16 00000003 6A04                   push   4
    17 00000005 59                     pop    rcx                  ; rcx = 4 integers in a dotted-quad
    18                             .quadloop:
    19                             
    20 00000006 31D2                   xor   edx,edx               ; standard edx=atoi(rdi) loop terminated by a non-digit char
    21 00000008 EB05                   jmp  .digit_entry
    22                              .digitloop:
    23 0000000A 6BD20A                 imul   edx, 10
    24 0000000D 00C2                   add    dl, al
    25                              .digit_entry:
    26 0000000F AC                     lodsb
    27 00000010 2C30                   sub    al, '0'
    28 00000012 3C09                   cmp    al, 9
    29 00000014 76F4                   jbe   .digitloop
    30                                 ; al=non-digit character - '0'
    31                                 ; RDI pointing to the next character.
    32                                 ; EDX = integer
    33                             
    34 00000016 C1E308                 shl    ebx, 8
    35 00000019 88D3                   mov    bl, dl               ; build a quad 1 byte at a time, ending with the lowest byte
    36 0000001B E2E9                   loop .quadloop
    37                             
    38 0000001D 53                     push   rbx          ; push result to be collected after parsing 3 times
    39 0000001E FFCF                   dec    edi
    40 00000020 75E1                   jnz   .parseloop
    41                             
    42 00000022 59                     pop    rcx   ; /mask  (at the top of a dword)
    43 00000023 5A                     pop    rdx   ; subnet
    44 00000024 58                     pop    rax   ; host
    45 00000025 0FC9                   bswap  ecx   ; cl=network bits  (reusing the quad parse loop left it in the high byte)

    49 00000027 F6D9                   neg    cl
    50 00000029 7404                   jz   .all_net     ; skip the count=32 special case
    51                             
    52 0000002B 31D0                   xor    eax, edx   ; host ^ subnet
    53 0000002D D3E8                   shr    eax, cl    ; shift out the host bits, keeping only the diff of subnet bits
    54                             
    55                             .all_net:
    56                                ; setnz  al         ; return ZF=1 match,  ZF=0 not in subnet
    57 0000002F C3                     ret
    58 00000030 30                 .size:      db $ - in_subnet

              0x30 = 48 bytes
</code></pre>

<p>(not updated with latest version)
<a href="https://tio.run/##dVVNb@M2EL3rV8yhW9uNJX9ukMYwetktkFux3UPRxTagxLHEmiIVkkrk/Hl3SMq2vEkNJJKH88H35s2YWYt1Lg@pYrY@Hj@0FsHWzDgmRamSBOizWcyzdbbIVisIb/NsPluu4PRxpsX/91uf/XZMWkySzQYq5xp7P5sVmmOp5S6zjhV77IqKqRKzQtezpxatE1rZ2eLu43z@cSbqVKj0oFuT2jZX6GzqQ4Uqo9HnSoR6jIf38eZNaytYxVfdABgu4J3PBpAOtrACrp1Dnj61jFtwGhpmLE7BauNA77IkCwapddNX2HTaAGDeTenvh6Rco1UjBwqR@2Q5wisaTV92wli3gRcEVBzaBmwldo6wgG4duApBG1EKxSQUWjlUzsZqEhlVK7opfDN5d7P@foEJsL4AJahF9x5Qb97CGgRlLdFYegE2hJ1k/v8AYQBIBBFC3r3JR51TnBnuHbbMaTEmjifg48GhqQkDZYb8QFWUViknWA6o0SYk/7emy2bB@EgozSHpv8ULeBdRt7K/AMkqmBjn/sHlFJhMruJjjNTc5uGN5BAiyHU0HwVTUTcn06/xEtQYGNSNVJPD9vrGrCBEkJ4TbeDLpwfim7j0raMO@84p7AbuWe/5@dNfxHvPeiTWVh5X0A7cBUutn/0jp5tx@ZZqrxEqISzR6dAnixVF87zuYRPr5/4lQ22YoTo30Rq0DAZtK12vz0JLiYXvmKS@xR5xLMI9uYhsqVfP1nkQkreq28CsZnYPMGZRzY5O9c4L7UUbPrmK4DEizu3VCYsnlbbRntsX1gT5B3tB/UFHCfeQC2epmsHWhk5QSc9CjzDQIpHIo0aS3v1xJcoq0DihjXSROSWdQrpaRpYePNtq7wMMjiytgZqwGFHsQYo9xl7sKHC1TBX45yJVU8hphmt2IDq1kgcQOxr0kUHwnPRC@Xm1@A3ga4WK9FL6UKUdeCzZULb@NqtlsHi3YBlOJSAj8SC/EAX/DJm0lemZnFJkBFXoVrktQbQNFsJvGEYcibCpTiaPicHtOiVio@56yaLz3WdyIKXTpiYhPbWC1ATYkfQJ@BK4oCNVOHhmktymAaVfBKamHHOYhZ3gl2JIb@jamRWveB@T8xx@onk7b/XkWEqdU@QjrR3jkviII/@BI/0YIPzx9cufD39/pomKkxdmyljhN6ZtbtZwc3L5ZfE9rH7rVz8z5fO3aPDgu571H6Lv3kSb62iy/E7hBstWMkpzd5vermHsYVPKKPyCSTnAdKlDEzb1HR1YfOOWq0Uk/2BD6Pu/YHT6iB2twdLothlfCoz7y01gkhyP7/5E/wc" rel="nofollow noreferrer" title="Assembly (nasm, x64, Linux) – Try It Online">Try it online!</a></p>

<p>including a <code>_start</code> that calls it on <code>argv[1]</code> and returns an exit status.</p>

<pre><code>## on my desktop
$ ./ipv4-subnet "10.4.1.33 10.4.0.0/24"    &amp;&amp; echo "$? : in subnet" || echo "$? : not in subnet"
not in subnet

$ ./ipv4-subnet "10.4.1.33 10.4.0.0/23"    &amp;&amp; echo "$? : in subnet" || echo "$? : not in subnet"
in subnet
</code></pre>

<p>It works fine if you pass a command line arg containing a newline instead of a space.  But it has to be <em>instead</em>, not as well.</p>

<hr>

<h1>x86 32-bit machine code function, 38 bytes</h1>

<p>Do 9 integer -> uint8_t parses and "push" them on the stack, where we pop them off as dwords or use the last one still in CL.  Avoids reading past the end of the string at all.</p>

<p>Also, <code>dec</code> is only 1 byte in 32-bit mode.</p>

<pre><code>    72                             in_subnet:
    73 00000000 89E7                   mov   edi, esp
    74 00000002 51                     push  ecx
    75 00000003 51                     push  ecx                   ; sub esp,8
    76                             .byteloop:
    77                             
    78 00000004 31C9                   xor   ecx,ecx               ; standard ecx=atoi(rdi) loop terminated by a non-digit char
    79                                                             ; runs 9 times: 8 in two dotted-quads, 1 mask length
    80 00000006 EB05                   jmp  .digit_entry
    81                              .digitloop:
    82 00000008 6BC90A                 imul   ecx, 10
    83 0000000B 00C1                   add    cl, al
    84                              .digit_entry:
    85 0000000D AC                     lodsb
    86 0000000E 2C30                   sub    al, '0'
    87 00000010 3C09                   cmp    al, 9
    88 00000012 76F4                   jbe   .digitloop
    89                                 ; RDI pointing to the next character.
    90                                 ; EDX = integer
    91                             
    92 00000014 4F                     dec    edi
    93 00000015 880F                   mov    [edi], cl           ; /mask store goes below ESP but we don't reload it
    94 00000017 39E7                   cmp    edi, esp
    95 00000019 73E9                   jae   .byteloop
    96                             
    97                                 ;; CL = /mask still there from the last conversion
    98                                 ;; ESP pointing at subnet and host on the stack, EDI = ESP-1
    99                             
   100 0000001B 5A                     pop    edx   ; subnet
   101 0000001C 58                     pop    eax   ; host
   102                             
   103 0000001D 31D0                   xor    eax, edx             ; host ^ subnet
   104 0000001F F6D9                   neg    cl                   ; -mask = (32-mask) mod 32;  x86 shifts mask their count
   105 00000021 7402                   jz     .end                 ; 32-n = 32 special case
   106 00000023 D3E8                   shr    eax, cl
   107                             .end:
   108                                 ; setz  al                  ; just return in ZF
   109 00000025 C3                     ret

   110 00000026 26                 .size:      db $ - in_subnet
      0x26 = 38 bytes
</code></pre>

<p>Test caller</p>

<pre><code>   113                             global _start
   114                             _start:
   115 00000027 8B742408               mov    esi, [esp+8]   ; argv[1]
   116 0000002B E8D0FFFFFF             call   in_subnet
   117 00000030 0F95C3                 setnz  bl
   118 00000033 B801000000             mov    eax, 1         ; _exit syscall
   119 00000038 CD80                   int    0x80
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Java <s>215 211 207 202 200 199 198 190</s> 180 bytes</h1>

<pre class="lang-java prettyprint-override"><code>Long k,c;boolean a(String i,String s){return(b(i)^b(s))&gt;&gt;32-k.decode(s.split("/")[1])==0;}long b(String i){for(c=k=0l;c&lt;4;k+=k.decode(i.split("[./]")[3+(int)-c])&lt;&lt;8*c++);return k;}
</code></pre>

<p>Outputs <code>true</code> for truthy and <code>false</code> for falsy.</p>

<p>Note: This uses <code>long</code> instead of <code>int</code> for the potential right shift of 32.</p>

<p><a href="https://tio.run/##rdBNT8MgGAfw@z4F6QnsRumbLum6oyc96W2ZCaWorAyaQmdM089eqdZFL@oWQwgPhPx4/uzogS50zdWurAYmqTHglgrVDTdaPYFqzrJCa8mpAhTe2Ua4QzGfCoO6htu2UbCAAj0U0CC0XsfRosIlZ7rk0GBTS2GhF3hoE25RnpOsl6NcHDXUPeoGsrzKiczYKskqPz8C4hPY4GDrjNiHQlm0YFu0Wi0vmO@j7KMHUGX9ULeFFAwYS61bDlqUYO/STG9ttgUC3WzMByjIgeIv72EhymZ3r8byPdatxbW7a6WCFFPohdEVJm6E3vxYkyBKPAR84AHzrFtZgoKD@6bl3h@gNP0uxWdK4X9IBCcOiuMRGuvRCS9PdqI0xV@m08jUFDkrXYgjHP/24ddUmpOksQ6DODpDct9N8DKewk3bZOzrB62f9cMb" rel="nofollow noreferrer" title="Java (OpenJDK 8) – Try It Online">Try it online!</a></p>

<p>Saved 1 byte thanks to <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">ceilingcat</a></p>

<p>Saved 10 bytes thanks to <a href="https://codegolf.stackexchange.com/users/30206/peter-cordes">Peter Cordes</a></p>
</div>
<div id="pu8" class="pu"><h1>x86 assembly function, <del>49</del> 43 bytes</h1>

<p>This is mostly posted to satisfy Peter Cordes's request for the revised version I created.  It can probably go away once/if he incorporates it into his answer.</p>

<p>This function expects <code>esi</code> to point to an input string, with the address and subnet parts separated either by a space or a newline character, and the return value is in the ZF flag (which by definition has only two possible values).</p>

<pre><code> 1                                  %use smartalign
 2                                  
 3                                      ;10.4.1.33 10.4.0.0/23         true
 4                                      ;10.4.1.33 10.4.0.0/24         false
 5                                  
 6                                  ;; https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code
 7                                  in_subnet:
 8                                  
 9                                      ;xor  ebx,ebx             ; doesn't need to be zeroed first; we end up shifting out the original contents
10                                      ;lea  ecx, [rbx+4]
11 00000000 6A09                        push   9
12 00000002 59                          pop    ecx                  ; ecx = 9 integers (8 in two dotted-quads,
13                                                                  ; 1 mask length)
14                                  
15 00000003 89E7                        mov   edi, esp
16 00000005 83EC0C                      sub   esp, 12
17                                  .quadloop:
18                                  
19 00000008 31D2                        xor   edx,edx               ; standard edx=atoi(rdi) loop terminated by a non-digit char
20 0000000A EB05                        jmp  .digit_entry
21                                   .digitloop:
22 0000000C 6BD20A                      imul   edx, 10
23 0000000F 00C2                        add    dl, al
24                                   .digit_entry:
25 00000011 AC                          lodsb
26 00000012 2C30                        sub    al, '0'
27 00000014 3C09                        cmp    al, 9
28 00000016 76F4                        jbe   .digitloop
29                                      ; al=non-digit character - '0'
30                                      ; RDI pointing to the next character.
31                                      ; EDX = integer
32                                  
33 00000018 4F                          dec    edi
34 00000019 8817                        mov    [edi], dl
35 0000001B E2EB                        loop .quadloop
36                                  
37 0000001D 59                          pop    ecx   ; /mask  (at the top of a dword)
38 0000001E 5A                          pop    edx   ; subnet
39 0000001F 58                          pop    eax   ; host
40 00000020 0FC9                        bswap  ecx   ; cl=network bits  (reusing the quad parse loop left it in the high byte)
41                                  
42                                  ;    xor    cl, -32    ; I think there's some trick like this for 32-n or 31-n, but maybe only if we're masking to &amp;31?  Then neg or not work.
43                                  
44 00000022 31D0                        xor    eax, edx   ; host ^ subnet
45                                  ;    xor    edx, edx   ; edx = 0
46 00000024 F6D9                        neg    cl
47 00000026 7402                        jz     .end
48 00000028 D3E8                        shr    eax, cl    ; count=32 special case isn't special for a 64-bit shift
49                                  .end:    
50 0000002A C3                          ret
51 0000002B 2B                      .size:      db $ - in_subnet
</code></pre>

<p>And the x86 Linux wrapper part:</p>

<pre><code>53                                  global _start
54                                  _start:
55 0000002C 8B742408                    mov    esi, [esp+8]   ; argv[1]
56 00000030 E8CBFFFFFF                  call   in_subnet
57 00000035 0F95C0                      setnz  al
58 00000038 0FB6D8                      movzx  ebx, al
59 0000003B B801000000                  mov    eax, 1         ; _exit syscall
60 00000040 CD80                        int    0x80
</code></pre>

<p>-6 bytes due to suggestion from Peter Cordes to return the value in ZF.</p>
</div>
<div id="pu9" class="pu"><h1>PowerPC/PPC64 C, <del>116</del> 114 bytes</h1>

<pre><code>#include&lt;stdio.h&gt;
main(){unsigned u[4];char*p=u;for(;p&lt;u+3;)scanf("%hhu%c",p++,u+3);return!((*u^u[1])&gt;&gt;32-p[-4]);}
</code></pre>

<p>(Tested on x86_64 Ubuntu 18.04 using powerpc64-linux-gnu-gcc -static and qemu-user.)</p>

<p>The program takes the two lines on standard input, and as its exit code it returns 1 if the address matches and 0 if it does not.  (So this does depend on the specification not requiring a truthy value for a match and a falsey value for a mismatch.)  Note that if you're running interactively, you will need to signal EOF (<code>^D</code>) three times after entering the second line.</p>

<p>This relies on PowerPC being big-endian, and also on that platform returning 0 for right-shifting a 32-bit unsigned value by 32.  It reads the octets into unsigned values one-by-one, along with the netmask length in another byte; then it takes the xor of the two unsigned 32-bit addresses and shifts out the irrelevant bits.  Finally, it applies <code>!</code> to satisfy the requirement of returning only two distinct values.</p>

<p>Note: It <em>might</em> be possible to shave off two bytes by replacing <code>u+3</code> with <code>p</code> and requiring compilation with <code>-O0</code>.  That's living more dangerously than I care to, though.</p>

<p>Thanks to Peter Cordes for the inspiration for this solution.</p>

<hr>

<h1>More portable C, <del>186</del> <del>171</del> 167 bytes</h1>

<p>Here I'll preserve a more portable version which runs 167 bytes.</p>

<pre><code>#include&lt;stdio.h&gt;
main(){unsigned a,b,c,d,e,f,g,h,n;scanf("%u.%u.%u.%u %u.%u.%u.%u/%u",&amp;a,&amp;b,&amp;c,&amp;d,&amp;e,&amp;f,&amp;g,&amp;h,&amp;n);return!(n&amp;&amp;((((a^e)&lt;&lt;8|b^f)&lt;&lt;8|c^g)&lt;&lt;8|d^h)&gt;&gt;32-n);}
</code></pre>

<p>This program takes the two lines on standard input, and returns exit code 1 if the address is in the subnet, and 0 if it isn't.  (So this does rely on the specification not requiring a truthy value for matches and a falsey value for non matches.)</p>

<p>A breakdown of the core expression:</p>

<ul>
<li><code>a^e</code>, <code>b^f</code>, <code>c^g</code>, <code>d^h</code> calculates the xor of the address and the mask byte-by-byte.</li>
<li><code>(((a^e)&lt;&lt;8|b^f)&lt;&lt;8|c^g)&lt;&lt;8|d^h</code> then combines them into a single unsigned 32-bit value by a Horner-like method.</li>
<li><code>...&gt;&gt;32-n</code> then shifts off the bits of the xor difference that are not relevant to the subnet mask (keeping in mind that <code>-</code> has higher precedence in C than <code>&lt;&lt;</code>)</li>
<li>There is one gotcha, though: if n=0 then <code>~0U&lt;&lt;32</code> will give undefined behavior assuming <code>unsigned</code> is 32 bits (which it is on virtually all current platforms).  On the other hand, if n=0 then any address will match, so <code>n&amp;&amp;...</code> will give the correct result (taking advantage of the short-circuiting behavior of <code>&amp;&amp;</code>).</li>
<li>Finally, to meet the requirement that the output can only be one of two values, we apply <code>!</code> to output 0 or 1.</li>
</ul>

<p>-15 bytes due to comments by ceilingcat and AdmBorkBork</p>

<p>-4 bytes due to comment by Peter Cordes</p>
</div>
<div id="pu10" class="pu"><h1>Linux POSIX shell (with net-tools/iputils) (34 bytes non-terminating, 47 bytes terminating)</h1>

<p>What is best suited to parse network masks and addresses than the network utilities themselves? :)</p>

<pre><code>route add -net $2 reject;! ping $1
</code></pre>

<p><strong>Warning:</strong> the script is potentially damaging to your Internet connectivity, please run with care.</p>

<p><strong>Input:</strong> the script takes the tested IP address as first argument, and the tested subnet. as second argument.</p>

<p><strong>Output:</strong> the script returns a truthy value (0) if the first argument of the script belongs to the subnet indicated in the second argument. Otherwise, it will never terminate.</p>

<p><strong>Assumptions:</strong> the script must be run as a root user, in a <em>clean</em> environment (<em>i.e.</em>, no other blackhole route has been set by the administrator, and if a previous instance of the script has been run, the blackhole route it created has been removed). The script also assumes a "working Internet connection" (<em>i.e.</em>, a valid default route is present).</p>

<hr>

<h2>Explanation:</h2>

<p>We create a <em>blackhole</em> route to the specified subnet. We then test connectivity to the provided IP address by using <em>ping</em>. If the address doesn't belong to the subnet (and since we assume a properly set Internet connection), <em>ping</em> will try to send packets to that address. Note that whether this address actually responds does not matter, as <em>ping</em> will keep trying forever. Conversely, if the address does belong to the subnet, <em>ping</em> will fail with <strong>ENETUNREACH</strong> and return 2, and since we negated the command, the script will succeed. </p>

<hr>

<h2>Example</h2>

<p>Test whether 5.5.5.5 belongs to 8.8.8.0/24</p>

<pre><code>$ sudo ./a.sh 5.5.5.5 8.8.8.0/24
PING 5.5.5.5 (5.5.5.5) 56(84) bytes of data.
[...runs forever...]
</code></pre>

<p>(Clean with <code>sudo ip route del 8.8.8.0/24</code> after running the command).</p>

<p>Test whether 5.5.5.5 belongs to 5.5.5.0/24:</p>

<pre><code>$ sudo ./a.sh 5.5.5.5 5.5.5.0/24
connect: Network is unreachable
$ echo $?
0
</code></pre>

<p>(Clean with <code>sudo ip route del 5.5.5.0/24</code> after running the command).</p>

<p>Test whether 8.8.8.8 belongs to 5.5.5.0/24:</p>

<pre><code>$ sudo ./a.sh 8.8.8.8 5.5.5.0/24
PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.
64 bytes from 8.8.8.8: icmp_seq=1 ttl=122 time=2.27 ms
64 bytes from 8.8.8.8: icmp_seq=2 ttl=122 time=1.95 ms
[...runs forever...]
</code></pre>

<p>(Clean with <code>sudo ip route del 5.5.5.0/24</code> after running the command).</p>

<hr>

<h1>47-byte version if we disallow non-terminating scripts</h1>

<pre><code>route add -net $2 reject;ping -c1 $1;[ $? = 2 ]
</code></pre>

<p>As per @Grimy's comment, here's the version which always terminates, and returns 0 (truthy) if the address is in the subnet, and 1 (falsy) otherwise. We make <em>ping</em> terminate with the <code>-c1</code> flag which limits the number of sent packets to 1. If the address responded, <em>ping</em> will return 0, and if not, ping will return 1. Only if the address belongs to the blackholed subnet will <em>ping</em> return 2, which is thus what we test against in the last command.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, <del>75</del> <del>73</del>, 71 bytes</h1>



<pre class="lang-php prettyprint-override"><code>&lt;?=strtok($argv[2],'/')==long2ip(ip2long($argv[1])&amp;1+~1&lt;&lt;32-strtok(_));
</code></pre>

<p>A fork of <a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code#185011">@Luis felipe De jesus Munoz</a>'s answer, as a standalone taking input from command line args.  Outputs <code>'1'</code> for Truthy, <code>''</code> (empty string) for Fasley.</p>

<pre class="lang-php prettyprint-override"><code>$ php ipsn.php 127.0.0.1 127.0.0.0/24
1
$ php ipsn.php 127.1.2.3 127.0.0.0/24
</code></pre>

<p><a href="https://tio.run/##K8go@P/fxt62uKSoJD9bQyWxKL0s2ihWR11fXdPWNic/L90os0Ajs8AIxIRKG8Zqqhlq1xna2Bgb6UI1xmtqWv///9/QyFzPAAgN4SwDfSMTAA" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>

<p>-2 bytes borrowing <a href="https://codegolf.stackexchange.com/questions/185005/im-in-your-subnets-golfing-your-code#185011">@Christoph</a>'s little trick for <code>strtok()</code>. His answer is still shorter though!</p>
</div>
<div id="pu12" class="pu"><h1>R     120 bytes</h1>

<p>a function - I pasted ".32" to first term</p>

<p><code>w=function(a,b){f=function(x)as.double(el(strsplit(x,"[./]")));t=f(paste0(a,".32"))-f(b);sum(t[-5]*c(256^(3:0)))&lt;2^t[5]}</code></p>

<p>and just for fun:</p>

<p><code>require("iptools");w=function(a,b)ips_in_cidrs(a,b)[[2]]</code></p>

<p>which is 56 bytes</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 21 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>'/¡`U‚ε'.¡b8jð0:JX£}Ë
</code></pre>
<p>Takes the subnet before the address.</p>
<p><a href="https://tio.run/##yy9OTMpM/f9fXf/QwoTQRw2zzm1V1zu0MMki6/AGAyuviEOLaw93//9vaGSuZwCC@kYmXDCOIQA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W/h5ulir6SQmJeioGQPZj5qmwRkFv9X1z@0MCH0UcOsc1vV9Q4tTLLIOrzBwMor4tDi2sPd/3X@GxqZ6xmAoL6RCReMY8iFJGwM55iaYhM3BIsb6JmAhQ3NIGxDPWNjLgOoWgMuI1NTPSTMhWGtoZ6RnjGcZahvbIQsDLTFQM/CBKTcCMYzBhkEAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>'/¡              '# Split the first subnet-input by &quot;/&quot;
   `              # Push both values separated to the stack
    U             # Pop and store the trailing number in variable `X`
    ‚             # Pair the subnet-IP with the second address-input
     ε            # Map both to:
      '.¡        '#  Split on &quot;.&quot;
         b        #  Convert each integer to binary
          8j      #  Add leading spaces to make them size 8
          ð0:     #  And replace those spaces with &quot;0&quot;
             J    #  Join the four parts together to a single string
              X£  #  And only leave the first `X` binary digits as substring
     }Ë           # After the map: check if both mapped values are the same
                  # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu14" class="pu"><h1>Python 3 (62 bytes)</h1>

<p>Very straightforward:</p>

<pre class="lang-python prettyprint-override"><code>from ipaddress import*
lambda i,m:ip_address(i)in ip_network(m)
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-Mbigint -MSocket=:all -p</code>, 72 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>sub c{unpack N,inet_aton pop}&lt;&gt;=~/(.*)\/(.*)/;$_=c($_)-&amp;c($1)&lt;2**(32-$2)
</code></pre>

<p><a href="https://tio.run/##JcZNC8IgAIDhe7/CwwiV/Jhr0MfsH9SlayBOJGSi0twp6qdnUpf3eZN9@L6UeRmBeS4haTOBy8YFm5XOMYAU02s4yTeDFKPbr@zYKGlgoxBZV1o0CIxhJ0gjUCmcctrR/ervjontJ6bsYpgLOfeUt7w6ursLuc41mslmedDeF5K@" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a>, 187 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>a=&gt;{var b=a.Select(x=&gt;x.Split(".").SelectMany(g=&gt;Convert.ToString(int.Parse(g.Split("/")[0]),2).PadLeft(8)).Take(int.Parse(a[1].Split("/")[1])));return b.First().SequenceEqual(b.Last());}
</code></pre>

<p>I can definitely golf this down more.</p>

<p><a href="https://tio.run/##ZY9Ba4MwHMXv@RSdpwRimsS6FZxexgqDDspa2EE8RJd2oRLXGNsO8bN36uwmlCTw3i95/0ey0s1KdVlUOnssrVF6Fyc4LYo82oYXEUb1UZhJGgqylrnMLDyH0Zmsv3JloUMcNOBXob/hLoyeCn2UxpJNse5nQaUtWQlTSri7pqYOimmCMEftzcdSbi2cI0Q2Yi9Hz0XMknGCJQihwEhbGT1JyUKZ0sKu/lBJncnnQyVymJKl6DAKmksATp8ql/BFk5WUe4juQpchUIPfX05E@CbbeqUlRDgdmQC8G2Vlb5yaYpfTpmbYZX5T88bBAqd4C7U8xUnd6qZtA82F8QdC28XAVdEpn/0Z3x9zbzDsllMya7E3qI6ye8B9n4wOoEOA9mFGOPFua/9xp9jU493Mds@9fshgZl2C/wA" rel="nofollow noreferrer" title="C# (Visual C# Interactive Compiler) – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 23 bytes</h1>

<pre><code>ṣ”/ṣ€”.Vḅ⁹s2+Ø%BḊ€ḣ€ʋ/E
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///hzsWPGubqg6imNUCWXtjDHa2PGncWG2kfnqHq9HBHF1D84Q6Q7Klufdf/Oo8a5ijo2ikAleocbj866eHOGSpcD3dvOdwOVBH5/7@hkbmegZ6hnqmxPoQJhPpGxlwwjqkpmriBnglQuTFQOYgFEjU04zIyNdVDwvoGUA0GYHMM9Yz0UIw3QRMGsQz1jY1ApgORhTHYECjHBKTDCAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>Monadic link that takes a the address and subnet separated by a slash and returns 1 for true and 0 for false. </p>

<p>Thanks to @gwaugh for pointing out a flaw in the original - it failed to ensure the binary list was 32 long. </p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 22 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>é.○▄╗jF⌐§╥§I╓☻lw«ç┴║╫┼
</code></pre>

<p><a href="https://staxlang.xyz/#p=822e09dcbb6a46a915d21549d6026c77ae87c1bad7c5&amp;i=127.0.0.1+127.0.0.0%2F24%0A127.0.0.55+127.0.0.0%2F23%0A10.4.1.33+10.4.0.0%2F16%0A255.255.255.255+0.0.0.0%2F0%0A127.1.2.3+127.0.0.0%2F24%0A127.1.2.3+127.1.2.1%2F32%0A10.10.83.255+10.10.84.0%2F22&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>

<p>It takes the input parameters space-separated on standard input.</p>

<p>Unpacked, ungolfed, and commented, it looks like this.</p>

<pre><code>'/:/~       split on slash and push the last group back to the input stack
j{          split on space; for each group, run this code block
  './       split on period
  {emVB|E   evaluate integers and decode integer as base-256
  ;e|&lt;      peek from input stack and shift left
  Vu/       integer divide by 2^32
F           end of for-each
=           two values left on stack are equal?
</code></pre>

<p><a href="https://staxlang.xyz/#c=%27%2F%3A%2F%7E++++%09split+on+slash+and+push+the+last+group+back+to+the+input+stack%0Aj%7B+++++++%09split+on+space%3B+for+each+group,+run+this+code+block%0A++%27.%2F++++%09split+on+period%0A++%7BemVB%7CE%09evaluate+integers+and+decode+integer+as+base-256%0A++%3Be%7C%3C+++%09peek+from+input+stack+and+shift+left%0A++Vu%2F++++%09integer+divide+by+2%5E32%0AF++++++++%09end+of+for-each%0A%3D++++++++%09two+values+left+on+stack+are+equal%3F&amp;i=127.0.0.1+127.0.0.0%2F24%0A127.0.0.55+127.0.0.0%2F23%0A10.4.1.33+10.4.0.0%2F16%0A255.255.255.255+0.0.0.0%2F0%0A127.1.2.3+127.0.0.0%2F24%0A127.1.2.3+127.1.2.1%2F32%0A10.10.83.255+10.10.84.0%2F22&amp;m=2" rel="nofollow noreferrer">Run this one</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, <s>101</s> <s>92</s> 88 bytes</h1>

<p><em>-13 bytes from @gwaugh</em></p>



<pre class="lang-php prettyprint-override"><code>function($i,$r){[$r,$n]=explode('/',$r);return(ip2long($i)&amp;~(1&lt;&lt;32-$n)+1)==ip2long($r);}
</code></pre>

<p><a href="https://tio.run/##lZDbisIwEIbv@xRFg0nYmubQ7i601TufwDtdRDS1hW4asq0Ioq9eG9EiskJlmIt/Zr456Uw38VRn2gVp0qS12lR5qRDIPWDwcQGMB9RPIg@6KLcSQR/aeGRkVRuFcs2LUu3aajw6IxbHgo@Bwh8MJ0mXa8tPTeQ4@7VZbetfjUCKIONfhLbGoOd2gvo8gBhHznBuaunITVa6g6UavILD8IkWvWhKAsKIEFfYCsuyzz4sD0Py4LYDvQ2nfTdnhBPx/9mzdfH3Dm0F8wXvR7ffpuRb3Be/6cDOf9VhOmku" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Compiler)</a>, 250+31=281 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>(a,b)=&gt;{Func&lt;string,string&gt;h=g=&gt;string.Join("",g.Split('.').Select(x=&gt;{var e=Convert.ToString(int.Parse(x),2);while(e.Length&lt;8)e='0'+e;return e;}));a=h(a);var c=b.Split('/');b=h(c[0]);var d=int.Parse(c[1]);return a.Substring(0,d)==b.Substring(0,d);};
</code></pre>

<p><em>Bytecount includes <code>using System;using System.Linq;</code></em></p>

<p><a href="https://tio.run/##nVTfa9swEH6u/4rDL7Gop9pJs5U5CozuB2wdFDK2h9IH2VESDU/qJDlNCf7bs5PtLA5bwxjGSL6777vzpzsV9kVhi11lpVrC7Mk68SPrf9AbqX5mQVCU3Fp4sw2s404W8L5SxcQ6g5Ex7Ndc63IKi0oB20U8zgmbbvuB7TJdsSWbtnv6UUsVhWG8pLOHUrpoQAeEzkQpChdtEL7mBgS71motjKNf9KyBRVI5esuNFdGGxEOSPa5kKSJBb4RautXkigg2SAbnIjPCVUaByGpCMs5WESeZ5yxYvs94MSBZjp7iLrlvnXN24C/uUrR2NJzOqrytPEriOWGe5ciS1dmuk6gT8FqX/m@kVpZ@EEoYWdC3sjFw89RJc3e/V88J6ywwUOLx/xgiAtvgbOvxe882TIevaIJPGsa/98nF8DKsY2cqUcfPIsbjY8joBCShlzSlo5FH@L0HpC@fBwzHY9p7EZZ0aZLThaV0SEd//sqCl/ZfIH6fXoyGpyCoVUKvRl1d3eelz3SABTVOxoORa@4EdKfeUoC55fNI59/x3EDHgP0EsjmYzo8LHrI@dDTJgrO2i9HV9TFMPMiHnjMIIcSQrhHRlgU1Jq/yskna5F5rOYfPHCfKp1poI3ixguhEG30ST195WYlbLs1fWxErb1uyKR7n0OpS0G9GOoE3Q1PsYYwhjKEvI2wbGTzeZ8L5itMxieHYmqL1Cq0hm3qC8N3mAcsU89dhP7IpMwYPD7maw1I79ONdc0QPPVbSE9dPP@pV17tf" rel="nofollow noreferrer" title="C# (Visual C# Compiler) – Try It Online">Try it online!</a></p>

<p>I wrote this in JS as soon as the challenge was posted, but Arnauld beat me to the punch with a much better answer, so here it is in C# instead.</p>

<p>Definitely a lot of room for golfing.</p>

<h2>Explanation:</h2>

<p>The function consists of a sub-function called <code>h</code>:</p>

<pre class="lang-cs prettyprint-override"><code>h=g=&gt;string.Join("",
    g.Split('.').Select(x =&gt; {
        var e = Convert.ToString(int.Parse(x), 2);
        while (e.Length &lt; 8) e = '0' + e;
        return e;
    }
);
</code></pre>

<p>This sub-function splits the IP Address on <code>.</code>, converts each number to a binary string, left-pads each string with <code>0</code> to be 8 bits long, then concatenates the strings into one 32-bit binary string.</p>

<p>This is immediately done in-place with <code>a=h(a);</code> on the given IP Address.<br>
We then split the Subnet mask into an IP Address and a mask number with <code>c=b.Split('/');</code></p>

<p>The IP Address component is also passed through our sub-function: <code>b=h(c[0]);</code> and the mask number is parsed to an integer: <code>var d=int.Parse(c[1]);</code></p>

<p>Finally we take the first <code>d</code> bits of both binary strings (where <code>d</code> is the mask number) and compare them: <code>return a.Substring(0,d)==b.Substring(0,d);</code></p>
</div>
<div id="pu21" class="pu"><h1>JavaScript (ES6), 82 bytes</h1>
<p>Takes input as <code>(address)(subnet)</code>. Returns a Boolean value.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;s=&gt;!([s,v]=s.split`/`,+v&amp;&amp;(g=s=&gt;s.split`.`.map(k=v=&gt;k=k&lt;&lt;8|v)|k&gt;&gt;32-v)(a)^g(s))
</code></pre>
<p><a href="https://tio.run/##hdDdboIwFAfw@z2F40LaTE@/YPPC9tIn8A5daBwyBwNiWZMlvjtSQjO3hNmmF//T/HJyzoe22hzOp6ZdVvVb1h1lp6UyUj2ixCzsXhowTXlqU5Iunux8jnLZf/oipPCpG1RIK1Uhi/V6dbH4Uigl@NJipPFrjgzG3aGuTF1mUNY5CpPt@at9/96H@OG2fkQB4y9A@8sC/BMo4VGA8cwdQmY9zqZcHP@BYoRTjkIEDIQYmAtOsWffbsrxOIab5zQdW9LBevcLhrsq2ejSTE3OgIP4Z3Jns7vQBUYEvwv7NVNYCT/AmCPXdcAedlc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/185005/">185005</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




