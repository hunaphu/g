<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::61232</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>040</td><td>Dyalog APL</td><td>250810T225013Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/283056#283056">Aaron</a></td></tr>
<tr d-ix="1"><td>091</td><td>APLNARS</td><td>250810T125917Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/283052#283052">Rosario</a></td></tr>
<tr d-ix="2"><td>058</td><td>Perl 6</td><td>151027T212147Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61962#61962">Brad Gil</a></td></tr>
<tr d-ix="3"><td>034</td><td>Perl</td><td>151021T103201Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61354#61354">svsd</a></td></tr>
<tr d-ix="4"><td>nan</td><td>Perl 5</td><td>151020T113807Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61274#61274">LukStorm</a></td></tr>
<tr d-ix="5"><td>070</td><td>MUMPS</td><td>151020T224913Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61338#61338">senshin</a></td></tr>
<tr d-ix="6"><td>032</td><td>Pyth</td><td>151020T134328Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61285#61285">RK.</a></td></tr>
<tr d-ix="7"><td>023</td><td>Pyth</td><td>151020T174752Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61315#61315">FryAmThe</a></td></tr>
<tr d-ix="8"><td>020</td><td>CJam</td><td>151020T033253Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61235#61235">Dennis</a></td></tr>
<tr d-ix="9"><td>097</td><td>Haskell</td><td>151020T110500Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61269#61269">lynn</a></td></tr>
<tr d-ix="10"><td>043</td><td>Ruby</td><td>151020T100708Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61263#61263">lynn</a></td></tr>
<tr d-ix="11"><td>047</td><td>Gema</td><td>151020T102117Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61265#61265">manatwor</a></td></tr>
<tr d-ix="12"><td>038</td><td>Retina</td><td>151020T092032Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61261#61261">Martin E</a></td></tr>
<tr d-ix="13"><td>055</td><td>Ruby</td><td>151020T090713Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61259#61259">Martin E</a></td></tr>
<tr d-ix="14"><td>186</td><td>C++11</td><td>151020T085807Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61257#61257">Zereges</a></td></tr>
<tr d-ix="15"><td>065</td><td>Python 3</td><td>151020T030522Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61233#61233">user4594</a></td></tr>
<tr d-ix="16"><td>049</td><td>JavaScript ES6</td><td>151020T050550Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61244#61244">Downgoat</a></td></tr>
<tr d-ix="17"><td>033</td><td>Pyth</td><td>151020T034958Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61239#61239">Moose</a></td></tr>
<tr d-ix="18"><td>034</td><td>CJam</td><td>151020T034335Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61238#61238">GamrCorp</a></td></tr>
<tr d-ix="19"><td>066</td><td>Julia</td><td>151020T033750Z</td><td><a href="https://codegolf.stackexchange.com/questions/61232/insert-a-given-pattern-at-a-given-point/61237#61237">Alex A.</a></td></tr>
</table>
<div id="pu0" class="pu"><p>Dyalog APL, 40 chars</p>
<pre><code>{p i w←⍵⊆⍨⍵≠':'⋄(p←⍎p)&gt;≢w:⍬⋄(p↑w),i,p↓w}
</code></pre>
<p>A little imperative for my liking....</p>
<pre><code>{p i w←⍵⊆⍨⍵≠':'⋄(p←⍎p)&gt;≢w:⍬⋄(p↑w),i,p↓w}­⁡​‎‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁣⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁢⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁣⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁢⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁡⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁣⁡⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁣⁪‏‏​⁡⁠⁡‌⁢⁣​‎‎⁪⁡⁪⁠⁪⁣⁡⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁣⁪‏‏​⁡⁠⁡‌­
       ⍵⊆⍨⍵≠':'                           # ‎⁡Break in the input on the delimiter ':'
 p i w←                                   # ‎⁢And store into (p)osition, (i)nsert, and (w)ord
                (p←⍎p)                    # ‎⁣Execute the position var to convert from string to actual number
                      &gt;≢w:⍬               # ‎⁤If that is bigger than the length of the word, output nothing (as opposed to crashing)
                            (p↑w)         # ‎⁢⁡Take the first p many letters from word
                                 ,i       # ‎⁢⁢concat with the word to insert
                                   ,p↓w   # ‎⁢⁣concat with the remainder of word
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu1" class="pu"><h1>APL(NARS), 91 chars</h1>
<pre><code>I←{(a b)←⍺⋄(a≠⌊a)∨(a≤0)∨a&gt;k←1+≢⍵:⍬⋄w←(((a-1)⍴1),0,(k-a)⍴1)\⍵⋄w[a]←b⋄w}⋄f←{(c d)←⍺⋄∊c(⊂d)I⍵}
</code></pre>
<p>1-index.</p>
<p>The function <code>I</code> is the function insert in the position a number <code>⍺[1]</code>,
the element <code>⍺[2]</code>, in the list <code>⍵</code>.</p>
<p>If the function <code>I</code> fail for wrong <code>a</code> it will return zilde <code>⍬</code>.</p>
<p>The function of exercise <code>f</code> use <code>I</code>, <code>⊂</code> for add a single element (even if an array),
and <code>∊</code> for enlist.</p>
<pre><code>  2 'this' f 'that'
┌8────────┐
│ tthishat│
└─────────┘
  1 'this' f 'that'
┌8────────┐
│ thisthat│
└─────────┘
  3 'this' f 'that'
┌8────────┐
│ ththisat│
└─────────┘
  4 'this' f 'that'
┌8────────┐
│ thathist│
└─────────┘
  5 'this' f 'that'
┌8────────┐
│ thatthis│
└─────────┘
  6 'this' f 'that'
┌0─┐
│ 0│
└~─┘
  0 'this' f 'that'
┌0─┐
│ 0│
└~─┘
</code></pre>
</div>
<div id="pu2" class="pu"><h2>Perl 6, 58 bytes</h2>



<pre class="lang-perl6 prettyprint-override"><code>$_=[split ':',@*ARGS];substr-rw(.[2],.[0],0)=.[1];.[2].say
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Perl, 34 bytes</h1>

<p>(includes 1 switch)</p>



<pre><code>perl -pe '$x="."x$_;s/.*:(.*):($x)|.*/$2$1/'
</code></pre>

<p>Prints an empty line on error.</p>
</div>
<div id="pu4" class="pu"><h1>Perl 5, 41 Bytes (40 + 1)</h1>

<p>Outputs 0 when a replacement couldn't be made.</p>

<pre><code>($n,$s,$_)=split/:/;$_=0if!s/.{$n}/$&amp;$s/
</code></pre>

<h3>Test</h3>

<pre><code>$ echo "6:Online :Hello World!" |perl -p -e '($n,$s,$_)=split/:/;$_=0if!s/.{$n}/$&amp;$s/'
$ Hello Online World!
</code></pre>
</div>
<div id="pu5" class="pu"><h1>MUMPS, 70 bytes</h1>

<pre><code>a(s) s w=$P(s,":",3) q:s&gt;$L(w)  w $E(w,1,s)_$P(s,":",2)_$E(w,s+1,9**9)
</code></pre>

<p>There is no output if an invalid index is provided.</p>

<p>This code is <em>basically</em> ANSI-compliant; the only issue is that I've saved a byte by taking advantage of the fact that the maximum length of a string on the two major surviving MUMPS platforms is less than 9<sup>9</sup> bytes: <a href="http://docs.intersystems.com/ens201512/csp/docbook/DocBook.UI.Page.cls?KEY=RERR_system#RERR_B101753" rel="nofollow">InterSystems Caché caps strings at 32 KiB</a>, and <a href="http://tinco.pair.com/bhaskar/gtm/doc/books/mr/manual/MAXSTRLEN.html" rel="nofollow">GT.M caps strings at 1 MiB</a>. Nonetheless, in principle, some jerk could write an implementation that allows strings over ~369 MiB, in which case there would be valid inputs for which this code fails. </p>

<p>We can save 3 additional bytes, bringing us down to 67, if we use non-ANSI <a href="http://docs.intersystems.com/ens201512/csp/docbook/DocBook.UI.Page.cls?KEY=RERR_system" rel="nofollow">Caché ObjectScript-specific extensions to <code>$EXTRACT</code></a>:</p>

<pre><code>a(s) s w=$P(s,":",3) q:s&gt;$L(w)  w $E(w,1,s)_$P(s,":",2)_$E(w,s+1,*)
</code></pre>
</div>
<div id="pu6" class="pu"><h1>Pyth, 32 bytes</h1>

<p>Beats the other Pyth answer! Still needs a lot of golfing though. Took the naïve approach.</p>

<pre><code>?gleJcz":"KvhJ++:eJ0KhtJ:eJKleJ"
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=%3F%3EleJcz%22%3A%22KvhJ%2B%2B%3AeJ0KhtJ%3AeJKleJ%22&amp;input=3%3AA2C%3AHello+World%21" rel="nofollow"> Try it online. </a></p>
</div>
<div id="pu7" class="pu"><h1>Pyth, 23</h1>

<pre><code>*sX0ceJcz\:KvhJhtJgleJK
</code></pre>

<p>Unfortunately (in this scenario anyway), Pyth doesn't error on chopping a string by too large a value. Otherwise the check would go from 6 bytes to 2.</p>

<p>I'm unsure if this is the most optimal approach, but this chops the word after the number of characters from the input. Then it does a <code>+=</code> on the first element of the list and returns the sum. It multiplies the resulting string by a boolean representing if the value was out of range.</p>

<p>Also note that this does not work if the input is 0. The OP said we could assume the number is positive, so I believe this is ok.</p>

<p><a href="http://pyth.herokuapp.com/?code=%2AsX0ceJcz%5C%3AKvhJhtJgleJK&amp;input=13%3AA2C%3AHello%20World%21&amp;debug=0" rel="nofollow">Try it online</a></p>
</div>
<div id="pu8" class="pu"><h1>CJam, 20 bytes</h1>

<pre><code>q':/~La+@~/(@@_{];}|
</code></pre>

<p>Try it online in the <a href="http://cjam.aditsu.net/#code=q&#39;%3A%2F~La%2B%40~%2F(%40%40_%7B%5D%3B%7D%7C&amp;input=13%3AA2C%3AHello%20World!" rel="nofollow">CJam interpreter</a>.</p>

<h3>How it works</h3>

<pre><code>q':/                e# Read all input and split it at colons.
    ~                e# Dump index, pattern and word on the stack.
     La+             e# Append the array [""] to the word.
                     e#   This increases the word's length by 1 (to deal with the
                     e#   highest index possible index) without affecting output.
        @~           e# Rotate the index on top and evaluate it.
          /          e# Split the word into chunks of that length.
           (         e# Shift out the first chunk.
            @@       e# Rotate pattern and remaining chunks on top.
              _      e# Copy the array of remaining chunks.
                     e#   This array will be empty if the index was too high.
               {];}| e# If the array if falsy, clear the stack.
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Haskell, 97 bytes</h1>

<pre><code>a=fmap tail.span(/=':')
m!(n,e)|m&gt;length e=""|0&lt;1=take m e++n++drop m e
f l|(o,r)&lt;-a l=read o!a r
</code></pre>

<p>Defines <code>f</code>, a function that takes a string like <code>"2:x:ABC"</code> and returns <code>"ABxC"</code>.</p>
</div>
<div id="pu10" class="pu"><h1>Ruby, 43 bytes</h1>

<p>37 bytes of code:</p>

<pre><code>G,O,L=$F
$_=(L[G.to_i,0]=O;L)rescue p
</code></pre>

<p>and 6 bytes of flags:</p>

<pre><code>$ ruby -apF: code.rb &lt; input
       ^^^^^^
</code></pre>
</div>
<div id="pu11" class="pu"><h1>Gema: 47 characters</h1>

<pre><code>*\:*\:*=@subst{&lt;U$1&gt;\*=\$1@quote{$2}\*\;\*=;$3}
</code></pre>

<p>Sample run:</p>

<pre><code>bash-4.3$ gema '*\:*\:*=@subst{&lt;U$1&gt;\*=\$1@quote{$2}\*\;\*=;$3}' &lt;&lt;&lt; '3:!*!:Hello'
Hel!*!lo

bash-4.3$ gema '*\:*\:*=@subst{&lt;U$1&gt;\*=\$1@quote{$2}\*\;\*=;$3}' &lt;&lt;&lt; '13:!*!:Hello'
</code></pre>

<p>(If you want an explicit error message, just insert it after the last <code>=</code> sign.)</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/mbuettner/retina" rel="nofollow">Retina</a>, 38 bytes</h1>

<pre><code>(()1)*:(.+):((?&lt;-2&gt;.)*)(?!\2)|^.+
$4$3
</code></pre>

<p>Run the code from a single file with the <code>-s</code> flag. This <a href="http://meta.codegolf.stackexchange.com/questions/5343/can-numeric-input-output-be-in-unary">takes input in unary</a>, e.g.</p>

<pre><code>111:A2C:Hello World!
</code></pre>

<p>yields</p>

<pre><code>HelA2Clo World!
</code></pre>

<p>If the index is too large, an empty line will be printed.</p>
</div>
<div id="pu13" class="pu"><h1>Ruby, 55 bytes</h1>

<pre><code>a,b,c=gets.split ?:;(c[a,0]=b;p c)if c.size&gt;=(a=a.to_i)
</code></pre>

<p>It's been a while since I've golfed in Ruby... this feels a bit suboptimal.</p>
</div>
<div id="pu14" class="pu"><h1>C++11, 186 bytes</h1>

<p>Golfed</p>

<pre><code>#include&lt;iostream&gt;
#include&lt;regex&gt;
int main(){std::string p,w;int i,j;std::getline(std::cin&gt;&gt;i,p);j=p.find(58,1);w=p.substr(j+1);if(i&lt;=w.length())std::cout&lt;&lt;w.insert(i,p.substr(1,j-1));}
</code></pre>

<p>Ungolfed</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;regex&gt;

int main()
{
    std::string p, w;
    int i, j;
    std::getline(std::cin &gt;&gt; i, p);
    j = p.find(':', 1);
    w = p.substr(j + 1);
    if (i &lt;= w.length())
        std::cout &lt;&lt; w.insert(i, p.substr(1, j - 1));
}
</code></pre>

<p>Looking for: Improvements and someone who can do Shakespear, so that I am not last again :)</p>
</div>
<div id="pu15" class="pu"><h2>Python 3, 65 bytes</h2>
<pre class="lang-python prettyprint-override"><code>a,b,c=input().split(':')
a=int(a)
if c[a-1:]:print(c[:a]+b+c[a:])
</code></pre>
<p>Does nothing if the index is past the end of the string. <a href="http://ideone.com/T3N7qZ" rel="nofollow noreferrer">Try it online</a>.</p>
</div>
<div id="pu16" class="pu"><h1>JavaScript ES6, 49 bytes</h1>

<pre><code>s=&gt;([a,b,c]=s.split`:`,c.slice(0,a)+b+c.slice(a))
</code></pre>

<p>Very straightforward. Slices the string and inserts the new substring in the middle</p>
</div>
<div id="pu17" class="pu"><h1>Pyth, 33</h1>
<pre><code>=Ycw\:JvhYp?&gt;leYJjk[&lt;eYJ@Y1&gt;eYJ)Z
</code></pre>
<p>Prints <code>0</code> if the index is past the end of the string</p>
<p><a href="https://pyth.herokuapp.com/?code=%3DYcw%5C%3AJvhYp%3F%3EleYJjk%5B%3CeYJ%40Y1%3EeYJ%29Z&amp;input=3%3AA2C%3AHello%20World%21&amp;debug=0" rel="nofollow noreferrer">Try is online</a></p>
</div>
<div id="pu18" class="pu"><h1>CJam, 34 bytes</h1>
<p>Terribly ungolfed, but its my first CJam golf ever! Thanks to sp3000 for helping me with this on The Nineteenth Byte chat!</p>
<pre><code>l':/~_,W$i&gt;{W$i/(:+-2$+-3$+:+p}&amp;];
</code></pre>
<p><strong>EDIT:</strong> oops, I was in the process of posting this and I didn't see Dennis' CJam post. If the answers do end up using the same process, just count mine as a non-competitive answer. Sorry for the confusion.</p>
</div>
<div id="pu19" class="pu"><h1>Julia, 66 bytes</h1>



<pre class="lang-julia prettyprint-override"><code>s-&gt;(x=split(s,":");i=parse(Int,x[1]);x[3][1:i]*x[2]*x[3][i+1:end])
</code></pre>

<p>This creates an unnamed function that accepts a string and returns a string. It errors if the index is out of bounds.</p>

<p>Ungolfed:</p>

<pre class="lang-julia prettyprint-override"><code>function f(s::AbstractString)
    # Split the input on the colon
    x = split(s, ":")

    # Convert the first element of x to an integer
    i = parse(Int, x[1])

    # Join the pieces
    return x[3][1:i] * x[2] * x[3][i+1:end]
end
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/61232/">61232</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




