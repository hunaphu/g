<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::273990</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>051</td><td>Google Sheets</td><td>240708T191207Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/274029#274029">doubleun</a></td></tr>
<tr d-ix="1"><td>007</td><td>Jelly</td><td>250107T230506Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/277551#277551">lolad</a></td></tr>
<tr d-ix="2"><td>038</td><td>Raku Perl 6 rakudo</td><td>240813T043333Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/274953#274953">bb94</a></td></tr>
<tr d-ix="3"><td>102</td><td>Setanta</td><td>240813T043015Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/274952#274952">bb94</a></td></tr>
<tr d-ix="4"><td>019</td><td>Haskell + hgl</td><td>240715T005925Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/274164#274164">Wheat Wi</a></td></tr>
<tr d-ix="5"><td>020</td><td>APL+WIN</td><td>240708T145932Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/274016#274016">Graham</a></td></tr>
<tr d-ix="6"><td>007</td><td>Vyxal</td><td>240707T225405Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/273994#273994">emanresu</a></td></tr>
<tr d-ix="7"><td>046</td><td>Haskell</td><td>240708T224853Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/274031#274031">DPD-</a></td></tr>
<tr d-ix="8"><td>022</td><td>Wolfram Language Mathematica</td><td>240708T163409Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/274025#274025">att</a></td></tr>
<tr d-ix="9"><td>007</td><td>MATL</td><td>240707T222154Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/273993#273993">Luis Men</a></td></tr>
<tr d-ix="10"><td>058</td><td>Ruby</td><td>240708T105955Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/274010#274010">G B</a></td></tr>
<tr d-ix="11"><td>060</td><td>JavaScript ES6</td><td>240707T213846Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/273991#273991">Arnauld</a></td></tr>
<tr d-ix="12"><td>010</td><td>05AB1E</td><td>240708T075629Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/274006#274006">Kevin Cr</a></td></tr>
<tr d-ix="13"><td>105</td><td>Python 3</td><td>240708T074215Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/274005#274005">Jitse</a></td></tr>
<tr d-ix="14"><td>036</td><td>R</td><td>240708T054306Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/274000#274000">pajonk</a></td></tr>
<tr d-ix="15"><td>004</td><td>Nekomata + e</td><td>240708T035232Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/273997#273997">alephalp</a></td></tr>
<tr d-ix="16"><td>011</td><td>PARI/GP</td><td>240708T023321Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/273995#273995">alephalp</a></td></tr>
<tr d-ix="17"><td>012</td><td>Charcoal</td><td>240707T221329Z</td><td><a href="https://codegolf.stackexchange.com/questions/273990/is-this-a-hadamard-matrix/273992#273992">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Google Sheets, 51 bytes</h1>
<pre><code>lambda(a,b,sum(byrow(b,lambda(r,sumproduct(a,r)))))
</code></pre>
<p>This is a Google Sheets lambda function that expects two parameters: <code>a</code> should point to a 2D array that contains the first row in the matrix, and <code>b</code> should point to a 2D array that holds the rest of the rows in the matrix.</p>
<p>The function assumes that the matrix in the format specified in the question, and returns <code>0</code> if it is a Hadamard matrix and a non-zero value otherwise. In the event of a 1x1 matrix like <code>[[1]]</code>, <code>a</code> should point to the matrix and <code>b</code> should point to a null array of zero rows, and the formula will return <code>0</code>.</p>
<p><img src="https://i.sstatic.net/IUf2tdWk.png" alt="screenshot" /></p>
<p>You can call the function like this:</p>
<pre><code>=lambda(a, b, 
  sum(byrow(b, lambda(r, sumproduct(a, r)))) 
)(A1:D1, A2:D4)
</code></pre>
<p>...where <code>a</code> is <code>A1:D1</code> and <code>b</code>is <code>A2:D4</code>.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/DennisMitchell/jellylanguage" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>
<pre><code>Œcḋ/€S¬
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///opOSHO7r1HzWtCT605v///9HRhjq6hjogIlaHS0EhGsQGQgRHF1lOF6I6NhYA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Finds all combinations of 2 rows (<code>Œc</code>), calculates the dot product for each (<code>ḋ/€</code>) and sums (<code>S</code>). If this sum is greater than 0, then there exists a pair of rows that is non-orthogonal. Finally, take the logical inverse (<code>¬</code>).</p>
<h3>Alternative (8 bytes)</h3>
<pre><code>ÆḊ²=L*`$
</code></pre>
<p><a href="https://tio.run/##y0rNyan8//9w28MdXYc22fpoJaj8//8/OtpQR9dQB0TE6nApKESD2ECI4Ogiy@lCVMfGAgA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Tests whether the square determinant (<code>ÆḊ²</code>) is equal to the length of the input, to the power of itself (<code>L*`$</code>). This works as <span class="math-container">\$\det(H)=\pm n^{n/2} \iff n\$</span> is a Hadamard matrix.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://raku.org" rel="nofollow noreferrer">Raku (Perl 6) (rakudo)</a>, 38 bytes</h1>
<pre class="lang-perl prettyprint-override"><code>{!grep {[+] [Z*] $_},.combinations(2)}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kKDG7dMG63EoFtYzElMTcxKIUBdulpSVpuhY31aoV04tSCxSqo7VjFaKjtGIVVOJrdfSS83OTMvMSSzLz84o1jDRroapvWXMVJ1ZqwEzRiI42jNWJ1dTEFNZRAMoogGhdw1hcKiAIrg7M1YXxoUK6yPJgNbiMQzFAF2ECVgtQ5EEGQny4YAGEBgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://try-setanta.ie" rel="nofollow noreferrer">Setanta</a>, 102 bytes</h1>
<pre><code>gniomh(m){b:=0le i idir(0,fad@m)le j idir(0,i){s:=0le k idir(0,fad@m)s+=m[i][k]*m[j][k]b=b|s}toradh!b}
</code></pre>
<p><a href="https://try-setanta.ie/editor/EhEKBlNjcmlwdBCAgIDI8oKeCw" rel="nofollow noreferrer">try-setanta.ie link</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a> + <a href="https://gitlab.com/wheatwizard/haskell-golfing-library" rel="nofollow noreferrer">hgl</a>, 19 bytes</h1>
<pre><code>mF(q0&lt;sm)&lt;xQ(zW ml)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=lVG9CsIwGMS1T3FjCwnUzaFdHUVRcJAigaZYTEx_UlBfxaWL-AS-h6s-jbURUTNYCeT78t3ddwc5nFasXHMh6muYykwVGnnFRJqkPMa44KKKufMExg6lGCkNtQHTCjuundxHCJ7DP1Y6oYNzEsqhm_tBKb1gO3H3c0jhGezWu0iWbhp-rBxALuFmUwQoV82VeM0IaAxmRcXbfvE4_ajtgcjCSYuTF4M8XrSDgNgi8q4khkWtGTVUy2HIRPlh8aHrJumW6ivBv6m-Fz4nP40tnqmR-di6NvUO" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<p>This takes all pairs of rows <span class="math-container">\$(a,b)\$</span> where <span class="math-container">\$a\$</span> comes before <span class="math-container">\$b\$</span>, computes the dot product and checks that the result is always zero.</p>
<ul>
<li><code>xQ</code> computes the pairs</li>
<li><code>zW ml</code> multiplies the rows pairwise</li>
<li><code>sm</code> performs the sum to get the dot product</li>
<li><code>q0</code> compares it to zero</li>
<li><code>mF</code> folds using logical and.</li>
</ul>
<h1>Reflection</h1>
<p>I'm pretty pleased with this overall. The library is not really built with a lot of linear algebra functions (yet). So this is not a task I should expect this to do very well at. It's not stellar, but it is passable considering everythign. I'm very happy that <code>xQ</code> exists.</p>
<ul>
<li>There could be a dot product builtin. This would make this <em>much shorter</em>.</li>
<li><code>xQ</code> should be refactored to take a foldable so this could operate on actual vector types instead of lists.</li>
</ul>
</div>
<div id="pu5" class="pu"><h1>APL+WIN, <s>19</s> 20 bytes</h1>
<p>+1 to fix problem identified by att</p>
<p>Prompts for matrix. 1 = true, 0 = false</p>
<pre><code>(×/⍴m)=+/+/|m+.×⍉m←⎕
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v@ob6qvz6O2CcZcQJanP5BlyPWooz3tv8bh6fqPerfkatpq62vr1@Rq6x2e/qi3MxeoAqjyP1AN1/80LhMFE6AiQwUYPLQeQUJohAiYxZXGZaRgBNcDFONCmIKmFsUcdHGwUUAOSCMXpkNQIUwrFHMBAA" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online! Thanks to Dyalog Classic</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 7 bytes</h1>
<pre><code>ÞḊ²$@Π=
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCLDnuG4isKyJEDOoD0iLCIiLCJbWzEgLDEsIDEsIDFdLFsxLCAtMSwgIDEsIC0xLF0sWzEsIDEsIC0xLCAtMV0sWzEsLTEsLTEsIDFdXSJd" rel="nofollow noreferrer">Try it Online!</a> -1 thanks to att.</p>
<pre><code>ÞḊ      # Is determinant 
  ²     # squared
      = # equal to
   $@   # Length of input
     Π  # To the power of itself?
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s><a href="https://play.haskell.org/saved/2oQ5zBTo" rel="nofollow noreferrer">47</a></s>, 46 bytes</h1>
<ul>
<li>-1 byte thanks to <a href="https://codegolf.stackexchange.com/users/20260/xnor">xnor</a></li>
</ul>
<pre class="lang-haskell prettyprint-override"><code>f(x:y)=[]==y||all((0==).sum.zipWith(*)x)y&amp;&amp;f y
</code></pre>
<p><a href="https://play.haskell.org/saved/6Ml5oi0H" rel="nofollow noreferrer">Try it online!</a></p>
<ul>
<li><code>sum.zipWith(*)</code> computes the scalar product of two vectors</li>
<li><code>x</code> is the first row, <code>y</code> all the next rows</li>
<li>we check that for all other rows in <code>y</code> the scalar product with the current row <code>x</code> is zero</li>
<li>then we repeat the check discarding the first row (Haskell works well with recursion)</li>
</ul>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 22 bytes</h1>
<pre><code>#^#&amp;@Tr[1^#]==Det@#^2&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b7XzlOWc0hpCjaME451tbWJbXEQTnOSO1/QFFmXkl0SH5wCZCR7uBelJnioKxrl@agrKPExaUUq1YXnJyYV1fNVV2tYKgDQ7U6XAogvi6YrwvnQ4R0keXBSmqBAlADEFIQQTAFpHVhDHRjYRxc1iLL13LV/gcA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>9</s> 7 bytes</h1>
<p><em>Thanks to <a href="https://codegolf.stackexchange.com/users/9288/alephalpha">@alephalpha</a> for a correction (the transpose was originally missing)</em>.</p>
<pre><code>t!Y*XR~
</code></pre>
<p>Inputs a matrix. Outputs a a matrix of ones (which is <a href="https://codegolf.stackexchange.com/a/95057/36398">truthy</a>) if the input is a Hadamard matrix, or a matrix containing at least a zero (which is <a href="https://codegolf.stackexchange.com/a/95057/36398">falsy</a>) otherwise.</p>
<p><a href="https://tio.run/##y00syfn/v0QxUisiqO6/vXpJUWlJRqU6V616WmJOcaX6/2gFQwUYsgZRuoYQ0hoqrAvn6MIkYwE" rel="nofollow noreferrer">Try it online!</a> Or <a href="https://tio.run/##y00syfmf8L9EMVIrIqjuv716SVFpSUalOletelpiTjGQEesSVRHyP1rBUAGGrEGUriGEtIYK68I5ujDJWK5oqHqwCISLpA/GhBiJUw6qMRYA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<h3>How it works</h3>
<pre><code>t     % Implicit input: matrix M, of size n, with 1 or −1 entries. Duplicate
!     % Transpose
Y*    % Matrix product. This is a scalar matrix if and only if M is Hadamard
XR    % Set entries on the diagonal and below to 0
~     % Negate each entry. Implicit display
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 58 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;m{m.combination(2).all?{|r,s|s.zip(r).sum{|a,b|a*b}==0}}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf1y63OlcvOT83KTMvsSQzP0/DSFMvMSfHvrqmSKe4plivKrNAo0hTr7g0t7omUSepJlErqdbW1qC29n@BQlp0dLShDhjG6gBZuiCmLoQN5unCxUFSsbGx/wE" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1>JavaScript (ES6), 60 bytes</h1>
<p>Returns <em>false</em> for Hadamard or <em>true</em> for non-Hadamard.</p>

<pre class="lang-javascript prettyprint-override"><code>m=&gt;m.some(p=&gt;m.some(q=&gt;p!=q&amp;&amp;p.reduce((t,v,x)=&gt;t+v*q[x],0)))
</code></pre>
<p><a href="https://tio.run/##jY7dCsIgGIbPvQo7GVoqdQF6I@LBcC6KOXU62d0bwdZW1Ojgg4/3h@e917mOerj5RHvXmNLyYrmwLDprkH99gQt/4KGqPBtMM2qDUCKZTJiLdMrHICdFzhjjol0fXWdY566oRRJAKOGFwPWgIotIZ5FuxcWgn0k614HCGPzEvJX2wjve9210M27l/Jd9osoD" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>m =&gt;                // m[] = input matrix
m.some(p =&gt;         // for each row p[] in m[]:
  m.some(q =&gt;       //   for each row q[] in m[]:
    p != q &amp;&amp;       //     test whether p[] is not equal to q[]
                    //     (comparison of pointers)
    p.reduce(       //     for each value v at position x in p[],
    (t, v, x) =&gt;    //     using t as the accumulator:
      t + v * q[x], //       add v * q[x] to the accumulator,
                    //       which gives 1 if v = q[x] or -1 otherwise
      0             //       start with t = 0
    )               //     end of reduce() -&gt; gives 0 if and only if
                    //     exactly half of the values are matching
  )                 //   end of inner some()
)                   // end of outer some()
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>11</s> 10 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>δ*OZ/āDδQQ
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/273995/52210"><em>@alephalpha</em>'s PARI/GP answer</a>, so make sure to upvote that answer as well!</p>
<p><a href="https://tio.run/##yy9OTMpM/f//3BYt/yj9I40u57YEBv7/Hx2tYKgDQ7E6IJ6uoQ6IgHAgfF2EFEg2Nva/rm5evm5OYlUlAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V@mFFCUWlJSqVtQlJlXkpqikJlXUFpipaCkU3louVHWod06XEqOySWliTlwGftKoJh/aQmM5/L/3BYt/yj9I40u57YEBv7XObTN/n90dLSCoQ4MxeqAeLqGOiACwoHwdRFSINnYWB0FqEaYOEQIIaML1QqUhzGRLcAmFxv7X1c3L183J7GqEgA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>δ*O        # Matrix multiplicate the (implicit) input with itself:
δ          #  Apply double-vectorized, using two times the (implicit) input-matrix:
 *         #   Vectorized multiply
  O        #  Sum each inner row together
   Z       # Push the flattened maximum (without popping the matrix)
    /      # Divide each inner value by this maximum
     āDδQ  # Push an identity-matrix of the same size:
     ā     #  Push a list in the range [1,length] (without popping)
      D    #  Duplicate it
       δ   #  Apply double-vectorized again:
        Q  #   Check whether the values are equal
         Q # Check if the earlier matrix equals the identity-matrix
           # (after which the result is output implicitly)
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 105 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda a,x=2:x&lt;1or all(sum(map(int.__eq__,i,j))*2==len(i)for i in a for j in{*a}-{i})*f([*zip(*a)],x-1)
</code></pre>
<p><a href="https://tio.run/##rZDBCoMwEETvfsUesyEpaG/SfIkESanSSNRUI9iK354mKkLvPSQ8ZodlduzbPfvu6n0tjGrvDwWKzSLL51vaD6CMIePUklZZojt3KcvqVZZMswaRZkKYqiMa6@DUoDtQELEJuFC18kWvSGtS0I@2hCqUbOYpeleNbgQBRVJAkUqQbAMGcD4ZvqjwQ@GnAofKfzy772@r@L5KJvGcGDcet8XOEwhsQ3o3WVNtxWzE4hgxjO0QmiJ16Msi@i8" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.r-project.org" rel="noreferrer">R</a>, 36 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(H)any(H%*%t(H)-diag(n&lt;-nrow(H))*n)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhY3VWI0PDQT8yo1PFS1VEuAbN2UzMR0jTwb3byi_HIgX1MrTxOq9muaRkFRZl6JRomGoaamJheMW5SUmZeikaxhqGOoqQOidEHS2OR1CSlQgCKQMhBDF8LXhQtAxXRRVIBV4TIR1QhdhBk4LEFRAQQQzy9YAKEB" rel="noreferrer">Attempt This Online!</a></p>
<p>Uses the characterization: <span class="math-container">\$HH^T=nI_n\$</span>.</p>
<p>Outputs swapped <code>TRUE</code>/<code>FALSE</code>.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="noreferrer">Nekomata</a> + <code>-e</code>, 4 bytes</h1>
<pre><code>Sđ∙Z
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpJuqlLsgqWlJWm6FsuDj0x81DEzaklxUnIxVGzBzbboaMPYWC4gqWMYqwMkdWFcXRBfFyQMldZBKNGBSkMYMLYuRAquXwfJEIiMDg7xWIhzAA" rel="noreferrer">Attempt This Online!</a></p>
<p>This swaps truthy and falsy values. It outputs <code>False</code> if the input is a Hadamard matrix, and <code>True</code> otherwise.</p>
<pre><code>Sđ∙Z
S       Find a subset of the input
 đ      whose length is 2
  ∙     and the dot product of the two elements
   Z    is nonzero
</code></pre>
<p><code>-e</code> checks if there is a solution.</p>
<hr />
<h1><a href="https://github.com/AlephAlpha/Nekomata" rel="noreferrer">Nekomata</a> + <code>-e</code>, 6 bytes</h1>
<pre><code>ᵒ∙jZ‼*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpJuqlLsgqWlJWm6Fmsebp30qGNmVtSjhj1aS4qTkouhEgtutkVHG8bGcgFJHcNYHSCpC-Pqgvi6IGGotA5CiQ5UGsKAsXUhUnD9OkiGQGR0cIjHQpwDAA" rel="noreferrer">Attempt This Online!</a></p>
<pre><code>ᵒ∙jZ‼*
ᵒ∙      Outer product with dot product
        This is equivalent to multiplying the matrix by its transpose
  j     Join the matrix into a single list
   Z‼   Remove zeros
     *  Check if it has the same length as the input
        Nekomata does not allow multiplying two lists of different lengths
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 11 bytes</h1>
<pre><code>a-&gt;a*a~==#a
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728ILEoMz69YMHiNAXbpaUlaboWqxN17RK1EutsbZUTISI3pycWFORUaiQq6NopFBRl5pUAmUogjpJCmkaipqaOQrRvYomGIYhhqGNobaijaxgLZusaWusCRSAcMARL6oBlIBSEpQsRhunSgWsFc6yxiMXGakKct2ABhAYA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Let <span class="math-container">\$A\$</span> be the input matrix. Since it is guaranteed to contain only <code>1</code> and <code>-1</code>, we only need to check if <span class="math-container">\$A A^T = n I\$</span>, where <span class="math-container">\$n\$</span> is the number of rows in <span class="math-container">\$A\$</span>. When comparing a matrix with a scalar, PARI/GP will automatically multiply the scalar by the identity matrix of the same size.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 12 bytes</h1>
<pre><code>⊙θ⊙θ∧⁻κμΣ×ιλ
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iOSOxKDk_MWfBgqWlJWm6FjetAooy80o0HPMqNQp1FOBUioZvZl5psUa2jkKupo5CcGmuRkhmbmqxRqaOQo4mGFgvKU5KLoaaszxaSbcsRyn2pkN0dLShjgIUxepwKSgA-bpgvi6cD-Yg8XWhSmJjYyHmAQA" rel="nofollow noreferrer">Attempt This Online!</a> Link is to verbose version of code. Outputs an inverted Charcoal boolean, i.e. <code>-</code> if not Hadamard, nothing if Hadamard, Explanation:</p>
<pre><code>⊙               Input array
 θ              Any row satisfies
  ⊙             Input array
   θ            Any row satisfies
      κ         Outer index
     ⁻          Does not equal
       μ        Inner index
    ∧           Logical And
          ι     Outer row
         ×      Vectorised product with
           λ    Inner row
        Σ       Has nonzero sum
                Implicitly print
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/273990/">273990</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




