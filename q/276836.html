<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::276836</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>003</td><td>Python</td><td>241125T222134Z</td><td><a href="https://codegolf.stackexchange.com/questions/276836/2n-different-words-with-n-characters-matching-a-regex-of-the-form-abcd/276843#276843">Jonathan</a></td></tr>
<tr d-ix="1"><td>nan</td><td></td><td>241125T183455Z</td><td><a href="https://codegolf.stackexchange.com/questions/276836/2n-different-words-with-n-characters-matching-a-regex-of-the-form-abcd/276838#276838">Arnauld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a></h1>

<p>A full program that accepts an integer and a file path (without a path uses stdin, only implemented for the TIO suite really) and prints sets of words that equal or beat the maximal cardinality found so far.</p>
<p>The <code>find</code> function could be passed a <code>floor</code> of <code>2 ** word_length</code> to not search for smaller than full sets (or could do that by default), this is just so we can see the best when no sets are &quot;full&quot; ones.</p>
<p>Here are the record breakers it finds for <span class="math-container">\$N \in [4,10]\$</span> (there are <span class="math-container">\$7965\$</span> length eight sets for <span class="math-container">\$N=3\$</span>):</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th style="text-align: center;">N</th>
<th style="text-align: center;">Length</th>
<th style="text-align: left;">Word Set</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">4</td>
<td style="text-align: center;">16</td>
<td style="text-align: left;">cane cans cape caps cone cons cope cops tane tans tape taps tone tons tope tops</td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td style="text-align: center;">19</td>
<td style="text-align: left;">cards carte carts colde colds colts corde cords corte halte halts harde harte harts holde holds holte horde horte</td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td style="text-align: center;">19</td>
<td style="text-align: left;">cares carte carts cases caste casts cores corte costs parte parts paste pores porte ports posee poses poste posts</td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td style="text-align: center;">19</td>
<td style="text-align: left;">carta carte casse caste corse corta corte costa parse parte passa passe paste porta porte possa posse posta poste</td>
</tr>
<tr>
<td style="text-align: center;">6</td>
<td style="text-align: center;">17</td>
<td style="text-align: left;">cantar canter cartas carter cartes contar conter contes corner cornes cortes manner mannes monter montes mortar mortes</td>
</tr>
<tr>
<td style="text-align: center;">6</td>
<td style="text-align: center;">17</td>
<td style="text-align: left;">cantar canter cartas carter cartes conies contar conter contes cortes manier marier monies monter montes mortar mortes</td>
</tr>
<tr>
<td style="text-align: center;">7</td>
<td style="text-align: center;">17</td>
<td style="text-align: left;">clashes classed cruised crushes blushed bruises cruises brushed brasses crushed blushes clashed bruised classes crashed brushes crashes</td>
</tr>
<tr>
<td style="text-align: center;">8</td>
<td style="text-align: center;">14</td>
<td style="text-align: left;">clacking clanging clanking clicking clinging clinking crackers cracking cringing flanking flickers flicking flinging fringing</td>
</tr>
<tr>
<td style="text-align: center;">8</td>
<td style="text-align: center;">14</td>
<td style="text-align: left;">clacking clanging clanking clicking clinging clinking cracking crackled cringing crinkled flanking flicking flinging fringing</td>
</tr>
<tr>
<td style="text-align: center;">8</td>
<td style="text-align: center;">14</td>
<td style="text-align: left;">blacking blankets blinking brackets bringing clacking clanging clanking clicking clinging clinking cracking crickets cringing</td>
</tr>
<tr>
<td style="text-align: center;">8</td>
<td style="text-align: center;">14</td>
<td style="text-align: left;">deserved deserves devolved devolves diversas diverses reserved reserves resolved resolves reversed reverses revolved revolves</td>
</tr>
<tr>
<td style="text-align: center;">8</td>
<td style="text-align: center;">14</td>
<td style="text-align: left;">deserved deserves devolved devolves diverses diversos reserved reserves resolved resolves reversed reverses revolved revolves</td>
</tr>
<tr>
<td style="text-align: center;">9</td>
<td style="text-align: center;">12</td>
<td style="text-align: left;">contorted contenter consentir presenter consorted preserver consented contented conserver conserved presented preserved</td>
</tr>
<tr>
<td style="text-align: center;">10</td>
<td style="text-align: center;">11</td>
<td style="text-align: left;">consenting consistait consisting contentait contenting contesting continuait continuant continuing protestant protesting</td>
</tr>
<tr>
<td style="text-align: center;">10</td>
<td style="text-align: center;">11</td>
<td style="text-align: left;">consenting consistait consisting contentait contenting contesting continuait continuant continuing presentait presenting</td>
</tr>
</tbody>
</table></div>
<pre class="lang-none prettyprint-override"><code>import sys

LETTERS = 'abcdefghijklmnopqrstuvwxyz'


def find(word_length, words, floor=1, i=0):
    if i &gt;= word_length:
        yield words
    else:
        allowed_letters = tuple(set(w[i] for w in words))
        for n, left in enumerate(allowed_letters, 1):
            for right in allowed_letters[n:]:
                filtered_words = {w for w in words if w[i] == left or w[i] == right}
                if len(filtered_words) &lt; floor:
                    continue
                for result in find(word_length, filtered_words, floor, i + 1):
                    floor = len(result)
                    yield result


def main():
    word_length = int(sys.argv[1])
    if sys.argv[2:]:
        words_filepath = sys.argv[2]
        word_file = open(words_filepath, mode='r', encoding="utf8")
    else:
        word_file = sys.stdin
    words = set()
    for line in word_file.readlines():
        if line.startswith("#"):
            continue
        word = line.strip('\n')
        if len(word) == word_length and all(c in LETTERS for c in word):
            words.add(word)
    for found in find(word_length, words):
        print(len(found), found)
    print("Done.")


if __name__ == "__main__":
    main()

</code></pre>
<p><strong><a href="https://tio.run/##bdhLj9xIdobhPX9FQl6oChYabs9mMLC88uy8smfXbghZyWsmGcGKCJLFNPzb2w@rWq1bC/hQScaF8b3nnGBQ8176GP7y1zn99tswzTGVU95zVf3n3//xj7//13@fPp7en58uddN2/XC9jVOI83PKZVm3l/3@vqoqTad2CPXDFlP9aWxCV/oPp@Mifzi1Y4zp488fTsPHf3n8W3Xyb2hPw@nfP56@6v7WcPzbh2as3wa/3mvG3HxpPY9j3JpjVClNytZWlnlsHnJTHrZfhl9PbUyn7TSEtxkeH/8YeTSED6exacvR3IRlatK5NA/fTfnh9PPjl@d9HpmGrn8d913vX8Lffv229@uIYdSo1@siLPJ/t@8WdjB4Xe/Hj29LOlp/v3591v/9MKkRWD18O/fj6d/eCP@4iOPfJYYyhKX5cYWHpyYv46upH4P37VN@j6IYnv75Bzx/THl0OX18XeTb1I9/2u8twG89fk@e6TyEh9@n/WoZJhtCeZCMP51Tt/7y86@Pn/Pnj3v/@jX/18V@svZmPr8O/9Lt1286vfbRHmeL/XbUh9MU6@bj@/T@gyS5xHoI3cd3S2n/@u7xTxLy69mOp@ViwB9Gjtgfqfk28oA@DqH5nAWv435Kzbk@7uaHr8AewXbPdOdU8jaU/uHdP737jvwP0T0mPSLwNjIN88P7/wnvH6vvUujo9nhk2tesz6E@kvvhcqzuc@kfK758Xu53T3/199O5fsucLw7buJjqT7PqLWW/TDOnI76vWX0MevzwNvhtrrfGd/8RmYG@qqz@06dwnppPn47Fv/v06cibT5/evU34lkTVb7@dz6E6Xy7UUE@RSmWpdCXX9VqdG/2aVJ3blrR3@ncDae/P5PdgzOD@MNJExgzG3PS5LdV51G/UPmofM5lncm96Ivcnc0z6BveCuYJ7oSP3g7nC0WZcMC7s1Tn6Peszu07GJD6S62RMupE1JM9P2rP2zF82V9aWZzI@ayvGFH8X3hbPWdxfjuuX6rxq24zdjr/WvWl/aaqnc00d9TRSoESZCu3VU3Mh/Rr9G32bgW6kfzORMZg@Nfo3@g9PpP@g73Al/TB8Gsw56IPd02iOUd/xXj3FMxkTjYnGRHNHY6Ix0bzRmLjRCxmD0dOi76Lv4vm8Pi368fvE79Oiz95Ul/MT1TTSRIFmSpSp0EZ7deHlwseFj0ujjZeLfLj05pETlz5WFz4uw/FXGw8Xa7ZXUEf6WPMleo51X6J@0bPiM5lTjC98XOJCnsnHJd6rizhfkrHJ/eRe0W8xL38XVX5ZtC1XMjevF14vi3n5vSxHX3NuJJaXl6Gqea55rs8NddTTcf9KN5ooUKJMhRba7cpnao7dmYxtjBXrWqxrfGqxrjGqMaoxqjGqm42MxakejB8u5PnDcW2OwVg1dGyQNXb1MJPxcqHGsR48e3ipajzreMgYDGsMawxr7GrsauxqzGqxr5P7WNU41Yvn4VTLhRqfGp960Y5PjU@NT71bj3xoeG/4bvhu@G74bp6eqsZ@0VxeqobHhr@Gv4a/hj@v6arpOopVw2PDR2Ptzc3vsabjb0sD3cgco@fYF5rJ/PaAxh7Q2ANsiKRd7Tdqvwn3quGtmY3ly7uX9EnHteep@UZeNGq@ydqysdl9Nd/kZzJW3TdFe7mQPoUXOeSkQnvVYNPg0mDRYNHYCxp7QWMfaDBpz2e6UE0dBUqUqdBO96pV/63caDFq5UGLU4tTi1HbLLSRfnKgVf@t@Lfi34q/Nx7pL@4tdq24t2Le4tfaA1p11KqjVvxb8W9jTwMZp4a8YMgz1H@LU4tPm8yHUYtPKxfaoh@vrXpp1UrLcysXWnnQ8t7y3vHaqY@O1059dOeWOhpopEAzJcp0jFlpp3vVNcZi0KmLDocOhw6HDocOB0dl0heDDoMOg27wDBw6@2CHRYdDx38n77vB3PKnkzsd/x3/nbzv5H0n3zteOznReQd09oOOp46n7vBij@vUe89PL349Tz1PPU89T726789H@0SBZkqUqdBKe9Xz1Ittz1ev7nveet563nreet56tdDz1zfGiHPfHOPuVa/We7Xe8@krgYzhr1fjvVj3Yt3z2otvH/Xlseexj54jzr0Y92Lcq3cfIxTJWDXRx2PcQp6n7nss@uS@mu/FuVfv/WKtmPSY9OLcL0e7cbt7PmYG3oenMw0UqsHZYFDrw8X15UZ7NTgXDL1@vfb@@J2qYdBu7cOV1LkDG7mnvgf1PYz6qW/fTdWgvodwoZr0Cy11pK93/aDWHWmqgb@Bj4GPQUwHtT14jw/Zs9X0oJYHtTyo5UEdO/yRZxZt6nlQs8Nq/O767ve9VFexv4r1VZyv9vYrv1cxvnqnXcX2ag@/NlcKlMkYtXqVm1c5eRWzq9hcxeKK@RXzK@ZX67zie8X1iukV05tn3Mx/k0s3OXQz/838N3Pfmplcy4Wb@N/E/Ca/b7jdxPbG@01cb@a@mfO2LNWoFkd5O8rbkYfR/CMPo2eMnjHK15GX0bNG@TryNJ5faK/GJ/e8q0bnklHujnJ3tJbRu8q5koxrjj7GNcZY22jvHtXlyPsob0drHYfjXkuea49yhCbPFfuRh1F9js4mI0aj/B3l7yh3R7xGuTvy5fuHjLFHjRiOGPpYrEZxHOXqqG5H@TriOdqbRu/yUc6OOIzeUyO@I76jfXlU0@Nyr0b78rh7jhyecJpwmnCa1PeE1aS2HXzpSjcaaaJAMyU6xhZaaKO9mjCb8JrwmrCa1PmkzifMpiaScbhNuE3yZFLrU2dM7y92E24TbhNuk/yZ5M@E24Tb5N0@qfkJuwm7yf4@OQtP2Pm2ouO3Z2I24TXhNeE14TXJiwmzyf4@yb1JLUyL52E34TbhNmE2YTap82k52o2TRxNm0x6qoBYCRgGjgFHAKGAUsPH5QEefSDNlKrRXoT5XQR4FXAIuwR4YsAnqJjj3BIwCRgGjgI9PNjIWn4BPsA8GjMJwyDz4BHwCLgGXIJ8CJgGTgEnAImAR5FDAIzjrBntgUCcBmyCfAjYBm4BNwCZgc3zxBRyCd1vAImAR5E/AI@AR8Ai7NcidsJcqyosoDyKfUb1E@16050XfQz51q@j7JzrbRO@saO3RuqM1RzGM1huvsYrez1ENR3tf9H0T7XE@zMi1fc2XKO1V5CXyEXmIPETxjTxE6/exTa7tezE9kTnsf9G7O/qeic420dkmOttEcY/qJop75DXyFnmLvMXVfXtgXN3ftDu/RN8x0XdM5DneczWrlVkOzOI/8z@L/Szus5jPWMzno0@hhTZ6oZ3u1aw2ZnvILN6zWM9iPYv1LNazWM9iPWM1e0fM3vGzWM/iPKuDWZxnzGYxnu17M2YzZvN4/DbOGWcW91m8Z7GeMZoxmjGaxXnGaZb7M0YzNj6CyX3nmtkeMjvjzupgFvNZzGfn/xmbGZsZm2d@nu1zz7epelY3z3LlGb9nfRMeCY@ERVIHCY@ER8IiYZFwSBgk@Z/kfsIgyf8k5xMOyd6ecEg4JO//5DnJfprsowmDJG8SBsm737c7eaacT3gkPNJwr5I9INk/EwZJ7iccEg4Jh8R/4j/J8WTtid9k/YnfJM8Tz4nPxGcS5yzG2X6Y@crn47qjnga60UiBZkpUaKGN9iqLc1bvmd@s3rPzTuY3i3vmOfOcm2cylu/Mdxb/LP6Z98x79i7J8iDLg6x2Mg4ZhywfMhZZHWU8Mh4Zi6ymMh4Zj2wPyFfz3Yxztsg3z76ZR45knDJGGaOMUY5XMpe6ylhle0OWN1neZNwybtn@kLHL9s086zNrm/1@5kEtZWeIXPTxLZDxzfhm9ZUxzs5PWZ5ke0rGOmOd5UyWX1l@Zdwz7tk@m1f3nTfzrq/9Nu8r7VURgyIGBf@Cf8G/yLMiBsV@W8ShiEORb0Usipor4lDEoYhBEYNiry34F/wL/gX7gn3BvPgGL3gXtVcwL5gXzAvmBfOCecG7YF3kXsG74F3wLngX9VjUY4mHrBPXgmnBtGBaMC2YFkwLngXPgmfBs6jHoh6Leiz2q6Iei2@v4nxWsCxYluX4bd6FdwwLhgW7gl3Brmz6bcb6Bl2cQxd778Lr0vXVYn3H/4cu9tZlytXiLLnYYxd77OIMudhnlxDpaFuqxT66zH5b0@L7Z7F3LvbOxflxyVu1WNci3ovnL/bHxXtgVSer2KzisorJKharWKxisVrPKgZrc/zVjv@K/@ossIrBKgar/F/l/yr3V@@6tdMP/xX31dlpdVZeh@OesWKwisGK/4r/yt8q31d7wDp21crfys8qBqsYrGKwisGK/SqfV/xX7Fd74Yr/Go3DfOVxXQ5dKVcbT5uc23jaeNp42s7H/UILvdBebb5tNv42ObbZ1za1vvG58bnxufG48bjxuMmzTX5t8muTVxt/G3@bet6cczYeN/423jbeNt4258NNXm38bPxsvGzyaeNn42eTSxs/Gw@bmtvkyCY22@FBbmzOeptaesHwxVwvWL14b7yMfnvPvbwc8vvlpdrV1O77Za9ztaudnaedn52PnY@9Oe4X2uhe7da5W@Nuvt26dmvZrWVX83fs7mr1jt8ds7u57vjc5cHdPHfz3Pm/837n/c73XV3dzXdXQ3fz3fm8m/Mu5@883ffw21/@Hw" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></strong> - you may want to collapse the &quot;Input&quot; section. This is for <span class="math-container">\$N=3\$</span> as TIO is too slow to do much more.</p>
</div>
<div id="pu1" class="pu"><h1>N=4</h1>
<h3>Regex</h3>
<pre><code>/^[ct][ao][np][es]$/
</code></pre>
<h3>Words</h3>
<pre><code>cane, cans, cape, caps,
cone, cons, cope, cops,
tane, tans, tape, taps,
tone, tons, tope, tops
</code></pre>
<h3>Search code</h3>
<p>This is the one and only solution found by this code.</p>
<pre class="lang-none prettyprint-override"><code>const fs = require(&quot;fs&quot;);
const data = fs.readFileSync(&quot;words.txt&quot;).toString().split(&quot;\n&quot;);
const dict = [ ...new Set(data.filter(w =&gt; /^[a-z]{4}$/.test(w))) ];
const alpha = [ ...&quot;abcdefghijklmnopqrstuvwxyz&quot; ];

function search(list, pos = 0, path = []) {
  if(pos == 4) {
    if(list.length == 16) {
      console.log(`/^${path.join(&quot;&quot;)}$/`);
      console.log(list.sort().join(&quot;, &quot;) + &quot;\n&quot;);
    }
    return;
  }

  alpha.forEach(x =&gt; {
    alpha.forEach(y =&gt; {
      if(y &gt; x) {
        let newList = list.filter(w =&gt; w[pos] == x || w[pos] == y);

        if(newList.length &gt;= 16) {
          search(newList, pos + 1, [...path, `[${x + y}]`]);
        }
      }
    });
  });
}

search(dict);
</code></pre>
<hr />
<h1>N=5 (no solution)</h1>
<p>Out of curiosity, I used a slightly optimized version of the above code to search <span class="math-container">\$N=5\$</span>.</p>
<p>The best score is 19 words, which is -- unsurprisingly -- pretty far from 32.</p>
<pre><code>/^[ch][ao][lr][dt][es]$/
cards, carte, carts, colde, colds, colts, corde, cords, corte, halte, halts, harde, harte, harts, holde, holds, holte, horde, horte

/^[cp][ao][rs][et][es]$/
cares, carte, carts, cases, caste, casts, cores, corte, costs, parte, parts, paste, pores, porte, ports, posee, poses, poste, posts

/^[cp][ao][rs][st][ae]$/
carta, carte, casse, caste, corse, corta, corte, costa, parse, parte, passa, passe, paste, porta, porte, possa, posse, posta, poste
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/276836/">276836</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




