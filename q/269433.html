<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::269433</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>061</td><td>Perl 5 pF</td><td>241127T055322Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/276882#276882">Xcali</a></td></tr>
<tr d-ix="1"><td>087</td><td>Regex ECMAScript 2018 / Pythonregex / .NET</td><td>241102T103919Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/276471#276471">Deadcode</a></td></tr>
<tr d-ix="2"><td>115</td><td>Regex PCRE2 v10.35 or later</td><td>241102T084923Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/276468#276468">Deadcode</a></td></tr>
<tr d-ix="3"><td>010</td><td>05AB1E</td><td>240124T162314Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269530#269530">Kevin Cr</a></td></tr>
<tr d-ix="4"><td>007</td><td>Brachylog</td><td>240122T104844Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269469#269469">Fatalize</a></td></tr>
<tr d-ix="5"><td>012</td><td>Pyth</td><td>240122T201759Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269484#269484">CursorCo</a></td></tr>
<tr d-ix="6"><td>064</td><td>JavaScript Node.js</td><td>240121T182351Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269443#269443">l4m2</a></td></tr>
<tr d-ix="7"><td>012</td><td>Vyxal 3</td><td>240122T011903Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269459#269459">lyxal</a></td></tr>
<tr d-ix="8"><td>060</td><td>JavaScript ES11</td><td>240121T213112Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269454#269454">Arnauld</a></td></tr>
<tr d-ix="9"><td>013</td><td>Jelly</td><td>240121T170150Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269437#269437">Jonathan</a></td></tr>
<tr d-ix="10"><td>026</td><td>Charcoal</td><td>240121T220149Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269455#269455">Neil</a></td></tr>
<tr d-ix="11"><td>047</td><td>Retina 0.8.2</td><td>240121T201536Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269450#269450">Neil</a></td></tr>
<tr d-ix="12"><td>018</td><td>Vyxal 3 o</td><td>240121T171051Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269439#269439">pacman25</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-pF</code>, 61 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_/10%11||$_&gt;111&amp;&amp;chop;$\=$_%11?s/@{[(sum@F)%3]}//|3:11;say}{
</code></pre>
<p><a href="https://tio.run/##dZBNa4NAEIbv@RUJWWW1MeOsBIqLjSdP7bGnxEgplgq2Stceiutf73bXj3wgPYgws88zM2@df5U7pUgG6FuIUpLsARFt@/W9qjk5RiTT5b2AuD1Q8f0RJ44VpB2ADEJELl5@ulatSR2dmwYKOJzo1jmiS2BPdQHRu3fhpM0EHNuOE4sNI0IBpAYYRIteNDR917Q3Z61zIE0EyCRDSPmFMt8dRdz0L9LF2mDL4o3q5ytgKJFNE/n8CrPsCK80Pa2h8Qlt@3PmZJeXIm8vh/D@ym4UjLSJM9Jl7EMI9B5zUTjkc5PKtMdyRa@jdaQcxVc@E8T/DqWHI2PIfqu6KapPobyn3dZHX/8fC9GE4XNTlJGeoLyyTv4A" rel="nofollow noreferrer" title="Perl 5 â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1>Regex (ECMAScript 2018 / Python<sup><a href="https://github.com/mrabarnett/mrab-regex" rel="nofollow noreferrer"><code>regex</code></a></sup> / .NET), 87 bytes</h1>
<pre><code>(((x+)\3{8}(?=\3$))*x|)$(?&lt;=(?=(xx+)\4+$)(\8\6)(?&lt;=(?=(x*)\6{9})(\1{10})*)(?&lt;=(x*)\1*))
</code></pre>
<p><a href="https://tio.run/##TY/BbtswDIbvfYogCCAyToxI7YourpLTDr30sB3rAjUSxdHgyJ6kNAEcX/cAe8S9SCaL7tCTTfLnx08/i/fCbaxu/NzUW3V1cpFZ@V2V384N/PBWmzK1xentCgDnBPPb9qGDtcxvJ4jT8wUnsH6UoQHnfnqXTBDyh/we/7enmN@3X7vQ5i1fdDilUd/nU8TrW@oqvVHAZ3OOmFn166itAmZVsa20UQzTTfj36sl4ZXdFiLbaNEe/bGy9Uc6lzm@16TCtDbC4Mavkqi1llbqm0h7YnGGmdwBGlmmlTOn3uBKXi3bPxTNo2RTW9XQoXxaviB8D9XlgVnzNl/0Y/d7Wp/GTeS8qvR3ZwpRqORonVbarLWT6UapMJwmGgwc5Po9Tq5qgDxrTQ@E3e7CI7Sf1@ujTk9VeAbg1yw1bMoaJTtjo7@8/I5YcXr68DtYJm8XG3UcDMyd51nV45ZzfcC5uuAhfIW5EqEWoRahFqDkF@kSM9Bneh7iIW7QW9/rFfrPPiciKMKIRjngRGImEjEyCEpWwkcsjmIvBUdBhuhxPk8WgQR5RJJqQCr1reBkZDorkGCXpzYKEyTgqk/2gL/4B" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a> - ECMAScript 2018<br />
<a href="https://ato.pxeger.com/run?1=bZBBbsIwEEXVbU5hWUh4kkAZgxCFWlyiUheEBSoJRAomcoIUoGx7gG676aY9Q6_SLnuAnqG2J-qqq9jjP2_e5OW9PNbbvX79yHfl3tSsOlaxSTdpM2NGGc7526HOepPPeyFEE0EyPE8uYq6SYQcgbB6hI-a3yhZE415HUQdEMknG8FcOIRmfby62jGccXCCkJ1fHEKDF_9hJC5z2cDljJzUIsr1hBcu18-lX9TrX04AVquhXZZHXgvc4BMyFtAuZld6kIte1KBaDJcR0sjCIEGwj2ym_U79KV-ZhK0zMeMNDbRksz9jORdzhNGWlcc0wc5WTwllb0DH_fnrmcVUbUaRa7Pobsz-UlYDFaAkQdWPWjf55HNrHONVrxXmcFYdqq-7MIW23fv26ukbEAFEGKO1XykDau7R3ae_S3pECLuEjLoMuhNJ3UZvvc42u0-WkZ3kY0QhHPA_0REJ6JkGJSljPRQ9G2TpKGkyT_WiyaDXIw4t4E1KhvdrNyLBVJEcvSTtLEiZjr0z2rb6kH_cL" rel="nofollow noreferrer" title="Python â€“ Attempt This Online">Attempt This Online!</a> - Python (with <code><a href="https://github.com/mrabarnett/mrab-regex" rel="nofollow noreferrer">regex</a></code>)<br />
<a href="https://tio.run/##VZDRboIwFIbvfQpCTmILYmx1xsmIJrveE4gXxFUhqYVAjUTG7R5gj7gXcW0Pc9kV@U//8/UrVXkVdZMLKe9QJ7tanES7X6@VuJLt@E4IaUOazrtVTzZJOgdKg/aDAtm8JGZAWnu6CIGSdJUu6WMc0HTZPfdmzDo262mAR3bOAkrv4@3Efy3PVSHFu09juCWz@FjWIjvkBKRXKA8KVV007SBLQEZNJQvtR35cHAlk00N5UTqS2uO2ECaQ7Wb73gAIqGRXKL13kxhUJMVvZjaHIe0s45xAPX3L9CEXDRm34wAUxZMb7a51oUWUl43ujRmL/7IXqdL8Glko4fmgvO/PLw8MbXqqy0vV7J72UynUSed08m@@eMz9vu/vjLERY3zEuPlyPuImc5O5ydxkhgXbcBXbYbbEuNvCNbdnF@2m7XHHcjCkIQ55DuiIiHRMhCIVsY7LHJjxwZHjxXizuxotBg30cCLOBFXwXcPL0HBQREcniW/mKIzGThntB33@Aw" rel="nofollow noreferrer" title="PowerShell â€“ Try It Online">Try it online!</a> - .NET</p>
<p>Takes its input in unary, as a string of <code>x</code> characters whose length represents the number. Returns its output as the lengths of <code>\5</code> (the number with a digit optionally removed) and <code>\4</code> (the non-trivial factor of <code>\5</code>).</p>
<p>For golf reasons, this regex prefers to remove a digit rather than not, and always picks the leftmost digit whose removal will result in a composite number. It's actually <a href="https://tio.run/##TY5NbsIwEEavghCSZzBYuFBECYZVF9100S4JElYwYargpLYpkUK2PUCP2IvQ0D@xG733zcz3ot@0TxwVoW/zjTl7NYicejLpfVnAc3BkU@H0cX0GgJJjPKwmNSxUPOwgdssTdmAxUw2A8mJHvIMQT@Ix/uMuxuPqrm6wrOSgxu6PunDZRTyvhc8oMSB7fYkYOfN6IGeAOaM3GVnDUCTNHMyDDcZtdROtyBaHMC1cnhjvhQ8bsjWK3AL73uhlal6lKhO@yCgA6zOMaAtgVSoyY9Oww/nN6UT@UT8CqUI7f7kO6XKwQvwT5lrYuVzI6UVj2Ln82H6wbzqjTctpm5ppq82zaJs7iGimTEScY/Nwr9plWzhTNPWBUOx1SHbgEKur6vkhiKOjYAD8gsWWTRlDTpy1Pt8/Wozvl7er39ac9b7B6A9g5JWM6hrPsn87kF8" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">fully general</a> â€“ not limited to just numbers with the digits <code>1</code> or <code>2</code> â€“ with the caveat that it won't return a match if the input is prime and no single digit can be removed to make it composite (e.g. <span class="math-container">\$37\$</span>).</p>
<p>When interpreting the explanation below, remember that these lookbehinds are evaluated from right to left â€“ so read their contents from bottom to top, one quantified token at a time. When entering a lookahead inside a lookbehind, go back to reading from top to bottom.</p>
<pre><code>                            # N = input number
(((x+)\3{8}(?=\3$))*x|)$    # \1 = a power of 10 (designates digit to be deleted)
                            #      or 0 (no digit shall be deleted);
                            # head = N; tail = 0
(?&lt;=                        # Lookbehind
    (?=                     # Lookahead
        (xx+)\4+$           # Assert tail is composite; \4 = factor of tail
    )
    (\8\6)                  # tail = \5 = \6 + \8
                            #      = N with the digit in place \1 deleted
    (?&lt;=                    # Lookbehind
        (?=                 # Lookahead
            (x*)\6{9}       # \6 = tail / 10
        )
        (\1{10})*           # tail = N - (N % (\1 * 10))
    )
    (?&lt;=                    # Lookbehind
        # \8 = N % \1
        (x*)
        \1*
    )
)
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Regex (PCRE2 <sub><sup>v10.35 or later</sup></sub>), 115 bytes</h1>
<p><code>s/(?*(.*)(.*+))(?=(?:((?(?=\2$).?))(21|(1|2(?3)2)(?3)(12)*(?3)(2|1(?3)1)))+(?3)$)\1\K.?(.*)|(..)\9*\K.?/$8 ${9:-3}/</code></p>
<p><a href="https://ato.pxeger.com/run?1=hVfLcuJIFl1OBBHzD2naUZYAP5Se6nFZpggMqjLdGBxCTJerqFLIIGxFgSCQaNcDb_sDZjcxm970sn9l9t3L-ZK5mXmvkATUEGFQpvI-zzmZ6X__PpxPlpH4c--Hw9_fFQ8n8-HC54dnxfd_2N-N_HEQ-uymYVvcbXSbltvvtBz3p1bTuWJnhe-CcDhZjnx2IY2OHl4Whg_egrnzd-9ZldnFy8fHj3eny9vPn984D98_Pmi_LePx4dkfUXSs1UraUUmHv7Kua7WqVjvXtBo8DPi-flSDOW6sNGPFtdqpznXxrRlcL8kHvjLEr6Hrelk87OsDY_DjUU14XGlHR_rgRUmMj_fP2P7XF-eHp0_HKvSff_2Pns-qWGGledWdm6mCongUzERB6alFEN5n54IZzPredHPdy0IQxmwOj7HrLxazhTachVHMZINKUz-KvHtf_wpxzs-HsIBdXDCcFY9y3g9HE5Mt_Hi5CJlhPjHhMvocxt4n9Kl_xbfpQMWeXMLkqKibTxupiPFwNvJ19rXA4COTwujv-PPv35tyOhgzTSLr3vto6uIqTZhXmKao0W9c1e2zko4vKywKvvizsUZlsmOaSa0H8GQU8cm0oSgXqfTPWXFnZ6R10p3CkyLfyJ8E0-qJye5mswl0bOGFIl3xKqzIH0_93CXNW0I_ztxYCw89nV1Uk_EdjE10WwIljFzpXDkrRdS98WzBNNOMymWaoebtiUUYpNNvt83krT-JfLmkFFWrB4PBAZgqi3I5Z_O03UimkqyMlOunggJ76gWhRtlIi3J5vlc9iA5Wqz1NtUhM6WsHGVqZ0kiuuzhZraiLcqLyt7PK8zM9N7s65ZUXf68Y_Dm8AQkMH4CI-5peKh9dvKx9KFZUvkm8DGFb4c_eJBgp7ILYF6xlkJ65Zmcpgh0lhcEcc9yLdpZQAkSgtycHaTfjrJuI3Ix3uxln3AhynHI3ZrPqCRB9Bv4UqXv9y57TcvqO5VpvHKvTtJpstfmu3-lZjmtd3zi3Zoo-EAbwGYQHJhsLIkWPQTx8AODGiUg9QP_g_uBcBF1tifq63b2st01Yegd70kczZVUHK5ayqncaV13bapos9dmwsvJW7Xb3J5W622jXe711LHZ8zIbLKJ5N2SHzJpPZI4MzwAtH7N2H92wSfPSZ1biu94aLYB6nQrzZCOG4l73-my2JZUL4oXc38dlgyQZ9GQa6OPRHjB-OgvsgZoNPqSCNLUEaLbvRv37VtijUliBByI6nbCp3ug-Dt-AtBGUBLCnfQc53o96z2pZqze7ONnNWzW67XbddIE230741d1hFG1YOQJKJtMXqh7xV_6ZTv7b-T4afclZE6W9bdXJW13WncYWUv6w3frStV-a2TnduGq8j5g3jb1Blmvfdbzutdqtjmd_KKMxZdbpuve90Aacbp2-j7YbVMmfVb9wkWu47r3ZY9fNWnde2ZTVvd_UMrlfechKf544_Sx18tCmOJ969OgVh89p1NZD-1FktTmZWWvgmjiVjYTaM_U8xXD3SQ1NeKRZ-BGlU1Ilr0sbSemvJmfE48uHlbBlP_PA-fjBZ6hAvifm75ZgOY9gNKYvpPJj4Gp74vRvH1ucVNH1r2V3XsezrVqfuWE1wXmHPZHT8xZgn-voisrfwtx4e8hvXZUutbmuAC1Ne7GvkWnZTXdmgF_NlnNqURW--iKuEXAR3oAnchjUFVhBW1HrdzJ_6cvpIXHg0fa96kn4tPkkjIcH00vJp2TAzK2USyXkTVDd2_O4_LPuV2JPbVue1c2Wa-VgYDwCCYOnLF9y8A1aDhsFWPdSSlHR2Dj1OJsEuBbyumxvOFXWSVkfLuygO4iU0eLG-HkrwValDF3qt6ZVM5QA0TLAyHGzyMQNY1ku0m0KY7rN1vpvpCngw5ZdVoFdajfl1AXv2jOrbS7ZB2-7asIlcW9dd-3YrIZXJjuB7AcUEPE-ya9YXvacMn77oDHolri-auCDAleRLNcWUPOWqgnKieUG49NfLxo8LuFlp34TBqAiqzwSp2RheRFqR_feXf7Liej7vb4MlOS8Ln9bodEUV39uUKddmpnQztaep97ALJPse9O9J_Vv3659_-ZdhGAXD4AWDwy_nBQ5jDmMOYw5jQy0QK-QSscYQiwwurZSZtBOGwlKs49KXdKa8KXfKn3QoPSqX0qdyqrwqt9KvIR0bHHPkKrCKLEOrLDANlYdMRGaiUlF1YWUqQ0xR5SiTVDVzlbDKWKasssf0MX9VgKoAS1A1YBFYBZah6sBCsBIsBWvBYrAaLEfVY6iCDFWRoUoyOOFASGB3qD3YH9UgxIlju7BfqmHYPWof9k81UHUQW4jc4Igydpfai_1VDUYOcGw39ls1HLtP7cf-KwAUAggB8ocYhOgQPIiPAgj5xREuxEsBhugRfIQfAogIEoSIIYFIKBKMiCMBSUgSlIQlgUloEpyIJwFKiBKkhCmBSqgSrIQrAUvIErSELYFL6BK8iK-BABuIsIEQG4ixgSAbiLKBMBs80SMpcq1JTiQkFiINiZUJLYmXSExkJlGTdJ0om5ibUJe4i-Ql7XMiM7EZ6UzsTuhN_EaCI8OJ4shxIjmxnGhO-1yy1SV7DCdRkCpQFqSSRCakExQKKoWkQvtUslORkhIpkZZQTLSXcRIXqQvlRWpL5EZ6Q8Gh4khytGdz2hFJkYkkSZMoStozOYmUVIoyJdUmsiXdonBRuSRd2neTnZeUnUibtI3ipr2Zk9hJ7Sh3Un8if16gDcBIHlJP6cfMc3aQGxkF8s6Th9RT-jHznB3kRlwd0f8D" rel="nofollow noreferrer" title="C++ (GCC) - Attempt This Online">Attempt This Online!</a> - PCRE2 v10.44+<br />
<a href="https://regex101.com/r/orOx7d/2" rel="nofollow noreferrer">Try it on regex101</a></p>
<p>This is a single regex substitution to be applied once. The appended factor will always be <span class="math-container">\$3\$</span>, <span class="math-container">\$11\$</span>, or <span class="math-container">\$22\$</span>, taking advantage of <a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite#comment584957_269433">this proof</a>. It uses PCRE2's conditional syntax to append the factor, which is necessary because <code>3</code> will never be present in the input.</p>
<p>This uses the DFA regex <code>^([0369]|[258][0369]*[147]|([147]|[258][0369]*[258])([0369]|[147][0369]*[258])*([258]|[147][0369]*[147]))*$</code> to test for divisibility by <span class="math-container">\$3\$</span>. Digits other than <code>[12]</code> are optimized out, yielding <code>^(21|(1|22)(12)*(2|11))*$</code>.</p>
<pre><code>s/                      # Begin substitution - match the following:
                            # No need to anchor to start, because this regex
                            # will always match when the input matches the
                            # challenge's domain of ^[12]{3,}$
    # Decide on a digit to remove; if it doesn't work out, the regex engine
    # will backtrack back into this non-atomic lookahead and try the next
    # possibility.
    (?*                     # Non-atomic lookahead
        (.*)                # \1 = the digits preceding the one to be removed
        (.*+)               # \2 = the digit to be removed and all subsequent
                            #      digits; if none need to be removed, this
                            #      will be the empty string at the end
    )
    # Prove that with that digit removed, what remains is divisible by 3.
    (?=                     # Atomic lookahead
        (?:
            ((?(?=\2$).?))  # Define and evaluate subroutine (?3): Skip a
                            # digit if it is the digit chosen to be removed.
            (
                2
                            # No need for a (?3) here, because if it's a '1'
                            # that needs removing, it can be handled by the
                            # next (?3), and if it's a '2', it can be handled
                            # by the preceding (?3).
                1
            |
                (
                    1
                |
                    2
                    (?3)
                    2
                )
                (?3)
                (
                    1
                            # No need for a (?3) here, because if it's a '2'
                            # that needs removing, it can be handled by the
                            # next (?3), and if it's a '1', it can be handled
                            # by the preceding (?3).
                    2
                )*
                (?3)
                (
                    2
                |
                    1
                    (?3)
                    1
                )
            )
        )+                  # Iterate the above loop as many times as possible,
                            # at least once
        (?3)
        $                   # Assert end of string has been reached
    )
    \1                      # Skip over the digits preceding that to be removed
    \K                      # Reset Start - exclude all previous string contents
                            # from being substituted/replaced
    .?                      # Remove the digit here, if there is one to remove
    (.*)                    # \8 = all subsequent digits
|
    # If this point is reached, it means that neither removing 1 nor 0 digits
    # would make the number divisible by 3. The only way that can happen is if
    # all digits are identical, in which case removing 1 or 0 digits is will
    # make it divisible by 11.
    (..)                    # \9 = first 2 digits
    \9*                     # Skip an even number of subsequent digits
    \K                      # Reset Start
    .?                      # Remove last digit, if number of digits was odd
/                       # Substitution - replace with the following:
    $8                      # Preserve \8 (the digits following what's removed)
    â£                       # space
    ${9:-3}                 # if \9 is unset, &quot;3&quot;, else \9
/                       # End substitution - no flags used
</code></pre>
<h1>Regex (PCRE2), 126 bytes</h1>
<p><code>s/(?=((?=(?|(?!.*+\2)()(1?)|(?!.*+\3)(2?)()|(1)|()(2))).)+).*\K((?!.*+\2)|(?!.*+\3)1|(?=.*+\2\3)2)(.*)|(..)\6*\K.?/$5 ${6:-3}/</code></p>
<p><a href="https://tio.run/##hVftctpIFv3PUzRMKpYAY6s9yXosExcGJWYHgwvETpyQqLAQtiogKEms84H/zgPMI86DrPd2971CEpBxlWN1q@/nOeeq4y6Xh/eu@/zLxJv6gcdumn2LO81ey3KG3bbt/NFu2VfstPCLH7iz1cRj50s39Hjt4U3BfRiHzFl@/MTqrF@6fHz8cneyuv327b398PrxQXuOjrSLuiZ@L9baRbFWroy4rumacaHT@kTX@AXsrTUDfmGh63pNr@i18uh3LbHZnDbgsS43YQHOamV4Wavpo9dgULs4evGKvfjx@uzw5OnoWc9nVKqy8rLuLM1UMVE88ReimPRW6Af32T1/AbveeL597k3BD2K2hMfY8cJwEWruIohiJptTnntRNL739B8Q5@zMhQPs/JzhrniU@14wmZks9OJVGDDDfGLCZfQtiMdf0af@A9@mA5UG8giTq5JuPm2lItbuYuLp7EeBwY9MCqN/5K9efzLltj9lmkTVuffQ1MFTmjCvMk3RYti8avRPyzq@rLLI/@4tphqVyY5oJ3UeIJVRxE@mDSV5SKV/xkp7OyOtk@4UnhTxJt7Mn9ePTXa3WMygY@E4EOmKV0FV/hmrP3dJ81bQj1Mn1oLDsc7O68n6DtYmui2DCiaOdK6clSPq3nQRMs00o0qFdqh5RXEIg3SHnY6ZvPVmkSePlKN6/WA0OgBTZVGp5GyedhvJVJKTkXL9VFBgz8d@oFE20qJSWRbrB9HBel3UVIvElr5xkKGVKY3kufPj9Zq6KDeqv55WX53qud31Ca/@9q@qwV/BG5CA@wBEfKHp5Urt/M3F51JV5ZvEyxC2Hfx3PPMnCjs/9gRrGaRnbthZjmCapDBYYo7FaG8JZUAEent8kHYzzbqJyM10v5tpxo0gxwl3YraoHwPRF@BPkXowvBzYbXtoW4713ra6LavF1tvvht2BZTvW9Y19a6boA2EAn1FwYLKpIFL06MfuAwA3TUQ6BvQP7g/ORND1jqjvOr3LRseEo3cwk76YKasGWLGUVaPbvOr1rZbJUj9bVlbeqtPp/aFSd5qdxmCwicWOjpi7iuLFnB2y8Wy2eGQw/8fBhH38/InN/C8es5rXjYEb@ss4FeL9VgjbuRwM3@9ILBPCC8Z3M4@NVmw0lGGgi643Yfxw4t/7MRt9TQVp7gjSbPebw@u3HYtC7QjiB@xozuZy0n0efQBvASgLYEn59nO@m42B1bFUa/Z3tpWzavU6nUbfAdL0up1bc49VtGVlAySZSDus/p23Gt50G9fWP2T4NWdFlP65VTdndd2wm1dI@ctG8/e@9dbc1enuTfNdxMZu/BOqzPO@hx273Wl3LfNnGQU5q27PaQztHuB0Yw/7aLtltcpZDZs3iZaH9ts9VsO8Vfdd37Jat/t6Bler8WoWn@U@f5b68NFQnM7G9@orCMNr39VA@lPfavFlZuXQM3EtGQu7Qex9jeHqkV6a8koRehGkUVVfXJMGS/uDJXem08iDl4tVPPOC@/jBZKmPeFns362m9DGGaUhZzJf@zNPwiz@4sfv6soqmH6x@z7Gt/nW727CtFjivspcyOv7FmMf65iJSDL2dHw/5L57Lllrf1QAHtsaxp5Fr2U11ZYNeLFdxaiiL3nwXVwl5CO5AM7gJawosP6iq87qZ/@rL7Zq48Gh6sX6cfi1@kkZCgumjlZOKYWZOyiSS741f35r4vf9Y/bdiJnes7jv7yjTzsTAeAATB0pevsq757AIaBqPa1ZKUdHYGPU42wS4FvK6bW84VdZJWR6u7KPbjFTQ43FwPJfiqVNeBXmt6NVM5AA0brAIfNvmYASzrJdpPIUz35Sbf7XQFPJjymzrQK63G/DmfvXxJ9RWTMdjv9/owRK6t617/dichlcme4EWfYgKex9kzm4veU4ZP33UGvRLXF01cEOBK8r2eYkqecnVBOdE8P1h5m2PTxxBuVtpPYTCqguoLQWo2hReRVmJ///kXK2328/62WJLzEnp0Rqcr6mZUZZUpz2a2dDM109R7mALJ3IP@PT0bhlEwDF4wOPzlvMBhzWHNYc1hbagD4oQ8Is4Y4pDBpZUyk3bCUFiKc1z6ks6UN@VO@ZMOpUflUvpUTpVX5Vb6NaRjg2OOXAVWkWVolQWmofKQichMVCqqLqxMZYgpqhxlkqpmrhJWGcuUVfaYPuavClAVYAmqBiwCq8AyVB1YCFaCpWAtWAxWg@WoegxVkKEqMlRJBiccCAnsDrUH@6MahDhxbBf2SzUMu0ftw/6pBqoOYguRGxxRxu5Se7G/qsHIAY7txn6rhmP3qf3YfwWAQgAhQP4QgxAdggfxUQAhvzjChXgpwBA9go/wQwARQYIQMSQQCUWCEXEkIAlJgpKwJDAJTYIT8SRACVGClDAlUAlVgpVwJWAJWYKWsCVwCV2CF/E1EGADETYQYgMxNhBkA1E2EGaDJ3okRW40yYmExEKkIbEyoSXxEomJzCRqkq4TZRNzE@oSd5G8pH1OZCY2I52J3Qm9id9IcGQ4URw5TiQnlhPNac4loy6ZMZxEQapAWZBKEpmQTlAoqBSSCs2pZFKRkhIpkZZQTDTLOImL1IXyIrUlciO9oeBQcSQ5mtmcJiIpMpEkaRJFSTOTk0hJpShTUm0iW9ItCheVS9KluZtMXlJ2Im3SNoqbZjMnsZPaUe6k/kT@vEADwEgeUk/px8xzdpFbGQXyzpOH1FP6MfOcXeRW/H@u@J9L9Hw4k9/ww9P/Aw" rel="nofollow noreferrer" title="C++ (gcc) â€“ Try It Online">Try it online!</a> - PCRE2 v10.33<br />
<a href="https://ato.pxeger.com/run?1=hVfNcuLKFV6miqq8Q8OdGkuAsdXOTBzLjAuDZkwuBpcQueMZZlQyCFs1ICgkrucHZ5kHyC6VTTZZ3lfJ_t5lniSnu88RkoAJVRh16_x_3znd_ucvo8V0FYmvez8a_fK-dDhdjJY-PzwtffjV_mHsT4LQZzdN2-Jus9ey3EG37bg_tVvOFTst_BCEo-lq7LNzqVR7eFUYPXhL5i7ef2B1ZpcuHx8_3Z2sbr98ees8vHx80P69iieHp7_-NTrSLuqa-F6stYtirVwZcl3TNeNCp_WJrvEL2FtrBnxhoet6Ta_otfLwRy3R2Ugb8FiXm7AAY7UyvKzV9OFLUKhdHD17wZ59e3l2ePJ0pKL47ff_0fMBlqqsvKi7CzOVWxSPg7nILb21DML77F4wh13fm23LvSoEYcwW8Bi7_nI5X2qjeRjFTNaqPPOjyLv39W_g5-xsBALs_JzhrniU-344npps6cerZcgM84kJk9GXMPY-o039G75NOyr1pQiTq5JuPm2FItaj-djX2bcCg48MCr2_5y9efjDldjBhmgTZvfdR1UUpTahXmaZYMmheNezTso4vqywKvvrziUZpsiPaSckDtNKL-GTKUJJCKvwzVtpbGamdVKfwpHg49qfBrH5ssrv5fAoVW3qhCFe8Cqvyx1M_d0nxVlCPUzfWwkNPZ-f1ZH0HaxPNlqEpxq40royVI6reZL5kmmlGlQrtUPGKQgiddAedjpm89aeRL0XKUb1-MBwegKrSqFRyOk-7lWQoiWSkTD8VFNgzLwg1ikZqVCqLYv0gOlivi5oqkdjSNwYytDKlkpQ7P16vqYpyo_qH0-qLUz23uz7h1T_9sWrwF_AGWmD0AER8punlSu381cXHUlXFm_jLELYd_uxNg7HCLoh9wVoG4ZkbdpYjGC4pDBYYYzHam0IZEIHaHh-kzUyyZiIyM9lvZpIxI8hxwt2YzevHQPQ52FOk7g8u-07bGTiWa711rG7LarH19rtBt285rnV949yaKfqAG8BnGB6YbCKIFD0G8egBgJskTeoB-gf3B2fC6XqH1zed3mWjY4LoHcykT2ZKqwFaLKXV6DaverbVMlnqs6Vl5bU6nd5PKnS32Wn0-xtf7OiIjVZRPJ-xQ-ZNp_NHBseBF47Z-48f2DT45DOred3oj5bBIk65eLvlwnEv-4O3OwLLuPBD727qs-GKDQfSDVRx5I8ZPxwH90HMhp9TTpo7nDTbdnNw_bpjkasdToKQHc3YTE66j8N3YC2EzgJYUraDnO1mo291LFWa_ZVt5bRavU6nYbtAml63c2vu0Yq2tByAJONph9af81qDm27j2vo_EX7OaRGlv6_VzWldN5zmFVL-stH80bZem7sq3b1pvomYN4q_Q5VZ3vag47Q77a5lfi-iMKfV7bmNgdMDnG6cgY26W1qrnNageZP08sB5vUdrkNfqvrEtq3W7r2Zw0_JW0_gsd_xZ6uCjoTiZevfqFIThte9qIO2ps1qczKy89E1cS8bCbhj7n2O4eqSXprxSLP0IwqiqE9ekwdJ-Z8mdySTy4eV8FU_98D5-MFnqEC-L_bvVhA5jmIYUxWwRTH0NT_z-jWPriyqqvrPsnutY9nW723CsFhivsufSO_6iz2N9cxEpLv2dh4f8i3LZVOu7CuDClhf7GpmW1VRXNqjFYhWnhrKozVdxlZBCcAeawsVYU2AFYVXJ62b-1JfbNXHh0fRi_Tj9WnySQkKAadHKScUwM5IyiOS8CepbE7_3F8t-LWZyx-q-ca5MM-8L_QFA4Cx9-SrrWsAuoGAwqkdaEpLOzqDGySbopYDXdXPLuKJOUupodRfFQbyCAi8310MJvkp15EKtNb2ayRyAhg1WgYNNPmYAy1qJ9lMIw32-iXc7XAEPhvyqDvRKd2NeLmDPn1N-xWQM2nbPhiFybV337NudhFQqe5wXA_IJeB5nZTYXvacMn77qDGolri-auCDAleRrPcWUPOXqgnKieEG48jdik8cl3Ky078JgVAXV54LUbAIvIq3E_vu3v7PSZj9vb4slOStLn2R0uqKKv7s6U8pmtnQzNdPUe5gCydyD-j2pf-v-9dvv_mEYRsEweMHg8Mt5gcOaw5rDmsPaUAJCQooIGUMIGVxqKTWpJxSFppDj0pY0pqwpc8qeNCgtKpPSpjKqrCqz0q4hDRscY-TKsfIsXasoMAwVhwxERqJCUXlhZipCDFHFKINUOXMVsIpYhqyix_AxfpWAygBTUDlgEpgFpqHywEQwE0wFc8FkMBtMR-VjqIQMlZGhUjI44UBIYHWoPFgfVSDEiWO5sF6qYFg9Kh_WTxVQVRBLiNzgiDJWl8qL9VUFRg5wLDfWWxUcq0_lx_orABQCCAHyhxiE6BA8iI8CCPnFES7ESwGG6BF8hB8CiAgShIghgUgoEoyIIwFJSBKUhCWBSWgSnIgnAUqIEqSEKYFKqBKshCsBS8gStIQtgUvoEryIr4EAG4iwgRAbiLGBIBuIsoEwGzzpR-rITU9yIiGxEGlIrExoSbxEYiIziZrU10lnE3MT6hJ3kbzU-5zITGxGOhO7E3oTv5HgyHCiOHKcSE4sJ5rTnEtGXTJjODUFdQW2BXVJ0ibUJ9go2CnUKjSnkklFnZS0EvUSNhPNMk7NRd2F7UXdlrQb9Rs2HHYctRzNbE4TkToyaUnqSWxKmpmcmpS6FNuUujZpW-pbbFzsXGpdmrvJ5KXOTlqbehubm2Yzp2anbsd2p-5P2p8XaAAYyUPqKf2Yec4uciujQNZ58pB6Sj9mnrOL3IqrI_p_" rel="nofollow noreferrer" title="C++ (GCC) - Attempt This Online">Attempt This Online</a> - PCRE2 v10.44+<br />
<a href="https://regex101.com/r/orOx7d/3" rel="nofollow noreferrer">Try it on regex101</a></p>
<p>This version has the same exact output, but works by first calculating the number modulo <span class="math-container">\$3\$</span>, the result of which will be <span class="math-container">\$0\$</span>, <span class="math-container">\$1\$</span>, or <span class="math-container">\$2\$</span>, and using that to determine which digit, if any, shall be removed. As such, it does not need to guess the removed digit ahead of time, doesn't need <code>(?*</code>...<code>)</code> molecular lookahead, and is faster.</p>
<pre><code>s/                 # Begin substitution - match the following:
    # Calculate the number modulo 3. Initial state is m=0.
    # m==0: \2 = unset or nonempty, \3 = anything
    # m==1: \2 = empty, \3 = unset or nonempty
    # m==2: \2 = empty, \3 = empty
    (?=                # Lookahead
        # Iterate the following loop for each digit of the input:
        (
            (?=        # Lookahead
                (?|    # Branch Reset Group - all alternatives share the same
                       # set of capture groups
                    (?!.*+\2)  # if m==0:
                    ()         #           \2 = empty
                    (1?)       # '1': m=1: \3 = nonempty
                               # '2': m=2: \3 = empty
                |
                    (?!.*+\3)  # if m==1:
                    (2?)       # '1': m=2: \2 = empty
                               # '2': m=0: \2 = nonempty
                    ()         #           \3 = empty
                |              # if m==2:
                    (1)        # '1': m=0: \2 = nonempty
                |
                    ()(2)      # '2': m=1: \2 = empty; \3 = nonempty
                )
            )
            .          # Consume digit
        )+
    )
    .*                 # Skip characters until the following match can be made
    \K                 # Reset Start - exclude all previous string contents
                       # from being substituted/replaced
    (
        (?!.*+\2)      # if m==0:
                       # remove nothing
    |
        (?!.*+\3)      # if m==1:
        1              # remove '1'
    |
        (?=.*+\2\3)    # if m==2:
        2              # remove '2'
    )
    (.*)               # \5 = all subsequent digits
|
    # If this point is reached, it means that neither removing 1 nor 0 digits
    # would make the number divisible by 3. The only way that can happen is if
    # all digits are identical, in which case removing 1 or 0 digits is will
    # make it divisible by 11.
    (..)               # \6 = first 2 digits
    \6*                # Skip an even number of subsequent digits
    \K                 # Reset Start
    .?                 # remove last digit
/                  # Substitution - replace with the following:
    $5                 # preserve \5, the digits following what is removed
    â£                  # space
    ${6:-3}            # if \6 is unset, &quot;3&quot;, else \6
/                  # End substitution - no flags used
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 10 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ã¦Ê’pâ‰ }Î¸DÃ’Î¸â€š
</code></pre>
<p><a href="https://tio.run/##ASAA3/9vc2FiaWX//8OmypJw4omgfc64RMOSzrjigJr//zExMQ" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/w8tOTSp41Lmg9twOl8OTzu141DDrv87/aENDQx1DIxDUATKNQBwjoJARiAJBsAyIZwSWBsvGAgA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Ã¦        # Get the powerset of the (implicit) input
 Ê’       # Filter, only keeping those which are:
   â‰      #  NOT
  p      #  a prime number
 }Î¸      # After the filter: pop and keep the last/maximum
   D     # Duplicate it
    Ã’    # Pop and get its prime factors
     Î¸   # Pop and keep the last/maximum again
      â€š  # Pair the two together
         # (after which this pair is output implicitly as result)
</code></pre>
<p>The <code>Ê’pâ‰ }</code> can be a number of other things with a similar result: <code>ÃpÃK</code>; <code>DÃ’ËœK</code>; <code>Â¤Ã…PK</code>.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 7 bytes</h1>
<pre><code>âŠ‡Pá¸‹á¹€h;P
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r//1FXe8DDHd0PdzZkWAf8/29oZGRo@D8KAA" rel="nofollow noreferrer" title="Brachylog â€“ Try It Online">Try it online!</a></p>
<p>Outputs a list with the factor <code>p</code> first, and <code>k'</code> second.</p>
<h3>Explanation</h3>
<p>Since itâ€™s been proven in a comment that itâ€™s always possible for any input, we can state that P is a subset of the input without specifying the number of digits to remove. Since <code>âŠ‡</code> will try the biggest subsets first (including the original input), it will succeed with at most 1 digit removed.</p>
<pre><code>âŠ‡P         P is an integer which is a subset of the input integer
  Pá¸‹á¹€      P has á¹€any prime á¸‹ivisors (at least 2, so P is composite)
    á¹€h;P   Output = [First prime divisor of P, P]
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 12 bytes</h1>
<pre><code>eP
e-#PTsMy`
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/PzWAK1VXOSCk2Lcy4f9/QyMjQ0MA" rel="nofollow noreferrer" title="Pyth â€“ Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>                # implicitly assign Q = eval(input())
ePe-#PTsMy`Q    # implicitly add Q
          `Q    # str(Q)
         y      # powerset
       sM       # map to integers
   -#PT         # filter for non-primes
  e             # print last value in list
eP              # print largest prime factor of value
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 64 bytes, string input</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(x,p=9n)=&gt;BigInt(a=x.replace(p%3n,''))%(b=p/3n)?f(x,-~p):[a,b]
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/f8/zVajQqfA1jJP09bOKTPdM69EI9G2Qq8otSAnMTlVo0DVOE9HXV1TU1UjybZA3zhP0z4NqEG3rkDTKjpRJyn2f3J@XnF@TqpeTn66RpqGuqGhIVA1F7qoEQhikzAESmDVYITVICOQBAjiMA8kbwQ2FG7CfwA" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 68 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(x,k=1n,p=3n)=&gt;(a=x%k+x/k/10n*k)&gt;p&gt;a%p?[a,p]:f(x,p&gt;5?k*10n:k,8n^p)
</code></pre>
<p><a href="https://tio.run/##bYxBCsIwEEX33qOQ1GidiFAKSQ8iCqE2olMmgxXJ7WOycCPh795/vKf7uHV6Pfi9o3CbU/JGRIUGSLE5kjRWOBMb3MYOOzhQi9KydQ2PZ6f4Mvhssz2N2OZzQNXTlWWaAq1hmfdLuAsvAICk3PxBXVbhkHlN17WKLrzsF0tf" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
<p>Fast. Use fact that input is only 1 and 2.</p>
<blockquote>
<p>Proof that it's always possible: For all 1 or 2, remove one digit if odd number of digits, then it's always 11x10101; Otherwise, one of keep, remove a 1, and remove a 2 result 0 modulo 3</p>
<p>Neilï¼šEdge case <code>111</code> falls under <code>0 modulo 3</code> case.</p>
</blockquote>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="nofollow noreferrer">Vyxal 3</a>, 12 bytes</h1>
<pre><code>Î¹*JâŒŠáµÏ©á¹„Â¬:á¸Ÿh;
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#WyIiLCIiLCLOuSpK4oyK4bWQz6nhuYTCrDrhuJ9oOyIsIiIsIlwiMTIyMTFcIiIsIjMuNC4xIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Outputs largest possible <code>k'</code> and the first prime factor. Takes input as a string</p>
<h2>Explained</h2>
<pre><code>Î¹*JâŒŠáµÏ©á¹„Â¬:á¸Ÿh;Â­â¡â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ¢âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ£âªâ€â€â€‹â¡â â¡â€Œâ¤â€‹â€â€âªâ¡âªâ âªâ¤âªâ€â€â€‹â¡â â¡â€Œâ¢â¡â€‹â€â€âªâ¡âªâ âªâ¢â¡âªâ€â â€âªâ¡âªâ âªâ¢â¢âªâ€â€â€‹â¡â â¡â€Œâ¢â¢â€‹â€â€âªâ¡âªâ âªâ¢â£âªâ€â â€âªâ¡âªâ âªâ¢â¤âªâ€â€â€‹â¡â â¡â€Œâ¢â£â€‹â€â€âªâ¡âªâ âªâ£â¡âªâ€â â€âªâ¡âªâ âªâ£â¢âªâ€â€â€‹â¡â â¡â€Œâ¢â¤â€‹â€â€âªâ¡âªâ âªâ£â£âªâ€â â€âªâ¡âªâ âªâ£â¤âªâ€â€â€‹â¡â â¡â€ŒÂ­
Î¹             # â€â¡Range 0 -&gt; len input
 *            # â€â¢And to each index, remove the letter at that position in the input
  J           # â€â£Add the input to that list so the unaltered input is an option
   âŒŠ          # â€â¤Convert each to int
    áµÏ©        # â€â¢â¡Get the maximum by
      á¹„Â¬      # â€â¢â¢Not a prime
        :á¸Ÿ    # â€â¢â£Push a list of prime factors of that without popping
          h;  # â€â¢â¤And pair the first of those with k'
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu8" class="pu"><h1>JavaScript (ES11), 60 bytes</h1>
<p>Similar to <a href="https://codegolf.stackexchange.com/a/269443/58563">l4m2</a>'s strategy, but we first test whether <span class="math-container">\$11\$</span> is a divisor of either <span class="math-container">\$n\$</span> or <span class="math-container">\$\lfloor n/10\rfloor\$</span> before considering removing a digit according to <span class="math-container">\$n\bmod 3\$</span>.</p>
<p>Expects a BigInt and returns <code>&quot;k',p&quot;</code> as a comma-separated string.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;(x=n)%11n&amp;&amp;(x/=10n)%11n?`${n},3`.replace(n%3n,&quot;&quot;):x+[,11]
</code></pre>
<p><a href="https://tio.run/##dczBCsIwDAbgu48x3GixTpPdBtUHEWGldqKUdGwiBfHZ66I36fKf8oX8d/M0kx1vw2NL4eJSrxPpg4iaZAlAVSXiTsP@tx279Yvequnq0Q3eWCeobEgVhWzj5qQAzskGmoJ3tQ9X0QtADkm5@nOYPcOIkGFk5@TL@IzfxqX/efK6xOzpAw" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
<hr />
<h1>JavaScript (ES6), 51 bytes</h1>
<p>A more limited version without BigInts. This time we first attempt to remove a digit and move to <span class="math-container">\$p=11\$</span> only on failure.</p>
<p>Expects a string and returns <code>[k',p]</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;(q=n.replace(n%3,''))%3?[q%11?q/10|0:q,11]:[q,3]
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/Z9m@z/P1k6j0DZPryi1ICcxOVUjT9VYR11dU1PV2D66UNXQ0L5Q39CgxsCqUMfQMNYqulDHOPZ/cn5ecX5Oql5OfrpGmoaSoREIKmlqcqFLGAIlsIkbGRliEzcCAhzCOMVBEv8B" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>Â 15Â </s> 13 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>DÅ’Pá¸Œáº’Ãá¸Ÿá¹ªÃ†á¸Œá¹ªá¹­ÆŠ
</code></pre>
<p>A monadic Link that accepts an integer, <code>k</code>, and yields a pair of integers, <code>[k', p]</code>.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9/l6KSAhzt6Hu6adHjCwx3zH@5cdbgNxN@56uHOtce6/v//b2RoZGRkaGgIxCAaAA" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<p>Creates the powerset of <code>k</code>s digits to look for candidates for <code>k'</code>. Jelly produces powersets that are sorted by length, so <code>k</code> will be at the right and all other <em>valid</em> <code>k'</code> candidates to the right of any other junk.</p>
<p>The code then takes, as <code>k'</code>, the rightmost that is not prime (due to length this is also composite), which will either be <code>k</code> or <code>k</code> less one of its digits. It then tacks on the largest proper divisor of this, <code>p</code>.</p>
<pre><code>DÅ’Pá¸Œáº’Ãá¸Ÿá¹ªÃ†á¸Œá¹ªá¹­ÆŠ - Link: integer, k         e.g. 212
D             - decimal digits {k}            [2,1,2]
 Å’P           - powerset                      [[],[2],[1],[2],[2,1],[2,2],[1,2],[2,1,2]]
   á¸Œ          - convert from decimal digits   [0,2,1,2,21,22,12,212]
     Ãá¸Ÿ       - discard those for which:
    áº’         -   is prime?                   [0,1,21,22,12,212]
       á¹ª      - tail                          212
            ÆŠ - last three links as a monad - f(k'=that):
        Ã†á¸Œ    -   proper divisors of k'       [1,2,4,53,106]
          á¹ª   -   tail                        106
           á¹­  -   tack to k'                  [212,106]
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 26 bytes</h1>
<pre><code>ï¼©â®ŒâŒˆï¼¥ï¼©ï¼¥Â³Î¦Î¸â»Î¼âŒ•Î¸ï¼©Î¹âŸ¦âŒˆÎ¦Î¹âˆ§Î»Â¬ï¹ªÎ¹Î»Î¹
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMM5sbhEIyi1LLWoOFXDN7EiM7c0F0gXQCRADGMdBbfMnJLUIo1CHQXfzLzSYo1ckFBeCkgArCxTEwx0FKJhJkB1ZOooOALV5ego@OUDTctPKc3JBwnmQNVnxoIZ1v//GxoZGRr@1y3LAQA" rel="nofollow noreferrer" title="Charcoal â€“ Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Just tries removing one <code>1</code> and one <code>2</code> since by @l4m2's comment at least one of the two or three numbers will be composite. (Removing every possible digit turns out to take the same length but it will of course be slower.)</p>
<pre><code>      Â³                     Literal integer `3`
     ï¼¥                      Map over implicit range
        Î¸                   Input as a string
       Î¦                    Filtered where
          Î¼                 Current index
         â»                  Does not equal
           âŒ•                Index of
              Î¹             Outer value
             ï¼©              Cast to string
            Î¸               In input string
    ï¼©                       Cast to integer
   ï¼¥                        Map over values
                  Î¹         Current value
                 Î¦          Filter on implicit range
                    Î»       Inner value
                   âˆ§        Logical And
                       Î¹    Outer value
                     Â¬ï¹ª     Is divisible by
                        Î»   Inner value
                âŒˆ           Take the maximum
                         Î¹  Current value
               âŸ¦            Make into list
  âŒˆ                         Take the maximum
 â®Œ                          Reversed
ï¼©                           Cast to string
                            Implicitly print
</code></pre>
<p>31 bytes for a very fast version which only looks for factors below <code>12</code> (except for <code>11</code> itself, which is a special case):</p>
<pre><code>ï¼©â®ŒâŒˆï¼¥ï¼©ï¼¥Â³Î¦Î¸â»Î¼âŒ•Î¸ï¼©Î¹âŸ¦âŒˆÎ¦âŒŠâŸ¦Â¹Â²Î¹âŸ§âˆ§Î»Â¬ï¹ªÎ¹Î»Î¹
</code></pre>
<p><a href="https://tio.run/##NYyxDsIwDER/xaORzNAyMiEktiLEWjFEbSQsOQkkacXfByeU82D7/M7T08QpGCnlFtlnPJuU8W5XG5PFwXzYLU7763eow4HgwpJtxDfBwH5J6Krl52o0jHdNBOP/w5ZQvK1j1xPwQ4mTxoTgGvR5mBcJyASyxZWoOpbSd7XKfpUv" rel="nofollow noreferrer" title="Charcoal â€“ Try It Online">Try it online!</a> Link is to verbose version of code.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 47 bytes</h1>
<pre><code>.|$
$`$'Â¶
.+
$*
1G`^(..+)\1+$
(..+)\1+$
$.&amp; $.1
</code></pre>
<p><a href="https://tio.run/##K0otycxL/K@q4Z7wX69GhUslQUX90DYuPW0uFS0uQ/eEOA09PW3NGENtFS4ES0VPTUFFz/D/f0MjEOQyNARSXIZGRoZg0sgQAA" rel="nofollow noreferrer" title="Retina 0.8.2 â€“ Try It Online">Try it online!</a> Link includes faster test cases. Removes the earliest possible digit. Explanation:</p>
<pre><code>.|$
$`$'Â¶
</code></pre>
<p>List the number with each digit removed in turn, then end with the original input.</p>
<pre><code>.+
$*
</code></pre>
<p>Convert all of the numbers to unary.</p>
<pre><code>1G`^(..+)\1+$
</code></pre>
<p>Keep only the first composite number.</p>
<pre><code>(..+)\1+$
$.&amp; $.1
</code></pre>
<p>Convert it and its highest proper factor to decimal.</p>
<p>In Retina 1 you would be able to fold those last two stages into a single stage, something like this:</p>
<pre><code>0L$m`^(..+)\1+$
$.&amp; $.1
</code></pre>
<p>(The <code>m</code> flag is not needed in Retina 0.8.2 because there the <code>G</code> stage type splits the input into lines and then matches each line in turn against the regex.)</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="nofollow noreferrer">Vyxal 3</a> <code>o</code>, 18 bytes</h1>
<pre><code>á¹„[á¹¢á¸¶á¹ªâ¸ LÄ tâ€œâŒŠá¶»á¹„h]á»Œá¸„t
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#WyJvIiwiIiwi4bmEW+G5ouG4tuG5quK4oEzEoHTigJzijIrhtrvhuYRoXeG7jOG4hHQiLCIiLCIxMjEyMTIiLCIzLjQuMSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>prints k' and the largest prime factor</p>
<pre><code>á¹„[á¹¢á¸¶á¹ªâ¸ LÄ tâ€œâŒŠá¶»á¹„h]á»Œá¸„tÂ­â¡â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ¢âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ£âªâ€â â€âªâ¡âªâ âªâ¤âªâ€â â€âªâ¡âªâ âªâ¢â¡âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ¤â€‹â€âªâªâ â€âªâ¡âªâ âªâ¢â¢âªâ€â â€âªâ¡âªâ âªâ¢â£âªâ€â â€âªâ¡âªâ âªâ¢â¤âªâ€â â€âªâ¡âªâ âªâ£â¡âªâ€â€â€‹â¡â â¡â€Œâ¢â¡â€‹â€â€âªâ¡âªâ âªâ£â¢âªâ€â â€âªâ¡âªâ âªâ£â£âªâ€â â€âªâ¡âªâ âªâ£â¤âªâ€â â€âªâ¡âªâ âªâ¤â¡âªâ€â€â€‹â¡â â¡â€Œâ¢â¢â€‹â€â€âªâ¡âªâ âªâ¤â¢âªâ€â€â€‹â¡â â¡â€Œâ¢â£â€‹â€â€âªâ¡âªâ âªâ¤â£âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ¢â¤â€‹â€â€âªâ¡âªâ âªâ¤â¤âªâ€â âªâªâ âªâªâ€â€‹â¡â â¡â€Œâ£â¡â€‹â€â€âªâ¡âªâ âªâ¢â¡â¡âªâ€â â€âªâ¡âªâ âªâ¢â¡â¢âªâ€â€â€‹â¡â â¡â€ŒÂ­
á¹„                   # â€â¡is prime?
 [                  # â€â¢
  á¹¢á¸¶á¹ª               # â€â£group sublists by length and drop the tail 
     â¸ LÄ t           # â€â¤group by max length, take the longest
         â€œâŒŠá¶»á¹„       # â€â¢â¡convert to number and filter by not prime
             h      # â€â¢â¢take the first number left
              ]     # â€â¢â£
               á»Œ    # â€â¢â¤print k'
                á¸„t  # â€â£â¡largest prime of k'
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/269433/">269433</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




