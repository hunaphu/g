<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::278263</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>089</td><td>Python</td><td>250219T151554Z</td><td><a href="https://codegolf.stackexchange.com/questions/278263/snakes-on-a-2xn-grid/278307#278307">Albert.L</a></td></tr>
<tr d-ix="1"><td>046</td><td>J</td><td>250219T070335Z</td><td><a href="https://codegolf.stackexchange.com/questions/278263/snakes-on-a-2xn-grid/278305#278305">Jonah</a></td></tr>
<tr d-ix="2"><td>033</td><td>K ngn/k</td><td>250217T171710Z</td><td><a href="https://codegolf.stackexchange.com/questions/278263/snakes-on-a-2xn-grid/278269#278269">ovs</a></td></tr>
<tr d-ix="3"><td>011</td><td>Jelly</td><td>250217T210702Z</td><td><a href="https://codegolf.stackexchange.com/questions/278263/snakes-on-a-2xn-grid/278272#278272">Jonathan</a></td></tr>
<tr d-ix="4"><td>019</td><td>05AB1E</td><td>250218T124600Z</td><td><a href="https://codegolf.stackexchange.com/questions/278263/snakes-on-a-2xn-grid/278286#278286">Kevin Cr</a></td></tr>
<tr d-ix="5"><td>036</td><td>Charcoal</td><td>250217T233507Z</td><td><a href="https://codegolf.stackexchange.com/questions/278263/snakes-on-a-2xn-grid/278274#278274">Neil</a></td></tr>
<tr d-ix="6"><td>090</td><td>Python 3.8</td><td>250217T225844Z</td><td><a href="https://codegolf.stackexchange.com/questions/278263/snakes-on-a-2xn-grid/278273#278273">Jonathan</a></td></tr>
<tr d-ix="7"><td>028</td><td>Pip P</td><td>250217T235228Z</td><td><a href="https://codegolf.stackexchange.com/questions/278263/snakes-on-a-2xn-grid/278275#278275">DLosc</a></td></tr>
<tr d-ix="8"><td>094</td><td>JavaScript V8</td><td>250217T140803Z</td><td><a href="https://codegolf.stackexchange.com/questions/278263/snakes-on-a-2xn-grid/278265#278265">Arnauld</a></td></tr>
<tr d-ix="9"><td>092</td><td>JavaScript Node.js</td><td>250217T190438Z</td><td><a href="https://codegolf.stackexchange.com/questions/278263/snakes-on-a-2xn-grid/278270#278270">l4m2</a></td></tr>
<tr d-ix="10"><td>100</td><td>Python</td><td>250217T163745Z</td><td><a href="https://codegolf.stackexchange.com/questions/278263/snakes-on-a-2xn-grid/278267#278267">Mukundan</a></td></tr>
<tr d-ix="11"><td>177</td><td>Python3</td><td>250217T141003Z</td><td><a href="https://codegolf.stackexchange.com/questions/278263/snakes-on-a-2xn-grid/278266#278266">Ajax1234</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 89 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda n:[map([*range(2*n)].pop,([0,0,1,0]*n)[:2*j]+[j%-2,j%2-1]*(n-j))for j in range(n)]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LY1BCsIwFAX3niIUCvkxkTYLkUgPImkWERttsL-hqQu9ipuC6J28jS1x9WCG4T0_4T5eepxerqrft9GJ3fdwtd3xZAkq3dlANRssnhsqGYLZhD5wqgte8JIXZkZaSebNWvtcSO5zKUrDKAoP4PqBeNIiSf1c_w_KxcTFOLoFtSJhaHGk7NEGGnkEHptQZTVmsE8GUjhNaX8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Returns flattened generators of nx2 snakes. Test code beautifies the output.</p>
<h2>How?</h2>
<p>Keeps a snake in memory and pops its bits into the right places as it traverses the grid. This works well because the pop indices are either 0,0,1,0,0,0,1,0,0,0,1,... (wiggly bit) or ...,0,-1,0,-1,0,... (long final loop).</p>
</div>
<div id="pu1" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 46 bytes</h1>
<pre><code>i.((_2]`|.\,)@{.,0|:[|.(-@#]`|.\,)@}.)&quot;{i.@,&amp;2
</code></pre>
<p><a href="https://tio.run/##y/qvpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/M/U0NOKNYhNq9GJ0NB2q9XQMaqyia/Q0dB2UYYK1eppK1Zl6DjpqRv81uVKTM/IV0hQMIQx1XV11mJARppAxppDZfwA" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Uses ovs's observation that each snake is made up of a two parts: a section of &quot;switchbacks&quot; where we go back and forth, followed by a single long &quot;all the way to the end of the aisle and back&quot; loop.  Each section may be 0 length, in which case the other section is the entire thing.</p>
<p>Rather than using recursion, though, we just explicitly list all possible splits of the input.  Eg, for n=3 all possible splits are:</p>
<pre><code>┌───┬───┐
│   │0 1│
│   │2 3│
│   │4 5│
├───┼───┤
│0 1│2 3│
│   │4 5│
├───┼───┤
│0 1│4 5│
│2 3│   │
├───┼───┤
│0 1│   │
│2 3│   │
│4 5│   │
└───┴───┘
</code></pre>
<p>Then we apply the &quot;switchback&quot; and &quot;loop&quot; transformations to each piece:</p>
<ul>
<li>The &quot;switchback&quot; xform reverses odd rows.</li>
<li>The &quot;loop&quot; xform flattens, breaks into two equal pieces, and reverses the 2nd piece, and transposes.  It also reverses the columns as needed so the numbers match up with the first piece.</li>
</ul>
</div>
<div id="pu2" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 33 bytes</h1>
<p>Returns the snakes as a list of 2×N arrays.</p>
<pre><code>2_{((0 1,'|2+)'x),,1(|y+)\!y}/!1+
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxLszKKr9bQMFAw1FGvMdLWVK/Q1NEx1Kip1NaMUays1Vc01ObiKrGqTjCwUrK1tVVQ0tFQASpRUgBylKwVNBRiNNXTHCqsa4GqHAyB2BiIzQF8dRQ6" rel="nofollow noreferrer">Try it online!</a></p>
<p>All snakes have the same structure: On the left is a &quot;wiggly&quot; part, where they move up and down at every position, then the tail is &quot;straight&quot; (going to the very right, then turning around at the end).</p>
<p>The snakes can be constructed recursively: For a given size N, there is the fully &quot;straight&quot; snake:</p>
<pre class="lang-none prettyprint-override"><code>1(|y+)\!y         / (0..N-1; 2*N-1..N)
</code></pre>
<p>And all snakes of size N-1 with an extra wiggle at the head:</p>
<pre><code>(0 1,'|2+)'x
(        )'x      / for each snake of size N-1:
       2+         /   increment every position by 2,
      |           /   reverse the snake as the extra wiggle swaps top and bottom,
 0 1,'            /   prepend new wiggly head.
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 11 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<p>(brute-force - meant to do this earlier but got distracted golfing my Python port of the below 20 byte method!)</p>
<p>The idea to head the results, saving 2 bytes, is taken from <a href="https://codegolf.stackexchange.com/a/278275/53748">DLosc's Pip -p answer</a>.</p>
<pre><code>2pŒ!ạƝ§$ÐṂḣ
</code></pre>
<p>A monadic Link that accepts <span class="math-container">\$n\$</span> and yields a list of the <span class="math-container">\$n\$</span> snakes, each as a list of 1-indexed coordinates in visiting order.</p>
<p><strong><a href="https://tio.run/##ASAA3/9qZWxsef//MnDFkiHhuqHGncKnJMOQ4bmC4bij////Mw" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (Gets slow, quicky!)</p>
<h4>How?</h4>
<pre><code>2pŒ!ạƝ§$ÐṂḣ - Link: positive integer, N
2p          - two Cartesian product {[1..N]} -&gt; AllCoordinates
  Œ!        - all permutations (starts with all those starting with `[1,1]` )
        ÐṂ  - keep those {P} minimal under:
       $    -   last two links as a monad - f(P):
     Ɲ      -     for neighbouring pairs of coordinates in {P}:
    ạ       -       absolute difference (vectorises) -&gt; [dr, dc]
      §     -     sums -&gt; ManhattanDistances
          ḣ - head to index {N}
</code></pre>
<hr />
<h3><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 20 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h3>
<p>(non-brute-force)</p>
<pre><code>ḤRW;ḶḤo‘Ʋ’ḣ;Ṛ{Qʋ\ḊỤ€
</code></pre>
<p>A monadic Link that accepts <span class="math-container">\$n\$</span> and yields a list of the <span class="math-container">\$n\$</span> snakes, each as a flattened list of 1-indexed snake locations.</p>
<p><strong><a href="https://tio.run/##ATUAyv9qZWxsef//4bikUlc74bi24bikb@KAmMay4oCZ4bijO@G5mntRyotc4biK4buk4oKs////Ng" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##AUkAtv9qZWxsef//4bikUlc74bi24bikb@KAmMay4oCZ4bijO@G5mntRyotc4biK4buk4oKs/1dXO8OH4oCZJEcpauKBvsK2wrb//zEy" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a> (converts to 0-indexing to align with the question text).</p>
<h4>How?</h4>
<pre><code>ḤRW;ḶḤo‘Ʋ’ḣ;Ṛ{Qʋ\ḊỤ€ - Link: positive integer, N
Ḥ                    - double {N} -&gt; 2N
 R                   - range {that} -&gt; [1..2N]
  W                  - wrap {that} -&gt; [[1..2N]]
        Ʋ            - last four links as a monad - f(N):
    Ḷ                -   lowered range {N} -&gt; [0..N-1]
     Ḥ               -   double {that} -&gt; [0,2,4,...,2N-2]
       ‘             -   increment {N} -&gt; N+1
      o              -   {doubles} logical OR {N+1} -&gt; [N+1,2,4,...,2N-2]
   ;                 - {wrapped} concatenate {that} -&gt; [[1..2N],N+1,2,4,...,2N-2]]
         ’           - decrement {that} -&gt; [[0..2N-1],N,1,3,...,2N-3]]
                \    - cumulative reduce {that} with:
               ʋ     -   last four links as a dyad - f(Current, V):
          ḣ          -     head {Current} to index {V}
            Ṛ{       -     reverse {Current}
           ;         -     {head} concatenate {reversed}
              Q      -     deduplicate {that}
                         -&gt; i.e. f(a-z, 3) -&gt; abczyx...d
                 Ḋ   - dequeue {that} (to remove the [0..2N-1])
                   € - for each {of those}:
                  Ụ  -   grade up
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 19 <a href="https://github.com/Adriandmen/05AB1E/wiki/Coedpage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>·Lœʒн}ʒ.ā{€θI‰üαOP
</code></pre>
<p>Inspired by <a href="https://codegolf.stackexchange.com/a/278275/52210"><em>DLosc</em>'s Pip answer</a>, so make sure to upvote that answer as well.</p>
<p>Outputs a list of the 1-based flattened <span class="math-container">\$2\times n\$</span> snakes.<br />
Brute-force, and times out for <span class="math-container">\$n\geq5\$</span>.</p>
<p><a href="https://tio.run/##ASoA1f9vc2FiaWX//8K3TMWTypLQvX3Kki7EgXvigqzOuEnigLDDvM6xT1D//zQ" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W/iquSZV1BaYqWgZO@nw6XkX1oC4en4HVr5/9B2n6OTT026sLf21CS9I43Vj5rWnNtxaN2jhg2H95zb6B/wv9ZWKaAotaSkUregKDOvJDVFIR9sQDHIhLLKQ8uj0s9tyTI6vOTQbp1D2@z/AwA" rel="nofollow noreferrer">verify the first few smaller test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-none prettyprint-override"><code>·               # Double the (implicit) input-integer
 L              # Pop and push a list in the range [1,2*n]
  œ             # Pop and get all permutations of this list
   ʒн}          # Only keep the permutations that start with a 1:
   ʒ            #  Filter it by:
    н           #   Pop and keep the first item
                #   (only 1 is truthy in 05AB1E)
     }          #  Close the filter
   ʒ            # Filter further by:
    .ā          #  Enumerate: pair each value with its 0-based index
      {         #  Sort the pairs based on the first values
       €        #  Map over each pair:
        θ       #   Leave just the last item of the pair (the index)
         I‰     #  Divmod those indices by the input-integer to get 2D-indices
           ü    #  For each overlapping pair of 2D-indices:
            α   #   Get the absolute difference of both the x and y
             O  #  Sum each inner pair
              P #  Take the product of all those sums
                #  (again, only 1 is truthy in 05AB1E)
                # (after which the resulting list is output implicitly)
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>57</s> 36 bytes</h1>
<pre><code>ＮθＥθ⭆¹Ｅ²Ｅθ⎇‹πι⁺⊗π﹪⁺νπ²⁺ι⎇﹪⁺ιν²⁻⊖⊗θππ
</code></pre>
<p><a href="https://tio.run/##TYzBCsIwEETvfkWOG4gHe/DSqxfBSqH@QJouGkg3aZoIfn1MokUXlmFmZ596SK@sNCmdycVwjfOIHhbe7nqvKUAnHSyCDSG7ezEHwYo0H8mnG3qS/gUXXFdwgmkuWG/iCicbR4MTuBx0dorGQs1JsBI1fCvqH@S/l2OqvfyuqQBReZyRQoZu8KVQXN3vtCkd0/5p3g" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Pretty-prints each pair of lists on its own line. Explanation: Directly calculates which segment of snake appears in each square of each grid.</p>
<pre><code>Ｎθ                                      Input `N` as a number
   θ                                    Input `N`
  Ｅ                                     Map over implicit range
      Ｅ²Ｅθ                              Map over the grid
            π                           Current column
           ‹                            Is less than
             ι                          Current snake
          ⎇                             If true then
                   ν                    Current row
                  ⁺                     Plus
                    π                   Current column
                 ﹪                      Modulo
                     ²                  Literal integer `2`
              ⁺                         Plus
                π                       Current column
               ⊗                        Doubled
                       ι                Otherwise current snake
                      ⁺                 Plus
                           ι            Current snake
                          ⁺             Plus
                            ν           Current row
                         ﹪              Modulo
                             ²          Literal integer `2`
                        ⎇               If nonzero then
                                 θ      Input `N`
                                ⊗       Doubled
                               ⊖        Decremented
                              ⁻         Minus
                                  π     Current column
                                   π    Else current column
    ⭆¹                                   Pretty-print
</code></pre>
<p>Previous 57-byte solution:</p>
<pre><code>ＮθＦθ«≔Ｅ²⟦⟧η≔ηζＦι«Ｆζ⊞λＬΣζ≔⮌ζζ»Ｆ⊗⁻θι⊞§ζ⁰ＬΣζＦ⁻θι⊞§ζ¹⊟§ζ⁰⟦⭆¹η
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iOSOxKDk_MWfBgqWlJWm6FrcYVTzzCkpL_Epzk1KLNAo1rbnS8osUgAyFai5Ox-LizPQ8Dd_EAg0jHYXoWE0dhQygCph4ho5CFYgL1pEJ1gFhV2kqBJQWZ2jk6Cj4pOall2RoBJfmAkU1QaphuoNSy1KLilOBwlBjaqEmueSXJuWkpmj4ZuaVFmsU6ihkAjVCDHQs8cxLSa3QqNJRMNDEZjjYAGSNGPoMgfoC8gtQjQLrDSjKzCvRiA4uAdLpID8bgrwbC5SqXVKclFwMDbLl0Uq6ZTlKsQvNIHwA" rel="nofollow noreferrer" title="Charcoal – Attempt This Online">Attempt This Online!</a> Link is to verbose version of code. Pretty-prints each pair of lists on its own line. Explanation:</p>
<pre><code>Ｎθ
</code></pre>
<p>Input <code>N</code>.</p>
<pre><code>Ｆθ«
</code></pre>
<p>Loop over each snake.</p>
<pre><code>≔Ｅ²⟦⟧η
</code></pre>
<p>Start with two empty list of snake indices.</p>
<pre><code>≔ηζ
</code></pre>
<p>Start the snake in the first list.</p>
<pre><code>Ｆι«
</code></pre>
<p>For the <code>i</code>th snake, make it wiggle down and up <code>i</code> times.</p>
<pre><code>Ｆζ⊞λＬΣζ
</code></pre>
<p>Add the next two indices, one to each list.</p>
<pre><code>≔⮌ζζ
</code></pre>
<p>Reverse the order of the lists, so that the snake wiggles on each loop.</p>
<pre><code>»Ｆ⊗⁻θι⊞§ζ⁰ＬΣζ
</code></pre>
<p>Add the rest of the snake to the first list for now.</p>
<pre><code>Ｆ⁻θι⊞§ζ¹⊟§ζ⁰
</code></pre>
<p>Remove the excess snake from the first list and add it to the second list, making it double back on itself.</p>
<pre><code>⟦⭆¹η
</code></pre>
<p>Output the lists in their original order.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8</a>, 90 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def f(n):x=r=[*range(2*n)];return[map((x:=x[:i]+x[:i-1:-1]).index,r)for i in[n]+r[1:-1:2]]
</code></pre>
<p>A function that accepts <code>n</code> and returns a list of snake <a href="https://codegolf.meta.stackexchange.com/a/10753">generators</a>, each of which can produce a flattened, 0-indexed, snake.</p>
<p><strong><a href="https://tio.run/##RYzLCsMgEEX3/QqXTh4F002w@CUyCyHaSulEJhbs19uYLDqLC/eew6Rvfq50mxPXuvgggiTQxbCxHTt6eDl1BHhnnz9M9u2SlEWbYnXEvuWo9KgQrpEWXwaGsLKIIpIl7Nk2qCfE2ubst7wTcf5Vwwz6IvZLHCnLRuHozd3IvXyTwwlO82/b7jAQ6g8" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></strong></p>
<h4>How?</h4>
<p>Port of <a href="https://codegolf.stackexchange.com/a/278272/53748">my Jelly answer</a>.</p>
<p>Start with <code>[0..2N-1]</code> and repeatedly take the first <code>i</code> elements followed by the rest in reverse for <code>i</code> in <code>[n,1,3,5,...,2n-3]</code> to find the next <em>ranking</em> of snake locations.</p>
<p>To get the snake locations from a <em>ranking</em> we <code>map</code> across <code>[0..2N-1]</code> using the <code>index</code> function of the <em>ranking</em>.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="noreferrer">Pip</a> <code>-P</code>, 28 bytes</h1>
<pre><code>1=M{aMP$+:BAD_}FIPMFL2CGaH:a
</code></pre>
<p>Brute-force approach; the time complexity is pretty <code>BAD</code>. Any input higher than 3 times out. <a href="https://ato.pxeger.com/run?1=m724ILNgWbSSboBS7IKlpSVpuhZ7DG19qxN9A1S0rZwcXeJr3TwDfN18jJzdEz2sEiFKoCqXRisZw7UBAA" rel="noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<pre class="lang-lisp prettyprint-override"><code>1=M{aMP$+:BAD_}FIPMFL2CGaH:a
                     2CGa     ; 2-by-a coordinate grid
                   FL         ; Flatten into a list of 2*a coordinate pairs
                 PM           ; Get all permutations
               FI             ; Filter by this function:
   {a         }               ;  To a given permutation
     MP                       ;  map this function to all consecutive pairs:
             _                ;   First pair
          B                   ;   Second pair
           AD                 ;   Absolute difference (element-wise)
       $+:                    ;   Sum
                              ;   This will be 1 if the coordinate pairs are
                              ;   adjacent, greater than 1 otherwise
  M                           ;  Max of all results
1=                            ;  is 1 (i.e. all consecutive pairs are adjacent)
                              ; PM includes permutations that don't start at
                              ; [0;0], but the ones that do are at the beginning,
                              ; so to select them, we simply...
                         H:a  ; Take the first a elements
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 94 bytes</h1>
<p>Prints one grid per line in flattened transposed format, with the snakes starting at <code>1</code>.</p>

<pre class="lang-none prettyprint-override"><code>f=(w,i=0,n=0,...r)=&gt;i&lt;0|i/w/2|r[i]||++n&lt;w*2|[-2,0,2].map(d=&gt;f(w,i+d^!d,r[i]=n,...r))||print(r)
</code></pre>
<p><a href="https://tio.run/##TYy9DoIwFIV3n6ImDq0tBVk0gcuLEAwErKnBW1IIDJRnr0UXh5MvOX@vZm7G1uphiuab9wroIjQkAoOklJZBofPE6XiJU2dLXTnHOebLOXVllIpEpJV8NwPtoFD7lHf3Yyf2IuDvgDk3WI0TtcwrY2n/mAgSIJcsIAdyDeSckfVASGtwNP1D9uZJa4TTilvNshAoil/@F4Kx@Q8" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-none prettyprint-override"><code>f = (         // f is a recursive function taking:
  w,          //   w = width
  i = 0,      //   i = position (as y + x * 2)
  n = 0,      //   n = current cell (1-indexed)
  ...r        //   r[] = flattened transposed grid
) =&gt;          //
i &lt; 0 |       // abort if i is negative,
i / w / 2 |   // or i = w*2,
r[i] ||       // or r[i] is not zero'ish
++n &lt; w * 2 | // increment n and test if it's less than w*2
[-2, 0, 2]    // list of directions
.map(d =&gt;     // for each direction d:
  f(          //   recursive call:
    w,        //     pass w unchanged
    i + d     //     column update: add d to i
    ^ !d,     //     change the row if d=0
    r[i] = n, //     pass n and update r[i]
    ...r      //     pass a copy of r[]
  )           //   end of recursive call
) ||          // end of map()
print(r)      // if n &lt; w*2 was false, print the grid
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 92 bytes</h1>

<pre class="lang-none prettyprint-override"><code>n=&gt;[...Array(n)].map((_,i,A)=&gt;A.map((_,j)=&gt;[(t=[j&lt;i?++k:n*2+i-j,++k])[j=j+k&amp;1],t[j^1]],k=0))
</code></pre>
<p><a href="https://tio.run/##XY5BDoIwFET3nqILY1pbGnFjInwM52iqEAXTgr@kNCaGcPbajRtXb97MZmz7bue7N1PI0D262ENEqJSUsva@/VBkWr7aidKbMKJmUNU/tUkUDaBsaS6cD2fcH7nJrEhZM2XB8mGXaxGUveZaiwEOjMXeeTp2gSABkhcJJZBTIueMLBtC7g5nN3ZydE/aIGwXXBtW/A19upXKNX4B" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<s>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 94 bytes</h1>

<pre class="lang-none prettyprint-override"><code>n=&gt;[...Array(n)].map((_,i,A)=&gt;A.map((_,j)=&gt;[(t=[j&lt;i?k++:--y,k++])[j=j+k&amp;1],t[j^1]],k=0,y=n*2))
</code></pre>
<p><a href="https://tio.run/##XY6xDoIwFEV3v6KDMa0tjbiYCA/DdzRVCIKh4CspjQkhfHvt4uJ0cu5Zrqk/9dy4fvIJ2mcbOggIhZJSls7VC0Wm5bueKH2IXpQMivKnJoqiHpTJ@9vA@TVJFhGpmTJg@HBItfDK3FOtxQAnsQAez4yFzjo6tp4gAZJmETmQSyTnjKw7QhqLsx1bOdoXrRD2K24Vy/5CF4/FcQtf" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</s>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 100 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda n,k=0:(m:=range(k,n))and[[m,range(n,n+n-k)[::-1]]]+[[[k,*j],[k+1,*i]]for i,j in f(n+1,k+2)]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=RY8xEoIwEEV7TpEyIcuMWDhOZjhJ3CIORENgQcDCs9jQ6J28jcGg_vL9v__P3p_9bTp3NM-P62Sz_au0RWPaY2kYgS82ireqGAydKu6BhDBUat1CJAQkKfNCK5XliCi11h7SGkF7mUPqEG03MAc1c8QspwC93Apctw4fd_FiXw5sJ1TCghZnrC7xzq1wUT84mrhu3DgFzn4NIYwi-SdE3Pj-9QY" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Returns the snakes as a list of 2×N matrices.</p>
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 108 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda n,k=0,t=1,a=[]:n*[1]and[a+[[k+i,k+2*n-i-1][::t]for i in range(n)]]+f(n-1,2+k,t^-2,a+[[k,k+1][::t]])
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XY9BCsIwEEX3PUWWSTMBk4VIIEfwBCFCpI2G1GmpceFZ3HSjd_I2tiUi-Jf_8f4wj9dwz-cep-l5y0Hs3l0wnb8cG08QktlANhK8sU5jbaXz2FjPrU08QuKqRhGFdFbr7EI_kkgiktHjqaXInOOBopCgeIJ8EApWc_aK4Vi5uf9zJZAt0xWZs5Ar-tQuNNBY6iXDGDHTFbLqV5TR70Mf" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Returns the snakes as a list of Nx2 matrices.</p>
</div>
<div id="pu11" class="pu"><h1>Python3, 177 bytes</h1>
<pre class="lang-py prettyprint-override"><code>def f(n):
 q=[(0,0,[(0,0)])]
 for x,y,p in q:
  if len(p)==2*n:yield p;continue
  q+=[(*T,p+[T])for X,Y in[(0,1),(0,-1),(1,0),(-1,0)]if n&gt;y+Y&gt;=0&lt;=x+X&lt;2and(T:=(x+X,y+Y))not in p]
</code></pre>
<p><a href="https://tio.run/##HY4xDoMwDEXncgqPCRgJ6FJRwikYQCgDKkkbCTkBUQlOT50u/rb8/fzDuX883R9hu67ZWLCCZJ3AqkZRYIH/KrXUCVi/wYEnBnAEK3vAWVgMiSCVqlKqT2eWGcLz5Wl39DXsWDPmpB2GbOy0jIQeB76P2FIi1zxKyT9Q5FE0Q6k9s6FVRaOOrG@qiWbR1UrwgLyQkvweMwR9RaKL/TbR2zDnweFvYXO0izG1wnH06wc" rel="nofollow noreferrer">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/278263/">278263</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




