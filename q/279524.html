<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::279524</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>188</td><td>Python + matplotlib</td><td>250513T084737Z</td><td><a href="https://codegolf.stackexchange.com/questions/279524/draw-the-caustics-in-a-cup/279687#279687">SevC_10</a></td></tr>
<tr d-ix="1"><td>161</td><td>Pug/HTML</td><td>250511T181302Z</td><td><a href="https://codegolf.stackexchange.com/questions/279524/draw-the-caustics-in-a-cup/279659#279659">ccprog</a></td></tr>
<tr d-ix="2"><td>nan</td><td>Desmos</td><td>250508T193305Z</td><td><a href="https://codegolf.stackexchange.com/questions/279524/draw-the-caustics-in-a-cup/279612#279612">CursorCo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> + matplotlib, <s>192</s> 188 bytes</h1>
<p><em>Edit:</em></p>
<ul>
<li>-4 bytes thanks to <a href="https://codegolf.stackexchange.com/users/120105/crsb0001">@CrSb0001</a></li>
</ul>
<pre class="lang-python prettyprint-override"><code>from math import*
from matplotlib.pyplot import*
R=450
for x in range(-R,R+1):
 if x:y=sqrt(R*R-x*x);t=tan(2*atan(y/x)-3*pi/2);plot((x-y/t,x+(R-y)/t),(0,R),'b',lw=.1)
xlim(-R-9,R+9)
show()
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=PY9LDsIgGIT3nIKd_Aitz8S24RLcABNrSdqC-JvCWdx0o6fwIt5GGx-rmcwkM_mud5-wcf043i5Yy93zUQfX0c5gQ23nXUBOfolvHbZ2n_k0uX-t1Wa7ILULNFLb02D644FJLfR8CSWhtqaxTOp8Csg01zLyCBUqND1bcTNJyiPINfc2X0E1TTMWZcpRxDnTMkGOINhCaBCz_Uy0g8qWQGJru_eLLN4_BZBz4wYGH4Yvyg_pBQ" rel="nofollow noreferrer">(Can't) Attempt This Online!</a></p>
<p>Example graphical output:
<a href="https://i.sstatic.net/i7yX8hj8.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/i7yX8hj8.png" alt="Graphical output" /></a></p>
<hr />
<p><strong>Explanation</strong></p>
<ul>
<li>Consider half circumference and loop on x coordinates: at each coordinate consider a vertical line intersecting the circumference (exclude <code>x == 0</code> to avoid infinite slope error).</li>
<li>Compute the tangent to the circumference and from this the slope of the reflection of the vertical line on the circumference.</li>
<li>Plot all the reflected lines.</li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="https://pugjs.org" rel="nofollow noreferrer">Pug</a>/HTML <s>162</s> 161 bytes</h1>
<pre><code>- k=999,i=0,p=&quot; &quot;,M=Math
svg(viewBox=-k+p+-k+p+2*k+p+2*k): while i&lt;k
 line(x1=M.sin(a=M.PI/k*i++)*k y1=M.cos(a)*k x2=M.sin(b=3*a)*k y2=M.cos(b)*k stroke=&quot;#0003&quot;)
</code></pre>
<p><a href="https://codepen.io/ccprog/pen/GggwWMw?editors=1000" rel="nofollow noreferrer">Try it online!</a></p>
<p>The compiled code is not a valid standalone SVG file, but needs to be rendered by a HTML browser. The result is scalable and has no fixed size, it rather depends on the available viewport.</p>
<p><a href="https://i.sstatic.net/v8vbnyco.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/v8vbnyco.png" alt="a caustic with black lines on white background" /></a></p>
<hr />
<p>For the price of 22 bytes of CSS, you can get a rendering with light on black: <a href="https://codepen.io/ccprog/pen/zxxMEey?editors=1100" rel="nofollow noreferrer">Codepen</a>. I'm adding it only because I think it looks awesome.</p>
<pre><code>svg{background:#000}
</code></pre>
<p>...and for 14 bytes more, you get a round area:</p>
<pre><code>svg{background:#000;border-radius:50%}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.desmos.com/calculator" rel="noreferrer">Desmos</a>, 43 + 3 = 46 bytes</h1>
<pre><code>t=[-4^4...4^4]
y\sqrt{4^8-tt}=x8^5/t-xt+8^5
</code></pre>
<p><a href="https://www.desmos.com/calculator/bjdmibvjpa" rel="noreferrer">Try it online!</a></p>
<p>This is a ray based approach that uses 512 rays to approximate the caustic.</p>
<p><a href="https://i.sstatic.net/8Wur2mTK.png" rel="noreferrer"><img src="https://i.sstatic.net/8Wur2mTK.png" alt="Demonstration of the code" /></a></p>
<h3>Explanation</h3>
<p>Not too much to explain here, <code>t</code> is a list defined to be the range from <code>-256</code> to <code>256</code> inclusive. And our second expression is just a golfed equation of the relevant reflected ray on a circle of radius <code>256</code> that intersects the circle at <code>x=t</code>. Because of the golfing done, when <code>t=0</code> the resulting vertical line doesn't render (since a divide by zero occurs) but desmos handles this gracefully and the effect on the resulting image is not particularly bad. This becomes unnoticeable at higher ray counts.</p>
<h3>Scoring</h3>
<p>For those unaware, desmos scoring is based on the byte count of text that can be pasted into the expression box as discussed <a href="https://codegolf.meta.stackexchange.com/questions/19316/scoring-desmos-equations">here</a>. This is sufficient for most desmos answers and in general is a good and rigorous way of having &quot;byte counts&quot; for desmos graphs. But as discussed <a href="https://codegolf.meta.stackexchange.com/questions/17587/how-do-we-score-colors-in-desmos">here</a>, this neglects many of desmos' configurable graphical features such as setting the colors of expressions, or importantly for this challenge, setting line opacity. Thus with the current generally accepted rules desmos is unable to complete this challenge as the lines are fully opaque by default leaving only 2 colors in the rendered image.</p>
<p>That being said, I have been given permission by <a href="https://codegolf.stackexchange.com/users/91213/mousetail">mousetail</a> to make up my own rules for scoring desmos for this challenge! Thus I propose the following: For necessary setting changes the byte count to be added should be the minimum number of bits needed to set the configuration, rounded up to the nearest byte, plus one, for each setting configured. The plus one is a sort of &quot;boundary byte&quot;, we can imagine a &quot;meta desmos language&quot; that consists of the code to pasted in followed by a list of settings information, where each chunk of settings information has a special leading byte to identify what setting it's for. In my case here, my settings information is setting the line opacity to <code>.1</code> in the first (and only) expression. Thus I need <code>2+1=3</code> extra bytes to encode this information.</p>
<p>There is some more discussion to be had about desmos byte counts, and this slippery slope is likely the reason why a scheme like mine above has not been adopted. For the purposes of this challenge I'm considering the configuration of the graph's viewing window to not be a part of the byte count, but here there are some open questions. Should the grid lines and axes be counted as a part of the rendered image or are they simply a background artifact? Certainly they can be turned off, and under my scheme above would cost 2 bytes each to do so, meaning another <code>+6</code> for this answer. But they also aren't even static with the viewing window and really feel more like a HUD than a part of the rendering. This brings us to a possibly even more pressing question. Is the viewing window's position/zoom part of the rendering? Again I haven't counted it here, for this answer all you need to do is zoom out to see the whole image. However, there are a couple of compelling reasons that if it's not in the correct position by default it should be counted. For one, desmos' veiwing window allows the aspect ratio to be changed arbitrarily, even in this answer I could save a byte or two by squishing the y-axis down allowing my expression to draw the caustic in an ellipse rather than a circle. The other problem is that if there's no penalty for windows movement one can essentially beat any graphical challenge just by going to the right place in <a href="https://www.desmos.com/calculator/7ko7dizt7i" rel="noreferrer">Tupper's formula</a>. But there are problems with counting it too. Namely, depending on the the aspect ratio of your screen, putting in the same data into the axis limits yields different views. Thus I think it makes sense to not include these viewing conditions in the byte count, and just have reasonable expectations (including no custom aspect ratios) about the amount of window movement needed to see the rendered image.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/279524/">279524</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




