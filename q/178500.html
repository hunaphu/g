<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::178500</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>034</td><td>Juby</td><td>250519T181257Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/279793#279793">Jordan</a></td></tr>
<tr d-ix="1"><td>004</td><td>Thunno 2</td><td>230714T084238Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/262783#262783">The Thon</a></td></tr>
<tr d-ix="2"><td>004</td><td>MATL</td><td>190108T112011Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178516#178516">Suever</a></td></tr>
<tr d-ix="3"><td>021</td><td>Wolfram Language Mathematica</td><td>190114T072617Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178727#178727">alephalp</a></td></tr>
<tr d-ix="4"><td>013</td><td>[APL Dyalog Unicode]</td><td>220126T062334Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/241780#241780">Jayant C</a></td></tr>
<tr d-ix="5"><td>085</td><td>Go</td><td>220126T044833Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/241775#241775">cure</a></td></tr>
<tr d-ix="6"><td>025</td><td>PowerShell Core</td><td>220126T033647Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/241773#241773">Julian</a></td></tr>
<tr d-ix="7"><td>004</td><td>Husk</td><td>220104T174932Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/240567#240567">Natte</a></td></tr>
<tr d-ix="8"><td>001</td><td>BQN</td><td>220104T013151Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/240557#240557">lynn</a></td></tr>
<tr d-ix="9"><td>048</td><td>Factor</td><td>220104T012805Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/240555#240555">chunes</a></td></tr>
<tr d-ix="10"><td>004</td><td>Vyxal</td><td>220104T010039Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/240554#240554">lyxal</a></td></tr>
<tr d-ix="11"><td>122</td><td>C++ gcc</td><td>190113T093048Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178712#178712">AZTECCO</a></td></tr>
<tr d-ix="12"><td>032</td><td>Gema</td><td>190830T121350Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/191066#191066">manatwor</a></td></tr>
<tr d-ix="13"><td>018</td><td>K ngn/k</td><td>190822T104532Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/190589#190589">scrawl</a></td></tr>
<tr d-ix="14"><td>174</td><td>SAP ABAP</td><td>190822T135752Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/190615#190615">Maz</a></td></tr>
<tr d-ix="15"><td>007</td><td>Pyth</td><td>190822T074150Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/190576#190576">ar4093</a></td></tr>
<tr d-ix="16"><td>007</td><td>J</td><td>190108T101043Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178511#178511">Galen Iv</a></td></tr>
<tr d-ix="17"><td>062</td><td>C gcc</td><td>190114T045139Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178724#178724">att</a></td></tr>
<tr d-ix="18"><td>172</td><td>C# .NET Core</td><td>190114T165303Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178748#178748">Destroig</a></td></tr>
<tr d-ix="19"><td>023</td><td>Attache</td><td>190114T125146Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178741#178741">Conor O&</a></td></tr>
<tr d-ix="20"><td>032</td><td>Pari/GP</td><td>190114T065032Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178726#178726">alephalp</a></td></tr>
<tr d-ix="21"><td>027</td><td>R</td><td>190112T140152Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178697#178697">digEmAll</a></td></tr>
<tr d-ix="22"><td>014</td><td>AWK</td><td>190108T200112Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178547#178547">Digital </a></td></tr>
<tr d-ix="23"><td>011</td><td>Perl 5</td><td>190111T081826Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178646#178646">Nahuel F</a></td></tr>
<tr d-ix="24"><td>024</td><td>bash</td><td>190108T151846Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178530#178530">Nahuel F</a></td></tr>
<tr d-ix="25"><td>031</td><td>awk</td><td>190108T120134Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178517#178517">Nahuel F</a></td></tr>
<tr d-ix="26"><td>063</td><td>SNOBOL4 CSNOBOL4</td><td>190111T003756Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178637#178637">Giuseppe</a></td></tr>
<tr d-ix="27"><td>017</td><td>Reticular</td><td>190111T002029Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178636#178636">Wisław</a></td></tr>
<tr d-ix="28"><td>046</td><td>Haskell</td><td>190110T194518Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178629#178629">Laikoni</a></td></tr>
<tr d-ix="29"><td>044</td><td>Python 2</td><td>190110T001536Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178608#178608">lynn</a></td></tr>
<tr d-ix="30"><td>015</td><td>Perl 6</td><td>190108T094553Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178504#178504">Jo King</a></td></tr>
<tr d-ix="31"><td>121</td><td>GO 121 Bytes Not included new lines and tabs</td><td>190109T053643Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178571#178571">the ulti</a></td></tr>
<tr d-ix="32"><td>058</td><td>Haxe</td><td>190108T210929Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178551#178551">Aurel</a></td></tr>
<tr d-ix="33"><td>034</td><td>Ruby</td><td>190108T205801Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178550#178550">G B</a></td></tr>
<tr d-ix="34"><td>044</td><td>Haskell</td><td>190108T205358Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178549#178549">ბიმო</a></td></tr>
<tr d-ix="35"><td>043</td><td>R</td><td>190108T174458Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178542#178542">Sumner18</a></td></tr>
<tr d-ix="36"><td>008</td><td>Japt</td><td>190108T101539Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178512#178512">Shaggy</a></td></tr>
<tr d-ix="37"><td>035</td><td>Ruby</td><td>190108T173910Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178540#178540">DaveMong</a></td></tr>
<tr d-ix="38"><td>048</td><td>Tcl</td><td>190108T153215Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178532#178532">sergiol</a></td></tr>
<tr d-ix="39"><td>076</td><td>Java JDK</td><td>190108T150045Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178527#178527">Olivier </a></td></tr>
<tr d-ix="40"><td>044</td><td>C# Visual C# Interactive Compiler</td><td>190108T122752Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178519#178519">dana</a></td></tr>
<tr d-ix="41"><td>041</td><td>R</td><td>190108T154246Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178534#178534">Giuseppe</a></td></tr>
<tr d-ix="42"><td>007</td><td>APL Dyalog Unicode</td><td>190108T142809Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178525#178525">Sherlock</a></td></tr>
<tr d-ix="43"><td>004</td><td>Jelly</td><td>190108T102352Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178513#178513">Mr. Xcod</a></td></tr>
<tr d-ix="44"><td>061</td><td>Batch</td><td>190108T100808Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178510#178510">Neil</a></td></tr>
<tr d-ix="45"><td>043</td><td>Python 2</td><td>190108T095238Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178508#178508">Chas Bro</a></td></tr>
<tr d-ix="46"><td>004</td><td>05AB1E</td><td>190108T094831Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178506#178506">Emigna</a></td></tr>
<tr d-ix="47"><td>030</td><td>Retina 0.8.2</td><td>190108T094505Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178503#178503">Neil</a></td></tr>
<tr d-ix="48"><td>026</td><td>JavaScript ES6</td><td>190108T093200Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178501#178501">Arnauld</a></td></tr>
<tr d-ix="49"><td>048</td><td>Python 2</td><td>190108T093635Z</td><td><a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178502#178502">TFeld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/cyoce/J-uby" rel="nofollow noreferrer">J-uby</a>, 34 bytes</h1>
<pre class="lang-ruby prettyprint-override"><code>:*%[:&amp; &amp;:count%[:take,:[]],:+@|:*]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m700K740qXLBIjfbpaUlaboWN5WstFSjrdQU1KyS80vzSoDsksTsVB2r6NhYHStthxorrViIyu0FCm7R0aY6hkY6hgZgEsSIhcouWAChAQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 4 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ƒıṪc
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVDNiU5MiVDNCVCMSVFMSVCOSVBQWMmZm9vdGVyPSZpbnB1dD0lNUIzJTJDMSUyQzQlMkMxJTJDNSUyQzklMkMyJTJDNiUyQzUlMkMzJTJDNSUyQzklNUQmZmxhZ3M9" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>ƒıṪc­⁡​‎‎  # Implicit input⁪⁡⁪⁠⁪⁡⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁢⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏‏​⁡⁠⁡‌­
ƒ     # ‎⁡Get the prefixes of the input list
 ı    # ‎⁢Map over this list of lists:
  Ṫ   # ‎⁣ Remove the last item and push it separately
   c  # ‎⁤ Count the occurrences of this letter
      # ‎⁢⁡Implicit output
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://esolangs.org/wiki/MATL" rel="nofollow noreferrer">MATL</a>, 4 bytes</h1>
<pre><code>&amp;=Rs
</code></pre>
<p>This solution is 1-based</p>
<p>Try it out at <a href="https://matl.io/?code=%26%3DRs&amp;inputs=%5B5%2C12%2C10%2C12%2C12%2C10%5D&amp;version=20.10.0" rel="nofollow noreferrer">MATL Online</a>!</p>
<p><strong>Explanation</strong></p>
<p>Uses <code>[1,2,3,2]</code> as an example</p>
<pre><code>    # Implicitly grab the input array of length N
    #
    #   [1,2,3,2]
    #
&amp;=  # Create an N x N boolean matrix by performing an element-wise comparison
    # between the original array and its transpose:
    #
    #     1 2 3 2
    #     -------
    # 1 | 1 0 0 0
    # 2 | 0 1 0 1
    # 3 | 0 0 1 0
    # 2 | 0 1 0 1
    #
R   # Take the upper-triangular portion of this matrix (sets below-diagonal to 0)
    #
    #   [1 0 0 0
    #    0 1 0 1
    #    0 0 1 0
    #    0 0 0 1]
    #
s   # Compute the sum down the columns
    #
    #   [1,1,1,2]
    #
    # Implicitly display the result
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 21 bytes (@att)</h1>
<pre><code>_g=g/@#-(--g[#]&amp;/@#)&amp;
</code></pre>
<p><a href="https://tio.run/##LYpLCsMwDESvIjCYFmTiT9LPIiVH6D6EYkrjZpEuinfGZ3dHUMSMnh7aY36/9pi3Z2wrje2RxtRNyhyMSbNaNPio2/27ffKsyNxohV1IUzdRKZWp9F76zBgBZ9lbDlZ4YOcZQlpAnMej4wt75L9FBxw9MvAV6oQdhGttPw" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<hr />
<h2><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 28 bytes</h2>
<pre><code>(Clear@g;g@a_=0;++g[#]&amp;/@#)&amp;
</code></pre>
<p>Based on <a href="https://codegolf.stackexchange.com/a/240467/9288">@att's answer to another challenge</a>.</p>
<p><a href="https://tio.run/##LYrdCsIwDEZfJVAoyiLrzzaVMSn4At6PIUW2OnBejN6VPntNQML35eSQzcf3vPm4vnxZYCiH@2f2uwt9cP45qL6qwigmWTtxlOWxr984CjjdYCE7gYTaQUoZITWG@4w0DFqhUWgVc4vaIAluBnaGHjVe0FD@m7Wlo6G0eCXV0bbMOZcf" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<hr />
<h2><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 32 bytes</h2>
<p>-1 byte thanks to @att.</p>
<pre><code>Accumulate[p=x^#]~Coefficient~p&amp;
</code></pre>
<p>The <span class="math-container">\$k\$</span>-th element in the answer is the coefficient of the <span class="math-container">\$x^{a_k}\$</span> term in the polynomial <span class="math-container">\$\sum_{i=1}^kx^{a_i}\$</span>.</p>
<p><a href="https://tio.run/##LYrdCsIwDEZfJTDYVcS13fy5mCi@gPdjQiktFtY5pAOhdK9eE5DwfTk5JOj4skFHb3Rx0JebMWtYJx3tsPTfZzVu97d1zhtv57gtdXl8/ByHCnYXcEM1jlDD/gopZYTUSu4j0jCIBmWDqmHuUEgkwc3ATtKjwBNKyn@zVnS0lA7PpA60FXPO5Qc" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>[APL (Dyalog Unicode)], 13 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>(+/⊃⍷⊢)⍤⌽¨,\⎕
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://go.dev/doc/" rel="nofollow noreferrer">Go</a>, 85 bytes</h1>

<pre class="lang-go prettyprint-override"><code>package main
func main(){
m:=make(map[int]int)
for i,n:=range a{
a[i]=m[n]
m[n]++
}
}
</code></pre>
<p>Create a map to store the count, loop through input list (a), replacing each item with the count for that item before incrementing.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell Core</a>, 25 bytes</h1>

<pre class="lang-powershell prettyprint-override"><code>$t=@{}
$args|%{(++$t.$_)}
</code></pre>
<p><a href="https://tio.run/##XY5vS8MwEMbf91OEEl3LrtKmnU6kUBn6SlCc70RGrZnbqHY2KQpdP3u9NHSJ5si/e353z@2rb16LDS/LoKhq3tN12vZUplnbOTSv38XhpPWmUyrP6Mrv@s5xMs8huCDzMs8H4rq@@SdMZSI7dQEYQxYYxLYShcBCiEMtYtjiDCIGSKhTPY6Q6gLMRhk6RDBHYT7ehlY8G2piSOyqGKUE9wwuUT7HO1Zv28fuoD19ciC3VX2TF5vg/nXHC0naoSWVXMhFLjgQyn/2KPA3khK60mrNRVPKa3G3FRLTp3RNsrHCJlTJHzbYVdtPMoGJM2DPD8tFI2T1oc1fMu2u1rIpCi6E6UAC/mWGuTqC7hMaE@XsKngcw1gZ9PHfUFrpnK7/BQ" rel="nofollow noreferrer" title="PowerShell Core – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 4 bytes</h1>
<pre><code>z#ḣ¹
</code></pre>
<p><a href="https://tio.run/##yygtzv7/v0r54Y7Fh3b@//8/2lTH0EjH0ABMghixAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>one-indexed</p>
<pre><code>z#ḣ¹  transforms to z#ḣ⁰⁰
z     zip
  ḣ⁰  prefixes of input
    ⁰ and input
 #    with count
</code></pre>
</div>
<div id="pu8" class="pu"><h1>BQN, 1 byte</h1>
<pre><code>⊒
</code></pre>
<p><a href="https://mlochbaum.github.io/BQN/try.html#code=RiDihpAg4oqSCgpGIDPigL8x4oC/NOKAvzHigL814oC/OeKAvzLigL824oC/NeKAvzPigL814oC/OQ==" rel="nofollow noreferrer">Try it here!</a>, <a href="https://mlochbaum.github.io/BQN/try.html#code=RiDihpAg4oqSCgooRiDigKJKcynCqOKfqAoKCiJbXSIKCiJbNDJdIgoKIls3LDcsN10iCgoiWzEwLDIwLDMwXSIKCiJbNSwxMiwxMCwxMiwxMiwxMF0iCgoiWzIsNywxLDgsMiw4LDEsOCwyLDhdIgoKIlszLDEsNCwxLDUsOSwyLDYsNSwzLDUsOV0iCuKfqQ==" rel="nofollow noreferrer">All tests</a></p>
<p>I don't know much about BQN, but I learned from <a href="https://codegolf.stackexchange.com/a/240424/3852">this answer</a> that this is a built-in.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a>, 48 bytes</h1>
<pre><code>[ dup [ head [ = ] with count ] with map-index ]
</code></pre>
<p><a href="https://tio.run/##PY5BDoJADEX3c4p/AQ0MoKhxbdy4Ma4ICwI1EHUYhyFqCGcfCwHatO/3N016z3JbG3e7ni@nPR5kFD3R0LsllVMDbcjanzaVsjgI0QlwdOgnhnKR2zHnyfcgPQTeYkTw5eAOfRTzQvKVj5gZL5x3ATshV4Qd@xtmMOpe9C5B0WokKCkrGEek@FS2RF63/Os0vDK9qlRBX6SONdbuDw" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 4 bytes</h1>
<pre><code>KƛtO
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCJLxpt0TyIsIiIsIls1LDEyLDEwLDEyLDEyLDEwXSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p><code>KƛṫO</code> is also valid for 4 bytes</p>
<p>Simply count the number of occurrences of the tail of each prefix in each prefix.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C++ (gcc)</a>, 122 bytes</h1>



<pre class="lang-cpp prettyprint-override"><code>#import&lt;vector&gt;
using V=std::vector&lt;int&gt;;V f(V x){for(int i,t,z=x.size();t=i=z--;x[z]=t)for(;i--;)t-=x[z]!=x[i];return x;}
</code></pre>

<p><a href="https://tio.run/##ZZLrboIwFID/8xToEoFYDHecLTwGf5xZGIJpNi6BujAbnt2dioimIe1pv/PR0zbNmsY8Zdn1@kbLpm4Z@c0zVrexcu5odVKTqGPH3W6EhFYsxola6InaG7yoWx2IShFDl6jfdPSS6wZmEY0upon7/eUQMUNYmMLcYGYk2AJ6esBtzs5tpfZ4eJSmdcfaPC1j5Vb0PlvVTd6mojzRX/gYUFZXHVOT1TFlqcFHSIi21zAt9IWgm7xs2J9uPG05sjAlt9y4a9PG05@C7ul6fYBFkGa88M1Xmn3DGYf77h/VDhoelETp0rL5yT8tbiMHuciD5gxowvZj5HDvibs8RPDNwOO2hRwLudbMfO4j20GQEL0YzLmAO7CAjbZQdTvFOR1yF6AHzUfvkAogumI8YKVMaaWLa4OLzeozUwiZDkHIMoqXhBT6RAw46UelzY4tObbkOJLjSI4rOa7keJLjSY4vOb7kBJITSE4oOeHdgef6Dw" rel="nofollow noreferrer" title="C++ (gcc) – Try It Online">Try it online!</a></p>

<p>Saved 2 more bytes thanks to @ceilingcat </p>
</div>
<div id="pu12" class="pu"><h1><a href="http://gema.sourceforge.net/" rel="nofollow noreferrer">Gema</a>, 32 characters</h1>

<pre><code>&lt;D&gt;=@set{$1;@add{${$1;};1}}${$1}
</code></pre>

<p>Outputs 1 based indexes.</p>

<p>Sample run:</p>

<pre><code>bash-5.0$ gema '&lt;D&gt;=@set{$1;@add{${$1;};1}}${$1}' &lt;&lt;&lt; '[5,12,10,12,12,10]'
[1,1,1,2,3,2]
</code></pre>

<p><a href="https://tio.run/##TU9BbsMgELz7FRspRw6Ak7YRbeVDpSpvSHJY2ZsYCWMLcC8Wb3eWJIcK7cwwml2WGw24rp8/319NpLRslWmw65ZtUdmonIvK6wZ@OQhTGFuKkSKknoB8soHA@mlOjIAQrb85gjD7agMY4ciZeaCAiTpA5yDiMDlu/59@9Avo8Y8gjRCIF3nMb8fZJwoR8MoEhG3/esxZT9XZP3e2RuYm0ESYFiWlNM@fWJMb69uw2JzPfj1dqtNOM7wLPsxKCi1FLVnuhdKC7wWLYEtzSokPoblezG7Nese1Fwd23pjroi93" rel="nofollow noreferrer" title="Gema – Try It Online">Try it online!</a></p>

<h2>Gema, 34 characters</h2>

<pre><code>&lt;D&gt;=${$1;0}@set{$1;@add{${$1;};1}}
</code></pre>

<p>Outputs 0 based indexes.</p>

<p>Sample run:</p>

<pre><code>bash-5.0$ gema '&lt;D&gt;=${$1;0}@set{$1;@add{${$1;};1}}' &lt;&lt;&lt; '[5,12,10,12,12,10]'
[0,0,0,1,2,1]
</code></pre>

<p><a href="https://tio.run/##TU9BbsMgELz7FRspRw6Ak7SVmyqHSlHekOSwsrcxEsYW4F4s3u4sNIcK7c4wml2GBw24rp/fX8ftslWNTKdAMbMTdt1StNSolNYNnNkKkx9bCoECxJ6AXDSewLhpjtwBIRj3sAR@dtUGMMCFPfNAHiN1gNZCwGGyPP7fXeYF9PhLEEfwxBnK/nacXSQfAH8YgLDtX49Z46i6uWOJa3JuTxNhXJSUsvn7RJGNa/1iUrq59XqvrjvN7U3wYVRSaClqyXQvlBZ8zz0TljS7lHgXmuuFrNbMd1x78cHKgbHO/P4E" rel="nofollow noreferrer" title="Gema – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://gitlab.com/n9n/k" rel="nofollow noreferrer">K (ngn/k)</a>, 18 bytes</h1>

<pre><code>(,/.!'#'=x)@&lt;,/.=x
</code></pre>

<p><a href="https://tio.run/##y9bNS8/7X2FlrGCoYALEpgqWCkYKZkDaGMT@r6Gjr6eorqxuW6HpYANk21b8/w8A" rel="nofollow noreferrer" title="K (ngn/k) – Try It Online">Try it online!</a></p>

<hr>

<p><strong>OLD APPROACH</strong></p>

<h1><a href="https://gitlab.com/n9n/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>27 23</s> 22 bytes</h1>

<pre><code>{x[,/.=x]:,/.!'#'=x;x}
</code></pre>

<p><a href="https://tio.run/##y9bNS8/7/z/NqroiWkdfz7Yi1gpIKaorq9tWWFfU/k9TMFYwVDABYlMFSwUjBTMgbQxi/wcA" rel="nofollow noreferrer" title="K (ngn/k) – Try It Online">Try it online!</a></p>

<hr>

<p>this is not pretty... quick and dirty solution, i will be refining this later when i get the chance to think of a better approach</p>

<p>explanation:</p>

<ul>
<li><code>=x</code> returns a dict where keys are items of x and values are their indices (<code>3 1 4 5 9 2 6!(0 9;1 3;,2;4 8 10;5 11;,6;,7)</code>)</li>
<li><code>i:</code> assign dict to <code>i</code></li>
<li><code>#:'</code> count values for each key (<code>3 1 4 5 9 2 6!2 2 1 3 2 1 1</code>)</li>
<li><code>!:'</code> enumerate each value (<code>3 1 4 5 9 2 6!(0 1;0 1;,0;0 1 2;0 1;,0;,0)</code>)</li>
<li><code>,/.:</code> extract values and flatten list (<code>0 1 0 1 0 0 1 2 0 1 0 0</code>)</li>
<li><code>x[,/.:i]:</code> extract indices from i, flatten, and assign each value from the right-side list at these indices</li>
</ul>

<p>annoyingly, the list is updated but a null value is returned by the assignment, so i need to return the list after the semicolon (<code>;x</code>)</p>

<p><strong>edit:</strong> removed extraneous colons</p>

<p><strong>edit2:</strong> removed unnecessary assignment </p>
</div>
<div id="pu14" class="pu"><h1><a href="https://en.wikipedia.org/wiki/ABAP" rel="nofollow noreferrer">SAP ABAP</a>, 174 bytes</h1>
<pre><code>FORM f TABLES t.DATA r TYPE int_tab1.LOOP AT t.DATA(i) = 0.DATA(x) = sy-tabix.LOOP AT t.CHECK:sy-tabix &lt; x,t = t[ x ].i = i + 1.ENDLOOP.APPEND i TO r.ENDLOOP.t[] = r.ENDFORM.
</code></pre>
<p>Subroutine which takes a table of integers and replaces all values with zero-based indices. ABAP has no array type, so a table of integers is the closest thing we have. It uses the builtin table type <code>int_tab1</code> to save some bytes over declaring <code>TYPE TABLE OF i</code> and abuses obsolete (but still functional) internal tables with header lines, which allows us to use <code>LOOP AT t</code> and read <code>t</code> at the implicit index <code>sy-tabix</code> without declaring additional variables for keeping the value.</p>
<hr />
<p>Full program with some test cases from OP <a href="https://pastebin.com/0Z4WWUwM" rel="nofollow noreferrer">can be found here</a>. Output below:
<a href="https://i.sstatic.net/I5NKL.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/I5NKL.png" alt="Results from the test cases" /></a></p>
<p>Forgot to add the two edge cases of <code>[ ]</code> and <code>[42]</code>, but they work, too:<br />
<code>[ ]</code> =&gt; An empty input table stays empty as the outer loop gets skipped completely<br />
<code>[42]</code> =&gt; A single value in the table means table line 1 in the inner loop is skipped, since <code>sy-tabix</code> is equal to <code>x</code> - therefore <code>i</code> stays <code>0</code> and the output is <code>[0]</code>.</p>
<hr />
<h3>Explanation:</h3>
<pre><code>FORM f TABLES t.              &quot;Subroutine, TABLES parameters are references
  DATA r TYPE int_tab1.       &quot;A temporary internal table for results
  LOOP AT t.                  &quot;Go over each line in table t
    DATA(i) = 0.              &quot;Set count to 0            (inline declaration)
    DATA(x) = sy-tabix.       &quot;Set x to current index    (inline declaration)
    LOOP AT t.                &quot;Go over each line in table t again
      CHECK:                  &quot;Check whether... (works like a CONTINUE if not true)
        sy-tabix &lt; x,         &quot;1) ...inner LOOP index is smaller than outer index (= only check lines up to outer index - 1)
        t = t[ x ].           &quot;2) ...value of t at inner index (implicit) is equal to value of t at outer index (x)
      i = i + 1.              &quot;If both are true, increase the counter by 1
    ENDLOOP.                  
    APPEND i TO r.            &quot;Add the count for this value to temporary results table
  ENDLOOP.                    
  t[] = r.                    &quot;Fill referenced table t with the values in r.
ENDFORM.
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 7 bytes</h1>

<pre><code>.e/&lt;Qkb
</code></pre>

<p><a href="https://tio.run/##K6gsyfj/Xy9V3yYwO@n//2hTHUMjHUMDMAlixAIA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>

<pre><code>.e     Q # enumerated map over (implicit) Q (input): lambda k,b: (k=index, b=element)
  /   b  # number of occurences of b in
   &lt;Qk   # Q[:k]
</code></pre>

<h2>Alternative 1-based solution (7 bytes)</h2>

<pre><code>m/ded._
</code></pre>

<p><a href="https://tio.run/##K6gsyfj/P1c/JTVFL/7//2hTHUMjHUMDMAlixAIA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>

<pre><code>m    ._ # map over all prefixes of (implicit) Q (input): lambda d:
 / ed   # Number of occurences of d[-1] in
  d     #                                  d
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 7 bytes</h1>

<pre><code>1#.]=]\
</code></pre>

<p><a href="https://tio.run/##PYu7CoAwDEX3fsVFBRGkpK1v6J/oJBZxcXD222syREp6T06SK6cnWhAWUHal3eK25sYUFnWKtkaLd0F6jDn280YCVaTYeaVRnjaO4AnhX@vhvEj5BdR7PnKYOCdNHQUWHVePmfXAGYTzBw" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>

<p>1-indexed.</p>

<h2>Explanation:</h2>

<pre><code>]\ all the prefixes (filled with zeros, but there won't be any 0s in the input):
   ]\ 5 12 10 12 12 10
5  0  0  0  0  0
5 12  0  0  0  0
5 12 10  0  0  0
5 12 10 12  0  0
5 12 10 12 12  0
5 12 10 12 12 10

]= is each number from the input equal to the prefix:
   (]=]\) 5 12 10 12 12 10
1 0 0 0 0 0
0 1 0 0 0 0
0 0 1 0 0 0
0 1 0 1 0 0
0 1 0 1 1 0
0 0 1 0 0 1

1#. sum each row:
   (1#.]=]\) 5 12 10 12 12 10
1 1 1 2 3 2
</code></pre>

<h1><a href="https://github.com/JohnEarnest/ok" rel="nofollow noreferrer">K (oK)</a>, <s>11</s> 10 bytes</h1>

<p>-1 byte thanks to ngn!</p>

<pre><code>{+/'x=,\x}
</code></pre>

<p><a href="https://tio.run/##y9bNz/7/P82qWltfvcJWJ6ai9n@agpGCuYKhggWQtoDR/wE" rel="nofollow noreferrer" title="K (oK) – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>65</s> 62 bytes</h1>



<pre class="lang-c prettyprint-override"><code>c,d;f(a,b)int*a;{for(;c=d=b--;a[b]=d)for(;c--;d-=a[c]!=a[b]);}
</code></pre>

<p><a href="https://tio.run/##JUtLCsIwEN33FLUgZGwCrWA345wkZDGdUJmFVYq7kLPHRDfv/8Q9RMqTdTeQOt0/PftA6Wbnq52nHzaRsdsM2wUqvw7TdkoT6n1BHUd4HzXZzHCO/WDZa6i7XMRGbK8VanthTO2KQpFW55D9GijCP6s@OmIv4UStAMylfAE" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<p>-2 bytes thanks to <a href="https://codegolf.stackexchange.com/questions/178500/enumerate-each-series-of-identical-numbers-in-place/178724?noredirect=1#comment430784_178724">ASCII-only</a></p>

<hr>

<p>This felt too straightforward, but I couldn't seem to get any shorter with a different approach.</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://www.microsoft.com/net/core/platform" rel="nofollow noreferrer">C# (.NET Core)</a>, 172 bytes</h1>

<p>Without LINQ.  <code>0</code> indexed <code>int[]</code> arrays.</p>



<pre class="lang-cs prettyprint-override"><code>p=&gt;{int h=0,m=0,l=p.Length,j;var k=new int[l];if(l&gt;0){foreach(int z in p){h=z&gt;h?z:h;m=z&lt;m?z:m;}for(j=m;j&lt;=h;j++,m=0)for(int z=0;z&lt;l;z++)k[z]=p[z]==j?m++:k[z];}return k;}
</code></pre>

<p><a href="https://tio.run/##tZBLb4MwDIDv/AqrJyKyitJ2j4bQw6SdNmnSDjt0HBhNC5QExKPTgvjtzEGddpm0w4QsP2LH/izH9VVcVGJo61Qd4eWzboRkVpxHdQ3PVXGsItlZAGX7nqcx1E3UoDsX6R6eolTZxBQBHloV@6lqdiGF0QWwBz6UPOjwCQl3qUTNeTl/FOrYJDRj56iCE1fiY@zIQ5Ye7DxwSXfAfaI4sU2nxiKUpEu4DpKt3iRMcu1LjCTr8aOdcckynycscxzDICY5dnKXaT9n2nHIaadDXhrDs610nI1JsL4STVspOLHesqyBWRcw/JD39vd@IXQ9IZcDze8LVRe5mL9WaSNsDQ7MYEbYr9XZm8LSX8NX3qTjbyjKpISFSz2XLt1JIWu68CiSjDXBpDAPb7agt9RDvfhJeUukrFDX9A5Z1@iXJv4fs0cZvgA" rel="nofollow noreferrer" title="C# (.NET Core) – Try It Online">Try it online!</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/Attache" rel="nofollow noreferrer">Attache</a>, 23 bytes</h1>

<pre><code>{`~&amp;&gt;Zip[_,_[0:#_::0]]}
</code></pre>

<p><a href="https://tio.run/##NYs7C0IxDIX3/oqC4pShj3t9FHRxFwcnS6jl2qt3kWK7if71mqJNSM45X4jP2Q/3UEZutry8Lp/F7jxF68BZYWbOGIH4LocQrsnOYxxuyI7P6ZFPIeW9TyHZEbhlnMoi/LRTza2AugUpQAnQouUepAKCdVfTuKInCWtQNH9tJ02go@lhQ3hJqqtHhli@" rel="nofollow noreferrer" title="Attache – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<pre><code>{`~&amp;&gt;Zip[_,_[0:#_::0]]}
{                     }    _: input (e.g., [5, 12, 10, 12, 12, 10])
             0:#_          range from 0 to length of input (inclusive)
                           e.g., [0, 1, 2, 3, 4, 5, 6]
                 ::0       descending range down to 0 for each element
                           e.g., [[0], [1, 0], [2, 1, 0], [3, 2, 1, 0], [4, 3, 2, 1, 0], [5, 4, 3, 2, 1, 0], [6, 5, 4, 3, 2, 1, 0]]
           _[       ]      get input elements at those indices
                           e.g., [[5], [12, 5], [10, 12, 5], [12, 10, 12, 5], [12, 12, 10, 12, 5], [10, 12, 12, 10, 12, 5], [nil, 10, 12, 12, 10, 12, 5]]
     Zip[_,          ]     concatenate each value with this array
                           e.g., [[5, [5]], [12, [12, 5]], [10, [10, 12, 5]], [12, [12, 10, 12, 5]], [12, [12, 12, 10, 12, 5]], [10, [10, 12, 12, 10, 12, 5]]]
   &amp;&gt;                      using each sub-array spread as arguments...
 `~                            count frequency
                               e.g. [12, [12, 10, 12, 5]] = 12 ~ [12, 10, 12, 5] = 2
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="http://pari.math.u-bordeaux.fr/" rel="nofollow noreferrer">Pari/GP</a>, 32 bytes</h1>

<pre><code>a-&gt;p=0;[polcoeff(p+=x^t,t)|t&lt;-a]
</code></pre>

<p>The <span class="math-container">\$k\$</span>-th element in the answer is the coefficient of the <span class="math-container">\$x^{a_k}\$</span> term in the polynomial <span class="math-container">\$\sum_{i=1}^kx^{a_i}\$</span>.</p>

<p><a href="https://tio.run/##LYrbCsIwEER/JfQpwQ3k0npB0x8pERYxUijtUvKg4L/HXZBlZs4MS7jP9kWtqNTQjpTcdaJteWzPUjQd0vteoZpvvVnMDYmWj0ZlR0X7vFbGTkqnikZjQE1TZuuD@An4BLyD4CA64QF8AB7EBWQL/OjhDIH1T5kjl541wIWnI2cUztm0Hw" rel="nofollow noreferrer" title="Pari/GP – Try It Online">Try it online!</a></p>
</div>
<div id="pu21" class="pu"><h1><a href="https://www.r-project.org/" rel="noreferrer">R</a>, 27 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(x)ave(x,x,FUN=seq)
</code></pre>

<p><a href="https://tio.run/##NYvNCgIxDITvPoXHBEZo011/QK8evfkAUlrYgxV3Xenb1xQiYTJfJsnc8va8a3kt8TO9ClV@fBNVVFzvt8uS3twylfWZ5imSY95kijSIwQFaxt5BHML/ZoQXaNZ7B4tFPzyOEJW5bYLOg2rESdO9eujM3H4" rel="noreferrer" title="R – Try It Online">Try it online!</a></p>

<p><strong>Explanation :</strong></p>

<p><code>ave(x,x,FUN=seq)</code> splits vector <code>x</code> into sub-vectors using values of <code>x</code> as grouping keys.
Then <code>seq</code> function is called for each group and each result is re-arranged back in the original group position.</p>

<p>Better see an example :</p>

<pre class="lang-r prettyprint-override"><code>x &lt;- c(5,7,5,5,7,6)
ave(x, x, FUN=seq) # returns 1,1,2,3,2


 ┌───┬───┬───┬───┬───┐
 │ 5 │ 7 │ 5 │ 5 │ 7 │
 └───┴───┴───┴───┴───┘            
   |   |   |    |  |     
   ▼   |   ▼    ▼  |
 GROUP A : seq(c(5,5,5)) = c(1,2,3)
   |   |   |    |  |     
   ▼   |   ▼    ▼  |
 ┌───┐ | ┌───┬───┐ |
 │ 1 │ | │ 2 │ 3 │ |
 └───┘ | └───┴───┘ |
       ▼           ▼
 GROUP B : seq(c(7,7)) = c(1,2)
       |           |
       ▼           ▼
     ┌───┐       ┌───┐
     │ 1 │       │ 2 │
     └───┘       └───┘ 

   |   |   |   |   |
   ▼   ▼   ▼   ▼   ▼ 
 ┌───┬───┬───┬───┬───┐
 │ 1 │ 1 │ 2 │ 3 │ 2 │
 └───┴───┴───┴───┴───┘  
</code></pre>

<p>Note : </p>

<p><code>seq(y)</code> function returns a sequence <code>1:length(y)</code> in case <code>y</code> has <code>length(y) &gt; 1</code>, but returns a sequence from <code>1:y[1]</code> if <code>y</code> contains only one element.<br>
This is fortunately not a problem because in that case R <em>- complaining with a lot of  warnings -</em> selects only the first value which is incidentally what we want :)</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, 14</h1>

<ul>
<li>1 byte saved thanks to @NahuelFouilleul</li>
</ul>



<pre><code>{print++a[$1]}
</code></pre>

<p><a href="https://tio.run/##SyzP/v@/uqAoM69EWzsxWsUwtvb/f2MuQy4TIDblsuQy4jID0sYgNgA" rel="nofollow noreferrer">Try it online!</a></p>

<p>The above does one-based indexing.  If you prefer zero-based indexing, its an extra byte:</p>

<pre><code>{print a[$1]++}
</code></pre>

<p><a href="https://tio.run/##SyzP/v@/uqAoM69EITFaxTBWW7v2/39jLkMuEyA25bLkMuIyA9LGIDYA" rel="nofollow noreferrer" title="AWK – Try It Online">Try it online!</a></p>
</div>
<div id="pu23" class="pu"><h1>Perl 5, 11 bytes</h1>
<pre><code>$_=$h{$_}++
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3lYlo1olvlZb@/9/Yy5DLhMgNuWy5DLiMgPSxiD2v/yCksz8vOL/ugU5AA" rel="nofollow noreferrer">TIO</a></p>
<p>explanations following comment</p>
<ul>
<li><code>$_</code> perl's  special variable containing current line when looping over input (<code>-p</code> or <code>-n</code> switches)</li>
<li><code>$h{$_}++</code> autovivifies the map <code>%h</code> and creates an entry with key <code>$_</code> and increments and gives the value before increment</li>
<li>the special variable is printed because of <code>-p</code> switch, <code>-l</code> switch removes end of line on input and adds end of line on output</li>
</ul>
</div>
<div id="pu24" class="pu"><h1>bash, <s>37</s> 24 bytes</h1>
<pre><code>f()(for x;{ r+=$[a[x]++]\ ;};echo $r)
</code></pre>
<p><a href="https://tio.run/##NYo7CoAwEER7TzGFhZImH78ET6IWKgY7ITaCePY4W8iy894Ouy7XkVIoyiKcEbd/ENWQj8t4z0rNE/zr9@04kccyhSygsoxWhjQaVsNpag1j5ZYUYWX5ZdCR3U@2jl5xa/RsGtKJpw8" rel="nofollow noreferrer">TIO</a></p>
<p>if valid, there is also this variation, as suggested by DigitalTrauma</p>
<pre><code>for x;{ echo $[a[x]++];}
</code></pre>
<p><a href="https://tio.run/##S0oszvj/Py2/SKHCuporNTkjX0ElOjG6IlZbO5ar9v///8b/Df@bALHpf8v/Rv/NgLQxiA0A" rel="nofollow noreferrer">TIO</a></p>
</div>
<div id="pu25" class="pu"><h1>awk <s>46</s> 31 bytes</h1>

<p>-15 bytes thanks to @Dennis</p>

<pre><code>{for(;i++&lt;NF;)$i=a[$i]++;print}
</code></pre>

<p><a href="https://tio.run/##SyzP/l@dkpqTWpKqkahpnWlrUPu/Oi2/SMM6U1vbxs/NWlMl0zYxWiUzVlvbuqAoM6@k9v9/LhMjLnMFIOQyNFAwMlAwNuAyVTA0UgDyQCSIwWUElDdUsFAwAmIozWUMZJkAsamCJZBvBqSNQWwA" rel="nofollow noreferrer">TIO</a></p>
</div>
<div id="pu26" class="pu"><h1><a href="http://www.snobol4.org/csnobol4/" rel="nofollow noreferrer">SNOBOL4 (CSNOBOL4)</a>, 63 bytes</h1>

<pre><code> T =TABLE()
R I =INPUT :F(END)
 T&lt;I&gt; =OUTPUT =T&lt;I&gt; + 1 :(R)
END
</code></pre>

<p><a href="https://tio.run/##K87LT8rPMfn/XyFEwTbE0cnHVUOTK0jBU8HW0y8gNETByk3D1c9Fk0shxMbTTsHWPzQEJGoL5mkrGCpYaQRpcgFV/P9vyGXIZcRlzGUCAA" rel="nofollow noreferrer" title="SNOBOL4 (CSNOBOL4) – Try It Online">Try it online!</a></p>
</div>
<div id="pu27" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/reticular" rel="nofollow noreferrer">Reticular</a>, 17 bytes</h1>

<pre><code>L[ddc@c~]~*$qlbo;
</code></pre>

<p><a href="https://tio.run/##K0otyUwuzUks@v/fJzolJdkhuS62TkulMCfJ3/r/fwA" rel="nofollow noreferrer" title="Reticular – Try It Online">Try it online!</a></p>

<p>The input list of integers is assumed to already be pushed to the stack. Run the following code to test input:</p>

<pre><code>'2''7''1''8''2''8''1''8''2''8'lbL[ddc@c~]~*$qlbo;
</code></pre>

<h2>Explanation</h2>

<p>The pop instruction <code>c</code> which is supposed to: pop a list from the stack, pop the last element from that list and push this element to the stack. However, if the list occurs at more than 1 place in the stack (if it has been duplicated for example), <strong>all of the duplicated lists</strong> in the stack will also have their last element popped contrary to what one might think will happen. This is fortunately used in our favor in this puzzle.</p>

<pre><code>L                 # Push length of input list to the stack.
 [      ]         # Push the following function:
  dd              # Duplicate top of stack twice.
    c             # Pop the list at top of the stack,
                    pop the last element in the list (which will pop the element of every list!)
                    and finally push it to the stack.
     @c           # Pop two items at the top of the stack (list + last element in that list).
                    then push the number of occurrences of that element in the list.
       ~          # Swap top two items in the stack (so that the popped list is on top again).
         ~        # Swap top two items in the stack.
          *       # Call the above function the same number of times as length of the input list.
           $      # Remove the item at the top of the stack (which by now is an empty list).
            q     # Reverse stack.
             lb   # Push size of stack and put that many items from the stack into a list.
               o; # Output resulting list and exit.
</code></pre>
</div>
<div id="pu28" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>47</s> 46 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>(#(*0))
(x:r)#g=g x:r# \y-&gt;0^(y-x)^2+g y
e#g=e
</code></pre>

<p><a href="https://tio.run/##XU/NToNAEL7vU0yoB7BbhaXV2nS9ePXmkdKE0CltpIDsNoXGsw/gI/og4ixCg7JhZ@b7mQ92kXrFNG22ctXYI/vadRxmV4vSGSUyAWpGsKonj@7aria1sxbjBGqGRGJziPYZSNjkDEDh2xGzGAGr6FCkqAizvz4@g9CBGygx2oBcLiFB/ZRnGjOtGKsUkALOipYUR/2iy@cMrkDt8hMQNx6D1Qos07Zo3aJYFRhr3FDEaYclUgVDSdiSr50GEvO8G/pWmihSWStt94LFYPv5N9OxLq5c0/7TXqFxWYz1PweSJAEEYft9QUgTh2AqutntgHtOp8e4x0WHey4XLvfdC0Wno2bcE5x4c5tmKDEbuNcJBe32@JyQeV//aI3aax2C@53Hp3lK74w/EHpH1Tf9v4yhv8sLmyD8jrdplKhmEhfFDw" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>A different approach than <a href="https://codegolf.stackexchange.com/a/178549/56433">BMO's answer</a> which turned out a bit longer. (And kindly borrows their nice test suit.)</p>

<p>The idea is to iterate over the input list and keep track of the number of times each element has occurred by updating a function <code>g</code>. Ungolfed:</p>

<pre class="lang-hs prettyprint-override"><code>f (const 0)
f g (x:r) = g x : f (\ y -&gt; if x==y then 1 + g y else g y) r
f g []    = []
</code></pre>

<p>Two interesting golfing opportunities arose. First for the initial value of <code>g</code>, a constant function which disregards its argument and returns <code>0</code>:</p>

<pre class="lang-hs prettyprint-override"><code>const 0  -- the idiomatic way
(\_-&gt;0)  -- can be shorter if parenthesis are not needed
min 0    -- only works as inputs are guaranteed to be non-negative
(0*)     -- obvious in hindsight but took me a while to think of
</code></pre>

<p>And secondly an expression over variables <code>x</code> and <code>y</code> which yields <code>1</code> if <code>x</code> equals <code>y</code> and <code>0</code> otherwise:</p>

<pre class="lang-hs prettyprint-override"><code>if x==y then 1else 0  -- yes you don't need a space after the 1
fromEnum$x==y         -- works because Bool is an instance of Enum
sum[1|x==y]           -- uses that the sum of an empty list is zero
0^abs(x-y)            -- uses that 0^0=1 and 0^x=0 for any positive x
0^(x-y)^2             -- Thanks to  Christian Sievers!
</code></pre>

<p>There still might be shorter ways. Anyone got an idea?</p>
</div>
<div id="pu29" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 44 bytes</h1>



<pre class="lang-python prettyprint-override"><code>a=[]
for x in input():print a.count(x);a+=x,
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/r/P9E2OpYrLb9IoUIhMw@ICkpLNDStCooy80oUEvWS80vzSjQqNK0TtW0rdP7/jzbWMdQxAWJTHUsdIx0zIG0MYscCAA" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>The first thing I wrote tied Chas Brown's 43, so here's a different solution that's one byte longer.</p>
</div>
<div id="pu30" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, 15 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>*&gt;&gt;.&amp;{%.{$_}++}
</code></pre>

<p><a href="https://tio.run/##K0gtyjH7n1upoJamYKvwX8vOTk@tWlWvWiW@Vlu79r81V3FipUKaRnSsJpxpYoTEMdcBQiS@oYGOkYGOsQGSkKmOoZEOUBxEghhIUkZA3YY6FjpGQAylkWSNgWImQGyqYwmUMQPSxiA2UMV/AA" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>

<p>You can move the <code>++</code> to before the <code>%</code> for a one based index.</p>

<h3>Explanation:</h3>

<pre class="lang-perl6 prettyprint-override"><code>*&gt;&gt;.&amp;{        }  # Map the input to
      %          # An anonymous hash
       .{$_}     # The current element indexed
            ++   # Incremented
</code></pre>
</div>
<div id="pu31" class="pu"><p><strong>GO 121 Bytes (Not included new lines and tabs)</strong></p>

<pre><code>func cg(a []int) []int{
    var m = make(map[int]int)
    var r = make([]int, len(a))
    for i,v := range a{
        r[i] = m[v]
        m[v]++
    }
    return r
}
</code></pre>

<p>Accepts integer array and returns integer array.</p>
</div>
<div id="pu32" class="pu"><h1>Haxe, 58 bytes</h1>

<pre><code>l-&gt;{var x=[0=&gt;0];l.map(e-&gt;++x[(x[e]==null?x[e]=0:0)+e]);};
</code></pre>

<p>(Requires arrow functions, so 4.0+)</p>

<p><code>var x=[0=&gt;0]</code> declares a new <code>IntMap</code>, with <code>0</code> as its only key (since the question say inputs are strictly positive). Unfortunately most targets throw when adding <code>null</code> to a number, hence the explicit check to make sure each key is in the map before incrementing.</p>

<p>Also a cheeky rip off based on the JS answer:</p>

<h1>Haxe (JS target), 41 bytes</h1>

<pre><code>l-&gt;{var x=[0=&gt;0];l.map(e-&gt;x[e]=-~x[e]);};
</code></pre>

<p><a href="http://try-haxe.mrcdk.com/#485c4" rel="nofollow noreferrer">Try both online</a></p>
</div>
<div id="pu33" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 34 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;a{r=[];a.map{|x|(r&lt;&lt;x).count x}}
</code></pre>

<p><a href="https://tio.run/##KypNqvyfZvtf1y6xusg2OtY6US83saC6pqJGo8jGpkJTLzm/NK9EoaK29n@BQlp0dGwsF5g2MYKxzHWAEMYxNNAxMtAxNoDxTXUMjXSAgiASxICJGwE1GepY6BgBMZSGSRkDBUyA2FTHEihsBqSNQezY2P8A" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu34" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 44 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>([]#)
x#(y:z)=sum[1|a&lt;-x,a==y]:(y:x)#z
_#e=e
</code></pre>

<p><a href="https://tio.run/##XU/NToNAEL7zFBPwAOlW@Wm1Nt2TV28e140hdPoTKWB3m1LSsw/gI/og4ixdGpQFZub7G9ik6h3zvF3x19YX0guc2vNP8ybg6rAT0TldjGuWcn6Sc4LrwGucNw85trt0WwCHZekAKPw4YJEhYJ3uqhwVYf7355eQAdzCHtMl8MUC1qifykJjoZXj1ApIAY2ikOqgX/T@uYAbUJvyCMSNRuB2Ate0HXrqUKwrzDQuacVxg3ukCobisCJfNw0k5job@o6bVaRyX7XfC@aD9OayM3CvrlJT/nGr0Lhcx@l/DjhJBAjZfZ@QNDEQk9jOoQUeGJ0eYxGLLR6FLA5ZEl4pOpaasihmxJu3aYYSk8AiK4wpO2IzQmZ9/aM16qhzxCyxnoTmCT1T9kjoPdXE9P92DP12n2xFl3a52bWXP9kqT9eqHWdV9Qs" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<p>Traverses the list from left to right keeping the list <code>x</code> of visited elements, initially <code>[]</code>:</p>

<p>For every encounter of a <code>y</code> count all equal elements in the list <code>x</code>.</p>
</div>
<div id="pu35" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>62</s> 43 bytes</h1>



<pre class="lang-r prettyprint-override"><code>x=z=scan();for(i in x)z[y]=1:sum(y&lt;-x==i);z
</code></pre>

<p>-19 bytes thanks to Giuseppe, by removing which, and table, and only slight changes to the implementation</p>

<p><strong>Original</strong></p>

<pre class="lang-r prettyprint-override"><code>x=z=scan();for(i in names(r&lt;-table(x)))z[which(x==i)]=1:r[i];z
</code></pre>

<p>I can't compete with Giuseppe's knowledge, so my submission is somewhat longer than his, but using my basic knowledge, I felt that this solution was rather ingenious.</p>

<p><code>r&lt;-table(x)</code> counts the number of times each number appears and stores it in r, for future reference</p>

<p><code>names()</code> gets the values of each unique entry in the table, and we iterate over these names with a for loop. </p>

<p>The remaining portion checks which entries are equal to the iterations and stores a sequence of values (from 1 to the number of entries of the iteration) </p>

<p><a href="https://tio.run/##K/r/v8K2yrY4OTFPQ9M6Lb9II1MhM08hLzE3tVijyEa3JDEpJ1WjQlNTsyq6PCMzOUOjwtY2UzPW1tCqKDoz1rrqvymXoRGXoQGYBDH@AwA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
</div>
<div id="pu36" class="pu"><h1>Japt, 8 bytes</h1>
<pre><code>£¯YÄ è¶X
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=o69ZxCDotlg=&amp;input=WzMsMSw0LDEsNSw5LDIsNiw1LDMsNSw5XQ==" rel="nofollow noreferrer">Try it here</a></p>
<pre><code>£¯YÄ è¶X
             :Implicit input of array U
£            :Map each X at 0-based index Y
 ¯           :  Slice U to index
  YÄ         :    Y+1
     è       :  Count the elements
      ¶X     :    Equal to X
</code></pre>
</div>
<div id="pu37" class="pu"><h1>Ruby, 35 bytes</h1>
<pre><code>-&gt;a{f=Hash.new 0;a.map{|v|f[v]+=1}}
</code></pre>
<p>It's pretty mundane, unfortunately - build a hash that stores the total for each entry encountered so far.</p>
<p>Some other, fun options that unfortunately weren't quite short enough:</p>
<pre><code>-&gt;a{a.dup.map{a.count a.pop}.reverse}   # 37
-&gt;a{i=-1;a.map{|v|a[0..i+=1].count v}}  # 38
</code></pre>
</div>
<div id="pu38" class="pu"><h1><a href="http://tcl.tk/" rel="nofollow noreferrer">Tcl</a>, 48 bytes</h1>

<pre><code>proc C L {lmap n $L {dict g [dict inc D $n] $n}}
</code></pre>

<p><a href="https://tio.run/##LY7NCsIwEITveYo59AGSTevPuR59g7YHiSCFGoPGU9hnj5Miy@x8OwwkOWy1pvcrYMQVZXveEiI64n0NGQ9Mu68x4IIuLpRq3WvsmKKm9MJ1BIfuLMTCW@IAJ@DddgNGwpbDCUL9nakn99SAM5MD3TdWGEVJ3/zBXKaRn1pmvv0D" rel="nofollow noreferrer" title="Tcl – Try It Online">Try it online!</a></p>
</div>
<div id="pu39" class="pu"><h1><a href="http://jdk.java.net/" rel="nofollow noreferrer">Java (JDK)</a>, 76 bytes</h1>



<pre class="lang-java prettyprint-override"><code>a-&gt;{for(int l=a.length,i,c;l--&gt;0;a[l]=c)for(c=i=0;i&lt;l;)c+=a[l]==a[i++]?1:0;}
</code></pre>

<p><a href="https://tio.run/##hVFdT4MwFH3fr7ghMQFXCB9T5zowxmeffCQ81A5mZymkLTPLwm/HUpySGGPS3p6ec3pvb3sgR@Ifdu8Dq9tGajiYfdBpxoNrvPjFVZ2gmjViFCknSsEzYQLOC4C2e@WMgtJEm@XYsB3URnNftGRinxdA5F551grw1AjV1aXcMqHzIoMK0oH42blqpGso4CkJeCn2@g0xRDH3/SzEJOdFSr3RQ1OWhphtOfboMrWCiWy5LB6iTYj7AdsyRyJBl0orSEGUH2Cr5cV0B4Az9OgbruL57g7ZMaeiEEFsZhLO2RsEUYysaFeL54bYZooQrNGI13M89yVWWNlokt5bx63FycRc3P3UnA3jY1y63Ey9Xt4Y4OWkdFkHTaeD1nyCrlznyk9CBX4GDoJHKclJBbqZvsgdT3uBLFtOaOk6xuI4noe/klUBobRs9WTDf5Tgwv0/Lfzk7Rfj7IdP" rel="nofollow noreferrer" title="Java (JDK) – Try It Online">Try it online!</a></p>

<h2>Credits</h2>

<ul>
<li>-2 bytes thanks to <a href="https://codegolf.stackexchange.com/users/52210/kevin-cruijssen">Kevin Cruijssen</a></li>
</ul>
</div>
<div id="pu40" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a>, 44 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>x=&gt;x.Select((y,i)=&gt;x.Take(i).Count(z=&gt;z==y))
</code></pre>

<p><a href="https://tio.run/##Sy7WTS7O/O9Wmpds4@maV5qbWpSYlJNqk5lXYqeDLmCnkKZg@7/C1q5CLzg1JzW5REOjUidTE8QPScxO1cjU1HPOL80r0aiytauyta3U1PxvzRVQBNSqkaaRl1oeHVttrgOEtZqa6OKmOoZGOoYGYBLEACn5DwA" rel="nofollow noreferrer" title="C# (Visual C# Interactive Compiler) – Try It Online">Try it online!</a></p>
</div>
<div id="pu41" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 41 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(x)diag(diffinv(outer(x,x,"==")))
</code></pre>

<p><a href="https://tio.run/##NY7dCsMwCIXv9xSjVwoOEtPuB9qHGWkduVgKoRl5@8xAiuj5PCqYqlznW5Uc/RH2CAXX8P7AGkRC/MGejy1BoULDsgyIWAVi/m4peDCIFwEPI3d4kEZna4gNuXNnIsukXqsNus16YelJrNm1T5z2o@ZEL3Xvqq6xPvAH" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>Oddly, returning a zero-based index is shorter in R.</p>
</div>
<div id="pu42" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 7 bytes</h1>



<p>Many, many thanks to H.PWiz, Adám and dzaima for all their help in debugging and correcting this.</p>

<pre class="lang-apl prettyprint-override"><code>+/¨⊢=,\
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///X1v/0IpHXYtsdWL@pz1qm/Cob6pXsL/fo44ZGo96@4A8T/9HXc2H1hs/apsI5AUHOQPJEA/PYE2gEqji/2kK6tGx6lwgysQIyjDXAUIo29BAx8hAx9gAyjXVMTTSAYqBSBADKmwE1GGoY6FjBMRQGipjDOSbALGpjiVQ1AxIG4PYseoA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<p>The 10-byte non-tacit version will be easier to explain first</p>

<pre class="lang-apl prettyprint-override"><code>{+/¨⍵=,\⍵}

{         } A user-defined function, a dfn
      ,\⍵  The list of prefixes of our input list ⍵
           (⍵ more generally means the right argument of a dfn)
           \ is 'scan' which both gives us our prefixes 
           and applies ,/ over each prefix, which keeps each prefix as-is
    ⍵=     Checks each element of ⍵ against its corresponding prefix
           This checks each prefix for occurrences of the last element of that prefix
           This gives us several lists of 0s and 1s
 +/¨       This sums over each list of 0s and 1s to give us the enumeration we are looking for
</code></pre>

<p>The tacit version does three things</p>

<ul>
<li>First, it removes the instance of <code>⍵</code> used in <code>,\⍵</code> as <code>,\</code> on the right by itself can implicitly figure out that it's supposed to operate on the right argument.</li>
<li>Second, for <code>⍵=</code>, we replace the <code>⍵</code> with <code>⊢</code>, which stands for right argument</li>
<li>Third, now that we have no explicit arguments (in this case, <code>⍵</code>), we can remove the braces <code>{}</code> as tacit functions do not use them</li>
</ul>
</div>
<div id="pu43" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 4 bytes</h1>

<pre><code>ċṪ$Ƥ
</code></pre>

<p><a href="https://tio.run/##y0rNyan8//9I98Odq1SOLfn//3@0qY6hkY6hAZgEMWIB" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>For each prefix of the input list, it counts the number of occurrences of its last element in itself.</p>
</div>
<div id="pu44" class="pu"><h2>Batch, 61 bytes</h2>

<pre><code>@setlocal
@for %%n in (%*)do @set/ac=c%%n+=1&amp;call echo %%c%%
</code></pre>

<p>1-indexed. Because variable substitution happens before parsing, the <code>set/a</code> command ends up incrementing the variable name given by concatenating the letter <code>c</code> with the integer from the list (numeric variables default to zero in Batch). The result is then copied to another integer for ease of output (more precisely, it saves a byte).</p>
</div>
<div id="pu45" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>47</s> 43 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda a:a and f(a[:-1])+[a.count(a[-1])]
</code></pre>

<p><a href="https://tio.run/##VU5dC8IwDHz3VxR8cRi1H5vOgb@k9KE6hoJ2Q@aDv75e3KYdIU1yuVyve/fXNugYm9PdP861F75Chlo0K2@rjXLZ2vrtpX2FHgDPLnbPW@hBsC4TS2HdzrrFD8v1gErAKsEPhBhXpEjzmjSZhKIkaUlGTizEl4VIWAUpTaDyy03CZl1wxxtWxz//Sw0Likrg5VTTY0nTGduaRIaZpQzliZjBJkcWdMR2j2q4n7tJhefOUnF2GT8" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>A recursive 'one-based' solution.</p>
</div>
<div id="pu46" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 4 bytes</h1>

<pre><code>ηε¤¢
</code></pre>

<p><a href="https://tio.run/##yy9OTMpM/f//3PZzWw8tObTo//9oYx1DHRMgNtWx1DHSMQPSxiB2LAA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a>
or as a <a href="https://tio.run/##yy9OTMpM/W/u9v/c9nNbDy05tOh/rc7/6FiuaBMjIGGuA4RA2tBAx8hAx9gAyDTVMTTSAfJBJIgBFDICqjLUsdAxAmIoDRQ1BrJNgNhUxxIoYgakjUHsWAA" rel="nofollow noreferrer">Test Suite</a></p>

<p><strong>Explanation</strong></p>

<pre><code>ηε     # apply to each prefix of the input list
  ¤¢   # count occurrences of the last element
</code></pre>
</div>
<div id="pu47" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 30 bytes</h1>

<pre><code>\b(\d+)\b(?&lt;=(\b\1\b.*?)+)
$#2
</code></pre>

<p><a href="https://tio.run/##LYlLCoAwDET3uYYurA3SpvUHihfJxqILNy7E@9cpSJh5b8hzvte956yp0cMaYFvWRpN6TV27GWuoriRnikIj48g7FsfBUc9eGKt0ERL8PU8syE8KsIj0PGMPYCj@AQ" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. 1-indexed. Explanation: The first part of the regex matches each integer in the list in turn. The lookbehind's group matches each occurrence of that integer on that line up to and including the current integer. The integer is then substituted with the number of matches.</p>
</div>
<div id="pu48" class="pu"><h1>JavaScript (ES6), 26 bytes</h1>
<p>1-indexed.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map(o=x=&gt;o[x]=-~o[x])
</code></pre>
<p><a href="https://tio.run/##dc7NDoIwDADgu0/BEZIC@wHFw3gRwmFBMBpkRIzh5KvPFoMSB2u2Llm/dlf91EN1v/SPsDOn2jbKapXr6KZ736hR5aYYSxW@KAW2Mt1g2jpqzdlv/KIMAm9jxbFXlLu/@kRsCqrnDjgAxrqZAAiQDuIMBAPJVtwHYTgoBS4AJZ10WeAvomkgHCrwkxwyfM3mPOsfJSymBhISp4XE9wR3Ckes2WOWdKc2y@nLVvQT@wY" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>a =&gt;                // a[] = input array
  a.map(o =         // assign the callback function of map() to the variable o, so that
                    // we have an object that can be used to store the counters
    x =&gt;            // for each value x in a[]:
      o[x] = -~o[x] //   increment o[x] and yield the result
                    //   the '-~' syntax allows to go from undefined to 1
  )                 // end of map()
</code></pre>
</div>
<div id="pu49" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 48 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda a:[a[:i].count(v)for i,v in enumerate(a)]
</code></pre>

<p><a href="https://tio.run/##VU7bDoIwDH33K5b4Akmju4AiiV8y9zAVIokMQoDEr8dWwJQ0W7uey0776V9N0FN5vU1vX9@fXvjceptX7vBohtBHY1w2nahgFFUQRRjqovN9EfnYTW1XhV6UkXWx2Avrjtbtdv9loue1xL3iwBmwFgwUaMJBg@EcJUFLMHKlYf1oWJyWgtKAXLppYHRyRvIiIn/8iUk1plCQIZCtnaslrDpKtrrMb/IykHA3g1CCJ4ULwifshuZtHu68zcbdKef0BQ" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/178500/">178500</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




