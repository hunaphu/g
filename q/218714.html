<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::218714</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>080</td><td>Wolfram Language Mathematica</td><td>210207T200840Z</td><td><a href="https://codegolf.stackexchange.com/questions/218714/next-to-the-middle/218727#218727">att</a></td></tr>
<tr d-ix="1"><td>033</td><td>Stax</td><td>210208T104028Z</td><td><a href="https://codegolf.stackexchange.com/questions/218714/next-to-the-middle/218758#218758">Razetime</a></td></tr>
<tr d-ix="2"><td>021</td><td>05AB1E</td><td>210208T093244Z</td><td><a href="https://codegolf.stackexchange.com/questions/218714/next-to-the-middle/218757#218757">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>061</td><td>Charcoal</td><td>210207T205959Z</td><td><a href="https://codegolf.stackexchange.com/questions/218714/next-to-the-middle/218728#218728">Neil</a></td></tr>
<tr d-ix="4"><td>020</td><td>Jelly</td><td>210207T172810Z</td><td><a href="https://codegolf.stackexchange.com/questions/218714/next-to-the-middle/218723#218723">Jonathan</a></td></tr>
<tr d-ix="5"><td>022</td><td>Jelly</td><td>210207T165305Z</td><td><a href="https://codegolf.stackexchange.com/questions/218714/next-to-the-middle/218722#218722">xigoi</a></td></tr>
<tr d-ix="6"><td>165</td><td>JavaScript ES6</td><td>210207T133907Z</td><td><a href="https://codegolf.stackexchange.com/questions/218714/next-to-the-middle/218717#218717">Arnauld</a></td></tr>
<tr d-ix="7"><td>076</td><td>J</td><td>210207T135506Z</td><td><a href="https://codegolf.stackexchange.com/questions/218714/next-to-the-middle/218718#218718">xash</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>81</s> 80 bytes</h1>
<pre><code>Min@Cases[#,a_/;!a#&amp;&amp;#~FreeQ~a&amp;@{Mean@#,Sort@#//._[_,a__,_]:&gt;a,Commonest@#}]&amp;
</code></pre>
<p><a href="https://tio.run/##jZHPasJAEMbvPkVKIKfZ6uzf2ZaWgNCb0OJRJCySUg9GUG@iz9C36WP1Eey3Se2xGDLLzs5vvpnd2aTDR7tJh/UqXd6fLrN1V0/Tvt0vSkrN@PEufX9@lVVVnl92bft2TlV9nLWpq0uab3eHuhyP75tFA7ahZvnwnGi63Wy2XbtH7LSsLq@7dXdYlOr5vS6X1Xm@St35ODoGKhwVmgqhYtJvIhWmP2S4Jxod9dVjmOIe4j8ESS5TTkNBGbaDSISM8t73AP4gt0DxXwgFFcz2XSmxufGJzg35OEQ5TMKvq6@UuYFylpTWpKIx5Kwlwf0sG0c5wNH2h8rBM5lAM9mUyzloA5ZlIqheyHshMTb6QI4DtIxm5xES4yGSC3ltBYnaGSOBVPAcUCbfml0EEESYNSGs8RCDiojTKICqgjNlmZ1AU7yLHDx5KGNEAQpQFpfhXCJ/ub1hcqafMF44XDf5SakYhoA1gAWcM06j0@UH" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p><code></code> is <code>\[VectorLessEqual]</code>.</p>
<p>Returns <code>Infinity</code> if such a number does not exist.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 33 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ç∞♫ÑÄ‼ú╘màk■g5øg◘U½¢┴Åû)*ç╨£╨├╡óà
</code></pre>
<p><a href="https://staxlang.xyz/#p=80ec0ea58e13a3d46d856bfe673500670855ab9bc18f96292a87d09cd0c3b5a285&amp;i=%5B+7,+5,+2,+8,+0,+2,+9,+3,+5,+1,+2+%5D%0A%5B+2,+5,+1,+11,+-1,+2,+13,+5,+1,+0,+5+%5D%0A%5B+528,+-314,+2,+999,+-666,+0,+0,+78+%5D%0A%5B+528,+-314,+2,+999,+-666,+0,+0,+79+%5D%0A%5B+528,+-314,+2,+999,+-666,+5,+-5,+42+%5D%0A%5B+-845,+2021,+269,+5,+-1707,+269,+22+%5D%0A%5B+-843,+2021,+269,+5,+-1707,+269,+22+%5D%0A%5B-54,-22,-933,544,813,4135,54,-194,544,-554,333,566,566,-522,-45,-45%5D%0A%5B95444,-22668,834967,51713,321564,-8365542,-962485,-253387,-761794,-3141592,-788112,533214,51713,885244,522814,-41158,-88659176,654211,74155,-8552445,-22222%5D%0A%5B+1,+2,+3,+9,+8,+7,+9,+8,+5,+4,+6,+0,+6,+7+%5D&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
<p>Getting the middle two elements takes most of the space here. Reducing that would significantly improve the score.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 21 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>¢ZQÏIÅAI{Ås)˜WUKʒX›}ß
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//0KKowMP9nodbHT2rD7cWa56eEx7qfWpSxKOGXbWH5///H21qZKGja2xoomOkY2lpqaNrZmamYwCE5haxAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##fVGxSgQxEP2V4zphAjtJZjKpDmsrC1FcrlCwsLI4EA4RbM5WuVoQ7Gz2Ayx3O/2L@5H1zXqtF0jIzJt5b/Jyt7q6vr0Z79eL@Wz3vJ3NF@vhtf8c@4/L0@Gl74bNcd89DJvV0c9b363Oz06@txe7p6/H4X2ksW0LCUUyanBWSoiY4pLaON2YKSAm/gMaEkASjULi7B21UlBVIA0VOwTWf0ChIJRdMljGLE2EoFbPc2nKdI97OB2CJVOIkUJNGDZnMgydOQk5wDVPySCIkle4NHYQ74EwNlgqiiYeVSNLuSoM4gKqFFkUkCUFh@tozIa@KClZoVCUC1T8fSwVBcWMGT4mtOY9i5lECEDUkAuZWWCJmUrloqRghucFDGA28WKX8IXp/CsSvsmoTCeMI7dXqSyXvw" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>        #Mode:
¢       # Count how many times each value occurs in the (implicit) input-list
 Z      # Get the maximum of these counts (without popping the list)
  Q     # Check for each if it's equal to this maximum count
   Ï    # Only leave the values in the (implicit) input-list at the truthy indices
        #Mean:
IÅA     # Push the input; pop and push its mean
        #Median:
I{      # Push the input; sort it
  Ås    # Pop and push the middle (one or two) values
)       # Wrap all three into a list
 ˜      # And flatten it
W       # Push the minimum of this list
 U      # Pop and store it in variable `X`
  K     # Remove all medium, mean, and mode values from the (implicit) input-list
   ʒ    # Filter the remaining values by:
    X›  #  Check if it's larger than `X`
   }ß   # After the filter: pop and push the minimum
        # (after which it is output implicitly)
</code></pre>
<p>Although 05AB1E does have builtins for all three: mean (<a href="https://tio.run/##yy9OTMpM/f//cKvj///RpjpGOsY6umZAwhDINIkFAA" rel="nofollow noreferrer"><code>ÅA</code></a>); median (<a href="https://tio.run/##yy9OTMpM/f//cGuuDlf14dZinf//o011jHSMdXTNgIQhkGkSCwA" rel="nofollow noreferrer"><code>Åm</code></a>); and mode (<a href="https://tio.run/##yy9OTMpM/f9fz1eH69CiqMDD/Tr//0eb6hjpGOvomgEJQyDTJBYA" rel="nofollow noreferrer"><code>.M</code></a>), the median takes the average of the two values for even-length lists, and the mode only results in a single most frequent value instead of all, which is why we'll do those manually. In the legacy 05AB1E version the <a href="https://tio.run/##MzBNTDJM/f9fz/f//2hTHSMdYx1dMyBhCGSaxAIA" rel="nofollow noreferrer"><code>.M</code> mode builtin did result in all most frequent values</a> instead of just one, but unfortunately the legacy version doesn't have a median nor middle builtin, and doing that manually would be even longer.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 61 bytes</h1>
<pre><code>Ｗ⁻θυＦ№ι⌊ι⊞υ⌊ι≔✂υ⊘⊖Ｌθ⊕⊘Ｌθ¹υ≔Ｅθ№θιηＦ⌕Ａη⌈η⊞υ§θι⊞υ∕ΣθＬθＩ⌊Φ⁻θυ›ι⌊υ
</code></pre>
<p><a href="https://tio.run/##VZBPa8MwDMXv/RQ6KuDBujG2kVNo6R9YYdBj6cEkai1wnMWxs377TM7aLfVJfu9Z@lml0b5stB2Gb8OWAHfsYoetgphlcGo84KKJLiArEIvrWCNnYn3GzmC8E/NZ0XV8dri3XFIyN9r2VOGSSk81uSD1B7lzMNhKDwVb929cs3f@PEscf313@iuR/QJJwSljxB85V@yqwlo0AqUvI5SZkhZh6yq6XB/ms5u@5J4rwr3kW@k3AZCMZxm10F3A20dXbAP56Z4UrD3pJE6WJOtLJx@GwwFeFbwoeFLwpuBxLN4VPI/iXK5wPA4Pvf0B" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs <code>None</code> if no suitable value exists. Explanation: Not an ideal challenge for Charcoal.</p>
<pre><code>Ｗ⁻θυ
</code></pre>
<p>While the sorted list does not contain all of the input values...</p>
<pre><code>Ｆ№ι⌊ι⊞υ⌊ι
</code></pre>
<p>... push the next value to the sorted list according to the number of times it appears.</p>
<pre><code>≔✂υ⊘⊖Ｌθ⊕⊘Ｌθ¹υ
</code></pre>
<p>Slice the middle element(s) from the sorted list.</p>
<pre><code>≔Ｅθ№θιη
</code></pre>
<p>Tabulate how many times each element appears in the list.</p>
<pre><code>Ｆ⌕Ａη⌈η
</code></pre>
<p>Loop over the indices of maximum counts, ...</p>
<pre><code>⊞υ§θι
</code></pre>
<p>... pushing the original value to the list of averages.</p>
<pre><code>⊞υ∕ΣθＬθ
</code></pre>
<p>Finally, push the mean to the list of averages.</p>
<pre><code>Ｉ⌊Φ⁻θυ›ι⌊υ
</code></pre>
<p>Remove all of the averages from the input, then also filter out values lower than all of the averages, and print the minimum of the remainder (if any).</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 20 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>L‘HịṢ;Æm;ÆṃµṂ³&gt;Ƈḟȯ.Ṃ
</code></pre>
<p>A full program accepting a list of numbers which prints the <em>next to the middle</em> or <code>0.5</code> if there is none.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9/nUcMMj4e7ux/uXGR9uC0XiB/ubD609eHOpkOb7Y61P9wx/8R6PSDv////0QqmRhY6CrrGhiY6CkY6CpaWlkCemZmZjoIBGJlbKMQCAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<p>Or see the <a href="https://tio.run/##jVIxTgQxDOx5xbZIzmntxIkjJGoKfrC6kgYdD6BDIHEFH6BDoqOBCokT3Z6E@MbykWWSHEcJq/Uqtsczjr3nZ6vV5Tyffl3dn0zvd9Pm8Wh7ewGbNjfj67S5Hp@PP9bT28PnywLePG7Gp@36cB6UOmbq@gUOyWB55@CVXpDy3lPnPAfWLDW5nIehSw1CHYr6ekClr0EUSbc8oKFEm180HFcY70Eo04ZTsabRiDKoXIyxQvrS2P9g@Q8YZB0s7LpzFva3lJhbnlOfdq784vw/cE4DORFyGRPTEMhw1cBeqSQ4hxp0Cq/MVNFRMaelBp3ACk0GqhLFaGQ@5JhIOYHLC2tEynwESRGKEgyFot5bIpciJ8jsl@WSGbMQ0oJpNBYzFQhA1RBzgVkNnBY1c4oUwYxtJTCA2bSAi0R56jTaFn3dd/lhfg5lsNS1ZeCbMJPlNw" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a> (uses a functional form which uses the register atoms, <code>©</code> and <code>®</code>, to replace the use of the program argument atom, <code>³</code>).</p>
<h3>How?</h3>
<pre><code>L‘HịṢ;Æm;ÆṃµṂ³&gt;Ƈḟȯ.Ṃ - Main Link: list, A
L                    - length (A)
 ‘                   - increment
  H                  - halve
    Ṣ                - sort (A)
   ị                 - index into (if A has an even number of elements we get the two in
                                   the middle, due to Jelly's fractional indexing magic)
      Æm             - mean (A)
     ;               - concatenate
         Æṃ          - mode (A)
        ;            - concatenate
           µ         - start a new monadic chain, f(X=medians+[mean,mode])
             ³       - programs argument, A
            Ṃ        - minimum (X)
               Ƈ     - filter (A) keeping if:
              &gt;      -   greater than (minimum (X))
                ḟ    - filter - discard those which are in (X)
                  .  - a half
                 ȯ   - logical OR (replace an empty list with 0.5)
                   Ṃ - minimum
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 22 bytes</h1>
<pre><code>L‘HịṢ;Æm;Æṃ
ḟÇ&gt;ƇÇṂ$ȯ.Ṃ
</code></pre>
<p><a href="https://tio.run/##fZAxTsRADEX7PQelB8WesccjJGoKbhBtSYOWA9ChRSIFF6BDokaiJaKMhLhG9iLhO0DJRnIy42f/7/j6are7XZbLw93TxfzxOI8vZ9PDDWIe7zfz@/M0nH8O0zCP@5Ovt1N8lmk47F@Xpd/0lZSEnDq8G2XcmGRLm17WIzMlJIh/SEcaLELFKWUu0dcaJTMD7qj6Udr@o0pJqazWyQuG6gTG1gJw7ep6lj@ej3ItlEQotYyxSyHH@IWzUgBuZU0mxS1HRbgjkkYPrBEh01C1Cpk5eS7NsCyu0MrCakCeDSJhZFIcjaI5e6VUjSts4h9ZGwqqOzNWmtFaflXcVWAAV0cuFWbFWtxNG1cjgzLWX6EAZdcoDot4MN72Gw" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Returns <code>0.5</code> for an invalid input.</p>
<h2>Explanation</h2>
<pre><code>L‘HịṢ;Æm;Æṃ   Auxiliary monadic link
L             Length
 ‘            Increment
  H           Half
   ị          Index into
    Ṣ           the sorted array
     ;        Join with
      Æm        the mean
        ;     Join with
         Æṃ     the mode(s)

ḟÇ&gt;ƇÇṂ$ȯ.Ṃ   Main monadic link
ḟ            Filter out
 Ç             the results of the previous link
   Ƈ         Filter
  &gt;            greater than
      $        (
    Ç            The results of the previous link
     Ṃ           Maximum
      $        )
       ȯ     Logical OR (non-vectorizing) with
        .    0.5
         Ṃ   Minimum
</code></pre>
</div>
<div id="pu6" class="pu"><h1>JavaScript (ES6), 165 bytes</h1>
<p>Returns <code>undefined</code> if no valid answer is found.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.sort((a,b)=&gt;a-b).map(c=v=&gt;(n++,t+=v,i=c[v]=-~c[v],i&lt;m?0:m=i,v),m=t=n=0).find(v=&gt;v&gt;Math.min(...A=[t/n,a[n&gt;&gt;1],a[n-1&gt;&gt;1],...a.filter(v=&gt;c[v]==m)])&amp;!A.includes(v))
</code></pre>
<p><a href="https://tio.run/##nVJLjtswDN33FO5mICGUa@qvonIxB@gJgiw0TtJ6EMuDxPWyV08pu9NF4S5mDFMSRb73KErPaU637tq/TCKPx9P9HO8ptqm@jdeJsQRPnDzxxOshvbAuzrFlebeDaRdn6GO3nw9R/CoT9F@Gr83nIfYwcxjiFHNseH3u85ERam6/pelHPfSZ1XX9GPfTpwxpn9sWD2UWuKwolghzmU7Xglr448AP/OHjY93n7vLzeLqxmfN7N@bbeDnVl/E7O7N95aAyUEmoPFTNsghQqWUTya0OnH/4FyNfw0gmcEHhXwyxmC3YFpORJCsU6lU5kLaw1i4k9DtfvQcV3oaisgWZ3j6s8Lo0qJHlnDas6ega98eV/4Wpt8OE0SCkBBGUAqM1eOqrRmWgBDDoZVMY8lTJoPKLicYUEBVKtkEbCLUQW@vBKx2sA4OOuJVEYynklSXSImyl9sQjjVLegXAWHcmWvqEJlOC8R5RAYUmtXFm8N5IEqAhPe0IjGk@c3pqAzoIlZnoqjhiI2ZuSXCTKt9W79UWp5SnSnbnXRbkkqNZ7ptGVDt5/Aw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>a =&gt;                     // a[] = input array
  a.sort((a, b) =&gt;       // sort a[] from lowest to highest
    a - b                // so that we can compute the median value(s)
  )                      //
  .map(c = v =&gt;          // for each value v in a[]:
    ( n++,               //   increment the total number of values n
      t += v,            //   add v to the sum t of all values
      i = c[v] = -~c[v], //   update the number i of occurrences of v
      i &lt; m ? 0 : m = i, //   update m to max(m, i)
      v                  //   yield v so that the array is unchanged
    ),                   //   and we can chain with .find()
    m = t = n = 0        //   start with m = t = n = 0
  )                      // end of map()
  .find(v =&gt;             // find the first value v that satisfies:
    v &gt; Math.min(        //   1) it's greater than the minimum of ...
      ...A = [           //        the values stored in A[], which are:
        t / n,           //          - the mean
        a[n &gt;&gt; 1],       //          - the 1st median value
        a[n - 1 &gt;&gt; 1],   //          - the 2nd median value (if any)
        ...a.filter(v =&gt; //          - all mode values
          c[v] == m      //            i.e. values that appear m times
        )                //        
      ]                  //        end of array
    ) &amp;                  //      end of Math.min()
    !A.includes(v)       //   2) it's not one of the values defined above
  )                      // end of find()
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 76 bytes</h1>
<p>Returns an empty list <code>''</code> if there is no element.</p>
<pre><code>(0{ ::''-./:~@#~-.&gt;&lt;./@])({./.~#~[:(=&gt;./)#/.~),(&gt;.@&lt;:@-:@#(-@[}.}.)/:~),+/%#
</code></pre>
<p><a href="https://tio.run/##hZLBSsQwEIbvPsVgkba4TTtJJpkEXQqCJ09eRXIQRbz4AMvuq69/2lX0oBZSMjP/fDPJ5O14btoXus7U0oYmyliDoZv7u9tjN@0o57YdzJgPc3MYzPbKjPNj3@3MaA7N4SF311sz9g2sftNtzXyV5yHPTTfMD3uzNz0S@83leNEc@7Pnp9d3eqFIQpYUdSwlcrCY7Bps27N1IzTkv6XMq8QuTlgFIeJVM5F8AlcVwIsddbXFKhXHvnJTohJCQNKE@EmX/tGl7/xfhEJFyNtvJ4KwqMeZJotuQ6oSjlNc9vakXIJLdWjd31rn3Ekqnoq1VBI84j0prsKzE6oBTn5xFoFVc6S2h1Wk5qAjrJVYD8GS7IpNyFrAISip8ylgJBzBdpYlIKQuAFoLB@sVICvOaaQSA0eU/eKVqMqMcTmk@hNFVSwKoAuFr3hmwT2qBkkcAwWQMdoIAsgqVVxL1O/ngOvwHd6I4s3UPy6e6qgCxeMH" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<ul>
<li><code>+/%#</code> mean: sum divided by length</li>
<li><code>&gt;.@&lt;:@-:@#(-@[}.}.)/:~</code> median(s): sort, drop first and last <code>floor(length % 2 - 1)</code> elements (can this be shorter?)</li>
<li><code>#/.~</code> mode(s): group the list by itself, get the length of each group</li>
<li><code>[:(=&gt;./)</code> the maximum length</li>
<li><code>{./.~#~</code> take the groups' first element that have the maximum length</li>
<li><code>&lt;./@]</code> minimum of mean, medians and modes</li>
<li><code>-.   #~-.&gt;</code> get every element that is not in (mean, medians, modes), but also larger,</li>
<li><code>/:~@</code> sort them and</li>
<li><code>0{ ::''</code> get the first element – if there is none and an error would occur, return <code>''</code> instead</li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/218714/">218714</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




