<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::275700</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>006</td><td>Nekomata</td><td>240924T070755Z</td><td><a href="https://codegolf.stackexchange.com/questions/275700/reorder-a-string-of-length-2n-by-permuting-the-n-binary-digits-of-every/275738#275738">alephalp</a></td></tr>
<tr d-ix="1"><td>045</td><td>Python + NumPy</td><td>240923T070826Z</td><td><a href="https://codegolf.stackexchange.com/questions/275700/reorder-a-string-of-length-2n-by-permuting-the-n-binary-digits-of-every/275706#275706">Albert.L</a></td></tr>
<tr d-ix="2"><td>010</td><td>Uiua</td><td>240923T214005Z</td><td><a href="https://codegolf.stackexchange.com/questions/275700/reorder-a-string-of-length-2n-by-permuting-the-n-binary-digits-of-every/275728#275728">nyxbird</a></td></tr>
<tr d-ix="3"><td>110</td><td>Python</td><td>240923T042739Z</td><td><a href="https://codegolf.stackexchange.com/questions/275700/reorder-a-string-of-length-2n-by-permuting-the-n-binary-digits-of-every/275703#275703">Unrelate</a></td></tr>
<tr d-ix="4"><td>113</td><td>Python3</td><td>240923T015712Z</td><td><a href="https://codegolf.stackexchange.com/questions/275700/reorder-a-string-of-length-2n-by-permuting-the-n-binary-digits-of-every/275702#275702">Ajax1234</a></td></tr>
<tr d-ix="5"><td>016</td><td>Charcoal</td><td>240923T045516Z</td><td><a href="https://codegolf.stackexchange.com/questions/275700/reorder-a-string-of-length-2n-by-permuting-the-n-binary-digits-of-every/275704#275704">Neil</a></td></tr>
<tr d-ix="6"><td>008</td><td>Jelly</td><td>240923T011922Z</td><td><a href="https://codegolf.stackexchange.com/questions/275700/reorder-a-string-of-length-2n-by-permuting-the-n-binary-digits-of-every/275701#275701">Unrelate</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a>, 6 bytes</h1>
<pre><code>↔SĦaõ@
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFZtJJurlLsgqWlJWm6FqsetU0JPrIs8fBWhyXFScnFUOEFN42jDXWMdAxiFYC0oY4BGIPJWK5oA6CMIVjGSMdYx0THVMdMx1zHIhaiFwA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes the permutation as a 0-indexed list, e.g., <code>[1,2,0]</code> for <span class="math-container">\$\begin{pmatrix}0&amp;1&amp;2\\1&amp;2&amp;0\end{pmatrix}\$</span>. Takes the binary string as a list of integers, e.g., <code>[1,1,0,1,0,0,1,0]</code> for <code>11010010</code>.</p>
<pre><code>↔SĦaõ@         Take [1,2,0] [1,1,0,1,0,0,1,0] as an example
↔           Reverse
                -&gt; [0,2,1]
 S          Find a subset
                -&gt; [] [0] [2] [0,2] [1] [0,1] [2,1] [0,2,1]
  Ħ         Histogram
                -&gt; [] [1] [0,0,1] [1,0,1] [0,1] [1,1] [0,1,1] [1,1,1]
   a        All possible values
                -&gt; [[],[1],[0,0,1],[1,0,1],[0,1],[1,1],[0,1,1],[1,1,1]]
    õ       Ordering
                -&gt; [0,2,4,6,1,3,5,7]
     @      Index into the second input
                -&gt; [1,0,0,1,1,1,0,0]
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> + NumPy, 45 bytes</h1>
<h3>-5 thanks @att</h3>
<pre class="lang-python prettyprint-override"><code>lambda a,p:a.reshape(p*0+2).transpose(p).flat
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhY3dXMSc5NSEhUSdQqsEvWKUoszEgtSNQq0DLSNNPVKihLzigvyi4ECmnppOYklUE3eaUX5uQp5pbkFlQqZuQX5RSUKRfFcXIkKtkA62lDHUMcAjg1iuQog4kYgkVguroKizLwSDa00DaCdmpoQIxcsgNAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Expects the binary string and the permutation as NumPy arrays and returns a NumPy flatiter object.</p>
<h3>How?</h3>
<p>Quite literal approach: Arranges the input sequence into a 2x2x...x2 hypercube, shuffles dimensions according to permutation, and flattens the result.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 10 bytes</h1>
<pre><code>⊏⍜⊙⋯≡⊏¤⊙°⊏
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_13_0-dev_2__WzIgMCAxXVsxIDEgMCAxIDAgMCAxIDBdCuKKj-KNnOKKmeKLr-KJoeKKj8Kk4oqZwrDiio8K" rel="nofollow noreferrer">Try it!</a></p>
<p>Takes input with the permutation as a 0-indexed array of indices, followed by the binary string.</p>
<pre><code>⊏⍜⊙⋯≡⊏¤⊙°⊏
         ⊙°⊏ # create an array of indices
 ⍜⊙⋯        # convert to binary
      ≡⊏¤     # permute the bits
 ⍜⊙⋯        # convert back to numbers
⊏             # index into s
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <s>113</s> 110 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda s,p,n:[s[i]for i in g(range(n),*p[::-1])]
g=lambda s,h,*t:sorted(t and g(s,*t)or s,key=lambda i:i&gt;&gt;h&amp;1)
</code></pre>
<p><i>-3 thanks to Karl</i></p>
<p><a href="https://ato.pxeger.com/run?1=PY1BCsIwFET3nuLjwiblFxpXEmgvErOItGmD-huSuOhZ3BRE7-RtDFiFgYHhzcz95ec0TrQ8bHN83pKtDm-6mOupMxDRI0kVldN2CuDAEQwsGBp6RhxLr6SshOZ6MzT_yohlknEKqe9YAkNdrsSc8bwQ8dzPP9RJ17bjTvD1deuDo8QsK4SoRZ1VICiBsEeoNcKBr-SyfP0D" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Probably golfable and loses to a more direct approach, but this one is just too much fun. (<code>2*&amp;ÞƒJ’$}‘ị</code> for 11 in Jelly--thanks 1-indexing...) Takes an <em>inverse</em> 0-indexed permutation list <span class="math-container">\$[\sigma^{-1}(0 ),...,\sigma^{-1}(n-1)]\$</span>, where the inverse is equivalently the grade-up, alongside <span class="math-container">\$2^n\$</span>.</p>
<p>Since <code>sorted</code> is stable, this sorts by each bit in permutation order, essentially &quot;bubbling&quot; that bit to most significant (w.r.t. the destination indices) before being &quot;pushed down&quot; by the next.</p>
<p>A little more digestible:</p>
<pre class="lang-python prettyprint-override"><code>lambda s,p,n:[s[i]for i in reduce(lambda x,h:sorted(x,key=lambda i:i&gt;&gt;h&amp;1),p,range(n))]
from functools import*
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Python3, 113 bytes</h1>
<pre><code>lambda n,s,o:''.join(s[int(''.join(x for _,x in sorted([*zip(o,bin(j)[2:].zfill(n))])),2)]for j in range(len(s)))
</code></pre>
<p><a href="https://tio.run/##NYxBCoMwEEWvkl1myiAmborQk0QpikkbSSchurBePo2Lwt88Pu@l7/6O3N1TLu4xlDB95mUSTBvFXspmjZ5hM553@NMhXMziSYfwLLaYd7uAuZ0@QaS5/isa3Y/N6XwIwIgjImkcL2m9lDzxy0KwtYuIJeUr7qAjqVSr2jpJRlNLqprlBw" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 16 bytes</h1>
<pre><code>⭆θ§θΣＥη∧＆κＸ²μＸ²λ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRCO4BEil@yYWaBTqKDiWeOalpFaAmMGluRog0QygaF6KhlNmSXlmcSqIma2jEJBfnlqkYaSjkKupicTL0YQA6///DQ0NDA2AiMvQyOC/blkOAA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes <code>s</code> as the first input as a list or bitstring and <code>σ</code> as the second input as a list (or string if <code>n&lt;11</code>) of 0-indexed destination indices and outputs a bitstring. Explanation:</p>
<pre><code> θ                  First input `s`
⭆                   Map over characters and join
   θ                First input `s`
  §                 Indexed by
      η             Second input `σ`
     Ｅ              Map over indices
         κ          Outer index
        ＆           Bitwise and
           ²        Literal integer `2`
          Ｘ         Raised to power
            μ       Source index
       ∧            Logical And
              ²     Literal integer `2`
             Ｘ      Raised to power
               λ    Destination index
    Σ               Take the sum
                    Implicitly print
</code></pre>
<p>(If you run this code on ATO instead of TIO then you can also pass <code>σ</code> as a dictionary mapping 0-indexed source indices to destination indices.)</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>9</s> 8 bytes</h1>
<pre><code>ịⱮL2ṗɗỤị
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///h7u5HG9f5GD3cOf3k9Ie7lwD5////N9ZRMNRRMPqvbmhoYGgAROoA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Pretty naive implementation. Takes a 1-indexed permutation list <span class="math-container">\$[\sigma(1), ..., \sigma(n)]\$</span> on the left, and the string <span class="math-container">\$s\$</span> on the right.</p>
<pre><code>   2ṗ       Raise [1, 2] to the Cartesian power of
  L         the length of the permutation (= n),
ịⱮ   ɗ      and index the permutation into each result.
      Ụ     Grade that up (argsort),
       ị    and index into s.
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/275700/">275700</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




