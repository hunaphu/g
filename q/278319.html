<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::278319</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>113</td><td>Charcoal</td><td>250221T102538Z</td><td><a href="https://codegolf.stackexchange.com/questions/278319/9-queens-and-least-obstacles/278326#278326">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 113 bytes</h1>
<pre><code>≔Ｅ⁸Ｅ⁸Ｅ³Ｅ⁸⟦⁻ιπ⁺λ×π⊖ν⟧θＦ⁷Ｆ⁷¿κ«≔⟦υ⟧ηＦ⁸Ｆ⎇⁻λι⟦⁸⟧⟦κ…⊕κ⁸⟧≔ΣＥμＥΦη⬤§§θλν⁼π⁻π⎇‹ιλ⁻ς§§§θικσς⁺π⟦⟦λν⟧⟧ηＦη«ＤＥ⁸⭆⁸§.Q№λ⟦μξ⟧ＪκιKＤ⎚
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XVKxTsMwEJXY0pUfOGWyJYeFgUhMVQtSgUqFdrMyhNRtrDhO6jhVEeqXsHQAiT_gX_gaLk7SVgzW3fme37t7ycd3ksYmKWJ1OHzVdhWEvxeXw6qSa02mcUlCBmfh-ljxqdR1RSSDkjKYKcwVg4XMRUVKBmORGJELbcWSaEpphIfBht4OVoUBckOhj3IFJKPwPvA6VV5HDFJEeg4SdtCFMDo2b6TVRS2JhDxELM8YvMR6LchEn1QzbIeNLnS88zp3G-XtDvdSWWFIymCoFBnaiV6K3TFuGCgk0HjuNnWs3FKtNCb9LE-ichY00La5Rbp_VGeUzcjNXFVjxpZSZ4rzDkk5x6V0FLW3JwNSZ443rvOSNJfezEht-48zt1itu6KX8q-efQajokYcknJceed43fsHZFoUJGvmOfH5j76rTjojJWLj0v1g_1m9JlX3h_xwP9gqVPCDQBc2NYW1SvhR1_4D" rel="nofollow noreferrer">Attempt This Online!</a> Link is to verbose version of code. Uses <code>K</code> as the obstacle, as I felt that was appropriate for chess. Explanation:</p>
<pre><code>≔Ｅ⁸Ｅ⁸Ｅ³Ｅ⁸⟦⁻ιπ⁺λ×π⊖ν⟧θ
</code></pre>
<p>For each square, calculate the squares on higher rows of the board (and also a bunch of squares that aren't on the board) that are attacked. (Since queens are placed starting at the top and working down, and two queens are never placed in the same row unless the obstacle is between then, we only need to check for potential queens attacking existing queens in higher rows.)</p>
<pre><code>Ｆ⁷Ｆ⁷¿κ«
</code></pre>
<p>Loop over all possible squares for the obstacle, plus some impossible ones. (But we have to omit the first column, otherwise the code fails with an empty sum later.)</p>
<pre><code>≔⟦υ⟧η
</code></pre>
<p>Start with no queens placed so far.</p>
<pre><code>Ｆ⁸Ｆ⎇⁻λι⟦⁸⟧⟦κ…⊕κ⁸⟧
</code></pre>
<p>Loop through all rows, but split the row with the obstacle so it is looped over twice (since there will be two queens on this row).</p>
<pre><code>≔ΣＥμＥΦη⬤§§θλν⁼π⁻π⎇‹ιλ⁻ς§§§θικσς⁺π⟦⟦λν⟧⟧η
</code></pre>
<p>Looping over the squares of this row or part row, collect those sets of queens which aren't attacked by the proposed queen, make new sets including the proposed queen, and collect all of the resulting sets back to the list of queen placements.</p>
<pre><code>Ｆη«
</code></pre>
<p>Loop over all of the found sets of queens for this obstacle.</p>
<pre><code>Ｄ
</code></pre>
<p>Leave a blank line between boards.</p>
<pre><code>Ｅ⁸⭆⁸§.Q№λ⟦μξ⟧ＪκιKＤ
</code></pre>
<p>Output the board.</p>
<pre><code>⎚
</code></pre>
<p>Clear the canvas ready for the next board.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/278319/">278319</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




