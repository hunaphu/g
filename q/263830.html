<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::263830</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>042</td><td>Ruby</td><td>230816T190900Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/264272#264272">kait0u</a></td></tr>
<tr d-ix="1"><td>035</td><td>R*</td><td>230807T135800Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/263834#263834">Dominic </a></td></tr>
<tr d-ix="2"><td>033</td><td>Julia 1.0</td><td>230810T201226Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/263998#263998">Enforce</a></td></tr>
<tr d-ix="3"><td>3826</td><td>Mathematica 12.2 or later</td><td>230811T011737Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/264005#264005">138 Aspe</a></td></tr>
<tr d-ix="4"><td>005</td><td>Thunno 2</td><td>230807T135303Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/263833#263833">The Thon</a></td></tr>
<tr d-ix="5"><td>005</td><td>05AB1E</td><td>230808T104227Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/263880#263880">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>025</td><td>Desmos</td><td>230808T032426Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/263858#263858">Aiden Ch</a></td></tr>
<tr d-ix="7"><td>005</td><td>Vyxal</td><td>230807T160800Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/263841#263841">The Thon</a></td></tr>
<tr d-ix="8"><td>041</td><td>Python</td><td>230807T203920Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/263848#263848">xnor</a></td></tr>
<tr d-ix="9"><td>017</td><td>Charcoal</td><td>230807T201216Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/263847#263847">Neil</a></td></tr>
<tr d-ix="10"><td>037</td><td>C gcc</td><td>230807T155419Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/263840#263840">The Thon</a></td></tr>
<tr d-ix="11"><td>031</td><td>JavaScript ES6</td><td>230807T140825Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/263835#263835">Arnauld</a></td></tr>
<tr d-ix="12"><td>005</td><td>Jelly</td><td>230807T141037Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/263836#263836">xigoi</a></td></tr>
<tr d-ix="13"><td>050</td><td>Python</td><td>230807T134848Z</td><td><a href="https://codegolf.stackexchange.com/questions/263830/rook-polynomials/263831#263831">xigoi</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 42 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;(m,n,k){k&gt;0?f.call(m-1,n-1,k-1)*m*n/k:1}
</code></pre>
<p><a href="https://tio.run/##VY6xCoMwGIR3n@LQxUiSmqFLofZBrIO1BkrMr2gdiuTZ06h16HD8/x0fx43z4@M1rrh7UaSWEzdsMUV@07Kpuy61QnEKMkKxzGZ0MhflvO5HWLwISsoznn0ErBH9R0DTt1pPob2sNr9CZoVyKUvLQZW0wf3og5f1MLT0xDEhcByGbUzItzvM7wlxmizWcSQLOQYhivDtFS6OdjbIfwE" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>I had an idea with a recursive lambda, much like a few others here. My answer is probably the most similar to <a href="https://codegolf.stackexchange.com/a/263848/119199">xnor's</a> (and falls only one byte short of it :P)</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>*, <s>37</s> 35 bytes</h1>
<pre class="lang-r prettyprint-override"><code>f=\(l)prod(if(l)c(f(l-1)/l[1]^2,l))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMFNp4TMtATbtNK85JLM_DyNCp1KW79QHx-dKjClmZRYnGplBVKjUREdbRgbC5SvBEpWaXIV5ednF-TnVNouLS1J07W4qZxmG6ORo1lQlJ-ikZkGZCVrAEldQ039HKDGOCOdHE1NqFLN4sSCgpxKDQMrEx241dmaMBM1kjWydUx0TDRhGhYsgNAA" rel="nofollow noreferrer">Attempt This Online!</a>*
or <a href="https://tio.run/##K/pflJ@fXZCfU2n7P802rTQvuSQzP08jR7OgKD9FIzMNyErWAJK6hpr6OdGGsXFGOjmamv@LEwsKcio1DKxMdOB6sjVhRmkka2TrmOiYaAJVAgA" rel="nofollow noreferrer">Try it Online</a> using <code>function</code> instead of the shorter <code>\</code> notation.</p>
<p>Input is a vector <code>(k,m,n)</code>.  This allows a compact function definition of <code>f(l)</code>, and lets us perform a recursive call with all arguments decremented using just <code>f(l-1)</code>, saving quite a few bytes compared to <code>f(k,m,n)</code> and <code>f(k-1,m-1,n-1)</code>.<br />
To get <code>m*n/k</code> we now need to use <code>prod(l)/l[1]^2</code>, which may initially seem a bit verbose, but it brings the useful property that <code>prod(NULL)</code> is equal to <code>1</code>, nicely solving the base case when <code>k==0</code> (so <code>if(l)</code> doesn't return anything).</p>
<p>*ATO uses a version of R (version 4.3.1) in which the <code>if</code> function errors when the condition has length &gt;1.  Versions between 4.1.0 and &lt;4.2.0 just give a warning for this without halting with an error, and the header in the ATO link redefines the <code>if</code> function to mimic this behaviour.</p>
</div>
<div id="pu2" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 1.0</a>, <s>39</s> 33 bytes</h1>

<pre class="lang-julia prettyprint-override"><code>f(k,m,n)=k&lt;1||m*f(k-1,m-1,n-1)n/k
</code></pre>
<p><a href="https://tio.run/##bZDRboIwFIbvfYozLwwsB0ZLy3QZZi@wJzBe1FiTDuxMYcsufHfW9qBitoaT8v05/Xrg46s1iv0MwyFp8Ig2rZtXdj4fHz1nDI@@bMZS@9QMh08HBowFp9W@NVZ3SToDvxTCDmrQ36rNk3fdq/ykXKfzpDu1pk8MwjxbzyFNqf3kjO1bmyio17CjLLib4C5eZAzCcl4axgKV53k6iR9qKGCxuJqaYHL/dbyprtOuD6oadhtt91mzhdjo32ehBoYMsjVs/L6dMeQROEEZoSQQEQSBjCAD8FHACS4CQUiKCitCkjCOS2Ly8AJZEYJydJUEfHq4vLrYEleUkI4LLH3KKSNlVaB/WJxQjFZBwO9mEKN2KhE38arCZ59VFMvxaIFceHvY49xyvEES8PuvkpfJJzPJ66/467rdUhVUPFQ49ws" rel="nofollow noreferrer" title="Julia 1.0 – Try It Online">Try it online!</a></p>
<p><em>-6 bytes and test cases due to @MarcMush</em></p>
<p>Similar in spirit to @The Thonnu 's answer. Given a triple <span class="math-container">\$(k,m,n)\$</span>, there are <span class="math-container">\$m\times n\$</span> ways of placing the first rook, and then the problem is reduced to that of the triple <span class="math-container">\$(k-1, m-1, n-1)\$</span> since we can just eliminate the file and rank that we placed the first rook on. By the end we will have over-counted by a factor of <span class="math-container">\$k!\$</span>, since the order of placement of the rooks does not matter.</p>
<p>edit: I made a mistake when copying the code from my IDE so the original solution of 32 bytes was defective :X</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://reference.wolfram.com/legacy/language/v13/guide/SummaryOfNewFeaturesIn122" rel="nofollow noreferrer">Mathematica 12.2 or later</a>, <del>38</del> 26 bytes</h1>
<p>Saved 12 bytes thanks to the comment of <a href="https://codegolf.stackexchange.com/users/9288/alephalpha">@alephalpha</a></p>
<hr />
<p>26 bytes version:</p>
<pre><code>1##&amp;@@{##2}~Binomial~# #!&amp;
</code></pre>
<hr />
<p> 
 </p>
<p>38 bytes version:</p>
<pre><code>{n,m,k}|-&gt;k!Binomial[m,k]Binomial[n,k]
</code></pre>
<p>How to use it?</p>
<pre><code>f={n,m,k}|-&gt;k!Binomial[m,k]Binomial[n,k]
f[4,3,2]
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 5 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>cṭsƇ×
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPWMlRTElQjklQURzJUM2JTg3JUMzJTk3JmZvb3Rlcj0maW5wdXQ9NSUwQTUlMEE1JmZsYWdzPQ==" rel="nofollow noreferrer">Try it online!</a></p>
<p>Port of xigoi's Python answer. Takes <code>k</code>, then <code>m</code>, then <code>n</code>.</p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>cṭsƇ×  # Implicit input
c      # Compute nCr(m, k)
 ṭs    # Swap to get the right order
   Ƈ   # Compute nPr(n, k)
    ×  # Multiply together
       # Implicit output
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 5 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>cI¹e*
</code></pre>
<p>Inputs in the order <span class="math-container">\$k,m,n\$</span>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f8/2fPQzlSt//@NuUy5TAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##ATAAz/9vc2FiaWX/NUzDo3Z5w5/GknlOwqrDgj8iIOKGkiAiP8SHVWDCqf9jWMKuZSr/LP8" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p>Or alternatively:</p>
<pre><code>c¹!ªP
</code></pre>
<p>Inputs in the order <span class="math-container">\$k,[m,n]\$</span>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f8/OeDQTkWt//@NuaJNdUxiAQ" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W/qc3hxWeXh@ccm@dkrKSTmpSgo2VcCWY/aJoFYfv@T/RQPrQr4r/MfAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p>Both are port of <a href="https://codegolf.stackexchange.com/a/263831/52210"><em>@xigoi</em>'s Python answer</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>c     # Push the first (implicit) input `nCr` the second (implicit) input,
      # aka the number of combinations; aka the binomial coefficient; aka `k choose m`
 I    # Push the third input
  ¹   # Push the first input again
   e  # Pop both, and push their `nPr`, aka the number of permutations
    * # Multiply them together: (k nCr m)*(k nPr n)
      # (which is output implicitly as result)
</code></pre>

<pre class="lang-python prettyprint-override"><code>c     # Push the first (implicit) input `nCr` the second (implicit) input-pair:
      #  [k nCr m,k nCr n]
   ª  # Append
  !   # the factorial of
 ¹    # the first input `k`: [k nCr m,k nCr n,k!]
    P # Get the product of this list: (k nCr m)*(k nCr n)*k!
      # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, 25 bytes</h1>
<pre><code>f(m,n,k)=nCr(n,k)nPr(m,k)
</code></pre>
<p><a href="https://www.desmos.com/calculator/anojjythum" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p>Takes in <span class="math-container">\$m,n,k\$</span> as input. Port of like most of the answers here.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 5 bytes</h1>
<pre><code>ƈ?¡JΠ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyIiLCIiLCLGiD/CoUrOoCIsIiIsIjRcbjUsIDUiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Port of xigoi's Jelly answer. Takes <code>k</code>, then <code>[m, n]</code>.</p>
<p><em>-2 thanks to @JonathanAllan</em></p>
<h4>Explanation</h4>
<pre><code>ƈ?¡JΠ  # Implicit input
ƈ      # Compute nCr of both
 ?¡    # Factorial of k
   J   # Appended to the list
    Π  # Take the product
       # Implicit output
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python</a>, 41 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda m,n,k:k&lt;1or f(m-1,n-1,k-1)*m*n/k
</code></pre>
<p><a href="https://tio.run/##ZY2xDsIwDER3vsJj3LpCZmCo4EsQQ1ATiIzdKlRIfH1Iyshwy927u@WzPmY7lBLPT6@3yYOSkYxy4jlDdDowWZUMjJ12tpcSa6CQDLK3e3BMRxx3AM22fxtgycnWOgtGcOnrZDvAjZeND@@QX2Fyv6Imawj2jHgtXw" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>Based on the formula in <a href="https://codegolf.stackexchange.com/a/263835/20260">Arnauld's answer
</a>. Test cases <a href="https://codegolf.stackexchange.com/a/263831/20260">from xigoi</a>. Outputs <code>True</code> for <code>1</code> when <code>k=0</code>. The code also works in Python 2 or 3, but gives floats in Python 3 that can become imprecise for large outputs.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 17 bytes</h1>
<pre><code>≔…⁰ＮθＩ÷ΠΣＥ²⁻ＮθΠ⊕θ
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iOSOxKDk_MWfBgqWlJWm6FjebHYuLM9PzNIIS89JTNQx0FDzzCkpL_Epzk1KLNDQ1dRQKNa25Aooy80o0nBOLSzQ880pcMssyU1I1AoryU0qTSzSCS3M1fBMLNIx0FHwz80qLNVBMABmgCTIHptwzL7koNTc1ryQ1RQMspWm9pDgpuRjqoOXRSrplOUqxS40VTBRMIWIA" rel="nofollow noreferrer">Attempt This Online!</a> Link is to verbose version of code. Takes <code>k</code> as the first input. Explanation: Uses the same formula as @Arnauld's answer, but works by taking the product of lists instead of recursing.</p>
<pre><code> …                  List from
  ⁰                 Literal integer `0` to
   Ｎ                Input `k`
≔   θ               Store in variable
          ²         Literal integer `2`
         Ｅ          Map over implicit range
            Ｎ       Next input `m` or `n`
           ⁻        Vectorised subtract
             θ      Stored range
        Σ           Concatenate the lists
       Π            Take the product
      ÷             Integer divided by
                θ   0-indexed range
               ⊕    Increment to 1-indexed range
              Π     Take the product
     Ｉ              Cast to string
                    Implicitly print
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 37 bytes</h1>

<pre class="lang-c prettyprint-override"><code>f(m,n,k){m=k?m--*n--*f(m,n,k-1)/k:1;}
</code></pre>
<p><a href="https://tio.run/##Xc3RCsIgFMbx@z3FxyDQptRuuthme5DqIhbGUbQY3Q2f3ZTGVoGei/PDv4O8D0OMmjnhheWTU7Z3Um59uvNS1nxnm7oNkfwL7kqecUwFoB8jWN6RqltQd0ijqj72pSaryWpWBZ5jQs3KzQ3pnFAKkIDh7ezLe6sYdaanJhnsUe3TlHIN/aRSRbPcEbB8aYW/Py9nX86YKRQhvgE" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>My first C answer (yay!)</p>
<p>Port of Arnauld's JavaScript answer.</p>
<p><em>Fixed thanks to @mousetail</em></p>
</div>
<div id="pu11" class="pu"><h1>JavaScript (ES6), 31 bytes</h1>
<p>Expects <code>(m)(n)(k)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>m=&gt;n=&gt;g=k=&gt;k?m--*n--/k*g(--k):1
</code></pre>
<p><a href="https://tio.run/##NYxBCoMwEEX3nmKWM2pSXHSjTaTnKKWIjdLGTCSKUIpnTwNtV@/D479nt3VLHx7zKtjfTRxUdEqz0qOyStvWCZGzEAebjyiEpbqKgw84mRUcKKiahJOCY2JRELwzgL/nr@ef578H6D0vfjJy8iO6EriEi5TyHEL3wpRLlzZlC6igTjuRrtJ1M@KtBEugNAzoCJnQEslgNhMWg0RNqu/ZHj8" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>Like other answers, this is based on <a href="https://en.wikipedia.org/wiki/Rook_polynomial#The_rook_polynomial_as_a_generalization_of_the_rooks_problem" rel="noreferrer">the formula from Wikipedia</a>, but re-arranged in a recursive-friendly form:</p>
<p><span class="math-container">$$k!\times \binom{m}{k}\times\binom{n}{k}=\prod_{i=1}^{k}\frac{(m+1-i)\times(n+1-i)}{i}$$</span></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/DennisMitchell/jellylanguage" rel="nofollow noreferrer">Jelly</a>, 5 bytes</h1>
<pre><code>!;c@P
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m700KzUnp3LBgqWlJWm6FksVrZMdApYUJyUXQ0XWRisZKekoRZvqmMQqxUIFAQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes arguments in the form <code>k [m,n]</code>. I didn't manage to come up with anything shorter, but feel like it's possible… But at least this is ASCII-only as a bonus.</p>
<pre><code>!;c@P
!     Factorial of k
 ;    Join that with
  c@  [m,n] choose k (vectorized)
    P Product
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.python.org" rel="noreferrer">Python</a>, <s>63</s> 50 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda m,n,k:comb(m,k)*perm(n,k)
from math import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZY1BDoIwEEX3nGKWHawLXBhD4knERZEiDcy0GauJZ3FDYvRO3kYo7lz95OX9_x_vcI-d5_Ep--p1je1699kMhurGAGnWfXnyVCvSPebBCqkJYdaKJyATO3AUvMT81xxaL0DgGMTw2apCb7HMAGbM_xggiOM4rQNrOIhKj5j0Pun2ZuViG7X0yPGs4KpAPOLyOY5LfgE" rel="noreferrer">Attempt This Online!</a></p>
<p>To place <span class="math-container">\$k\$</span> rooks on an <span class="math-container">\$m\times n\$</span> chessboard, we choose <span class="math-container">\$k\$</span> out of the <span class="math-container">\$m\$</span> rows, <span class="math-container">\$k\$</span> of the <span class="math-container">\$n\$</span> colums and a permutation of the numbers from <span class="math-container">\$1\$</span> to <span class="math-container">\$k\$</span> representing which rook will be at which place in each row. This gives a total of <span class="math-container">\$\binom{m}{k}\cdot\binom{n}{k}\cdot k!\$</span> options.</p>
<p><em>-13 bytes thanks to matteo_c</em></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/263830/">263830</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




