<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::70289</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>342</td><td>Python3</td><td>251007T035515Z</td><td><a href="https://codegolf.stackexchange.com/questions/70289/imposters-at-the-zoo/284018#284018">Ajax1234</a></td></tr>
<tr d-ix="1"><td>077</td><td>JS ES6</td><td>160129T172023Z</td><td><a href="https://codegolf.stackexchange.com/questions/70289/imposters-at-the-zoo/70448#70448">username</a></td></tr>
<tr d-ix="2"><td>019</td><td>Japt</td><td>160128T142039Z</td><td><a href="https://codegolf.stackexchange.com/questions/70289/imposters-at-the-zoo/70359#70359">ETHprodu</a></td></tr>
<tr d-ix="3"><td>104</td><td>ES6</td><td>160128T201845Z</td><td><a href="https://codegolf.stackexchange.com/questions/70289/imposters-at-the-zoo/70390#70390">Neil</a></td></tr>
<tr d-ix="4"><td>nan</td><td>GNU grep</td><td>160127T160412Z</td><td><a href="https://codegolf.stackexchange.com/questions/70289/imposters-at-the-zoo/70296#70296">feersum</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 342 bytes</h1>
<pre class="lang-py prettyprint-override"><code>def f(s):
 q,S=[''],[]
 for c in q:
  for i in'ant,ape,asp,ass,bat,bee,boa,cat,cod,cow,dab,dog,eel,elk,emu,fly,fox,gnu,hog,ide,jay,kea,kob,koi,olm,owl,pig,rat,ray,yak'.split(','):
   for j in range(1,3):
    for C in[c[:-j]+i]+[c+i[j:]]*(c!=''):
     if C==s:return 1
     if any(s.startswith(C[:-t])for t in[1,2])and C not in S:q+=[C];S+=[C]
</code></pre>
<p><a href="https://tio.run/##hVKxjtswDJ2rr1Cz2G7YA9JbDik8Ze@S0fUg27TNWBYVSUEu/fmUyjXdig6ERPLxkXySv6WZ3eubD/f7gKMey1jtlT7DsW6KooWmVXrkoHtNTp8l8/BIvMK4BMYjmOjFInQmQYcIHRvo5d7zIHaFwXQw8ASIFtAugOsFRnuDkd9hcheYJUcDwsncYEEDC3diBGxX4KsFTxME4QuSv5mleIneUioLKPKkHwOd8njBuAnLHbx@xB@JgySavtl/PbVbardNv6XmtG/bL2X/uS7@MGhNoz7UddwHTJfg9O5v1LhbGV9iMiHFK6W5PAhXaqvMnTL3Dr61lXGDdHKcI/q4P2/r5tB@Pz6Oe9S13mw2SvRSso/qRCzlg6ysOu5EKeXRjDmDFv2cYTMOE4ouUfWBRUeymMulZOVetFCiOYmmxrHESHXEA07BiNQk2twEPBE/6chEyh3ZBxQXPbqLTbSahCoPFnfPCRW/q2BW1aEJamFjTW6Llr30t/LAgWX2X8wLCktQURCrLC9X2QODJ2ulcibv2XMy6yU@Ojz/jB7JCqz8wQ4hPh/ypysqeYhPoguGJF@QKk3xIWcGqn@U7/5T/1ErQjvBJIwpap8hQ1HdfwM" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1>JS ES6, 77 bytes</h1>

<pre><code>s=&gt;/^(((.+)(?=.*!\3))*(...)(?=.*\4!)((.+)(?=.*\6!))*([^qvz][^\b])?)+/.test(s)
</code></pre>

<p>(this is anonymous fn)</p>

<p>Input is the same as the above grep example input</p>
</div>
<div id="pu2" class="pu"><h1>Japt, <s>51</s> <s>48</s> <s>45</s> <s>36</s> <s>33</s> 19 bytes</h1>
<p><em>Saved 9 bytes thanks to @PeterTaylor</em></p>
<pre><code>;!UeVrE&quot;[$&amp; ]&quot; S² x
</code></pre>
<p><a href="http://ethproductions.github.io/japt?v=89aaf4bcc3e158bd7e704da3445c344b0655856d&amp;code=OyFVZVZyRSJbJCYgXSIgU7IgeA==&amp;input=ImVsZXBoYW50IiAiYW50fGFwZXxhc3B8YXNzfGJhdHxiZWV8Ym9hfGNhdHxjb2R8Y293fGRhYnxkb2d8ZWVsfGVsa3xlbXV8Zmx5fGZveHxnbnV8aG9nfGlkZXxqYXl8a2VhfGtvYnxrb2l8b2xtfG93bHxwaWd8cmF0fHJheXx5YWsi" rel="nofollow noreferrer">Test it online!</a></p>
<p>Takes input as the string to test, followed by the list of three-letter words, delimited with <code>|</code>. Note: this doesn't work in the latest version of the interpreter, so please use the link instead of copy-pasting the code.</p>
<h3>How it works</h3>
<p>The basic idea is to take the input string and repeatedly replace any of the 30 words in it with two filler chars. I use a space as the filler char. Also, we want to replace the <code>ant</code> in <code>elephant</code>, the <code>a  </code> in <code>ela   </code>, the <code> nt</code> in <code>e   nt</code>, etc. So what we want to do is to change the 30-word string to a regex that matches any of these combinations:</p>
<pre><code>ant|ape|asp|...
Becomes:
[a ][n ][t ]|[a ][p ][e ]|[a ][s ][p ]|...
</code></pre>
<p>We can do this pretty easily:</p>
<pre><code>;VrE&quot;[$&amp; ]&quot;
          // Implicit: V = &quot;ant|ape|asp|...&quot;
;         // Set the vars A-J to various values. E is set to &quot;[a-z]&quot;.
VrE       // Take V and replace each lowercase letter with:
&quot;[$&amp; ]&quot;   //  &quot;[&quot; + the char + &quot; ]&quot;.
</code></pre>
<p>However, this has the undesired effect of also matching three spaces, which has no effect on the result and thus ends the recursive replacement. We can get around this by replacing the match with two spaces instead of three:</p>
<pre><code>Ue    S²  // Take U, and recursively replace matches of the regex with &quot; &quot;.repeat(2).
</code></pre>
<p>Here's a basic demonstration of how and why this works (using <code>.</code> in place of a space):</p>
<pre><code>First match at the end: 
eleant
ele..   (ant)
el..    (eel)
...     (elk)
..      (...)
true

First match at the beginning: 
antmua
..mua   (ant)
...a    (emu)
..a     (...)
..      (boa)
true

First match in the middle: 
cantay
c..ay   (ant)
..ay    (cat)
...     (jay)
..      (...)
true
</code></pre>
<p>For truthy test-cases, this leaves us with a string of all spaces. For falsy test-cases, we have some letters left in the mix. This can be translated to true/false like so:</p>
<pre><code>     x   // Trim all spaces off the ends of the resulting string.
!        // Take the logical NOT of the result.
         // Empty string -&gt; true; non-empty string -&gt; false.
</code></pre>
<p>And that's about it! A bonus of this method is that even the largest test cases finish in under 5 milliseconds. (<a href="http://ethproductions.github.io/japt?v=89aaf4bcc3e158bd7e704da3445c344b0655856d&amp;code=O0M90DshVWVWckUiWyQmIF0iIFOyIHg7IlRvdGFsOiB70CAtQ30gbXM=&amp;input=ImVvbG1hbnRqa29iZWVhb3JheW9nYW93bGRmb3hheWVhc3NhcGliYXRtZmx5bHlyYWVsYXNwc3Nlb2xtYmVsa2thb2FudGxtdWZvZGFzZ251ZWFudGFpZGVudGh5YWtjb2RveHVlcGlnb2RnZ251YW50YXRsY2F0bnV1ZWxrcGVtdWNiYXBlZW9pYWhkb2dwbGtvd2xldGJhdGRyYXlhcmF5b2FlbGtncmF5b2RjYXRna2FudGV3a29iZWxqYXliZWV5ZmtvYnRiZGFiYWRvZ2hiYXRmb3h0Zmx5Z2FzcGRlaWRvZ3Rvd2xrZWFvbG15cmFlbGZsZWVsZWpheWVob2dvd2xjY2F0b3hlYWJpZW1rb2JwaWdvbG1ka29icmNpZGVreWFrYWJib3lpZGVwIiAiYW50fGFwZXxhc3B8YXNzfGJhdHxiZWV8Ym9hfGNhdHxjb2R8Y293fGRhYnxkb2d8ZWVsfGVsa3xlbXV8Zmx5fGZveHxnbnV8aG9nfGlkZXxqYXl8a2VhfGtvYnxrb2l8b2xtfG93bHxwaWd8cmF0fHJheXx5YWsi" rel="nofollow noreferrer">Tested here</a>)</p>
</div>
<div id="pu3" class="pu"><h2>ES6, <s>122</s> <s>121</s> <s>119</s> 104 bytes</h2>

<p>I had worked out how to do this as far as ETHproduction's answer but couldn't think of how to handle the <code>,,,</code>* problem, so naturally when I saw Peter Taylor's comment it all became clear. Then ETHproductions managed to find a better way to handle the problem which helpfully saves 15 bytes.</p>

<p>Input is the target word and an array of animal words.</p>

<pre><code>(s,a)=&gt;[...s].map(_=&gt;s=s.replace(RegExp(a.map(a=&gt;a.replace(/./g,"[&amp;$&amp;]")).join`|`),'&amp;&amp;'))&amp;&amp;!/\w/.test(s)
</code></pre>

<p>Edit: Saved <s>1 byte</s> 3 bytes thanks to @ETHproductions.</p>

<p>*Except I used &amp;s because it looks nicer in my <code>replace</code>.</p>
</div>
<div id="pu4" class="pu"><h1>GNU grep, 62 + 1 = 63 bytes</h1>
<pre><code>^(((.+)(?=.*!\3))*(...)(?=.*\4!)((.+)(?=.*\6!))*([^qvz]\B)?)+ 
</code></pre>
<p>This requires the <code>P</code> option. The input is expected to be the animal to be synthesized, followed by a space, followed by the list of 3-letter animals opened, closed, and delimited by exclamation marks. Example usage (assuming the program is saved as <code>zoo</code>):</p>
<pre><code>&gt; grep -Pf zoo
hippopotamus !ant!ape!asp!ass!bat!bee!boa!cat!cod!cow!dab!dog!eel!elk!emu!fly!fox!gnu!hog!ide!jay!kea!kob!koi!olm!owl!pig!rat!ray!yak!
</code></pre>
<p>For a true input, the input line is echoed back. For a false input, there is no output.</p>
<p>Thanks to Martin for spotting a bug and alerting me to the existence of <code>\B</code> for word non-boundary.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/70289/">70289</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




