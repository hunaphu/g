<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::275165</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>052</td><td>JavaScript Node.js</td><td>240827T011728Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275176#275176">l4m2</a></td></tr>
<tr d-ix="1"><td>nan</td><td>Rust</td><td>240831T124135Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275279#275279">138 Aspe</a></td></tr>
<tr d-ix="2"><td>594</td><td>Oracle SQL 11.2</td><td>240828T151244Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275207#275207">Jeto</a></td></tr>
<tr d-ix="3"><td>127</td><td>Clojure</td><td>240903T135900Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275320#275320">NikoNyrh</a></td></tr>
<tr d-ix="4"><td>109</td><td>C gcc</td><td>240831T014044Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275274#275274">Consindi</a></td></tr>
<tr d-ix="5"><td>114</td><td>C clang</td><td>240828T135743Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275205#275205">jdt</a></td></tr>
<tr d-ix="6"><td>117</td><td>Scala 3</td><td>240831T021730Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275275#275275">138 Aspe</a></td></tr>
<tr d-ix="7"><td>011</td><td>Brachylog</td><td>240829T094440Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275233#275233">Fatalize</a></td></tr>
<tr d-ix="8"><td>066</td><td>R</td><td>240827T191400Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275194#275194">David Jo</a></td></tr>
<tr d-ix="9"><td>009</td><td>Japt</td><td>240827T064722Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275182#275182">Shaggy</a></td></tr>
<tr d-ix="10"><td>049</td><td>Ruby</td><td>240827T170409Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275190#275190">Jordan</a></td></tr>
<tr d-ix="11"><td>064</td><td>Python 3</td><td>240827T175843Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275191#275191">Jonathan</a></td></tr>
<tr d-ix="12"><td>071</td><td>Python</td><td>240826T215815Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275172#275172">shape wa</a></td></tr>
<tr d-ix="13"><td>006</td><td>05AB1E</td><td>240827T071746Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275183#275183">Kevin Cr</a></td></tr>
<tr d-ix="14"><td>026</td><td>Retina</td><td>240827T104206Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275186#275186">Neil</a></td></tr>
<tr d-ix="15"><td>1087</td><td>Jelly</td><td>240827T001136Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275174#275174">Jonathan</a></td></tr>
<tr d-ix="16"><td>154</td><td>Google Sheets</td><td>240826T231658Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275173#275173">doubleun</a></td></tr>
<tr d-ix="17"><td>069</td><td>JavaScript ES6</td><td>240826T210254Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275167#275167">Arnauld</a></td></tr>
<tr d-ix="18"><td>009</td><td>Vyxal</td><td>240826T212519Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275169#275169">emanresu</a></td></tr>
<tr d-ix="19"><td>018</td><td>Charcoal</td><td>240826T210607Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275168#275168">Neil</a></td></tr>
<tr d-ix="20"><td>023</td><td>Jelly</td><td>240826T191846Z</td><td><a href="https://codegolf.stackexchange.com/questions/275165/completely-introduce-your-friends/275166#275166">hyperneu</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 52 bytes</h1>
<p>or 56 bytes if not flatten</p>

<pre class="lang-javascript prettyprint-override"><code>f=([a,...x])=&gt;x.flatMap(t=&gt;[a,t,...f(x),t,...x=[a]])
</code></pre>
<p><a href="https://tio.run/##VY/LasMwEEX3/grhjSScTj5ATCCvZXfduYaoruTIKJpgi2Io/XZ3lG7SxR2Gcw@DNNovO/dTuOeXRJ9uXT2q1m4AYOk07hbw0eZXe1cZd8xzabxa9N@2YGu7Tq89pZmig0iD8qqt9zH0rt7UB/rg@Ua3utO6erYmN@PDLBbnyDlxzg@TW4GCJ4wU0uUCN5v7q9oCbAdtqjkT11KaytOkgiAv94fj6Sz1dwHjEyhqgyI0Y1PO@RCzm8pnMiJDDdGlIV8bKaRht0H5nqT5@fdW5tqsvw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/f8/zVYjOlEnSUdPT68iVqdS09YuyR4mUFlTk6YRDZXTBIolgphpIA0Q5dGxmrFWFf@T8/OK83NS9XLy0zWAskqOOZnJqUo6Sk75SUAyJD9XKVZTkwtDFUgFEDsDsQsQu4JU/QcA" rel="nofollow noreferrer">or 67 bytes flatten</a></p>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 71 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=([a,b,...x],y)=&gt;b?[[a,b],...y||f([b,...x]),[b,a],...f([a,...x],[])]:x
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/f8/zVYjOlEnSUdPT68iVqdS09YuyT4aJBILEqqsqUnTiIbKauoAWYlg8TSQJoiW6FjNWKuK/8n5ecX5Oal6OfnpGkBZJceczORUJR0lp/wkIBmSn6sUq6nJhaEKpAKInYHYBYhdQar@AwA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<ul>
<li>A-&gt;B</li>
<li>f(ALL-A)</li>
<li>B-&gt;A</li>
<li>A-&gt;C-&gt;A, A-&gt;D-&gt;A, ...</li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.rust-lang.org" rel="nofollow noreferrer">Rust</a>, <del>316</del> <del>312</del> <del>294</del> 286 bytes</h1>
<p>Saved 4+18+8=30 bytes thanks to @ceilingcat</p>
<hr />
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=VVHLboMwEFSv_YjKySF4JbDUWwWBHvoLUS4IRcYsEqoxkWMiAuRLesmh_aj2a2oeSVofVrvamfF4_PGp64O5XL5qk3svPw9PuSL5euO_yUphRBt_FW8S8KItivUm6iQaov1pCBtWGNQUGKq6RM0N2j6X3OxKvqc9LdwU-u6GMvwdaQFsWJbVEXveU87EcBEFN712AGdghTLVbub9UeSD4hHFIr4T-Z3qpgkwUUmJwlAIBrNtqJlERcF7HueyNuQUjhI6bpMrMwlODBuDKqP6n98WJkhmjQWn8xTT99amVPLCypLukdgz5oKHWhoSkpyuYoc7LnHSoYihZE4CwQjda_s4qRZ02fmv56U78-x2Vr9-xi8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-rust prettyprint-override"><code>fn f&lt;T:Clone&gt;(x:&amp;[T])-&gt;Vec&lt;T&gt;{let r:Vec&lt;T&gt;=x.iter().enumerate().flat_map(|(i,b)|{x.iter().take(i).map(move|a|(a.clone(),b.clone()))}).into_iter().flat_map(|(a,b)|vec![a.clone(),a,b.clone(),b]).collect();let z=r.len()-1;let mut y=vec![r[z].clone()];y.extend(r.iter().take(z).cloned());y}
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=fVNBboMwEJR6zCucHIqRCFJvFU3TQ7-AekEIOc6iWDU2giVpFXhJLzm0n-oX-omaYChFafdgGe_u7MzYvL0XVYmn00eF6fL28-orVQQPOgEJGShMuM42QjEUWpWrMCCPUitYUylKDMh1FMYuWa7JE_AVDT0SumtynBETbYEvEArqnr_b8EFVGRQMYXyYSoZJxnJaU-GRjVtbhD4uIQ3NyJ6BiguJFjDTeyA1qwllPm95U9cM6LfuT1czosO1lMDRDGtmM2NG-r_qcBAMSAooK2kqbOL-TyfPSKOhQqFOpm6NjGGdMXvg82ikhY3kmG18Scbd-WygmFWGpkZzB1vDzxANgoPAXcJZzrjAV9pp8CUoY1HXbOv9vCp3Nh-Ny8iS3MSDrb974AVBbXvUTmJ3a1MEt0PYTiHsPWRMtIVTs42IlF5HDnM84mzahbfL1oktSl4Yc6Wa08UxeGgWnu0z2aZ78_bp97_ANw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-rust prettyprint-override"><code>fn two_element_combinations&lt;T: Clone&gt;(list: &amp;[T]) -&gt; Vec&lt;(T, T)&gt; {
    list.iter()
        .enumerate()
        .flat_map(|(i, b)| {
            list.iter()
                .take(i)
                .map(move |a| (a.clone(), b.clone()))
        })
        .collect()
}

fn f&lt;T: Clone&gt;(list: &amp;[T]) -&gt; Vec&lt;T&gt; {
    let result: Vec&lt;T&gt; = two_element_combinations(list)
        .into_iter()
        .flat_map(|(a, b)| vec![a.clone(), a, b.clone(), b])
        .collect();
    
    let mut rotated = Vec::with_capacity(result.len());
    rotated.push(result[result.len() - 1].clone());
    rotated.extend(result.iter().take(result.len() - 1).cloned());
    rotated
}

fn main() {
    let result = f(&amp;['a', 'b', 'c', 'd']);
    println!(&quot;{:?}&quot;, result);
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Oracle SQL 11.2, 594 bytes</h1>

<pre class="lang-sql prettyprint-override"><code>WITH v(s,i,j,r)AS(SELECT :1,1,LENGTH(:1),''FROM DUAL UNION ALL SELECT s,i+DECODE(j,i+1,1,0),DECODE(j,i+1,LENGTH(s),j-1),SUBSTR(s,i,1)||SUBSTR(s,j,1)FROM v WHERE j&gt;i),l AS(SELECT i,j,r,1 p FROM v UNION ALL SELECT i,j,REVERSE(r),2 p FROM v),m AS(SELECT l.*,DECODE(p,1,0,DECODE(LAG(i,2,i)OVER(ORDER BY i,j DESC,p),i,0,j-i))o FROM l)SELECT LISTAGG(r)WITHIN GROUP(ORDER BY o,i,j DESC,p)FROM m;
</code></pre>
<p>Un-golfed</p>
<pre class="lang-sql prettyprint-override"><code>WITH v(s,i,j,r) AS --&gt; Generate the pairs
(
  SELECT :1 s
       , 1 i
       , LENGTH(:1) j
       , '' r
  FROM DUAL
  UNION ALL
  SELECT s
       , i+DECODE(j,i+1,1,0)
       , DECODE(j,i+1,LENGTH(s),j-1)
       , SUBSTR(s,i,1)||SUBSTR(s,j,1)
  FROM v
  WHERE j&gt;i
)
, l AS  --&gt; Add the reverse pairs
(
  SELECT i,j,r,1 p
  FROM v
  UNION ALL
  SELECT i,j,REVERSE(r),2 p FROM v
)
, m AS  --&gt; Add a new variable to order the pairs based on when the first item in the pair change 
(
  SELECT l.*
       , DECODE(p,1,0,DECODE(LAG(i,2,i)OVER(ORDER BY i,j DESC,p),i,0,j-i))o
  FROM l
  WHERE r IS NOT NULL
)
SELECT LISTAGG(r)WITHIN GROUP(ORDER BY o,i,j DESC,p)
FROM m
;
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Clojure, 127 bytes</h1>
<pre><code>#(first(filter(fn[i](=(set(map(fn[[x a][b y]](= a b))i(rest i)))#{true}))(iterate shuffle(for[a % b % :when(not= a b)][a b]))))
</code></pre>
<p>This turned out to be a bit... exotic. The list of greetings is shuffled until it satisfies the condition! So the runtime will be poor on larger groups of people. Is this <code>O(n!)</code> ?</p>
<p>Ungolfed with <a href="https://clojure.org/guides/threading_macros#thread-last" rel="nofollow noreferrer">thread-last</a> macro:</p>
<pre><code>(def perm #(-&gt;&gt; (for [a %
                      b %
                      :when (not= a b)]
                  [a b])
                (iterate shuffle)
                (filter (fn [i] (-&gt;&gt; (map = (map second i)
                                            (map first (rest i)))
                                     set
                                     (= #{true}))))
                first))
</code></pre>
<p><a href="https://tio.run/##JY5RCgIxDET/PUXYRUiuIHiS0o@2pmyk2y5pFxXx7LWrAxkYXhImpHLflXvHG0fYWFeYMYrWNjw1VozZiMUrVm64uu3I5gnOGg8vOwA48ESCyrWBENH8brrzhwhl3LvGUJc9xsQYixoHZ/BjLo@FM@bS/g/sAN7SodMJN5XcUgb8FTKTSxJ4gskXPzxwkCRuGuu9fwE" rel="nofollow noreferrer">TIO</a>.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 109 bytes</h1>

<pre class="lang-c prettyprint-override"><code>n;main(c,s)char**s;{for(n=c;s[n]||(++s)[n=1];n++)printf(&quot;%s %s %s %s &quot;,*s,s[n],s[n],s[!s[n+1]*(n-1?1:3-c)]);}
</code></pre>
<p><a href="https://tio.run/##PYrNCsIwEAZfRQtCfppD8KKG4IOUHOLW1IJuJdub9dX91IPCMHMZcgMRwOGWR1bUiqZLrsZIeJSpKo4UpOO0LMpa0R1HnwJbq@915LmoZiOrP01rpP3eP60/tT4Zxc4f/WHrSCcdngAyTiD0OKO8qFzzIHAy95F2@zc" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="http://clang.llvm.org/" rel="nofollow noreferrer">C (clang)</a>, <s>115</s> 114 bytes</h1>

<pre class="lang-c prettyprint-override"><code>f(**s,n,*o){for(int*w,j=n-1,i=*o=0;i&lt;n;i-=i-j&amp;&amp;!strstr(o,w)?j=i-!strcat(o,w):-1)asprintf(&amp;w,&quot;%s %s\n&quot;,s[j],s[i]);}
</code></pre>
<p><a href="https://tio.run/##ldDdaoMwFAfwe5/iTKhEicyvqzkZ@3oK50WWaRdxSTHphBVffS7GdhA7GBU50f850R@hIe0I305Tg4JAYo4D4R8a0SPGVTDgtuBhjFkRiCLK2S3PWViwsPW8K6l6fSOBB/@u1dkcUKJMcBPGPpG7Xn@jQd6A3Y2EjXzhLpZlW@nCKj8fJ92GD8I48uHggL5Moe@kB7FXu70q4yiKqtwx@QwCVUsVlxUUcACXuBjcVxfG/DQAkn3Vse7Oq2iQGffh@vQeLMEyf2zjZRM@/vPY1E8S/SY2IFkBdKFnisRWJGtFYimSRZFcoEhPivuO0XpGPAhjedQH2DGTPJFPsz7rZQ1MbWC6BqYWMF2A6QXA7K9j0uVtLobVnKEyG5WtUZmFyhZU9j@qr9W@5xDlzjh906YjWzmFww8" rel="nofollow noreferrer" title="C (clang) – Try It Online">Try it online!</a></p>
<p>Ungolfed:</p>
<pre class="lang-c prettyprint-override"><code>void func(char **s, int n, char *out) {
    int i = 0;
    int j = n - 1;
    char pair[80];
    *out = 0;
    for (; i &lt; n; i++) {
        if (i != j) {
            sprintf(pair, &quot;%s %s\n&quot;, s[j], s[i]);
            if (!strstr(out, pair)) {
                strcat(out, pair);
                j = i;
                i = -1;
            } 
        }
    }
}
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala 3</a>, 117 bytes</h1>
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=VU-7bsMwDNz9FUQWS6ijoV0KFzJQZCrgTEHRAoYH2pYSNY7iSkpfhr-kS5Z26Rflb0onWbIcj8SRvPv-9TW2ePNXTKZ2-47OTsrD9bZ6UXWAORoLfRQBvGELOgWWGx-K2QpdyWW2UK8nDhJ-dkFPbw-7XGb9KHYyF1-mezJh9WAb9SF0i2GOXV-jV6xKDO3nIuBaMcPFBjuGMmOYVJwPl9pxdvxFjDh1w50TLfpwlTphrAnD-fkzQKM0bMg1Q7f0Kdw7h5_FIjhjlyVP4ZHUZLanRAAdTUNrmT6mYjHGCcTVCPUITcw5J-EQne_v96f6Dw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>L=&gt;{val r=L.zipWithIndex.flatMap{case(b,i)=&gt;L.take(i).map(a=&gt;(a,b))}.flatMap{case(a,b)=&gt;Seq(a,a,b,b)};r.last+:r.init}
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=bVG9TsMwEBZrnuK22CJkYUGRioQqBqR0ahBD1OGSOMXgOCG-8lflSVi6wAPwODwNtptSpHbwyXf-7vu-8318mRIVnm82nyuqzy5-Tr7b4kGUBDOUGtYBQCVqoJf2WolGaJq2TSE1kmy1ybMFSxNIpSF75QnMxVPOsggyvoCJbwZI43fZ3Um6v9GVeI1rhTTDDtZQohHAiggkh8mlxzo04aNgkscNdgztAzCMoODcA4bAndFUfVQ_20s_o4JemJUiWzo-Akv5gSWv55QtnUtc7kvDnrUlJFFZ2i1_rNAQnCa7VGpJHjwC_9tu7Mcy7Jcmgau-x7d8Tr3US-f_1rb9ue9slZRmNXMDshDDCMLChdKFKuT-U4Zg2K5u3OBuk78" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def twoElementCombinations[T](L: List[T]): Seq[(T, T)] = {
    L.zipWithIndex.flatMap { case (b, i) =&gt;
      L.take(i).map(a =&gt; (a, b))
    }
  }

  def f[T](L: List[T]): Seq[T] = {
    val result = twoElementCombinations(L).flatMap { case (a, b) =&gt; Seq(a, a, b, b) }
    val rotated = result.last +: result.init
    rotated
  }

  def main(args: Array[String]): Unit = {
    println(f(List('a', 'b', 'c', 'd')))
  }
}
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 11 bytes</h1>
<pre><code>{⊇Ċ}ᶠcgj↺ᵗz
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r/v/pRV/uRrtqH2xYkp2c9atv1cOv0qv//o5USlXSUkoA4WSn2fxQA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>Same algorithm as most approaches.</p>
<pre><code>{⊇Ċ}ᶠ          Find all pairs
     cgj       Flatten and duplicate
        ↺ᵗ     Shift duplicate cyclically to the left
           z   Zip
</code></pre>
<h2>A more declarative approach, 18 bytes</h2>
<pre><code>{⊇Ċp}ᶠp.¬{s₂tʰhᵗ≠}
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r/v/pRV/uRroLah9sWFOgdWlNd/KipqeTUhoyHW6c/6lxQ@/9/tFKiko5SEhAnK8X@jwIA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>Longer and less efficient, but easily readable.</p>
<pre><code>{⊇Ċp}ᶠ                Find all pairs, both permutations
      p.              The final output is a permutation of this list of all pairs
        ¬{       }    Such that it is impossible…
          s₂          To find two consecutive pairs…
            tʰ         Where the last element of the first pair…
              hᵗ≠      Is different from the first element of the second pair
</code></pre>
</div>
<div id="pu8" class="pu"><h1>R, 66 bytes</h1>
<p>This accepts a character vector of names <code>x</code> that needs to be specified beforehand:</p>
<pre><code>for(i in 1:ncol(combn(x,2)))print(combinat::permn(combn(x,2)[,i]))
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>11</s> 9 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>à2 c
íUéJ
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=4DIgYwrtVelK&amp;input=WzAgMSAyIDNdCi1R" rel="nofollow noreferrer">Try it</a></p>
<pre><code>à2 c\níUéJ     :Implicit input of array U
à2             :Combinations of length 2
   c           :Flatten
    \n         :Reassign to U
      í        :Interleave with
       Ué      :  U rotated right
         J     :    -1 times (i.e., rotated left)
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 49 bytes</h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/275174/11261">Jonathan Allan's Jelly answer</a>; give him an upvote.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a{(b=[*a.combination(2)].flatten).zip b.rotate}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kqDSpcsEiN9ulpSVpuhY3DXXtEqs1kmyjtRL1kvNzkzLzEksy8_M0jDRj9dJyEktKUvM09aoyCxSS9IrySxJLUmshGrcVKLhFRyslKukoJQFxMhCnKMXGQiQXLIDQAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://docs.python.org/3/" rel="noreferrer">Python 3</a>, 64 bytes</h1>
<p>I started by looking at <a href="https://codegolf.stackexchange.com/users/123885/shape-warrior-t">shape warrior t</a>'s excellent <a href="https://codegolf.stackexchange.com/a/275172/53748">Python 3 answer</a> (go upvote!), but got to a slightly different solution in terms of both function and form, so went with a new post.</p>

<pre class="lang-python prettyprint-override"><code>f=lambda h,*r:r and sum(((h,h,n,n)for n in r),r[-1:])[:-1]+f(*r)
</code></pre>
<p>A recursive function that accepts the names as arguments and returns a flat tuple of the names.</p>
<p><strong><a href="https://tio.run/##HcjBCsIwDADQX8mtycwOw1vBgzq/YuzQOUsKXTriFPz6qjs9eOtnk6LHWuMph2WaAwg35g2CzvB8LYgoLKysFIuBQlIwYhvazo80@LYbDxEbo7pa0g0junNO94djcJcy/blKsJz26cN79/aDqH4B" rel="noreferrer" title="Python 3 – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre class="lang-python prettyprint-override"><code>f=lambda     :                                                   # f is a function
          ,                                                      # that accepts:
         h                                                       #   h, the head name
           *r                                                    #   r, the rest of the names
              r and                                              # return r if empty, else...
                    sum(                     ,      )            # concatenate:
                                              r[-1:]             #   the tail name
                        (         for n in r)                    #   and for each n(ame) in r:
                         (h,h,n,n)                               #     (head, head, n, n)
                                                     [:-1]       # and remove the very last n
                                                          +      # and concatenate
                                                           f(  ) #   a recursive call to f
                                                             *r  #     with just the rest
                                                                 #       (i.e. h will be the
                                                                 #        first of the rest)
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.python.org" rel="noreferrer">Python</a>, <s>88</s> <s>74</s> 71 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda L:sum([[a,a,b,b]for b in L for a in L[:L.index(b)]],L[-1:])[:-1]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhY33XMSc5NSEhV8rIpLczWioxN1EnWSdJJi0_KLFJIUMvMUfBRAzEQwM9rKRy8zLyW1QiNJMzZWxyda19AqVjPaStcwFmLcvoKizLwSjTSNaPVEdR0F9SQQkQwiUtRjNTUhihYsgNAA" rel="noreferrer">Attempt This Online!</a></p>
<p>-14 bytes thanks to att, replacing a call to <code>itertools.combinations</code>. -3 bytes thanks to Jonathan Allan with a better way to get the iteration index. Outputs as a flattened list.</p>
<p>Ungolfed algorithm:</p>
<pre class="lang-python prettyprint-override"><code>from collections import deque

def two_element_combinations(L):
    for i, b in enumerate(L):
        # In the golfed code: i == L.index(b) as names are unique
        for a in L[:i]:
            yield a, b

def f(L):
    result = deque(x for a, b in two_element_combinations(L) for x in [a, a, b, b])
    result.rotate()  # a b c d -&gt; d a b c
    return result
</code></pre>
<h2>Explanation</h2>
<p>If we imagine a directed graph where vertices represent friends and edges represent introductions, this challenge algorithmically boils down to finding an <a href="https://en.wikipedia.org/wiki/Eulerian_path" rel="noreferrer">Eulerian path</a> in a <a href="https://en.wikipedia.org/wiki/Complete_graph" rel="noreferrer">complete digraph</a>.</p>
<p>It turns out that (using example vertices A, B, C, D, E, F) the loop with the sequence of vertices<br />
<code>ABACBCADBDCDAEBECEDEAFBFCFDFEF</code> is a valid Eulerian path. Grouping the vertices (which gives the edges that appear at even-numbered positions under 0-indexing), we have<br />
<code>AB AC BC AD BD CD AE BE CE DE AF BF CF DF EF</code>, the two-element combinations of <code>ABCDEF</code> where the first element comes before the second. Rotating left by one yields<br />
<code>BACBCADBDCDAEBECEDEAFBFCFDFEFA</code>, and regrouping (which gives the edges that appear at odd-numbered positions under 0-indexing) gives us<br />
<code>BA CB CA DB DC DA EB EC ED EA FB FC FD FE FA</code>, the two-element combinations of <code>ABCDEF</code> where the first element comes after the second (in a slightly weird order -- combinations that end in A are moved to the end of their respective groups). Between these two groupings, every edge is accounted for exactly once in the entire path.</p>
<p>The output format in this challenge requires a sequence of edges, not vertices. The loop with vertices <code>A B C D</code> has the edges <code>AB BC CD DA</code>, or equivalently <code>DA AB BC CD</code>. The flattened form <code>DAABBCCD</code> can be produced from <code>ABCD</code> by doubling each vertex and rotating right by one.</p>
<p>In the actual code, we take the first list of two-element combinations, double both vertices in each combination, and then flatten and rotate the entire thing. For vertices A, B, C, D, the golfed code calculates <code>rotate_right(flatten([AABB, AACC, ..., CCDD]))</code> as<br />
<code>all_but_last(D + AABB + AACC + ... + CCDD)</code>.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>7</s> 6 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>.Æ˜DÀø
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/275174/52210"><em>@JonathanAllan</em>'s Jelly answer</a>, so make sure to upvote that answer as well!<br />
-1 byte thanks to <em>@JonathanAllan</em></p>
<p><a href="https://tio.run/##yy9OTMpM/f9f73Db6TkuhxsO7/j/P1opUUlHKQmIk5ViAQ" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfaXLf73DbafnuBxuOLzjv86hbfb/o6OVEpV0lJKUYnUUYEwdpWR0ro5SChCnQoQdczKTU4Fcp3yQZEh@LljYUMdIxzg2FgA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>        #  e.g. input = [1,2,3]
.Æ      # Create all possible pairs of the (implicit) input-list
        #  STACK: [[1,2],[1,3],[2,3]]
  ˜     # Flatten it
        #  STACK: [1,2,1,3,2,3]
   D    # Duplicate this list
        #  STACK: [1,2,1,3,2,3],[1,2,1,3,2,3]
    À   # Rotate the items in the copy once towards the left
        #  STACK: [1,2,1,3,2,3],[2,1,3,2,3,1]
     ø  # Zip to create pairs using both lists
        #  STACK: [[1,2],[2,1],[1,3],[3,2],[2,3],[3,1]]
        # (after which the result is output implicitly)
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 26 bytes</h1>
<pre><code>w`(.).*(.)
$1$1$2$2
V`.+\B
</code></pre>
<p><a href="https://tio.run/##K0otycxLNPyvquGe8L88QUNPU08LSHCpGAKhkYoRV1iCnnaM0///SYlcyUCcAiJSQSQA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>w`(.).*(.)
$1$1$2$2
</code></pre>
<p>List all pairs of characters without replacement, but doubled.</p>
<pre><code>V`.+\B
</code></pre>
<p>Mirror all but the last character of the string.</p>
<p>33 bytes to output using the order from <a href="https://oeis.org/A097285" rel="nofollow noreferrer">A097285</a>:</p>
<pre><code>rw`(.).*(.)
$1$1$2$2
(.)(.+)
$2$1
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, <S> 10 8 </s> 7 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="noreferrer">bytes</a></h1>
<pre><code>ŒcẎṙ-żƊ
</code></pre>
<p>A monadic Link that accepts a list of names (lists of characters) and yields a list of pairs of names.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///opOSHu/oe7pype3TPsa7/h9vd//@PVnLMyUxOVdJRUHLKTwJRzhmJRTmZYBGXxDIw7QqkYgE" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h4>How?</h4>
<pre><code>ŒcẎṙ-żƊ - Link: Names
Œc      - ordered pairs {Names} -&gt; [[a,b],[a,c],...,[a,Z],[b,c],...[Y,Z]]
  Ẏ     - tighten               -&gt; [a,b,a,c,...,a,Z,b,c,...,X,Y,Z]
      Ɗ - last three links as a monad - f(X=that):
    -   -   -1
   ṙ    -   rotate {X} left by -1 (rotate right by 1)
                                -&gt; [Z,a,b,a,c,...,a,Z,b,c,...,X,Y]
     ż  -   zip with {X}        -&gt; [[Z,a],[a,b],[b,a],[a,c],...,[a,Z],[Z,b],[b,c],...,[X,Y]]
</code></pre>
</div>
<div id="pu16" class="pu"><h1>Google Sheets, 154 bytes</h1>
<pre><code>=let(s,&quot; &quot;,f,lambda(f,a,let(n,counta(a)-1,h,+a,t,choosecols(a,sequence(n,1,2)),if(n,join(s,sort(h&amp;s&amp;h&amp;s&amp;t&amp;s&amp;t),f(f,t)),))),mid(f(f,1:1),2+len(A1),9^9)&amp;A1)
</code></pre>
<p>Put the names in row <code>1</code> and the formula in cell <code>A2</code>.</p>
<p>The formula takes the first name and pairs it with every name that follows it, repeating each name twice every time. Does the same recursively with remaining names, pairing each name with every name that follows it (but without pairing with preceding ones.) Finally, tidies up the head and tail with string manipulation.</p>
<p><img src="https://i.sstatic.net/Jjij4L2C.png" alt="screenshot" /></p>
<p>Ungolfed:</p>
<pre><code>=let( 
  s, &quot; &quot;, 
  f, lambda(f, a, let( 
    n, counta(a) - 1, 
    head, single(a), 
    tail, choosecols(a, sequence(n, 1, 2)), 
    if(n, 
      join(s, 
        sort(head &amp; s &amp; head &amp; s &amp; tail &amp; s &amp; tail), 
        f(f, tail) 
      ), 
      &quot;&quot; 
    ) 
  )), 
  mid(f(f, { A1:1 }), 2 + len(A1), 9^9) &amp; A1 
)
</code></pre>
<p>Uses <code>sort()</code> as array enabler only.</p>
<p>Pretty much the same in JavaScript (non-competing):</p>
<pre class="lang-js prettyprint-override"><code>f = a =&gt;
  a.slice(1)
    .map(n =&gt; ([a[0], a[0], n, n]).join())
    .join()
  + (a.length &gt; 1 ? ',' + f(a.slice(1)) : '')

g = A =&gt; f(A).slice(A[0].length + 1) + A[0]

console.log(g([&quot;Alice&quot;,&quot;Bob&quot;,&quot;Cole&quot;,&quot;Dave&quot;])) // &quot;Alice,Bob,Bob,Alice,Alice,Cole,Cole,Alice,Alice,Dave,Dave,Bob,Bob,Cole,Cole,Bob,Bob,Dave,Dave,Cole,Cole,Dave,Dave,Alice&quot;
</code></pre>
</div>
<div id="pu17" class="pu"><h1>JavaScript (ES6), 69 bytes</h1>
<p>Expects an array of strings and returns a flat list as a comma-separated string.</p>

<pre class="lang-javascript prettyprint-override"><code>f=([v,...a],b=v)=&gt;a.map((p,i)=&gt;[v,p,p,a[i+1]?v:i?[a[0],f(a,b)]:b])+&quot;&quot;
</code></pre>
<p><a href="https://tio.run/##ZYrNCsMgEITvfQxPK7HSXgM29O8NepM9rFaLxURpiq9vN@cyfAPDfG9qtPpPqt/9Up6h92jANqW1JlTONGlOpGeqAFUlHvxVDtk0HHFqY5os2QOqCKScxNGhHITovixryUHn8oIIVpxz8kEocSmO@1FmgVLu/qzNYK7MjblvVv8B" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Method</h3>
<p>Given <span class="math-container">\$n\$</span> elements, we do <span class="math-container">\$n-1\$</span> iterations from <span class="math-container">\$j=0\$</span> to <span class="math-container">\$j=n-2\$</span>.</p>
<p>At each iteration, we generate:</p>
<ul>
<li>all the pairs of the form <span class="math-container">\$\color{blue}{(j,k)},\:j&lt;k&lt;n\$</span></li>
<li>interleaved with the pairs of the form <span class="math-container">\$\color{green}{(k,j)},\:j&lt;k&lt;n-1\$</span></li>
<li>followed by the pair <span class="math-container">\$\color{purple}{(n-1,j+1)}\$</span> if <span class="math-container">\$j&lt;n-2\$</span> or <span class="math-container">\$\color{red}{(n-1,0)}\$</span> otherwise</li>
</ul>
<p>With five elements, this gives:</p>
<p><span class="math-container">$$\begin{aligned}&amp;j=0:\color{blue}{(0,1)}\color{green}{(1,0)}\color{blue}{(0,2)}\color{green}{(2,0)}\color{blue}{(0,3)}\color{green}{(3,0)}\color{blue}{(0,4)}\color{purple}{(4,1)}\\
&amp;j=1:\color{blue}{(1,2)}\color{green}{(2,1)}\color{blue}{(1,3)}\color{green}{(3,1)}\color{blue}{(1,4)}\color{purple}{(4,2)}\\
&amp;j=2:\color{blue}{(2,3)}\color{green}{(3,2)}\color{blue}{(2,4)}\color{purple}{(4,3)}\\
&amp;j=3:\color{blue}{(3,4)}\color{red}{(4,0)}\end{aligned}$$</span></p>
<p>Note that the actual JS implementation directly manipulates the entries of the original array rather than their indices.</p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (             // f is a recursive function taking:
  [ v,            //   v   = next element
       ...a ],    //   a[] = remaining elements
  b = v           //   b   = copy of the first element
) =&gt;              //
a.map((p, i) =&gt;   // for each element p at index i in a[]:
  [               //
    v, p,         //   insert the pair (v, p)
    p,            //   insert the pair (p, X), where ...
    a[i + 1] ?    //     if this is not the last element:
      v           //       X = v
    :             //     else:
      i ?         //       if i &gt; 0:
        [ a[0],   //         X = a[0] followed by the result
          f(a, b) //             of a recursive call
        ]         //
      :           //       else (last iteration):
        b         //         X = b
  ]               //
)                 // end of map()
+ &quot;&quot;              // coerce to a string
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="noreferrer">Vyxal</a>, 9 bytes</h1>
<pre><code>KƛZṫwẊ;fǓ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCJLxpta4bmrd+G6ijtmx5MiLCIiLCJbXCJhXCIsXCJiXCIsXCJjXCIsXCJkXCIsXCJlXCJdIl0=" rel="noreferrer">Try it Online!</a>
Port of Neil's Charcoal answer.</p>
<pre><code>Kƛ    ;   # Over every prefix  
  Z       # Double each value
    wẊ    # Append the last value to
   ṫ      # The rest
       fǓ # Flatten and move the first character to the end.
</code></pre>
<h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="noreferrer">Vyxal</a>, 14 bytes</h1>
<pre><code>₌ẊZFṖvf'zy∩≈;h
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCLigozhuopaRuG5lnZmJ3p54oip4omIO2giLCIiLCJbXCJhXCIsXCJiXCIsXCJjXCJdIl0=" rel="noreferrer">Try it Online!</a></p>
<p>Brute force answer. 12 bytes by removing the <code>;h</code> if we can output all solutions.</p>
<pre><code>    Ṗ          # Permutations
 Ẋ             # Of all pairs in the input
₌ ZF           # Aside from doubles of one item
     vf        # Flatten each
       '    ;h # Find one where
        zy     # Every other overlapping pair
          ∩≈   # Has all elements equal?
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 18 bytes</h1>
<pre><code>Φ⭆θ⭆…θκ⁺×²λ×²ικ§θ⁰
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMMtM6cktUgjuATIS/dNLNAo1FFAcJwrk3NSnTPywcLZmjoKATmlxRohmbmpxRpGOgo5QBE4J1MTCECqNK25IGY7lnjmpaRWgPQaAEX//09MSk5J/a9blgMA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: <a href="https://oeis.org/A097285" rel="nofollow noreferrer">A097285</a> is almost the sequence of indices, with each element doubled, except that there is only one of the first element at the start, the second coming at the end.</p>
<pre><code>  θ                 Input list
 ⭆                  Map over letters and join
     θ              Input list
    …               Truncated to length
      κ             Current index
   ⭆                Map over letters and join
          λ         Inner letter
        ×²          Doubled
       ⁺            Concatenated with
             ι      Outer letter
           ×²       Doubled
Φ             κ§θ⁰  Remove the first element and append it to the end
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/DennisMitchell/jellylanguage" rel="nofollow noreferrer">Jelly</a>, 23 bytes</h1>
<pre><code>2œṖ$ÐƤṖUp/€żUẎṖƲ€Ẏ;Uṡ2Ɗ
</code></pre>
<p><a href="https://jht.hyper-neutrino.xyz/tio#WyIiLCIyxZPhuZYkw5DGpOG5llVwL+KCrMW8VeG6juG5lsay4oKs4bqOO1XhuaEyxooiLCLDh8WS4bmYIiwiIixbIlwiYWJjZFwiIl1d" rel="nofollow noreferrer">Try It Online!</a></p>
<p>pretty horribly long but it is fairly efficient and i kinda like the idea of it which is basically this: starting from the first person counting forwards, we introduce them to everyone starting from the last person counting backwards and do this back and forth until the next person, then we do not introduce them back, and we repeat this until we've done all of the introductions except each person to the one before them which we do at the end to close the loop</p>
<h2>Explanation</h2>
<pre><code>2œṖ$ÐƤṖUp/€żUẎṖƲ€Ẏ;Uṡ2Ɗ    main link
    ÐƤ                     for each suffix of the list
2œṖ$                       - partition at index 2, so split the first element off
      Ṗ                    remove the last element (the single list)
       U                   reverse (vectorizing) to flip the targets around
           €               for each of these pairs
         p/                - take their cartesian product to get each intro pair
                Ʋ€          for each of these lists of intros
           żU              - interleave with the reverse
             Ẏ             - flatten by one level
              Ṗ            - remove the last element (the last back-intro)
                 Ẏ         flatten by one level
                  ;   Ɗ    append
                   Uṡ2     - each pair of [the original list reversed]
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/275165/">275165</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




