<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::117583</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>141</td><td>Tcl</td><td>180423T143533Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/163137#163137">sergiol</a></td></tr>
<tr d-ix="1"><td>065</td><td>Perl 5 n</td><td>210315T131718Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/220704#220704">mik</a></td></tr>
<tr d-ix="2"><td>087</td><td>PowerShell Core</td><td>201223T002858Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/216802#216802">Julian</a></td></tr>
<tr d-ix="3"><td>010</td><td>Stax</td><td>201224T031548Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/216854#216854">Razetime</a></td></tr>
<tr d-ix="4"><td>015</td><td>APL Dyalog Extended</td><td>201222T171400Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/216776#216776">user</a></td></tr>
<tr d-ix="5"><td>072</td><td>Wolfram Language Mathematica</td><td>201222T204038Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/216792#216792">FarSeenN</a></td></tr>
<tr d-ix="6"><td>049</td><td>Perl 5 MListUtil=product</td><td>201222T170449Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/216774#216774">Xcali</a></td></tr>
<tr d-ix="7"><td>031</td><td>J</td><td>171104T170227Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/147113#147113">Galen Iv</a></td></tr>
<tr d-ix="8"><td>006</td><td>Husk</td><td>171104T171557Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/147116#147116">Erik the</a></td></tr>
<tr d-ix="9"><td>060</td><td>TIBASIC</td><td>170426T043728Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117666#117666">Scott Mi</a></td></tr>
<tr d-ix="10"><td>161</td><td>C</td><td>170426T022630Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117664#117664">2501</a></td></tr>
<tr d-ix="11"><td>011</td><td>Pyth</td><td>170425T205005Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117636#117636">K Zhang</a></td></tr>
<tr d-ix="12"><td>089</td><td>JavaScript ES6</td><td>170425T160751Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117609#117609">Arnauld</a></td></tr>
<tr d-ix="13"><td>044</td><td>GolfScript</td><td>170426T103937Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117684#117684">Leaky Nu</a></td></tr>
<tr d-ix="14"><td>220</td><td>Java 7</td><td>170426T081312Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117672#117672">Kevin Cr</a></td></tr>
<tr d-ix="15"><td>009</td><td>Pyth</td><td>170426T074708Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117669#117669">Leaky Nu</a></td></tr>
<tr d-ix="16"><td>067</td><td>Haskell</td><td>170425T172348Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117617#117617">Laikoni</a></td></tr>
<tr d-ix="17"><td>231</td><td>Axiom</td><td>170425T224319Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117649#117649">user5898</a></td></tr>
<tr d-ix="18"><td>056</td><td>Wolfram Language</td><td>170425T153531Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117605#117605">Scott Mi</a></td></tr>
<tr d-ix="19"><td>213</td><td>Java 9 JSHell</td><td>170425T203050Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117633#117633">David Co</a></td></tr>
<tr d-ix="20"><td>030</td><td>Pyth</td><td>170425T184651Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117625#117625">Maria</a></td></tr>
<tr d-ix="21"><td>092</td><td>JavaScript</td><td>170425T140944Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117596#117596">fəˈnɛtɪk</a></td></tr>
<tr d-ix="22"><td>120</td><td>R</td><td>170425T141215Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117597#117597">Neil</a></td></tr>
<tr d-ix="23"><td>nan</td><td></td><td>170425T153352Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117604#117604">Brad Gil</a></td></tr>
<tr d-ix="24"><td>109</td><td>ClojureScript</td><td>170425T133311Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117590#117590">clismiqu</a></td></tr>
<tr d-ix="25"><td>012</td><td>05AB1E</td><td>170425T132109Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117587#117587">Emigna</a></td></tr>
<tr d-ix="26"><td>017</td><td>Brachylog</td><td>170425T134857Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117594#117594">Fatalize</a></td></tr>
<tr d-ix="27"><td>088</td><td>Python 2</td><td>170425T134232Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117592#117592">ovs</a></td></tr>
<tr d-ix="28"><td>110</td><td>Python 3</td><td>170425T134741Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117593#117593">Leaky Nu</a></td></tr>
<tr d-ix="29"><td>006</td><td>Jelly</td><td>170425T125010Z</td><td><a href="https://codegolf.stackexchange.com/questions/117583/factorials-and-never-ending-cycles/117584#117584">Leaky Nu</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://tcl.tk/" rel="nofollow noreferrer">Tcl</a>, 141 bytes</h1>
<pre><code>proc P {n L\ &quot;&quot;} {proc F n {expr $n?($n)*\[F $n-1]:1}
while {[set n [expr [join [lmap d [split $n &quot;&quot;] {F $d}] +]]]ni$L} {lappend L $n}
set L}
</code></pre>
<p><a href="https://tio.run/##HY69DoMwDIT3PMUJMfRHHWg3lm6dMrAHDwgiNVVqIkjVSlGePTVMPtnf3TmOvpSwzCM6JIbuUVUZad88wEj2FxbUfD/UfDz15iH60lDbZPV9Om@RzGqjgGYHzWt2ov17CJhg1uBdFIeEEpJ4p0w4ExG7WkuNH0KwPEELk9UWpHPZzdKsmttVbb984ir3tmfTyaRcyh8" rel="nofollow noreferrer" title="Tcl – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-n</code>, 65 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>say,(map{$f=1;map{$f*=$_}2..$_;$.+=$f}/./g),$_=$.until$.=$r{$_}++
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/784sVJHIzexoFolzdbQGsLQslWJrzXS01OJt1bR07ZVSavV19NP19RRibdV0SvNK8nMUdGzVSmqBqrS1v7/39DY6F9@QUlmfl7xf11fUz0DQ4P/unkA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>Uses <code>map</code> as regular loops (ignoring return value), and <code>$.</code> as a temporary variable (to save space before <code>until</code>).</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell Core</a>, 87 bytes</h1>

<pre class="lang-powershell prettyprint-override"><code>param($r)for(;$r-notin$l){$l+=,$r
$r=(&quot;$r&quot;|% t*y|%{1..&quot;$_&quot;-ne0-join'*'})-join'+'|iex}$l
</code></pre>
<p><a href="https://tio.run/##JcbBCoMwDADQ@75ilEhbXWXqcfgtQ0bEjqyRKOiwfnt22Du9mTeUZUKi8GJB1XmQ4eNA/MjiHiAh8RoTkD@Aqv4GcgHpnQExubiu5TcXR1PXBp4mJLyHN8dkS3v6/yqbI@4nkKo2XfsD" rel="nofollow noreferrer" title="PowerShell Core – Try It Online">Try it online!</a></p>
<p>Thanks to mazzy for saving a lot of bytes!</p>
<h2>Explained (old implementation, but close enough)</h2>
<pre class="lang-powershell prettyprint-override"><code>param($r)for(;$r-notin$l                       # Checks that the last computed value isn't an existing one
                        ){$l+=,$r              # Adds it to the list

$r=(&quot;$r&quot;|                                      # Converts r as a string
      % t*y|                                   # Converts it to a char array
      %{1..&quot;$_&quot;-ne0-join'*'}                   # Builds the factorial calculation strings and handles 0!. e.g. 1*2*3*4
   )-join'+'|iex}                              # Joins them with &quot;+&quot; and computes it. e.g. 1*2*3*4+1*2*3

$l                                             # Returns all the values in the list
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 10 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>│¼µ\Ä▬Éε╩X
</code></pre>
<p><a href="https://staxlang.xyz/#p=b3ace65c8e1690eeca58&amp;i=132" rel="nofollow noreferrer">Run and debug it</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, <s>17</s> <s>16</s> 15 bytes</h1>
<p>Saved 1 byte thanks to @<a href="https://codegolf.stackexchange.com/users/43319/ad%c3%a1m">Adám</a> and another later</p>

<pre class="lang-apl prettyprint-override"><code>f←(#+.(!⍎)⍕)⌂traj
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn/P@1R2wQNZW09DcVHvX2aj3qnaj7qaSopSswCSikYGhsBAA" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>
<p><code>traj</code> is a function in the dfns workspace that runs a function until a cycle is detected. Here, that function is <code>#+.(!⍎)⍕</code>. <code>⍕</code> turns the argument into a string. Each character/digit (<code>¨</code>) is executed/turned into a number (<code>⍎</code>). <code>!</code> finds the factorial of each of these digits. Then <code>+</code> adds up all these factorials. <code>#</code> is used because <code>#⍎foo</code> just executes <code>foo</code>, so it's <code>#f.⍎</code> is practically the same as <code>{f/⍎¨⍵}</code> here.</p>
<h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, <s>25</s> 20 bytes</h1>
<p>Saved 5 bytes thanks to @<a href="https://codegolf.stackexchange.com/users/43319/ad%c3%a1m">Adám</a>!</p>

<pre class="lang-apl prettyprint-override"><code>1↓{⍵,⍨+/!⍎¨⍕⊃⍵}⍣(⊃∊)
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///P@1R2wTDR22Tqx/1btV51LtCW1/xUW/foRWPeqc@6moGCtY@6l2sAWJ2dGkClSsYGhsBAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
<p>Output is reversed.</p>
<p>This is very similar to the code above, but uses the power operator (<code>⍣</code>) to run the dfn until a cycle is reached, then drops the first element (<code>1↓</code>) because it runs 1 extra time. <code>{⍵,⍨+/!⍎¨⍕⊃⍵}</code> applies the function in the question to the first element of the argument (<code>⊃⍵</code>), then prepends it to the argument (<code>⍵,⍨</code>). Each time it is called, the list grows by one. The train <code>⊃∊</code> is applied with the next result on the left side and the previous result on the right side and tells ⍣ when to stop. <code>∊</code> is membership and tells which of the next result's elements are in the previous results (if one of them is repeated, there is a cycle). Then it picks the first of these booleans (<code>⊃</code>) because we need a single value and the rest have been checked already in previous iterations.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 72 bytes</h1>
<pre><code>Most@NestWhileList[Total[IntegerDigits@#!]&amp;,#,DuplicateFreeQ@*List,All]&amp;
</code></pre>
<p><a href="https://tio.run/##FctBCsIwEAXQs0ihizKLegAhQhEEKyqCi5DFINN0YJqW5Hv@qPv3FsYsC0PfXKdDHdcCd5WC16wmFy3wzxVs/pwgUfKgUVFcswstNTR8NvtFyCmL3F3393Q0C20defO3rAmum@jBKYrvad@HUL8" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Keeps applying <code>sumFac</code> to it's own output until it sees a duplicate value, then returns a list of all values excluding that final duplicate.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-MList::Util=product,sum -n</code>, 49 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>say&amp;&amp;($_=sum map{product 1..$_}/./g)until$k{$_}++
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/784sVJNTUMl3ra4NFchN7GguqAoP6U0uUTBUE9PJb5WX08/XbM0ryQzRyW7GsjX1v7/39DY6F9@QUlmfl7xf11fn8ziEiurUKAKkBE6UO1ACVM9A0OD/7p5AA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <strike>40</strike> 31 bytes</h1>

<p>Edit: 9 bytes saved using the improvements by FrownyFrog. Thanks!</p>

<pre><code>f=.$:@,~`]@.e.~[:+/@:!10#.inv{:
</code></pre>

<p>Original code:</p>

<pre>
f=.[`($:@,)@.([:-.e.~)[:+/!@("."0&":@{:)
</pre>

<p>In this case I decided to count the bytes for the verb definition, since otherwise it doesn't work in the interpreter. </p>

<p>Explanation:</p>

<pre>

                         (        {:) - Takes the last element of the array
                               ":@    - converts it to string
                          "."0&       - converts each character back to integer
                       !@             - finds the factorials
                     +/               - sums them
                   [:                 - cap (there are 2 derived verbs above, we need 3 for a fork)
          (    e.~)                   - check if the result is present in the list    
             -.                       - negates the above check
           [:                         - cap
        @.                            - Agenda conjunction, needed for the recursion
  ($:@,)                              - if the result is not in the list, add it to the list and recur
[`                                    - if the result is in the list, display it and stop    
</pre> 

<p><a href="https://tio.run/##y/r/P81WLzpBQ8XKQUfTQU8j2kpXL1WvTjPaSltf0UFDSU/JQE3JyqHaSvN/anJGvkKagqGR8X8A" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 6 bytes</h1>

<pre><code>U¡oṁΠd
</code></pre>

<p><a href="https://tio.run/##yygtzv7/P/TQwvyHOxvPLUj5//@/obERAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1>TI-BASIC, <s>85</s> <s>79</s> <s>64</s> 60 bytes</h1>
<pre><code>:Prompt L₁                             //Get input as 1 length list, 4 bytes
:Lbl C                                //create marker for looping, see below, 3 bytes
:int(10fPart(Xseq(10^(~A-1),A,0,log(X //split input into list of digits, 20 bytes
:sum(Ans!→X                           //factorial and sum the list, write to new input, 6 bytes
:If prod(L₁-X                         //Test to see if new element is repeated, see below, 7 bytes
:Then                                 //Part of If statement, 2 bytes
:augment(L₁,{X→L₁                     //Push new input to List 1, 10 bytes
:Goto C                               //Loop back to beginning, 3 bytes
:Else                                 //Part of If statement, 2 bytes
:L₁                                   //Print Answer, 2 bytes
</code></pre>
<p>Since this is running on a graphing calculator, there is limited RAM. Try testing it with numbers that loop quickly, like <code>169</code>.</p>
<p><strong>More Explanation:</strong></p>
<pre><code>:int(10fPart(Xseq(10^(~A-1),A,0,log(X
              seq(10^(~A-1),A,0,log(X //Get a list of powers of 10 for each digit (i.e. 1, 0.1, 0.01, etc.)
             X                        //Multiply by input
       fPart(                         //Remove everything but the decimal
     10                               //Multiply by 10 (move one digit in front of the decimal
:int(                                 //Truncate to an integer
</code></pre>
<p><code>If prod(L₁-X</code> works by subtracting the new element from the old list, then multiplying all the elements of the list together. If the element was already in the list, the product will be <code>0</code>, a falsey value. Otherwise, the product will be a positive integer, a truthy value.</p>
</div>
<div id="pu10" class="pu"><h2>C, 161 bytes</h2>

<pre><code>f(a){return a?a*f(a-1):1;}
a(l){return l?f(l%10)+a(l/10):0;}
c,t,o;r(i){for(t=o=i;t=a(t),o=a(a(o)),c=t^o;);for(t=i;t^c;printf("%d ",t),c=c|t^o?c:o,t=a(t),o=a(o));}
</code></pre>

<p><a href="https://ideone.com/FiF0VM" rel="nofollow noreferrer">See it work online.</a></p>
</div>
<div id="pu11" class="pu"><h1>Pyth, <s>22</s> 11 bytes</h1>
<pre><code>.usm.!sd+Nk
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=.usm.%21sd%2BNk&amp;input=132&amp;debug=0" rel="nofollow noreferrer">Try it online!</a></p>
<p>Lots of credit to <a href="https://codegolf.stackexchange.com/a/117669/52152">Leaky Nun's answer</a>, which introduced me to <code>.u</code>, and helped save a massive 11 bytes of this program.</p>
<p>Explanation:</p>
<pre><code>.usm.!sd+NkQ | ending Q is implicitly added
             | Implicit: Q = eval(input())
.u         Q | Repeat the function with initial value Q until a previous value is found. Return all intermediate values
  s          | Summation
   m.!sd     | For each character 'd' in the string, convert to integer and take the factorial
        +Nk  | Convert function argument to string
</code></pre>
</div>
<div id="pu12" class="pu"><h2>JavaScript (ES6), <s>91</s> 89 bytes</h2>
<p><em>Saved 2 bytes thanks to fəˈnɛtɪk</em></p>
<p>It turns out to be quite similar to <a href="https://codegolf.stackexchange.com/a/117596/58563">the other JS answer</a>.</p>
<pre class="lang-js prettyprint-override"><code>f=(n,x=!(a=[n]))=&gt;n?f(n/10|0,x+(F=n=&gt;n?n--*F(n):1)(n%10)):~a.indexOf(x)?a:f(x,!a.push(x))
</code></pre>
<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=(n,x=!(a=[n]))=&gt;n?f(n/10|0,x+(F=n=&gt;n?n--*F(n):1)(n%10)):~a.indexOf(x)?a:f(x,!a.push(x))

console.log(f(132))</code></pre>
</div>
</div>
</p>
</div>
<div id="pu13" class="pu"><h1><a href="http://www.golfscript.com/golfscript/" rel="nofollow noreferrer">GolfScript</a>, 44 bytes</h1>

<pre><code>~]{..)\;10base{,1\{)*}/}%{+}*.@\+@@?)!}do);`

~                                             eval input
 ]                                            initialization
  {                                   }do     do...
   ..)\;                                          initialization
        10base                                    get digits
              {,1\{)*}/}%                         factorial each
                         {+}*                     sum
                             .@\+@@?)!        while result not found
                                         );   drop last element
                                           `  tostring
</code></pre>

<p><a href="https://tio.run/nexus/golfscript#@18XW62npxljbWiQlFicWq1jGFOtqVWrX6tarV2rpecQo@3gYK@pWJuSr2md8P@/obERAA" rel="nofollow noreferrer" title="GolfScript – TIO Nexus">Try it online!</a></p>

<p>The factorial part is from <a href="https://codegolf.stackexchange.com/a/629/48934">here</a>.</p>
</div>
<div id="pu14" class="pu"><h1>Java 7, 220 bytes</h1>
<pre><code>String c(int n){String r=n+&quot;,&quot;,c;for(;!r.matches(&quot;^&quot;+(c=(n=d(n))+&quot;,&quot;)+&quot;.*|.*,&quot;+c+&quot;.*&quot;);r+=c);return r;}int d(int n){int s=0;for(String i:(n+&quot;&quot;).split(&quot;&quot;))s+=f(new Long(i));return s;}long f(long x){return x&lt;2?1:x*f(x-1);}
</code></pre>
<p><strong>Explanation:</strong></p>
<pre><code>String c(int n){                            // Method with integer parameter and String return-type
  String r=n+&quot;,&quot;,                           //  Result-String (which starts with the input integer + a comma
         c;                                 //  Temp String
  for(;!r.matches(                          //  Loop as long as the result-String doesn't match the following regex:
    &quot;^&quot;+(c=(n=d(n))+&quot;,&quot;)+&quot;.*|.*,&quot;+c+&quot;.*&quot;);  //    &quot;^i,.*|.*,i,.*&quot; where `i` is the current integer
                                            //   `n=d(n)` calculates the next integer in line
                                            //   `c=(n=d(n))+&quot;,&quot;` sets the temp String to this integer + a comma
    r+=c                                    //   And append the result-String with this temp String
  );                                        //  End of loop
  return r;                                 //  Return the result-String
}                                           // End of method

int d(int n){                               // Separate method (1) with integer parameter and integer return-type
  int s=0;                                  //  Sum
  for(String i:(n+&quot;&quot;).split(&quot;&quot;))            //  Loop over the digits of `n`
    s+=f(new Long(i));                      //   And add the factorial of these digits to the sum
                                            //  End of loop (implicit / single-line body)
  return s;                                 //  Return the sum
}                                           // End of separate method (1)

long f(long x){                             // Separate method (2) with long parameter and long return-type (calculates the factorial)
                                            // (NOTE: 2x `long` and the `new Long(i)` is shorter than 2x `int` and `new Integer(i)`, hence long instead of int)
  return x&lt;2?                               //  If `x` is 1:
      1                                     //   return 1
    :                                       //  Else:
      x*f(x-1);                             //   return `x` multiplied by the recursive-call of `x-1`
}                                           // End of method (2)
</code></pre>
<p><strong>Test code:</strong></p>
<p><a href="https://tio.run/nexus/java-openjdk#PY4xb4MwEIX3/IqrpzugVki3uFbnSs2UMUol1wFiCQyyTUtF@e3UIFoP99757PedrpX3cBrnc3DGVqDR2ACWxq130qYsY5kWZetQPDjeqKDvhUf2zlLUEq28oSVaXsXCkx@eZCzVi2UkXCp1rEXonQUnpiX99sdYxMv9Gr3xzBEjkBH3XW0CRkc@lSXa4gveWluhof84L6Y6XkGJqww0boPh@fCSH4ekxOExJzHNAF3/URsNPqgQ5bM1N2iUsRv2cgVF4w7iOX/7UDS87QPv4ijUdmWfkLhe3asNRVU4VJf9leIy8de0m@Y5fzr8Ag" rel="nofollow noreferrer">Try it here.</a></p>
<pre><code>class M{
  String c(int n){String r=n+&quot;,&quot;,c;for(;!r.matches(&quot;^&quot;+(c=(n=d(n))+&quot;,&quot;)+&quot;.*|.*,&quot;+c+&quot;.*&quot;);r+=c);return r;}int d(int n){int s=0;for(String i:(n+&quot;&quot;).split(&quot;&quot;))s+=f(new Long(i));return s;}long f(long x){return x&lt;2?1:x*f(x-1);}
  
  public static void main(String[] a){
    System.out.println(new M().c(132));
  }
}
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>132,9,362880,81369,403927,367953,368772,51128,40444,97,367920,368649,404670,5810,40442,75,5160,842,40346,775,10200,6,720,5043,151,122,5,120,4,24,26,722,5044,169,363601,1454,
</code></pre>
</div>
<div id="pu15" class="pu"><h1>Pyth, 9 bytes</h1>

<pre><code>.us.!MjNT
.us.!MjNTQ  implicit Q

.u          explained below
       N      current value
      j T     convert to decimal (list of digits)
   .!M        factorial of each digit
  s           sum
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=.us.%21MjNT&amp;input=132&amp;debug=0" rel="nofollow noreferrer">Try it online!</a></p>

<p>This answer uses <code>.u</code> ("Cumulative fixed-point. Apply until a result that has occurred before is found. Return all intermediate results.")</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>80</s> 67 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>g#n|elem n g=g|h&lt;-g++[n]=h#sum[product[1..read[d]]|d&lt;-show n]
([]#)
</code></pre>

<p><a href="https://tio.run/nexus/haskell#BcFBCoAgEADAe69YsEMRBtU1X7LsQdI0yE006eLfbaY5wdXeNgCDU676XbppQiblRS4BY3pMOV5c5jlZbdAQVbPL7J8PmLpTDUhibEFfDApiuviFHk5YtrX9" rel="nofollow noreferrer" title="Haskell – TIO Nexus">Try it online!</a> Usage: <code>([]#) 132</code></p>

<p>Edit: Saved 13 bytes with typs from Ørjan Johansen!</p>
</div>
<div id="pu17" class="pu"><h1>Axiom, 231 bytes</h1>

<pre><code>l(a:NNI):List NNI==(r:List NNI:=[];repeat(r:=cons(a rem 10,r);a:=a quo 10;a=0=&gt;break);r)
g(a:NNI):NNI==reduce(+,[factorial(x) for x in l(a)])
h(a:NNI):List NNI==(r:=[a];repeat(a:=g(a);member?(a,r)=&gt;break;r:=cons(a,r));reverse(r))
</code></pre>

<p>not golfed functions and some test</p>

<pre><code>-- convert one NNI in its list of digits
listify(a:NNI):List NNI==
    r:List NNI:=[]
    repeat
        r:=cons(a rem 10,r)
        a:=     a quo 10
        a=0=&gt;break
    r

-- g(1234)=1!+2!+3!+4!
SumfactorialDigits(a:NNI):NNI==reduce(+,[factorial(x) for x in listify(a)])

ListGenerateFromSumFactorialDigits(a:NNI):List NNI==
    r:=[a]
    repeat
       a:=SumfactorialDigits(a)
       member?(a,r)=&gt;break
       r:=cons(a,r)
    reverse(r)

(9) -&gt; h 132
   (9)
   [132, 9, 362880, 81369, 403927, 367953, 368772, 51128, 40444, 97, 367920,
    368649, 404670, 5810, 40442, 75, 5160, 842, 40346, 775, 10200, 6, 720,
    5043, 151, 122, 5, 120, 4, 24, 26, 722, 5044, 169, 363601, 1454]
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Wolfram Language, <s>62</s> <s>60</s> 56 bytes</h1>
<pre><code>Most@NestWhileList[Tr[IntegerDigits@#!]&amp;,#,UnsameQ,All]&amp;
</code></pre>
<p>It is really too bad that Wolfram Language has such abominably long function names. *Sigh*</p>
<p><strong>Explanation:</strong></p>
<pre><code>Most[NestWhileList[Tr[IntegerDigits[#]!]&amp;,#,UnsameQ,All]]&amp;
                      IntegerDigits[#]                     (*Split input into list of digits*)
                                      !                    (*Factorial each element in the list*)
                   Tr[                 ]&amp;                  (*Sum the list together*)
     NestWhileList[                      ,#,UnsameQ,All]   (*Iterate the function over itself, pushing each to a list, until a repeat is detected*)
Most[                                                   ]&amp; (*Remove the last element in the list*)
</code></pre>
</div>
<div id="pu19" class="pu"><h1>Java 9 JSHell, 213 bytes</h1>

<pre><code>n-&gt;{Set&lt;Integer&gt;s=new HashSet&lt;&gt;();
return IntStream.iterate(n,i-&gt;(""+i).chars()
.map(x-&gt;x&lt;50?1:IntStream.rangeClosed(2,x-48)
.reduce(1,(a,b)-&gt;a*b)).sum()).boxed()
.takeWhile(x-&gt;s.add(x)).collect(Collectors.toList());}
</code></pre>

<p><a href="https://tio.run/nexus/java-openjdk9#bVCxTsMwEN3zFVYnuyQWLSAh0oahEgIJpgwMiOGSXFODY0f2paSq@u3FoamQELc8@b1357unmtY6Yh@wBdmR0nKaRuovt@5MScqaf0VPDqEZpKjtCq1KVmrwnr2AMmwfsVAj7wkowNaqijVB5Tk5Zeq3dwau9mI0D/Uwfrh4MoQ1upg9K0/nV5axNVseTZLtc/xl/dLgF3sEvxnYjIvUIXXOsGDIT0sqQgeE3MQqyfhkcqGELDfgPBeygZb3SdYvbi7vZ3e/PQ5MjSttPVZ8HvfJ9a2QDquuRD6LOcSFSDKYFkJI3zU8QGH7YBWS4BNfN0rjMNZLqCreB7m0WmNJfHVC67wkO5wXetPD8RxBmu88YSNtR7INMZE2fC2hbfWOD3fmJRiDjo82ZYQ02FPYO8wR6U@Uh@hwnF3NvwE" rel="nofollow noreferrer" title="Java (OpenJDK 9) – TIO Nexus">Try it online!</a></p>

<p>Note: This solution relies on the string representation of a number having code points in the range 48-57. Works for ASCII, UTF-8, Latin-1, all ISO-8859-* character sets, most code pages. Does not work for EBCDIC. I don't think anyone will deduct points for that. :)</p>

<p>Ungolfed:</p>

<pre><code>Function&lt;Integer, List&lt;Integer&gt;&gt; f =        // function from Integer to List of Integer
n -&gt; {
    Set&lt;Integer&gt; s = new HashSet&lt;&gt;();       // memo of values we've seen
    return IntStream.iterate(n,             // iterate over n, f(n), f(f(n)), etc.
    i -&gt; (""+i).chars()                     // the sumFac function; for all chars
        .map(x -&gt; x &lt; 50? 1 :               // give 1 for 0! or 1!
        IntStream.rangeClosed(2, x-48)      // else produce range 2..d 
        .reduce(1,(a,b)-&gt;a*b))              // reduction to get the factorial
        .sum())                             // and sum up the factorii!

                                            // now we have a stream of ints
                                            // from applying sumFac repeatedly
        .boxed()                            // box them into Integers (thanks, Java)
        .takeWhile(x-&gt;s.add(x))             // and take them while not in the memo
        .collect(Collectors.toList());      // collect them into a list
}
</code></pre>

<p>Notes:</p>

<ul>
<li>The return value of Set::add is very helpful here; returns true <strong>iff</strong> the item was not in the set</li>
<li>I was being sarcastic when I said "Thanks, Java"</li>
<li><em>factorii</em> isn't really a word; I just made that up</li>
</ul>
</div>
<div id="pu20" class="pu"><h1>Pyth, 30 bytes</h1>

<pre><code>W!hxYQQ=+YQKQ=Q0WK=+Q.!%KT=/KT
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=W%21hxYQQ%3D%2BYQKQ%3DQ0WK%3D%2BQ.%21%25KT%3D%2FKT&amp;input=132&amp;debug=0" rel="nofollow noreferrer">Try It Here</a></p>
</div>
<div id="pu21" class="pu"><h1>JavaScript, 92 bytes</h1>

<p>Thanks @Shaggy for golfing off one byte with includes<br>
Thanks @Neil for golfing off two bytes</p>



<p><strong>Code separated into individual functions 92 bytes</strong></p>

<pre class="lang-javascript prettyprint-override"><code>f=(x,a=[])=&gt;a.includes(x)?a:f(k(x),a,a.push(x))
p=y=&gt;y?y*p(y-1):1
k=n=&gt;n?p(n%10)+k(n/10|0):0
</code></pre>

<p><strong>Code on one line 92 bytes</strong></p>

<pre class="lang-javascript prettyprint-override"><code>f=(x,a=[])=&gt;a.includes(x)?a:f((k=n=&gt;n?(p=y=&gt;y?y*p(y-1):1)(n%10)+k(n/10|0):0)(x),a,a.push(x))
</code></pre>

<h2>Explanation</h2>

<p>Initially call the function with just a single argument, therefore a=[].</p>

<p>If x exists in the array a return a <code>a.includes(x)?a:...</code></p>

<p>Otherwise, append x to a and pass the factorial digit sum and a to the function <code>(a.push(x),f(k(x),a))</code></p>

<pre class="lang-javascript prettyprint-override"><code>p=y=&gt;y?y*p(y-1):1
k=n=&gt;n?p(n%10)+k(n/10|0):0
</code></pre>

<p>Factorial Digit sum performed so that it will not exceed the maximum recursion limit.</p>

<p><strong>List of all possible endpoints:</strong> 1, 2, 145, 169, 871, 872, 1454, 40585, 45361, 45362, 363601</p>

<p><a href="https://tio.run/nexus/javascript-node#DcbBCgIhEADQ@/5HMFOuad2E0Q@JDsO2ViijIAsr9O@27/RGJNgV0@OJ5Fl/Zcnba22wY2AXIR1RrFjXrX2O41Spk@@hnyv02aKzUyIhL6GCnKzBSwK5WvMz6MxYirSSV53LGyLY@w1x/AE" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1>R, 120 Bytes</h1>
<pre><code>o=scan()
repeat {
q=sum(factorial(as.double(el(strsplit(as.character(o[length(o)]), &quot;&quot;)))))
if(q%in%o)break
o=c(o,q)
}
o
</code></pre>
</div>
<div id="pu23" class="pu">

<h1><a href="https://perl6.org" rel="noreferrer">Perl 6</a>, 64 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>{my@a;$_,{[+] .comb.map:{[*] 2..$_}}...^{$_∈@a||!@a.push: $_}}
</code></pre>

<p><a href="https://tio.run/nexus/perl6#Ky1OVSgz00u25sqtVFArLs3VTUtMLskvykzMUbD9X51b6ZBorRKvUx2tHaugl5yfm6SXm1hgVR2tFatgpKenEl9bq6enF1etEv@oo8MhsaZG0SFRr6C0OMNKAST3vzixUgHVUENjI2suTGELbIKGJqYm1v8B" rel="noreferrer" title="Perl 6 – TIO Nexus">Try it</a></p>

<h2>Expanded:</h2>

<pre class="lang-perl6 prettyprint-override"><code>{

  my @a;             # array of values already seen

  $_,                # seed sequence with the input

  {
    [+]              # reduce using &amp;infix:&lt;+&gt;
      .comb          # the digits of $_ (implicit method call)
      .map:          # do the following for each
      {
        [*] 2..$_    # get the factorial of
      }
  }


  ...^               # keep generating values until
                     # (｢^｣ means throw away the last value when done)

  {
      $_ ∈ @a        # is it an elem of @a? (｢∈｣ is shorter than ｢(cont)｣)

    ||               # if it's not

      !              # boolean invert so this returns False
        @a.push: $_  # add the tested value to @a
  }
}
</code></pre>

<p>Every line above that has <code>{</code> starts a new bare block lambda with an implicit parameter of <code>$_</code>.</p>

<p>I used <code>[*] 2..$_</code> instead of <code>[*] 1..$_</code> purely as a micro optimization.</p>
</div>
<div id="pu24" class="pu"><h1>ClojureScript, <s>146</s> 109 bytes</h1>



<pre class="lang-clj prettyprint-override"><code>#(loop[n[%]](let[f(apply +(for[a(str(last n))](apply *(range 1(int a))))](if(some #{f}n)n(recur(conj n f)))))
</code></pre>

<p>Yikes, that is a monstrosity. Someone please help me golf this...</p>

<p>Thanks <code>@cliffroot</code> for shaving off a whopping 37 bytes!</p>

<p>This is an anonymous function, to run the function, you have to do this:</p>

<pre class="lang-clj prettyprint-override"><code>(#(...) {arguments})
</code></pre>

<p>TIO doesn't have ClojureScript, so <a href="http://clojurescript.io/" rel="nofollow noreferrer">here's a link</a> to a ClojureScript REPL.</p>

<p><a href="https://tio.run/nexus/clojure#dVJBboQwDLzzipEqVaEVEvuAvgTtwQqBpgIHQTisVn07dZKNmm53cyBoZmyP7RyqNwNjIO0bfdGTQcfnClCTc4v87/MWkAAF0Hh0UStEhNJJxObXhqHkEoA2jxBd1@dCKFJalumC9z@gwINb0RHUSjwaKO129ogZ7zMUWd7@EcgZTg8oIS3rh0SIM9Q3UtHy@ESC2NxTUmj2n8k0qM4nu1d2kHg3G7xc8wy/04zityqc6L0sI9Pgr6hBDkypqyqtr5nJMrpX0DpuxfoI7W1zofYHCKe2baWcnbKp3v3WXaR3P4n32/5U8SxCP3cO4zRzo4eKJurjBw" rel="nofollow noreferrer" title="Clojure – TIO Nexus">Here's a link</a> to a Clojure program which prints the last element in the list from 0 to 1000.</p>

<p>Here's the output for <code>9999</code>:</p>

<pre class="lang-clj prettyprint-override"><code>[9999 1451520 269 363602 1455 265 842 40346 775 10200 6 720 5043 151 122 5 120 4 24 26 722 5044 169 363601 1454]
</code></pre>

<p>I have a strong suspicion that all numbers must eventually settle at <code>1</code> or the loop <code>[169 363601 1454]</code>.</p>

<h2>Ungolfed code:</h2>

<pre class="lang-clj prettyprint-override"><code>(defn fact-cycle [n]
  (loop [nums [n]]
    (let [fact-num
          (let [str-n (str (last nums))]
            (apply +
              (for [a (range (count str-n))]
                (apply *
                  (range 1
                    (inc (int (nth str-n a))))))))]
      (if (some #{fact-num} nums) nums
        (recur
          (conj nums fact-num))))))
</code></pre>

<p>Explanation coming soon!</p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 12 bytes</h1>

<pre><code>[DˆS!O©¯så#®
</code></pre>

<p><a href="https://tio.run/nexus/05ab1e#@x/tcrotWNH/0MpD64sPL1U@tO7/f0NjIwA" rel="noreferrer" title="05AB1E – TIO Nexus">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>[               # infinite loop
 Dˆ             # add a copy of current value to the global list (initialized as input)
   S            # split current number to digits
    !O          # calculate factorial of each and sum
      ©         # save a copy in register
       ¯så#     # if the current number is in the global list, exit loop
           ®    # retrieve the value from the register for the next iteration
                # implicitly output the global list
</code></pre>
</div>
<div id="pu26" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="noreferrer">Brachylog</a>, 17 bytes</h1>
<pre><code>g:I{tẹḟᵐ+}ᵃ⁾L¬≠Lk
</code></pre>
<p><a href="https://tio.run/nexus/brachylog2#ASYA2f//ZzpJe3ThurnhuJ/htZArfeG1g@KBvkzCrOKJoExr//8xMzL/Wg" rel="noreferrer" title="Brachylog – TIO Nexus">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>g:I{     }ᵃ⁾         Accumulate I (a variable) times, with [Input] as initial input:
    t                  Take the last integer
     ẹḟᵐ+              Compute the sum of the factorial of its digits
            L        The result of the accumulation is L
            L¬≠      Not all elements of L are different
               Lk    Output is L minus the last one (which is the start of the loop)
</code></pre>
</div>
<div id="pu27" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 88 bytes</h1>



<pre class="lang-python prettyprint-override"><code>import math
f=lambda x,l=[]:l*(x in l)or f(sum(math.factorial(int(i))for i in`x`),l+[x])
</code></pre>

<p><a href="https://tio.run/nexus/python2#FcsxCoAwDEDR3VNkTFQEdRM8iQiNSjGQWqkVevta5/9@Fnf7EMFxPCs7K7vtYEitzss6aY0J5AIlH8Di8zr8XWd5jz4IK8oVUYhs6VKkSYZabZa0Ur5DieXqx4HyBw" rel="noreferrer" title="Python 2 – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu28" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 110 bytes</h1>



<pre class="lang-python prettyprint-override"><code>g=lambda x:x&lt;1or x*g(x-1)
def f(n):
 a=[];b=n
 while b not in a:a+=[b];yield b;b=sum(g(int(x))for x in str(b))
</code></pre>

<p><a href="https://tio.run/nexus/python3#PcxNCsMgEEDhvaeY5UxLF7Y7U08SsnDwp4IxxRhqT28SCt0@Pl4POpmZrYGm2lMuBdolYLtJEtZ58JhJCTB6nAbWWcDnFZMDhrxUiBmMMlc98jR8o0sW@EDrNmPAmCs2In8OT7jWgkzU/8GjfNxJvctP9h0" rel="nofollow noreferrer" title="Python 3 – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu29" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 6 bytes</h1>

<pre><code>D!SµÐĿ
    ÐĿ  Repeat until the results are no longer unique. Collects all intermediate results.
D           Convert from integer to decimal (list of digits)
 !          Factorial (each digit)
  S         Sum
</code></pre>

<p><a href="https://tio.run/nexus/jelly#@@@iGHxo6@EJR/b////f0NgIAA" rel="noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<p>I don't see any other way to make it shorter other than to do as told.</p>

<h2>Specs</h2>

<ul>
<li>Input: <code>132</code> (as command-line argument)</li>
<li>Output: <code>[132, 9, 362880, 81369, 403927, 367953, 368772, 51128, 40444, 97, 367920, 368649, 404670, 5810, 40442, 75, 5160, 842, 40346, 775, 10200, 6, 720, 5043, 151, 122, 5, 120, 4, 24, 26, 722, 5044, 169, 363601, 1454]</code></li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/117583/">117583</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




