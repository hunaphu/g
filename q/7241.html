<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::7241</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td></td><td>250916T210405Z</td><td><a href="https://codegolf.stackexchange.com/questions/7241/recreate-the-classic-snake-game/283730#283730">Bad Boy</a></td></tr>
<tr d-ix="1"><td>609</td><td>JavaScript</td><td>201208T211853Z</td><td><a href="https://codegolf.stackexchange.com/questions/7241/recreate-the-classic-snake-game/216112#216112">jdt</a></td></tr>
<tr d-ix="2"><td>233</td><td>APL dzaima/APL</td><td>201208T174631Z</td><td><a href="https://codegolf.stackexchange.com/questions/7241/recreate-the-classic-snake-game/216105#216105">Razetime</a></td></tr>
<tr d-ix="3"><td>816</td><td>Python 2.7  816 Characters</td><td>120924T004240Z</td><td><a href="https://codegolf.stackexchange.com/questions/7241/recreate-the-classic-snake-game/8421#8421">stefreak</a></td></tr>
<tr d-ix="4"><td>507</td><td>Bash</td><td>120911T175301Z</td><td><a href="https://codegolf.stackexchange.com/questions/7241/recreate-the-classic-snake-game/7274#7274">manatwor</a></td></tr>
<tr d-ix="5"><td>316</td><td>Ruby 1.9 + SDL 341 324</td><td>120910T053840Z</td><td><a href="https://codegolf.stackexchange.com/questions/7241/recreate-the-classic-snake-game/7260#7260">Paul Pre</a></td></tr>
<tr d-ix="6"><td>2239</td><td>Java</td><td>120909T170505Z</td><td><a href="https://codegolf.stackexchange.com/questions/7241/recreate-the-classic-snake-game/7255#7255">anon</a></td></tr>
</table>
<div id="pu0" class="pu"><p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false" data-babel-preset-react="false" data-babel-preset-ts="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>document.write`&lt;canvas id=C width=40 height=40 style='width:180px;height:180px;border:4px solid'`
s=[l={x:9,y:9}]
h=t=0,v=1
r=(x,y,w,h,f)=&gt;{c.fillStyle=f,c.fillRect(x,y,w,h)}
m=n=&gt;{g=4,i=0|38*(R=Math.random)()+1,j=0|38*R()+1,s.map(b=&gt;b.x^i|b.y^j?0:m())},m()
onkeydown=k=&gt;{f={d:[0,1],a:[0,-1],w:[-1,0],s:[1,0]}[k.key],f?(v=f[0],h=f[1]):0}
z=setInterval(w=&gt;z?(focus(),c=C.getContext`2d`,r(0,0,80,80,'#fff'),s.push(l={x:l.x+h,y:l.y+v}),s.splice(0,0&gt;g--),l.x^i|l.y^j?0:t+=!m(),s.map(b=&gt;z&amp;&amp;(0&gt;l.x||0&gt;l.y||39&lt;l.x||39&lt;l.y||b!=l&amp;&amp;b.x==l.x&amp;&amp;b.y==l.y)?z=alert('Score:'+t):r(b.x,b.y,1,1,'#000')),r(i,j,1,1,'#f0f')):0,75)</code></pre>
</div>
</div>
</p>
</div>
<div id="pu1" class="pu"><h1>JavaScript, 609 bytes</h1>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>document.write`&lt;canvas id=C width=40 height=40 style='width:180px;height:180px;border:4px solid'`
s=[l={x:9,y:9}]
h=t=0,v=1
r=(x,y,w,h,f)=&gt;{c.fillStyle=f,c.fillRect(x,y,w,h)}
m=n=&gt;{g=4,i=0|38*(R=Math.random)()+1,j=0|38*R()+1,s.map(b=&gt;b.x^i|b.y^j?0:m())},m()
onkeydown=k=&gt;{f={d:[0,1],a:[0,-1],w:[-1,0],s:[1,0]}[k.key],f?(v=f[0],h=f[1]):0}
z=setInterval(w=&gt;z?(focus(),c=C.getContext`2d`,r(0,0,80,80,'#fff'),s.push(l={x:l.x+h,y:l.y+v}),s.splice(0,0&gt;g--),l.x^i|l.y^j?0:t+=!m(),s.map(b=&gt;z&amp;&amp;(0&gt;l.x||0&gt;l.y||39&lt;l.x||39&lt;l.y||b!=l&amp;&amp;b.x==l.x&amp;&amp;b.y==l.y)?z=alert('Score:'+t):r(b.x,b.y,1,1,'#000')),r(i,j,1,1,'#f0f')):0,75)</code></pre>
</div>
</div>
</p>
<p>Use WASD for controls.</p>
<p><a href="https://jsfiddle.net/9agd6tx4/1/" rel="nofollow noreferrer">JSFiddle</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/dzaima/APL" rel="nofollow noreferrer">APL (dzaima/APL)</a>, <sup><s>244</s></sup> 233 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>s←2⌿⊂2⌿25
d←?x←2⌿50
o←⍳2
G←P5.G
P5.draw←{G.bg¯1
G.fill←0
s⊢←(1↓s),⊂o+f←⊃⌽s
((⊢≢∪)s)∨~f⊂⍛∊a←⍳x:P5.exit 0⊣⍞←'Score: ',⍕2-⍨≢s
d≡f:s⊢←s,⊂f+2×o⊣d⊢←?x
(t←'center'G.rect,∘2 2)¨2×s
G.fill←'f00'
t+⍨d}
P5.kp←{o≢-n←('sdwa'⍳⍵)⊃1-↓⍬2⍴3⊤2320:o⊢←n}
</code></pre>
<p>Golfed from 294 → 244 bytes with the help of dzaima.</p>
<p>Uses <code>WASD</code> controls.</p>
<p>Uses <code>⎕IO←0</code> (0-indexing).</p>
<p>The grid is <code>50x50</code>, on the default <code>100x100</code> canvas Processing uses.</p>
<p>Displays score to the console.</p>
<p>Explanation done!</p>
<h2>Explanation</h2>
<p><code>s←2⌿⊂2⌿25</code> snake starts at <span class="math-container">\$(25,25)\$</span></p>
<p><code>d←?x←2⌿50</code> first food position: 2 random ints in (0,50)</p>
<p><code>x←2⌿50</code> save (50,50) in x</p>
<p><code>o←⍳2</code> initial snake direction: (0,1)</p>
<p><code>G←P5.G</code> save namespace as <code>G</code></p>
<p><code>P5.draw←{</code> execute the following each frame:</p>
<p><code>  G.bg¯1</code> display white background</p>
<p><code>  G.fill←0</code> set fill to black</p>
<p><code>  s⊢←(1↓s),⊂o+f←⊃⌽s</code> calculate next snake position:</p>
<p><code>    (1↓s)</code> remove the last tail segment</p>
<p><code>    ,⊂o+f←⊃⌽s</code> add direction to the front, and append that</p>
<p><code>    f←⊃⌽s</code> assign head coordinates to f</p>
<p><code>  ((⊢≢∪)s)∨~f⊂⍛∊a←⍳x:(...)</code> check if the player has lost:</p>
<p><code>    ((⊢≢∪)s)∨</code> if snake does not match itself uniquified, or</p>
<p><code>    ~f⊂⍛∊a←⍳x:</code> head is not within 50x50 grid:</p>
<p><code>    ⍞←'Score: ',⍕2-⍨≢s</code> display the score in console, and</p>
<p><code>    P5.exit 0⊣</code> exit, displaying nothing</p>
<p><code>  d≡f:s⊢←s,⊂f+2×o⊣d⊢←?x</code> if head matches food, then change food position and increase snake length.</p>
<p><code>  (t←'center'G.rect,∘2 2)¨2×s</code> draw each position of the snake</p>
<p><code>    t←'center'G.rect,∘2 2</code> create function <code>t</code> for drawing the blocks</p>
<p><code>  G.fill←'f00'</code> set fill to red`</p>
<p><code>  t+⍨d</code> draw the food</p>
<p><code>}</code> close draw loop</p>
<p><code>P5.kp←{...}</code> execute the following each time a key is pressed (⍵ is key name):</p>
<p><code>  1-↓⍬2⍴3⊤2320</code> array of directions <code>│0 1│1 0│0 ¯1│¯1 0│</code></p>
<p><code>  ('sdwa'⍳⍵)⊃</code> get key number, index into directions</p>
<p><code>  n←</code> store direction in n</p>
<p><code>  o≢-</code> if snake direction is not the opposite of n,(prevents moving backward)</p>
<p><code>  o⊢←n</code> then change snake direction</p>
<h2>Gameplay</h2>
<p>(recorded at low fps)</p>
<p><a href="https://i.sstatic.net/ByLkS.gif" rel="nofollow noreferrer"><img src="https://i.sstatic.net/ByLkS.gif" alt="enter image description here" /></a></p>
</div>
<div id="pu3" class="pu"><h2>Python 2.7: <strike>869</strike> <strike>816</strike> <strike>818</strike> <strike>817</strike> 816 Characters</h2>

<p>I hacked this together in the last few hours. It should meet the requirements and is a few characters shorter than mjgpy3's solution (Tried hard, but couldn't get it much shorter. Now I'm tired). Surprisingly, using a game development library like pygame didn't get the python-snake much shorter. Suggestions and tips how to make it shorter are highly appreciated. I hope it's not too cryptic.</p>

<p>This is the result:</p>

<pre><code>import pygame as p
from random import randint as r
p.init();l=20
c=p.time.Clock()
dp=p.display;w=p.display.set_mode((500,)*2)
C=p.Color;b=C(0,0,0);g=C(0,99,0)
D=(0,1);U=(0,-1);L=(-1,0);R=(1,0)
S=[R];d=R;n=[]
O=lambda t:{U:D,R:L,D:U,L:R}[t]
def Q(e):print "Score: %i"%(len(S)-1);p.quit()
def K(e):global d;_={276:L,273:U,274:D,275:R}.get(e.key,(0,0));d=not _==O(d) and _ or d
def N(S):[p.draw.rect(w,g,[x[0]*l,x[1]*l,l,l]) for x in S+n] 
def M():n=(r(0,24),r(0,24));return n not in S and n or M()
A=lambda s,o:tuple(x+y for x,y in zip(s,o))
n=[M()] 
while True:
 w.fill(b);[{12:Q,2:K}.get(e.type,lambda e:e)(e) for e in p.event.get()]
 if not (0&lt;=S[-1][0]&lt;25 and 0&lt;=S[-1][1]&lt;25) or A(S[-1],d) in S: Q(e) 
 if A(S[-1],d) in n: S.append(A(S[-1],d));n=[M()]
 else: S.append(A(S[-1],d));S.pop(0)
 N(S);dp.update();c.tick(6)
</code></pre>

<p>EDIT: I could reduce it to 816 Bytes, yay! :) Fixed the score</p>

<p>EDIT2: Pasted the wrong version accidentally</p>

<p>Here is a commented version:</p>

<pre><code>import pygame as p
from random import randint as r

# initialize pygame
p.init()

# the game consists of 25*25 blocks,with each block 20*20 pixels
l=20

# initialize the main loop clock
c=p.time.Clock()

# open the window
dp=p.display;w=p.display.set_mode((500,)*2)

# define black and green colors
C=p.Color;b=C(0,0,0);g=C(0,99,0)

# Directions of the snake: down, up, left, right
D=(0,1);U=(0,-1);L=(-1,0);R=(1,0)

# S is the snake, d is the current direction and n is the array of foods
S=[R];d=R;n=[]

# get the opposite direction of a direction to forbid double backing
O=lambda t:{U:D,R:L,D:U,L:R}[t]

# print the score and quit
def Q(e):print "Score: %i"%(len(S)-1);p.quit()

# update the direction (this is a key press handler)
def K(e):global d;_={276:L,273:U,274:D,275:R}.get(e.key,(0,0));d=not _==O(d) and _ or d

# draw the snake and food boxes
def N(S):[p.draw.rect(w,g,[x[0]*l,x[1]*l,l,l]) for x in S+n]

# place new food on the map not colliding with the snake
def M():n=(r(0,24),r(0,24));return n not in S and n or M()

# A((1,1), (-2, 1)) -&gt; (-1,2)
A=lambda s,o:tuple(x+y for x,y in zip(s,o))

# initialize food array
n=[M()]

while True:
 # fill the screen black
 w.fill(b)
 # get quit or key press events and execute the event handlers
 [{12:Q,2:K}.get(e.type,lambda e:e)(e) for e in p.event.get()]

 # check if snake hits map boundaries or itself
 if not (0&lt;=S[-1][0]&lt;25 and 0&lt;=S[-1][1]&lt;25) or A(S[-1],d) in S: Q(e)

 # check if snake is eating food at the moment and append one to the snake's length
 if A(S[-1],d) in n: S.append(A(S[-1],d));n=[M()]

 # move the snake in the current direction
 else: S.append(A(S[-1],d));S.pop(0)

 # draw the map and limit the main loop to 6 frames per second
 N(S);dp.update();c.tick(6)
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Bash: <s>537</s> <s>533</s> 507 characters</h1>

<pre class="lang-sh prettyprint-override"><code>C=$COLUMNS;L=$LINES;D=-1;c=9;r=9;z=(9\ 9);l=;h=1;v=;s=1;d=1
t(){ echo -en "\e[$2;$1H$3";}
b(){ ((f=RANDOM%C+1));((g=RANDOM%L+1));for i in "${z[@]}";do [[ $f\ $g = $i ]]&amp;&amp;b;done;t $f $g F;}
echo $'\e[2J';b
while :;do
read -sn1 -t.1 k
case $k in
w|s)((h))&amp;&amp;h=&amp;&amp;v=${D:$k};;
a|d)((v))&amp;&amp;v=&amp;&amp;h=${D:$k};;
esac
((c+=h));((r+=v))
((c==f&amp;&amp;r==g&amp;&amp;++l))&amp;&amp;b
((c&lt;1||r&lt;1||c&gt;C||r&gt;L))&amp;&amp;break
for i in "${z[@]}";do [[ $c\ $r = $i ]]&amp;&amp;break 2;done
t ${z[-1]} \ ;t $c $r X
z=($c\ $r "${z[@]::l}")
done
echo $'\e[2J\e[H'Score: $l
</code></pre>

<p>As it uses the <code>$COLUMNS</code> and <code>$LINES</code> shell variables, it must be run sourced: <code>. snake.sh</code>. The snake can be controlled with the <kbd>w</kbd>/<kbd>a</kbd>/<kbd>s</kbd>/<kbd>d</kbd> keys.</p>

<p>I know, it can be easily reduced to 493 characters by using <code>clear</code> to clear the screen, but I prefer to keep it pure <code>bash</code>, without using any external tool.</p>
</div>
<div id="pu5" class="pu"><h2>Ruby 1.9 + SDL (<del>341</del> <del>324</del> 316)</h2>

<p>Here's a first attempt at a Ruby version using the SDL library.  I can save 6 characters if I'm allowed to load the SDL library using <code>-rsdl</code> on the command line instead of the require statement.</p>

<pre class="lang-ruby prettyprint-override"><code>require'sdl'
f=o=d=3
s=SDL::Screen.open l=32,l,0,0
r=*0..l*l
loop{f==o ?f=(r-$*).sample: $*.shift
/yU/=~"#{e=SDL::Event.poll}"&amp;&amp;(v=e.sym%4)&amp;&amp;d+v!=3&amp;&amp;d=v
$&gt;&lt;&lt;"Score #{$*.size}"&amp;&amp;exit if$*.index(n=o+[-1,-l,l,1][d])||n&lt;0||n&gt;=l*l||d%3&lt;1&amp;&amp;n/l!=o/l
$*&lt;&lt;o=n
r.map{|i|s[i%l,i/l]=[[f,*$*].index(i)?0:255]*3}
s.flip
sleep 0.1}
</code></pre>

<p>The snake segments and food pieces are represented using black pixels, the grid size is currently 32*32.  You can control with the arrow keys (or any keys really, the keycode mod 4 indexes the direction array [LEFT, UP, DOWN, RIGHT]).  I think there's definitely room for improvement here, especially in the death-checking IF statement.</p>

<p>I've vastly improved this over the previous version, hopefully it more closely matches the spirit of the question now.  <del>There's one thing I need to fix to comply with the spec, which is that food can currently spawn inside the tail.</del> Fixed!</p>

<p>Prints the score to stdout after the game is completed.</p>
</div>
<div id="pu6" class="pu"><h1>Java, <s>2343</s> 2239</h1>

<p>Not exactly concise, but I believe it follows all the requirements.</p>

<h3>Snake class</h3>

<pre class="lang-java prettyprint-override"><code>import javax.swing.*;
public class S extends JFrame{
S(){add(new B());setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);setSize(320,340);setVisible(true);}
public static void main(String[]a){new S();}}
</code></pre>

<hr>

<h3>Board class</h3>

<pre class="lang-java prettyprint-override"><code>import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
class B extends JPanel implements ActionListener{
int W=300;int H=300;int DS=10;int AD=900;int RP=29;int D=140;int x[]=new int[AD];int y[]=new int[AD];int d;int ax;int ay;boolean l=false;boolean r=true;boolean u=false;boolean dn=false;boolean ig=true;Timer t;Image b;Image a;Image h;
B(){addKeyListener(new T());setBackground(Color.black);ImageIcon id=new ImageIcon(this.getClass().getResource("d.png"));b=id.getImage();ImageIcon ia=new ImageIcon(this.getClass().getResource("a.png"));a=ia.getImage();ImageIcon ih=new ImageIcon(this.getClass().getResource("h.png"));h=ih.getImage();setFocusable(true);i();}
void i(){d=3;for(int z=0;z&lt;d;z++){x[z]=50-z*10;y[z]=50;}l();t=new Timer(D,this);t.start();}
public void p(Graphics g){super.paint(g);if(i){g.drawImage(a,ax,ay,this);for(int z=0;z&lt;d;z++){if(z==0)g.drawImage(h,x[z],y[z],this);else g.drawImage(b,x[z],y[z],this);}Toolkit.getDefaultToolkit().sync();g.dispose();}else{g(g);}}
void g(Graphics g){String ms="Score:";Font sm=new Font("Courier",Font.PLAIN,12);FontMetrics me=this.getFontMetrics(sm);g.setColor(Color.white);g.setFont(sm);g.drawString(ms+d,(W-me.stringWidth(ms)),H);}
void c(){if((x[0]==ax)&amp;&amp;(y[0]==ay)){d++;l();}}
void m(){for(int z=d;z&gt;0;z--){x[z]=x[(z-1)]; y[z]=y[(z-1)];}if(l){x[0]-=DS;}if (r){x[0]+=DS;}if(u){y[0]-=DS;}if(dn){y[0]+=DS;}}
void cc(){for(int z=d;z&gt;0;z--){if((z&gt;4)&amp;&amp;(x[0]==x[z])&amp;&amp;(y[0]==y[z])){ig=false;}}if(y[0]&gt;H){ig=false;}if(y[0]&lt;0){ig=false;}if(x[0]&gt; W){ig=false;}if(x[0]&lt;0){ig=false;}}
void l(){int r=(int)(Math.random()*RP);ax=((r*DS));r=(int)(Math.random()*RP);ay=((r*DS));}
public void actionPerformed(ActionEvent e){if(ig){c();cc();m();}repaint();}
class T extends KeyAdapter{public void keyPressed(KeyEvent e){int k=e.getKeyCode();if((k==KeyEvent.VK_LEFT)&amp;&amp;(!r)){l=true;u=false;dn=false;}if((k==KeyEvent.VK_RIGHT)&amp;&amp;(!l)){r=true;u=false;dn=false;}if((k==KeyEvent.VK_UP)&amp;&amp;(!dn)){u=true;r=false;l=false;}if((k==KeyEvent.VK_DOWN)&amp;&amp;(!u)){dn=true;r=false;l=false;}}}}
</code></pre>

<hr>

<h3>Screenshot</h3>

<p><img src="https://i.sstatic.net/4yhc4.png" alt="snake game in java"></p>

<hr>

<h3>Commentary</h3>

<p>A while back I visited a website called <a href="http://www.zetcode.com" rel="nofollow noreferrer">zetcode</a> which provided some tutorials for creating classic 2D games in Java.  The code provided is strongly influenced by <a href="http://zetcode.com/tutorials/javagamestutorial/snake/" rel="nofollow noreferrer">the tutorial</a> that was provided for the Snake game... I think at this time I just started coding classic games and followed the tutorial to a 'T'.</p>

<p>I'll make an edit later and add a link to an executable so people can play the game.</p>

<hr>

<h3>EDITS</h3>

<ul>
<li>9/9/12: I am unable to properly load the images from the resource folder.  I'll continue to work through this issue in an attempt to prove that my code works and meets all criteria of the question.</li>
<li>9/11/12: I am going to continue working on getting the pictures to load from the resource file.  I added a picture provided from the ZetCode tutorial.</li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/7241/">7241</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




