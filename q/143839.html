<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::143839</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>092</td><td>Raku Perl 6 rakudo</td><td>241216T180526Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/277303#277303">xrs</a></td></tr>
<tr d-ix="1"><td>114</td><td>AWK</td><td>241204T194359Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/277034#277034">xrs</a></td></tr>
<tr d-ix="2"><td>183</td><td>TypeScript’s type system</td><td>231214T174944Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/268549#268549">noodle p</a></td></tr>
<tr d-ix="3"><td>089</td><td>Perl 5 p</td><td>231218T224209Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/268631#268631">Xcali</a></td></tr>
<tr d-ix="4"><td>008</td><td>Vyxal 3 j</td><td>231215T131541Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/268561#268561">pacman25</a></td></tr>
<tr d-ix="5"><td>033</td><td>GolfScript</td><td>200110T092344Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/197871#197871">user8505</a></td></tr>
<tr d-ix="6"><td>012</td><td>Japt</td><td>170927T110127Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143863#143863">Shaggy</a></td></tr>
<tr d-ix="7"><td>017</td><td>Stax</td><td>180514T194643Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/164815#164815">Multi</a></td></tr>
<tr d-ix="8"><td>074</td><td>Haskell</td><td>170927T202246Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143913#143913">nimi</a></td></tr>
<tr d-ix="9"><td>136</td><td>JavaScript</td><td>170928T081707Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143946#143946">tjespe</a></td></tr>
<tr d-ix="10"><td>062</td><td>R</td><td>170927T125533Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143871#143871">plannapu</a></td></tr>
<tr d-ix="11"><td>050</td><td>Ruby</td><td>170927T084431Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143859#143859">G B</a></td></tr>
<tr d-ix="12"><td>081</td><td>Python 2</td><td>170927T034532Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143846#143846">fireflam</a></td></tr>
<tr d-ix="13"><td>085</td><td>JavaScript ES6</td><td>170927T102338Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143862#143862">edc65</a></td></tr>
<tr d-ix="14"><td>123</td><td>AWK</td><td>170927T190338Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143903#143903">Robert B</a></td></tr>
<tr d-ix="15"><td>079</td><td>JavaScript ES6</td><td>170927T184633Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143901#143901">Rick Hit</a></td></tr>
<tr d-ix="16"><td>nan</td><td>TIBasic 83 series</td><td>170927T032206Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143844#143844">Misha La</a></td></tr>
<tr d-ix="17"><td>042</td><td>Stacked</td><td>170927T152452Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143889#143889">Conor O&</a></td></tr>
<tr d-ix="18"><td>097</td><td>Haskell</td><td>170927T151213Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143887#143887">ბიმო</a></td></tr>
<tr d-ix="19"><td>009</td><td>Husk</td><td>170927T144127Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143885#143885">ბიმო</a></td></tr>
<tr d-ix="20"><td>017</td><td>MATL</td><td>170927T133448Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143873#143873">Luis Men</a></td></tr>
<tr d-ix="21"><td>205</td><td>Java OpenJDK 8</td><td>170927T090408Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143860#143860">Roberto </a></td></tr>
<tr d-ix="22"><td>214</td><td>Java 8</td><td>170927T075545Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143856#143856">Kevin Cr</a></td></tr>
<tr d-ix="23"><td>122</td><td>JavaScript ES6</td><td>170927T082418Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143857#143857">Neil</a></td></tr>
<tr d-ix="24"><td>011</td><td>05AB1E</td><td>170927T060639Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143854#143854">Emigna</a></td></tr>
<tr d-ix="25"><td>142</td><td>Mathematica</td><td>170927T031355Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143843#143843">ZaMoC</a></td></tr>
<tr d-ix="26"><td>010</td><td>Jelly</td><td>170927T024622Z</td><td><a href="https://codegolf.stackexchange.com/questions/143839/the-three-rs-reverse-reorder-repeat/143841#143841">hyperneu</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://raku.org" rel="nofollow noreferrer">Raku (Perl 6) (rakudo)</a>, 92 bytes</h1>
<pre class="lang-perl prettyprint-override"><code>{my $x=$_;loop {$x=$x.flip;$x~~s:g/(\d)(\d)/{$/.list[1]~$/.list[0]}/;say $x;last if $x==$_}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kKDG7dMGy3EoFtTTbpaUlaboWN2OqgVyVCluVeOuc_PwChWoQu0IvLSezwFqloq6u2CpdXyMmRROE9atV9PVyMotLog1j62BMg9hafeviRJAh1jmJxSUKmWkg84AG1tZC7dBLyy9SsDE0MjYxVQCTZuYw2sLSTqFaIU1DJV7TWgFkipISVNeCBRAaAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>{my $x=$_;                                  # save starting point
loop {                                      # loop
$x=$x.flip;                                 # reverse digits
$x~~s:g/(\d)(\d)/{$/.list[1]~$/.list[0]}/;  # switch pairs
say $x;                                     # print
last if $x==$_}}                            # exit if we're back
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.gnu.org/software/gawk/" rel="nofollow noreferrer">AWK</a>, 114 bytes</h1>
<pre><code>a=$0{do{s=&quot;&quot;
for(i=length;i;)s=s substr($0,i--,1)
$0=gensub(/([^,]+),([^,]+)/,&quot;\\2,\\1&quot;,&quot;g&quot;,s)
print}while($0!=a)}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m704sTx7wYKlpSVpuhY3ixJtVQyqU_Kri22VlLjS8os0Mm1zUvPSSzKsM601i22LFYpLk4pLijRUDHQydXV1DDW5VAxs01PzgMIa-hrRcTqx2po6UFpfRykmxkgnJsZQSUcpXUmnWJOroCgzr6S2PCMzJxVohKJtomYtxGaoAxZsNNQx0jHWMdEx1THTMdex0LGESAAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>a=$0{do{s=&quot;&quot;                                 # defaults
for(i=length;i;)s=s substr($0,i--,1)         # reverse
$0=gensub(/([^,]+),([^,]+)/,&quot;\\2,\\1&quot;,&quot;g&quot;,s) # switch digits
print}                                       # print until
while($0!=a)}                                # we get back 
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://typescriptlang.org/" rel="nofollow noreferrer">TypeScript</a>’s type system, <s>203</s> <s>193</s> <s>190</s> 183 bytes</h1>
<pre class="lang-typescript prettyprint-override"><code>//@ts-ignore
type F&lt;N,A=[],E=A,O=N,G=[...N,...A]&gt;=N extends[1,...infer D]?F&lt;D,[N,...A]&gt;:A extends[...infer R,infer X,infer Y]?F&lt;[...N,X,Y],R,E,O&gt;:E extends O[any]?O:F&lt;[],G,E,[...O,G]&gt;
</code></pre>
<p><a href="https://www.typescriptlang.org/play?#code/PTACBcGcFoEsHMB2B7ATgUwLAChwE8AHdAAgDEAeAOQBoBBAXgG0BdagUXtuoHl6aBxJgDoRNEUNrMAfH2LoAHuHSIAJpEYBGauNiIAZulTEAIswD8FY9UZiRkqQC5acxcrWMd+w8QBK1XQZGABr+XkYAmuYUHqLUIZHUfmw8jmwuSqqQxNyMAIaIeObcDtGs-OzW4tzU-NI4OPhExFn0ZOSa1FpdnXXYDYQkucSt6gAMzDggxNMAemb9TQBGw82aE9hTs-O4A8QAxivqAEzrm8RzCyQqh4wAzKfA0+fbjSQkI4wALA9PF9hAA" rel="nofollow noreferrer">Try it at the TS playground</a></p>
<p>I can’t believe I got this all to fit in a single type. This is definitely one of the coolest TS types submissions I’ve posted.</p>
<p><strong>Edit:</strong> This explanation is really chaotic because this submission itself is chaotic; I don’t blame you if it makes zero sense to you</p>
<h2>Explanation</h2>
<p>The <code>//@ts-ignore</code> comment on the first line tells the compiler to suppress any warnings from the following line.</p>
<p>The beginning of the type describes its arguments:</p>
<pre class="lang-typescript prettyprint-override"><code>type F&lt;N,A=[],E=A,O=N,G=[...N,...A]&gt;
</code></pre>
<p>What the arguments do is explained later, but you should know that <code>G</code> is an alias for N with A appended to it; it comes in handy later.</p>
<p>The type has three “stages”, which are entered at different times in the evaluation of the type.</p>
<ul>
<li><p>The first stage converts the unary number to the range of unary numbers between 1 and the input. (At this stage, the input is in N, and A is the empty tuple.)</p>
<pre class="lang-typescript prettyprint-override"><code>N extends[1,...infer D]
</code></pre>
<p>Is the first item of N a one? If so, remove it and call the rest D, and…</p>
<pre class="lang-typescript prettyprint-override"><code>F&lt;D,[N,...A]&gt;
</code></pre>
<p>…recurse, with N set to D, and with N prepended to A.</p>
<p>By the end of stage 1, A will contain the range from 1 to the input, E will be set equal to A, and N and O will both be the empty tuple.</p>
<p>(E is the initial step; this will be how the type knows to terminate. O will be the list of intermediate results, which will be the final return value.)</p>
</li>
<li><p>If the first stage was not entered, because N is either empty or contains elements that aren’t ones, then the second stage is entered, to reverse and reorder the elements of A.</p>
<pre class="lang-typescript prettyprint-override"><code>A extends[...infer R,infer X,infer Y]
</code></pre>
<p>If A has two or more items, call the last two X and Y respectively, and the rest R.</p>
<pre class="lang-typescript prettyprint-override"><code>F&lt;[...N,X,Y],R,E,O&gt;
</code></pre>
<p>Recurse, appending X and Y to N, setting A to R, and keeping the values of E and O as they already are.</p>
<p>By the end of this stage, N will contain the reversed and reordered items of A. A will be empty if it originally had an even number of items, but if its length was odd then it will contain the last item to be appended to N. This is a minor pain point of the solution, adding 14 bytes to alias G to N with A appended.</p>
</li>
<li><p>The third stage does the “repeat” step.</p>
<pre class="lang-typescript prettyprint-override"><code>E extends O[any]?O
</code></pre>
<p>If E (the initial result) is contained in O (the list of intermediate results), then the program is finished; return O.</p>
<pre class="lang-typescript prettyprint-override"><code>F&lt;[],G,E,[...O,G]&gt;
</code></pre>
<p>Otherwise, recurse with N set to the empty tuple (skipping stage 1 and going straight to stage 2), A set to G (the alias for N with A appended), E left unchanged, and O with G appended.</p>
</li>
</ul>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-p</code>, 89 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_=$;=join$&quot;,1..$_;do{$_=join$&quot;,reverse/\d+/g;s/(\d+) (\d+)/$2 $1/g;$\+=say}until$;eq$_}{
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3lbF2jYrPzNPRUnHUE9PJd46Jb8aKAoVKkotSy0qTtWPSdHWT7cu1tcAMjQVwKS@ipGCiiFQVCVG27Y4sbK2NK8kM0fFOrVQJb62@v9/k3/5BSWZ@XnF/3V9TfUMDA3@6xbkAAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="nofollow noreferrer">Vyxal 3</a> <code>j</code>, 8 bytes</h1>
<pre><code>ɾᶨλṚ2ẆVf
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#WyJqIiwiIiwiyb7htqjOu+G5mjLhuoZWZiIsIiIsIjUiLCIzLjMuMCJd" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="http://www.golfscript.com/golfscript/" rel="nofollow noreferrer">GolfScript</a>, 33 bytes</h1>

<p>Nope, I can't simplify the algorithm.</p>

<pre><code>~),1&gt;:a{-1%2/{-1%}%{+}*.p.a=!}do;
</code></pre>

<p><a href="https://tio.run/##S8/PSStOLsosKPn/v05Tx9DOKrFa11DVSB9E1qpWa9dq6RXoJdoq1qbkW///bwoA" rel="nofollow noreferrer" title="GolfScript – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<pre><code>~                                 # Dump the input
 ),                               # Generate inclusive range: 0 -&gt; input
   1&gt;:a                           # Set [1 2 ... input-1 input] to a without popping
       {                     }do  # Do ... While
                         .a=!     # The current item does not equal to a
        -1%                       # Reverse the item
           2/                     # Split into equal parts of 2
             {-1%}%               # For each equal part, reverse
                   {+}*           # Flatten the list
                       .p         # Print the list
                                ; # We don't need to implicit output the
                                  # extra value left on the stack
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/ETHproductions/japt/" rel="nofollow noreferrer">Japt</a>, <s>20</s> <s>18</s> <s>15</s> 12 bytes</h1>
<pre><code>õ
£=ò2n)ÔcÃâ
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=9QqjPfIybinUY8Pi&amp;input=OQotUg==" rel="nofollow noreferrer">Try it</a> (<code>-R</code> flag for visualisation purposes only)</p>
<p>1 byte saved thanks to ETHproductions.</p>
<pre><code>               :Implicit input of integer U
õ              :Range [1,U]
\n             :Reassign to U
£              :Map
  ò            :  Partitions
   2           :    Of length 2
    n          :    Starting from the end
     )         :  End partition
      Ô        :  Reverse
       c       :  Flatten
 =             :  Reassign to U
        Ã      :End map
         â     :Deduplicate
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 17 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>âΩÄ─g╫B♥C╛♠ƒ?|πcD
</code></pre>

<p><a href="http://stax.tomtheisen.com/#p=83ea8ec467d7420343be069f3f7ce36344&amp;i=1%0A2%0A3%0A4%0A7%0A9%0A27&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>

<p><strong>Explanation</strong></p>

<pre><code>RX~Wr2/{r+}Fc|uPcx=C      # Full program, unpacked, implicit input
RX~                       # Create range, save to X register, pop back to input stack
   W                      # Start while loop until truthy value
    r                     # reverse array
     2/                   # Split into groups of 2
      {r+}F               # Loop through each set and reverse each
           c              # Copy top value
            |u            # Convert to string representation of array
              P           # Pop top value off
               cx=        # Copy top value, get value of x register, compare to top value
                  C       # If top value is truthy, cancel block and end
</code></pre>

<p>Suprised it works as fast as it does, tested up to 399 before I didn't want to temp my browser anymore.</p>
</div>
<div id="pu8" class="pu"><h2>Haskell, <s>75</s> 74 bytes</h2>

<pre><code>g(a:b:c)=b:a:g c
g x=x
h=g.reverse
0!x|x&lt;[2]=[x]|1&lt;2=x:0!h x
p n=0!h[1..n]
</code></pre>

<p><a href="https://tio.run/##FckxCoQwEADAPq9YO22C2rm4T7gXhHCsEhI5DSHKsUX@HrUbmMDnz@17rb5lXHDtaEFGD6vyICQqkNfZ/V0@neobKTKb0ZIRW4Z5JMG@CSAqQaRHZtA62nrwFoHg4PT5QpvyFi@dOnh3slBv" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p><code>g</code> does the pair-wise swaps, <code>h</code> a single step (reverse + reorder), <code>!</code> repeatedly applies <code>h</code> (and collects the intermediate results) until the order is restored. Note: <code>!</code> takes the additional but unused extra parameter <code>0</code> just to make it an infix operator. The main function <code>p</code> starts it up.</p>

<p>Edit: Thanks to @Angs for a byte.</p>
</div>
<div id="pu9" class="pu"><h1>JavaScript, 136 bytes</h1>

<pre><code>(n)=&gt;{for(a=[],i=0;i&lt;n;a[i]=++i);for(j=0;j&lt;(n&amp;1?n:2);j++){a.reverse();for(i=0;i&lt;a.length-1;i += 2)m=a[i],a[i]=a[i+1],a[i+1]=m;alert(a)}}
</code></pre>
</div>
<div id="pu10" class="pu"><h1>R, <s>109</s> <s>95</s> <s>94</s> <s>79</s> <s>74</s> 62 bytes</h1>
<p>If the fact that the code throws warnings on top of the actual solution (no warnings if <code>n</code> is 1, 3 warnings if <code>n</code> is even and <code>n</code> warnings if <code>n</code> is odd) is not an issue, then the following works similarly to the previous solution, thanks to vector recycling:</p>
<pre><code>n=scan();m=1:n;w=0:n+2*1:0;while(print(m&lt;-rev(m)[w[w&lt;=n]])-1)n
</code></pre>
<p><a href="https://tio.run/##K/r/P8@2ODkxT0PTOtfW0CrPutzWwCpP20jL0MrAujwjMydVo6AoM69EI9dGtyi1TCNXM7o8utzGNi82VlPXUDPvv8l/AA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>Thanks again to <a href="https://codegolf.stackexchange.com/users/67312">@Giuseppe</a> for an extra 12 bytes off!</p>
<p><strong>Previous, warning-less solution at 94 bytes:</strong></p>
<pre><code>n=scan();m=s=1:n;while(any(print(m&lt;-rev(m)[c(if(n&gt;1)2:1+rep(seq(0,n-2,2),e=2),n[n%%2])])!=s))n
</code></pre>
<p><a href="https://tio.run/##DcRBCoMwEAXQq9SF8IdGMKEr7fQi4kJkxEDzsYm09PRp3@LlWi/Usi6EjEmL@oHjZ49Pw8Ivjhx5It27bG8kmVbEDXx4CYO/ZjtQ7IXesQsuiDP9x4ltG2aZpdEiwnqrPw" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p><strong>Original solution at 109 bytes</strong>:</p>
<pre><code>n=scan();m=s=1:n;repeat{cat(m&lt;-rev(m)[c(t(embed(s,min(n,2))[!!s[-n]%%2,]),n[n%%2])],&quot;\n&quot;);if(all(m==s))break}
</code></pre>
<p><a href="https://tio.run/##DcbBCsIwDADQb9lgkEB2sBfBmi@pPWQ1wnAJ0hYv4rdX3@nVMZxbEQeMxo1PF49VXyr9U6SDXdeqbzBMBTqobXqHRrY7OAXENE0trZ6XJVBG8uT/Zcw033zGuD9AjgOMuSFuVeX5HeE8fg" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>64 57 52</s> 50 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;x{(s=*w=1..x).map{s=w.map{|y|s[-y^1]||s[0]}}|[]}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf166iWqPYVqvc1lBPr0JTLzexoLrYthxM11TWFEfrVsYZxtYAGQaxtbU10bG1/zWAKg0NIEprKmoKFCp00qIrgBIA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<h3>How it works:</h3>
<p>First create the range, then repeat the permutation x times: use a negative index, but flip the last bit, so we get the sequence -2, -1, -4, -3... if x is even, this will end well, if not we will add the remaining element at the end. Last step: filter out repeated arrays (so we cover all cases: x=1, x=2, odd and even numbers)</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>165</s> <s>159</s> <s>138</s> 81 bytes</h1>



<pre class="lang-python prettyprint-override"><code>x=input()+1
b=a=range(1,x)
while b:b=[b[x-min(x,i+1^1)]for i in a];print b;b*=a&lt;b
</code></pre>

<p><a href="https://tio.run/##JcyxCsMgFIXh3ae4S4nGhuKFLhafRBwMmNamGFEL9umtkuEs34E//srrCNhaVT7Eb6GMWJVseDoqrpULRrKq4DeoFwT3yQ5woVUpZGQ7ErzBhwmmOUur9AqD9k5wFuoN2aB1kNVSLsJonHfZx9GcYHh/et08YvKhgG3t/gc" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p><em>-20 bytes thanks to @ChasBrown</em>. (Sigh, I made a whole challenge about extended slicing syntax)</p>

<p>Whoa! GolfStorm (-57 bytes)! Thanks to Ian Gödel, tsh, and Jonathan Frech.</p>
</div>
<div id="pu13" class="pu"><h1>JavaScript (ES6), <s>89</s> 85</h1>
<p><em>Edit</em> 4 bytes saved thx @JustinMariner</p>
<p>Using the fact that when any element is at the right place, all elements are.</p>
<pre class="lang-js prettyprint-override"><code>n=&gt;{for(l=[];n;l[n-1]=n--);while(alert(l=l.reverse().map((x,i)=&gt;l[i^1]||x)),l[0]-1);}
</code></pre>
<p><em>Less golfed</em></p>
<pre class="lang-js prettyprint-override"><code>n =&gt; {
  for(l=[], i=0; i&lt;n; l[i] = ++i);
  while( alert(l=l.reverse().map( (x,i) =&gt; l[i^1] || x)),
         l[0]-1);
}
</code></pre>
<p><strong>Test</strong></p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var F=
n=&gt;{for(l=[];n;l[n-1]=n--);while(alert(l=l.reverse().map((x,i)=&gt;l[i^1]||x)),l[0]-1);}

alert=x=&gt;console.log(x+'') // to avoid popup stress

function update() {
  F(+I.value);
} 

update()</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input type=number id=I value=1 min=1 oninput='update()'&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, 123 bytes</h1>

<p>Not very tight, but this is the best I could come up with.</p>

<pre><code>{for(N=$1;N&gt;$i=++i;);for(;n++&lt;(i%2?i:i&gt;2?2:1);){for(k=0;k++&lt;i;)K[k]=(z=i-k+(k-1)%2*2)?$z:$1;for(k=0;k++&lt;N;){$k=K[k]}print}}
</code></pre>

<p><a href="https://tio.run/##TcxBCsIwEAXQy6SQcSg4s8w4zQGEXKC4cCMMA1WKIFRy9pi66vb/9//94619H881Fg0kZQqmiCYgeyYL4iXawNmSTZw5EQj8uetZvLedXme/adzURsfoI8HAJ4YcttQfj7b0bXDdfX2ttrxrbY3oBw" rel="nofollow noreferrer" title="AWK – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1>JavaScript (ES6), 79 bytes</h1>
<pre><code>f=(n,a=[...Array(n)],b=a.map((x,i)=&gt;n-((x?x-1:i)^1)||1))=&gt;b[0]&gt;1?b+`
`+f(n,b):b
</code></pre>
<p>Outputs a list for each step.</p>
<p>Note that we don't need to initialize the array to get the ball rolling.  If uninitialized (<code>x</code> is undefined), we can use the array's indices (parameter <code>i</code>) to do the first step:</p>
<pre><code>b=a.map((x,i)=&gt;n-((x?x-1:i)^1)||1)
</code></pre>
<p><strong>Test Cases:</strong></p>
<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=(n,a=[...Array(n)],b=a.map((x,i)=&gt;n-((x?x-1:i)^1)||1))=&gt;b[0]&gt;1?b+`
`+f(n,b):b

console.log(f(1));
console.log(f(2));
console.log(f(3));
console.log(f(4));
console.log(f(5));
console.log(f(7));
console.log(f(27));</code></pre>
</div>
</div>
</p>
</div>
<div id="pu16" class="pu"><h1>TI-Basic (83 series), <s>58</s> <s>57</s> 54 bytes (104 characters)</h1>

<pre><code>:seq(I,I,1,Ans→A
:Ans→B
:Repeat prod(Ans=ᶫB
:ᶫB→C
:int(⁻Ans/2→D
:SortD(ᶫC,ᶫA
:SortD(ᶫD,ᶫA
:Pause ᶫA
:End
</code></pre>

<h3>Explanation</h3>

<p>Takes input in <code>Ans</code> (e.g., write <code>5:prgmNAME</code> to use lists of size five).</p>

<p>Creates three auxiliary lists of the given size (which are recreated from <code>ᶫB</code> at each step): <code>ᶫB = ᶫC = {1,2,3,4,5,...}</code> and <code>ᶫD = {-1,-1,-2,-2,-3,...}</code>. At each step, sorts <code>ᶫC</code> and <code>ᶫD</code> in descending order, applying the same permutation to <code>ᶫA</code>. In the case of <code>ᶫC</code>, this reverses <code>ᶫA</code>, and in the case of <code>ᶫD</code>, this swaps adjacent pairs because TI-Basic uses a <strong>really stupid selection sort implementation</strong> for <code>SortD(</code> which reorders as many identical elements as it possibly can. When <code>ᶫA</code> is equal to <code>ᶫB</code> again, we stop.</p>

<p>No, seriously, their built-in sorting algorithm is my second-biggest complaint with the TI-Basic interpreter. (My biggest complaint is how lots of nested loops slow down the interpreter, since the loop data is stored in a stack, but the stack is grown from the wrong end, so the calculator has to <em>move the entire stack</em> every time an element is pushed or popped.) But this time, it's convenient.</p>

<hr>

<p>-1 byte: <code>Pause</code> stores the value it's printing to <code>Ans</code>, which is shorter to reference than <code>ᶫA</code>.</p>

<p>-3 bytes: take input in <code>Ans</code></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/stacked" rel="nofollow noreferrer">Stacked</a>, 42 bytes</h1>

<pre><code>[~&gt;[rev 2#&lt;$revflatmap]periodsteps behead]
</code></pre>

<p><a href="https://tio.run/##Ky5JTM5OTfn/P7rOLrootUzBSNlGBUin5SSW5CYWxBakFmXmpxSXpBYUKySlZqQmpsT@d7BK4@IyVEhTSMksLuAygjGMYQwTGMMUxjCHMSzhumBC/wE" rel="nofollow noreferrer" title="Stacked – Try It Online">Try it online!</a></p>

<p>Performs the given transformation using the <code>periodsteps</code> builtin. However, this builtin returns all of the elements, which includes the input's range as its first and last elements. We therefore behead the list, returning all but the first element.</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 97 bytes</h1>



<p>This feels a bit long :(</p>

<pre class="lang-hs prettyprint-override"><code>f n|x&lt;-[1..n]=x:takeWhile(/=x)(tail$iterate((r=&lt;&lt;).g.r)x)
r=reverse
g[]=[]
g x=take 2x:g(drop 2x)
</code></pre>

<p><a href="https://tio.run/##FYyxCsIwEED3fsUNDslgRMGl9CZnZ4dS5KDXNDRNy@WQDP57rMODt7w3U144xlonSN/Snfurc2nA0iot/JpDZHPBYo1SiKegLKRsjGDXWeed2GIbQeEPS@bG9wP2Q@Oh4D@HW2m9GWXbD7N1pZAAYaX9@YZdQlJwMB0I0wjHETzrY0vKSXO9/wA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<h3>Explanation/Ungolfed</h3>

<pre class="lang-hs prettyprint-override"><code>-- starting with x, accumulate the results of repeatedly
-- applying the function permute
f n = x : takeWhile (/=x) (tail $ iterate permute x)
  where x = [1..n]
        -- reverse, cut2, reverse each pair &amp; flatten
        permute = concatMap reverse . cut2 . reverse

-- recursively transform a list into groups of 2
cut2 [] = []
cut2 xs = take 2 xs : g (drop 2 xs)
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 9 bytes</h1>

<pre><code>U¡ȯṁ↔C2↔ḣ
</code></pre>

<p><a href="https://tio.run/##yygtzv7/P/TQwhPrH@5sfNQ2xdkISDzcsfj///@mAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>

<pre><code>            -- implicit input N                 |  3
         ḣ  -- list [1..N]                      | [1,2,3]
 ¡(     )   -- iterate the following function,  | [[1,2,3],[2,3,1],[3,1,2],[1,2,3],...
U           -- until the first repetition:      | [[1,2,3],[2,3,1],[3,1,2]]
       ↔    --   reverse                        |   [3,2,1]
     C2     --   cut into two                   |   [[3,2],[1]]
   ṁ↔       --   reverse each pair &amp; flatten    |   [2,3,1]
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 17 bytes</h1>
<pre><code>:`tP2ePXz!tG:-a]x
</code></pre>
<p><a href="https://tio.run/##y00syfn/3yqhJMAoNSCiSrHE3Uo3Mbbi/39TAA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>:       % Implicit input: n. Push [1 2 ... n]
`       % Do...while
  t     %   Duplicate
  P     %   Reverse
  2e    %   Reshape into a 2-row matrix. A final 0 is added if needed
  P     %   Reverse each column
  Xz    %   Nonzero entries (i.e. remove final 0 if present). Gives a column vector
  !     %   Transpose into a row
  t     %   Duplicate
  G:    %   Push [1 2 ... n] again
  -     %   Subtract element-wise
  a     %   Any. Gives true if there is at least a nonzero value
]       % End. Go to next iteration if top of the stack is true.  So the loop ends
        % when [1 2 ... n] has been found again
x       % Delete top of the stack (which is [1 2  ... n]). Implicit display
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="http://openjdk.java.net/" rel="nofollow noreferrer">Java (OpenJDK 8)</a>, <s>257</s> <s>245</s> <s>243</s> <s>226</s> <s>206</s> 205 bytes</h1>



<pre class="lang-java prettyprint-override"><code>n-&gt;{int i=0,k,t[]=new int[n];while(i&lt;n)t[i]=++i;do{for(i=0;i&lt;n/2;t[i]=t[n+~i],t[n+~i++]=k)k=t[i];for(k=1;k&lt;n;t[k]=t[--k],t[k]=i,k+=3)i=t[k];System.out.println(java.util.Arrays.toString(t));}while(t[0]&gt;1);}
</code></pre>

<p><a href="https://tio.run/##RZAxb8IwEIX3/AqPcZO4QIcOxkhVpw6dGCMPbjD0cGJH9gWEEP3r6bkg9Zbzvfss3XtHczJNGK0/7twMwxgisiNpYkLoxX7yHULw4kkWxTh99dCxrjcpsU8Dnl0LRpXQIOnvwadpsHH94dEebNywyBSbfbO5gkcGalG7GlutvD0zUlqv5fkbelvC2nNsQauqArkL132IJeGS9OeV/NsQXf2Aru@9qrRy3Km8kpl2aind2hPrMts0LqP0htpV6oWDypPcXhLaQYQJxRjphN6X/17fYjSXJDBskXaHEjmXt/uB2C70ZknjnP1SFLk94ni4PwXYsYFCKe/fW81MPCT@yChXFKbr7Ijl6pXLP/VW3OZf" rel="nofollow noreferrer" title="Java (OpenJDK 8) – Try It Online">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1>Java 8, <s>215</s> 214 bytes</h1>

<pre class="lang-java prettyprint-override"><code>import java.util.*;n-&gt;{Stack a=new Stack(),t;int i=0;for(;i&lt;n;a.add(++i));t=(Stack)a.clone();Collections x=null;for(i=0;i&lt;1|!a.equals(t);System.out.println(t))for(x.reverse(t),i=0;i&lt;n;i++)if(i&lt;n-1)x.swap(t,i,++i);}
</code></pre>
<p>I tried to golf it using actual arrays instead of a List, but both reversing and swapping will take up too many bytes.. Maybe it can be combined in one loop (instead of first reversing, then swapping), but I've yet to figure this out.<br />
This can definitely be golfed some more, though.</p>
<p><strong>Explanation:</strong></p>
<p><a href="https://tio.run/##jZJNb8MgDIbv@RXeDZaErvtQNdHssvOqST1OO7iEbLQUsuD0Q11/e0bSHneIBJJ5eYz9Wqxxh7mvtVuXm85sa98QrKMmWjJW3EoAmEzgHaPsK6BvDasj6Vz51lGSKIshwBsad0oAjCPdVKg0LPojwM6bEhSLOjguo3SOO65ASEbBAhwU0Ln85bQkVBvAwuk9DDHjGck@0RR3svINk2buJAosS5amhnNJBRtIjkJZ7zTj8tVbqxUZ7wIcCtdaO6T2T5j59PcGhf5p0QZGXC6PgfRW@JZE3cRC1kWV9/hBNHqnm6CjkF1ynTRpyk3FYphP@UGEPdaMMpP1vchzJ5Noq25XNtq6uhvMb@NoYpuxwNfHJyC/zMUJxabDQAD@6eN601P3o6iHUdTjKOppFDUbRT2P8zi7/o1z9wc" rel="nofollow noreferrer">Try it here.</a></p>
<pre class="lang-java prettyprint-override"><code>import java.util.*;           // Required import for Stack and Collections

n-&gt;{                          // Method with integer parameter and no return-type
  Stack a=new Stack(),        //  Original List
        t;                    //  Copy-List
  int i=0;                    //  Index-integer, starting at 0
  for(;i&lt;n;a.add(++i));       //  Fill the original list with the integers
  t=(Stack)a.clone();         //  Make a copy of the List
  Collections x=null;         //  Static `Collections` to reduce bytes
  for(i=0;                    //  Reset index `i` to 0
      i&lt;1                     //  Loop (1) as long as `i` is 0 (the first iteration),
      |!a.equals(t);          //  or the input array is not equal to the copy
      System.out.println(t))  //    After every iteration: print the modified List
    for(x.reverse(t),         //   Reverse the copied List
        i=0;                  //   Reset `i` to 0
        i&lt;n;                  //   Inner loop (2) over the List
        i++)                  //     After every iteration: increase `i` by 1 again
      if(i&lt;n-1)               //    Unless it's the last item in the List:
        x.swap(t,i,++i);      //     Swap the items at indexes `i` and `i+1` 
                              //     (by increasing `i` by 1 first with `++i`)
                              //   End of inner loop (2) (implicit / single-line body)
                              //  End of loop (1) (implicit / single-line body)
}                             // End of method
</code></pre>
</div>
<div id="pu23" class="pu"><h2>JavaScript (ES6), 122 bytes</h2>

<pre><code>f=(n,a=[...Array(n)].map((_,i)=&gt;i+1),r=[],b=a.map((_,i)=&gt;a[n+~(i^1)]||a[0]))=&gt;b.some((e,i)=&gt;e&gt;b[i+1],r.push(b))?f(n,b,r):r
</code></pre>

<p><code>r.push(a)</code> could be used instead of <code>r.push(b)</code> to put the original permutation at the front.</p>
</div>
<div id="pu24" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, <s>13</s> 11 bytes</h1>

<pre><code>LIGÂ2ôí˜})Ù
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f/fx9P9cJPR4S2H156eU6t5eOb//6YA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>L             # range [1 ... input]
 IG           # input-1 times do:
   Â          # bifurcate
    2ô        # split into pieces of 2
      í       # reverse each
       ˜      # flatten
        }     # end loop
         )    # wrap stack in a list
          Ù   # remove duplicates
</code></pre>
</div>
<div id="pu25" class="pu"><h1>Mathematica, 142 bytes</h1>
<pre><code>(h=Range@#;W={};For[i=1,i&lt;=#,i++,s=Reverse@h;AppendTo[W,h=Join[f=Flatten[Reverse/@Partition[s,{2}]],s~Complement~f]];s=h];DeleteDuplicates@W)&amp;
</code></pre>
</div>
<div id="pu26" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 10 bytes</h1>

<pre><code>RµUs2UFµÐĿ
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/z/o0NbQYqNQt0NbD084sv////@mAA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h1>Explanation</h1>

<pre><code>RµUs2UFµÐĿ  Main link
R           Generate the range
        ÐĿ  While the results are unique (collecting results)
 µUs2UFµ    Reverse and reorder
  U         Reverse
   s        Slice non-overlapping into length
    2       2
     U      Reverse (automatically vectorizes to depth 1)
      F     Flatten
</code></pre>

<h1>Note</h1>

<p>If the original range <em>needs</em> to be at the end, append <code>ṙ1</code> to the code for 12 bytes.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/143839/">143839</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




