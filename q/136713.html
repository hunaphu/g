<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::136713</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>036</td><td>Nibbles</td><td>230728T115110Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/263465#263465">Dominic </a></td></tr>
<tr d-ix="1"><td>048</td><td>Zsh</td><td>230728T105135Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/263462#263462">roblogic</a></td></tr>
<tr d-ix="2"><td>005</td><td>05AB1E</td><td>230728T073150Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/263450#263450">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>038</td><td>Arturo</td><td>230728T064518Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/263444#263444">chunes</a></td></tr>
<tr d-ix="4"><td>011</td><td>K ngn/k</td><td>230728T020233Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/263434#263434">Bubbler</a></td></tr>
<tr d-ix="5"><td>004</td><td>Nekomata + 1</td><td>230728T013219Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/263432#263432">alephalp</a></td></tr>
<tr d-ix="6"><td>029</td><td>JavaScript Node.js</td><td>210926T102259Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/235723#235723">l4m2</a></td></tr>
<tr d-ix="7"><td>048</td><td>C#</td><td>221010T100356Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/252908#252908">Acer</a></td></tr>
<tr d-ix="8"><td>nan</td><td></td><td>221007T203411Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/252811#252811">bigyihsu</a></td></tr>
<tr d-ix="9"><td>018</td><td>K ngn/k</td><td>221007T080809Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/252753#252753">oeuf</a></td></tr>
<tr d-ix="10"><td>046</td><td>Gema</td><td>221006T210208Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/252740#252740">manatwor</a></td></tr>
<tr d-ix="11"><td>004</td><td>Vyxal</td><td>221006T173944Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/252735#252735">Pacmanbo</a></td></tr>
<tr d-ix="12"><td>008</td><td>MATL</td><td>170730T212554Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136722#136722">Luis Men</a></td></tr>
<tr d-ix="13"><td>022</td><td>x8616 machine code</td><td>210920T133827Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/235554#235554">640KB</a></td></tr>
<tr d-ix="14"><td>032</td><td>TIBasic</td><td>210925T111751Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/235677#235677">MarcMush</a></td></tr>
<tr d-ix="15"><td>039</td><td>TIBasic</td><td>210924T163309Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/235653#235653">Youserna</a></td></tr>
<tr d-ix="16"><td>013</td><td>Pip</td><td>210923T222403Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/235631#235631">DLosc</a></td></tr>
<tr d-ix="17"><td>005</td><td>Japt æ</td><td>210923T212005Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/235629#235629">Shaggy</a></td></tr>
<tr d-ix="18"><td>021</td><td>Factor</td><td>210923T211340Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/235628#235628">chunes</a></td></tr>
<tr d-ix="19"><td>050</td><td>C gcc</td><td>180428T172103Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/163665#163665">l4m2</a></td></tr>
<tr d-ix="20"><td>069</td><td>Add++</td><td>180428T143250Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/163658#163658">user8021</a></td></tr>
<tr d-ix="21"><td>034</td><td>Haskell</td><td>180327T092141Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/160399#160399">Laikoni</a></td></tr>
<tr d-ix="22"><td>004</td><td>Husk</td><td>171130T191315Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/149578#149578">ბიმო</a></td></tr>
<tr d-ix="23"><td>047</td><td>Python 3</td><td>171130T173939Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/149572#149572">pizzapan</a></td></tr>
<tr d-ix="24"><td>021</td><td>Alice</td><td>171130T161501Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/149566#149566">Martin E</a></td></tr>
<tr d-ix="25"><td>012</td><td>K4</td><td>171130T153323Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/149564#149564">mkst</a></td></tr>
<tr d-ix="26"><td>005</td><td>Brachylog</td><td>171130T094417Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/149546#149546">Zgarb</a></td></tr>
<tr d-ix="27"><td>004</td><td>Jelly</td><td>171129T155322Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/149484#149484">Erik the</a></td></tr>
<tr d-ix="28"><td>104</td><td>APL NARS 52 char</td><td>171129T141655Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/149477#149477">user5898</a></td></tr>
<tr d-ix="29"><td>113</td><td>Python 2</td><td>170802T112200Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/137175#137175">Koishore</a></td></tr>
<tr d-ix="30"><td>nan</td><td></td><td>170731T111226Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136796#136796">SchoolBo</a></td></tr>
<tr d-ix="31"><td>032</td><td>PHP</td><td>170803T114158Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/137348#137348">aross</a></td></tr>
<tr d-ix="32"><td>081</td><td>JavaScript Node.js</td><td>170813T040152Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/138772#138772">Doug Cob</a></td></tr>
<tr d-ix="33"><td>093</td><td>PowerShell</td><td>170813T014047Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/138763#138763">Doug Cob</a></td></tr>
<tr d-ix="34"><td>098</td><td>C gcc</td><td>170811T153049Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/138557#138557">Marcos</a></td></tr>
<tr d-ix="35"><td>109</td><td>Java OpenJDK 8</td><td>170810T142634Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/138421#138421">Xanderha</a></td></tr>
<tr d-ix="36"><td>065</td><td>Python 2</td><td>170810T051107Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/138369#138369">Halvard </a></td></tr>
<tr d-ix="37"><td>nan</td><td>Python 2</td><td>170810T065110Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/138376#138376">Wheat Wi</a></td></tr>
<tr d-ix="38"><td>nan</td><td>Perl 5</td><td>170804T230708Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/137679#137679">Xcali</a></td></tr>
<tr d-ix="39"><td>011</td><td>Dyalog APL</td><td>170730T213453Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136725#136725">Adalynn</a></td></tr>
<tr d-ix="40"><td>036</td><td>Ruby</td><td>170804T075113Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/137509#137509">Value In</a></td></tr>
<tr d-ix="41"><td>024</td><td>Retina</td><td>170730T230538Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136734#136734">Neil</a></td></tr>
<tr d-ix="42"><td>015</td><td>APL</td><td>170802T131131Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/137189#137189">Moris Zu</a></td></tr>
<tr d-ix="43"><td>011</td><td>APL Dyalog</td><td>170804T050403Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/137497#137497">Ad&#225;</a></td></tr>
<tr d-ix="44"><td>020</td><td>APL Dyalog</td><td>170731T111324Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136797#136797">Ad&#225;</a></td></tr>
<tr d-ix="45"><td>016</td><td>05AB1E</td><td>170803T160040Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/137412#137412">Magic Oc</a></td></tr>
<tr d-ix="46"><td>067</td><td>C#</td><td>170801T085735Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/137011#137011">Caius Ja</a></td></tr>
<tr d-ix="47"><td>nan</td><td>PROLOG SWI</td><td>170802T141339Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/137192#137192">Nathan.E</a></td></tr>
<tr d-ix="48"><td>018</td><td>Dyalog APL Classic</td><td>170802T110313Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/137174#137174">lstefano</a></td></tr>
<tr d-ix="49"><td>069</td><td>Haskell</td><td>170731T094739Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136774#136774">jferard</a></td></tr>
<tr d-ix="50"><td>035</td><td>Haskell</td><td>170731T121130Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136806#136806">Lynn</a></td></tr>
<tr d-ix="51"><td>012</td><td>J</td><td>170801T052457Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136992#136992">miles</a></td></tr>
<tr d-ix="52"><td>034</td><td>Python 2</td><td>170730T212650Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136723#136723">musicman</a></td></tr>
<tr d-ix="53"><td>nan</td><td></td><td>170731T164929Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136856#136856">Brad Gil</a></td></tr>
<tr d-ix="54"><td>028</td><td>R</td><td>170731T073532Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136762#136762">djhurio</a></td></tr>
<tr d-ix="55"><td>016</td><td>J</td><td>170731T064429Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136760#136760">bob</a></td></tr>
<tr d-ix="56"><td>054</td><td>Javascript</td><td>170731T110450Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136795#136795">SuperSto</a></td></tr>
<tr d-ix="57"><td>034</td><td>R</td><td>170731T095112Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136776#136776">RoryT</a></td></tr>
<tr d-ix="58"><td>145</td><td>C#</td><td>170731T093256Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136770#136770">TheLetha</a></td></tr>
<tr d-ix="59"><td>nan</td><td>Axiom 96</td><td>170731T083402Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136767#136767">user5898</a></td></tr>
<tr d-ix="60"><td>092</td><td>Python 3</td><td>170731T060041Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136758#136758">Leaky Nu</a></td></tr>
<tr d-ix="61"><td>005</td><td>Pyth</td><td>170731T013249Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136745#136745">isaacg</a></td></tr>
<tr d-ix="62"><td>005</td><td>Jelly</td><td>170731T003249Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136740#136740">Dennis</a></td></tr>
<tr d-ix="63"><td>007</td><td>Japt</td><td>170730T222738Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136730#136730">ETHprodu</a></td></tr>
<tr d-ix="64"><td>025</td><td>JavaScript ES6</td><td>170730T212337Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136721#136721">Arnauld</a></td></tr>
<tr d-ix="65"><td>024</td><td>Mathematica</td><td>170730T220724Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136728#136728">JungHwan</a></td></tr>
<tr d-ix="66"><td>006</td><td>Jelly</td><td>170730T214616Z</td><td><a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136726#136726">miles</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, 3 bytes (6 nibbles)</h1>
<pre><code>/-$`$$
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708LzMpKSe1eMGCpaUlaboWy_R1VRJUVCAcqNi2aKVoIx0FYzAy1FEw1VEwilWKhcoCAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Outputs <code>0</code> if there are no duplicated elements.</p>
<pre><code>/-$`$$
 -      # remove
   `$   # unique elements of
     $  # input
  $     # from the input
        # (this leaves only duplicated elements,
        # in their original order);
/       # get the first element
        # (actually, fold returning left-hand element at each step,
        # but result is to return left-most element)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708LzMpKSe1eMGCpaUlaboWK_WtdFUSVFR0DSF8qPDmaKVoIx0FEx0FYx0FUx0Fw1ilWKgUAA" rel="nofollow noreferrer">5 bytes</a> to instead return <code>-1</code> when there are no duplicated elements, as in the example and initial spec:  <code>/:-$`$$-1</code></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 48 bytes</h1>

<pre class="lang-sh prettyprint-override"><code>for n;A+=($@[(in:2:)$n]);&lt;&lt;&lt;$@[`printf ${(o)A}`]
</code></pre>
<p><a href="https://tio.run/##TYq9DkAwFIV3T3GGDm0sWixUos8hEouG5RI/iRDPXpdJznK@75xzHYKX6op2WvsNDgco@GkBlS6upKgbOVJhCiWoVaW1lk03LyNtHuKSk3J314Y78jBIORo5DFPC7TUGGZv02zPmHDr8ng8" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></p>
<p>Input is via argument array <code>$@</code>.<br>
<code>A</code> is an array of indexes of secondary duplicates.<br>
<code>printf ${(o)A}</code> sorts <code>A</code> leaving only the lowest index.<br>
<code>&lt;&lt;&lt;$@[ ]</code> prints the argument at that index.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 5 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>.ΔkNÊ
</code></pre>
<p>Outputs <code>-1</code> if there are no duplicated items, like in the challenge examples.</p>
<p><a href="https://tio.run/##yy9OTMpM/f9f79yUbL/DXf//RxvpGAOhoY6pjlEsAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeXhCYdW/tc7N@XQuuJsv8Nd/2t1/kdHG@kYA6GhjqmOUawOkGcC5JnqGMbGAgA" rel="nofollow noreferrer">verify both test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>.Δ     # Find the first element in the (implicit) input-list where the following is
       # truthy, or -1 if none are truthy:
  k    #  Get the first index of the current integer in the (implicit) input-list
   NÊ  #  Check whether it's NOT equal to the current find_first index
       # (after which the result is output implicitly as result)
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 38 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$-&gt;a[0-1select.n:1a=&gt;[in?&amp;take a&lt;=1+]]
</code></pre>
<p><a href="http://arturo-lang.io/playground?Wps1yb" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>$-&gt;a[              ; a function taking an arg a
    0-1            ; push -1
    select.n:1a=&gt;[ ; select the first elt in a that
        in?&amp;       ; is the current elt in
        &lt;=1+       ; increment stack and duplicate
        take a     ; take that many of the first elts in a
    ]              ; end select
]                  ; end function
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 11 bytes</h1>
<pre><code>*(~':?',\)#
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxLs9LSqFO3slfXidFU5uJKi9YwUjAGQhMFUwUjzViIAIgDEoQLQOTNNGMBn9wMqw==" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>*(~':?',\)#
 (       )#   keep the elements where the left function returns true
              (when applied to the whole array):
       ,\       prefixes
     ?'         uniquify each
  ~':           is it the same as previous?
*             first element
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a> + <code>-1</code>, 4 bytes</h1>
<pre><code>pƆᵗf
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpKuoVLsgqWlJWm6FssLjrU93Do9bUlxUnIxVGzBTaVoIx0FYzAy1FEw1VEwiuUCCZmAhYB8w1iIUgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>pƆᵗf
p       Find a prefix of the input
 Ɔ      Split it into the last element and the rest
  ᵗf    Check if the last element is in the rest, and return it if it is
</code></pre>
<p><code>-1</code> prints the first possible result, or nothing if there is no result.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 29 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.find(z=&gt;(x[~z]+={})[25])
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/Z9m@7/C1q5CLy0zL0WjytZOoyK6ripW27a6VjPayDRW8781V3J@XnF@TqpeTn66RppGtJGOgrGOgiGYNNVRMIrV1PwPAA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>No effort on bonus at all</p>
<p>-1 from SuperStormer</p>
</div>
<div id="pu7" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C#</a>, 48 bytes</h1>

<pre class="lang-cs prettyprint-override"><code>x=&gt;x.Where((_,i)=&gt;x[..i].Contains(x[i])).First()
</code></pre>
<p><a href="https://tio.run/##fZFLa8MwDMfPzacQPdngGdLHKUthbHSwBwwK6yELwzhuJ3AdZrtbSulnz5Rsh@7RWTZG1k9/2bIOZzrodhvQrWGxC9FssuTYk3foXn8cXdbWGh2xduF0RF4bZzzqLNFWhQAPvl57tYF9MghRRdTwVmMF9wodC9GTSFGC8uvAO2S@dfocXSxKAbTNYAU5tE0@a@TyxXjD2LNATm4hJZZU10USCqwpsORcztGHyHg7yJIr7O@j/O6bXjQhkqQz7/CL6ADGs6Rj5EVVsY7qQ7CHkYBxP1MBUwEjOJB3Ck5FKkZkxKSnmLEg@19kIqa0UjElbEIYPTfU1silx2jog8xXB@VNTd0cPrmh6B8oF6b7DkZ9W7FG3podp/FX/mdha4/RPG/ko7Jb06UMDsmh/QA" rel="nofollow noreferrer" title="C# (Visual C# Compiler) – Try It Online">Try it online!</a></p>
<h3>Alternative without LINQ, 58 bytes</h3>

<pre class="lang-cs prettyprint-override"><code>x=&gt;{for(int i=0;;)if(x[..++i].Contains(x[i]))return x[i];}
</code></pre>
<p><a href="https://tio.run/##fZFLSwMxEMfP3U8x9LRLY3D7OMUtiKLgAwRBD3UPIU3LQJpgktWWsp99nawe6qNmEsLM/OafZKLCiQqqawLaNTzuQtQbkR16/A7t64/QhTNGq4jOhuMZfq2t9qhEpowMAR68W3u5gX02CFFGVPDmcAn3Em0eoieRRQ3Sr0ORkKvGqjO0cVEzoG0OK6ig21bz/cr5nCKA1akQBa7y7YLz0QhrOtxGUgsUwboovI6Nt5Ac0XYDkV1ifzPpd9@Uow6RxK1@h19EAvJCZInh58tlnqg@BXsYM5j0s2QwYzCGlrxjcMlKNiYjpjzGTBjZ/yJTNqNVshlhU8LozcEZzZ89Rk1fpb96yW8c9XX4YoesfyB/1OljcuogdYzf6l1B46/6z4ONOUSrasufpGl0Khm0Wdt9AA" rel="nofollow noreferrer" title="C# (Visual C# Compiler) – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu">
<h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, 97 bytes, <span class="math-container">\$O(n)\$</span> time, <span class="math-container">\$O(n)\$</span> space</h1>
<pre class="lang-go prettyprint-override"><code>func (l[]int)int{m:=make(map[int]int)
for i,e:=range l{if _,o:=m[e];o{return e}
m[e]=i}
return-1}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bY5BCoMwEEX3OcXQVQKxoG2hWHKHLroTKUESCZpEQuwmeJJupNBDeZvG6LIww_A_j__n_WntvMDAm463AjRXBik9WOePB6n9Ab24A8m-o5fZdeFyNA3gvqqV8SRu0CXTvBNY86GKOvlIWgeKipI5bmJoH5SEJ7URrUR9s8EJPzoDYkKrwdSENifLp73okYrWbzCBgO4u5vYGS5yaQ0HhlCancKFQTIT8Y86JiUC-Anv2PG_3Bw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Goes over the input slice exactly once per element. The map stores a pair per element, meaning <span class="math-container">\$O(n)\$</span> space as well.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 18 bytes</h1>
<pre><code>{x@({+/y=x}':x)?1}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxLs6qucNCo1tavtK2oVbeq0LQ3rOXiSovWMFIwBkITBVMFM81YmACUCwCBtgzC" rel="nofollow noreferrer">Try it online!</a></p>
<p>A little bit lengthy, but works nonetheless. I still can't fully understand how this even works (especially the counting duplicates section) and I'm on mobile, so explanations will be edited later.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://gema.sourceforge.net/" rel="nofollow noreferrer">Gema</a>, 46 characters</h1>
<pre><code>&lt;N&gt;=@cmpn{${$0;};;;;$0@end}@set{$0;1}
?=
\Z=-1
</code></pre>
<p>Sample run:</p>
<pre><code>bash-5.1$ gema '&lt;N&gt;=@cmpn{${$0;};;;;$0@end}@set{$0;1};?=;\Z=-1' &lt;&lt;&lt; '[2, 3, 3, 1, 5, 2]'
3

bash-5.1$ gema '&lt;N&gt;=@cmpn{${$0;};;;;$0@end}@set{$0;1};?=;\Z=-1' &lt;&lt;&lt; '[2, 4, 3, 5, 1]'
-1
</code></pre>
<p><a href="https://tio.run/##S0/NTfz/38bPztYhObcgr1qlWsXAutYaCFQMHFLzUmodilNLQGKGtVz2tlwxUba6hv//RxvpKBiDkaGOgqmOglEsAA" rel="nofollow noreferrer" title="Gema – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="noreferrer">Vyxal</a>, 4 bytes</h1>
<pre><code>UÞ⊍h
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJQIiwiIiwiVcOe4oqNaCIsIiIsIlsyLCAxLCA0LCAxLCA0XSJd" rel="noreferrer">Try it Online!</a></p>
<p>Takes the multi-set symmetric difference, which outputs the duplicate values in order that they occur. Outputs <code>0</code> if nothing is found.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 8 bytes</h1>
<pre><code>&amp;=Rsqf1)
</code></pre>
<p>Gives an error (without output) if no duplicate exists.</p>
<p>Try at <a href="https://matl.io/?code=%26%3DRsqf1%29&amp;inputs=%5B2%2C+3%2C+3%2C+1%2C+5%2C+2%5D&amp;version=20.2.2" rel="nofollow noreferrer"><strong>MATL Online!</strong></a></p>
<h3>Explanation</h3>
<pre><code>&amp;=   % Implict input. Matrix of all pairwise equality comparisons
R    % Keep the upper triangular part (i.e. set lower part to false)
s    % Sum of each column
q    % Subtract 1
f    % Indices of nonzero values
1)   % Get first. Gives an error is there is none. Implictly display
</code></pre>
</div>
<div id="pu13" class="pu"><h1>x86-16 machine code, 22 bytes</h1>
<pre><code>00000000: 33c0 9992 d792 d7d7 3bc2 75f7 33c0 d792  3.......;.u.3...
00000010: d73b c275 f9c3                           .;.u..
</code></pre>
<p>Listing:</p>
<pre><code>33 C0       XOR  AX, AX         ; AL = 0, starting hare position
99          CWD                 ; DL = 0, starting tortoise position
        L1:
92          XCHG AX, DX         ; swap t/h in AL
D7          XLAT                ; tortoise crawl to next
92          XCHG AX, DX         ; swap t/h in AL
D7          XLAT                ; hare hops
D7          XLAT                ; hare hops again 
3B C2       CMP  AX, DX         ; did they land on same element?
75 F7       JNZ  L1             ; loop if not
33 C0       XOR  AX, AX         ; start tortoise at beginning to find first index match
        L2:
D7          XLAT                ; tortoise crawls
92          XCHG AX, DX         ; swap t/h in AL
D7          XLAT                ; hare hops
3B C2       CMP  AX, DX         ; did they land on same element?
75 F9       JNZ  L2             ; loop if not
C3          RET                 ; return to caller
</code></pre>
<p>The old Tortoise and Hare (cycle detection) algorithm... using as many 1 byte opcodes as possible.</p>
<ul>
<li>Time complexity: O(2n), linear</li>
<li>Space complexity: O(1) (uses no additional  memory - all work done in CPU registers)</li>
</ul>
<p>As a callable function, input pointer to list at <code>[BX]</code>, output index in <code>AL</code>.</p>
<p>Test results using DOS DEBUG:</p>
<p><a href="https://i.stack.imgur.com/jPFi5.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/jPFi5.png" alt="enter image description here" /></a></p>
</div>
<div id="pu14" class="pu"><h1>TI-Basic, 32 bytes</h1>
<pre><code>Prompt A
Repeat 2=Ans(I
I+1→I
cumSum(ʟA=ʟA(I
End
ʟA(I
</code></pre>
<p>needs a fresh interpreter or <code>I</code> initialized to <code>0</code>. Will error if there is no duplicates</p>
</div>
<div id="pu15" class="pu"><h1>TI-Basic, 39 bytes</h1>
<pre><code>Prompt A
ʟA
Ans(1+sum(not(cumSum(seq(I≠1+sum(not(cumSum(Ans=Ans(I)))),I,1,dim(Ans
</code></pre>
<p>Output is stored in <code>Ans</code> and is displayed at the end. Throws an error if there are no duplicates.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a>, 13 bytes</h1>
<pre><code>Tg@iNgHiUig@i
</code></pre>
<p>Takes the numbers as separate command-line arguments. <a href="https://replit.com/@dloscutoff/pip" rel="nofollow noreferrer">Try it here!</a> Or, here's a 15-byte equivalent in Pip Classic: <a href="https://tio.run/##K8gs@P8/JN0h0y/dwSZTWzsTyPz//7/Rf2MgNPxv@t8IAA" rel="nofollow noreferrer" title="Pip – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>               g is list of cmdline args; i is 0 (implicit)
T              Loop till
 g@i           the i'th element of g (0-indexed)
    N          is in
     gHi       the first i elements of g:
        Ui      Increment i
          g@i  Return the i'th element of g
</code></pre>
<p>This outputs the first duplicate or, if there are no duplicates, the first number in the list (because the indexing wraps around).</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-æ</code></a>, 5 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>VaWbU
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LeY&amp;code=VmFXYlU&amp;input=WzIsIDMsIDMsIDEsIDUsIDJd" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a>, 21 bytes</h1>
<pre><code>[ duplicates ?first ]
</code></pre>
<p><a href="https://tio.run/##HYwxCsJAEEX7nOKfQNhoIGqhndjYSCqxWNYJLC7rZmZSiOTs6yi/ee8Vf/RBX1yH6/ly2kFIBYVJ9V04ZsWTOFOyPs2UAwn2TfNBi7XNoTNazDfYGjlrnVH/b63Vnzss9YbHXFIMXu3hMEYWxb0qxyNWgpDIc/0C" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<p>Returns <code>f</code> in case the input has no duplicates. This is idiomatic for Factor rather than <code>-1</code>. Let me know if that's not allowed and I can fix it (i.e. make it much longer).</p>
<ul>
<li><code>duplicates</code> Return only the elements that repeat in a sequence (in order).</li>
<li><code>?first</code> Return the first element of a sequence or <code>f</code> if the sequence is empty.</li>
</ul>
</div>
<div id="pu19" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 50 bytes</h1>



<pre class="lang-c prettyprint-override"><code>g;main(i){scanf("%d",&amp;i);return i[&amp;g]++?i:main();}
</code></pre>

<p><a href="https://tio.run/##HYrBCsIwEAV/JRQsDdVDN1k3MQc/RDyUqGEP5lD1VPrtz1DmMjCTTyVnoKT3rHVQu37yXF9Dd3h0x15tWp7f31KN3vpyH8erXvbPpg0g4xqTYUPgABGwoMHwHhQRBbGVCHcGEyIjyJ48vGAKcM3pDw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 51 bytes</h1>



<pre class="lang-c prettyprint-override"><code>g;main(i){for(;scanf("%d",&amp;i),i[&amp;g]^=1;);return i;}
</code></pre>

<p><a href="https://tio.run/##HcnBCgIhFEbhV5GBBoVp4dXbVaQniYLBGnGRgdUqevY/iW9z4OR9yRko6b7Wpqv5bI@u0zOvbdPT7jotczVLPc3lfDnaZFK/vd69qZq@ACk3WMWKwAEiYMHA8B4UEQVxnAh3ABMiI8h/eXiBDXCj6Qc" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 56 bytes</h1>



<pre class="lang-c prettyprint-override"><code>g;main(i){scanf("%d",&amp;i);i[&amp;g]++?printf("%d",i):main();}
</code></pre>

<p><a href="https://tio.run/##LYpBCsIwEEWvEgqWhuqiScbJmIUHERclYpiFoai70rN/Q5G3efz386nkDJT0mrUOatdPnutz6A6P7tirTXrry30cr8tb6/e/q73sb5s2wBnfmAwZB4pgBjEahBDgBMKQVgT@DHIQQuQ9BQTGFOGbux8" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/cairdcoinheringaahing/AddPlusPlus" rel="nofollow noreferrer">Add++</a>, 69 bytes</h1>

<pre><code>D,k,@@*,BF€=B]ßEB*MVcGA$p
D,w,@@,BF€=s1&lt;
D,l,@~,$
L~,AÞwB]dVbUG€k»lbU
</code></pre>

<p><a href="https://tio.run/##S0xJKSj4/99FJ1vHwUFLx8ntUdMaW6fYw/NdnbR8w5LdHVUKuFx0yoGSULliQxugQI6OQ52OCpdPnY7j4XnlTrEpYUmh7kDp7EO7c5JCgcal6zhY6RjGcnGppNtFGyoYKRgqGAOxUSwnJ6e1giFcGCQBlIIIG8GFjWGCcMUgMZCoKRBCTTFGUo5kOEwYKoBinbGCCVC/mYK5goWCpYKhgYIhUJ0RmDSIBamEWWYCVGqqYAg1wLWoKL/oPwA" rel="nofollow noreferrer" title="Add++ – Try It Online">Try it online!</a></p>

<h2>How it works</h2>

<p>Oddly enough, despite Add++ having a <a href="https://github.com/cairdcoinheringaahing/AddPlusPlus/blob/master/add%2B%2B.py#L744" rel="nofollow noreferrer">deduplicate command</a>, this doesn't use it. This exits with an error code of <strong>1</strong> when there is no duplicated element.</p>

<p>We start by removing any elements without more than one occurrence, in order to leave the stack with an array containing the original array, preserving order, without any elements which only occur once. This is done by the use of filtering by the dyadic function <strong>w</strong>:</p>

<pre><code>D,w,@@,BF€=s1&lt;
L~,AÞw
</code></pre>

<p>Here, the lambda is implicitly called with the argument. The <code>~</code> tells it to unpack its argument to the stack beforehand, then the <code>A</code> pushes the argument to the stack. Thesefore, if the input looks like <code>[a b c a c]</code>, the stack would look like</p>

<pre><code>[a b c a c [a b c a c]]
</code></pre>

<p>We want this structure, called <strong>dyad-binding</strong>, due to the way the <strong>filter-keep</strong> quick, <code>Þ</code>, works in regard to non-monadic arguments. Here, its functional argument is <strong>w</strong>, a dyadic (two argument) function. This means that, instead of filtering over each element in the stack using <strong>w</strong>, it pops the top element of the stack, the list <code>[a b c a c]</code> in this case, and uses that as the right argument when filtering every other element.</p>

<p>So, for one iteration of <strong>w</strong>, the stack may look like this at the start of execution:</p>

<pre><code>[[a b c a c] a]
</code></pre>

<p>Then <code>BF</code> flattens the stack, and then we come to another dyadic quick: <code>€</code>. Again, the popping behaviour is simulated, and <code>a</code> is used as the left argument to the succeeding function, the equality operator in this case. This compares <code>a</code> with the elements of <code>[a b c a c]</code>, yielding an array of <strong>1</strong>s and <strong>0</strong>s. By now, the stack looks something like this</p>

<pre><code>[1 0 0 1 0]
</code></pre>

<p>Finally, <code>s</code> takes the sum, and <code>1&lt;</code> asserts that it is greater than <strong>1</strong>. This essentailly counts the occurences of each element of the input in the input itself, and removes them if the count is only <strong>1</strong> i.e. the element isn't duplicated at some point.</p>

<p>After applying <code>Þw</code> to the input, the stack results in</p>

<pre><code>[a c a c]
</code></pre>

<p>We'll call this array <strong>A</strong>. The rest of the code is determining which of these remaining elements occurs for the second time first i.e. the actual task in the challenge.</p>

<p>Next, we want to perform <strong>k</strong> over the remaining list. In order to do this, with <strong>k</strong> being dyadic and taking <strong>A</strong> as its left argument. Again, we want to create the dyad-binding structure, but using the elements of <strong>A</strong> instead of the arguments. In a general case, if the stack looks like <code>[a b c d e]</code>, where <code>a - e</code> are arbitrary pieces of data, the following code will convert that into a dyad-binding structure:</p>

<pre><code>B]dVbUG
</code></pre>

<p>So, this makes our stack look like <code>[a c a c [a c a c]]</code>, before calling <strong>k</strong> over <code>€</code>ach of the elements, using the array as the left argument.</p>

<pre><code>D,k,@@*,BF€=B]ßEB*MVcGA$p
</code></pre>

<p><strong>k</strong> is our main function to isolate the first deduplicated element. Here, we have our two arguments, <strong>I</strong>, the element in the array being iterated over, and <strong>A</strong>, our array containing the elements that occur more than once. The first part of the code, <code>BF€=</code>, identifies which elements of <strong>A</strong> are equal to <strong>I</strong>. Now, we generate the <em>truthy</em> indices - the indices of elements in <strong>A</strong> that are equal to <strong>I</strong>. There is a bug in <code>ßE</code>, causing it to start from <strong>0</strong> (corrected after the challenge was posted). However, as this means the first occurence if <strong>I</strong> will always be set to <strong>0</strong> because of this bug, and the offset of <strong>1</strong> doesn't change between elements, this means that we can avoid the lengthier <code>dbLBc</code> which is bug free. Let's use <code>a</code> as an example value for <strong>I</strong>. Now, our stack resembles</p>

<pre><code>[[0 1] [1 0] [2 1] [3 0]]
</code></pre>

<p>The first element is the 0-based index <strong>i</strong>, the second whether or not <strong>I = A[i]</strong>. Next, we remove the indexes where <strong>I ≠ A[i]</strong>, by taking the product of each pair with <code>B*</code>, then taking the maximum value with <code>MVcG</code>. Finally, we push <strong>I</strong> to the stack and pair them as a list. With <strong>I</strong> as <code>a</code>, the final value returned is:</p>

<pre><code>[2 a]
</code></pre>

<p>This process happens over each element of <strong>A</strong>, eventually leading to a series of paired lists of the highest index of the element of <strong>A</strong> in <strong>A</strong> itself. Finally we want to find the element which has the <em>lowest</em> first element, the element whose duplcicate appears first. Here, as Add++ doesn't have a builtin to get the first or last element of a list, we use our third helper function <strong>l</strong>:</p>

<pre><code>D,l,@~,$
L~,…»l…
</code></pre>

<p>While Add++ doesn't have a builtin for head of an array, it does have a <strong>minimum-by</strong> quick, <code>»</code>. We take the list which has the minimum return value when passed through the function <strong>l</strong>. This helper function unpacks its argument to the stack before performing any commands with the <code>~</code> command, then <code>$</code> swaps them, so the index comes first and is the value returned. Essentially, we return the element with the smallest duplicated element.</p>

<p>Unfortunately, this returns the entire array, both the index and the element, rather than just the element, so we append a <code>bU</code> to unpack this array to the stack, returning only the last element of the pair - the first duplicated element.</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 34 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>import Data.List
f x=head$x\\nub x
</code></pre>

<p><a href="https://tio.run/##y0gszk7Nyfn/PzO3IL@oRMElsSRRzyezuIQrTaHCNiM1MUWlIiYmrzRJoeK/rq4CSEBPQyMmRtNGyw4oqsmVm5iZp2CrUFCUmVeioKKQFm2oY6RjDIRAOvY/AA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a> For an input <code>x = [2,3,3,1,5,2]</code>, <code>nub x</code> removes duplicates <code>[2,3,1,5]</code> and <code>x\\nub x</code> removes the elements of <code>nub x</code> from x, thus keeping the duplicates <code>[3,2]</code>. <code>head</code> returns the first element of hat list.</p>

<hr>

<p>Point-free is the same byte count: <code>head.((\\)&lt;*&gt;nub)</code>.</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 4 bytes</h1>

<pre><code>←Ṡ-u
</code></pre>

<p>Returns <code>0</code> if no input contains no duplicate, <a href="https://tio.run/##yygtzv7/qKmx6Nzi8v@P2iY83LlAt/T////RRjoKxmBkqKNgqqNgFAsA" rel="nofollow noreferrer" title="Husk – Try It Online">try it online!</a></p>

<h3>Explanation</h3>

<pre><code>←Ṡ-u  -- takes a list X as input &amp; returns 0 or first duplicate
 Ṡ-   -- compute X - ...
   u  --       ...   deduplicate X
←     -- get first element or 0 if empty
</code></pre>
</div>
<div id="pu23" class="pu"><h1>Python 3, 47 bytes</h1>
<pre><code>f=lambda l,i=0:l[i]if l[i]in l[:i]else f(l,i+1)
</code></pre>
<p><a href="https://tio.run/##RY3LDoIwEEXX9CtmSeMsLAUfJCxd@A21C9Q2NtRCShfw9XUwJm7m3pNzk5nW9BqDzLa7Zd@/788ePLpu33rltLPwjUDROm38bMCW5HeCZztGGICcYkpghRJrbFBoZGqDI@EB6w1/dqsSTyiIK9nUEs@a6ZYVKa50iym6kEpbDpyzwiwPMyW4hqdZLjHSr34G858Znj8" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu24" class="pu"><h2><a href="https://github.com/m-ender/alice" rel="nofollow noreferrer">Alice</a>, 21 bytes</h2>

<pre><code>/o/
\iHQ@/w].(?~!&amp;WK?
</code></pre>

<p><a href="https://tio.run/##S8zJTE79/18/X58rJtMj0EG/PFZPw75OUS3c2/7/fyMdEx1jHTMgNtQx1TECAA" rel="nofollow noreferrer" title="Alice – Try It Online">Try it online!</a></p>

<h3>Explanation</h3>

<p>The main idea is to store each value we've encountered on the tape and then use the search command to check whether the current value has already been written to the tape. It's important here that the tape is initially completely filled with <code>-1</code>s.</p>

<pre><code>/      Switch to Ordinal mode.
i      Read all input as a string.
/      Switch back to Cardinal mode.
H      Take the absolute value of the top stack element. This doesn't really do
       anything to the numbers, because they're all positive anyway, but
       it forces Alice to convert the input string to individual integer
       values it contains, thus splitting the string.
/      Switch to Ordinal mode.
Q      Reverse the stack so that the first input is on top.
/      Switch back to Cardinal mode.
w      Push the current IP position onto the return address stack. This marks
       the beginning of the main loop.
         Call the current value on top of the stack X.
  ]      Advance the tape head (unnecessary on the first iteration, but
         we need to do it between iterations).
  .      Duplicate X.
  (      Search left of the tape head for X. If X isn't found nothing happens
         and we remain on a -1. Otherwise, the tape head jumps to that
         earlier occurrence.
  ?      Retrieve the value under the tape head. If X is new, this will be
         -1. Otherwise, it will be X. Call this value Y.
  ~!     Store X in the current cell.
  &amp;W     Discard Y values from the return address stack. If Y is negative,
         this does nothing, otherwise it discards the one return address we
         have there, terminating the loop.
$K     If the return address is still there, jump back to the w to process 
       the next element. Otherwise continue.
?      Retrieve X.
\      Switch to Ordinal mode.
o      Output the result.
H      Trim, does nothing.
@      Terminate the program.
</code></pre>

<p>I've got an alternative solution at the same byte count:</p>

<pre><code>/o/
\iHQ@/w.!(]?h$WK[?
</code></pre>

<p>I also had a solution where I used the tape as a lookup table, storing at each index <code>X</code> whether <code>X</code> had already been seen in the sequence, but it ended up being a byte longer (it's conceptually easier, but moving the tape head to position <code>X</code> from an arbitrary positive position requires five bytes with <code>q&amp;[&amp;]</code>).</p>
</div>
<div id="pu25" class="pu"><h1><a href="http://kx.com/download/" rel="nofollow noreferrer">K4</a>, 12 bytes</h1>

<p><strong>Solution:</strong></p>

<pre><code>*&lt;0W^*:'1_'=
</code></pre>

<p><strong>Example:</strong></p>

<pre><code>*&lt;0W^*:'1_'=2 3 3 1 5 2
3
</code></pre>

<p><strong>Explanation:</strong></p>

<p>Returns first item in the list for unique lists otherwise returns first dupe:</p>

<pre><code>*&lt;0W^*:'1_'= / the solution
           = / group the list, e.g. 2 3 1 5!(0 5;1 2;,3;,4)
        1_'  / drop first from each value, e.g. 2 3 1 5!(,5;,2;`long$();`long$())
     *:'     / first (*:) each ('), e.g. 2 3 1 5!5 2 0N 0N
  0W^        / fill (^) nulls with infinity (0W), e.g. 2 3 1 5!5 2 0W 0W
 &lt;           / sort keys based on values, e.g. 3 2 1 5
*            / take the first, e.g. 3
</code></pre>
</div>
<div id="pu26" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 5 bytes</h1>

<pre><code>a⊇=bh
</code></pre>

<p><a href="https://tio.run/##SypKTM6ozMlPN/r/P/FRV7ttUsb//9FGOgrGYGSoo2Cqo2AU@z8KAA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<pre><code>a⊇=bh  Input is a list.
a      There is an adfix (prefix or suffix) of the input
 ⊇     and a subsequence of that adfix
  =    whose elements are all equal.
   b   Drop its first element
    h  and output the first element of the rest.
</code></pre>

<p>The adfix built-in <code>a</code> lists first all prefixes in increasing order of length, then suffixes in decreasing order of length.
Thus the output is produced by the shortest prefix that allows it, if any.
If a prefix has no duplicates, the rest of the program fails for it, since every subsequence of equal elements has length 1, and the first element of its tail doesn't exist.
If a prefix has a repeated element, we can choose the length-2 subsequence containing both, and the program returns the latter.</p>
</div>
<div id="pu27" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 4 bytes</h1>

<pre><code>ŒQi0
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///opMBMg////0cb6SiY6CgY6yiY6igYxgIA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>In case that all elements are unique, this returns <code>0</code> (undefined behavior).</p>
</div>
<div id="pu28" class="pu"><h1>APL NARS 52 char 104 bytes</h1>
<pre><code>f←{1≠⍴⍴⍵:¯1⋄v←(⍵⍳⍵)-⍳⍴⍵⋄m←v⍳(v&lt;0)/v⋄m≡⍬:¯1⋄(1⌷m)⌷⍵}
</code></pre>
<p>comments (for me f could return results even for vectors of characters that here seems to be the old strings)</p>
<pre><code>1≠⍴⍴⍵:¯1     if ⍵ has rank different from 1 than it is not a vector so return -1
v←(⍵⍳⍵)-⍳⍴⍵   v is 0 0 0...0 only if there are not repetitions, else there is some value &lt;0
m←v⍳(v&lt;0)/v   m return the indices j of v where v[j]&lt;0, and so ⍵[j] are all the duplicates
m≡⍬:¯1       if m is void than that index not exist, so no duplicate and return -1
(1⌷m)⌷⍵      else return the value in ⍵ of the first element of m
</code></pre>
<p>results</p>
<pre><code>  f 1
¯1
  f 1,2,3,4
¯1
  f 1 2 3 3
3
  f 2 3 3 1 5 2
3
  f ,1
¯1
</code></pre>
</div>
<div id="pu29" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>115</s> 113 bytes</h1>



<pre class="lang-python prettyprint-override"><code>a,i,k=input(),0,[]
while 1:
&#9;if i==len(a):print-1;break
&#9;elif a[i]not in k:k+=[a[i]]
&#9;else:print a[i];break
&#9;i+=1
</code></pre>

<p><a href="https://tio.run/##NYtLCoMwEEDX5hRZKk6hsa5S5iQhiwhTHBLGYCPi6dPa4vZ98lHmRYZaAzBEZMlbaTu4g/NqnzmRNlY1/NKMmEja0Nm8spSbeU4rhagaSl8bHHtZimbR0cYe3Qn8Kd/0H37J9XCPplZnYIAHjDD6Dw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu30" class="pu">
<h1>Java 8, <strike>82</strike> <strike>78</strike> <strike>76 bytes</strike> No longer viable, <strike>75</strike> <strike>67</strike> 64 bytes below in edit</h1>
<p>As a lambda function:</p>
<pre class="lang-java8 prettyprint-override"><code>a-&gt;{Set&lt;Long&gt;s=new HashSet&lt;&gt;();for(long i:a)if(!s.add(i))return i;return-1;}
</code></pre>
<p>Probably can be made much smaller, this was very quick.</p>
<h3>Explanation:</h3>
<pre class="lang-java8 prettyprint-override"><code>a-&gt;{                                //New lambda function with 'a' as input
    Set&lt;Long&gt;s=new HashSet&lt;&gt;();     //New set
    for(long i:a)                   //Iterate over a
        if(!s.add(i))               //If can't add to s, already exists
            return i;               //Return current value
        return-1;                   //No dupes, return -1
}
</code></pre>
<h1>*Edit*</h1>
<p><strike>75</strike> <strike>67</strike> 64 bytes using the negation strategy:</p>
<pre class="lang-java8 prettyprint-override"><code>a-&gt;{int i=0,j;while((a[j=Math.abs(a[i++])-1]*=-1)&lt;0);return++j;}
</code></pre>
<p><a href="https://tio.run/##bVDBbsIwDD03X5FjO9yoSaGASjlNk3bgxBFxyCCFdCWtGpcJIb69Swubpm1RIsfPst/zK@RZhlWtTLF/7/SprhqkhcNYi7pkeWt2qCvDXh6flJC6fSv1ju5KaS1dSW3I1SPeA7Uo0YVzpff05Gr@GhttDpstlc3BBsS7EvrroLLocxAwhnh4SZASz/uGe3ACCUxhBnPgEXAOXACPgY@BT4AnwKfAZ8DnICIQrkeAiEGMQUxAJCCmIGYg5hBHEHOI3cjY3Z7lRv5I1wZprs3@ua2V75JBejMo97wvGxZDAeirQXVQzZLmNKOdDJfXvl1nERTpx1GXyvflpshWEo9MvlmX6NFoG4R8@5SFPFhEQdoobBszGhXprev3vuc0Z7Kuy4vfc/8vdPB4cMlxMsZ65fahc32xqE6sapHVzn8sjf9zJxvcZ95I9wk" rel="nofollow noreferrer" title="Java (OpenJDK 8) – Try It Online">Try it online!</a></p>
<p>(-3 bytes thanks to @Nevay)</p>
<h3>Explanation:</h3>
<pre class="lang-java8 prettyprint-override"><code>a-&gt;{                                         //New lambda expression with 'a' as input
    int i=0,j;                               //Initialise i and declare j
    while((a[j=Math.abs(a[i++])-1]*=-1)&lt;0);  //Negate to keep track of current val until a negative is found
    return++j;                               //Return value
}
</code></pre>
<p>Loops over the array, negating to keep track. If no dupes, just runs over and throws an error.</p>
<p>Both of these work on O(n) time and O(n) space complexity.</p>
</div>
<div id="pu31" class="pu"><h1>PHP, <s>56 44 38</s> 32 bytes</h1>

<pre><code>for(;!${$argv[++$x]}++;);echo$x;
</code></pre>

<p>Run like this:</p>

<pre><code>php -nr 'for(;!${$argv[++$x]}++;);echo$x;' -- 2 3 3 1 5 2;echo
&gt; 3
</code></pre>

<h1>Explanation</h1>

<pre><code>for(
  ;
  !${                 // Loop until current value as a variable is truthy
    $argv[++$x]       // The item to check for is the next item from input
  }++;                // Post increment, the var is now truthy
);
echo $x;              // Echo the index of the duplicate.
</code></pre>

<h1>Tweaks</h1>

<ul>
<li>Saved 12 bytes by using variables instead of an array</li>
<li>Saved 6 bytes by making use of the "undefined behavior" rule for when there is no match.</li>
<li>Saved 6 bytes by using post-increment instead of setting to 1 after each loop</li>
</ul>

<h1>Complexity</h1>

<p>As can be seen from the commented version of the code, the time complexity is linear <code>O(n)</code>. In terms of memory, a maximum of <code>n+1</code> variables will be assigned. So that's <code>O(n)</code>.</p>
</div>
<div id="pu32" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 81 bytes</h1>

<p>Time complexity is O(n) !!!!</p>

<p>Space complexity is O(1) !!!!</p>



<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.reduce((r,e,i)=&gt;r?r:(a[(e&lt;0?~e:e)-1]&gt;0?((a[(e&lt;0?~e:e)-1]^=-1)?0:0):i+2),0)-1
</code></pre>

<p><a href="https://tio.run/##XchBCsMgEADAr3jcpWtQSy9S9SEhBTGbYpEYTNpjv25Lj4U5zSO@4p5a3g651pl74UMswvXofBwaz8/EAI2YMjrfQrMQR@CrCm@2jFJPXgX4v5uTGoOyCm0@GST1zZ7qutfCQ6l3WGA0JM4/msSFhJkQ@wc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>

<p>Strategy</p>

<p>This algorithm leverages the fact that indexes are positive but numbers in javascript are signed.  Also, zeros are not allowed input.  As long as the array is not longer than 2^31, this solution will work. I double the use of the original array as my lookup array -- marking a visited number by switching the value at that index with its 2's compliment.</p>
</div>
<div id="pu33" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, 93 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>$c=0..$a.Count;$i=0;$r=($a|%{$i++;if($c[$_]++ -ne $_){$i}});if($r.Count -gt 0){$r[0]}else{-1}
</code></pre>

<p><a href="https://tio.run/##JctLCoMwFEbhrdzBX1DyIFo6Chl1GSIS5LYNBC1R6cBm7alYOLOP854/nJYXx1jgXSvpetZIuklqC0ZntIbX93mbVovgjEVyFfz3siMIYcOjwthh6IUgNTFhqA/IuT4l/UdSz5XMAakzfea48K6aXMoP" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>
</div>
<div id="pu34" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 98 bytes</h1>

<p><strong>0-indexed</strong></p>

<p>Takes a space separated list of integers. returns <code>i &lt; n</code> on a successful match and <code>i == n</code> on failure.</p>

<p>time complexity is O(n^2) yuck!</p>

<p>space complexity is O(1)</p>

<pre><code>program-name.exe 58 77 57 7 75 44 29 97 92 59 36 52 95 87 44 24 47 18 34 22
Returns 14  (the two 44s)
</code></pre>

<p>Golfed
</p>

<pre class="lang-c prettyprint-override"><code>i=1,j;main(int c,char**v){for(;i&lt;c;i++)for(j=i-1;j;j--)if(!strcmp(v[i],v[j]))goto f;f:return i-1;}
</code></pre>

<p><a href="https://tio.run/##HYpBDoIwFAWvgrsW6ILSWmrlJIQFaaz@JoCplY3x7E8wbzOTeV7cvQeob@ro5okWRksufO0fUyrLjX/Cmpijq3dUVfyQ2JNoXHRRCE6BnV45@fnJtoHGehviyPl9zWsRXLikW36npTj@XwC6gzHQBvs0lIK0sAZWQlu0Z2gJq9GZf1JQBk2Hdmf5Aw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<p>Ungolfed</p>

<pre class="lang-c prettyprint-override"><code>i=1,j;
main(int c, char**v){
    for(;i &lt; c; i++)
        for(j=i-1; j; j--)
            if(!strcmp(v[i], v[j]))
                goto f;
    f:
    return i-1;
}
</code></pre>
</div>
<div id="pu35" class="pu"><h1><a href="http://openjdk.java.net/" rel="nofollow noreferrer">Java (OpenJDK 8)</a>, <s>65</s> <s>117</s> 109 bytes</h1>

<p>
Previous 65 byte solution:</p>

<pre class="lang-java prettyprint-override"><code>r-&gt;{for(int a,b=0,z,i=0;;b=a)if((a=b|1&lt;&lt;(z=r[i++]))==b)return z;}
</code></pre>

<p>New solution. 19 bytes are included for <code>import java.math.*;</code></p>

<p><em>-8 bytes thanks to @Nevay</em></p>

<pre class="lang-java prettyprint-override"><code>r-&gt;{int z,i=0;for(BigInteger c=BigInteger.ZERO;c.min(c=c.setBit(z=r[i++]))!=c;);return z;}
</code></pre>

<p><a href="https://tio.run/##dVJNb9swDD3Hv4K7SasjdCm2i@sA6z6AHooB7U4retBs2ZNnS4ZEB02K/PaUkuO5xVLAMCW@R@mJj43cyKXtlWnKvwfd9dYhNJQTncQ/4krX1wZVrVyWvAQH1K347Jzc@hNANZgCtTXi@3FxguPRKdkJOv0urt6mTHjSD79bXUDRSu/hRmqTPCWLY9KjRAobq0voCGJUpU19/wDS1Z4nC6IuUHlkqxQu4vchhY8prHg2IZQYwfCf0xf/pSvrgGmDoCGH8xQaCquMdpfwicLZGYdwXSy/laZWrIl1iwbeByYt9wl9pN7pjUT1Sv5cFa7weqdeyh@7IWzF/rVOuMD@0lqvyvCIWJLCjBN5SnNRtRJvZP/TEs7GFi/XY@QCbTSV8aCXNL6tMIgTQgCFqb13W4@KbhtQUJXB1rBxROjY0Q4W2bEXJ8iVNuXXoSc76cJrU6rHmT9qeeV16M7pEnLdPR5FTSN4GfOxK2Gc11CRaQe3XD@Fc3apzs8z8pXNEw9FPm/Er2@3P7JCdDRaRV4Ir/BKI9vl7p78fuD8XV5kPHMKB2dgl@0P4ZHHbSVk37dbRqLiU/bJ4Rk" rel="nofollow noreferrer" title="Java (OpenJDK 8) – Try It Online">Try it online!</a></p>

<h1>Edit</h1>

<p>The algorithm in my original program was fine, but the static size of the datatype used meant that it broke fairly quickly once the size went above a certain threshold.</p>

<p>I have changed the datatype used in the calculation to increase the memory limit of the program to accommodate this (using <code>BigInteger</code> for arbitrary precision instead of <code>int</code> or <code>long</code>). However, this makes it debatable whether or not this counts as <code>O(1)</code> space complexity.</p>

<p>I will leave my explanation below intact, but I wish to add that I now believe it is impossible to achieve <code>O(1)</code> space complexity without making some assumptions.</p>

<h1>Proof</h1>

<p>Define <code>N</code> as an integer such that <code>2 &lt;= N</code> .</p>

<p>Let <code>S</code> be a list representing a series of random integers <code>[x{1}, ..., x{N}]</code>, where <code>x{i}</code> has the constraint <code>1 &lt;= x{i} &lt;= N</code>.</p>

<p>The time complexity (in Big-O notation) required to iterate through this list exactly once per element is <code>O(n)</code></p>

<p>The challenge given is to find the first duplicated value in the list. More specifically, we are searching for the first value in <code>S</code> that is a duplicate of a previous item on the list.</p>

<p>Let <code>p</code> and <code>q</code> be the positions of two elements in the list such that <code>p &lt; q</code> and <code>x{p} == x{q}</code>. Our challenge becomes finding the smallest <code>q</code> that satisfies those conditions.</p>

<p>The obvious approach to this problem is to iterate through S and check if our <code>x{i}</code> exists in another list <code>T</code>:
    If <code>x{i}</code> does not exist in <code>T</code>, we store it in <code>T</code>.
    If <code>x{i}</code> does exist in <code>T</code>, it is the first duplicate value and therefore the smallest <code>q</code>, and as such we return it.
This space efficiency is <code>O(n)</code>. </p>

<p>In order to achieve <code>O(1)</code> space complexity while maintaining <code>O(n)</code> time complexity, we have to store unique information about each object in the list in a finite amount of space. Because of this, the only way any algorithm could perform at <code>O(1)</code> space complexity is if:
    1. N is given an upper bound corresponding to the memory required to store the maximum number of possible values for a particular finite datatype.
    2. The re-assignment of a single immutable variable is not counted against the complexity, only the number of variables (a list being multiple variables).
    3. (Based on other answers) The list is (or at least, the elements of the list are) mutable, and the datatype of the list is preset as a signed integer, allowing for changes to be made to elements further in the list without using additional memory.</p>

<p>1 and 3 both require assumptions and specifications about the datatype, while 2 requires that only the number of variables be considered for the calculation of space complexity, rather than the size of those variables. If none of these assumptions are accepted, it would be impossible to achieve both <code>O(n)</code> time complexity and <code>O(1)</code> space complexity.</p>

<h1>Explanation</h1>

<p>Whoo boy, this one took <s>an embarrassingly long time to think up</s> a bit of brain power.</p>

<p>So, going for the bonus is difficult. We need both to operate over the entire list exactly once <strong>and</strong> track which values we've already iterated over without additional space complexity.</p>

<p>Bit manipulation solves those problems. We initialize our <code>O(1)</code> 'storage', a pair of integers, then iterate through the list, OR-ing the ith bit in our first integer and storing that result to the second. </p>

<p>For instance, if we have <code>1101</code>, and we perform an OR operation with <code>10</code>, we get <code>1111</code>. If we do another OR with <code>10</code>, we still have <code>1101</code>. </p>

<p>Ergo, once we perform the OR operation and end up with the same number, we've found our duplicate. No duplicates in the array causes the program to run over and throw an exception.</p>
</div>
<div id="pu36" class="pu"><h1>Python 2, <strike>71</strike> 65 bytes</h1>

<p>Returns <code>None</code> if there is no duplicate element</p>
<p><strong>Edit:</strong> -6 bytes thanks to <a href="https://codegolf.stackexchange.com/users/69054/musicman523">@musicman523</a></p>
<pre class="lang-python prettyprint-override"><code>def f(n):
 for a in n:
&#9u=-abs(a)
&#9if n[u]&lt0:return-u
&#9n[u]=-n[u]</code></pre>
<p><a href="https://tio.run/##HcyxCsMgEMbxWZ/iRgWFxraLNE8iDib1qMslGB3y9DYXOL7hB//bz/bbyI3xzQioSHsJuFVIUAjIS9Fnm5ZDJS1FQaDQ4@fha269ku1SMMyWd3C2piNzGYIz8LxvMvA24KIBttdtF0wxXt/3WqgpVNxpPf4" rel="nofollow noreferrer">Try it online!</a></p>
<p><strong>O(n)</strong> time complexity, <strong>O(n)</strong> space complexity, <strong>O(1)</strong> auxiliary space.</p>
<p>As the input list uses <strong>O(n)</strong> space, the space complexity is bound by this. Meaning we cannot have a lower space complexity than <strong>O(n)</strong></p>
<p>Does modify the original list, if this is not allowed we could do it in the same complexity with <a href="https://tio.run/##NU5BCsIwEDw3r9hjAim0VS/R@JGQQ9REA7It2@bg62O2Iiy7M8PMsMtne8041fqICZJETXZQRkCaCQJkBDSiK7YPt1UGdRZdToCu@Otg@Niet@jie42GrCPdF@/oMvpfReYKCviM8h1RolItlr3lOgZKAMWtUDNV9t/DGjni3KThsM@o4aRh8hpYO@5aE0bv22cLZdxkkpxT6s93Vr8" rel="nofollow noreferrer">129 bytes</a></p>
<h1>Explanation</h1>
<p>Since every element is greater than 0 and less than or equal to the size of the list, the list has for each element a, an element on index a - 1 (0 indexed). We exploit this by saying that if the element at index i is negative, we have seen it before.</p>
<p>For each element a in the list n, we let u be negative the absolute value of a. <em>(We let it be negative since python can index lists with negative indices, and we would otherwise need to do</em> <code>u=abs(a)-1</code>) If the element at index u in the list is negative, we have seen it before and can therefore return -u <em>(to get the absolute value of a, as all elements are positive)</em>. Else we set the element at index u to be negative, to remember that we have seen an element of value a before.</p>
</div>
<div id="pu37" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 59 bytes, O(n) time, O(n) memory</h1>



<pre class="lang-python prettyprint-override"><code>a=input()
i=0
for x in a:
 if i&amp;1&lt;&lt;x:print x;break
 i^=1&lt;&lt;x
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/r/P9E2M6@gtERDkyvT1oArLb9IoUIhM08h0YpLITNNIVPN0MamwqqgKDOvRKHCOqkoNTEbKBFnCxL@/z/aSMcYCA11THWMYgE" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>This does one pass of the list. Thus is <strong>O(n)</strong>  For memory it stores a integer <code>i</code>, which has bits representing which numbers have already been visited.  If a number has already been visited we output, otherwise we turn the bit on.  If no matches are found we do nothing.</p>

<p>This makes a slight improvement over the naïve way which requires copying the list at the cost of <strong>O(n log n)</strong> memory.</p>
</div>
<div id="pu38" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 36 + 2 (-ap) = 38 bytes</h1>

<p>Runs in O(n) time.</p>



<pre class="lang-perl prettyprint-override"><code>$s{$_}=1while!$s{$_=shift@F};$_||=-1
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/1@luFolvtbWsDwjMydVEcyzLc7ITCtxcKu1VomvqbHVNfz/30jBRMFYwVTB3EzB9F9@QUlmfl7xf11fUz0DQ4P/uokFAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>

<p>Takes the input list space separated.</p>
</div>
<div id="pu39" class="pu"><h1>Dyalog APL, <s>27</s> <s>24</s> <s>20</s> <s>19</s> <s>13</s> <s>12</s> 11 bytes</h1>

<pre><code>⊢⊃⍨0⍳⍨⊢=⍴↑∪
</code></pre>

<p>Now modified to not depend on v16! <a href="http://tryapl.org/?a=%28%u22A2%u2283%u23680%u2373%u2368%u22A2%3D%u2374%u2191%u222A%29%201%201&amp;run" rel="nofollow noreferrer">Try it online!</a></p>

<h1>How? (With input <strong>N</strong>)</h1>

<ul>
<li><code>⊢⊃⍨...</code> - <strong>N</strong> at this index:

<ul>
<li><code>⍴↑∪</code> - <strong>N</strong> with duplicates removed, right-padded with <code>0</code> to fit <strong>N</strong></li>
<li><code>⊢=</code> - Element-wise equality with <strong>N</strong></li>
<li><code>0⍳⍨</code> - Index of the first <code>0</code>. `</li>
</ul></li>
</ul>
</div>
<div id="pu40" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>28</s> 36 bytes</h1>

<p>Misunderstood the challenge the first time. <code>O(n)</code> time, <code>O(n)</code> space.</p>



<pre class="lang-ruby prettyprint-override"><code>-&gt;a{d={};a.find{|e|b=d[e];d[e]=1;b}}
</code></pre>

<p><a href="https://tio.run/##KypNqvyfZhvzX9cusTrFtrrWOlEvLTMvpbomtSbJNiU6NdYaRNgaWifV1v4vz8jMSVVITy0p5ipQSItOLUvMUVCJj@VKzUv5H22ko2AMRoY6CqY6CkaxXCAhE7AQkG8YCwA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu41" class="pu"><h1><a href="https://github.com/m-ender/retina" rel="nofollow noreferrer">Retina</a>, <s>26</s> 24 bytes</h1>

<pre><code>1!`\b(\d+)\b(?&lt;=\b\1 .*)
</code></pre>

<p><a href="https://tio.run/##K0otycxL/P/fUDEhJkkjJkVbE0jZ29jGJMUYKuhpaf7/b6RgDISGCqYKRgA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Explanation: <code>\b(\d+)\b</code> matches each number in turn, and then the lookbehind looks to see whether the number is a duplicate; if it is the <code>1</code>st match is <code>!</code> output, rather than the count of matches. Unfortunately putting the lookbehind first doesn't seem to work, otherwise it would save several bytes. Edit: <s>Added 7 bytes to comply with the <code>-1</code> return value on no match.</s> Saved 2 bytes thanks to @MartinEnder.</p>
</div>
<div id="pu42" class="pu"><h2>APL, 15</h2>

<pre><code>{⊃⍵[(⍳⍴⍵)~⍵⍳⍵]}
</code></pre>

<p>Seems like we can return 0 instead of -1 when there are no duplicates, (thanks Adám for the comment). So 3 bytes less.</p>

<p>A bit of description:</p>

<pre><code>⍵⍳⍵         search the argument in itself: returns for  each element the index of it's first occurrence
(⍳⍴⍵)~⍵⍳⍵   create a list of all indexes, remove those found in ⍵⍳⍵; i.e. remove all first elements
⊃⍵[...]     of all remaining elements, take the first. If the array is empty, APL returns zero
</code></pre>

<p>For reference, old solution added -1 to the list at the end, so if the list ended up empty, it would contain -1 instead and the first element would be -1.</p>

<pre><code>{⊃⍵[(⍳⍴⍵)~⍵⍳⍵],¯1}
</code></pre>

<p>Try it on <a href="http://tryapl.org/?a=%7B%u2283%u2375%5B%28%u2373%u2374%u2375%29%7E%u2375%u2373%u2375%5D%7D2%203%203%201%205%202&amp;run" rel="nofollow noreferrer">tryapl.org</a></p>
</div>
<div id="pu43" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog)</a>, 11 bytes</h1>



<p>As per <a href="https://codegolf.stackexchange.com/questions/136713/find-the-first-duplicated-element/136797?noredirect=1#comment334435_136713">the new rules</a>, throws an error if no duplicates exist.</p>

<pre class="lang-apl prettyprint-override"><code>⊢⊃⍨⍬⍴⍳∘≢~⍳⍨
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///3y2zqLjEpbTgUduER12LHnU1P@pd8ah3zaPeLY96Nz/qmPGoc1EdiNW74v9/BTCA6VAw0lEwBiNDHQVTHQUjLjR5Yx0jHTDmwtRoAtYI1GUIAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p><code>⍳⍨</code> the indices of the first occurrence of each element</p>

<p><code>~</code> removed from</p>

<p><code>⍳∘≢</code> of all the indices</p>

<p><code>⍬⍴</code> reshape that into a scalar (gives zero if no data is available)</p>

<p><code>⊃⍨</code> use that to pick from (gives error on zero)</p>

<p><code>⊢</code> the argument</p>
</div>
<div id="pu44" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog)</a>, 20 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>⊃n/⍨(,≢∪)¨,\n←⎕,2⍴¯1
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///qKPdLbOouMSltOD/o67mPP1HvSs0dB51LnrUsUrz0AqdmLxHbRMe9U3VMXrUu@XQekOQhv8KYADTx2Wko2AMRoY6CqY6CkZcmPImYHmgpCG6pLGOkQ4YAwA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p><code>2⍴¯1</code> negative one <strong>r</strong>eshaped into a length-two list</p>

<p><code>⎕,</code> get input (mnemonic: console box) and prepend to that</p>

<p><code>n←</code> store that in <em>n</em></p>

<p><code>,\</code> prefixes of <em>n</em> (lit. cumulative concatenation)</p>

<p><code>(</code>…<code>)¨</code> apply the following tacit function to each prefix</p>

<p> <code>,</code> [is] the ravel (just ensures that the prefix is a list)</p>

<p> <code>≢</code> different from</p>

<p> <code>∪</code> the unique elements[?] (i.e. is does the prefix have duplicates?)</p>

<p><code>n/⍨</code> use that to filter <em>n</em> (removes all elements until the first for which a duplicate was found)</p>

<p><code>⊃</code> pick the first element from that</p>
</div>
<div id="pu45" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 16 bytes</h1>

<pre><code>ε¹SsQƶ0K1è}W&lt;¹sè
</code></pre>

<p><a href="https://tio.run/##AToAxf8wNWFiMWX//861wrlTc1HGtjBLMcOofVc8wrlzw6j//zAxMjIwMTAwMDE5MzQ5MTA1MTk4NTAxNTkw" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
</div>
<div id="pu46" class="pu"><h1>C#, <s>65</s> 67 bytes</h1>

<p>With thanks to LiefdeWen for the 89 bytes base code <a href="https://tio.run/##lU9NS8QwED2bX/GOCdtd7KqntHsRPK0gePBQegg1rYHdSfNRRUp/e02XtZ59DMzMm/eYmSZsz5bsPARDHV6/Q9RnyVhzUiHgBSNDQogqmgaf1rzjWRniIfokr2oo3wVxVS14GqgpDMWqzpDSAW0iUGIVLFgbxmZVHsbWep7EcOWtdIXaHTV18UPCbTbid9anWV842SfOtFxVri5LVfW18DoOnrAw8lpvcznNN3Ld82gp2JPevXkT9dGQ5stZnPRXemHEPsPdJfIMDxn2mIT4j/n@Yk7O/M85sWn@AQ" rel="nofollow noreferrer">here</a>, here's an further shortened version of that</p>

<pre><code>a=&gt;{for(int p=0,q=0;;q++)for(p=0;p&lt;q;)if(a[q]==a[p++])return a[q];}
</code></pre>

<p>We can dispense with the return -1 and length check as it's apparently OK to throw an exception if not found, so we just let the outer loop run off the end of the array. Some other whitespace changes, and jigging the declarations around to reduce the number of times we write "int" etc..</p>
</div>
<div id="pu47" class="pu"><h1>PROLOG (SWI), 54 + 3 = 57 bytes</h1>

<pre><code>f([H|_],L,H):-member(H,L).
f([H|T],L,X):-f(T,[H|L],X).
</code></pre>

<p>+3 bytes because it requires an empty list as its second argument:</p>

<pre><code>f([5,3,2,1,2,3,5],[],X)
</code></pre>

<p>will unify X to the first duplicate value in the list.</p>

<p><a href="https://tio.run/##KyjKz8lP1y0uz/z/P00j2qMmPlbHR8dD00o3NzU3KbVIw0PHR1OPCywVApKKAEqlaYToAPk@sUCe3n97XR/baFMdYx0jHUMgNtYxjdVJ0/DRiQZJ65QXZZakasAZSjpKQOPAWox0FIzByFBHwVRHwYiQrv8A" rel="nofollow noreferrer" title="Prolog (SWI) – Try It Online">Try it online!</a></p>

<p>Here's the basic algorithm: we have the list to parse, and an accumulator list that starts empty. For each element in the list: pop that element. If it is in the accumulator, return the element. Else, put it in the accumulator.</p>
</div>
<div id="pu48" class="pu"><h2>Dyalog APL Classic, 18 chars</h2>

<p>Only works in <code>⎕IO←0</code>.</p>

<pre><code>     w[⊃(⍳∘≢~⍳⍨)w←¯1,⎕]
</code></pre>

<p>Remove from the list of indices of the elements of the argument with a prepended "-1" the list indices of its nub and then pick the first of what's left. If after the removal there only remains an empty vector, its first element is by definition 0 which is used to index the extended argument producing the desired -1.</p>
</div>
<div id="pu49" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>78</s> 69 bytes</h1>



<pre class="lang-hs prettyprint-override"><code> fst.foldl(\(i,a)(j,x)-&gt;(last$i:[j|i&lt;0,elem x a],x:a))(-1,[]).zip[1..]
</code></pre>

<p><a href="https://tio.run/##HchNDoIwEAbQvaf4FizaZGgs6oYAN/AEpYtJoLE4/ERYEOPdq5K81Xvw@uxFUqgTwrqZMEsnqlWRWKuBdp03Snjdsli64ROrM/XSj9jBnvaStVa5Jee1ecfFWWN8GjlOqNHNJwAjL3eoVvJmecVpywJEw7mCcDlYwo1QeML/rsf9wnqfvg" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p><em>Saved 9 bytes thanks to @nimi</em></p>

<p>A basic path through the list. If the current element has not yet been seen (<code>i&lt;0</code>) and is in the accumulator list (<code>elem x a</code>) then store the current index. Else, keep the index -1. In any case, add the current element to the accumulator list.</p>

<p><strong>EDIT</strong>: I did not read the question carefully enough: this code outputs the index of the second element of a duplicate element.</p>
</div>
<div id="pu50" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 35 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>f s(h:t)|h`elem`s=h|1&lt;2=f(h:s)t
f[]
</code></pre>

<p><a href="https://tio.run/##HchBCsMgEAXQvaf4hCwaMIFYuin1AD2DSJPF2JEaExyXubsthbd6vMqHUmotQC58r8PJCyXaFrF8zg9jw29lqCo43/CyVMpeum4c8XznvRAqR0GKmSal1LbGDIujxFzRI8B5OKNx/Zs1bhrGty8" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a> Crashes if no duplicate is found.</p>
</div>
<div id="pu51" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 12 bytes</h1>

<pre><code>,&amp;_1{~~:i.0:
</code></pre>

<p><a href="https://tio.run/##y/r/P03B1kpBRy3esLquzipTz8CKiys1OSNfQcM6TVPNTsFIwRgIDRVMgSxrIDYB8kwVDP//BwA" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<pre><code>,&amp;_1{~~:i.0:  Input: array M
      ~:      Nub-sieve
          0:  The constant 0
        i.    Find the index of the first occurrence of 0 (the first duplicate)
,&amp;_1          Append -1 to M
    {~        Select the value from the previous at the index of the first duplicate
</code></pre>
</div>
<div id="pu52" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 34 bytes</h1>

<p><em>O(n<sup>2</sup>) time, O(n) space</em></p>

<p><sup>Saved 3 bytes thanks to @vaultah, and 3 more from @xnor!</sup></p>



<pre class="lang-python prettyprint-override"><code>lambda l:l[map(l.remove,set(l))&lt;0]
</code></pre>

<p><a href="https://tio.run/##TYqxDoJAEERr7iu2hOQ0gtpcpMTEysYOKQ5ZAnE5Luuh8PUnkpA4mWbePDu5pjeJr9O7J92VlQZSlHfahrRl7Po3yhe6kKLotCv8p2kJ4cYDKgFzHE9KBJS2xg4ujERguTUO6tlffhwfaB1cTIVjxtyzWpVN/C9k1/N6l4z66fNEwn5pLOEoISnEDx0WNO@4@AI" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu53" class="pu">

<h1><a href="https://perl6.org" rel="nofollow noreferrer">Perl 6</a>, 13 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>*.repeated[0]
</code></pre>

<p><a href="https://tio.run/##K0gtyjH7X1qcqlBmppdszZVbqaCWlllUXKKbUlqQk5mcWJKqYPtfS68otSAVyE6JNoj9D1blkKhgq2Cko2AMRoY6CqY6CkbWXMWJlQpo@jUcEjWtFZQVjLnA@pIg@kzA@oCaDHFoSgJr8svM@Q8A" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it</a></p>

<hr>

<h2>Explanation</h2>

<ul>
<li><p>The <code>*</code> is in a Term position so the whole statement is a <a href="https://docs.perl6.org/type/WhateverCode" rel="nofollow noreferrer">WhateverCode</a> lambda.</p></li>
<li><p>The <code>.repeated</code> is a method that results in every value except for the first time each value was seen.</p>

<pre class="lang-perl6 prettyprint-override"><code>say [2, 3, 3, 3, 1, 5, 2, 3].repeated.perl; # (3, 3, 2, 3).Seq
#   (      3, 3,       2, 3).Seq
</code></pre></li>
<li><p><code>[0]</code> just returns the first value in the <a href="https://docs.perl6.org/type/Seq" rel="nofollow noreferrer">Seq</a>.<br>
If there is no value <a href="https://docs.perl6.org/type/Nil" rel="nofollow noreferrer">Nil</a> is returned.<br>
(<a href="https://docs.perl6.org/type/Nil" rel="nofollow noreferrer">Nil</a> is the base of the <a href="https://docs.perl6.org/type/Failure" rel="nofollow noreferrer">Failure</a> types, and all types are their own undefined value, so <a href="https://docs.perl6.org/type/Nil" rel="nofollow noreferrer">Nil</a> different than an undefined value in most other languages)</p></li>
</ul>

<hr>

<p>Note that since the <a href="https://github.com/rakudo/rakudo/blob/51e59eeb5e48917ed3e825947989f91a219ce2cc/src/core/Any-iterable-methods.pm#L1595-L1628" rel="nofollow noreferrer">implementation of <code>.repeated</code></a> generates a <a href="https://docs.perl6.org/type/Seq" rel="nofollow noreferrer">Seq</a> that means it doesn't start doing any work until you ask for a value, and it only does enough work to generate what you ask for.<br>
So it would be easy to argue this has at worst <em>O(n)</em> time complexity, and at best <em>O(2)</em> time complexity if the second value is a repeat of the first.<br>
Similar can probably be said of memory complexity.</p>
</div>
<div id="pu54" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 28 bytes</h1>



<pre class="lang-r prettyprint-override"><code>(x=scan())[duplicated(x)][1]
</code></pre>

<p><a href="https://tio.run/##K/r/X6PCtjg5MU9DUzM6pbQgJzM5sSQ1RaNCMzbaMPa/KZcxEBpymXIZcf0HAA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
</div>
<div id="pu55" class="pu"><h1>J, <s>17</s> 16 bytes</h1>

<pre><code>(*/{_1,~i.&amp;0)@~:
</code></pre>

<h3>How?</h3>

<pre><code>(*/{_1,~i.&amp;0)@~:

             @~: returns the nub sieve which is a vector with 1 for the first occurrence of an element in the argument and 0 otherwise

        i.&amp;0     returns the first index of duplication

    _1,~         appends _1 to the index

 */              returns 0 with duplicates (product across nub sieve)

     {           select _1 if no duplicates, otherwise return the index
</code></pre>
</div>
<div id="pu56" class="pu"><h1>Javascript, 54 bytes</h1>
<pre><code>a=&gt;(b=[],a.find(e=&gt;b.includes(e)?e:(b.push(e),0))||-1)
</code></pre>
<p>Uses another array to keep track of the already encountered values.</p>
</div>
<div id="pu57" class="pu"><h1>R, 34 bytes</h1>

<pre><code>c((x=scan())[duplicated(x)],-1)[1]
</code></pre>

<p>Cut a few characters off the answer from @djhurio, don't have enough reputation to comment though.</p>
</div>
<div id="pu58" class="pu"><h1>C#, 145 bytes</h1>



<pre class="lang-c# prettyprint-override"><code>using System.Linq;a=&gt;{var d=a.Where(n=&gt;a.Count(t=&gt;t==n)&gt;1);return d.Select((n,i)=&gt;new{n,i}).FirstOrDefault(o=&gt;d.Take(o.i).Contains(o.n))?.n??-1;}
</code></pre>

<p>Probably a lot shorter way to do this in C# with a simple loop but I wanted to try it with Linq.</p>

<p><a href="https://tio.run/##lY9Na8MwDIbv@RU62pAa0m2nzO5ho6eNjXXQQ@nBJCozS@TNVjpGyG/P3AT2Ab3sxViSpUeWqrhoPfmRbIvxzVYIm8/I2Ko7R@9Zn0FS1dgY4XHy55eTIlt2FRy9q@HeOhLyO/VTdNK6o@raEe/2OSRj4AAaRqtNf7QBam3V9gUDCtLGqhvfEQvWhrUmaQpZBuQuENRqgw1WLATlTmpD@NEnb5Bq7ULkh3CLB9s1LLw2tXq2ryi8cjI1JE7TxRSRlCtFq9WiKIexzP4Mmcqib1Btg2NMu6M4iPTFbg89LHO4mE6Rw1UOSxikLP9DX050QosZPcs@oa0n9FfvIZvvYfwC" rel="nofollow noreferrer" title="C# (Mono) – Try It Online">Try it online!</a></p>

<p>Full/Formatted version:</p>

<pre class="lang-c# prettyprint-override"><code>namespace System.Linq
{
    class P
    {
        static void Main()
        {
            Func&lt;int[], int&gt; f = a =&gt;
            {
                var d = a.Where(n =&gt; a.Count(t =&gt; t == n) &gt; 1);
                return d.Select((n, i) =&gt; new { n, i }).FirstOrDefault(o =&gt; d.Take(o.i).Contains(o.n))?.n ?? -1;
            };

            Console.WriteLine(f(new[] { 2, 3, 3, 1, 5, 2 }));
            Console.WriteLine(f(new[] { 2, 4, 3, 5, 1 }));

            Console.ReadLine();
        }
    }
}
</code></pre>
</div>
<div id="pu59" class="pu"><h1>Axiom 96, bytes</h1>
<pre><code>g(a:List INT):INT==(for i in 2..#a repeat(for j in 1..i-1 repeat if a.i=a.j then return a.i);-1)
</code></pre>
<p>it is O(n^2)</p>
</div>
<div id="pu60" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>94</s> 92 bytes</h1>

<p>O(n) time and O(1) extra memory.</p>



<pre class="lang-python prettyprint-override"><code>def f(a):
 r=-1
 for i in range(len(a)):t=abs(a[i])-1;r=[r,i+1][a[t]&lt;0&gt;r];a[t]*=-1
 return r
</code></pre>

<p><a href="https://tio.run/##PY5BDsIgEEXXcopZgtJEWt204kUIC1RQkoY2w7jw9EhravIXP28yL3/@0GtKXSkPHyBwJ3oGqBvFIEwIEWICdOnp@ehTvYqetLtl7ky0olEDaoMyHpQ1zpC9HK9oh6XtVwV6emMVFPKZ7i77rA3bmVZCt0ZJOEtorfzB0worUZVYtgzYHpcdf0k/Y0zEA9@IEOUL" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p><a href="http://www.geeksforgeeks.org/find-duplicates-in-on-time-and-constant-extra-space/" rel="nofollow noreferrer">Source of the algorithm</a>.</p>

<h3>Explanation</h3>

<p>The basic idea of the algorithm is to run through each element from left to right, keep track of the numbers that have appeared, and returning the number upon reaching a number that has already appeared, and return -1 after traversing each element.</p>

<p>However, it uses a clever way to store the numbers that have appeared without using extra memory: to store them as the sign of the element indexed by the number. For example, I can represent the fact that <code>2</code> and <code>3</code> has already appeared by having <code>a[2]</code> and <code>a[3]</code> negative, if the array is 1-indexed.</p>
</div>
<div id="pu61" class="pu"><h1>Pyth, 5 bytes</h1>

<pre><code>h.-Q{
</code></pre>

<p><a href="https://pyth.herokuapp.com/?code=h.-Q%7B&amp;test_suite=1&amp;test_suite_input=%5B2%2C+3%2C+3%2C+1%2C+5%2C+2%5D%0A%5B2%2C+4%2C+3%2C+5%2C+1%5D%0A%5B1%2C+2%2C+1%2C+2%5D&amp;debug=0" rel="noreferrer">Test suite</a></p>

<p>Remove from Q the first appearance of every element in Q, then return the first element.</p>
</div>
<div id="pu62" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 5 bytes</h1>

<pre><code>Ṛœ-QṪ
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///hzllHJ@sGPty56v///9FGOgrGYGSoo2Cqo2AUCwA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>Ṛœ-QṪ  Main link. Argument: A (array)

Ṛ      Yield A, reversed.
   Q   Unique; yield A, deduplicated.
 œ-    Perform multiset subtraction.
       This removes the rightmost occurrence of each unique element from reversed
       A, which corresponds to the leftmost occurrence in A.
    Ṫ  Take; take the rightmost remaining element, i.e., the first duplicate of A.
</code></pre>
</div>
<div id="pu63" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 7 bytes</h1>

<pre><code>æ@bX ¦Y
</code></pre>

<p><a href="http://ethproductions.github.io/japt/?v=1.4.5&amp;code=5kBiWCCmWQ==&amp;input=WzIsIDMsIDMsIDEsIDUsIDJd" rel="nofollow noreferrer">Test it online!</a></p>

<h3>Explanation</h3>

<pre><code> æ@   bX ¦ Y
UæXY{UbX !=Y}  Ungolfed
               Implicit: U = input array
UæXY{       }  Return the first item X (at index Y) in U where
     UbX         the first index of X in U
         !=Y     is not equal to Y.
               In other words, find the first item which has already occured.
               Implicit: output result of last expression
</code></pre>

<hr>

<p>Alternatively: </p>

<pre><code>æ@¯Y øX
</code></pre>

<p><a href="http://ethproductions.github.io/japt/?v=1.4.5&amp;code=5kCvWSD4WA==&amp;input=WzIsIDMsIDMsIDEsIDUsIDJd" rel="nofollow noreferrer">Test it online!</a></p>

<h3>Explanation</h3>

<pre><code> æ@   ¯ Y øX
UæXY{Us0Y øX}  Ungolfed
               Implicit: U = input array
UæXY{       }  Return the first item X (at index Y) in U where
     Us0Y        the first Y items of U (literally U.slice(0, Y))
          øX     contains X.
               In other words, find the first item which has already occured.
               Implicit: output result of last expression
</code></pre>
</div>
<div id="pu64" class="pu"><h2>JavaScript (ES6), <s>47</s> <s>36</s> <s>31</s> 25 bytes</h2>

<p><em>Saved 6 bytes thanks to ThePirateBay</em></p>

<p>Returns <code>undefined</code> if no solution exists.  </p>

<p>Time complexity: <em>O</em>(n) :-)<br>
Space complexity: <em>O</em>(n) :-(  </p>

<pre class="lang-js prettyprint-override"><code>a=&gt;a.find(c=&gt;!(a[-c]^=1))
</code></pre>

<h3>How?</h3>

<p>We keep track of already encountered values by saving them as new <em>properties</em> of the original array <strong><em>a</em></strong> by using negative numbers. This way, they can't possibly interfere with the original entries.</p>

<h3>Demo</h3>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>let f =

a=&gt;a.find(c=&gt;!(a[-c]^=1))

console.log(f([2, 3, 3, 1, 5, 2]))
console.log(f([2, 4, 3, 5, 1]))
console.log(f([1, 2, 3, 4, 1]))</code></pre>
</div>
</div>
</p>
</div>
<div id="pu65" class="pu"><h1>Mathematica, 24 bytes</h1>
<pre><code>#/.{h=___,a_,h,a_,h}:&gt;a&amp;
</code></pre>
<p>Mathematica's pattern matching capability is so cool!</p>
<p>Returns the original <code>List</code> for invalid input.</p>
<h3>Explanation</h3>
<pre><code>#/.
</code></pre>
<p>In the input, replace...</p>
<pre><code>{h=___,a_,h,a_,h}
</code></pre>
<p>A <code>List</code> with a duplicate element, with 0 or more elements before, between, and after the duplicates...</p>
<pre><code>... :&gt;a
</code></pre>
<p>With the duplicate element.</p>
</div>
<div id="pu66" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 6 bytes</h1>

<pre><code>xŒQ¬$Ḣ
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/7/i6KTAQ2tUHu5Y9P9w@6OmNf//R0cb6SgYg5GhjoKpjoJRrA6XAkjQBCwIFDEEiwBlISpNYCKmYK4RWI1JbCwA" rel="nofollow noreferrer">Try it online!</a></p>

<p>Returns the first duplicate, or 0 if there is no duplicate.</p>

<h2>Explanation</h2>

<pre><code>xŒQ¬$Ḣ  Input: array M
    $   Operate on M
 ŒQ       Distinct sieve - Returns a boolean mask where an index is truthy
          for the first occurrence of an element
   ¬      Logical NOT
x       Copy each value in M that many times
     Ḣ  Head
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/136713/">136713</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




