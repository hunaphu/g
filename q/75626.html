<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::75626</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>139</td><td>Ruby</td><td>160316T221332Z</td><td><a href="https://codegolf.stackexchange.com/questions/75626/build-a-simple-room-in-ascii-art/75652#75652">Value In</a></td></tr>
<tr d-ix="1"><td>113</td><td>Retina</td><td>160319T232201Z</td><td><a href="https://codegolf.stackexchange.com/questions/75626/build-a-simple-room-in-ascii-art/75831#75831">daavko</a></td></tr>
<tr d-ix="2"><td>217</td><td>Python 3</td><td>160316T144500Z</td><td><a href="https://codegolf.stackexchange.com/questions/75626/build-a-simple-room-in-ascii-art/75633#75633">Erwan</a></td></tr>
<tr d-ix="3"><td>174</td><td>JavaScript ES6</td><td>160316T200707Z</td><td><a href="https://codegolf.stackexchange.com/questions/75626/build-a-simple-room-in-ascii-art/75644#75644">edc65</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 139 bytes</h1>
<p>Felt nostalgic and decided I wanted to golf down my first ever answer on this site with everything I've learned since then. I wasn't even using stabby lambdas or basic idioms like <code>map</code> in place of <code>for</code> loops for that answer!</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;x,y{s=' ';puts s+?_*x[0]+s
y.zip(x,x[1..]){|i,n,m|puts&quot;|#{s*n}|
&quot;*~-i+?|+s*[n,m||=0].min+(m&lt;1??_:m&gt;n ??|:s)+?_*~-(m-n).abs+(m&lt;n ??|:'')}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LU5bToNAFP2fVdxUE97TDiWGVOl8--MGhpFQBSUpE9IBBRm6AZfgT2N0Ud2NM8Wve-555Xz9HLrdcPouk9-uLYP4_Blse38YZWKBddt0rQTp0czt2Yp7Eg34o2rs3u8ZwZg7o6p84dfK-BbqapSumBRauMeg8qjypMuMqpIVx3UlPLu-I5Rmm3orgFK1kY6pPgZ2HQgH5ztpHLNkWc40_U-6f3-t9gW8FK1EoMcl1xmWT7mwlyljjynnXsqXDq7zZize8j1kBLcHW-_3qe9MCEqmQxwV4nkuPJ0fWMgZ4YhFXCPEQriBEMyjD4H1hSKRZmOIgMSGXWlkUhqvgVx8ZL58rv0D" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Ruby 191</h2>
<p>First time golfing, also it's my first day with Ruby, so it's probably not the most elegant thing in the world, but it'll do?</p>
<pre><code>def f(x)
a=x[0]+[0]
puts&quot; #{'_'*a[0]} &quot;
for i in 0..x[1].length-1
n,m=a[i,2].sort
puts&quot;|#{' '*a[i]}|\n&quot;*(x[1][i]-1)+'|'+' '*n+(a[i+1]&lt;1?'_':m&gt;a[i]?'|':' ')+'_'*(m-n-1)+(n&lt;a[i]?'|':'')
end
end
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=RU9LboMwEN37FCNaCRPAwQRVKErKDXoB4yLaQIIETsSnpQqcpBsW7Tl6jtwm41Api9HMvM88-_un7t6-pum3a3M3vPztshxy2lsk3fbCkzYWOXVtY8DD2UzMRYrACAbJjzUUUCjwGOsFl6zM1L49uJwop9qmonB8yZpj3c7uAd2g3YUch1gZC6pNuLncss3BtDWrbIoCm8sNjzBrXT1rfYT0GmnUYT6tXKU9VG3upGmRTO10_X8j-jwUZQb7rG0I5PCYsOY9VXQZC_EaS2nHcmmxKj2ds4-0hISztqYY4USONd7PTJcX4Ut8JxGBxIkIH57AB71g47C6QTxANIQAeKhRDyftwnkF_Kbjc5fz2Ss" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1>Retina, <s>169</s> <s>150</s> 113 bytes</h1>

<p>Byte count assumes ISO 8859-1 encoding.</p>

<pre>\d+
$*
{+r`1(1*¶[^|]*(1+))
$1¶|$2|
}` (¶.*) 1+
$1
1
_
(\|_+)\|(?=¶\1_(_+))
$1|$2
T`w` `(\|_+)_?(?=_*\|.*¶\1)
^¶
 </pre>

<p>The code contains a trailing space on a trailing newline.</p>

<p>Input format:</p>

<pre>
Height (separated by spaces)
Width (also separated by spaces)</pre>

<p>For example:</p>

<pre>1 2 3 1 2 1 1 1 2 1
2 14 6 8 4 18 2 10 4 2</pre>

<p><a href="http://retina.tryitonline.net/#code=XGQrCiQqCnsrcmAxKDEqwrZbXnxdKigxKykpCiQxwrZ8JDJ8Cn1gICjCti4qKSAxKwokMQoxCl8KKFx8XyspXHwoPz3CtlwxXyhfKykpCiQxfCQyClRgd2AgYChcfF8rKV8_KD89XypcfC4qwrZcMSkKXsK2CiA&amp;input=MSAyIDMgMSAyIDEgMSAxIDIgMQoyIDE0IDYgOCA0IDE4IDIgMTAgNCAy" rel="nofollow">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h2>Python 3, <s>230</s> <s>223</s> <s>222</s> 217 bytes</h2>

<pre><code>def f(a):b=a[0]+[0];m=' _';print('\n'.join([' '+'_'*b[0]+' ']+['|'+' '*min(b[l],b[l+1])+m[b[l+1]&lt;1]*(b[l]&gt;b[l+1])+m[k]*(b[l]-b[l+1]-1)+'|'+m[k]*(b[l+1]-b[l]-1)for l,i in enumerate(zip(*a))for k in[0]*(i[1]-1)+[1]]))
</code></pre>

<p><em>Thanks to @StewieGriffin  @KevinLau for their help</em> </p>

<h2>Results</h2>

<pre><code>&gt;&gt;&gt; f([[2, 14, 6, 8, 4, 18, 2, 10, 4, 2],[1, 2, 3, 1, 2, 1, 1, 1, 2, 1]])
 __ 
|  |___________
|              |
|       _______|
|      | 
|      | 
|      |_
|     ___|
|    |             
|    |_____________
|   _______________|
|  |_______
|     _____|
|    |
|   _|
|__|
</code></pre>
</div>
<div id="pu3" class="pu"><h1>JavaScript (ES6) 174</h1>

<p>The only critical part is the horizontal row joining 2 parts of different widths, with the vertical bar on right side that can be in the middle or at the right end.</p>

<pre class="lang-js prettyprint-override"><code>(p,h,q=-1,R=(n,s=' ')=&gt;s.repeat(n))=&gt;[...p,0].map((x,i)=&gt;(x&gt;q?p=x:(p=q,q=x),(~q?`
|`+R(q+(x&lt;p)-!x)+R(x&gt;q,'|'):' ')+R(p+~q+!x,'_')+R(x&lt;p,'|')+R(h[i]-1,`
|${R(q=x)}|`))).join``
</code></pre>

<p><strong>TEST</strong></p>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=(p,h,q=-1,R=(n,s=' ')=&gt;s.repeat(n))=&gt;[...p,0].map((x,i)=&gt;(x&gt;q?p=x:(p=q,q=x),(~q?`
|`+R(q+(x&lt;p)-!x)+R(x&gt;q,'|'):' ')+R(p+~q+!x,'_')+R(x&lt;p,'|')+R(h[i]-1,`
|${R(q=x)}|`))).join``

// Less golfed

F=(p,h, q=-1, 
   R=(n,s=' ')=&gt;s.repeat(n)
  )=&gt;
  [...p, 0].map((x,i)=&gt; (
    x&gt;q? p=x : (p=q,q=x),
    (q&gt;=0?`\n|`+R(q+(x&lt;p)-!x)+R(x&gt;q,'|'):' ')
    + R(p+~q+!x,'_') + R(x&lt;p,'|')
    + R(h[i]-1,`\n|${R(q=x)}|`)
  )).join``

console.log=x=&gt;O.textContent+=x+'\n'

;[  
  [[2],[1]],
  [[4],[2]],
  [[2, 6, 2, 4],[2, 2, 1, 3]],
  [[2, 14, 6, 8, 4, 18, 2, 10, 4, 2],[1, 2, 3, 1, 2, 1, 1, 1, 2, 1]]
].forEach(t=&gt;{
  var w=t[0],h=t[1]
  console.log('['+w+'] ['+h+']\n'+f(w,h)+'\n')
})</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/75626/">75626</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




