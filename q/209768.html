<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::209768</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>208</td><td>JavaScript browser</td><td>241215T094212Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/277280#277280">emanresu</a></td></tr>
<tr d-ix="1"><td>nan</td><td>Uiua</td><td>241125T055541Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/276826#276826">noodle p</a></td></tr>
<tr d-ix="2"><td>011</td><td>JavaScript Node.js</td><td>241125T034117Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/276825#276825">l4m2</a></td></tr>
<tr d-ix="3"><td>732</td><td>Vyxal</td><td>241124T000203Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/276813#276813">emanresu</a></td></tr>
<tr d-ix="4"><td>nan</td><td>Python 2</td><td>210531T113105Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/226578#226578">Jakque</a></td></tr>
<tr d-ix="5"><td>029</td><td>Haskell</td><td>210529T160142Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/226453#226453">Wheat Wi</a></td></tr>
<tr d-ix="6"><td>nan</td><td>05AB1E</td><td>210526T053317Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/226291#226291">Command </a></td></tr>
<tr d-ix="7"><td>1082</td><td>Vyxal</td><td>210526T033849Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/226285#226285">a stone </a></td></tr>
<tr d-ix="8"><td>nan</td><td>Python 3.8 prerelease</td><td>210525T230706Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/226275#226275">Jakque</a></td></tr>
<tr d-ix="9"><td>002</td><td>Husk</td><td>210315T070010Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/220690#220690">Leo</a></td></tr>
<tr d-ix="10"><td>nan</td><td>Japt</td><td>210315T160000Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/220712#220712">Etheryte</a></td></tr>
<tr d-ix="11"><td>nan</td><td>R</td><td>200819T101717Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209792#209792">Dominic </a></td></tr>
<tr d-ix="12"><td>011</td><td>Ruby</td><td>200819T030837Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209770#209770">Dingus</a></td></tr>
<tr d-ix="13"><td>nan</td><td>JavaScript Node.js</td><td>200821T234549Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209963#209963">Sean Sch</a></td></tr>
<tr d-ix="14"><td>nan</td><td>80186+ machine code MSDOS .COM format</td><td>200820T215818Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209865#209865">ErikF</a></td></tr>
<tr d-ix="15"><td>nan</td><td>05AB1E</td><td>200819T235859Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209816#209816">the-coba</a></td></tr>
<tr d-ix="16"><td>nan</td><td>Gol><></td><td>200819T131433Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209798#209798">Jo King</a></td></tr>
<tr d-ix="17"><td>nan</td><td>><></td><td>200819T105107Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209794#209794">SE - sto</a></td></tr>
<tr d-ix="18"><td>nan</td><td>Javascript</td><td>200819T172245Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209803#209803">Shaggy</a></td></tr>
<tr d-ix="19"><td>017</td><td>Perl 5</td><td>200819T065118Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209782#209782">Dom Hast</a></td></tr>
<tr d-ix="20"><td>nan</td><td>Gol><></td><td>200819T042845Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209774#209774">Bubbler</a></td></tr>
<tr d-ix="21"><td>nan</td><td>Python 2</td><td>200819T062319Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209778#209778">ovs</a></td></tr>
<tr d-ix="22"><td>004</td><td>Keg</td><td>200819T043347Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209775#209775">lyxal</a></td></tr>
<tr d-ix="23"><td>003</td><td>V vim</td><td>200819T042553Z</td><td><a href="https://codegolf.stackexchange.com/questions/209768/case-invert-your-quine/209773#209773">Dingus</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (browser), score 4, <s>224</s> 208 bytes</h1>
<pre class="lang-js prettyprint-override"><code>eval(atob`ZXZhbChTPSdhPSAgIkVWQUwoQVRPQmAiOyAgIGZvcihkICBvZiAgYnRvYSgiZXZhbChTPSIrJCtTKyQrIiwkPWAiKyQrImApICIpKWErPWRbYHRvJHtkPFMgPyJMbyIrInciOiJVcHAifWVyYCArIGBDYXNlYCBdKCkgOyBhbGVydChhKyJgKSIpJywkPWAnYCkg`)
</code></pre>
<p><a href="https://tio.run/##XY27boMwAEX3fAVbQGozVV2qVDJuSwxKwyOFmCk2D9uFYGRcIn89JRmaqNvVvTr3fJORDIUSvX7sZFlNVEtirS1trV8t96euK7WqlTzZeqVlopXomO04t7ykZKien5bOy4JoSWeS/ifpHflg/QH3H6IjyiydBWkrNZut4fJRyG6QbbVqJbMHZ6pG0toXxzE/5JxCvg@TkocJYKhJs@jrLKM0DqMTEDszd14@FoI3CLpjLgDDXTzihIkbi5QP9T4wkULi3IQZENd8Aj2CqA@ydxVmMcWbePQ3ugk/tiw0/pYapFBXiJ3w02IDRJ2lBkOgkOe@4cNni6FbBrBhO@Ny6qWmhJwHxmdBgnrfXD0dnvejM02/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p><code>atob</code> and <code>btoa</code> are functions that convert a string of bytes from/to base64 respectively. They only exist in browser JS, so in the above TIO link which uses node.js I've polyfilled them, and I've also taken the liberty of using <code>alert</code> for output. This evaluates some base64'd code which is carefully manipulated to only use letters when encoded with the base64 table <code>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/</code>.</p>
<p>Base64 maps groups of three bytes to four base64 chars, and if we consider some triplet of printable ASCII bytes with binary digits <code>abcdefgh ijklmnop qrstuvwx</code>, they get mapped to the base64 values <code>abcdef ghijkl mnopqr stuvwx</code>:</p>
<ul>
<li>Since the <code>0</code> in the base64 table is at index 52, we want all four parts to have a binary value less than 52.</li>
<li>As <code>abcdefgh</code> is in the printable ASCII range, it's at most <code>126</code>, so <code>abcdef</code> is at most 31 and will always be a letter.</li>
<li><code>ghijkl</code> will be &gt;= 52 if <code>gh</code> is <code>11</code>, i.e. <code>abcdefgh</code> mod 4 is 3 and <code>abcdefgh</code> is among <code>#'+/37;?CGKOSW[_cgkosw{</code>, as long as <code>ijkl</code> is at least 4 i.e. <code>ijklmnop</code> is at least 64.</li>
<li><code>mnopqr</code> will be &gt;= 52 if <code>mnop</code> is &gt;= 13, i.e. <code>ijklmnop</code> is among <code>-./=&gt;?MNO]^_mno}~</code>.</li>
<li><code>stuvwx</code> will be &gt;= 52 if <code>qrstuvwx</code> is among <code>456789:;&lt;=&gt;?tuvwxyz{|}~</code></li>
</ul>
<p>So, for a triplet <code>b1 b2 b3</code> to have only letters in its base64:</p>
<ul>
<li><code>b1</code> can be anything, but if it is one of <code>#'+/37;?CGKOSW[_cgkosw{</code>, <code>b2</code> must be among <code> !&quot;#$%&amp;'()*+,0123456789:;&lt;</code></li>
<li><code>b2</code> can't be among <code>-./=&gt;?MNO]^_mno}~</code></li>
<li><code>b3</code> can't be among <code>456789:;&lt;=&gt;?tuvwxyz{|}~</code></li>
</ul>
<p>It turns out to be feasible (albeit annoying) to write meaningful JavaScript under this source restriction. The eval'd code is (linebreaks added for clarity):</p>
<pre class="lang-js prettyprint-override"><code>eval(S='a=  &quot;EVAL(ATOB`&quot;;   for(d  of  btoa(&quot;eval(S=&quot;+$+S+$+&quot;,$=`&quot;+$+&quot;`) &quot;))
a+=d[`to${d&lt;S ?&quot;Lo&quot;+&quot;w&quot;:&quot;Upp&quot;}er` + `Case` ]() ; alert(a+&quot;`)&quot;)',$=`'`) 
</code></pre>
<p>This assigns the following string to <code>S</code> and evaluates it, along with assigning a single quote to <code>$</code>:</p>
<pre class="lang-js prettyprint-override"><code>a=  &quot;EVAL(ATOB`&quot;;   for(d  of  btoa(&quot;eval(S=&quot;+$+S+$+&quot;,$=`&quot;+$+&quot;`) &quot;))
a+=d[`to${d&lt;S ?&quot;Lo&quot;+&quot;w&quot;:&quot;Upp&quot;}er` + `Case` ]() ; alert(a+&quot;`)&quot;)'
</code></pre>
<p>This takes <code>S</code> and inserts it into the above <code>eval(S='[S]',$=`'`) </code>. It then base64s and swapcases the entire thing, inserts it into <code>EVAL(ATOB`string`)</code>, and <code>alert</code>s it.</p>
<p>The source restriction makes things quite tricky - in particular, the characters <code>=</code> and <code>&gt;</code> can only appear as the first character of a triplet, so I can't use <code>=&gt;</code> to write arrow functions. As such, instead of using <code>replace</code> or <code>map</code>, I've used a for loop to iterate over every char of the base64'd string. <code>=</code>'s restrictions have been a particular thorn in my side, as it's used six times in the compressed code and the segments between each one can only be shortened by multiples of three bytes.</p>
<p>All the funky whitespace is to accomodate for this source restriction, but aside from that this has been surprisingly usable. <code>for</code>, <code>eval</code>, <code>alert</code> and <code>btoa</code> are all usable at at least one shift, and I can just chuck <code>&quot;EVAL(ATOB<span class="math-container">`</span>&quot;</code> straight into the source code. I wouldn't be surprised if there's a few bytes to shave here, but certain constraints make this very annoying to golf further.</p>
</div>
<div id="pu1" class="pu"><h1>Uiua, score 32 - 28 = 4</h1>
<pre><code>&amp;pfabsjoibyrepr&quot;&amp;pfabsjoibyrepr&quot;
</code></pre>
<p>Try it: <a href="https://uiua.org/pad?src=0_14_0-dev_2__JnBmYWJzam9pYnlyZXByIiZwZmFic2pvaWJ5cmVwciIK" rel="nofollow noreferrer">Uiua pad</a></p>
<p>There are shorter quines but this way I'm able to avoid non-alphabet characters by using <code>repr</code> to surround the string in quotes, rather than using a <code>$</code> raw string which ends up with a score of 6.</p>
<p>I <em>think</em> score 1 may be possible. You can get arbitrary strings by indexing into the Lorem ipsum constant and adding to the characters, e.g. <code>addfloetafirLorem</code> gives <code>M</code>, so in theory the only character which should be necessary is the <code>&amp;</code> in <code>&amp;pf</code>.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 11 bytes, 10 score</h1>

<pre class="lang-none prettyprint-override"><code>f=x=&gt;'F='+f
</code></pre>
<p><a href="https://tio.run/##XY2xCsIwFAB3vyKC0ISkwbnwOij4A461mPr60lZKIk0VW/Hbo4ODdD2Ou2v1qAIO3W1Mna8pRgtPyJMDJNJG9C74nnTvGx7AcqHMyRmx@udmN40UMsbY5nWBoHtyzdi@l9a@rVxDdcaMLLTWxoKRttQD1Xckzs9qUrOAHCVMawjFXCqErVhEjugH@q1S/D7iBw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Trivial and silly.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 732 bytes, score 0</h1>
<pre><code>uTuJuJnJnJnJnJuTuJuJnJuJuTuJnJuJnJnJuTuJnJnJuJuJuJuTuJnJuJnJuJuTuJnJuJuJuJuJuTuJnJuJuJnJuTuJuJuJnJuJuTuJuJuJuTuJnJuJnJnJuTuJnJuJnJuJuTuJnJuJnJuJuTuJnJuTuJnJuJnJuJuTuJuJnJuJuJuTuJnJuJnJuTuJuJnJuJuJuTuJnJnJnJuTuJuJuJuJuTuJuJnJnJnJuTuJnJuJuTuJnJuJnJuTuJuJnJuJnJuTuJnJuJuTuJnJnJnJuJnJuTuJnJnJuJuJuTuJnJnJnJuJnJuTuJnJuJnJuJuTuJuJuJuTuJuJnJuJuTuJnJuJuTuJnJnJnJuJnJuTuJuJuJuTuJnJnJnJuJnJuTuJnJnJuJuJuTuJnJnJnJuJnJuTuJuJuJuTuJnJnJuJuJuTuJnJuJnJuJuTuJnJnJnJuJuJuTuJuJuJnJuJuTuJuJuJuJuTuJnJnJuJuJuTuJuJuJuTuJuJnJuJuTuJnJuJuTuJnJnJnJuJnJuTuJnJnJuJuJuTuJnJnJnJuJnJuTuJuJuJuTuJnJnJuJuJuTuJnJnJnJuJuJuTuJuJuJuJuTuJnJuJnJuJuTuJnJnJnJuTuJuJuJuJuTuJnJuJuTuJnJuJnJnJuTuJnJnJnJuJnJuTuJnJnJuJWnuNvVwDhuvvcvBkBipyfkAfItIvhnfIhItIhtvJDpthnfItIhtJpvipfuIj
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJQIiwiIiwidVR1SnVKbkpuSm5Kbkp1VHVKdUpuSnVKdVR1Sm5KdUpuSm5KdVR1Sm5Kbkp1SnVKdUp1VHVKbkp1Sm5KdUp1VHVKbkp1SnVKdUp1SnVUdUpuSnVKdUpuSnVUdUp1SnVKbkp1SnVUdUp1SnVKdVR1Sm5KdUpuSm5KdVR1Sm5KdUpuSnVKdVR1Sm5KdUpuSnVKdVR1Sm5KdVR1Sm5KdUpuSnVKdVR1SnVKbkp1SnVKdVR1Sm5KdUpuSnVUdUp1Sm5KdUp1SnVUdUpuSm5Kbkp1VHVKdUp1SnVKdVR1SnVKbkpuSm5KdVR1Sm5KdUp1VHVKbkp1Sm5KdVR1SnVKbkp1Sm5KdVR1Sm5KdUp1VHVKbkpuSm5KdUpuSnVUdUpuSm5KdUp1SnVUdUpuSm5Kbkp1Sm5KdVR1Sm5KdUpuSnVKdVR1SnVKdUp1VHVKdUpuSnVKdVR1Sm5KdUp1VHVKbkpuSm5KdUpuSnVUdUp1SnVKdVR1Sm5KbkpuSnVKbkp1VHVKbkpuSnVKdUp1VHVKbkpuSm5KdUpuSnVUdUp1SnVKdVR1Sm5Kbkp1SnVKdVR1Sm5KdUpuSnVKdVR1Sm5KbkpuSnVKdUp1VHVKdUp1Sm5KdUp1VHVKdUp1SnVKdVR1Sm5Kbkp1SnVKdVR1SnVKdUp1VHVKdUpuSnVKdVR1Sm5KdUp1VHVKbkpuSm5KdUpuSnVUdUpuSm5KdUp1SnVUdUpuSm5Kbkp1Sm5KdVR1SnVKdUp1VHVKbkpuSnVKdUp1VHVKbkpuSm5KdUp1SnVUdUp1SnVKdUp1VHVKbkp1Sm5KdUp1VHVKbkpuSm5KdVR1SnVKdUp1SnVUdUpuSnVKdVR1Sm5KdUpuSm5KdVR1Sm5KbkpuSnVKbkp1VHVKbkpuSnVKV251TnZWd0RodXZ2Y3ZCa0JpcHlma0FmSXRJdmhuZkloSXRJaHR2SkRwdGhuZkl0SWh0SnB2aXBmdUlqIiwiIiwiIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>This hurt my brain.</p>
<p>The standard way to do this sort of restricted quine, using only the ASCII letters, is to:</p>
<ul>
<li>Push a list of numbers to the stack, encoding the rest of the code</li>
<li>Have the rest of the code reconstruct the code pushing those numbers, and itself</li>
</ul>
<p>However, it's a bit more complicated than that. Vyxal's set of built-in constants includes <code>kL</code>, the concatenation of the lowercase and uppercase alphabets, so we can just index each number into that to recover the rest of the source code, but actually generating those numbers with this builtin set is the problem. The numbers need to be encoded in a way that:</p>
<ul>
<li>Ideally, is as compact as possible</li>
<li>Can be easily decoded using the limited set of builtins available, which is <em>not</em> particularly powerful.</li>
</ul>
<p>We have no access to string, number or list literals, or pretty much any form of arithmetic, but we can still construct lists with the <code>J</code> and <code>p</code> builtins, which respectively append/prepend two values. We also have the single-char constants <code>u</code> and <code>n</code>, which push <code>-1</code> and the lowercase alphabet respectively (don't ask).</p>
<p>One way to encode numbers would be to map each number to that many copies of <code>-1</code> - e.g. <code>5</code> -&gt; <code>[-1, -1, -1, -1, -1]</code>, which can be generated  with <code>u uJ uJ uJ uJ</code> - push <code>-1</code>, and append another four <code>-1</code>s. However, part of the program needs to be able to take this array and reconstruct the code that generated it, and this is somewhat annoying to do with this method as the first <code>u</code> is different: we'd need to to remove the first <code>-1</code>, replace all the rest with <code>uJ</code>, then prepend a <code>u</code>. A smarter way to do this would be to use e.g. <code>[0, -1, -1, -1, -1]</code>, and map <code>0</code> to [some code generating a 0] and <code>-1</code> to <code>uJ</code> (append -1).</p>
<p>However, that approach still requires amounts of code proportional to each number included. Instead, we can encode each number in binary, and decode it with the <code>B</code> builtin. The approach I ended up going with was mapping <code>0</code> to the lowercase alphabet and <code>1</code> to <code>-1</code>, then prepending <code>-3</code>, which can be created with <code>uT</code> (T is triple). This results in a list like <code>[-3, -1, alphabet, alphabet, -1]</code> encoding <code>0b1001</code> == <code>9</code>, and to reconstruct it we map <code>-3</code> to <code>uT</code>, <code>-1</code> to <code>uJ</code> and <code>alphabet</code> to <code>nJ</code>. This can be accomplished by replacing (<code>V</code>) <code>alphabet</code> with <code>1</code> and indexing into the list <code>[&quot;uT&quot;, &quot;nJ&quot;, &quot;uJ&quot;]</code>.</p>
<p>Constructing this list is somewhat annoying. We have access to the builtins <code>kA</code> (uppercase alphabet) and <code>n</code> (lowercase alphabet); <code>I</code>, which cuts a list of characters into two pieces, and <code>h</code> and <code>t</code> which get the first and last items of a list respectively (along with <code>J</code> and <code>p</code> from before to concatenate). With this, it's not too hard to construct</p>
<pre><code>kAfI                             # Split uppercase alphabet in half - [&quot;ABCDEFGHIJKLM&quot;, &quot;NOPQRSTUVWXYZ&quot;]
    tI                           # Get the second half and halve it - [&quot;NOPQRST&quot;,&quot;UVWXYZ&quot;]
      vh                         # Get the first item of each - [&quot;N&quot;,&quot;U&quot;]
        nfIhI                    # first half of lowercase alphabet in half - [&quot;abcdefg&quot;,&quot;hijklm&quot;]
             tIht                # last of first half of second item - &quot;j&quot;
                 vJ              # append to each - [&quot;Nj&quot;,&quot;Uj&quot;]
                   Dpth          # Grab the &quot;U&quot; from the previous
                       nfItIht   # Last char of first half of second half of lowercase alphabet - &quot;t&quot;
                              Jp # Append to the U and prepend - [&quot;Ut&quot;,&quot;Nj&quot;,&quot;Uj&quot;]
</code></pre>
<p>The final piece of the puzzle is the case swapping. While Vyxal's case swap builtin <code>N</code> is available, it's shorter to just construct the data code flipped and also flip the decoding. Then, it's just a matter of decoding everything:</p>
<pre><code>WnuNvVwDhuvvcvBkBipyfk...pvipfuIj
W                                 # Wrap all pushed data into an array
    vV                            # Over each, replace
 nuN                              # alphabet with -1

         uvvc                     # Check if each is -1 - -1 -&gt; 1, alphabet/-3 -&gt; 0
             vB                   # Convert each from binary
               kBi                # Index each into uppercase+lowercase alphabet
      wDh         py              # Swap to another copy of the data (no stack manip = pain)
                     k...p        # Construct [&quot;Ut&quot;,&quot;Nj&quot;,&quot;Uj&quot;] (from befor)
                    f     vi      # and index each value into that   
                            pf    # Prepend to the original data and flatten
                              uIj # And concatenate
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 43 - 27 = 16 bytes</h1>

<pre class="lang-python prettyprint-override"><code>a="print'A=%r;EXEC A'%a.swapcase()";exec a

</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/r/P9FWqaAoM69E3dFWtcjaNcLVWcFRXTVRr7g8sSA5sThVQ1PJOrUiNVkhkev/fwA" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>Same answer than my Python 3 solution ... but ths time I can remove the parenthesis of the <code>exec</code> function and the <code>print</code> function (costing one char for the trailing newline)</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, score 29</h1>

<pre class="lang-hs prettyprint-override"><code>import Data.Char;main=putStr x&gt;&gt;print x;x=map toUpper"import data.char;main=putstr x&gt;&gt;print x;x=map toupper"

</code></pre>
<p><a href="https://tio.run/##y0gszk7Nyfn/PzO3IL@oRMElsSRRzzkjscg6NzEzz7agtCS4pEihws6uoCgzr0ShwrrCNjexQKEkP7SgILVICaorBaQrGVlXMXZdpWBdXP//AwA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>The non-flipped bytes are:</p>
<pre class="lang-hs prettyprint-override"><code> D.C;=S &gt;&gt; ;= U&quot; .;= &gt;&gt; ;= &quot;

</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, Score = <s>very big number - very big number</s> 4508 - 4508 = 0</h1>
<pre><code>XaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOXODTnBsbRvTTTTngmngmnngmngDUTnBsTTnnngmgTnBsTTTngmnnnngmgDVTnBsTTTnnngmngmngTnBsYTnBsTXmRykTnBXaKsYTnBsJ
</code></pre>
<p><a href="https://tio.run/##vVfBCoMwDP230dN2KIgb2VFhyBi6gzDY13dat5OOtu8liliNaUzavJf4HJv2fgtBGu@8@Dj49cP6uqW7OfzXS3wt12iWsbRJyY2ryO3CD@bZBtcg7VmmNh90cTip2ULsPGAHwUNZCGVzFRIacyzXCxOeQHCpAFLBU1Lw1MW2GPebZASIfHGU26QyTDd7@UHUFaEzkqVPanmIpVNoD0xJAkabVXHli4FyxTZxFbFGpDNNbzg8DaorFDXdUJvzJgcirT8FnVJt@CsiWnkOgE9UcVvWs2nTMVLGFBpxGm1i1TnKzh1hYdSuHg5jW73q6Ri6fj7j4M7zi0k2P3bLfVRYBO7yEw3fWVHnGqXSV@/HdCfNaZEcQ/gA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<p>EDIT: Can now finish in the lifetime of the universe!</p>
<p>Explaination:</p>
<pre><code>XaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOOXaODOOXaODOOXaODOOXaODOXOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOOXaODOXOXaODOOXaODOXOXaODOXOXaODOOXaODOXO
            pushes 395523372811533155555555231622231622232316222316395655233728555523232316221655233728555555231622232323231622163957552337285555552323231622231622231655233728605523372855592253342055233759104628605523372845
D           duplicate it
TnB         and convert one of the duplicated to base 10^2 = 100, which is this code case inverted
s           swap, moving to front the number
b           convert it to binary
R           and reverse the binary
v           for each digit
 TTTT       push 10,10,10,10^1
 n          square, 10,10,10,10^2
 g          length, 10, 10, 10, 3
 m          exponent, 10,10,10^3
 n          square, 10,10,10^6
 gm         10^length, 10,10^7
 n          square, 10, 10^14
 n          square, 10, 10^28
 gm         10^length, 10^29
 n          square, 10^58
 g          59
 DU         duplicate and save in variable X
 TnB        convert to base 100, &quot;x&quot;
 s          and swap, so the stack is &quot;x&quot;, &quot;&lt;string&gt;&quot;
 TTnnngmg   push 10, in the same way as 59
 TnBs       convert from base 100 and swap, so the stack is &quot;x&quot;, &quot;A&quot;, &quot;&lt;string&gt;&quot;
 TTTngmnnnngmg  push 50, in the same way as 59 and 10
 DV          save in variable Y
 TnBs       convert from base 100 and swap, so the stack is &quot;x&quot;, &quot;A&quot;, &quot;o&quot;, &quot;&lt;string&gt;&quot;
 TTTnnngmngmng  push 39
 TnBs      convert from base 100 and swap, so the stack is &quot;x&quot;, &quot;A&quot;, &quot;o&quot;, &quot;d&quot;, &quot;&lt;string&gt;&quot;
 Y         push variable Y, 50
 TnBs      convert from base 100 and swap, &quot;x&quot;, &quot;A&quot;, &quot;o&quot;, &quot;d&quot;, &quot;o&quot;, &quot;&lt;string&gt;&quot;
 TXmRyk    X if the current bit is 0, else 0
 TnBXaK    convert from base 100 and remove zeros, &quot;X&quot; if the value is 0 else &quot;&quot;
 sYTnBs    add &quot;o&quot; again
 J         join everything
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Lyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 10 bytes − 8 inversions = score 2</h1>
<pre><code>`NDqp`NDqp
</code></pre>
<p><a href="http://lyxal.pythonanywhere.com?flags=&amp;code=%60NDqp%60NDqp&amp;inputs=&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 44 - 25 = 19 bytes</h1>
<p>SwapCase all the char of the quine leaving only the non-alpha chars unchanged</p>

<pre class="lang-python prettyprint-override"><code>exec(a:=&quot;input('EXEC(A:=%r)'%a.swapcase())&quot;)
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM7YoKPr/P7UiNVkj0cpWKTOvoLREQ901wtVZw9HKVrVIU101Ua@4PLEgObE4VUNTU0nz/38A" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, Score = <s>3</s> 2</h1>
<pre><code>foccmawSeohs&quot;foccmawseohs
</code></pre>
<p><a href="https://tio.run/##yygtzv7/Py0/OTk3sTw4NT@jWAnKKQZx/v8HAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>So many letters!</p>
<p>Thanks Dominic van Essen for -1 to the score.</p>
<h3>Explanation</h3>
<p>The standard quine in Husk is <code>S+s&quot;S+s&quot;</code>: it takes the string <code>S+s</code>, and concatenates it with its version surrounded by quotes. The swapcase command <code>\</code> would be easy to add here, but being an escape character as well it needs to be doubled inside the quoted string, resulting in too many unswappable character for my tastes.</p>
<p>What we do instead is convert each character to uppercase (with the conveniently lowercase builtin <code>a</code>), and then we just need to make sure to use only lowercase letters as much as possible. We can get rid of a final <code>&quot;</code> by using <code>h</code> (init) on the quoted string, then the rest of the code is devoted to getting rid of that <code>+</code> symbol to concatenate strings.</p>
<pre><code>foccmawSeohs&quot;foccmawseohs
            &quot;foccmawseohs    A string
       Se                    put it in a 2-elements list
         ohs                 with the quoted version of itself, minus the last quote
      w                      Join the two strings with a space
    ma                       Convert each character to uppercase
f                            And keep only those characters that are truthy when...
 occ                          converted to charcode and back
</code></pre>
<p>The last part is just an identity function (but <code>I</code> would be uppercase), and spaces are falsy in Husk, so we are just keeping all non-space characters in the string.</p>
<p>I'd love to get rid of the <code>S</code> but I don't see how, and I don't think it is possible to have a quine without quotes, barring convoluted conversions from numbers that would score terribly in this challenge... (Prove me wrong and you get a bounty!)</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, score 16 - 6 = 10</h1>
<p>Sadly, a <a href="https://codegolf.stackexchange.com/a/71932/16484">standard quine with no toggling</a> scores the same (10 bytes), but this is way more fun. Every letter is toggled.</p>
<pre class="lang-js prettyprint-override"><code>&quot;i34d¹²u&quot;i34d¹²u 
&quot;i34d¹²u&quot;        // Take this string, shortly just the program string after the quote
         i       // Prepend
          34d    // a quote char,
             ¹   // and then (closing parens)
              ²u // repeat the result twice and uppercase it.
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=ImkzNGS5snUiaTM0ZLmydQ==&amp;input=" rel="nofollow noreferrer">Try it here.</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, score = 78 - 53 = 25</h1>

<pre class="lang-r prettyprint-override"><code>a='a=%s;cat(toupper(sprintf(a,squote(a))))';cat(toupper(sprintf(a,sQuote(a))))
</code></pre>
<p><a href="https://tio.run/##K/qfmVeWWZyZlJOqEVxZrFecWpKTn5wI5CUnlqSm5xdVKtgqKPk4xzv6@CjpKEDkQELOSpqa/xNt1RNtVYutgWo1SvJLCwpSizSKC4oy80rSNBJ1igtL80tSNRI1gUAdl5pAhJr//wE" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, score <sup><s>24</s> <s>20</s> <s>16</s> <s>12</s></sup> 11</h1>
<p><em>Saved a byte thanks to a comment by @Sisyphus on another answer.</em></p>

<pre class="lang-ruby prettyprint-override"><code>eval S=&quot;print'EVAL s=%p'%S.swapcase&quot;
</code></pre>
<p><a href="https://tio.run/##KypNqvz/P7UsMUch2FapoCgzr0TdNczRR6HYVrVAXTVYr7g8sSA5sThV6f9/AA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>36 bytes with 25 case inversions. The case of every letter is changed in the output.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 70 - 38 = 32</h1>

<pre class="lang-javascript prettyprint-override"><code>f=x=&gt;`f=${f}`.replace(/(.)/g,y=&gt;y&lt;'`'?y.toLowerCase():y.toUpperCase())
</code></pre>
<p><a href="https://tio.run/##XY7LCsIwFET3fkUFwYTG1HXxVtCtO3GlxcT0plVKUpr6iKXfXisoiMsZhjnnIm/SqfpcNTNjM@x7DQ9IhIZJqzvBa6xKqZBEhNMoZx4Sv5iK6dLzxm7sHeu1dEho/M67qvpm2itrnC2RlzYnDjShTByMoKPfXqx8gy4OgmDSnsDxEk3eFN3/al1Ik2MWByLcc84HNxHqdFDLroMZOTLPnhQSFYIfg9s/U6ZgTv9OtsrW@EHN1MDoXw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>BTW: This is my first contribution and I'm a bit confused. I made sure to swap every possible character. The example only uppercases. If you don't <em>need</em> to actually swap cases, then one can get 11-0=11 with a simplified variant of an answer given above:</p>
<pre class="lang-javascript prettyprint-override"><code>f=x=&gt;&quot;f=&quot;+f
</code></pre>
</div>
<div id="pu14" class="pu"><h2>80186+ machine code (MS-DOS .COM format), 115-115=0</h2>
<p>It was a bit tricky to do this, as I only had access to <code>INC</code>, <code>DEC</code>, <code>PUSH</code>, certain <code>POP</code> variations, <code>POPA</code>, <code>IMUL</code>, and certain conditional jumps. Fortunately, <code>IMUL</code> could do the heavy lifting for this challenge!</p>
<p>I encoded the actual code that does the printing in a series of values that get multiplied together. I compute those values (which get truncated to 16-bit values), store them on the stack which I moved to be just above the code, and then jump to the generated code to print the program's code in the opposite case.</p>
<p>Machine code:</p>
<pre><code>hrXhCNhGUhnPhPwhYkhvLhKwaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaPQRjZTUVjfaiQVGARiQSCARiQPQARiQMJARiQJZARiQGuARiQDkARiQAWARpI
</code></pre>
<p>Assembler source:</p>
<pre><code>IDEAL
P186

MODEL   TINY
CODESEG
ORG 100H

MAIN:
        ; Encoded code:
        ;   MOV SI,100H
        ;   MOV CX,73H
        ; PRINT:
        ;   LODSB
        ;   XOR AL,20H
        ;   INT 29H
        ;   NOP
        ;   LOOP PRINT
        ;   INT 20H
               ; Offset Bytes Multiplier
    PUSH 5872H ; +41    BE 00 4157H
    PUSH 4E43H ; +44    01 B9 416BH
    PUSH 5547H ; +47    73 00 4175H
    PUSH 506EH ; +4A    AC 34 415AH
    PUSH 7750H ; +4D    20 CD 414AH
    PUSH 6B59H ; +50    29 90 4151H
    PUSH 4C76H ; +53    E2 F8 4143H
    PUSH 774BH ; +56    CD 20 4147H

REPT 30
    POPA ; Adjust stack to point to end of generated code
ENDM

    PUSH AX
    PUSH CX
    PUSH DX
    PUSH 5AH
    PUSH SP
    PUSH BP
    PUSH SI
    PUSH 66H
    POPA ; Use POPA as POP DX and POP DI are not in [A-Za-z]
    IMUL DX,[BX+DI+56H],4147H
    PUSH DX
    IMUL DX,[BX+DI+53H],4143H
    PUSH DX
    IMUL DX,[BX+DI+50H],4151H
    PUSH DX
    IMUL DX,[BX+DI+4DH],414AH
    PUSH DX
    IMUL DX,[BX+DI+4AH],415AH
    PUSH DX
    IMUL DX,[BX+DI+47H],4175H
    PUSH DX
    IMUL DX,[BX+DI+44H],416BH
    PUSH DX
    IMUL DX,[BX+DI+41H],4157H
    PUSH DX
    JO $+4BH ; Jump to start of generated code

END MAIN
ENDS
</code></pre>
</div>
<div id="pu15" class="pu"><h1>05AB1E, 16 - 6 = 10</h1>
<pre><code>0&quot;D34çýu&quot;D34çýu
</code></pre>
<p>(trailing newline)</p>
<h1>Explanation</h1>
<pre><code>0&quot;D34çýu&quot;D34çýu # full code
0&quot;D34çý &quot;D34çý  # standard 05AB1E quine
       u      u # uppercase string in stack
                # implicit print
</code></pre>
<p>Not the <em>best</em> golf, but it is my <em>first</em> golf so have mercy please.</p>
<p><a href="https://tio.run/##yy9OTMpM/f/fQMnF2OTw8sN7S@EMrv//AQ" rel="nofollow noreferrer">Try It Online!</a></p>
<hr />
<h1>05AB1E (legacy), 16 - 8 = 8</h1>
<pre><code>0&quot;D34çýš&quot;D34çýš
</code></pre>
<p>(trailing newline)</p>
<h1>Explanation</h1>
<pre><code>0&quot;D34çýu&quot;D34çýu # full code
0&quot;D34çý &quot;D34çý  # standard 05AB1E quine
       š      š # switch case builtin
                # implicit print
</code></pre>
<p>Thanks to Kevin Cruijssen for -2 score.
Doesnt work with current 05AB1E becuase the switch case function is <code>.š</code> which makes the byte count larger</p>
<p><a href="https://tio.run/##MzBNTDJM/f/fQMnF2OTw8sN7jy5EsLj@/wcA" rel="nofollow noreferrer">Try It Online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/Sp3000/Golfish" rel="nofollow noreferrer">Gol&gt;&lt;&gt;</a>, <s>77</s> 75 - 75 = 0</h1>
<pre><code>urassssissezplzelssmzmzpssazmkqjmkrmbrrrrrtsuotlballsssssassmzpsssssbssmzpu
</code></pre>
<p><a href="https://tio.run/##HYtBEsAgCMTeCjO2VWG0rlz4PC3mlENyD7kqnghbhJ8KFJ/iRQB19QmQa3@b9qW8kg0bW5hEcgBlOI/yUYv4AA" rel="nofollow noreferrer" title="Gol&gt;&lt;&gt; – Try It Online">Try it online!</a></p>
<p>Based on <a href="https://codegolf.stackexchange.com/a/209774/76162">Bubbler's answer</a>, this goes even further by also putting the <code>&quot;</code> at the start of the code to get a score of <code>0</code>!</p>
<h3>Explanation</h3>
<pre><code>ur       Move over one on the stack tape and reverse the stack
  assssissez      Push 10+16*4=74,-1+16*2=31,!(15)=0
            p     And put the 74 (J) at position 0,31

lz            Push 0 if there is anything on the stack
  e           Push 14 for later
   lssmzmz    Push 2+16*2=34, !(-1)=0, !(-1)=0
          p   Put the 34 (&quot;) at position 0,0

sss           Add 3*16 to the -1 from earlier
   az         Push !(10)=0
     mkq      Some no-ops
        J     And jump to 0,47 if the stack was initially empty

lballsssssassmzp  Put T at position 0,43
sssssbssmzpu      Put S at position 0,44
u                 Move one over on the stack again (effectively resetting the stack)

&quot;                 Wrap, pushing everything to the stack
 r                Reverse
  .........       Put everything again
           J      But this time don't jump, since the stack is not empty

mk           Copy the bottom of the stack (u)
  rm         Push a -1 to the bottom of the stack
    brrrrr   No-ops

T   t      Finally, loop over the stack, 
 Suo       Capitalising then outputting everything until we get to the -1
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="http://esolangs.org/wiki/Fish" rel="noreferrer">&gt;&lt;&gt;</a>, score 479 - 479 = 0</h1>
<pre><code>lllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllbfppllfepeeppppgglcepppbeppppppppppplfdppedpddpgglcdppbdpfcpecpggldcppllccpbcpplfbpebppldbppcbpggcbglefgpgbeglefgpgcbglefgpgggggedglefgpgccglefgpgfdglefgpgebglefgpgecglefgpggdcglefgpgceglefgpgeeglefgpgbcglefgpgfbglefgpgcdgfefgpbdgeefgpfegdefgpccgcefgpfdgbefgpdbgaefgpppddglefgpgbcglefgpgfcglefgpgdbglefgpgdcglefgpgecglefgpgddglefgpgdbglefgplffpbfgffgefgpcbgefgefgp
</code></pre>
<p><a href="https://tio.run/##vY@7jkMxCES/dYdhSCQXSPl/ecG6uEkfCs/hjfX@vPZevzcocy15umdZxLIGHO@xJWY6kzz5csCUpVv7tJ5glmgQ0lHKegyVN8RyRQb8gRtpc07UHtBEfOp8UsEhm2E@gNs/bcZQA1hVpfJga22y47NuKiXirzXrg1/DBjhT7wn3qts1NUtKKKQ469DStPc/" rel="noreferrer">Try it online!</a></p>
<h3>How it works</h3>
<p>Very few useful instructions in &gt;&lt;&gt; are letters.
However, we still have the <code>l</code>, pushing the length of the stack to the stack. As such, it's possible to (very verbosely) push arbitrary values to the stack. Thus, strings can be encoded in a similar fashion to brainfuck, using <code>a</code> to increase the length of the stack, and <code>g</code> or <code>p</code> to reduce it.</p>
<p>As per usual quine rules, <code>g</code> is not used to read the source code itself, instead maintaining registers at locations such as<code>bb</code> and <code>bc</code> and so on.</p>
<p>The string encoded is the prefix:</p>
<p><code>&quot;r&amp;:20&amp;3-:&amp;?.p48*-od0l2)?.;lllll&quot;]&quot;</code></p>
<p>Which after over 7,000 instructions outputs the original string in upper case.</p>
</div>
<div id="pu18" class="pu"><h1>Javascript, 27 - 13 = 14</h1>
<pre><code>f=x=&gt;`f=${f}`.toUpperCase()
</code></pre>
<p><a href="https://tio.run/##Xc2xDoIwFIXh3aeoCUMbSuNMchnkEYwTElvLLWpIS2g1AuHZK4ODYT35c76neiuvh0cfMusajNHABwppIJnNIkVw577HoVQeKYvaWe86FJ1rqQdDGZcXK9nuf5fHMaDPCSHJfAMvOrRtuC/bqrwr22KTE5lWQogVlKmpxYDNSyOlVz7yiUGhUxj34Kup5hoObHNy0m7AH5Xp1Yhf" rel="nofollow noreferrer">Try It Online!</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 37 bytes, 20 swapped case, Score 17</h1>
<p>Thanks to <a href="https://codegolf.stackexchange.com/users/95126/dominic-van-essen">@Dominic van Essen</a> for -1!</p>

<pre class="lang-perl prettyprint-override"><code>eval($a=q{print uc&quot;eval(\$a=q{$a})&quot;})
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/z@1LDFHQyXRtrC6oCgzr0ShNFkJLBQDFlNJrNVUqtX8/x8A" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/Sp3000/Golfish" rel="noreferrer">Gol&gt;&lt;&gt;</a>, score 34 - 33 = 1</h1>
<pre><code>&quot;mrllssslssscsmzpdsmzprrrrrrtsuota
</code></pre>
<p><a href="https://tio.run/##S8/PScsszvj/Xym3KCenuLgYhJOLc6sKUkBEERiUFJfmlyT@/w8A" rel="noreferrer" title="Gol&gt;&lt;&gt; – Try It Online">Try it online!</a></p>
<p>Outputs the following and exits by error, which is every char uppercased except the leading <code>&quot;</code>.</p>
<pre><code>&quot;MRLLSSSLSSSCSMZPDSMZPRRRRRRTSUOTA
</code></pre>
<h3>How it works</h3>
<p>The lines marked with <code>*</code> are the differences from the previous version.</p>
<pre><code>&quot;...&quot;    Push every char except `&quot;`
mrl      Push -1, reverse stack, push stack length (34 = `&quot;`)
* lsss   Push stack length (35) and add 16 three times (83 = S)
* lsss   Push stack length (36) and add 16 three times (84 = T)
* csmzp  Push 13, add 16 (29), push -1, boolean negate (0), and
         replace the command at (29,0) by T
* dsmzp  Push 14, add 16 (30), push -1, boolean negate (0), and
         replace the command at (30,0) by S
* rrrrrr  Reverse the stack 6 times;
          no-op to move the positions to overwrite
TSuot    Infinite uppercase-print loop; halt by error at -1
a        Not executed
</code></pre>
<hr />
<h1><a href="https://github.com/Sp3000/Golfish" rel="noreferrer">Gol&gt;&lt;&gt;</a>, score 34 - 31 = 3</h1>
<pre><code>&quot;mrlTSuotaaaaaaaaaaaaaaaaaaaaaaaaa
</code></pre>
<p><a href="https://tio.run/##S8/PScsszvj/Xym3KCckuDS/JBEX@P8fAA" rel="noreferrer" title="Gol&gt;&lt;&gt; – Try It Online">Try it online!</a></p>
<p>Outputs the following and exits by error.</p>
<pre><code>&quot;MRLTSUOTAAAAAAAAAAAAAAAAAAAAAAAAA
</code></pre>
<p>Every lowercase letters are uppercased, so the only chars that are not modified are <code>&quot;TS</code>.</p>
<h3>How it works</h3>
<pre><code>&quot;...&quot;  Start string literal, push every char in the source code (except `&quot;`),
       wrap around and end string literal
mr     Push -1 and reverse the stack
       (setup the chars for printing from top, and bury the trap at the bottom)
l      Push length of stack, which gives 34 == `&quot;`
T...t  Infinite loop until it errors in the middle:
 Su     Uppercase the char at the top (errors when trying to uppercase -1)
 o      Pop and print as char
a...   Not reached
</code></pre>
<p><s>I suspect 2 or lower might be possible.</s></p>
</div>
<div id="pu21" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, Score 52 - 33 = 19</h1>

<pre class="lang-python prettyprint-override"><code>s='S=%r;PRINT S%%S.SWAPCASE()';print s%s.swapcase()

</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/r/v9hWPdhWtcg6IMjTL0QhWFU1WC843DHA2THYVUNT3bqgKDOvRKFYtVivuDyxIDmxOFVDk@v/fwA" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>Case inverts every letter in the quine.</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/JonoCode9374/Keg" rel="nofollow noreferrer">Keg</a>, score 4</h1>
<pre><code>`④`④
</code></pre>
<p><a href="https://tio.run/##y05N//8/4dHExSD8/z8A" rel="nofollow noreferrer" title="Keg – Try It Online">Try it online!</a></p>
<p>4 bytes with 0 case conversions.</p>
<p>The standard quine without case conversion easily beats any Keg approaches that would have case conversion: by the time you've thrown case conversion techniques into the mix, you might as well have just written a standard quine with no fancy details.</p>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/DJMcMayhem/V" rel="noreferrer">V (vim)</a>, score 3</h1>
<pre><code>2i2I
</code></pre>
<p><a href="https://tio.run/##K/v/3yjTyPP/fwA" rel="noreferrer" title="V (vim) – Try It Online">Try it online!</a></p>
<p>4 bytes with 1 case inversion. Twice inserts (<code>2i</code>) the string <code>2I</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/209768/">209768</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




