<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::78410</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>054</td><td>TIBasic</td><td>240312T234259Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/271759#271759">Youserna</a></td></tr>
<tr d-ix="1"><td>027</td><td>Juby</td><td>221010T135151Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/252920#252920">Jordan</a></td></tr>
<tr d-ix="2"><td>024</td><td>Raku</td><td>221123T205316Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/254846#254846">Sean</a></td></tr>
<tr d-ix="3"><td>008</td><td>Vyxal</td><td>221010T033405Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/252899#252899">DialFros</a></td></tr>
<tr d-ix="4"><td>010</td><td>Pyth</td><td>160424T232804Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78411#78411">Maltysen</a></td></tr>
<tr d-ix="5"><td>041</td><td>Wolfram Language Mathematica</td><td>220510T162346Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/247138#247138">Romanp</a></td></tr>
<tr d-ix="6"><td>045</td><td>Wolfram Language Mathematica</td><td>171212T183831Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/150474#150474">Misha La</a></td></tr>
<tr d-ix="7"><td>019</td><td>J</td><td>171212T181752Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/150470#150470">FrownyFr</a></td></tr>
<tr d-ix="8"><td>1317</td><td>ùîºùïäùïÑùïöùïü</td><td>160501T040219Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78968#78968">Mama Fun</a></td></tr>
<tr d-ix="9"><td>065</td><td>C#</td><td>160427T102930Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78694#78694">robhol</a></td></tr>
<tr d-ix="10"><td>061</td><td>sed</td><td>160427T114918Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78702#78702">PM 2Ring</a></td></tr>
<tr d-ix="11"><td>045</td><td>Haskell</td><td>160425T225117Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78567#78567">nimi</a></td></tr>
<tr d-ix="12"><td>009</td><td>Jelly</td><td>160424T233541Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78413#78413">Dennis</a></td></tr>
<tr d-ix="13"><td>015</td><td>Jolf</td><td>160426T182433Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78639#78639">swells</a></td></tr>
<tr d-ix="14"><td>052</td><td>Octave</td><td>160426T150658Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78626#78626">dcsohl</a></td></tr>
<tr d-ix="15"><td>042</td><td>Labyrinth</td><td>160426T072250Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78599#78599">Martin E</a></td></tr>
<tr d-ix="16"><td>021</td><td>J</td><td>160425T092823Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78443#78443">miles</a></td></tr>
<tr d-ix="17"><td>071</td><td>C</td><td>160426T100234Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78607#78607">Toby Spe</a></td></tr>
<tr d-ix="18"><td>070</td><td>R</td><td>160426T074015Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78600#78600">plannapu</a></td></tr>
<tr d-ix="19"><td>032</td><td>Bash + coreutils</td><td>160425T102216Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78444#78444">Toby Spe</a></td></tr>
<tr d-ix="20"><td>038</td><td>Julia</td><td>160425T023016Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78422#78422">Alex A.</a></td></tr>
<tr d-ix="21"><td>072</td><td>Factor</td><td>160425T005516Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78419#78419">cat</a></td></tr>
<tr d-ix="22"><td>049</td><td>Clojure/ClojureScript</td><td>160425T215752Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78559#78559">MattPutn</a></td></tr>
<tr d-ix="23"><td>071</td><td>C</td><td>160425T062446Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78431#78431">Level Ri</a></td></tr>
<tr d-ix="24"><td>022</td><td>Julia 0.4</td><td>160425T185427Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78529#78529">Dennis</a></td></tr>
<tr d-ix="25"><td>052</td><td>Retina</td><td>160425T011600Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78420#78420">Calculat</a></td></tr>
<tr d-ix="26"><td>101</td><td>R</td><td>160425T160140Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78504#78504">syntonic</a></td></tr>
<tr d-ix="27"><td>037</td><td>REXX</td><td>160425T130217Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78465#78465">aja</a></td></tr>
<tr d-ix="28"><td>033</td><td>Retina</td><td>160425T064522Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78432#78432">Martin E</a></td></tr>
<tr d-ix="29"><td>007</td><td>05AB1E</td><td>160425T075537Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78440#78440">Adnan</a></td></tr>
<tr d-ix="30"><td>068</td><td>Oracle SQL 11.2</td><td>160425T064827Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78433#78433">Jeto</a></td></tr>
<tr d-ix="31"><td>019</td><td>Actually</td><td>160425T053908Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78428#78428">user4594</a></td></tr>
<tr d-ix="32"><td>016</td><td>Jolf</td><td>160425T003641Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78418#78418">Conor O&</a></td></tr>
<tr d-ix="33"><td>035</td><td>Ruby</td><td>160425T001334Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78417#78417">Level Ri</a></td></tr>
<tr d-ix="34"><td>027</td><td>Perl</td><td>160425T000722Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78416#78416">Ton Hosp</a></td></tr>
<tr d-ix="35"><td>059</td><td>JavaScript ES6</td><td>160424T234822Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78415#78415">Neil</a></td></tr>
<tr d-ix="36"><td>044</td><td>Python 2</td><td>160424T233851Z</td><td><a href="https://codegolf.stackexchange.com/questions/78410/watson-crick-palindromes/78414#78414">orlp</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>TI-Basic, 54 bytes</h1>
<pre><code>Input Str1
For(I,1,length(Str1
Ans or inString(&quot;ACA TGT&quot;,sub(Str1,I,1)+sub(Str1,length(Str1)-I+1,1
End
not(Ans
</code></pre>
<p>Takes input as an uppercase string.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/cyoce/J-uby" rel="nofollow noreferrer">J-uby</a>, <s>50</s> <s>33</s> 27 bytes</h1>
<p>Based on <a href="https://codegolf.stackexchange.com/a/78417/11261">Level River St‚Äôs Ruby answer</a>.</p>
<pre class="lang-ruby prettyprint-override"><code>:=~&amp;(~:tr&amp;'ACGT'&amp;'TGCA'|:~)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m700K740qXLBIjfbpaUlaboWu61s69Q06qxKitTUHZ3dQ9TV1EPcnR3Va6zqNCEqbuYVlJYUK7hFqzuGOLs7uzuGqMdywYXckXnuIe4gM5wdnZEFnR1B4igi7sgKHB2dgVa6h4SEgPQpQGxdsABCAwA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://raku.org/" rel="nofollow noreferrer">Raku</a>, 24 bytes</h1>
<pre><code>{TR/ATCG/TAGC/ eq .flip}
</code></pre>
<p><a href="https://tio.run/##FYqxCoNAFAR/ZRFJmetSRWHZ4vVhe0nhQcAQYyoRv/1yV80Mu@u8Lbfy3nHJGMrhR6IVyQwlzF9c8/Jaz/J77uj6CcOII6Ofzg75s@HezgoaDCMcVFgUQmxVGQIpV7Fdl@Zj@QM" rel="nofollow noreferrer" title="Perl 6 ‚Äì Try It Online">Try it online!</a></p>
<p>Straightforward solution.  Translates the characters in the input string to the complementary ones, then compares that to the reverse of the input string.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, <s>17</s> <s>11</s> <s>10</s> 8 bytes</h1>
<pre><code>·πò¬´W·πÅ¬´·∏Çƒø=
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJBIiwiIiwi4bmYwqtX4bmBwqvhuILEvz0iLCIiLCJhdGNnY2dhdFxuYWd0XG5hYWN0Z2NndHR0YWMiXQ=" rel="nofollow noreferrer">Try it Online!</a></p>
<h3>Explained</h3>
<pre><code>·πò¬´W·πÅ¬´·∏Çƒø=
·πò        # Input reverse
 ¬´W·πÅ¬´·∏Çƒø  # Changes DNA and translate with string compression
       = # If original input is equal to the result output 1/0
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Pyth - 10 bytes</h1>
<pre><code>qQ_XQ&quot;ACGT
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=qQ_XQ%22ACGT&amp;test_suite=1&amp;test_suite_input=%22ATCGCGAT%22%0A%22AGT%22%0A%22GTGACGTCAC%22%0A%22GCAGTGA%22%0A%22GCGC%22%0A%22AACTGCGTTTAC%22&amp;debug=1" rel="nofollow noreferrer">Try it online here</a>.</p>
<p>A 9 byte version: <a href="http://pyth.herokuapp.com/?code=q_XQ%22ACGT&amp;test_suite=1&amp;test_suite_input=%22ATCGCGAT%22%0A%22AGT%22%0A%22GTGACGTCAC%22%0A%22GCAGTGA%22%0A%22GCGC%22%0A%22AACTGCGTTTAC%22&amp;debug=1" rel="nofollow noreferrer">Try it online here</a>.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 41 bytes</h1>
<pre><code>BioSequenceComplement@StringReverse@#==#&amp;
</code></pre>
<p>Don't <a href="https://tio.run/##y00syUjNTSzJTE78n2b73ykzPzi1sDQ1LznVOT@3ICc1NzWvxCG4pCgzLz0otSy1qDjVQdnWVlntf5oDkloHJfcQd0dn9xBnR2clff0AoPKS/wA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) ‚Äì Try It Online">Try it online!</a></p>
<p>Takes input as a BioSequence.</p>
<p>Doesn't work on TIO due to it not supporting StringReverse on a BioSequence. Figured it was worth its own post intead of as a comment on the other Mathematica answer because it's significantly simpler and requires new-ish functionality.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 45 bytes</h1>

<pre><code>17-#==Reverse@#&amp;@Mod[ToCharacterCode@#,11,2]&amp;
</code></pre>

<p><a href="https://tio.run/##XYzBCoJAFADvfsWiICVGbJdOwj7e4Z2CiHcTD4tuKGjCunWJvn1bq4N5nRlm0K41g3Zdrf3ZdjdXenncJUVxMQ9jJ6OSVJ3GpuQRW2117YzFsQk4lzI/VKkXeyWiZwyMhAQci03m7N1k2zwSMdAHXHU//QgxARIj4H9JCLNa12G6OgJyoMz8PSzi2SzQq/Jv" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) ‚Äì Try It Online">Try it online!</a></p>

<p>Converts <code>A</code> to <code>10</code>, <code>T</code> to <code>7</code>, <code>C</code> to <code>12</code>, and <code>G</code> to <code>5</code>, by taking the ASCII codes mod 11 with offset 2. Then checks if the resulting list and its reverse add to 17 in each coordinate.</p>
</div>
<div id="pu7" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 19 bytes</h1>

<pre><code>|.-:-&amp;.('+AGCT'i.])
</code></pre>

<p><a href="https://tio.run/##y/r/P81WT6FGT9dKV01PQ13b0d05RD1TL1bzf2pyRr6Cho6RklWaprpjiLO7s7tjiDoXqrA7uoh7iLujs3uIs6MzuoSzI0gOQ9QdXaGjo3MIUDgkJATDDJCM@n8A" rel="nofollow noreferrer" title="J ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1>ùîºùïäùïÑùïöùïü, 13 chars / 17 bytes</h1>

<pre><code>‚üÆ√Øƒ™`ACGT‚Äù‚üØ·¥ô‚âî‚Ö†
</code></pre>

<p><kbd><a href="http://molarmanful.github.io/ESMin/interpreter3.html?eval=false&amp;input=GTGACGTCAC&amp;code=%E2%9F%AE%C3%AF%C4%AA%60ACGT%E2%80%9D%E2%9F%AF%E1%B4%99%E2%89%94%E2%85%A0" rel="nofollow">Try it here (Firefox only).</a></kbd></p>

<h1>Explanation</h1>

<p>Transliterate input from <code>ACGT</code> to <code>TGCA</code> and check if the resulting string is a palindrome.</p>
</div>
<div id="pu9" class="pu"><h1>C#, 65 bytes</h1>

<pre><code>bool F(string s)=&gt;s.SequenceEqual(s.Reverse().Select(x=&gt;"GACT"[("GACT".IndexOf(x)+2)%4]));
</code></pre>

<p>.NET has some fairly long framework method names at times, which doesn't necessarily make for the best code golf framework. In this case, framework method names make up 33 characters out of 90. :)</p>

<p>Based on the modulus trick from elsewhere in the thread:</p>

<pre><code>bool F(string s)=&gt;s.Zip(s.Reverse(),(a,b)=&gt;a%8+b%8).All(x=&gt;x%5==0);
</code></pre>

<p>Now weighs in at 67 characters whereof 13 are method names.</p>

<p>Another minor optimization to shave off a whopping 2 characters:</p>

<pre><code>bool F(string s)=&gt;s.Zip(s.Reverse(),(a,b)=&gt;(a%8+b%8)%5).Sum()&lt;1;
</code></pre>

<p>So, 65 of which 13 are framework names.</p>

<p>Edit:
Omitting some of the limited "boilerplate" from the solution and adding a couple of conditions leaves us with the expression</p>

<pre><code>s.Zip(s.Reverse(),(a,b)=&gt;(a%8+b%8)%5).Sum()
</code></pre>

<p>Which gives 0 if and only if the string s is a valid answer.
As cat points out, "bool F(string s)=>" is actually replacable with "s=>" <em>if</em> it's otherwise clear in the code that the expression is a <code>Func&lt;string,bool&gt;</code>, ie. maps a string to a boolean.</p>
</div>
<div id="pu10" class="pu"><h1>sed, <s>67</s> 61 bytes</h1>

<pre class="lang-bash prettyprint-override"><code>G;H;:1;s/\(.\)\(.*\n\)/\2\1/;t1;y/ACGT/TGCA/;G;s/^\(.*\)\1$/1/;t;c0
</code></pre>

<p>(67 bytes)</p>

<h3>Test</h3>

<pre class="lang-bash prettyprint-override"><code>for line in ATCGCGAT AGT GTGACGTCAC GCAGTGA GCGC AACTGCGTTTAC ACTG
do echo -n "$line "
    sed 'G;H;:1;s/\(.\)\(.*\n\)/\2\1/;t1;y/ACGT/TGCA/;G;s/^\(.*\)\1$/1/;t;c0' &lt;&lt;&lt;"$line"
done
</code></pre>

<h3>Output</h3>

<pre class="lang-none prettyprint-override"><code>ATCGCGAT 1
AGT 0
GTGACGTCAC 1
GCAGTGA 0
GCGC 1
AACTGCGTTTAC 0
ACTG 0
</code></pre>

<hr> 

<p>By using extended regular expressions, the byte count can be reduced to 61.</p>

<pre><code>sed -r 'G;H;:1;s/(.)(.*\n)/\2\1/;t1;y/ACGT/TGCA/;G;s/^(.*)\1$/1/;t;c0'
</code></pre>
</div>
<div id="pu11" class="pu"><h2>Haskell, <s>48</s> 45 bytes</h2>

<pre><code>(==)=&lt;&lt;reverse.map((cycle"TCG_A"!!).fromEnum)
</code></pre>

<p>Usage example: <code>(==)=&lt;&lt;reverse.map((cycle"_T_GA__C"!!).fromEnum) $ "ATCGCGAT"</code>-> <code>True</code>.</p>

<p>A non-pointfree version is</p>

<pre><code>f x = reverse (map h x) == x           -- map h to x, reverse and compare to x
h c = cycle "TCG_A" !! fromEnum c      -- take the ascii-value of c and take the
                                       -- char at this position of string
                                       -- "TCG_ATCG_ATCG_ATCG_A..."
</code></pre>

<p>Edit: @Mathias Dolidon saved 3 bytes. Thanks!</p>
</div>
<div id="pu12" class="pu"><h1><a href="http://github.com/DennisMitchell/jelly" rel="nofollow">Jelly</a>, 9 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow">bytes</a></h1>

<pre><code>O%8¬µ+U5·∏çP
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=TyU4wrUrVTXhuI1Q&amp;input=&amp;args=QVRDR0NHQVQ" rel="nofollow">Try it online!</a> or <a href="http://jelly.tryitonline.net/#code=TyU4wrUrVTXhuI1QCsOH4oKs&amp;input=&amp;args=J0FUQ0dDR0FUJywgJ0FHVCcsICdHVEdBQ0dUQ0FDJywgJ0dDQUdUR0EnLCAnR0NHQycsICdBQUNUR0NHVFRUQUMnLCAnQUNURyc" rel="nofollow">verify all test cases</a>.</p>

<h3>How it works</h3>

<pre><code>O%8¬µ+U5·∏çP  Main link. Argument: S (string)

O          Compute the code points of all characters.
 %8        Compute the residues of division by 8.
           This maps 'ACGT' to [1, 3, 7, 4].
   ¬µ       Begin a new, monadic link. Argument: A (array of residues)
    +U     Add A and A reversed.
      5·∏ç   Test the sums for divisibility by 5.
           Of the sums of all pairs of integers in [1, 3, 7, 4], only 1 + 4 = 5
           and 3 + 7 = 10 are divisible by 5, thus identifying the proper pairings.
        P  Take the product of the resulting Booleans.
</code></pre>
</div>
<div id="pu13" class="pu"><h1>Jolf, 15 Bytes</h1>
<p><a href="http://conorobrien-foxx.github.io/Jolf/#code=PX5BX2nOsyJBR0NUIl_Os2k" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>=~A_iŒ≥&quot;AGCT&quot;_Œ≥i
</code></pre>
<p>Explanation:</p>
<pre><code>   _i            Reverse the input
 ~A_iŒ≥&quot;AGCT&quot;_Œ≥   DNA swap the reversed input
=~A_iŒ≥&quot;AGCT&quot;_Œ≥i  Check if the new string is the same as the original input
</code></pre>
</div>
<div id="pu14" class="pu"><h1>Octave, 52 bytes</h1>

<pre><code>f=@(s) prod(mod((i=mod(toascii(s),8))+flip(i),5)==0)
</code></pre>

<p>Following Denis's trick ... take the ASCII values mod 8, flip and add together; if every sum is a multiple of five, you're golden.</p>
</div>
<div id="pu15" class="pu"><h2><a href="https://github.com/mbuettner/labyrinth" rel="nofollow">Labyrinth</a>, 42 bytes</h2>

<pre><code>_8
,%
;
"}{{+_5
"=    %_!
 = """{
 ;"{" )!
</code></pre>

<p>Terminates with a division-by-zero error (error message on STDERR).</p>

<p><a href="http://labyrinth.tryitonline.net/#code=XzgKLCUKOwoifXt7K181CiI9ICAgICVfIQogPSAiIiJ7CiA7InsiICkh&amp;input=R1RHQUNHVENBQw" rel="nofollow">Try it online!</a></p>

<p>The layout feels really inefficient but I'm just not seeing a way to golf it right now.</p>

<h3>Explanation</h3>

<p>This solution is based on Dennis's arithmetic trick: take all character codes modulo <code>8</code>, add a pair from both ends and make sure it's divisible by <code>5</code>.</p>

<p>Labyrinth primer:</p>

<ul>
<li>Labyrinth has two stacks of arbitrary-precision integers, <em>main</em> and <em>aux</em>(iliary), which are initially filled with an (implicit) infinite amount of zeros.</li>
<li>The source code resembles a maze, where the instruction pointer (IP) follows corridors when it can (even around corners). The code starts at the first valid character in reading order, i.e. in the top left corner in this case. When the IP comes to any form of junction (i.e. several adjacent cells in addition to the one it came from), it will pick a direction based on the top of the main stack. The basic rules are: turn left when negative, keep going ahead when zero, turn right when positive. And when one of these is not possible because there's a wall, then the IP will take the opposite direction. The IP also turns around when hitting dead ends.</li>
<li>Digits are processed by multiplying the top of the main stack by 10 and then adding the digit.</li>
</ul>

<p>The code starts with a small 2x2, clockwise loop, which reads all input modulo 8:</p>

<pre><code>_   Push a 0.
8   Turn into 8.
%   Modulo. The last three commands do nothing on the first iteration
    and will take the last character code modulo 8 on further iterations.
,   Read a character from STDIN or -1 at EOF. At EOF we will leave loop.
</code></pre>

<p>Now <code>;</code> discards the <code>-1</code>. We enter another clockwise loop which moves the top of the main stack (i.e. the last character) down to the bottom:</p>

<pre><code>"   No-op, does nothing.
}   Move top of the stack over to aux. If it was at the bottom of the stack
    this will expose a zero underneath and we leave the loop.
=   Swap top of main with top of aux. The effect of the last two commands
    together is to move the second-to-top stack element from main to aux.
"   No-op.
</code></pre>

<p>Now there's a short linear bit:</p>

<pre><code>{{  Pull two characters from aux to main, i.e. the first and last (remaining)
    characters of the input (mod 8).
+   Add them.
_5  Push 5.
%   Modulo.
</code></pre>

<p>The IP is now at a junction which acts as a branch to test divisibility by 5. If the result of the modulo is non-zero, we know that the input is not a Watson-Crick palindrome and we turn east:</p>

<pre><code>_   Push 0.
!   Print it. The IP hits a dead end and turns around.
_   Push 0.
%   Try to take modulo, but division by zero fails and the program terminates.
</code></pre>

<p>Otherwise, we need to keep checking the rest of the input, so the IP keeps going south. The <code>{</code> pulls over the bottom of the remaining input. If we've exhausted the input, then this will be a <code>0</code> (from the bottom of <em>aux</em>), and the IP continues moving south:</p>

<pre><code>)   Increment 0 to 1.
!   Print it. The IP hits a dead end and turns around.
)   Increment 0 to 1.
{   Pull a zero over from aux, IP keeps moving north.
%   Try to take modulo, but division by zero fails and the program terminates.
</code></pre>

<p>Otherwise, there are more characters in the string to be checked. The IP turns west and moves into the next (clockwise) 2x2 loop which consists largely of no-ops:</p>

<pre><code>"   No-op.
"   No-op.
{   Pull one value over from aux. If it's the bottom of aux, this will be
    zero and the IP will leave the loop eastward.
"   No-op.
</code></pre>

<p>After this loop, we've got the input on the main stack again, except for its first and last character and with a zero on top. The <code>;</code> discards the <code>0</code> and then <code>=</code> swaps the tops of the stacks, but this is just to cancel the first <code>=</code> in the loop, because we're now entering the loop in a different location. Rinse and repeat.</p>
</div>
<div id="pu16" class="pu"><h1>J - 21 bytes</h1>

<pre><code>0=[:+/5|[:(+|.)8|3&amp;u:
</code></pre>

<p>Based on Dennis' method</p>

<h2>Usage</h2>

<pre><code>   f =: 0=[:+/5|[:(+|.)8|3&amp;u:
   f 'ATCGCGAT'
1
   f 'AGT'
0
   f 'GTGACGTCAC'
1
   f 'GCAGTGA'
0
   f 'GCGC'
1
   f 'AACTGCGTTTAC'
0
   f 'ACTG'
0
</code></pre>

<h2>Explanation</h2>

<pre><code>0=[:+/5|[:(+|.)8|3&amp;u:
                 3&amp;u:    - Convert from char to int
               8|        - Residues from division by 8 for each
            |.           - Reverse the list
           +             - Add from the list and its reverse element-wise
        [:               - Cap, compose function
      5|                 - Residues from division by 5 for each
    +/                   - Fold right using addition to create a sum
  [:                     - Cap, compose function
0=                       - Test the sum for equality to zero
</code></pre>
</div>
<div id="pu17" class="pu"><h1>C, 71 bytes</h1>
<p>Requires ASCII codes for the relevant characters, but accepts uppercase, lowercase or mixed-case input.</p>
<pre><code>f(char*s){char*p=s+strlen(s),b=0;for(;*s;b&amp;=6)b|=*--p^*s++^4;return!b;}
</code></pre>
<p>This code maintains two pointers, <code>s</code> and <code>p</code>, traversing the string in opposite directions.  At each step, we compare the corresponding characters, setting <code>b</code> true if they don't match.  The matching is based on XOR of the character values:</p>
<pre><code>'A' ^ 'T' = 10101
'C' ^ 'G' = 00100

'C' ^ 'T' = 10111
'G' ^ 'A' = 00110
'A' ^ 'C' = 00010
'T' ^ 'G' = 10011
 x  ^  x  = 00000
</code></pre>
<p>We can see in the above table that we want to record success for <code>xx10x</code> and failure for anything else, so we XOR with <code>00100</code> (four) and mask with <code>00110</code> (six) to get zero for <code>AT</code> or <code>CG</code> and non-zero otherwise.  Finally, we return true if all the pairs accumulated a zero result in <code>b</code>, false otherwise.</p>
<h2>Test program:</h2>
<pre class="lang-c prettyprint-override"><code>#include &lt;stdio.h&gt;
int main(int argc, char **argv)
{
    while (*++argv)
        printf(&quot;%s = %s\n&quot;, *argv, f(*argv)?&quot;true&quot;:&quot;false&quot;);
}
</code></pre>
</div>
<div id="pu18" class="pu"><h1>R, 70 bytes</h1>

<pre><code>f=function(x)all(chartr("GCTA","CGAT",y&lt;-strsplit(x,"")[[1]])==rev(y))
</code></pre>

<p>Usage:</p>

<pre><code>&gt; f=function(x)all(chartr("GCTA","CGAT",y&lt;-strsplit(x,"")[[1]])==rev(y))
&gt; f("GTGACGTCAC")
[1] TRUE
&gt; f("AACTGCGTTTAC")
[1] FALSE
&gt; f("AGT")
[1] FALSE
&gt; f("ATCGCGAT")
[1] TRUE
</code></pre>
</div>
<div id="pu19" class="pu"><h1>Bash + coreutils, <s>43</s> 32 bytes</h1>

<pre class="lang-sh prettyprint-override"><code>[ `tr ATCG TAGC&lt;&lt;&lt;$1|rev` = $1 ]
</code></pre>

<h3>Tests:</h3>

<pre class="lang-sh prettyprint-override"><code>for i in ATCGCGAT AGT GTGACGTCAC GCAGTGA GCGC AACTGCGTTTAC; do ./78410.sh $i &amp;&amp; echo $i = true || echo $i = false; done
ATCGCGAT = true
AGT = false
GTGACGTCAC = true
GCAGTGA = false
GCGC = true
AACTGCGTTTAC = false
</code></pre>
</div>
<div id="pu20" class="pu"><h1>Julia, <s>47</s> 38 bytes</h1>



<pre class="lang-default prettyprint-override"><code>s-&gt;((x=map(Int,s)%8)+reverse(x))%5‚äÜ0
</code></pre>

<p>This is an anonymous function that accepts a <code>Char</code> array and returns a boolean. To call it, assign it to a variable.</p>

<p>This uses Dennis' algorithm, which is shorter than the na√Øve solution. We get the remainder of each code point divided by 8, add that to itself reversed, get the remainders from division by 5, and check whether all are 0. The last step is accomplished using <code>‚äÜ</code>, the infix version of <code>issubset</code>, which casts both arguments to <code>Set</code> before checking. This means that <code>[0,0,0]</code> is declared a subset of <code>0</code>, since <code>Set([0,0,0]) == Set(0)</code>. This is shorter than an explicit check against 0.</p>

<p><a href="http://julia.tryitonline.net/#code=Zj1zLT4oKHg9bWFwKEludCxzKSU4KStyZXZlcnNlKHgpKSU14oqGMAoKZm9yIHRlc3QgaW4gKCJBVENHQ0dBVCIsICJBR1QiLCAiR1RHQUNHVENBQyIsICJHQ0FHVEdBIiwgIkdDR0MiLCAiQUFDVEdDR1RUVEFDIikKICAgIHByaW50bG4oZihbdGVzdC4uLl0pKQplbmQ&amp;input=" rel="nofollow">Try it online!</a></p>

<p>Saved 9 bytes thanks to Dennis!</p>
</div>
<div id="pu21" class="pu"><h1><a href="http://factorcode.org" rel="nofollow noreferrer">Factor</a>, 72 bytes</h1>
<p>Unfortunately regex can't help me here.</p>
<pre><code>[ dup reverse [ { { 67 71 } { 65 84 } { 71 67 } { 84 65 } } at ] map = ]
</code></pre>
<p>Reverse, lookup table, compare equal.</p>
</div>
<div id="pu22" class="pu"><h1>Clojure/ClojureScript, 49 chars</h1>

<pre><code>#(=(list* %)(map(zipmap"ATCG""TAGC")(reverse %)))
</code></pre>

<p>Works on strings.  If the requirements are loosened to allow lists, I can take off the <code>(list* )</code> and save 7 chars.</p>
</div>
<div id="pu23" class="pu"><h1>C,71</h1>
<pre><code>r,e;f(char*s){for(r=0,e=strlen(s)+1;*s;s++)r|=*s*s[e-=2]%5^2;return!r;}
</code></pre>
<p>2 bytes saved by Dennis. Additional 2 bytes saved by adapting for lowercase input: constants <code>37</code> and <code>21</code> are revised to <code>5</code> and <code>2</code>.</p>
<h1>C,75</h1>
<pre><code>i,j;f(char*s){for(i=j=0;s[i];i++)j|=s[i]*s[strlen(s)-i-1]%37!=21;return!j;}
</code></pre>
<p>Saved one byte: Eliminated parenthesis by taking the product of the two ASCII codes mod 37. The valid pairs evaluate to 21. Assumes uppercase input.</p>
<h1>C,76</h1>
<pre><code>i,j;f(char*s){for(i=j=0;s[i];i++)j|=(s[i]+s[strlen(s)-i-1])%11!=6;return!j;}
</code></pre>
<p>Uses the fact that ASCII codes of the valid pairs sum to 138 or 149. When taken mod 11, these are the only pairs that sum to 6. Assumes uppercase input.</p>
<p><strong>ungolfed in test program</strong></p>
<pre><code>i,j;

f(char *s){
   for(i=j=0;s[i];i++)                  //initialize i and j to 0; iterate i through the string
     j|=(s[i]+s[strlen(s)-i-1])%11!=6;  //add characters at i from each end of string, take result mod 11. If not 6, set j to 1
return!j;}                              //return not j (true if mismatch NOT detected.)

main(){
  printf(&quot;%d\n&quot;, f(&quot;ATCGCGAT&quot;));
  printf(&quot;%d\n&quot;, f(&quot;AGT&quot;));
  printf(&quot;%d\n&quot;, f(&quot;GTGACGTCAC&quot;));
  printf(&quot;%d\n&quot;, f(&quot;GCAGTGA&quot;));
  printf(&quot;%d\n&quot;, f(&quot;GCGC&quot;));
  printf(&quot;%d\n&quot;, f(&quot;AACTGCGTTTAC&quot;));
} 
</code></pre>
</div>
<div id="pu24" class="pu"><h1>Julia 0.4, 22 bytes</h1>

<pre><code>s-&gt;s$reverse(s)‚äÜ""
</code></pre>

<p>The string contains the control characters EOT (4) and NAK (21). Input must be in form of a character array.</p>

<p>This approach XORs the characters of the input with the corresponding characters in the reversed input. For valid pairings, this results in the characters EOT or NAK. Testing for inclusion in the string of those characters produces the desired Boolean.</p>

<p><a href="http://julia.tryitonline.net/#code=ZiA9IHMtPnMkcmV2ZXJzZShzKeKKhiIEFSIKCmZvciBzIGluICgiQVRDR0NHQVQiLCAiQUdUIiwgIkdUR0FDR1RDQUMiLCAiR0NBR1RHQSIsICJHQ0dDIiwgIkFBQ1RHQ0dUVFRBQyIsICJBQ1RHIikKICAgIHByaW50bG4oZihbcy4uLl0pKQplbmQ&amp;input=" rel="nofollow">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1>Retina, 52 bytes</h1>
<pre><code>^G(.*)C$
$1
^A(.*)T$
$1
^T(.*)A$
$1
}`^C(.*)G$
$1
^$
</code></pre>
</div>
<div id="pu26" class="pu"><h1>R, 101 bytes</h1>
<pre><code>g=function(x){y=unlist(strsplit(x,&quot;&quot;));all(sapply(rev(y),switch,&quot;C&quot;=&quot;G&quot;,&quot;G&quot;=&quot;C&quot;,&quot;A&quot;=&quot;T&quot;,&quot;T&quot;=&quot;A&quot;)==y)}
</code></pre>
<h3>Test Cases</h3>
<pre><code>g(&quot;ATCGCGAT&quot;)
[1] TRUE
g(&quot;AGT&quot;)
[1] FALSE
g(&quot;GTGACGTCAC&quot;)
[1] TRUE
g(&quot;GCAGTGA&quot;)
[1] FALSE
g(&quot;GCGC&quot;)
[1] TRUE
g(&quot;AACTGCGTTTAC&quot;)
[1] FALSE
g(&quot;ACTG&quot;)
[1] FALSE
</code></pre>
</div>
<div id="pu27" class="pu"><p><strong>REXX</strong> 37</p>

<pre><code>s='ATCGCGAT';say s=translate(reverse(s),'ATCG','TAGC')
</code></pre>
</div>
<div id="pu28" class="pu"><h2><a href="https://github.com/mbuettner/retina" rel="nofollow">Retina</a>, <s>34</s> 33 bytes</h2>

<pre><code>$
;$_
T`ACGT`Ro`;.+
+`(.);\1
;
^;
</code></pre>

<p><a href="http://retina.tryitonline.net/#code=JShHYAokCjskXwpUYEFDR1RgUm9gOy4rCitgKC4pO1wxCjsKXjs&amp;input=R0NHQwpBVENHQ0dBVApHVEdBQ0dUQ0FDCkFHVApHQ0FHVEdBCkFDVEcKQUFDVEdDR1RUVEFD" rel="nofollow">Try it online!</a> (Slightly modified to run all test cases at once.)</p>

<h3>Explanation</h3>

<pre><code>$
;$_
</code></pre>

<p>Duplicate the input by matching the end of the string and inserting a <code>;</code> followed by the entire input.</p>

<pre><code>T`ACGT`Ro`;.+
</code></pre>

<p>Match only the second half of the input with <code>;.+</code> and perform the substitution of pairs with a transliteration. As for the target set <code>Ro</code>: <code>o</code> references the <em>other</em> set, that is <code>o</code> is replaced with <code>ACGT</code>. But <code>R</code> reverses this set, so the two sets are actually:</p>

<pre><code>ACGT
TGCA
</code></pre>

<p>If the input is a DNA palindrome, we will now have the input followed by its reverse (separated by <code>;</code>).</p>

<pre><code>+`(.);\1
;
</code></pre>

<p>Repeatedly (<code>+</code>) remove a pair of identical characters around the <code>;</code>. This will either continue until only the <code>;</code> is left or until the two characters around the <code>;</code> are no longer identical, which would mean that the strings aren't the reverse of each other.</p>

<pre><code>^;
</code></pre>

<p>Check whether the first character is <code>;</code> and print <code>0</code> or <code>1</code> accordingly.</p>
</div>
<div id="pu29" class="pu"><h1><a href="http://github.com/Adriandmen/05AB1E">05AB1E</a>, <s>10</s> 7 bytes</h1>

<h3>Code:</h3>

<pre><code>√Ç'≈°√ó√Ç‚Ä°Q
</code></pre>

<h3>Explanation:</h3>

<p>To check if a string is a palindrome, we just need to check the input with the input, with <code>at</code> swapped and <code>cg</code> swapped and then reverse it. So that is what we are going to do. We push the input and the input reversed using <code>√Ç</code> (bifurcate). Now comes a tricky part. <code>'≈°√ó</code> is the compressed version for <code>creating</code>. If we reverse it, you can see why it's in the code:</p>

<pre><code>CreATinG
|  ||  |
GniTAerC
</code></pre>

<p>This will be used to transliterate the reversed input. Transliteration is done with <code>‚Ä°</code>. After that, we just check if the input and the transliterated input are e<code>Q</code>ual and print that value. So this is how the stack looks like for input <code>actg</code> :</p>

<pre><code>√Ç          # ["actg", "gtca"]
 '≈°√ó       # ["actg", "gtca", "creating"]
    √Ç      # ["actg", "gtca", "creating", "gnitaerc"]
     ‚Ä°     # ["actg", "cagt"]
      Q    # [0]
</code></pre>

<p>Which can also be seen with the debug flag (<a href="http://05ab1e.tryitonline.net/#code=w4InxaHDl8OC4oChUQ&amp;input=Z3RnYWNndGNhYw&amp;args=LWQ">Try it here</a>).</p>

<p>Uses <strong>CP-1252</strong> encoding. <a href="http://05ab1e.tryitonline.net/#code=w4InxaHDl8OC4oChUQ&amp;input=Z3RnYWNndGNhYw">Try it online!</a>.</p>
</div>
<div id="pu30" class="pu"><h1>Oracle SQL 11.2, 68 bytes</h1>

<pre class="lang-sql prettyprint-override"><code>SELECT DECODE(TRANSLATE(REVERSE(:1),'ATCG','TAGC'),:1,1,0)FROM DUAL; 
</code></pre>
</div>
<div id="pu31" class="pu"><h2>Actually, 19 bytes</h2>
<pre><code>O`8@%`M;RZ`5@Œ£%Y`MœÄ
</code></pre>
<p>This uses <a href="https://codegolf.stackexchange.com/a/78413/45941">Dennis's algorithm</a>.</p>
<p><a href="http://actually.tryitonline.net/#code=T2A4QCVgTTtSWmA1QM6jJVlgTc-A&amp;input=J0FUQ0dDR0FUJw" rel="nofollow noreferrer">Try it online!</a></p>
<p>Explanation:</p>
<pre><code>O`8@%`M;RZ`5@Œ£%Y`MœÄ
O                    push an array containing the Unicode code points of the input
 `8@%`M              modulo each code point by 8
       ;RZ           zip with reverse
          `5@Œ£%Y`M   test sum for divisibility by 5
                  œÄ  product
</code></pre>
</div>
<div id="pu32" class="pu"><h1>Jolf, 16 bytes</h1>

<p><a href="http://conorobrien-foxx.github.io/Jolf/#code=cGUraX5Bac6zIkdBVEMiX86z" rel="nofollow">Try it here!</a></p>

<pre><code>pe+i~AiŒ≥"GATC"_Œ≥
</code></pre>

<h2>Explanation</h2>

<pre><code>pe+i~AiŒ≥"GATC"_Œ≥
    ~AiŒ≥"GATC"_Œ≥  perform DNA transformation
  +i              i + (^)
pe                is a palindrome
</code></pre>
</div>
<div id="pu33" class="pu"><h1>Ruby, 35</h1>
<p>I tried other ways, but the obvious way was the shortest:</p>
<pre><code>-&gt;s{s.tr('ACGT','TGCA').reverse==s}
</code></pre>
<p><strong>in test program</strong></p>
<pre><code>f=-&gt;s{s.tr('ACGT','TGCA').reverse==s}

puts f['ATCGCGAT']
puts f['AGT']
puts f['GTGACGTCAC']
puts f['GCAGTGA']
puts f['GCGC']
puts f['AACTGCGTTTAC'] 
</code></pre>
</div>
<div id="pu34" class="pu"><h1>Perl, 27 bytes</h1>

<p>Includes +2 for <code>-lp</code></p>

<p>Give input on STDIN, prints 1 or nothing:</p>

<pre><code>dnapalin.pl &lt;&lt;&lt; ATCGCGAT
</code></pre>

<p><code>dnapalin.pl</code>:</p>

<pre><code>#!/usr/bin/perl -lp
$_=y/ATCG/TAGC/r=~reverse
</code></pre>

<p>Replace <code>$_=</code> by <code>$_+=</code> to get <code>0</code> instead of empty for the false case</p>
</div>
<div id="pu35" class="pu"><h2>JavaScript (ES6), 59 bytes</h2>

<pre><code>f=s=&gt;!s||/^(A.*T|C.*G|G.*C|T.*A)$/.test(s)&amp;f(s.slice(1,-1))
</code></pre>

<p>Best I could do without using Regexp was 62 bytes:</p>

<pre><code>f=s=&gt;!s||parseInt(s[0]+s.slice(-1),33)%32%7&lt;1&amp;f(s.slice(1,-1))
</code></pre>
</div>
<div id="pu36" class="pu"><h1>Python 2, <strike>56</strike> <strike>45</strike> 44 bytes</h1>
<pre><code>lambda s:s==s[::-1].translate(&quot;_T_GA__C&quot;*32)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/78410/">78410</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




