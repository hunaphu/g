<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::278614</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>044</td><td>05AB1E</td><td>250312T090414Z</td><td><a href="https://codegolf.stackexchange.com/questions/278614/aaaaaaaaaaaa-expressions/278616#278616">Kevin Cr</a></td></tr>
<tr d-ix="1"><td>146</td><td>JavaScript ES7</td><td>250312T084104Z</td><td><a href="https://codegolf.stackexchange.com/questions/278614/aaaaaaaaaaaa-expressions/278615#278615">Arnauld</a></td></tr>
<tr d-ix="2"><td>098</td><td>Charcoal</td><td>250312T101819Z</td><td><a href="https://codegolf.stackexchange.com/questions/278614/aaaaaaaaaaaa-expressions/278618#278618">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>54</s> <s>52</s> 44 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ðì•9X':;üÞVb•…,A ÅвJ•ZΩнG•S£&quot;^&amp;*α+0132&quot;S:R.V
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//8IbDax41LLKMULeyPrzn8LywJCDvUcMyHUeFw60XNnkBeVHnVl7Y6w5kBB9arBSnpnVuo7aBobGRUrBVkF7Y//@OQKCjgCAVUFgKIKQDJ6FSEAEFR7gyJCUKjjACoRtMAwA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##rVi9ihNRFO7nKQ4pVtBhWbUyW4RbLVhuIIiFYMDCykIQAluk0QfYB9hiBUGwUGttnD7kGfIicTImzr3nfudnfpawzJ25P@fnO98597x7/3r59s3@5sNqNqHdp1uazFb76nv1bbe@f/biwfSy@lXdLZb1aLf@UgaqPm5/Pq9HLzdft7@v6of5n8@TV2cPNz8eXTx@@mQyn16fL/blPtR/RQgUQkmHZ2p@7aD@2Hxu/jVvKRnScdJxTfTy35dk89P649NpanSwKEQ0nQtyGFEmD0XyhGRlrAwUpEgPa2eXkWKejbDJJEsJOpAgDSWnlcTtoTpEkVlZd/okuYlkSx1FQ04RbR0d34pT5EhIX2d7Rye3UzIg@fAXvwR69zJsKxJXT3gLti/42/AfnplgBvKYmXxnkqQF/sac0e4pR1EOFGuDoV6GdtJBxrEPmAovhjYzI1iNxI5ck/s8CS4SXMYGimnJjKBEJ5FG@jIQ4L0MVdSJoqyZ@lmFhzTICKROgQomYpp3BSa3p@JR4Lp@7gVAZKmd@mc3nlYzt@WnweqgXU/jxI0bbDbl4iJqDL@grB0FXmIBLf5GZjYRn4jToNYeQggcctAQtjyx7g4TSFwDED8gJ4J4yiHuomazhiEkq5aN1VCXSdsgKy0noHoAejtBvlE3@njcSm65As7aqkfFKoI4j3QpzkdJBIPLBfleyaGgw0xKDkFNDkNJ18E48HYMAMcYTfVfwUi434UwL52Hbgd7AA4oprdEGbyCvdR4QNnDk1IMYunCU4VC3DoKupGXZl/rcofz6LBUozURiLtaK6rUbkQUg3Yi6mQOf@k3Zs2ggA/hk6nlR6SOLUc/BTulnVYo/CiSYrdcj/OQmTb9nU/yO4OSxp9UB7pqpVHDEHU/nI2o3o1Kp9sdBZqznHHGn0Ae6uFGP5eG9nONW1BP5RwXnSGxbxrDzUPkl0VqGcF7918" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>ðì            # Prepend a space to the (implicit) input-string
•9X':;üÞVb•  '# Push compressed integer 163244455251778732342
 …,A Åв       # Convert it to custom-base &quot;,A &quot;,
              # aka, convert to base-3 and index into &quot;,A &quot;
       J      # Join this character-list together to a string:
              #  &quot;AAAA, AA AAA, AAA, AA AA, AA A,AAAAAAAAA AA&quot;
•ZΩнG•        # Push compressed integer 585764341
      S       # Convert it to a list of digits
       £      # Split the earlier string into parts of these sizes:
              #  [&quot;AAAA,&quot;,&quot; AA AAA,&quot;,&quot; AAA,&quot;,&quot; AA AA,&quot;,&quot; AA A,&quot;,&quot;AAAA&quot;,&quot;AAA&quot;,&quot;AA A&quot;,&quot;A&quot;]
&quot;^&amp;*α+0132&quot;   # Push string &quot;^&amp;*α+0132&quot;
           S  # Convert it to a list of characters
            : # Replace the earlier substrings to these characters
R             # Reverse the entire string
 .V           # Evaluate it as 05AB1E code
              # (after which the result is output implicitly)
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/166851/52210">See this 05AB1E tip of mine (section <em>How to compress large integers?</em>)</a> to understand why <code>•9X':;üÞVb•</code> is <code>163244455251778732342</code> and <code>•ZΩнG•</code> is <code>585764341</code>.</p>
</div>
<div id="pu1" class="pu"><h1>JavaScript (ES7), 146 bytes</h1>
<pre class="lang-javascript prettyprint-override"><code>s=&gt;s.replace(/(AA )?A+(,)?/g,(s,P,S)=&gt;x=[&quot;32_10+-&amp;*^&quot;[s.length+4*!P-4*!S],...x],x=[])&amp;x.map(o=&gt;x.push(v=1/o?o:(eval(x.pop()+o+x.pop())**2)**.5))|v
</code></pre>
<p><a href="https://tio.run/##rVjNcpswEL7zFKoPCdiEgAD/pEMyHNpzZnxM3Y7HIYk71LjgZNJp@wad6aXH9j36PHmBPoIrsDFCWglhOz82SCvtavfbH@3H6dM0m6Xz5epskdxG67tgnQWXmZVGy3g6i/RzPQyRcRX2dNO4Or839cy8NsdGcPkc3HRc/MGxe2cn3fedm8yKo8X96qHndV9dn5GP8cS0LOt5YhLKiXHybH2aLvWELLSWj9mD/hQ458lVcqFHT9NYJ4PJUjd6SW/7ZHS7mPxbvmF8e1qn0efHeRrpnbusYxDZprdv53E0/rKY6bZhrZLxKp0v7nXDypbxfKV33i0I2V2SvpnOHvQMBZfoq4ZQHK3QDcpWqYmi52U0W0W3aIIClJXLcsKOYRLS/CeNyEp0p5MFxmsyNksWWRJHVpzc6/lcD3XIbw8VL0FQ7XmFTv/9/fny@xf5PEUX6PTlz49Tg@zx3ViH5CdnY2vkOwxNVAwUf9VLSZF/4YIwf3KLp4IIlWPebgztFuZj4XZsN7OZLub7NOtyu@1TSU@JJRFxQHFCvHDFtElNVTIOKbmpRdtXxNDAwpU0tUOSsVG1zqTOvtvXsRs25g7CrQAUy5@xWoV4IR2H0QCixaSJyg0kFnVw04kaV5cEQnOLdVoKixnc1chqZ3drFqIEolSR03kaD6/dpK@JuW1J@hqjEBMBSG1COb0NNQXoZj8TVCDZij2oHbs@Vwc8yKpGVme3m0MhJ3ADphklNvAf0fwRf0Zsa7BRGArGeBUXsd8CgMMOEBLRMbBB7SzRohymGNeVBQdT7EnxDlM1Rg5MJxCJ77eNfZwckAtjn40DlG2YF6kRfC6jQR5aO6U4lO0ZBQtB@kAc5hGpGCa53WT0co713aRJtckth1qbQODaEnIYkswSqcuX5EjR9oCR9wRCztkB4MvWMQfkZRcDJQJnYJ5nWS5ivg6inPQonue67SAqQ1axVz3QiKPxAVbz4dRIubHbZzMkknrzseOnEMm5bAMoZoJ6UAoy7oAtbsSqUZSN1oaCUkRRDPCTQzK1K7hO8C6hlAaaazCaoWJCBiyB@DKist2oXeiTZSGoYgFRUOetUhUrZgt5avVsDT6MYlW4R1UuBrqHuXqSL5OPF7I8zBVpe5cvkuu6B13L5FAUJh/P1UJWTMbTDtaKp6nFLLgD4cEVKutjng9XI0KyAy/SNcwPj7Ypd/qhpPSG0ttWopEC8EXalHmUb4tuNypJzMeaQsjyPU2Wc@AizPc0SaqQY8dXbhyo2aDp2ivieniik7Zp/AFXp0og0LzdiPFrhWTYSkF9p1XRetRKJmc/kICVhs/QkfQF1BE8sptRqNC9gk1WkW06nvXimlsEdkm5KKdWj1SLgdTYmNVbNLrVrOXQbTtToZZVq/GcqlN2LG@G9m7XCNy/1eziFgDZrFBp7iiWYoqeDDSiVX2oqVl/iO4EBQ/UVdzzqLIM7fTtdobYsw3eJrQ5Q4Xmj8IFHu5LbLrQw/8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Method</h3>
<p>We first split the input string into tokens, using the following regular expression:</p>
<pre><code>/(AA )?A+(,)?/g
 \___/ \/\_/
   |    | '--&gt; S = optional suffix \
   |    '----&gt; main part            |--&gt; s = full match
   '---------&gt; P = optional prefix /
</code></pre>
<p>We turn each token into an integer in the range <span class="math-container">\$[0\dots9]\$</span> by applying the formula:</p>
<pre class="lang-javascript prettyprint-override"><code>s.length + 4 * !P - 4 * !S
</code></pre>
<p>We translate this integer back into an output token, which is either a digit or a JS operator.</p>
<p>This gives:</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th>Input token</th>
<th style="text-align: center;">N=length</th>
<th style="text-align: center;">!P</th>
<th style="text-align: center;">!S</th>
<th style="text-align: center;">N+4*!P-4*!S</th>
<th style="text-align: center;">Output token</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>AAAA</code></td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;"><code>0</code></td>
</tr>
<tr>
<td><code>AAA</code></td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;"><code>1</code></td>
</tr>
<tr>
<td><code>A</code></td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;"><code>2</code></td>
</tr>
<tr>
<td><code>AA A</code></td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;"><code>3</code></td>
</tr>
<tr>
<td><code>AA A,</code></td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;"><code>+</code></td>
</tr>
<tr>
<td><code>AA AA,</code></td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;"><code>-</code></td>
</tr>
<tr>
<td><code>AAA,</code></td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;"><code>*</code></td>
</tr>
<tr>
<td><code>AA AAA,</code></td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;"><code>&amp;</code></td>
</tr>
<tr>
<td><code>AAAA,</code></td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;"><code>^</code></td>
</tr>
</tbody>
</table></div>
<p>We store these tokens in reverse order in an array <code>x[]</code> and iterate on this array to evaluate the expression:</p>
<pre class="lang-javascript prettyprint-override"><code>x.map(o =&gt;          // for each value o in x[]:
  x.push(           //   push in x[] (reused as a stack):
    v =             //     store in v
    1 / o ?         //     if o is a digit:
      o             //       use o
    :               //     else (o is an operator):
      (             //
        eval(       //       evaluate:
          x.pop() + //         the 1st operand
          o +       //         followed by the operator
          x.pop()   //         followed by the 2nd operand
        ) ** 2      //       compute the absolute value
      ) ** .5       //       (this is shorter than Math.abs())
  )                 //   end of push()
)                   // end of map()
| v                 // return the last result
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 98 bytes</h1>
<pre><code>Ｆ⮌⪪⪫⪪⪫⪪Ｓ×A³,,¦AA ¦,¦ ≡ι,A,⊞υ⁺⊟υ⊟υ,AA,⊞υ↔⁻⊟υ⊟υ,,,⊞υ×⊟υ⊟υ,,,,⊞υ＆⊟υ⊟υ,,A,⊞υ⁻Σ…⮌υ²＆⊟υ⊟υ⊞υ﹪⌕⪫,A⪫,,ιA⁴Ｉυ
</code></pre>
<p><a href="https://tio.run/##fVHBToQwEL3zFRNO06Re1JN7qiQmmpgQ8QcQutKk2xLa7sYYvx2nICysyqVvpn3vdfKmasqusqXu@73tAF/kUXZOYtFq5fHJKvO7fDRt8IXvlHlHxuFVHaTDVKQcbhj1KedpBCFgwLGjmjFwJ@WrBlAx@Eyq0kl6Fjy9gzy4BgOHXAeHuW0xkGhExnYzdcUVb87q4CU@K/OH6izjS9U47r9frMn3yp@Uk8LUG4rVUOMsRThg9lFpmTVEn0KN8usY0YYt@dZyXwbtF562DtrigyL@sAdKgtL@KTmVaghexKRvo8VXktN6PGal89F21/e0DooPLmEoIs7NuRtp03FxOdOX1xwmAYfJevOvpL866m8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｆ⮌⪪⪫⪪⪫⪪Ｓ×A³,,¦AA ¦,¦ ≡ι
</code></pre>
<p>Take the input string, replace <code>AAA</code> with <code>,,</code> and <code>AA </code> with <code>,</code>, then split on spaces and switch over the tokens in reverse order.</p>
<pre><code>,A,⊞υ⁺⊟υ⊟υ
</code></pre>
<p><code>AA A,</code> becomes <code>,A,</code>; <code>Plus</code> the top two elements of the stack.</p>
<pre><code>,AA,⊞υ↔⁻⊟υ⊟υ
</code></pre>
<p><code>AA AA,</code> becomes <code>,AA,</code>; <code>Absolute Minus</code> the top two elements of the stack.</p>
<pre><code>,,,⊞υ×⊟υ⊟υ
</code></pre>
<p><code>AAA,</code> becomes <code>,,,</code>; <code>Times</code> the top two elements of the stack.</p>
<pre><code>,,,,⊞υ＆⊟υ⊟υ
</code></pre>
<p><code>AA AAA,</code> becomes <code>,,,,</code>; <code>BitwiseAnd</code> the top two elements of the stack.</p>
<pre><code>,,A,⊞υ⁻Σ…⮌υ²＆⊟υ⊟υ
</code></pre>
<p><code>AAAA,</code> becomes <code>,,A,</code>, which has to be emulated as Charcoal does not have the XOR operator.</p>
<pre><code>⊞υ﹪⌕⪫,A⪫,,ιA⁴
</code></pre>
<p>Otherwise, work out the value of the constant and push that to the stack.</p>
<pre><code>Ｉυ
</code></pre>
<p>Output the final value on the stack.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/278614/">278614</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




