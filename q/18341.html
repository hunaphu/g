<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::18341</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>092</td><td>Mathematica</td><td>140113T034305Z</td><td><a href="https://codegolf.stackexchange.com/questions/18341/produce-a-palindrome-from-this-text/18345#18345">DavidC</a></td></tr>
<tr d-ix="1"><td>014</td><td>Python</td><td>140113T034921Z</td><td><a href="https://codegolf.stackexchange.com/questions/18341/produce-a-palindrome-from-this-text/18346#18346">boothby</a></td></tr>
<tr d-ix="2"><td>107</td><td>Python</td><td>140113T053217Z</td><td><a href="https://codegolf.stackexchange.com/questions/18341/produce-a-palindrome-from-this-text/18354#18354">ashastra</a></td></tr>
<tr d-ix="3"><td>082</td><td>Python 2.7</td><td>140113T052805Z</td><td><a href="https://codegolf.stackexchange.com/questions/18341/produce-a-palindrome-from-this-text/18353#18353">user8777</a></td></tr>
<tr d-ix="4"><td>078</td><td>Ruby</td><td>140113T035302Z</td><td><a href="https://codegolf.stackexchange.com/questions/18341/produce-a-palindrome-from-this-text/18347#18347">Paul Pre</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Mathematica <s>146</s> 92 chars (score 2130/92 = 23.15)</h1>
<h2>Shorter Version (92 chars)</h2>
<p>This palindrome has the characters grouped,</p>
<pre><code>&quot;&quot;&lt;&gt;{s=({#[[1]],Length@#~Quotient~2}&amp;/@ Gather@Characters@t)
/.{c_,n_}:&gt;c~Table~{n},Reverse@s}
</code></pre>
<hr />
<h2>Longer Version (146 chars)</h2>
<p>This will return a maximum length, randomized palindrome from t.
Because capital letters are equivalent to lowercase letters, I converted all capitals to lower case.  (This can be changed if necessary.)</p>
<pre><code>f@t_ := &quot;&quot; &lt;&gt; Join[s = RandomSample[ Flatten[({#[[1]], Quotient[Length[#], 2]} &amp; /@ 
     Gather[Characters@ToLowerCase@t]) /. {c_, n_} :&gt; ConstantArray[c, n]]], Reverse@s]
</code></pre>
<p><strong>Example</strong>:</p>
<p>When <code>t</code> is the suggested, Lorem ipsum, text.  (Ignore line returns; all line returns were generated via the SE editor.)</p>
<blockquote>
<p>&quot;ti,iopexri  rpiuu opaat tismimetnesa lvuot oiaiu oaaittcoar nc
muapua elhpibemu utin ia f  ihide sdourgeeic e  oaasa.marsae dstircd
ci ndn   rs t egoaiq.aeatntreusng xi a lumalnoiieqqeq cc otiueasniieu
nrpupdlmnai o cdsm t gt.iccmittli i t tu.rust.li maui bea gqiceeo
pncu eonttecvtutqun eaaariusoquppsedlqu scrddmt esiafidurs  hitlpna
nlamltire ivmumbabi nbuderup td x uuualsoq.eiib li olel ru aeelau<br />
idbc lrop iil ssur anda o scnmsr ,m uri,teo
esmiaveuomrt ldqqaid ihi snsr   spueeoevcre oe
msirulaleaisormm.oicolarsstteo td aatncn ieqrsuam boid te utcf eccp
siacu m etnqutlacniiereltiulqemltaqx a
qtdlxmliibileoheesimittlusqemooamuiippeaiilcgudsatfsiemamsc irn
rsgoi, ie
nmteiaiiptraned alsomsui noru ic,mditi ic ouud oadmv iudinrfuludet
eeiidueel nndaemcrepnioe sials unetuamconn,i
ubpo eiu ei dsn equi,ue ostmp udiatqu dalmau nueeiit ln e mioancteop
ntiiao ts noeefubtefrit ldeop earnmsm oas<br />
d.catirotulvliodiellmesurotiomsmduia.nauenb iuiroimduriohs.lrndsaroc
t inidrssq apeuionnlaa eqdroounosmotidr arxr o taouarut  ussce uamae
is.dcadaimuoaprad iifl  i  lmml  i  lfii darpaoumiadacd.si eamau
ecssu  turauoat o rxra rditomsonuoordqe aalnnoiuepa qssrdini t
corasdnrl.shoirudmioriui bneuan.aiudmsmoitorusemlleidoilvlutoritac.d<br />
sao msmnrae poedl tirfetbufeeon st oaiitn poetcnaoim e nl tiieeun
uamlad uqtaidu pmtso eu,iuqe nsd ie uie opbu
i,nnocmautenu slais eoinpercmeadnn leeudiiee tedulufrnidui vmdao duuo
ci itidm,ci uron iusmosla denartpiiaietmn
ei ,iogsr nri
csmameisftasdugcliiaeppiiumaoomeqsulttimiseehoelibiilmxldtq a
xqatlmeqluitlereiincaltuqnte m ucais pcce fctu et diob mausrqei
ncntaa dt oettssralocio.mmrosiaelalurism eo ercveoeeups   rsns ihi
diaqqdl trmouevaimse
oet,iru m, rsmncs o adna russ lii porl cbdi  ualeea ur lelo il
biie.qoslauuu x dt puredubn ibabmumvi eritlmaln anpltih  srudifaise
tmddrcs uqldesppuqosuiraaae nuqtutvcettnoe ucnp oeeciqg aeb iuam
il.tsur.ut t i ilttimcci.tg t msdc o ianmldpuprn  ueiinsaeuito cc
qeqqeiionlamul a ix gnsuertntaea.qiaoge t sr   ndn ic dcritsd
easram.asaao  e cieegruods edihi  f ai nitu umebiphle aupaum cn
raocttiaao uiaio touvl asentemimsit taapo uuipr  irxepoi,it&quot;</p>
</blockquote>
</div>
<div id="pu1" class="pu"><h2>Python, 1/4</h2>

<p>A single character is a palindrome, so...</p>

<pre><code>s[0]
</code></pre>

<p>presuming the target text is stored in <code>s</code>.</p>
</div>
<div id="pu2" class="pu"><h2>Python, 107</h2>

<pre><code>s="""Lorem ipsum dolor sit amet, consectetur adipisicing elit, hic a sunt odio eius culpa labore. vero vero possimus irure quidem est saepe ut do quis excepturi incididunt. magna eveniet nisi enim quidem distinctio.

Ullam saepe officiis consequatur, provident soluta blanditiis sunt possimus minima impedit corporis voluptatibus occaecat distinctio mollitia, commodo et. Facilis autem cum dolor dignissimos magna modi nisi labore animi incididunt numquam quam voluptatem optio tempor provident fugiat ullam. Consequat tempora numquam minim tempore eius perferendis ullamco labore corporis officiis. Saepe deserunt a asperiores rerum quis excepteur odio voluptatibus ducimus itaque.

Qui nam provident corrupti sunt velit est laboris. Delectus tempora possimus quas cillum exercitation debitis cupidatat omnis voluptatibus. A dignissimos saepe repellat nostrum quaerat rerum molestias, alias dolorum provident fuga repellat sed, esse cum illum culpa animi. Placeat atque necessitatibus nostrud saepe maxime cupiditate, impedit elit iure hic.

Excepturi id numquam odio aliquam maiores, expedita eveniet. Repellendus eos voluptates quaerat excepteur sunt velit consectetur vel eius ad voluptatem corporis cillum tempore incidunt molestiae. Atque tempora, duis vero, tempore et sint nostrud molestiae laboris eligendi maxime nam reprehenderit.

Fugiat anim commodo sed incidunt, et aut, labore corrupti velit incididunt quaerat. Aliquam saepe minima sunt minima eos, nobis, eu delectus itaque optio consequatur voluptatibus delectus ex sapiente deserunt dolor. Optio doloribus officiis ducimus dolores.

Voluptas commodo cupidatat molestiae tempora quia consequatur. Repellendus ea rerum exercitationem, odio voluptatem ullam perferendis ea animi deleniti deleniti quaerat magnam repellat voluptates. Obcaecati aut exercitation dolore nisi eos."""

import itertools
t=''.join(''.join(list(g[1])[1::2]) for g in itertools.groupby(sorted(s)))
print t+t[::-1]
</code></pre>

<p><code>itertools.groupby(sorted(s))</code> groups identical characters. <code>list(g[1])[1::2]</code> takes each group and cuts it in half, rounding down for odd-length groups. It then joins the lists together and prints the resulting string concatenated with its reverse. Could be improved in a number of ways, as already demonstrated by others.</p>
</div>
<div id="pu3" class="pu"><h2>Python 2.7 - 82</h2>

<p>Takes an input, converts it all to lower case, 
makes an array with half (rounded down) of each character,
then prints that out concatenated to itself in reverse.</p>

<p>Worst case scenario, it outputs an empty string if every character is unique.</p>

<pre><code>L=raw_input().lower()
o=[x*(L.count(x)/2)for x in set(L)]
print''.join(o+o[::-1])
</code></pre>
</div>
<div id="pu4" class="pu"><h2>Ruby, 78 chars</h2>

<p>Reads from standard input.</p>

<pre class="lang-ruby prettyprint-override"><code>s=gets.downcase.chars.group_by{|c|c}.map{|k,v|k*(v.size/2)}*''
$&gt;&lt;&lt;s+s.reverse
</code></pre>

<p>For example, passing the text from @LegoStormtrooper's first comment on the question:</p>

<pre><code>What if the text isn't symmetric? For example, the text of this comment in this question can't be palindromed as it has more than one letter that occurs an odd number of times, hence it can be flipped without duplicating a letter.
</code></pre>

<p>The program will return this:</p>

<pre><code>whhhhhaaaaaattttttttttttt                    iiiiiiiffeeeeeeeeeeexssssnnnnnn'mmmmrrrrccccooooopplll,uubddddddbuu,lllppoooooccccrrrrmmmm'nnnnnnssssxeeeeeeeeeeeffiiiiiii                    tttttttttttttaaaaaahhhhhw
</code></pre>

<p>If you don't want the punctuation at all (on re-reading the question it sounds like you only want letters and spaces) this will work (87 chars):</p>

<pre class="lang-ruby prettyprint-override"><code>s=gets.downcase.scan(/[a-z ]/).group_by{|c|c}.map{|k,v|k*(v.size/2)}*''
$&gt;&lt;&lt;s+s.reverse
</code></pre>

<p>Which returns:</p>

<pre><code>whhhhhaaaaaattttttttttttt                    iiiiiiiffeeeeeeeeeeexssssnnnnnnmmmmrrrrccccoooooppllluubddddddbuulllppoooooccccrrrrmmmmnnnnnnssssxeeeeeeeeeeeffiiiiiii                    tttttttttttttaaaaaahhhhhw
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/18341/">18341</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




