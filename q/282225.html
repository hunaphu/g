<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::282225</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>521</td><td>JavaScript Node.js</td><td>250616T110529Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282300#282300">Chris De</a></td></tr>
<tr d-ix="1"><td>112</td><td>Mathematica</td><td>250616T105058Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282298#282298">Chris De</a></td></tr>
<tr d-ix="2"><td>057</td><td>Python 3</td><td>250614T233617Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282272#282272">Lucenapo</a></td></tr>
<tr d-ix="3"><td>051</td><td>Ruby</td><td>250611T025325Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282244#282244">Value In</a></td></tr>
<tr d-ix="4"><td>036</td><td>Uiua</td><td>250611T104539Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282249#282249">Maki</a></td></tr>
<tr d-ix="5"><td>nan</td><td>Commodore 64 Assembler</td><td>250611T092810Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282247#282247">Jani Joe</a></td></tr>
<tr d-ix="6"><td>051</td><td>JavaScript Node.js</td><td>250610T114037Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282234#282234">l4m2</a></td></tr>
<tr d-ix="7"><td>009</td><td>Jelly</td><td>250611T013410Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282242#282242">Jonathan</a></td></tr>
<tr d-ix="8"><td>020</td><td>K ngn/k</td><td>250610T183746Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282240#282240">att</a></td></tr>
<tr d-ix="9"><td>070</td><td>Haskell</td><td>250610T151214Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282237#282237">Ibozz91</a></td></tr>
<tr d-ix="10"><td>023</td><td>Charcoal</td><td>250610T060356Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282228#282228">Neil</a></td></tr>
<tr d-ix="11"><td>071</td><td>JavaScript ES6</td><td>250610T100447Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282233#282233">Arnauld</a></td></tr>
<tr d-ix="12"><td>010</td><td>05AB1E</td><td>250610T084554Z</td><td><a href="https://codegolf.stackexchange.com/questions/282225/number-of-intersections-between-all-ranges/282231#282231">Kevin Cr</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 521 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>function c(p) {
&#9;function s(v) {
&#9;&#9;let r = [];
&#9;&#9;for (let i = 0; i &lt; v.length; i++) {
&#9;&#9;&#9;for (let j = i + 1; j &lt; v.length; j++) {
&#9;&#9;&#9;&#9;r.push([v[i], v[j]]);
&#9;&#9;&#9;}
&#9;&#9;}
&#9;&#9;return r;
&#9;}

&#9;function t(q) {
&#9;&#9;let [a, b] = q;
&#9;&#9;return (
&#9;&#9;&#9;(a[0] &lt;= b[0] &amp;&amp; b[0] &lt;= a[1]) ||
&#9;&#9;&#9; (a[1] &lt;= a[0] &amp;&amp; a[0] &lt;= b[1])
&#9;&#9;);
&#9;}

&#9;let u = s(p).map(k =&gt; k.sort((x, y) =&gt; x[0] - y[0] || x[1] - y[1]));
&#9;return [...new Set(u.filter(t).map(JSON.stringify))].length;
}

const p = [[4, 4], [1, 9], [8, 7], [7, 9], [7, 8], [3, 0]];
console.log(c(p));
</code></pre>
<p><a href="https://tio.run/##TVFBbsIwEDwnr9gTskWwiIpUqkAf0EN74Gj5EKgDDqkTHCcFNbw93W0o4WCNZzS7s9rN0zatd85UfmbLT933WWN33pQWdqzi8BMGd6Fm7Z8QFNqDgzVIlSDLSgeMJIPSPEFYQSsKbff@gGw6HYpGX44@A1OIE/w@evO7N3CiauoDk600KoJW5kpxCguu4fCc9o2z4FC8hg9DenYah5RpBFuFcadkLGHUhqVyrmC1hi3hZDIg8lTGikPXkQkYsUEdXGMVutDCb/EU1mBOjTsTX2nFjrB@haOoS@cZO0dw4SScqXwGF4KuQxoPFJtRp9uAUghh9TdstGeNyEzhtWN@6Pu2@XgXtXfG7k124Vz9Ly/EMXalrT1UdBm5iGCBm5NxBC@EywieCZ9vHHFJ@BTBXOEdqbYstCjKPaPL86TvfwE" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>This finds 15 unique intersecting pairs in agreement with <a href="https://codegolf.stackexchange.com/a/282298">my Mathematica answer</a>.</p>
</div>
<div id="pu1" class="pu"><p>Mathematica 112 characters</p>
<pre><code>p = {{4, 4}, {1, 9}, {8, 7}, {7, 9}, {7, 8}, {3, 0}};

Length[Select[{##,
     Or[#1[[1]] &lt;= #2[[1]] &lt;= #1[[2]],
      #1[[2]] &lt;= #1[[1]] &lt;= #2[[2]]]} &amp; @@@
   Union[Sort /@ Subsets[p, {2}]], Last]]
</code></pre>
<blockquote>
<p>15</p>
</blockquote>
<p>These are the 15 unique intersecting pairs for the above case.</p>
<pre><code>{{1,9},{3,0}}
{{1,9},{4,4}}
{{1,9},{7,8}}
{{1,9},{7,9}}
{{1,9},{8,7}}
{{3,0},{4,4}}
{{3,0},{7,8}}
{{3,0},{7,9}}
{{3,0},{8,7}}
{{4,4},{7,8}}
{{4,4},{7,9}}
{{4,4},{8,7}}
{{7,8},{7,9}}
{{7,8},{8,7}}
{{7,9},{8,7}}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 57 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda x:-len(x)/2-sum((b&lt;c)-.5for a,b in x for c,d in x)
</code></pre>
<p><a href="https://tio.run/##dU@7DoMwDNzzFRltEUqhYkFk4DsoQ3gEkCCgAFKQ@u80QbSd6sHW3cnn87yv3aQeR8ufxyDGshbUJP7QKDAYRP6yjQBlWqF/i@WkqWAl7RU11IGK1SfAQ@pppFqo2o5@nCe9nqhXK1u6TcqhIRnPC@K2jNuxattAGGNCqC3H7z/eeOEluOrlxwzuzAqZx2FnBhm5vCFDIvk3vcucg0h5lfISX2CHBTX@zV@w62EMgojM2l2S1pS1tuHxBg" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Takes input as <code>[[1,2],[3,4],[5,6]]</code>.</p>
<h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 52 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda x,y:sum(.5-(b&lt;c)for b in y for c in[1e999]+x)
</code></pre>
<p><a href="https://tio.run/##TU/LbsMgELzzFRx35U0Tt8rBkTn4O4gP@IFjycYWcSSQ@u8O0KTtXnZnRgwzq99ui/naB3HdJzU3neKO/OX@mOHjfICmbFEvljd8NNzzeLbhlHlfFEWdOdy1XWZulenCGud1sVtCo9nofntoPfWsErJm8amLLkEdesjPeGE8TOT9H@@y/CXEGfXbDE4UhCoT4MkhsZc3VMi0eAdPsSWoUrSlaPAbwgqgSxUUpRLupwR1CdR0mHoDDvF4/GSrjT/pYEoDSCdP9W/qqqZA5P8JxP0J" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Takes input as <code>[1,3,5],[2,4,6]</code>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>69</s> 51 bytes</h1>
<p>-18 bytes from G B.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a{a.sum{|i,j|a.count{[*i..j]&amp;[*_1.._2]!=[]}-1}/2}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kqDSpcsGiNNulpSVpuhY3jXXtEqsT9YpLc6trMnWyahL1kvNL80qqo7Uy9fSyYtWiteIN9fTijWIVbaNja3UNa_WNaqFalQoU0vSSE3NyFKKjDXWMYnWiTXXMgKShjimQNNExj42FqFywAEIDAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a{
    a.sum{|i,j|                 # For each interval, get value and sum
      a.count{                  #   Count all intervals where
        [*i..j]&amp;[*_1.._2]!=[]   #     The two intervals have some overlap
      }-1                       #   Account for interval comparing to itself
    }/2                         # Account for all pairs being counted twice
}
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.uiua.org" rel="nofollow noreferrer">Uiua</a>, <s>50</s> <s>44</s> <s>42</s> <s>41</s> <s>37</s> 36 bytes</h1>
<pre><code>/+/+×⊞⊃(&gt;∩□|⊢≤⇌).⍆
</code></pre>
<p><a href="https://uiua.org/pad?src=0_17_0-dev_1__W1sxIDJdIFs1IDZdIFsxIDVdIFs0IDddXQoKLysvK8OX4oqe4oqDKD7iiKnilqF84oqi4omk4oeMKS7ijYYK" rel="nofollow noreferrer">Try it here!</a></p>
<p>Uiua is read right-to-left.
First we sort the list of input pairs lexicographically with <code>⍆</code>.</p>
<p>Then we duplicate that list <code>.</code> and build two tables in parallel <code>⊞⊃</code>, using the carthesian product of the copies. In the first table <code>&gt;∩□</code>, the upper right triangle (without the diagonal) is 1, and the rest is 0</p>
<p>The second becomes a table of all intersections <code>⊢≤⇌</code>, which gives 0 for no intersection and 1 for intersection, using the knowledge the list is already sorted to skip the L1 &lt;= L2 check.</p>
<p>Finally, we multiply these tables element by element with <code>×</code>, which is equivalent to a boolean and, and sum up all the 1s with <code>/+/+</code> to get the final result.</p>
<p>Note: <code>/+♭</code> would be shorter in characters, but is longer in bytes using UTF-8</p>
</div>
<div id="pu5" class="pu"><h1>Commodore 64 Assembler, 39 Bytes (6502/KickAssembler)</h1>
<p>According to the author: &quot;You may write a full program <strong>or a function</strong>. Input is the array <strong>in any reasonable form</strong>&quot;. I interpreted this so that only the size of the routine (function) itself counts, and it doesn't really matter how the input array is passed to the routine.</p>
<p>Thus for convenience, I made a test program where the array is just a list of bytes and gets compiled with the program itself. There would have been other options to input the array (create a separate routine to read user input, read from screen, read from a file etc.) but as the point is just to prove that the routine itself works, this was the easiest solution that required least effort.</p>
<h2>Explanation</h2>
<ul>
<li>Usage: Set the byte pairs (i.e. array elements) on the <code>array</code>. Values from 1 to 255 are allowed, zero (null terminator) is reserved for telling the routine where the array ends. Compile and run.</li>
<li>The routine starts by comparing array element 1 with elements 2 to n. After those comparisons are done, it compares element 2 with elements 3 to n and so on, until it reaches the end of the array. This guarantees that each comparison is unique.</li>
<li>For each element pair, code checks if the element 1 ends before element 2 starts (no overlap), or if element 2 ends before element 1 starts (no overlap). If neither comparison is true, the elements must overlap and the intersections count is incremented.</li>
<li>Routine could have been 4 bytes shorter (memory address $2 is already zeroed on system start and X is already zeroed on program start), however to respect the thought of the code needing to represent a standalone function that can be called by anything from anywhere, as many times as one wishes, and always provide the same result, I do reset both X (1st array element pointer) and address $2 (intersections count) at the start of the routine.</li>
</ul>
<h2>Complete Test Program</h2>
<pre><code>BasicUpstart2(start)    // Basic program to help us run our machine language
                        // routine with RUN, without typing in a SYS command

start:  ldx #0          // Reset [L1,R1] array element pointer
        stx $2          // Reset intersections count on zero page
inc_1:  inx             // Increase [L1,R1] array element pointer
        inx             // (starts from first element)
        txa             // Copy [L1,R1] array element pointer...
        tay             // ...to [L2,R2] pointer
inc_2:  iny             // Increase [L2,R2] array element pointer
        iny             // (starts from element after [L1,R1])
        lda array-1,x   // Load R1 to A
        beq print       // [0,0] indicates end of array - we're done
        cmp array-2,y   // Compare to L2
        bcc inc_2       // If R1 ends before L2 starts, no overlap
        lda array-1,y   // Load R2 to A
        beq inc_1       // If [L2,R2] = [0,0], a round is done
        cmp array-2,x   // Compare to L1
        bcc inc_2       // If R2 ends before L1 starts, no overlap
        inc $2          // Otherwise, there must be overlap - increase count
        bcs inc_2       // Continue to next comparison (branch always taken)
print:  ldx $2          // Load number of intersections to X
        jmp $bdcf       // Call ROM routine to print it out in decimal

.print &quot;ROUTINE SIZE: &quot; + toIntString(*-start)

array:  .by 1,2,5,6,1,5,4,7
        .by 0,0         // Null termination of the array
</code></pre>
<h2>Routine Breakdown</h2>
<pre><code>start:  ldx #0          // Reset [L1,R1] array element pointer
        stx $2          // Reset intersections count on zero page
</code></pre>
<p>Resetting the 1st element pointer (held in X) and intersections count on zero page address $2 on every run of the routine. Intersections count is kept on zero page to be able to use an 8bit address instead of 16bit address when referring to it, thus saving a couple bytes in the routine.</p>
<pre><code>inc_1:  inx             // Increase [L1,R1] array element pointer
        inx             // (starts from first element)
        txa             // Copy [L1,R1] array element pointer...
        tay             // ...to [L2,R2] pointer
</code></pre>
<p><code>inc_1</code> is what we could call an outer loop, where we increase the 1st array element pointer and reset the 2nd element pointer to prepare for inner loop. Pointers will actually point one element too deep into the array, but we'll correct the offset later when accessing the array.</p>
<pre><code>inc_2:  iny             // Increase [L2,R2] array element pointer
        iny             // (starts from element after [L1,R1])
</code></pre>
<p>In the inner loop, as the first thing increment 2nd array element pointer. This guarantees that an element is never compared to itself.</p>
<pre><code>        lda array-1,x   // Load R1 to A
        beq print       // [0,0] indicates end of array - we're done
        cmp array-2,y   // Compare to L2
        bcc inc_2       // If R1 ends before L2 starts, no overlap
</code></pre>
<p>First comparison (<code>lda</code> and <code>cmp</code>): Does 1st element end before 2nd element starts? If so, there cannot be any overlap - <code>bcc</code> will branch to beginning of inner loop. Even before comparison,<code>beq</code> checks if 1st element is already a null element, and if so, whole array is processed and we can branch to printing the result.</p>
<pre><code>        lda array-1,y   // Load R2 to A
        beq inc_1       // If [L2,R2] = [0,0], a round is done
        cmp array-2,x   // Compare to L1
        bcc inc_2       // If R2 ends before L1 starts, no overlap
</code></pre>
<p>Second comparison: Does second element end before first element starts?  If so, there cannot be any overlap - <code>bcc</code> will branch to beginning of inner loop. Even before comparison,<code>beq</code> checks if 2nd element is already a null element, and if so, we've compared 1st element to all subsequent elements in array and can exit to the outer loop to increase 1st element pointer.</p>
<pre><code>        inc $2          // Otherwise, there must be overlap - increase count
        bcs inc_2       // Continue to next comparison (branch always taken)
</code></pre>
<p>If both comparisons were false, the elements must overlap, thus increase the intersections count and continue the inner loop.</p>
<pre><code>print:  ldx $2          // Load number of intersections to X
        jmp $bdcf       // Call ROM routine to print it out in decimal
</code></pre>
<p>If we've reached this far, whole array is processed - print out the total number of intersections with a ROM routine. After it is done, the ROM routine does an <code>rts</code> (return to system), thus ending the execution of our whole routine (and in this case, returning to BASIC prompt).</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 51 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.map(a=&gt;x.map(b=&gt;r-=a[1]&lt;b[0]||-1,r--),r=0)|r/2
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/Z9m@7/C1q5CLzexQCMRxkiytSvStU2MNoy1SYo2iK2p0TXUKdLV1dQpsjXQrCnSN/qfnJ9XnJ@TqpeTn66RphEdbahjFKsTbapjFhurqcmFXdZQxxSPrImOOVZZkJm49UJkcekF6cInC3OzDqrK/wA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>By default each ordered pair(including self to self) score 1, reduce 2 for every segment pair A,B s.t. A is on left of B, reduce 1 for each segment(self pairs)</p>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 61 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=([e,...x],c=0)=&gt;e&amp;&amp;x.map(t=&gt;c+=t[0]&gt;e[1]^t[1]&gt;=e[0])|f(x,c)
</code></pre>
<p><a href="https://tio.run/##DcfRCsIwDEDRvxkNxrKK06f0R0IGpaaizHW4In3Yv9fC5cB9h1/Y4/e1lfOaH9oS9QwrWmurYKQRyOswVPsJmynk44kKj@KVncyl40n7w5FMxQgt5nXPi9olP00yzA4vgjzhretw6l7xLgLQ/g" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Note: Last <code>map</code> operation returns an array of a single number, which is or'ed with undefined</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>r/€Œcf/ƇL
</code></pre>
<p>A monadic Link that accepts a list of pairs of integers and yields the number of overlapping pairs.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/79I/1HTmqOTktP0j7X7/P//PzraUEfBKFZHIdpUR8EMRAP5piDaREfBPDYWAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h4>How?</h4>
<pre><code>r/€Œcf/ƇL - Link: list of pairs of integers
  €       - for each pair:
 /        -   reduce by:
r         -     inclusive range
   Œc     - unordered pairs of those ranges
       Ƈ  - keep those for which:
      /   -   reduce by:
     f    -     filter keep
        L - length
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 20 bytes</h1>
<pre><code>+/&gt;/&amp;{~x&gt;,\y}/+.1&lt;:\
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxLs9LWt9NXq66rsNOJqazV19YztLGK4eJK0zBUMLI2VTCzNlQwtTZRMNeEChkpGAO5ppoAlVIMqQ==" rel="nofollow noreferrer">Try it online!</a></p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/282231">Kevin Cruijssen's approach</a>.</p>
<pre><code>               .1&lt;:\    sort
     {~x&gt;,\y}/+         l_i ≤ r_j for i≥j
+/&gt;/&amp;                   count
  &gt;/                              for i&gt;j
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 70 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>f a=div(sum[1|(w,x)&lt;-a,(y,z)&lt;-a,(w&lt;=y&amp;&amp;y&lt;=x)||(y&lt;=w&amp;&amp;w&lt;=z)]-length a)2
</code></pre>
<p><a href="https://tio.run/##JYhBCoMwEEX3PcUsSpiBcRGp7SY5ibgIqDU0pkVtYyR3TwO@xXufP5n1NTiX8whG9/aH63duZcLAO6nKMEY@zhGUjkJEpXdKCUuDEOU7qKvc4J/bBIbqPBvrQUP/vsDJZ7F@u47QouSaGBu@F0tuim/8oC7/AQ" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Takes in a list of tuples.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>24</s> 23 bytes</h1>
<pre><code>ＩΣ⭆θ⭆Ｅ…θκ⟦ιλ⟧¬›§⌈λ⁰§⌊λ¹
</code></pre>
<p><a href="https://tio.run/##RUxBCsIwEPxKjltYwYrVgyfpQTwoQo8hhxCDDaaJxlXq6@NGpC4MszPDjOl1MlH7nE/JBYJWPwi65wAdsb4c9A3uKP6ioH0bb9s@fqNrhUI6FF7xc4wEu2Q12QRb2oezHbkxuoEHPedzxuS7MPl19btNzlLKGsVC8WyDYlWYdVN4iWKtlMqzl/8A" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>   θ                    Input array
  ⭆                     Map over elements and join
       θ                Input array
      …                 Truncated to length
        κ               Current index
     Ｅ                  Map over elements
         ⟦ιλ⟧           Pair outer and inner element
    ⭆                   Map over pairs and join
               §⌈λ⁰     Lower end of upper range
             ¬›         Is less than or equal to
                   §⌊λ¹ Upper end of lower range
 Σ                      Count the `1`s
Ｉ                       Cast to string
                        Implicitly print
</code></pre>
<p>Edit: Saved 1 byte by porting @KevinCruijssen's approach of just checking the ends of the maximum and minimum range.</p>
</div>
<div id="pu11" class="pu"><h1>JavaScript (ES6), 71 bytes</h1>
<p>Very basic.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map(([b,c],i)=&gt;a.map(([d,e],j)=&gt;n+=i&lt;j&amp;!(b&gt;d|d&gt;c&amp;&amp;d&gt;b|b&gt;e)),n=0)|n
</code></pre>
<p><a href="https://tio.run/##Rci9DsIgEADgZ3EhXDyb1lhd5F6E3MBfDaRCY40T707ZXL7hS@ZndveJ2/eSiw9tUc0oMsPbbFJqi44xwj88BsbUI59VfCZxkpZ89eSE8GSrpQCAWY1Qc3Ml72UNw1pecpFaT3hl1DPeuxPO3Rs@mAHaAQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 10 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>.Æʒ{`R@θ}g
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f9f73DbqUnVCUEO53bUpv//Hx1tqGMUqxNtqmMGJA11TIGkiY55bCwA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<p>Instead of checking both <span class="math-container">\$L1 \leq L2 \leq R1\$</span> and <span class="math-container">\$L2 \leq L1 \leq R2\$</span> with a logical OR in between them, I first sort the pair of pairs based on the <span class="math-container">\$L\$</span>s:</p>
<ol>
<li>If <span class="math-container">\$L1&lt;L2\$</span> → <span class="math-container">\$[[L1,R1],[L2,R2]]\$</span> remains unchanged</li>
<li>If <span class="math-container">\$L2&lt;L1\$</span> → <span class="math-container">\$[[L1,R1],[L2,R2]]\$</span> becomes <span class="math-container">\$[[L2,R2],[L1,R1]]\$</span></li>
<li>If <span class="math-container">\$L1=L2\$</span> → Sort based on the <span class="math-container">\$R\$</span>s, so could becomes either</li>
</ol>
<p>After which I can simply check for <span class="math-container">\$l2 \leq r1\$</span>.</p>

<pre class="lang-python prettyprint-override"><code>.Æ       # Get all 2-element combinations of the (implicit) input-list
  ʒ      # Filter this list of pairs of pairs by:
   {     #  Sort the pair of pairs based on the first elements
         #  (aka, sort [[L1,R1],[L2,R2]] based on just the L1 &amp; L2)
         #   let's call this sorted pair [[l1,r1],[l2,r2]]
    `    #  Pop and push both pairs separated to the stack
         #   → [l1,r1] and [l2,r2]
     R   #  Reverse the top/second pair
         #   → [l1,r1] and [r2,l2]
      @  #  Do an &gt;= check
         #   → [l1&gt;=r2,r1&gt;=l2]
       θ #  Pop and leave the last check of the pair
         #   → r1&gt;=l2
  }g     # After the filter: pop and push the length
         # (which is output implicitly as result)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/282225/">282225</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




