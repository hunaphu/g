<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::266256</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>152</td><td>Python</td><td>231114T132321Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266732#266732">Ondrej S</a></td></tr>
<tr d-ix="1"><td>168</td><td>POSIX shell</td><td>231031T024042Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266367#266367">gildux</a></td></tr>
<tr d-ix="2"><td>126</td><td>Pure Zsh</td><td>231031T133828Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266385#266385">GammaFun</a></td></tr>
<tr d-ix="3"><td>083</td><td>Bash and GNU Date</td><td>231028T161456Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266286#266286">Toby Spe</a></td></tr>
<tr d-ix="4"><td>129</td><td>JavaScript ES6</td><td>231027T154035Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266262#266262">Arnauld</a></td></tr>
<tr d-ix="5"><td>143</td><td>C#</td><td>231101T144215Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266404#266404">Acer</a></td></tr>
<tr d-ix="6"><td>102</td><td>Ruby</td><td>231029T132918Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266307#266307">AZTECCO</a></td></tr>
<tr d-ix="7"><td>250</td><td>C gcc</td><td>231031T054159Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266370#266370">AShelly</a></td></tr>
<tr d-ix="8"><td>096</td><td>bash and BSD date</td><td>231030T223853Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266356#266356">gildux</a></td></tr>
<tr d-ix="9"><td>076</td><td>Google Sheets / Microsoft Excel</td><td>231031T110356Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266379#266379">doubleun</a></td></tr>
<tr d-ix="10"><td>234</td><td>Go</td><td>231030T180449Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266351#266351">bigyihsu</a></td></tr>
<tr d-ix="11"><td>055</td><td>PHP</td><td>231030T161254Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266340#266340">Kaddath</a></td></tr>
<tr d-ix="12"><td>066</td><td>APLDyalog Unicode</td><td>231030T125934Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266327#266327">Razetime</a></td></tr>
<tr d-ix="13"><td>118</td><td>PowerShell Core</td><td>231030T014909Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266314#266314">Julian</a></td></tr>
<tr d-ix="14"><td>104</td><td>Vyxal</td><td>231027T213210Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266275#266275">math sca</a></td></tr>
<tr d-ix="15"><td>136</td><td>Charcoal</td><td>231027T154112Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266263#266263">Neil</a></td></tr>
<tr d-ix="16"><td>129</td><td>Python</td><td>231027T221306Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266277#266277">corvus_1</a></td></tr>
<tr d-ix="17"><td>110</td><td>Factor + math.text.english</td><td>231027T214534Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266276#266276">chunes</a></td></tr>
<tr d-ix="18"><td>153</td><td>Python3</td><td>231027T150546Z</td><td><a href="https://codegolf.stackexchange.com/questions/266256/last-week-day-of-the-month/266260#266260">Ajax1234</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 152 bytes</h1>
<p>Since there is already multiple python answers I've tried to use the calendar library since I never used it before.
It just uses the fact that the object monthcalendar gives weeks of the month and days of those weeks as a 2d array -&gt;then just a check for highest number in the first 5 days of last week.</p>
<pre class="lang-python prettyprint-override"><code>from calendar import *
def f(y,m,d=31,s=&quot;st&quot;):
 if d in monthcalendar(y, m)[-1][:5]:
  print(day_name[weekday(y,m,d)],str(d)+s)
 else: f(y,m,d-1,s=&quot;th&quot;)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TU9LCoMwFNx7ioerpI3QKEIVvECvIFJCk1SpSSRJKd6k0I2b9k69Tf1Cl_Nm3nxen673tdHD8L57GR2_T2mNggtrhebMQqM6Yz3sAi4kSNQTRXiRUOKK0PkQ5wE0Ejg0GpTRvt7-RiEoXEa0KvO0GlXQ2UZ7xFl_1kyJ8iHEbQSLIa6I8xZxvHc4ANE6kW9Z0Rzl6xCv_U7SWBipKbKcNBjmy4Qt01eBaJalJD7E8cKoP4bQBE9tZvPVcVv-Aw" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1>POSIX shell, 168 bytes</h1>
<p>Not the shortest possible with the shell, but it doesn't use any bashism and is funny (see explanation bellow.)</p>
<pre class="lang-sh prettyprint-override"><code>cal $@|tail -2|awk 'NF&gt;1{split(&quot;S Mon Tues Wednes Thurs Fri&quot;,d)
a=6;if(NF==1){b=$1-2}else if(NF==7){b=$6}else{a=NF;b=$NF}
print d[a]&quot;day&quot;,(b==31)?b&quot;st&quot;:b&quot;th&quot;}'|tail -1
</code></pre>
<p>With the following limitations:</p>
<ul>
<li>months are given as integer only, not strings (January or jan for example)</li>
<li>separator is changed from slash to blanks (i.e. <code>1 2043</code> instead of <code>1/2043</code>) which is natural shell arguments separator</li>
</ul>
<h3>Explanation</h3>
<p>We can use the POSIX <a href="https://manpages.ubuntu.com/manpages/jammy/man1/cal.1posix.html" rel="nofollow noreferrer"><code>cal</code></a> to visually catch the last weekday.</p>
<pre><code>$ # for February 2017
$ cal 2 2017
   February 2017      
Su Mo Tu We Th Fr Sa  
          1  2  3  4  
 5  6  7  8  9 10 11  
12 13 14 15 16 17 18  
19 20 21 22 23 24 25  
26 27 28              
                      
</code></pre>
<p>The last week is on the visually shown last line (but there's an extra blank line), so with POSIX <a href="https://manpages.ubuntu.com/manpages/jammy/man1/tail.1posix.html" rel="nofollow noreferrer"><code>tail</code></a> (for golfing purpose, <code>tail -n -2</code> is shorten <code>tail -2</code>)</p>
<pre><code>$ # last week of February 2017
$  cal 2 2017 | tail -n -2
26 27 28              
                      
</code></pre>
<p>Finally we should pick the last day… Because the column position vary, <a href="https://manpages.ubuntu.com/manpages/jammy/man1/awk.1posix.html" rel="nofollow noreferrer"><code>awk</code></a> is a better candidate than <a href="https://manpages.ubuntu.com/manpages/jammy/man1/cut.1posix.html" rel="nofollow noreferrer"><code>cut</code></a> here (But one can prefer <code>perl</code> or some other scripting langage, but I'm trying to use commands that should be always available), hence the following script:</p>
<pre><code>BEGIN  { # on start, create array of days names 
         split(&quot;Su Mo Tu We Th Fr Sa&quot;, d)
       }
NF &gt; 1 { # on filled line, print last column name and value
         print d[NF],$NF
      }
</code></pre>
<p>If the script is put in file <code>LastDay.awk</code>, our chaining become:</p>
<pre><code>$ # last day of February 2017
$  cal 2 2017 | tail -n -2 | awk -f LastDay.awk
Tu 28              
</code></pre>
<p>However, note that the first column is Sunday, and we need to deal with boundaries. The modification is:</p>
<pre><code>BEGIN  { # on start, create array of days names 
         split(&quot;S Mo Tu We Th&quot;, d)
       }
NF &gt; 1 { # check last column
         if (NF==7) {
           print &quot;Fr&quot;,$6 # Saturday: we read the previous field
         } else if (NF==1) {
           print &quot;Fr&quot;,($1-2) # Sunday: we count two days less
         } else {
           print d[NF],$NF # Week-Day: pick column name and value
         }
      }
</code></pre>
<p>For golfing purpose,</p>
<ul>
<li>I try to use ternary operator (which is an expression that expects three other expressions) without success</li>
<li>Initial array creation is not done in <code>BEGIN</code> but each time, and rule is evaluate in any case…</li>
<li>Replace <code>$1 $2</code> with <code>$@</code> (thanks Toby Speight for the comment) and remove extra spaces</li>
</ul>
<p>But, in order to comply with the output requirements, we have to add more characters for days.</p>
<pre><code>NF &gt; 1 { split(&quot;S Mon Tues Wednes Thurs Fri&quot;, d)
         if (NF==7) { # sat
           print d[6] &quot;day&quot;,$6
         } else if (NF==1) { # sun
           print d[6] &quot;day&quot;,($1-2)
         } else { # non w-e
           print d[NF] &quot;day&quot;,$NF
         }
      }
</code></pre>
<p>For compliance, we have to deal with ordinals too. To avoid repeating ourself many times, let's opt for assignments and put formatting at end.</p>
<pre><code>NF &gt; 1 { split(&quot;S Mon Tues Wednes Thurs Fri&quot;, d)
         if (NF==7) { # sat
           a=d[6]
           b=$6
         } else if (NF==1) { # sun
           a=d[6]
           b=($1-2)
         } else { # non w-e
           a=d[NF]
           b=$NF
         }
         print a &quot;day&quot;, (b==31)?b&quot;st&quot;:b&quot;th&quot;
      }
</code></pre>
<h3>Addendum</h3>
<p>Well, <code>cal 12 2001</code> shows that there wasn't simply a blank line as I believed, the formatting is for six weeks… Then, before invoking AWK, our selection should be changed so:</p>
<pre><code>- cal $1 $2 |                  tail -n -2
+ cal $1 $2 | grep -v '^ *$' | tail -n -1
</code></pre>
<p>Alternatively, the AWK output (<code>Friday 28th</code> and <code>Monday 31st</code>) must be filtered though <code>tail -n -1</code>. Either add 14 characters before (and save <code>NF &gt; 1</code> condition), or add 10 characters after (and keep 4 characters condition). Fifty-fifty, so it's a matter of taste.</p>
</div>
<div id="pu2" class="pu"><h1>(Pure) <a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 126 bytes</h1>

<pre class="lang-sh prettyprint-override"><code>zmodload zsh/datetime
s=strftime
for d ({31..9})$s -sT %A\ %dth `$s -r %F $1-$d`&amp;&amp;[[ $T = [^S]*$d\th ]]&amp;&amp;break
&lt;&lt;&lt;${T/1th/1st}
</code></pre>
<p><a href="https://tio.run/##NcqxCoMwFEDRPV/xhhi0EM1TqQg6dOkP1E0ttcSQ0oqQZFL89tQK3Q6Xu1jtVRiFfplm@ZkHCYvViRzc6F7TSGxtnVEH1WxAQrhmGMflFlEL3DYQXDoIpNPw@AUDwRUociofjLUt0AZqaO@3/kRlt099z9jTjMObVFVF1yZBpxO0bvMRIQpSkWZcZH@hOIQFF@kuPBc5F@XR8v1D/wU" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></p>
<p>Using the builtin <code>strftime</code> rather than any external programs.</p>
<pre class="lang-sh prettyprint-override"><code>zmodload zsh/datetime
# &quot;strftime&quot; is long enough that setting $s and using $s twice is shorter than &quot;strftime&quot; twice.
s=strftime   

# start at the 31st of the month, count downward
for d ({31..9})
    # Get the timestamp of &quot;YYYY-MM-DD&quot; with strftime -r (reverse/strptime)
    # and find &quot;Nameofday DDth&quot; from timestamp. (-s)ave in $T
    $s -sT %A\ %dth `$s -r %F $1-$d` &amp;&amp;
    # if Nameofday begins with an S or we end up on a different day of month
    # (like 02-31 converted to 03-03), keep going.
    [[ $T = [^S]*$d\th ]] &amp;&amp; break

# Fix suffix
&lt;&lt;&lt;${T/1th/1st}
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Bash and GNU Date, <s>84</s> 83 bytes</h1>
<p>Thanks to <a href="/users/104387">gildux</a> for shaving 1 byte.</p>
<pre class="lang-sh prettyprint-override"><code>s=(1 2)
m=1$1+month
date -d$m-$((s[`date -d$m +%w`]+1))day +%A\ %eth|sed s/1th/1st/
</code></pre>
<p>Input format is the month name and year as a single word, e.g. <code>October2023</code> or <code>sep2026</code>.</p>
<p>An English locale (such as the standard <code>C</code> locale) is required for the day names to be in English.</p>
<p>You might need to unset <code>TZ</code> environment variable to get proleptic Gregorian dates.</p>
<hr />
<h3>How it works</h3>
<ol>
<li><p><strong><code>m=1$1+month</code></strong>: Create a <code>date</code> input that is one month later than the start of the target month (ie. the first day of the following month).  GNU Date allows us to omit all the spaces, which is helpful.</p>
</li>
<li><p><strong><code>date -d$m +%w</code></strong>: Obtain the day of week of the first day of the following month.</p>
</li>
<li><p><strong><code>$((s[…]+1))</code></strong>: We'll need to back up one day, plus an additional day if following month starts on Sunday (weekday 0) or an additional two days if it starts on Monday (weekday 1).</p>
<p>The array <code>s</code> is incomplete; the arithmetic works because empty string concatenates with <code>+1</code> to give the result we want.</p>
</li>
<li><p><strong><code>date -d$m-$((…))day +%A\ %eth</code></strong>: Format that last working day, appending <code>th</code> to give a candidate ordinal.</p>
</li>
<li><p><strong><code>|sed s/1th/1st/</code></strong>: Rewrite <code>31th</code> as <code>31st</code>.  The last working day must be in the range 26th...31st, so there are no <code>nd</code>s or <code>rd</code>s to consider.</p>
</li>
</ol>
<hr />
<h3>Full demo</h3>
<pre class="lang-sh prettyprint-override"><code>#!/bin/bash

last-working-day()
{
s=(1 2)
m=1$1+month
date -d$m-$((s[`date -d$m +%w`]+1))day +%A\ %eth|sed s/1th/1st/
}

test &quot;$*&quot; || set -- $(for i in {0..35}; do date -d 1jan00+${i}month +%b%Y; done)
    
for i
do
    printf '%s: %s\n' $i &quot;$(last-working-day $i)&quot;
done
</code></pre>
<p>Output (no args):</p>
<pre class="lang-none prettyprint-override"><code>Jan2000: Monday 31st
Feb2000: Tuesday 29th
Mar2000: Friday 31st
Apr2000: Friday 28th
May2000: Wednesday 31st
Jun2000: Friday 30th
Jul2000: Monday 31st
Aug2000: Thursday 31st
Sep2000: Friday 29th
Oct2000: Tuesday 31st
Nov2000: Thursday 30th
Dec2000: Friday 29th
Jan2001: Wednesday 31st
Feb2001: Wednesday 28th
Mar2001: Friday 30th
Apr2001: Monday 30th
May2001: Thursday 31st
Jun2001: Friday 29th
Jul2001: Tuesday 31st
Aug2001: Friday 31st
Sep2001: Friday 28th
Oct2001: Wednesday 31st
Nov2001: Friday 30th
Dec2001: Monday 31st
Jan2002: Thursday 31st
Feb2002: Thursday 28th
Mar2002: Friday 29th
Apr2002: Tuesday 30th
May2002: Friday 31st
Jun2002: Friday 28th
Jul2002: Wednesday 31st
Aug2002: Friday 30th
Sep2002: Monday 30th
Oct2002: Thursday 31st
Nov2002: Friday 29th
Dec2002: Tuesday 31st
</code></pre>
</div>
<div id="pu4" class="pu"><h1>JavaScript (ES6), 129 bytes</h1>
<p><em>-1 thanks to <a href="https://codegolf.stackexchange.com/users/76323/l4m2">@l4m2</a></em><br />
<em>-2 thanks to <a href="https://codegolf.stackexchange.com/users/58974/shaggy">@Shaggy</a></em></p>
<p>Expects <code>([year, month])</code>, as integers.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(D,d=31,s=&quot;st&quot;)=&gt;(q=new Date([...D,d])).getDate()&gt;9&amp;&amp;q.getDay()%6?q.toLocaleString(&quot;EN&quot;,{weekday:&quot;long&quot;})+' '+d+s:f(D,d-1,&quot;th&quot;)
</code></pre>
<p><a href="https://tio.run/##bc1BC4IwAAXge79iDLIN52gqisLqYrfo0jE6DJ1mjS3bKCL67cvqWMf3Ph7vKK7C1pf@7CJtGul9y1FFGp4wYjm0DmK@QAPX8gYq4STaUUpH32NMO@k@FV4UQTB84x3habYcqDNrUwslt@7S6w7B1QaSx03KUyPuJVRGd/CJwxmYhU1oy/Z9GTEC3QFiXxttjZJUmQ61aBfP44Sw@fg4@RGWExD/EZblKQHF302aEMBG8S8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Or <strong><a href="https://tio.run/##bc1BC4IwAAXge79iDNIN53AaicLs4rFbR@kwdJolW7qRSPTbzeqYx/c@Hu8qHsKUQ3u3vtKVnOeao5xUPGLEcGgsxDxDPVdyBLmwEhWU0sXPGNNG2m@Fs8Rx@l@cEN7uDz21@qhL0cmTHVrVoIA8RylvlZhS2GnVwBf2XOB6lWfS@vPnMwLtBeK51MroTtJON6hGRRiEEWHBcrf5ExYTEK4I28c7ApLVzS4igC0yvwE" rel="nofollow noreferrer">126 bytes</a></strong> if we assume a default English locale.</p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (                 // recursive function taking:
  D,                  //   D[] = [year, month]
  d = 31,             //   d = day, starting at 31
  s = &quot;st&quot;            //   s = suffix, initialized to &quot;st&quot;
) =&gt;                  //
( q = new Date([      // build the date q for:
    ...D,             //   the year and month stored in D[]
    d                 //   the day d
  ])                  //
).getDate() &gt; 9       // if the resulting day is greater than 9
&amp;&amp;                    // (i.e. we didn't overflow to the next month)
q.getDay()            // and the 0-based day-of-week index
% 6 ?                 // is neither 0 or 6 (Sunday / Saturday):
  q.toLocaleString(   //   return the name of the day
    &quot;EN&quot;, {           //   obtained with toLocaleString()
      weekday: &quot;long&quot; //   set up to English
    }                 //
  ) +                 //
  ' ' +               //   followed by a space
  d +                 //   followed by the day
  s                   //   followed by the suffix
:                     // else:
  f(D, d - 1, &quot;th&quot;)   //   recursive call with d - 1 and s = &quot;th&quot;
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C#</a>, 143 bytes</h1>

<pre class="lang-cs prettyprint-override"><code>(y,m)=&gt;new[]{DateTime.DaysInMonth(y,m)is{}z?z:z,z-1,z-2}.Select(x=&gt;new DateTime(y,m,x).ToString(&quot;dddd dd&quot;)+(x&gt;30?&quot;st&quot;:&quot;th&quot;)).First(x=&gt;x[0]!=83)
</code></pre>
<p>Explanation</p>
<pre class="lang-cs prettyprint-override"><code>f = (y, m) =&gt;                       // lambda that takes year and month
  new[] {                           // create new implicitly typed array
      DateTime.DaysInMonth(y, m)    // get number of days in month
          is {} z ? z : z,          // hack to set variable z to this value inline
      z-1, z-2                      // add the 2 days previous to z
  }                                 // array contains the last 3 days of the given month in descending order
  .Select(                          // transform the elements of the array
      x =&gt; new DateTime(y, m, x)    // create new datetime with the given year and month
      .ToString(&quot;dddd dd&quot;)          // convert to string and format
      + (x &gt; 30 ? &quot;st&quot; : &quot;th&quot;))     // add &quot;st&quot; if is the 31st, &quot;th&quot; otherwise
  .First(                           // get first element that matches condition
      x =&gt; x[0] != 83)              // first character is not &quot;S&quot; (i.e not day isn't saturday or sunday)
</code></pre>
<p><a href="https://tio.run/##lVNtT9swEP7eX3FYk7BFyPqCBmtpEVA6sTFtWqvtA/DBJG7rLcRd7EDSkN/enV3aBtRNmqU4Z99zzz13lwR6P9ByMUjj4FjGxgO3aZPIeNKDMXRhQXPvnnV7sXi8vi363IiRvBd@n@f6Mv6sYjN1AKmLcn4yb8@9@X4Dn2bpD0UkAkMzFwurSIv2MuaP1NBloSTEBWFI2B7Neq36CdGGtImZEsb8gUy0o8iu67c73aMWW3RqNSeXrvSyjeAJCs6gi8pp5l8acd/wYGk0GcY98ASM0AZRTpIMjFQxT/JtZJTVihrgKoA2682WB406eskoFTrkObQaqBNKb4NpHHrQrEKaR1hFBdJ4d3jgwXsLGSRyG6JZP7CJKohW3SFqJer/kho68VwJtpzag5IhKKv9@hY0s4UPc43V@n3JJ7HSRgba74u7dOL/SKQRVzIWdFmf/1HJmO56u1gwQzbHNaPq7icO7T/IrBBtODrBUaDG41MPznrUTcmZMPaqzV7ehR7cKRWBiqN8OFWPAy4jjZMZ80iLVe/txGZcaxGip95xd2OVCB5MgVrnr4cZjg1Ctuyg21eBIpthFCL87zxKRWftPIOJMpvjsiEuz@bSJPna3tDahbFWJrXEn0TOOi@8z2r3uhbnX/xOsRyKShicQAPaqyKqcNiGJV9Ph0OCAWRwenlFNlHl2gq4sW24yAIxs70Fwf4pORRjnkaGnrGtGoT/QZhRPhO08neyauK1KcdAd14O7ukJdl5V8Tc15yrWKhKVr@gNGdPiuZ8lg30orKYSKDK24YYU@C5viGdH6s74xjMj7HVflvu2DLafF/0lswjLt0Xon6s0NuWKZBX0TfDQxeB9ufgD" rel="nofollow noreferrer" title="C# Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>99 89</s> 102 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;y,m{(1..4).find{|d|(A=Date.new y,m,-d).wday&lt;5}
A.strftime&quot;%A %d#{A.day&gt;30?'st':'th'}&quot;}
require'time'
</code></pre>
<p><a href="https://tio.run/##XcrRCoIwFIDh@z3FUOQ42IZHDSLSEHoRa5MGKjUnIuqzL72s2///7PiYfVN4Uc68W2KUMmeyMb1aVrXGVXGvnZa9nui@uVBMTqqer6eNVHJwtnGm00FU0UiFSyX3VWbJDQYHF3Av2IKNWP0ZjdVwSPBva3pHG/ms2zamaYI5R2Q8IAENaVFSOJJAFOkZyD9OM44J@4GpyBCI/wI" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p><strong>Explanation</strong></p>
<p>Anonymous function tacking year and month as numbers.</p>
<p>We find which of the last 4 days of month ( checking backwards using -d ) are  wdays (week days 0-indexed) less than 5 saving each time date object in constant A for later use.</p>
<p>When it's found loop is stopped so A is the last weekday of the month.</p>
<p>Then we format the output, we can only have 31st or XXth.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <strike>270</strike> 250 bytes</h1>

<pre class="lang-c prettyprint-override"><code>char*s[]={&quot;Mon&quot;,&quot;Tues&quot;,&quot;Wednes&quot;,&quot;Thurs&quot;,&quot;Fri&quot;,&quot;sth&quot;};l(y){return y/4-y/100+y/400;}
f(m,y){int d,p=l(y);y-=d=m&lt;3;d=6+y+p+(31*(m+=12*d-2))/12;
d+=y=31-(12652612&gt;&gt;(m*2-2)&amp;3)+(m&gt;11&amp;p-l(y));d%=7;y-=p=d&amp;d/4*3;
printf(&quot;%sday %d%.2s\n&quot;,s[d-p],y,s[5]+(y&lt;31));}
</code></pre>
<p><a href="https://tio.run/##VY/NasMwEITveQpjcJAsqdZK/iEoyrG33gI9JD4EK64NlWvk5CCCn92VWxroZXc@ZphlG/bRNMvSdBeXTqdaP@K3ryGm8fF@ncJ6v5rhRxy7u1v3q@vDnG5dPKtP5PHDXW93N0Q@y5nPgHMSFOdq3rTI0uD3wy0ydNRrWHmmjbZ7qYwuiScjQRJSZIkGkRomMM5AKEO01xIYAlEWogRxOCCbimBvJSbIHgC2I1v7sDKJrtbWUZutyfJUqs3owskWxclkLj5KTPIipnN4aToZNtbUB1HUBPm9hFAwL/bSDwg/NlEUtaiisCskVr8EnAounigCQfVHOwpllT@jwcv/JTkPNC/f" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>Doing it the hard way - a bunch of mod 7 math to count extra days since the first Monday of Year 0.</p>
<p><code>p=l(y)</code> returns the number of leap years since 0.<br />
<code>d=m&lt;3</code> is true for Feb and March<br />
<code>y-=d...m+=12*d-2</code> sets <code>m</code> to the month, where Mar is 1 and Jan and Feb are 11 and 12 of the prior year.<br />
<code>d=6+y+p+31*m/12</code>  sets d to the number of extra days between the first Monday in year 0 and the last day of the prior month.   (the 31*m/12 gives the correct pattern of +3s and +2s)<br />
<code>(m&gt;11&amp;p-l(y)</code> is 1 if it's February of a leap year<br />
<code>12652612</code>  is &quot;31-days&quot; for each month encoded in 2 bits, so<br />
<code>y=31-(12652612&gt;&gt;(m*2-2)&amp;3)+...</code> sets y to the last day in the query month.<br />
<code>d+=y...;d%=7</code> gets the day of the week (0==Mon) for the query.<br />
<code>p=d&amp;d/4*3</code> sets p to the days needed to truncates Sat/Sun to Fri (4)<br />
<code>y-=p</code> fixes the last day of the month<br />
<code>s[d-p]</code> is the day string,<br />
2 characters from <code>s[5]+(y&lt;31)</code> is &quot;st&quot; or &quot;th&quot;</p>
</div>
<div id="pu8" class="pu"><h1>bash and BSD date, 96 bytes</h1>
<p>As an alternative to <a href="https://codegolf.stackexchange.com/a/266286">Toby Speight's answer</a> but using BSD implementation instead of GNU one</p>
<pre class="lang-sh prettyprint-override"><code>s=(1 2)
m=&quot;-v$2y -v$1 -v+1m -v1d&quot;
date $m -v-$((s[`date $m +%w`]+1))d +%A\ %eth|sed s/1th/1st/
</code></pre>
<p>It has the following limitations:</p>
<ul>
<li>months can be integers only, not strings (<code>October</code> or <code>sep</code> for example)</li>
<li>separator is changed from <code>/</code> to blanks which is natural shell arguments separator</li>
</ul>
<p>There's certainly room for tweaking.</p>
</div>
<div id="pu9" class="pu"><h1>Google Sheets / Microsoft Excel, 76 bytes</h1>
<p><code>=let(d,workday(eomonth(A1,)+1,-1),text(d,&quot;dddd d&quot;)&amp;if(day(d)=31,&quot;st&quot;,&quot;th&quot;))</code></p>
<p>Put the month and year in cell <code>A1</code> in one of the formats specified in the question (or any other valid date format), and the formula in <code>B1</code>.</p>
<p>The formula gets the first day of the <em>next</em> month and then finds the previous weekday before that, which is the same as the last weekday of the specified month.</p>
<p>The day number of the last weekday of a month will never end in <code>2</code> or <code>3</code>, so it is enough to add <code>st</code> when the day is <code>31</code> and use <code>th</code> with any other date.</p>
<p>The formula is for Google Sheets, but I tested it in the most recent version of Microsoft Excel for the web and it seems to work the fine there as well.</p>
<p>The Google Sheets <a href="https://webapps.stackexchange.com/a/153710/269219">epoch</a> is 30 December 1899. The formula will work with dates from January 1900 to December 99999. In Microsoft Excel, the range of valid dates seems more limited, and formula will work from January 1900 to November 9999.</p>
<div class="s-table-container">
<table class="s-table">
<thead>
<tr>
<th>input</th>
<th>expected</th>
<th>formula</th>
</tr>
</thead>
<tbody>
<tr>
<td>10/2023</td>
<td>Tuesday 31st</td>
<td>Tuesday 31st</td>
</tr>
<tr>
<td>February 2017</td>
<td>Tuesday 28th</td>
<td>Tuesday 28th</td>
</tr>
<tr>
<td>09/1674</td>
<td>Friday 28th</td>
<td>#NUM!</td>
</tr>
<tr>
<td>1/2043</td>
<td>Friday 30th</td>
<td>Friday 30th</td>
</tr>
</tbody>
</table>
</div></div>
<div id="pu10" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, 234 bytes</h1>
<pre class="lang-go prettyprint-override"><code>import(.&quot;fmt&quot;;.&quot;time&quot;)
func f(m,y int)string{M,e:=Month(m),&quot;th&quot;
t,W:=Date(y,M,31,0,0,0,0,UTC),(Time).Weekday
for w:=W(t);t.Month()!=M||w&lt;1||w&gt;5;{t=t.Add(Hour*-24);w=W(t)}
if t.Day()&gt;30{e=&quot;st&quot;}
return Sprintf(&quot;%s %d%s&quot;,W(t),t.Day(),e)}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VVHbbtNAEBWP3a-YrmRpF02NL4GWhI1UkSJeUlXUKA-AkBWvUyv4UnusYLn-El6iSrzxQ_AJfAW7dQBVK-1lZs7ROWe_3W_K_Y8qXm_jjYY8zorvLaUnZz9_Z3lV1iRcnubEZy6nLNdcsrQt1pCKHDvICpIN1Vmx6Zeop2pZFnQjcomcbjgjXE3VIiYtOlxi6KN3WO-j1xJFZOiku9J6m8QdS8sadlO1EiRn5I5E8lgt7-52r3yzzZ_PelLknieJeFu29dOTYCJnuwfAwLIUyF3EnZDz0Ou14g3xgdWa2rqA68oopFRwpwEncRqOFoQHAGo5jI5_PampqzREYDy1a4KeHeVlgZ2Oa2uVHemvFYx-2TDmYPMS0kySbqiBqYIPn6Ke9b6HgReEyKNWN8YfhL6VhKwPTMM__d8IzkxWtvES_RenE-Rv6uxR3TeASfivHnpjfWDsyvr6UgiulILr6PxdBOZmv8iE-RnJyqnjwnzrqK5n8fqhmApyrTNyrTdp4yu3U5OuMaiUGZrBcbmFHq7-JucFyTPHmySg5uDcgnBuJTj0seAIIxWMXAgGbR-GCQ2phMEofSQULi4XcBDKDtHv9-P5Bw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<pre class="lang-go prettyprint-override"><code>import(.&quot;fmt&quot;;.&quot;time&quot;)
func f(m,y int)string{M,e:=Month(m),&quot;th&quot;
// start the date off at the 31st of the month, regardless of the month
t,W:=Date(y,M,31,0,0,0,0,UTC),(Time).Weekday
// subtract 1 day while...
for w:=W(t);
// the months don't match, or
t.Month()!=M
// the day is not a weekday
||w&lt;1||w&gt;5;{t=t.Add(Hour*-24);w=W(t)}
// replace &quot;31th&quot; with &quot;31st&quot;
if t.Day()&gt;30{e=&quot;st&quot;}
return Sprintf(&quot;%s %d%s&quot;,W(t),t.Day(),e)}
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://php.net/" rel="noreferrer">PHP</a>, -F 55 bytes</h1>

<pre class="lang-php prettyprint-override"><code>&lt;?=date('l jS',strtotime(&quot;$argn+1month last weekday&quot;));
</code></pre>
<p><a href="https://tio.run/##DczRCsIgGIbh813FjwTbKJnaaMSqnXUDnXZizJrlVPQfo5vPPPweeD8/@ZROw3mUqKrSwPtW7iIGdKhnVZGNDC@75bOzOIGREWFV6jPKL6nrPg2XXJK7JT00jVUrGG0VPF0ACUHJUT6MAregX3Kn88O8GNQ@o7bZYhJM7ClnhWC8o0wU/NC1lB3zbrP/nEftbEz0@gc" rel="noreferrer" title="PHP – Try It Online">Try it online!</a></p>
<p>Input is in &quot;yyyy-mm&quot; format in my example, but <code>strtotime</code> supports many formats</p>
<p>It's so rare that PHP is competitive! I knew one day would be the glory of this pile of unconsistent mess, that I came to like golfing with ;) I needed to add one month because using <code>strtotime</code> without a day number returns the first day, and <code>last</code> is actually a relative term (opposite of <code>next</code>).</p>
<p>Probably still golfable, still searching for edge cases where it could not work (relative month <code>+1 month</code> can be broken I think, <code>-1 month</code> is for sure)</p>
<p>NOTE: my first version was 4 bytes shorter <code>++$argn.&quot; last weekday&quot;</code>, I liked it because it uses PHP's string increment, but even if it works with the tests cases, it will fail for December -&gt; &quot;2023-12&quot; would give &quot;2023-13&quot; and <code>strtotime</code> is not really clever</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://dyalog.com" rel="nofollow noreferrer">APL(Dyalog Unicode)</a>, <sup><s></s></sup>66 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a></sup></h1>
<pre><code>{⊃'Dddd DDoo'(1200⌶)⊃⌽w/⍨0≠6|7|w←∊{0::⍬⋄,¯1 1 ⎕DT⊂⍵}¨(⊂⌽⍵),¨25+⍳6}
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=AwA&amp;c=q37U1azukpKSouDikp@vrmFoZGDwqGebJlD4Uc/ecv1HvSsMHnUuMKsxryl/1DbhUUdXtYGV1aPeNY@6W3QOrTdUMFR41DfVJeRRV9Oj3q21h1ZogFg9e4EcTZ1DK4xMtR/1bjarBQA&amp;f=S1MwNFAwMjAy5kpTMAIyDM2BDEsFQzNzEyDDEChiYgwA&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=dfn&amp;n=f" rel="nofollow noreferrer">Try it on APLgolf!</a></p>
<p>woo-hoo. Shaggy waiting room. Takes date as <code>m y</code>.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell Core</a>, 118 bytes</h1>

<pre class="lang-powershell prettyprint-override"><code>param($y,$m)for(;!((($k=Date &quot;$y/$m/1&quot;|% *hs 1|% *ys(--$d))|% d*k)%6)){}&quot;{0:dddd} {0:dd}&quot;-f$k+('st','th')[$k.Day-ne31]
</code></pre>
<p><a href="https://tio.run/##ZY1db4IwGIWv6a9413SjdWXyYXQfMSHRebtlemfMwqAERcTRmo0gv50Vp85kvaGc5@k52/xLFDIR67UV5oVoSDysmm1QBBklJScZi/OCPl1RSkk6HAdKACZll2RdB@@voZNIcNpvKallkYgx/RN1UnbdZ6yqcWU/RvrUcLjU2IpJektNqUxuqsRkc5LejYPS2gjPWTQ1Qj5FBvepT13b9Tg4NuOAZzsho6AEz5EKs7PgDDi4l9y9V8mZO/1Bj8NDyyfF8h927V7bf4E9@4AZ7GGSF89BmFgvHysRKqiQQZSQahRIwYGI761ORQRDIO8alSIodJzlG5W02UnVqBByt1Y6vCExHMSjh4z563S0kyrPfkcWvl4xprswFFK2Lcenlvj8W9QGnul2CHU9vtwCa5UvN4C7WDtvp9VjCTJqVKPmBw" rel="nofollow noreferrer" title="PowerShell Core – Try It Online">Try it online!</a></p>
<p>Takes in two parameters, <code>$y</code>ear and <code>$m</code>onth, returns a <code>string</code>.</p>
<p>Less golfed:</p>
<pre class="lang-powershell prettyprint-override"><code>param($y,$m)
for(;(($k=(Date &quot;$y/$m/1&quot;).AddMonths(1).AddDays(--$d)).DayOfWeek-in&quot;Saturday&quot;,&quot;Sunday&quot;)){}
&quot;{0:dddd} {0:dd}&quot;-f$k+('st','th')[$k.Day-ne31]
</code></pre>
<p>Finds the last day of the month, while it is a Saturday or a Sunday, check one day before
Then formats the date</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 104 bytes</h1>
<pre><code>S½⌊Ḃ÷dN„4/?›13*5/⁰14=[¹›₁1&quot;4*₁JḊ÷¬∧∨28:›&quot;i|30⁰⇧5%₂+]:£Wf⌊∑7%:¥∇2&lt;[›-6]⇩`°⋏ ß₀ †ƛ ßɖ »£`⌈ið„:31=«⟇'Ḋ«½iW∑
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyIiLCIiLCJTwr3ijIrhuILDt2RO4oCeNC8/4oC6MTMqNS/igbAxND1bwrnigLrigoExXCI0KuKCgUrhuIrDt8Ks4oin4oioMjg64oC6XCJpfDMw4oGw4oenNSXigoIrXTrCo1dm4oyK4oiRNyU6wqXiiIcyPFvigLotNl3ih6lgwrDii48gw5/igoAg4oCgxpsgw5/JliDCu8KjYOKMiGnDsOKAnjozMT3Cq+KfhyfhuIrCq8K9aVfiiJEiLCIiLCIyMDIzXG4xMSJd" rel="nofollow noreferrer">Try it Online!</a> | <a href="https://vyxal.pythonanywhere.com/?v=2#WyJBIiwiIiwiU8K94oyK4biCw7dkTuKAnjQvP+KAujEzKjUv4oGwMTQ9W8K54oC64oKBMVwiNCrigoFK4biKw7fCrOKIp+KIqDI4OuKAulwiaXwzMOKBsOKHpzUl4oKCK106wqNXZuKMiuKIkTclOsKl4oiHMjxb4oC6LTZd4oepYMKw4ouPIMOf4oKAIOKAoMabIMOfyZYgwrvCo2DijIhpw7DigJ46MzE9wqvin4cn4biKwqvCvWlX4oiRIiwiIiwiMjAyMywgMTBcbjIwMTYsIDE0XG4xNjc0LCA5XG4yMDQyLCAxMyJd" rel="nofollow noreferrer">All test cases</a></p>
<p>Takes the year and the month (one-based) seperately. January and February are considered the 13th and 14th months of the previous year.<br />
Vyxal has no Date/Time built-ins, so this uses a variation of <a href="https://en.wikipedia.org/wiki/Zeller%27s_congruence" rel="nofollow noreferrer">Zeller's Congruence</a>.</p>
<pre><code>S½⌊Ḃ÷dN„4/?›13*5/⁰14=[¹›₁1&quot;4*₁JḊ÷¬∧∨28:›&quot;i|30⁰⇧5%₂+]:£Wf⌊∑7%:¥∇2&lt;[›-6]⇩`°⋏ ß₀ †ƛ ßɖ »£`⌈ið„:31=«⟇'Ḋ«½iW∑


S½⌊Ḃ÷dN„4/?›13*5/ ­⁡​‎‎  ## First Part of Zeller's Congruence Formula⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁤⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏‏​⁡⁠⁡‌­
S½⌊                 # ‎⁡Split year into two halves [century, year of the century]
   Ḃ                # ‎⁢Bifurcate, push this and its reverse
    ÷dN             # ‎⁣Push each item to stack, multiply the year of the century by -2
       „            # ‎⁤Rotate stack ([century, year of the century] is on top)
        4/          # ‎⁢⁡Divide both by 4
          ?›13*5/   # ‎⁢⁢Multiply month + 1 with 13/5


⁰14=[¹›₁1&quot;4*₁JḊ÷¬∧∨28:›&quot;i|30⁰⇧5%₂+]­⁡​‎‎  ## Calculate number of days in month⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁣⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁢⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁣⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁢⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁣⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁣⁪‏‏​⁡⁠⁡‌⁢⁣​‎‎⁪⁡⁪⁠⁪⁢⁡⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁡⁪‏‏​⁡⁠⁡‌⁢⁤​‎‎⁪⁡⁪⁠⁪⁢⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁣⁪‏‏​⁡⁠⁡‌⁣⁡​‎⁪⁪⁠⁪⁪⁠‎⁪⁡⁪⁠⁪⁢⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁡⁪‏‏​⁡⁠⁡‌⁣⁢​‎‎⁪⁡⁪⁠⁪⁢⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁡⁪‏‏​⁡⁠⁡‌⁣⁣​‎‎⁪⁡⁪⁠⁪⁢⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁢⁪‏⁠⁪⁪‏​⁡⁠⁡‌­
⁰14=[                             ]  # ‎⁡‎⁡If month is 14 (February) ...
    [                    |             # ‎⁢‎⁢Leap year calculation:
     ¹›       Ḋ                        # ‎⁣Does year + 1 divide ...
       ₁1&quot;4*₁J                         # ‎⁤... [400, 4, 100] (Pair [100, 1] * 4 and join 100)
               ÷¬∧∨                    # ‎⁢⁡‎⁢⁡Split on stack, logical not, and, or
                ¬∧∨                    # ‎⁢⁢[ (year + 1 divides 4 and not 100) or (year + 1 divides 400) ]
                   28:›&quot;i              # ‎⁢⁣Index into [28, 29]
                         |        ]  # ‎⁢⁤‎⁢⁤Calculate days for other months:
                            ⁰⇧5%₂      # ‎⁣⁡((Year+2) % 5) % 2 == 0
                            ⁰⇧5%₂      # ‎⁣⁢Maps [1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1] for months 3 to 13 (March=3, ..., January=13)
                          30     +     # ‎⁣⁣Add result to 30

:£Wf⌊∑7%­⁡​‎‎  ## Second Part of Zeller's Congruence Formula⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏‏​⁡⁠⁡‌­
:£        # ‎⁡Save a copy of number of days in month in register
  Wf⌊∑    # ‎⁢Wrap terms in list, take floor and sum all terms
      7%  # ‎⁣Result modulo 7 (Returns weekday as Saturday=0, Sunday=1, ...)

:¥∇2&lt;[›-6]⇩`°⋏ ß₀ †ƛ ßɖ »£`⌈i­⁡​‎‎  ## Calculate workday (as day of the week and month)⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏‏​⁡⁠⁡‌⁤​‎⁪⁪⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁣⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁡⁪‏‏​⁡⁠⁡‌­
:¥∇                            # ‎⁡Push the number of days in the month (register), weekday, weekday
   2&lt;[   ]                     # ‎⁢If weekday &lt; 2 (Saturday or Sunday)
      ›-6                      # ‎⁣Subtract weekday+1 from number of days in month (last workday), Push 6 (Friday)
           `°⋏ ß₀ †ƛ ßɖ »£`    # ‎⁤Compressed string of workdays
          ⇩                ⌈i  # ‎⁢⁡Index workday-2 into list (Monday=0, Tuesday=1, ...)

ð„:31=«⟇'Ḋ«½i­⁡​‎‎  ## Day of the Month formatting⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏‏​⁡⁠⁡‌⁤​‎⁪⁪⁠‎⁪⁡⁪⁠⁪⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁣⁪‏‏​⁡⁠⁡‌­
ð„             # ‎⁡Push space and rotate stack
  :31=         # ‎⁢Is the day of the month 31? (Returns 1 or 0)
      «⟇'Ḋ«½i  # ‎⁣Compressed string &quot;thst&quot;, halve and index into string

W∑  # ‎⁤Join all values in the stack (workday as day of the week, space, workday as day of the month)
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>137</s> 136 bytes</h1>
<pre><code>≔Ｉ⪪Ｓ/θ≔⁻⁺×¹²⊟θ⊟θ²θ≔ＥＥ²⁻θι﹪Σ⟦÷ι⁴⁸⁰⁰±÷ι¹²⁰⁰÷ι⁴⁸÷ι¹²÷×¹³⁺⁴﹪ι¹²¦⁵⟧⁷θ≔⊟θη≔⊟θθ≔⁻⁺²⁸﹪⁻θη⁷∨¬θ⊗¬⊖θθ§⪪”⟲1Ｕ↘α‹¬@²¦À≧≡FGv_Ｅ✂₂↘” ⁺θηday Ｉθ§⪪stth²‹θ³¹
</code></pre>
<p><a href="https://tio.run/##dVHJasMwEL33K4ROI3CJt9JAT6GmYGhSgw09lBxcW9gCW14khfbr3fESQ9z2oGXmPb2Z0cvKtM@atBqGg1KikPCcKg1xWwkNoWyNjnUvZAHMInRHGR4de7pbuEchjYKowi0RNVfguBaJmha6kbhe3M2rtJ0WcmeBziJi5B2b3FQNxKaGj1DqQFxEzkFYxN/bNuInXqSaww3kuAghtuFvM457k1m69bDJsXl/rT1TR8EHdsb9cTPxPJNFyt@pv//F3a/a67DlVfith1Ojp9dBYz4rnk9xwLOe11xqjPED2bWHCJ3QcNChzPnX4hElKC9JYrgi7zyXeCSl6RV56QVFzwhly5BTYbbK0Dz9RvAaTrZ37L8qSuuSzk6@cjWJec6oNgzOzrV9b7i/VD8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Uses my code for Zeller's congruence from my answer to <a href="https://codegolf.stackexchange.com/q/173800/">ASCII Calendar Planner</a>.</p>
<pre><code>≔Ｉ⪪Ｓ/θ
</code></pre>
<p>Split the date on <code>/</code>.</p>
<pre><code>≔⁻⁺×¹²⊟θ⊟θ²θ
</code></pre>
<p>Convert to months since March 1, 1 BC.</p>
<pre><code>≔ＥＥ²⁻θι﹪Σ⟦÷ι⁴⁸⁰⁰±÷ι¹²⁰⁰÷ι⁴⁸÷ι¹²÷×¹³⁺⁴﹪ι¹²¦⁵⟧⁷θ
</code></pre>
<p>Use a modified Zeller's congruence to extract the day of the week of the first day of next month and this month as a list.</p>
<pre><code>≔⊟θη≔⊟θθ
</code></pre>
<p>Extract the list entries into variables to save bytes.</p>
<pre><code>≔⁻⁺²⁸﹪⁻θη⁷∨¬θ⊗¬⊖θθ
</code></pre>
<p>Calculate the last working day of the month.</p>
<pre><code>§⪪”...” ⁺θηday 
</code></pre>
<p>Output the day of the week.</p>
<pre><code>Ｉθ
</code></pre>
<p>Output the day of the month.</p>
<pre><code>§⪪stth²‹θ³¹
</code></pre>
<p>Output the ordinal suffix.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.python.org" rel="noreferrer">Python</a>, 129 bytes</h1>
<pre class="lang-python prettyprint-override"><code>from datetime import*
def f(y,m,d=31,s=&quot;st&quot;):
 try:q=date(y,m,d);1/(q.weekday()&lt;5);print(f'{q:%A %d}{s}')
 except:f(y,m,d-1,&quot;th&quot;)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VY_BCoJAGITvPsUiiLuxlquWtWbQo0i7ixLqqn-UiIeeo4uXeqfepkQ7dPuYGYaZx0u3kJbFMDwvoJzt-67qMkciAQlZLlGW67KGhSGkQgq3NKci9hltYrMBk3ADQd3yKh7zk0sitsLV8irlWSQtJvs1iXSdFYCV3VXcOiJL9F3T28RA8naSGvjc6zBqQmqSechBYc_1fMpcYozIQuqNxDZhQHeTFnzticbgH04tv1sf" rel="noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://factorcode.org" rel="noreferrer">Factor</a> + <code>math.text.english</code>, 110 bytes</h1>
<pre><code>[ last-day-of-month dup weekend? [ friday&lt; ] when
dup day-name swap day&gt;&gt; dup ordinal-suffix [I ${} ${}${}I] ]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TU87TsNAEO1zilfQ2opNRPhEhg65oUFUlovBO4utrHfN7loOQpyExg05AZfJbdjEkoM0o5n33ny_95Iqb-x42L8850-Pt6hIsRZk5yRm_aYaV6MlX8eed35mqKrYOWMdtmw1KzTas-2MIs-oTPvaaArDXRyaLDncLRbpMr1EskSCjQhVWSCSNdIzTq7WK9z811ehYcY_vZfR9UEXUOR8JOgjMjJqjfY1RN9hYN6Gs-9RQNomyBuUGGrWJ_VYrqlluIFOKMtOvLEinKoi10vZ7FDkuPj8OnqwvEQ5bf0toFUYFz7rjGO89yQeJmkcp_gH" rel="noreferrer">Attempt This Online!</a></p>
<p>Takes a timestamp (date object) as input.</p>
<ul>
<li><code>last-day-of-month</code> get the last day of the month</li>
<li><code>dup weekend?</code> is it a weekend?</li>
<li><code>[ friday&lt; ] when</code> then change it to the Friday before</li>
<li><code>dup day-name</code> get the day name (&quot;Monday&quot;, &quot;Tuesday&quot;, etc.)</li>
<li><code>swap day&gt;&gt;</code> get the day number of the month</li>
<li><code>dup ordinal-suffix</code> get its ordinal suffix</li>
<li><code>[I ${} ${}${}I]</code> interpolate it all together and print</li>
</ul>
</div>
<div id="pu18" class="pu"><h1>Python3, 153 bytes</h1>
<pre class="lang-py prettyprint-override"><code>from datetime import*
T=timedelta(1)
def f(m,y):
 d=date(y+(m&gt;11),m%12+1,1)-T
 while d.weekday()&gt;4:d-=T
 return d.strftime('%A %d')+['th','st'][d.day&gt;30] 
</code></pre>
<p><a href="https://tio.run/##XYzLCoMwFET3@YpsJElNizdKX6DQf@iudCHcBKVGJb2l@PU2QgvS5Zw5M@NEzdDnxzHMswuD51iTpdZb3vpxCLRh13KJaDuqJSiG1nEnvZ7UmXEsF11OqfQVgNI@AZOCBrW9Mv5u2s5y3L2tfWA9SVUVZ9yWsQmWXqGP1ZOCW96lSC48QaHSm6BGaPEkcb/hLs6qPLvPY2h7kk5Cpk1mcqXYj5gI4LACJw37Q7ECEI1iPQHzfwLwJfMH" rel="nofollow noreferrer">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/266256/">266256</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




