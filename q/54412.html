<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::54412</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>126</td><td>Python 3</td><td>150810T084009Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54414#54414">Trang Ou</a></td></tr>
<tr d-ix="1"><td>074</td><td>C</td><td>250813T074724Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/283075#283075">Toby Spe</a></td></tr>
<tr d-ix="2"><td>186</td><td>Go</td><td>231205T154635Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/267304#267304">bigyihsu</a></td></tr>
<tr d-ix="3"><td>nan</td><td>Vyxal</td><td>231205T150157Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/267302#267302">pacman25</a></td></tr>
<tr d-ix="4"><td>103</td><td>JavaScript ES6</td><td>150810T122912Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54424#54424">edc65</a></td></tr>
<tr d-ix="5"><td>112</td><td>Python 2</td><td>150810T110407Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54419#54419">Sp3000</a></td></tr>
<tr d-ix="6"><td>155</td><td>Mathematica</td><td>150811T182843Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54504#54504">jcai</a></td></tr>
<tr d-ix="7"><td>031</td><td>CJam</td><td>150810T133635Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54426#54426">Dennis</a></td></tr>
<tr d-ix="8"><td>157</td><td>Python 3</td><td>150810T085620Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54415#54415">Oliver F</a></td></tr>
<tr d-ix="9"><td>119</td><td>Javascript ES6 3 arguments</td><td>150810T203058Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54440#54440">Qwertiy</a></td></tr>
<tr d-ix="10"><td>077</td><td>Haskell</td><td>150810T210730Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54442#54442">proud ha</a></td></tr>
<tr d-ix="11"><td>145</td><td>R</td><td>150810T205112Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54441#54441">Alex A.</a></td></tr>
<tr d-ix="12"><td>029</td><td>Pyth</td><td>150810T122813Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54423#54423">Jakube</a></td></tr>
<tr d-ix="13"><td>034</td><td>CJam</td><td>150810T102333Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54417#54417">Andrea B</a></td></tr>
<tr d-ix="14"><td>052</td><td>K5</td><td>150810T151011Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54430#54430">kirbyfan</a></td></tr>
<tr d-ix="15"><td>113</td><td>Matlab</td><td>150810T150956Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54429#54429">Luis Men</a></td></tr>
<tr d-ix="16"><td>nan</td><td>C</td><td>150810T105745Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54418#54418">Level Ri</a></td></tr>
<tr d-ix="17"><td>043</td><td>Pyth</td><td>150810T122249Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54422#54422">Sok</a></td></tr>
<tr d-ix="18"><td>173</td><td>J</td><td>150810T112608Z</td><td><a href="https://codegolf.stackexchange.com/questions/54412/implement-intercals-binary-operators/54421#54421">protist</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python 3, <strike>174</strike> <strike>166</strike> <strike>148</strike> 126</h1>
<p>Pretty straightforward, string operations, then conversion back to integer.</p>
<p>Limited to numbers which in binary have 99 digits (max 2⁹⁹-1 = 633825300114114700748351602687).</p>
<p>Thanks, Sp3000 and Vioz!</p>

<pre class="lang-py prettyprint-override"><code>a,o,b=input().split()
print(int(''.join([(i+j,i[:j&gt;'0'])[o&gt;'~']for i,j in zip(*[bin(int(j))[2:].zfill(99)for j in(a,b)])]),2))
</code></pre>
<p>Or 165 chars, without limit:</p>
<pre class="lang-py prettyprint-override"><code>a,o,b=input().split()
a,b=[bin(int(j))[2:]for j in(a,b)]
print(int(''.join([(i if j=='1'else'')if o=='~'else i+j for i,j in zip(a.zfill(len(b)),b.zfill(len(a)))]),2))
</code></pre>
<p>Ungolfed:</p>
<pre class="lang-py prettyprint-override"><code>a, op, b = input().split()
a, b = [bin(int(j))[2:] for j in(a,b)] #convert to int (base 10), then to binary, remove leading '0b'
m = max(len(a), len(b))
a = a.zfill(m) #fill with leading zeroes
b = b.zfill(m)
if op == '~':
    ret = [i if j=='1' else'' for i, j in zip(a, b)]
else:
    ret = [i + j for i, j in zip(a, b)]
ret = ''.join(ret) #convert to string
ret = int(ret, 2) #convert to integer from base 2
print(ret)
</code></pre>
</div>
<div id="pu1" class="pu"><h1>C, 74 bytes</h1>

<pre class="lang-c prettyprint-override"><code>x;f(a,o,b){return+a|b?x=f(a/2,o,b/2),o-162?b&amp;1?x*2|a&amp;1:x:4*x|2*a&amp;2|b&amp;1:0;}
</code></pre>
<p>This is a recursive function whose arguments are first operand, operation (as a Unicode character) and second operand, returning the result.</p>
<hr />
<p>How it works:</p>
<pre class="lang-c prettyprint-override"><code>int f(const int a, const int op, const int b)
{
    if (a || b) {
        /* recurse first for higher bits */
        const int x = f(a/2, op, b/2);

        if (op == L'¢') {
            /* mingle */
            return (x &lt;&lt; 2) + ((a&amp;1) &lt;&lt; 1) + (b&amp;1);
        }

        /* else select */
        if (b&amp;1) {
            /* selected bit */
            return (x &lt;&lt; 1) + (a&amp;1);
        } else {
            /* unselected bit */
            return x;
        }
    }
    /* both (0 ¢ 0) and (0 ~ 0) yield 0 */
    return 0;
}
</code></pre>
<hr />
<p>Demo/test, using examples from the question:</p>
<pre class="lang-c prettyprint-override"><code>#include &lt;locale.h&gt;
#include &lt;stdio.h&gt;

static int t(int a, int op, int b, int expected)
{
    int actual = f(a, op, b);
    if (actual == expected) { return 0; }
    fprintf(stderr, &quot;FAIL! %u %lc %u = %u != %u\n&quot;,
            a, op, b, actual, expected);
    return 1;
}

int main(void)
{
    setlocale(LC_ALL, &quot;&quot;);
    return t(234, L'¢', 4321, 16841865)
        +  t(2345, L'~', 7245, 37)
        +  t(5, L'¢', 6, 54)
        +  t(5, L'~', 6, 2)
        +  t(51234, L'~', 60003, 422)
        +  t(51234, L'¢', 60003, 4106492941);
}
</code></pre>
<hr />
<p>Note: on GCC, we get to <strong>69 bytes</strong> by assigning to <code>a</code> instead of returning:</p>
<pre class="lang-c prettyprint-override"><code>x;f(a,o,b){a=a|b?x=f(a/2,o,b/2),o-162?b&amp;1?x*2|a&amp;1:x:4*x|2*a&amp;2|b&amp;1:0;}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, 186 bytes</h1>
<pre class="lang-go prettyprint-override"><code>func c(a,b uint)(o uint){for i:=0;i&lt;16;i++{o|=(a&amp;1&lt;&lt;(2*i+1))|(b&amp;1&lt;&lt;(2*i))
a&gt;&gt;=1
b&gt;&gt;=1}
return}
func s(a,b uint)(o uint){for i,j:=0,0;i&lt;16;i++{if b&amp;1&gt;0{o|=a&amp;1&lt;&lt;j;j++}
a&gt;&gt;=1
b&gt;&gt;=1}
return}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=3VPRbtMwFJV49FdcIhXZxFSxk2bdWldCYq8IQd_GhJzMmVLapEocBPLyJbxUSPuI8SfwK7zMTpqtsPHAK0p0r3Ou7zm-x8rXb5fl7mYr04_yUsFG5gXKN9uy0mMv22jvutHZi-mP71lTpJBiSRNo8kITXPbZZGUF-YkIZvmcxbPc9015JbB8xuZzzJ_nPiPkCifDJyFILhaCocTFFlVKN1XRoo6-_hs9XVkBeiCRZ2ApF4HT6qRWs5Xvt49y9xP8fPJLf9kqWEKtqybVYKwWVZ-3nU6L-hO48TEBg1Ktal3DiYCz86VBhocRjULOKIunEZvGk5YiM6ExnUTdirkNcRAEIY1YEEfH_DhitmKJ64dUE3rEbQiPBhb-gITzvhu9qez51gX2bFLVWslPyiP3qBAC3i1fvl2CXdmC8-sD1U6ukoW90f0kBsm0Q1Osx5LqcUKQddGBTwXosXPC9LQZ9kYXYF-xcBGPLsj7wqPg-mxIqOuifQ-5a4FRyJNh3-NwcggHFoeuYNnuC7grDIKdQmuf3-aF09evYD_vUDiwpFZrlep_Mqn-w6T6_zJp_w_sdn2-BQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><code>c</code> is <code>interleave</code>, and <code>s</code> is <code>select</code>.</p>
<h2>Explanations</h2>
<h3>Interleave</h3>
<pre class="lang-go prettyprint-override"><code>func c(a,b uint)(o uint){       // init return value in `o` with zero value
for i:=0;i&lt;16;i++{              // for each bit (in the uint16)...
o|=                             // OR to `o`...
   (a&amp;1                         // the last bit of `a`
       &lt;&lt;                       // shifted left by
         (2*i+1))               // the current bit * 2 + 1
                 |              // OR-ed with
                  (b&amp;1          // the last bit of `b`
                      &lt;&lt;        // shifted left by
                        (2*i))  // the current bit * 2
a&gt;&gt;=1;b&gt;&gt;=1}                    // discard the last bit of `a` and `b`
return}
</code></pre>
<h3>Select</h3>
<pre class="lang-go prettyprint-override"><code>func s(a,b uint)(o uint){ // init return value in `o` with zero value
for i,j:=0,0;i&lt;16;i++{    // for each bit (in the uint16)...
if b&amp;1==1{                // if the current bit in `b` is 1...
          o|=             // OR to `o`...
             a&amp;1          // the last bit of `a`
                &lt;&lt;j       // shifted over by the number of 1s so far
                   ;j++}  // increment the number of 1s
a&gt;&gt;=1;b&gt;&gt;=1}              // discard last bit of `a` and `b`
return}
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 201 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 25.125 bytes</h1>
<pre><code>⌈sṫ£⌊vΠ:ḣ∆Z$tJvf⌊÷¥\¢=[Y|Tİ]B
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyI9IiwiIiwi4oyIc+G5q8Kj4oyKds6gOuG4o+KIhlokdEp2ZuKMisO3wqVcXMKiPVtZfFTEsF1CIiwiIiwiMjM0NSB+IDcyNDUiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>110010100100100000011011100010011001001100101100100000110010011100111001000101011101011101101110001000110011011101000000100101011000110100110001000010010001101001011101001011100110111111100100110010111
</code></pre>
<p>Possibly golfable?</p>
</div>
<div id="pu4" class="pu"><h1>JavaScript (ES6), 103 <s>117 119 124</s></h1>

<p><strong>Edit</strong> now working with numbers instead of strings</p>

<p>(not counting leading spaces, newlines and comments)</p>

<p>Test running the snippet on any EcmaScript 6 compliant browser (notably not Chrome not MSIE. I tested on Firefox, Safari 9 could go)</p>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>I=s=&gt;
  (i=&gt;{
    for(m=r=0,[a,o,b]=s.split` `;i&gt;0;i&lt;&lt;=1) // loop until bit 31 of i is set
      o&gt;'~'?r+=(b&amp;i)*i+(a&amp;i)*2*i:b&amp;i?r+=(a&amp;i)&gt;&gt;m:++m
  })(1)||r


// TEST
out=x=&gt;O.innerHTML+=x+'\n\n';

[ ['234 ¢ 4321', 16841865], ['2345 ~ 7245', 37]
, ['5 ¢ 6', 54], ['5 ~ 6', 2]
, ['51234 ¢ 60003',4106492941], ['51234 ~ 60003', 422]]
.forEach(([i,o,r=I(i)])=&gt;{
  out('Test '+ (o==r?'OK':'Fail')+'\nInput:    '+ i+'\nResult:   '+r+'\nExpected: '+o)})</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu5" class="pu"><h1>Python 2, <s>115</s> 112 bytes</h1>



<pre class="lang-py prettyprint-override"><code>x,y,z=input().split()
d=y&lt;""
f=lambda a,b:a+b and(b%2+5&amp;4-d)*f(a/2,b/2)+(a%2*2+b%2)/3**d
print f(int(x),int(z))
</code></pre>

<p>The string on the second line contains a single unprintable character <code>\x7d</code>, the next char after <code>~</code>.</p>

<p>All hopes of a nice, single lambda get crushed by the input format. There's probably a better way to read in input. Input like <code>"51234 ¢ 60003"</code> via STDIN.</p>

<p>The function <code>f</code> combines the following two recursive functions:</p>

<pre class="lang-py prettyprint-override"><code>g=lambda a,b:a+b and 4*g(a/2,b/2)+a%2*2+b%2    # ¢
h=lambda a,b:a+b and(b%2+1)*h(a/2,b/2)+a*b%2   # ~
</code></pre>

<p><em>(-3 bytes with the help of @xnor)</em></p>
</div>
<div id="pu6" class="pu"><h1>Mathematica, 155 bytes</h1>

<pre><code>f=IntegerDigits[#,2,16]&amp;;
g=#~FromDigits~2&amp;;
¢=g[f@#~Riffle~f@#2]&amp;;
s=g@Cases[Thread@{f@#,f@#2},{x_,1}-&gt;x]&amp;;
ToExpression@StringReplace[#,{" "-&gt;"~","~"-&gt;"s"}]&amp;
</code></pre>

<p>Evaluates to an anonymous function taking the string as input. Line breaks added for clarity.</p>

<p><code>f</code> and <code>g</code> convert to/from base 2. <code>Riffle</code> does exactly what <em>interleave</em> is supposed to. I wanted to use <code>Select</code> for <em>select</em> but <code>Cases</code> is better unfortunately. The last line is a bit of trickery; spaces are changed to <code>~</code> which is Mathematica's infix operator, then the string is eval'd.</p>
</div>
<div id="pu7" class="pu"><h1>CJam, 31 bytes</h1>

<pre><code>rrc\r]{i2bF0e[}%(7=\zf{_)*?~}2b
</code></pre>

<p>Try it online in the <a href="http://cjam.aditsu.net/#code=rrc%5Cr%5D%7Bi2bF0e%5B%7D%25(7%3D%5Czf%7B_)*%3F~%7D2b&amp;input=51234%20%C2%A2%2060003" rel="nofollow">CJam interpreter</a>.</p>

<h3>How it works</h3>

<pre><code>rr                              e# Read two tokens from STDIN.
  c\                            e# Cast the second to char and swap with the first.
    r                           e# Read a third token from STDIN.
     ]                          e# Wrap everything in an array.
      {       }%                e# For all three elements:
       i2b                      e#   Cast to int and convert to base 2.
          F0e[                  e#   Left-pad with zeroes to complete 15 digits.
                (               e# Shift out the first base 2 array.
                 7=             e# Select its eighth MSB (1 for '¢', 0 for '~').
                   \            e# Swap with the array of base 2 arrays.
                    z           e# Zip to transpose rows with columns.
                     f{     }   e# For each pair of base 2 digits:
                                e#   Push the bit, then the pair.
                       _        e#   Copy the pair.
                        )       e#   Pop the second digit.
                         *      e#   Repeat the first digit that many times.
                          ?     e#   Ternary if. Select the pair if the bit is
                                e#    truthy, the repeated first bit if it's falsy.
                           ~    e#   Dump the selected array on the stack.
                             2b e# Convert from base 2 to integer.
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Python 3, 157 bytes</h1>



<pre class="lang-python prettyprint-override"><code>a,x,y=input().split()
i=int
b=bin
print(i(''.join(([c for c,d in zip(b(i(a)),b(i(y)))if d=='1'],[c+d for c,d in zip(b(i(a))[2:],b(i(y))[2:])])['¢'==x]),2))
</code></pre>

<p>Full and explanatory version can be found on my <a href="http://pastebin.com/d9t8MTcE" rel="nofollow">pastebin</a>.</p>
</div>
<div id="pu9" class="pu"><h1>Javascript ES6 (3 arguments) <s>141</s> <s>138</s> <s>136</s> <s>121</s> 119 bytes</h1>

<pre><code>b=x=&gt;(65536|x).toString`2`
f=(x,o,y)=&gt;+eval(`'0b'+(b(y)+b(x)).replace(/^1|${o=='~'?1:'(.)'}(?=.{16}(.)())|./g,'$2$1')`)
</code></pre>

<p>Test:</p>

<pre><code>;[f(234,'¢',4321),f(2345,'~',7245)]=="16841865,37"
</code></pre>

<h1>Javascript ES6 (1 argument) <s>135</s> 133 bytes</h1>

<pre><code>b=x=&gt;(65536|x).toString`2`
f=s=&gt;([x,o,y]=s.split` `)|eval(`'0b'+(b(y)+b(x)).replace(/^1|${o=='~'?1:'(.)'}(?=.{16}(.)())|./g,'$2$1')`)
</code></pre>

<p>Test:</p>

<pre><code>;[f('234 ¢ 4321'),f('2345 ~ 7245')]=="16841865,37"
</code></pre>

<p>PS: New line is counted as 1 byte as it can be replaced by <code>;</code>.</p>
</div>
<div id="pu10" class="pu"><h1>Haskell, 77</h1>
<pre><code>g=(`mod`2)
h=(`div`2)
0¢0=0
a¢b=g a+2*b¢h a
a?0=0
a?b=g a*g b+(1+g b)*h a?h b
</code></pre>
<p>input is given by applying the input to the functions/operators <code>?</code> and <code>¢</code> defined in the code (Haskell can't define an operator <code>~</code> for technical reasons).</p>
<p>basically works the old recursive approach.</p>
</div>
<div id="pu11" class="pu"><h1>R, 145 bytes</h1>



<pre class="lang-r prettyprint-override"><code>s=scan(,"");a=as.double(c(s[1],s[3]));i=intToBits;cat(packBits(if(s[2]=="~")c(i(a[1])[i(a[2])&gt;0],i(0))[1:32] else c(rbind(i(a[2]),i(a[1]))),"i"))
</code></pre>

<p>Ungolfed + explanation:</p>

<pre class="lang-r prettyprint-override"><code># Read a string from STDIN and split it on spaces
s &lt;- scan(, "")

# Convert the operands to numeric
a &lt;- as.double(c(s[1], s[3]))

o &lt;- if (s[2] == "~") {
    # Get the bits of the first operand corresponding to ones in
    # the second, right pad with zeros, and truncate to 32 bits
    c(intToBits(a[1])[intToBits(a[2]) == 1], intToBits(0))[1:32]
} else {
    # Interleave the arrays of bits of the operands
    c(rbind(intToBits(a[2]), intToBits(a[1])))
}

# Make an integer from the raw bits and print  it to STDOUT
cat(packBits(o, "integer"))
</code></pre>
</div>
<div id="pu12" class="pu"><h1>Pyth, <s>32</s> <s>31</s> 29 bytes</h1>

<pre><code>isummFdG}\~zCm.[Z16jvd2%2cz)2
</code></pre>

<p>Try it online: <a href="http://pyth.herokuapp.com/?code=isummFdG%7D%5C~zCm.%5BZ16jvd2%252cz%292&amp;input=234+%C2%A2+4321&amp;test_suite_input=234+%C2%A2+4321%0A2345+~+7245%0A5+%C2%A2+6%0A5+~+6%0A51234+%C2%A2+60003%0A51234+~+60003&amp;debug=0" rel="noreferrer">Regular Input / Test Suite</a></p>

<p>Thanks to @isaacg for golfing off one byte. </p>

<h3>Explanation:</h3>

<pre><code>                         cz)   split input at spaces
                       %2      only take every second item (the numbers)
             m                 map each number d to:
                    vd           convert d to int
                   j  2          convert to base 2
              .[Z16              pad zeros at the left
            C                  zip
  u     }\~z                   apply the following function ("~" in input) times:
   m   G                         map each pair d to:
    mFd                          convert [x,0] to [] and [x,1] to [x]
 s                             take sum (unfold all lists)
i                           2  convert back from base 2 and print
</code></pre>
</div>
<div id="pu13" class="pu"><h1>CJam, <s>61</s> <s>50</s> <s>46</s> <s>41</s> 34 bytes</h1>
<p>Thanks @Dennis for pointing out a 4 bytes golf.</p>
<pre><code>rrc'~=:X;r]{i2bF0e[}/.{X{{;}|}&amp;}2b
</code></pre>
<p><a href="http://cjam.aditsu.net/#code=rrc%27%7E%3D%3AX%3Br%5D%7Bi2bF0e%5B%7D%2F.%7BX%7B%7B%3B%7D%7C%7D%26%7D2b&amp;input=234%20%C2%A2%204321" rel="nofollow noreferrer">Try it online</a>.</p>
</div>
<div id="pu14" class="pu"><h1>K5, <s>53</s> 52 bytes</h1>
<pre><code>{b/({,/x,'y};{x@&amp;y})[*&quot;~&quot;=y][b\.x;(b:20#2)\.z]}.&quot; &quot;\
</code></pre>
<p>53-byte version:</p>
<pre><code>{b/({,/x,'y};{x@&amp;y})[*&quot;¢~&quot;?y][b\.x;(b:20#2)\.z]}.&quot; &quot;\
</code></pre>
<p>Still needs a bit more golfing.</p>
</div>
<div id="pu15" class="pu"><h2>Matlab, <s>119</s> 113 bytes</h2>

<pre><code>function f(s)
t=dec2bin(str2double(strsplit(s,{'¢' '~'}))');u=any(s&gt;'~');[~u u]*bin2dec({t(1,t(2,:)==49) t(:)'})
</code></pre>

<p>Ungolfed:</p>

<pre><code>function f(s)                                     % input s is a string
t = dec2bin(str2double(strsplit(s,{'¢' '~'}))');  % get the two numbers and convert to
                                                  % two-row char array of zeros of ones
u = any(s&gt;'~');                                   % 1 indicates '¢'; 0 indicates '~'
[~u u]*bin2dec({t(1,t(2,:)==49) t(:)'})           % compute both results and display
                                                  % that indicated by u
</code></pre>

<p>Examples:</p>

<pre><code>&gt;&gt; f('234 ¢ 4321')
ans =
    16841865

&gt;&gt; f('2345 ~ 7245')
ans =
    37
</code></pre>
</div>
<div id="pu16" class="pu"><h1>C, <s>127</s> 123 bytes + 5 penalty = 128</h1>
<p><code>scanf</code> counts the unicode symbol as more than one character which complicates things a lot, so I'm applying the 5-byte penalty for using <code>$</code>.</p>
<pre><code>a,b,q,x,i;main(){scanf(&quot;%d %c %d&quot;,&amp;a,&amp;q,&amp;b);for(i=65536;i/=2;)q%7?x=x*4|a/i*2&amp;2|b/i&amp;1:b/i&amp;1&amp;&amp;(x=x*2|a/i&amp;1);printf(&quot;%u&quot;,x);}
</code></pre>
<p>The changes from the original version are:</p>
<p>-The test for $ or ~ has been revised from <code>q&amp;2</code> to <code>q%7</code>. This reverses the true/false values, allowing the code for $ operator to go before the  <code>:</code> which means a set of parentheses can be eliminated.</p>
<p>-The <code>i</code> loop now counts down in powers of 2 which is longer, but permits <code>&gt;&gt;</code> to be substituted by <code>/</code> and saves some parentheses.</p>
<p><strong>Original version 127 bytes</strong></p>
<pre><code>a,b,q,x,i;
main(){
  scanf(&quot;%d %c %d&quot;,&amp;a,&amp;q,&amp;b);
  for(i=16;i--;)
    q&amp;2?
      b&gt;&gt;i&amp;1&amp;&amp;(x=x*2|a&gt;&gt;i&amp;1):    // ~ operator. &amp;&amp; used as conditional: code after it is executed only if code before returns truthy.
      (x=x*4|(a&gt;&gt;i&amp;1)*2|b&gt;&gt;i&amp;1); // $ operator
  printf(&quot;%u&quot;,x);
}
</code></pre>
<p>I went with a single loop with the conditionals inside to avoid the overhead of two loops. In both cases I rightshift the bits of the operands down to the 1's bit, and build up the result from the most significant to least significant bit, leftshifting the result (multiplying by 2 or 4) as I go.</p>
</div>
<div id="pu17" class="pu"><h2>Pyth, 43 bytes</h2>

<p>Part of me feels nervous posting such a long Pyth answer on isaacg's question... :oP</p>

<pre><code>J.(Kczd1Am.BvdKiu?qJ\~u+G?qeH\1hHk+VGHk.iGH2
</code></pre>

<p>Explaination:</p>

<pre><code>                                               Implicit: z=input(), k='', d=' '
   Kczd                                        Split z on spaces, store in K
J.(    1                                       Remove centre element from K, store in J
         m    K                                For each d in K
          .Bvd                                 Evaluate as int, convert to binary string
        A                                      Store pair in G and H
                                               ~ processing:
                                 +VGH          Create vectorised pairs ([101, 110] -&gt; [11, 01, 10])
                     u               k         Reduce this series, starting with empty string
                        ?qeH\1                 If 2nd digit == 1...
                              hHk              ... take the 1st digit, otherwise take ''
                      +G                       Concatenate
                                      .iGH     ¢ processing: interleave G with H
                ?qJ\~                          If J == ~, take ~ processing, otherwise take ¢
               i                          2    Convert from binary to decimal
</code></pre>
</div>
<div id="pu18" class="pu"><h1>J, 173</h1>
<pre><code>f=:|.&quot;1@(&gt;@(|.&amp;.&gt;)@(#:@{:;#:@{.))
m=:2&amp;#.@:,@:|:@:|.@:f
s=:2&amp;#.@#/@:f
a=:{&amp;a.@-.
(1!:2)&amp;2(s@&quot;.@:a&amp;126)^:(126 e.i)((m@&quot;.@:a&amp;194 162)^:(1 e.194 162 E.i)i=._1}.(a.i.((1!:1)3)))
</code></pre>
<p>expects one line of input</p>
<p>input expected to terminate after new line with EOF</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/54412/">54412</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




