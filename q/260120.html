<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::260120</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>051</td><td>Janet</td><td>250507T204805Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/279587#279587">xigoi</a></td></tr>
<tr d-ix="1"><td>047</td><td>Juby</td><td>250507T184141Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/279579#279579">Jordan</a></td></tr>
<tr d-ix="2"><td>048</td><td>Perl 5 MListUtil=product</td><td>250507T201743Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/279586#279586">Xcali</a></td></tr>
<tr d-ix="3"><td>024</td><td>CASIO BASIC CASIO fx9750GIII</td><td>250507T190457Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/279582#279582">madeforl</a></td></tr>
<tr d-ix="4"><td>029</td><td>x8664 machine code</td><td>230711T172912Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/262646#262646">engineer</a></td></tr>
<tr d-ix="5"><td>031</td><td>Haskell</td><td>230422T155427Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260369#260369">Wheat Wi</a></td></tr>
<tr d-ix="6"><td>012</td><td>Pip</td><td>230416T105644Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260153#260153">The Thon</a></td></tr>
<tr d-ix="7"><td>023</td><td>Julia 0.7</td><td>230420T184903Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260319#260319">Kirill L</a></td></tr>
<tr d-ix="8"><td>049</td><td>Zsh</td><td>230420T022835Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260296#260296">GammaFun</a></td></tr>
<tr d-ix="9"><td>025</td><td>Raku</td><td>230420T003439Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260294#260294">Jo King</a></td></tr>
<tr d-ix="10"><td>005</td><td>Pyth</td><td>230419T152054Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260272#260272">CursorCo</a></td></tr>
<tr d-ix="11"><td>054</td><td>Rust</td><td>230418T145629Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260243#260243">JSorngar</a></td></tr>
<tr d-ix="12"><td>015</td><td>Ohm v2</td><td>230417T231333Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260220#260220">Cliff</a></td></tr>
<tr d-ix="13"><td>039</td><td>FunStack alpha</td><td>230417T214107Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260218#260218">DLosc</a></td></tr>
<tr d-ix="14"><td>064</td><td>BrainFlak</td><td>230417T200428Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260212#260212">Nitrodon</a></td></tr>
<tr d-ix="15"><td>510</td><td>Nibbles</td><td>230416T175152Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260162#260162">Dominic </a></td></tr>
<tr d-ix="16"><td>004</td><td>Oasis</td><td>230417T085421Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260186#260186">Kevin Cr</a></td></tr>
<tr d-ix="17"><td>011</td><td>Brachylog</td><td>230417T091714Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260187#260187">Fatalize</a></td></tr>
<tr d-ix="18"><td>004</td><td>05AB1E</td><td>230417T083553Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260185#260185">Kevin Cr</a></td></tr>
<tr d-ix="19"><td>006</td><td>APLDyalog Unicode</td><td>230416T195930Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260167#260167">user1172</a></td></tr>
<tr d-ix="20"><td>007</td><td>MATL</td><td>230416T195337Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260166#260166">beaker</a></td></tr>
<tr d-ix="21"><td>032</td><td>C gcc</td><td>230416T181158Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260163#260163">Noodle9</a></td></tr>
<tr d-ix="22"><td>020</td><td>Wolfram Language Mathematica</td><td>230416T171750Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260161#260161">att</a></td></tr>
<tr d-ix="23"><td>006</td><td>Thunno 2</td><td>230416T104938Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260152#260152">The Thon</a></td></tr>
<tr d-ix="24"><td>031</td><td>R</td><td>230416T080743Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260148#260148">Dominic </a></td></tr>
<tr d-ix="25"><td>004</td><td>Japt</td><td>230416T115536Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260155#260155">Shaggy</a></td></tr>
<tr d-ix="26"><td>5342</td><td>><> Fish</td><td>230416T065608Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260143#260143">mousetai</a></td></tr>
<tr d-ix="27"><td>4035</td><td>PARI/GP</td><td>230416T011001Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260132#260132">138 Aspe</a></td></tr>
<tr d-ix="28"><td>022</td><td>minigolf</td><td>230416T003327Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260130#260130">user1176</a></td></tr>
<tr d-ix="29"><td>048</td><td>Curry PAKCS</td><td>230416T090911Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260151#260151">lesobrod</a></td></tr>
<tr d-ix="30"><td>028</td><td>JavaScript ES6</td><td>230415T223202Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260122#260122">Arnauld</a></td></tr>
<tr d-ix="31"><td>010</td><td>J</td><td>230416T081323Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260149#260149">south</a></td></tr>
<tr d-ix="32"><td>038</td><td>Excel</td><td>230416T051914Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260142#260142">Jos Wool</a></td></tr>
<tr d-ix="33"><td>040</td><td>Python</td><td>230416T031658Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260140#260140">loopy wa</a></td></tr>
<tr d-ix="34"><td>028</td><td>Desmos</td><td>230416T020210Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260135#260135">Aiden Ch</a></td></tr>
<tr d-ix="35"><td>054</td><td>Retina</td><td>230416T010747Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260131#260131">Neil</a></td></tr>
<tr d-ix="36"><td>010</td><td>Pyt</td><td>230415T235504Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260129#260129">Kip the </a></td></tr>
<tr d-ix="37"><td>020</td><td>Wolfram Language Mathematica</td><td>230415T233946Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260128#260128">Unmitiga</a></td></tr>
<tr d-ix="38"><td>012</td><td>Charcoal</td><td>230415T232725Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260127#260127">Neil</a></td></tr>
<tr d-ix="39"><td>004</td><td>Jelly</td><td>230415T223744Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260123#260123">Jonathan</a></td></tr>
<tr d-ix="40"><td>004</td><td>Vyxal</td><td>230415T224135Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260124#260124">lyxal</a></td></tr>
<tr d-ix="41"><td>006</td><td>Jelly</td><td>230415T222758Z</td><td><a href="https://codegolf.stackexchange.com/questions/260120/alternating-factorial/260121#260121">caird co</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://janet-lang.org/" rel="nofollow noreferrer">Janet</a>, 51 bytes</h1>
<pre class="lang-none prettyprint-override"><code>|(reduce|(-(*;(map|(+ $ 2)(range $1)))$)0(range $))
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/cyoce/J-uby" rel="nofollow noreferrer">J-uby</a>, 47 bytes</h1>
<pre class="lang-ruby prettyprint-override"><code>:+|:*&amp;(:+|:/&amp;:*)|:~|~:zip&amp;[1,-1].cycle|:sum++:*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m700K740qXLBIjfbpaUlaboWN_WttGustNQ0QJS-mpWWZo1VXU2dVVVmgVq0oY6uYaxecmVyTmqNVXFprra2lRZU26QCBbdog1gFZQUFBQMuEMcQwjEEc4yQOcYQjimYYwKVsQTzTKE8A4hKMwjXDCprDuGamBhBpC0gfGNTC0uIAkuogJGZpYUhxGULFkBoAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<pre class="lang-ruby prettyprint-override"><code>:+ | :* &amp; (:+ | :/ &amp; :*) | :~ | ~:zip &amp; [1,-1].cycle | :sum + +:*

:+ |                    # Range 1..input
* &amp; (            ) |    # Map with...
     :+ | :/ &amp; :*       #   Range 1..n reduced by multiplication
:~ |                    # Reverse, then
~:zip &amp; [1,-1].cycle |  # Zip with endless list [1,-1,1,-1,...], then
:sum + +:*              # Sum products of zipped pairs
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-MList::Util=product,sum -pa</code>, 48 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_=1*sum map{(-1)**(&quot;@F&quot;-$_)*product 1..$_}1..$_
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3tZQq7g0VyE3saBaQ9dQU0tLQ8nBTUlXJV5Tq6AoP6U0uUTBUE9PJb4WTP7/b/Avv6AkMz@v@L@ur6megaEBkPbJLC6xsgotycyxherRAZr5X7cgEQA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1>CASIO BASIC (CASIO fx-9750GIII), 24 bytes</h1>
<pre><code>?→N
Σ((-1)^(N-I)I!,I,1,N
</code></pre>
<p>is exactly the equation</p>
</div>
<div id="pu4" class="pu"><h1>x86-64 machine code, 29 bytes</h1>
<p>Uses standard System V ABI with signature <code>long afact(int n)</code>. The input <code>n</code> is taken in <code>rdi</code>, and the output is given in <code>rax</code>.</p>
<pre><code>31 c0 85 ff 74 16 ff c0 57 59 48 f7 e1 e2 fb 50 ff cf e8 e9 ff ff ff 48 29 04 24 58 c3
</code></pre>
<p><a href="https://tio.run/##nVRZj9MwEH73r5gtWqlhmx6w2oceK4F44QHxgAQP29XKdZzUi@MJPnqA@O1l7KSlCxJIG1XpeDzH982RFXfrgxRrhN7hbqW8g5vre8ZmYLirgZd6GP9zjBJCXkpd3lwz5qTwCg0Mvdx5BvRUGldckwcXPvovnvOQn0ZslKlGVopgndpIEFivlOEp30aSDs2z46cEpmph9pXxYDLSlag1bh3sbq7h0959hjdv38cagDJgC0UiBt8En858x5L7NPGegVNGSPBr5YB@Log1cCi581BZ3BIXKINpy9WXzknjFdd7MBfZANCQ5GqudRdsw3WQDrCk5NxKqDAG8AhbtF@Bm/2W7wfg6EyF4WTjXKhjdu5hDPMFuc1hMh4PWRdQaMltAh3PO7Qg@W4QX0cLK32wRJVSLsZJ5yWBl4UaxFfSPH6Hh4fE@oHMzdE1KtASHSiVdf5YEOlj/Ih6klRUoJQwyp1NLC3dW9Fqm@DWqdLpgE26OJl6VUs3ZUcEpW6OtSde8JJI9/M8S6o66FPQOEpw5vQk/0VsVtfODjanYVP@DM9TyBXRaufG5JPs3LeQ4lQpQb08bkEXN6y8pXMCW1qs4Rs1s4A765p76NMcJEMyO78Y/Jk@VoWbomvX70LFRp73pi0NSYce3HYLzFi74uwFtUKHQsLc@ULhcH3L2GgElRCEuR4K6Pac9p22/kvkkn98Te47L2lG/tqdGWNRqLky/Q2qIoMfKX1Jc5ZM1GI8AzV/NaH31VXLNEG3dFv2l7022mWRTeFSF0uz7A2ABq9LksUMHZ84pOMZ@8kSLwLL2D8/Uv8lNRyRguHqsQh1A/k7yD8QKKlb@8Mv" rel="nofollow noreferrer">Try it online!</a></p>
<h2>Explanation</h2>
<p>The function implements the recurrence relation <span class="math-container">\$\operatorname{af}(n)\$</span> as given in the question.</p>
<pre><code>afact:
    ; clear rax
    xor eax, eax

    ; return if n=0
    test edi, edi
    jz __afact_retn

    ; factorial first
    ; set eax to 1
    inc eax
    
    ; n into rcx
    push rdi
    pop rcx

    ; n times:
__afact_flp:
    ; rax *= n(--)
    mul rcx
    loop __afact_flp
    
    ; n! is in rax
    ; save it
    push rax
    
    ; get afact(n-1) in rax
    dec edi
    call afact

    ; subtract rax from qword [rsp] (n!)
    sub qword [rsp], rax
    
    ; pop and return
    pop rax

__afact_retn:
    ret
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a>, 31 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>x!1=abs x
x!y=(1-x*y)!(y-1)
</code></pre>
<pre><code>(0!)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708I7E4OzUnZ8GCpaUlaboWuysUDW0Tk4oVKrgqFCttNQx1K7QqNRU1KnUNNSEqbirkJmbmKdgqFBRl5pUoqAC5BQoaBoqaCtGGCnp6CpaxEHUwEwE" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a>, <s>17 16</s> 12 bytes</h1>
<pre><code>$* *\,\,aFDv
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m724ILNgwYKlpSVpuhZrVLQUtGJ0YnQS3VzKIEJQmcXRFrFQJgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Port of Jonathan Allan's Jelly answer.</p>
<p><em>-4 thanks to @DLosc</em></p>
<h4>Explanation</h4>
<pre class="lang-lisp prettyprint-override"><code>$* *\,\,aFDv   ; Input on command line
      \,a      ; Range from 1 to input
    \,         ; Range from 1 to each
$* *           ; Product of each inner list
         FDv   ; From a list of digits in base -1
               ; Implicit output
</code></pre>
<p>Old:</p>
<pre class="lang-lisp prettyprint-override"><code>({$*\,a}M\,a)FDv   ; Input on command line
         \,a       ; Range from 1 to input
 {     }M          ; Map over this list:
  $*               ;   Product of...
    \,a            ;   ...range from 1 to the number
(           )FD    ; Convert from a list of digits...
               v   ; ...in base -1
                   ; Implicit output
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.7</a>, 23 bytes</h1>

<pre class="lang-julia prettyprint-override"><code>!n=n&gt;0?prod(1:n)-!~-n:0
</code></pre>
<p><a href="https://tio.run/##yyrNyUw0//9fMc82z87AvqAoP0XD0CpPU1exTjfPyuC/g55CQVFmXklOnoaihoGVpabmfwA" rel="nofollow noreferrer" title="Julia 0.7 – Try It Online">Try it online!</a></p>
<p>Uses the recursive formula.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 49 bytes</h1>

<pre class="lang-sh prettyprint-override"><code>r=i=$[$1&gt;0]
for n ({$1..2})((r=r*n+(i=-i)))
&lt;&lt;&lt;$r
</code></pre>
<p><a href="https://tio.run/##HcohDoAwDABAzysqKloIzYZe@QhBzCzUjKQ4yN4@CKfvvo6eCzF1V1PcMK5hH8rpUIEejCJLYyJXH@tEprMx85BSQu/8P/teEImhMeQCaP0F" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></p>
<p>This turned into a super interesting problem, because managing the right base cases for a recursive solution takes too many bytes. Instead, I came up with an equivalent form:</p>
<p><span class="math-container">$$ \mbox{af}(n)=\mbox{af}'(1,-1,n)=\begin{cases}
r,i,0 :&amp; 0
\\ r,i,1 :&amp; r
\\ r,i,n :&amp; \mbox{af}'(r\cdot n+i,-i,n-1)
\end{cases} $$</span></p>
<p>There's probably a way to make both this form and the program shorter. I had to use <code>r=i=$[$1&gt;0]</code> instead of <code>r=i=1</code> to get the <span class="math-container">\$ n=0 \$</span> case, otherwise this program will output <code>-1</code>. Also, you may notice that since my program uses a range between <code>$1</code> and <code>2</code>, that it doesn't follow the recursion above for <span class="math-container">\$n = 1\$</span>. It turns out, looping upwards to 2 results in <span class="math-container">\$(1\cdot 1 -1)\cdot 2 + 1 = 1\$</span>, so it all works out okay.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Raku</a>, 25 bytes</h1>

<pre class="lang-Raku prettyprint-override"><code>{[[&amp;(&amp;[R-])]] [\*] 1..$_}
</code></pre>
<p><a href="https://tio.run/##K0gtyjH7n1upoJamYPu/OjpaTUMtOkg3VjM2ViE6RitWwVBPTyW@9j9XcWKlgh5QUVp@kUKcocF/AA" rel="nofollow noreferrer" title="Raku – Try It Online">Try it online!</a></p>
<p>There has got to be a better way of doing that second reduce. For reference, the <code>[op]</code> means reduce, the <code>\</code> means keep the intermediate values, and the <code>R</code> metaoperator reverses the order of the subtraction. So <code>[\*]</code> the range 1 to input will return a list of factorials from 1 to input. From this we want to fold right over the list with reversed subtraction, which would be <code>[R-]</code> right? However <code>R-</code> also has reversed precedence, so <code>a R- b R- c</code> is equivalent to <code>c - b - a</code> rather than <code>c - (b - a)</code>. So we have to make it a function rather than an operator with <code>&amp;[R-]</code>, but inserting it into the reduction operator requires an extra pair of <code>[]</code>s as well as an <code>&amp;()</code> for some reason (but <code>*R-*</code> also doesn't work for reasons). This bloats it up to the point where <code>reduce &amp;[R-]</code> is now the same length, blergh.</p>
<p>Alternatively, we can construct a sequence and index into it:</p>
<h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Raku</a>, 30 bytes</h1>
<p><em>-1 byte thanks to Steffan</em></p>

<pre class="lang-perl6 prettyprint-override"><code>{(0,{abs $_-=$*=++$}...*)[$_]}
</code></pre>
<p><a href="https://tio.run/##K0gtyjH7n1upoJamYPu/WsNApzoxqVhBJV7XVkXLVltbpVZPT09LM1olPrb2P1dxYqWCHlBlWn6RQpyhwX8A" rel="nofollow noreferrer" title="Raku – Try It Online">Try it online!</a></p>
<p>If <a href="https://codegolf.meta.stackexchange.com/a/25537/76162">this IO method</a> ends up allowed as default, then this can be shortened to <a href="https://tio.run/##K0gtyjH7n1up4JCmYPvfQKc6MalYQSVeV0NFy1ZbW0WzVk9PT@u/NVdxIkhJtEp8rEJafpFCnKHBfwA" rel="nofollow noreferrer">23 bytes</a>.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 5 bytes</h1>
<pre><code>aF.!S
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/P9FNTzH4/39TAA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>aF.!SQ    # implicitly add Q
          # implicitly assign Q = eval(input())
    SQ    # inclusive range from 1 to Q
  .!      # map to factorial
aF        # fold over the absolute difference
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.rust-lang.org" rel="nofollow noreferrer">Rust</a>, 54 bytes</h1>
<pre class="lang-rust prettyprint-override"><code>fn a(n:i64)-&gt;i64{if n&lt;2{n}else{n*a(n-2)+(n-1)*a(n-1)}}
</code></pre>
<p>All my attempts at golfing this straightforward recursive solution just made the code longer, so I welcome any help!</p>
<p><a href="https://ato.pxeger.com/run?1=XVBLasMwEKVL-xSTrKRWBkuxHbspPUFvYEwwQQZBOklkmS6ETtKNF-2qJ2pPU8UJrZVZzPA-MzDv_UMPvRm_OoTXViGhYD8H0yXld-GpluCjKjKaPPtuVQf4JCw6ue-lxXuvJoI--M7pBDh17rL9c_cSHbVCs8cFWU6H6JJu4qg7aKgVHgfDYHfQWu7MtsX-TeoGFEIdw7XqlEHasH_MGfA5Fjd4xSCf48zr1ZzIPZEGKwWDIvSsGWSZCEwlg1VeVoGt8pwoqpI3E9fYP6nte6nNVp4WpCXTn_T2UbqBOJqlYyebAxva3Dmv80kXX0Mdx8v8BQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/nickbclifford/Ohm" rel="nofollow noreferrer">Ohm v2</a>, 15 bytes</h1>
<pre><code>?@(!1→ρΓ³#R(ⁿ*Σ
</code></pre>
<p><a href="https://tio.run/##ASAA3/9vaG0y//8/QCghMeKGks@BzpPCsyNSKOKBvyrOo///Ng" rel="nofollow noreferrer" title="Ohm v2 – Try It Online">Try it online!</a></p>
<p>Ohm is very weird. It thinks that the factorial of <code>1</code> is <code>nil</code>, doesn't do base conversion from -1 like other answers and doesn't like formatting numbers correctly sometimes.</p>
<h2>Explained</h2>
<pre><code>?@(!1→ρΓ³#R(ⁿ*Σ
?     # only execute this program if the input is not 0
@(    # the range 2..input
!     # factorial of each
1→ρ  # append 1 to that and rotate right. This is because `1!` gives nil
Γ     # Push -1
³#R(  # range(0, n - 1)[::-1]
ⁿ     # -1 to the power of each of those numbers 
Σ     # summed.
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/dloscutoff/funstack" rel="nofollow noreferrer">FunStack</a> alpha, 39 bytes</h1>
<pre><code>Minus foldl 0 Product map IFrom1 IFrom1
</code></pre>
<p>Try it at <a href="https://replit.com/@dloscutoff/funstack" rel="nofollow noreferrer">Replit</a>!</p>
<h3>Worked example</h3>
<pre><code>                4
IFrom1          [1,2,3,4]
IFrom1          [[1],[1,2],[1,2,3],[1,2,3,4]]
Product map     [1,2,6,24]
Minus foldl 0   19
</code></pre>
<p>where the last bit is</p>
<pre><code>Minus          Subtract first argument from second
      foldl    Left-fold on that function
            0  starting with an accumulator value of 0
</code></pre>
<p>and so our result is -(-(-(-0+1)+2)+6)+24 = 19.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/DJMcMayhem/Brain-Flak" rel="noreferrer">Brain-Flak</a>, 64 bytes</h1>
<pre><code>{(({})[()]&lt;({([{}]()({}))([{}]({}))}{}{}([{}])((){}))&gt;)}{}({}&lt;&gt;)
</code></pre>
<p><a href="https://tio.run/##SypKzMzTTctJzP7/v1pDo7pWM1pDM9ZGo1ojuro2VkMTJKIJYYNYtdVACOZqamhogkTsQGJAORs7zf//LQA" rel="noreferrer" title="Brain-Flak – Try It Online">Try it online!</a></p>
<p>This does not compute any factorials as intermediate results.  Instead, it multiplies by successively smaller numbers and either adds or subtracts one.  Sample calculation for the alternating factorial of 5:</p>
<pre><code>0  *6 +1 = 1
1  *5 -1 = 4
4  *4 +1 = 17
17 *3 -1 = 50
50 *2 +1 = 101
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, <s>5.5</s> 5 bytes (10 nibbles)</h1>
<p><em>Edit: -0.5 bytes (1 nibble) thanks to xigoi</em></p>
<pre><code>/.\,$`*,$-
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708LzMpKSe1eMGCpaUlaboWq_T1YnRUErR0VHQhAlDxBesNuAy5jLiMuUy4TLnMuMwhwgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/260148/95126">my R answer</a>.</p>
<pre><code>/.\,$`/,$*-
 .          # map over
  \         # reverse of 
   ,$       # 1..input:
     `*     #   product of
       ,$   #   1..each element
            # (at this point we have list of
            # factorials in reverse order);
/           # now, fold over this from right to left
         -  # by subtraction
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/Adriandmen/Oasis" rel="nofollow noreferrer">Oasis</a>, 4 bytes</h1>
<pre><code>n!-0
</code></pre>
<p><a href="https://tio.run/##y08sziz@/z9PUdfg////lgA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>   0 # Start with a(0)=0 (Oasis programs implicitly start with a(0)=1 unfortunately)
     # And calculate every following a(n) by:
  -  #  Subtracting
     #  the implicit previous term a(n-1)
n!   #  from n!
     # (and output the a(implicit input-argument)'th term implicitly as result)
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 11 bytes</h1>
<pre><code>0|-₁↰I&amp;ḟ;I-
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r/36BG91FT46O2DZ5qD3fMt/bU/f/f8n8UAA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>Uses the recurrence relation.</p>
<pre><code>0             af(0) = 0
 |            Or
  -₁↰I        I = af(Input - 1)
      &amp;ḟ;I-   Output = Input! - I
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 4 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>L!®β
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/260123/52210"><em>@JonathanAllan</em>'s Jelly answer</a>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f/fR/HQunOb/v83BQA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W95bJKfvZLCo7ZJCkr2fv99FA@tO7fpv85/AA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Outputting the infinite sequence would be 5 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a>:</strong></p>
<pre><code>0λN!α
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/f4NxuP8VzG///BwA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>L     # Push a list in the range [1, (implicit) input-integer]
 !    # Get the factorial of each
  ®β  # Convert it from a base-(-1) list to a base-10 integer
      # (which is output implicitly as result)

 λ    # Start a recursive environment,
      # to output the infinite sequence
      # (which is output implicitly at the end)
0     # Start with a(0)=0
      # Where every other a(n) is calculated by:
      #  (implicitly push the previous term a(n-1)
    α #  Get the absolute difference between it
  N!  #  and n!
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://dyalog.com" rel="noreferrer">APL(Dyalog Unicode)</a>, <sup><s></s></sup>6 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="noreferrer">SBCS</a></sup></h1>
<pre><code>¯1⊥∘!⍳
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=AwA&amp;c=O7Te8FHX0kcdMxQf9W4GAA&amp;f=Szu04lHvZksA&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=dfn&amp;n=f" rel="noreferrer">Try it on APLgolf!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 7 bytes</h1>
<pre><code>:Yp-1ZQ
</code></pre>
<p><a href="https://tio.run/##y00syfn/3yqyQNcwKvD/f1MA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>
</div>
<div id="pu21" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 32 bytes</h1>

<pre class="lang-c prettyprint-override"><code>f(n){n=n&lt;2?n:n*f(n-2)+f(--n)*n;}
</code></pre>
<p><a href="https://tio.run/##VVDbboMwDH3vV1hIlcJNo1CqMsr2MO0rBg8oJB3aZiqSaWiIXx8zGdA1io@OT2zLJ9w/cz6OkqHdY4an8BHv0aHUD21XMt9H28F0GGvU8FHWyGzoN0BnEkR3EVyL6qWADPrAg525MWFCERA/TGy/D4lG8TGhJAoPyXE3pGYKb1Bp4K9l6xAK/ibav2FW3j2HeZc8UcSWB//zyJq7ZdMCmxapsRIdtQXpTE@g6m/RSLasaN/NgrMqKbiuqV4sLbY0TTIP6Y2sSJZM27eqIHX9B9NVXAsuLZVIZm0r8B@AcKtyJDfaA@WthlWWiWIeOxhshf5skexshvGHy/fyrEb/6xc" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p><em>Port of <a href="https://codegolf.stackexchange.com/users/58563/arnauld">Arnauld</a>'s <a href="https://codegolf.stackexchange.com/a/260122/9481">JavaScript answer</a></em></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="noreferrer">Wolfram Language (Mathematica)</a>, 20 bytes</h1>
<pre><code>Nest[++i!-#&amp;,i=0,#]&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73y@1uCRaWztTUVdZTSfT1kBHOVbtf0BRZl5JtLKuXZoDkFsXnJyYVxeUmJeeGm2gYxn7HwA" rel="noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 6 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer" title="Thunno 2 Codepage">bytes</a></h1>
<pre><code>RR€puḋ
</code></pre>
<p>(Thunno 2 isn't on ATO yet)</p>
<p>It seems that I forgot to add a &quot;factorial&quot; built-in to Thunno 2...</p>
<p>Port of Jonathan Allan's Jelly answer.</p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>RR€puḋ  # Implicit input                              5
R       # Push the range [1..input]                   [1, 2, 3, 4, 5]
 R      # For each number in this, push its range     [[1], [1, 2], [1, 2, 3], [1, 2, 3, 4], [1, 2, 3, 4, 5]]
  €p    # Product of each inner list                  [1, 2, 6, 24, 120]
    uḋ  # Convert from base -1                        101
        # Implicit output
</code></pre>
</div>
<div id="pu24" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, <s>29</s> 31 bytes</h1>
<p><em>Edit: +2 bytes and complete change of approach to fix bug spotted by pajonk</em></p>
<pre class="lang-r prettyprint-override"><code>\(x)Reduce(`-`,gamma(x:1+1),,T)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGKxJyStMTkEtulpSVpuhb7YzQqNINSU0qTUzUSdBN00hNzcxM1KqwMtQ01dXRCNCGqthQnFhTkVGoYWhka6EANgEotWAChAQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 4 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>õÊìJ
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=9crsSg&amp;input=NQ" rel="nofollow noreferrer">Try it</a></p>
<pre><code>õÊìJ     :Implicit input of integer U
õ        :Range [1,U]
 Ê       :Factorials
  ì      :Convert from base
   J     :-1
</code></pre>
</div>
<div id="pu26" class="pu"><h1><a href="https://esolangs.org/wiki/Fish" rel="nofollow noreferrer">&gt;&lt;&gt; (Fish)</a>, <del>53</del> 42 bytes</h1>
<pre><code>i:?vl1=?n-30.
:?v\:1$:@*$1-
1.\6
00.\~~$1-
</code></pre>
<p><a href="https://mousetail.github.io/Fish/#eyJ0ZXh0IjoiaTo/dmwxPT9uLTMwLlxuOj92XFw6MSQ6QCokMS1cbjEuXFw2XG4wMC5cXH5+JDEtIiwiaW5wdXQiOiI3Iiwic3RhY2siOiIiLCJzdGFja19mb3JtYXQiOiJudW1iZXJzIiwiaW5wdXRfZm9ybWF0IjoibnVtYmVycyJ9" rel="nofollow noreferrer">Try it</a></p>
<p>The bottom 3 lines calculate the factorial of a number and push it to the stack, the top line just subtracts the top 2 elements from the stack, and prints the top of the stack if there is just one.</p>
<p>After a number is printed, the <code>-</code> crashes and the program exits.</p>
<p><a href="https://i.sstatic.net/b1oHS.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/b1oHS.png" alt="enter image description here" /></a></p>
</div>
<div id="pu27" class="pu"><h1><a href="http://pari.math.u-bordeaux.fr/" rel="nofollow noreferrer">PARI/GP</a>, <del>40</del> 35 bytes</h1>
<p>saved 5 bytes thanks to the comment.</p>
<p><a href="https://tio.run/##K0gsytRNL/j/P00jT9M2MalYo7g0VyPX1lAnT6egKD9FIxvIzNXRzdbU1PxfUJSZV6KRpmEJZAMA" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>f(n)=abs(sum(m=1,n,prod(k=1,m,-k)))
</code></pre>
</div>
<div id="pu28" class="pu"><h1><a href="https://github.com/jfioasd/minigolf" rel="nofollow noreferrer">minigolf</a>, <s>23</s> 22 bytes</h1>
<pre><code>Ti,n;o,T*:1n,n*_*;+s,_
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=3VjJkts2EK3KIQflmB9AOAeTI4oR5W2iqXGVE2df7CSTVZlSYUhIwpgiGQCUR_6VXJxD8gn5GH9NusFdBDm2K6ewVCWS6H69N5r44-90rzZJ_OLlW-_wbZoIReRejopbKtYpFZKNRvpPkLPqlfdQrLMti9UTvWKHTAaCp4on8Zm15TFfJ9HKckZHJGf1aBguacFj31rxiN1yYbXvUvuUgTiphFNKP4CY7ADAxEoD1AKYLakSwZZKZMwyk25YlCLhE8FjRUq1yY4JiRD2KhEk2LDgKY_X5OH5Y5KlIVVMOlavVsF_p9XjTKWZIhGXiiQrEiQhSxNQVBIKP_QNqIWagHgJDIVC-g9Vkjas8RXGTHq7uZaVoqW2tZt6t4ET37BrruwpUCI-irWs0V-ZWk1O_jnnbnyauOfHcz924-Pl8elYust88eW7byOlVDR4ClyLCxAVg7qyesA7G7LJkyrksScYDW1nbP0WW44n0wik6vsROpkTHsNPLuYT_yLXFBSPWGxzhzwg03nlqCATmIdsRyNYq14DNaaMjcsOOdOZM295N9fOo2nK4tBGp9pbmtqJCF0N6jg1GoskG-LW9A2DNVr-VL1e8vAalqajUchWeWxsdPFcJzWZPNBcuRTBZBap3HP4rF0SXru5X1gMySUg7zS_M28azdFW69SakyOgC5fA2dJbsW1a45bXsw3UXyF1AR4n7wGIa8076Viy56RemqS2c0HG-n2LOAKqJlFrsVgonLeISoQDh4MJidowMcBbRFwwlYm4WMsdvIqoUpAv1BlwKXqTzjtJw3XG1OFoyybjswqdD-XIq6q6W8psWymqxL6GKajz9aI8A5aqDkWVvxrMpZC8Gltk4AKwQxO4BBvOrBBUe6Bpp8EHEAdAJlGStGMMuUb4wp-3c0npDNF9oDf03QwsxQK3g9nXFMxosOlmohYjaLxmtg-FAV0MXo19NLxJh1bGSwoywVKg6OY0uoi7OZHTXW0FsWHWgZx8pSDLmRoULKpqc65rM8zSfnb9gHVoRpAaQT6jBgjkcsvb2UUZCbx3awoj7LGG3WYReb_Mb2OIau2aGaI7KLQxI2vHwrJ-mv48cKjWrClwZhCoA49SdyyAbZQ_Zx251CWX7YR0e7NTB7ybnHhV1XLZzSDNVtU5ZCInx4Q6Xex2knQMznseIlR2UUC6HMZBgQ2DgKHHq41Yj3WsYVSBWEO_eJM4H7J19Mrb2v8xwrBd0TcJ7jBLM4ZjYu40jRDGOoQ4ecCgicpjmyQc9lGI6ay_ucRmOK7hBPs9YzBexuxaETvYBxEPnHzYaSHCzixImskNmfh67EAKwiWBXVztvcN80oNbPg6hsOkNnpj4zis4bx0llzQi9XR1U5kg3aImv-iGsDGpwSbvd9dXTRJM1dowc9Iczn4Gz59pz5fpjV8WEAQK8_B-qCz7a2UOTQNWLuuKkR3VKoa8mp_zlKhniX6SRCVr1pm78HrtQmPl9G9wpDaGmowoOwxo5RmdqivVJVdYrEBko149_i_UqGbNK_CRIfBV763d2C95oEcciMv3ArCQHvY-vA5Hhhv3gzKyr7cfnJ3dsCGAOdbUn92-c_fe_ZMPdDbq0gaVUkghvmMk5Guu-nuKtrP1vVQBP_zwo0cff_LpZxrWn0JY_fv9QEAwbvB4K64nZyPy5198-dXX3zx-8u13359r9Ik_A_iJ3w-PFOMDzl4ZWJs_aOCpd7cfExaNrD9q1tnde_2ssGhk_alw1nTIUVMj688F6-zOEO_sjpH5l5x5djLAOzsxsv5aqjysM54r4Lxdf_56gqURDZhtJZYL0_GRdGO5dE-twwKsCZdIOD0djwdojpDG9U-BxmmcegT6ozI_R8nPSyRZiWRrOFTJv9YMH4zaplf_aKzWF9N2y34An2KPup0RJOJ3XDEhQ-F3O9F1_wCjeyLv2YsKTa56NG2J6ByMBBvhXjmGoRYv8w7dAQMMkG7YKEoCPAHyrsD_WmREt5chJcncKl4msOFcH-pgll1DNgDRBnDo4MmOaCpbtoXyWEuMRsWJWUtRSCVXkwB0fhz24s_b-c2_" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<pre><code>T            Push -1 (b)
i,n;         [1..n] range of input
o            Reverse it
,            Map in [n..1]:
  T*:          Multiply (b) by -1 (since -1^0 = 1
  1            Push 1
  n            Push curr. item
  ,n*_         Reduce 1..n by product
  *            mul. w/ b
;            End map
+            sum (works for 0 case since sum of [] is 0)
s,_          drop b

implicit output
</code></pre>
</div>
<div id="pu29" class="pu"><h1><a href="https://www.informatik.uni-kiel.de/%7Epakcs/" rel="nofollow noreferrer">Curry (PAKCS)</a>, 48 bytes</h1>
<pre><code>f 0=1
f x|x&gt;0=x*f(x-1)
g 0=0
g x|x&gt;0=f(x)-g(x-1)
</code></pre>
<p><a href="https://tio.run/##Sy4tKqrULUjMTi7@/z9NwcDWkCtNoaKmws7AtkIrTaNC11CTKx0obAAkIcJAQU3ddLDM/9zEzDwFW4XcxAKFdIVoAwU9PQXL2P8A" rel="nofollow noreferrer" title="Curry (PAKCS) – Try It Online">Try it online!</a></p>
<p>My first answer in Curry.
I had to determine the factorial because I couldn’t find it in the standard library</p>
</div>
<div id="pu30" class="pu"><h1>JavaScript (ES6), 28 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=n=&gt;n&lt;2?n:n*f(n-2)+--n*f(n)
</code></pre>
<p><a href="https://tio.run/##HYsxDoMwEAR7XnEFhQ/LKFAGTL6CBThKhPaQQTSW3@5Aqpli5utOt0/hsx0GMi85ews7oG9feKLyCqZlbcxfOXsJCmTp0RGop@am1kyxIJoEu6xLvcpbjU6VEYmvtIz3mUbuipR/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>This is based on the recurrence formula given on <a href="https://oeis.org/A005165" rel="nofollow noreferrer">OEIS</a> for <span class="math-container">\$n &gt; 1\$</span>:</p>
<p><span class="math-container">$$a(n) = n\times a(n-2) + (n-1)\times a(n-1)$$</span></p>
<p>This alternate form accepts either Numbers or Bigints as input:</p>

<pre class="lang-javascript prettyprint-override"><code>f=n=&gt;n&lt;2?n:n--*f(~-n)+n*f(n)
</code></pre>
<p><a href="https://tio.run/##HcsxDoMwEAXRnlNsQeHFMkKhCzi5ChbBCIT@IkBpLOfqhtC9YmZ2X7f327QeBvIZUvIW9oX28cYTxhRe/QxY4wI4edkUyFKFhkAt1Te0ZgoZUS/YZRnKRUbVOZUHRL7iPPzf2HGTxXQC" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu31" class="pu"><h1><a href="https://www.jsoftware.com" rel="nofollow noreferrer">J</a>, 10 bytes</h1>
<pre><code>_1#.1!@+i.
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">Jonathan Allan's</a> smart Jelly answer.</p>
<p><a href="https://ato.pxeger.com/run?1=m70wa8FOJT31NAVbKwV1BR0FAwUrINbVU3AO8nFbWlqSpmuxKt5QWc9Q0UE7Uw8isFGTKzU5I19JWyFNzU4hU8_QACK-YAGEBgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>_1#.1!@+i.
        i.  NB. range [0,n)
    1  +    NB. vectorized increment
     !@     NB. factorial of each
_1#.        NB. convert from base -1
</code></pre>
</div>
<div id="pu32" class="pu"><h1>Excel, 38 bytes</h1>
<p>Defined Name <code>a</code>:</p>
<pre><code>=LAMBDA(n,IF(n,FACT(n)-a(n-1),))
</code></pre>
<p>After which, within the worksheet:</p>
<pre><code>=a(A1)
</code></pre>
<p>for an input in cell <code>A1</code>.</p>
</div>
<div id="pu33" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 40 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda n:n&gt;1and~-n*f(n-1)+n*f(n-2)or n
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3NdJscxJzk1ISFfKs8uwME_NS6nTztNI08nQNNbUhDCPN_CKFPKh67TQQRyEzT6EoMS89VcPQQNOqoCgzr0RDSTXFSkE1RUlVI08HqE1TUxOiBWYVAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Port of @Arnauld's JS answer.</p>
</div>
<div id="pu34" class="pu"><h1><a href="https://desmos.com/calculator" rel="noreferrer">Desmos</a>, 28 bytes</h1>
<pre><code>f(k)=∑_{n=1}^k(-1)^{k-n}n!
</code></pre>
<p><a href="https://www.desmos.com/calculator/biwt3b1goj" rel="noreferrer">Try It On Desmos!</a></p>
<p>Yea, I really could not think of any golfier way than to just copy the formula provided in the question. Not the most creative answer out there but at least it's the golfiest in Desmos (at least it better be....).</p>
</div>
<div id="pu35" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 54 bytes</h1>
<pre><code>~(`.+
.+¶$$.($$'$&amp;*
+`_(_(_+))
$$($.&amp;$*$2$.1$*$1)
__
_
</code></pre>
<p><a href="https://tio.run/##DcW7DYAgFAXQ/s5xxQckL4L/CRwDLCxsLIy1YzmAi6E5xTm3az/WUCpZcrklq4f69yFVyJrGweckP28tSKEaOkZq@AsWKSGV0iAgokWHHgNGTJg/" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Link includes test cases. Explanation: Port of @Arnauld's JavaScript answer.</p>
<pre><code>~(`
</code></pre>
<p>Run the output of the rest of the program on the original input.</p>
<pre><code>.+
.+¶<span class="math-container">$$.($$</span>'$&amp;*
</code></pre>
<p>Convert the input to unary and replace it with a command that replaces the input with an expression that converts the literal unary string back to decimal. The unary string represents <code>f(n)</code> at this point.</p>
<pre><code>+`_(_(_+))
$$($.&amp;$*$2$.1$*$1)
</code></pre>
<p>For <code>n&gt;2</code>, repeatedly apply the recurrence relation <code>f(n)=n*f(n-2)+(n-1)*f(n-1)</code> to the unary string. <code>n</code> and <code>(n-1)</code> are represented in decimal while <code>f(n-2)</code> and <code>f(n-1)</code> remain represented in unary for the next pass.</p>
<pre><code>__
_
</code></pre>
<p><code>f(2)=1</code> while <code>f(n)=n</code> for <code>n&lt;2</code> which is already correct.</p>
<p>Example: if <code>n=7</code>, then the rest of the program produces the following output:</p>
<pre><code>.+
$.($'$(7*$(5*$(3*_2*_)4*$(4*_3*$(3*_2*_)))6*$(6*$(4*_3*$(3*_2*_))5*$(5*$(3*_2*_)4*$(4*_3*$(3*_2*_)))))
</code></pre>
<p>Retina will evaluate the expression using big integers so the limit is the length of the generated expression which has to fit in memory.</p>
<p>Note that there's an extra <code>$'</code> in the final expression in case it is empty to work around a Retina bug whereby <code>$.()</code> crashes Retina when it has no elements, but it's fine if it has a non-zero number of empty elements.</p>
<p>The recurrence relation is not used for <code>f(2)</code> because that would invoke <code>f(0)</code> whose representation would be empty, but <code>*</code> defaults to a RHS of <code>_</code> i.e. <code>1</code>. It could be done by representing <code>f(n)</code> with <code>$(n)</code> except that this triggers the empty length bug, so it needs another 3 bytes for a second copy of the workaround, making it overall a byte longer:</p>
<pre><code>.+
.+¶<span class="math-container">$$.($$</span>'$&amp;*
~)+`_(_(_*))
$.&amp;$*<span class="math-container">$$($$</span>'$2)$.1$*$$($1)
</code></pre>
</div>
<div id="pu36" class="pu"><h1><a href="https://github.com/mudkip201/pyt" rel="nofollow noreferrer">Pyt</a>, 10 bytes</h1>
<pre><code>řĐ1~⇹^⇹!·Å
</code></pre>
<p><a href="https://tio.run/##K6gs@f//6MwjEwzrHrXvjANixUPbD7f@/28GAA" rel="nofollow noreferrer" title="Pyt – Try It Online">Try it online!</a></p>
<pre><code>ř                 implicit input (n); řangify [1,2,...,n]
 Đ                Đuplicate 
  1~              -1
    ⇹             swap top two elements
     ^            -1^[1,2,3,...,n]
      ⇹           swap top two elements
       !          factorial [1!,2!,3!,...,n!]
        ·         dot product
         Å        Åbsolute value; implicit print
</code></pre>
<p>Uses that fact that <span class="math-container">\$\text{af}(n)=\left|\sum_{i=1}^n(-1)^i i!\right|\$</span></p>
</div>
<div id="pu37" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="noreferrer">Wolfram Language (Mathematica)</a>, 20 bytes</h1>
<pre><code>AlternatingFactorial
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2ar8N8xpyS1KA/Iz0t3S0wuyS/KTMz5H1CUmVcSnRZtGRv7HwA" rel="noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu38" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 12 bytes</h1>
<pre><code>Ｉ↨ＥＮΠ…¹⁺²ι±¹
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iOSOxKDk_MWfBgqWlJWm6FjcDAooy80o0nBOLSzScEotTNXwTCzQ88wpKS_xKc5NSizQ0dRQCivJTSpNLNIIS89JTNQyBAjmlxRpGOgqZmkCgo-CXmp5YApQA8ayXFCclF0NNXx6tpFuWoxS70BzCBwA" rel="nofollow noreferrer">Attempt This Online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>   Ｎ            First input as a number
  Ｅ             Map over implicit range
     …          Range from
      ¹         Literal integer `1` to
         ι      Current value
       ⁺        Plus
        ²       Literal integer `2`
    Π           Take the product
 ↨        ±¹    Interpret as base `-1`
Ｉ               Cast to string
                Implicitly print
</code></pre>
</div>
<div id="pu39" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 4 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="noreferrer">bytes</a></h1>
<pre><code>R!ḅ-
</code></pre>
<p>A monadic Link that accepts a non-negative integer, <span class="math-container">\$n\$</span>, and yields its alternating factorial.</p>
<p><strong><a href="https://tio.run/##ASUA2v9qZWxsef//UiHhuIUt/8W7wrUsw4dq4oCcID0@IOKAnSlZ//85" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>R!ḅ- - Link: n
R    - range (n) -&gt; [1, ..., n-1, n]
 !   - factorial -&gt; [1!, ..., (n-1)!, n!]
   - - -1
  ḅ  - convert from base -1 -&gt; n! - (n-1)! + ... [+/-] 1!
</code></pre>
</div>
<div id="pu40" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 4 bytes</h1>
<pre><code>ɾ¡uβ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJ+IiwiIiwiyb7CoXXOsiIsIiIsIiEoXFxkKykgKyhcXGQrKVxuMCAgIDBcbjEgICAxXG4yICAgMVxuMyAgIDVcbjQgICAxOVxuNSAgIDEwMVxuNiAgIDYxOVxuNyAgIDQ0MjFcbjggICAzNTg5OVxuOSAgIDMyNjk4MSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Port of the 4 byte jelly answer</p>
<h2>Explained</h2>
<pre><code>ɾ¡uβ 
ɾ    # range [1, n]
 ¡   # factorial of each
  uβ # converted from base -1
</code></pre>
</div>
<div id="pu41" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 6 bytes</h1>
<pre><code>R!_@ƒ0
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/z9IMd7h2CSD/0d36xxuV3nUtMb9/39LAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<h2>How it works</h2>
<pre><code>R!_@ƒ0 - Main link. Takes n on the left
R      - Range; [1, 2, ..., n]
 !     - Factorial; [1, 2, 6, ..., n!]
    ƒ0 - Reduce by the following, beginning with 0:
  _@   -   y - x
</code></pre>
<p>For a list <code>[a, b, c, d, e]</code>, <code>_@ƒ0</code> calculates</p>
<pre><code>((((0 _@ a) _@ b) _@ c) _@ d) _@ e
= e _ (d _ (c _ (b _ (a _ 0))))
= e - d + c - b + a - 0
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/260120/">260120</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




