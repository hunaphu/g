<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::4619</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>318</td><td>Python 2.x</td><td>120116T000215Z</td><td><a href="https://codegolf.stackexchange.com/questions/4619/shortest-route-through-a-one-way-system/4654#4654">Christop</a></td></tr>
<tr d-ix="1"><td>207</td><td>Haskell</td><td>120114T103820Z</td><td><a href="https://codegolf.stackexchange.com/questions/4619/shortest-route-through-a-one-way-system/4637#4637">hammar</a></td></tr>
<tr d-ix="2"><td>390</td><td>C</td><td>120113T015601Z</td><td><a href="https://codegolf.stackexchange.com/questions/4619/shortest-route-through-a-one-way-system/4625#4625">Ali1S232</a></td></tr>
</table>
<div id="pu0" class="pu"><h2>Python (2.x), <strike>382</strike> <strike>369</strike> <strike>358</strike> <strike>338</strike> <strike>323</strike> 318 characters</h2>
<p>All tips and comments welcome!</p>
<pre><code>import os;u=str.split;l=u(os.read(0,1e9),'\n')
p,g,c=l.index(''),{},map;o=g.setdefault
def f(g,s,e,q=[]):q=q+[s];y=([],[q])[s==e];[c(y.append,f(g,n,e,q))for n in set(o(s,[]))-set(q)];return y
for k,v in c(u,l[:p]):o(k,[]);g[k]+=v
for w,e in c(u,l[p+1:]):h=sorted(f(g,w,e));print''if not h else' '.join(min(h,key=len))
</code></pre>
<p>Should pass the tests in this form. Feed input via stdin, e.g. <code>python shortestroute.py &lt; test.txt</code>.</p>
</div>
<div id="pu1" class="pu"><h2>Haskell, <s>223</s> 207 characters</h2>

<pre><code>main=interact$unlines.f.break null.map words.lines
s%[f,t]=[[f]]#t where[]#_="";x#t|y@(_:_)&lt;-[z|z&lt;-x,last z==t]=unwords$minimum y|1&lt;3=s&amp;x#t
s&amp;z=[x++[b]|x&lt;-z,[a,b]&lt;-s,last x==a,notElem b x];f(s,_:q)=map(s%)q
</code></pre>
</div>
<div id="pu2" class="pu"><h1>C:<strike>450</strike>,<strike>437</strike>,<strike>404</strike>,390 characters</h1>

<pre><code>#include&lt;stdio.h&gt;
#include &lt;string.h&gt;
r[99][99],p[99],q[99],m[99],i,j,x,y,s;
char t[9],e[9999];
F(k)
{
    m[k]^s?r[p[k]=q[i]][k]?m[q[j++]=k]=s:0:0;
    if(++k&lt;99)F(k);
}
f()
{
    F(0);
    if(++i^j)f();
}
P(o)
{
    if(p[o])P(p[o]);
    *t=m[o]^s?0:o;
    strcat(e,t);
}
w()
{
    gets(t);
    r[*t][t[2]]=*t?w():0;
}
W()
{
    gets(t);
    x=*t,x?y=t[j=2],s=x+y*99,m[q[t[2]=i=p[x]=0]=x]=s,f(),P(y),strcat(e,"\n"),W():0; 
}
main()
{
    w();
    W();
    puts(e);
}
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/4619/">4619</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




