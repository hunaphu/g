<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::237895</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>125</td><td>[Kotlin]</td><td>250128T164604Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/277964#277964">lukas.j</a></td></tr>
<tr d-ix="1"><td>056</td><td>Zsh</td><td>250126T064333Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/277903#277903">roblogic</a></td></tr>
<tr d-ix="2"><td>1135</td><td>☾</td><td>250124T173437Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/277866#277866">noodle p</a></td></tr>
<tr d-ix="3"><td>008</td><td>Uiua</td><td>250125T003951Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/277875#277875">janMakos</a></td></tr>
<tr d-ix="4"><td>006</td><td>Vyxal</td><td>250124T214920Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/277872#277872">lyxal</a></td></tr>
<tr d-ix="5"><td>010</td><td>Japt</td><td>241020T054515Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/276207#276207">Shaggy</a></td></tr>
<tr d-ix="6"><td>008</td><td>Uiua</td><td>240313T175906Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/271780#271780">noodle p</a></td></tr>
<tr d-ix="7"><td>072</td><td>JavaScript Node.js</td><td>240410T091825Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/272468#272468">tsh</a></td></tr>
<tr d-ix="8"><td>452</td><td>Scratch</td><td>240410T075737Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/272465#272465">Patric</a></td></tr>
<tr d-ix="9"><td>nan</td><td>In true Perl spirit</td><td>211201T223610Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237915#237915">Xcali</a></td></tr>
<tr d-ix="10"><td>100</td><td>YASEPL</td><td>240313T184550Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/271781#271781">madeforl</a></td></tr>
<tr d-ix="11"><td>103</td><td>Swift</td><td>240313T185524Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/271782#271782">macOSist</a></td></tr>
<tr d-ix="12"><td>086</td><td>JavaScript V8</td><td>211204T181718Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/238071#238071">noodle p</a></td></tr>
<tr d-ix="13"><td>073</td><td>Julia 1.0</td><td>220217T174410Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/242971#242971">amelies</a></td></tr>
<tr d-ix="14"><td>033</td><td>x86_64 machine code</td><td>220217T140018Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/242959#242959">xiver77</a></td></tr>
<tr d-ix="15"><td>142</td><td>Clojure</td><td>211205T035356Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/238083#238083">Bob Jarv</a></td></tr>
<tr d-ix="16"><td>142</td><td>TSQL</td><td>211203T085209Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/238020#238020">t-clause</a></td></tr>
<tr d-ix="17"><td>051</td><td>C clang</td><td>211202T011547Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237931#237931">att</a></td></tr>
<tr d-ix="18"><td>119</td><td>Python 2</td><td>211201T200610Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237907#237907">Riker</a></td></tr>
<tr d-ix="19"><td>009</td><td>APL Dyalog Extended</td><td>211201T200643Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237908#237908">Ad&#225;</a></td></tr>
<tr d-ix="20"><td>041</td><td>Raku</td><td>211202T234930Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237994#237994">Sean</a></td></tr>
<tr d-ix="21"><td>013</td><td>ayr</td><td>211202T231539Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237992#237992">ZippyMag</a></td></tr>
<tr d-ix="22"><td>160</td><td>TIBasic</td><td>211202T224336Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237988#237988">Youserna</a></td></tr>
<tr d-ix="23"><td>043</td><td>Perl 5 pF</td><td>211202T102653Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237953#237953">Dom Hast</a></td></tr>
<tr d-ix="24"><td>145</td><td>C#</td><td>211202T165148Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237967#237967">Finn Raw</a></td></tr>
<tr d-ix="25"><td>076</td><td>JavaScript Node.js</td><td>211201T224615Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237918#237918">Arnauld</a></td></tr>
<tr d-ix="26"><td>089</td><td>Excel</td><td>211202T160555Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237963#237963">Axuary</a></td></tr>
<tr d-ix="27"><td>059</td><td>Ruby</td><td>211202T142849Z</td><td><a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237959#237959">G B</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>[Kotlin], 125 chars</h1>
<pre><code>val f={s:String-&gt;s.indices.map{it%2==0}.shuffled().let{s.mapIndexed{i,c-&gt;if(it[i])c.uppercaseChar()else c}}.joinToString(&quot;&quot;)}
</code></pre>
<p>Converted into a function:</p>
<pre><code>val f = fun(s: String): String {
  return s
    .indices
    .map { it % 2 == 0 }
    .shuffled()
    .let {
      s.mapIndexed { i, c -&gt; if (it[i]) c.uppercaseChar() else c }
    }
    .joinToString(&quot;&quot;)
}

println(f(&quot;hamburgers&quot;))
</code></pre>
<p>Test on Kotlin Playground: <a href="https://pl.kotl.in/TFsL13VNS" rel="nofollow noreferrer">https://pl.kotl.in/TFsL13VNS</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, <sub><s>175</s> <s>160</s> <s>144</s></sub> 56 bytes</h1>
<pre class="lang-none prettyprint-override"><code>w=$1;for q (`seq $#w|shuf -n$[$#w/2]`)w[q]=$w[q]:u;&lt;&lt;&lt;$w
</code></pre>
<p><a href="https://tio.run/##qyrO@J@moVn9v9xWxdA6Lb9IoVBBI6E4tVBBRbm8pjijNE1BN08lGsjRN4pN0CyPLoy1VQGRVqXWNjY2KuX/a7m40hTK84tSgFRheWpRSWVpZn7BfwA" rel="nofollow noreferrer">Try it online!</a>
<s><sub><a href="https://tio.run/##LYxLCoMwFAD3OUXAR3gR6m8ZjeA5RBBpg0IbNVZCG3L21EA3M6uZ7zEHhdwFK6GkWkJiiVoNXSi6Msugr9JUD55PEhw@hRaiEBwQ@ySphoVzzxgiuGTK88JLqfOKc8aapoGpbTuyyfGYT0VvuqTdWMfz/j9rzxG3fh9iYC9LiBRnHWsbzIt2xBOiqF3N/dJuH@b9OZd1Cz8" rel="nofollow noreferrer">144b</a></sub></s>
<s><sub><a href="https://tio.run/##LczLCoMwEIXhvU8RyCAzQr0to3kSEcS2wUCJ8UZs0zy7Vejqh8Ph@yzDoZD84SQUzEjgLkI1zswy7K5qhr5IU2jKJDFtoF6Cx5cwQuSCALHhvGw1UYhjRPC8z7I8SGmykiiO67qGvqMLmv6QCeR3Ca6Z2grRnrmO57KLrbKzNqtisJ/c8z6M9F2GTbGbKY4QRYq5cX6cmdxzXt@bHu3xAw" rel="nofollow noreferrer">160b</a></sub></s>
<s><sub><a href="https://tio.run/##TY3LCoMwFET3fkXAEO611NcymoXfIYJgDQolalRia/PtaYQuupphOJx5r4OTgKczgmZECRqaQE6ajATOLI5pnUeRaixWNwEtAD2hw5AC1GGYNyNikqRWCJXkiIyVZemBJ1ecpxz/KNtiAJd2JkArvNryO1AWz0NQUy9NATD7uEx@OfhezHpUmyT0sIz13TDhZx12Se4qczYIJDGTfvhYTK@31z5Os/sC" rel="nofollow noreferrer" title="Zsh – Try It Online">175b</a></sub></s></p>
<p><code>w</code> is the input word. The loop <code>for q</code> is a shuffled index into <code>w</code>, so that half of <code>w</code> is randomly uppercased. Then print the adjusted string <code>w</code>.</p>
</div>
<div id="pu2" class="pu"><h1>☾, <sub><s>16</s></sub> 11 chars (35 bytes)</h1>
<p><a href="https://i.sstatic.net/UFN8qVEDm.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/UFN8qVEDm.png" alt="enter image description here" /></a></p>
<pre><code>󷺹ᐵᣆ􍪹􊽥²⫰ᐛ⭥⟞
</code></pre>
<p>To each character, uppercase it if the corresponding element of the shuffled indices is odd.</p>
</div>
<div id="pu3" class="pu"><h1>Uiua, 8 bytes</h1>
<pre class="lang-none prettyprint-override"><code>⍥⌵◿₂°⍆°⊏
</code></pre>
<p><a href="https://uiua.org/pad?src=0_15_0-dev_1__RiDihpAgwrDiirjCseKXv-KCgsKw4o2GwrDiio8KRiDihpAg4o2l4oy14pe_4oKCwrDijYbCsOKKjwoKRiAiYXNkZmdoamtseiIK" rel="nofollow noreferrer">Try it in the pad</a></p>
<h2>Explanation</h2>
<pre class="lang-none prettyprint-override"><code>⍥⌵◿₂°⍆°⊏
      °⊏ # List of indices
    °⍆   # Random permutation
  ◿₂     # Modulo 2
⍥⌵       # Uppercase at `1`s
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 6 bytes</h1>
<pre><code>yNYÞ℅•
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCJ5TlnDnuKEheKAoiIsIiIsImFpcnBvZHNob3R0eSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>This approach is slightly different to the other ones because instead of using indices, it uses the actual input.</p>
<p>It works by uppercasing half of the input, shuffling that, and transferring the capitalisation. Effectively it's an uppercase mask like thing.</p>
<h2>Explained</h2>
<pre><code>yNYÞ℅•­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁡⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌­
yNY     # ‎⁡Uppercase every second letter in the input
y       # ‎⁢  Uninterleave
 N      # ‎⁣  Negate case (= uppercase because guaranteed lowercase). This could have been an uppercase element, but I chose N out of preference 
  Y     # ‎⁤  Re-interleave the now uppercase string and the lowercase string
   Þ℅   # ‎⁢⁡Shuffle that
     •  # ‎⁢⁢And transfer the capitalisation to the original input
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 10 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>I/O as a character array</p>
<pre><code>ímUîuiv)ö¬
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;header=cQ&amp;code=7W1V7nVpdin2rA&amp;input=InJhbmRvbWx5Y2FwaXRhbGlzZSIKLVA" rel="nofollow noreferrer">Try it</a></p>
<pre><code>ð ö¬ígUËpu
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;header=cQ&amp;code=8CD2rO1nVctwdQ&amp;input=InJhbmRvbWx5Y2FwaXRhbGlzZSIKLVA" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu6" class="pu"><h1>Uiua, <sub><s>12</s> <s>10</s></sub> 8 bytes</h1>
<pre><code>⍥⌵◿2⍏≡⊸⚂
</code></pre>
<p>Try it: <a href="https://uiua.org/pad?src=0_13_0-rc_5__RiDihpAg4o2l4oy14pe_MuKNj-KJoeKKuOKaggoKRiAiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiCuKfnCZwCuKNpCJzYW1lICMgb2YgdXBwZXIvbG93ZXIiID0wLyvCsQo=" rel="nofollow noreferrer">Uiua pad</a></p>
<p>Convert to uppercase where numbers are odd in a random permutation of the indices in the string.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 72 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;Buffer(s).map(c=&gt;Math.random()&lt;n/l--/2?(n-=2,c-32):c,n=l=s.length)+''
</code></pre>
<p><a href="https://tio.run/##VVDLboMwELzzFVYu8QpwAr1BTKTcq34A4uAYG5yAHWGDKiG@nVISUnVPs6OZ2ceNDczyTj1cqE0pZklnS7NLL6XosAXSsgfmNPtkriYd06VpMZz0oQnDQ3zGOqRxwMOPGBIeaNpQSxqhK1eDv9/P3PTaIYrGKfWk6bCix1SdouNaqfJ9GD2ELJV4x668FLKqd5Au1GrMbUE3cN6AHyVR6k3eFv11vQnuCLNWVRqPU4AIIS9SaNcpYfGqBWJN5/DzIJzfAzQUgGiG8Ijye5GgAU0AsARraxpBGlO9jN7AGvs3aun6d@g/@fqjVmm8rPDrgQA9Kfb9pmD@AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Basic idea: To Choose <span class="math-container">\$n\$</span> items from <span class="math-container">\$l\$</span> candidates, each item have <span class="math-container">\$\frac{n}{l}\$</span> probability to be chosen. And once the first item is chosen, we need to choose <span class="math-container">\$n-1\$</span> items from remaining <span class="math-container">\$l-1\$</span> candidates. If the first item is not chosen, we need to choose <span class="math-container">\$n\$</span> items from remaining <span class="math-container">\$l-1\$</span> candidates.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://scratch.mit.edu/" rel="nofollow noreferrer">Scratch</a>,452 bytes</h1>
<p>Although Scratch functions do not distinguish between uppercase and lowercase, still the letters in the different cases can be stored and outputted. We assume that every position in the string has equal chances to be capitalized.</p>
<pre><code>ask and wait
set L to ABCDEFGHIJKLMNOPQRSTUVWXYZ
set i to 
repeat until length of R&gt;(length of answer)/2-1
 set t to pick random 1 to length of answer
 if not R contains t? then
  add t to R
repeat length of answer
   if R contains i? then
    set j to 1
    repeat 26
     if letter i of answer = letter j of L then
      set a to letter j of L
     change j by 1
    else
     set a to letter i of answer
    set C to join C a
    change j by 1
say C
</code></pre>
<p><a href="https://i.sstatic.net/atXU3.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/atXU3.png" alt="enter image description here" /></a></p>
<h4>Input:</h4>
<pre><code>abcdefghijklmnopqrstuvwxyz
</code></pre>
<h4>Output:</h4>
<p><a href="https://i.sstatic.net/hCmOj.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/hCmOj.png" alt="enter image description here" /></a></p>
</div>
<div id="pu9" class="pu"><h3>In true Perl spirit, <a href="https://en.wiktionary.org/wiki/TMTOWTDI" rel="nofollow noreferrer">TMTOWTDI</a>:</h3>
<h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-MList::Util=shuffle -F</code>, 35 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>map$_=uc,(shuffle@F)[1..@F/2];say@F
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/z83sUAl3rY0WUejOKM0LS0n1cFNM9pQT8/BTd8o1ro4sdLB7f//xKTklNS09H/5BSWZ@XnF/3V9TfUMDA2AtE9mcYmVVWhJZo4tVP9/XTcA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-F</code>, 49 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>@k{0..$#F}=1;map$_=uc,@F[(keys%k)[1..@F/2]];say@F
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/98hu9pAT09F2a3W1tA6N7FAJd62NFnHwS1aIzu1slg1WzPaUE/PwU3fKDbWujix0sHt///EpOSUf/kFJZn5ecX/dX1N9QwMDf7rugEA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/madeforlosers/YASEPL-esolang" rel="nofollow noreferrer">YASEPL</a>, 100 bytes</h1>
<pre><code>=1'±&quot;&quot;=a®1=b$a/=i`1=r¢1,a-=c¥r,1=u$32`2!t$u»}3,c,3!u+|2`3!u}2,91-32»!¤r,u!i+}2,b=i`4=c¥i,1~!i+}2,a,4
</code></pre>
<p>explanation:</p>
<pre><code>=1'±&quot;&quot;=a®1=b$a/=i`1=r¢1,a-=c¥r,1=u$32`2!t$u»}3,c,3!u+|2`3!u}2,91-32»!¤r,u!i+}2,b=i`4=c¥i,1~!i+}2,a,4             packed
=1'                                                                                                              get user input and set it to var1
   ±&quot;&quot;                                                                                                           split it every character (to bypass a bug in the yasepl code)
      =a®1                                                                                                       A = length of var1
          =b$a/                                                                                                  B = length of var1 divided by 2
               =i                                                                                                increment variable
                 `1                                                      !i }2,b                                 do while I &lt; B...
                   =r¢1,a-=c¥r,1                                                                                 C = character from var1 at random position
                                =u$32`2!t$u»}3,c,3!u+|2`3!u}2,91                                                 if C is uppercase then continue loop, do not increment. if not, continue
                                                                -32»!¤r,u                                        make character at the position lowercase in list
                                                                           +                                     increment I
                                                                                =i`4=c¥i,1~!i+}2,a,4             join list together once done and print it
</code></pre>
</div>
<div id="pu11" class="pu"><h1>Swift, 103 bytes</h1>
<pre class="lang-swift prettyprint-override"><code>let f={zip($0+&quot;&quot;,(0..&lt;$0.count).shuffled().map{$0%2&lt;1}).map{(x,y)in y ?x.uppercased():&quot;\(x)&quot;}.joined()}
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, <s>88</s> 86 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=s=&gt;(r=s.replace(/./g,c=&gt;Math.random()&gt;.5?c:c.toUpperCase(a+=2),a=0)).length-a?f(s):r
</code></pre>
<p><a href="https://tio.run/##dc2xCsIwFEDR3a8onRJsUxEEEVIRZ0cXxeH5TFM1TWKSVs3PVx0EFRzvcLgn6MCjO9qQd9O@r7jnJXHcMyesAhSkYIXMkJcrCDVzoA@mIbRkkznOkAWztla4JXhBYMjHNAM@opQpoWWoc5hXxNOZ62PCk4qksMeDqGR9PJ1Vo429OB/a7nq7x5QO0GhvlGDKSBK/M21fF3xeEjStDmmWRNZAwJoU20W@2RXy/fyBylz/QsjjJ@wf" rel="nofollow noreferrer">Try it online!</a></p>
<p>This was my first submission on the site! I got my second Yearling badge today so I thought I'd come back and golf some of my earliest submissions.</p>
<p>Explanation:</p>
<pre class="lang-js prettyprint-override"><code>f=s=&gt;                     // function f taking string argument s
  (r=                     //   assign variable r to
    s.replace(/./g,c=&gt;    //     s with each character c mapped to:
      Math.random()&gt;.5    //       random true/false
        ?c                //       if true, leave c unchanged
        :c.toUpperCase(a+=2), //   else, uppercase c, and add 2 to a
      a=0                 //     a defaults to 0
    ))                    //   end assignment
  .length-a               //   (length of r) - a
    ?f(s)                 //   if nonzero, start over
    :r                    //   else, return r
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 1.0</a>, 73 bytes</h1>

<pre class="lang-julia prettyprint-override"><code>!s=(E=length(s);v=rand(E);prod(i-&gt;s[i]-32*(i∈sortperm(v)[1:E÷2]),1:E))
</code></pre>
<p><a href="https://tio.run/##RY5BDoIwFET3nKKw@t8AQnUlqTtOQdA0UrUGCukvxCNwIw/gTbwIQkh09SaZvMw8@lrL9DlNPgnIRa3Mzd2BMBuElaaCHLPOthXo6EiFLqMd34D@jCO11nXKNjBgkR7y94uXGM4BcXKK3PkiSRETrAhkcOIhW7BfkSYreVJ63rW1jJg27G95ndXG1Qaob0BT3807SxFD4VMcxyUiE4L9rm45espU0xc" rel="nofollow noreferrer" title="Julia 1.0 – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1>x86_64 machine code, 33 bytes</h1>
<pre><code>\x89\xf1\x0f\xc7\xf0\x73\xfb\x31\xd2\xf7\xf6\xf6\x04\x17
\x20\x74\xf1\x80\x24\x17\xdf\x83\xe9\x02\x75\xe8\xc3
</code></pre>
<p><a href="https://tio.run/##XVBBbsIwEDzjV6zSA3ZFqwRooUrpRzCKHNshloIdJU4xRbw9XYcDVQ@Wx7Mzs7uWL0cpx7EohPedKQevi4LSXktvnKXJq9fBJ4wx6L3wRoKsRQdyf4AdSXjYfvBQZTykFQ9ygzjlYbPCu@RhhbxaIo78@/2kax6yTRKtyyhd3@1bxMuphBaM2mKExugU7Zs3xFuMXyX5@GSsbAal4bP3yrjX@ov8pTpjj5Ej/9e59N@FKM1jjW9nFNDnitFpoecFDLY3R6sVgx3InJAnpStjNbQY6mlgoBxcOZlhF9leaLmAwHJ8VxH25ke7KqpeILvT5854HWvZvzI@vXKDn2Tt4OMAdM7tPBI3ONem0UBTRgg2hpMwljK4ktk0aLnP0uX6kKNzmiupddO4s@salbAH2wmr3Km5SNEaLxpsX4umcpW4/9Fx0nbaD52FNCc3Mv4C" rel="nofollow noreferrer">Try it online!</a></p>
<p>It uses the hardware random generator <code>rdrand</code>, which is very slow BTW.</p>
<p>original assembly (nasm)</p>
<pre><code>f: ; rdi = string, rsi = number of characters, SysV calling convention
    mov ecx, esi
.loop:
    rdrand eax
    jnc .loop
    xor edx, edx
    div esi
    test byte [rdi + rdx], 0x20
    jz .loop
    and byte [rdi + rdx], 0xdf
    sub ecx, 2
    jnz .loop
    ret
</code></pre>
</div>
<div id="pu15" class="pu"><h1>Clojure, 142 bytes</h1>
<pre><code>(defn r[s](let[l(count s)z(apply str(update(vec s)(rand-int l)clojure.string/upper-case))](if(&lt;(count(re-seq #&quot;[A-Z]&quot; z))(/ l 2))(recur z)z))) 
</code></pre>
<p>Un-golfed version:</p>
<pre><code>(defn randomly-capitalize-half-of [s]
  (let [v  (vec s)                                 ; convert string s to a vector of characters - e.g. &quot;abcd&quot; becomes [\a \b \c \d]
        l  (count s)                               ; length of string s
        i  (rand-int l)                            ; choose a random index from 0 to (length of s)-1
        v2 (update v i clojure.string/upper-case)  ; convert character at index i in v to upper case
        s2 (apply str v2)                          ; collapse vector-of-characters to a single string
        c  (count (re-seq #&quot;[A-Z]&quot; s2)) ]          ; count number of upper-case letters in s2
    (if (&lt; c (/ l 2))                              ; if count of upper-case letters &lt; 1/2 of length of s
      (recur s2)                                   ;   then recursively invoke randomly-capitalize with partially-upcased string as input
      s2)))                                        ;   else return half-uppercased string  
</code></pre>
</div>
<div id="pu16" class="pu"><h1>T-SQL, 142 bytes</h1>
<pre class="lang-sql prettyprint-override"><code>SELECT top(len(@)/2)@=stuff(@,number+1,1,upper(substring(@,number+1,1)))FROM
spt_values WHERE number&lt;len(@)and'P'=type
ORDER BY newid()PRINT @
</code></pre>
<p><strong><a href="https://data.stackexchange.com/stackoverflow/query/1525346/randomly-capitalize-half-of-a-string" rel="nofollow noreferrer">Try it online</a></strong></p>
<p>This will always give return the same result. In Microsoft SQL Server Management Studio, the result is randomized. The reason could be the explanation below by Fmbalbuena</p>
</div>
<div id="pu17" class="pu"><h1><a href="http://clang.llvm.org/" rel="nofollow noreferrer">C (clang)</a>, <s>58</s> 51 bytes</h1>
<p>-1 thanks to <a href="https://codegolf.stackexchange.com/questions/237895/randomly-capitalize-half-of-a-string/237931?noredirect=1#comment539485_237931">AZTECCO</a><br />
-6 with wide string and clang</p>

<pre class="lang-c prettyprint-override"><code>i;f(*s,l){for(i=l/2;rand()%l--&lt;i?s[l]^=32,--i:i;);}
</code></pre>
<p><a href="https://tio.run/##TY1LjsIwEETX@BTGEsgmtiYEVjgWF@AGmYwUmQS15HSQnfmIiLOHJqtZdavqVZU3PjR4m2ewndwlHdTUDVGCCx@FjQ1epdoEY0o4pyrUX@5QaGPgBFbZ59w3gFJNDHDkgFXNHb@IxrfQ4xDT98/v30PYxQ0tcnL3R8tYWmpH6FuZK2VZJwH1m6D/HonupNiE9IlCw1tbCvxI8ZzgIXK57LnccigpRifLFFsRkjm@JreCenso/tddhfYjCc/5BQ" rel="nofollow noreferrer" title="C (clang) – Try It Online">Try it online!</a></p>
<p>Outputs by modifying the input string.</p>
<p>Each letter has a <span class="math-container">\$\frac in\$</span> chance of being capitalized, where <span class="math-container">\$i\$</span> is the number of remaining capital letters and <span class="math-container">\$n\$</span> is the number of remaining letters (including this one).</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>,<strike>127</strike> 119 bytes</h1>
<p>Not super happy with this, I'll probably come back to it after class (or not, we'll see). Takes input from stdin using Python 2 <code>input()</code> rules - aka <code>&quot;test&quot;</code> rather than <code>test</code>.</p>
<p>Requires Python 2 for <code>range</code> returning a list, since that would require <code>*x,</code> instead of <code>x</code> otherwise, and would lose a byte on the print statement and I don't think you can gain more than 2 from inline variable assignments.</p>
<p>Using <code>chr</code>/<code>ord</code> is shorter than <code>[s[i],s[i].upper()][i in x[::2]]</code>, I think that's optimal as well.</p>
<p>Thanks to enzo for -8, from switching from using a while loop to just <code>str.join</code>.</p>

<pre class="lang-python prettyprint-override"><code>from random import*
s=input()
n=len(s)
r=range(n)
x=sample(r,n)
print''.join(chr(ord(s[i])-32*(i in x[::2]))for i in r)
</code></pre>
<p><a href="https://tio.run/##HYpBCoMwEADveUXw4q60PaQ3IS8RD1Jj3WJ2wyaCfX0aehpmmPQtu7CrdVOJVhdeGygm0TKY7InTWQAN@yMwZDTq2/MOwGgun5eYjgB6a5aUuPT94yPE8NoVRFfIE814f7oByBLbaxpHNyNuovYfFGvtSsil@wE" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, <s>14</s> 9 bytes</h1>

<p>−5 bytes thanks to ovs.</p>
<p>Anonymous tacit prefix function</p>
<pre class="lang-apl prettyprint-override"><code>⌈@(2|≢?≢)
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn//1FPh4OGUc2jzkX2QKz5P@1R24RHvX2Pupof9a551Lvl0HrjR20TH/VNDQ5yBpIhHp7B/9PUM1JzcvLL84tyUtQB" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>
<p><code>⌈</code> uppercase</p>
<p><code>@(</code>…<code>)</code> at the positions indicated by the following mask:</p>
<p> <code>≢?≢</code> shuffle the indices 1 through the tally of elements in the argument (lit. take n random elements from 1…n, without replacement)</p>
<p> <code>2|</code> division remainders when divided by 2</p>
</div>
<div id="pu20" class="pu"><h1><a href="http://raku.org/" rel="nofollow noreferrer">Raku</a>, 41 bytes</h1>
<pre><code>{[~] {@_[pick @_/2,^@_]».=uc;@_}(.comb)}
</code></pre>
<p><a href="https://tio.run/##K0gtyjH7n1upoJamYPu/OrouVqHaIT66IDM5W8EhXt9IJ84hPvbQbj3b0mRrh/haDb3k/Nwkzdr/xYmVCmka6mn5@UmJReqaCmn5RQpxhgb/AQ" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
<ul>
<li><code>.comb</code> splits the input string into a list of characters, which is then fed to the brace-delimited anonymous function, which takes the list in the <code>@_</code> array.  This is just a short way to get an array with writeable elements without having to declare one explicitly.</li>
<li><code>pick @_ / 2, ^@_</code> randomly selects half of the indices in the character array.</li>
<li><code>@_[...]».=uc</code> slices into the array of characters with the random selection of indices, and uppercases the characters at those indices.  The original array is then returned.</li>
<li><code>[~]</code> concatenates the characters into a single string.</li>
</ul>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/ZippyMagician/ayr" rel="nofollow noreferrer">ayr</a>, 13 bytes</h1>
<pre><code>(];-){:2|#?.#
</code></pre>
<p><a href="https://zippymagician.github.io/ayr#Zjo@/KF07LSl7OjJ8Iz8uIw@@/Oz5mIjEwJEAuMCBfMV0nYWJjZGVmZ2gn//" rel="nofollow noreferrer">Try it!</a></p>
<h1>Explained</h1>
<pre><code>       #?.# Roll N-sided die N times, where N is len of y
     2|     Convert this to a length-N boolean vector (half 1s, half 0s)
   {:       Use this to catalogue..
];-         A matrix of the string and the string with inverted caps
</code></pre>
</div>
<div id="pu22" class="pu"><h1>TI-Basic, 160 bytes</h1>
<pre><code>Input Str1
length(Str1
Ans/2≥randIntNoRep(1,Ans→S
&quot;abcdefhijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ→Str2
&quot;.
For(I,1,dim(ʟS
Ans+sub(Str2,inString(Str2,sub(Str1,I,1))+26ʟS(I),1
End
sub(Ans,2,dim(ʟS
</code></pre>
<p>Output is stored in <code>Ans</code> and displayed. Only works on calculators that support <code>randIntNoRep(</code>.</p>
</div>
<div id="pu23" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-pF</code>, 43 bytes</h1>
<p>1 byte saved thanks to <a href="https://codegolf.stackexchange.com/users/64733/kjetil-s">@Kjetil S</a>!</p>

<pre class="lang-perl prettyprint-override"><code>$F[rand@F]&amp;=_,$_=join&quot;&quot;,@F
while@F/2&gt;y;A-Z;
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/1/FLbooMS/FwS1WzTZeRyXeNis/M09JScfBjas8IzMn1cFN38iu0tpRN8r6///EpOSU1LT0jH/5BSWZ@XnF/3UL3AA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<hr />
<h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> + <code>-pa</code>, 38 bytes</h1>
<p>-5 bytes using a space separates string (Thanks <a href="https://codegolf.stackexchange.com/users/64733/kjetil-s">@Kjetil S</a>!)</p>

<pre class="lang-perl prettyprint-override"><code>$F[rand@F]&amp;=_,$_=&quot;@F&quot;
while@F/2&gt;y;A-Z;
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/1/FLbooMS/FwS1WzTZeRyXeVsnBTYmrPCMzJ9XBTd/IrtLaUTfK@v//RIUkhWSFFIVUhTSFdIWMf/kFJZn5ecX/dQsSAQ" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu24" class="pu"><h1><a href="https://docs.microsoft.com/en-us/dotnet/csharp/%3E!" rel="nofollow noreferrer">C#</a>, 145 bytes</h1>
<p>Hey! I'm completely new to this and my answer will make that apparent. I thought I'd post so that I can refer back to later to see my progress. Let me know if I anything is incorrect involving my answer.</p>
<p>didn't include logging, output is the t string</p>
<pre><code>string t=&quot;&quot;;int p=0;while(p!=s.Length/2){t=&quot;&quot;;p=0;foreach(char c in s){char l=c;if(new Random().Next(2)==0){l=char.ToUpper(l);p++;}t=$&quot;{t}{l}&quot;;}}
</code></pre>
<p><a href="https://tio.run/##VY7BSgMxGITP3af4DR4Sirul15CTLHiotrRZVMRDSNPdQDZZkmiVkGdf03rRuc3MNzAy3Enn1Tx/BG17OHyHqEZaSSNCgJ13vRcjpGoRoohawqfTR3gU2uIQfRm8vYPwfSAXBIp@UwjAAA3KGEShaXYdh9dttwfevnB4aPct8G0xB/5vFBlCVNsIE1vR86CNwtMNC/VG2T4OzZqkK3FpT@WykAOWg/AgQVsIJF2NYZLqE7bqDHthj27EpH5SXxGvCWMrkkpfsJq7bpqUx4bQabmkObJblGJOJiOacwV/dO9scEbVz15HtdFW4UhotchVnucf" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 76 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=s=&gt;(S=Buffer(s).map(c=&gt;c^=Math.random(n++)&lt;.5?32:--n-n--,n=0),n?f(s):S)+''
</code></pre>
<p><a href="https://tio.run/##DcvBCoMwDADQf/FiQm0ZG7vIorD7Tt4HpbabQxNp1N/v5J3fzx9eQ57WzbKMsZRESh0M9NxTihkU3eJXCNSFN7389nXZ8ygLsDH4cPf@dm2t5ZNtmC7YcJ/O1A5o6roEYZU5ulk@kKDaeTpi1lghlj8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = s =&gt;               // s = input string
( S =                  // S = output
  Buffer(s)            // turn s into a buffer
  .map(c =&gt;            // for each ASCII code c in s:
    c ^=               //   update c:
      Math.random(n++) //     increment n
      &lt; .5 ?           //     with 1/2 probability:
        32             //       turn c into uppercase
      :                //     or:
        --n - n--,     //       leave c unchanged and decrement n twice
    n = 0              //   start with n = 0
  ),                   // end of map()
  n ? f(s)             // try again if we haven't capitalized exactly
                       // half of the letters
    : S                // otherwise, stop and return S
)                      //
+ ''                   // coerce the output buffer back to a string
</code></pre>
</div>
<div id="pu26" class="pu"><h1>Excel, 89 bytes</h1>
<pre><code>=LET(x,LEN(A1),y,RANDARRAY(x),CONCAT(CHAR(CODE(MID(A1,SEQUENCE(x),1))-(y&gt;MEDIAN(y))*32)))
</code></pre>
<p>This breaks the string into an array of characters. Then generates an array of random numbers of the same length.  For each number in the random array that is greater that the median of the array, the corresponding letter is changed to upper case (ASCII value reduced by 32).  Then all of the characters are concatenated.</p>
</div>
<div id="pu27" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 59 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;s{[*0...q=s.size].sample(q/2).map{|w|s[w]=s[w].upcase};s}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf1664OlrLQE9Pr9C2WK84syo1Vq84MbcgJ1WjUN9IUy83saC6prymOLo81hZE6JUWJCcWp9ZaF9f@L1BIi1YqSS0uUYr9DwA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/237895/">237895</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




