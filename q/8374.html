<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::8374</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>007</td><td>05AB1E</td><td>241029T074648Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/276381#276381">Kevin Cr</a></td></tr>
<tr d-ix="1"><td>013</td><td>Brachylog</td><td>170203T091724Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/109002#109002">Fatalize</a></td></tr>
<tr d-ix="2"><td>010</td><td>Jelly</td><td>160325T222102Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/76283#76283">Dennis</a></td></tr>
<tr d-ix="3"><td>010</td><td>APL Dyalog Extended</td><td>200914T004331Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/211042#211042">Bubbler</a></td></tr>
<tr d-ix="4"><td>019</td><td>APL Dyalog Classic</td><td>200824T100411Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/210038#210038">Razetime</a></td></tr>
<tr d-ix="5"><td>007</td><td>Oasis</td><td>160831T145331Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/91831#91831">Leaky Nu</a></td></tr>
<tr d-ix="6"><td>063</td><td>Haskell</td><td>160429T081715Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/78830#78830">flawr</a></td></tr>
<tr d-ix="7"><td>064</td><td>Python</td><td>120922T000708Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/8411#8411">daniero</a></td></tr>
<tr d-ix="8"><td>016</td><td>J</td><td>150301T193604Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/47220#47220">randomra</a></td></tr>
<tr d-ix="9"><td>014</td><td>CJam</td><td>150301T154507Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/47208#47208">Martin E</a></td></tr>
<tr d-ix="10"><td>027</td><td>Mathematica</td><td>150301T152830Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/47207#47207">Martin E</a></td></tr>
<tr d-ix="11"><td>054</td><td>Prelude</td><td>150301T142429Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/47206#47206">Martin E</a></td></tr>
<tr d-ix="12"><td>028</td><td>Julia</td><td>140313T012824Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/23998#23998">CCP</a></td></tr>
<tr d-ix="13"><td>048</td><td>JavaScript  48 Characters</td><td>140313T001944Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/23989#23989">MT0</a></td></tr>
<tr d-ix="14"><td>027</td><td>Haskell</td><td>140312T225013Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/23979#23979">user1502</a></td></tr>
<tr d-ix="15"><td>048</td><td>Perl</td><td>120923T234231Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/8420#8420">Ilmari K</a></td></tr>
<tr d-ix="16"><td>076</td><td>Python</td><td>120921T212806Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/8409#8409">chucksma</a></td></tr>
<tr d-ix="17"><td>043</td><td>J</td><td>120918T225307Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/8389#8389">Gareth</a></td></tr>
<tr d-ix="18"><td>063</td><td>PHP  63 Chars</td><td>120918T201742Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/8383#8383">TwoScoop</a></td></tr>
<tr d-ix="19"><td>093</td><td>Javascript</td><td>120918T210834Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/8386#8386">Clyde Lo</a></td></tr>
<tr d-ix="20"><td>nan</td><td></td><td>120918T163320Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/8380#8380">scleaver</a></td></tr>
<tr d-ix="21"><td>031</td><td>GolfScript</td><td>120918T124539Z</td><td><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence/8377#8377">Peter Ta</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 7 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>1Ýλè₅₆&gt;
</code></pre>
<p>Port of the recursive formula used in <a href="https://codegolf.stackexchange.com/a/91831/52210"><em>@LeakyNun</em>'s Oasis answer</a>, so make sure to upvote that answer as well:</p>
<p><span class="math-container">$$a(0)=0\\a(1)=1\\a(n)=a(n-a(a(n-1)))+1$$</span></p>
<p><a href="https://tio.run/##yy9OTMpM/f/f8PDcc7sPr3jU1Pqoqc3u/38TAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W/33/Dw3HO7Dy1@1NT6qKnN7n/toWX/jQwA" rel="nofollow noreferrer">verify all test cases</a> or <a href="https://tio.run/##yy9OTMpM/f/f8PDcc7sfNbU@amqz@197aNl/AA" rel="nofollow noreferrer">verify the infinite sequence</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-none prettyprint-override"><code>  λ      # Create a recursive environment,
   è     # to output the 0-based (implicit) input'th term
1Ý       # Starting with a(0)=0 and a(1)=1
         # And where every following a(n) is calculated as:
         #  (implicitly push the previous term a(n-1))
    ₅    #  Calculate a(value) using this term: a(a(n-1))
     ₆   #  Calculate a(n-value) using this: a(n-a(a(n-1)))
      &gt;  #  Increase it by 1: a(n-a(a(n-1)))+1
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 13 bytes</h1>
<pre><code>1|-₁↰↰:?-ṅ↰+₁
</code></pre>
<p><a href="https://tio.run/nexus/brachylog2#@29Yo/uoqfFR2wYgsrLXfbizFcjQBgr9/29o9D8KAA" rel="nofollow noreferrer" title="Brachylog – TIO Nexus">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>1                Input = 1 = Output
 |               Or
  -₁↰            a(Input - 1)
     ↰           a(a(Input - 1))
      :?-ṅ       Input - a(a(Input - 1))
          ↰      a(Input - a(a(Input - 1))
           +₁    1 + a(Input - a(a(Input -1))
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="http://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 10 bytes</h1>
<pre><code>’ßßạ¹ß‘µṖ¡
</code></pre>
<p>This uses the recursive formula <strong>a(1) = 1, a(n + 1) = 1 + a(n + 1 - a(a(n)))</strong> from the OEIS page.</p>
<p><a href="http://jelly.tryitonline.net/#code=4oCZw5_Dn-G6ocK5w5_igJjCteG5lsKh&amp;input=&amp;args=MTI" rel="nofollow noreferrer">Try it online!</a></p>
<h3>How it works</h3>
<pre><code>’ßßạ¹ß‘µṖ¡ Main link. Input: n

’          Decrement; yield n - 1.
 ßß        Recursively call the main link twice, with argument n - 1.
   ạ¹      Take the absolute difference of a(a(n - 1)) and n.
     ß     Recursively call the main link, with argument n - a(a(n - 1)).
      ‘    Increment the result, yielding 1 + a(n - a(a(n - 1))).
       µ   Combine the chain to the left into a single link.
        Ṗ  Pop [1, ..., n]. This yields [] iff n == 1.
         ¡ Execute the chain iff Ṗ returned a non-empty array.
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, <sup><s>11</s></sup> 10 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>⊢/⎕⍴∘⍸⍣≡,1
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn/qKM97f@jrkX6j/qmPurd8qhjxqPeHY96Fz/qXKhjCJL9z1kNJB/19qmnPepuedS7Rr0WSHAZchlxGXOZcJlyGRoAAA" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>
<p><sup>-1 byte by converting to a full program, thanks to Adám.</sup></p>
<p>Also works in Dyalog APL 18.0. (TIO's version is 17.1, so Extended is used for the extended functionality of <code>⍸</code>.)</p>
<p>A port of <a href="https://codegolf.stackexchange.com/a/47220/78410">randomra's J answer</a> as a full program.</p>
<pre class="lang-apl prettyprint-override"><code>⊢/⎕⍴∘⍸⍣≡,1
      ⍣≡    ⍝ Repeat until convergence
       ,1   ⍝ with the starting value of [1]:
     ⍸      ⍝   Convert [a b c ...] into a copies of 1, b copies of 2, ...
  ⎕⍴∘       ⍝   and take first n values (recycling values if necessary)
⊢/          ⍝ Get the rightmost element
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Classic)</a>, <s>24</s> 19 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>{⍵=1:1⋄1+∇⍵-∇ ∇⍵-1}
</code></pre>
<p>-5 bytes from ngn's suggestion.</p>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v@/@lHvVltDK8NH3S2G2o862oFcXSClAGUa1v5Pe9Q24VFv36Ou5ke9ax71bjm03vhR28RHfVODg5yBZIiHZ/D/NAVDrjQFIyA2BmITIDY0AAA" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online!</a></p>
<p>Same as the recursive function used in the PHP answer.</p>
<pre class="lang-apl prettyprint-override"><code>{⍵=1:1⋄1+∇(⍵-∇(∇(⍵-1)))} ⍵(left arg) is n
       1+∇(⍵-∇(∇(⍵-1)))  recursive step: return 1 + f(n - f(f(n - 1))) if n is not 1.
 ⍵=1:1                   if n is 1, then return 1.
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="http://github.com/Adriandmen/Oasis" rel="nofollow noreferrer">Oasis</a>, 7 bytes (non-competing)</h1>

<p>Code:</p>

<pre><code>n&lt;aae&gt;T
</code></pre>

<p><a href="http://oasis.tryitonline.net/#code=bjxhYWU-VA&amp;input=&amp;args=MjA" rel="nofollow noreferrer">Try it online!</a></p>

<p>Oasis is a language designed by <a href="https://codegolf.stackexchange.com/users/34388/adnan">Adnan</a> which is specialized in sequences.</p>

<p>Currently, this language can do recursion and closed form.</p>

<p>The <code>T</code> at the end is shorthand for <code>10</code>, which indicates that <code>a(0) = 0</code> and <code>a(1) = 1</code>. To add more testcases, simply add to the list at the end.</p>

<pre><code>n&lt;aae&gt;T
n&lt;aae&gt;10  expanded

       0  a(0) = 0
      1   a(1) = 1

n         push n (input)
 &lt;        -1
  a       a(above)  [a is the sequence]
   a      a(above)
    e     a(n-above)
     &gt;    +1
</code></pre>

<p>Now we essentially calculated <code>a(n-a(a(n-1))+1</code>.</p>
</div>
<div id="pu6" class="pu"><h1>Haskell, 63 bytes</h1>
<pre><code>f n|n&lt;3=n|n&lt;4=2|1&gt;0=foldr1(++)[replicate(f m)m|m&lt;-[1..]]!!(n-1)
</code></pre>
<p>This is the naive approach, I was not aware of the very short recurison when I wrote this, but I thought I'd post it anyway, even tough it is longer than all other Haskell implementations, as e.g.</p>
<p><a href="https://codegolf.stackexchange.com/questions/8374/calculate-the-nth-term-of-golombs-self-describing-sequence#comment16511_8374">Calculate the nth term of Golomb&#39;s self-describing sequence</a></p>
<p>and</p>
<p><a href="https://codegolf.stackexchange.com/a/23979/24877">https://codegolf.stackexchange.com/a/23979/24877</a></p>
</div>
<div id="pu7" class="pu"><h1>Python - 64 chars</h1>

<pre><code>n=input()
g=[1,2,2]
for i in range(3,n):g+=[i]*g[i-1]
print g[n]
</code></pre>
</div>
<div id="pu8" class="pu"><h1>J, 16 bytes</h1>

<pre><code>    &lt;:{1($1+I.)^:[~]

    (&lt;:{1($1+I.)^:[~]) every 1+i.20  NB. results for inputs 1..20
1 2 2 3 3 4 4 4 5 5 5 6 6 6 6 7 7 7 7 8
</code></pre>

<p>This solution is <strong>heavily</strong> based on <a href="https://codegolf.stackexchange.com/a/26560/7311">algorithmshark's solution</a> to a similar problem. You can find some explanation about this method there.</p>

<h1>J, 33 bytes</h1>

<p>In this approach I build up a sequence <code>h(k)</code> with the values of the first indexes <code>i</code> where the <code>g(i)=k</code> so <code>h = 1 2 4 6 9 12 16...</code>. We can get <code>h(k)</code> fairly simply from <code>h(1..k-1)</code> with the expression <code>({:+1+[:+/#&lt;:])</code> where the input is <code>h(1..k-1)</code>.</p>

<p>Computing the output from <code>h</code> is straightforward. <code>h ([:+/]&gt;:[) input</code></p>

<pre><code>[:+/]&gt;:1 2(,{:+1+[:+/#&lt;:])@]^:[~]
</code></pre>
</div>
<div id="pu9" class="pu"><h1>CJam, 14 bytes</h1>

<p>CJam is much younger than this challenge, so this answer is not eligible for the green checkmark. However, it's quite rare that you get to use <code>j</code> this nicely, so I wanted to post it anyway.</p>

<pre><code>l~2,{_(jj-j)}j
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=l~2%2C%7B_(jj-j)%7Dj&amp;input=5" rel="nofollow">Test it here.</a></p>

<h2>Explanation</h2>

<p><code>j</code> is basically the "memoised recursion operator". It takes an integer <code>N</code>, an array and a block <code>F</code>. The array is used to initialise the memoisation: the element at index <code>i</code> will be returned for <code>F(i)</code>. <code>j</code> then computes <code>F(N)</code>, either by looking it up, or by running the block (with <code>n</code> on the stack) if the value hasn't been memoised yet. The really nifty feature is that <em>within</em> the block, <code>j</code> only takes an integer <code>i</code>, and calls <code>F(i)</code> recursively. So here is the code:</p>

<pre><code>l~             "Read and eval input.";
  2,           "Push a 2-range onto the stack, i.e. [0 1]. The first value is irrelevant
                but the second value is the base case of the recursion.";
    {       }j "Compute F(N).";
     _(        "Duplicate i and decrement to i-1.";
       jj      "Compute F(F(i-1)).";
         -     "Subtract from i.";
          j    "Compute F(n-F(F(i-1))).";
           )   "Increment the result.";
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Mathematica, 27 bytes</h1>

<pre><code>f@1=1;f@n_:=1+f[n-f@f[n-1]]
</code></pre>

<p>Another recursive solution.</p>
</div>
<div id="pu11" class="pu"><h1><a href="http://esolangs.org/wiki/Prelude" rel="nofollow noreferrer">Prelude</a>, <s>69</s> <s>55</s> 54 bytes</h1>

<pre><code>?1-(v  #1)-
1   0v ^(#    0 (1+0)#)!
    (#)  ^#1-(0)#
</code></pre>

<p>If a standard compliant interpreter is used, this takes input and output as <a href="https://codegolf.meta.stackexchange.com/a/4719/8478">byte values</a>. To actually use decimal numbers on STDIN/STDOUT, you'd need <a href="http://web.archive.org/web/20060504072747/http://z3.ca/~lament/prelude.py" rel="nofollow noreferrer">the Python interpreter</a> with <code>NUMERIC_OUTPUT = True</code> and an additional option <code>NUMERIC_INPUT = True</code>.</p>

<h2>Explanation</h2>

<p>The skeleton of the program is </p>

<pre><code>?1-(    1 -
1                     )!
</code></pre>

<p>We read the input <code>N</code> onto the first voice and decrement it to get <code>N-1</code>. We also initialise the second voice to <code>1</code>. Then we loop <code>N-1</code> one times, each iteration of which gets the next value of the sequence on the second stack. At the end we print the <code>N</code>th number.</p>

<p>The idea of the program is to put each element of the sequence in a queue on the third voice, and to decrement the head of that queue in each iteration. When the head reaches <code>0</code>, we increment the value of the sequence and remove that <code>0</code>.</p>

<p>Now the issue is that Prelude uses stacks and not queues. So we need to shift around that stack a bit to use it like a queue.</p>

<pre><code>v  #
0v ^
(#)
</code></pre>

<p>This copies the current value of the sequence to the first voice (as a temporary copy), pushes a <code>0</code> onto the second voice (to mark the end of the queue). And then performs a loop to shift (and thereby reverse) the third stack onto the second. After the loop, we put the copy of the current sequence value on top of the second stack (which is the tail of our queue).</p>

<pre><code> )
(#
 ^#1-
</code></pre>

<p>This looks a bit ugly, but essentially it's a loop that shifts the stack back onto the third voice. Since the <code>)</code> is in the same column as the shifting instructions, the <code>0</code> we put on the second voice earlier will also end up on the third voice, so we need to remove it with another <code>#</code>. Then decrement the top of the 3rd voice, i.e. the head of the queue.</p>

<p>Now it gets a bit annoying - we want run some code when that value is <code>0</code>, but Prelude's only control structure (the loop) only responds to non-zero values.</p>

<pre><code> 0 (1+0)#
(0)#
</code></pre>

<p>Note that the top of the second voice is truthy (since the Golomb sequence does not contain any <code>0</code>s). So the workload goes into that voice (the latter pair of parentheses). We just need to <em>prevent</em> that from happening if the head of the queue isn't <code>0</code> yet. So first we have a "loop" on the third voice which pushes a <code>0</code> onto the second voice if the head of the queue is still non-zero. We also put a <code>0</code> on the third voice to exit the loop right away. The <code>#</code> on the third voice then either removes that <code>0</code>, or removes the head of the queue if <em>that</em> was already zero. Now that second loop is only entered if the head of the queue was zero (and the <code>0</code> on the second voice was never pushed). In that case we increment the current value of the sequence and push a <code>0</code> to exit the loop. Lastly, there will always be a <code>0</code> on top of the stack, which we need to discard.</p>

<p>I told you that logical negation is annoying in Prelude...</p>
</div>
<div id="pu12" class="pu"><h1>Julia - 28</h1>
<p>By a <a href="http://en.wikipedia.org/wiki/Golomb_sequence" rel="nofollow noreferrer">recursive</a> way:</p>
<pre><code>a(n)=n==1?1:1+a(n-a(a(n-1)))
</code></pre>
<p>Output:</p>
<pre><code>[a(i) for i=1:20]'
1x20 Array{Int64,2}:
 1  2  2  3  3  4  4  4  5  5  5  6  6  6  6  7  7  7  7  8
</code></pre>
</div>
<div id="pu13" class="pu"><h1>JavaScript - 48 Characters</h1>
<pre><code>for(g=[,i=j=k=1,2];i&lt;1e5;k=--k?k:g[++j])g[i++]=j
</code></pre>
<p>Creates a 1-indexed array <code>g</code> containing the sequence values.</p>
<h1>Edit - JavaScript - 46 Characters</h1>
<pre><code>v=[,1];for(x=2;x&lt;1e5;)v[x]=1+v[x-v[v[x++-1]]]
</code></pre>
<p>Creates a 1-indexed array <code>v</code> containing the sequence values.</p>
<h1>Edit 2 - ECMAScript 6 - 27 Characters</h1>
<pre><code>g=x=&gt;x-1?1+g(x-g(g(x-1))):1
</code></pre>
<p><em>The first two are reasonably fast - the third is very slow</em></p>
</div>
<div id="pu14" class="pu"><h1>Haskell, <s>30</s> 27 Chars</h1>

<pre><code>g 1=1
g n=1+(g$n-g(g$n-1))
</code></pre>
</div>
<div id="pu15" class="pu"><h2>Perl, 48 chars</h2>

<pre><code>(@a=(@a,($,)x($a[$,++]||$,)))&lt;$_?redo:say$,for&lt;&gt;
</code></pre>

<p>Input on stdin, output to stdout.  Needs Perl 5.10+ and the <code>-M5.010</code> to enable the <code>say</code>feature.  Takes about O(<i>n</i><sup>2</sup>) time due to inefficient array manipulation, but still fast enough to easily calculate up to the 100,000th term.</p>
</div>
<div id="pu16" class="pu"><h1>Python - 76 chars</h1>

<pre><code>n=20;g=[1,2,2];[[g.append(i)for j in range(g[i-1])]for i in range(3,n)];g[n]
</code></pre>
</div>
<div id="pu17" class="pu"><h2>J, 43 characters</h2>

<pre><code>f=:3 :'&lt;.@:+&amp;0.5(p^2-p)*y^p-1[p=:(+%)/20$1'
</code></pre>

<p>Defines a function using the asymptotic expression given on the wikipedia page.</p>

<pre><code>   f 5
3
   f 20
8
   f 100000
1479
</code></pre>

<p>Annoyingly 9 characters are used just rounding to the nearest integer.</p>
</div>
<div id="pu18" class="pu"><h1>PHP - 63 Chars</h1>

<p><strike></p>

<pre><code>function g($n){for(;++$i&lt;=$n;){for(;++$j&lt;=$i;){echo $i;}$j=0;}}
</code></pre>

<p>Fast AND short. </strike></p>

<p>I appear to have had the wrong sequence in mind. Derp.</p>

<p>This is CORRECT, fast, and short.</p>

<pre><code>function g($n){for(;++$i&lt;$n;){echo round(1.201*pow($i,.618));}}
</code></pre>

<p>Accuracy may suffer past the required 100,000 mark, but I did in fact meet the mark.</p>
</div>
<div id="pu19" class="pu"><h2>Javascript, 93 chars</h2>

<pre><code>c=[,1],i=c.length;function g(n){for(i;i&lt;n;i++) c[i]=g(i);return c[n]||(c[n]=1+g(n-g(g(n-1))))}
</code></pre>
</div>
<div id="pu20" class="pu"><h1>PHP</h1>

<p>This recursive version is shorter (60) but computationally inefficient:</p>

<pre><code>function g($n){return$n==1?1:1+g($n-g(g($n-1)));}echo g($n);
</code></pre>

<p>This is much faster but longer (78):</p>

<pre><code>$a=[1,2,2];for($i=3;$i&lt;$n;$i++)for($j=0;$j&lt;$a[$i-1];$j++)$a[]=$i;echo$a[$n-1];
</code></pre>

<p>Much faster, but at 89 characters would be:</p>

<pre><code>$a=[1,2,2];for($i=3;!isset($a[$n-1]);$i++)for($j=0;$j&lt;$a[$i-1];$j++)$a[]=$i;echo$a[$n-1];
</code></pre>

<p>Which is O(n)</p>
</div>
<div id="pu21" class="pu"><h2>GolfScript (31 chars)</h2>

<pre><code>~([1 2.]2{.2$=[1$)]*@\+\)}3$*;=
</code></pre>

<p><a href="http://golfscript.apphb.com/?c=OyIyMCIKCn4oWzEgMi5dMnsuMiQ9WzEkKV0qQFwrXCl9MyQqOz0%3D" rel="nofollow">Demo</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/8374/">8374</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




