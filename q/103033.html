<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::103033</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>364</td><td>Tcl</td><td>161218T123007Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103544#103544">sergiol</a></td></tr>
<tr d-ix="1"><td>133</td><td>05AB1E</td><td>231106T101308Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/266526#266526">Kevin Cr</a></td></tr>
<tr d-ix="2"><td>135</td><td>V</td><td>161213T012215Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103051#103051">DJMcMayh</a></td></tr>
<tr d-ix="3"><td>3036</td><td>Duocentehexaquinquagesimal</td><td>210414T203138Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/223506#223506">Makonede</a></td></tr>
<tr d-ix="4"><td>327</td><td>C gcc</td><td>180125T183250Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/154100#154100">gastropn</a></td></tr>
<tr d-ix="5"><td>313</td><td>Perl 5 MListUtil=pairmap</td><td>190806T043638Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/189321#189321">Xcali</a></td></tr>
<tr d-ix="6"><td>293</td><td>Wolfram Language Mathematica</td><td>190803T110925Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/189199#189199">att</a></td></tr>
<tr d-ix="7"><td>242</td><td>Powershell</td><td>181003T143949Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/173295#173295">mazzy</a></td></tr>
<tr d-ix="8"><td>777</td><td>Swift</td><td>161213T011658Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103049#103049">username</a></td></tr>
<tr d-ix="9"><td>369</td><td>tcl</td><td>161224T152654Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/104433#104433">Alejandr</a></td></tr>
<tr d-ix="10"><td>380</td><td>Python 2</td><td>161213T111854Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103070#103070">ElPedro</a></td></tr>
<tr d-ix="11"><td>127</td><td>SOGL V0.12</td><td>170618T222721Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/127167#127167">dzaima</a></td></tr>
<tr d-ix="12"><td>452</td><td>Batch</td><td>161213T012126Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103050#103050">Neil</a></td></tr>
<tr d-ix="13"><td>323</td><td>Mathematica</td><td>170615T114849Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/126590#126590">Ian Mill</a></td></tr>
<tr d-ix="14"><td>360</td><td>///</td><td>170615T015845Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/126531#126531">Conor O&</a></td></tr>
<tr d-ix="15"><td>672</td><td>Python 2</td><td>161217T074129Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103439#103439">Whatever</a></td></tr>
<tr d-ix="16"><td>228</td><td>stacked</td><td>161221T012730Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/104003#104003">Conor O&</a></td></tr>
<tr d-ix="17"><td>456</td><td>m4</td><td>161218T013636Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103514#103514">Thriller</a></td></tr>
<tr d-ix="18"><td>nan</td><td>Haskell</td><td>161214T014434Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103120#103120">ceased t</a></td></tr>
<tr d-ix="19"><td>286</td><td>JavaScript ES6</td><td>161215T094036Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103226#103226">edc65</a></td></tr>
<tr d-ix="20"><td>357</td><td>C#</td><td>161213T081313Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103065#103065">Klinger</a></td></tr>
<tr d-ix="21"><td>376</td><td>C#</td><td>161214T013317Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103119#103119">Bence Jo</a></td></tr>
<tr d-ix="22"><td>255</td><td>Haskell</td><td>161214T130019Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103160#103160">Jon Purd</a></td></tr>
<tr d-ix="23"><td>312</td><td>PHP</td><td>161213T135502Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103077#103077">Titus</a></td></tr>
<tr d-ix="24"><td>394</td><td>Lua 5.3</td><td>161212T235707Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103038#103038">ATaco</a></td></tr>
<tr d-ix="25"><td>226</td><td>Ruby</td><td>161213T023139Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103054#103054">Level Ri</a></td></tr>
<tr d-ix="26"><td>465</td><td>PowerShell v2+</td><td>161213T152412Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103083#103083">AdmBorkB</a></td></tr>
<tr d-ix="27"><td>230</td><td>Bash on OSX</td><td>161213T104226Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103068#103068">Addison </a></td></tr>
<tr d-ix="28"><td>239</td><td>Python 3.5+</td><td>161213T032502Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103055#103055">orlp</a></td></tr>
<tr d-ix="29"><td>458</td><td>Python</td><td>161213T005628Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103045#103045">Cobi</a></td></tr>
<tr d-ix="30"><td>191</td><td>Bubblegum</td><td>161213T014018Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103052#103052">Dennis</a></td></tr>
<tr d-ix="31"><td>303</td><td>PHP</td><td>161213T011114Z</td><td><a href="https://codegolf.stackexchange.com/questions/103033/a-keyboard-so-real-you-can-almost-taste-it/103047#103047">Alex How</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://tcl.tk/" rel="nofollow noreferrer">Tcl</a>, 364 bytes</h1>
<p><s>505</s> <s>496</s> <s>452</s> <s>451</s> <s>439</s> <s>403</s>   <s>401</s> <s>396</s> <s>391</s> <s>388</s> <s>385</s> <s>384</s> <s>382</s> <s>379</s> <s>378</s> <s>377</s> <s>369</s> <s>368</s>  <s>365</s> <strong>364</strong></p>
<pre><code>proc N x {split $x @}
proc M a\ b {string map $a $b}
regsub -all \[^@|] [set b [M [N {||||@|||@$@BS   @%@TAB  @&amp;@CAPS @? @ENTER  @*@SHIFT   }] [regsub -all {[^@]} {`1234567890-=$@%QWERTYUIOP[]\@&amp;ASDFGHJKL;'?@*ZXCVBNM,./*} ||&amp;\ ||]]] _ f
lmap x [N [M {\\ _ / _ | \ } [set g [M {||_ |/_ _|| _\\|} [M {||| \\|/} $f]]]]] y [N $b] z [N $f] w [N $g] {puts &quot;$x
$y
$z
$w&quot;}
</code></pre>
<p><a href="https://tio.run/##TY9bT8JAEIXf@ytOyIIJUev9EmNYQBBUKtJ67a6VEmhIqja0hEJ3f3udVh@cZC755uRkJpmEeR4tviewkCKLo3CegKXg2ijpAGMBnxbJYv4V4HMcgY3BfG0spkG89LEzDkMI950rCTeeJiR2B3AtZIqCF8l4ywbAq9xptqjXeLs5tMEb4B3L6YwI1bnd63cdUmmy@W@dkbXUyD72Dw6Pjk9Oz873di4Zrz48d0bO62P/fuhKwWtN@6p73bu5vbvYavD620v7qWUNtnfNuoZSNUFFSgkPMyMsfkiLC@nOTAiCJqWCgP79ICg3ShE0PXhKwRNC6T9KQqFMDTaTRWBdWDFfYlMOM4lVOQQSWbRMYlRYarC1wTYGW1V0nv8A" rel="nofollow noreferrer" title="Tcl – Try It Online">Try it online!</a></p>
<hr />
<pre><code>proc N x {split $x @}
proc M a\ b {string map $a $b}
regsub -all \[^@|] [set b [M [N {||||@|||@$@BS   @%@TAB  @&amp;@CAPS @? @ENTER  @*@SHIFT   }] [regsub -all {[^@]} &quot;`1234567890-=$@%QWERTYUIOP\[\]\\@&amp;ASDFGHJKL;'?@*ZXCVBNM,./*&quot; {||&amp; ||}]]] _ f
lmap x [N [M {\\ _ / _ | \ } [set g [M {||_ |/_ _|| _\\|} [M {||| \\|/} $f]]]]] y [N $b] z [N $f] w [N $g] {puts &quot;$x
$y
$z
$w&quot;}
</code></pre>
<p>Demo: <a href="http://rextester.com/live/NTVAV88033" rel="nofollow noreferrer">http://rextester.com/live/NTVAV88033</a></p>
<p>The ungolf:</p>
<p>Live cooperation on <a href="http://rextester.com/live/UDO43692" rel="nofollow noreferrer">http://rextester.com/live/UDO43692</a></p>
<pre><code>regsub -all {(\S)} &quot;`1234567890-=←\n%QWERTYUIOP\[\]\\\n⇩ASDFGHJKL;'↵\n⇧ZXCVBNM,./⇧&quot; {||\1 ||} b
set b [string map {|||| |||  ← &quot;BS   &quot; % &quot;TAB  &quot; ⇩ &quot;CAPS  &quot; ↵ &quot;ENTER&quot; ⇧ &quot;SHIFT   &quot;} $b]

regsub -all {[^\n|]} $b _ f

set g [string map {||| \\|/} $f]
set g [string map {||_ |/_  _|| _\\|} $g]
set h [string map {\\ _ / _ | &quot; &quot;} $g]

set H [split $h \n]
set B [split $b \n]
set F [split $f \n]
set G [split $g \n]

lmap x $H y $B z $F w $G {
puts $x
puts $y
puts $z
puts $w
}
</code></pre>
<p>Anyone is free and welcome to improve my version on live cooperation sites, but please: do not edit my original answer here; just say you've edited in the comments and people will visit the links.</p>
<p><strong>UPDATE 1:</strong> Replaced <code>for</code> by <code>foreach</code>, because latter produces shorter code</p>
<p><strong>UPDATE 2:</strong> Replaced <code>foreach</code> by <code>lmap</code>, because latter produces shorter code</p>
<p><strong>UPDATE 3:</strong> Shaved one char because I Replaced <code>&quot; &quot;</code> by <code>\ </code></p>
<p><strong>UPDATE 4:</strong> In respect to first comment, I changed all the 1st line 2 byte Unicode place holder characters to 1 byte ASCII ones</p>
<p><strong>UPDATE 5:</strong> multiple <code>puts</code> line made into only one</p>
<p><strong>UPDATE 6:</strong> use directly <code>split</code> commands return values on the <code>lmap</code> call instead of using intermediate list variables</p>
<p><strong>UPDATE 7:</strong> Quotes around <code>ENTER</code> were not needed</p>
<p><strong>UPDATE 8:</strong> <code>string map</code> is long enough and repeated a number of times that it is worth to encapsulate it in a <code>proc</code></p>
<p><strong>UPDATE 9:</strong> <code>split $x \n</code> is long enough and repeated a number of times that it is worth to encapsulate it in a <code>proc</code></p>
<p><strong>UPDATE 10:</strong> On &quot;replacement&quot; string can use <code>&amp;</code> instead of <code>\1</code>, because in this case both coincide; another consequence of this is it allows to get rid of <code>()</code>on the &quot;matching&quot; string.</p>
<p><strong>UPDATE 11:</strong> Use <code>@</code> instead of <code>\n</code>as line separator for further use on <code>split</code> instructions. Although the &quot;match&quot; string lengthens from <code>\S</code> to <code>[^@]</code> it pays off , due to number of repetitions</p>
<p><strong>UPDATE 12:</strong> Replaced the first <code>regsub</code> &quot;match&quot; string <code>{[^@|]}</code> by<code>\[^@|]</code> to shave one character off. Unfortunately, could not do the same to the second <code>regsub</code>, because the instruction is inside a pair of <code>[]</code> :(</p>
<p><strong>UPDATE 13:</strong> Shaved two Enter characters by concentrating the <code>lmap</code> body with its own heading.</p>
<p><strong>UPDATE 14:</strong> Used a call to the <code>split</code> based procedure <code>N</code> instead of a direct call to the <code>string map</code> based procedure <code>N</code> which allows to shorten by 3 characters</p>
<p><strong>UPDATE 15:</strong> There was an unneeded <code> </code> space character. Removed it to shave one char off.</p>
<p><strong>UPDATE 16:</strong> <code>set h</code> can be embedded to get rid of <code>$h</code>, to shave one character off.</p>
<p><strong>UPDATE 17:</strong> <code>set h</code> statement can really be shaved off.</p>
<p><strong>UPDATE 18:</strong> <code>puts</code> argument changed from the <code>...\n...\n...\n...</code> format to the</p>
<pre><code>&quot;...
...
...
...&quot; 
</code></pre>
<p>format.</p>
<p>Thanks to people that helped me to shorten it, especially evilotto and aspect of the tcl IRC channel!</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 133 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>‘`¯¤¼Á®‹‘#žVžhÀš&quot;-=
 []\ ;'
 ,./
&quot;#)øεεD.u≠iS]ε˜ε¶‘»²®‹ ‡Á‘#¾è:©4U1V.ui•Aε/•¾èÌU•6©›•¾èV¼}'_X×ðì®ðY×«D„||ìĆDŠŠ'_XÍ×:D'/1ǝ¨'\«)}øJεĆu,
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//UcOMhEPrDy05tOdw46F1jxp2AgWUj@4LO7ov43DD0YVKurZcCtGxMQrW6lwKOnr6XErKmod3nNt6bquLXumjzgWZwbHntp6ec27roW1AjYd2H9oENkThUcPCw40gow7tO7zC6tBKk1DDML3SzEcNixzPbdUHUiDxwz2hQJbZoZWPGnZBhcIO7alVj484PP3whsNrDq07vCHy8PRDq10eNcyrqTm85kiby9EFRxeAFPQenm7loq5veHzuoRXqMYdWa9Ye3uF1buuRtlKd////6@rm5evmJFZVAgA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<p>Step 1: Push the nested list of keyboard keys:</p>
<pre class="lang-python prettyprint-override"><code>‘`¯¤¼Á®‹‘     # Push dictionary string &quot;` TAB CAPS SHIFT&quot;
         #    # Split it on spaces: [&quot;`&quot;,&quot;TAB&quot;,&quot;CAPS&quot;,&quot;SHIFT&quot;]
žV            # Push builtin [&quot;qwertyuiop&quot;,&quot;asdfghjkl&quot;,&quot;zxcvbnm&quot;]
  žh          # Push builtin &quot;0123456789&quot;
    À         # Rotate it once to &quot;1234567890&quot;
     š        # Prepend it to the keyboard list
&quot;-=\n []\ ;'\n ,./\n&quot;
              # Push this string
 #            # Split it on spaces as well: [&quot;-=\n&quot;, &quot;[]\&quot;, &quot;;'\n&quot;, &quot;,./\n&quot;]
)             # Wrap everything on the stack into a list
 ø            # Zip/transpose; swapping rows/columns: [[&quot;`&quot;,&quot;1234567890&quot;,&quot;-=\n&quot;],
              #  [&quot;TAB&quot;,&quot;qwertyuiop&quot;,&quot;[]\&quot;],[&quot;CAPS&quot;,&quot;asdfghjkl&quot;,&quot;;'\n&quot;],[&quot;SHIFT&quot;,
              #  &quot;zxcvbnm&quot;,&quot;,./\n&quot;]]
εε            # Nested map over each inner string:
  D           #   Duplicate the current string
   .u≠i       #   Pop the copy, and if it's NOT an uppercase string:
       S      #    Convert it to a list of characters
]             # Close the if-statement and nested maps
ε             # Map over each inner list:
 ˜            #  Flatten it to a list of strings
  ε           #  Map over each inner string:
   ¶          #   Push a newline character &quot;\n&quot;
    ‘»²®‹ ‡Á‘ #   Push dictionary string &quot;BS SHIFT  ENTER&quot;
     #        #   Split it on spaces: [&quot;BS&quot;,&quot;SHIFT&quot;,&quot;&quot;,&quot;ENTER&quot;]
      ¾è      #   0-based modular index counter variable `¾` into it
        :     #   Replace the potential newline with this indexed string
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//UcOMhEPrDy05tOdw46F1jxp2AgWUj@4LO7ov43DD0YVKurZcCtGxMQrW6lwKOnr6XErKmod3nNt6bquLXumjzgWZwbHntp6ec27roW1AjYd2H9oENkThUcPCw40gow7tO7zC6j9QceahPf8B" rel="nofollow noreferrer">Try just step 1 online.</a></p>
<p>Step 2: Convert it to the ASCII keyboard and output it:</p>
<pre class="lang-python prettyprint-override"><code>   ©          #   Store this new string in variable `®` (without popping)
   4U         #   (Re)set variable `X` to 4
   1V         #   (Re)set variable `Y` to 1
   .ui        #   Pop, and if string `®` is uppercase:
      •Aε/•   #    Push compressed integer 667699
       ¾è     #    Index counter variable `¾` into it
         Ì    #    Increase it by 2
          U   #    Overwrite variable `X` with this
      •6©›•   #    Push compressed integer 433144
       ¾è     #    Index counter variable `¾` into it
         V    #    Overwrite variable `Y` with this
      ¼       #    Increase the counter variable `¾` by 1
     }        #   Close the if-statement
   '_X×      '#   Push a string of `X` amount of &quot;_&quot;
       ðì     #   And prepend a space &quot; &quot;
   ®          #   Push string `®`
    ðY×«      #   Append `Y` amount of spaces
        D     #   Duplicate this &quot;®&lt;spaces&gt;&quot; string
        „||ì  #   Prepend &quot;||&quot; to this copy
            Ć #   Enclose it; append its own first character &quot;|&quot;
   D          #   Duplicate this &quot;||®&lt;spaces&gt;|&quot; string
    ŠŠ        #   Triple-swap twice, so the duplicated &quot;®&lt;spaces&gt;&quot; is at the top
      '_XÍ×  '#   Push a string with `X-2` amount of &quot;_&quot;
           :  #   Replace the &quot;®&lt;spaces&gt;&quot; with this &quot;_&quot;-string in the &quot;||®&lt;spaces&gt;|&quot;
              #   copy
   D          #   Duplicate this &quot;||_{X-2}|&quot; string
    '/1ǝ     '#   Insert an &quot;/&quot; at 0-based index 1
        ¨'\« '#   Remove the last character &quot;|&quot;, and append &quot;\&quot; instead
   )          #   Wrap all four strings into a list
  }           #  Close the inner map
   ø          #  Zip/transpose; swapping rows/columns
    J         #  Join each inner list together to a single string
     ε        #  Map over each string:
      Ć       #   Enclose; append its own first character &quot;|&quot;
       u      #   Convert any lowercase (keyboard) letters to uppercase
        ,     #   Pop and output this string with trailing newline
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/166851/52210">See this 05AB1E tip of mine (sections <em>How to use the dictionary?</em> and <em>How to compress large integers?</em>)</a> to understand why <code>‘`¯¤¼Á®‹‘</code> is <code>&quot;` TAB CAPS SHIFT&quot;</code>; <code>‘»²®‹ ‡Á‘</code> is <code>&quot;BS SHIFT  ENTER&quot;</code>; <code>•Aε/•</code> is <code>667699</code>; and <code>•6©›•</code> is <code>433144</code>.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DJMcMayhem/V" rel="nofollow noreferrer">V</a>, <s>189, 179, 175, 164, 161, 157, 155, 149, 145, 141</s>, 135 bytes</h1>
<pre><code>¬19É`A0-=BS´&#32;
TAB³ qwertyuiop[]\
CAPS³ asdfghjkl;'ENTER&#32;
SHIFT´ &#27;ÄJizxcvbnm,./&#27;Í&#132;A-Z ]/Õ&amp;&#32;
ÍÓ«ü$/|||&amp;
òÙÓ&#132;|]/_
ÙÓ×«/Ü|¯
kkPÓ/_ _
kòÎx$x
</code></pre>
<p><a href="https://tio.run/##K/v//9AaQ8vDnQmOBrq2TsGHtihwhTg6HdqsUFieWlRSWZqZXxAdG8Pl7BgQDBRMLE5JS8/Iys6xVnf1C3ENUuAK9vB0CwHqkj7c4pVZVZFclpSXq6OnL32491CLo26UQqz@4alqClyHew9PPrT68B4V/ZqaGjWuw5sOzwQKtNTE6sdzgZiHpx9arX94Ts2h9VzZ2QGHJ@vHK8RzZQOV9VWoVPz/DwA" rel="nofollow noreferrer" title="V – Try It Online">Try it online!</a></p>
<p><em>This answer is now tweetable!</em></p>
<hr />
<p><a href="https://i.sstatic.net/gBpOD.gif" rel="nofollow noreferrer">Watch it run!</a> This is a slightly modified version that updates as it runs so you can sorta see how it works. This is an outdated version since I haven't gotten around to re-recording it yet, but the general approach is identical.</p>
<p>This is probably the longest V answer ever written. It certainly didn't help that V's interpreter is extremely slow. It took me around an hour to write the first revision, but I've been repeatedly coming back to it to shave a couple bytes off each time. Since the full keyboard is 1215 bytes, currently this answer is 91% shorter than the output, so I'm pretty happy with the results.</p>
<p>Since this contains some unprintable characters, and a lot of gross non-ASCII, here's a hexdump:</p>
<pre><code>00000000: ac31 39c9 6041 302d 3d42 53b4 200a 5441  .19.`A0-=BS. .TA
00000010: 42b3 2071 7765 7274 7975 696f 705b 5d5c  B. qwertyuiop[]\
00000020: 0a43 4150 53b3 2061 7364 6667 686a 6b6c  .CAPS. asdfghjkl
00000030: 3b27 454e 5445 5220 0a53 4849 4654 b420  ;'ENTER .SHIFT. 
00000040: 1bc4 4a69 7a78 6376 626e 6d2c 2e2f 1bcd  ..Jizxcvbnm,./..
00000050: 8441 2d5a 205d 2fd5 2620 0acd d3ab fc24  .A-Z ]/.&amp; .....$
00000060: 2f7c 7c7c 260a f2d9 d384 7c5d 2f5f 0ad9  /|||&amp;.....|]/_..
00000070: d3d7 ab2f dc7c af0a 6b6b 50d3 2f5f 205f  .../.|..kkP./_ _
00000080: 0a6b f2ce 7824 78                        .k..x$x
</code></pre>
<h2>How the heck does it work?</h2>
<p>Alright, this explanation is gonna be a doozy. You ready? First off, we need enter the letters so we can build up the keys around them. This is</p>
<pre><code>¬19É`A0-=BS´ 
TAB³ qwertyuiop[]\
CAPS³ asdfghjkl;'ENTER 
SHIFT´ &lt;esc&gt;ÄJizxcvbnm,./&lt;esc&gt;
</code></pre>
<p>Which inserts:</p>
<pre><code>`1234567890-=BS    
TAB   qwertyuiop[]\
CAPS   asdfghjkl;'ENTER 
SHIFT    zxcvbnm,./SHIFT  
</code></pre>
<p>It enters it pretty straightforward, but there are a few tricks that we use to save characters. For example, <code>¬19</code> enters &quot;123456789&quot;, <code>³ </code> enters three spaces, and we duplicate the shift so that we don't need to enter it multiple times.</p>
<p>Note how the letters are lowercase here. This is so that we can easily distinguish between the uppercase keys like &quot;ENTER&quot; and the single letters. Writing them this way makes it easier to tell which characters to put a bar before, and only adds one byte to convert them to lowercase later. So we do a substitute command to convert these to uppercase, and add one space after each of them:</p>
<pre><code>Í               &quot; Globally replace
 [^A-Z ]        &quot; Anything but a uppercase alphabet character or a space
        /       &quot; with
         Õ&amp;     &quot; The matched pattern made uppercase, followed by a space
</code></pre>
<p>Now, we take each key sequence (any run of non-whitespace), and put three bars before and after them:</p>
<pre><code>Í           &quot; Globally replace
 Ó«         &quot;   Any number of non-space characters
   ü        &quot;   or
    $       &quot;   an end of line
     /      &quot; with
      |||   &quot;    Three bars 
         &amp;  &quot;    And the matched pattern
</code></pre>
<p>At this point, the buffer looks like this:</p>
<pre><code>|||` |||1 |||2 |||3 |||4 |||5 |||6 |||7 |||8 |||9 |||0 |||- |||= |||BS    |||
|||TAB   |||Q |||W |||E |||R |||T |||Y |||U |||I |||O |||P |||[ |||] |||\ |||
|||CAPS   |||A |||S |||D |||F |||G |||H |||J |||K |||L |||; |||' |||ENTER |||
|||SHIFT    |||Z |||X |||C |||V |||B |||N |||M |||, |||. |||/ |||SHIFT    |||
</code></pre>
<p>Having three bars on the first and last columns is actually very convenient and ends up saving many bytes in the long run.</p>
<p>And here is where we run one giant loop. This will convert something like this:</p>
<pre><code>|||SHIFT    |||Z |||X |||C |||V |||B |||N |||M |||, |||. |||/ |||SHIFT    |||
</code></pre>
<p>into something like this:</p>
<pre><code> ___________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ___________ 
||SHIFT    |||Z |||X |||C |||V |||B |||N |||M |||, |||. |||/ |||SHIFT    ||
||_________|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||_________||
|/_________\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/_________\|
</code></pre>
<p>Everything between two instances of <code>ò</code> will run until an error happens, which will happen when we try to go up into a line that does exist yet. Since we just ran a <em>globally substitute</em> command, our cursor is on the last line, and we'll transform these working our way up.</p>
<pre><code>ò         &quot; Recursively:
 Ù        &quot;   Duplicate this line
  Ó       &quot;   Substitute all on this line:
   [^|]   &quot;     Anything but a bar
       /  &quot;   With:
        _ &quot;     An underscore
</code></pre>
<p>This is the</p>
<pre><code>|||_________|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||_________|||
</code></pre>
<p>line.</p>
<pre><code>Ù         &quot;   Duplicate this line
 Ó        &quot;   Subsitute all on this line:
  ×«      &quot;     A run of *non-word characters* (that is, [^0-9A-Za-z_])
    /     &quot;   With:
     Ü|¯  &quot;     '\|/'
</code></pre>
<p>This is the</p>
<pre><code>\|/_________\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/_________\|/
</code></pre>
<p>Line.</p>
<pre><code>kk        &quot;   Move up two lines (to the original text with &quot;SHIFT&quot;)
  P       &quot;   Paste the last line we duplicated (the one with all the underscores)
   Ó      &quot;   Substitute:
          &quot;     Since we don't give any regex here, it re-uses the last one 
          &quot;     (a run of *non-word* characters)
    /     &quot;   With:
     _ _  &quot;     '_ _'
</code></pre>
<p>This is the:</p>
<pre><code>_ ___________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ___________ _
</code></pre>
<p>Line.</p>
<pre><code>k         &quot;   Move up a line (this will throw an error, breaking the loop when we're done)
 ò        &quot; Endwhile
</code></pre>
<p>Now we have the full keyboard, but each line contains either an extra bar, an extra slash (forward or backward), or an extra underscore. <em>Super</em> easy fix</p>
<pre><code>Î             &quot; On every line:
 x            &quot;   Delete a character
  $           &quot;   Move to the end of the line
   x          &quot;   and delete another character
</code></pre>
<p>After all that madness, the buffer is implicitly printed.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://esolangs.org/wiki/Duocentehexaquinquagesimal" rel="nofollow noreferrer">Duocentehexaquinquagesimal</a>, 3036 bytes</h1>
<pre><code>2Ôδuδÿôtõ¡¼Θ%ËÅтƶ¬HMdÆawçùSÂvíÓ'θg/[&quot;»Åø≠]nj‘®‘M9~¾ÉQüÝ–*9ζž«Â,LIû–Δ#]¹Ð1…Ñº.β`¯‚…àñY!∞·ŽÉ%(˜‰«xη²‘0ÂγXd.©ÅsÉ÷^oM-â®ι1Nà;´¨©ĆāócÒ₄§βV³ƒÈ¯¾“›'Û$€`þeƒi÷тßäºиRèÞÆÈ½εîÀŠ\sÅtó&quot;eíi∞Ëζ₄ÙÌÕ_T¸¨ÈcyÏa#3-&gt;*Ý#üWë€›xÜàεqqFн;ā/Ñ‡&quot;›¡¯¨]1ê²Ú`4ÜFzSÖ'∊/¼C‰ÞÙ†m’I¿¸{&quot;в]иùиå;ßf@qZÖÐAΓ¸(ÙŒ‹Lãßk₁мΩè¾˜∞›ÑVãh¾;œвM[Ò¾æo‰ØΘ≠º©8|Ω1ε₁ǝΓθBƶb·hI¢¤¬ƒ‚-¶{∍α³h¯rāp¯†\ε ðþMŽU0ì₁‰4ýpW0zΩðàöŠ«ÍÏúиÿ,¸āIôê©Bn×DÖr¹‡ZSèΘ½Òì©Éƒ…åÔнlù¸ð£ùd₁Žζº©ûq’|q£pØÕ]Ë&quot;ê74Wáƶε¥¬²Ú¬Σ8ì-‹иI˜¹U±+2eδòwεN+’{ćžz]LF—çÝ«—à!}„@uÆŒòβ3A|à2ΣÚªǝö-®θ¾ºнÞJ¦āò2Ćη&quot;¨₅¡™ʒΛ!¬ºEî¦ú¼œG‰7NšŒ|∊–o Òθ“7{sÀÿ≠üTÂ\B7™YXÔµ0g9þs-+6»βˆÛç₁[γãqª ór¸1ʒi¿¡|Ê¨γ&gt;ÉhβεX’“)ÁÿEŠaÅb?b6?ª˜oÝk™iŒmúÞðΓćq3ê-ƒÅáHA‰βĆjC’ê÷á
¼₅sqŒ¢œYnà₁&lt;X/£NÀ0
—3âô&amp;-â˜›`ÑC¡8ˆQêв˜äeØæé^δ2çªÕšât₆ʒÈ0á8®LaE₆ûAH6”§hΩqzã§1!î+hé¨ËΛú$₂ž‡Ð[1ÄDÅ©ε,8êβ₅Õ=ëgo∞vƒkü¤Dà^ßˆšjAøÚ3y₄αÔλà,üœ÷Ü”J8*òõÉi«‹‚Gè½/ǝ»/ÔÏm™Šfα…0Íþ®¶ιh–:öŒΘÙ₃ÇÌä1ÀðΣøƵH}º‹Θв´ʒ8ÎĀ&gt;¨ÑŒÉ–¯hÌóOjB½ǝ…mĀ+àæ©ˆh;¼ƒΛʒìFá®3°é°-¯BÓ†Ç;ÎÛÜ(õ§°ζλ%{₁º]p₂ãý₅Ì#γIkÊößKšŒ%òÕÿ}₁p Såíóì&lt;tç›æÍγ₃¶éûÂgÍV…eм”àúδ∍н;нä.“0nAx1yñ_=N6,∊‘\f²3[0¦₄,ù“h¯—ÂˆÅGŒ©ŽðZAαÙ·¾d¾À¿.c{šθ¿þ^ƵL‚àÜλÜá¹¤ºнžQâˆÀZÿƶ^ÿ»Δ¶1ùñgôǝ‘ĆŒт&lt;=‚2ΩÄ™2-∍øuœ.yʒ®Û©]©6Uт€2™ε9₃≠ÞÖ‡¾Ï›Tλçá¿Ä¾ˆÜ∊QλGÆ^¦∊ÁåʒÍ³₅i{Õ₅#Î&gt;hεX:₁₅ćy)‰?Á₃ˆêW-Ï²št‚îVÖвç±’1ËδgŽΣ}™¼‡þ‚÷üéʒË¿a™
™}&amp;…Γ¿ÞÎη{₆sǝê?¤ÃçYŒõ¹ θÇ±øÕuóP}ÝùΓJ^êsZ&gt;Aθ^&amp;ƒ€¹4∞Ã@Y:Ë©-Ð≠¯AY&gt;{W©”vEδ¡)Ć`(šð¦fиlGè₆ËÍ›Ω)Ë%šŠÂ¸м$Ü{·Á€‹¿p˜}₆\₃…&quot;þYôµ&amp;ü7нŠθþ¢¿Mµ*î&lt;ƶмíë°!A§HAÊΓ6ĆÈê¡áÒ¶z%Î~ΛλCGðƶç®«þdGó&lt;áKÇγQ‘V₅‡Ω&gt;7m²àNCÁešØ“ï´žhÂÞºK5cX”ÛÛß×çÄÍÒx8¤›ã_Λõиâ8]µāÝн`rmbιoyøΩÈÏlÐâĀ„žÂäƶ₁δJËè?αò2à₃‘QtƵ$ËÿøΓ›C∞;xÔŸæ-&lt;òÜz-{XüŸ'\D$Š'
N³S∞zƒ1õÅ›èǝVXzÀ₄LÄàJŒþ²ëB½5÷вékΓrª´^vαι7ít5т—ßŸ3¥ï*2õāǝLÀ+&lt;¸Ω\ǝ$θõ∍º4¥ëqтTbœÑ[ǝδ§ζ^ Äиéù;zĆ^l≠]fgGā’¤QÔγÚ»Bÿ‹jçÅº₆þÆ'ε!ôšAñāžWÔm&gt;Œ¤‹βÖ5óŸιûãΣη~¢ãêù…J4‡üвúw\^θm₂5,εƒ#ìŠCεiØA∍óåQôø'+ΓnBÔasGÏãâcLb1¹‰Ñ³™ΔŽscâ_‘÷ºΓ_™4~$ÀZ€Þñ$ƒ¾°}©ùœ1ΘÌD&gt;8Λö”ƶ†_QØŠ¤ƶæf¡ïŽMË›-™‰FŠàç„ì:eηÇ4ŸLÿ›qÄ.-&amp;@¹ʒβÃËāO™EÌ¤Ø~{öË‚∊¢₃т‚Î+Ïú#þgíŒn—¸±тþKŠyàöòêvn*ªвβWþM*ĀćÝ1V¸₆Rl÷qª&quot;×—ÆƵ×₂’–∊åÑÌΩ#À¿!ø¿ƶÖÝ´÷/¦ε₃õ=¶³^нŸт₂&amp;,θ—¡ǝ›ÅpgµjKx.c£λá=yΩaõSÒ[ΘÅ)®…CàŸË&amp;C4é;Γ5ÚεyÈœîì₄K₄Ú&amp;œÍ}Ωuò£δËÍγ₂m#{õ½Öç&amp;ò∍Ó8£3¨7x8Ć®v½%x±×d&gt;gÑ®¼м{EyÆP´ûM)λX½dàÉλVsÖq¡y¹·JG₆*≠[Ø¶^åŸ¤€K₅Ãa¶L‚Θ[Bć\Ïвǝw3'“R{₃\Eв‘1M°e`мjXÔfó)¢ïkθλ—ÉíÉo|½$₁p&amp;™SÓδÏŸ*òaI.G¯1h2ŒB#hÐα±ÔWmм‹Ü¯@0g»íÀ²YÉ»ç9#ƒš,ÏÓjZ&gt;Dé∍óFì™ηÙ0ØÕSαLíÍù†w,Γº¡t¾ ¥ŒCƶ‰B₄´×0*ŽΩ¡8т€úâóŽ› ‡Yćyηe“–š∊y$α]Yà7·Ñ?.Xh÷±F$8éCçÕ{ÔΘñˆÃÆ)…íú—(Ñ4àîÛ³Ì&quot;âαÐå≠™V‹{àéC9н\fgδÝƵþ &lt;W∊!|Ñć0Óc80¨Θ¿«_.ø†x D‰$ÑùmÆEÕΣ†.1Þ¥]м @›´áóÛ4ζ∊:1@&gt;BTB)ˆß,„ÜkÌ¨c‹4xê*∍Òγ„¾eø9w#¹ÁF·³zê¡5¦è¬H]‚LÙvÔxbr ¤ôghÐr÷ǝ₁Ÿo#Nθ·Ù‹δ¸ÔØè«Âζ´ 2DVʒbÁï∊ƶdŽ.TΘ[¿pÂk¾ç¦¨Î&gt;ä³hF-¤íŒe“½jG‚\8Øλεн∍èÝmºj²©ë¬àê[@9aˆÓôMêuMт∊yH'Ƶå∊F¼Ê„ÚoγË¢k—EÝUŠG´ʒÁìÀ–-Ýäƶ
β³ζмZìòÊ4´JM3«.ÕCÇõ©îÊŒ³ïO·ÕdÎ†„dδ&quot;~˜¶€Æ†*ÿµ~†ζZÁ¼n₃ĆĆe5J÷;ò¹ô¡ìÂgΣYÞ»…=LÏxM—û'‘Aā£Iε®l¢¯ðcºí3‚iªs,HN’MY½’ƶ₂ŠcÍ¸kþã9–ý)˜ŸÌ¤z)ß∞3œH‘š₆ðEQâ_h¦0ºΔyćм5¡‘L5Ü„|
\]«Ú±&quot;C¾èтÚт&lt;;5D)/ÕðýćÊÙÔζÓ\Çq+“QP={ÊÒLÂиæïÚ₅¥£s½´\¡+ΩΘt†‹ε¿÷Ú[˜ìµβ.]в}Y_zÚ¢#?ïyS™úºb—Δ9Q&lt;u7₅∞ùº’ý™.&gt;àfMÃoY#‰ºƶ¢ΣÐ¶»øÓüć®&gt;мKV&gt;«©λÜĆ›%в’¦lËeÃ&gt;Xãιβ.öāDŠ!°xëÆδ\α≠Ä«
ýÒªƶи®2Iê!9Ûš4N³f!vεв0 kÑ”λƶÇy}ß¹λ©b¨₅tóć¿Òθ3/Zsd∍∍{γ¯þýO±t!²ΘuÀ™û˜Θ¸Ç‹ζfý8G[2ΘÚ¦5ÌŒ_тWŠûΘ`'Ô∊™á!o‘в+±øαíζb&lt;мû3p/Ô}N&lt;‚ƵΔ%Lýmºçêη;äsÞs&amp;€y©°x~KŸƒиß₃·&lt;ǝθнÖγΣвX©(ΓÀý¨ιú{αΣт‚¾hY´=†×¾ÚNΛÈâò¸+s)(ǝæúnW₅ʒôk!ǝïœá—ÍíæΣÅ7£ηxjÑÖœyÒE°¬JÌs¼ˆíÝÁA{Pi†áÖ₂₅´Æe†,·õ[FK'u§&lt;₃MŸï·ÙÞ&lt;ê0+($qΘxZ!â„ô+8á₆2_ʒöyîÒµÀ₂₁Zl¶…ǝ¤â$¤»&quot;Hd’
</code></pre>
<p><a href="https://tio.run/##RVhpU1NbsP3urwiDIqOMioJRQMABvJerV0UmmUEEREAZ1AoRwuSYoAYETAgEEpAh80xVd06skqpd8S/kj9y3tu9VvVLg5HDO3r2711q9mrbW4Z7/2ltHSksbE5oNdUvJcGeHKrtXlZY3XNJcglslaaoWVb56YPRJyciz0QE82qnKHs7OU7WUdLb3DKqyB1RpeKyNrAXsqlAiPcnq0szsnKyGpuSExnwzTa3@3wdfnht8OnJucLi1rbfz/36oWtRtJX9utz1r7R3oGm3v@/8rVdt/@bwkXKPCxcfsGmE3mSkkjKd5kWd@a2Me2rte28G61he8zf47rH3OP9iQJnzd5xqSKcgz7EvMm5oGHic0RtrHt9qLrynC83Uc4rWExpBxUXiUCO2yNqvmBgdxRyylNJGfP@YlNFb@RIEc4XhEBwnNivxs4qP6pMTcOnmVMM@fPnuymtAc0u6Y8JIDi@eyVjgfdOSQjWeGeZ69zYO12bxB@8Kfd5tNJeSiHbJFddEpdrazPqGdpm3huEfOmJ7n6IAiCQ0WDKTxt9SEdu8RRzpj@l72/tbyd96kQNz3D@/wOuvwcFi4eZ81iqlxmGdG2JncyT96ERkvCg/W5WV@y59b7pKPdniufZw/tKYUZKszeC2FQ/d5F8tjozFeZZNwDw1VxcMl0alz/AnFQsECSPIB7TTlsZ0cvPKokFerJu7wl7TE3MI5ClXg0AhjOaEx9Sc0yzfomHyTyXFHU9zHfnxtlfD3rqtDD/kLfywTBvKd5WVFn9D4a9jC3/sS2ql4SNh4hyLI39w69uNP99jSQ5ESxRB31DawHjWyDsptjMKIAlKAbMUvhS1PuPH2zzVhEL7ymKeNvD03aIM2aS@G9VeyyTOZmHsnjsjZQwfPolNPZeVMjcKt4kOO1Crhf3N5Dytg5UIOP72fO4E4DlFWj2ICCN7xB0aW@TiLfNGpG@zC@W3lA/z1Gn95Rn4k5@Ed3hFGCrOe91Dlebmtlbd4KR5@wn7y8SFZ2N@BLZSw8MiwOTiEHL0cIstTNvLnJl5MZvuFwvtsjnmEm7ZoT6aY9oSlmPeykaS478bJKvn/paPM/E7A3vFCuG9nYo3J6KwSmWiqqUpoloD2NdqVF6akVwnN@tVR1il6dghHQdlLNuULC9a0/1xjTzbQ56MI0BPm9ZtkBfYc@VGd8CbTTkI7Q@bE9MYvvfiWhEAClbxPVg5QSDFUI0cXbitmRf8SVQcxBlWsFz4g9MLkMGv4GGXh0F3WNpZfwBL1D3iJ3LndFzkynJ15noLCcaLjb7yNVDQIJ1uGyK5i5zPy5f3S9wIx5pe8QDvCqeb5HuEQ7gc4IRZP5yk@rlRMrTzTdqXt/BWyn6wO8loftuhV9P0cAPAOhSE6O1TA9mzwZobN18sQq3BEdY@BzGW2s5fNpyiE0w0PKXraUAz1A2xCIKUPzpHlNmtyTyFzBbzBrjOgpyRx4BF/qiBz8Ymuju1xx8kqb3aiXFa2NQtXPm@TnT8rZt4YSWh1v0DWXDYX035NayU@c7Ds@vmEZo22e4RtaIIttJ2XxPuZPWwD@RbFNw6AzloF7Dbzx4Y8nr7GM2QT7qxitgsHwuTPl3m3exBceB7T93GINq@xqZm/n@gU8@My9vFKwThILY4ghUE2ZTHqg0Mi7rWbxRnsYDfP90o4AKIr1SBW@NzPNQqe4yX@0I/MKaYucQSg5gLhEdonj/D3oKKXAHu9MILI2jc8C8HYzENhD4EdX8x9/RUFsKAwxh3k@qUv5vdRjRrn@QSYzeNlOujBG86/HpdT@Cek1Nof1WSCSVayneh6SigUA6iQqr0qNtN@AR0iG4fZdFDOBlCSZ0v4PeCxehaKvk2HwiOCpydRIgo0PUWyIBRhmZi3KcJ5o48X2MPfb0kwnsZpP/PxKzz6VHUHzPvBTt4rHQHQICNWfiecOA15GMRjbTe/u4fQOuMhpArBBYQL@gCxAxk2cwC33IGysbxxPmq5fPt81h@cGxu7yFHQkEtWZDyLkdHVHqkiS6wFoGeqASgbxP/wYRnKsUxeinRArDR0nNM@qZhBtWOONMfcNagENlxFvVaRAD9J/Q4rkTrgTceah3wc8zTzMXiyRJ489vNRN7tkHo1REPm3tvQyFsiHOk2jfvnZiJp9o4ohZ/yXnvb5G9mayHb@399aCHk@nhDuizi2pOQ6fwHOENIHJOQutt/G9sc8DbHVATFzC3UiWM26ZpxvbgFk20KN3hGSNtM7yZ/xI4Xfq3vAx0tSJ7Uz0dnxdNDrCuPDGyxhv5/NH8ihmEfkCffv8Ze4A/wAvJbzAHZXN4TP8gohgYDAe0Q@5UW3tWGfRTpuxW9O4evVGdQFveEYAb8XXpReNwy5sl@hTX7D2/VAmZv8KuHjWToCAz6PsvPvV7zGfmG42cz24YfqMuFrPgMB1u6Rv1C2vjdX6y9hD1s2f5Q946CsXj15n2wo/fNK4SJzelT36CxYfEjWrrjvCYgi2bvI75ApYUvnxdNAmIm15IuHUnl1krzy0GiUfjp@erIKzOkaZZY11mSO1LOL3Gc4dAFVNSHMCPrQcS25M3i/NOaJhwDMXTpMKqPt62W8IAzno2jb6CdmNqO9eSZO8/vX4psIVlTzYcyDDO6jAUU6qtlZyuZbPCucdQDDPVQAaRQ29YV@9AnT7Qqe6sQRjIAlH5ALTou1vE6BW0XtDyTGv@Hfd/6Kqk@D7PqxYtqUxLC0QIbcaG0bxU3kRg9Yi4cfPetvE/7BcfYBZnP84Ql/5I2oBt1EiWDRzRiMxJRw3USGdq4A7I58KaI4vrFuJOZOxe1jvAo2ByqQ/ZIxXlJ8bM0uBUNXJ7InH0ClfGmN11IVU9qp2@S8g4cmYvo8iNWMDGnn59q9BxOsAc1qEKzpJkoewRl3IShF7AWqbH3C8Izs5Gp@Lo6E/wL/GCkC4kHF74qvgLb4ICOfcZifazWsySwlnKPx51oqiuEGXyhQiEd2h35r77ZBLj81wDa44Lc8zSqeRiZs7C@ZiOqan0iD2NVdHYUrWKbNOmisE80zWI4Wp/E/RiZnoIQASoR1acKdxC7FXMZH0Sklcp@X@tUQhE0plA7@UsROxSf8UB6LsAjva9qAjtmlhlhvFko2hHCqwIvGZuHrh8gVZQl3TJ/Ce4qpQrh72Vgmae7krTo4D19apjAMlPNS63A1bImFN9pr2vKkCTmELXVKzi8p4eF23mhBRdhLAWFowd3C16mQF8AWxDpKjcFJ0eEr2BC/YsiD1r@9pi4GFDzACuqrMbXUsRHeB8VmaxfAeaCEa3kR9cnGWtirCoQwSXFd571LncLLs4WKr0amJjDE0znZZ66SH/bBAdIuRqf@wkuV/BYcNr6ehGYvSt88t0AbwI2s3Aq/z5QeK4Uj3fxD0Q@gmLCoR3C4kVuKaVw6McDH/nwgg9CGheM@XFtGVBOd5bW8e@RDGf55wl54iWT@KoGgi7lxodX@MQ8GqWhb/InfCluKlOQkhhzjZF9gllzsPUdW6R/fsPsyecjZDOb6pIJqz2RJY7NEZinAAZ552k3ux7fGctrJAgE1Xx4XtlZ232F9AzI4ky4HCWsFmwD3xTMVhWwrEYYiXhHucZ4D0valxZy@JV34yhl8fvdK2EbZgbVcUmxkg9L2p0xC38KIbPsMO2TZDcVkKaCdC2PFUR3tP6fw6TEI39cOdTfKvU@heGiycpx1f@Mgwdp0EXxA4Q6ka14E7w3zlyEyj6PJeG9WI0UZQHQDGwkNZkvxAZ3avVuymb5pJY/sS8LYUB6dbeQPccfPtRcFGNxW/4EAv2msjMspJq@WDjsfxUOPYem62JkOFB/0CZ8IyoTPQ9fmB19SOFV24DOo9x024GAfFB@MSOuNnGo6yOvJV/TlKT38EU4cnuV@v@y/fl6lg6u53ZjKfqA4jnqex@X2xZSYXjFnARWGxw/V19j2hwNVyCEQ7uXlXOma74ijGrz1TlLJ9CILfQMjyghFVLSl6CskkA/L5TTl4q@5GWhANli5P70RfnEDpAyjrCoQsB7dTHg7/4xZBsUMvIyniqOmejZdgNh/upLzoAdMOqpKLWZbBZj/eRJqYOQj9L03rEuXXv8HwxYtneVPhci@7MROfpvMG9DHj7yFxCNsWA7/JH5rq7gYDzd2dSM9a8BpRFV6HzsmveRP0dlcNrQX55IcJo5ptyUHc6rGNKa6hpOkAsH@ftZV8mdhwd2cPAj8VlM8pLoqRzMXGoiTvxVizptbuJR3VV1@tzwdAX7PkiRd7QP9dtoRQeEY2zNkMvVAnGadIp3su/giBbPtVBVsi3NCNqMi2P0dzNBNgEUNLz/npbG2Zyrw19WN8j1jLxiBWcY3mHIb1sYrZz4/VNQHZ2nEi5ibMeW4VPnX7v3St8FNHCCmmKdDCefcBcrQNlnbBy@yTVZYx/dqTLHOnqpsrA/yyzJQ@DEGjZXGYgx6QeGOh2XAO7zWT4HH5IBs7dIeMmlvuHqxFWc0sKuW7aO1qC1Kdz0NWd3CVRWFeEGefmUQ2r1IG30oUSWv/auYqqV5RWB7aDQaQzYMBKTulHCQU6BJP8R9By8UkutmbQHt5vDnChhhN/bd5wUIu5MP/sKpP3fwexQCO3QIV/JrjGceiS0d7mXAw7lf40J4HvIUhQbAIwz4us6im@wtAev98AlmbKPtFpZ6FBIssl6u4Q9jtZJOQZDPWBadIssNDIP7T2AiDviwnQL8owB56SX7cNb121C32noCiJdlT9YqpnZYNl8fOpLlIk7F4fSTVYgRdHcinb@jzxYohutYGAhH3zqshOls6SFrLnrE0nh0Nh4qwtinMdYUyRFi/eWpxiZUcoWOkitQqx2I8QoMaEnRtfRz8NqHHIb8LvAyqOBhQyPPDmEaXa37@/Ik7uprWItmauUDXpHj5BZZhilMrkYyZwqbMI78yZsfhzuGDVxpwGS1R27hyGmKO17Vt0xg242UK3wwfgfEweQZaENaxNLFutLRC9L7wNb55SCyjHlgeiNHzaauWn4zWJ8i//ASiHloA@PKR8h5ECbRwKHoLO2r46Fb99S0ixkL7juKMgVOS2VbJusTXuzkN@oHaNDo2DnsiU5dU0xJdDjGu6wTrkbMSTDR07R7ijHkkx1Wzkf7@TfYnnSRvynmQjiZrqTngKojV9Un/2CyJoJoMbPjr/g7@UWQbG1/BusRdiKWYzkzF5x7ONwBYOP/pHCiwBEO/0VHI0nkEMZRABMnD56sQgrgdmWyPF0cLq5uyIf0rJC1iN8q@pbf2vtoxUFhfJTGS3JSwUvmpEGUMe7IlBYZCvRDeNpKYT2DBU8x@726XQoIxdxi6XQNh8EoCJpdAJSbw7w@fAYIHifMZGOvbym@mB5F/C4nJ28pfJIP89EX4RSWuOMB2c4KA@bCMMTKz4FJWDHLn15OkZ56cl2W09xX4GblNnzFHOTWQb7M4fSzcPNWDgzcRy7AQFdfEm4coB2aJe7fQUetqNzMBbRF79hjSN4XxTDO@ko6pL2b/HaYQuD7D/B1qmzy7165iRmTDTo9QOZiHcTDlAVquhuqbqWN0nYpYq8FBw6kSPF6KdtzM8@mDgnj2MMk3pDa4MosZsmH/BaE4xkHw/XklvYTS049fAJKa6yYmjd5IxXDWjD5egcQ819Cs/Hf/wA" rel="nofollow noreferrer">Try it online!</a> Absolutely horrendous and enormous. But hey, it's a challenge out of the way.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>378</s> <s>342</s> <s>330</s> 327 bytes</h1>

<p>-10 -3 bytes thanks to ceilingcat.</p>

<p>A first stab at it. The repeated g()'s suggests room for improvement.</p>

<p>Edit: There we go.</p>



<pre class="lang-c prettyprint-override"><code>char*k[]={"eZXCVBNM,./e","cASDFGHJKL;'d","bQWERTYUIOP[]\\","`1234567890-=a","BS","TAB","CAPS","ENTER","SHIFT"},*s;f(w,i,j){for(i=16;i--;puts(""))for(s=k[i/4],j=i%4;*s;printf("%s%s%-*.*s%.2s",L" |"+(s++-k[i/4]?2:j&lt;3),L"/||"+j,w,i&amp;2?j^3?w&gt;2?w:1:w+2:w,j^2?"___________":w&gt;2?k[*s-93]:s,"\\||||| "+j*2))w=*s&gt;96?"FFGFI"[*s-97]-64:2;}
</code></pre>

<p><a href="https://tio.run/##RU/bTsJAEP0VMgm62@6CbGuR1tIAUkBREeq1LYoVdEtEwmL6AHw7TvXBmWQmc86cuST8PUn2@@RjstLmYexuYPr00LprXl2yUnkKDJLG6MzvdM8v@s7hG9avN/ftYfB427sehHEUIfJSEYZ5bFVPakfcnSDQHGEIGk2MrcYgL9pXQXuIedTt@QHsmKacGcmYZCndzL5WRLoVy5GcO8vvtSIAlOaocuehLJsxS11ZNB0ULVdysZ4RKCp0rpU0VSwJBawPhS3oROk6/5N4wk5PDYpEeYtMynDZgfDSseFldeFldsXOdGFnLB0LD57/Deycn4ea4jUjthWDKNrmVsApmqA0czVVr1ke@H7H78FvYzXmlmkLZ7fH8wqfE7kg@BehCPwA" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-MList::Util=pairmap</code>, 313 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>pairmap{$_=$b;s/\|{3}/|-|/g;y/-/_/c;y/-/ /;s/./ /;chop;say;$_=$b;for$r($a=~/./g){s/\| /|$r/}say;y/|/_/c;say;s,\|_,/_,g;s/_\|/_\\/g;say}"`1234567890-=",($;="||  |")x13 ."||BS    ||","QWERTYUIOP[]\\",'||TAB   |'.$;x13 .'|',"ASDFGHJKL;'","||CAPS   |".$;x11 ."||ENTER ||","ZXCVBNM,./",($s='||SHIFT    |').$;x10 ."$s|"
</code></pre>

<p><a href="https://tio.run/##LZBdT4MwFIb/CmmasCWFgogfa7hgk7npNudgftYgLjpJNiF0F5Id/Oli29mbtyfveZ9zcsr3auO3bZnl1TYr9zgN8BsTlMPeayhYQNesphZN6UqrQaVpK1l9FiUTWc0OkY@iwlUHZ8GPtNfdvUIYFHBFG9VUU9AM9ReEQ0poStaSlXJpcC7HSKtBr@6Rd@yfnJ6dO1aASAezAAEYBqDut@sZtiz6sSEfACLo9j5aJI/L8c38@YVzREyAJOwr17Qx0wETTILC@GJ4Obq6njBTpgAG4VxBAOkuV2OjWRItDtinh8FdfzYlNlUbiEBi49F4mOi5ZleHHBnCAlDb/hblLi@@RGtNfdtxHamTXOx6veUu3wT/h/0D" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 293 bytes</h1>

<pre><code>c=##&amp;@@(#|2&amp;/@Characters@#)&amp;
r=StringRiffle
p=StringPadRight
Print/@{j=p["",#2,"_"]&amp;@@@#;(" __"&lt;&gt;#&amp;/@j)&lt;&gt;" ",r[p@@@#,i={l="||","|||",l}],j~r~i,j~r~{"|/","\|/","\|"}}&amp;/@{{c@"`1234567890-=","BS"|6},{"TAB"|6,c@"QWERTYUIOP[]\\"},{"CAPS"|7,c@"ASDFGHJKL;'","ENTER"|6},{h="SHIFT"|9,c@"ZXCVBNM,./",h}}
</code></pre>

<p><a href="https://tio.run/##LY5dT4NAEEXf@RXNbIJtsoqitjbtNkuR2vpREfATCBKkBUINQd5Y@tdx0L6czOTcuZldWCXxLqzSKGzbiBEic94nQpUVridhGUZVXP5wMpClktlVmX5vrXSzyWOpOKxm@GWl26SSTNwqhdcZK1wASlQKAfhYx8mkD70ggOmMYG02mM6gB7R0i87RlNU5AyGAIpB549NsX@7TP9YgFDTegdA0WFHXEYfPM/X84nI4uhqfHjOUcxvEsKE1ONocJ4qRp1fDct6fV4@m63sedFLXTMyNOqvZ14ub5e3d/eQIz421Y1j/DQkDe7laOCDGXe7jTX@Zrx/oCb6QNE3b/gI" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>

<p>Relatively straightforward: encodes rows of keys as lists of <code><i>(key name)</i>|<i>(key width)</i></code></p>

<pre><code>c=##&amp;@@(#|2&amp;/@Characters@#)&amp;    (*converts a string into (key)|2 s*)
r=StringRiffle
p=StringPadRight
 Print/@
  {j=p["",#2,"_"]&amp;@@@#;
   (" __"&lt;&gt;#&amp;/@j)&lt;&gt;" ",         (*top of the keys*)
   r[p@@@#,i={l="||","|||",l}], (*key names*)
   j~r~i,                       (*space under key names*)
   j~r~{"|/","\|/","\|"}            (*bottom of the keys*)
  }
 &amp;/@
{
 {c@"`1234567890-=","BS"|6},
 {"TAB"|6,c@"QWERTYUIOP[]\\"},
 {"CAPS"|7,c@"ASDFGHJKL;'","ENTER"|6},
 {h="SHIFT"|9,c@"ZXCVBNM,./",h}
}
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Powershell, <s>249</s> 242 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>"``1234567890-=Bs   
Tab  QWERTYUIOP[]\
Caps  ASDFGHJKL;'Enter
Shift   ZXCVBNM,./Shift   "-split'
'|%{($u=($r=,''+($_-csplit'(.[a-z ]*)'-ne''|% t*per)+'')-replace'.','_')-join'__ _'
$r-join' |||'
$u-join'_|||'
$u-join'_\|/'}|%{-join$_[2..76]}
</code></pre>

<h2>Ungolfed &amp; Explained</h2>

<p>The middot <code>·</code> uses instead spaces to to clarify the source string.</p>

<pre class="lang-powershell prettyprint-override"><code>"``1234567890-=Bs···
Tab··QWERTYUIOP[]\
Caps··ASDFGHJKL;'Enter
Shift···ZXCVBNM,./Shift···"-split"`n"|%{        # split the string with rows by new line
$r=,''+($_-csplit'(.[a-z ]*)'-ne''|% t*per)+''  # split each row by key labels (any char plus small letters or spaces), 't*per' is shortcut for toUpper method
$u=$r-replace'.','_'                            # replace any char to _ to take an upper 
$u-join'__ _'                                   # join labels and push 4 strings to pipe
$r-join' |||'
$u-join'_|||'
$u-join'_\|/'
}|%{
    -join$_[2..76]                              # return substring for each string
}

# $r =
# ["","`","1","2","3","4","5","6","7","8","9","0","-","=","BS   ",""]
# ["","TAB  ","Q","W","E","R","T","Y","U","I","O","P","[","]","\",""]
# ["","CAPS  ","A","S","D","F","G","H","J","K","L",";","'","ENTER",""]
# ["","SHIFT   ","Z","X","C","V","B","N","M",",",".","/","SHIFT   ",""]
# $u =
# ["","_","_","_","_","_","_","_","_","_","_","_","_","_","_____",""]
# ["","_____","_","_","_","_","_","_","_","_","_","_","_","_","_",""]
# ["","______","_","_","_","_","_","_","_","_","_","_","_","_____",""]
# ["","________","_","_","_","_","_","_","_","_","_","_","________",""]
# before substring:
# __ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ________ _
#  |||` |||1 |||2 |||3 |||4 |||5 |||6 |||7 |||8 |||9 |||0 |||- |||= |||BS    |||
# _|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||______|||
# _\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/______\|/
# __ ________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ _
#  |||TAB   |||Q |||W |||E |||R |||T |||Y |||U |||I |||O |||P |||[ |||] |||\ |||
# _|||______|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||
# _\|/______\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/
# __ _________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ________ _
#  |||CAPS   |||A |||S |||D |||F |||G |||H |||J |||K |||L |||; |||' |||ENTER |||
# _|||_______|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||______|||
# _\|/_______\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/______\|/
# __ ___________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ___________ _
#  |||SHIFT    |||Z |||X |||C |||V |||B |||N |||M |||, |||. |||/ |||SHIFT    |||
# _|||_________|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||_________|||
# _\|/_________\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/_________\|/
# final output:
#  ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ________
# ||` |||1 |||2 |||3 |||4 |||5 |||6 |||7 |||8 |||9 |||0 |||- |||= |||BS    ||
# ||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||______||
# |/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/______\|
#  ________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____
# ||TAB   |||Q |||W |||E |||R |||T |||Y |||U |||I |||O |||P |||[ |||] |||\ ||
# ||______|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__||
# |/______\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|
#  _________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ________
# ||CAPS   |||A |||S |||D |||F |||G |||H |||J |||K |||L |||; |||' |||ENTER ||
# ||_______|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||______||
# |/_______\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/______\|
#  ___________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ___________
# ||SHIFT    |||Z |||X |||C |||V |||B |||N |||M |||, |||. |||/ |||SHIFT    ||
# ||_________|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||_________||
# |/_________\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/_________\|
</code></pre>

<hr>

<h2>Extra: keyboard with a space bar &amp; right aligned labels, 278 bytes</h2>

<p>I've added a couple of bytes to the regular expression to handle the space bar (old regexp <code>(.[a-z ]*)</code>, new one <code>~|(.[a-z ]*)</code>). That's one small step for the regexp, one giant leap for the solution: you can now display space bar and key labels aligned to the right (see SHIFT, CTRL and BS on the right side of the keyboard).</p>

<pre class="lang-powershell prettyprint-override"><code>"``1234567890-=~   bs
Tab  QWERTYUIOP[]\
Caps  ASDFGHJKL;'Enter
Shift   ZXCVBNM,./~   shift
Ctrl  Alt ~$(' '*34)Alt ~  ctrl"-split'
'|%{($u=($r=,''+($_-csplit'~|(.[a-z ]*)'-ne''|% t*per)+'')-replace'.','_')-join'__ _'
$r-join' |||'
$u-join'_|||'
$u-join'_\|/'}|%{-join$_[2..76]}
</code></pre>

<p>Output:</p>

<pre class="lang-powershell prettyprint-override"><code> ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ________
||` |||1 |||2 |||3 |||4 |||5 |||6 |||7 |||8 |||9 |||0 |||- |||= |||   BS ||
||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||______||
|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/______\|
 ________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____
||TAB   |||Q |||W |||E |||R |||T |||Y |||U |||I |||O |||P |||[ |||] |||\ ||
||______|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__||
|/______\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|
 _________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ________
||CAPS   |||A |||S |||D |||F |||G |||H |||J |||K |||L |||; |||' |||ENTER ||
||_______|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||______||
|/_______\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/______\|
 ___________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ___________
||SHIFT    |||Z |||X |||C |||V |||B |||N |||M |||, |||. |||/ |||   SHIFT ||
||_________|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||_________||
|/_________\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/_________\|
 _________ _______ _____________________________________ _______ _________
||CTRL   |||ALT  |||                                   |||ALT  |||  CTRL ||
||_______|||_____|||___________________________________|||_____|||_______||
|/_______\|/_____\|/___________________________________\|/_____\|/_______\|
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Swift, 777 Bytes</h1>

<pre><code>func b(_ c:String,_ d:Int,_ e:Int)-&gt;[String]{var f=Array(" __ |||||||||/\\|".characters),g=[String]()
for h in 0..&lt;4{var i="";for j in e..&lt;4{i.append(f[j+h*4])
if j==1{var k="_",l=0;if h==1{k=" ";l=c.characters.count;i += c}
for _ in l..&lt;d{i+=k}}};g.append(i)};return g}
func c(_ d:String)-&gt;[(String,Int)]{return Array(d.characters).map{("\($0)",2)}}
func d(_ e:String,_ f:Int)-&gt;[(String,Int)]{return [(e,f)]}
var e=[c("`1234567890-=")+d("BS",6),d("TAB",6)+c("QWERTYUIOP[]\\")]
e+=[d("CAPS",7)+c("ASDFGHJKL;'")+d("ENTER",6),d("SHIFT",9)+c("ZXCVBNM,./")+d("SHIFT",9)]
var f="";for g in 0..&lt;e.count{let h=e[g]
var i=[[String]]();for j in 0..&lt;h.count{
let k=h[j],l=b(k.0,k.1,(j&gt;0 ? 1:0));i.append(l)}
for k in 0..&lt;4{if g&gt;0||k&gt;0{f+="\n"}
for l in i{f+=l[k]}}};print(f,separator:"")
</code></pre>

<p>Swift is generally not a great language of choice for golfing, so being <strike>less than double the current smallest answer</strike> (that was fast)<s> is a good challenge here!</s></p>

<p>Ungolfed:</p>

<pre><code>func createKeyboard() {
    func createKey(_ text: String, _ middleWidth: Int, _ startingColumn: Int) -&gt; [String] {
        var keyTempalte = " __ |||||||||/\\|"
        var keyTemplateCharacters = Array(keyTempalte.characters)

        var output = [String]()

        for y in 0 ..&lt; 4 {
            var line = ""
            for x in startingColumn ..&lt; 4 {
                line.append(keyTemplateCharacters[x + y*4])

                if x == 1 {
                    var spacingCharacter = "_"
                    var startingOffset = 0
                    if y == 1 {
                        spacingCharacter = " "
                        startingOffset = text.characters.count
                        line += text
                    }

                    for _ in startingOffset ..&lt; middleWidth {
                        line += spacingCharacter
                    }
                }
            }
            output.append(line)
        }

        return output
    }

    func stringToCharacterStrings(_ str: String) -&gt; [(String, Int)] {
        return Array(str.characters).map {("\($0)",2)}
    }

    func specialKey(_ str: String, _ middleWidth: Int) -&gt; [(String, Int)] {
        return [(str, middleWidth)]
    }

    var keys = [stringToCharacterStrings("`1234567890-=") + specialKey("BS", 6),
                specialKey("TAB", 6) + stringToCharacterStrings("QWERTYUIOP[]\\")]
    keys += [specialKey("CAPS", 7) + stringToCharacterStrings("ASDFGHJKL;'") + specialKey("ENTER", 6),
                specialKey("SHIFT", 9) + stringToCharacterStrings("ZXCVBNM,./") + specialKey("SHIFT", 9)]

    var output = ""
    for r in 0 ..&lt; keys.count {
        let row = keys[r]
        var rowKeys = [[String]]()
        for i in 0 ..&lt; row.count {
            let elem = row[i]
            let key = createKey(elem.0, elem.1, (i&gt;0 ? 1 : 0))
            rowKeys.append(key)
        }

        for y in 0 ..&lt; 4 {
            if r &gt; 0 || y &gt; 0 {
                output += "\n"
            }

            for key in rowKeys {
                output += key[y]
            }
        }
    }

    print(output)
}

createKeyboard()
</code></pre>
</div>
<div id="pu9" class="pu"><h2>tcl, 369</h2>

<p>Initially based in tcl's sergiol version.<br>
(Note that many left spaces are part of tcl's "nature")</p>

<pre><code>lmap z {S R M} w {set "regsub -all" "string map"} {interp alias {} $z {} {*}$w};lmap x {"`1234567890-=¿BS   ¿" "¿TAB  ¿QWERTYUIOP\[\]\\" "¿CAPS  ¿ASDFGHJKL;'¿ENTER¿" "¿SHIFT   ¿ZXCVBNM,./¿SHIFT   ¿"} {S h [M {\\ _ / _ | \ } [S g [M {||_ |/_  _|| _\\|} [M {||| \\|/} [S f [R {[^\n|]} [S b [M {|||| |||} [R {¿(\S+\s*)¿|(.)} $x {||\1\2 ||}]]] _ ]]]]]];puts $h\n$b\n$f\n$g}
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Python 2, <s>394</s> <s>388</s> 380 bytes</h1>
<pre class="lang-py prettyprint-override"><code>k=[4]*13+[8],[8]+[4]*13,[9]+[4]*11+[8],[11]+[4]*10+[11];m='`1234567890-=*','*QWERTYUIOP[]*',&quot;*ASDFGHJKL;'*&quot;,'*ZXCVBNM,./*';c,d,e,n,u=0,'','|','\n','_'
for a in 0,1,2,3:
 f=s=t=o='';x=0
 for y in k[a]:g=y-2;f+=' '+u*y;s+=e*2+m[a][x].replace('*','%s')+' |';t+=e*2+u*g+e;o+='|/'+u*g+'\\';x+=1
 d+=f+n+s+e+n+t+e+n+o+e+n
l='SHIFT   ';print d%('BS   ','TAB  ','\\','CAPS  ','ENTER',l,l)
</code></pre>
<p>Just builds a big string representing the whole keyboard, replaces * with %s for the special keys then uses string formatting to update the specials.</p>
<p><strong>Edit</strong></p>
<p>Now has a trailing newline at the end of the output but I don't see anywhere that's not allowed.</p>
<p><a href="https://tio.run/##LY7bboJAEIbveYqNiRm7OyqgbdXNXKjVag/WCj0iaY2iNSIYwUQS350u6MX8M9/MP7uzS@K/MDDTdENO3eVGTTgNF1WIM6LTvJTGeWIYF9ZFVsstwa9h1urXN7eNpl4mDgj89aM3sb/ehi9jx1WNAm9bd/37wcPjkwReUIbvz@57Z/SMlSoHOccFehjggXQEtX5SMQ2U/IC2DPdsxtYB09FAE2stjS0pophCApBH0hUrS5JZNs7Mba0oKZtyKQgYiANPZCTI46bYqqFzdCt7b@fP5l4JskOLEVwJYCeQ8dl14CvhyVBtn6qQE0yn6h9BhsYWgpYiEJHwlMa5hplqPoE1GPZtxhjI3X4dxGxRLEHHyhoIdruTZ/USQrc9tnLqjezeBNBH/ypN/wE" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/dzaima/SOGL" rel="nofollow noreferrer">SOGL V0.12</a>, <s>131</s> <s>128</s> 127 <a href="https://github.com/dzaima/SOGL/blob/master/chartable.md" rel="nofollow noreferrer">bytes</a> (<a href="https://codegolf.meta.stackexchange.com/questions/12877/lets-allow-newer-languages-versions-for-older-challenges?cb=1">competing?</a>)</h1>
<pre><code>⅟]y‘9Δø∑&quot;`ŗ0-=”čΚ&quot;TAB  ”QWERTYUIOP[]\”č+&quot;oF«▒Β²‘⁷Ο‘ASDFGHJKL;'”čΚ+&quot;_№K³‘ZXCVBNM,./”č⁴++¹{&quot;^μ³‘č;{U;&quot;_||/”┼;{&quot;_ŗ__”┼}&quot;Ο  ψ¦℮³‘┼}O
</code></pre>
<p>SOGL does have the <a href="https://github.com/dzaima/SOGL/blob/master/P5ParserV0_12/data/charDefs.txt#L76" rel="nofollow noreferrer"><code>2*2/</code></a> and <a href="https://github.com/dzaima/SOGL/blob/master/P5ParserV0_12/data/charDefs.txt#L86" rel="nofollow noreferrer"><code>2/2*</code></a> quirks, but those feel too much like a built-in for this challenge.<br />
<a href="https://dzaima.github.io/SOGLOnline/?code=JXUyMTVGJTVEeSV1MjAxODkldTAzOTQlRjgldTIyMTElMjIlNjAldTAxNTcwLSUzRCV1MjAxRCV1MDEwRCV1MDM5QSUyMlRBQiUyMCUyMCV1MjAxRFFXRVJUWVVJT1AlNUIlNUQlNUMldTIwMUQldTAxMEQrJTIyb0YlQUIldTI1OTIldTAzOTIlQjIldTIwMTgldTIwNzcldTAzOUYldTIwMThBU0RGR0hKS0wlM0IlMjcldTIwMUQldTAxMEQldTAzOUErJTIyXyV1MjExNkslQjMldTIwMThaWENWQk5NJTJDLi8ldTIwMUQldTAxMEQldTIwNzQrKyVCOSU3QiUyMiU1RSV1MDNCQyVCMyV1MjAxOCV1MDEwRCUzQiU3QlUlM0IlMjJfJTdDJTdDLyV1MjAxRCV1MjUzQyUzQiU3QiUyMl8ldTAxNTdfXyV1MjAxRCV1MjUzQyU3RCUyMiV1MDM5RiUwOSV1MDNDOCVBNiV1MjEyRSVCMyV1MjAxOCV1MjUzQyU3RE8_" rel="nofollow noreferrer">Try it Here!</a></p>
<pre><code>...‘               push &quot;BS   &quot;                                            [&quot;BS   &quot;]
    9Δ             push an array of numbers up to 9                        [&quot;BS   &quot;, [1,2,3,4,5,6,7,8,9]]
      ø∑           join into a single string (without ø it results to 45)  [&quot;BS   &quot;, &quot;123456789&quot;]
        &quot;`ŗ0-=”    push &quot;`ŗ0-=&quot; with ŗ replaced with the digits            [&quot;BS   &quot;, &quot;`1234567890-=&quot;]
               č   chop that into an array of characters                   [&quot;BS   &quot;, [&quot;`&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;0&quot;,&quot;-&quot;,&quot;=&quot;]]
                Κ  add the first &quot;BS   &quot; to the end of the array           [[&quot;BS   &quot;,&quot;`&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;0&quot;,&quot;-&quot;,&quot;=&quot;]]

&quot;TAB  ”            push &quot;TAB  &quot;                  [[..], &quot;TAB  &quot;]
       Q..P[]\”    push &quot;QWERTYUIOP[]\&quot;          [[..], &quot;TAB  &quot;, &quot;QWERTYUIOP[]\&quot;]
               č   chop that                     [[..], &quot;TAB  &quot;, [&quot;Q&quot;,&quot;W&quot;,&quot;E&quot;,&quot;R&quot;,&quot;T&quot;,&quot;Y&quot;,&quot;U&quot;,&quot;I&quot;,&quot;O&quot;,&quot;P&quot;,&quot;[&quot;,&quot;]&quot;,&quot;\&quot;]]
                +  prepend to the array &quot;TAB  &quot;  [[..], [&quot;TAB  &quot;,&quot;Q&quot;,&quot;W&quot;,&quot;E&quot;,&quot;R&quot;,&quot;T&quot;,&quot;Y&quot;,&quot;U&quot;,&quot;I&quot;,&quot;O&quot;,&quot;P&quot;,&quot;[&quot;,&quot;]&quot;,&quot;\&quot;]]

&quot;...‘             push &quot;caps  &quot;                       [.. , &quot;caps  &quot;]
     ⁷Ο‘          push &quot;enter&quot;                        [.. , &quot;caps  &quot;, &quot;enter&quot;]
        AL;'”     push &quot;ASDFGHJKL;'&quot;                  [.. , &quot;caps  &quot;, &quot;enter&quot;, &quot;ASDFGHJKL;'&quot;]
             č    chop that                           [.. , &quot;caps  &quot;, &quot;enter&quot;, [&quot;A&quot;,&quot;S&quot;,&quot;D&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;;&quot;,&quot;'&quot;]]
              Κ   append &quot;enter&quot; to the end of array  [.. , &quot;caps  &quot;, [&quot;A&quot;,&quot;S&quot;,&quot;D&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;;&quot;,&quot;'&quot;,&quot;enter&quot;]]
               +  prepend &quot;caps  &quot; to the array       [.. , [&quot;caps  &quot;,&quot;A&quot;,&quot;S&quot;,&quot;D&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;;&quot;,&quot;'&quot;,&quot;enter&quot;]]

&quot;..‘             push &quot;shift   &quot;                [..., &quot;shift   &quot;]
    ZM,./”       push &quot;ZXCVBNM,./&quot;              [..., &quot;shift   &quot;, &quot;ZXCVBNM,./&quot;]
          č      chop it                        [..., &quot;shift   &quot;, [&quot;Z&quot;,&quot;X&quot;,&quot;C&quot;,&quot;V&quot;,&quot;B&quot;,&quot;N&quot;,&quot;M&quot;,&quot;,&quot;,&quot;.&quot;,&quot;/&quot;]]
           ⁴     duplicate the shift            [..., &quot;shift   &quot;, [&quot;Z&quot;,&quot;X&quot;,&quot;C&quot;,&quot;V&quot;,&quot;B&quot;,&quot;N&quot;,&quot;M&quot;,&quot;,&quot;,&quot;.&quot;,&quot;/&quot;], &quot;shift   &quot;]
            ++   append and prepend the shifts  [..., [&quot;shift   &quot;,&quot;Z&quot;,&quot;X&quot;,&quot;C&quot;,&quot;V&quot;,&quot;B&quot;,&quot;N&quot;,&quot;M&quot;,&quot;,&quot;,&quot;.&quot;,&quot;/&quot;,&quot;shift   &quot;]]
              ¹  get all the arrays into one big array
result: [[[&quot;BS   &quot;,&quot;`&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;0&quot;,&quot;-&quot;,&quot;=&quot;], [&quot;TAB  &quot;,&quot;Q&quot;,&quot;W&quot;,&quot;E&quot;,&quot;R&quot;,&quot;T&quot;,&quot;Y&quot;,&quot;U&quot;,&quot;I&quot;,&quot;O&quot;,&quot;P&quot;,&quot;[&quot;,&quot;]&quot;,&quot;\&quot;], [&quot;caps  &quot;,&quot;A&quot;,&quot;S&quot;,&quot;D&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;;&quot;,&quot;'&quot;,&quot;enter&quot;], [&quot;shift   &quot;,&quot;Z&quot;,&quot;X&quot;,&quot;C&quot;,&quot;V&quot;,&quot;B&quot;,&quot;N&quot;,&quot;M&quot;,&quot;,&quot;,&quot;.&quot;,&quot;/&quot;,&quot;shift   &quot;]]]
 - a 2D array of the keyboard characters

{                                    for each array in the array do
 &quot;...‘                                 push &quot; |||&quot;
      č                                chop to chars
       ;                               get the main array ontop
        {                        }     for each string in the array
         U                               uppercase it (before lowercase was used for better compression)
          ;                              get the chopped array ontop
           &quot;_||/”                        push &quot;_||/&quot;
                 ┼                       append vertically
                  ;                      get the string ontop
                   {       }             for each char in the string do
                    &quot;_ŗ__”                 push &quot;_ŗ__&quot;
                          ┼                append vertically
                            &quot;..‘         push &quot;    _||\ |||&quot;
                                ┼        append vertically-then horizontally
                                  O    output that in a newline
</code></pre>
</div>
<div id="pu12" class="pu"><h2>Batch, <s>465</s> 452 bytes</h2>

<pre><code>@echo off
call:c _ ` 1 2 3 4 5 6 7 8 9 0 - "=" "BS   " _____
call:c _____ "TAB  " Q W E R T Y U I O P [ ] \ _
call:c ______ "CAPS  " A S D F G H J K L ";" ' ENTER _____
call:c ________ "SHIFT   " Z X C V B N M "," . / "SHIFT   " ________
exit/b
:c
set t=%1_
set s=!!%~2 !!!%3 !!
:l
set t=%t%#__
set s=%s%!%~4 !!
shift
if not "%~5"=="" goto l
set t=%t%#%4_
for %%l in (" _%t:#=_ _%_" "%s:!=|%" "||%t:#=|||%||" "|/%t:#=\|/%\|")do echo %%~l
</code></pre>

<p>The <code>:c</code> subroutine handles a line of keys. Keys containing extra spaces need to be quoted, as do the <code>=</code>, <code>;</code>, <code>,</code> keys, possibly due to a bug in the <code>shift</code> command. The first and last parameters are strings of <code>_</code>s of the same length as the first and last key to aid concatenation. <code>t</code> then ends up as the <code>_</code>s common to the first, third and fourth rows, with <code>#</code>s marking the join, which are replaced appropriately before the leading and trailing characters are added, while <code>s</code> is the second row, but with <code>|</code>s changed to <code>!</code>s as they reduce the number of <code>"</code>s that I need. Edit: Saved 1 byte by printing all four lines in a single statement, and 12 bytes by optimising the way I assigned the <code>s</code> variable.</p>
</div>
<div id="pu13" class="pu"><h2>Mathematica 323 bytes</h2>
<pre><code>Uncompress@&quot;1:eJyt00luwjAUgGE2vUdYsWGeEeoiUGYIEKcTTWXEBXqBd3jy26CUYWe/xads8iT/sounv1gFL4VCoLNxxnyk9UZT5BiISAOa0II2dKALPejDAOpQgVcYqSAbEbtOa3GFuayraZ2mPmWyL5bnIZyxR0/CkQkhe/iECcSQwDe8wwK2sIMf+IV/IW0H56LXkJej+016E9LXlRyHO2VLhqDgDaYwgzksYQVrGELJZI+SSXxX0uOV9Jry2Y10q5iHVPPFNLGvUw7wBWP4ME8XIthAGapQM93zv29COlV8DOkrol10BmvF28U=&quot;
</code></pre>
<p>Boring and uncreative. The string is just the output of the built-in <code>Compress</code> command applied to the desired output.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://esolangs.org/wiki////" rel="nofollow noreferrer">///</a>, 360 bytes</h1>

<pre><code>/f/!!//e/SHIFT   //d/\/\///c/ "db/ 
\|\|da/\\\|d@/#####d?/__d&gt;/?\\\\a
c"d&lt;/aa
ad:/fffff!d&amp;/ccccd%/ aaad#/?aaa?aaad"/??d!/?\\\\a\\\d&amp;&amp;&amp;cc"b`%1%2%3%4%5%6%7%8%9%0%-%=%BS    &lt;|@#?|||"?&lt;\/:f"&gt;&amp;&amp;&amp;cbTAB  %Q%W%E%R%T%Y%U%I%O%P%[%]%\\ &lt;|"@#?|||?&lt;\/":f&gt;_&amp;&amp;&amp;"bCAPS  %A%S%D%F%G%H%J%K%L%;%'%ENTER &lt;|"_@#"?&lt;\/"_:!"&gt;?_&amp;&amp;ccc"?_be%Z%X%C%V%B%N%M%,%.%\/%e &lt;|""_|||@""_&lt;\/"?_:""_\a
</code></pre>

<p><a href="https://tio.run/##LY5JT8NADIXv/RUTRy9cALMvoWTSlZallDbsg4ZJnIgDt17z38MM8CzrWZY@P2@@3ear3nQdNxxFzDWvZ/NpoZRiFja@mCtWJCWrnmlNK46N8ZZzHCSarZWMtV8a16tI@uxcz0nKTVAkCVdeAlbOOYlZewstxFpL9E/6liRJqorKT@zjAIc4wjFOcIoznGMPO7jEcO3/Uv02j3XbtqT7htOGssCVxWCoFB7wjAlWKPCKR8xxjyXe8QFjPEZ/XMAobTLrOSpHg6W/igHWGGOKK8xwjRvc4gJbmCyKySqQNo9/48imEWXahk8r0ras8YYXjPCEIRa4wzZ2YRh1gMj6tNxbALVN/WRc1/0A" rel="nofollow noreferrer" title="/// – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1>Python 2, 672 bytes</h1>

<p>Using a compressed zlib string:</p>

<pre><code>print 'x\x9c\xad\xd3\xb9\x0e\x82@\x10\x80\xe1\x9e\xa7\xa0\xb3\xf1\xbe\x8d\xb1\x00\xbc\x0f&lt;\xc0\x1b\xb3&gt;\xc8&lt;\xbc\xfc\x8bf\x8d\xed8\xc5\x17\x9a\xddd\xfe,\xbe\xc9\xc7\xd7b?&lt;\x91\xa7/"\rhB\x0b\xda\xd0\x81.\xf4\xa0\x0f\x03\xa8C\x05F\x10&amp;~&gt;"\xf9]\xc6\x88\x16\x86\xbbj\xc6dZ\x98L&lt;\xb7\xae\x9a|\xc74\x08\xed\xba\xb2\x873L\xe0\x00)\\\xe1\x08\x0b\xd8\xc2\x0e\xee\xf0\x80\xec\xd3\xabXW\x1d\xces\xeb\xaa\xc3\xb9^\x7fy_Q\xb0K\x8a`\x01$0\x86)\xcc`\x0eKX\xc1\x1a\x86P\xb2u\xe3tr\xf8\xee\xf5\xaf\xf7\xa5\x0e\xf6\xfb\xbet\xb1\xde\xbd\x92\xf9b\x9a\x16\x7f\x94\xdc\xe0\x02\x11\x9c\xec\xef\x061l\xa0\x0cU\xa8\xd9\xbc\xee\xb4\xeb\xa5\x8a\xf5\xd3K\x15\xcb\x9e~\x01r\xfc\xb9\xee'.decode('zlib')
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/stacked" rel="nofollow noreferrer">stacked</a>, 228 bytes</h1>

<p><a href="http://conorobrien-foxx.github.io/stacked/stacked.html" rel="nofollow noreferrer">Try it here!</a></p>

<pre><code>[,{a:a size@n(' __' '_'n 1+:@k*LF'||'a' ' '|'LF'||' '_'k*:@o'|'LF'|/'o'\')sum}"!$hcat#/!' |||'hcat out]@:p$chars@:c'`1234567890-='c'BS   'p'TAB  ' 'QWERTYUIOP[]\'c p'CAPS  ' 'ASDFGHJKL;'''c,'ENTER'p'SHIFT   ':@q'ZXCVBNM,./'c,q p
</code></pre>

<p>Or, slightly more readable:</p>

<pre><code>{a:a size@n(' __' '_'n 1+:@k*LF'||'a' ' '|'LF'||' '_'k*'|'LF'|/' '_'k*'\')sum}"@:m
[,m$hcat#/!' |||'hcat out]@:p
'`1234567890-='chars'BS   'p
'TAB  ' 'QWERTYUIOP[]\'chars p
'CAPS  ' 'ASDFGHJKL;'''chars,'ENTER'p
'SHIFT   ':@q'ZXCVBNM,./'chars,q p
</code></pre>

<p>This works by defining a function <code>p</code> that makes a key, then <code>hcat</code>ing multiple keys.</p>
</div>
<div id="pu17" class="pu"><h1>m4, 456</h1>

<pre><code>changequote({,})define(d,{define($@)})d(p,{patsubst($@)})d(a,{{_}p({$1},.,_)_ })d(b,{|$1||})d(c,{|p({$1},.,_)||})d(e,{/p({$1},.,_)\|})d(f,{ifelse(len({$2}),0,,{indir({$1},{$2})f({$1},shift(shift($@)))})})d(g,{ f({a},$@)
|f({b},$@)
|f({c},$@)
|f({e},$@)
})g(` ,1 ,2 ,3 ,4 ,5 ,6 ,7 ,8 ,9 ,0 ,- ,= ,BS    )g(TAB   ,Q ,W ,E ,R ,T ,Y ,U ,I ,O ,P ,[ ,] ,\ )g(CAPS   ,A ,S ,D ,F ,G ,H ,J ,K ,L ,; ,' ,ENTER )g(SHIFT    ,Z ,X ,C ,V ,B ,N ,M ,{,} ,. ,/ ,SHIFT    )
</code></pre>

<p>Ungolfed:</p>

<pre><code>changequote({,})dnl
define(key1, {{_}patsubst({$1}, ., _)_ })dnl _______ 
define(key2, {|$1||})dnl                     |TAB  ||
define(key3, {|patsubst({$1}, ., _)||})dnl   |_____||
define(key4, {/patsubst({$1}, ., _)\|})dnl   /_____\|
define(rkey, {dnl
ifelse(dnl
len({$2}), 0, ,dnl terminate on empty argument
{dnl
indir({$1}, {$2})dnl
rkey({$1}, shift(shift($@)))dnl
}dnl
)dnl
})dnl
define(row, {dnl
 rkey({key1}, $@)
|rkey({key2}, $@)
|rkey({key3}, $@)
|rkey({key4}, $@)dnl
})dnl
row(` ,1 ,2 ,3 ,4 ,5 ,6 ,7 ,8 ,9 ,0 ,- ,= ,BS    )
row(TAB   ,Q ,W ,E ,R ,T ,Y ,U ,I ,O ,P ,[ ,] ,\ )
row(CAPS   ,A ,S ,D ,F ,G ,H ,J ,K ,L ,; ,' ,ENTER )
row(SHIFT    ,Z ,X ,C ,V ,B ,N ,M ,{,} ,. ,/ ,SHIFT    )
</code></pre>

<p>(This is actually the first time I'm both code-golfing and giving m4 a try.)</p>
</div>
<div id="pu18" class="pu"><h2>Haskell, 263 chars <sub><sup>(353 bytes UTF-8)</sup></sub></h2>

<pre><code>import Data.List
main=mapM_ putStrLn$transpose.foldr k[g]=&lt;&lt;
 [s"`1234567890-="%"   ←"
 ,"↹   ":s"𝑄𝑊𝐸𝑅𝑇𝑌𝑈𝐼𝑂𝑃[]\\"
 ,"⇩    ":s"𝐴𝑆𝐷𝐹𝐺𝐻𝐽𝐾𝐿;'"%"     ↵"
 ,"⇧       ":s"𝑍𝑋𝐶𝑉𝐵𝑁𝑀,./"%"       ⇧"]
r%e=r++[e]
g=" |||"
k s r=g:"_||/":['_':c:"__"|c&lt;-s]%"_||\\"++r
s=map(:" ")
</code></pre>

<p><a href="https://i.sstatic.net/KcN5e.png" rel="noreferrer"><img src="https://i.sstatic.net/KcN5e.png" alt="screenshot of that keyboard"></a></p>

<p>As there has been a lot of discussion about the score in light of these unicode characters... here's the same program, reduced to all-ASCII:</p>

<h2>Haskell, 263 chars <sub><sup>(263 bytes UTF-8)</sup></sub></h2>

<pre><code>import Data.List
main=mapM_ putStrLn$transpose.foldr k[g]=&lt;&lt;
 [s"`1234567890-="%"BS  "
 ,"TAB ":s"QWERTYUIOP[]\\"
 ,"CAPS ":s"ASDFGHJKL;'"%"ENTER "
 ,"SHIFT   ":s"ZXCVBNM,./"%"SHIFT   "]
r%e=r++[e]
g=" |||"
k s r=g:"_||/":['_':c:"__"|c&lt;-s]%"_||\\"++r
s=map(:" ")
</code></pre>
</div>
<div id="pu19" class="pu"><h1>JavaScript (ES6), 286</h1>

<p>An anonymous function with no parameters</p>
<pre class="lang-js prettyprint-override"><code>_=&gt;[...&quot;`1234567890-=~~QWERTYUIOP[]\\~ASDFGHJKL;'~~ZXCVBNM,./~&quot;].map(x=&gt;(o+=`/${b='_'.repeat(w=x&lt;y?2:' 667699'[x=[&quot;BS&quot;,&quot;TAB&quot;,&quot;CAPS&quot;,&quot;ENTER&quot;][p++]||'SHIFT',p])}\\|`,m+=y+(x+'    ').slice(0,w)+y+y,n+=y+b+y+y,l+=' __'+b)[73]&amp;&amp;(k.push(l,m,n,o),l='',m=n=o=y),m=n=o=y='|',p=l=k=[])&amp;&amp;k.join`
`
</code></pre>
<p><em>Less golfed</em></p>
<pre class="lang-js prettyprint-override"><code>_=&gt;[...&quot;`1234567890-=~~QWERTYUIOP[]\\~ASDFGHJKL;'~~ZXCVBNM,./~&quot;]
  .map(x=&gt;
      (
        w = x &lt; y // special chars are marked '~' that is &gt; '|'
            ? 2 // normal key, width 2
            : ( // else special key, set x and width
                // p should be incremented at next step, but I need to make it numeric as it starts as []
                x = [&quot;BS&quot;,&quot;TAB&quot;,&quot;CAPS&quot;,&quot;ENTER&quot;][p++]||'SHIFT',
                ' 667699'[p], // value for w (note p is off by 1)
              ),
        b = '_'.repeat(w), // bottom border (and top, almost)
        o +=`/${b}\\|`, //  line 4
        n += y+b+y+y,   //  line 3
        m += y+(x+'    ').slice(0,w)+y+y, // line 2
        l += ' __'+b    // top line, the border must be longer
      )[70] &amp;&amp; // check if at end of row (check position in l)
         (
            k.push(l, m, n, o), // add lines to list
            l = '', // reset all
            m = n = o = y
         )
    , // initial setup
    // y stays fixed to '|', lines 2,3,4 start as '|'
    m = n = o = y ='|',
    // k is the lines array, l will become as string and starts empty
    // p is the index of current special key and will become numeric
    p = l = k = [] 
  ) 
  &amp;&amp; k.join`\n` // return lines as a single string
</code></pre>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>F=_=&gt;[..."`1234567890-=~~QWERTYUIOP[]\\~ASDFGHJKL;'~~ZXCVBNM,./~"].map(x=&gt;(o+=`/${b='_'.repeat(w=x&lt;y?2:' 667699'[x=["BS","TAB","CAPS","ENTER"][p++]||'SHIFT',p])}\\|`,m+=y+(x+'    ').slice(0,w)+y+y,n+=y+b+y+y,l+=' __'+b)[73]&amp;&amp;(k.push(l,m,n,o),l='',m=n=o=y),m=n=o=y='|',p=l=k=[])&amp;&amp;k.join`
`

O.textContent=F()</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu20" class="pu"><h1>C#, 357 bytes (when in one line, and incorporating most suggestions)</h1>

<hr>

<pre><code>var s="";
foreach(var r in@"`|1|2|3|4|5|6|7|8|9|0|-|=|BS   ~TAB  |Q|W|E|R|T|Y|U|I|O|P|[|]|\~CAPS  |A|S|D|F|G|H|J|K|L|;|'|ENTER~SHIFT   |Z|X|C|V|B|N|M|,|.|/|SHIFT   ".Split('~'))
for(int i=0;i&lt;4;s+=i&gt;0?"|\n":"\n",i++)
foreach(var k in r.Split('|'))
{
var u=new string('_',k.Length+1);
s+=i&lt;1?" "+u+"__"
:i&lt;2
?"||"+k+" |"
:i&lt;3
?"||"+u+"|"
:"|/"+u+@"\";
}
Console.Write(s);
</code></pre>

<p><strong>Or, 353 with string interpolation and all other suggestions</strong></p>

<pre><code>var s="";foreach(var r in@"`|1|2|3|4|5|6|7|8|9|0|-|=|BS   ~TAB  |Q|W|E|R|T|Y|U|I|O|P|[|]|\~CAPS  |A|S|D|F|G|H|J|K|L|;|'|ENTER~SHIFT   |Z|X|C|V|B|N|M|,|.|/|SHIFT   ".Split('~'))for(int i=0;i&lt;4;s+=i&gt;0?"|\n":"\n",i++)foreach(var k in r.Split('|')){var u=new string('_',k.Length+1);s+=i&lt;1?$" {u}__":i&lt;2?$"||{k} |":i&lt;3?$"||{u}|":$@"|/{u}\";}Console.Write(s);
</code></pre>

<p>Ungolfed (without string interpolation):</p>

<pre><code>var solution = "";
foreach (var row in @"`|1|2|3|4|5|6|7|8|9|0|-|=|BS   ~TAB  |Q|W|E|R|T|Y|U|I|O|P|[|]|\~CAPS  |A|S|D|F|G|H|J|K|L|;|'|ENTER~SHIFT   |Z|X|C|V|B|N|M|,|.|/|SHIFT   ".Split('~'))
for (int i = 0; i &lt; 4; solution += i &gt; 0 ? "|\n" : "\n", i++)
foreach (var key in row.Split('|'))
{
   var underscores = new string('_', key.Length + 1);
   solution += i &lt; 1 ? " " + underscores + "__"
                     : i &lt; 2
                     ? "||" + key + " |"
                     : i &lt; 3
                     ? "||" + underscores + "|"
                     : "|/" + underscores + @"\";
}
Console.Write(solution);
</code></pre>
</div>
<div id="pu21" class="pu"><h1>C#, 376 bytes (when in one line)</h1>

<hr>

<pre><code>var s="";foreach(var r in@"`|1|2|3|4|5|6|7|8|9|0|-|=|BS   ~TAB  |Q|W|E|R|T|Y|U|I|O|P|[|]|\~CAPS  |A|S|D|F|G|H|J|K|L|;|'|ENTER~SHIFT   |Z|X|C|V|B|N|M|,|.|/|SHIFT   ".Split('~'))for(int i=0,l;i&lt;4;i++){foreach(var k in r.Split('|')){l=k.Length+1;var u=new string('_',l);s+=i&lt;1?" "+u+"__":i&lt;2?"||"+k.PadRight(l)+"|":i&lt;3?"||"+u+"|":"|/"+u+@"\";}s+=i&gt;0?"|\n":"\n";}Console.Write(s);
</code></pre>

<p>This is based entirely on Klinger's C# answer.  I don't have enough rep to comment on his answer, otherwise I would.</p>

<p>I was able to slim down Klinger's code by 5 bytes, by modifying the initial foreach loop, and removing extraneous brackets.</p>

<pre><code>var s="";
foreach(var r in@"`|1|2|3|4|5|6|7|8|9|0|-|=|BS   ~TAB  |Q|W|E|R|T|Y|U|I|O|P|[|]|\~CAPS  |A|S|D|F|G|H|J|K|L|;|'|ENTER~SHIFT   |Z|X|C|V|B|N|M|,|.|/|SHIFT   ".Split('~'))
for(int i=0,l;i&lt;4;i++)
{
foreach(var k in r.Split('|'))
{
l=k.Length+1;
var u=new string('_',l);
s+=i&lt;1?" "+u+"__"
:i&lt;2
?"||"+k.PadRight(l)+"|"
:i&lt;3
?"||"+u+"|"
:"|/"+u+@"\";
}
s+=i&gt;0?"|\n":"\n";
}
Console.Write(s);
</code></pre>
</div>
<div id="pu22" class="pu"><h1>Haskell, 255</h1>

<pre><code>import Data.List;a#b=a++[b];e=" |||";s=map(:" ");k x=[e,"_||/"]++['_':c:"__"|c&lt;-x]#"_||\\";t="SHIFT    ";main=mapM_ putStrLn$transpose.(#e).(k=&lt;&lt;)=&lt;&lt;[s"`1234567890-="#"BS    ","TAB   ":s"QWERTYUIOP[]\\","CAPS   ":s"ASDFGHJKL;'"#"ENTER ",t:s"ZXCVBNM,./"#t]
</code></pre>

<p>In retrospect, similar in concept to <a href="https://codegolf.stackexchange.com/a/103120/40">this Haskell answer</a>, but producing the ASCII keyboard, and with slightly different golfing.</p>

<p>Formatted and renamed:</p>

<pre><code>import Data.List

main :: IO ()
main = mapM_ putStrLn
  $ concatMap (transpose . (`append` end) . concatMap key)
  [ split "`1234567890-=" `append` "BS    "
  , "TAB   " : split "QWERTYUIOP[]\\"
  , "CAPS   " : split "ASDFGHJKL;'" `append` "ENTER "
  , shift : split "ZXCVBNM,./" `append` shift
  ]

key :: String -&gt; [String]
key x
  = [end, "_||/"]
  ++ ['_' : c : "__" | c &lt;- x]
  `append` "_||\\"

append :: [a] -&gt; a -&gt; [a]
append a b = a ++ [b]

split :: [Char] -&gt; [String]
split = map (: " ")

end :: String
end = " |||"

shift :: String
shift = "SHIFT    "
</code></pre>
</div>
<div id="pu23" class="pu"><h1>PHP, <s>316</s> 312 bytes</h1>
<pre class="lang-php prettyprint-override"><code>foreach([($s=str_split)(&quot;`1234567890-=&quot;)+[13=&gt;&quot;BS   &quot;],[&quot;TAB  &quot;]+$s(&quot;_QWERTYUIOP[]\\&quot;),[&quot;CAPS  &quot;]+$s(&quot;_ASDFGHJKL;'&quot;)+[12=&gt;ENTER],[$h=&quot;SHIFT   &quot;]+$s(&quot;_ZXCVBNM,./&quot;)+[11=&gt;$h]]as$r)for($y=-1;$y++&lt;3;)foreach($r as$i=&gt;$k)echo[&quot;\n&quot;.$a=&quot;| &quot;[!$y]][$i],&quot;_||/&quot;[$y],str_pad($y-1?_:$k,strlen($k)+1,$y-1?_:&quot; &quot;),&quot;_||\\&quot;[$y],$a;
</code></pre>
<p>I´m pretty sure that this approach cannot be golfed any further. But if anyone finds 10 more bytes ... :D<br />
Run with <code>-r</code>.</p>
<p><strong>breakdown</strong></p>
<pre class="lang-php prettyprint-override"><code>foreach([                       // loop through rows
    ($s=str_split)(&quot;`1234567890-=&quot;)+[13=&gt;&quot;BS   &quot;],
    [&quot;TAB  &quot;]+$s(&quot;_QWERTYUIOP[]\\&quot;),
    [&quot;CAPS  &quot;]+$s(&quot;_ASDFGHJKL;'&quot;)+[12=&gt;ENTER],
    [$h=&quot;SHIFT   &quot;]+$s(&quot;_ZXCVBNM,./&quot;)+[11=&gt;$h]
]as$r)
    for($y=-1;$y++&lt;3;)          // loop through lines 0..3
        foreach($r as$i=&gt;$k)    // loop through keys
            echo[&quot;\n&quot;.$a=&quot;| &quot;[!$y]][$i],// first key in row: leading NL + space/pipe
                &quot;_||/&quot;[$y],             // key edges
                str_pad(
                    $y-1?_:$k,          // line 1: key label; else underscore
                    strlen($k)+1,       // pad to length+1
                    $y-1?_:&quot; &quot;),        // with spaces for label, underscores else
                &quot;_||\\&quot;[$y],            // more key edges
                $a                      // joining edges
            ;
</code></pre>
</div>
<div id="pu24" class="pu"><h1>Lua 5.3, <s>416</s> 394 Bytes.</h1>

<pre><code>k="` 1 2 3 4 5 6 7 8 9 0 - = BS|TAB Q W E R T Y U I O P [ ] \\|CAPS A S D F G H J K L ; ' ENTER|SHIFT Z X C V B N M , . / SHIFT"S={TAB=6,BS=6,ENTER=6,CAPS=7,SHIFT=9}for v in k:gmatch"[^|]+"do for i=1,4 do for s in v:gmatch"%S+"do l=S[s]or 2j=("_"):rep(l)io.write(i==1 and" _"..j.."_"or i==2 and"||"..s..(" "):rep(l-#s).."|"or i==3 and"||"..j.."|"or"|/"..j.."\\")end print(i&gt;1 and"|"or"")end end
</code></pre>

<h2>Ungolfed and with comments.</h2>

<pre><code>keys="` 1 2 3 4 5 6 7 8 9 0 - = BS|TAB Q W E R T Y U I O P [ ] \\|CAPS A S D F G H J K L ; ' ENTER|SHIFT Z X C V B N M , . / SHIFT" -- Define a keyboard. Separated with |'s, there's probably a nicer way to do this, but I'm not sure about how to yet.
special_keys={TAB=6,BS=6,ENTER=6,CAPS=7,SHIFT=9} -- Special keys get special definitions
for v in keys:gmatch"[^|]+" do -- For each row on the keyboard...
    for i=1, 4 do -- Each of the 4 rows per key...
        for s in v:gmatch"%S+" do -- Match each individual key.
            l=special_keys[s]or 2 j=("_"):rep(l) -- l is the length of the key, j is "_" repeated length times, which is used a bit.
            io.write(i==1 and -- Lua needs Switch Statements!
                     " _"..j.."_" -- The top of the key is a Space, then j with two _'s around it.
                     or
                     i==2 and
                     "||"..s..(" "):rep(l - #s).."|" -- Second row is || then the key, then the remaining whitespace, and then one more |, which chains together.
                     or
                     i==3 and
                     "||"..j.."|" -- Third row is like the second, but without the key. Instead of whitespace, uses j, which is the underlines.
                     or
                     "|/"..j.."\\") -- Last row is like the third row, but with "|/" and "\" instead of "||" and "|"
        end
        print(i&gt;1 and"|"or"") -- First line is the only line that doresn't need a "|", everything else gets a "|" before the newline.

    end
end
</code></pre>

<h2>Output</h2>

<pre><code> ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ________
||` |||1 |||2 |||3 |||4 |||5 |||6 |||7 |||8 |||9 |||0 |||- |||= |||BS    ||
||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||______||
|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/______\|
 ________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____
||TAB   |||Q |||W |||E |||R |||T |||Y |||U |||I |||O |||P |||[ |||] |||\ ||
||______|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__||
|/______\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|
 _________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ________
||CAPS   |||A |||S |||D |||F |||G |||H |||J |||K |||L |||; |||' |||ENTER ||
||_______|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||______||
|/_______\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/______\|
 ___________ ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ ___________
||SHIFT    |||Z |||X |||C |||V |||B |||N |||M |||, |||. |||/ |||SHIFT    ||
||_________|||__|||__|||__|||__|||__|||__|||__|||__|||__|||__|||_________||
|/_________\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/__\|/_________\|
</code></pre>

<p>I'm going to get destroyed by other langauges, but I thought I'd give this a shot. Nice amount of complexity, and atleast it's shorter than the keyboard!</p>
</div>
<div id="pu25" class="pu"><h1>Ruby, 226 bytes</h1>
<pre><code>16.times{|i|puts (([[?`,'TAB  ','CAPS  ',s='SHIFT   '][j=i/4]]+%w{1234567890-= QWERTYUIOP[] ASDFGHJKL;' ZXCVBNM,./}[j].chars+[['BS   ',?\\,'ENTER',s][j]]).map{|e|e.tr('^|'[-i%4/3,2],?_)}*3*&quot;__ _ |||_|||_\\|/&quot;[i%4*4,4])[72,75]}
</code></pre>
<p>Improvements as follows:</p>
<p>1.No empty string elements at the beginning and end of the array. Instead the array is triplicated making 3 side-by side keyboards. After conversion to string we have 3 keyboards with outer edges missing. This is truncated to only display the middle one, complete with edges.</p>
<p>2.Changed version of Ruby. Used Ideone instead of 1.9.3 installed on my machine. This means <code>.chars.to_a</code> can be shortened to just <code>.chars</code>.</p>
<h1>Ruby, 239 bytes</h1>
<p>There's a few more bytes to be golfed out of this. Will look tomorrow.</p>
<pre><code>16.times{|i|puts ((['']+[[?`,'TAB  ','CAPS  ',s='SHIFT   '][j=i/4]]+%w{1234567890-= QWERTYUIOP[] ASDFGHJKL;' ZXCVBNM,./}[j].chars.to_a+[['BS   ',?\\,'ENTER',s][j]]+['']).map{|e|e.tr('^|'[-i%4/3,2],?_)}*&quot;__ _ |||_|||_\\|/&quot;[i%4*4,4])[2..-2]}
</code></pre>
<p><strong>ungolfed</strong></p>
<pre><code>16.times{|i|                                                            #iterate throug 16 lines of output
  puts ((['']+[[?`,'TAB  ','CAPS  ',s='SHIFT   '][j=i/4]]+              #build row from blank element plus left special key
    %w{1234567890-= QWERTYUIOP[] ASDFGHJKL;' ZXCVBNM,./}[j].chars.to_a+ #plus regular keys
   [['BS   ',?\\,'ENTER',s][j]]+['']).map{|e|                           #plus right special key and another blank element
                                      e.tr('^|'[-i%4/3,2],?_)}*         #if i%4 != 1, replace the keytop legend with _ characters 
   &quot;__ _ |||_|||_\\|/&quot;[i%4*4,4])[2..-2]                                 #join the middle parts of the keys with ends. truncate spurious outer ends before printing.
}
</code></pre>
</div>
<div id="pu26" class="pu"><h2>PowerShell v2+, 465 bytes</h2>

<pre><code>($b=($a=' ____')*10)+$a*3+" "+($d='_'*8)
"||``@$(1..9-join'@')@0@-@=@BS    ||
||$(($f=,'__'*10-join'#'))#__#__#__#$(($g='_'*6))||
$(($c=($e='|/__\')*10))$e$e$e|/$g\|
 $d$b$a$a$a
||TAB  @Q@W@E@R@T@Y@U@I@O@P@[@]@\ ||
||$g#$f#__#__#__||
|/$g\$c$e$e$e|
 _$d$b$a $d
||CAPS  @A@S@D@F@G@H@J@K@L@;@'@ENTER ||
||_$g#$f#__#$g||
|/_$g\$c$e|/$g\|
 ___$d$b ___$d
||SHIFT   @Z@X@C@V@B@N@M@,@.@/@SHIFT    ||
||___$g#$f#___$g||
|/___$g\$c|/___$g\|"-replace'@',' #'-replace'#','|||'
</code></pre>

<p>I'm halfway embarrassed to be posting this answer, given how short the PHP and Python answers are, nevermind the C# answer, but I'm unable to get this method shorter. Other approaches may yield better results.</p>

<p>It's basically just a giant multi-line string, with variables (<code>$a</code> and the like) substituting for various substrings, and a couple <code>-replace</code>s at the end to finish it out. Script blocks <code>$(...)</code> are inserted where necessary to introduce new variables.</p>

<p><a href="https://tio.run/nexus/powershell#PZDbbsIwDIbv@xRRaykNZzRp2jRV@oHBYAfGoDszhQKl2oS2add@d@bQgx0pcWJ//uNDSOsopCTSyoppU@t2TJ2S2kndV349pG2kra6dGc9nXq1AYbfVOm9@/Xx@a2iDDpqI0F8oMWaPmcKQdlFDC0tQeWKgjQmsLZbLyI7UU2OkxsUb0ZBGmtvWLnMNhlLn3KZsyZ6iLa0pcS494l5fKTzgGUPMEeMVj5jgHjO84wPLQkgW0K7q6q4cijYF11M2Zwpasge9mfwBPSxwiRGuMMY1bnCLC2gMp/FwnlNthaXsyLQFtBQqQ3TcfJeCxXgyimU4eMMLBnhCH1PcoYEW2igfC7at6Lak25xfnthv/qW/@2STyvQbWgW6igOJmVkfDv8" rel="noreferrer" title="PowerShell – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu27" class="pu"><h1>Bash (on OSX), <s>12</s> 8 + 221 + 1 = <s>234</s> 230 bytes</h1>

<p>Yeah, I know, compression. But it works, no?</p>

<pre><code>gunzip&lt;f
</code></pre>

<p>Requires a file called "f" in the current directory with the following contents (put into base64 for PPCG-friendliness - you can decode this into the file "f" first.):</p>

<pre><code>H4sIAHbPT1gAA63TuQ6CQBCA4Z6noLPxvo2xALwPPMAbsz7IPLz8i2aN7TjFFxo2mT+7vsnH12I/PJGnLyINaEIL2tCBLvSgDwOoQwVGECZ+PiL5WcaIFoazasZkWphMPLeumnzHNAjturKHM0zgAClc4QgL2MIO7vCA7NOrWFcdznPrqsO5Xn+5X1GwS4pgASQwhinMYA5LWMEahlCydeN0cvju9a/7pQ72e790sd69kvlimhYvSm5wgQhO9rlBDBsoQxVqNq/72/VSxfrppYpV9HoBoNfjQcAEAAA=
</code></pre>
</div>
<div id="pu28" class="pu"><h1>Python 3.5+, 239 bytes</h1>

<pre><code>s="SHIFT   "
for k in[(*"`1234567890-=","BS   "),("TAB  ",*"QWERTYUIOP[]\\"),("CAPS  ",*"ASDFGHJKL;'","ENTER"),(s,*"ZXCVBNM,./",s)]:
 for f in"{1}__ ,|{} ||,|{1}||,/{1}\|".split(","):print(f[-1]+"".join(f.format(c,"_"*-~len(c))for c in k))
</code></pre>
</div>
<div id="pu29" class="pu"><p><strong>Python, <s>493</s> 458 Bytes.</strong></p>

<pre><code>k=[['|']*75 for i in [0]*16]
v=' '
w='_'
y=0
def a(s,x,o):k[y+o][x:x+len(s)]=list(s)
def p(s,i,x):a(s+v*(i-len(s)),x+2,1);a(v+w*(i+2)+v,x,0);a(w*i,x+2,2);a(w*i,x+2,3);a('/',x+1,3);a('\\',x+i+2,3);return x+i+3
def q(s,x):return reduce(lambda a,b:p(b,2,a),list(s),x)
p('BS',6,q('`1234567890-=',0))
y=4
q('QWERTYUIOP[]\\',p('TAB',6,0))
y=8
p('ENTER',6,q('ASDFGHJKL;\'',p('CAPS',7,0)))
y=12
p('SHIFT',9,q('ZXCVBNM,./',p('SHIFT',9,0)))
for l in k:print''.join(l)
</code></pre>

<p>Functionally equivalent but somewhat more readable:</p>

<pre><code>k=[['|']*75 for i in range(16)]
def a(s,x,y):k[y][x:x+len(s)]=list(s)
def p(s,i,x,y):
    a(s+' '*(i-len(s)),x+2,y+1)
    a(' '+'_'*(i+2)+' ',x,y)
    a('_'*i,x+2,y+2)
    a('_'*i,x+2,y+3)
    k[y+3][x+1]='/'
    k[y+3][x+i+2]='\\'
    return x+i+3
def q(s,x,y):return reduce(lambda a,b:p(b,2,a,y),list(s),x)
p('BS',6,q('`1234567890-=',0,0),0)
q('QWERTYUIOP[]\\',p('TAB',6,0,4),4)
p('ENTER',6,q('ASDFGHJKL;\'',p('CAPS',7,0,8),8),8)
p('SHIFT',9,q('ZXCVBNM,./',p('SHIFT',9,0,12),12),12)
for l in k:print ''.join(l)
</code></pre>

<p>Unfortunately it's already longer than the answer provided in Lua.</p>
</div>
<div id="pu30" class="pu"><h1><a href="https://esolangs.org/wiki/Bubblegum" rel="noreferrer">Bubblegum</a>, 191 bytes</h1>

<pre><code>0000000: ad d2 35 7a c6 30 10 06 e1 5e a7 50 15 66 fe 99  ..5z.0...^.P.f..
0000010: c1 8c 61 50 0e b2 87 8f 27 24 f7 eb af 78 2b e3  ..aP....'$...x+.
0000020: 3c b2 ae 99 1a 66 8d c8 a7 15 91 73 b8 80 4b b8  &lt;....f.....s..K.
0000030: 82 6b b8 81 5b b8 83 1e 9c c1 31 8c 60 5e d9 66  .k..[.....1.`^.f
0000040: 22 46 c4 39 d1 c2 78 d6 a9 73 6f 5a d8 9b 18 ff  "F.9..x..soZ....
0000050: bb 5a e8 55 cf e6 fc ae 48 01 8f b0 82 12 6a 78  .Z.U....H.....jx
0000060: 86 7b 08 20 83 1c 5e e1 1d de e8 e5 7f 57 b4 d0  .{. ..^......W..
0000070: 8b a9 9b f9 5e 5d 9d af c5 2c af 7e 82 cd a0 82  ....^]...,.~....
0000080: 25 ac 61 03 5b 08 21 82 18 06 b0 0b ab b4 5e 95  %.a.[.!.......^.
0000090: ad 5e 5d 9d 2f d6 e9 f9 d2 c4 f2 bd aa 6d b0 ae  .^]./........m..
00000a0: ed 4f b1 17 78 82 05 3c c0 1c 52 48 e0 08 4e e0  .O..x..&lt;..RH..N.
00000b0: 14 5a 77 fb 5e aa 58 be 97 aa 98 bf db 7c 01     .Zw.^.X......|.
</code></pre>

<p><a href="https://tio.run/nexus/bubblegum#RZPLqtVAEEXnfsVWFAdK2d1Jv8SxCIJeBFGOeLCfA0UcOPCi4q9fa3fO1QxCE5JVq3ZVbsxxPUXp6A6bRyxoAZuBNTABw8IPlAivTzxCwBzIGRDxP8WIyFmuZIrcWSCrqGaRGoLlJ2agOqSINOEi3I4ZMSrKRExwFWMjqlwpSB7e19v1owvKKWpr/LysiraweupoiT4qky3ihpqQDPbKA56RM3mT7yIvL6hNUckhrHeSih2HDVbJjcLb4WzYbM8sBPki8mGRrHw6yzxQu6Kcwx7QdmwZ3aI59tIDSqZPmPAFPSFX2IQ5gXvPJWtn6vTtROCB8oqqlS@PBO/RJobG29jvnmAsQ6uG5lblC6tATvKWiBfL7PP1gQpsMCBWGE3VrNYae9HxWZ3sYImhw1W3iLqjG0X9EnB863p3axWJquxF/WcmxHfkzpE1D9fW7Aatmj5ceiDh/FFvj@XP/wYTs/IoaxnMxtipZ1dHidul3RmtVamkhbIHHkjR2O8eVmp3oPKxov9k3GTgI9NQ91ZnMR2q@uiSdGI1Q1DpyQUkX2@tiqJGx67ZajiRqaqP8Vy2ZlZujvkPQ9t98AB5vean6/VGk391QVVF2Z0TjBGzrj@lwCdU7SXynPWsqhWxcaC85PRD23p/WP2Wm5u/" rel="noreferrer" title="Bubblegum – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu31" class="pu"><h1>PHP, 303 bytes</h1>
<p>Lazy but effective. :)</p>
<pre><code>&lt;?=gzinflate(base64_decode('rdO5DoJAEIDhnqegs/G+jbEAvA88wBuzPsg8vPyLZo3tOMUXmt1k/iy+ycfXYj88kacvIg1oQgva0IEu9KAPA6hDBUYQJn4+IvldxogWhrtqxmRamEw8t66afMc0CO26soczTOAAKVzhCAvYwg7u8IDs06tYVx3Oc+uqw7lef3lfUbBLimABJDCGKcxgDktYwRqGULJ143Ry+O71r/elDvb7vnSx3r2S+WKaFn+U3OACEZzs7wYxbKAMVajZvO6066WK9dNLFcuefgE'));
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/103033/">103033</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




