<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::279735</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>115</td><td>Python</td><td>250517T151219Z</td><td><a href="https://codegolf.stackexchange.com/questions/279735/ascii-computer-vision-recognise-the-dice/279768#279768">Albert.L</a></td></tr>
<tr d-ix="1"><td>131</td><td>Ruby</td><td>250516T181244Z</td><td><a href="https://codegolf.stackexchange.com/questions/279735/ascii-computer-vision-recognise-the-dice/279750#279750">Jordan</a></td></tr>
<tr d-ix="2"><td>136</td><td>ScoobertyDoo</td><td>250516T200056Z</td><td><a href="https://codegolf.stackexchange.com/questions/279735/ascii-computer-vision-recognise-the-dice/279753#279753">Tim Scur</a></td></tr>
<tr d-ix="3"><td>034</td><td>Jelly</td><td>250516T130915Z</td><td><a href="https://codegolf.stackexchange.com/questions/279735/ascii-computer-vision-recognise-the-dice/279743#279743">Jonathan</a></td></tr>
<tr d-ix="4"><td>097</td><td>J</td><td>250516T123617Z</td><td><a href="https://codegolf.stackexchange.com/questions/279735/ascii-computer-vision-recognise-the-dice/279742#279742">Galen Iv</a></td></tr>
<tr d-ix="5"><td>nan</td><td>Python3</td><td>250516T172927Z</td><td><a href="https://codegolf.stackexchange.com/questions/279735/ascii-computer-vision-recognise-the-dice/279749#279749">ajc2000</a></td></tr>
<tr d-ix="6"><td>089</td><td>APL+WIN</td><td>250516T153952Z</td><td><a href="https://codegolf.stackexchange.com/questions/279735/ascii-computer-vision-recognise-the-dice/279748#279748">Graham</a></td></tr>
<tr d-ix="7"><td>323</td><td>Python3</td><td>250516T012634Z</td><td><a href="https://codegolf.stackexchange.com/questions/279735/ascii-computer-vision-recognise-the-dice/279737#279737">Ajax1234</a></td></tr>
<tr d-ix="8"><td>050</td><td>Charcoal</td><td>250516T083304Z</td><td><a href="https://codegolf.stackexchange.com/questions/279735/ascii-computer-vision-recognise-the-dice/279740#279740">Neil</a></td></tr>
<tr d-ix="9"><td>108</td><td>JavaScript Node.js</td><td>250516T010229Z</td><td><a href="https://codegolf.stackexchange.com/questions/279735/ascii-computer-vision-recognise-the-dice/279736#279736">l4m2</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 115 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda s:all('o'in(r:=(4*s)[k:~9:12])&gt;r[1]&lt;r[2:]&gt;r[5]&lt;r==r[::-1]!='  'in r[6::5]+r[5:7]for k in b'HN')*s.count('o')
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=lZBBTsMwEEXF1qcYVrbbJkqqtoCFK5YsIi7gepGWRISaOLLTBSLiImwqIbgTnAa7qUpSumFjfX_Pmz_jt8_quX7Q5fY954uPTZ0Hl19WpU_L-xQsS5UiWOOiJIZxMhlYKtbs9YrFY0nnRsTy2ogxk05OneTcCMaCWJ5zDOAoMGLG2FQO3Tu7kLk2sAZnL_HtHaYDG670pqx9At1HvyRcSOQLlS_UVVaSiDIERQ4qtLUpKuKvkAz54R6usrLODIljOkKQKZv5isoUrndO8KLE4aN2OyTCzULpKHHThrZSRU2o24H6di62HWH7fXYDQRAA-BM1ALqBRgM0XoPTsNN6r3WDOuV8DhOEeryGk3zrn-CjPq93-T1Gt_kHv8_PjvL_y0fHfGdm-OU7_h--_ckf" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 116 bytes</h3>
<pre class="lang-python prettyprint-override"><code>lambda s:all('o'in(r:=(3*s)[k:~9:12])&gt;r[1]&lt;r[2:]&gt;r[5]&lt;r==r[::-1]!='  'in r[6::5]+r[5:7]for k in(13,19))*s.count('o')
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=lZBBTsMwEEXF1qcYVrHbJqopLdTCFQfIDVwvSklEqIkjx10gIi7CphKCO8FpGDdVaUo3bKw_43nzv_32WT37B1tu3nM5_1j7PL7-8mbxdHe_gFosjKGRjYqSOiHpqFcztRKvU8EvNJs5xfWNUxdCoxyjlNIpIWKuz2UEgBQ4NRFirPt4L650bh2sAJfx0YBPGevVydKuSx8s2M77JZVKkzBpcBJslZV0yASBIgeT1N4VFQ0lpH25r5NlVvrMUc7ZgEBm6ixMVK7A3TmN5mWUPFr0TRWGYWyQYtykrkzhKcNHsLAObdsIm--zW4jjGCCcpAGwDTQWoAkaUMNW2522DTkYlzO4JKTDWzjJt_0T_LDL261_h7Gt_77f5SdH_v_lh8f8QWb45Q_6f_j2J38A" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 119 bytes</h3>
<pre class="lang-python prettyprint-override"><code>lambda s:all('o'in(r:=(3*s[13:48])[k::12])&gt;r[3]&lt;r[2:]&gt;r[1]&lt;r==r[::-1]!='  'in r[4::3]+r[3:5]for k in(0,6))*s.count('o')
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=lZBBTsMwEEXF1qcYVrHbJGqatKosXHGA3MD1opREhJpM5KRCiNyETSUEd4LTYDdVSUo3bKw_o__mf_nts3ppHrDcv-di9bFr8mDx9azXT3f3a6j5WmvqoVeU1HBB41Eto5gnC8XklvNoqtjSyFjdGDnlysrISiGM5DyI1LXwACwKRiacx2psrXymcjSwBXtx4s8ZG9XhBndl41LYMf41FVIR59PWB1hl1sw4gSIHHdaNKSrqRkjH4jSHm6xsMkOjiPkEMl1nzlGZwt7OqbcqvfARbWoqbQfG_FTOVFhXumgos72ZO2djuwr776tbCIIAwL2kBcAWWgRonQar4aDxqLElPbtYQkLIgEe4yHf7C_xkyOMhf8Bgl3_aD_n5Wf5_-ck53-sMv3xv_4fvfvIH" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 131 bytes</h1>
<p>Not very golfy. Takes an array of arrays of characters as input. Raises an error on invalid inputs.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a{b=a[1,3].transpose
[b[1,3],b[7,3]].sum{Hash[365,6,455,6,341,5,325,4,273,3,84,3,257,2,68,2,16,1][_1.join.tr(&quot; o&quot;,&quot;01&quot;).to_i 2]}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZA9TsQwEIV7n2KUCqSJhfPfLOWKO1hR5GSNNiiJozgpUJyKY9BECA7FacD50SJY0bx5ep5vZuTX927In-e34-Fj6B_d5PPFvRdjfhCcoZ_SvhONbpWWhOdrgjmPbUmpHurxQegz96MQIwzCRf2AYYi-F2KAXuyjj0lgxQtj9DBKrLAIWcozRp9U2djxNw4oB5075tzSXmUleOk07ad8ceKA67oAixIDoAwYBWAWD9bD6tXulSE_7Q7-htUKbwCoFVAbfMn_hzfgevM-6M9mklIpijOc7GsvdZ8VQkvbAS0c-SWgVdlITWvRjqYyUNHirOrWquj0lBLZnLZvmOetfgM" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu2" class="pu"><h1>Scooberty-Doo, 136 bytes</h1>
<p><code>ṣ”ḌÑ4𓏞𓏴𓎝2ŒḌÑ4e“Ñ4ÑḌ𓎛𓅂“4ÑðZ⬤ḌÑ4341 325 [:,3}.27‘[:,𓏵}Ñ4¤ƲƇ§§Äṫ2№ḌSḌÑ4fḌÑ4³Ｉ∧υÑ4ḌÑ4;</code></p>
<p><a href="https://tio.run/##S87PzU0sSfz//@HOxY8a5j7c0XN4osnDHV25RkcnQTipjxrmAKnDEyHcwxMPb4h6tGYJhGdsYqhgbGSqEG2lY1yrZ2T@qGHG4RaI1KElxzYdaz@0/NByoMjO1UaPWqYBJYIhkmlQNZvf71n5qGP5@VawrSCh////K@jq6ioogEiumnwFhRqFmvz8/BquGgUwG0SC2PkwcYRyAA" rel="nofollow noreferrer" title=",,, – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 34 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ṣ”|OḂḊm2ŒœFḄe“Ñ4ÑḌÑ4ÑðZ‘Ä¤ƲƇ§§Äṫ2S
</code></pre>
<p>A monadic Link that accepts a list of characters (including the newline characters) and yields the count of pips if valid, otherwise <code>0</code>.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///hzsWPGubW@D/c0fRwR1eu0dFJRye7PdzRkvqoYc7hiSaHJz7c0QOmD2@IetQw43DLoSXHNh1rP7T80PLDLQ93rjYK/v//v4Kurq6CAojkqslXUKhRqMnPz6/hqlEAs0EkiJ0PE0coBwA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8///hzsWPGubW@D/c0fRwR1eu0dFJRye7PdzRkvqoYc7hiSaHJz7c0QOmD2@IetQw43DLoSXHNh1rP7T80PLDLQ93rjYK/n90MsiQxn2Hth3adrj9UdOa//8VdHV1FRRAJFeNgkJ@jUJNvoJCDYitAGQrgNn5UHZ@DReSci4UrfkKWLVCxPFqzQfbiqI8H2IrXBynrZRoRXKkAkIrkjhOB@djBBPE1vx8Yv2aj9XB@WTZqoDFVgA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h4>How?</h4>
<pre><code>ṣ”|OḂḊm2ŒœFḄe“...‘Ä¤ƲƇ§§Äṫ2S - Link: list of characters, Dice
ṣ”|                          - split at '|' characters
   O                         - ordinals
    Ḃ                        - mod two -&gt; 'o' -&gt; 1, ' ' -&gt; 0 (others, don't care)
     Ḋ                       - dequeue
      m2                     - every other element
        Œœ                   - split into odd and even indexed elements
                    ƲƇ       - keep those for which:
          F                  -   flatten
           Ḅ                 -   convert from binary -&gt; ID
                   ¤         -   nilad followed by link(s) as a nilad:
             “...‘           -     code-page indices -&gt; [16,52,16,173,16,52,16,24,90]
                  Ä          -     cumulative sums -&gt; [16,68,84,257,273,325,341,365,455]
            e                -   {ID} exists in {that}?
                      §      - sums
                       §     - sums -&gt; Pip-counts of valid dice
                        Ä    - cumulative sums
                         ṫ2  - tail from 1-index two
                                -&gt; [sum(Pip-count)] if both valid, [] otherwise
                           S - sum -&gt; sum(Pip-count) if both valid, zero otherwise
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 97 bytes</h1>
<pre><code>[:(*@*/*1#.,@#:)365 455 341 325 273 81 257 68 16([+/@:*=/)[:(_9#.\'o'=[:,3}.@|.])@|:'|'-.&quot;1~}.@}:
</code></pre>
<p><a href="https://tio.run/##nZDBbsIwEETvfMWIHByH2MFxnIStIlmqxKknrqHqAYFQL/sDpr8eDG1F00LVctiVZlf7NDuvw1SLHTqCQI45KJbSeFw9LYee0sxnRWYSnfuEpK0dKudgKwNbOpSNRWtQugZ1C1On/azwlHWFjJcvi0SvBYuup9wetA/6WfpAIgilp@YtTg40yAkm282ekT7sZHSglALOXeQiMDggdoSLwjfFUdHo8BcgGF@AJ9QF@L77L3DkcAxk3AEcP/nhiX8G8HcgX3H4CeSbGQ5H" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1>Python3, <del>177</del> 133 bytes</h1>
<p>Updated answer upon realizing the problem states it is acceptable to raise an Exception in the invalid format case.</p>

<pre class="lang-python prettyprint-override"><code>lambda s:sum({365:6,455:6,341:5,325:4,273:3,84:3,257:2,68:2,16:1}[sum(ord(s[44-i%3-i//3*12-z])%2&lt;&lt;i for i in range(9))]for z in[0,6])
</code></pre>
<p><a href="https://tio.run/##lZLLTsMwEEX3/opRJZQYkpI3xSJICLHlB1IvQuuCRWtHtite6bcXOwnQVN2wGY3vnTMzjtN8mBcp0lmj9qtyvl/Xm6dlDZro7cb/SoucFEGWu5hmMcmDNMlJFiRXKUmDWWZDkl@RJChmNsQFiXeVA6Va@rrKspCfpSG/vEzP4yT8pPgsubnhsJIKOHABqhbPzL/GmDrp00pVFBQU73U5mUwgDEMAF1ELIFtoJUDrcrA5dLkcctmig/LyFjKERryEk3yvn@CjMS@7@SNG9vN/9TFfHM3/Lx8d8wc7wx9/oB/x9gMiI1@Z0FCCnupmzY3vlbceRotaM6dWvV9FdKq0UbzxMYULqDzwLjqrSgidDo57oU50DzeAMQljSlEt9BtTXUcujN@jJPlFMZyGLdr9CgG4jZzFxHbDVG2Y3@2ICYJGuZ7evT0Tu/twdrY9KKa3a1M@SsEQGPVh6wfNLrP6qWLvC9aYkRf9NFp5D@8NWxi2JPA1XKTidBfA3cJs67VVe2g3Fx7efwM" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1>APL+WIN, 89 bytes</h1>
<p>Prompts for a 5x11 matrix of the two dice. Outputs the two dice together with the sum of the spots for qualifying dice or zero.</p>
<pre><code>d←⎕⋄d⋄r←3⊥j←+⌿(5 ¯5↑d)='o'⋄l←3⊥i←+⌿(5 5↑d)='o'⋄(+/i,j)×2=+/8&gt;¨(⊂9 30 39 60 69 78 90)⍳¨r l
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v@ob6qvz6O2CcZcQJanP5BlyPWooz3tfwqQCRR61N2SAsRFICWPupZmAWntRz37NUwVDq03fdQ2MUXTVj1fHagiB6oiE6ECRV5DWz9TJ0vz8HQjW219C7tDKzQedTVZKhgbKBhbKpgZKJhZKphbKFgaaD7q3XxoRZFCzn@gM7j@p3GZKhgaPurdoq6gq6uroAAmaxQU8msUavIVFGqATCAXTIL5UDmEWnUuHEbkK2AxAiJKpBH5YFcg68sHuwImSowrqGEEwvUKcCMQoihGAAA" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online! Thanks to Dyalog Classic</a></p>
</div>
<div id="pu7" class="pu"><h1>Python3, 323 bytes</h1>
<pre class="lang-py prettyprint-override"><code>lambda b:all(K:=[V(t)for t in zip(*[[[*map(int,j.replace(' ','0').replace('o','1'))]for j in re.findall('[o ]{3}',k)]for k in b.split('\n')[1:-1]])])and sum(K)
import re
V=lambda b:sum(L:=[sum(j)for j in zip(*b)])*((not(Y:=sum(L))%2 or b[1][1])and(Y&lt;2 or(any(b[0])and any(b[2])))and L==L[::-1]and(L[1]&lt;=L[2]or Y==1)and Y&lt;7)
</code></pre>
<p><a href="https://tio.run/##lZRRj6IwEMff@RQTk0tbo8aCu7rEfoL1eRPT5QFOzeEiQ4B72Dvus3st7ErB9jaXEJn/OPPrf0aweK9/YB5sivJ6Eq/XLL4khxiSMM4y@hwK@UJrdsISakhz@JUWdCqlnF7igqZ5PTsvymORxd@PlACZkSVhfQJVghPGIt1@1u3lcXFK84NGE4kQ/Q7@kNlbV/CmC5JFVWRpTclrTpjk4ZxHEYtYnB@g@nmhz8xLLwWWtSJ5L@LmVX@3U171/cxux7VuE9U/pTTHmu5D0VYy9s0HVZRIHqlL4@l@q1M0zt9pIpfdkZ3wI8ZauRNiJ0PtSTfsVOdWJfxIkfZC8LZmv12za8VBwGQygfl8DqA/vQYAG2gQoNExqBjaGD9ibLy@XPV6lS/GCAQrosvbEMG9D2x9DBqx83HLjyAr1zD/A3mwQYwRoIcY@RHkEcYrQbzbamcE0bGStXslaJ0GLUY2FojLCbicPLlWgoaTj7jPjyB86aSgQUGDghaK7YHFOwp8QfGdlPuJ0DlR8O@9fC76i72sXL@zef7nK4h2SlGqvzh6ohVnrBe@KQJTrEzxYIpHU6xNsTHFkyn4cqAGHvjABB@44MrG9S8" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 50 bytes</h1>
<pre><code>Ｆ²⊞υ⭆⟦ηζε⟧Φκ⁼⊗ι÷⊖ν³Ｉ∧⬤υ№Ｉ⪪”)″GＧ0G¤E-✳?^≦”³⍘ι o№Συo
</code></pre>
<p><a href="https://tio.run/##RY5Ba8MwDIXv@RUiJwUcSOMkLfTUNhvsMCjkOHbwEm8xdaPOsXsY/u@Z3TCmg3j6nnhSPwrTk9DL8kkGsMzg7OYRHYPOGjV9vYobvo0MfhjIdwbPSltp8MLg6dsJPWNL7kPLAVXG4GWyrbqrQWIreyOvcrLBmYLDs1j75BwiLZ7EbPEwDXjQOl46kfuj3U0riylv6qquebXhZV1uebGrynpbNLti06SPNAZHMcv1RVQMUqA0i3jN6twVXZjSB832ywJ5ngPEnngi8uAJwCc@sKCBol45APnkf33J7/oX" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｆ²⊞υ⭆⟦ηζε⟧Φκ⁼⊗ι÷⊖ν³
</code></pre>
<p>Extract the pips from the dice.</p>
<pre><code>Ｉ∧⬤υ№Ｉ⪪...³⍘ι o№Συo
</code></pre>
<p>Interpret the pips as binary, check that both results exist in a list of possible pip patterns, and if so output the total count of pips.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 108 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;(g=p=&gt;[12,1,y=11,13].every(k=&gt;(s+=e=a[p+k]+2^2||y%11%k)&lt;7&amp;&amp;a[y+=e*k,p-k]+2^e,s=a[p]+1^1)*s||+g)(25)+g(31)
</code></pre>
<p><a href="https://tio.run/##lZHRSsMwFIbv@xTnZiNZks50TkFNfZDasVCzoC09pZFBMT57bTtBUwrDm/CT/3wnf85512ftivat@RA1vpr@pHqtUmJVo9JMJlzyTknJ5S6Pzdm0HSkH1zFllM4aVuYsOSTedyspVyV9ul@vddYN7qbkjZhcw91YmjN5kHTjvGeWkmRPmSU7SfvHYwRCCIDxjDwAevAI4EcNg4ZJ449G/7dcpXAbhTzCIn@5X@BvZjz88jhlgaDXNT5gLm/irFfI30UL//8Hv5g/yIyzWcz5Y9yaptKFIVvy/BCzl5p@7r@2dthbWmDtsDJxhZaciKOU9t8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<pre class="lang-javascript prettyprint-override"><code>a=&gt;(
    g=p=&gt;
    [12,1,y=11,13].every(
        k=&gt;(
            s+=e=         // 'o'+2^2 = 'o2'^2 = NaN^2 = 2
            a[p+k]+2^2    // ' '+2^2 = ' 2'^2 =   2^2 = 0
            ||y%11%k      // If any empty on corner,
        )&lt;7&amp;&amp;             // then all empty on edge
        a[y+=e*k          // @k=12 y%11=0; y%11+=e
                          // @k=1 y%11%k=0; y%11+=e
                          // @k=11 y%11 shows; y%11+=0
                          // @k=13 y%11 shows; y%11+=whatever
        ,p-k]+2^e         // Besides, it needs center symmetry
        ,s=a[p]+1^1       // Initial value
    )*s||+g               // If failed test or zero, NaNify
)(25)+g(31)               // Two centers
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/279735/">279735</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




