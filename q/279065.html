<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::279065</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>103</td><td>Python 3.8 prerelease</td><td>250904T145210Z</td><td><a href="https://codegolf.stackexchange.com/questions/279065/bring-back-cup-stacking/283501#283501">V_R</a></td></tr>
<tr d-ix="1"><td>076</td><td>Perl 5 + p</td><td>250408T201312Z</td><td><a href="https://codegolf.stackexchange.com/questions/279065/bring-back-cup-stacking/279102#279102">Dom Hast</a></td></tr>
<tr d-ix="2"><td>025</td><td>Jelly</td><td>250408T191934Z</td><td><a href="https://codegolf.stackexchange.com/questions/279065/bring-back-cup-stacking/279101#279101">Jonathan</a></td></tr>
<tr d-ix="3"><td>098</td><td>Ruby</td><td>250407T220325Z</td><td><a href="https://codegolf.stackexchange.com/questions/279065/bring-back-cup-stacking/279082#279082">Level Ri</a></td></tr>
<tr d-ix="4"><td>036</td><td>05AB1E</td><td>250407T073439Z</td><td><a href="https://codegolf.stackexchange.com/questions/279065/bring-back-cup-stacking/279070#279070">Kevin Cr</a></td></tr>
<tr d-ix="5"><td>028</td><td>Charcoal</td><td>250407T084203Z</td><td><a href="https://codegolf.stackexchange.com/questions/279065/bring-back-cup-stacking/279072#279072">Neil</a></td></tr>
<tr d-ix="6"><td>085</td><td>JavaScript Node.js</td><td>250407T022653Z</td><td><a href="https://codegolf.stackexchange.com/questions/279065/bring-back-cup-stacking/279066#279066">l4m2</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 103 bytes</h1>
<p>This may not be the best solution, but I thought it worth posting because it has a theme (reversal). Outputs lists of strings with <code>&quot;1&quot;</code> instead of <code>&quot;∩&quot;</code>, which I will argue should be penaltyless, since the literal <code>&quot;1&quot;</code> is not found in the code, although <code>1</code> is.</p>

<pre class="lang-python prettyprint-override"><code>lambda n:print([bin(x)[:1:-1].replace(&quot;0&quot;,&quot; &quot;)for x in[32,132,32,80,330,594,168,693,1453,427][2-n::3]])
</code></pre>
<p><a href="https://tio.run/##Tc7RCoMgFAbg@55CvEnhNDxZrYQ9ifOitmJBM4ku2tM3nRET/fkPfMhxn/U1W1m7ZR9u931q392zJVa5ZbQr091o2ca1QpWhuSy9m9pHz6igQAnlw7yQjYxWyxzQP39rAVIKKJsCsKqhaiRgUUoo8qvReWaVksbwPX5PKdUpCQdTIClBX34RJt/CECI1SXD4L6M94EEPdypymtgOj7F77hfgSdyFJwMTITBEzvcv" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>The core algorithm is to store each line of output as a binary number, printing 3-4 of these lines depending on the (zero-indexed) input number <code>n</code>.</p>
<p>OP says <code>It's acceptable to have zero space between cups in adjacent pyramids.</code>, and I take advantage of this to shorten the number of bits in the binary numbers. The numbers are stored in base 10 in the code.</p>
<p>The output for <code>n=2</code> has four lines, whereas the other outputs have three. Usually having outputs of different lengths means you can't use the slicing trick on lists with (in this case) <code>[n::3]</code> to get every third number starting at <code>n</code>. We can get around this by reversing the order of the items in the list and slicing with <code>2-n::3</code>. Only when <code>n=2</code> is <code>2-n=0</code>, and the list is just long enough that if and only if <code>2-n=0</code> is there space for a fourth item.</p>
<p>For the binary numbers themselves, note that the lines of the outputs start with different characters: some lines with <code> </code> and some with <code>∩</code>. This makes it hard to encode the outputs as binary without running into issues with leading <code>0</code>s. However, each line ends with the same character, <code>∩</code>. This means we can encode <code>∩</code> as <code>1</code> and <code> </code> as <code>0</code> if we encode each output line backwards. This means our code needs to convert our base-10 numbers back to binary (<code>bin(x)</code>), get rid of the <code>0b</code> prefix (<code>bin(x)[2:]</code>) and reverse with (<code>bin(x)[2:][::-1]</code>). However, these string slices can be combined as <code>bin(x)[:1:-1]</code>, saving a few bytes.</p>
<p>So we encode the data backwards as a list of binary numbers and index into the list backwards.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> + <code>-p</code>, 76 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_=('6
1313
01','25
1131
0','5
41
311
0')[$_].1x5;s/./(($&quot;)x hex$&amp;).'∩'/ge
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3lZD3YzL0NjQmMvAUF1H3ciUyxDI4zIAsk25TAy5jA1BHM1olfhYPcMKU@tifT19DQ0VJc0KhYzUChU1TT31Rx0r1fXTU///N/qXX1CSmZ9X/F@3AAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 25 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ị“ʠTJ‘BŒBS3ƤẒŻƊƬṚa⁽œṡo⁶ỌY
</code></pre>
<p>A monadic Link that accepts the state as a positive integer from <span class="math-container">\$\{1,2,3\}\$</span> and yields a list of characters. Also, a full program that accepts the same and prints the result.</p>
<p>Note that:</p>
<ul>
<li>There is a triangle of spaces above the pyramids</li>
<li>The pyramids have additional spaces between them</li>
</ul>
<p>Both appear to be allowed, and both aid the golf.</p>
<p><strong><a href="https://tio.run/##AT0Awv9qZWxsef//4buL4oCcyqBUSuKAmELFkkJTM8ak4bqSxbvGisas4bmaYeKBvcWT4bmhb@KBtuG7jFn///8z" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h4>How?</h4>
<p>The left-half of each state's base row is encoded in a byte, which is fetched and processed to build the rest of the state:</p>
<pre><code>ị“ʠTJ‘BŒBS3ƤẒŻƊƬṚa⁽œṡo⁶ỌY - Link: integer, N
 “ʠTJ‘                    - Code-page indices = [165, 84, 74]
ị                         - {N} 1-index into {that}
      B                   - convert to binary -&gt; HalfBaseRowBits
       ŒB                 - bounce -&gt; BaseRowBits
               Ƭ          - collect up while distinct, applying:
              Ɗ           -   last four links as a monad - f(Current):
          3Ƥ              -     for each 3-slice of {Current}
         S                -       sum {the three bits} -&gt; 0, 1, or 2
            Ẓ             -     is prime? (vectorises)
                                 - i.e. [v==2 for v in {3-slice sums}]
             Ż            -     prefix {that} with a zero -&gt; NextRowBits
                Ṛ         - reverse {these rows}
                 a⁽œṡ     - logical AND 8745 - replace 1s with 8745s
                     o⁶   - logical OR space - replace 0s with spaces
                       Ọ  - cast to characters - replace 8745s with ∩s
                        Y - join with newline characters
                          - (implicit print when run as a full program)
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>102</s> 98 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;i{&quot;
TyBfx\32*2x&quot;[i*3,j=3+i/2].bytes{|k|puts (&quot; &quot;*j-=1)+(&quot;%07b&quot;%k+=6).tr(&quot;01&quot;,&quot; ∩&quot;).chars*&quot; &quot;}}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf1y6zWokrpNIprSLG2EjLqEIpOlPLWCfL1lg7U98oVi@psiS1uLomu6agtKRYQUNJQUkrS9fWUFNbQ0nVwDxJSTVb29ZMU6@kSEPJwFBJR0nhUcdKJU295IzEomItoOra2v9p0Uax/wE" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>longer than I hoped but it works. Accepts a number 0..2</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>37</s> 36 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>•U₅Ā8AÞ‡|ÔδÚ5∍–ŒZ•3äRIè„ 
ŽYнçšÅвJ.º
</code></pre>
<p>Takes the 0-based index as input.</p>
<p><a href="https://tio.run/##AUwAs/9vc2FiaWX//@KAolXigoXEgDhBw57igKF8w5TOtMOaNeKIjeKAk8WSWuKAojPDpFJJw6jigJ4gCsW9WdC9w6fFocOF0LJKLsK6//8w" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W90bJKSZ15BaYmVgpK9nw6Xkn9pCYSn8/9Rw6LQR02tRxosHA/Pe9SwsObwlHNbDs8yfdTR@6hh8tFJUUAFxoeXBPkdXvGoYZ4C19G9kRf2Hl5@dOHh1gubvPQO7fqvc2ib/X8A" rel="nofollow noreferrer">verify all three outputs</a>.</p>
<p><strong>Explanation:</strong></p>
<pre><code>•U₅Ā8AÞ‡|ÔδÚ5∍–ŒZ•
          # Push compressed integer 38058123976930001615649986047041278960
 3ä       # Try to split it into 3 equal-sized parts, where the trailing part(s)
          # could be one character shorter:
          #  [3805812397693,&quot;0001615649986&quot;,&quot;047041278960&quot;]
   R      # Reverse this list
 Iè       # Pop and keep the 0-based input'th integer
„ \n      # Push string &quot; \n&quot;
    ŽYн   # Push compressed integer 8745
       ç  # Convert it to a character with this codepoint: &quot;∩&quot;
        š # Convert the earlier string to a list and prepend this: [&quot;∩&quot;,&quot; &quot;,&quot;\n&quot;]
Åв        # Convert the larger integer to this custom base,
          # aka, convert it to base-3, and index into this list of three characters
  J       # Join everything together to a string
   .º     # Mirror vertically with overlap
          # (after which the result is output implicitly)
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/166851/52210">See this 05AB1E tip of mine (section <em>How to compress large integers?</em>)</a> to understand why <code>•U₅Ā8AÞ‡|ÔδÚ5∍–ŒZ•</code> is <code>38058123976930001615649986047041278960</code> and <code>ŽYн</code> is <code>8745</code>.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="noreferrer">Charcoal</a>, 28 bytes</h1>
<pre><code>Ｆ§⪪”)⊞″?;”³Ｎ«Ｇ↗↘Ｉι…∩ ¶ ⁵→→
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z8tv0hBw7HEMy8ltUIjuCAns0RDydDE0MjYyNhYSUfBWFNHwTOvoLTErzQ3KbVIQ1NTU6GaizMgP6cyPT9Pwyq0ICgzPaNER8HKJb88D8p2Tiwu0cgE6nSuTM5Jdc7IL9BQetSxUiEmTwFopKmmpjUXp29@WaqGFVgDJrf2/3/j/7plOQA" rel="noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes 1-indexed input. Explanation:</p>
<pre><code>Ｆ§⪪”)⊞″?;”³Ｎ«
</code></pre>
<p>Split the compressed string <code>14123233</code> into groups of <code>3</code>, cyclically index by the input step, then loop over the digits.</p>
<pre><code>Ｇ↗↘Ｉι…∩ ¶ ⁵
</code></pre>
<p>Draw a pyramid of that size, but using a complex fill so that <code>∩</code>s only appear at alternating positions. Charcoal automatically counts 3 bytes for <code>∩</code>, which is why I use <code>…...⁵</code> to repeat the <code>∩</code> as this saves a byte.</p>
<pre><code>→→
</code></pre>
<p>Move to the next pyramid.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://nodejs.org" rel="noreferrer">JavaScript (Node.js)</a>, 85 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;([`8
3424
2`,`46
3242
`,`7
62
522
`][n]+222222).replace(/./g,k=&gt;'∩'.padStart(k))
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/Z9m@z/P1k4jOsGCy9jEyITLKEEnwcSMy9jIxIgLyDTnMjPiMjUCsmOj82K1jcBAU68otSAnMTlVQ19PP10n29ZO/VHHSnW9gsSU4JLEohKNbE3N/9Zcyfl5xfk5qXo5@ekaaRoGmprWyCKa6AoMCSkwwlDwHwA" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/279065/">279065</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




