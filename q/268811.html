<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::268811</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>108</td><td>Python 3.8</td><td>240108T112652Z</td><td><a href="https://codegolf.stackexchange.com/questions/268811/the-worst-spaghetti-code/269071#269071">SevC_10</a></td></tr>
<tr d-ix="1"><td>040</td><td>APLNARS</td><td>240107T065953Z</td><td><a href="https://codegolf.stackexchange.com/questions/268811/the-worst-spaghetti-code/269052#269052">Rosario</a></td></tr>
<tr d-ix="2"><td>136</td><td>Rust</td><td>240107T052608Z</td><td><a href="https://codegolf.stackexchange.com/questions/268811/the-worst-spaghetti-code/269050#269050">proud ha</a></td></tr>
<tr d-ix="3"><td>123</td><td>Perl</td><td>240106T134245Z</td><td><a href="https://codegolf.stackexchange.com/questions/268811/the-worst-spaghetti-code/269027#269027">Joao-3</a></td></tr>
<tr d-ix="4"><td>111</td><td>brainfuck</td><td>231231T164411Z</td><td><a href="https://codegolf.stackexchange.com/questions/268811/the-worst-spaghetti-code/268887#268887">matteo_c</a></td></tr>
<tr d-ix="5"><td>311</td><td>C GNU Extension</td><td>231229T214339Z</td><td><a href="https://codegolf.stackexchange.com/questions/268811/the-worst-spaghetti-code/268851#268851">I love g</a></td></tr>
<tr d-ix="6"><td>013</td><td>Jelly</td><td>231228T183943Z</td><td><a href="https://codegolf.stackexchange.com/questions/268811/the-worst-spaghetti-code/268823#268823">Nick Ken</a></td></tr>
<tr d-ix="7"><td>058</td><td>QBasic</td><td>231228T053620Z</td><td><a href="https://codegolf.stackexchange.com/questions/268811/the-worst-spaghetti-code/268816#268816">DLosc</a></td></tr>
<tr d-ix="8"><td>052</td><td>PARI/GP</td><td>231228T021042Z</td><td><a href="https://codegolf.stackexchange.com/questions/268811/the-worst-spaghetti-code/268815#268815">alephalp</a></td></tr>
<tr d-ix="9"><td>019</td><td>Vyxal 3</td><td>231228T002424Z</td><td><a href="https://codegolf.stackexchange.com/questions/268811/the-worst-spaghetti-code/268812#268812">lyxal</a></td></tr>
<tr d-ix="10"><td>038</td><td>Javascript</td><td>231228T004214Z</td><td><a href="https://codegolf.stackexchange.com/questions/268811/the-worst-spaghetti-code/268814#268814">l4m2</a></td></tr>
<tr d-ix="11"><td>022</td><td>Charcoal</td><td>231228T003814Z</td><td><a href="https://codegolf.stackexchange.com/questions/268811/the-worst-spaghetti-code/268813#268813">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8</a>, 108 bytes</h1>

<pre class="lang-python prettyprint-override"><code>p=print
i=input
def a():p(1);c()if i()else b()
def b():p(2);a()if i()else c()
def c():
 p(3)
 if i():b()
a()
</code></pre>
<p><a href="https://tio.run/##Vc0xDoAwCEDRnVMwwqhdTI2H0dpGElOJ1sHT11pdZPnDg6BXWrZoOt1z1kF3iQlkkKhngtkHHImtUsO9I5aAQuzXw@NEXHmq3HI//th9XGoBlQwDvmyfy7Kcc/3RQE37xkCZGw" rel="nofollow noreferrer" title="Python 3.8 (pre-release) â€“ Try It Online">Try it online!</a></p>
<p>The predicate checking the input is truthy if the inputted string is nonempty.</p>
</div>
<div id="pu1" class="pu"><h1>APL(NARS), 40  chars</h1>
<pre><code>P
â•â†1â‹„â†’3Ã—â³''â‰¡â
â•â†2â‹„â†’1Ã—â³''â‰¡â
â•â†3â‹„â†’2Ã—â³''â‰¡â
</code></pre>
<p>1+3*12+3=40
Predicate would be here &quot;True if the input line is empty&quot;</p>
</div>
<div id="pu2" class="pu"><h1>Rust, 136 bytes</h1>
<pre class="lang-rs prettyprint-override"><code>fn main(){let mut c=1;while 4&gt;c{print!(&quot;{c}
&quot;);let y=&amp;mut &quot;&quot;.into();std::io::stdin().read_line(y);c+=if &quot;
&quot;!=y{if c==1{c=4}-1}else{1}}}
</code></pre>
<p>Expanded (I also replaced newlines inside string literals by regular <code>\n</code>):</p>
<pre class="lang-rs prettyprint-override"><code>fn main(){
    let mut c=1;
    while 4&gt;c {
        print!(&quot;{c}\n&quot;);
        let y=&amp;mut &quot;&quot;.into();
        std::io::stdin().read_line(y);
        c+=if &quot;\n&quot;!=y {
            if c==1 { c = 4 }
            -1
            
        } else {
            1
        }
    }
}
<span class="math-container">```</span>
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.perl.org" rel="nofollow noreferrer">Perl</a>, 123 bytes</h1>
<pre class="lang-perl prettyprint-override"><code>I:print 1;$i=&lt;STDIN&gt;;chomp$i;goto K if$i;J:print 2;$i=&lt;STDIN&gt;;chomp$i;goto I if$i;K:print 3;$i=&lt;STDIN&gt;;chomp$i;goto J if$i;
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kILUoZ8GCpaUlaboWN6s9rQqKMvNKFAytVTJtbYJDXDz97KyTM_JzC1QyrdPzS_IVvBUy04BsL6hCI5wKPSEKvaEKjXEq9IIohDgB6pIFG0qKSksyKrkS0xMz87gMuLgg4gA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>The predicate here is Perl truth.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/TryItOnline/brainfuck" rel="nofollow noreferrer">brainfuck</a>, 111 bytes</h1>
<pre><code>++++++++++&gt;&gt;-[&lt;+&gt;-----]&lt;--&gt;---[&lt;.&lt;.&gt;&gt;&gt;&gt;&gt;,----------[&lt;[-]+&gt;,----------]&lt;[&lt;[--&lt;--&lt;--&gt;&gt;&gt;-]&gt;[&lt;+&lt;+&lt;+&gt;&gt;&gt;-&gt;]&lt;]&lt;+&lt;+&lt;+&gt;]
</code></pre>
<p><a href="https://tio.run/##TYxBCoBADAPvfmXNviD0IyWHVRBE8CD4/roVWZzk0ITQ5Wr7ud3rEVEGZnAWQyICeTkrqyUzBk6Hyr8RswNf9zFk/VUqg4n6kiLalOrEAw" rel="nofollow noreferrer" title="brainfuck â€“ Try It Online">Try it online!</a></p>
<p>An empty string (followed by a line feed) is truthy, any other input is falsy.</p>
</div>
<div id="pu5" class="pu"><h1>C (GNU Extension), 311 Bytes</h1>
<pre><code>#include &lt;stdio.h&gt;
#define G goto
int main(){int a,b,c,d,e,f,i;char*h=&quot;Hello, world!&quot;;void*j[3][2]={{&amp;&amp;x,&amp;&amp;y},{&amp;&amp;y,&amp;&amp;w},{&amp;&amp;z,&amp;&amp;x}};w:i=0;q:a=e=f=1;b=c=d=0;G L;o:if(c){puts(a+e+f?&quot;1&quot;:&quot;0&quot;);G*j[i][a||e||f];}a=a?b&gt;47&amp;&amp;b&lt;58:0;e=e?b==h[d-1]:0;f=f?b==32:0;L:b=getchar();d++;c=b==10;G o;z:return 0;y:i=2;G q;x:i=1;G q;}
</code></pre>
<p>This code (ab)uses the GNU extension <a href="https://gcc.gnu.org/onlinedocs/gcc-4.8.0/gcc/Labels-as-Values.html" rel="nofollow noreferrer">Labels as Values</a> and gotos.</p>
<p>Things seen as truthy:</p>
<ul>
<li>A sequence of digits (allows 0000000...)</li>
<li>The exact string &quot;Hello, world!&quot;</li>
<li>A sequence of space</li>
<li>An empty string</li>
</ul>
<hr />
<h2>Explained</h2>
<pre><code>#include &lt;stdio.h&gt;

//to save space
#define G goto

int main() {
    //a stores if the input is an integer
    int a;
    //b stores the char we currently act upon
    int b;
    //c stores if the end of the current input line has been reached
    int c;
    //d counts the number of chars in the current input, used when testing for hello world
    int d;
    //e stores if the input is the hello world
    int e;
    //f stores if the input consists of space
    int f;
    //i stores the current state, goes from 0 to 2
    int i;
    //this is used for comparisons to find out if the input is hello world
    char *h = &quot;Hello, world!&quot;;
    //this is a jump table, it is used to emulate something like a switch using gotos
    void *j[3][2] = {
        {&amp;&amp;x, &amp;&amp;y}, //these are where one can go from state 0 using what result
        {&amp;&amp;y, &amp;&amp;w}, //go from state 1
        {&amp;&amp;z, &amp;&amp;x}  //go from state 2
    };

    //the labels w x y z are the different states
    //w is state 0, the beginning
    //x is state 1
    //y is state 2
    //z is state 3, the end state

    //this is state 0
    w:
    i = 0;

    //this resets all the variables to their default values
    q:
    a = e = f = 1; //at the beginning of the line parsing, we assume all the things to be true as we later test if they are wrong
    b = c = d = 0;
    G L;

    //this are two things combined: the output in case the end of the line has been reached &amp; the check for all the different things we consider truthy
    o:
    if(c){
        //this is the output, the shorthand if is true in case any of them are non zero
        puts(a + e + f ? &quot;1&quot; : &quot;0&quot;);
        //this selects the next state to jump to, based on the current state i and the result, and does the goto
        G *j[i][a || e || f];
    }
    //the way these assignments work is that we only test if the condition still is true if it still is true. In case it ever is false we do not try to test again
    a = a ? b &gt; 47 &amp;&amp; b &lt; 58 : 0; //this tests for digits, assumes ascii as digits are from 48 to 57
    e = e ? b == h[d-1] : 0; //this tests for hello world, in case the input looks like hello world but goes on with the exact (random) data as stored in the compiled file this can cause a buffer overrun!
    f = f ? b == 32 : 0; //this tests for space, assumes ascii where ' ' is 32

    //this gets the next character in the line
    L:
    b = getchar();
    d++;
    c = b == 10; //this tests for end of line by looking for '\n' which, assuming ascii, is 10
    G o;

    //this is state 3, the end
    z:
    return 0;

    //this is state 2
    y:
    i = 2;
    G q;

    //this is state 1
    x:
    i = 1;
    G q;
}
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>15</s> 13 bytes</h1>
<pre><code>â€˜á¹„+%3ÃŸá¸Šo?É—É áº¸Â¤
</code></pre>
<p><a href="https://tio.run/##y0rNyan8//9Rw4yHO1u0VY0Pz3@4oyvf/uT0kwse7tpxaMn//8X5uaklGZl56VyJeZUQRl4@hAYCAA" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></p>
<p>A full program that takes no arguments but reads from STDIN. The predicate function checks for a non-empty line. As required, the intermediate outputs are sent to STDOUT.</p>
<h2>Explanation</h2>
<pre><code>â€˜                | Increment by 1
 á¹„               | Output to STDOUT with a trailing newline
         É—É áº¸Â¤    | Following as a dyad with the right argument (y) as 1 if the next line from STDIN is non-empty and 0 if empty, and the linkâ€™s argument + 1 as the left argument
  +              |   x + y
   %3            |   Mod 3
     ÃŸá¸Šá¹ª?        |   If this or the input is truthy, call the link recursively; if falsy, remove the remaining value so weâ€™re left with an empty list
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://en.wikipedia.org/wiki/QBasic" rel="noreferrer">QBasic</a>, 58 bytes</h1>
<pre><code>1?x+1
LINE INPUT s$
x=x+1+(s$&gt;&quot;&quot;)*(2+(x=0)*3)
IF x&lt;3GOTO 1
</code></pre>
<p>Empty inputs are falsey; nonempty inputs are truthy. You can type the program in and run it at <a href="https://archive.org/details/msdos_qbasic_megapack" rel="noreferrer">Archive.org</a>.</p>
<p>Sadly, storing the program state in a variable <code>x</code> is much cheaper than doing actual control flow with gotos. A direct translation of the flowchart comes in at 95 bytes:</p>
<pre><code>1?1
LINE INPUT s$
IF&quot;&quot;&lt;s$GOTO 3
2?2
LINE INPUT s$
IF&quot;&quot;&lt;s$GOTO 1
3?3
LINE INPUT s$
IF&quot;&quot;&lt;s$GOTO 2
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://pari.math.u-bordeaux.fr" rel="noreferrer">PARI/GP</a>, 52 bytes</h1>
<p>Strictly speaking, this is not a valid solution, because it can't handle some special inputs like <code>quit</code>. But this is the best I can do.</p>
<pre><code>my(n=0);while(n&lt;3,print(n++);iferr(input,e,n=n++%3))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728ILEoMz69YMGCpaUlaboWN01yKzXybA00rcszMnNSNfJsjHUKijLzSjTytLU1rTPTUouKNDLzCkpLdFJ18myBgqrGmpoQvVAjFmzXitfiguH8-HwYhkgDAA" rel="noreferrer">Attempt This Online!</a></p>
<p>Valid PARI/GP expressions (e.g. <code>o_o</code>) are falsy. Other strings (e.g. <code>*_*</code>) are truthy.</p>
<p>PARI/GP doesn't have a way to read an arbitrary string from stdin. The function <code>input</code> always parses the input as a PARI/GP expression. So I use <code>iferr</code> to check if the input is valid.</p>
<p>I also need to declare <code>n</code> as a local variable, otherwise the user may input a string like <code>n=9</code> and change the value of <code>n</code>.</p>
<p>However, there's no way to stop the user from inputting something like <code>quit</code>, which will quit the program; or <code>input</code>, which prompts for another input; or <code>print(&quot;something&quot;)</code>, which prints something. It's just impossible to handle these cases.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="nofollow noreferrer">Vyxal 3</a>, 19 bytes</h1>
<pre><code>1{:|á»Œ&quot;áµˆá¸„áµ‡â€œf2áº†0pi?È¯i
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#WyIiLCIiLCIxezp84buMXCLhtYjhuIThtYfigJxmMuG6hjBwaT/Ir2kiLCIiLCIwXG4xXG4wXG4wXG4wIiwiMy40LjAiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>A single number is all you need</p>
<p>Truthy is defined as standard vyxal truth</p>
<h2>Explained</h2>
<pre><code>1{:|á»Œ&quot;áµˆá¸„áµ‡â€œf2áº†0pi?È¯iÂ­â¡â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â€â€‹â¡â â¡â€Œâ¢â€‹â€âªâªâ â€âªâ¡âªâ âªâ¢âªâ€â â€âªâ¡âªâ âªâ£âªâ€â â€âªâ¡âªâ âªâ¤âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ¢â¡âªâ€â€â€‹â¡â â¡â€Œâ¤â€‹â€â€âªâ¡âªâ âªâ¢â¢âªâ€â â€âªâ¡âªâ âªâ¢â£âªâ€â â€âªâ¡âªâ âªâ¢â¤âªâ€â â€âªâ¡âªâ âªâ£â¡âªâ€â â€âªâ¡âªâ âªâ£â¢âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ¢â¡â€‹â€â€âªâ¡âªâ âªâ£â£âªâ€â â€âªâ¡âªâ âªâ£â¤âªâ€â â€âªâ¡âªâ âªâ¤â¡âªâ€â€â€‹â¡â â¡â€Œâ¢â¢â€‹â€â€âªâ¡âªâ âªâ¤â¢âªâ€â â€âªâ¡âªâ âªâ¤â£âªâ€â€â€‹â¡â â¡â€Œâ¢â£â€‹â€â€âªâ¡âªâ âªâ¤â¤âªâ€â€â€‹â¡â â¡â€Œâ¢â¤â€‹â€â€âªâ¡âªâ âªâ¢â¡â¡âªâ€â â€âªâ¡âªâ âªâ¢â¡â¢âªâ€â â€âªâ¡âªâ âªâ¢â¡â£âªâ€â€â€‹â¡â â¡â€ŒÂ­
1                    # â€â¡Start with 1 on the stack. This is the initial state
 {:|                 # â€â¢While the top of the stack is truthy:
    á»Œ                # â€â£  Print it without popping. This prints the current state
     &quot;áµˆá¸„áµ‡â€œ           # â€â¤  Push the number 233101 to the stack 
          f2áº†        # â€â¢â¡Flatten it and divide it into chunks of size 2. This is the state map. The first number in a pair is the state to go to when false input. The second number is the true jump. 
             0p      # â€â¢â¢  Prepend a 0 to indicate a halt state
               i     # â€â¢â£  Retrieve the pair corresponding to the current state
                ?È¯i  # â€â¢â¤  And get the next state based on the truthiness of the input
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu10" class="pu"><h1>Javascript, 38 bytes</h1>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=(n=1)=&gt;(n+=!prompt(n)*4)-3&amp;&amp;f(n%3+1)</code></pre>
</div>
</div>
</p>
<p>Empty string as true</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="noreferrer">Charcoal</a>, 22 bytes</h1>
<pre><code>â‰”Â³Î¸ï¼·Î¸Â«ï¼©â»â´Î¸ï¼¤âšâ‰”â‡ï¼³âŠ•ï¹ªÎ¸Â³âŠ–Î¸Î¸
</code></pre>
<p><a href="https://tio.run/##RY7NCsIwEITPzVPkuIF6kHrzJO2lh0JBXyCkSxtIt82fIuKzx0QEmcsw3zCMWqRTmzQpXbzXM0FTcyvO7LFogxys4C9WjU5TgFb6AIOm6OFUSiLXqi6uOxTTGpTu635DN3Qk3RN62mO4hjwxg6h5T8rhihRwgmGbotnA1rwRGXX4R7YE5cg7pSMrYiwd7uYD" rel="noreferrer" title="Charcoal â€“ Try It Online">Try it online!</a> Link is to verbose version of code. Uses nonempty as the predicate. Explanation:</p>
<pre><code>â‰”Â³Î¸
</code></pre>
<p>Numbering the states in reverse to output values, we start in state <code>3</code>.</p>
<pre><code>ï¼·Î¸Â«
</code></pre>
<p>Repeat until state <code>0</code> (END) is reached.</p>
<pre><code>ï¼©â»â´Î¸ï¼¤âš
</code></pre>
<p>Generate the correct output value.</p>
<pre><code>â‰”â‡ï¼³âŠ•ï¹ªÎ¸Â³âŠ–Î¸Î¸
</code></pre>
<p>If the input is not empty, then go the the previous state (increment the internal value, but <code>3</code> becomes <code>1</code>), otherwise go to the next state (decrement the internal value).</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/268811/">268811</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




