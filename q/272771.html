<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::272771</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>076</td><td>Python</td><td>240424T184704Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272784#272784">Albert.L</a></td></tr>
<tr d-ix="1"><td>045</td><td>Uiua</td><td>240426T112849Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272830#272830">jan</a></td></tr>
<tr d-ix="2"><td>009</td><td>Nekomata + e</td><td>240425T031703Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272795#272795">alephalp</a></td></tr>
<tr d-ix="3"><td>011</td><td>Vyxal 3</td><td>240425T052559Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272798#272798">DLosc</a></td></tr>
<tr d-ix="4"><td>009</td><td>Jelly</td><td>240425T044322Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272797#272797">Bubbler</a></td></tr>
<tr d-ix="5"><td>012</td><td>Jelly</td><td>240425T020247Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272794#272794">Unrelate</a></td></tr>
<tr d-ix="6"><td>006</td><td>Brachylog</td><td>240425T004555Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272793#272793">DLosc</a></td></tr>
<tr d-ix="7"><td>027</td><td>Charcoal</td><td>240424T221652Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272791#272791">Neil</a></td></tr>
<tr d-ix="8"><td>084</td><td>JavaScript Node.js</td><td>240424T100803Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272774#272774">l4m2</a></td></tr>
<tr d-ix="9"><td>1413</td><td>05AB1E</td><td>240424T121730Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272779#272779">Kevin Cr</a></td></tr>
<tr d-ix="10"><td>025</td><td>Wolfram Language Mathematica</td><td>240424T122811Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272781#272781">att</a></td></tr>
<tr d-ix="11"><td>011</td><td>Jelly</td><td>240424T114838Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272778#272778">Jonathan</a></td></tr>
<tr d-ix="12"><td>1025</td><td>Vyxal G</td><td>240424T102136Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272775#272775">lyxal</a></td></tr>
<tr d-ix="13"><td>174</td><td>Python 3</td><td>240424T102347Z</td><td><a href="https://codegolf.stackexchange.com/questions/272771/is-it-a-cartesian-product/272776#272776">Jitse</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 76 bytes</h1>
<p>Thanks @att for -1.</p>
<pre class="lang-python prettyprint-override"><code>lambda L,S=sorted:S(K:=[a+b for a in L for b in L])==S((x*3)[::3]for x in K)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dVDNjoIwGIxX4kP02Go3WdsuapM-Adw4IocSIUuCQJDdsM-yFxOj76RPI19bMcZ4mc7MN99P-n9u_rrvujocc7U5_XT5x-oSlnqXbjUKaaT2ddtlWxnhQKpYz1OU1y3SqKhQaGhqaEKUijDuZ5zEUvIEKj1UAuJmzsEqwaqbrMKfRHqDVCj71SUuiYeatqg6nA_ctRyuk2kcL-giSTz70gHZkwJkY0IYzzce8KVD6_gmJehyUMJ4gn4ZFC8zYc8d2bgFkDm0HaD42M_GBHf93Dj8zfzHzMf99ua1u9Z3aVD2V24" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 77 bytes</h3>
<p>Thanks @Jonathan Allan for -1.</p>
<pre class="lang-python prettyprint-override"><code>lambda L:sorted(K:=[a+b for a in L for b in L])==sorted((x*3)[::3]for x in K)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dVBBCsIwEMRr8RE5JlpBk1g1kBdUX1B7SLHFQm1LrVLf4kUQ_ZO-xm4SKyJeJjuzM7tLzvfyVG-L_HJN5Pp2qJPR_LHK1C7aKLQU-6Kq4w32hQzUMEJJUSGF0hwtdRnpMiRSWh9uBowEQrAQ2g20fWKHDkHKQCrKOMdjIpyWShQfVYYz4qCySvMaJ21tI5dnrx8EE3cSho553RbpFwOknYNrzdMa1DOLRvG0i7uzlnGtcXeqkf_MhD1vpN0WQGrRJICxLk87B7N5phX2Z_5n5ud-c_PCXutZNzDzKy8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Original</p>
<h3><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 84 bytes</h3>
<pre class="lang-python prettyprint-override"><code>lambda L:all((C:=L.count)(a)*C(b)==C((a+b)[::3])*C((b+a)[::3])for a in L for b in L)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dVBBasMwECRXk0fouIrdkkiq0wp08tXH3hwfpDamAVU2wSn0LbkEQvqn9jXxSopDCL2MdoaZ2UX7n-67_2jd4dio1WnXNw_Pv69Wf5p3TUqprQUopCof39qd6yloOivAUKUKAJ0aWknJa9TApDqypt0STTaOlARH40cau1OULEptt3YwpzIZqCLrL23B0oR0243roRnmGDn8TaZVtcgWdZ2ENxuQ3TBENjqE13Kv4byMGJTcu0S2HJjwmsiePIq7TtxzQTZuQWQRQwIZH_NsdPCY517h__RfO6_3h5tf4rV5dCMLv3IG" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>which implements the main idea more directly.</p>
<h2>How?</h2>
<p>Checks for every pair of pairs (a,b),(c,d) in the given list L whether the products of counts #(a,b) x #(c,d) and #(a,d) x #(c,b) are equal.</p>
<p>Clearly, this is necessary for L to be a cartesian product.</p>
<p>For sufficiency, observe #(a,b)/#(c,b) = #(a,d)/#(c,d) for any b,d so row a is a multiple of row c. Since this holds for any a,c the matrix of counts has rank &lt;= 1 and can be written as an outer product.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.uiua.org/" rel="nofollow noreferrer">Uiua</a>, 45 characters</h1>
<pre><code>F←⍣(×/×♭⊞(⊞=.÷).:/×♭⊞=.⊕(∩⊏,⟜⍏⊕(⊃⊢⧻)⊛.)⊛°⊟⍉)0
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_11_0-dev_1__IyBpZiB0aGUgcGFpcnMsIHNvcnRlZCB0byBidWNrZXRzIGFjY29yZGluZyB0byBmaXJzdCBkaWdpdCwKIyBjb250YWluIHNlY29uZCBkaWdpdCBtdWx0aXNldHMKIyB3aG9zZSBpdGVtIGNvdW50cyBhcmUgbXVsdGlwbGVzIG9mIGVhY2ggb3RoZXIsCiMgdGhlIHNldCBpcyBhIGNhcnRlc2lhbiBwcm9kdWN0CgojIG9uZSBidWNrZXQ6IGd1YXJhbnRlZWQgY2FydGVzaWFuIHByb2R1Y3QKIyAxIDEKIyAxIDIKCiMgdHdvIGJ1Y2tldHM6IG11bHRpcGxlcyBjb250ZW50CiMgMSAxCiMgMSAxCiMgMiAxCiMKIyBjb21wcmVzc2VkCkYg4oaQIOKNoyjDly_Dl-KZreKKnijiip49LsO3KS46L8OX4pmt4oqePS7iipUo4oip4oqPLOKfnOKNj-KKlSjiioPiiqLip7sp4oqbLiniipvCsOKKn-KNiSkwCmYg4oaQIOKNoygKICDCsOKKn-KNiSAjIHNwbGl0CiAg4oqbICAgIyBlbXB0eSBncm91cCBwcmV2ZW50CiAg4oqVKAogICAg4oqVKOKKg-KKouKnuyniipsuICMgZ3JvdXAgYnkgZmlyc3QgaW5kZXgsIGNvdW50IHNlY29uZCBpdGVtIG9jY3VyZW5jZXMgCiAgICDiiKniio8s4p-c4o2PICAgICMgc29ydCB1bml0cyBhbmQgYW1vdW50cyBieSB1bml0cwogICkKICAjIHVuaXQgY2hlY2s6IElmIGNhcnRlc2lhbiBwcm9kdWN0LCB0aGUgc2FtZSB1bml0cyBzaG91bGQKICAjIG9jY3VyLCBvbmx5IGluIGRpZmZlcmVudCBtdWx0aXBsaWNpdGllcwogIC_Dl-KZreKKnj0uCiAgIyBkaXZpc2lvbiBjaGVjawogIDoKICAvw5fima3iip4o4oqePS7DtykuCiAgw5cKKTAKIyBmbGlwIHBhaXJzCnIg4oaQIOKJoeKHjAojIGNhcnRlc2lhbiBwcm9kdWN0CmMg4oaQIC_iioLiip7iip8KCiQgcGFzc2luZwpGIFtbMSAwXSBbMSAxXSBbMCAxXSBbMCAwXV0KRiBbWzEgMV1dCkYgW1sxIDFdIFsxIDJdXQpGIFtbMSAxXSBbMSAxXSBbMiAxXV0KRiBbWzEgNF0gWzEgNl0gWzIgNF0gWzcgNF0gWzcgNl0gWzIgNl1dCkYgW1s0IDddIFs0IDZdIFs0IDVdIFs0IDRdXQpGIGMgWzEgMSAyIDJdIFsxIDJdCkYgW1sxIDRdIFsxIDNdIFsxIDRdIFsxIDNdIFsyIDNdIFsyIDRdIFsyIDNdIFsyIDRdXQpGIFtbMSA3XSBbMSA5XSBbMSA4XSBbMSA5XSBbMSA5XSBbMiA3XSBbMiA4XSBbMiA5XSBbMiA5XSBbMiA5XSBbMiA3XSBbMiA4XSBbMiA5XSBbMiA5XSBbMiA5XSBbMyA3XSBbMyA4XSBbMyA5XSBbMyA5XSBbMyA5XV0KCiQgZmFpbGluZwpGIFtbMSAyXSBbMyA0XV0KRiBbWzEgMl0gWzIgMl0gWzMgMl0gWzEgM10gWzIgM11dCkYgW1sxIDFdIFsxIDFdIFsxIDJdIFsyIDFdIFsyIDJdXQpGIFtbMSA0XSBbNyA0XSBbOSA2XV0KRiBbWzYgMV0gWzEgNl1dCgrip7siRuKGkOKNoyjDly_Dl-KZreKKnijiip49LsO3KS46L8OX4pmt4oqePS7iipUo4oip4oqPLOKfnOKNj-KKlSjiioPiiqLip7sp4oqbLiniipvCsOKKn-KNiSkwIgo=" rel="nofollow noreferrer">Try it here!</a></p>
<p>Using the algorithm:</p>
<blockquote>
<p>If, when the pairs are grouped according to first digit,
the groups contain second digit multisets
whose item counts are multiples of each other,
the set is a cartesian product.</p>
</blockquote>
<p>Which is apparently less golfy than some of the other algorithms that have been used.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a> + <code>-e</code>, 9 bytes</h1>
<pre><code>ŤđᵃSᵒÐj↕=
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpJuqlLsgqWlJWm6FpuOLjky8eHW5uCHWycdnpD1qG2q7ZLipORiqPSCmzejow11DGNjuSC0DpA0QuGBSCO4ChOwmBlYDMQ2h5IQETOwKhMdcyDPBCxmomMKJk2g-o2APGMUnhFUzAhssjFYxBjDBTC1hlAdCNdAXGAJtdsMqhrIg_gQAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A port of <a href="https://codegolf.stackexchange.com/a/272793/9288">@DLosc's Brachylog answer</a> to Nekomata. Unfortunately, Nekomata doesn't have a built-in for Cartesian product.</p>
<pre><code>ŤđᵃSᵒÐj↕=
Ť           Transpose
 đ          Unpair
  ᵃS        Take a subset of each of the two lists
    ᵒÐ      Generate a 2d array of all possible pairs
      j     Concatenate
       ↕    Permute
        =   Check if equal
</code></pre>
<hr />
<h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a> + <code>-e</code>, 10 bytes</h1>
<pre><code>↕JᵐŤŤđ≡¿ᵐ≡
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpJuqlLsgqWlJWm6FjsetU31erh1wtElR5ccmfioc-Gh_UAekF5SnJRcDFW04BYjd3S0oY5hbCwXhNYBkkYoPBBpBFdhAhYzA4uB2OZQEiJiBlZlomMO5JmAxUx0TMGkCYaZIHtgpBHcFhBpBCUhOkA8Y7h-I7gKY6h-Y7CIMQ7zEWYi3A9xsyXUtWZQ1UAeJFAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>↕JᵐŤŤđ≡¿ᵐ≡  Take [[1,4],[1,6],[2,4],[7,4],[7,6],[2,6]] as an example
↕           Permute
                One possible output: [[1,4],[1,6],[2,4],[2,6],[7,4],[7,6]]
 J          Split into a list of sublists
                One possible output: [[[1,4],[1,6]],[[2,4],[2,6]],[[7,4],[7,6]]]
  ᵐŤŤ       Transpose twice; the original innermost level now becomes the outermost
                [[[1,1],[2,2],[7,7]],[[4,6],[4,6],[4,6]]]
     đ      Unpair
                [[1,1],[2,2],[7,7]], [[4,6],[4,6],[4,6]]
      ≡     Check that all elements in the second list are equal
                [[4,6],[4,6],[4,6]] passes the check
       ¿    And
        ᵐ≡  For each element in the first list, check that all elements are equal
                [[1,1],[2,2],[7,7]] passes the check
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="noreferrer">Vyxal 3</a>, 11 bytes</h1>
<pre><code>Tᵛ⁺/Ẋᵛ/Ẋ$Ṗ⁾
</code></pre>
<p>Outputs empty list for falsey, nonempty list for truthy. <a href="https://vyxal.github.io/latest.html#WyIiLCIiLCJU4bWb4oG6L+G6iuG1my/huook4bmW4oG+IiwiIiwiW1s0LDddLFs0LDZdLFs0LDVdLFs0LDRdXSIsIjMuNC4yIl0=" rel="noreferrer">Try it Online!</a></p>
<h3>Explanation</h3>
<p>Rough port of my Brachylog answer:</p>
<pre><code>Tᵛ⁺/Ẋᵛ/Ẋ$Ṗ⁾
T            Transpose into two lists of elements
 ᵛ⁺          Powerset (all subsets) of each
   /Ẋ        Fold on Cartesian product (all possible pairs of subsets)
     ᵛ/Ẋ     Fold each on Cartesian product (Cart. prod. of each pair)
        $    Swap, pushing original input again
         Ṗ   List of all permutations
          ⁾  Set intersection
</code></pre>
<p>That is, some permutation of the input matches one of the Cartesian products.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 9 bytes</h1>
<pre><code>ŒṬ€SẸƇÆrE
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///opIc71zxqWhP8cNeOY@2H24pcwUIzdB41zAkpKi3JqHzUMBfIdkvMKU4FsQ@322cB@Qq2dgpAnmbk///R0dGGOoaxsTpcChCWDpA0QuODSCMkVSZgUTOwKIhtDiUhImZQdSY65kC@CVjURMcUTJpgMRlkH4w0gtsFIo2gJEwPiG@MZIYRXJUx1AxjsIgxTlsQJiP7BeJ@S7jLzaA6wPxYAA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Builds a 2D matrix where each element represents how many times its coordinates appear in the original array, and then passes it to <a href="https://codegolf.stackexchange.com/a/143583/78410">Dennis's rank-1 matrix test</a>. In modern Jelly, <code>Ðf</code> has been superseded by <code>Ƈ</code>.</p>
<pre><code>ŒṬ€SẸƇÆrE    Input: a list of pairs
ŒṬ€          For each pair [a,b], create a matrix with a rows and b cols
             filled with zeros, but with a 1 at the bottom right corner
   S         Sum; pad with zeros as necessary
    ẸƇÆrE    Dennis's rank-1 matrix test:
    ẸƇ       Remove all-zero rows
      Ær     Interpret each row as a polynomial and find its complex
             roots with multiplicity
        E    Test if they are all eqaual
</code></pre>
<p>Some rows may be shorter after <code>S</code> (e.g. for input <code>[[1,2], [3,4]]</code>), but it is not a problem because the rightmost element is treated as the highest power, so <code>[0, 0, 0, 1]</code> (<code>x^3</code>) and <code>[0, 1]</code> (<code>x</code>) have roots <code>[0,0,0]</code> and <code>[0]</code> respectively.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 12 bytes</h1>
<pre><code>ZṬ€S:g/$Ɗƙ/E
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/z/q4c41j5rWBFul66sc6zo2U9/1/@F2zcj//6O5oqMNdQxjY3WgDB0gaYTKBZFGCDUmYEEzsCCIbQ4lISJmEGUmOuZArglY0ETHFEyaYBoLsgtGGsEtApFGUBKqBcQ1RphgBFdjDDXBGCxijMsKhLFIvoC43BLmZjOoejPshhDpfWQRMrQgVJrBRZCMUgAGqwKItoDSlthoI6g6I6g6I4Q4Ok2UOmOoOmOoOmOEOIKGudAY6hJ02gSNJkqdEVQcC22CRlNPHdAnsQA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>I don't see this getting any shorter, but at least it ties <a href="https://codegolf.stackexchange.com/a/272778/85334">Jonathan Allan's performant variant</a> with a bit more performance.</p>
<pre><code>Z       Ɗƙ/     Group the second column by the first column, and for each group:
    :           Divide
 Ṭ€S            the order-independent multiplicities of the elements
     g/$        by the multiplicities' GCD.
           E    Are the results of every group equal?
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="noreferrer">Brachylog</a>, 6 bytes</h1>
<pre><code>\⊇ᵐẋp?
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r/P@ZRV/vDrRMe7uousP//PzraUMckVgdImgFJIzDbHEpCRMxiYwE" rel="noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>\⊇ᵐẋp?
\       Transpose the list of pairs into a pair of lists, each containing the
        elements of one of the multisets (possibly more times than necessary)
 ⊇ᵐ     Take some subset of each list
   ẋ    Cartesian product of those subsets
    p   Take some permutation
     ?  Assert that the result equals the input
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 27 bytes</h1>
<pre><code>⬤θ⬤θ⁼×№θι№θλΠＥ²№θＥ²§⎇⁼νπιλπ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMMxJ0ejUEcBSrkWlibmFGuEZOamFms455cCFQBFMzV1FOCcHE0gL6AoP6U0uUTDN7FAwwhJEsp3LPHMS0mt0AhJLcpLLKrUgBqbp6NQANScCTIExIQD6///o6OjDXUMY3XgpBGcNAKLwEgjKBkb@1@3LAcA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs a Charcoal boolean, i.e. <code>-</code> for a Cartesian product, nothing if not. Explanation: Port of @Albert.Lang's Python answer.</p>
<pre><code> θ                          Input list
⬤                           All values satisfy
   θ                        Input list
  ⬤                         All values satisfy
      №                     Count of
        ι                   Outer value
       θ                    In input list
     ×                      Multiplied by
         №                  Count of
           λ                Inner value
          θ                 In input list
    ⁼                       Equals
              ²             Literal integer `2`
             Ｅ              Map over implicit range
               №            Count of
                  ²         Literal integer `2`
                 Ｅ          Map over implicit range
                      ν     Inner index
                     ⁼      Equals
                       π    Innermost index
                    ⎇       If true then
                        ι   Outermost value
                         λ  Else outer value
                   §        Indexed by
                          π Innermost index
                θ           In input list
            Π               Take the product
                            Implicitly print
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 84 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;!x.some(e=&gt;(g=c=&gt;x.map(t=&gt;s+=t.every((u,i)=&gt;i-c|u==e[i]),s=0)|s)``*g(1)-g()*g(2))
</code></pre>
<p><a href="https://tio.run/##jZHdisIwEIXvfQr3LuOmZZtmK3sxeZFSsNRp6aJGmipd8N27SYwtKoI3HzOHMz/M/Jbn0lRde@yjg97SWOM4oPoYYqP3xAgVa7BCNcT78sh6VOYT@5jO1P0xduItoGqj6nJCpLwtgBv8gouBzWbVsASihoENBMBY644RLXW9zBd5nvCkKHgIuKW4Tx3F7JFezLzo4nXgVcmuNsnXNpVelPzbUz63dbNuFNMgRxH4suRReSx/a9Zkc2I6byimHdJQlXolfdX2qeF8mZ/bTbLgt@migEofjN5RvNMNq@037Fv@AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>-6 from att<br />
-1 from Arnauld</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 14 (or 13) <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ø€æ`âε`â{I{Q}à
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//8I5HTWsOL0s4vOjcViBR7VkdWHt4wf//0dGGOiaxOkDSDEgagdnmUBIiYhYbCwA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeWhlf8P73jUtObwsoTDi85tBRLVh9ZVB9YeXvBf5390dLShjmFsrI4ChKEDJI1QuSDSCKHGBCxoBhYEsc2hJETEDKLMRMccyDUBC5romIJJE0xjQXbBSCO4RSDSCEpCtYC4xggTjOBqjKEmGINFjHFZgTAWyRcQl1vC3GwGVQ/kxgIA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p>Should have been 13 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a> (but a lot slower) if it weren't for <a href="https://github.com/Adriandmen/05AB1E/issues/205" rel="nofollow noreferrer">a bug in the (flattened) maximum builtins <code>à</code>/<code>Z</code>/<code>M</code> for a list of lists containing empty lists</a>, by changing <code>{I{Q</code> to <code>œ€Q</code>: <a href="https://tio.run/##yy9OTMpM/f//8I5HTWsOL0s4vOjcViBxdDKQG1h7eMH//9HRhjqGsTpA0ig2FgA" rel="nofollow noreferrer">(don't) try it online</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>ø             # Zip/transpose; swapping rows/columns of the (implicit) input
 €            # Map over both inner lists:
  æ           #  Get its powerset
   `          # Pop and push both powersets separately to the stack
    â         # Take the cartesian product to create all pairs of lists
     ε        # Map over each pair of lists:
      `       #  Pop and push both lists separately to the stack
       â      #  Take the cartesian product to create all pairs of values
        {     #  Sort the list of pairs
         I    #  Push the input
          {   #  Sort its pairs as well
           Q  #  Check if both sorted lists of pairs are the same
     }à       # After the map: check if any is truthy by leaving its maximum
              # (after it is output implicitly as result)
</code></pre>

<pre class="lang-python prettyprint-override"><code>        œ     #  Get all permutations of this list of pairs
         €    #  Inner map over each pair:
          Q   #   Check if this list of pairs is equal to the (implicit) input-list
     }à       # After the map: check if any inner value is truthy (flattened max)
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="noreferrer">Wolfram Language (Mathematica)</a>, 25 bytes</h1>
<pre><code>MatrixRank@BinCounts@#&lt;2&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73zexpCizIigxL9vBKTPPOb80r6TYQdnGSO1/QFFmXkm0sq5dmoNyrFpdcHJiXl01V3W1oY6CYW2tDoylowCijTBEwLQRsloTqIwZVAbMN0fQMHEziA4THQVzkIgJVAZIm0JpE@y2gd2BRBshuwJCG8FpoAkQI8BCxsiGGiErNkYYagwVN8ZvPYp1KJ6HedYS7kkzhF6gCFftfwA" rel="noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Form a matrix whose entries correspond to the number of times a pair is present in the input. This is a cartesian product of multisets iff all rows/columns of that matrix are linearly dependent, i.e. its rank is at most 1.</p>
<p>Since inputs are nonnegative integers, <a href="https://reference.wolfram.com/language/ref/BinCounts.html" rel="noreferrer"><code>BinCounts</code></a> conveniently returns a matrix where (0-indexed) <span class="math-container">\$i,j\$</span> is the number of times <span class="math-container">\$(i,j)\$</span> appears in the input.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 11 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>FŒPpþ`ẎṢ€iṢ
</code></pre>
<p>A monadic Link that accepts a list of pairs and yields <code>0</code> (falsey) if not a possible Cartesian product or a positive integer (truthy) if it is.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/z/q6KSAR01rCg7v03@4q@/hzkVATiaQ@v//f3S0oY5JrA6QNAOSRmC2OZSEiJjFxgIA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (too slow for any more than four pairs) Or see a <a href="https://tio.run/##y0rNyan8/9/t6KSAgsP7Eh7u6nu4c9GjpjWZQOr/0UkPd87QedQwJ6SotCSj8lHDXCDbLTGnOBXEPtxunwXkK9jaKQB5mpH//0dHRxvqGMbG6nApQFg6QNIIjQ8ijaCqFJQVQvLzFYpz8sutwEpMwErMwEpAbHMoCRExgxplomMO5JuARU10TMGkCXYDEXaCXAIjjeCuAJFGUBLmThDfGJeBRnAtxlADjcEixsTZj7ATZhvCm5ZwD5pBdYD5sQA" rel="nofollow noreferrer" title="Jelly – Try It Online">reduced test-suite</a>.</p>
<h4>How?</h4>
<pre><code>FŒPpþ`ẎṢ€iṢ - Link: list of pairs, A
F           - flatten {A} -&gt; all elements
 ŒP         - powerset -&gt; all multisets of all elements
     `      - use as both arguments of:
    þ       -   table of:
   p        -     {muliset 1} Cartesian product {multiset 2}
      Ẏ     - tighten from a table to a list of the Cartiesian products
       Ṣ€   - sort each
          Ṣ - sort {A}
         i  - 1-indexed index of the first occurrence of {sorted A} in
              {sorted products}, or 0 if not found
</code></pre>
<hr />
<h3>A slightly faster 12 byte version</h3>
<pre><code>ZŒP€pþ/ẎṢ€iṢ
</code></pre>
<p>Same I/O as the 11 byter.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/z/q6KSAR01rCg7v03@4q@/hzkVATiaQ@v//f3S0oY5JrA6QNAOSRmC2OZSEiJjFxgIA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8/z/q6KSAR01rCg7v03@4q@/hzkVATiaQ@n900sOdM3QeNcwJKSotyah81DAXyHZLzClOBbEPt9tnAfkKtnYKQJ5m5P//0dHRhjqGsbE6XAoQlg6QNELjg0gjJFUmYFEzsCiIbQ4lISJmUHUmOuZAvglY1ETHFEyaYDEZZB@MNILbBSKNoCRMD4hvjGSGEVyVMdQMY7CIMU5bECYj@wXifku4y82gOsD8WAA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h4>How?</h4>
<pre><code>ZŒP€pþ/ẎṢ€iṢ - Link: list of pairs, A
Z            - transpose A -&gt; [left elements, right elements]
 ŒP€         - powerset of each -&gt; [potential left m-sets, potential right m-sets]
      /      - reduce by:
     þ       -   table of:
    p        -     {potential left m-set} Cartesian product {potential right m-set} 
       Ẏ     - tighten from a table to a list of the Cartiesian products
        Ṣ€   - sort each
           Ṣ - sort {A}
          i  - 1-indexed index of the first occurrence of {sorted A} in
               {sorted products}, or 0 if not found
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a> <code>G</code>, 82 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 10.25 bytes</h1>
<pre><code>fṗƛṖƛøṖƛΠ?⁼}f
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJHPSIsIiIsImbhuZfGm+G5lsabw7jhuZbGm86gP+KBvH1mIiwiIiwiW1sxLDFdLFsxLDJdXSJd" rel="nofollow noreferrer">don't bother to Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>0111011101101100110011101001011010010100001011000101000101000010100100111100011011
</code></pre>
<p>So this times out for anything where there's more than two pairs in the input. Basically, anything larger than a 2x2 matrix (iykyk). Possibly because it checks the cartesian product of all possible partitions of all permutations of the powerset of the flattened input. That's like at least <span class="math-container">\$O((2^n)!)\$</span> which is already pretty slow.</p>
<p>Most probably high very likely to be golfable somehow.</p>
<h2>Explained</h2>
<pre><code>fṗƛṖƛøṖƛΠ?⁼}f­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁢⁤⁪‏‏​⁡⁠⁡‌⁢⁣​‎‎⁪⁡⁪⁠⁪⁣⁡⁪‏‏​⁡⁠⁡‌⁢⁤​‎‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏‏​⁡⁠⁡‌⁣⁡​‎‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏‏​⁡⁠⁡‌⁣⁢​‎‏​⁢⁠⁡‌­
fṗ             # ‎⁡Powerset of the flattened input. Already slow for large inputs. 
  ƛ            # ‎⁢To each set in the powerset:
   Ṗ           # ‎⁣ Get all permutations of that set. Very slow for large inputs with big subsets.
    ƛ          # ‎⁤ To each permutation:
     øṖ        # ‎⁢⁡  Get all the possible ways to split the list. Extremely slow for large inputs
       ƛ       # ‎⁢⁢  To each partition:
        Π      # ‎⁢⁣   Take the cartesian product. For large inputs this means it'll probably never terminate in the lifetime of the universe 
         ?⁼    # ‎⁢⁤   Is that cartesian product equal to the input? 
           }f  # ‎⁣⁡Close all the maps and flatten
# ‎⁣⁢If by some chance all of the above terminates, the G flag gets the maximum of that list. This is basically an any() check
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 174 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(a):x,y=zip(*a);return any(sorted(a)==sorted([[k]+[l]for k in i for l in j])for i in g(*x)for j in g(*y))
g=lambda x=0,*a:x and[i+j for i in[[x],[]]for j in g(*a)]or[[]]
</code></pre>
<p><a href="https://tio.run/##dU5BbsMgELz7FXsEh0MC1FFd@SWIA5XtFMfBiLoV7uddwMRpVfUyOzOa2V27zG@TYevadj30SOHak6X50haVCr@4bv5wBpRZ0Pvk5q4NgabJVIirPIhR9pODK2gDGiIdIx0kjlxHfkGlT2rIasG4uDSjur22CnxzJKWqfTjSCn0Y4N4TwksipPzZVFhOTgRzTSljo39TFnWfaiQw2c6gI8Z1AWCdNjPqUQhhvApxIicpi22SgPSXikj3BE9elbzIzxk3p0opTs5B8eRx8pSQ/9kZ79yR7lci0oxbIyq29@meYLnPksP@2f/Y@fh/@/k5f1vldFDf" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p><code>f</code> is the main function and <code>g</code> returns all subsets for a given input.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/272771/">272771</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




