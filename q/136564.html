<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::136564</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>111</td><td>Swift 6</td><td>250425T151300Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/279332#279332">macOSist</a></td></tr>
<tr d-ix="1"><td>048</td><td>Raku Perl 6 rakudo</td><td>250425T142835Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/279330#279330">xrs</a></td></tr>
<tr d-ix="2"><td>072</td><td>CASIO BASIC CASIO fx9750GIII</td><td>250425T142114Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/279329#279329">madeforl</a></td></tr>
<tr d-ix="3"><td>091</td><td>AWK</td><td>250425T135233Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/279328#279328">xrs</a></td></tr>
<tr d-ix="4"><td>016</td><td>Pip</td><td>250326T225425Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/278933#278933">DLosc</a></td></tr>
<tr d-ix="5"><td>010</td><td>Japt v2.0a0 x</td><td>201109T121114Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/214935#214935">Shaggy</a></td></tr>
<tr d-ix="6"><td>881</td><td>PHP</td><td>170729T203855Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136603#136603">Titus</a></td></tr>
<tr d-ix="7"><td>107</td><td>Mathematica</td><td>170809T215333Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/138329#138329">ZaMoC</a></td></tr>
<tr d-ix="8"><td>034</td><td>Perl 5</td><td>170730T025315Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136632#136632">Xcali</a></td></tr>
<tr d-ix="9"><td>062</td><td>JavaScript</td><td>170729T134355Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136567#136567">user7234</a></td></tr>
<tr d-ix="10"><td>137</td><td>C#</td><td>170731T122234Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136808#136808">TheLetha</a></td></tr>
<tr d-ix="11"><td>133</td><td>C# .NET Core</td><td>170731T073850Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136763#136763">Ian H.</a></td></tr>
<tr d-ix="12"><td>068</td><td>Python 3</td><td>170731T132903Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136820#136820">C McAvoy</a></td></tr>
<tr d-ix="13"><td>082</td><td>Octave</td><td>170729T185935Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136588#136588">ბიმო</a></td></tr>
<tr d-ix="14"><td>134</td><td>Swift 4</td><td>170730T061106Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136646#136646">Mr. Xcod</a></td></tr>
<tr d-ix="15"><td>074</td><td>Python 2</td><td>170729T155926Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136581#136581">0xffcour</a></td></tr>
<tr d-ix="16"><td>084</td><td>Python 3</td><td>170729T135744Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136569#136569">Mr. Xcod</a></td></tr>
<tr d-ix="17"><td>015</td><td>Husk</td><td>170729T190507Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136590#136590">Zgarb</a></td></tr>
<tr d-ix="18"><td>023</td><td>Brachylog</td><td>170729T175633Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136586#136586">Erik the</a></td></tr>
<tr d-ix="19"><td>056</td><td>Haskell</td><td>170729T145007Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136577#136577">nimi</a></td></tr>
<tr d-ix="20"><td>020</td><td>Pyth</td><td>170729T144752Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136576#136576">Mr. Xcod</a></td></tr>
<tr d-ix="21"><td>018</td><td>Pyth</td><td>170729T144730Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136575#136575">Erik the</a></td></tr>
<tr d-ix="22"><td>016</td><td>Japt v2</td><td>170729T144517Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136574#136574">ETHprodu</a></td></tr>
<tr d-ix="23"><td>007</td><td>05AB1E</td><td>170729T140901Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136571#136571">Erik the</a></td></tr>
<tr d-ix="24"><td>012</td><td>Jelly</td><td>170729T140640Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136570#136570">Jonathan</a></td></tr>
<tr d-ix="25"><td>017</td><td>Jelly</td><td>170729T132637Z</td><td><a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136566#136566">Erik the</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Swift 6, <s>170</s> 111 bytes</h1>
<pre class="lang-swift prettyprint-override"><code>{s in{d in.init(d.count)*Float(s)!+d.reduce(0){$0+Float({String.init}()($1,d.count))!}}((s+&quot;&quot;).filter{$0&gt;&quot;/&quot;})}
</code></pre>
<p><a href="https://swiftfiddle.com/srryvkqct5fz5loep5yqjz5g3i" rel="nofollow noreferrer">Try it on SwiftFiddle!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://raku.org" rel="nofollow noreferrer">Raku (Perl 6) (rakudo)</a>, 48 bytes</h1>
<pre class="lang-perl prettyprint-override"><code>{$_*($!=(my@z=.comb(/\d/)))+[+] @z.map:{$_ x$!}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kKDG7dMGy3EoFtTTbpaUlaboWNw2qVeK1NFQUbTVyKx2qbPWS83OTNPRjUvQ1NTW1o7VjFRyq9HITC6yAyhQqVBRra6H6XIsTKxXSFICiaflFCjaGRsYKxhYWCpZAoGCgYKGga6aga2SqoGtoYqIAlNQzMVUwMjHRM1IwUtA1APFAhB3EsAULIDQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-perl prettyprint-override"><code>{$_*           # input number multiplied by
($! =          # number of digits
(my@z=         # create array
.comb(/\d/)))  # of only digits
+              # add to it
[+]            # coerce int from string
@z.map:        # each element of array
{$_ x$!}       # string of chars times number of digits
}              # implicit return
</code></pre>
</div>
<div id="pu2" class="pu"><h1>CASIO BASIC (CASIO fx-9750GIII), 72 bytes</h1>
<pre><code>?→Str 1
StrLen(Str 1)→E
Exp(Str 1)E→A
For 1→I To E
For 0→J To E-1
A+₁₀J(Exp(StrMid(Str 1,I,1))→A
Next
Next
</code></pre>
<p>yerp</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.gnu.org/software/gawk/" rel="nofollow noreferrer">AWK</a>, 91 bytes</h1>
<pre><code>{for(x=$0*(y=length-gsub(/-|\./,X));i++&lt;split($0,a,X);x+=g)for(g=j=0;j++&lt;y;)g=g a[i]}1,$0=x
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m704sTx7wYKlpSVpuhY3o6vT8os0KmxVDLQ0Km1zUvPSSzJ004tLkzT0dWti9PR1IjQ1rTO1tW2KC3IySzRUDHQSgULWFdq26Zognem2WbYG1llABZXWmum26QqJ0ZmxtYY6Kga2FRAroDYtWGIJBBA2AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>{               # implicit input
for(            # main loop
x=              # running total
$0*(            # input string multiplied by
y=              # length of just digits
length-         # length of input -
gsub(           # returns subs count
/-|\./,         # sub - and .
X));            # deletes - and .
i++&lt;            # for each char
split($0,a,X);  # split new number into digits
x+=g)           # add new column
for(            # append loop
g=j=0;          # reset          
j++&lt;y;)         # append times length of digits
g=g a[i]        # append char (1 1 -&gt; 11)
}1,             # print even if zero
$0=x            # set default output
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a>, 16 bytes</h1>
<pre><code>YaMa@XD$+:yALZJy
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m724ILNgwYKlpSVpuhYbIhN9Ex0iXFS0rSodfaK8KiHCUNkV0Uq6hiYmSrFQPgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<pre class="lang-lisp prettyprint-override"><code>YaMa@XD$+:yALZJy
   a              ; Input number
    @XD           ; Regex match all digit characters
 aM               ; In that list, replace each value with the input number
Y                 ; Store the resulting list in y
             ZJy  ; Transpose y, joining rows back into strings/numbers
          yAL     ; Append that list to y
       $+:        ; Sum
</code></pre>
<p>Strings like <code>---</code> or <code>....</code> that are not numbers are treated as 0 in numeric contexts.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> v2.0a0 <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-x</code></a>, 10 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Takes input as a string.</p>
<pre><code>f\d çU
cUy
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=2.0a0&amp;flags=LXg&amp;code=ZlxkIOdVCmNVeQ&amp;input=IjEyMyI" rel="nofollow noreferrer">Try it</a> or <a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=2.0a0&amp;code=ZlxkIOdVCmNVeQ&amp;footer=Vng&amp;input=WwoiMTIzIgoiMzg4IgoiOTk5OSIKIjAiCiI4IgoiLTYiCiItMjUiCiItMTQ0IgoiMTIzLjQ1IgoiMjQ0LjIiCiIyIgoiLTAuNDUiCiIwLjQ1IgpdLW1S" rel="nofollow noreferrer">run all test cases</a></p>
<pre><code>f\d çU\ncUy     :Implicit input of string U                    &gt; &quot;-0.45&quot;
f               :Match (returns an array)
 \d             :  RegEx /\d/g                                 &gt; [&quot;0&quot;,&quot;4&quot;,&quot;5&quot;]
    çU          :Fill with U                                   &gt; [&quot;-0.45&quot;,&quot;-0.45&quot;,&quot;-0.45&quot;]
      \n        :Reassign to U
        c       :Concatenate
         Uy     :  U transposed                                &gt; [&quot;-0.45&quot;,&quot;-0.45&quot;,&quot;-0.45&quot;,&quot;---&quot;,&quot;000&quot;,&quot;...&quot;,&quot;444&quot;,&quot;555&quot;]
                :Implicit output of sum of resulting array     &gt; 997.65
</code></pre>
</div>
<div id="pu6" class="pu"><h1>PHP, <s>78</s> 88 +1 bytes</h1>
<pre class="lang-php prettyprint-override"><code>for($e=preg_match_all(&quot;#\d#&quot;,$n=$argn);~$c=$n[$i++];)$s+=str_repeat($c,$e);echo$s+$n*$e;
</code></pre>
<p>Run as pipe with <code>-nR</code>.</p>
<p>May yield warnings in PHP 7.1. Repace <code>$c,$e</code> with <code>$c&gt;0?$c:0,$e</code> to fix.</p>
</div>
<div id="pu7" class="pu"><h1>Mathematica, 107 bytes</h1>
<pre><code>(t=Length[s=#&amp;@@RealDigits[#]//.{a___, 0}:&gt;{a}];If[IntegerPart@#==0,t++];t#+Tr[FromDigits@Table[#,t]&amp;/@s])&amp;
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, <s>37</s> 33 + 1 (-p) = <s>38</s> 34 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>$_*=@n=/\d/g;for$\(@n){$_+=$\x@n}
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/18lXsvWIc9WPyZFP906Lb9IJUbDIU@zWiVe21YlpsIhr/b/f4N/@QUlmfl5xf91fU31DAwN/usWAAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>

<p><em>Used some tricks from Dom's code to shave 4 bytes</em></p>

<p><strong>Explained:</strong></p>

<pre class="lang-perl prettyprint-override"><code>@n=/\d/g;    # extract digits from input
$_*=@n;      # multiply input by number of digits
for$\(@n){   # for each digit:
  $_+=       # add to the input
  $\x@n}     # this digit, repeated as many times as there were digits
             # taking advantage of Perl's ability to switch between strings
             # and numbers at any point
</code></pre>
</div>
<div id="pu9" class="pu"><h1>JavaScript, <s>75</s> 62 bytes</h1>

<pre><code>a=&gt;(b=a.match(/\d/g)).map(b=&gt;a+=+b.repeat(c),a*=c=b.length)&amp;&amp;a
</code></pre>

<p><a href="https://tio.run/##HY7dDoMgDIVfhSuFiaiMLS4LvsjcRUX8iwOjZK/POpv09JwvTdoFvnCYfd5C7nxv46Aj6IZ2GsQHgplo0fbFyBimDWkDmc46sdvNQqCGcbhoozuxWjeGiSUJxKfx7vCrFasf6auSV06udc3JA4uTkhP0@R1b3lAqpTjBJaEwSaWExIG8PMFf3@dpILohA4UsTfGZxc@Opq1DH38" rel="nofollow noreferrer">Try it online</a></p>

<p><em>-2 bytes thanks to <a href="https://codegolf.stackexchange.com/users/58563/arnauld">Arnauld</a></em><br>
<em>-5 bytes thanks to <a href="https://codegolf.stackexchange.com/users/58974/shaggy">Shaggy</a></em> (I though the function must receive a number, but now I see that lot of other answers receive string too)</p>
</div>
<div id="pu10" class="pu"><h1>C#, <s>139</s> 137 bytes</h1>



<pre class="lang-c# prettyprint-override"><code>using System.Linq;n=&gt;{var d=(n+"").Where(char.IsDigit);return d.Sum(i=&gt;int.Parse(new string(i,d.Count())))+new int[d.Count()].Sum(_=&gt;n);}
</code></pre>

<p><em>Saved 2 bytes thanks to @Ian H.</em></p>

<p><a href="https://tio.run/##jY/BasMwDIbveQrRk01bQ7PcsuTSMRhsUNZDD2MMz1ZbQSJvttMxSp49SxroNhis/0ES0ifxy4R57dh1rGsMb9ogrD9DxFrdE78nxwR6mUqHAKtTPXYGhagjGTg4svCgiYU8j76hQbcNm2vrmtcKZzDmErZQdFyUx4P2YKEAwdPJRKrNHj0Ks9de3YUb2lGUucfYeAar1k0tqCiJo1ppH1AwfvQ2PPFO0MyqpWs4CtlrOkx67uncfD5tvxQly7zt8uSXw6Xj4CpUG08R@8dRbMUivZIy/xebL7LsEu4iKM0ylQ7gn@QjansCf1xqkzG23Rc" rel="nofollow noreferrer" title="C# (Mono) – Try It Online">Try it online!</a></p>

<p>Full/Formatted version:</p>

<pre class="lang-c# prettyprint-override"><code>namespace System.Linq
{
    class P
    {
        static void Main()
        {
            Func&lt;double, double&gt; f = n =&gt;
            {
                var d = (n + "").Where(char.IsDigit);
                return d.Sum(i =&gt; int.Parse(new string(i, d.Count()))) + new int[d.Count()].Sum(_ =&gt; n);
            };

            Console.WriteLine(f(123));
            Console.WriteLine(f(-144));
            Console.WriteLine(f(4));
            Console.WriteLine(f(244.2));

            Console.ReadLine();
        }
    }
}
</code></pre>
</div>
<div id="pu11" class="pu"><h1>C# (.NET Core), <s>150</s> <s>141</s> 133 bytes</h1>
<p><s><em>Saved 9 bytes thanks to @TheLethalCoder</em></s><br />
<em>Saved another 8 bytes thanks to @TheLethalCoder</em></p>
<pre><code>a=&gt;{var c=(a+&quot;&quot;).Replace(&quot;.&quot;,&quot;&quot;).Replace(&quot;-&quot;,&quot;&quot;);int i=0,l=c.Length;var r=a*l;for(;i&lt;l;)r+=int.Parse(new string(c[i++],l));return r;}
</code></pre>
<p><a href="https://tio.run/##dVFRa8IwEH73VxzxJV1jqK4Ot1hfBJ8cyBzsQX0IWVoDNRlJdIzS3@7SVix72AfJ5S7fHd/dCTcSxsqrKLlzsLGmsPw0qAYQ4Dz3SsDFqE945Upj563Sxe4A3BYuajkds8H2x3l5oquzFvO8NNwTaM0CcsiuPFtUF25BZJjHCEX0TX6VXEiMKCJ//FHrM6U9qCwhZSboWurCH1mTbzP@ULLcWMzUvGSRjbPApBtuncRafkOnEYudiuMDKaOIWenPVoNl9ZXd1bbSQideOi@4kw4yaNJv8Tuv76/BePJI4HE2I/AcQCAhEN6jp3Am03CN05Q0JJpOcwKTNKWTxoafpAu15l6yZoNeUNgCF0fArQIQoHQvLvpHz23mS6OdKSX9sMrLtdLytim6MvbEPUbLUAT2qErqPXrZ@2pcIwIiLAiLiL6bbTczlNDhEEVhZL3CQXfX118" rel="nofollow noreferrer" title="C# (.NET Core) – Try It Online">Try it online!</a></p>
<p>Takes a string as an input and outputs the 'squared' number as a float.</p>
<hr />
<p>This code follows the following algorithm:</p>
<ol>
<li><p>Create a new string from the input, but without the decimal points and symbols, so we can get our length and the numbers for the columns from there.</p>
</li>
<li><p>Calculate the input times the length of the string we created at point 1.</p>
</li>
<li><p>For each column in our 'square', create a new string with the column number and the row length and add it to our result.</p>
</li>
</ol>
<p>Example:</p>
<p>Input: <code>-135.5</code></p>
<ol>
<li>If we replace decimal points and symbols we get the string <code>1355</code>, which has a length of <code>4</code>.</li>
<li>The input times 4: <code>-135.5 * 4 = -542</code>.</li>
<li>Now we create new strings for each column, parse them and add them to our result:<br />
<code>1111</code>, <code>3333</code>, <code>5555</code>, <code>5555</code>.</li>
</ol>
<p>If we sum these numbers up we get <code>15012</code>, which is exactly what our program will output.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 68 <s>70</s> <s>73</s> <s>77</s> bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda n:sum(float(n)+int(_*sum(x&gt;"/"for x in n))for _ in n if"/"&lt;_)
</code></pre>

<p><a href="https://tio.run/##ZY3dCsIwDEbvfYqymzWKc/2ZTFGfRCgVKRa2dMwJ8@lruwshmquck@TL8J4eAVV052vsbH@7W4bH56vnrgt24ggbjxM366zmS7ErXBjZzDwyBMi9WXrmXZqdDMRhzAeOl0KqEmD1ZdW2hA@piKgJ0eXtnqJsKAutiUjPK013pNaVpIZm1L8Xf0IsAfED" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p>Loops over every digit character and repeats it by the number of digit characters overall, makes that into an integer, and adds that to <code>n</code>. This way <code>n</code> gets added <code>d</code> times, the horizontal part of the sum, along with the digit repetition, which is the vertical part. Originally used <code>str.isdigit</code> but <code>&gt;"/"</code>, thanks to others in this thread, saved a lot of bytes. Saves two bytes by taking <code>n</code> as a string, but the output is messier.</p>



<pre class="lang-python prettyprint-override"><code>lambda n:sum(n+int(_*sum(x&gt;"/"for x in str(n)))for _ in str(n)if"/"&lt;_)
</code></pre>

<p><a href="https://tio.run/##Vc3BCsIwDAbgu09RdmoU59ZG2UR9EqFMpFhw2eg6mE9fW0SMOeVL/pDxFR4D6WjP1/js@tu9E3Sc5l7SxlGQZp375VLsCjt4sQhHYgpeEgDkgfkNnE2hk4E4@nxpZa00wOor3TRMbSrGivU8tj1wqD1XjciYnpXI9wqxVNz8tvrPfhjf" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a>, <s>100</s> 82 bytes</h1>



<p>Thanks a lot @TomCarpenter for teaching me that assignments have a return value and saving me <code>18</code> bytes!</p>

<pre class="lang-matlab prettyprint-override"><code>@(v)(n=nnz(s=strrep(num2str(abs(v)),'.','')-'0'))*v+sum(sum(s'*logspace(0,n-1,n)))
</code></pre>

<p><a href="https://tio.run/##HcnBCsIwDIDhV/GWZKayzl0Lew/1EEftxWWjWQv68nV4@OGDf513qbGlcG8TVkINql@0YHvOcUMty3AQ5WnHJYYLMAA56IGoq2crC/6D7r0m22SO2LM6z0pETXKWz6soJj7d/HBl58fxQe0H" rel="nofollow noreferrer" title="Octave – Try It Online">Try it online!</a></p>

<h3>Ungolfed/Explanation</h3>

<pre class="lang-matlab prettyprint-override"><code>function f=g(v)
  s=strrep(num2str(abs(v)),'.','')-'0';  % number to vector of digits (ignore . and -)
  n=nnz(s);                              % length of that vector
  f=n*v+sum(sum(s'*logspace(0,n-1,n)))   % add the number n times and sum the columns of the square
end
</code></pre>

<p>The way this works is that we basically need to add the number itself <code>n</code> times and then add the sum of the columns. Summing <code>s' * logspace(0,n-1,n)</code> achieves the sum of columns, for example if <code>v=-123.4</code> that matrix will be:</p>

<pre class="lang-matlab prettyprint-override"><code>[ 1     10    100   1000;
  2     20    200   2000;
  3     30    300   3000;
  4     40    400   4000 ]
</code></pre>

<p>So we just need to <code>sum</code> it up and we're done.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://swift.org/blog/swift-4-0-release-process/" rel="nofollow noreferrer">Swift 4</a>, <s>139</s> 134 bytes</h1>

<pre class="lang-swift prettyprint-override"><code>func f(s:String){let k=s.filter{&quot;/&quot;&lt;$0};print(Float(s)!*Float(k.count)+k.map{Float(String(repeating:$0,count:k.count))!}.reduce(0,+))}
</code></pre>
<p><a href="http://swift.sandbox.bluemix.net/#/repl/597d7ba8c5cfd27e04c56f0d" rel="nofollow noreferrer">Test Suite.</a></p>
<hr />
<h1>Explanation</h1>
<ul>
<li><p><code>func f(s:String)</code> - Defines a function <code>f</code> with an explicit String parameter <code>s</code>.</p>
</li>
<li><p><code>let k=s.filter{&quot;/&quot;&lt;$0}</code> - Filters the digits: I noticed that both <code>-</code> and <code>.</code> have smaller ASCII-values than all the digits, and <code>/</code> is between <code>.</code>, <code>-</code> and <code>0</code>. Hence, I just checked if <code>&quot;/&quot;</code> is smaller than the current character, as I did in my Python answer.</p>
</li>
<li><p><code>print(...)</code> - Prints the result.</p>
</li>
<li><p><code>Float(s)!*Float(k.count)</code> - Converts both the String and the number of digits to Float and multiplies them (Swift does not allow Float and Int multiplication :()). So it adds the number <code>x</code> times, where <code>x</code> is the number of digits it contains.</p>
</li>
<li><p><code>k.map{Int(String(repeating:$0,count:k.count))!</code> - <code>k.map{}</code> maps over <code>k</code> with the current value <code>$0</code>. <code>String(repeating:$0,count:k.count)</code> takes each digit, creates a String of <code>x</code> identical digits and <code>Float(...)!</code> converts it to a Floating-point number.</p>
</li>
<li><p><code>.reduce(0,+)</code> - Gets the sum of the list above.</p>
</li>
<li><p>And finally <code>+</code> sums the two results.</p>
</li>
</ul>
<hr />
<h1>Let's take an example!</h1>
<p>Say our String is <code>&quot;0.45&quot;</code>. First off, we filter the digits, so we are left with <code>0, 4, 5</code>. We convert <code>&quot;0.45&quot;</code> to Float and multiply by the number of digits: <code>0.45 * 3 = 1.35</code>. Then we take each digit and turn it into a String repeating that digit until it fills the width of the square (how many digits there are): <code>0, 4, 5 -&gt; 000, 444, 555</code>. We sum this, <code>000 + 444 + 555 = 999</code>. Then we just add the results together: <code>1.35 + 999 = 1000.35</code>.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>81</s> 74 bytes</h1>
<p><b><i>-7 bytes thanks to @Mr. Xcoder</i></b>: <code>'/'&lt;i</code></p>
<ul>
<li>Takes in integer or float, returns float.</li>
</ul>

<pre class="lang-python prettyprint-override"><code>lambda x:sum(float(i*len(z))for z in[[i for i in`x`if&quot;/&quot;&lt;i]]for i in[x]+z)
</code></pre>
<p><a href="https://tio.run/##PYphC4IwEIa/71cMP221TOcKk/ola6BRwwPdxBbY/vw6gzq495734aZ36L2TyV6uaejG272jS/N8jcwOvgsMNsPDsci59TONFJzWQFcG5HZpwWb77AzG/JxezDby9K@lrASp6lqQE44ghSDIuyOuPGCUSgmCT7nCJpXKJR70xVesaZppBheoZcDTBw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<h2>Explanation:</h2>
<p>Say <code>123.45</code> is given as input. <code>[i for i in`x`if&quot;/&quot;&lt;x]</code> gives a list of stringified integers <code>['1','2','3','4','5']</code> (which is also <code>z</code>). Now we iterate through <code>[x]+z</code> i.e. <code>[123.45,'1','2','3','4','5']</code>, multiplying each element by <code>len(z)</code>, here <code>5</code> and converting each to a Float (so that strings also convert accordingly), yielding <code>[617.25,11111.0,22222.0,33333.0,44444.0,55555.0]</code>. Finally we calculate the <code>sum(...)</code> and obtain <code>167282.25</code>.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>95 94 87 85</s> 84 bytes</h1>



<pre class="lang-python prettyprint-override"><code>def f(i):l=[x for x in i if"/"&lt;x];k=len(l);print(k*float(i)+sum(int(x*k)for x in l))
</code></pre>

<p><a href="https://tio.run/##PU3BDsIgFLu/ryCcYIa5MWbm5v7Cm/FgJmRkCMtkEb8e4WIPTdqm7fr1s7NNnNxTjhjj@JQKKaJpb8ZbQMptKCBtkUZa4SO@hPuwjEZaYuiwbtp6shTKuIdPlcN7f5FshWKh/6ahNKZBu@6eUJou4DNrI9F122Uvg5xI/qax5g00XQfnBKigA3YCxltgtRCQwlK0wIUoOXBgVVaZfg" rel="nofollow noreferrer">Test Suite</a>.</p>

<h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 78 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda x:sum(float(i*len(z))for z in[[i for i in str(x)if"/"&lt;i]]for i in[x]+z)
</code></pre>

<p><a href="https://tio.run/##PYpBDsIgEEX3nIJ0BYq1BTS10ZNUFhglTkKhaTGpvTxOTXSS@fP@ywzv9IxBZXe5Zm/7293SuZ1ePXM@2sRg4x@BLZy7ONKFQug6oCsDMp3SyGYOrtgXZzDm57vZbBee/7WWShDVNIKccASpBEHeHXHlAaPWWhB8KjU2qXUp8aCvvmJN0w4jhMQcA87zBw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Test Suite.</a></p>

<p>The second approach is a port to Python 3 inspired by @officialaimm's solution.</p>
</div>
<div id="pu17" class="pu"><h2><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 15 bytes</h2>

<pre><code>§+ȯṁrfΛ±TṁrSR#±
</code></pre>

<p>Takes a string and returns a number.
<a href="https://tio.run/##yygtzv7//9By7RPrH@5sLEo7N/vQxhAQKzhI@dDG////K@ka6JmYKgEA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<p>It's a bit annoying that the built-in parsing function <code>r</code> gives parse errors on invalid inputs instead of returning a default value, which means that I have to explicitly filter out the columns that consist of non-digits.
If it returned 0 on malformed inputs, I could drop <code>fΛ±</code> and save 3 bytes.</p>

<pre><code>§+ȯṁrfΛ±TṁrSR#±  Implicit input, e.g. "-23"
             #±  Count of digits: 2
           SR    Repeat that many times: ["-23","-23"]
         ṁr      Read each row (parse as number) and take sum of results: -46
  ȯṁrfΛ±T        This part is also applied to the result of SR.
        T        Transpose: ["--","22","33"]
     fΛ±         Keep the rows that contain only digits: ["22","33"]
   ṁr            Parse each row as number and take sum: 55
§+               Add the two sums: 9
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 23 bytes</h1>

<pre><code>{∋ịṫ}ᶠ⟨≡zl⟩j₎ᵐ;[?]zcịᵐ+
</code></pre>

<p><a href="https://tio.run/##SypKTM6ozMlPN/r/v/pRR/fD3d0Pd66ufbhtwaP5Kx51LqzKeTR/Zdajpr6HWydYR9vHViWDVGydoP3/v5KugZ6JqdL/KAA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>

<p>Brachylog doesn't go well with floats...</p>

<p>Explanation:</p>

<pre><code>{∋ịṫ}ᶠ⟨≡zl⟩j₎ᵐ;[?]zcịᵐ+ Takes string (quoted) input, with '-' for the negative sign
     ᶠ                  Return all outputs (digit filter)
{   }                    Predicate (is digit?)
 ∋                        An element of ? (input)
  ị                       Convert to number (fails if '-' or '.')
   ṫ                      Convert back to string (needed later on)
      ⟨   ⟩             Fork
       ≡                 Identity
         l               Length
                        with
        z                Zip
             ᵐ          Map
            ₎            Subscript (optional argument)
           j              Juxtapose (repeat) (this is where we need strings)
              ;         Pair with literal
               [ ]       List
                ?         ?
                  z     Zip
                   c    Concatenate (concatenate elements)
                     ᵐ  Map
                    ị    Convert to number
                      + Add (sum elements)
</code></pre>
</div>
<div id="pu19" class="pu"><h2>Haskell, <s>59</s> 56 bytes</h2>

<pre><code>f s|l&lt;-filter(&gt;'.')s=0.0+sum(read&lt;$&gt;(s&lt;$l)++[c&lt;$l|c&lt;-l])
</code></pre>

<p>The input is taken as a string.</p>

<p><a href="https://tio.run/##FYdLCsMgFACv8hAhilXsJ6ULk4uELCRVKn2G4Et3ubs1i5lhPp6@AbHWCHSg0zHhHooYO9NJGqyxin5ZlODfjo@CHEep1LS0HovTOMuafVphgK2kdQcO2W8QYWLX251d2Kuhn01tzaM/z56d6x8" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>How it works</p>

<pre><code>l&lt;-filter(&gt;'.')s      -- let l be the string of all the numbers of the input string
f s   = 0.0 + sum     -- the result is the sum of (add 0.0 to fix the type to float)
   read&lt;$&gt;            -- turn every string of the following list into a number
   s&lt;$l               -- length of l times the input string followed by
   [c&lt;$l|c&lt;-l]        -- length of l times c for each c in l   
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="http://pyth.readthedocs.io" rel="nofollow noreferrer">Pyth</a>, <s>21</s> 20 bytes</h1>
<pre><code>K@jkUTQ+smv*lKdK*lKv
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=K%40jkUTQ%2Bsmv%2alKdK%2alKv&amp;test_suite=1&amp;test_suite_input=%22123%22%0A%22388%22%0A%229999%22%0A%220%22%0A%228%22%0A%22-6%22%0A%22-25%22%0A%22-144%22%0A%22123.45%22%0A%22244.2%22%0A%222%22%0A%22-0.45%22%0A%220.45%22&amp;debug=0" rel="nofollow noreferrer">Test suite.</a></p>
<p>Uses a completely different approach from <a href="https://codegolf.stackexchange.com/questions/136564/square-a-number-my-way/136575#136575">@EriktheOutgolfer's answer</a>, which helped me golf 1 byte in chat, from 22 to 21.</p>
<hr />
<h1>Explanation</h1>
<pre>
K@jkUTQ+s.ev*lKbK*lKv

K@jkUTQ                   - Filters the digits and assigns them to a variable K.
         m                - Map. Iterated through the digits with a variable d
           v              - Evaluate (convert to float).
            *lKd          - Multiplies each String digit by the length of K.
        s                 - Sum
       +                  - Sum
                 *lKvQ    - Multipies the number  by the length of the digits String
</pre>
</div>
<div id="pu21" class="pu"><h1>Pyth, 18 bytes</h1>

<pre><code>s+RvQsM*RF_lB@jkUT
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=s%2BRvQsM%2aRF_lB%40jkUT&amp;input=%22-0.45%22&amp;debug=0" rel="nofollow noreferrer">Try it here.</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="noreferrer">Japt v2</a>, 16 bytes</h1>

<pre><code>o\d
l
¬xpV +V*Ng
</code></pre>

<p><a href="http://ethproductions.github.io/japt/?v=2.0a0&amp;code=b1xkCmwKrHhwViArVipOZw==&amp;input=Ii0wLjQ1Ig==" rel="noreferrer">Test it online!</a></p>

<h3>Explanation</h3>

<pre><code>o\d    First line: Set U to the result.
o      Keep only the chars in the input that are
 \d      digits. (literally /\d/g)

l    Second line: Set V to the result.
l    U.length

¬xpV +V*Ng    Last line: implicitly output the result.
¬             Split U into chars.
 x            Sum after
  pV            repeating each V times.
     +V*Ng    Add V * first input (the sum of the horizontals) to the result.
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 7 bytes</h1>

<pre><code>þSDg×+O
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f//8L5gl/TD07X9///XNdAzMQUA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p>Explanation</p>

<pre><code>þSDg×+O Implicit input
þ       Keep digits
 S      Get chars
  D     Duplicate
   g    Length
    ×   Repeat string(s)
     +  Add (implicit input added to all elements)
      O Sum
</code></pre>
</div>
<div id="pu24" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 13 </s> 12 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>fØDẋ€L$ŒV+VS
</code></pre>
<p>A monadic link accepting a list of characters (a well-formed decimal number, the single leading zero being a requirement for <strong>-1 &lt; n &lt; 1</strong>) and returning a number.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/z/t8AyXh7u6HzWt8VE5OilMOyz4////SroGeiamSgA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<p>14 bytes to accept and return numbers (input limited at <strong>+/-10<sup>-5</sup></strong> by <code>ŒṘ</code>): <code>ŒṘfØDẋ€L$ŒV+⁸S</code>.</p>
<h3>How?</h3>
<pre><code>fØDẋ€L$ŒV+VS - Link: list of characters         e.g. &quot;-0.45&quot;
 ØD          - yield digit characters                &quot;0123456789&quot;
f            - filter keep                           &quot;045&quot;
      $      - last two links as a monad:
     L       -   length (number of digit characters) 3
   ẋ€        -   repeat list for €ach digit          [&quot;000&quot;,&quot;444&quot;,&quot;555&quot;]
       ŒV    - evaluate as Python code (vectorises)  [0,444,555]
          V  - evaluate (the input) as Jelly code    -0.45
         +   - addition (vectorises)                 [-0.45,443.55,554.55]
           S - sum                                   997.65
</code></pre>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 17 bytes</h1>

<pre><code>ŒṘfØDẋ€L©$ŒV;ẋ®$S
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///opIc7Z6QdnuHycFf3o6Y1PodWqhydFGYN5B1apxL8//9/XQM9E1MA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/136564/">136564</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




