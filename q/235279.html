<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::235279</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>025</td><td>Pip</td><td>210914T171918Z</td><td><a href="https://codegolf.stackexchange.com/questions/235279/implement-a-2-tag-system-simulator/235309#235309">DLosc</a></td></tr>
<tr d-ix="1"><td>035</td><td>Charcoal</td><td>211001T142705Z</td><td><a href="https://codegolf.stackexchange.com/questions/235279/implement-a-2-tag-system-simulator/235883#235883">Neil</a></td></tr>
<tr d-ix="2"><td>056</td><td>Python 3.8 prerelease</td><td>210913T024611Z</td><td><a href="https://codegolf.stackexchange.com/questions/235279/implement-a-2-tag-system-simulator/235286#235286">wasif</a></td></tr>
<tr d-ix="3"><td>062</td><td>jq</td><td>210916T002107Z</td><td><a href="https://codegolf.stackexchange.com/questions/235279/implement-a-2-tag-system-simulator/235382#235382">DLosc</a></td></tr>
<tr d-ix="4"><td>060</td><td>PowerShell Core</td><td>210913T013352Z</td><td><a href="https://codegolf.stackexchange.com/questions/235279/implement-a-2-tag-system-simulator/235284#235284">Julian</a></td></tr>
<tr d-ix="5"><td>019</td><td>05AB1E</td><td>210913T102359Z</td><td><a href="https://codegolf.stackexchange.com/questions/235279/implement-a-2-tag-system-simulator/235292#235292">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>056</td><td>Python 3</td><td>210913T094143Z</td><td><a href="https://codegolf.stackexchange.com/questions/235279/implement-a-2-tag-system-simulator/235291#235291">tsh</a></td></tr>
<tr d-ix="7"><td>048</td><td>JavaScript Node.js</td><td>210913T091443Z</td><td><a href="https://codegolf.stackexchange.com/questions/235279/implement-a-2-tag-system-simulator/235289#235289">tsh</a></td></tr>
<tr d-ix="8"><td>029</td><td>Jelly</td><td>210912T190602Z</td><td><a href="https://codegolf.stackexchange.com/questions/235279/implement-a-2-tag-system-simulator/235281#235281">Jonathan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a>, <s>27</s> 25 bytes</h1>
<pre><code>W#Sb&amp;a~@b.sbPB$'~KXW@&gt;:2b
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m724ILNgwYKlpSVpuhY7w5WDk9QS6xyS9IqTApxU1Ou8I8Id7KyMkiDyUGV7o5USFZKTkxI9rJOAdKJ1MpBU0lFQSkpMVIqFKgIA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>The tag definitions and the initial word are taken as command-line arguments. Each definition is given as alphabet symbol + space + string, and definitions are separated by any non-space non-alphanumeric symbol. For example:</p>
<pre><code>a bc;b a;c aaa
</code></pre>
<p>This will need to be quoted so the command-line treats it as a single argument.</p>
<h3>Explanation</h3>
<pre class="lang-lisp prettyprint-override"><code>W#Sb&amp;a~@b.sbPB$'~KXW@&gt;:2b
                           ; a, b are cmdline args; s is space; XW is `\w` (implicit)
W                          ; While
 #                         ;  length of
  Sb                       ;  longest suffix of b (the current word)
                           ;  is nonzero (i.e. length of b is at least 2)
    &amp;                      ; and
       @b                  ;  first character of b
         .s                ;  concatenated to a space
     a~                    ;  matches somewhere in a (the definitions)
                           ; do:
           bPB             ;   Push this string onto the end of b:
              $'           ;     In the part of a after the match,
                ~          ;     find the first match of:
                  XW       ;       Word character: \w
                 K         ;       with Kleene star operator: \w*
                           ;     i.e. the definition of the current character
                    @&gt;:2   ;   Set b to all but the first two characters of b
                        b  ; After the loop, output the final value of b
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 35 bytes</h1>
<pre><code>ＳθＷＳ⊞υιＷ∧⊖ＬθΦυ⁼§θ⁰§κ⁰≔⭆⟦θ⊟ι⟧Φκ›ν¹θθ
</code></pre>
<p><a href="https://tio.run/##TU7LCsIwELznK3LcQAS91lPBBwWFgkfxkKZLE4xpm4f69zFBfMxpZ3dmdqQSTo7CpNTYKYZTcNoOMLM1eShtkML/mjHaRq8gcqp/itr2sEHp8IY2YA8HtENQOYNxutMmoCuG7RyF8VCHxvb4hJnTZb5/6LXQAlp7rwcL749HMcE5S9txAs0u37ws3zsUZbScrlh5VTq32RRK@5REBhFVJ0lXCSKrQtPibl4" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as the string to be transformed followed by a list of transformations in the form <code>symbol:stringofsymbols</code>. Explanation:</p>
<pre><code>Ｓθ
</code></pre>
<p>Input the string to be transformed.</p>
<pre><code>ＷＳ⊞υι
</code></pre>
<p>Input the list of transformations.</p>
<pre><code>Ｗ∧⊖ＬθΦυ⁼§θ⁰§κ⁰
</code></pre>
<p>Repeat while the string is longer than a single character and the first character is the first character of one of the transformations.</p>
<pre><code>≔⭆⟦θ⊟ι⟧Φκ›ν¹θθ
</code></pre>
<p>Remove the first two characters from the string and the matching transformation and concatenate the result.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 56 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda a,d:a[:len(a)&gt;1]in d and f(a[2:]+d[a[0]],d)or a
</code></pre>
<p><a href="https://tio.run/##Zcy9CsMgGIXhPVfh9il16M9SBDvnHsTh6NfQQGpEspTSa7cizdTtHc5z8mt7rOlyzaXWyS54BoaAZgNnlnuSULeTn5NggcRiknBn4w/s4I7ea1ZrEahs3wQyFGPASJpCb7SKvegzwFIAaMhlTptsP82qYYch/tRu0LYdAX@qfgE" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>-4 thanks to @JonathanAllan</p>
<p>-3 thanks to @Neil</p>
<p>Normal recursive approach</p>
<p>Takes a string and a dictionary of transformations</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://stedolan.github.io/jq/" rel="nofollow noreferrer">jq</a>, 62 bytes</h1>
<pre><code>.P as$P|.w|until(length&lt;2//(.[:1]|in($P)|not);.[2:]+$P[.[:1]])
</code></pre>
<p>Takes input as a JSON object with keys <code>P</code> and <code>w</code>. The value of <code>P</code> is an object whose keys are alphabet symbols and whose values are their associated strings. The value of <code>w</code> is the initial word. <a href="https://tio.run/##yyr8/18vQCGxWCWgRq@8pjSvJDNHIyc1L70kw8ZIX19DL9rKMLYmM09DJUCzJi@/RNNaL9rIKlZbJSAaLBWr@f9/tVKAkpVCtVIikFRKSlbSAZIgZiKIlQxmJYLZKSC2Ui2QVQ4VTVSq5ULRnpyclOgBNyE5GWFGcjJCZxJIIwA" rel="nofollow noreferrer" title="jq – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>.P as $P |    Store the P mapping in the variable $P
.w |          The rest of the program will manipulate the input word
until (       Until this condition is true...
  length &lt; 2    The length of the word is less than 2
  // (          or:
    .[:1] |       The first character of the word
    in($P) |      Is a key in $P
    not)          Make that &quot;is NOT a key in $P&quot;
  ;           ...update the word to be the following:
  .[2:] +       The word minus its first two characters, plus
  $P[           the value in $P at this key:
    .[:1]         The first character in the word
  ])
              When the loop exits, return the final value of the word
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell Core</a>, <s>68</s> 60 bytes</h1>

<pre class="lang-powershell prettyprint-override"><code>for($a,$d=$args;$a[1]-and($u=$d[$a[0]])){$a=$a+$u|% Su* 2}$a
</code></pre>
<p><a href="https://tio.run/##bY9dS4RAFIbv/RXDcAothepWBGHZ2LuijW5E4nicbQ1bt/mgwvW32@hsuwqdC8dXn/O8zL75ElJtRV1H1EjRwyZp@00jfcAQygRQvqkYMLvNI9yVPpgEyszmmzwPghbQEtdgDhdsba7YXQfYd56X@h6zE7LUT1uO3NIsYbwgHtvnX8Qh0SkhctaF4wvy4eTBvxaiAlczEdFcReRMhROtaJzBF7ADu2/kEmkbPRTvgjRrxxIoK9JVs0P5EzKodpWusH7B2ggbxffekqK0bniNHS@FMrW2Xy5hM1@YuhycPa4XRunmw1XmqescZm2IhFJsUB@Vkfg8V8Yn8lkovUAlBnJadyae3P7Edf63nFxh7u68zut/AQ" rel="nofollow noreferrer" title="PowerShell Core – Try It Online">Try it online!</a></p>
<p>Takes two parameters:</p>
<ul>
<li>the string to process</li>
<li>a dictionary of char / strings</li>
</ul>
<h3>Explanations</h3>
<pre class="lang-powershell prettyprint-override"><code>for($a,$d=$args;   # Sets the variables $a, the string to process and $d the dictionary of transformations
$a[1]-and          # While there is more than 1 character left
($u=$d[$a[0]])){   # And there is a transformation for the first character of $a, store the transformation in $u
$a=$a+$u|% Su* 2}  # Concatenates $a and $u and takes all the characters from the second position
$a                 # return $a when it is 1 char long or we hit a halting symbol
</code></pre>
<p>-2 bytes thanks to <em>wasif</em>!<br>
-6 bytes thanks to <em>Zaelin Goodman</em>!</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>20</s> 19 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>[Dg#¬UI.ΔнXQ}Ä#θ«¦¦
</code></pre>
<p>Inputs in the order <code>string, map</code>, where the map are key-value pairs as space-delimited strings.</p>
<p><a href="https://tio.run/##yy9OTMpM/f8/2iVd@dCaUE@9c1Mu7I0IrD3conxux6HVh5YdWvb/f1JiIle0UqJCcnJSooeSjlISkJUIpJOBtFIsAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/W/k5ulir6SQmJeioGTveWglkP2obRKQ/T/aJV350JrQQ@v0zk25sDcisPZwi/K5HYdWH1p2aNn/Wp3/iUDAFa2UqJCUrKSjlKSQCCSTFYCCSrFcSVCp5OSkRA@wbHIyRD45WSkWAA" rel="nofollow noreferrer">verify both test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>[               # Start an infinite loop:
 D              #  Duplicate the current string (or the implicit first input-string in
                #  the first iteration)
  g             #  Pop and get its length
   #            #  If its length is 1: stop the infinite loop
                #  (after which the duplicated string is output implicitly as result)
   ¬            #  Else: get the first character (without popping the string)
    U           #  Pop and store this head in variable `X`
     I          #  Push the second input-list of pairs
      .Δ        #  Find the first which is truthy for:
        н       #   Where its first item (the key)
         XQ     #   Equals head `X`
       }        #  Close the find-first (this will result in -1 if none were found)
        Ä       #  Get the absolute value (no-op for a pair of strings)
         #      #  If this is 1: stop the infinite loop
                #  (after which the string is output implicitly as result)
         #      #  Else: the `#` will act as a 'split-on-spaces' instead
          θ     #  Pop and leave last item (the value)
           «    #  Append it to the string
            ¦¦  #  And remove the first two characters
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 56 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(a,d):
 try:x,y,*z=a;a[:]=*z,*d[x];f(a,d)
 except:0
</code></pre>
<p><a href="https://tio.run/##bcy/CsMgEMfx/Z7C7VQcCt0M7n2HkOH8ExooqaQOMaHPbhtSEKHj9@7HJ@Z0f87XUnwY2chJeaGBpSXrVWUlN0Md9XowclPS9@vQnRtgYXUhJn0p3uxIqB/TK3F0ztINhUJbL3S0q43iDWTOsvT9ws@MyzQnTgKgMa1rwJajA6ge0T@wfAA" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>This function take input as a list of chars, and a dict of char to list of chars. And it returns by modify <code>a</code> in-place.</p>
<hr />
<p>And if terminating the function by an exception is allowed, it could be even shorter:</p>
<h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 40 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(a,d):x,y,*z=a;a[:]=*z,*d[x];f(a,d)
</code></pre>
<p><a href="https://tio.run/##jY27CsMgAEV3v6KbD9y6Gdz7DyHD9REaKKlEB5PQb7cNDuLW8dwL54Q9Pd/rvRTn59vMIB1XWe5SHBoDRjVpcUjhxjwN9S1OnxRUvZaYGLXW4EG5pKYtuNg2pvxDoCsZ/F6Stl1VG/HZ@pBUQIwkbMuaGDghXcPYLtDrcQmbH/gnUL4" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 48 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>p=&gt;g=a=&gt;p[[x,y,...z]=a,x]&amp;&amp;y?g([...z,...p[x]]):a
</code></pre>
<p><a href="https://tio.run/##bY1NCsIwEEb3HqSTwJgDVFK33iFkMY1tUEoTrEiqePbYJP6Ci4HvezO8OdKFJnM6@PN6dPsu9jJ62VhJsvFKBZxRCHHVkjDoqpq3lqkEEvUqaM1risaNkxs6MTjLenYDglpBCwgGNC5haZSSKQmfo@@cfffMON@s/vpM9mH2ptvd2/3afH4UUvztjzs@AA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 29 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<p><sup>Feels clunky to me at present.</sup></p>
<pre><code>ZḢiȧị¥⁸0ị
;1ịç@ɗ¥⁹ḊḊʋḊȦ$¡ƬẠƇṪ
</code></pre>
<p>A dyadic Link that accepts the initial word on the left and the production rules (<span class="math-container">\$P\$</span>) on the right and yields the result.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/z/q4Y5FmSeWP9zdfWjpo8YdBkAGl7UhkDy83OHkdJDYzoc7uoDoVDeQOLFM5dDCY2se7lpwrP3hzlX/Dy@PcnvUtMbw0LKoY121//@rJyUmqv@PjlZPVNdRUEpOTkr0UIrVUYhWT4LwEyG8ZAhPKTYWAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (Each production rule is <code>[chr, [chr, ...]]</code>, but a list of these cannot be passed as an argument to a program so the footer translates them from a list of <code>[[chr], [chr, ...]]</code>)</p>
<h3>How?</h3>
<pre><code>ZḢiȧị¥⁸0ị - Link 1, get new characters (or zero): rules, R; character, C
Z         - transpose (R)
 Ḣ        - head -&gt; alphabet
  i       - first 1-indexed index of (C) in (alphabet) or, when C=Halt, zero
     ¥⁸   - last two links as a dyad, f(I=that, R)
    ị     -   (I) index into (R)
   ȧ      -   (I) logical AND (that) -&gt; relevant rule or zero
       0ị - tail -&gt; new characters or zero

;1ịç@ɗ¥⁹ḊḊʋḊȦ$¡ƬẠƇṪ - Link: initial word, W; rules, R
               Ƭ    - collect up, starting with W, while no duplicates found with:
              ¡     -   repeat...
             $      -   ...number of times: last two links as a monad, f(current):
           Ḋ        -     dequeue
            Ȧ       -     has elements and none are zero (found when processing a halt)
          ʋ         -   ...what: last four links as a dyad, f(current, R)
       ⁹            -     right argument, R
      ¥             -     last two links as a dyad, f(current, R)
     ɗ              -       last three links as a dyad, f(current, R)
 1                  -         one
  ị                 -         index into (current) -&gt; head character
   ç@               -         call Link 1 as a dyad, f(R, character)
;                   -       (current) concatenate (that)
        Ḋ           -     dequeue
         Ḋ          -     dequeue
                 Ƈ  - keep those for which:
                Ạ   -   all truthy (are not the result of processing a halt)
                  Ṫ - tail
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/235279/">235279</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




