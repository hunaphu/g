<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::251897</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td></td><td>241217T030234Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/277305#277305">user2166</a></td></tr>
<tr d-ix="1"><td>100</td><td>PHP</td><td>220917T161629Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251977#251977">huanglx</a></td></tr>
<tr d-ix="2"><td>144</td><td>Python 3</td><td>220915T173321Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251932#251932">SectorCo</a></td></tr>
<tr d-ix="3"><td>084</td><td>Excel</td><td>220916T153641Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251959#251959">Engineer</a></td></tr>
<tr d-ix="4"><td>nan</td><td>C clang</td><td>220915T065236Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251908#251908">mousetai</a></td></tr>
<tr d-ix="5"><td>081</td><td>Knight v2.0alpha</td><td>220918T055833Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251989#251989">Sampersa</a></td></tr>
<tr d-ix="6"><td>092</td><td>Python 3.8</td><td>220917T222537Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251980#251980">Albert K</a></td></tr>
<tr d-ix="7"><td>029</td><td>Pyth</td><td>220915T021303Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251904#251904">hakr14</a></td></tr>
<tr d-ix="8"><td>093</td><td>Python 3</td><td>220916T223505Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251968#251968">Zachary </a></td></tr>
<tr d-ix="9"><td>067</td><td>JavaScript ES6</td><td>220914T230349Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251902#251902">Arnauld</a></td></tr>
<tr d-ix="10"><td>098</td><td>Python</td><td>220915T203942Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251943#251943">Tess2552</a></td></tr>
<tr d-ix="11"><td>299</td><td>sed E</td><td>220915T190156Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251939#251939">Jiř&#237</a></td></tr>
<tr d-ix="12"><td>034</td><td>Charcoal</td><td>220915T195109Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251942#251942">Neil</a></td></tr>
<tr d-ix="13"><td>090</td><td>Retina 0.8.2</td><td>220915T190030Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251938#251938">Neil</a></td></tr>
<tr d-ix="14"><td>024</td><td>Jelly</td><td>220915T181849Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251936#251936">Jonathan</a></td></tr>
<tr d-ix="15"><td>124</td><td>Red</td><td>220915T084721Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251912#251912">Galen Iv</a></td></tr>
<tr d-ix="16"><td>026</td><td>05AB1E</td><td>220915T075336Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251910#251910">Kevin Cr</a></td></tr>
<tr d-ix="17"><td>038</td><td>APLDyalog Unicode</td><td>220914T220901Z</td><td><a href="https://codegolf.stackexchange.com/questions/251897/compute-gpa-for-a-set-of-grades/251899#251899">Ad&#225;</a></td></tr>
</table>
<div id="pu0" class="pu"><p>Here is the basic steps:</p>
<ol>
<li><strong>Define a conversion scale</strong>: Map letter grades (A, B, C, etc.) to their respective grade points.</li>
<li><strong>Input the grades</strong>: Accept an array of letter grades.</li>
<li><strong>Convert to grade points</strong>: Use the defined conversion scale to get the grade points for each letter.</li>
<li><strong>Find the average</strong>: Add all the grade points together, divide by the total number of grades, and round to one decimal place.</li>
</ol>
<p>In Javascript implementation:</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false" data-babel-preset-react="false" data-babel-preset-ts="false">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>function calculateGPA(grades) {
    // Map of letter grades to grade points
    const gradePoints = {
        A: 4.0,
        A_minus: 3.7,
        B_plus: 3.3,
        B: 3.0,
        B_minus: 2.7,
        C_plus: 2.3,
        C: 2.0,
        C_minus: 1.7,
        D_plus: 1.3,
        D: 1.0,
        F: 0.0,
    };

    // Accumulate grade points
    let totalPoints = 0;
    grades.forEach((grade) =&gt; {
        totalPoints += gradePoints[grade] || 0; // Use 0 if the grade is invalid
    });

    // Calculate GPA
    const gpa = totalPoints / grades.length;
    return Math.round(gpa * 10) / 10; // Round to 1 decimal place
}

// Example usage
const grades = ["A", "B", "B_plus", "C", "A_minus"];
console.log(calculateGPA(grades)); // Output: 3.2</code></pre>
</div>
</div>

<a href="https://officeessence.net/calculators/gpacalc" rel="nofollow noreferrer">Try this implementation online</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, <s>165</s> 100 bytes</h1>
<p>Thanks to <a href="https://codegolf.stackexchange.com/users/92689/steffan">@Steffan</a> for the whopping 39% size reduction.</p>

<pre class="lang-php prettyprint-override"><code>function($a){foreach($a as$v)$r+=strpos(&quot;FDCBA&quot;,$v[$l++*0])+($v[1]?$v[1]..3:0);echo round($r/$l,1);}
</code></pre>
<p><a href="https://tio.run/##TY/NToNAFIX3PMUNmaQzzhRLq9FYa20hTdy40R2Shp@hNEEgM7SamD6FCzc@nS9SL0OtTYDM@e65Zw51Xu9vp3VeWySDCeyzTZk066qkJGIfWaVklOR4hkiTLSOKT3Sj6kpTe@F785ktyDYgBedng5BxisINp@brOKObARvLJK9AVZsypUSdk0K4bLzbjy3rLV8XEijReGm2ko2mT8/@wyNj8GEBBCQSJA5xJt/rokol7cHkDnqiUetXXGJsjC6yUlEq9alLoEdvYiyJpYUr@m5nNT3wNxyw2yC7ZVW81E2kGmoc9ySjh8AuXJlkNGG7ZVLIqKQnUThtxToDyjvrBDiJWTfuwc/3Z8@4Cy07ZiP7Em1VmTQyBRLbxzj7pUSx2wezsK13YQULAe1j5MAKfC7A7xvlWsFMwFyAh8iQoXOJrI8QX69/dA6dofGaETc7824yckZdCtJZu/NPPUTeAfNDzNXflcdKrnP9Cw" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>
<h3>Original Solution</h3>

<pre class="lang-php prettyprint-override"><code>function($a){$i='array_search';$g=str_split(&quot;FDCBA&quot;);$r=0;foreach($a AS$v){@$r+=eval(&quot;return {$i($v[0], $g)}&quot;.($v[1]?$v[1].&quot;.3;&quot;:&quot;;&quot;));}die(round($r/count($a),1));};
</code></pre>
<p><a href="https://tio.run/##HY7LCoMwFET3/YoQLiTBRyvdNQ1WW/oDXRaRoPEBouEahVL67VbdHGYYZhjb2OUa28YeoCKKLNXUF64deg5afKFVTCPqTz4ajUXDJNRqdJiPtmsdp8/HPU2okIDqJKsBjS6atUiSF8ziewP0lJl1xykaN2FP1kEO8/uU@QRq8aPh5qIs3hnS8CzphUoqhPyVreE4TH3JAY/FKtz2yI@2TC5Q8TdLmE9YEmxMvZ07ApYJufwB" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>
<p>This is my first time golfing in PHP, so I probably missed a few places where I could have been more efficient.</p>
<h3>Original Explanation</h3>
<p>PHP is completely and utterly broken, which is why golfing in it is so fun. We approach this problem by using a string and splitting it, using the index as GPA value. The <code>array_search</code> function grabs the proper GPA value for us. We then use the <code>+</code> or <code>-</code> in the input to add or subtract <code>0.3</code> to the GPA value and use a standard algorithm to find the average value.</p>
</div>
<div id="pu2" class="pu"><h1>Python 3, <s>168 150</s> 144 bytes </h1>
<pre class="lang-python prettyprint-override"><code>lambda n:int(sum([{'A':4,'A-':3.7,'B+':3.3,'B':3,'B-':2.7,'C+':2.3,'C':2,'C-':1.7,'D+':1.3,'D':1,'D-':0.7,'F':0}[i]for i in n])/len(n)*10+.5)/10
</code></pre>
<p>Could save some bytes on the dictionary creation.</p>
<p>Returns a float.</p>
</div>
<div id="pu3" class="pu"><h1>Excel, <s>89</s>  84 bytes</h1>
<p><sup>Saved 5 bytes thanks to <a href="https://codegolf.stackexchange.com/posts/comments/561216">JvdV</a></sup></p>
<pre><code>=ROUND(AVERAGE(IF(A:A=0,&quot;&quot;,FIND(LEFT(A:A),&quot;FDCBA&quot;)-1+IFERROR(--RIGHT(A:A)&amp;.3,0))),1)
</code></pre>
<p>Input is in the first column. One grade per row. When you paste the formula, Excel will automatically add a leading zero so <code>.3</code> becomes <code>0.3</code>.</p>
<ul>
<li><code>ROUND(~,1)</code> will round the final result to one decimal place.</li>
<li><code>AVERAGE(~)</code> will average the array we're about to calculate.</li>
<li><code>IF(A:A=0,&quot;&quot;,~)</code> will ignore all the blank cells below the input. Without this, the above solution produces around 1 million zeroes so that throws off the average a bit.</li>
<li>BASE VALUE: <code>FIND(LEFT(A:A),&quot;FDCBA&quot;)-1</code> get the base GPA value of each letter from 0 - 4.</li>
<li>ADJUSTMENT VALUE: <code>IFERROR(--RIGHT(A:A)&amp;.3,0)</code>
<ul>
<li><code>RIGHT(A:A)&amp;.3</code> combines the right-most character (which may be a letter) with <code>.3</code>.</li>
<li><code>--~</code> tries to coerce that value into a number which throws an error if the right-most character was a letter since something like <code>--A.3</code> is not a number.</li>
<li><code>IFERROR(~,0)</code> corrects all those errors to <code>0</code> instead.</li>
</ul>
</li>
<li>When you add the base value and adjustment value (which may be negative), you get the GPA value for that letter grade.</li>
<li>All those grades are calculated individually and then averaged and rounded to one decimal place.</li>
</ul>
<p><a href="https://i.sstatic.net/KmpO0.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/KmpO0.png" alt="Screenshot" /></a></p>
</div>
<div id="pu4" class="pu"><h1><a href="http://clang.llvm.org/" rel="nofollow noreferrer">C (clang)</a>, <del>113</del> 96 bytes</h1>
<p>-17 bytes thanks to celingcat and jdt</p>

<pre class="lang-c prettyprint-override"><code>k;i;main(j){for(;gets(&amp;j);k++)i+=j%8&lt;5?50-j%8*10:0,i+=(j&gt;&gt;=8)?132-j*3:0;printf(&quot;%.1f&quot;,i/10./k);}
</code></pre>
<p><a href="https://tio.run/##DcjdCoMgGADQex8jaGj2lS6CyFXsh72HSIo/uVHdjb36XHeHo0AFGU1KXlixSBuxIx/9WrEw877hkyPCU0osHVzeXdqpZXCg4Kxn5ZHYjePQkYk3Z3BF0zPxXm3cNc7yiuustDVnVe2J@KZ0BXQDdAf0APT8KR2k2RKE5Q8" rel="nofollow noreferrer" title="C (clang) – Try It Online">Try it online!</a></p>
<p><a href="https://ato.pxeger.com/run?1=m700OT49OXnBgqWlJWm6FjcLs3UyrXMTM_M0sjSr0_KLNKzripMT89I0lFSLlXTUsjSts7W1NTO1bbNszA3sDc0tdA0NtLJUjUzNtDWy7Ows7A2NjXSNtcBsTSsDILIuKMrMKwEZoGeYpqSjkamdrW-kqZ-tb2igZ6BpXQuxGGr_gsUuXG4QJgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes input as one grade per line.</p>
<h2>Explanation</h2>
<pre class="lang-c prettyprint-override"><code>gets(&amp;j)
</code></pre>
<p>Read the string into a integer field <code>j</code>. This is perfectly valid in C, and is a compact way to read strings of upto 3 bytes long.</p>
<pre class="lang-c prettyprint-override"><code>j%8&lt;5
</code></pre>
<p>Check for F</p>
<pre class="lang-c prettyprint-override"><code>50-j%8*10
</code></pre>
<p>Extract the last byte from the string, this will be the letter (since little endian). 178-10*char will be the letter grade, 40, 30, 20, 10 etc.</p>
<pre class="lang-c prettyprint-override"><code>0,
</code></pre>
<p>I think this just changed the operator precidence? Not sure.</p>
<pre class="lang-c prettyprint-override"><code>i+=(j&gt;&gt;=8)?132-j*3:0
</code></pre>
<p>Add or subtract 3 depending on the sign, since <code>+</code> is 43 and <code>-</code> is <code>45</code></p>
<pre class="lang-c prettyprint-override"><code>printf(&quot;%.1f&quot;,i/10./k)
</code></pre>
<p>Round and print the final number as a float.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/knight-lang/knight-lang" rel="nofollow noreferrer">Knight</a> (v2.0-alpha), 81 bytes</h1>
<pre><code>O+++=s=n&quot;&quot;;W=gP;=n+1n=s++*100&amp;!?70=cA[g-69c*30&amp;]g-44A]g s/=q/+/s n 5=t 10t'.'%q t
</code></pre>
<p><a href="https://knight-lang.netlify.app/v2#WyJPKysrPXM9blwiXCI7Vz1nUDs9bisxbj1zKysqMTAwJiE/NzA9Y0FbZy02OWMqMzAmXWctNDRBXWcgcy89cS8rL3MgbiA1PXQgMTB0Jy4nJXEgdCIsIkFcbkEtXG5CK1xuQlxuQi0iXQ==" rel="nofollow noreferrer">Try it online!</a></p>
<p>The basic algorithm is as follows, with a few golfing optimizations added:</p>
<pre><code># Set `s` and `n` to the empty string. This could be any zero value,3
# but an empty string helps with `OUTPUT`
; + = s = n &quot;&quot;

# Each grade is on a separate line
; WHILE = grade PROMPT
    ; = n + 1 n # increment the amount of grades

    # The grade part is `100 * (c == 'F' ? 0 : 69 - c)`, 
    # ie the grade offset for normal grades, or `0` for `F`.
    ; = grade_part * 100 &amp;(!? 70 = c ASCII [grade) (- 69 c) #nice

    # The modifier is `grade.len == 1 ? 0 : 30 * (44 - grade[1].ascii)`
    ; = modifier_part * 30 (&amp; ]grade (- 44 ASCII ]grade))

    # `s` will be coerced to an int the first tiem around.
    : = sum ++ grade_part modifier_part s

# Calculate the average * 10. To accommodate the rounding rule,
# we add five, then divide (`sum`, which is 100x a GPA) by ten.
; = avg / (+ /sum n 5) 10

# Now, simply output the number in the float format
: OUTPUT ++(+ &quot;&quot; /avg 10) '.' (% avg 10)

<span class="math-container">```</span>
</code></pre>
</div>
<div id="pu6" class="pu"><h1>Python 3.8, <s>95</s> <s>93</s> 92 bytes</h1>
<pre><code>s=.01;i=0
for g,a,*_ in open(0):i+=1;s+='FDCBA'.find(g);exec(f's=s{a}.3')
exit(f'{s/i:.1f}')
</code></pre>
<p>Input (stdin)</p>
<pre><code>A
B+
C
D
</code></pre>
<p>Very straightforward. Open <code>stdin</code> with <code>open(0)</code>, then read each line with <code>for g</code>. Python has an annoying property where it leaves a trailing <code>\r</code> after each line, which we exploit in an f-string passed to <code>exec</code>. In case there's no appendix after grade, f-string becomes <code>s=s\r.3</code>, which is essentially a no-op. Very unsafe ;)</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, <s>24</s> 29 bytes</h1>
<pre><code>.OmeS,0v++&quot;14-0x&quot;d?tld&quot;.3&quot;;.z
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/X88/NzVYx6BMW1vJ0ETXoEIpxb4kJ0VJz1jJWq/q/39HLkddLidtLicuJ10uZ20uZy5nXS4XbS4XLhddLjcA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1>Python 3, 93 bytes</h1>
<pre><code>lambda l:int(0.5+sum(3*(c=='+')-3*(c=='-')or'FDCBA'.index(c)*10for c in''.join(l))/len(l))/10
</code></pre>
<p>Takes input as a list of strings (<code>['A', 'B+']</code>).</p>
</div>
<div id="pu9" class="pu"><h1>JavaScript (ES6), 67 bytes</h1>
<p>Returns a number.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;(a.map(([x,y])=&gt;t+=940.5%(n++,'0x5'+x)%85+~~(y+3),n=t=0)|t/n)/10
</code></pre>
<p><a href="https://tio.run/##fdDfCoIwFAbw@55CBGnj6JypZBcLSuklZBfD/lDYjJIwiF7dcmpJWrs4V@e37@McxFVckvP@lFsyW2/KLSsFmyNBjuKEUFyYN47ZPAc28yjxDSQBzDEt/DEU2Ah8eDzQDVxsSpYziu@5LbHt0DLJ5CVLNyTNdmiLYn2hc234YazZtuaNvsVKN7V28AFBeyKCajuy@lG1cEb9Vi@wrEao6EfWYkL8vrEUUjO0uomtmQznNBDema8/eG1c4v7oprYXTRbvdhsyoVoPOwga1Hab/rnB97Gbq5GgfAI" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>The purpose of the black-magic formula <code>940.5 % ('0x5' + x) % 85</code> is to turn a grade into its base value pre-multiplied by <span class="math-container">\$10\$</span> and with an offset of <span class="math-container">\$1/2\$</span> for the final rounding.</p>
<div class="s-table-container">
<table class="s-table">
<thead>
<tr>
<th style="text-align: center;">x</th>
<th style="text-align: center;">N = '0x5' + x</th>
<th style="text-align: center;">As decimal</th>
<th style="text-align: center;">940.5 mod N</th>
<th style="text-align: center;">mod 85</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">A</td>
<td style="text-align: center;">0x5A</td>
<td style="text-align: center;">90</td>
<td style="text-align: center;">40.5</td>
<td style="text-align: center;">40.5</td>
</tr>
<tr>
<td style="text-align: center;">B</td>
<td style="text-align: center;">0x5B</td>
<td style="text-align: center;">91</td>
<td style="text-align: center;">30.5</td>
<td style="text-align: center;">30.5</td>
</tr>
<tr>
<td style="text-align: center;">C</td>
<td style="text-align: center;">0x5C</td>
<td style="text-align: center;">92</td>
<td style="text-align: center;">20.5</td>
<td style="text-align: center;">20.5</td>
</tr>
<tr>
<td style="text-align: center;">D</td>
<td style="text-align: center;">0x5D</td>
<td style="text-align: center;">93</td>
<td style="text-align: center;">10.5</td>
<td style="text-align: center;">10.5</td>
</tr>
<tr>
<td style="text-align: center;">F</td>
<td style="text-align: center;">0x5F</td>
<td style="text-align: center;">95</td>
<td style="text-align: center;">85.5</td>
<td style="text-align: center;">0.5</td>
</tr>
</tbody>
</table>
</div>
<p>We use the expression <code>~~(y + 3)</code> to add an additional offset of <span class="math-container">\$\pm 3\$</span> if the grade is followed by <code>+</code> or <code>-</code>. This evaluates to <code>~~NaN</code> (which is <span class="math-container">\$0\$</span>) if there's no modifier.</p>
<p>Given the sum <span class="math-container">\$t\$</span> of all these values, the GPA is given by <span class="math-container">\$\lfloor t/n\rfloor/10\$</span>, where <span class="math-container">\$n\$</span> is the number of grades.</p>
<hr />
<h1>JavaScript (ES6), 76 bytes</h1>
<p>Original answer, returning a string.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;(eval(a.map(s=&gt;s&lt;'F'&amp;&amp;'14-0x'+s+[s[1]&amp;&amp;.3]).join`+`)/a.length).toFixed(1)
</code></pre>
<p><a href="https://tio.run/##fdDRCoIwFAbg@55CvNCNtWNmURcZlOFLyKBh0wxz0SR6e6upJWnt4lydb//POfEbV/E1u5S0kAdRJX7F/TUSN54jDmd@Qcpfq5Ud2pZluzM6udtEkUhFLrMs8BiGk8yKPdljh0MuirQ8YihlmN3FAbm4imWhZC4glylKUGRuTGYMP4wNxzFmo28RmmOjHWxATHpiR17bO9qPqoU76rd6gu1rBJp@ZC2mMO8bqpGeAe0mtmY6nNNA8s58/sFq44H3o5ve3jRZrNttyAR6Pegg0qC22@LPDb6P3VwNltUD" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>If the grade is <code>&quot;F&quot;</code>, we turn it into <code>&quot;false&quot;</code>.</p>
<p>Otherwise:</p>
<ul>
<li>we add the prefix <code>&quot;14-0x&quot;</code></li>
<li>if this is a two-character grade, we add the suffix <code>&quot;0.3&quot;</code></li>
</ul>
<p>Examples:</p>
<ul>
<li><code>&quot;A&quot;</code> is turned into <code>&quot;14-0xA&quot;</code> (<span class="math-container">\$14-10=4\$</span>)</li>
<li><code>&quot;B+&quot;</code> is turned into <code>&quot;14-0xB+0.3&quot;</code> (<span class="math-container">\$14-11+0.3=3.3\$</span>)</li>
<li><code>&quot;C-&quot;</code> is turned into <code>&quot;14-0xC-0.3&quot;</code> (<span class="math-container">\$14-12-0.3=1.7\$</span>)</li>
</ul>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.python.org" rel="noreferrer">Python</a>, 98 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda i:round(sum(x*i.count(y)for y,x in zip(&quot;FDCBA-+&quot;,[*range(5),-.3,.3]))/len(i.split())+.01,1)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=RY3dasIwFMfv9xTBqxNzEicy2ApetCm-RJVRp50Hahr6AXavshth6Dv5Np7UboME_r_k__F99X17qNz5p1iuL11b6NfbtsyP210uKKqrzu2g6Y5wmpL5YGqhl0VVix5Pgpz4Ig-TVWqTWKsJZtM6d597eJGozQLNYiPlrNw7INP4klqQUpnnOc7luASh6j0UPYJvMvI18UgBFC3J-S5kkEb_-dZk8eYpW6EIh1WqUKSaRYwiQWGZAmgmvlb__w5vanAlvwHGOLgYLWs7svrrG1Ye23c" rel="noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.gnu.org/software/sed/" rel="nofollow noreferrer">sed</a> <code>-E</code>, <s>302</s> 299 bytes</h1>
<pre><code>:a
s/ //
s/[A-D]/&amp;aaaaaaaaaa/g
y/ABCD/BCDF/
s/\+/aaa/
/-/{s/-//;s/a//;s/a//;s/a//}
s/Fa/aF/
ta
s/F/!F/
:b
s/F/a/
s/(a+)(a*!)\1$/X\2\1/
tb
s/!.*/\U&amp;/
s/AA?/a/g
/(a+)!\1$/s/a/X/
s/[a!]//g
s/X{10}/Y/g
s/$/I.0/
:c
/X/y/012345678/123456789/
/Y/y/IJKLMNOPQ/JKLMNOPQ9/
s/X//
s/Y//
tc
y/IJKLMNOPQ/012345678/
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VZDJTsMwFEXF1l_hVFXV1nJvU6YOAuQkRJQyLpASNVmYMq3YJCyqql_CBoRgyf_A1_CeQxli5en63eP7LD--FNdXb9Oa3q_lz3evD-WN7n-uqaEVBSRAdWp0lKNhfz7cijlMEEagP2YkU-C-gMaioIJRAfu_LgmLLSzxJWfH8EgOL520HNK0qtW0ba-V-XUkWS_zCWXf67SRXTSYMWYPPN_BHoMcnrhrWi8HWQWShd9dInW6jnGnS3Nmgqg5un5vfWNza7uPlRjQrVNyxoeTo-OT07NzrMSAUxP3BCnVcib-Ur9J1Zu9H4x4XnYPubMrv5tPHxMjYklLREpGWhgZyFBGwmgZaBnqqsc7RU7gACUNOSJUMnRSuVOUUWV-AQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><strong>Explanation:</strong></p>
<pre><code>                  # store dividend as unary &quot;a&quot; and divisor as unary &quot;F&quot;
:a
s/ //                 # removes all spaces
s/[A-D]/&amp;aaaaaaaaaa/g # for each of letters ABCD ten &quot;a&quot; are added
y/ABCD/BCDF/          # each of letters ABCD are substracted to BCDE
s/\+/aaa/             # for every + three &quot;a&quot; are added
/-/{s/-//;s/a//;s/a//;s/a//} # for every - three &quot;a&quot; are removed
s/Fa/aF/              # sort the string into format &quot;aaaaaFFFFF&quot;
ta
                  # now perform the division
s/F/!F/               # transforms string to format &quot;aaaaa!FFFFF&quot;
:b
s/F/a/                # transforms string to format &quot;aaaaa!aaaaa&quot;
s/(a+)(a*!)\1$/X\2\1/ # if there are more or equal &quot;a&quot; on left side than on the right append &quot;X&quot; to beggining
tb
                  # now do the rounding
s/!.*/\U&amp;/            # transorm &quot;a&quot; after &quot;!&quot; to &quot;A&quot;
s/AA?/a/g             # now the amount of &quot;A&quot; is divided by 2
/(a+)!\1$/s/a/X/      # check if the reminder is more or equal to half of divisor and if so, then add one more &quot;X&quot;
s/[a!]//g             # remove leftover characters
                  # now the result is stored as unary &quot;X&quot;
                  # conversion from unary to decimal
s/X{10}/Y/g           # convert every ten &quot;X&quot; to &quot;Y&quot;
s/$/I.0/              # adds string for output &quot;I.0&quot;
:c
/X/y/012345678/123456789/ # for every &quot;X&quot; the &quot;0&quot; is increased
/Y/y/IJKLMNOPQ/JKLMNOPQ9/ # for every &quot;Y&quot; the &quot;I&quot; is increased
s/X//
s/Y//
tc
y/IJKLMNOPQ/012345678/ # now the &quot;I&quot; is transformed to digit
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 34 bytes</h1>
<pre><code>ＷＳ⊞υ⁺⌕FDCBA§ι⁰×·³⁻№ι+№ι-﹪%.1f∕ΣυＬυ
</code></pre>
<p><a href="https://tio.run/##RU7dCoMgGL33KUQYfDKNxi53lUUQLAjaC0S6EkxHadvbO9vNzt3h/I7zsI5uMDG@Z20Uhsa@gu/9qu0ElOIubDMEhjsTNqi1lUDqqhQFYbjwjZXqA5rhnFKGH3pRG@TZleFW22QvXbD@kMmZJP1POaEHbqhLMx5aJ4NxQE7Z5Zl6K71rqaAPC4QUuys7@fThl4ixQAVH4owEEhxFvpsv" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as a list of newline-terminated grade strings. Explanation:</p>
<pre><code>ＷＳ
</code></pre>
<p>Repeat for each input grade...</p>
<pre><code>⊞υ⁺⌕FDCBA§ι⁰×·³⁻№ι+№ι-
</code></pre>
<p>... calculate its value by looking up the letter in the string <code>FDCBA</code> and adjusting by <code>0.3</code> depending on the number of <code>+</code>s or <code>-</code>s.</p>
<pre><code>﹪%.1f∕ΣυＬυ
</code></pre>
<p>Take the average and format it to one decimal place.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 90 bytes</h1>
<pre><code>T`L`4-0
\d
0$&amp;$*
1
20$*
\+
6$*
1{6}-

O`.
0+
$.&amp;$*1$.&amp;$*1,$.&amp;$*
\D*(1+),(\1)*1*
$#2
.$
.$&amp;
</code></pre>
<p><a href="https://tio.run/##NUw9C8IwFNzvVwSMpc0XSZHuaYIugotjhgh2cHEQN/G3x5e0wr13d@8d91rej@et7PtTLtd8zgdtke6wvOMCDqMlShJTdZ/pq4FLNrAS3FDCrVs1Qoqid3JQfXKDcAJ8N8JwQleKx1GxCkSpWNTwis2KBdLwmjRN0P9Pu8iWmNcoGV8TCKTC5uTWUnt/" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Output always includes the decimal but omits the leading <code>0</code> on scores of less than <code>1</code>. Explanation:</p>
<pre><code>T`L`4-0
</code></pre>
<p>Translate uppercase letters to digits <code>A=4, B=4, C=2, D=1</code>, otherwise <code>0</code>.</p>
<pre><code>\d
0$&amp;$*
</code></pre>
<p>Convert to unary and prefix a marker <code>0</code> to keep count of the number of grades.</p>
<pre><code>1
20$*
</code></pre>
<p>Multiply by <code>20</code>.</p>
<pre><code>\+
6$*
</code></pre>
<p>Add 6 for a <code>+</code>.</p>
<pre><code>1{6}-

</code></pre>
<p>Subtract 6 for a <code>-</code>.</p>
<pre><code>O`.
</code></pre>
<p>Collect the markers and scores together.</p>
<pre><code>0+
$.&amp;$*1$.&amp;$*1,$.&amp;$*
</code></pre>
<p>Add the count to the sum (so that the division will round) and double the count.</p>
<pre><code>\D*(1+),(\1)*1*
$#2
</code></pre>
<p>Divide the sum by the doubled count.</p>
<pre><code>.$
.$&amp;
</code></pre>
<p>Divide by <code>10</code>.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 24 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ON%7’»0_2¦€4ḋ10,3Æm+.Ḟ÷⁵
</code></pre>
<p>A monadic Link that accepts a list of lists of characters and yields a number.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9/fT9X8UcPMQ7sN4o0OLXvUtMbk4Y5uQwMd48Ntudp6D3fMO7z9UePW/4fbgVL//0dHqzuqx3LpRKu7qesowAiwgIs2iOOiC@E5gjhOIMIZLAwV1QULg0lnXQz1UGltuF4nFNPA4o5QvWBxZ7CQM5KENrr1cCfGAgA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>ON%7’»0_2¦€4ḋ10,3Æm+.Ḟ÷⁵ - Link: list of grades  e.g. ['A-', 'B+', 'F', 'F']
O                        - ordinals (vectorises)      [[65, 45], [66, 43], [70], [70]]
 N                       - negate                     [[-65, -45], [-66, -43], [-70], [-70]]
  %7                     - mod seven                  [[5, 4], [4, 6], [0], [0]]
    ’                    - decrement                  [[4, 3], [3, 5], [-1], [-1]]
     »0                  - max with zero              [[4, 3], [3, 5], [0], [0]]
        2¦€              - from 2nd of each:
       _   4             -   subtract four            [[4, -1], [3, 1], [0], [0]]
            ḋ10,3        - dot product with [10,3]    [37, 33, 0, 0]
                 Æm      - mean                       17.5
                   +.    - add a half                 18.0
                     Ḟ   - floor                      18
                      ÷⁵ - divide by ten              1.8
</code></pre>
<hr />
<p>If banker's rounding was used <span class="math-container">\$21\$</span> bytes is possible with <code>ON%7’»0_2¦€4Uḅ.3Æmær1</code> (<code>U</code> reverses each, <code>ḅ.3</code> converts from base <span class="math-container">\$0.3\$</span>, and <code>ær1</code> uses Python's <code>round</code> to round to 1 decimal place).</p>
</div>
<div id="pu15" class="pu"><h1><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, 124 bytes</h1>
<pre><code>func[a][forall a[parse a/1[change p: skip(rejoin[max 69 - p/1 0&quot; &quot;])opt[skip insert&quot; .3&quot;]]a/1: do a/1]round/to average a .1]
</code></pre>
<p><a href="https://tio.run/##ZY/BasMwDIbvfQrh00ZIszAYLNBBmrIH2FXoIGJnTZvaxnHH3j6Vm6aD1SCj/7P0ywpGT19GI626aurOtkUm7FzgYQBGz2E0wEWJ7Z7ttwFfwXjs/VMwB9dbPPEvvL1DDr4o4UWBomfnI6YS6O1oQlSwflVEYlGBdsmKgjtbXUQRPyawmDKsS5pkqOF2D9GMEXAFclDVim7Zp7jPsZBdJnKX33UtcivRJPxH84TT1eSP9fNrduvc/jNLvJ47F94k1twfsofpyx8JfeitbHJyg56XUpsPBd01J5ou" rel="nofollow noreferrer" title="Red – Try It Online">Try it online!</a></p>
<p>More readable:</p>
<pre><code>f: func [a][
    forall a [
        parse a/1 [
            change set g skip (rejoin [max 69 - g 0 space])
            opt [skip insert &quot; 0.3&quot;]
        ]
        a/1: do a/1
    ]
    round/to average a 0.1
]
</code></pre>
<p>The input is a block (list) of strings. I modify each string in place by changing the letter with the corresponding grade value and optionally appending &quot;0.3&quot; after <code>+</code> or <code>-</code>. Then the string is replaced by its evaluated value. Finally I find and round the average of the block.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>30</s> 26 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ε14sáC-.3y¦'\ìθ.VDd*}ÅA1.ò
</code></pre>
<p>-4 bytes by <a href="https://codegolf.stackexchange.com/a/251902/52210">semi-porting <em>@Arnauld</em>'s JavaScript answer</a></p>
<p><a href="https://tio.run/##yy9OTMpM/f//3FZDk@LDC5119YwrDy1Tjzm85twOvTCXFK3aw62OhnqHN/3/H63kqKSj5KgLJJy0QQQIg3jOIJ4zCIN4LiCeCwiDeG5KsQA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/c1sNTYoPL3TW1TOuPLRMPebwmnM79MJcUrRqD7c6Guod3vRf5390tJKjUqxOtJKbkg4Ug3gu2kCmiy6Y7QhkOgGxM0gIIqILEgIRzrqo6iAy2lAdTkgGgMQcITpAYs4gvjNcUBvFJqg7YgE" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Original 30 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a> answer:</strong></p>
<pre><code>•H₁yΔи•.¥RA4£…+ -â¦ðмuIkèÅAòT/
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//UcMij0dNjZXnplzYAWTrHVoa5GhyaPGjhmXaCrqHFx1adnjDhT2eOdmHVxxudTy8KUT///9oJUclHSVHXSDhpA0iQBjEcwbxnEEYxHMB8VxAGMRzU4oFAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKS/f9HDYs8HjU1Vp6bcmEHkK13aGmQo8mhxY8almkr6B5edGjZ4Q0X9lTmZB9ecbjV8fCmEP3/Ov@jo5UclWJ1opXclHSgGMRz0QYyXXTBbEcg0wmInUFCEBFdkBCIcNZFVQeR0YbqcEIyACTmCNEBEnMG8Z3hgtooNkHdEQsA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>ε            # Map over the (implicit) input-list:
 14          #  Push 14
   s         #  Swap so the current grade-string is at the top
    á        #  Only keep its letters (removing a potential &quot;+&quot;/&quot;-&quot;)
     C       #  Convert it to 'binary': &quot;A&quot;=10, &quot;B&quot;=11, &quot;C&quot;=12, &quot;D&quot;=13, &quot;F&quot;=15
      -      #  Subtract it from the 14
 .3          #  Push 0.3
   y         #  Push the current grade-string again
    ¦        #  Remove its first character (the letter)
     '\ì    '#  Prepend a leading &quot;\&quot;
        θ    #  Pop and only keep its last character
         .V  #  Execute it as 05AB1E code
             #  (&quot;+&quot;/&quot;-&quot; does what you'd expect; &quot;\&quot; discards the 0.3 from the stack)
 D           #  Duplicate the decimal
  d          #  Check if it's non-negative (1 if &gt;=0; 0 if &lt;0)
   *         #  Multiply that to the decimal to change the &quot;F&quot;=1 to 0
}            # Close the map
 ÅA          # Get the average of this list
   1.ò       # Round it to 1 decimal point
             # (after which the result is output implicitly)
</code></pre>

<pre class="lang-python prettyprint-override"><code>•H₁yΔи•      # Push compressed integer 73343343343
       .¥    # Undelta its digits with leading 0: [0,7,10,13,17,20,23,27,30,33,37,40]
         R   # Reverse it: [40,37,33,30,27,23,20,17,13,10,7,0]
A            # Push the lowercase alphabet
 4£          # Only keep its first four characters: &quot;abcd&quot;
   …+ -      # Push string &quot;+ -&quot;
       â     # Get the cartesian product of the two: [&quot;a+&quot;,&quot;a &quot;,&quot;a-&quot;,...,&quot;d+&quot;,&quot;d &quot;,&quot;d-&quot;]
        ¦    # Remove the leading &quot;a+&quot;
         ðм  # Remove all spaces from each string
Il           # Push the input-list, and convert each grade-string to lowercase
  k          # Get the indices of each lowercase grade-string in the string-list we've created)
             # (-1 for &quot;f&quot;, since it's not in the list)
  è          # Use that to index into the earlier list of integers
             # (-1 wraps around to the last item, which is the 0)
   ÅA        # Get the average of this list
     ò       # Round it to an integer
      T/     # Divide it by 10
             # (after which the result is output implicitly)
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/166851/52210">See this 05AB1E tip of mine (section <em>How to compress large integers?</em>)</a> to understand why <code>•H₁yΔи•</code> is <code>73343343343</code>.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://dyalog.com" rel="noreferrer">APL(Dyalog Unicode)</a>, <sup><s></s></sup>38 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="noreferrer">SBCS</a></sup></h1>
<p>Anonymous prefix lambda taking a string argument of whatever format is convenient.</p>
<pre><code>{1⍕(+/l,.3×-⌿'+-'∘.=⍵)÷≢l←0⌈5-⎕A⍳⍵∩⎕A}
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=AwA&amp;c=qzZ81DtVQ1s/R0fP@PB03Uc9@9W1ddUfdczQs33Uu1Xz8PZHnYtyHrVNMHjU02Gq@6hvquOj3s1AmUcdK0GcWgA&amp;f=e9Q39VHbhDQF9WjHWHWuR3Cem44CCKGIuWjrKLjoogg56ig46Sg4A8VRhXWB4kDsrItNB1hWG6zTCdM4oIQjSCeKhDNQ1Bkqo43FBRC3AgA&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=dfn&amp;n=f" rel="noreferrer">Try it on APLgolf!</a></p>
<p><code>{</code>…<code>}</code> &quot;dfn&quot;; argument is <code>⍵</code>:</p>
<p> <code>⍵∩⎕A</code> intersection of argument and uppercase <strong>A</strong>lphabet</p>
<p> <code>⎕A⍳</code> indices of those letters in the uppercase Alphabet (A=1)</p>
<p> <code>5-</code> subtract those indices from 5</p>
<p> <code>0⌈</code> maximum of 0 and those numbers</p>
<p> <code>l←</code> assign to <code>l</code></p>
<p> <code>≢</code> count those</p>
<p> <code>(</code>…<code>)÷</code> divide the following by that:</p>
<p>  <code>'+-'∘.=⍵</code> comparison table of signs vs the argument characters</p>
<p>  <code>-⌿</code> subtract the bottom row from the top row</p>
<p>  <code>.3×</code> multiply those differences by 0.3</p>
<p>  <code>l,</code> prepend <code>l</code></p>
<p> <code>+/</code> sum</p>
<p> <code>1⍕</code> format as string with 1 decimal</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/251897/">251897</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




