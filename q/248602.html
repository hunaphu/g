<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::248602</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
  <!-- TXXX -->
<tr d-ix="0"><td>007</td><td>Vyxal</td><td>240827T122630Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/275187#275187">emanresu</a></td></tr>
<tr d-ix="1"><td>015</td><td>Pyth arbitrary values</td><td>220926T040957Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/252232#252232">hakr14</a></td></tr>
<tr d-ix="2"><td>1621</td><td>Charcoal</td><td>220614T072603Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248610#248610">Neil</a></td></tr>
<tr d-ix="3"><td>047</td><td>JavaScript ES2019</td><td>220823T124539Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/251282#251282">TwiNight</a></td></tr>
<tr d-ix="4"><td>022</td><td>APL Dyalog Classic</td><td>220823T154814Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/251284#251284">TwiNight</a></td></tr>
<tr d-ix="5"><td>026</td><td>BQN</td><td>220619T192804Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248813#248813">Mama Fun</a></td></tr>
<tr d-ix="6"><td>nan</td><td>Rust</td><td>220622T081018Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248920#248920">mousetai</a></td></tr>
<tr d-ix="7"><td>009</td><td>Pyth</td><td>220624T041759Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/249011#249011">math jun</a></td></tr>
<tr d-ix="8"><td>024</td><td>K ngn/k</td><td>220622T140620Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248938#248938">coltim</a></td></tr>
<tr d-ix="9"><td>085</td><td>Brev</td><td>220621T131119Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248888#248888">Sandra</a></td></tr>
<tr d-ix="10"><td>082</td><td>Retina 0.8.2</td><td>220615T205402Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248658#248658">Neil</a></td></tr>
<tr d-ix="11"><td>052</td><td>JavaScript Node.js</td><td>220614T070541Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248606#248606">Arnauld</a></td></tr>
<tr d-ix="12"><td>032</td><td>Burlesque</td><td>220615T093143Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248647#248647">DeathInc</a></td></tr>
<tr d-ix="13"><td>080</td><td>JavaScript ES5</td><td>220614T194916Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248629#248629">pfg</a></td></tr>
<tr d-ix="14"><td>011</td><td>Jelly</td><td>220614T192927Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248628#248628">Jonathan</a></td></tr>
<tr d-ix="15"><td>034</td><td>Wolfram Language Mathematica</td><td>220614T185714Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248627#248627">att</a></td></tr>
<tr d-ix="16"><td>266</td><td>C gcc</td><td>220614T180053Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248624#248624">evanstar</a></td></tr>
<tr d-ix="17"><td>061</td><td>R</td><td>220614T080504Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248612#248612">Dominic </a></td></tr>
<tr d-ix="18"><td>015</td><td>MathGolf</td><td>220614T085931Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248615#248615">Kevin Cr</a></td></tr>
<tr d-ix="19"><td>044</td><td>Python 2</td><td>220614T070015Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248604#248604">pxeger</a></td></tr>
<tr d-ix="20"><td>057</td><td>Factor</td><td>220614T074121Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248611#248611">chunes</a></td></tr>
<tr d-ix="21"><td>010</td><td>05AB1E</td><td>220614T070614Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248608#248608">Kevin Cr</a></td></tr>
<tr d-ix="22"><td>025</td><td>APL Dyalog Unicode</td><td>220614T070459Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248605#248605">Ad&#225;</a></td></tr>
<tr d-ix="23"><td>015</td><td>Stax</td><td>220614T070609Z</td><td><a href="https://codegolf.stackexchange.com/questions/248602/iteratively-delete-a-list/248607#248607">Razetime</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 7 bytes</h1>
<pre><code>á¸£È®ÃŸJ)â†”@
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCLhuKPIrsOfSinihpRAIiwiIiwiW1tdLCBbMCwgMF0sIFswLCBbMCwgMF1dXSJd" rel="nofollow noreferrer">Try it Online!</a> Takes 0 as the filler element, outputs both the leading length and the trailing 0.</p>
<pre><code>    )â†”  # Apply until no change, collecting intermediate results
á¸£       # Extract the first item
  ÃŸ     # If it's truthy (nonempty list)
 È® J    # Concatenate it (otherwise leave the list beheaded)
      @ # Take the length of each intermediate results
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a> (arbitrary values), 15 bytes</h1>
<pre><code>lM.u+.x[.*hN[)t
</code></pre>
<p><a href="https://pythtemp.herokuapp.com/?code=lM.u%2B.x%5B.%2ahN%5B%29t&amp;test_suite=1&amp;test_suite_input=%5B%5B1%2C+2%5D%2C+%5B3%2C+%5B4%2C+5%5D%5D%5D%0A%5B%5B6%2C+3%2C+%5B1%2C+3%2C+4%5D%5D%2C+4%2C+%5B2%2C+3%2C+9%2C+%5B5%2C+6%5D%5D%5D%0A%5B3%2C+4%2C+5%5D%0A%5B%5B%5B%5B%5B%5B%5B%5B1%5D%5D%5D%5D%5D%5D%5D%5D%0A%5B%5D%0A%5B1%2C+%5B%5D%2C+1%5D%0A%5B%5B%5D%2C%5B%5B%5B%5D%5D%5D%2C%5B%5D%5D&amp;debug=0" rel="nofollow noreferrer">Test suite</a></p>
<p>Takes a ragged list of arbitrary values (even accepts floats). Includes length of original list and final 0.</p>
<h5>Explanation:</h5>
<pre><code>lM.u+.x[.*hN[)t   | Full code
lM.u+.x[.*hN[)tNQ | with implicit variables
------------------+----------------------------------------------------------------------------------------------------------------
  .u            Q | Collect N, starting with the input, with each succussive N defined by the following until a result is repeated:
    +         tN  |  Prepend to the tail of N:
       [.*hN      |   N if N is a list
     .x     [)    |   or the empty list if N is not a list
lM                | Convert each element to its length
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, (16) 21 bytes</h1>
<pre><code>ï¼·Î¸Â«âŸ¦ï¼©ï¼¬Î¸âŸ§â‰”âºâˆ¨ï¼†â°Â§Î¸â°Ï…Î¦Î¸Î»Î¸
</code></pre>
<p><a href="https://tio.run/##HYxLC8IwEITP7a/Y4wYi1FdBPFVBEAR7DzmENrSBEMmjVhB/e9x2YWd2voHtRhW6l7I5z6OxGtAz@JZFG4xLKK4qJnxoN6SRCibZuSyaGM3gsLVTxGfAi0mzibpxPVYcmnR3vf6g51AxxmGivRmbdFiQXZCnJ7@chRA1hz0HsV3tICUJxd0aT3QdOdSSJm/e9g8" rel="nofollow noreferrer" title="Charcoal â€“ Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>ï¼·Î¸Â«
</code></pre>
<p>Repeat until the input list is empty.</p>
<pre><code>âŸ¦ï¼©ï¼¬Î¸âŸ§
</code></pre>
<p>Output its length on its own line.</p>
<pre><code>â‰”âºâˆ¨ï¼†â°Â§Î¸â°Ï…Î¦Î¸Î»Î¸
</code></pre>
<p>Add the tail of the list to the first element.</p>
<ul>
<li>This would be three bytes shorter if the list was to be iteratively deleted from the end rather than the start.</li>
<li>This would be four bytes shorter if Charcoal's vectorising <code>Add</code> worked properly, but unfortunately it only vectorises to depth 1. (Other operators, such as <code>BitwiseAnd</code>, do vectorise correctly, so I'm assuming this is an oversight. Edit: Ironically, <code>Times</code> also doesn't vectorise correctly, so I needed to replace it with <code>BitwiseAnd</code> to fix a bug.)</li>
<li>Alternatively, this could be two bytes shorter if the input integers were all zero. (Not applicable when vectorising <code>Add</code> works properly.)</li>
<li>This could be one byte shorter by outputting the last length instead of the first.</li>
</ul>
<p>16 bytes using the newer version of Charcoal on ATO:</p>
<pre><code>ï¼·Î¸Â«â‰”âºÂ§Î¸â°Î¦Î¸Î»Î¸âŸ¦ï¼©ï¼¬Î¸
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iOSOxKDk_MWfBgqWlJWm6FjfDyzMyc1IVNAo1Faq5OB2LizPT8zQCckqLNRxLPPNSUis0CnUUDDR1FNwyc0pSi0C8HE0gt1DTmoszoCgzr0Qj2jmxuETDJzUvvSQDaI5mLFCqdklxUnIx1JLl0Uq6ZTlKsTe1o6OjzXQUjHUUog3BlElsLJAAco3AXEsgy1RHwSwWCCBaAQ" rel="nofollow noreferrer" title="Charcoal â€“ Attempt This Online">Attempt This Online!</a> Link is to verbose version of code. Outputs the last length instead of the first.</p>
</div>
<div id="pu3" class="pu"><h1>JavaScript (ES2019), <s>51</s> <s>48</s> 47 bytes</h1>
<pre class="lang-javascript prettyprint-override"><code>i=0;f=(v=[])=&gt;[i+=v.length-!!i,...v.flatMap(f)]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kLz8ldcGCpaUlaboWN_UzbQ2s02w1ymyjYzVt7aIztW3L9HJS89JLMnQVFTN19PT0yvTSchJLfBMLNNI0YyHabjGqJ-fnFZcolCrYKpTmpaSmZealpnCBxPJzUvVy8tM10jSio0t1FEpjdRRANIQdCyI0NYlQiEsVVAHMMAQXn06YDixmQgBIGxhgqsBuXDQun4B8ASRBjosGGQcJL1hwAwA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Input requires <code>undefined</code> as leaves. Output includes initial size and trailing <code>0</code>.</p>
<p>I assume the output must be a flat array instead of allowing nested array. If nested array is acceptable then there is this 40-byte solution:</p>
<pre class="lang-javascript prettyprint-override"><code>i=0;f=(v=[])=&gt;[i+=v.length-!!i,v.map(f)]
</code></pre>
<h2>Algorithm</h2>
<p>Instead of implementing the specified process and constructing the intermediate arrays, this submission uses an analytical solution to calculate the output.</p>
<p>Notice that, with the process in the question, each item of the root array is completely deleted before moving on to the next item. Using the original example <code>[[1,2],[3,[4,5]]</code>, the <code>[1,2]</code> subarray is fully deleted before <code>[3,[4,5]]</code> is touched. This means that while processing <code>[1,2]</code>, the sizes of the intermediate arrays at each step is the same as those while processing <code>[1,2]</code> as a root, but plus 1 because we have to count <code>[3,[4,5]]</code></p>
<pre><code>[[1, 2], [3, [4, 5]]]
[1, 2, [3, [4, 5]]]   (size: 3)        |        [1,2]   (size: 2)
[2, [3, [4, 5]]]      (size: 2)        |        [2]     (size: 1)
[[3, [4, 5]]]         (size: 1)        |        []      (size: 0)
</code></pre>
<p>Take another example from the test cases</p>
<pre><code>[[6, 3, [1, 3, 4]], 4, [2, 3, 9, [5, 6]]]
[6, 3, [1, 3, 4], 4, [2, 3, 9, [5, 6]]]   (size: 5)        |        [6, 3, [1, 3, 4]] (size: 3)
[3, [1, 3, 4], 4, [2, 3, 9, [5, 6]]]      (size: 4)        |        [3, [1, 3, 4]]    (size: 2)
[[1, 3, 4], 4, [2, 3, 9, [5, 6]]]         (size: 3)        |        [[1, 3, 4]]       (size: 1)
[1, 3, 4, 4, [2, 3, 9, [5, 6]]]           (size: 5)        |        [1, 3, 4]         (size: 3)
[3, 4, 4, [2, 3, 9, [5, 6]]]              (size: 4)        |        [3, 4]            (size: 2)
[4, 4, [2, 3, 9, [5, 6]]]                 (size: 3)        |        [4]               (size: 1)
[4, [2, 3, 9, [5, 6]]]                    (size: 2)        |        []                (size: 0)
</code></pre>
<p>The size difference is 2 here because there are 2 items after the item being processed (<code>[6, 3, [1, 3, 4]]</code>).</p>
<p>This shows that this problem can be solved with a recursive algorithm</p>
<pre><code>f([1, 2]) = [2, 1, 0]
f([3, [4, 5]]) = [2, 1, 2, 1, 0]

                                [2, 1, 0][2, 1, 2, 1, 0]
                           + [2,       1,             0]
                           --------------------------------
f([[1, 2], [3, [4, 5]]]) =   [2, 3, 2, 1, 2, 1, 2, 1, 0]
</code></pre>
<p>More precisely, the output of processing an array consists of:</p>
<ul>
<li>The initial length of the array, then</li>
<li>For each item, the result of processing that item, plus adding the number of items after it to each element.</li>
</ul>
<h3>Naive, readable implementation</h3>
<pre class="lang-javascript prettyprint-override"><code>function f(value) {
    if (value !== undefined) {
        return [
            value.length,
            ...value.flatMap((item, index) =&gt; f(item).map((n) =&gt; n + value.length - index - 1))
        ]
    }
    return [0]
}
</code></pre>
<h2>Golfing</h2>
<p>First, of course, is to apply basic golfing techniques</p>
<pre class="lang-javascript prettyprint-override"><code>// 70 bytes
f=v=&gt;v?[v.length,...v.flatMap((u,j)=&gt;f(u).map($=&gt;$+v.length-j-1))]:[0]
</code></pre>
<p>Then, since leaves are <code>undefined</code>, we can actually use default argument to treat leaves as <code>[]</code> and merge the two branches</p>
<pre class="lang-javascript prettyprint-override"><code>// 69 bytes
f=(v=[])=&gt;[v.length,...v.flatMap((u,j)=&gt;f(u).map($=&gt;$+v.length-j-1))]
</code></pre>
<p>Then, instead of mapping a second time to add the &quot;base&quot; value <code>v.length-j-1</code>, we can make <code>f</code> accept a second argument for a value to add to everything.</p>
<pre class="lang-javascript prettyprint-override"><code>// 67 bytes
f=(v=[],i=0)=&gt;[v.length+i,...v.flatMap((u,j)=&gt;f(u,v.length+i-j-1))]
</code></pre>
<p>Next, we can pull <code>i</code> up to the global scope and mutate it instead of passing it around and using a lengthy expression to calculate the base</p>
<pre class="lang-javascript prettyprint-override"><code>// 53 bytes
i=0;f=(v=[])=&gt;[i+=v.length,...v.flatMap(u=&gt;f(u,i--))]
</code></pre>
<p>Finally, we can move the <code>i--</code> decrement into <code>f</code> so that, instead of decrementing at each <code>flatMap</code> iteration, we just decrement <code>i</code> at the start of <code>f</code>.</p>
<pre class="lang-javascript prettyprint-override"><code>// 45 bytes
i=1;f=(v=[])=&gt;[i+=v.length-1,...v.flatMap(f)]
</code></pre>
<p><strong>BUT</strong>, this breaks because the global variable <code>i</code> is changed after calling <code>f</code>, which is <a href="https://codegolf.meta.stackexchange.com/a/4940/6972">forbiddened</a>. Specifically, <code>i</code> is decremented by 1 for each root call to <code>f</code>. Before the change, <code>i</code> is decremented by 1 by one per child while looping in <code>flatMap</code>, but now <code>i</code> is decremented by 1 per call (i.e. per node), and the root is the only node that is not a child.</p>
<p>To counter this, we need to change the increment to &quot;number of children&quot; (instead of &quot;number of children - 1&quot;) but only for the root node. This is doable by noticing that <code>i</code> is at its initial value only at the start of a root <code>f</code> call and after processing the last leaf. So we can initialize <code>i</code> to 0 and when we increment <code>i</code>, we increment by &quot;number of children&quot; if <code>i</code> is 0 but by &quot;number of children - 1&quot; otherwise.</p>
<pre class="lang-javascript prettyprint-override"><code>// 47 bytes
i=0;f=(v=[])=&gt;[i+=v.length-!!i,...v.flatMap(f)]
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Classic)</a>, 22 bytes</h1>
<pre><code>{â´â´âµ:âˆŠ(â´,âˆ‡Â¨+â´-â³âˆ˜â´)âµâ‹„0}
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v@/@lHvFjDaavWoo0sDyNR51NF@aIU2kKX7qHfzo44ZQJYmUP5Rd4tB7f@0R20TgKr6HnU1P@pdA5Q6tN74UdvER31Tg4OcgWSIh2ewJpD2Cvb3@5@mHh1tqKNgFKujEG0MxCY6CqaxsbHqXCAJMx0FkJghmDKJBaoBSkcbgbmWQJapjoIZTLExWNIUqhMCDGOhACwIIYGGRQMNMoQqjNUBqgOq0AES6gA" rel="nofollow noreferrer" title="APL (Dyalog Classic) â€“ Try It Online">Try it online!</a></p>
<p>I assume the output must be a flat array instead of allowing nested array. If nested array is acceptable then <code>âˆŠ</code> is not needed for -1 byte</p>
<p>Uses the same algorithm as my <a href="https://codegolf.stackexchange.com/a/251282/6972">other submission</a>, but pretty much ungolfed because tacit APL is that good</p>
<pre><code>{â´â´âµ:âˆŠ(â´âµ),(âˆ‡Â¨âµ)+(â´âµ)-(â³â´âµ)â‹„0}  With trains expanded
                                
 â´â´âµ:                           If argument is array
           (âˆ‡Â¨âµ)                  recursive call with each element
                 +(â´âµ)-(â³â´âµ)      add (length of argument - index)
                                    note that APL arrays are 1-based by default
      (â´âµ),                       prepend length of argument
     âˆŠ                            flatten
                           â‹„0   Else return 0

</code></pre>
</div>
<div id="pu5" class="pu"><h1>BQN, 26 bytes</h1>
<pre><code>{(â‰ âˆ¾Â·ğ•Š=âˆ˜âŠ‘â—¶âŸ¨âŸ©â€¿âŠ‘âˆ¾1âŠ¸â†“)âŸ(Ã—â‰ )ğ•©}
</code></pre>
<p><a href="https://mlochbaum.github.io/BQN/try.html#code=RiDihpAge/CdlaniiaDiirjiiL4o8J2Vij3iiJjiipHil7bin6jin6nigL/iipHiiL4x4oq44oaTKeKNnyjDl+KJoCnwnZWpfQoKKOKAolNob3cgRuKImOKAokpzKcKo4p+oCiJbWzEsIDJdLCBbMywgWzQsIDVdXV0iCiJbWzYsIDMsIFsxLCAzLCA0XV0sIDQsIFsyLCAzLCA5LCBbNSwgNl1dXSIKIlszLCA0LCA1XSIKIltbW1tbW1tbMV1dXV1dXV1dIgoiW10iCiJbMSwgW10sIDFdIgoiW1tdLFtbW11dXSxbXV0iCuKfqQpA" rel="nofollow noreferrer">Try it here!</a></p>
<p>-1 byte thanks to @DLosc!</p>
<h2>Explanation</h2>
<ul>
<li><code>â‰ âˆ¾Â·...</code> append input length to...</li>
<li><code>(...)âŸ(Ã—â‰ )ğ•©</code> if input is nonempty...</li>
<li><code>...âˆ¾1âŠ¸â†“</code> append tail to...</li>
<li><code>=âˆ˜âŠ‘â—¶âŸ¨âŸ©â€¿âŠ‘</code> head if head is rank 1 (i.e. list), otherwise empty list</li>
<li><code>ğ•Š</code> recurse</li>
</ul>
</div>
<div id="pu6" class="pu"><h1>Rust, <sup><del>19</del> <del>194</del> <del>185</del></sup> 174  bytes</h1>
<p>Even defining a type for a ragged list is bytes intensive in rust. Still shorter than C :)</p>
<pre class="lang-rs prettyprint-override"><code>enum K{N,Y(Vec&lt;K&gt;)}fn f(k:&amp;K,n:usize)-&gt;Vec&lt;usize&gt;{if let K::Y(b)=k{[n+b.len()].into_iter().chain((1..).zip(b).map(|(i,z)|f(z,b.len()+n-i)).flatten()).collect()}else{vec![n]}}
</code></pre>
<p>Sequences will have a extra 0 at the end. <a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=c8474744bc710deb37a6d0546f7a477b" rel="nofollow noreferrer">Verify all test cases</a></p>
<p>-9 bytes by using <code>Vec</code> instead of array slices</p>
<p>-11 bytes by replacing <code>enumerate</code> with <code>zip</code> and <code>match</code> with <code>if let</code></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 9 bytes</h1>
<pre><code>#l=+|hQYt
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/XznHVrsmIzCy5P//6GgDHQWDWB0FEA1hx8YCAA" rel="nofollow noreferrer" title="Pyth â€“ Try It Online">Try it online!</a></p>
<p>Accepts a ragged list filled with 0s.</p>
<p>Excludes the length of the initial list, and includes the 0 for the final list.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 24 bytes</h1>
<pre><code>#'{$[t~*t:*x;!0;t],1_x}\
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxdT+1ugzAM/J+ncLVJgyoUEhK0EmkvkkUroqFFZWUr2UQ1tc8+89WxOtg4d76zUqQPTz+P2l2XLl22ahEpZyh7ay+vhLgUmfP1lBYA0KpNfVDepsjKSrXqrE6+uRCnPQZcebESIH1fcYiBA7tlZLoRL1GxYkgJXwnlcbytlYQEBTFIEDDVTiJmFr0cZSBV/AfQMRh6/j89jW+gw17WvYf5c63XsZiLaIBHgoRk79xHk4ZhXm/trq6KVeOy/GDbfJ8dd3aV1+/h55dtXFkfm5CL5yTiYensKXPlt63OwdZW1tkgC6qycYRozShwQ0HHmIKCNMZA8AKaU0AIK5tXg4qkZzoh/oRBMerG+TV2kkIyuSAke37eDHbibgFaxz0qb9Jp4xDMjNHTrBfefzg90NjgXZsOu7czFN3Qh2oz5/g0QX4BSgWRIw==" rel="nofollow noreferrer">Try it online!</a></p>
<p>Output includes the length of the initial list and a 0 at the end.</p>
<ul>
<li><code>{...}\</code> set up a scan-converge, seeded with the (implicit) input and run until two successive iterations return the same result
<ul>
<li><code>$[t~*t:*x;!0;t]</code> using <code>$[c;t;f] cond</code>, check if the first item is a list or an atom. if it is an atom, return an empty list (<code>!0</code>); if it is a list, return the first element of that list</li>
<li><code>,1_x</code> append the remainder of the list (dropping the first item)</li>
</ul>
</li>
<li><code>#'</code> return the number of items in each iteration</li>
</ul>
</div>
<div id="pu9" class="pu"><h2>Brev, 85 bytes</h2>
<pre><code>(fn(descend(x)(cons(length x)(desc(if(pair?(car x))(append(car x)(cdr x))(cdr x))))))
</code></pre>
<p>Example:</p>
<pre><code>((fn (descend (x)
              (cons
               (length x)
               (desc
                (if (pair? (car x))
                    (append (car x) (cdr x))
                    (cdr x))))))
 '((1 2) (3 (4 5))))
</code></pre>
<p><code>fn</code> makes a function with an argument <code>x</code>. <code>descend</code> checks if it's null, if it is, return it. Otherwise, <code>cons</code> its <code>length</code> onto a recursive call of <code>descend</code>, where the <code>car</code> of <code>x</code> has been spliced if it's a <code>pair?</code> or dropped if it's an atom. For the test example, it returns <code>(2 3 2 1 2 1 2 1)</code></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 82 bytes</h1>
<pre><code>0
[]
+`..(],?|(((\[)|(?&lt;-4&gt;])|,)+)])(.*)$
$&amp;Â¶[$2$5
.(.((\[)|(?&lt;-3&gt;])|,)*].)*.?
$#1
</code></pre>
<p><a href="https://tio.run/##RY5LCsJADIb3OcWAo2TaGJy2UxDEHiQNVNCFGxfisufyAF5sTKeCgTz/LyHP2@v@uOQtTuO1hgM4yAcQhXpiRqVhRsRRwozDad@dNcwU6qABuQoe/O7zFt/4BIz859qVq5RDxQP4TcxZJJJrlJy05h25pKoAIj25ZRJL6tQIE6Up7dGqRK5f0bZIqWytFvVnsLwMyxGxA7EgSkaYRha@" rel="nofollow noreferrer" title="Retina 0.8.2 â€“ Try It Online">Try it online!</a> Outputs both leading and trailing counts and takes <code>0</code> as the consistent value (since <code>[]</code> is disallowed), but link is to test suite that replaces all non-negative integers with zero and deletes spaces for convenience. Explanation:</p>
<pre><code>0
[]
</code></pre>
<p>Replace <code>0</code>s with empty lists.</p>
<pre><code>+`
</code></pre>
<p>Repeat until the last line is an empty list.</p>
<pre><code>..(],?|(((\[)|(?&lt;-4&gt;])|,)+)])(.*)$
</code></pre>
<p>On the last line, match a list containing either an empty list as its first or only element, or otherwise the contents of the list at the first element.</p>
<pre><code>$&amp;Â¶[$2$5
</code></pre>
<p>Keep the original list to count its elements later and create a new list obtained by prepending the contents (if any) to the rest of the list.</p>
<pre><code>.(.((\[)|(?&lt;-3&gt;])|,)*].)*.?
$#1
</code></pre>
<p>Count the number of elements of each list.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, <s>Â 55 53Â </s> 52 bytes</h1>
<p><em>Saved 2 bytes thanks to <a href="https://codegolf.stackexchange.com/users/77796/pfg">@pfg</a></em><br />
<em>Saved 1 more byte thanks to <a href="https://codegolf.stackexchange.com/users/44718/tsh">@tsh</a> and <a href="https://codegolf.stackexchange.com/users/77796/pfg">@pfg</a></em></p>

<pre class="lang-javascript prettyprint-override"><code>f=a=&gt;[n=a.length,...n?f(a.shift().concat?.(a)??a):a]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bZBLDsIgEIb3noIlJDgJfUVNkIMQFqSW1qSBRfE0brrQQ3kFT-HQ1o0yCc_5_p8Z7g8fLt08P2_R7Q-vykkrz9pLC2Pn-zhwAPDKUQvTcHWRMmiDb21UQC1TyrKTNZv2jZkpjB2MoaeOai04KQwnusRRcVIbYxjb_VINJwkQy1IZFCCri-V4xF3NSZNVlgtZ5zzXEGaLfyJzhQVofFzk_FIXOKfidLJbO_7-2gc" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = a =&gt;           // f is a recursive function taking the input list a[]
[                  // build the output:
  n = a.length,    //   append the length of a[] and save it in n
  ...n ?           //   if a[] is not empty:
    f(             //     do a recursive call:
      a.shift()    //       extract the leading entry and attempt to
      .concat?.(a) //       concatenate it with the remaining entries
      ??a          //       if it fails, just append a[] (the leading entry
                   //       was not an array)
    )              //     end of recursive call
  :                //   else:
    a              //     stop the recursion and return a[] (which is empty)
]                  // end of output
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/FMNSSun/Burlesque" rel="nofollow noreferrer">Burlesque</a>, 32 bytes</h1>
<pre><code>saj{g_Jto'B~[{j_+}qvvIEsaj}qL[w!
</code></pre>
<p><a href="https://tio.run/##VU3LCoJQEN33FZObFuHiPhTCcFG0KNy3kJACCUQoM20xTL9@O/lAPJcZLuc1t@ZV5nXV5I49P/aiyL88c1dfC75np/djtfumXGRrqdr2eAAtVZJ@lq4F9snWl3PpmBVpITbElgIRIT8m1mRIkxpHFswhKHgNWXhsb9kQBxSOIUMBhHH/o3aqQQWiuDBYh9YeSgZ0oqLZg63n8VHYYOYdggZkWSZed9oP" rel="nofollow noreferrer" title="Burlesque â€“ Try It Online">Try it online!</a></p>
<pre><code>saj      # Get initial length
{
 g_      # Pop head from list
 J       # Dup
 to'B~[  # Is Block
 {j_+}   # Prepend elements
 qvv     # Drop
 IE      # If (isBlock) else
 saj     # Length
}
qL[w!    # While non-empty
</code></pre>
</div>
<div id="pu13" class="pu"><h1>JavaScript (ES5), <s>Â 84Â </s> 80 bytes</h1>
<p><em>Saved 4 bytes thanks to <a href="https://codegolf.stackexchange.com/users/44718/tsh">@tsh</a></em></p>
<pre class="lang-js prettyprint-override"><code>function(a){for(r=[];m=a.shift(r.push(a.length));)a=m[0]?m.concat(a):a;return r}
</code></pre>
<p><a href="https://tio.run/##jVJPT4MwFL/vUzx3WNqkNmODRSXEkwc96MFj00NF2DCsJW1ZYpZ9dnyUbcGpiS/QPt77/WlpP9ROudxWjb/e3XSlsSQ32nkQlW5az8C0HmcJpgQxAQwBQkQMFpKBWOIbM0iklIDpggFWcIzGowTJzsxVgPQCOMUSReIz8RazhMHqqIaVJLTHySAbXxiNLZahnZwkfqxgiEgeA4bV/PKMWQE2LkT9dwD9YSMZuqA@E3KEWYyQksI@wIcfbgsHGZCubHXuK6OJovv@OGwmZLrNFHebqvTE8qZ1G6J4Xei131CaUpVtxVzebzkK5coj8U6ltvCt1WAPXW9BSThOmgbDqiRPry/P3Hlb6XVVfhI0p3CVZXBRF5zz4QYwmEsa2LMZ/Jc@UCmlYY@mLnht1mT6YK2xU9Zv@XTBcGWHyTfQYwnaHLug3syuYKDqGnzhvINGOVe8T2nafQE" rel="nofollow noreferrer" title="JavaScript (V8) â€“ Try It Online">Try it online!</a></p>
<p>Formatted and renamed:</p>
<pre class="lang-js prettyprint-override"><code>function(array){
    result = [];
    while(
        result.push(array.length), 
        current = array.shift()
    ) {
        if(current !== +current) { // if current is not a number
            array = current.concat(array);
        }
    }
    return result;
}
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 11 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Oá¸¢;$á¸Šâ¼Â¡ÂµÆ¬áºˆá¹–
</code></pre>
<p>A monadic Link that accepts a ragged list of integers and yields the lengths as a list, including both the initial length and a trailing <code>0</code>.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9//4Y5F1ioPd3Q9atxzaOGhrcfWPNzV8XDntP///0dHm@koGOsoRBuCKZPYWCAB5BqBuZZAlqmOgllsbCwA" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8/9//4Y5F1ioPd3Q9atxzaOGhrcfWPNzV8XDntP86h9uPTnq4c8ajpjVZjxr36dppRv7/Hx0dbaijYBSroxBtDMQmOgqmsbGxXDrR0WY6CiARQzBlEgtUAZSMNgJzLYEsUx0FM4hSY7CUKVgXBBjGQgFQCISBhkQDDTAEKwHZBSRBJgJJrlgA" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">test-suite</a>.</p>
<h3>How?</h3>
<pre><code>Oá¸¢;$á¸Šâ¼Â¡ÂµÆ¬áºˆá¹– - Link: ragged list of positive integers, L
        Æ¬   - collect input, X (initially L), while distinct, applying:
       Âµ    -   this monadic chain - f(X):
O           -     ordinal value (vectorises) -- only here to get us a copy of X
                                                so that we don't mutate it with á¸¢
   $        -     last two links as a monad - f(Y=that):
 á¸¢          -       head Y (alters Y, yields the first element or 0 when given [])
  ;         -       concatenate that with (the altered Y)
      Â¡     -     if...
     â¼      -     ...condition: that equals X? (head of X was an integer)
    á¸Š       -     ...then: dequeue
         áºˆ  - length of each
          á¹– - pop the last length (removes the trailing 1, the length of 0)
</code></pre>
<hr />
<p>Also 11 with no <code>á¸¢</code> and, therefore, no <code>O</code>: <code>1á»‹;á¸Šá¸Šâ¼Â¡ÂµÆ¬áºˆá¹–</code></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 34 bytes</h1>
<pre><code>Print[i+=Length@#-1]#0/@#&amp;[i=1;#]&amp;
</code></pre>
<p><a href="https://tio.run/##JYwxC8IwEIX3/o1ABz3Rq2mhSCCLm4PgWDqE0NoMjSDZjvSvx6cO9917d@9udWmZVpeCd2U25f4OMQ1hb25TfKbFqgOP6nS0qh6C4Ysa6zLb3dUvr@3hXdykEmFqMsmZRFObcyaMOoJlQMNrkgayJ2mp@wewQBbiW0xo/LvDHwARoMrlAw" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) â€“ Try It Online">Try it online!</a></p>
<p>Prints the lengths. Includes a trailing <code>0</code>.</p>
<pre><code>Print[i+=Length@#-1]#0/@#&amp;[i=1;#]&amp;
                          [i=1;#]   initialize i=1 before run
                    #0/@#           in depth-first, prefix order:
      i+=Length@#-1                   add length-1 to i (atoms have length 0)
Print[             ]                  print i
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 266 bytes</h1>

<pre class="lang-c prettyprint-override"><code>#define S *w++=*r++
#define B b+=*r==91?1:-(*r==93)
f(r,b,w)char*r,*w;{w=++r;if(*++r==93)r++,r+=*r?*r==44:-1;else{if(*r!=44)for(b=1;b;B)S;r++;}for(;*r;)S;*w=0;}i;main(b,v,r)char**v,*r;{for(v++;*(*v+2);printf(&quot;%d &quot;,i),f(*v))for(b=0,r=*v,i=1;*++r;B)(!b&amp;&amp;*r==44)&amp;&amp;i++;}
</code></pre>
<p><a href="https://tio.run/##PY7LbsIwEEX3fEWgauTHRMKUDYwsJH6BJfICh7i1VNJqWtmLiG93x6HtZh5X986Zvnvt@1KerkOI49CcGpW1toq0Xvxpx8ZXxdqdOZh9J@bxRS6CIPCQZf92IUWgMk7Zak0Yg1DcZxcfAqrxQ41tt/vO4PD@NUzVREtWZPgg4a1Bj0d5Qg7gvUqoCHlX2a7xHvF2iaPwkIAeQJWADVN1Jo4ooZLeSPykOH4HsXq@NiuIEpiS5C9iDWQ5FplV/2OcWPq2fTwm2zZWdCnlfDZgYC7Guf9xbs65Hw" rel="nofollow noreferrer" title="C (gcc) â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, <s>62</s> 61 bytes</h1>
<p><em>Edit: -1 byte thanks to pajonk</em></p>
<pre><code>f=\(l)if(h&lt;-length(l))c(h,f(c(if(is.list(g&lt;-el(l)))g,l[-1])))</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGCpaUlaboWN23TbGM0cjQz0zQybHRzUvPSSzKAXM1kjQydNI1kDaB4ZrFeTmZxiUa6jW5qDkhOM10nJ1rXMBbIghqSkmMLVgImDHWMNHXALGMIZaJjClTKVVxSBNTNlQYikNVDFSMJaEKFUDVB7II5HAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/maxbergmark/mathgolf/blob/master/math_golf.txt#L140" rel="nofollow noreferrer">MathGolf</a>, 15 (non-competingâ€ ) <a href="https://github.com/maxbergmark/mathgolf/blob/master/code_page.py" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>{â”œ_nnÂ¡Â¿\;+ho}â–²;
</code></pre>
<p>â€  The program above doesn't compile due to a bug in MathGolf with (do-)while loops using blocks above 8 characters. <code>{...}</code> is supposed to be a block for when <code>...</code> contains more than 8 characters, but instead the <code>{</code> behaves as a for-each.</p>
<p>We can remove the <code>{}</code> and trailing <code>;</code> so the do-while works on all preceding characters, so we can verify the test cases. Unfortunately, all test cases will then output an additional trailing empty list <code>[]</code>.<br />
Both programs also fail with an error for input <code>[]</code>.</p>
<p>Outputs each length to STDOUT, without leading length and with trailing 0.</p>
<p><code>â”œ_nnÂ¡Â¿\;+hoâ–²</code>: <a href="https://tio.run/##LUq7DYNAFOtZJW4eHCdFGcVYiIZQEGgySpQqTVbIAkiMwiLHy4FlWf49uudwn8c@pe31aadp/a5Lc7sM8/b@pUQaSoEVGFBLKsgIT@YSJASwdHsFa8S8e@9P/x0wnSjoNFCw/ypkntZFOe4" rel="nofollow noreferrer">Try it online</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>{           }â–²  # Do-while true with pop:
 â”œ              #  Extract and push the left item of the list
                #  (this is where the `[]` test case errors)
  _             #  Duplicate it
   n            #  If it's a list: join it with newline delimiter to a string
                #  If it's an integer: push a newline &quot;\n&quot; character
    nÂ¡          #  Check that this string is NOT equal to &quot;\n&quot;
      Â¿         #  If it's indeed not &quot;\n&quot; (thus it's a list)
       \        #   Swap the top two values
      Â¿         #  Else (it's an integer):
        ;       #   Discard it from the stack
         +      #  If it's a list: merge the top two lists together
                #  If it's an integer: add it to each inner-most value
          h     #  Push the length (without popping the list)
           o    #  Output it with trailing newline (without popping)
             â–²  #  Once the length is 0, the do-while stops
              ; # After the do-while: discard the empty list (since MathGolf
                # implicitly outputs the entire stack at the end of a program)
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 44 bytes</h1>
<pre>def f(x,*r):print-~len(r);x&gt;{}&lt;f(*x+r);f(*r)</pre>
<p><a href="https://ato.pxeger.com/run?1=VVBLCsIwEN33FENXMzVZpD80ikvvIdqgILWECCmiF3HTjXgaD-BtnPQjOEPyZvLeG5I8Xk3rDuc67brnxRk5_4h9ZcCgF4kl3dhj7eT9VNVoaenX19vKYOJn3DBaGj3v4NlgsiUdgbOtNqGOoPK7qnFaQQT9pFhKGUcsRFQCUhKAGa9cQEEcA1MKCIeqh5xYxDymfbvgqhBQ_tRZzxaTdwgl6D8HdgQejDxUTZ5wi7CHZIbGR00f8gU" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Prints to STDOUT; terminates with an error.</p>
<h1><a href="https://github.com/pxeger/whython" rel="nofollow noreferrer">Whython</a>, 37 bytes</h1>
<p>-7 bytes thanks to @ovs</p>
<pre>def f(x,*r):print(len(r)+1);f(*x+r?r)</pre>
<p><a href="https://ato.pxeger.com/run?1=VVBLCsIwEN33FENBmGnTRfpD48Kd9xBNqCC1hIjtWdx0I97Gvbdx0rSCM0zm8948kjxe92ZwzbUdx-fNmWz9WZ20AYO9SCypzp5bhxfdoqVU0tZg0qd2Z2kmvz15j8mBVATODsr4OgLdH3XnlIwgKMRZlsUUMRNRCshJABYcpYCK2AJSC_BDOaWSmMQ45lO74aoSUP_YxYRWy24wKejfAzonFkYWlcuOv4U_vTNC86uWr_gC" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Despite being Whython, this still also terminates with an error.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a>, 57 bytes</h1>
<pre class="lang-factor prettyprint-override"><code>[ [ dup length . unclip [ prepend ] when* ] until-empty ]
</code></pre>
<p><a href="https://tio.run/##lZFNb8IwDIbv/RXvrpOKBC0XkLhOu@yCOFUcqmDWiuCGNNWGqv72zsDSrwvCr2InVvzYSo6pcoVtd9vPr48VTmSZNEq6VMSKShhLzl2Nzdn12Rn9OpuWyAusg6AOIFaLjqLmHv3@pqm9IdzIhQUiWfNuNSPMwz8Q/WmI/cdEWCLu/A0UD8Ae6mHPrIOOJxrK9@81KZ5P5DHPu48w/ej1/Q2a10ZvgjZBgkNloIm/XYYZKlY6N5KVXzXEB@zxkxG/S6zY5Tqks3FX7KWStSRVcTZFSaBUZe0f" rel="nofollow noreferrer" title="Factor â€“ Try It Online">Try it online!</a></p>
<p>Input consists of ragged sequences of <code>f</code> â€” Factor's canonical false value â€” as this saves about 20 bytes over integers.</p>
<ul>
<li><code>[ ... ] until-empty</code> Call <code>[ ... ]</code> on the input until it's empty.</li>
<li><code>dup length .</code> Print the current length of the input non-destructively.</li>
<li><code>unclip</code> Remove the first element from the sequence and place it on top of the data stack.</li>
<li><code>[ prepend ] when*</code> <code>when*</code> is like <code>when</code> except it drops its input value if it's false, but retains its input if it's true (which is any non-false value in Factor). So, prepend it to the input if it's a sequence, or  drop it if it's <code>f</code>.</li>
</ul>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 10 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Î”Dg,Ä‡Di\Ã«Ã¬
</code></pre>
<p>A byte is saved by taking the input filled with <code>1</code>s instead of positive integers.<br />
Outputs the lengths on separated newlines to STDOUT, including a trailing 0.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//3BSXdJ0j7S6ZMYdXH17z/390tKGOYawOkAQzYmMB" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V@m5JlXUFpipaBkX2nLpeRfWgLh6fw/N8UlXedIu0tKZszh1YfX/K@tPbTN/n90dLShjmGsDpAEM2JjdRTAQmAuSADORFIAkQKphACQMBgAhSDyQAqqAGg21FQgKxrMBhEA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Î”      # Loop until the result no longer changes (e.g. until the list is empty):
 D     #  Duplicate the current list
  g    #  Pop and push the length
   ,   #  Pop and output this length with trailing newline to STDOUT
 Ä‡     #  Extract head; pop and push remainder-list and first item separately
  D    #  Duplicate this extracted head
   i   #  If it's a 1:
    \  #   Discard it from the stack
   Ã«   #  Else (it's a list instead)
    Ã¬  #   Prepend-merge it to the remainder-list
</code></pre>
</div>
<div id="pu22" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, <s>27</s> 25 bytes</h1>

<p>Anonymous prefix lambda.</p>
<pre class="lang-apl prettyprint-override"><code>{Ã—â•â†â‰¢âµ:âˆ‡((0â‰ â‰¡âŠƒâµ)/âŠƒâµ),1â†“âµ}
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///v/rw9Ed9Ux@1TXjUuehR71arRx3tGhoGjzoXPOpc@KirGSikqQ@ldQwftU0GMmr/pwHVazzq7QNLrHnUu@XQeuNHbROBBgUHOQPJEA/PYM1qqLm9W3XUFR61TQIS3S0KQEGvYH8/iDHq0dGGOgpGsToK0cZAbKKjYBobG6vOBZIw01EAiRmCKZNYoBqgdLQRmGsJZJnqKJjBFBuDJU2hOiHAMBYKwIIQEmhYNNAgw1h1AA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) â€“ Try It Online">Try it online!</a></p>
<p><code>{</code>â€¦<code>}</code>â€ƒ&quot;dfn&quot;; argument is <code>âµ</code>:</p>
<p>â€ƒ<code>â‰¢âµ</code>â€ƒtally the argument</p>
<p>â€ƒ<code>â•â†</code>â€ƒprint that</p>
<p>â€ƒ<code>Ã—</code>â€ƒsignum of that</p>
<p>â€ƒ<code>:</code>â€ƒif 1 (i.e. there's content):</p>
<p>â€ƒâ€ƒ<code>1â†“âµ</code>â€ƒdrop the first element of the argument</p>
<p>â€ƒâ€ƒ<code>(</code>â€¦<code>),</code>â€ƒprepend:</p>
<p>â€ƒâ€ƒâ€ƒ<code>âŠƒâµ</code>â€ƒthe first element of the argument</p>
<p>â€ƒâ€ƒâ€ƒ<code>(</code>â€¦<code>)/</code>â€ƒreplicated by (i.e. if the following holds true):</p>
<p>â€ƒâ€ƒâ€ƒâ€ƒ<code>âŠƒâµ</code>â€ƒthe first element of the argument</p>
<p>â€ƒâ€ƒâ€ƒâ€ƒ<code>0â‰ â‰¡</code>â€ƒis its depth different from zero? (i.e. a list)</p>
<p>â€ƒâ€ƒ<code>âˆ‡</code>â€ƒrecurse</p>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 15 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ã–â”¬â˜»â•ª&lt;Ã¦Â·Ã«97â•Ï†Âºâ™ B
</code></pre>
<p><a href="https://staxlang.xyz/#p=99c202d83c91fa893937c6eda70642&amp;i=%5B%5B1,+2%5D,+%5B3,+%5B4,+5%5D%5D%5D%0A%5B%5B6,+3,+%5B1,+3,+4%5D%5D,+4,+%5B2,+3,+9,+%5B5,+6%5D%5D%5D&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
<h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 16 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ã¼â•œâ†Î¦â– Yxboâ•Ÿâ¿â–€Ã­â–¼Îµ~
</code></pre>
<p><a href="https://staxlang.xyz/#p=81bd1be8fe5978626fc7fcdfa11fee7e&amp;i=%5B%5B1,+2%5D,+%5B3,+%5B4,+5%5D%5D%5D%0A%5B%5B6,+3,+%5B1,+3,+4%5D%5D,+4,+%5B2,+3,+9,+%5B5,+6%5D%5D%5D&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
<p>a generator.</p>
</div>
<!-- TYYY -->

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/248602/">248602</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




