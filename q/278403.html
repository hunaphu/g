<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::278403</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>040</td><td>Charcoal</td><td>250301T082822Z</td><td><a href="https://codegolf.stackexchange.com/questions/278403/implement-uiuas-tuples-function/278439#278439">Neil</a></td></tr>
<tr d-ix="1"><td>092</td><td>Python 3</td><td>250228T215105Z</td><td><a href="https://codegolf.stackexchange.com/questions/278403/implement-uiuas-tuples-function/278436#278436">att</a></td></tr>
<tr d-ix="2"><td>082</td><td>JavaScript V8</td><td>250227T224821Z</td><td><a href="https://codegolf.stackexchange.com/questions/278403/implement-uiuas-tuples-function/278419#278419">Arnauld</a></td></tr>
<tr d-ix="3"><td>110</td><td>Python 3</td><td>250228T142506Z</td><td><a href="https://codegolf.stackexchange.com/questions/278403/implement-uiuas-tuples-function/278425#278425">BeardedO</a></td></tr>
<tr d-ix="4"><td>124</td><td>Python 2</td><td>250227T233517Z</td><td><a href="https://codegolf.stackexchange.com/questions/278403/implement-uiuas-tuples-function/278420#278420">Lucenapo</a></td></tr>
<tr d-ix="5"><td>009</td><td>Jelly</td><td>250227T170236Z</td><td><a href="https://codegolf.stackexchange.com/questions/278403/implement-uiuas-tuples-function/278409#278409">Jonathan</a></td></tr>
<tr d-ix="6"><td>nan</td><td></td><td>250227T185536Z</td><td><a href="https://codegolf.stackexchange.com/questions/278403/implement-uiuas-tuples-function/278413#278413">Tbw</a></td></tr>
<tr d-ix="7"><td>033</td><td>K ngn/k</td><td>250227T134721Z</td><td><a href="https://codegolf.stackexchange.com/questions/278403/implement-uiuas-tuples-function/278405#278405">ovs</a></td></tr>
<tr d-ix="8"><td>096</td><td>JavaScript Node.js</td><td>250227T132707Z</td><td><a href="https://codegolf.stackexchange.com/questions/278403/implement-uiuas-tuples-function/278404#278404">l4m2</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 40 bytes</h1>
<pre><code>≔ＵＶＳθＮηＮζＥΦＥＸηζ﹪÷ιＸη…⁰ζη⬤ι⬤…ιμ▷´θ⟦νλ⟧⭆¹ι
</code></pre>
<p><a href="https://tio.run/##XY/PasMwDMbveQrRkwIedAx2WHcp7QY7dIQNeik9KImJDYqdpU7W9Mn2FHsl1@poD7voz6cfn6TKUF954hiXh4NtHBZTMN69jMQDBY1vrhvCZ@itazDPFXzli@yivQ9tqXs0//pT6otEB9xQh6@WQxKlLPy34ApOyWXj64F9Mg9rO9pao1VwAz7INRrnQspGI2HJLIyk1VSxXhnfidCm2fXWLfWWStY4@/2ZKdg5BbzPLx5/D8gZ9wpskhYxMrVlTXBUMD3BEZ5hyh6zh3g38hk" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes a string of python code (typically a lambda) as the first input and outputs the tuples in lexicographic order of their reverse. Explanation:</p>
<pre><code>≔ＵＶＳθ
</code></pre>
<p>Input <code>f</code> and evaluate it as Python code, which just gives me the lambda itself as a function object at this point.</p>
<pre><code>ＮηＮζ
</code></pre>
<p>Input <code>n</code> and <code>r</code>.</p>
<pre><code>ＥΦＥＸηζ﹪÷ιＸη…⁰ζη⬤ι⬤…ιμ▷´θ⟦νλ⟧⭆¹ι
</code></pre>
<p>Generate all <code>nʳ</code> tuples of <code>r</code> values from <code>[0..n)</code>, filter on those where <code>f</code> returns true for all pairs with ascending indices, and pretty-print each tuple.</p>
<p>By switching to ATO I can implement a more efficient version for the same byte count (it would normally be 8 bytes longer on TIO):</p>
<pre><code>≔ＵＶＳθＮη⊞υ⟦⟧ＦＮ≔ΣＥηＥΦυ⬤μ▷´θ⟦ξκ⟧⁺μ⟦κ⟧υＥυ⭆¹ι
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TY-_TsNADMb3PIWVySddB4SEEGXpABIDKFIlliiDE9LeCScp96dqnoWlAwieAPEUzPA2-NIiMVmf_fn32c_vjSHXDMT7_WsMq9n5z_fCe7vusRiDGfqrLXGk0OJNv4lhGZzt16iUhic1z6beXezq1qERXURvMGooKxGrwQH-dygFR_QydnhLGzQaUrm2HGQuiwtm7DT8hd6Ts1Rzi_nXZy7YnYbHSqX0gqNPznLS0ogpXo4LE1hQh1OTONFgxTN_8XXjj1--lflsy3n1wdTVDwRCHi9gB5cwZmfZ6cH0Cw" rel="nofollow noreferrer" title="Charcoal – Attempt This Online">Attempt This Online!</a> Link is to verbose version of code. Takes a string of python code (typically a lambda) as the first input and outputs the tuples in lexicographical order of their reverse (it is possible to output the tuples in regular lexicographic order but then the program will crash if there are no matching tuples). Explanation:</p>
<pre><code>≔ＵＶＳθ
</code></pre>
<p>Input <code>f</code> and evaluate it as Python code, which just gives me the lambda itself as a function object at this point.</p>
<pre><code>Ｎη
</code></pre>
<p>Input <code>n</code>.</p>
<pre><code>⊞υ⟦⟧
</code></pre>
<p>Start with one tuple of no elements from <code>[0..n)</code>.</p>
<pre><code>ＦＮ
</code></pre>
<p>Repeat <code>r</code> times...</p>
<pre><code>≔ΣＥηＥΦυ⬤μ▷´θ⟦ξκ⟧⁺μ⟦κ⟧υ
</code></pre>
<p>... for each element of <code>[0..n)</code> and each tuple so far where <code>f</code> returns true for all elements of the tuple and that element, create a new tuple with the extra element.</p>
<pre><code>Ｅυ⭆¹ι
</code></pre>
<p>Pretty-print all of the resulting tuples.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 92 bytes</h1>

<pre class="lang-none prettyprint-override"><code>f=lambda n,r,g:[[]][r:]or[a+[b]for a in f(n,r-1,g)for b in range(n)if all(g(c,b)for c in a)]
</code></pre>
<p><a href="https://tio.run/##PY7RCsIgGEav3VNYMFKyYFk3A/ci4oWraYK5Yavm05va6Op8nCM/TmG@j47GqJiVj/4moSOe6JZzIbhvxei53PNeqNFDCY2DCqUHh4ZonFWflZdOD8hho6C0Fml0JX2p11wlFvFzN3aATVuBch2yFKbXjPDxOVmTWIHJGzfn22RXX567Wv@dQqVgAjN94vCWFm3X/y4ktNu9xhjHM6Bg6UJFC9k6NmnkEromidNPXPLoToUhkYIzWFj4Ag" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 82 bytes</h1>
<p>Expects <code>(n)(f)(r)</code> and prints the valid r-tuples.</p>

<pre class="lang-none prettyprint-override"><code>n=&gt;f=&gt;g=(r,o=[],k=n)=&gt;r?o.every(v=&gt;f(v,k),--k&amp;&amp;g(r,o,k))&amp;&amp;g(r-1,[...o,k]):print(o)
</code></pre>
<p><a href="https://tio.run/##bY/disIwEEbv@xSzsEgGpgF/FpYtE6/WlwgBixh1C6lECQbps3fHeqGFXn0zOfMdyF@d6ssuns7XMn33G@4DG8/mwCpSy9ZRwwHZxHWr92kfs0rCVaIGqSyb2ezwuJMNh7Gck9Vay4PDn3M8hatqsa9sAWBhRbAkUDfKIryZDOBoAMsx4DwNPl5gpMpm/q5aTDa@RsAsYBLkNyCq1avBD1XhCu3b@FvvjkpZCASRwINDYAN3aT2/vA38eQ@dUMko6SV9t8VKTjYqoPKo4rA9CzJ2WPX/" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-none prettyprint-override"><code>n =&gt;             // 1st function taking n
f =&gt;             // 2nd function taking f
g = (            // g = main recursive function taking:
  r,             //   the last argument r
  o = [],        //   o[] = output
  k = n          //   k = counter, starting at n
) =&gt;             //
r ?              // if r is not zero:
  o.every(v =&gt;   //   for each value v in o[]:
    f(           //     invoke the black-box function f
      v, k       //     with v and k
    ),           //
    --k &amp;&amp;       //     decrement k; if it's not zero:
      g(r, o, k) //       do a recursive call to g
                 //       to try the next value of k
  )              //   end of every()
  &amp;&amp;             //   if successful:
    g(           //     do a recursive call to g with:
      r - 1,     //       r - 1
      [...o, k]  //       k appended to o[]
    )            //     end of recursive call
:                // else (r = 0):
  print(o)       //   we have a valid tuple: print it
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 110 bytes</h1>

<pre class="lang-none prettyprint-override"><code>lambda n,r,f:(s for s in product(*[range(n)]*r)if all(f(*a)for a in combinations(s,2)))
from itertools import*
</code></pre>
<p><a href="https://tio.run/##hY9BTsMwEEX3PYXZjSODaFI2FelFgMW0tYslx2PGg5ScPtioiyJSZTfSe//rT5rkk2I3@yERi6JkGYVYYS73Rvr3OeBwPKOKho3bQ1au0Kx8VInp/H0SaN4Y48VC1B8Na@8UhgAOGtRVxaqeaDj6iOIpZsim1VpvHNOgvFgWolAKfwc0c2IfBYLPAgI70xlKTxepgT@kuxJ7j8T/pLZdvxnNtJ8O24Vweyf8UshNeDy0a8q0oHRmV/vt1@q4x/G13y4@d2s9rDtj3z8XZ/4B" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p><code>combinations</code> seems like a long word for code golf but here we are.</p>
<p>@Lucenaposition I did steal your idea inside <code>product</code> which saved 4 bytes vs using <code>repeat=r</code>.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 124 bytes</h1>

<pre class="lang-none prettyprint-override"><code>lambda n,r,g:[x for x in product(*[R(n)]*r)if all(g(x[a/r],x[a%r])for a in R(r*r)if a/r&lt;a%r)]
from itertools import*
R=range
</code></pre>
<p><a href="https://tio.run/##LY6xCoMwFEV3v@IthUQCgtBFaj/C1WZIq7GBmBeuKcSvTxWc7nDOgRv39OXQFtu/ijfrezIUFNTSjZksgzK5QBE8/T5J1OMggtQ1pLNkvBeLyKNpoNUxN2h5FuYsBoHLavA4kNSVBa/k0ozE7Ddya2Skuhp6mLDMJcKFRFbcVauuI1ntXX62svwB" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ṗŒcç/ƇƑ$Ƈ
</code></pre>
<p>A dyadic Link that accepts either the count of objects (implying <code>[1..N]</code>) or a list of indices on the left and the tuple length on the right and uses the preceding Link as the dyadic comparison function, &quot;f&quot;, (in the Try it online links, below, that is in the header section).</p>
<p><strong><a href="https://tio.run/##AS8A0P9qZWxsef88/@G5l8WSY8OnL8aHxpEkxof///9bMCwgMSwgMiwgMywgNCwgNV3/Mw" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong><br />
Or see an example where <code>r</code> is greater than the number of indices <a href="https://tio.run/##ASgA1/9qZWxsef/igbz/4bmXxZJjw6cvxofGkSTGh////1swLCAxLCAyXf80" rel="nofollow noreferrer" title="Jelly – Try It Online">here</a>.<br />
Or see an example where all pairs need comparing <a href="https://tio.run/##AS4A0f9qZWxsef9fQD4xwqz/4bmXxZJjw6cvxofGkSTGh////1swLCAxLCAyLCAzXf8z" rel="nofollow noreferrer" title="Jelly – Try It Online">here</a>, using <code>f=y-x&lt;=1</code>.</p>
<h4>How?</h4>
<pre><code>ṗŒcç/ƇƑ$Ƈ - Link: Indices (or Count); TupleLength
ṗ         - {Indices (or [1..Count])} Cartesian power {TupleLength}
        Ƈ - keep those for which:
       $  -   last two links as a monad - g(Tuple):
 Œc       -     unordered pairs
      Ƒ   -     is invariant under?:
     Ƈ    -       keep those for which:
   ç/     -         reduce using the comparison Link (our &quot;f&quot;)
</code></pre>
</div>
<div id="pu6" class="pu"><p>(Only for the sake of completeness. I suppose the does not actually satisfy the title &quot;Implement ⧅&quot;)</p>
<h1><a href="https://www.uiua.org/" rel="nofollow noreferrer">Uiua 0.15.0-dev.2</a>, <sup><strike></strike></sup> 5 bytes <sup><a href="https://t.ly/aly6S" rel="nofollow noreferrer" title="SBCS for Uiua 0.15">SBCS</a></sup></h1>
<pre><code>⧅^0:⇡
</code></pre>
<p><a href="https://uiua.org/pad?src=0_15_0-dev_2__VHVwbGVzISDihpAg4qeFXjA64oehClR1cGxlcyE8IDUgMwo=" rel="nofollow noreferrer">Try on Uiua Pad!</a></p>
<p>A macro that takes <code>f</code> and returns a function that takes <code>n r</code>.
Note that the name of a macro (second-order function) must end with <code>!</code>.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 33 bytes</h1>
<pre><code>{y(,/'(1&amp;/'z'/')#+!(,!x),,:)/,!0}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxVkE1OwzAQRvc5xcRFtQ0j3LRlY9PsOUMS0ahq0kUaojQLOz/suUUXcDFOwigGAfLmezOfNdIr9OAEKi6ipeI9V1wu7kKBoZWIWioMV1MQiM+3d6lfYzBA8YPio49Xirug0cN+pVlaM7Q0rk1rSqn3T/QON5wBsJTmpb5nQ2KNy4BhiWxiBopkLmd0o2FbgA2AjR0j2Higa//xOqOvujj63q3/7B48xutfcB6oSB/tjmqBguqlLo8t5F13PDfdRdOoIBkDybDkwCH2U/JjxZCRzNtQVDzpQYilQiWiZ8vVGN3qVPKRYzpqOSt0i56qcMirCvILnJIiS1pTZ1821WKK" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>y(,/'(1&amp;/'z'/')#+!(,!x),,:)/,!0   / x=n, y=r, z=f
                            ,!0   / Starting with just the empty tuple
y(                        )/      / Repeat r times:
  ,/'           +!(,!x),,:        /  All concatenations of:
                    !x            /   an integer from 0 to n-1
                        ,:        /   and a current tuple
     (        )#                  /  Keep where:
          z'/'                    /   f applied between the new integer and all values in the old tuple
      1&amp;/'                        /   Is always 1
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 96 bytes</h1>

<pre class="lang-none prettyprint-override"><code>f=&gt;n=&gt;g=r=&gt;r?g(r-1).flatMap(x=&gt;(h=i=&gt;i--?x.every(t=&gt;f(t,i))?[...h(i),[...x,i]]:h(i):[])(n)):[[]]
</code></pre>
<p><a href="https://tio.run/##hc7NCoMwDAfw@95itwRqQecuQuLN255AeijOjw6xUkXap3c62FE9JSE/8s9HL3qqnBnnaLDvei1obYgH4pYcsctbcFGMsun1/NIjeGLoyBCbKMq9rJfaBZiJG5iFQcxLKWUHBsXeeGGUyvYxKxXCgFstlVorO0y2r2VvWygAvAhI7DkgpAgPxNsBoLCvT8T9SgSOL0L@J5LjNxKE5wkIl4DI/zLSTaxf" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/278403/">278403</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




