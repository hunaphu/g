<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::82294</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>015</td><td>K ngn/k</td><td>250114T111033Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/277641#277641">oeuf</a></td></tr>
<tr d-ix="1"><td>021</td><td>APLNARS</td><td>250109T112403Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/277564#277564">Rosario</a></td></tr>
<tr d-ix="2"><td>009</td><td>Uiua</td><td>250106T232801Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/277542#277542">noodle p</a></td></tr>
<tr d-ix="3"><td>004</td><td>Vyxal</td><td>240724T144747Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/274411#274411">lyxal</a></td></tr>
<tr d-ix="4"><td>098</td><td>PHP</td><td>190218T150104Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/180083#180083">Titus</a></td></tr>
<tr d-ix="5"><td>052</td><td>Perl 5 lan</td><td>190215T222753Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/179989#179989">Xcali</a></td></tr>
<tr d-ix="6"><td>116</td><td>Prolog</td><td>160814T084028Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/89785#89785">Leaky Nu</a></td></tr>
<tr d-ix="7"><td>042</td><td>Julia</td><td>160605T065226Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82305#82305">Dennis</a></td></tr>
<tr d-ix="8"><td>109</td><td>java</td><td>160607T031212Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82371#82371">Jack Amm</a></td></tr>
<tr d-ix="9"><td>2321</td><td>APL</td><td>160605T131700Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82316#82316">user2070</a></td></tr>
<tr d-ix="10"><td>007</td><td>Pyth</td><td>160605T042410Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82295#82295">Maltysen</a></td></tr>
<tr d-ix="11"><td>044</td><td>Mathematica</td><td>160605T162947Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82320#82320">DavidC</a></td></tr>
<tr d-ix="12"><td>015</td><td>Actually</td><td>160605T230546Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82328#82328">user4594</a></td></tr>
<tr d-ix="13"><td>017</td><td>J</td><td>160605T045124Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82300#82300">Leaky Nu</a></td></tr>
<tr d-ix="14"><td>062</td><td>Haskell</td><td>160605T095835Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82311#82311">lynn</a></td></tr>
<tr d-ix="15"><td>054</td><td>vim</td><td>160605T061104Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82304#82304">Doorknob</a></td></tr>
<tr d-ix="16"><td>012</td><td>J</td><td>160605T163652Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82321#82321">algorith</a></td></tr>
<tr d-ix="17"><td>011</td><td>MATL</td><td>160605T044134Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82299#82299">Luis Men</a></td></tr>
<tr d-ix="18"><td>051</td><td>JavaScript ES6</td><td>160605T094915Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82310#82310">Neil</a></td></tr>
<tr d-ix="19"><td>007</td><td>Pyke</td><td>160605T104204Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82313#82313">Blue</a></td></tr>
<tr d-ix="20"><td>059</td><td>Python 2</td><td>160605T050538Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82301#82301">Sp3000</a></td></tr>
<tr d-ix="21"><td>005</td><td>05AB1E</td><td>160605T054213Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82302#82302">Adnan</a></td></tr>
<tr d-ix="22"><td>057</td><td>Python</td><td>160605T043624Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82298#82298">Dennis</a></td></tr>
<tr d-ix="23"><td>007</td><td>Jelly</td><td>160605T042554Z</td><td><a href="https://codegolf.stackexchange.com/questions/82294/faro-shuffle-an-array/82296#82296">Leaky Nu</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>16</s> 15 bytes</h1>
<pre><code>{x (,/+2 0N#)/y}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxLs6qu0NDR1zZSMPBT1tSvrOXiqk6LrrDWMNRWtNCMrVVXNOFKizYyBgsYGhhoxgIAQ28MCQ==" rel="nofollow noreferrer">Try it online!</a></p>
<p>Explanation:</p>
<pre><code>{x(,/+2 0N#)/y} Main function. x and y is input
 x(        )/y  Do the following x times to y...
      2 0N#     Reshape: Split y into half
     +          Flip (Transpose)
   ,/           Flatten (Concat + Reduce)
</code></pre>
</div>
<div id="pu1" class="pu"><h1>APL(NARS), 21 chars</h1>
<pre><code>{âˆŠkâ†‘âµ,Â¨âµâŒ½â¨kâ†2Ã·â¨â‰¢âµ}â£â•â•
</code></pre>
<p>I have copy/seen the use of â• from other solution, test:</p>
<pre><code>â•:
  0
â•:
  1 2 3 4
â”Œ4â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1 2 3 4â”‚
â””~â”€â”€â”€â”€â”€â”€â”€â”˜
  {âˆŠkâ†‘âµ,Â¨âµâŒ½â¨kâ†2Ã·â¨â‰¢âµ}â£â•â•
â•:
  11
â•:
  10, 11, 8, 15, 13, 13, 19, 3, 7, 3, 15, 19
â”Œ12â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 10 19 11 3 8 7 15 3 13 15 13 19â”‚
â””~â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Uiua, 9 bytes</h1>
<pre><code>â¥(â™­â‰â†¯2_âˆ)
</code></pre>
<p>Try it: <a href="https://uiua.org/pad?src=0_15_0-dev_1__RiDihpAg4o2lKOKZreKNieKGrzJf4oieKQpGIDIgWzEgMiAzIDQgNSA2IDcgOF0K" rel="nofollow noreferrer">Uiua pad</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 4 bytes</h1>
<pre><code>(IÃ·Y
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJBIiwiIiwiKEnDt1kiLCIiLCIxLCAgWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDhdXG4yLCAgWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDhdXG43LCAgWy0yMywgLTM3LCA1MiwgMCwgLTYsIC03LCAtOCwgODldXG4wLCAgWzQsIDgsIDE1LCAxNiwgMjMsIDQyXVxuMTEsIFsxMCwgMTEsIDgsIDE1LCAxMywgMTMsIDE5LCAzLCA3LCAzLCAxNSwgMTldXG4yMywgWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgMTUsIDE2LCAxNywgMTgsIDE5LCAyMCwgMjEsIDIyLCAyMywgMjQsIDI1LCAyNiwgMjcsIDI4LCAyOSwgMzAsIDMxLCAzMiwgMzMsIDM0LCAzNSwgMzYsIDM3LCAzOCwgMzksIDQwLCA0MSwgNDIsIDQzLCA0NCwgNDUsIDQ2LCA0NywgNDgsIDQ5LCA1MCwgNTEsIDUyLCA1MywgNTQsIDU1LCA1NiwgNTcsIDU4LCA1OSwgNjAsIDYxLCA2MiwgNjMsIDY0LCA2NSwgNjYsIDY3LCA2OCwgNjksIDcwLCA3MSwgNzIsIDczLCA3NCwgNzUsIDc2LCA3NywgNzgsIDc5LCA4MCwgODEsIDgyLCA4MywgODQsIDg1LCA4NiwgODcsIDg4LCA4OSwgOTAsIDkxLCA5MiwgOTMsIDk0LCA5NSwgOTYsIDk3LCA5OCwgOTksIDEwMF0iXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>My 1000th code golf answer ğŸ¥³. My how the time and answers fly.</p>
<h2>Explained</h2>
<pre><code>(IÃ·YÂ­â¡â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ¢âªâ€â€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ£âªâ€â€â€‹â¡â â¡â€Œâ¤â€‹â€â€âªâ¡âªâ âªâ¤âªâ€â€â€‹â¡â â¡â€ŒÂ­
(     # â€â¡n times:
 I    # â€â¢  Split the top of the stack into two equal length lists
  Ã·   # â€â£  Dump those lists onto the stack
   Y  # â€â¤  And interleave
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu4" class="pu"><h1>PHP, 98 bytes</h1>
<pre class="lang-php prettyprint-override"><code>function($a,$n){while($n--)for($z=count($a)/2;$z;)array_splice($a,$z--,0,array_pop($a));return$a;}
</code></pre>
<p><a href="http://sandbox.onlinephpfunctions.com/code/f45082b60e85e0514b5f1c8e59abe07398477e02" rel="nofollow noreferrer">Try it online</a>.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-lan</code>, 52 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>$a=&lt;&gt;;@F=map@F[$_,@F/2+$_],0..$#F/2while$a--;say"@F"
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/18l0dbGztrBzTY3scDBLVolXsfBTd9IWyU@VsdAT09FGcgpz8jMSVVJ1NW1Lk6sVHJwU/r/39BAR8HQUEfBAkiZArExFFvqKAApczAJlrDkMjT8l19QkpmfV/xf19dUz8DQ4L9uTmIeAA" rel="nofollow noreferrer" title="Perl 5 â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1>Prolog, 116 bytes</h1>



<pre class="lang-prolog prettyprint-override"><code>a([],[[],[]]).
a([H,I|T],[[H|U],[I|V]]):-a(T,[U,V]).
f(X,0,X).
f(X,N,Y):-N&gt;0,M is N-1,f(X,M,Z),a(Z,[A,B]),append(A,B,Y).
</code></pre>

<h2>Usage</h2>

<pre class="lang-prolog prettyprint-override"><code>?- f([1,2,3,4,5,6,7,8],2,X).
X = [1, 5, 2, 6, 3, 7, 4, 8] ;
false.
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Julia, <s>45</s> 42 bytes</h1>

<pre><code>a\n=n&gt;0?reshape(a,endof(a)Ã·2,2)'[:]\~-n:a
</code></pre>

<p><a href="http://julia.tryitonline.net/#code=YVxuPW4-MD9yZXNoYXBlKGEsZW5kb2YoYSnDtzIsMiknWzpdXH4tbjphCgpmb3IgKG4sIGEpIGluICgKICAgICgxLCAgMTo4KSwKICAgICgyLCAgMTo4KSwKICAgICg3LCAgWy0yMywgLTM3LCA1MiwgMCwgLTYsIC03LCAtOCwgODldKSwKICAgICgwLCAgWzQsIDgsIDE1LCAxNiwgMjMsIDQyXSksCiAgICAoMTEsIFsxMCwgMTEsIDgsIDE1LCAxMywgMTMsIDE5LCAzLCA3LCAzLCAxNSwgMTldKSwKICAgICgyMywgMToxMDApCikKICAgIHByaW50bG4oYVxuKQplbmQ&amp;input=" rel="nofollow">Try it online!</a></p>

<h3>How it works</h3>

<p>We (re)define the binary operator <code>\</code> for this task. Let <strong>a</strong> be an array and <strong>n</strong> a non-negative integer.</p>

<p>If <strong>n</strong> is positive, we shuffle the array. This is achieved by reshaping it into a matrix of <strong>length(a) Ã· 2</strong> rows and two columns. <code>'</code> transposes the resulting matrix, creating of two rows, then flattening the result with <code>[:]</code>. Since Julia stores matrices in column-major order, this interleaves the two rows.</p>

<p>Afterwards, we call <code>\</code> recursively with the shuffled <strong>a</strong> and <strong>n - 1</strong> (<code>~-n</code>) as arguments, thus performing additional shuffles. Once <strong>n</strong> reaches <strong>0</strong>, we return the current value of <strong>a</strong>.</p>
</div>
<div id="pu8" class="pu"><h1>java, 109 bytes</h1>

<p><code>int[]f(int[]a,int n){for(int x,q=a.length,d[];0&lt;n--;a=d){d=new int[q];for(x=0;x&lt;q;x++)d[(2*x+2*x/q)%q]=a[x];}return a;}</code></p>

<p>Explanation:
There is a pattern to how the elements move when they are faro shuffled:</p>

<p>let x be the original index</p>

<p>let y be the new index</p>

<p>let L be the length of the array</p>

<ul>
<li>y is double x</li>
<li>if x is greater than or equal to half of L then increment y</li>
<li>keep y within the array's bounds</li>
</ul>

<p>or as code: <code>y=(2*x+x/(L/2))%L</code></p>

<p>This assumes that indicies start at 0. Here's the code further explained:</p>

<pre><code>int[] faroShuffle( int[] array, int numberOfShuffles ) {
    //repeat the faro shuffle n times
    for( int index, length=array.length, destination[]; 0&lt;numberOfShuffles--; array=destination ) {
        //new array to copy over the elements
        destination=new int[length];
        //copy the elements into the new array
        for( index=0; index&lt;length; index++ )
            destination[(2*index+2*index/length)%length]=array[index];
        //at the end of each loop, copy the reference to the new array and use it going forward
    }
    return array;
}  
</code></pre>

<p><a href="http://ideone.com/XaSBKg" rel="nofollow">see ideone for test cases</a></p>
</div>
<div id="pu9" class="pu"><h1>APL, <del>23</del> 21 chars</h1>

<pre><code>({âŠƒ,/âµ(â†‘,Â¨â†“)â¨2Ã·â¨â´âµ}â£N)A
</code></pre>

<p>Without the assumption (Thanks to Dennis) and 1 char shorter:</p>

<pre><code>({{âˆŠ,âŒ¿2(2Ã·â¨â‰¢âµ)â´âµ}â£â•)â•
</code></pre>

<p>Try it on <a href="http://tryapl.org/?a=%7B%u2283%2C/%2C%u233F2%282%F7%u2368%u2262%u2375%29%u2374%u2375%7D%u23633%u23738&amp;run" rel="nofollow">online</a>.</p>
</div>
<div id="pu10" class="pu"><h1>Pyth - <s>8</s> 7 bytes</h1>
<p><em>saved 1 byte thanks to @issacg</em></p>
<pre><code>usCc2GE
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=usCc2GE&amp;input=%5B1%2C+2%2C+3%2C+4%2C+5%2C+6%2C+7%2C+8%2C+9%2C+10%2C+11%2C+12%2C+13%2C+14%2C+15%2C+16%2C+17%2C+18%2C+19%2C+20%2C+21%2C+22%2C+23%2C+24%2C+25%2C+26%2C+27%2C+28%2C+29%2C+30%2C+31%2C+32%2C+33%2C+34%2C+35%2C+36%2C+37%2C+38%2C+39%2C+40%2C+41%2C+42%2C+43%2C+44%2C+45%2C+46%2C+47%2C+48%2C+49%2C+50%2C+51%2C+52%2C+53%2C+54%2C+55%2C+56%2C+57%2C+58%2C+59%2C+60%2C+61%2C+62%2C+63%2C+64%2C+65%2C+66%2C+67%2C+68%2C+69%2C+70%2C+71%2C+72%2C+73%2C+74%2C+75%2C+76%2C+77%2C+78%2C+79%2C+80%2C+81%2C+82%2C+83%2C+84%2C+85%2C+86%2C+87%2C+88%2C+89%2C+90%2C+91%2C+92%2C+93%2C+94%2C+95%2C+96%2C+97%2C+98%2C+99%2C+100%5D%0A23&amp;debug=0" rel="nofollow noreferrer">Try it online here</a>.</p>
</div>
<div id="pu11" class="pu"><h1>Mathematica 44 bytes</h1>
<p>With 4 bytes saved thanks to @miles.</p>
<pre><code>Riffle@@TakeDrop[#,Length@#/2]&amp;~Nest~##&amp;
</code></pre>
<hr />
<p><code>Riffle @@ TakeDrop[#, Length@#/2] &amp;~Nest~## &amp;[list, nShuffles]</code> splits the list into two equal sublists and shuffles (<code>Riffle</code>s) them.</p>
<hr />
<pre><code> Riffle @@ TakeDrop[#, Length@#/2] &amp;~Nest~## &amp;[Range@8, 1]
</code></pre>
<p>{1, 5, 2, 6, 3, 7, 4, 8}</p>
<hr />
<pre><code>Riffle @@ TakeDrop[#, Length@#/2] &amp;~Nest~## &amp;[Range@100, 23]
</code></pre>
<p>{1, 30, 59, 88, 18, 47, 76, 6, 35, 64, 93, 23, 52, 81, 11, 40, 69,
98, 28, 57, 86, 16, 45, 74, 4, 33, 62, 91, 21, 50, 79, 9, 38, 67, 96,
26, 55, 84, 14, 43, 72, 2, 31, 60, 89, 19, 48, 77, 7, 36, 65, 94, 24,
53, 82, 12, 41, 70, 99, 29, 58, 87, 17, 46, 75, 5, 34, 63, 92, 22,
51, 80, 10, 39, 68, 97, 27, 56, 85, 15, 44, 73, 3, 32, 61, 90, 20,
49, 78, 8, 37, 66, 95, 25, 54, 83, 13, 42, 71, 100}</p>
</div>
<div id="pu12" class="pu"><h2>Actually, 15 bytes</h2>
<pre><code>`;lÂ½â‰ˆ@â”‚t)HZâ™‚i`n
</code></pre>
<p><a href="http://actually.tryitonline.net/#code=YDtswr3iiYhA4pSCdClIWuKZgmlgbg&amp;input=WzEsMiwzLDQsNSw2LDcsOF0KNQ" rel="nofollow noreferrer">Try it online!</a></p>
<p>Explanation:</p>
<pre><code>`;lÂ½â‰ˆ@â”‚t)HZâ™‚i`n
`            `n  do the following n times:
 ;lÂ½â‰ˆ              push half the length of the array
     @             swap
      â”‚            duplicate entire stack
       t)H         last L//2 elements, first L//2 elements
          Zâ™‚i      zip, flatten each element
</code></pre>
</div>
<div id="pu13" class="pu"><h1>J, <s>22</s> <s>19</s> 17 bytes</h1>
<p>3 bytes <a href="https://codegolf.stackexchange.com/a/6554/48934">thanks to @Gareth</a>.</p>
<p>2 bytes thanks to <a href="https://codegolf.stackexchange.com/users/5138/algorithmshark">@algorithmshark</a>.</p>
<pre><code>-:@#({.,@,.}.)]^:
</code></pre>
<h3>Usage</h3>
<pre><code>&gt;&gt; f =: -:@#({.,@,.}.)]^:
&gt;&gt; 2 f 1 2 3 4 5 6 7 8
&lt;&lt; 1 3 5 7 2 4 6 8
</code></pre>
<p>Where <code>&gt;&gt;</code> is STDIN and <code>&lt;&lt;</code> is STDOUT.</p>
<h2>Previous 22-byte version:</h2>
<pre><code>({~[:,/@|:@i.2,-:@#)^:
</code></pre>
<h3>Usage</h3>
<pre><code>&gt;&gt; f =: ({~[:,/@|:@i.2,-:@#)^:
&gt;&gt; 2 f 1 2 3 4 5 6 7 8
&lt;&lt; 1 3 5 7 2 4 6 8
</code></pre>
<p>Where <code>&gt;&gt;</code> is STDIN and <code>&lt;&lt;</code> is STDOUT.</p>
</div>
<div id="pu14" class="pu"><h1>Haskell, 62 bytes</h1>

<pre><code>0!a=a
n!a|s&lt;-length a=(n-1)![a!!mod(div(s*i+i)2)s|i&lt;-[0..s-1]]
</code></pre>

<p>Let <em>s</em> = 2Â·<em>t</em> be the size of the list. The <em>i</em>-th element of the new list is obtained by taking the <a href="https://i.sstatic.net/ZM1kJ.png" rel="noreferrer"><img src="https://i.sstatic.net/ZM1kJ.png" alt="enter image description here"></a>-th element of the old list, zero-indexed, modulo <em>s</em>.</p>

<p>Proof: if <em>i</em> = 2Â·<em>k</em> is even, then</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://i.sstatic.net/s4ur9.png" rel="noreferrer"><img src="https://i.sstatic.net/s4ur9.png" alt="enter image description here"></a></p>

<p>and if <em>i</em> = 2Â·<em>k</em> + 1 is odd, then</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://i.sstatic.net/7ZHnm.png" rel="noreferrer"><img src="https://i.sstatic.net/7ZHnm.png" alt="enter image description here"></a></p>

<p>Thus the values used for indexing are 0, <em>t</em>, 1, <em>t</em> + 1, 2, <em>t</em> + 2, â€¦</p>
</div>
<div id="pu15" class="pu"><h2>vim, <s>62</s> <s>59</s> 54</h2>

<pre><code>qrma50%mb:norm@q&lt;cr&gt;ggqOjdd'apjma'b@q&lt;esc&gt;0"qDJ&lt;C-a&gt;D@"i@r&lt;esc&gt;xxdd@"
</code></pre>

<p>Wow. This is possibly the hackiest thing I've written for PPCG, and that's saying something.</p>

<p>Input is taken as N on the first line followed by the elements of the array, each on its own line.</p>

<pre><code>qr         first, we're going to record the contents of the @r macro. this is
             the macro which does the faro-shuffle operation.
  ma       set the mark 'a at the beginning of the file
  50%      move to the 50% point of the file (i.e. halfway down)
  mb       set another mark here
  :norm@q  evaluate the recursive macro @q. we'll get to what that does later,
             but the interesting part here is that it's :norm@q instead of @q.
             this is because a recursive macro terminates at the end of the
             file, which means when @q terminates, @r would also abort, which
             would make calling it with a count impossible. running @q under
             :norm prevents this.
  gg       move back to the top of the file for the next iteration
q          end recording
O          now we're inserting contents of the @q macro, the recursive part
             we can't record it directly because it's destructive
  j        move to line directly below mark 'b (which was just set before @q)
  dd       delete this line and bring it...
  'ap      up after mark 'a (which starts on line 1, bringing the N/2th line
             directly below line 1, aka line 2)
  jma      replace mark 'a one line below this so that the next time we call
             'ap, the line from the second half is interleaved with the lines
             from the first half
  'b       jump back to mark 'b (remember, 'b is the last line of the first
             half of the file, originally reached via 50%)
  @q       call ourselves, causing the macro to run until hitting EOF
0"qD       delete this into register "q
J          delete the empty line that remains
&lt;C-a&gt;      here's another interesting bit: we want to run @r N times. but 0@r
             means "go to column 0, and then run @r once." so we have to
             increment the input number...
D@"        and then *that* many times...
  i@r        insert @r...
xx         ... and finally, delete two characters, which is the extra @r from
             the increment
dd         delete the sequence of @rs into the "" register...
@"         and run it!
</code></pre>

<p>I actually possibly found several vim bugs while writing this answer:</p>

<ul>
<li><p>recording macros is not possible within other macros (when setting their text manually, not with <code>q</code>) or within <code>:*map</code>s.</p></li>
<li><p><code>:let @a='&lt;C-v&gt;&lt;cr&gt;'&lt;cr&gt;i&lt;C-r&gt;a</code> outputs two newlines, not one, for whatever arcane reason.</p></li>
</ul>

<p>I might investigate those further later.</p>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/31716/dr-green-eggs-and-ham-dj">Dr Green Eggs and Ham DJ</a> for 3 bytes!</p>
</div>
<div id="pu16" class="pu"><h1>J - 12 bytes</h1>

<p>Adverb (!) taking number of shuffles on the left and the array to shuffle on the right.</p>

<pre><code>/:#/:@$0,#^:
</code></pre>

<p>The J parser has <a href="http://www.jsoftware.com/help/dictionary/dicte.htm">rules for writing tacit adverbs</a>, but they have very low precedence: if you want to use a train of verbs as a left argument, you can omit an otherwise necessary set of parentheses. So the above is actually short for <code>(/:#/:@$0,#)^:</code>, which takes the number of shuffles on the left as an adverb, and then becomes a monadic function taking the array to shuffle on the right.</p>

<p>That said, we shuffle as follows. <code>#</code> is the length of the array, so <code>0,#</code> is a two element list: 0 followed by something nonzero. Then <code>#/:@$</code> replicates that into a list as long as the input array, and takes its <strong>sort vector</strong>.</p>

<p>The sort vector of a list is the information for how to sort the list: the (0-based) invdex of the smallest element, followed by the index of the next-smallest, and so on. For example, the sort vector of <code>0 1 0 1 ...</code> will thus be <code>0 2 4 ... 1 3 5 ...</code>.</p>

<p>If J were now to sort this sort vector, it would Faro-shuffle it; but that would be trivial, since we'd get <code>0 1 2 3 ...</code> back. So we use <a href="http://www.jsoftware.com/help/dictionary/d422.htm">dyadic <code>/:</code></a> to sort the input array <strong>as if it were</strong> <code>0 2 4 ... 1 3 5 ...</code>, which Faro-shuffles it.</p>

<p>Example usage below. Try it yourself at <a href="https://a296a8f7c5110b2ece73921ddc2abbaaa3c90d10.googledrive.com/host/0B3cbLoy-_9Dbb0NaSk9MRGE5UEU/index.html#code=2%20%28%2F%3A%23%2F%3A%40%240%2C%23%5E%3A%29%201%202%203%204%205%206%207%208">tryj.tk</a>!</p>

<pre><code>   1 (/:#/:@$0,#^:) 1 2 3 4 5 6 7 8
1 5 2 6 3 7 4 8

   f =: /:#/:@$0,#^:

   2  f  1 2 3 4 5 6 7 8
1 3 5 7 2 4 6 8

   7  f  _23 _37 52 0 _6 _7 _8 89   NB. "negative 1" is spelled _1
_23 _6 _37 _7 52 _8 0 89

   1  f  0 0 0 0 1 1 1              NB. odd-length lists
0 1 0 1 0 1 0
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 11 bytes</h1>
<pre><code>w:&quot;tn2/e!1e
</code></pre>
<p><em>Thanks to @Dennis for a correction</em></p>
<p><a href="http://matl.tryitonline.net/#code=dzoidG4yL2UhMWU&amp;input=MjMKWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgMTUsIDE2LCAxNywgMTgsIDE5LCAyMCwgMjEsIDIyLCAyMywgMjQsIDI1LCAyNiwgMjcsIDI4LCAyOSwgMzAsIDMxLCAzMiwgMzMsIDM0LCAzNSwgMzYsIDM3LCAzOCwgMzksIDQwLCA0MSwgNDIsIDQzLCA0NCwgNDUsIDQ2LCA0NywgNDgsIDQ5LCA1MCwgNTEsIDUyLCA1MywgNTQsIDU1LCA1NiwgNTcsIDU4LCA1OSwgNjAsIDYxLCA2MiwgNjMsIDY0LCA2NSwgNjYsIDY3LCA2OCwgNjksIDcwLCA3MSwgNzIsIDczLCA3NCwgNzUsIDc2LCA3NywgNzgsIDc5LCA4MCwgODEsIDgyLCA4MywgODQsIDg1LCA4NiwgODcsIDg4LCA4OSwgOTAsIDkxLCA5MiwgOTMsIDk0LCA5NSwgOTYsIDk3LCA5OCwgOTksIDEwMF0K" rel="nofollow noreferrer"><strong>Try it online!</strong></a></p>
<h3>Explanation</h3>
<pre><code>w         % Take the two inputs N and A. Swap them
:         % Generate [1 2 ... N]
&quot;         % Repeat N times
  tn2/    %   Duplicate A. Number of elements divided by 2
  e       %   Reshape to that number of rows
  !       %   Transpose
  1e      %   Reshape to one row
          % End (implicit)
          % Display (implicit)
</code></pre>
</div>
<div id="pu18" class="pu"><h2>JavaScript (ES6), <s>61</s> 51 bytes</h2>

<pre><code>(n,a)=&gt;[...a].map((e,i)=&gt;a[(i&lt;&lt;n)%~-a.length||i]=e)
</code></pre>

<p>Modifies the input array in place and returns a copy of the original array. If this is unacceptable, <code>&amp;&amp;a</code> can be suffixed to return the modified array. Only works for small values of <code>n</code> due to the limitations of JavaScript's integer arithmetic. <s>61</s> 60 byte recursive version that works with larger <code>n</code>, based on @Lynn's formula:</p>

<pre><code>f=(n,a,l=a.length)=&gt;n?f(n-1,a.map((_,i)=&gt;a[(i*-~l&gt;&gt;1)%l])):a
</code></pre>
</div>
<div id="pu19" class="pu"><h2>Pyke, 7 bytes</h2>
<pre><code>VDlec,s
</code></pre>
<p><a href="http://pyke.catbus.co.uk/?code=VDlec%2Cs&amp;input=7%0A%5B-23%2C+-37%2C+52%2C+0%2C+-6%2C+-7%2C+-8%2C+89%5D" rel="nofollow noreferrer">Try it here!</a></p>
<pre><code>V       - Repeat N times:
 D      -  a,b = a (2nd arg first time round)
  le    -  b = len(b)//2
    c   -  a = chunk(a,b)
     ,  -  a = zip(*a)
      s -  a = sum(a, [])
</code></pre>
</div>
<div id="pu20" class="pu"><h2>Python 2, 59 bytes</h2>

<pre class="lang-py prettyprint-override"><code>def f(n,L):exec"l=len(L)/2;L=(L+L[1:]*~-l)[::l];"*n;print L
</code></pre>

<p>A different approach, slightly longer than the other Python answers. Only works for positive even numbers of elements.</p>

<p>e.g. for <code>1, [1,2,3,4,5,6,7,8]</code>, take the array and append <code>len(L)/2-1</code> copies of itself minus the first element, e.g.</p>

<pre><code>[1,2,3,4,5,6,7,8,2,3,4,5,6,7,8,2,3,4,5,6,7,8,2,3,4,5,6,7,8]
</code></pre>

<p>Then take every <code>len(L)/2</code>th element.</p>

<pre><code>[1,2,3,4,5,6,7,8,2,3,4,5,6,7,8,2,3,4,5,6,7,8,2,3,4,5,6,7,8]
 ^       ^       ^       ^       ^       ^       ^       ^
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="http://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 5 bytes</h1>
<p>Code:</p>
<pre><code>F2Ã¤Ã¸Ëœ
</code></pre>
<p>Explanation, input: <code>N</code>, <code>array</code>:</p>
<pre><code>F      # Do the following N times
 2Ã¤    # Split the array into 2 pieces
   Ã¸   # Zip
    Ëœ  # Deep flatten
</code></pre>
<p>Uses the <strong>CP-1252</strong> encoding. <a href="http://05ab1e.tryitonline.net/#code=RjLDpMO4y5w&amp;input=NwpbLTIzLCAtMzcsIDUyLCAwLCAtNiwgLTcsIC04LCA4OV0" rel="noreferrer">Try it online!</a>.</p>
</div>
<div id="pu22" class="pu"><h1>Python, <s>68</s> 57 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda n,x:n and f(n-1,sum(zip(x,x[len(x)/2:]),()))or x
</code></pre>

<p><em>Thanks to @Sp3000 for golfing off 11 bytes!</em></p>

<p>Test it on <a href="http://ideone.com/Qv78Sp">Ideone</a>.</p>
</div>
<div id="pu23" class="pu"><h1>Jelly, <s>9</s> 7 bytes</h1>

<p>2 bytes thanks to Dennis!</p>

<pre><code>Å“s2ZFÃ°Â¡
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=xZNzMlpGw7DCoQ&amp;input=&amp;args=WzEsMiwzLDQsNSw2LDcsOF0+Mg" rel="nofollow">Try it online!</a></p>

<h3>Explanation</h3>

<pre><code>Å“s2ZFÃ°Â¡  Main dyadic chain. Arguments: x,y
      Â¡  Repeat the following y time:
Å“s2          Split into two.
   Z         Transpose.
    F        Flatten.
</code></pre>

<h2>Previous 9-byte version:</h2>

<pre><code>Å“s2ZF
Ã‡â´Â¡
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=xZNzMlpGCsOH4oG0wqE&amp;input=&amp;args=WzEsMiwzLDQsNSw2LDcsOF0+Mg" rel="nofollow">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/82294/">82294</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




