<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::279109</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>8812</td><td>Python 3</td><td>250409T190142Z</td><td><a href="https://codegolf.stackexchange.com/questions/279109/count-number-of-families-of-sets-satisfying-a-list-of-criteria/279120#279120">CursorCo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, SCORE: 8812</h1>

<pre class="lang-python prettyprint-override"><code>from itertools import *
from functools import *

def power_set(lis):
    lis = sorted(lis)
    return list(chain.from_iterable(combinations(lis, r) for r in range(len(lis)+1)))

def get_families(lis, closed=False):
    ret_val = []
    for family in power_set(power_set(lis)):
        if not family or not any(family):
            continue
        if closed:
            for p1, p2 in combinations(family, 2):
                if tuple(sorted(set(p1+p2))) not in family:
                    break
            else:
                ret_val.append(family)
        else:
            ret_val.append(family)
    return ret_val

x_k = [3,10,45,92]
idk = lambda i: x_k[i]
op1 = lambda x,y: x+y
op2 = lambda x,y: x*y
df1 = 0
df2 = 1

final_score = 0
for f in range(4):
    total = 0
    families = get_families(range(f+1), False)
    for family in families:
        for k in range(f+1):
            lhs = df1
            rhs = df1
            for A in family:
                if k in A:
                    lhs = op1(lhs, reduce(op2, map(idk, A), df2))
                else:
                    rhs = op1(rhs, reduce(op2, map(idk, A), x_k[k]))
            if lhs &gt;= rhs:
                total += 1
                break
    # print(total, &quot;/&quot;, len(families))
    print(f&quot;c{f+1}: {total}&quot;)
    final_score += len(families) - total
print(f&quot;SCORE: {final_score}&quot;)
</code></pre>
<p><a href="https://tio.run/##fVTBjtowEL37K0b0kizulrC7hyJRCVXttVJ7XKHIJM5ikdiWY9qNVvvtdMYOCgEWX5LMzHvz/GbAdn5r9MPhUDnTgPLSeWPqFlRjjfNwx0K82uviLM5KWYE1/6TLW@mTWrXpggEefIMltFglyxAOUSf93mlK@qTYCqXviTinhmJTy6QwzUZp4ZXRLaE4uBQq48CB0uCEfpFJLXUgnGZpmkYBL9LnlWhUrWQPK2rTynL5U9St7BVh7/yvqFHV8zoEiDegOiIfLjG@To@moyrQxh8xiKYvobskRk4q6RRGe6X38hQeZY3rSIbNONg5yRg5EHk5zM@oeza/t@hZ73FQnk3tHF0JwpAs4i@xdDZOit0oI9Gry9retnthrdTl8arsY9ANQD/@voKx13xH43jg2Yw/PvGv8zVTJYVq0WxKAWoBWPKs1szYbAi/8g4T0w6j8/PoXcfKimpn@KRsxliFhtZ5WxgnQyIMfliox95db3xYj1ncjn6fMDBar4ipcPs4xPW6skzH6sEZyu@GnoQf21ZvqRVqH5t5NUpkq1sDxuUIzVbXZx97oacJvuFvTJb7QiboJodG2ARnwGGF90MH0/SC4fqeDGqJ193kpaHu1mfUqJl0fVsSzSV/nM6UBvrxKn8C65T2SSjmMPky4UD/F8d59C1jUTUp3nAO7wt4C/Xvk36UJ@uC/UZ4@ByFsCPFn@@/fv9AhhMQ8hwO/wE" rel="nofollow noreferrer" title="Python 3 â€“ Try It Online">Try it online!</a></p>
<p>Operation 1 is sum, operation 2 is product, <span class="math-container">\$x_k=[3,10,45,92]\$</span>.
This results in counts of 2, 12, 213, 56765.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/279109/">279109</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




