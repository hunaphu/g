<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::189668</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>4465</td><td>C</td><td>250118T080858Z</td><td><a href="https://codegolf.stackexchange.com/questions/189668/y2k-in-2019/277737#277737">Xuesong </a></td></tr>
<tr d-ix="1"><td>201</td><td>AutoHotkey v2</td><td>241216T121136Z</td><td><a href="https://codegolf.stackexchange.com/questions/189668/y2k-in-2019/277297#277297">Xuesong </a></td></tr>
<tr d-ix="2"><td>272</td><td>Go</td><td>190810T174237Z</td><td><a href="https://codegolf.stackexchange.com/questions/189668/y2k-in-2019/189671#189671">Purple P</a></td></tr>
<tr d-ix="3"><td>100</td><td>Ruby</td><td>190810T213323Z</td><td><a href="https://codegolf.stackexchange.com/questions/189668/y2k-in-2019/189686#189686">Shelvacu</a></td></tr>
<tr d-ix="4"><td>080</td><td>Pyth</td><td>190812T195128Z</td><td><a href="https://codegolf.stackexchange.com/questions/189668/y2k-in-2019/189832#189832">Shelvacu</a></td></tr>
<tr d-ix="5"><td>193</td><td>C# Visual C# Interactive Compiler</td><td>190812T031512Z</td><td><a href="https://codegolf.stackexchange.com/questions/189668/y2k-in-2019/189757#189757">Gymhgy</a></td></tr>
<tr d-ix="6"><td>116</td><td>JavaScript ES6</td><td>190811T090445Z</td><td><a href="https://codegolf.stackexchange.com/questions/189668/y2k-in-2019/189708#189708">Endenite</a></td></tr>
<tr d-ix="7"><td>216</td><td>Haskell</td><td>190810T225548Z</td><td><a href="https://codegolf.stackexchange.com/questions/189668/y2k-in-2019/189689#189689">B. Mehta</a></td></tr>
<tr d-ix="8"><td>106</td><td>Perl 6</td><td>190810T234132Z</td><td><a href="https://codegolf.stackexchange.com/questions/189668/y2k-in-2019/189692#189692">Jo King</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>C, 4465 bytes</h1>
<p><code>Nxx</code> are macros to put at the end of the file. So that the end character has not to be a <code>;</code> or <code>}</code>. When one of the macro is at the end of file, like <code>N95</code>, it's actually a function definition <code>int n(){return 96;}</code></p>
<pre class="lang-c prettyprint-override"><code>#include&lt;stdio.h&gt;
#define F(x) int n(){return x;}
#define N F(0)
#define N00 F(1)
#define N01 F(2)
/* N02 ... N98 */
#define N98 F(99)
#define N99 F(100)
int n();char*m=&quot;BREAKING NEWS: WORLD ENDS&quot;,*s=&quot;#include&lt;stdio.h&gt;%c#define F(x) int n(){return x;}%c#define N F(0)%c#define N00 F(1)%c#define N01 F(2)%c#define N02 F(3)%c#define N03 F(4)%c#define N04 F(5)%c#define N05 F(6)%c#define N06 F(7)%c#define N07 F(8)%c#define N08 F(9)%c#define N09 F(10)%c#define N10 F(11)%c#define N11 F(12)%c#define N12 F(13)%c#define N13 F(14)%c#define N14 F(15)%c#define N15 F(16)%c#define N16 F(17)%c#define N17 F(18)%c#define N18 F(19)%c#define N19 F(20)%c#define N20 F(21)%c#define N21 F(22)%c#define N22 F(23)%c#define N23 F(24)%c#define N24 F(25)%c#define N25 F(26)%c#define N26 F(27)%c#define N27 F(28)%c#define N28 F(29)%c#define N29 F(30)%c#define N30 F(31)%c#define N31 F(32)%c#define N32 F(33)%c#define N33 F(34)%c#define N34 F(35)%c#define N35 F(36)%c#define N36 F(37)%c#define N37 F(38)%c#define N38 F(39)%c#define N39 F(40)%c#define N40 F(41)%c#define N41 F(42)%c#define N42 F(43)%c#define N43 F(44)%c#define N44 F(45)%c#define N45 F(46)%c#define N46 F(47)%c#define N47 F(48)%c#define N48 F(49)%c#define N49 F(50)%c#define N50 F(51)%c#define N51 F(52)%c#define N52 F(53)%c#define N53 F(54)%c#define N54 F(55)%c#define N55 F(56)%c#define N56 F(57)%c#define N57 F(58)%c#define N58 F(59)%c#define N59 F(60)%c#define N60 F(61)%c#define N61 F(62)%c#define N62 F(63)%c#define N63 F(64)%c#define N64 F(65)%c#define N65 F(66)%c#define N66 F(67)%c#define N67 F(68)%c#define N68 F(69)%c#define N69 F(70)%c#define N70 F(71)%c#define N71 F(72)%c#define N72 F(73)%c#define N73 F(74)%c#define N74 F(75)%c#define N75 F(76)%c#define N76 F(77)%c#define N77 F(78)%c#define N78 F(79)%c#define N79 F(80)%c#define N80 F(81)%c#define N81 F(82)%c#define N82 F(83)%c#define N83 F(84)%c#define N84 F(85)%c#define N85 F(86)%c#define N86 F(87)%c#define N87 F(88)%c#define N88 F(89)%c#define N89 F(90)%c#define N90 F(91)%c#define N91 F(92)%c#define N92 F(93)%c#define N93 F(94)%c#define N94 F(95)%c#define N95 F(96)%c#define N96 F(97)%c#define N97 F(98)%c#define N98 F(99)%c#define N99 F(100)%cint n();char*m=%cBREAKING NEWS: WORLD ENDS%c,*s=%c%s%c,r=10;int main(){n()&lt;100?printf(s,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,34,34,34,s,34,n()):printf(m);}N%02d&quot;,r=10;int main(){n()&lt;100?printf(s,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,34,34,34,s,34,n()):printf(m);}N
</code></pre>
<p>Not a competitive answer. But I've been tried for a long time on this challenge with C language. Still cannot find a way to reduce the <code>#define</code> macros.</p>
<p><a href="https://godbolt.org/z/9d6q7nK3a" rel="nofollow noreferrer">Try it online</a></p>
<h2>Explanation</h2>
<pre class="lang-c prettyprint-override"><code>#include&lt;stdio.h&gt;
#define F(x) int n(){return x;}
#define N F(0)
#define N00 F(1)
#define N01 F(2)
/* N02 ... N98 */
#define N98 F(99)
#define N99 F(100)
</code></pre>
<pre class="lang-c prettyprint-override"><code>int n();                            // forward declaration
char*m=&quot;BREAKING NEWS: WORLD ENDS&quot;  // the final output
        ,*s=&quot;...N%02d&quot;              // format string for step 1 to step 99 output. %02d will format the number at EOF
        ,r=10;                      // the char `\n`, defined for saving bytes
int main(){
    n()&lt;100?
        printf(s,r,...,n()):        // for step 1 to 99, print the quine itself, plus the trailing number
}
N                                   // the actual implementation of function n()
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.autohotkey.com/" rel="nofollow noreferrer">AutoHotkey</a> (v2), 201 bytes</h1>
<pre class="lang-none prettyprint-override"><code>SetTimer(()=&gt;MsgBox(n&lt;199?Format(s:=&quot;SetTimer(()=&gt;MsgBox(n&lt;199?Format(s:={:c}{}{1:c},34,s,n&lt;2?0:n-99):'BREAKING NEWS: WORLD ENDS'),-1),n:=1{3:02}&quot;,34,s,n&lt;2?0:n-99):'BREAKING NEWS: WORLD ENDS'),-1),n:=1
</code></pre>
<p>AHK does not allow to use a variable before initialization. I could not find a way to read a value at script end and was almost giving up. However, enlightened by <a href="https://codegolf.stackexchange.com/a/189708/118706">Endenite's answer</a>, I managed to achieve it with <code>SetTimer</code>.</p>
</div>
<div id="pu2" class="pu"><h1>Go, <s>382 366 354 340 305 298</s> 272 bytes</h1>

<p>Won't win but I had fun with the challenge.</p>

<pre><code>package main
func main(){if n&lt;199{s+="\x60,"
print(s[:135],s,100+(n/100)*(n%100+1))}else{print("BREAKING NEWS: WORLD ENDS")}}
var s,n=`package main
func main(){if n&lt;199{s+="\x60,"
print(s[:135],s,100+(n/100)*(n%100+1))}else{print("BREAKING NEWS: WORLD ENDS")}}
var s,n=`,1
</code></pre>

<p><a href="https://play.golang.org/p/uWv_EO6Jxzd" rel="nofollow noreferrer">Try it on the Go Playground!</a></p>

<p>Based on a quine. If the variable <code>n</code> is less than 199, then it adds to the string variable <code>n</code> a grave accent (<code>\x60</code>), Go's character for multiline strings, followed by a comma <code>,</code>. It continues by printing the first 147 characters of <code>s</code> (to prevent printing the <code>,</code> because that only occurs at the end) then prints <code>s</code> as a whole, and finally prints <code>100</code> if <code>n == 1</code> and <code>n+1</code> otherwise. The result is that successive runs change the variable <code>n</code> at the end of the program to 100, 101, etc. If the variable <code>n</code> is 199 or more, then it prints breaking news.</p>
</div>
<div id="pu3" class="pu"><h1>Ruby, <s>158</s> <s>154</s> <s>146</s> <s>128</s> <s>122</s> 100 bytes</h1>



<p>Inspired by <a href="https://codegolf.stackexchange.com/a/126026/13400">this answer</a>.</p>

<pre class="lang-ruby prettyprint-override"><code>eval s=%{$&gt;&lt;&lt;(D&gt;198?'BREAKING NEWS: WORLD ENDS':'eval s=%%{%s}&lt;&lt;D=%d'%[s[0..-2],D&lt;2?100:D+1])#}&lt;&lt;D=1
</code></pre>

<p>EDIT: I was able to remove <code>(s.split(35.chr)[0]+35.chr).inspect</code> and replace it with <code>s[0..-2]</code> (range of every value except the last) and the <code>%{ ... }</code> string syntax I used before. Saved 22 bytes!</p>

<h3>Old version:</h3>

<p>EDIT: Saved a pair of parens (and corresponding pair in the data section) by realizing that <code>"BREAKING NEWS: WORLD ENDS"</code> is a perfectly valid format string, and ruby ignores any extraneos parameters.</p>

<pre class="lang-ruby prettyprint-override"><code>END{$&gt;&lt;&lt;(q=S&gt;198?"BREAKING NEWS: WORLD ENDS":%{END{$&gt;&lt;&lt;(q=S&gt;198?"BREAKING NEWS: WORLD ENDS":%%{%s})%%[q,S&lt;2?0:S-99]}
S=1%02d})%[q,S&lt;2?0:S-99]}
S=1
</code></pre>

<p>When starting this I realized that since the number <em>has</em> to go at the very end of the program, and ruby doesn't allow using variables before they are declared, I would have to make code run <em>after</em> the digits somehow. I could've done something like <code>def a(s) ... end;a 1</code> which would become <code>...end;a 100</code>, however using ruby's lesser-known <a href="https://ruby-doc.org/docs/keywords/1.9/Object.html#method-i-END" rel="nofollow noreferrer"><code>END</code></a> syntax uses fewer bytes. However, the block inside <code>END</code> is in a different scope, so <code>S</code> must be a global variable or constant.</p>

<p>Explanation:</p>

<ul>
<li><code>END{ ... };S=1</code>: Run block of code just before program terminates; Set constant <code>S</code> to <code>1</code> (or <code>100</code> - <code>199</code> in future iterations)</li>
<li><code>$&gt;&lt;&lt;( ... )</code>: <code>$&gt;</code> is a shortcut in ruby for stdout, and <code>&lt;&lt;</code> on an IO writes to the IO. The parens are required, otherwise it becomes <code>($&gt;&lt;&lt;S)&gt;198...</code></li>
<li><p><code>S&gt;198?"BREAKING NEWS: WORLD ENDS":(q=...)%[q,S&lt;2?0:S-99]</code>: If I were to break this out into slightly more reasonable code it would be:</p>

<pre class="lang-ruby prettyprint-override"><code>if S &gt; 198
  "BREAKING NEWS: WORLD ENDS"
else
  q = ...
  number_to_append = if S &lt; 2
    0
  else
    S - 100 + 1
  end
  q % [q, number_to_append]
end
</code></pre>

<p>The <code>%</code> operator applied to a string is effectively <code>printf</code>, with the LHS being the format string and the RHS being the arguments.</p></li>
<li><p><code>%{ ... (q=%%{%s}) ... S=1%02d}</code>: ruby has an interesting syntax for strings that also allows for pairs of curly brackets to appear <em>within</em> the string without any escaping as long as they are balanced. This is very helpful, as otherwise a similar quine would have to escape the string to put it into itself as a string literal. The two substitutions in the format string are <code>%s</code> for a regular string and <code>%02d</code> for a number right-padded to a size of 2 with the character <code>0</code>.</p></li>
</ul>

<p>My thoughts on shortening further:</p>

<ul>
<li><s>It'd be nice to be able to use <code>s</code> instead of <code>$s</code>, but defining s <code>s=$s;</code> or making a function <code>def a(s) ...</code> both use more bytes than they save, and I can't think of any other way to do it.</s> EDIT: Constants are global and can be one character!</li>
<li>It'd be nice if <code>S</code> was always less then <code>100</code>, so that it could be compared using 2-digit numbers instead of 3-digit numbers. However, if I use <code>S=0</code> at the end, the next two digits are interpreted as octal, and <code>8</code> and <code>9</code> are invalid and all is bunk. <code>S=</code> simply isn't valid, and I don't know any other way to make a value valid both before and after appending two digits. Of note, <code>0</code> (and every other integer) is <strong>truthy</strong> in ruby.</li>
</ul>

<p>Any thoughts on how to make this shorter, please let me know!</p>

<p><a href="https://tio.run/##KypNqvz/P7UsMUeh2Fa1WsXOxkbDxc7Q0sJe3SnI1dHb089dwc81PNhKIdw/yMdFwdXPJVjdSh2mQbVatbjWxsbFVjVFXTW6ONpAT0/XKFbHxcbI3tDAwMpF2zBWUxmswPD/fwA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, <s>81</s> 80 bytes</h1>

<pre><code>.vh,K"?&gt;J198\"BREAKING NEWS: WORLD ENDS\"s[\".vh,K\"N:KN+C92NN\"J\"?&lt;J2*TT+J1"J1
</code></pre>

<p><a href="https://tio.run/##K6gsyfj/X68sQ8dbyd7Oy9DSIkbJKcjV0dvTz13BzzU82Eoh3D/Ix0XB1c8lOEapODpGCaw4RsnPyttP29nSyM8vRskrRsnexstIwdDAQNvLUMnL8P9/AA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>

<p>Explanation:</p>

<pre><code>.vh,K" ... "J1
.v               Eval pyth code
  h              Get the first item in list
   ,             Make a list of the next two items
            J1   Set J = 1 (J = 100 to 199 in future iterations)
    K" ... "     Set K to the given string
</code></pre>

<p>And the code in the string is (breaking news shortened):</p>

<pre><code>?&gt;J198"BNWE"s[".vh,K"N:KN+C92NN"J"?&lt;J2*TT+J1
?                                              Ternary: If A then B else C
 &gt;J198                                         Test if J &gt; 198
      "BNWE"                                   String literal; If ternary was true, return this (which is then implicitly printed)
            s[".vh,K"N:KN+C92NN"J"?&lt;J2*TT+J1   ternary else
            s                                  concatenate list of strings
             [                                 create list
              ".vh,K"                          string literal, list[0]
                     N                         N is set to the double-quote character, list[1]
                      :KN+C92N                 list[2]
                      :                        Regex substitution. In A, replace B with C
                       K                       Variable K (set to the string being eval'd)
                        N                      N is double-quote
                         +C92N                 A backslash followed by a double-quote
                         +                     concat two strings
                          C92                  character with code point 92 (backslash)
                             N                 N is double-quote
                              N                N is double-quote, list[3]
                               "J"             String literal, list[4]
                                  ?&lt;J2*TT+J1   Inner ternary, list[5]
                                   &lt;J2         If J &lt; 2 ..
                                      *TT      return T * T (10 * 10), else
                                          +J1  return J+1
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a>, 193 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>x=&gt;{var a=t&gt;198?"BREAKING NEWS: WORLD ENDS":"x=&gt;{{var a=t&gt;198?{1}BREAKING NEWS: WORLD ENDS{1}:{1}{0}{1};Write(a,a,(char)34,t+(t&lt;2?99:1));}};int t={2}";Write(a,a,(char)34,t+(t&lt;2?99:1));};int t=1
</code></pre>

<p><a href="https://tio.run/##Sy7WTS7O/O@YXJKZn2eTn5SVmlxil2b7v8LWrrossUgh0bbEztDSwl7JKcjV0dvTz13BzzU82Eoh3D/Ix0XB1c8lWMlKCaQYRXW1YS1O9UA5KyCuNqgFktbhRZklqRqJOok6GskZiUWaxiY6JdoaJTZG9paWVoaamta1tdaZeSUKJbbVRrVKRCiHqjb8b83FlaZhqGnN9R8A" rel="nofollow noreferrer" title="C# (Visual C# Interactive Compiler) – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1>JavaScript (ES6), 116 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>setTimeout(s="alert((n-1?++n:n=100)-200?`setTimeout(s=${JSON.stringify(s)}),n=`+n:'BREAKING NEWS: WORLD ENDS')"),n=1
</code></pre>

<p><strong>94 bytes, if stringifying functions is allowed</strong></p>

<pre class="lang-javascript prettyprint-override"><code>f=_=&gt;((p=`f=${f}`.split`|`)[4]=p[4]-1?-~p[4]:100)-200?p.join`|`:'BREAKING NEWS: WORLD ENDS'||1
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>240</s> <s>232</s> <s>218</s> 216 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>p=putStr;h 1=100;h k=k+1;g _=p$&quot;n=&quot;++show(h n);main|n&gt;198=p&quot;BREAKING NEWS: WORLD ENDS&quot;|1&gt;0=p&lt;&gt;print&lt;&gt;g$&quot;p=putStr;h 1=100;h k=k+1;g _=p$\&quot;n=\&quot;++show(h n);main|n&gt;198=p\&quot;BREAKING NEWS: WORLD ENDS\&quot;|1&gt;0=p&lt;&gt;print&lt;&gt;g$&quot;
n=1
</code></pre>
<p><a href="https://tio.run/##hc3BCoIwGADge0/xMzwUojjoYOmESrEoDNzBixCCS0XdxpxE4LubD1B0@o5fXQwt67q56aVQGsJCFzZlfVMpMUqwLBC8ewNnrGQlPIWC@HwCH1x7a@NZEjlqqpVXAybYcRZb0prYq@BBpIE4QaY51OK1roFvvL5o@MQDvHOJRMc0OlwvSQxJlNE9ZPf0FkKUhBRNOHCI9AOpGq79oDLQnydfovznlP@u8i/XihM8zx8" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p><a href="https://codegolf.stackexchange.com/a/161036/64748">Adapted from a quine</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="noreferrer">Perl 6</a>, <s>122 114</s> 106 bytes</h1>

<p><em>-8 bytes thanks to Shelvacu</em></p>



<pre class="lang-perl6 prettyprint-override"><code>END {&lt;print $!-199??"END \{&lt;$_&gt;~~.EVAL};\$!="~($!-1&amp;&amp;$!-99)+100!!"BREAKING NEWS: WORLD ENDS"&gt;~~.EVAL};$!=1
</code></pre>

<p><a href="https://tio.run/##K0gtyjH7/9/Vz0Wh2qagKDOvREFFUdfQ0tLeXgkkGFNtoxJvV1en5xrm6FNrHaOiaKtUpwFSoqYGJC0tNbUNDQwUFZWcglwdvT393BX8XMODrRTC/YN8XBSAJgQrIXQDNRv@/w8A" rel="noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>

<p>Takes the standard quine format and adds the breaking news string as well as a new function call with the appended number. This uses <code>END</code> to execute the function when the program ends.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/189668/">189668</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




