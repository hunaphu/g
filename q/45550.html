<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::45550</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>008</td><td>05AB1E</td><td>231213T132301Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/268520#268520">Kevin Cr</a></td></tr>
<tr d-ix="1"><td>007</td><td>Vyxal</td><td>231106T184239Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/266543#266543">emanresu</a></td></tr>
<tr d-ix="2"><td>020</td><td>Uiua</td><td>231107T211117Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/266586#266586">Pseudo N</a></td></tr>
<tr d-ix="3"><td>006</td><td>APL Dyalog Extended</td><td>191125T035407Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/196349#196349">Bubbler</a></td></tr>
<tr d-ix="4"><td>012</td><td>K ngn/k</td><td>210609T063644Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/229311#229311">Bubbler</a></td></tr>
<tr d-ix="5"><td>068</td><td>Julia 1.6</td><td>231106T101659Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/266527#266527">MarcMush</a></td></tr>
<tr d-ix="6"><td>065</td><td>TIBasic TI83</td><td>231106T175148Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/266541#266541">MarcMush</a></td></tr>
<tr d-ix="7"><td>007</td><td>Jelly</td><td>191023T084938Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/194759#194759">Unrelate</a></td></tr>
<tr d-ix="8"><td>041</td><td>Octave</td><td>150320T164502Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/48035#48035">alephalp</a></td></tr>
<tr d-ix="9"><td>030</td><td>K</td><td>150320T143621Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/48032#48032">tmartin</a></td></tr>
<tr d-ix="10"><td>007</td><td>J</td><td>150210T184016Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45551#45551">randomra</a></td></tr>
<tr d-ix="11"><td>116</td><td>Haskell</td><td>150211T184128Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45593#45593">nimi</a></td></tr>
<tr d-ix="12"><td>294</td><td>C++</td><td>150211T215544Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45601#45601">Anmol Si</a></td></tr>
<tr d-ix="13"><td>063</td><td>R</td><td>150211T105209Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45578#45578">Miff</a></td></tr>
<tr d-ix="14"><td>053</td><td>Matlab</td><td>150212T140653Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45620#45620">Dennis J</a></td></tr>
<tr d-ix="15"><td>054</td><td>Matlab</td><td>150210T220115Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45562#45562">flawr</a></td></tr>
<tr d-ix="16"><td>021</td><td>Pyth</td><td>150210T202857Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45558#45558">Jakube</a></td></tr>
<tr d-ix="17"><td>124</td><td>Haskell</td><td>150212T064149Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45609#45609">Jmac</a></td></tr>
<tr d-ix="18"><td>226</td><td>Batch  226 Bytes</td><td>150211T223518Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45603#45603">unclemea</a></td></tr>
<tr d-ix="19"><td>123</td><td>R</td><td>150210T193315Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45556#45556">MickyT</a></td></tr>
<tr d-ix="20"><td>083</td><td>Ruby</td><td>150211T112539Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45582#45582">rorlork</a></td></tr>
<tr d-ix="21"><td>069</td><td>Perl</td><td>150211T112203Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45581#45581">nutki</a></td></tr>
<tr d-ix="22"><td>103</td><td>JavaScript ES6</td><td>150210T234837Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45570#45570">edc65</a></td></tr>
<tr d-ix="23"><td>074</td><td>Python 3</td><td>150211T005454Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45571#45571">feersum</a></td></tr>
<tr d-ix="24"><td>076</td><td>Python 3</td><td>150210T222730Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45564#45564">Sp3000</a></td></tr>
<tr d-ix="25"><td>114</td><td>Python 2</td><td>150210T185802Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45552#45552">KSFT</a></td></tr>
<tr d-ix="26"><td>079</td><td>Python 3</td><td>150210T234511Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45569#45569">xnor</a></td></tr>
<tr d-ix="27"><td>021</td><td>CJam</td><td>150210T204858Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45560#45560">aditsu q</a></td></tr>
<tr d-ix="28"><td>030</td><td>Pyth</td><td>150210T191049Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45554#45554">FryAmThe</a></td></tr>
<tr d-ix="29"><td>163</td><td>Java</td><td>150210T202728Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45557#45557">Ypnypn</a></td></tr>
<tr d-ix="30"><td>010</td><td>APL</td><td>150210T202956Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45559#45559">marinus</a></td></tr>
<tr d-ix="31"><td>155</td><td>STATA</td><td>150210T191009Z</td><td><a href="https://codegolf.stackexchange.com/questions/45550/print-a-block-diagonal-matrix/45553#45553">bmarks</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 8 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Å1ƶ˜DδQ»
</code></pre>
<p>Outputs with <code>1</code>s like the first example.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//cKvhsW2n57ic2xJ4aPf//9GmOoZAaKRjrGMYCwA" rel="nofollow noreferrer">Try it online.</a></p>
<p><code>Å1ƶ˜</code> could alternatively be <code>āsÅΓ</code> for the same byte-count:<br />
<a href="https://tio.run/##yy9OTMpM/f//SGPx4dZzk13ObQk8tPv//2hTHUMgNNIx1jGMBQA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Å1       # Convert each value in the (implicit) input-list to a list of that many 1s
  ƶ      # Multiply each inner list by its 1-based index, so all become unique
   ˜     # Flatten the list of lists
    DδQ  # Create an equality-table:
    D    #  Duplicate the list
     δ   #  Pop both lists, and apply double-vectorized:
      Q  #  Equality check
       » # Join each inner list by spaces, and then each string by newlines
         # (after which this is output implicitly as result)

ā        # Push a list in the range [1, (implicit) input-length]
 s       # Swap so the input-list is at the top of the stack
  ÅΓ     # Pop both, and run-length decode it
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 7 bytes</h1>
<pre><code>żẋf:v=⁋
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCLFvOG6i2Y6dj3igYsiLCIiLCJbNSwxLDEsMiwzLDFdIl0=" rel="nofollow noreferrer">Try it Online!</a> -1 byte thanks to lyxal.</p>
<p>Same approach as a lot of the array-language answers</p>
<pre><code> ẋ      # Repeat elements of
ż       # [1...len(input)
 ẋ      # By numbers in the input
  f     # Flatten
   :v=  # Table by equality
      ⁋ # Format as grid
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 20 bytes</h1>
<p>4 bytes for constructing the array; 16 bytes for formatting the output :/</p>
<pre><code>≡(&amp;p↘1/⊂)∵⊂@ +@0⊞=.⊚
</code></pre>
<p><a href="https://www.uiua.org/pad?src=QmxvY2tEaWFnIOKGkCDiiaEoJnDihpgxL-KKginiiLXiioJAICtAMOKKnj0u4oqaCkJsb2NrRGlhZyBbNSAxIDEgMiAzIDFdCg==" rel="nofollow noreferrer">Try it online!</a></p>
<h2>Explanation</h2>
<pre><code>                ⊞=.⊚ # construct the table in the same way as other array languages
             +@0     # convert numbers to characters
      /⊂ ∵⊂@         # interleave spaces (including leading space)
    ↘1               # remove said leading space
≡(&amp;p    )            # and print each line
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, 6 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>∘.=⍨⍸⎕
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn/qKM9DUjM0LN91LviUe@OR31TQWL/07hMFQyB0EjBWMGQK40LwjIBAA" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>
<p>A full program that takes the input vector from stdin and prints the matrix.</p>
<hr />
<p>If a function returning a matrix were allowed:</p>
<h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, 5 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>∘.=⍨⍸
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn//1HHDD3bR70rHvXu@J/2qG3Co96@R31TPf0fdTUfWm/8qG0ikBcc5AwkQzw8g/@nKZgqGAKhkYKxgiEA" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>
<p>APL wins back against J and K with the extended domain for <code>⍸</code>.</p>
<h3>How it works</h3>
<pre class="lang-apl prettyprint-override"><code>∘.=⍨⍸
    ⍸  ⍝ Where; convert to an array that,
       ⍝   for each element n at index i, has n copies of i
∘.=⍨   ⍝ Outer product by element-wise equality on self
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 12 bytes</h1>
<pre><code>5:'=/:/2#,&amp;:
</code></pre>
<p><a href="https://ngn.bitbucket.io/k#eJxLszK1UrfVt9I3UtZRs+LiSlMwUjAEQmNrINMQyDFWMLEGAIiaBt4=" rel="nofollow noreferrer">Try it online!</a></p>
<p><code>5:</code> is &quot;debug print&quot;. Since the default formatting of a matrix is not what is wanted here, it is printed row-wise via <code>'</code>.</p>
<hr />
<p>if function returning a matrix (list of lists) were allowed:</p>
<h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 9 bytes</h1>
<pre><code>=/:/2#,&amp;:
</code></pre>
<p><a href="https://ngn.bitbucket.io/k#eJxLs7LVt9I3UtZRs+LiSlMwUjAEQmMgyxDINlYwAQBl1AXS" rel="nofollow noreferrer">Try it online!</a></p>
<p>Took almost two years to golf a byte from <a href="https://codegolf.stackexchange.com/a/194793/78410">the previous ngn/k answer</a> :P</p>
<p>The algorithm itself is the same. The problem with making something a train is that you're allowed to reference the input only once. This code solves the problem by making <code>=/:</code> reduce over the two copies of the vector <code>&amp;x</code>.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://julialang.org" rel="nofollow noreferrer">Julia 1.6</a>, 68 bytes</h1>
<pre><code>&gt;(L,c=0)=((x,l...)=L;print((&quot;0 &quot;^c*&quot;1 &quot;^x*&quot;0 &quot;^sum(l)*&quot;
&quot;)^x);l&gt;c+x)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m700qzQnM3HBgqWlJWm6Fjdd7DR8dJJtDTRtNTQqdHL09PQ0bX2sC4oy80o0NJQMFJTikrWUDIFUhRaYV1yaq5GjqaXEpaQZV6FpnWOXrF2hCTFrq51GtKmOgiEYGekoGAMZsVA5mH0A" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>port of <a href="https://codegolf.stackexchange.com/a/45564/98541">Sp3000's answer</a></p>
<p>needs julia 1.6 for <code>x,l...=L</code></p>
<p>output as a matrix would save a lot of bytes but printing it as expected uses more bytes:</p>
<p><code>!L=(l=[(a=1;L.|&gt;i-&gt;(a+=1)ones(i))...;]).==l'</code> <a href="https://ato.pxeger.com/run?1=m700qzQnM3HBgqWlJWm6Fjd1FH1sNXJsozUSbQ2tffRq7DJ17TQStW0NNfPzUos1MjU19fT0rGM19Wxtc9QhevalZBYX5CRWaihqRJvqKBiCkZGOgjGQEaupCVEEswAA" rel="nofollow noreferrer">(44bytes)</a></p>
</div>
<div id="pu6" class="pu"><h1>TI-Basic (TI-83), 65 <a href="https://codegolf.meta.stackexchange.com/a/4764">bytes</a></h1>
<pre><code>Ans→A
For(X,1,sum(Ans
cumSum(ʟA
Ans(C+1
For(Y,1,sum(ʟA
Output(X,2Y,Y&gt;B and Y≤Ans
End
If X=Ans
IS&gt;(C,0
End
Ans→B
End
</code></pre>
<p>It's always a good day when I get to use the <a href="http://tibasicdev.wikidot.com/is" rel="nofollow noreferrer"><code>IS&gt;(</code></a> command. Needs <code>B</code> and <code>C</code> to be uninitialized (or set to zero)</p>
<p><a href="https://i.stack.imgur.com/AEDVQ.gif" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/AEDVQ.gif" alt="example use" /></a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>

<pre><code>ĖŒṙ⁼þ`G
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///ItKOTHu6c@ahxz@F9Ce7///831TEEQiMdYx1DAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>Same approach as the J answer.</p>

<pre><code>      G    Grid format
   ⁼þ      a table of whether or not pairs of elements are equal, from
 Œṙ        the run-length decoded
Ė          enumeration of the input,
     `     compared with itself.
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Octave, <s>49</s> 41 bytes</h1>
<pre><code>@(a)(c=repelems(b=1:length(a),[b;a]))'==c
</code></pre>
</div>
<div id="pu9" class="pu"><h1>K, 30 bytes</h1>
<pre><code>{&quot;i&quot;$,/x#',:',/'g=\:\:x#'g:&lt;x}
</code></pre>
<p>Basically stole marinus's answer</p>
<pre><code>k){&quot;i&quot;$,/x#',:',/' g=\:\:x#'g:&lt;x}5 1 1 2 3 1
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0 1 0 0 0 0 0 0
0 0 0 0 0 0 0 1 1 0 0 0 0
0 0 0 0 0 0 0 1 1 0 0 0 0
0 0 0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 0 0 0 1
</code></pre>
</div>
<div id="pu10" class="pu"><h1>J, 7 bytes</h1>

<p>Thanks for <a href="https://codegolf.stackexchange.com/users/134/fuzxxl">FUZxxl</a> for the 2-byte improvement.</p>

<p>Array based languages should be counted here in a different competition as they have a huge advantage. :)</p>

<pre><code>   =/~@#&lt;\

   (=/~@#&lt;\) 3 1 1 2
1 1 1 0 0 0 0
1 1 1 0 0 0 0
1 1 1 0 0 0 0
0 0 0 1 0 0 0
0 0 0 0 1 0 0
0 0 0 0 0 1 1
0 0 0 0 0 1 1
</code></pre>

<p>Another 7-byte approach:</p>

<pre><code>#]=@##\
</code></pre>

<p>Explanation for the old version <code>([:=/~]#&lt;\)</code>:</p>

<p>The first step is generating <code>n</code> piece of similar things (e.g. numbers) for every list element <code>n</code>. These should be different from the other elements'. E.g. using the natural numbers <code>3 1 1 2</code> becomes <code>0 0 0 1 2 3 3</code>.</p>

<p>To save on bytes we use the boxed prefixes of the list:</p>

<pre><code>   ]#&lt;\ 3 1 1 2
┌─┬─┬─┬───┬─────┬───────┬───────┐
│3│3│3│3 1│3 1 1│3 1 1 2│3 1 1 2│
└─┴─┴─┴───┴─────┴───────┴───────┘
</code></pre>

<p>With the <code>=/~</code> verb we create a table of Descartes products of these boxed prefixes and each cell will be <code>1</code> if the two entries are equal <code>0</code> otherwise.</p>
</div>
<div id="pu11" class="pu"><h1>Haskell, <strike>118</strike> 116 bytes</h1>

<pre><code>(#)=replicate
f i=putStr$[e#(unwords$sum h#"0"++e#"1"++sum t#"0")|(h,e:t)&lt;-map(`splitAt`i)[0..length i-1]]&gt;&gt;=unlines
</code></pre>

<p>Usage: <code>f [2,1,1,3]</code></p>

<p>Output:</p>

<pre><code>1 1 0 0 0 0 0
1 1 0 0 0 0 0
0 0 1 0 0 0 0
0 0 0 1 0 0 0
0 0 0 0 1 1 1
0 0 0 0 1 1 1
0 0 0 0 1 1 1
</code></pre>

<p>How it works:</p>

<pre><code>[0..length i-1]           for each index n of the input list i
(h,e:t)&lt;-map(`splitAt`i)  split i at n and
                            let e be the element at index n
                            let h be the list of elements to the left of e
                            let t be the list of elements to the right of e
                          foreach triple h, e, t make a list of
sum h # "0" ++              sh copies of "0" (sh = the sum of the elements of h) followed by
e # "1" ++                  e copies of "1" followed by
sum t # "0"                 st copies of "0" (st = the sum of the elements of t)
unwords                   join those list elements with spaces inbetween
e #                       make e copies
&gt;&gt;=unlines                join those lists with newlines inbetween
putStr                    print
</code></pre>
</div>
<div id="pu12" class="pu"><h1>C++ , 294 bytes</h1>

<p><a href="http://ideone.com/c869XT" rel="nofollow"><em>Compiler used - GCC 4.9.2</em></a></p>

<pre><code>#include&lt;bits/stdc++.h&gt;
using namespace std;
#define F(a,b) for(a=0;a&lt;b;a++)
#define V vector&lt;int&gt;
int n,i,j,s,o;
main(){V v;while(cin&gt;&gt;n)v.push_back(n),s+=n;vector&lt;V&gt; m(s,V(s,0));F(i,v.size()){F(j,v[i])F(n,v[i])m[j+o][n+o]=1;o+=v[i];}F(j,s){F(n,s)cout&lt;&lt;m[j][n]&lt;&lt;((n==s-1)?"":" ");cout&lt;&lt;"\n";}}
</code></pre>

<p>Explanation -:  </p>

<pre><code>#include&lt;bits/stdc++.h&gt;
using namespace std;
#define F(a,b) for(a=0;a&lt;b;a++)
#define V vector&lt;int&gt;
int n, i, j, s, o;
/*
 n = Used to take inputs, and as an iterator after that
 i, j = Iterators
 s = sum of all the inputs
 o = offset ( used to find the location of the starting cell of the next matrix of 1's )
*/

main()
{
    V v;
    while ( cin &gt;&gt; n )  // Take input
    {
        v.push_back( n ), s += n;
    }

    vector&lt;V&gt; m( s, V( s, 0 ) ); // m is a matrix of size (s*s) with all elements initialized to 0
    F( i, v.size() )
    {
        F( j, v[i] )F( n, v[i] )m[j + o][n + o] = 1; // Assign 1 to the required cells
        o += v[i]; // Add the value of the current element to the offset
    }

    F( j, s )  // Output the matrix
    {
        F( n, s )cout &lt;&lt; m[j][n] &lt;&lt; ( ( n == s - 1 ) ? "" : " " ); // Prevent any trailing whitespace
        cout &lt;&lt; "\n";
    }
}
</code></pre>
</div>
<div id="pu13" class="pu"><h1>R, <s>69</s> 63</h1>

<pre><code>function(x)write(+outer(i&lt;-rep(1:length(x),x),i,"=="),1,sum(x))
</code></pre>

<p>Test Case:</p>

<pre><code>(function(x)write(+outer(i&lt;-rep(1:length(x),x),i,"=="),1,sum(x)))(c(5,1,1,3,1))
1 1 1 1 1 0 0 0 0 0 0 
1 1 1 1 1 0 0 0 0 0 0 
1 1 1 1 1 0 0 0 0 0 0 
1 1 1 1 1 0 0 0 0 0 0 
1 1 1 1 1 0 0 0 0 0 0 
0 0 0 0 0 1 0 0 0 0 0 
0 0 0 0 0 0 1 0 0 0 0 
0 0 0 0 0 0 0 1 1 1 0 
0 0 0 0 0 0 0 1 1 1 0 
0 0 0 0 0 0 0 1 1 1 0 
0 0 0 0 0 0 0 0 0 0 1
</code></pre>

<p>The outer function does most of the work here, then its just a case of getting the output looking right - Thanks to @Vlo for his help with that</p>
</div>
<div id="pu14" class="pu"><h1>Matlab, 53 bytes</h1>

<p>Though it is only one char shorter than the other Matlab fragment, I figured the code is sufficiently different to warrant a new answer:</p>

<pre><code>d=[];a=input('');for A=a;v=1:A;d(end+v,end+v)=1;end;d
</code></pre>

<p>The main trick is of course out of bounds indexing, but this is combined with using <code>end</code> as a variable to make it more compact.</p>
</div>
<div id="pu15" class="pu"><h1>Matlab, <s>60</s> 54 bytes</h1>

<p>This would be Matlab's special field <em>IF</em> we could use builtin functions...</p>

<p>Thanks @sanchises for fixing the error I missed.</p>

<pre><code>c=0;a=input('');for A=a;v=c+1:c+A;d(v,v)=1;c=c+A;end;d
</code></pre>
</div>
<div id="pu16" class="pu"><h1>Pyth, <s>23</s> 21 bytes</h1>

<p><a href="https://github.com/isaacg1/pyth" rel="nofollow">GitHub repository for Pyth</a></p>

<pre><code>Ju+G*]GHQYFNJjdmsqdNJ
</code></pre>

<p>Input is a list of integers, like <code>[3, 1, 1, 2]</code>. Try it online: <a href="https://pyth.herokuapp.com/" rel="nofollow">Pyth Compiler/Executor</a> </p>

<p>Uses a quite similar idea as randomra's J code. The first part of the code <code>Ju+G*]GHQY</code> generates <code>n</code> parts of similar things. For the example input <code>[3, 1, 1, 2]</code> the result looks like this:</p>

<pre><code>[
 [], 
 [], 
 [], 
 [[], [], []], 
 [[], [], [], [[], [], []]], 
 [[], [], [], [[], [], []], [[], [], [], [[], [], []]]], 
 [[], [], [], [[], [], []], [[], [], [], [[], [], []]]]
]
</code></pre>

<p>First three identical elements, than one element , then one element again and at the end two identical elements. </p>

<pre><code>Ju+G*]GHQY
 u      QY  reduce the input Q, start with empty list G=[]
            for each H in input, replace the value of G by:
  +G*]GH       G+[G]*H
J           store the result in J
</code></pre>

<p>The second part of the code is comparing the elements of the Cartesian product and printing it. </p>

<pre><code>FNJjdmsqdNJ
FNJ          for N in J:
     m    J     map each element d of J to
       qdN          the boolean value of d == N
      s             and convert it to an integer (0 = False, 1 = True)
   jd           print the resulting list seperated by d (=space)
</code></pre>
</div>
<div id="pu17" class="pu"><h1>Haskell, 124</h1>

<pre><code>(%)=replicate
d l=fst$foldr(\x(m,n)-&gt;(m&gt;&gt;mapM_(\_-&gt;putStrLn$unwords$n%"0"++x%"1"++(sum l-n-x)%"0")[1..x],n+x))(return(),0)l
</code></pre>

<p>Produces output by combining IO actions through <code>mapM_</code> and <code>foldr</code>. The function <code>d</code> should be given a list of ints.</p>
</div>
<div id="pu18" class="pu"><h2>Batch - 226 Bytes</h2>

<pre><code>@echo off&amp;setLocal enableDelayedExpansion&amp;set c=0&amp;for %%a in (%*)do set/ac+=1&amp;for /l %%b in (1,1,%%a)do (set l=&amp;set d=0&amp;for %%c in (%*)do (set/ad+=1&amp;for /l %%d in (1,1,%%c)do if !d!==!c! (set l=!l!1)else set l=!l!0)
echo !l!)
</code></pre>

<p>Takes input from stdin (<code>C:\&gt;script.bat 5 1 1 2 3 1</code>) and echo's output. Unfortunately I couldn't get that last echo on the same line, otherwise I could probably call the whole line within <code>cmd/von/c</code> to avoid having to enable delayed expansion the long way.</p>

<p>Nice and neat - nothing but grunt work:</p>

<pre><code>@echo off
setLocal enableDelayedExpansion
set c=0
for %%a in (%*) do (
    set /a c+=1
    for /l %%b in (1,1,%%a) do (
        set l=
        set d=0
        for %%c in (%*) do (
            set /a d+=1
            for /l %%d in (1,1,%%c) do if !d!==!c! (set l=!l!1) else set l=!l!0
        )
        echo !l!
    )
)
</code></pre>
</div>
<div id="pu19" class="pu"><h1>R, <s>117</s> <s>144</s> <s>137</s> <s>133</s> <s>129</s> 123 bytes</h1>

<p>Reasonably verbose at the moment.  Should be able to shave a few more out. Gained a number of bytes formatting it correctly, but saved some swapping out the matrix for an array.</p>

<p>Thanks to Alex for the tip on the replacing sep with s and removing the function name.</p>

<p>Dropped the array completely and used a series of reps to build each line.</p>

<p>Although soundly beaten by Miff, his solution made me realise I could drop the s=' ' altogether.</p>

<pre><code>function(i){s=sum(i);i=cumsum(i);b=0;for(n in 1:s){d=i[i&gt;=n][1];cat(c(rep(0,b),rep(1,d-b),rep(0,s-d)),fill=T);if(d==n)b=d}}
</code></pre>

<p>And the test</p>

<pre><code>&gt; (function(i){s=sum(i);i=cumsum(i);b=0;for(n in 1:s){d=i[i&gt;=n][1];cat(c(rep(0,b),rep(1,d-b),rep(0,s-d)),fill=T,s=' ');if(d==n)b=d}})(c(5,1,1,3,1))
1 1 1 1 1 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0
0 0 0 0 0 1 0 0 0 0 0
0 0 0 0 0 0 1 0 0 0 0
0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 0 1
&gt; 
</code></pre>
</div>
<div id="pu20" class="pu"><h1>Ruby, <s>86</s> <s>90</s> 83 bytes</h1>

<p>My first golf ever!</p>

<pre><code>-&gt;l{n=l.reduce :+;s=0;l.map{|x|x.times{puts ([0]*s+[1]*x+[0]*(n-x-s))*" "};s+=x}}
</code></pre>

<p>Receives an array with the integers, prints the expected result:</p>

<pre><code>$ (-&gt;l{n=l.reduce :+;s=0;l.map{|x|x.times{puts ([0]*s+[1]*x+[0]*(n-x-s))*" "};s+=x}}).call([5, 1, 1, 2, 3, 1])
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0 1 0 0 0 0 0 0
0 0 0 0 0 0 0 1 1 0 0 0 0
0 0 0 0 0 0 0 1 1 0 0 0 0
0 0 0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 0 0 0 1
</code></pre>

<p><strong>Edit:</strong></p>

<p>Thanks to Martin Büttner for helping me shortening some things!</p>
</div>
<div id="pu21" class="pu"><h1>Perl, 69</h1>

<pre><code>#!perl -na
$j=s/./0 x$&amp;/ger;print+($j|$i.1x$_)=~s/\B/ /gr x($i.=0 x$_,$_)for@F
</code></pre>

<p>Uses standard input:</p>

<pre><code>$ perl a.pl &lt;&lt;&lt;"1 2 3"
1 0 0 0 0 0
0 1 1 0 0 0
0 1 1 0 0 0
0 0 0 1 1 1
0 0 0 1 1 1
0 0 0 1 1 1
</code></pre>
</div>
<div id="pu22" class="pu"><h1>JavaScript (ES6), 103 <s>107</s></h1>
<p>103 bytes as an anonymous function, not counting <code>F=</code> (but you need this to test it)</p>
<pre class="lang-js prettyprint-override"><code>F=l=&gt;alert(l.map((n,y)=&gt;(l.map((n,x)=&gt;Array(n).fill(x==y|0))+'\n').repeat(n))
.join('').replace(/,/g,' '))
</code></pre>
<p><strong>Test</strong> In Firefox/FireBug console</p>
<pre><code>F([5,1,1,2,3,1])
</code></pre>
<p><em>Output</em></p>
<pre><code>1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0 1 0 0 0 0 0 0
0 0 0 0 0 0 0 1 1 0 0 0 0
0 0 0 0 0 0 0 1 1 0 0 0 0
0 0 0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 0 0 0 1
</code></pre>
</div>
<div id="pu23" class="pu"><h1>Python 3, 74</h1>
<pre><code>def f(a,p=0):n=a.pop(0);exec(&quot;print(*'0'*p+'1'*n+'0'*sum(a));&quot;*n);f(a,p+n)
</code></pre>
</div>
<div id="pu24" class="pu"><h1>Python 3, <s>103</s> <s>97</s> <s>82</s> <s>78</s> 76 bytes</h1>
<pre class="lang-py prettyprint-override"><code>def P(L,n=0):k,*L=L;exec(&quot;print(*[0]*n+[1]*k+[0]*sum(L));&quot;*k);L and P(L,n+k)
</code></pre>
<p>Using splat to take advantage of the space-separating nature of <code>print</code>, with a bit of recursion.</p>
</div>
<div id="pu25" class="pu"><h1>Python 2, <s>163</s> 114 bytes</h1>

<p>gnibbler golfed this a bunch.</p>

<pre><code>h=input()
r=range
l=len(h)
for i in r(l):
 for k in r(h[i]):print" ".join("01"[i==j]for j in r(l)for x in r(h[j]))
</code></pre>
</div>
<div id="pu26" class="pu"><h1>Python 3, 79</h1>

<pre class="lang-python prettyprint-override"><code>def f(l,s=0):
 for x in l:r=[0]*sum(l);r[s:s+x]=[1]*x;s+=x;exec("print(*r);"*x)
</code></pre>

<p>Tracks the leftmost index of the block as <code>s</code> and makes the <code>x</code> entries after it be <code>1</code>, where <code>x</code> is the current block size. This row is then printed <code>x</code> times. Python 3 is needed to do <code>print(*r)</code>.</p>
</div>
<div id="pu27" class="pu"><h1>CJam, 21</h1>

<pre><code>q~{T):Ta*~}%_f{f=S*N}
</code></pre>

<p>Try it at <a href="http://cjam.aditsu.net/" rel="nofollow">http://cjam.aditsu.net/</a></p>

<p><strong>Explanation:</strong></p>

<pre><code>q~          read and evaluate the input array
{…}%        transform each number using the block
    T):T    increment T (initially 0)
    a*      wrap T in an array and repeat it &lt;number&gt; times
    ~       dump the repeated numbers so they end up in a flat array
_           duplicate the array
f{…}        for each array item and the array
    f=      compare the current item with each item, resulting in an array of 1 and 0
    S*      join with spaces
    N       add a newline
</code></pre>
</div>
<div id="pu28" class="pu"><h1>Pyth, <s>31</s> 30</h1>

<pre><code>FbQVbjd++*]0Z*b]b*]0--sQbZ)~Zb
</code></pre>

<p>A pretty naive program, takes the input on stdin. This can probably be golfed more ;)</p>

<p>Thanks @Jakube for pointing out a wasted char</p>

<p><a href="https://pyth.herokuapp.com/" rel="nofollow">Try it here</a></p>
</div>
<div id="pu29" class="pu"><h1>Java, 163</h1>

<pre><code>a-&gt;{int n=a.stream().mapToInt(x-&gt;x).sum(),t=0,j,k;for(int i:a){for(j=0;j++&lt;i;System.out.println("\b"))for(k=0;k&lt;n;)System.out.print(k&gt;=t&amp;k++&lt;t+i?"1 ":"0 ");t+=i;}}
</code></pre>

<p>A consumer which accepts a list of integers.</p>

<p>Readable version, with boilerplate code:</p>

<pre><code>java.util.function.Consumer&lt;java.util.List&lt;Integer&gt;&gt; c = a -&gt; {
    int n = a.stream().mapToInt(x -&gt; x).sum(), t = 0, j, k;
    for (int i : a) {
        for (j = 0; j++ &lt; i; System.out.println("\b")) {
            for (k = 0; k &lt; n;) {
                System.out.print(k &gt;= t &amp; k++ &lt; t + i ? "1 " : "0 ");
            }
        }
        t += i;
    }
};
</code></pre>

<p>Invoke using:</p>

<pre><code>List list = Arrays.asList(5, 1, 1, 2, 3, 1);
c.accept(list);
</code></pre>
</div>
<div id="pu30" class="pu"><h1>APL, 10</h1>

<pre><code>∘.=⍨∆/⍋∆←⎕
</code></pre>

<p>Example:</p>

<pre><code>      ∘.=⍨∆/⍋∆←⎕
⎕:
      5 1 1 2 3 1 
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
1 1 1 1 1 0 0 0 0 0 0 0 0
0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0 1 0 0 0 0 0 0
0 0 0 0 0 0 0 1 1 0 0 0 0
0 0 0 0 0 0 0 1 1 0 0 0 0
0 0 0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 1 1 1 0
0 0 0 0 0 0 0 0 0 0 0 0 1
</code></pre>

<p>Explanation:</p>

<ul>
<li><code>∆←⎕</code>: read input, store in <code>∆</code>.</li>
<li><code>⍋∆</code>: find permutation that sorts <code>∆</code> (this gives an unique value for each value in the input)</li>
<li><code>∆/</code>: for each of those unique values, repeat it <code>N</code> times, where <code>N</code> is the corresponding value in the input</li>
<li><code>∘.=⍨</code>: make a matrix comparing each value in that list to the other values. </li>
</ul>
</div>
<div id="pu31" class="pu"><h2>STATA, 155 bytes</h2>

<pre><code>di _r(a)
forv x=1/wordcount($a){
gl b=word($a,`x')
gl c=_N+1
set ob _N+$b
forv y=$c/_N{
g d`y'=_n&gt;=$c
}
}
forv z=1/_N{
replace d`z'=0 if d`z'&gt;1
}
l,noo noh
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/45550/">45550</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




