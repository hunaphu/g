<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::178344</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>019</td><td>Retina</td><td>190104T130414Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178382#178382">Neil</a></td></tr>
<tr d-ix="1"><td>027</td><td>Perl 5 + plF</td><td>211222T231508Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/240068#240068">Dom Hast</a></td></tr>
<tr d-ix="2"><td>010</td><td>Nibbles</td><td>211222T212914Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/240059#240059">Darren S</a></td></tr>
<tr d-ix="3"><td>079</td><td>APOL</td><td>220106T153136Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/240679#240679">Ginger</a></td></tr>
<tr d-ix="4"><td>067</td><td>Zsh</td><td>210216T154655Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/219167#219167">pxeger</a></td></tr>
<tr d-ix="5"><td>014</td><td>Vyxal j</td><td>220106T054005Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/240658#240658">lyxal</a></td></tr>
<tr d-ix="6"><td>023</td><td>Vyxal j</td><td>210530T103747Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/226504#226504">emanresu</a></td></tr>
<tr d-ix="7"><td>206</td><td>Brainfuck</td><td>190720T201902Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/188593#188593">Xaetral</a></td></tr>
<tr d-ix="8"><td>106</td><td>Java 11</td><td>190104T102203Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178370#178370">Kevin Cr</a></td></tr>
<tr d-ix="9"><td>093</td><td>Excel</td><td>191118T162631Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/196056#196056">Wernisch</a></td></tr>
<tr d-ix="10"><td>013</td><td>Stax</td><td>190724T054140Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/188689#188689">recursiv</a></td></tr>
<tr d-ix="11"><td>066</td><td>Powershell</td><td>190104T153746Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178390#178390">mazzy</a></td></tr>
<tr d-ix="12"><td>022</td><td>APL Dyalog Extended</td><td>190116T144226Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178790#178790">Ad&#225;</a></td></tr>
<tr d-ix="13"><td>089</td><td>Sed</td><td>190111T120636Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178647#178647">manatwor</a></td></tr>
<tr d-ix="14"><td>nan</td><td>C gcc</td><td>190111T180352Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178657#178657">user3604</a></td></tr>
<tr d-ix="15"><td>064</td><td>JavaScript</td><td>190104T104633Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178372#178372">Shaggy</a></td></tr>
<tr d-ix="16"><td>060</td><td>Ruby</td><td>190107T104834Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178463#178463">Kirill L</a></td></tr>
<tr d-ix="17"><td>364</td><td>Pepe</td><td>190105T004152Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178416#178416">ბიმო</a></td></tr>
<tr d-ix="18"><td>085</td><td>PHP</td><td>190107T210516Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178486#178486">Francisc</a></td></tr>
<tr d-ix="19"><td>216</td><td>Tcl</td><td>190109T184850Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178593#178593">Sean Woo</a></td></tr>
<tr d-ix="20"><td>104</td><td>C gcc</td><td>190104T043348Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178352#178352">Jonathan</a></td></tr>
<tr d-ix="21"><td>028</td><td>Pyth</td><td>190104T054558Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178354#178354">GammaGam</a></td></tr>
<tr d-ix="22"><td>nan</td><td>PHP</td><td>190105T000748Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178415#178415">640KB</a></td></tr>
<tr d-ix="23"><td>075</td><td>Python 2</td><td>190107T184334Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178480#178480">Triggern</a></td></tr>
<tr d-ix="24"><td>097</td><td>x8664 machine code Linux</td><td>190107T065115Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178458#178458">davey</a></td></tr>
<tr d-ix="25"><td>016</td><td>05AB1E</td><td>190104T072825Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178355#178355">Kevin Cr</a></td></tr>
<tr d-ix="26"><td>037</td><td>Perl 6</td><td>190108T032529Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178494#178494">Jo King</a></td></tr>
<tr d-ix="27"><td>133</td><td>Batch</td><td>190105T010829Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178417#178417">Neil</a></td></tr>
<tr d-ix="28"><td>064</td><td>Python 2</td><td>190107T191006Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178482#178482">Jonathan</a></td></tr>
<tr d-ix="29"><td>072</td><td>Python 2</td><td>190104T095442Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178367#178367">ElPedro</a></td></tr>
<tr d-ix="30"><td>065</td><td>JavaScript Node.js</td><td>190107T035228Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178456#178456">tsh</a></td></tr>
<tr d-ix="31"><td>071</td><td>C# Visual C# Interactive Compiler</td><td>190104T223430Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178411#178411">dana</a></td></tr>
<tr d-ix="32"><td>107</td><td>Dart</td><td>190104T080354Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178357#178357">Elcan</a></td></tr>
<tr d-ix="33"><td>137</td><td>Clojure</td><td>190106T214535Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178450#178450">Carcigen</a></td></tr>
<tr d-ix="34"><td>087</td><td>Bash</td><td>190106T182901Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178445#178445">Green绿色</a></td></tr>
<tr d-ix="35"><td>070</td><td>JavaScript</td><td>190106T200316Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178446#178446">Yair Ran</a></td></tr>
<tr d-ix="36"><td>112</td><td>Lua</td><td>190106T053300Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178439#178439">Visckmar</a></td></tr>
<tr d-ix="37"><td>013</td><td>Jelly</td><td>190104T173127Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178396#178396">Jonathan</a></td></tr>
<tr d-ix="38"><td>091</td><td>Mathematica</td><td>190105T014150Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178418#178418">Mark S.</a></td></tr>
<tr d-ix="39"><td>106</td><td>R</td><td>190104T083922Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178361#178361">digEmAll</a></td></tr>
<tr d-ix="40"><td>027</td><td>CJam</td><td>190105T014212Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178419#178419">Esolangi</a></td></tr>
<tr d-ix="41"><td>136</td><td>SNOBOL4 CSNOBOL4</td><td>190104T230045Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178412#178412">Giuseppe</a></td></tr>
<tr d-ix="42"><td>077</td><td>Python 3</td><td>190104T041335Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178351#178351">Riker</a></td></tr>
<tr d-ix="43"><td>017</td><td>Canvas</td><td>190104T014731Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178348#178348">dzaima</a></td></tr>
<tr d-ix="44"><td>073</td><td>Retina</td><td>190104T015530Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178350#178350">mbomb007</a></td></tr>
<tr d-ix="45"><td>143</td><td>C# .NET Core</td><td>190104T165619Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178394#178394">Destroig</a></td></tr>
<tr d-ix="46"><td>095</td><td>C# Visual C# Interactive Compiler</td><td>190104T014750Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178349#178349">Gymhgy</a></td></tr>
<tr d-ix="47"><td>047</td><td>Perl 5 p</td><td>190104T153427Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178389#178389">Xcali</a></td></tr>
<tr d-ix="48"><td>015</td><td>Japt R</td><td>190104T081034Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178359#178359">Shaggy</a></td></tr>
<tr d-ix="49"><td>019</td><td>Charcoal</td><td>190104T132322Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178384#178384">Neil</a></td></tr>
<tr d-ix="50"><td>103</td><td>JavaScript ES6</td><td>190104T014003Z</td><td><a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178346#178346">fəˈnɛtɪk</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, <s>21</s> 19 bytes</h1>
<pre><code>L$`.
$.=*$&amp;
r+¶ee
&#32;
</code></pre>
<p><a href="https://tio.run/##K0otycxLNPyvquGe8N9HJUGPS0XPVktFjatI@9C21FQuhf//84tS87m4gKgoFYRBJEgoH8QEwfx8AA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>L$`.
$.=*$&amp;
</code></pre>
<p>List each letter on its own line repeated to the length of the original input.</p>
<pre><code>r+¶ee
&#32;
</code></pre>
<p>Remove the lines of <code>r</code>s and replace the first two <code>ee</code>s on the next line with a space.</p>
<p>Edit: Saved 2 bytes thanks to @DomHastings.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> + <code>-plF</code>, 27 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>s!.!$&amp;x@F.$/!ge;s/r+
ee/ /g</code></pre>
<p><a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoicyEuISQmeEBGLiQvIWdlO3MvcitcbmVlLyAvZyIsImFyZ3MiOiItcGxGIiwiaW5wdXQiOiJvcmVvb3JlcmVyZXJlb29cbm9yZW9cbnJlXG5yZXJlXG5vb29vb29vbyJ9" rel="nofollow noreferrer">Try it online!</a></p>
<h2>Explanation</h2>
<p><code>s///</code>ubstitutes every character (<code>.</code>) with itself repeated the length of the string <code>x@F</code>, followed by a newline (<code>$/</code>). Then replaces any runs of <code>r+\nee</code> with a single space.</p>
</div>
<div id="pu2" class="pu"><h1><a href="http://golfscript.com/nibbles" rel="nofollow noreferrer">Nibbles</a> 10 bytes</h1>
<pre><code>&amp;&quot; &quot;,@~.|@%$~
^-,_%$3 # $ 
</code></pre>
<p>explanation</p>
<pre><code>&amp;           # Justify
  &quot; &quot;       # (value to pad in justify)
  ,         # length (size to justify to)
    @       # first input string
  ~         # centered
  .         # map
    |       # filter  
      @     # first input string
      %$~   # mod char element 2
    ^       # replicate (begin map body)
     -      # minus
      ,_    # length of first input string
        %$3 # mod char element 3
            # implicit $ (the char element to be replicated)
</code></pre>
</div>
<div id="pu3" class="pu"><h1>APOL, 79 bytes</h1>
<p>This could almost certaintly be made shorter.</p>
<p><code>v(0 i);j(ƒ(R(⁰ &quot;re&quot; &quot;*&quot;) ¿(=(∋ &quot;*&quot;) +(&quot; &quot; *(&quot;r&quot; -(l(⁰) 2))) *(&quot;o&quot; l(⁰)))) &quot;\n&quot;)</code></p>
<h2>Explanation</h2>
<pre><code>v(0 i);  Put user's input at memory index 0
j(  List join
  ƒ(  Listbuilder for
    R(  String replace (being iterated through)
      ⁰  Value at index 0
      &quot;re&quot;  Replace &quot;re&quot;
      &quot;*&quot;  with &quot;*&quot;
    )
    ¿(  Returning if (called for each character in replaced string)
      =(  Equals (condition)
        ∋  Current character
        &quot;*&quot;  The string &quot;*&quot;
      )
      +(  Add (true instruction, used here to join strings)
        &quot; &quot;  The string &quot; &quot; (the padding for the filling)
        *(  Multiply (used here to repeat a string)
          &quot;r&quot;  The string &quot;r&quot; (our filling) by
          -(  Subtract
            l(⁰)  The length of the input
            2  from two (one for each character of padding)
          )
        )
      )
      *(  Multiply (the false condition)
        &quot;o&quot;  The string &quot;o&quot;  (our cookie)
        l(⁰)  by the length of the input
      )
    )
  )
  &quot;\n&quot;  Join each string with a newline
)
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 67 bytes</h1>

<pre class="lang-sh prettyprint-override"><code>a=$#1
o()&lt;&lt;&lt;${(l/a//=/)}
r()&lt;&lt;&lt;\ ${(l/a&gt;1?a-2:0//+/)}
eval ${1///;}
</code></pre>
<p><a href="https://tio.run/##qyrO@P8/0VZF2ZArX0PTxsZGpVojRz9RX99WX7OWqwgsFKMAEbQztE/UNbIy0NfXBkmmliXmAGUM9fX1rWv///@fX5Sanw8A" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></p>
<p>Explanation:</p>
<ul>
<li><code>$1</code>: input</li>
<li><code>#</code>: length</li>
<li><code>a=</code>: assign to global variable <code>$a</code></li>
<li><code>o()</code>: define a function called <code>o</code>:
<ul>
<li><code>${(l/a//=/)}</code>: left pad {nothing} with <code>=</code> signs to the width <code>$a</code> (i.e., print this many equals signs)</li>
<li><code>&lt;&lt;&lt;</code>: print</li>
</ul>
</li>
<li><code>r()</code>: define a function called <code>r</code>:
<ul>
<li><code>${(l///+/)}</code> left pad {nothing} with <code>+</code> signs,</li>
<li><code>a&gt;1?a-2:0</code>: to the width of <code>$a - 2</code> if <code>$a &gt; 1</code> else <code>0</code> (because otherwise, if <code>$a - 2</code> was negative, zsh would use its absolute value)</li>
<li><code>&lt;&lt;&lt;\ </code>: print with a space before</li>
</ul>
</li>
<li><code>${1}</code>: input</li>
<li><code>///;</code>: replace all {empty string}s with <code>;</code> (effectively intersperses; <code>oreo</code> -&gt; <code>;o;r;e;o</code>)</li>
<li><code>eval</code>: evaluate that as zsh code
<ul>
<li><code>o</code> and <code>r</code> call the functions defined above</li>
<li><code>e</code> is a non-existent command, so does nothing</li>
<li><code>;</code> separates the commands</li>
</ul>
</li>
</ul>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>j</code>, 14 bytes</h1>
<pre><code>\eoƛAd⇩?L+*?L⋏
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJqIiwiIiwiXFxlb8abQWTih6k/TCsqP0zii48iLCIiLCJvcmVvb29vbyJd" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Lyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>j</code>, 23 bytes</h1>
<pre><code>L£\eoƛ\o=[×¥*|ð¥⇩\!*ð++
</code></pre>
<p><a href="http://lyxal.pythonanywhere.com?flags=j&amp;code=L%C2%A3%5Ceo%C6%9B%5Co%3D%5B%C3%97%C2%A5*%7C%C3%B0%C2%A5%E2%87%A9%5C!*%C3%B0%2B%2B&amp;inputs=oreoorererereoo&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>L£                      # Store length to register
  \eo                   # Remove es
     ƛ                  # Map...
      \o=[              # If o then
          ×¥*           # (Register) asterisks
             |          # Else...
               ¥⇩\!*    # (Register-2 !s)
              ð     ð++ # Padded with spaces
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://en.wikipedia.org/wiki/Brainfuck" rel="nofollow noreferrer">Brainfuck</a>, <s>276</s> <s>268</s> 206 bytes</h1>
<p>Technically as the brainfuck only has 8 instructions, that means it needs only 3 bits per character instead of 8 (that also means we could encode brainfuck in base64 with exactly 2 instructions per character), but I'll play fair and say it's 268 bytes long.</p>
<p>It was a fun challenge, thanks!</p>
<p><strong>Edit</strong>: now featuring the 3rd rule!</p>
<p><strong>Edit</strong>: moving the line feed from the data pool to the display part of the code allowed me to get down to 268 bytes:</p>
<pre><code>&gt;&gt;+&lt;,[&lt;++++++++++[&gt;-----------&lt;-]&gt;-[&gt;-&lt;,&gt;&gt;+&lt;&lt;[-]&gt;&gt;&gt;&gt;[&gt;]&gt;++++[&lt;++++++++&gt;-]+&gt;&gt;++++++++++[&lt;+++++++++++&gt;-]&lt;+&gt;&gt;++++[&lt;++++++++&gt;-]&lt;[&lt;]&lt;&lt;&lt;]&gt;[[-]&gt;&gt;&gt;[&gt;]&gt;+++++++[&lt;+++++&gt;-]+&gt;&gt;+++++++[&lt;+++++&gt;-]&gt;+++++++[&lt;+++++&gt;-]&lt;[&lt;]&lt;&lt;]+&lt;,&gt;&gt;+&lt;&lt;]&gt;&gt;--[&gt;&gt;&gt;+&lt;&lt;&lt;-]&gt;&gt;[.&gt;-[&gt;&gt;&gt;&gt;+&lt;&lt;&lt;&lt;-&gt;.&lt;]&gt;&gt;.[-]++++++++++.&gt;]
</code></pre>
<p>Here's a more readable version:</p>
<p>The data pool is made like so: [first character, placeholder value used to move the input character count, repeated character, last character]</p>
<pre><code>&gt;&gt;+&lt;,[//start of the loop
&lt;++++++++++[&gt;-----------&lt;-]&gt;-//&quot;o&quot;
[&gt;-&lt;,&gt;&gt;+&lt;&lt;[-]//if it's not a &quot;o&quot;, skip one character and:

&gt;&gt;&gt;&gt;[&gt;]//go to the data pool and search for the end
&gt;++++[&lt;++++++++&gt;-]//put &quot; &quot; in memory
+&gt;//put 1 in memory
&gt;++++++++++[&lt;+++++++++++&gt;-]&lt;+&gt;//put a &quot;o&quot; in memory
&gt;++++[&lt;++++++++&gt;-]&lt;//put another &quot; &quot; in memory
[&lt;]&lt;&lt;&lt;//get back to the beginning of the data pool and get back to the program

]&gt;[[-]//else (so if it's a &quot;o&quot;):

&gt;&gt;&gt;[&gt;]//go to the data pool and search for the end
&gt;+++++++[&lt;+++++&gt;-]//put a &quot;#&quot; in memory
+&gt;//put 1 in memory
&gt;+++++++[&lt;+++++&gt;-]//put a &quot;#&quot; in memory
&gt;+++++++[&lt;+++++&gt;-]&lt;//put a &quot;#&quot; in memory
[&lt;]&lt;&lt;//get back to the beginning of the data pool and get back to the program

]+&lt;,&gt;&gt;+&lt;&lt;]//loop until the end of the input line and count the number of characters

&gt;&gt;//go to the number of characters variable
--//substract 2 to it because the first and last characters take one space each
[&gt;&gt;&gt;+&lt;&lt;&lt;-]//copy the value to the next place
&gt;&gt;[.&gt;//start of the loop and display of the first character
-[&gt;&gt;&gt;&gt;+&lt;&lt;&lt;&lt;-&gt;.&lt;]//display of the repeated character while copying the character count to the next line
&gt;&gt;.//display of the last character
[-]++++++++++.//display a line feed
&gt;]//loop until the end of the data pool
</code></pre>
<p>It works on copy.sh/brainfuck with default settings
(<a href="https://copy.sh/brainfuck/?c=Pj4rPCxbPCsrKysrKysrKytbPi0tLS0tLS0tLS0tPC1dPi1bPi08LD4-Kzw8Wy1dPj4-Pls-XT4rKysrWzwrKysrKysrKz4tXSs-PisrKysrKysrKytbPCsrKysrKysrKysrPi1dPCs-PisrKytbPCsrKysrKysrPi1dPFs8XTw8PF0-W1stXT4-Pls-XT4rKysrKysrWzwrKysrKz4tXSs-PisrKysrKytbPCsrKysrPi1dPisrKysrKytbPCsrKysrPi1dPFs8XTw8XSs8LD4-Kzw8XT4-LS1bPj4-Kzw8PC1dPj5bLj4tWz4-Pj4rPDw8PC0-LjxdPj4uWy1dKysrKysrKysrKy4-XQ$$" rel="nofollow noreferrer">link</a>)</p>
<p><strong>Edit</strong>: now down to only 206 Bytes thanks to @RezNesX</p>
<pre><code>&gt;&gt;+&lt;,[&lt;-[&gt;++&lt;-------]&gt;-[,[-]&gt;-&gt;+&gt;&gt;[&gt;]&gt;+&gt;+&gt;-[&lt;--&gt;-------]&gt;++++[&lt;&lt;&lt;&lt;++++++++&gt;&gt;&gt;++++++++&gt;-]&lt;[&lt;]&lt;&lt;&lt;]&gt;[[-]&gt;&gt;&gt;[&gt;]-&gt;+&gt;-&gt;-&gt;--[&lt;&lt;&lt;&lt;--&gt;&gt;--&gt;--&gt;+++++++]&lt;[&lt;]&lt;&lt;]+&gt;+&lt;&lt;,]&gt;&gt;--[&gt;&gt;&gt;+&lt;&lt;&lt;-]&gt;&gt;[.&gt;-[&gt;&gt;&gt;&gt;+&lt;&lt;&lt;.&lt;-]&gt;&gt;.[-]++++++++++.&gt;]
</code></pre>
<p>The code is quite similar but a lot of optimisation has been done in the creation of the data pool, very interesting.</p>
</div>
<div id="pu8" class="pu"><h1>Java 11, <s>110</s> 106 bytes</h1>

<pre class="lang-java prettyprint-override"><code>s-&gt;{int l=s.length();return s.replace(&quot;re&quot;,&quot; &quot;+&quot;~&quot;.repeat(l-2+1/l)+&quot;\n&quot;).replace(&quot;o&quot;,&quot;=&quot;.repeat(l)+&quot;\n&quot;);}
</code></pre>
<p>-4 bytes thanks to <em>@ceilingcat</em>.</p>
<p>Uses <code>=</code> for the cookie and <code>~</code> for the filling.</p>
<p><a href="https://tio.run/##ZZDBTgMhEIbvfYoJJ8i6GL1u1jewlx7VA9KxUilsYLaJadZXX2cpsVovhPn@n5l/2Jujaffbj9l6kzM8GhdOKwAXCNObsQjrpQTYUHJhB1bWS1Yd82nFRyZDzsIaAvQw5/bhxK/B91l7DDt6l6pLSGMKkHXCwXNXKRKKGwGiEV9igWhI@va@ubv1qhHPQaiLNbKzv7iq3k1zt0wfxlfP02uIY3RbOPASNefTCxh13oAwEzdLGEXJ/kP@lhzsqr4mcUHxH4uFF62Kv3@nBCve@oEuDCPVaJvPTHjQcSQ9sEg@yKCtPFtqq2n@Bg" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>s-&gt;{                       // Method with String as both parameter and return-type
  int l=s.length();        //  Get the length of the input
  return s                 //  Return the input
          .replace(&quot;re&quot;,   //  After we've replaced all &quot;re&quot; with:
            &quot; &quot;            //   A space
            +&quot;~&quot;.repeat(l-2+1/l)
                           //   Appended with length-2 amount of &quot;~&quot;
                           //   (or length-1 if the input-length was 1)
            +&quot;\n&quot;)         //   Appended with a newline
          .replace(&quot;o&quot;,    //  And we've also replaced all &quot;o&quot; with:
            &quot;=&quot;.repeat(l)  //   Length amount of &quot;=&quot;
            +&quot;\n&quot;);}       //   Appended with a newline
</code></pre>
<hr />
<p>The above solution uses a replace. The following maps over the characters of the input instead:</p>
<h1>Java 11, <s>113</s> 112 bytes</h1>
<pre class="lang-java prettyprint-override"><code>s-&gt;s.chars().forEach(c-&gt;{if(c&gt;101)System.out.println((c&gt;111?&quot; &quot;:&quot;&quot;)+(&quot;&quot;+(char)c).repeat(s.length()-2*(~c&amp;1)));})
</code></pre>
<p>-1 byte thanks to <em>@Neil</em>.</p>
<p><a href="https://tio.run/##bZAxT8MwEIX3/oqTB3RHFYswEjVMjHTpiBiM6zQuqR3Zl0qoCn89JE6EoLBYeu9ZT9@9ozqr7Lh/H3SjYoRnZd1lBWAdm1ApbWA7SYCzt3vQuONg3QEiFaPbr8YnsmKrYQsONjDErIxS1ypEJFn58KR0jTorL7ZCXeZ3Oe0@IpuT9B3LduzixuGU5PmjAPEgBK1RiDVOHaRJBtMaxRhlY9yBa6Ts/hY/9U1OREVPQzExtN1bMzIsKAn1NB6y0L68gqL5CjaRUfhgvEgXfDu/ZTDX@trxk@X/eD75KVvCnxslsPR3mdG6tuMFzUmNs547/9lpKeyHLw" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>s-&gt;                           // Method with String parameter and no return-type
  s.chars().forEach(c-&gt;{      //  Loop over the characters as codepoint-integers
    if(c&gt;101)                 //   If it's not an 'e':
      System.out.println(     //    Print with trailing newline:
       (c&gt;111?                //     If it's an 'r'
         &quot; &quot;                  //      Start with a space
        :                     //     Else (it's an 'o' instead)
         &quot;&quot;)                  //      Start with an empty string
       +(&quot;&quot;+(char)c).repeat(  //     And append the character itself
          .repeat(            //     Repeated the following amount of times:
           s.length()         //      The input-length
           -2*(~c&amp;1)));})     //      Minus 2 if it's an &quot;r&quot;, or 0 if it's an &quot;o&quot;
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Excel, 93 bytes</h1>

<pre><code>=SUBSTITUTE(SUBSTITUTE(A4,"o",REPT("O",LEN(A4))&amp;"
"),"re"," "&amp;REPT("r",MAX(0,LEN(A4)-2))&amp;"
")
</code></pre>

<p><code>MAX(0,</code> is needed to handle <code>o</code>.
Uses <code>O</code> and <code>r</code>.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 13 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>äNëY┬2-]‼Cv6╤
</code></pre>

<p><a href="https://staxlang.xyz/#p=844e8959c2322d5d13437636d1&amp;i=oreoorererereoo&amp;a=1&amp;m=1" rel="nofollow noreferrer">Run and debug it</a></p>

<p>Uses "o" and "r" characters for the layers.</p>
</div>
<div id="pu11" class="pu"><h1>Powershell, <s>71</s> <s>69</s> 66 bytes</h1>

<p><em>-2 bytes thanks @Veskah</em></p>

<p><em>-3 bytes thanks @AdmBorkBork</em></p>



<pre class="lang-powershell prettyprint-override"><code>$l=$args|% le*
switch($args|% t*y){'o'{'#'*$l}'r'{" "+'%'*($l-2)}}
</code></pre>

<p>Less golfed test script:</p>

<pre class="lang-powershell prettyprint-override"><code>$f = {

$l=$args|% length
switch($args|% t*y){
    'o'{'#'*$l}
    'r'{" "+'%'*($l-2)}
}

}

@(

,(
'oreo',
'####',
' %%',
'####'
)
,(
'o',
'#'
)
,(
're',
' '
)
,(
'rere',
' %%',
' %%'
)
,(
'oreoorererereoo',
'###############',
' %%%%%%%%%%%%%',
'###############',
'###############',
' %%%%%%%%%%%%%',
' %%%%%%%%%%%%%',
' %%%%%%%%%%%%%',
' %%%%%%%%%%%%%',
'###############',
'###############'
)

) | % {
    $s,$expected = $_
    $result = &amp;$f $s
    "$result"-eq"$expected"
    # $result # uncomment this line to display a result
}
</code></pre>

<p>Output:</p>

<pre class="lang-powershell prettyprint-override"><code>True
True
True
True
True
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, 22 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">bytes</a><sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer" title=".dyalog files using a single byte character set">SBCS</a></sup></h1>



<p>Anonymous tacit prefix function. C<strong>o</strong>okies are <code>o</code>, c<strong>r</strong>eam is <code>r</code>.</p>

<pre class="lang-apl prettyprint-override"><code>'^rr'⎕R' '⍤1≢⊢⍤/⍪~'e'⍨
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn/Xz2uqEj9Ud/UIHUF9Ue9SwwfdS561LUIyNJ/1LuqTj0VKLjif9qjtgmPevuAyjz9H3U1H1pv/KhtIpAXHOQMJEM8PIP/p6nnF6Xmq3MBaRBRlAohITRIKh/EAcH8fHUA" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>

<p>…<code>⍨</code> swap the input for:</p>

<p> <code>'e'</code> this letter</p>

<p>…<code>~</code> remove all the "e"s from:</p>

<p> <code>⍪</code> the columnised argument</p>

<p>…<code>⊢⍤/</code> replicate that single column to be as many columns as:</p>

<p> <code>≢</code> the tally of characters in the input</p>

<p>…<code>⍤1</code> on each row (lit. on each 1D sub-array):</p>

<p> <code>'^rr'⎕R' '</code> PCRE <strong>R</strong>eplace leading "rr" with a single space</p>
</div>
<div id="pu13" class="pu"><h1>Sed, 89 characters</h1>

<p>(86 characters code + 3 characters command line option)</p>

<pre><code>h;s/./E/g;H;g;s/\n//;:b;s/(o|re)([ore]+)(E*)/\1\3\n\2\3/;tb;s/o//g;s/reE(E*)E/ \L\1 /g
</code></pre>

<p>Commented with example for input “oreo”:</p>

<pre><code>h        # copy to hold space
s/./E/g  # change into cookie: EEEE
H        # append to hold space
g        # copy back to pattern space: oreo␤EEEE
s/\n//   # remove the newline: oreoEEEE

:b                                 # split the os and res in separate lines
  s/(o|re)([ore]+)(E*)/\1\3\n\2\3/ # repeating the EEEE for each:
tb                                 # oEEEE␤reEEEE␤oEEEE

s/o//g                # remove the os: EEEE␤reEEEE␤EEEE
s/reE(E*)E/ \L\1 /g   # remove the res, cut edge, change fill: EEEE␤ ee ␤EEEE
</code></pre>

<p>Sample run:</p>

<pre><code>bash-4.4$ sed -r 'h;s/./E/g;H;g;s/\n//;:b;s/(o|re)([ore]+)(E*)/\1\3\n\2\3/;tb;s/o//g;s/reE(E*)E/ \L\1 /g' &lt;&lt;&lt; oreoorererereoo
EEEEEEEEEEEEEEE
 eeeeeeeeeeeee 
EEEEEEEEEEEEEEE
EEEEEEEEEEEEEEE
 eeeeeeeeeeeee 
 eeeeeeeeeeeee 
 eeeeeeeeeeeee 
 eeeeeeeeeeeee 
EEEEEEEEEEEEEEE
EEEEEEEEEEEEEEE
</code></pre>

<p><a href="https://tio.run/##JYsxCoAwEAT7e0U6E0UXtbMPWPgDz0IxxMqDxNK/xwRZFgZ259jjlaI7VRtUlS6K6GDhaSafmW@ApiOTljc4o1cJbmuMtrUB9zzyzQOPoKd8BChScLbsFooX7hV8qlLWJPePyAc" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <code>-D$=putchar(33</code> +  88 = 102 bytes</h1>



<pre class="lang-c prettyprint-override"><code>O(char*r){for(char*e,*o=r,x;*r;$-x),$-23))for(x=*r++&gt;111,e=x?$-1),r++,o+1:o;*++e;$+x));}
</code></pre>

<p><a href="https://tio.run/##RY/NCsIwEITP9imk5pDNzyH2ZqhevPcFCqXEtBY0K6lCoPTVjQ1FunP5mFl2GSN7Y2KsqLm3nnmYOvQrW8Gw9CJo5jWRAQSRxwIg5aFknvOzUkrYMlyIVCAWQyBXJ9SMc6sJDwB6joeb7QZn941@fd4jzWvH0tQuB50928FRmLJdRXP0FnNoVv6DtxttnFYxGUmI6dIcv6Z7tP0Y5ZWUy6tUgRbFDw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1>JavaScript, <s>72</s> <s>65</s> 64 bytes</h1>
<pre><code>s=&gt;s.replace(/.e?/g,([x,y])=&gt;(y?`
 `:`
`).padEnd(s.length+!y,x))
</code></pre>
<p><a href="https://tio.run/##lc6xCoMwFIXhWZ/CZkpojHtBnXyKWkjQq20JuSGRYp4@xRRKoYue@fvhPNVL@cE97FIaHCFOdfR144UDq9UAtBLQVjOn15WHG6sbGlqZF/Iic8mEVWNnRuqFBjMv9/Mp8JWxOKDxqEFonGk2UYIOkLAs46Q3vSm/Iyz/pUWyG9wlHRygH7zrwIbxgMZUpGrL/qv4Bg" rel="nofollow noreferrer">Try it online</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>62</s> 60 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;s{s.gsub /./,?r=&gt;" #{(?**z=s.size)[0..-3]}
",?o=&gt;?O*z+?\n}
</code></pre>

<p><a href="https://tio.run/##JYlBDsIgFET3noLgRhF@G10a@EfwAMjCGqpuioGyEMrZMbSZ5M2bjI/Dr46yChVygFeIA@mg4@ilomSfD8hYkgHCJ9mj7gHExZQd5eikwhtLJ7xPpWrqvHWUE7rC241bt8u10eIcNWAfz3de5uUb50BGPZsrWRUFO/el/gE" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>

<p>Uses <code>O</code> for the cookie, <code>*</code> for the filling.</p>

<p>-1 thanks to @manatwork pointing out a silly mistake and another -1 due to relaxation of the rules about whitespaces.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://esolangs.org/wiki/Pepe" rel="nofollow noreferrer">Pepe</a>, 364 bytes</h1>

<p>Unfortunately the online interpreter does not take care of compressing comments, hence all <code>o</code> characters will be replaced by a space.. Neither the spaces nor the <code>o</code> are necessary, so this could be 295 bytes, but I like it more this way:</p>



<pre class="lang-bash prettyprint-override"><code>rEeEEeeEeEororEEoreoreeeEeeeeeorEEEEeoREeoreorEeEEeEEEEororEEoreorEEEEEoREeoreorEeEEEeeEeororEEoreoReoREoREEEeoREEEEEoreorEorEEEeorEEEEEoreEoREeoreoREEeoREEEEeEeeoREEEeoREeeEoREEEeoREEEEEEEorEEEeEorEEEeoREoREEEeoREEEEEoREEoReoreorEEEeEoREEEEEEeorEEEeoReEoREoREEEeoREEoReoroReEeoREoREEEeorEEEEeoReeoREEEeoREeeEoREEEeoREEEEEEEoreoReoReoREoREEEeoREEEEEoreeeeeEeEeoRee
</code></pre>

<p><a href="https://soaku.github.io/Pepe/#!ca@E$U8-gD$!cu@E$-iD$!d0@E$.&amp;!p-j$_!o-iAD$TRt!p!f!pE7-e!o&amp;!p-jF.$-eE5!oB&amp;!pF.@L&amp;!p-g/!p!f!pE7$..&amp;!p-jT0/" rel="nofollow noreferrer" title="Pepe – Online interpreter">Try it online!</a></p>

<h2>Ungolfed</h2>

<p>There might be some golfing oppurtunities with <em>flags</em> which I missed, but I'm done for now:</p>

<pre class="lang-bash prettyprint-override"><code># "function" for 'e'
rEeEEeeEeE rrEE
  re          # remove duplicated argument
  reeeEeeeee  # print space
  rEEEEe      # decrement counter twice
REe re

# "function" for 'o'
rEeEEeEEEE rrEE
  re      # remove duplicated argument
  rEEEEE  # increment counter
REe re

# "function for 'r'
rEeEEEeeEe rrEE
  re Re              # remove duplicated argument &amp; char
  RE REEEe REEEEE    # push 1
  re rE rEEEe rEEEEE # replace 1
  reE                # goto 1
REe re

# Main

REEe REEEEeEee                # read input &amp; reverse
REEEe REeeE REEEe REEEEEEE    # push length-1 &amp; move to r

rEEEeE rEEEe # dummy loop-var (fucking do-whiles...)
RE REEEe REEEEE REE  # while [label-1]

  # Call the right procedure depending on current character,
  # sets stacks up as follows:
  #   R [ .... *currentChar ]
  #   r [ (N-1) *count ]
  Re re          # pop 1 &amp; loop-counter
  rEEEeE         # duplicate counter
  REEEEEEe rEEEe # copy current char to other stack
  ReE            # jeq to 'o'-label or 'e'-label

  # Output currentChar count times:
  RE REEEe REE # while [label-0]:
    Re         #   pop 0
    rReEe      #   print character
    RE REEEe   #   push 0
    rEEEEe     #   decrement counter
  Ree

  REEEe REeeE REEEe REEEEEEE  # push length-1 &amp; move to r
  re Re Re                    # pop 0, counter and 9((((currentChar
  RE REEEe REEEEE             # push 1
  reeeeeEeEe                  # print new-line

Ree
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, <strike>96</strike> <strike>87</strike> 85 bytes</h1>

<p>Thanks to @gwaugh    -9 Bytes<br/>
Thanks to @manatwork &#9; -2 Bytes</p>



<pre class="lang-php prettyprint-override"><code>&lt;?=strtr($i=$argv[1],[o=&gt;($r=str_repeat)(X,$l=strlen($i))."
",re=&gt;" {$r(o,$l-2)}
"]);
</code></pre>

<p><a href="https://tio.run/##JcvBCoMwEATQu18hIYddSEvbq038DUGkeFhUEDdMQy/Fb08TCnOaNxPXmJ99XGMrgOIFiYq0HQvduOtDMf9OSCC7eTtj@Yz3yY3qA1lUqQeZE9Pg7F6LXY6yZb6axjiID6b9WpAWvjz4bMzEXc5ZIf9Afg" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>

<p><a href="https://tio.run/##HcvBCoMwEIThe58iyIJZiNL2ahNfoyBSPCwqiBumoa@fJl7/byZuMb/GuEUjgOIDiYq0n6u982DGUNB/ExIs7Z4WrL/pMbtJfbCEKvUhS2L7dnTUcMhZtsx9c2scxIfWtD3BavHueeWZh5yzQvQP" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online! (87 Bytes)</a></p>

<p><a href="https://tio.run/##K8go@M/538betrikqKRIQ6XcViWxKL0s2jBWJzrf1k5DJQ0kE1@UWpCaWKKp8Whah45KDkgoJzUPqFpTU0@JS0mnyNZOSUFJTyUNqGAiUIGuEUQ8FSiuFKtp/f////yi1HwghsD8fAA" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online (original 97 bytes submition)!</a>
<hr/>
<strong>And a recursive function</strong></p>

<h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, 135 bytes</h1>



<pre class="lang-php prettyprint-override"><code>function f($w,$x=0){$f=str_repeat;echo($x&lt;($l=strlen($w)))?($w[$x]=='o')?$f(█,$l)."
".f($w,$x+1):" ".$f(░,$l-2)."
".f($w,$x+2):"";}
</code></pre>

<p><a href="https://tio.run/##K8go@G9jXwAk00rzkksy8/MU0jRUynVUKmwNNKtV0myLS4rii1ILUhNLrFOTM/I1VCpsNFRyQMI5qXlAlZqamvZAKlqlItbWVj1fXdNeJU3j0bQOHZUcTT0lLiU9qHHahppWSgpKemDZiUBZXSNUeSOgvJJ17f80DaX8otR8JU3r//8B" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online! (recursive)</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="http://tcl.tk/" rel="nofollow noreferrer">Tcl</a>, 216 bytes</h1>

<pre><code>set s [gets stdin]
set l [string map {o { o } re { re }} $s]
set n [string length $s]
foreach i $l {
if {$i eq "o"} {
puts [string repeat █ $n]
} elseif {$i eq "re"} {
puts " [string repeat ░ [expr {$n-2}]] "
}
}
</code></pre>

<p><a href="https://tio.run/##ZY49CsMwDIV3n@JhvHbpdUKGkCqJwbVd24WC0d61Sw7Yi7hqQ3@gCAnx9D6eyuhay1SQ0c1UMnI5WN@rp@TQ5ZKsn3EcImpARQAjkSwymGHy5vQfpyM/l@V1mEKiYVxgYRyqshOqsaATdNAsQjxL3JtLFGkouK9XGIlnkMv0gyT6MvqfuqGjS0xi97s99z20YsWtyQtBeqsQHg" rel="nofollow noreferrer" title="Tcl – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>135</s> <s>113</s> <s>109</s> 104 bytes</h1>

<ul>
<li>Saved <s>twenty-two</s> twenty-seven bytes thanks to <a href="https://codegolf.stackexchange.com/users/55934/niedzejkob">NieDzejkob</a>.</li>
<li>Saved four bytes thanks to <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">ceilingcat</a>.
</li>
</ul>

<pre class="lang-c prettyprint-override"><code>#define $ putchar(33
O(char*r){for(char*e,*o=r,x;*r;$-23))for(x=*r++&gt;111,e=x?$-1),r++,o+2:o;*e++;$+x));}
</code></pre>

<p><a href="https://tio.run/##Rc1BCoMwEAXQdT2FpFlkkihEd021R/AIImlsXdQp0xYC4tmtQVqZzePPMN9lN@eW5Xj1/TD6lKfPz9vdOxJlmTQiShJMPdJmryVWpIOVZHlWlABxFSpJStXGGO2rcOGZAb0GGlVxQiu9UparAGDnf1Fr16KXYOe8zWsGNnl0wyhgSg6NYEgeGbSbfyC/a3c8xRjEQYyf5uUL" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 28 bytes</h1>

<pre><code>FNzIqN"o"*lzN)IqN"r"+d*-lz2N
FNz                              For each value, N, in input
   IqN"o"                        if the character is "o"
         *lzN                    return the character times the length of the input
             )                   end if
              IqN"r"             if the character is "r"
FNzIqN"o"*lzN)IqN"r"+d*-lz2N
                        *-lz2N   return the character times length - 2
                    +d           padded on the left with " "
</code></pre>

<p><a href="https://tio.run/##K6gsyfj/382vyrPQTylfSSunyk8TxCxS0k7R0s2pMvL7/z@/KDUfiCEwPx8A" rel="nofollow noreferrer">Try it here!</a> This one uses a loop.</p>

<h1>Pyth, 30 bytes</h1>

<p>(As string replace)</p>

<pre><code>::z"o"+*lz"="b"re"++d*-lz2"~"b
 :z"o"                           With the input, replace "o" with
       *lz"="                    "=" times the length of the input
      +      b                   and a newline added to the end
:             "re"               With the input, replace "re" with
                     *    "~"    "~" times
                      -lz2       the length of the input minus 2
                   +d            padded on the left with " "
                  +          b   and a newline added to the end
</code></pre>

<p><a href="https://tio.run/##K6gsyfj/38qqSilfSVsrp0rJVilJqShVSVs7RUs3p8pIqU4p6f///KLUfCCGwPx8AA" rel="nofollow noreferrer">Try it here!</a> This one uses string replacement.</p>

<p>I really like python (it's what I wrote my original test scripts in), so I thought I'd do a pyth entry for fun :)</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, <del>100</del> <del>99</del> 93 bytes</h1>



<pre class="lang-php prettyprint-override"><code>$l=strlen($i=$argv[1]);$r=str_repeat;echo strtr($i,[o=&gt;$r(X,$l)."
",re=&gt;' '.$r(o,$l-2)."
"]);
</code></pre>

<p><a href="https://tio.run/##JYzBCsIwEETvfkUoC00gFvUaU39DKCJFlqYQumEM/n7cKsMc5vGYkkq73koqhgHBE1wEdd0We3KhUY7visybpTXSjOUznR8uEHa8uzzXwK8kRneFWn6SOBLs3VN2Q3foPDiOvekHhaLwePlhfWmtCVi0/4h8AQ" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>

<p>OUCH. PHP's waaaay_too_long function names strike again!</p>

<p>Output:</p>

<pre class="lang-php prettyprint-override"><code>$php oreo.php oreo
XXXX
 oo
XXXX

$php oreo.php o
X

$php oreo.php rere
 oo
 oo

$ php oreo.php oreoorererereoo
XXXXXXXXXXXXXXX
 ooooooooooooo
XXXXXXXXXXXXXXX
XXXXXXXXXXXXXXX
 ooooooooooooo
 ooooooooooooo
 ooooooooooooo
 ooooooooooooo
XXXXXXXXXXXXXXX
XXXXXXXXXXXXXXX
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>70</s> 75 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda s:"\n".join((c*(len(s)-2*(c&lt;'f'))).center(len(s))for c in s if'r'&gt;c)
</code></pre>

<p><a href="https://tio.run/##NYwxDsIwDEXn5hRWlsQVdOhYUS5CGUpIRFCxqyQLpw9yFWTJ/k/fevu3vJjGGualbuvn8VwhT3ohPbw5krWut5snm/E89tZdTDCIODhPxafWYOAEDiJBhhhMMleHtfhcMsxwU53h5NmcJBw7@XZakJqFZFh@7kqJUxyiPVyT6vYUqUCwwvhHresP" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Uses 'o' for cookie, 'e' for filling. Returns a string.</p>

<p>EDIT:
Saved 4 bytes thanks to <a href="https://codegolf.stackexchange.com/users/76162/jo-king">Jo King</a>.</p>

<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code># anonymous function, returns a string seperated by line breaks
lambda s:"\n".join(.......................................................)
                                                        # iterate through string, return each non-'r' character
                                                        for c in s if'r'&gt;c
                    # duplicate the character until it is the length of the original string,
                    # minus two characters if the current letter is 'e'
                    c*(len(s)-2*(c&lt;'f'))
                   # pad the string with spaces out to the length of the original string
                   (....................).center(len(s))
</code></pre>
</div>
<div id="pu24" class="pu"><h1>x86-64 machine code (Linux), 97 bytes</h1>

<pre><code>0000000000000000 &lt;oreo_asm&gt;:
   0:   56                      push   %rsi
   1:   57                      push   %rdi

0000000000000002 &lt;len&gt;:
   2:   48 ff c7                inc    %rdi
   5:   80 3f 00                cmpb   $0x0,(%rdi)
   8:   75 f8                   jne    2 &lt;len&gt;
   a:   49 89 fc                mov    %rdi,%r12
   d:   5f                      pop    %rdi
   e:   49 29 fc                sub    %rdi,%r12
  11:   4d 31 f6                xor    %r14,%r14
  14:   eb 18                   jmp    2e &lt;outer_loop.skip&gt;

0000000000000016 &lt;extra&gt;:
  16:   41 c6 01 20             movb   $0x20,(%r9)
  1a:   c6 03 20                movb   $0x20,(%rbx)
  1d:   49 ff ce                dec    %r14
  20:   eb 06                   jmp    28 &lt;outer_loop&gt;

0000000000000022 &lt;newline&gt;:
  22:   c6 06 0a                movb   $0xa,(%rsi)
  25:   48 ff c6                inc    %rsi

0000000000000028 &lt;outer_loop&gt;:
  28:   49 ff c6                inc    %r14
  2b:   48 ff c7                inc    %rdi

000000000000002e &lt;outer_loop.skip&gt;:
  2e:   44 8a 07                mov    (%rdi),%r8b
  31:   41 80 f8 65             cmp    $0x65,%r8b
  35:   74 df                   je     16 &lt;extra&gt;
  37:   45 84 c0                test   %r8b,%r8b
  3a:   74 23                   je     5f &lt;done&gt;
  3c:   48 89 f3                mov    %rsi,%rbx

000000000000003f &lt;inner_loop&gt;:
  3f:   44 88 06                mov    %r8b,(%rsi)
  42:   49 89 f1                mov    %rsi,%r9
  45:   48 ff c6                inc    %rsi
  48:   48 31 d2                xor    %rdx,%rdx
  4b:   48 89 f0                mov    %rsi,%rax
  4e:   48 2b 04 24             sub    (%rsp),%rax
  52:   4c 29 f0                sub    %r14,%rax
  55:   49 f7 f4                div    %r12
  58:   48 85 d2                test   %rdx,%rdx
  5b:   74 c5                   je     22 &lt;newline&gt;
  5d:   eb e0                   jmp    3f &lt;inner_loop&gt;

000000000000005f &lt;done&gt;:
  5f:   5e                      pop    %rsi
  60:   c3                      retq
</code></pre>

<p>This x86-64 function takes in the pointer to the input string in rsi and builds the output starting at the pointer in rdi (these are the registers used to pass the first two arguments from a C function on Linux). For convenience, I've written a C++ wrapper for this which also does nice input sanitization and prints the output. That code can be located <a href="https://github.com/Davey-Hughes/ppcg/tree/master/oreoorererereoo" rel="nofollow noreferrer">here</a>. This also shows the original nasm syntax assembly I wrote for this function (as well as the non-golfed version I got working first).</p>

<p>A few things to note is that this code doesn't respect any callee saved registers, which means that the C++ code likely will crash if run for a while after calling this function. On my machine it doesn't, but that's rather surprising. I also don't add a null byte to delimit the output string, and instead the space allocated for the output string is pre-filled with bytes. (If this isn't allowed I can add the null terminator at a cost of 3 bytes).</p>

<p>The logic for this code is essentially counting the length of the string, then building a line of this length for each 'o' and 'r' characters seen in the input string, and then for any 'e' character seen, replacing the first and last characters on the previous line with space characters.</p>

<p><s>I can't find anywhere online to compile and run a mix of C++ and nasm source code, so I might write some small wrapper code for this to prove it works.</s> Otherwise you should be able to compile and run this with the makefile in the link I gave with the command:</p>

<pre><code>$ make oreo ASM_FILE=oreo_golf.nasm
$ ./oreo oreoorererereoo --use_asm
</code></pre>

<p>I was able to format the assembly to something acceptable by gcc, so <a href="https://tio.run/##lVZZk9pGEH5Gv6KtpAoJBAiMnV1Y/JBKHvKSOC5XuVyYUEIaYGJpRtaxVlWyf92k55AQOryVPTRMd0/3N18fyI/jycn3L5fZCM5ZFqer2cznATnx8DhNM8//TAr/7LETmfo8mn3JSZpRztLZ/Ke7l8vljCeE47/65RxGM8P4gTI/zAMCD5SnWUK86E1NlpATKd7UrdCGstP0jMJHTgND@Nx7aWRh4ARGlMV55oDa8DzDnW38YwzQAixjMDBB/cR5ehZrktJPzOxSBKUiJGx1a4Ng4NZGK/woluvPH9//Cm/fv4MtmuwccAv31vBvRuSKvm8VEX9UrucLp@0/5nF34DQ/fOdYwROtXTri0cCiQSNbJNmHnMfT9DONtREpssRbdYOsXfNe3nLhPmt4KDotA@KXEJ9Dp/WMfA0pI89DS1UGvJ4cVgVwjdCX7ia2dh00OOwBl9wdnEaNdNeRNHSL168anKjiAZmbW1WGLVedxEf3wYAz0gPtUDg1Tihj3Zz08dwKWTm@d9rN1k5Cs2IDAScoenx6RYfTqheE9s8Pf7z7pQQY775j2cpuQKtW7OG4E1zJsa7P7mq@8qr1IiOrnmYvL7gCnLuMgxprqRifQmiigQmWHnYO7gOxl5PQ1hZ3ppDfy@fcVctcLQu1vFTLUi2vTAdPAn70Cik5qMVXS1AgHnttPBn1KexbaRasVmpCg46Ps5eyDChswF0bg69nGhIEBw8CYWYrsynOwVN2tmwb0H5Ajxr@lu5gs4EhHyrFQAbw8arw8AC1aNatG0cdKW0IC8K1OE7HY7E@AQlT0uFxCMP1/wgDE8BxO0yG9rrLVUd8GG9gISEY@If0IQdG5FEmyAAvOfnld9cIN4@SvgPnIeQpEd9yyOLRQ@zoosW1ZZp2KZffm/DohTSwzL8s/m9C7PGPQm8Mjthb1jUnIHIhIq9hPKbXBKBrhnPIEji2orXNyUSjwBq4t0ViXJ2WK7osyUmNYplJeHG1lEjRrk6qjmBXvBi1CnBVBXxydQnckGz@ztXdQRORxsSnR0oCs0V@QrI8YTBfXyO8uHK1j7zMP1v69UESZ3cF/K0ejTJp2BtrUYulKdL8IvuRV@yxkJCLRlGNmoJxWyBuMai/5KAbHDiydrba804kuzPb2qCW8IHyIvtNkq1ygY/q/Uq/YJUd6@@RBNFpeu6sm1QpucQQkJBkZLurZPUO1KNDjQtNmOYPB8bT5XIRFvKN8VJV4Df/GHqn9DKJXi/xgZIN3pGE@DnLGVGb/wA" rel="nofollow noreferrer">try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="noreferrer">05AB1E</a>, <s>18</s> <s>17</s> 16 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="noreferrer">bytes</a></h1>
<pre><code>'eKεD'rQ2*Igα×}.c
</code></pre>
<p>-1 byte thanks to <em>@Emigna</em></p>
<p>Uses <code>o</code> for the cookie and <code>r</code> for the filling.</p>
<p><a href="https://tio.run/##yy9OTMpM/f9fPdX73FYX9aLAQ9s9089tPDy9Vi/5///8otR8IIbA/HwA" rel="noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9TpuSZV1BaYqWgZF95eEKojpJ/aQmEr/NfPdX73FYX9aLAQ9sj0s9tPDy9Vi/5v86hbfb/84tS87nyuYpSgQhI5IPIfBCVD2aCufkA" rel="noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>'eK                 '# Remove all &quot;e&quot; from the (implicit) input
                     #  i.e. &quot;orereo&quot; → &quot;orro&quot;
   ε         }       # Map all characters to:
    D                #  Duplicate the current character
     'rQ            '#  Check if it's an &quot;r&quot; (1 if truthy; 0 if falsey)
                     #   i.e. &quot;r&quot; → 1
                     #   i.e. &quot;o&quot; → 0
        ·            #  Double that
                     #   i.e. 1 → 2
                     #   i.e. 0 → 0
         Ig          #  Take the length of the input
                     #   i.e. &quot;orereo&quot; → 6
           α         #  Take the absolute difference between the two
                     #   i.e. 2 and 6 → 4
                     #   i.e. 0 and 6 → 6
            ×        #  Repeat the duplicated character that many times
                     #   i.e. &quot;r&quot; and 4 → &quot;rrrr&quot;
                     #   i.e. &quot;o&quot; and 6 → &quot;oooooo&quot;
              .c     # Then centralize it, which also imlicitly joins by newlines
                     # (and the result is output implicitly)
                     #  i.e. [&quot;oooooo&quot;,&quot;rrrr&quot;,&quot;rrrr&quot;,&quot;oooooo&quot;]
                     #   → &quot;oooooo\n rrrr\n rrrr\noooooo&quot;
</code></pre>
</div>
<div id="pu26" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, 37 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>{m:g/o|r/&gt;&gt;.&amp;({S/rr/ /.say}o*x.comb)}
</code></pre>

<p><a href="https://tio.run/##K0gtyjH7n1upoJamYKvwvzrXKl0/v6ZI385OT02jOli/qEhfQV@vOLGyNl@rQi85PzdJs/a/TX5Rar5CvkJRKhABCRA3H8QCwfx8O5DmtP8A" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>

<p>Anonymous code block that takes a string and prints the oreo, with <code>o</code> as the cookie and <code>r</code> as the cream.</p>

<h3>Explanation:</h3>

<pre class="lang-perl6 prettyprint-override"><code>{                                   }   # Anonymous code block
 m:g/o|r/                               # Select all o s and r s
         &gt;&gt;.&amp;(                     )    # Map each letter to
                            *x.comb     # The letter padded to the width
               S/rr/ /                  # Substitute a leading rr with a space
                      .say              # And print with a newline
</code></pre>
</div>
<div id="pu27" class="pu"><h2>Batch, 133 bytes</h2>

<pre><code>@set/ps=
@set o=%s:r=o%
@set o=%o:e=o%
@set r=%o:o=-%
@set r= %r:~2%
@set s=%s:e= %
@for %%c in (%s:o=o %)do @call echo %%%%c%%
</code></pre>

<p>Takes input on STDIN. Explanation:</p>

<pre><code>@set/ps=
</code></pre>

<p>Input the string.</p>

<pre><code>@set o=%s:r=o%
@set o=%o:e=o%
</code></pre>

<p>Make a copy of the string with all of the <code>r</code>s and <code>e</code>s replaced with <code>o</code>s.</p>

<pre><code>@set r=%o:o=-%
@set r= %r:~2%
</code></pre>

<p>Make a copy of the string of <code>o</code>s, change them to <code>-</code>s and replace the first two with a space.</p>

<pre><code>@set s=%s:e= %
@for %%c in (%s:o=o %)do @call echo %%%%c%%
</code></pre>

<p>Change the <code>e</code>s into spaces and also add a space after each <code>o</code>, allowing the <code>o</code>s and <code>r</code>s to be iterated over, printing the appropriate string each time.</p>
</div>
<div id="pu28" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 64 bytes</h1>



<pre class="lang-python prettyprint-override"><code>s=input()
for c in s:
&#9;if'n'&lt;c:j='o'&lt;c;print' '*j+c*(len(s)-2*j)
</code></pre>

<p>A full program which prints the result.</p>

<p><strong><a href="https://tio.run/##DcUxDoAgDADAWV7RrYBxYUR5DZFYYloCOPj66i3X3nkJB9WRiNszrTNFOmQghhHNQgUZjxxrQvnfWyeeCOjrmr29T7bDbcFXp4rST8EP" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##PY/NDsIgDMfP8hS9Fea87IjuATz5ArtM1sUtkxJgiT49AktMk36k/f/aum98se2S4YmgB0QcUugX6/YolZjZg4HFQtDitMxo8Wb02iPneHV@sREBm/VsGrmRlUFdumZVKVNERWTiNr6f06ghUoiiAktWmBLZE2MLWJ2nwx@xtLgUxZhR5QPqQsD7Qc5TnpyXBaeyYrCPPeaOHiy24kQfMrJ8pf5CTD8" rel="nofollow noreferrer" title="Python 2 – Try It Online">test-suite</a>.</p>
</div>
<div id="pu29" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>77</s> <s>76</s> 72 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda i:'\n'.join((x*len(i),' '+x*(len(i)-2))[x&gt;'o']for x in i if'e'&lt;x)
</code></pre>

<p><a href="https://tio.run/##bcyxDsIwDATQna@wsthuC0NHBPwI6VBEIoyKXUUdwtcHRQxdopvunXTrd3uZjiVefVnmz@M5g5zRK57eJkqUuyUoCQ8I2OeO/u04Mt/zDQ2naAkyiIKARAx4yVzWJLpBJGcpmGPowXl1h50blkITm1xvrW41tr@VHw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>The outer part of the cookie is 'o' and the filling is 'r'.</p>
</div>
<div id="pu30" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 65 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>s=&gt;s[R='replace'](/.e?/g,x=&gt;s[R](/./g,x[0])[R](/^r|r$/g,' ')+`
`)
</code></pre>

<p><a href="https://tio.run/##HYzBCsIwEETvfoUHYbMYU@9S@w9eSyUhbksldsOmSA/@e0zKDMu8WZi3@7rkZY7rZeEX5bHNqb2n/tGCUAzOEwyqMdQ1k972R8UK/XXAnZ7yk1Np4Ah4tgeLGViINWuh4nIqck1VzGBSDPNqtTUfF1WZ9bwkDmQCT2pUGyLe8h8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/79145/yair-rand">Yair Rand</a>, saves 2 bytes.</p>
</div>
<div id="pu31" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a>, 71 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>s=&gt;s.Aggregate("",(a,c)=&gt;a+(c&gt;111?" ":"\n".PadLeft(s.Length+c/5-21,c)))
</code></pre>

<p><a href="https://tio.run/##bcqxDgIhEATQ3q8gWy25OwwmNioYGysKOxsbsi4cDSaA34@ndsZmJnkzVCeqqZ@fmQ61lZTj@C0rgjC9GlvVKcbC0TdGgBH9SNJYPyBZrfURBOzglkFd/N1xaFiV4xzbPNB6O2308pay71fXkhq7lBkDwgOk/KXC/3XxT7zH/gI" rel="nofollow noreferrer" title="C# (Visual C# Interactive Compiler) – Try It Online">Try it online!</a></p>

<p>Borrowed some ideas from on <a href="https://codegolf.stackexchange.com/a/178349/8340">Embodiment of Ignorance's answer</a> for sure.</p>

<p>-6 bytes thanks to @ASCIIOnly!</p>

<p>The overall concept is to compute a string aggregate over the input characters following these rules:</p>

<ul>
<li>If an <code>r</code> is encountered, append a single space <code></code> character for indentation. We know the next character will be an <code>e</code>.</li>
<li>If an <code>o</code> or an <code>e</code> is encountered, generate a string by repeating the current character a specific number of times and prepending it to a newline or some padding and a newline.</li>
<li>The number of times to repeat is determined by length of input string and whether the current line is indented.</li>
<li>The <code>PadLeft</code> function is used to generate the repeating character string.</li>
</ul>

<p>The result is the concatenation of all of these strings.</p>
</div>
<div id="pu32" class="pu"><h1><a href="https://www.dartlang.org/" rel="nofollow noreferrer">Dart</a>, <s>120</s> <s>106</s> 107 bytes</h1>

<pre><code>f(s)=&gt;s.replaceAll('o',''.padRight(s.length,'#')+'\n').replaceAll('re',' '.padRight(s.length-1,'-')+' \n');
</code></pre>

<p><a href="https://tio.run/##bY1BCsMgEEX3PYXQxTjUCF2HFnqFrLuRZJIIVkXdlZ7dOmSVpszuzX//TyaVWmeZ8XbPOlF0ZqSHcxICKAAdzTTYZS0ya0d@KauCM@AFnh5wF0/U8uKP0F0VdKwIdvr6MtZLfJ@EiMn6Iuc2lSgAYr9jv6ANHMiRcVXgB1/YSj71Cw" rel="nofollow noreferrer" title="Dart – Try It Online">Try it online!</a></p>

<ul>
<li>+1 byte : Added trailing whitespace</li>
</ul>
</div>
<div id="pu33" class="pu"><h1><a href="https://clojure.org/" rel="nofollow noreferrer">Clojure</a>, 137 bytes</h1>



<pre class="lang-clj prettyprint-override"><code>(fn[f](let[w(count f)r #(apply str(repeat % %2))](clojure.string/join"\n"(replace{\o(r w \#)\e(str \ (r(- w 2)\-) \ )}(remove #{\r}f)))))
</code></pre>

<p>I'm not using the nice characters in the printout in the golfed version since those are expensive. Returns a string to be printed.</p>

<p><a href="https://tio.run/##JYxRC4MwDIT/SqgIyYMb@HesD6WkQ@maktXJEH97V/GOPNzl43yUdVOumHVJJSbAiiFNYcbIZdrRy5YKBFLo0OUcf/ApisqZXYEe@pFoRn@PPNprSa/nKksyNpkLi87zYQUVdrAdWcYGgQVUHFo1kh2oRTob/JYvQ3dYPQNdqkaUpd1tEUME9Q8" rel="nofollow noreferrer" title="Clojure – Try It Online">Try it online!</a></p>

<p>See below for explanation.</p>

<p>Pre-golfed:</p>

<pre class="lang-clj prettyprint-override"><code>; Backslashes indicate a character literal
(defn oreo [format-str]
  (let [width (count format-str)

        ; A helper function since Clojure doesn't have built-in string multiplication
        str-repeat #(apply str (repeat % %2))

        ; Define the layers
        cookie (str-repeat width \█)
        cream (str \ (str-repeat (- width 2) \░) \ )]

    (-&gt;&gt; format-str ; Take the input string,
         (remove #{\r}) ; remove r for simplcity,
         (replace {\o cookie, \e cream}) ; replace the remaining letters with the layers,
         (clojure.string/join "\n")))) ; and join the layers together with newlines
</code></pre>
</div>
<div id="pu34" class="pu"><h1>Bash, 87 bytes</h1>



<p>Without <code>sed</code>:</p>

<pre class="lang-bash prettyprint-override"><code>f(){ printf %$1s|tr \  $2;}
c=${1//o/`f ${#1} B`
}
echo "${c//re/ `f $[${#1}-2] F` 
}"
</code></pre>

<p>Thanks to @manatwork.</p>

<p>With <code>sed</code> (90 bytes):</p>

<pre class="lang-bash prettyprint-override"><code>f(){ printf %$1s|tr \  $2;}
echo $1|sed "s/o/`f ${#1} B`\n/g;s/re/ `f $[${#1}-2] F` \n/g"
</code></pre>
</div>
<div id="pu35" class="pu"><h1>JavaScript, 70 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.replace(/()()o|re/g,(_,o=1,s=' ')=&gt;s.padEnd(x.length-o,+o)+s+`
`)
</code></pre>
<p><a href="https://tio.run/##jctBDoIwEEbhPacw3TATSokHKDtvYSINDKhp@pOWGBbevUYWLoyJvPX37u7hUh9v81IHDJJHm1fbribK7F0v1BAT4xmlmTRdNOxRJ1seSrZtMrMbTmGg1XgJ03KtoStwlaqu6Dj3CAlejMdEIylEgWKtzqH@pLj4Vv9JlD1mj8KbYZfDZjf/Y8gv" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Or... If we're allowed to use other characters for whitespace, we can get it down to 65 bytes:</p>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.replace(/()()o|re/g,(_,o=1,s=' ')=&gt;s.padEnd(x.length-o,+o)+s+`
`)
</code></pre>
<p><a href="https://tio.run/##jcuxDoIwFEbhncfoQq@UEt3LxluYSAMX1DT9m0JMB9@9RgYHYyJn/s7dPuwyxFtYa4@R82RyMm3SkYOzA8tGEp6Rm1nJi4IpjyWZFjrYsfOjTNqxn9drDYXDiSpUfdFTHuAXONYOs5ykQGQIUuLs60@Cim/1n0TeY/YovBl2OWx28z@G/AI" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>...but I don't think that counts.</p>
</div>
<div id="pu36" class="pu"><h1><a href="https://www.lua.org" rel="nofollow noreferrer">Lua</a>, 112 bytes</h1>

<pre class="lang-lua prettyprint-override"><code>s=io.read()for t in s:gmatch&quot;.&quot;do io.write(t==&quot;o&quot;and t:rep(#s)..&quot;\n&quot;or(t==&quot;r&quot;and&quot; &quot;..t:rep(#s-2)..&quot; \n&quot;or&quot;&quot;))end
</code></pre>
<hr />
<h2>Explanation</h2>
<pre class="lang-lua prettyprint-override"><code>s = io.read() -- Reads the input
for t in s:gmatch(&quot;.&quot;) do -- For each character in the input, call it 't' and enter the loop
 io.write(t==&quot;o&quot; and t:rep(#s)..&quot;\n&quot; or (t==&quot;r&quot; and &quot; &quot;..t:rep(#s-2)..&quot; \n&quot; or &quot;&quot;))

          t==&quot;o&quot; and  -- if 't' is equal to &quot;o&quot; then
                     t:rep(#s)..&quot;\n&quot;  -- you have to write 't' repeated N times, where N is
                                      -- is the size of the input s, appended by a new line
                                     or (t==&quot;r&quot; and  -- else, if 't' is equal to &quot;r&quot; then
                                                    &quot; &quot;..t:rep(#s-2)..&quot; \n&quot;  -- write a space, followed by 't' repeated N-2 times,
                                                                             -- where N is the size of the input.
                                                                             -- followed by a space and a new line.
                                                                            or &quot;&quot; -- else, just don't write anything.

end
</code></pre>
<p><a href="https://tio.run/##Nco7DgIxDIThq1hDkxTrgnKl3IQmIgYiQYwcr/b4YR9Co6m@/73kMXqqyia5hPhQI6faqM/PT/b7C4yitPlq1SV4SlDkVshnk2@49MiMW4PaYbYbCMx/n657QUcCxCitjKEmuv2c6g8" rel="nofollow noreferrer" title="Lua – Try It Online">Try it online!</a></p>
</div>
<div id="pu37" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, <s>&nbsp;16 14&nbsp;</s> 13 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="noreferrer">bytes</a></h1>

<p>-1 Thanks to Erik the Outgolfer</p>

<pre><code>OḂƇẒṁ€aØ.¦€⁶Y
</code></pre>

<p>Uses <code>1</code> for the cream and <code>0</code> for the cookie.</p>

<p><strong><a href="https://tio.run/##y0rNyan8/9//4Y6mY@0Pd016uLPxUdOaxMMz9A4tAzIeNW6L/P//v3p@UWo@EENgfr46AA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>

<h3>How?</h3>

<pre><code>OḂƇẒṁ€aØ.¦€⁶Y - Main Link: list of characters, V    e.g. 'orereo'
O             - ordinal (vectorises)                     [111,114,101,114,101,111]
  Ƈ           - filter keep those for which:
 Ḃ            -   modulo 2                               [111,    101,    101,111]
   Ẓ          - is prime? (vectorises)                   [  0,      1,      1,  0]
    ṁ€        - mould each like V                        [[0,0,0,0,0,0],[1,1,1,1,1,1],[1,1,1,1,1,1],[0,0,0,0,0,0]]
          €   - for each:
         ¦    -   sparse application...
       Ø.     -   ...to indices: literal [0,1] (0 is the rightmost index, 1 is the leftmost)
      a       -   ...apply: logical AND with:
           ⁶  -               space character           [[0,0,0,0,0,0],[' ',1,1,1,1,' '],[' ',1,1,1,1,' '],[0,0,0,0,0,0]]
            Y - join with newline characters            [0,0,0,0,0,0,'\n',' ',1,1,1,1,' ','\n',' ',1,1,1,1,' ','\n',0,0,0,0,0,0]
              - implicit print                       ...smashes everything together:
              -                                         000000
              -                                          1111 
              -                                          1111 
              -                                         000000
</code></pre>

<hr>

<p>Previous 16 byter:</p>

<pre><code>ḟ”eẋ€Ly@Ø.¦€⁾r Y
</code></pre>

<p>Uses <code>r</code> for the c<code>r</code>eam and <code>o</code> for the c<code>o</code>okie.</p>

<p><a href="https://tio.run/##y0rNyan8///hjvmPGuamPtzV/ahpjU@lw@EZeoeWAZmPGvcVKUT@//9fPb8oNR@IITA/Xx0A" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>
<div id="pu38" class="pu"><h1>Mathematica, <s>111</s> 91 bytes</h1>
<pre><code>#~StringReplace~{&quot;o&quot;-&gt;&quot;O&quot;~Table~(n=StringLength@#)&lt;&gt;&quot;\n&quot;,&quot;re&quot;-&gt;&quot; &quot;&lt;&gt;Table[&quot;R&quot;,n-2]&lt;&gt;&quot; \n&quot;}&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78H1CUmVcS/V@5LrgEyEoPSi3ISUxOratWylfStVPyV6oLSUzKSa3TyLOFKPBJzUsvyXBQ1rSxU4rJU9JRKkoFKVRQsrEDq4xWClLSydM1igXKKwAV1Kr9V3BQUMovSgXBfCCdrxT7HwA" rel="nofollow noreferrer">Try It Online!</a></p>
<p>This was majorly shortened thanks to <a href="https://codegolf.stackexchange.com/users/74672/misha-lavrov">Misha</a>'s <a href="https://codegolf.stackexchange.com/questions/178344/oreoorererereoo/178418#comment430012_178418">edits</a>.</p>
<hr />
<p>My original code:</p>
<pre><code>(z=StringRepeat;n=StringLength@#;#~StringReplace~{&quot;o&quot;-&gt;&quot;O&quot;~z~n&lt;&gt;&quot;\n&quot;,&quot;re&quot;-&gt;&quot; &quot;&lt;&gt;If[n&gt;2,z[&quot;R&quot;,n-2],&quot;&quot;]&lt;&gt;&quot; \n&quot;})&amp;
</code></pre>
<p>This code is not very fancy but it seems too expensive to convert away from strings and then back or to do anything else clever.</p>
<p>In particular, with only 3-4 commands that have the name String, my original approach couldn't save bytes at all by trying to abstract that away. For example, the following is 129 bytes:</p>
<pre><code>(w=Symbol[&quot;String&quot;&lt;&gt;#]&amp;;z=w@&quot;Repeat&quot;;n=w[&quot;Length&quot;]@#;#~w@&quot;Replace&quot;~{&quot;o&quot;-&gt;&quot;O&quot;~z~n&lt;&gt;&quot;\n&quot;,&quot;re&quot;-&gt;&quot; &quot;&lt;&gt;If[n&gt;2,z[&quot;R&quot;,n-2],&quot;&quot;]&lt;&gt;&quot; \n&quot;})&amp;
</code></pre>
</div>
<div id="pu39" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 106 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(s,N=nchar(s)){m=rep(el(strsplit(gsub('re',0,s),'')),e=N)
m[m&lt;1&amp;seq(m)%%N&lt;2]=' '
write(m,1,N,,"")}
</code></pre>

<p><a href="https://tio.run/##jc5BCsIwEAXQfU4hgTozMIJ1ba6QC6iLWqZaaJo6SXEhnj2StZv@v33wv5bBlWGd@zzGGRN7N/fPTjERfYJTWVAmTFnTMo0ZH2m9I6gAHzkRAxCxOE8mXMK53Sd5YaCm8efTzcEOzFvHLBi4Zc9sLX3LgDaqREum7zLC4T/XGchUtsGobEKbWL0Vq62Ndb38AA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<ul>
<li>-12 bytes thanks to @Giuseppe</li>
</ul>

<hr>

<p>Previous version with explanation :</p>

<h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 118 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(s,N=nchar(s)){m=t(replicate(N,el(strsplit(gsub('re',0,s),''))))
m[m&lt;1&amp;row(m)%in%c(1,N)]=' '
write(m,1,N,,'')}
</code></pre>

<p><a href="https://tio.run/##jc7BCsIwDAbge59CBjMJRHB3@wp7AfUwS6eFtZW0Ywfx2Wt79rI/t5@PJFJmXeY1mOxiwMSjDuY1CSaij9cZxb4XZ6ZscWS7YMqSapHxmdYHgljgMydiAKpR/uovw1Hihp56F3qDA49013AAtYmrWzzXhpv/lhm7KDZ2pOoBhNN/bgFINbbDiN2FdrH2Vmy2TWzXyw8" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<ul>
<li>-1 byte thanks to @Giuseppe</li>
</ul>

<p>Unrolled code and explanation :</p>

<pre class="lang-r prettyprint-override"><code>function(s){                       # s is the input string, e.g. 'oreo'

  N = nchar(s)                     # store the length of s into N, e.g. 4

  s1 = gsub('re',0,s)              # replace 're' with '0' and store in s1, e.g. 'o0o'

  v = el(strsplit(s1,''))          # split s1 into a vector v of single characters
                                   # e.g. 'o','0','o'

  m = replicate(N,v)               # evaluate N times the vector v and arrange 
                                   # the result into a matrix m (nchar(s1) x N)
                                   # e.g. 
                                   # 'o' 'o' 'o' 'o' 
                                   # '0' '0' '0' '0' 
                                   # 'o' 'o' 'o' 'o' 


  m = t(m)                         # transpose the matrix

  m[m&lt;1 &amp; row(m)%in%c(1,N)] = ' '  # substitute the zeros (i.e. where &lt; 1) 
                                   # on the 1st and last row of the matrix with ' ' (space)
                                   # e.g. 
                                   # 'o' ' ' 'o' 
                                   # 'o' '0' 'o' 
                                   # 'o' '0' 'o' 
                                   # 'o' ' ' 'o'

  write(m,1,N,,'')                 # write the matrix to stdout (write function transposes it)
                                   # e.g.
                                   # oooo
                                   #  00 
                                   # oooo
}
</code></pre>
</div>
<div id="pu40" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, 27 bytes</h1>

<pre><code>q:T'e-{i2%T,'9*_:)2&gt;S\+?N}/
</code></pre>

<p><a href="https://tio.run/##S85KzP3/v9AqRD1VtzrTSDVER91SK95K08guOEbb3q9W/////KJUCAISAA" rel="nofollow noreferrer" title="CJam – Try It Online">Try it online!</a></p>

<h2>Explanation:</h2>

<pre><code>q                            read input:                    | "oreoo"
 :T                          store in variable T            | "oreoo", T="oreoo"
   'e-                       remove all 'e' characters:     | "oroo"
      {                  }/  for each character:            | 'o
       i                       get Unicode value:           | 79
        2%                     modulo 2:                    | 1
          T                    push original input:         | 1 "oreoo"
           ,                   get length:                  | 1 5
            '9*                repeat '9' that many times:  | 1 "99999"
               _               duplicate:                   | 1 "99999" "99999"
                :)             increment every character:   | 1 "99999" ":::::"
                  2&gt;           remove first two characters: | 1 "99999" ":::"
                    S\+        prepend a space:             | 1 "99999" " :::"
                       ?       conditional:                 | "99999"
                        N      add a newline:               | "99999" N
                             (implicit output)              | "99999" N " :::" N "99999" N "99999" N
</code></pre>
</div>
<div id="pu41" class="pu"><h1><a href="http://www.snobol4.org/csnobol4/" rel="nofollow noreferrer">SNOBOL4 (CSNOBOL4)</a>, 136 bytes</h1>

<pre><code>&#9;S =INPUT
&#9;N =SIZE(S)
S&#9;S ('o' | 're') . X REM . S&#9;:F(END)
&#9;OUTPUT =IDENT('o',X) DUPL(X,N)&#9;:S(S)
&#9;OUTPUT =' ' DUPL(0,N - 2) ' '&#9;:(S)
END
</code></pre>

<p><a href="https://tio.run/##PYyxCgIxEETr5Cu22yycImIVuC4RDnQ93ASCpXDdYeBs/fe4QbAaZubNvF/1WddTa0ZgnHjOyRqGUaZHdEJWNHZYET6A24IEeyhwj1dVMf7sIgey5paTDnUfIqeOD4Ug5PniysBkvPSrP4WAv/IwMOzgSOrR@M7oXWt1W@oX" rel="nofollow noreferrer" title="SNOBOL4 (CSNOBOL4) – Try It Online">Try it online!</a></p>
</div>
<div id="pu42" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 77 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda x:x.replace("o","-"*len(x)+"\n").replace("re"," "+'.'*(len(x)-2)+"\n")
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/6fZhvzPycxNyklUaHCqkKvKLUgJzE5VUMpX0lHSVdJKyc1T6NCU1spJk9JEyFZlAqUVVDSVtdT19KAKNE1gqr6nwbUXJSaD2QBAA" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu43" class="pu"><h1><a href="https://github.com/dzaima/Canvas" rel="nofollow noreferrer">Canvas</a>, <s>19</s> <s>18</s> 17 <a href="https://github.com/dzaima/Canvas/blob/master/files/chartable.md" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>e ∙╋
：r≠＊┤］；Ｌ×⁸↔⁸
</code></pre>

<p><a href="https://dzaima.github.io/Canvas/?u=ZSUyMCV1MjIxOSV1MjU0QiUwQSV1RkYxQXIldTIyNjAldUZGMEEldTI1MjQldUZGM0QldUZGMUIldUZGMkMlRDcldTIwNzgldTIxOTQldTIwNzg_,i=b3Jlb29yZXJlcmVyZW9v,v=8" rel="nofollow noreferrer">Try it here!</a></p>

<p>Uses the annoyingly long code of <code>：r≠＊┤］</code> to remove <code>r</code>s from the input..</p>
</div>
<div id="pu44" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, <s>74</s> 73 bytes</h1>

<p>I feel like I haven't posted an answer in a very long time. Well, here I am. Also, Retina has changed a lot, and I feel like I suck at it now.</p>

<pre><code>.+
$0$.0
(\d+)
*
e

o|r
$&amp;¶
_$

+(/_/&amp;`o¶
oo¶
_$

)/_/&amp;`r¶
rr¶
¶$

m`^r
&#32;
</code></pre>

<p><a href="https://tio.run/##K0otycxLNPz/X0@bS8VARc@ASyMmRVuTS4srlYsrv6aIS0Xt0DaueBUuLm0N/Xh9tYR8IDc/HyqmCRYqAvKKQMShbUCx3IS4Ii6F///zi1LzgRgC8/MB" rel="nofollow noreferrer" title="Retina – Try It Online"><strong>Try it online!</strong></a></p>
</div>
<div id="pu45" class="pu"><h1><a href="https://www.microsoft.com/net/core/platform" rel="nofollow noreferrer">C# (.NET Core)</a>, 143 bytes</h1>

<p>Without LINQ.</p>



<pre class="lang-cs prettyprint-override"><code>p=&gt;{var q="";foreach(char c in p){if(c!='e'){for(var j=0;j&lt;p.Length;j++)q+=(j&lt;1|j&gt;p.Length-2)&amp;c&gt;'q'?" ":c&lt;'p'?"█":"░";q+="\n";}}return q;};
</code></pre>

<p><a href="https://tio.run/##NU89T8MwEN3zKw4PxFZoBIx1HAYkJpCQGFhYnMNNHKW2YzuVUMjOysIP5I8EVy26073Te/eJYYPWq3UK2rTw8hGi2vMMBxkCPHvbermfMwA3NYNGCFHGBAer3@FJakPZUQR4mAxWIfo04@oENTQgVifq@SA9jIIQvkt7JHYUu8QgaAOOzXpH8ULkKmdz0umxuBfXvK9c@ahMGzveFwUbC0H76uazr//pzS27xDof8zsCZItV7lL2@/NFtil@E546yJshfFm8ipM3MPKFr6f/yntrgh1U@ep1VLShJF12dsIYz5Zk6x8" rel="nofollow noreferrer" title="C# (.NET Core) – Try It Online">Try it online!</a></p>
</div>
<div id="pu46" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a>, 95 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>n=&gt;n.Replace("o",new String('-',n.Length)+"\n").Replace("re"," ".PadRight(n.Length-1,'|')+"\n")
</code></pre>

<p><a href="https://tio.run/##Sy7WTS7O/O9WmpdsU1xSlJmXrgOh7BJt/@fZ2uXpBaUW5CQmp2oo5Svp5KWWKwSDpTXUddV18vR8UvPSSzI0tZVi8pQ0EUqLUpV0lBSU9AISU4Iy0zNKNGAqdQ111GvUoer/W4cXZZakaiSCNWhqWv8HAA" rel="nofollow noreferrer" title="C# (Visual C# Interactive Compiler) – Try It Online">Try it online!</a></p>

<h1>Alternative using Aggregate, 108 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>n=&gt;n.Aggregate("",(d,c)=&gt;d+(c&lt;102?"":c&lt;112?new String('-',n.Length)+"\n":" ".PadRight(n.Length-1,'|')+"\n"))
</code></pre>

<p><a href="https://tio.run/##NY2xDsIgGIRfpfkXIAUiHdtC4@LkYHRwcSFAKMtvQjEuvjsSG6e7y3eXc5twW6qnF7p5Kzlh5LsYqytqg/IYYw7RlkABOPXcMW18T92sDsMCMDajhgXDu7v9hpQIwlGeA8aysh4eCCN0IC/WX1NcC/0zoTj5kL3BWJ3uObUTS@HZ4lS/" rel="nofollow noreferrer" title="C# (Visual C# Interactive Compiler) – Try It Online">Try it online!</a></p>
</div>
<div id="pu47" class="pu"><h1><a href="https://www.perl.org/" rel="noreferrer">Perl 5</a> <code>-p</code>, 47 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>s|o|X x($i=y///c).$/|ge;s|re|$".O x($i-2).$/|ge
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/7@4Jr8mQqFCQyXTtlJfXz9ZU09FvyY91bq4pii1RkVJzx8sp2sEFf//P78oNR@IITA//19@QUlmfl7xf90CAA" rel="noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu48" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/58974"><code>-R</code></a>, <s>16</s> 15 bytes</h1>
<pre><code>re ¬£çX sX²èrÃû
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=cmUgrKPnWCBzWLLocsP7&amp;input=Im9yZW9vcmVyZXJlcmVvbyIKLVI=" rel="nofollow noreferrer">Try it</a></p>
<pre><code>                    :Implicit input of string U
re                  :Remove all &quot;e&quot;s
   ¬                :Split to array of characters
    £               :Map each X
     çX             :  Repeat X to the length of U
        s           :  Slice from index
         X²         :   Duplicate X
           èr       :   Count the occurrences of &quot;r&quot;
             Ã      :End map
              û     :Centre pad each element with spaces to the length of the longest
                    :Implicitly join with newlines and output
</code></pre>
<hr />
<h2>Alternatives</h2>
<pre><code>re ¬ËpUÊaD²èrÃû
re ¬£îX rr²i^Ãû
</code></pre>
</div>
<div id="pu49" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 19 bytes</h1>

<pre><code>Ｆθ≡ιo⟦⭆θ#⟧e«→Ｐ⁻Ｌθ²↙
</code></pre>

<p><a href="https://tio.run/##LY2xCsMgFEXn@BUPuyikS8d07RihtGPpIGJUCL5ETTKEfLu1tjwud7jn8JSVQaEccx4wAJs5xM0lZYE5DjtRMmqgSDu4B@cTez1TaSPkxOYW6InyN7/@KV2onTQCV826hzM2lakRy5jcVGXh/BJZr71Jtnxq4cIrUYUbbr7Xw9c5yJEzBo0lv0PM53X8AA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>

<pre><code>Ｆθ
</code></pre>

<p>Loop through the characters of the input string.</p>

<pre><code>≡ι
</code></pre>

<p>Switch on each character.</p>

<pre><code>o⟦⭆θ#⟧
</code></pre>

<p>If it's an <code>o</code> then print the input string replaced with <code>#</code>s on its own line.</p>

<pre><code>e«→Ｐ⁻Ｌθ²↙
</code></pre>

<p>If it's an <code>e</code> then move right, print a line of <code>-</code>s that's two less than the length of the input string, then move down and left.</p>
</div>
<div id="pu50" class="pu"><h1>JavaScript ES6, 103 bytes</h1>
<h3>Using replace 103 bytes:</h3>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.replace(/o/g,&quot;-&quot;.repeat(s=x.length)+`
`).replace(/re/g,&quot; &quot;+&quot;|&quot;.repeat(s&gt;1?s-2:0)+` 
`).slice(0,-1)
</code></pre>
<p><a href="https://tio.run/##dcyxCsMgEIDhPU8RnJREk3QsJH2ViL3YFPGCSnHou1ulQ6BYXI7/vvMpX9Irtx@BW7xD2uYU5yUKB4eRCuiAg@4JJyWADNTPURiwOjxYtzYrO6GDIlvSkfepl@nm@eU6ZtwW7c2e7djziSWF1qMBYVDTjRJ0gISx5jdXmoNqxD@9vNrP@QK/2zJlkT4" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Using split and map 116 bytes:</h3>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.split(&quot;re&quot;).map(y=&gt;(&quot;-&quot;[h='repeat'](r=x.length)+`
`)[h](y.length)).join(&quot; &quot;+&quot;|&quot;[h](r&gt;1?r-2:0)+` 
`).slice(0,-1)
</code></pre>
<p><a href="https://tio.run/##dY5BCoMwEEX3PYXMxgk2QbssxB5EBIONGkkzIUpR6N1tpHRTLLMZ3n8z/FE91dQG42fu6K63Tm6LLBcxeWtmhKCBiYfyuMoSgUM1yDRor9Wc1hjkIqx2/TywrDk1rBpqXL@EiZGMQ0gggxfsUSiLW@CXax7tJOpisqbVmJ95wbaW3ERWC0s9dggUNAFjp198wPaKB5D@8H2OPscL@qT7Fo3tDQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/178344/">178344</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




