<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::67668</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>074</td><td>PHP</td><td>190215T170436Z</td><td><a href="https://codegolf.stackexchange.com/questions/67668/mask-an-ip-address-and-give-its-broadcast/179974#179974">640KB</a></td></tr>
<tr d-ix="1"><td>103</td><td>Factor</td><td>160409T193746Z</td><td><a href="https://codegolf.stackexchange.com/questions/67668/mask-an-ip-address-and-give-its-broadcast/77480#77480">cat</a></td></tr>
<tr d-ix="2"><td>092</td><td>JavaScript ES6</td><td>151225T020415Z</td><td><a href="https://codegolf.stackexchange.com/questions/67668/mask-an-ip-address-and-give-its-broadcast/67670#67670">user8165</a></td></tr>
<tr d-ix="3"><td>085</td><td>Perl</td><td>151225T160819Z</td><td><a href="https://codegolf.stackexchange.com/questions/67668/mask-an-ip-address-and-give-its-broadcast/67704#67704">Kenney</a></td></tr>
<tr d-ix="4"><td>126</td><td>PHP</td><td>151225T112501Z</td><td><a href="https://codegolf.stackexchange.com/questions/67668/mask-an-ip-address-and-give-its-broadcast/67691#67691">Aurea</a></td></tr>
<tr d-ix="5"><td>042</td><td>Pyth</td><td>151225T025139Z</td><td><a href="https://codegolf.stackexchange.com/questions/67668/mask-an-ip-address-and-give-its-broadcast/67674#67674">PurkkaKo</a></td></tr>
<tr d-ix="6"><td>047</td><td>MATL</td><td>151225T023800Z</td><td><a href="https://codegolf.stackexchange.com/questions/67668/mask-an-ip-address-and-give-its-broadcast/67673#67673">Luis Men</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, 74 bytes</h1>



<pre class="lang-php prettyprint-override"><code>&lt;?=long2ip($i=ip2long($argv[1])&amp;$m=ip2long($argv[2])),' ',long2ip($i|~$m);
</code></pre>

<p>As a standalone, input is via command line:</p>

<pre class="lang-php prettyprint-override"><code>$ php ip.php 192.168.0.1 255.255.255.0
192.168.0.0 192.168.0.255
</code></pre>

<p><a href="https://tio.run/##K8go@P/fxt42Jz8v3SizQEMl0zazwAjE01BJLEovizaM1VRTyUUTNIrV1NRRV1DXQWirqVPJ1bT@//@/oaWRnqGZhZ6BnuF/I1NTPRg2AAA" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>

<p>Or as a function, <strong>80 bytes</strong>:</p>

<pre class="lang-php prettyprint-override"><code>function($a,$b){return[long2ip($i=ip2long($a)&amp;$m=ip2long($b)),long2ip($i|~$m)];}
</code></pre>

<p><a href="https://tio.run/##rZJda4MwFIavm19xkDANhDSmdh84t6vBLgbrvZVhxU7HqkHtVdf9dXdSbe0cg10sIcl7Di9PziHRmW5v73WmgeYagna9LZImLwuHxpyu2K5Km21VhO9l8apy7dA8yLUyERrYBd0M4YoxPtg@PumGRf6@9QmhTVo3NQQQkkkItnujhHt5LaRwbQ62ms/FcUkbIg7dmE67c7DLM43uEUz@Jwwzv@P@CJOocfXnGGduMMAT7Lt9HHdIocRMeAYlxWGetTiMI7L3wOjavjqUYiaFh5X1hamfxKE6obyuUVRXJ1SEz7suqzROMgf6d45rVMBgRyZpkpXwVuaFY4HFMc04WMsmuDPRIW8DdkPNl2lCGXHc3Qg/EiweFy8Pz0/@hOxJ@wU" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>

<p><strong><em>Ungolfed</em></strong></p>

<pre class="lang-php prettyprint-override"><code>function ip( $a, $b ) {
    $i = ip2long( $a );          // string IP to 32 bit int
    $m = ip2long( $b );          // string netmask to 32 bit int
    $n = $i &amp; $m;                // network is bitwise AND of IP and netmask
    $c = $i | ~$m;               // broadcast is bitwise OR of IP and inverse netmask
    return [ long2ip( $n ), long2ip( $c ) ];
}
</code></pre>

<p>PHP has nice (albeit with long function names) built-ins to handle IPv4 dotted-string to binary and back.</p>

<p><strong><em>Output</em></strong></p>

<pre class="lang-php prettyprint-override"><code>192.168.0.1 255.255.255.0   =&gt; 192.168.0.0 192.168.0.255
192.168.0.0 255.255.255.0   =&gt; 192.168.0.0 192.168.0.255
192.168.0.255 255.255.255.0 =&gt; 192.168.0.0 192.168.0.255
100.200.100.200 255.255.255.255 =&gt; 100.200.100.200 100.200.100.200
1.2.3.4 0.0.0.0 =&gt; 0.0.0.0 255.255.255.255
10.25.30.40 255.252.0.0 =&gt; 10.24.0.0 10.27.255.255
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Factor, 103 bytes</h1>
<pre><code>[ [ ipv4-aton ] bi@ 2dup bitand -rot dup bit-count 32 - abs on-bits pick bitor 2nip [ ipv4-ntoa ] bi@ ]
</code></pre>
<p>Nice.</p>
<p>Ungolfed:</p>
<pre><code>: mask-and-broadcast ( ip mask -- netaddr broadcast )
  [ ipv4-aton ] bi@ 2dup bitand -rot dup bit-count 32 - abs on-bits pick bitor 2nip
  [ ipv4-ntoa ] bi@ ;
</code></pre>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES6), 92 bytes</h1>

<pre class="lang-js prettyprint-override"><code>(a,m)=&gt;a.split`.`.map((n,i)=&gt;(v=m[i],m[i]=n&amp;v|v^255,n&amp;v),m=m.split`.`).join`.`+" "+m.join`.`
</code></pre>

<h2>Explanation</h2>

<pre class="lang-js prettyprint-override"><code>(a,m)=&gt;
  a.split`.`
  .map((n,i)=&gt;(
      v=m[i],
      m[i]=n&amp;v|v^255,
      n&amp;v
    ),
    m=m.split`.`
  ).join`.`
  +" "+m.join`.`
</code></pre>

<h2>Test</h2>

<p><div class="snippet" data-lang="js" data-hide="true">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var solution = (a,m)=&gt;a.split`.`.map((n,i)=&gt;(v=m[i],m[i]=n&amp;v|v^255,n&amp;v),m=m.split`.`).join`.`+" "+m.join`.`</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input type="text" id="input" value="10.25.30.40 255.252.0.0" /&gt;
&lt;button onclick="result.textContent=solution.apply(null,input.value.split` `)"&gt;Go&lt;/button&gt;
&lt;pre id="result"&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu3" class="pu"><h1>Perl, <s>90</s> 85 bytes</h1>

<p><em>includes +6 for <code>-pF/\D/</code></em></p>

<pre><code>for(0..3){push@a,$F[$_]&amp;1*($y=$F[$_+4]);push@b,$F[$_]|~$y&amp;255}$"='.';$_="@a @b"
</code></pre>

<p>Usage:</p>

<pre><code>echo "192.168.0.1 255.255.255.0" | perl -pF/\\D/ file.pl
</code></pre>

<p>More readable:</p>

<pre><code>for(0..3) {
    push @a, $F[$_] &amp; 1*($y=$F[$_+4]);  # calc/add network address 'byte'
    push @b, $F[$_] | ~$y &amp; 255         # calc/add broadcast address 'byte'
}
$"='.';                                 # set $LIST_SEPARATOR
$_="@a @b"                              # set output to network address and broadcast
</code></pre>

<p>The <code>-F/\D/</code> splits the input on non-digits and stores it in <code>@F</code>.</p>
</div>
<div id="pu4" class="pu"><h1>PHP, 126 bytes</h1>

<p>With input in $n:</p>

<pre class="lang-php prettyprint-override"><code>preg_filter(~Ð×£ÔÖÐ,~Û¤¢Â×ÛÎÖÑ×ÛÔÔÁÌÀ×ÛÑÂ×ÛÂÛÁÊÀÝÑÝÅÝÝÖÑ×Û¤ÛÒÊ¢ÙÛÎÖÖÑ×ÛÑÂÛÑ×Û¤ÛÒÊ¢ÍÊÊÙÛÎÖÖÅÝÝÖ,$n);echo"$c $b";
</code></pre>

<p>Hexdump:</p>

<pre class="lang-none prettyprint-override"><code>0000000: 7072 6567 5f66 696c 7465 7228 7ed0 d7a3  preg_filter(~...
0000010: 9bd4 d6d0 9a2c 7edb 9ea4 a2c2 d7db ced6  .....,~.........
0000020: d1d7 db96 d4d4 c1cc c0d7 db9c d1c2 d7db  ................
0000030: 8bc2 db96 c1ca c0dd d1dd c5dd ddd6 d1d7  ................
0000040: db9e a4db 96d2 caa2 d9db ced6 d6d1 d7db  ................
0000050: 9dd1 c2db 8bd1 d7db 9ea4 db96 d2ca a283  ................
0000060: cdca cad9 81db ced6 d6c5 dddd d62c 246e  .............,$n
0000070: 293b 6563 686f 2224 6320 2462 223b       );echo"$c $b";
</code></pre>

<p>And a more readable version:</p>

<pre class="lang-php prettyprint-override"><code>preg_filter( /* PCRE regex on input */
    '/(\d+)/e', /* match all digits, execute the code for each one */
    '$a[]=($1) /* push the matched value to the array $a */
        .($i++&gt;3 /* if we're at the 5th or higher digit */
            ?($c.=($t=$i&gt;5?".":"").($a[$i-5]&amp;$1)) /* append to $c bitwise AND-ed number */
                .($b.=$t.($a[$i-5]|255&amp;~$1)) /* append to $b the broadcast address */
            :"")',
    $n);
echo"$c $b"; /* output $c and $b */
</code></pre>

<p><code>preg_filter</code> requires a single statement in the replacement pattern when using the <code>e</code> flag, so I 'append' the result of the calculations to the 5th and higher values of $a, because those are never reused.</p>
</div>
<div id="pu5" class="pu"><h1>Pyth, <a href="https://codegolf.stackexchange.com/questions/66415/rolling-the-dice/66463#comment162348_66463"><s>44</s></a> 42 bytes</h1>
<pre><code>LisMcb\.256Lj\..[04jb256'J.&amp;yzKyw'+JxKt^2 32
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=Lj%5C..%5B04jb256yJ.%26FAmisMcd%5C.256Qy%2BJxHt%5E2%2032&amp;input=%5B%2210.25.30.40%22%2C+%22255.252.0.0%22%5D&amp;debug=0" rel="nofollow noreferrer">Try it online.</a> <a href="http://pyth.herokuapp.com/?code=Lj%5C..%5B04jb256yJ.%26FAmisMcd%5C.256Qy%2BJxHt%5E2%2032&amp;test_suite=1&amp;test_suite_input=%5B%22192.168.0.1%22%2C+%22255.255.255.0%22%5D%0A%5B%22192.168.0.0%22%2C+%22255.255.255.0%22%5D%0A%5B%22192.168.0.255%22%2C+%22255.255.255.0%22%5D%0A%5B%22100.200.100.200%22%2C+%22255.255.255.255%22%5D%0A%5B%221.2.3.4%22%2C+%220.0.0.0%22%5D%0A%5B%2210.25.30.40%22%2C+%22255.252.0.0%22%5D&amp;debug=0&amp;input_size=1" rel="nofollow noreferrer">Test suite.</a></p>
<p>Expects the input as an array, like <code>[&quot;10.25.30.40&quot;, &quot;255.252.0.0&quot;]</code>.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/lmendo/MATL/releases/tag/4.0.0" rel="nofollow">MATL</a>, 47 bytes</h1>

<p>This answer uses <a href="https://github.com/lmendo/MATL/releases/tag/4.0.0" rel="nofollow">current version (4.0.0)</a> of the language.</p>

<pre><code>'%i.%i.%i.%i't32whh2:"j'\d+'XXU]tbZ&amp;tb255Z~+hYD
</code></pre>

<h3>Example</h3>

<pre><code>&gt;&gt; matl
 &gt; '%i.%i.%i.%i't32whh2:"j'\d+'XXU]tbZ&amp;tb255Z~+hYD
 &gt; 
&gt; 192.168.0.1
&gt; 255.255.255.0
192.168.0.0 192.168.0.255
</code></pre>

<h3>Explanation</h3>

<pre><code>'%i.%i.%i.%i't32whh      % format string: '%i.%i.%i.%i %i.%i.%i.%i'
2:"                      % for loop: do this twice
    j'\d+'XXU            % input string and parse into 4-vector with the numbers
]                        % end
tbZ&amp;                     % compute network address
tb255Z~+                 % compute broadcast address
hYD                      % concatenate into 8-vector and apply format string
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/67668/">67668</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




