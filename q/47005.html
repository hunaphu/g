<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::47005</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>002</td><td>Vyxal</td><td>240212T224904Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/270038#270038">emanresu</a></td></tr>
<tr d-ix="1"><td>008</td><td>Uiua SBCS</td><td>240211T071640Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/269985#269985">chunes</a></td></tr>
<tr d-ix="2"><td>051</td><td>Swift</td><td>230811T142106Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/264019#264019">Bbrk24</a></td></tr>
<tr d-ix="3"><td>002</td><td>Thunno 2</td><td>230811T131550Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/264013#264013">The Thon</a></td></tr>
<tr d-ix="4"><td>003</td><td>Vyxal</td><td>210508T090848Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/225281#225281">Wasif</a></td></tr>
<tr d-ix="5"><td>020</td><td>x8616 machine code</td><td>210425T015448Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/224344#224344">640KB</a></td></tr>
<tr d-ix="6"><td>008</td><td>K ngn/k</td><td>210422T205701Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/224226#224226">coltim</a></td></tr>
<tr d-ix="7"><td>025</td><td>Factor</td><td>210422T173830Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/224220#224220">chunes</a></td></tr>
<tr d-ix="8"><td>004</td><td>Pyth</td><td>210422T163651Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/224212#224212">hakr14</a></td></tr>
<tr d-ix="9"><td>002</td><td>05AB1E</td><td>210422T161521Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/224210#224210">Makonede</a></td></tr>
<tr d-ix="10"><td>007</td><td>Japt</td><td>180801T133408Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/169716#169716">Shaggy</a></td></tr>
<tr d-ix="11"><td>005</td><td>Japt h</td><td>180731T151928Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/169655#169655">Luis fel</a></td></tr>
<tr d-ix="12"><td>002</td><td>Jelly</td><td>171023T180414Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/146120#146120">hyper-ne</a></td></tr>
<tr d-ix="13"><td>047</td><td>Clojure</td><td>161221T120131Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/104036#104036">NikoNyrh</a></td></tr>
<tr d-ix="14"><td>049</td><td>JavaScript ES6</td><td>150223T233802Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47018#47018">edc65</a></td></tr>
<tr d-ix="15"><td>076</td><td>SmileBASIC</td><td>171024T002608Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/146159#146159">12Me21</a></td></tr>
<tr d-ix="16"><td>044</td><td>R</td><td>150224T133805Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47030#47030">freekvd</a></td></tr>
<tr d-ix="17"><td>055</td><td>c</td><td>150224T011133Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47021#47021">Digital </a></td></tr>
<tr d-ix="18"><td>034</td><td>Haskell</td><td>150223T222933Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47011#47011">nimi</a></td></tr>
<tr d-ix="19"><td>nan</td><td></td><td>150224T200904Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47046#47046">MickyT</a></td></tr>
<tr d-ix="20"><td>059</td><td>Python</td><td>150223T231302Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47016#47016">Sp3000</a></td></tr>
<tr d-ix="21"><td>059</td><td>Python</td><td>150223T230701Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47015#47015">mbomb007</a></td></tr>
<tr d-ix="22"><td>078</td><td>Prelude</td><td>150224T092047Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47027#47027">Martin E</a></td></tr>
<tr d-ix="23"><td>126</td><td>STATA</td><td>150224T131201Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47028#47028">bmarks</a></td></tr>
<tr d-ix="24"><td>023</td><td>Mathematica</td><td>150223T233102Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47017#47017">DavidC</a></td></tr>
<tr d-ix="25"><td>007</td><td>J</td><td>150223T215848Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47008#47008">FUZxxl</a></td></tr>
<tr d-ix="26"><td>111</td><td>Powershell</td><td>150224T063522Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47026#47026">StephenP</a></td></tr>
<tr d-ix="27"><td>050</td><td>><></td><td>150224T000355Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47019#47019">cirpis</a></td></tr>
<tr d-ix="28"><td>086</td><td>Python</td><td>150223T223512Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47012#47012">TheNumbe</a></td></tr>
<tr d-ix="29"><td>119</td><td>Java</td><td>150223T220620Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47010#47010">TheNumbe</a></td></tr>
<tr d-ix="30"><td>015</td><td>CJam</td><td>150223T215024Z</td><td><a href="https://codegolf.stackexchange.com/questions/47005/different-way-forward/47006#47006">Martin E</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 2 bytes</h1>
<pre><code>(¯
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCIowq8iLCIiLCI0XG5bMTAsIDE4LCAtMTIsIDQsIDgsIC0zLCAtNSwgNjcsIDksIDE0XSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>(  # n times
 ¯ # take forward differences
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a> <sup><a href="https://tinyurl.com/Uiua-SBCS-Jan-14" rel="nofollow noreferrer">SBCS</a></sup>, 8 bytes</h1>
<pre><code>⍥(↘1°\+)
</code></pre>
<p><a href="https://uiua.org/pad?src=0_8_0__ZiDihpAg4o2lKOKGmDHCsFwrKQoKZiA0IFsxMCAxOCDCrzEyIDQgOCDCrzMgwq81IDY3IDkgMTRdCg==" rel="nofollow noreferrer">Try it!</a></p>
</div>
<div id="pu2" class="pu"><h1>Swift, 51 bytes</h1>
<pre class="lang-swift prettyprint-override"><code>{for _ in 0..&lt;$0{$1=zip($1.dropFirst(),$1).map(-)}}
</code></pre>
<p>Takes <code>(depth, &amp;arr)</code> and modifies the input array to contain the result.</p>
<p><a href="https://swiftfiddle.com/ztxe4epqhzebjdwber7idpr6la" rel="nofollow noreferrer">Try it on SwiftFiddle!</a></p>
<p>Ungolfed/commented:</p>
<pre class="lang-swift prettyprint-override"><code>{ (depth: Int, arr: inout [Int]) in
  // Iterate the specified number of times. The iteration number isn't needed.
  for _ in 0..&lt;depth {
    // Modify the input array to contain the next iteration:
    arr =
      // Get adjacent pairs in reverse order -- dropFirst returns a slice
      // without mutating the original array.
      zip(arr.dropFirst(), arr)
        // Subtract adjacent pairs. Swift lets you use an operator as if it
        // were a value of function type -- in this case, (Int, Int) -&gt; Int.
        // This particular case is only legal because ((T, U)) -&gt; V and
        // (T, U) -&gt; V are equivalent types, but I think they're only
        // equivalent to make this kind of thing legal.
        .map(-)
  }
}
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 2 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>{Ṣ
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSU3QiVFMSVCOSVBMiZmb290ZXI9JmlucHV0PTQlMEEoMTAlMkMlMjAxOCUyQyUyMC0xMiUyQyUyMDQlMkMlMjA4JTJDJTIwLTMlMkMlMjAtNSUyQyUyMDY3JTJDJTIwOSUyQyUyMDE0KSZmbGFncz1l" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>{Ṣ  # Implicit input
{   # Input number of times:
 Ṣ  #  Deltas
    # Implicit output
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Lyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 3 bytes</h1>
<pre><code>(¯N
</code></pre>
<p><a href="http://lyxal.pythonanywhere.com?flags=&amp;code=%28%C2%AFN&amp;inputs=4%0A%5B10%2C%2018%2C%20-12%2C%204%2C%208%2C%20-3%2C%20-5%2C%2067%2C%209%2C%2014%5D&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Takes input like <code>n, [list]</code></p>
</div>
<div id="pu5" class="pu"><h1>x86-16 machine code, 20 bytes</h1>
<pre><code>00000000: 4951 568b fead 938b 042b c3ab e2f7 5e59  IQV......+....^Y
00000010: 4a75 edc3                                Ju..
</code></pre>
<p>Listing:</p>
<pre><code>        DEPTH_LOOP: 
49          DEC  CX                 ; decrement length 
51          PUSH CX                 ; save length 
56          PUSH SI                 ; save array pointer 
8B FE       MOV  DI, SI             ; set array pointer for output
        DIFF_LOOP: 
AD          LODSW                   ; load first WORD into AX, advance SI
93          XCHG AX, BX             ; save first to BX 
8B 04       MOV  AX, WORD PTR[SI]   ; load second WORD into AX (don't advance)
2B C3       SUB  AX, BX             ; AX = AX - BX 
AB          STOSW                   ; save result to current array index 
E2 F7       LOOP DIFF_LOOP          ; loop until end of array 
5E          POP  SI                 ; restore array pointer 
59          POP  CX                 ; restore length 
4A          DEC  DX                 ; decrement depth counter 
75 ED       JNZ  DEPTH_LOOP         ; loop until end of depth 
C3          RET                     ; return to caller
</code></pre>
<p>Input array at <code>[SI]</code>, input length (in bytes) in <code>CX</code>, depth in <code>DX</code>.</p>
<p>Test with DOS DEBUG:</p>
<p><a href="https://i.stack.imgur.com/i483d.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/i483d.png" alt="enter image description here" /></a></p>
<p>Note: data is shown as little endian hex in DEBUG (<code>A 0</code> = <code>0x000a</code> = <code>10</code>, <code>72 FF</code> = <code>0xff72</code> = <code>-142</code>).</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://bitbucket.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 8 bytes</h1>
<pre><code>(1_-':)/
</code></pre>
<p><a href="https://tio.run/##y9bNS8/7/z/NSsMwXlfdSlP/f1q0ibWCoYGCoYWCrqGRgokCkDZW0DVVMDNXsFQwNIn9DwA" rel="nofollow noreferrer" title="K (ngn/k) – Try It Online">Try it online!</a></p>
<p>Sets up a <a href="https://code.kx.com/q/ref/accumulators/#do" rel="nofollow noreferrer">do-over</a>, running the code in parenthesis <code>depth</code> times, seeded with <code>initial values</code>. Results from one iteration are passed into the next.</p>
<ul>
<li><code>-':</code> take the deltas of the input</li>
<li><code>1_</code> drop the first delta (which is just the first value in <code>x</code>)</li>
</ul>
</div>
<div id="pu7" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a>, 25 bytes</h1>
<pre><code>[ [ differences ] times ]
</code></pre>
<p><a href="https://tio.run/##HcU5DsIwEEDRnlP8CyTCYPYDIBoaRBVRWGYiLBwT2dMgxNnN0rzXO6@PXM@nw3G/5S45SWRwevvTFnUaigZfGLOoPscckrKbvDBTzJrGzLB8n9MsWK7YYCxvbO3ouIa@lyzJS@GChuF39S5G2voB" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<ul>
<li><p><code>times</code> Call a quotation a certain number of times.</p>
</li>
<li><p><code>differences</code> Calculate the first-order differences of a number sequence.</p>
</li>
<li><p>E.g. <code>{ 1 4 2 } -&gt; { 3 -2 }</code></p>
</li>
</ul>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 4 bytes</h1>
<pre><code>.+FE
</code></pre>
<p><a href="http://pythtemp.herokuapp.com/?code=.%2BFE&amp;input=4%0A%5B10%2C+18%2C+-12%2C+4%2C+8%2C+-3%2C+-5%2C+67%2C+9%2C+14%5D&amp;debug=0" rel="nofollow noreferrer">Try it here!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 2 bytes</h1>
<p><em>Ties <a href="https://codegolf.stackexchange.com/a/146120/94066">HyperNeutrino's Jelly answer</a> for #1.</em></p>
<pre><code>F¥
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/f7dDS//9NuKINDXQUDC10FHQNjXQUTHQUQExjIDbVUTAz11GwBMqaxAIA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<pre><code>F¥  # full program
F   # for N in [0, 1, 2, ...,
    # ..., implicit input...
F   # ...minus 1]...
 ¥  # get differences of elements in...
    # implicit input...
 ¥  # or top of stack if not first iteration
    # implicit output
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 7 bytes</h1>
<p>A couple of alternatives I'd made available to Luis for <a href="https://codegolf.stackexchange.com/a/169655/58974">his solution</a>.</p>
<pre><code>_än}gNÅ
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=z8Q8Vn1mQD3kbg==&amp;input=WzEwLDE4LC0xMiw0LDgsLTMsLTUsNjcsOSwxNF0KNA==" rel="nofollow noreferrer">Try it</a></p>
<h2>10 bytes</h2>
<pre><code>ÏÄ&lt;V}f@=än
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=z8Q8Vn1mQD3kbg==&amp;input=WzEwLDE4LC0xMiw0LDgsLTMsLTUsNjcsOSwxNF0KNA==" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <code>-h</code>, <s>17</s> 5 bytes</h1>

<p><em>12 bytes saved thanks to @Shaggy</em></p>

<pre><code>VÆ=än
</code></pre>

<p><a href="https://tio.run/##y0osKPn/P@xwm@3hJXn//0cbGugoKCgYWgBJXUMjEFvBBEyCRBR0jcGkKZA0MwcSlkBsaBLLZcKlmwEA" rel="nofollow noreferrer" title="Japt – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 2 bytes</h1>

<pre><code>I¡
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/9/z0ML///8bGugoGFroKOgaGukomOgogJjGQGyqo2BmrqNgCZQ1@W8CAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h1>Explanation</h1>

<pre><code>I¡  Main Link
 ¡  Repeat `n` times; this repeats the previous link by &lt;right argument&gt; times
I   Get forward differences
</code></pre>

<p>Very straightforward answer :P</p>
</div>
<div id="pu13" class="pu"><h1>Clojure, 47 bytes</h1>

<pre><code>#(if(= 0 %)%2(recur(dec %)(map -(rest %2)%2))))
</code></pre>

<p>A simple recursion on anonymous function. You save 1 byte if the order of arguments is swapped as now <code>%2</code> occurs more frequently than <code>%</code>.</p>
</div>
<div id="pu14" class="pu"><h1>JavaScript (ES6), <s>52</s> 49 bytes</h1>
<p>Simple recursive function, using <code>map</code> to scan the array and <code>slice</code> to drop the first element on each recursive call.</p>
<p><strong>Edit</strong> 3 bytes saved, thanks @DocMax, really smart suggestion</p>
<pre class="lang-js prettyprint-override"><code>F=(n,l)=&gt;n?F(n-1,l.slice(1).map((a,k)=&gt;a-l[k])):l
</code></pre>
<p><strong>Test</strong> In Firefox/FireBug console</p>
<pre class="lang-js prettyprint-override"><code>for(i=0;i&lt;10;i++)console.log(F(i,[10, 18, -12, 4, 8, -3, -5, 67, 9, 14]))
</code></pre>
<blockquote>
<p>[10, 18, -12, 4, 8, -3, -5, 67, 9, 14]<br />
[8, -30, 16, 4, -11, -2, 72, -58, 5]<br />
[-38, 46, -12, -15, 9, 74, -130, 63]<br />
[84, -58, -3, 24, 65, -204, 193]<br />
[-142, 55, 27, 41, -269, 397]<br />
[197, -28, 14, -310, 666]<br />
[-225, 42, -324, 976]<br />
[267, -366, 1300]<br />
[-633, 1666]<br />
[2299]</p>
</blockquote>
</div>
<div id="pu15" class="pu"><h1>SmileBASIC, 76 bytes</h1>
<p>Finally a reason to use <code>ARYOP</code>!</p>
<pre><code>DEF F L,D
IF!D THEN@R
DIM B[0]COPY B,L
T=SHIFT(L)ARYOP 1,L,L,B
F L,D-1@R
END
</code></pre>
</div>
<div id="pu16" class="pu"><h1>R, <s>48 39 46</s> 44 bytes</h1>

<p>Recursion!</p>

<pre><code>function(x,y)if(x)Recall(x-1,diff(y)) else y
</code></pre>

<ul>
<li><code>x</code> is the number of iterations to perform, and <code>y</code> is a vector of integers. </li>
<li><code>if(x)</code> is true as long as <code>x&gt;0</code>.</li>
<li><code>Recall</code> calls the current function but with new arguments.</li>
<li><code>Diff</code> outputs the differences between consecutive list/vector elements.</li>
</ul>

<p>Previous versions:</p>

<pre><code>#does not work for x=0:
function(x,y){for(i in 1:x)y=diff(y);y}

#does not use diff function:
function(x,y){for(i in 1:x)y=y[-1]-head(y,-1);y}

y[-1]       is a list minus its first element
head(y,-1)  is a list minus its last element
</code></pre>
</div>
<div id="pu17" class="pu"><h1>c, <strike>68</strike> 55 bytes</h1>

<pre class="lang-c prettyprint-override"><code>f(int *l){for(--l[-1]?f(l):0;*l;l++)*l=l[1]-*l;*--l=0;}
</code></pre>
<p>This might be taking liberties with the input spec a bit.  An int array is constructed such that element 0 is the depth and elements 1 to (n+1) are the input list elements 0 to n.  Then the address of element 1 is passed to the function.</p>
<p>The array must be zero terminated. The array is edited in place.</p>
<p>E.g:</p>

<pre class="lang-c prettyprint-override"><code>#include &lt;stdio.h&gt;

f(int *l){for(--l[-1]?f(l):0;*l;l++)*l=l[1]-*l;*--l=0;}

int main (int argc, char **argv)
{
  int list[] = {4, 10, 18, -12, 4, 8, -3, -5, 67, 9, 14, 0};
  int *elem;

  f(list + 1);

  for (elem = list + 1; *elem; elem++) {
    printf(&quot;%d, &quot;, *elem);
  }
}
</code></pre>
<p><a href="http://ideone.com/m5PDgF" rel="nofollow noreferrer">http://ideone.com/m5PDgF</a></p>
</div>
<div id="pu18" class="pu"><h1>Haskell, <strike>40</strike> 34 bytes</h1>

<pre><code>n#l=iterate(zipWith(-)=&lt;&lt;tail)l!!n
</code></pre>

<p>Usage example: <code>4 # [10,18,-12,4,8,-3,-5,67,9,14]</code> which outputs <code>[-142,55,27,41,-269,397]</code>.</p>

<p>How it works: repeatedly calculate the difference between neighbor elements and store the intermediate results in a list. Take the <code>n</code>th element from this list.</p>

<p>Edit: @Zgarb found 6 bytes to save. Awesome!</p>
</div>
<div id="pu19" class="pu"><p></p>

<h1>T-SQL, Too Many :)</h1>

<p>When I first saw this problem, I wondered if there was a way to do this in a query.  While trivial for most languages, it's not so much for SQL query.</p>

<p>The input goes into variables @ (for depth) and @L for the integer list.
@L is a user defined table type </p>

<pre class="lang-sql prettyprint-override"><code>CREATE TYPE L AS TABLE(n INT IDENTITY(0,1),v INT)
</code></pre>

<p>Input setup</p>

<pre class="lang-sql prettyprint-override"><code>DECLARE @L L,@ INT=4
INSERT @L(v)values(10),(18),(-12),(4),(8),(-3),(-5),(67),(9),(14)
</code></pre>

<p>The query with some comments</p>

<pre class="lang-sql prettyprint-override"><code>WITH R AS( 
    -- Recursive query to calculate the level of a pascal triangle with alternating negatives
    -- For 4 this is 1 -4  6 -4  1  
    SELECT 1c,0g UNION ALL SELECT-c*(@-g)/(g+1),g+1FROM r WHERE g&lt;@
    ),
    O AS( 
    --Multiple N values of list by reversed pascal triangle values
    --shifting the start for each iteration (list length) - N
    SELECT c*v v,F 
    FROM @L L 
        CROSS APPLY(
            SELECT TOP((SELECT COUNT(*)FROM @L)-@)ROW_NUMBER()OVER(ORDER BY(SELECT\))-1F FROM sys.all_views a,sys.all_views b)c 
        JOIN R ON N=F+@-G
    )
-- Sum the multiplied values
SELECT SUM(V)FROM o GROUP BY F ORDER BY F
</code></pre>

<p>Result</p>

<pre class="lang-sql prettyprint-override"><code>-142
55
27
41
-269
397
</code></pre>
</div>
<div id="pu20" class="pu"><h1>Python, <s>61</s> 59 bytes</h1>

<pre class="lang-py prettyprint-override"><code>f=lambda n,L:n and f(n-1,[x-y for x,y in zip(L[1:],L)])or L
</code></pre>
<p>Here we perform the subtraction by zipping all but the last of the list with all but the first of the list. <code>zip(L[1:],L)</code> is equivalent to <code>zip(L[1:],L[:-1])</code>, due to <code>zip</code>'s nature of taking the minimum length of the two lists:</p>
<pre class="lang-py prettyprint-override"><code>&gt;&gt;&gt; zip([1,2,3],[4,5])
[(1, 4), (2, 5)]
</code></pre>
<hr />
<p>An alternative that's just as long (Python 2 only):</p>
<pre class="lang-py prettyprint-override"><code>f=lambda n,L:n and f(n-1,map(int.__sub__,L[1:],L[:-1]))or L
</code></pre>
<p>Unfortunately Python 2 doesn't cut off the end of the list, so I can't do <code>map(int.__sub__,L,L[1:])</code>. Annoyingly, Python 3 <em>does</em>, but <code>map</code> no longer returns a list so this ends up being a byte more (60 bytes):</p>
<pre class="lang-py prettyprint-override"><code>f=lambda n,L:n and f(n-1,list(map(int.__sub__,L[1:],L)))or L
</code></pre>
<p>However, if we allow the input to be the depth followed by the list like <code>f(3, 2, 5, 6, 7, 5, 10, 25)</code> (i.e. depth 3 and list <code>[2, 5, 6, 7, 5, 10, 25]</code>), then this is <strong>56 bytes</strong>:</p>
<pre class="lang-py prettyprint-override"><code>f=lambda n,*T:n and f(n-1,*map(int.__sub__,T[1:],T))or T
</code></pre>
<hr />
<p>Here's another alternative that would really annoy anyone who saw this in production code (this one destroys the original list):</p>
<pre class="lang-py prettyprint-override"><code>f=lambda n,L:n and f(n-1,[L[1]-L.pop(0)for _ in L[1:]])or L
</code></pre>
</div>
<div id="pu21" class="pu"><h2>Python, <s>70</s> <s>68</s> <s>67</s> 59 bytes</h2>



<pre class="lang-python prettyprint-override"><code>f=lambda x,n:n and f([x[1]-x.pop(0)for i in x[1:]],n-1)or x
</code></pre>

<p>Non-golfed version before I went recursive:</p>

<pre class="lang-python prettyprint-override"><code>def f(x,n):
    for j in range(n):
        for i in range(len(x)-1):
            x[i]=x[i+1]-x[i]
    return x[:-n]
</code></pre>
</div>
<div id="pu22" class="pu"><h1><a href="http://esolangs.org/wiki/Prelude" rel="nofollow noreferrer">Prelude</a>, <s>95</s> <s>92</s> <s>79</s> 78 bytes</h1>

<pre><code>?    (1-vv- # ) v  !
  ?     #   ^   #
?(1-)   1  (#)  1)(#)
  1   #(# ) 1  (#
</code></pre>

<p>Input format is</p>

<pre><code>N
M
n_1
n_2
...
n_M
</code></pre>

<p>where <code>N</code> is the depth of the differences and <code>M</code> is the number of integers in the input. Adding <code>M</code> was necessary, because there's no way for Prelude to distinguish a <code>0</code> from the end of the input. Output is also as a newline separated list of integers. I had to assume the slightly adjusted Prelude spec we devised <a href="https://codegolf.stackexchange.com/q/44415/8478">for this challenge</a>, because standard Prelude reads integers as byte values, which makes it impossible to enter negative numbers. Essentially, this is the <a href="http://web.archive.org/web/20060504072747/http://z3.ca/~lament/prelude.py" rel="nofollow noreferrer">Python interpreter</a> with an additional <code>NUMERIC_INPUT</code> flag.</p>

<p>For reference there are only <s>48</s> <s>38</s> 37 non-space characters - the rest was merely needed to align the code correctly.</p>

<h2>Explanation</h2>

<p>In Prelude, each line is a separate "voice" that operates on its own stack. The program is executed column by column, where the separate voices are taken to operate "in parallel". All commands are single characters, and parentheses are Brainfuck-like loops (which are entered and repeated whenever the top of the stack is non-zero). Note that the vertical position of the closing parenthesis is irrelevant - putting it in a different voice still counts as matching with the most recent opening parenthesis, and the stack that is checked for the loop condition is always the voice where the <code>(</code> appeared. Now on to this program...</p>

<p>The program can basically be separated in into two parts. The bottom two lines are merely used for most of the loops in the program (except the main loop over <code>N</code>), passing <code>1</code>s back and forth. The top two lines contain the main loop and actual differencing. The following annotation has the code transposed, so I can annotate the individual columns:</p>

<pre><code>? ?   # Read two integers. Read instructions are processed top to bottom, so the first voice 
      # reads N and the third voice reads M.
  (   # Start a loop on the third voice. This loop will execute M times, reading the input list
      # and pushing M 1s onto the fourth voice - i.e. a unary representation of M.
 ?11  # Read an integer onto the second voice, push 1s onto the third and fourth voice.
  -   # Subtract the 1 from the third voice, decrementing M down to 0.
  )   # End of loop, if the third voice is not 0 yet, to back two columns.
(     # Start a loop on the first voice. This is the main loop and will execute N times. Each
      # iteration will compute the forward differences once and thereby shorten the list by one
      # element and also reduce the stack of 1s on the bottom voice by one.
1  #  # Push a 1 onto the first voice and pop a 1 from the last. Together with the next column,
      # this decrements both N and (the unary) M.
-  (  # Subtract the 1 from the first voice (decrementing N), and start a loop on the fourth 
      # voice over whatever is left of M (the length of the resulting difference list). Note 
      # that this column is *not* part of the loop, so the - on the first voice will only be 
      # executed once. This loop builds the differences in reverse order on the first voice.
v#1#  # Pop a 1 from the fourth voice and push a 1 onto the third. This loops over M while
      # shifting its unary representation to the other stack. In addition, shift the top stack
      # element from the second to the first voice.
v     # Copy the next element from the second voice to the first, without popping.
-  )  # Subtract the two elements on the first voice and end the loop if the fourth voice is 
      # empty. Note that his column *is* part of the loop.
  (   # Start a loop on the third voice. This is another loop over M, shifting the stack of 1s 
      # back to the fourth voice, and reversing the differences by shifting them onto the 
      # second.
#^#1  # As stated above, shift an element from the first to the second voice, a 1 from the
      # third to the fourth.
  )   # End the loop. After this point, we're back to the original situation, except that the
      # second voice has been replaced by its differences. The bottom stack element the
      # previous list is also still on that stack, but the decreasing loop lengths on the third
      # and fourth voices ensures that this element is never touched again.
)     # End the main loop when N has been reduced to 0.
   (  # Start another loop over the remaining list length, shifting and reversing the result.
v#1#  # Shift a 1 back to the third voice and an element from the second to the first voice.
  )   # End the loop. Note that this parenthesis is not on the same voice as the corresponding
      # opening parenthesis, but its exact position is irrelevant. Moving it to this voice
      # saves a byte.
  (   # Start one last loop over the length of the result.
! #   # Pop a 1 from the third voice while printing (and popping) one element of the result.
  )   # End the loop.
</code></pre>
</div>
<div id="pu23" class="pu"><h2>STATA, 126 bytes</h2>

<pre><code>di _r(a)_r(b)
token $b
gl $c=wordcount($b)
forv x=1/$a{
gl $c--
forv y=1/$c{
loc `y'=``y'+1'-``y''
}
}
forv z=1/$c{
di ``z''
}
</code></pre>

<p>Expects input as an integer representing the depth, followed by a space separated list of integers, both given via the standard prompt. Output is newline separated list of integers.</p>

<p>First it converts the list of integers (which it views as 1 long string) into a list of local variables whose names are 1,2,3,... Then it computes forward differences by setting the value of the yth local variable to be the value of the y+1th local variable minus the value of the yth local variable (i.e. 18-10=8), which overwrites existing values only after use. It does this $a (value of global variable a) times. Then it displays the value of each local variable, 1 at a time.</p>
</div>
<div id="pu24" class="pu"><h1>Mathematica <s>23 57</s> 23 bytes</h1>
<p>Martin Büttner's suggestion, exploiting the listability of subtraction.</p>
<pre><code> Rest@#-Most@#&amp;~Nest~##&amp;
</code></pre>
<p>e.g.</p>
<pre><code>Rest@# - Most@# &amp;~Nest~## &amp; @@ {{10, 18, -12, 4, 8, -3, -5, 67, 9, 14}, 4}
</code></pre>
<blockquote>
<p>{-142, 55, 27, 41, -269, 397}</p>
</blockquote>
<hr />
<p><code>Rest@#-Most@#</code> carries out the subtraction that yields differences.</p>
<p>Nest performs said operation the specified number of times, operating always on the most recent list.</p>
</div>
<div id="pu25" class="pu"><h2>J, <s>15</s> <s>9</s> 7 bytes</h2>

<p>Very easy. Takes depth and list as left and right arguments.</p>

<pre><code>-~/\~&amp;2
</code></pre>

<p>As an explicit definition without all the adverbial trickery, this reduces to</p>

<pre><code>4 : '(2 -~/\ ])^:x y'
</code></pre>

<ul>
<li><code>-~/\~&amp;2 y</code> – The forwards difference of <code>y</code>.</li>
<li><code>x -~/\~&amp;2 y</code> – The <code>x</code>-th forwards difference of <code>y</code>.</li>
</ul>

<p>If I were to make a <em>serious</em> (i.&thinsp;e. non-golfed) definition of this function, I would probably do something like this:</p>

<pre><code>(}. - }:) : ($:@[&amp;0)
</code></pre>

<p>The monadic case computes the forward difference whereas the dyadic case computes the <code>x</code>-th forward difference.</p>

<p>Even simpler, but not exactly equal:</p>

<pre><code>+/\inv
</code></pre>

<p><code>+/\</code> yields a vector of the sums of the prefixes of the argument. <code>inv</code> (defined as <code>^:_1</code>) is a conjunction that inverses a verb. This works wherever J knows how to inverse a verb and for the case of <code>+/\</code>, J knows how to.</p>
</div>
<div id="pu26" class="pu"><h1>Powershell <s>115</s> 111 bytes</h1>
<pre><code>$p={param($a, $b)0..($a-1)|%{$b=@($l=$b.length;for($i=0;$i-lt$l;$i++){$b[$i+1]-$b[$i]})[0..($l-2)]};$b-join','}
</code></pre>
<p>Execute as such:</p>
<pre><code>.$p 4 @(10,18,-12,4,8,-3,-5,67,9,14)
</code></pre>
<p>Output:</p>
<pre><code>-142,55,27,41,-269,397
</code></pre>
<p>Moving a curly brace to a different spot allows this to display every step to the answer.</p>
<pre><code>8,-30,16,4,-11,-2,72,-58,5
-38,46,-12,-15,9,74,-130,63
84,-58,-3,24,65,-204,193
-142,55,27,41,-269,397
</code></pre>
</div>
<div id="pu27" class="pu"><h2>>&lt;> <s> 53 </s> 50 bytes</h2>

<pre><code>l:[2-&amp;\~~]r1-:?!vr
&amp;}-@:$/!?&amp;:-1
:;!? &amp;&amp;  lo*84n~&lt;       
</code></pre>

<p>Usage: Prepopulate the stack (-v in python interpreter) with depth first, followed by the integers. </p>

<p>For example: </p>

<pre><code>forward.fish -v 3 2 5 6 7 5 10 25
</code></pre>

<p>Returns</p>

<pre><code>2 -3 10 3
</code></pre>

<p>Thanks to Sp3000 for the help.</p>
</div>
<div id="pu28" class="pu"><h1>Python, <s>92</s> <s>87</s> 86 bytes</h1>



<pre class="lang-python prettyprint-override"><code>def a(b,c):
 if c&lt;1:return b
 d=[];e=b[0]
 for f in b[1:]:d+=f-e,;e=f
 return a(d,c-1)
</code></pre>

<p>This is my first Python golf. Any suggestions will be appreciated :)</p>

<p><s>5</s> 6 bytes thanks to Sp3000 :D</p>
</div>
<div id="pu29" class="pu"><h1>Java, <s>122</s> 119 bytes</h1>



<pre class="lang-java prettyprint-override"><code>int[]a(int[]a,int b){if(b&lt;1)return a;int e=a.length-1,c[]=new int[e],i=e;for(;i--&gt;0;)c[i]=a[i+1]-a[i];return a(c,b-1);}
</code></pre>

<p>Example Usage: <a href="http://ideone.com/ALgYez" rel="nofollow">http://ideone.com/ALgYez</a></p>

<p>3 bytes thanks to Geobits :v )></p>
</div>
<div id="pu30" class="pu"><h1>CJam, 15 bytes</h1>

<pre><code>l~{{_@-\}*;]}*p
</code></pre>

<p>Takes input as a CJam-style array and then the depth:</p>

<pre><code>[10 18 -12 4 8 -3 -5 67 9 14] 4
</code></pre>

<p>and prints the result as a CJam-style array.</p>

<p><a href="http://cjam.aditsu.net/#code=l~%7B%7B_%40-%5C%7D*%3B%5D%7D*p&amp;input=%5B10%2018%20-12%204%208%20-3%20-5%2067%209%2014%5D%204">Test it here.</a></p>

<h2>Explanation</h2>

<pre><code>l~              "Read and eval input.";
  {         }*  "Repeat this block N times, which computes the forward differences.";
   {    }*      "Fold this block onto the list - this is quite an abuse of folding semantics.";
    _           "Duplicate the current element (for the use in the next difference).";
     @          "Pull up the other copy of the last element.";
      -         "Subtract.";
       \        "Swap the difference and the other copy of the current element.";
          ;     "Discard the last element.";
           ]    "Wrap everything in an array again.";
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/47005/">47005</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




