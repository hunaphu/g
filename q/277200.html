<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::277200</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>136</td><td>APLNARS</td><td>241227T113628Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277416#277416">Rosario</a></td></tr>
<tr d-ix="1"><td>020</td><td>Haskell + hgl</td><td>241215T233450Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277288#277288">Wheat Wi</a></td></tr>
<tr d-ix="2"><td>116</td><td>Wolfram Language Mathematica</td><td>241215T134058Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277284#277284">Introduc</a></td></tr>
<tr d-ix="3"><td>011</td><td>Jelly</td><td>241213T194404Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277251#277251">Jonathan</a></td></tr>
<tr d-ix="4"><td>013</td><td>Vyxal</td><td>241214T025506Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277258#277258">emanresu</a></td></tr>
<tr d-ix="5"><td>035</td><td>Uiua</td><td>241213T222115Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277255#277255">Joao-3</a></td></tr>
<tr d-ix="6"><td>018</td><td>Jelly</td><td>241213T054154Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277228#277228">Unrelate</a></td></tr>
<tr d-ix="7"><td>092</td><td>JavaScript Node.js</td><td>241213T033843Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277224#277224">l4m2</a></td></tr>
<tr d-ix="8"><td>087</td><td>Python 2</td><td>241212T120359Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277206#277206">tsh</a></td></tr>
<tr d-ix="9"><td>150</td><td>R</td><td>241213T024108Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277223#277223">Eonema</a></td></tr>
<tr d-ix="10"><td>050</td><td>Charcoal</td><td>241212T171908Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277212#277212">Neil</a></td></tr>
<tr d-ix="11"><td>101</td><td>JavaScript ES6</td><td>241212T170125Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277210#277210">Arnauld</a></td></tr>
<tr d-ix="12"><td>015</td><td>05AB1E</td><td>241212T084928Z</td><td><a href="https://codegolf.stackexchange.com/questions/277200/longest-bitonic-subarray/277201#277201">Kevin Cr</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>APL(NARS), 136 chars</h1>
<pre><code>r←w c i;m
r←1⌊m←≢w
→0×⍳m&lt;i+1⋄→3×⍳w[i]&gt;w[i+1]⋄i+←1⋄r+←1⋄→2
→0×⍳m&lt;i+1⋄→0×⍳w[i]&lt;w[i+1]⋄i+←1⋄r+←1⋄→3

f←{k←⍵⋄i←a⍳m←⌈/a←{k c⍵}¨⍳≢⍵⋄⍵[i..i+m-1]}
</code></pre>
<p>-- 9+8+38+38+3 + 40 = 136</p>
<p>it is based from 2 functions, the &quot;c&quot; function that return the lenght of bitonic array start index i from array w, and use 2 loops.
The &quot;f&quot; function that apply the function &quot;c&quot; to each element of array ⍵, it find one array of lenghts,
find the max bitonic lenght, return the max lenght sublist that is bitonic.
This below is the function &quot;c&quot; with line numbers, useful for see where &quot;→&quot; goes... &quot;→0&quot; means exit from the function.</p>
<pre><code>   r←w c i;m
1: r←1⌊m←≢w
2: →0×⍳m&lt;i+1⋄→3×⍳w[i]&gt;w[i+1]⋄i+←1⋄r+←1⋄→2
3: →0×⍳m&lt;i+1⋄→0×⍳w[i]&lt;w[i+1]⋄i+←1⋄r+←1⋄→3
</code></pre>
<p>the test it seems goes well:</p>
<pre><code>  f , 1
1 
  f (¯1,2,1,3,1,4,1,5,1)
¯1 2 1 
  f (3,2,3,4,5,3,2,1,5,2,3)
2 3 4 5 3 2 1 
  f (1,2,3,2,3,4,5,3,2,1,5,2,3)
2 3 4 5 3 2 1 
  f 1,2,5,6,3,2,1,0,6,3,2,1,0
1 2 5 6 3 2 1 0 
  f 3,3,2,2,3,3,4,4,4,5,5,5,5,3,3,2,2,1,1,5,5,2,3
2 2 3 3 4 4 4 5 5 5 5 3 3 2 2 1 1 
  f 1,2,3,4,5
1 2 3 4 5 
  f 5,4,3,2,1
5 4 3 2 1 
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a> + <a href="https://www.gitlab.com/wheatwizard/haskell-golfing-library" rel="nofollow noreferrer">hgl</a>, 20 bytes</h1>
<pre><code>xBL&lt;cSt(mnI&lt;pac&lt;nbc)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bY_BSsNAEIbxmqf4Dz0kkBRaPUjIFimoFIIU9CYeNtmNDW6yabrBCL6DD-AlF_ENfBd9mm420YbGwzIz_3z_7Mz754bunrgQzc_JRZoVslTYVlSkScoZ1iUXFeNW31hbnocbqfDCFWQOqqQV3yr4Puww3SlQeAsspRROmxwkk_WIYyxFyRlJhIkIEF9beRSbQZdbUPf35-mVFIxGgkM5IAsM51FjIRbwKPUIFersecNLrqPRbAofkX6xYyTgVdsJQdSXpI8HekDejaAWaMHBSF3Wf0T9UanEO_9KSL0MA32lneWroKBxoBd1uub3W0bTHARMaldRYoIE97P28lWuHoaaO3dPR4J7dizNxsw_kubc-bHcmru1mqaLew" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<ul>
<li><code>xBL</code> longest of the ...</li>
<li><code>cSt</code> infixes satisfying ...</li>
<li><code>nbc</code> remove consecutive equal elements</li>
<li><code>pac</code> countour</li>
<li><code>mnI</code> weakly monotonically increasing</li>
</ul>
<h1>Parsers, 27 bytes</h1>
<pre><code>ggL$Rv$ah'$h'@~mnI&lt;&gt;h'@~mnD
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708I7E4OzUnZ8FN_czcgvyiEoXC0sSczLTM1BSFgKLUnNKUVC6oRABXYoa6gq2CBpDUstNcWlqSpmuxN802Pd1HJahMBSipkqHuUJeb52ljB2G4QNTc7M9NzMwD6kzJ51JQKChSUFFIU4g2VLCyUvDMK4lFFtMx0jHGENAxQRcyxFSDRQioTscIXRikGeKsBQsgNAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>I wanted to do this with parsers to see how bad it would be. <s>It's bad.</s> It's not <em>that</em> bad.</p>
<h2>Explanation</h2>
<ul>
<li><code>ggL</code> get the longest parse</li>
<li><code>Rv</code> invert parse priority, (only needed as to break ties for earlier elements)</li>
<li><code>ah'</code> parse an arbitrary number of characters ignoring them</li>
<li><code>h'</code> parse some number of characters</li>
<li><code>@~mnI</code> such that it is monotonically increasing</li>
<li><code>&lt;&gt;</code> then</li>
<li><code>h'</code> parse some number of characters</li>
<li><code>@~mnD</code> such that it is monotonically decreasing</li>
</ul>
<h1>Reflection</h1>
<p>I am a little disappointed. I am also kind of annoyed by the challenge. The arbitrary choice to <em>require</em> the first such answer in a tie irritates me, since it feels like it just stifles creativity.</p>
<p>However I can still learn from this.</p>
<ul>
<li>There should be something that combines <code>xBL</code> and <code>cSt</code>. I don't know why this doesn't exist yet.</li>
<li>I would like a short-cut for <code>ne EQ&lt;pac</code> (and its negation <code>e EQ&lt;pac</code>) this determines whether all consecutive elements are unequal. (This was useful for an older version of the answer where I interpreted the challenge differently.)</li>
<li>There should be a version of <code>ah'</code> with inverted priority. This would prevent me from needing to use <code>Rv</code>.</li>
<li>There should be a parser that precombines <code>fl</code> with <code>h'</code>.</li>
</ul>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 116 bytes</h1>
<pre><code>First@MaximalBy[#,Length]&amp;@SequenceCases[#,{x___,y___,z__}/;OrderedQ[{x,y}]&amp;&amp;OrderedQ[Reverse[{z}]],Overlaps-&gt;True]&amp;
</code></pre>
<p><a href="https://tio.run/##PYlLCsMgGAYPU3Bl6QEKJaTQVUvoYyciP8lHI8SQqgka8ew23XQzMDOGfA9DXrdUykVb56sbBW1oqKPY8SvGt@8lq574zBhbnMnBbSMFpRSPP6xK5cOxsR0surtIgccsGfuHBxZYB5HWLCVvNhlocvvTy86QrJQv" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 15 14 13 </s> 11 <a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">bytes</a></h1>
<p>-1 thanks to <a href="https://codegolf.stackexchange.com/users/85334/unrelated-string">Unrelated String</a> (sublists reversed sorted by length, <code>ẆṚLÞ</code> -&gt; sublists of reverse, each reversed, <code>ṚẆU</code>).</p>
<pre><code>ṚẆUtṂ$ÐLÐḟṪ
</code></pre>
<p>A monadic Link that accepts a list of integers and yields the first, longest bitonic sublist.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///hzlkPd7WFljzc2aRyeILP4QkPd8x/uHPVf53D7UcnPdw541HTGk33//@jow1jdbgUonUNdYx0DHWMgdgEiE11IMLGQFFjoIipjjFY3hTEB8sYgmXwyZrqmEHFDRAsqKkgHkgvSLcJ2AQIhMkYgk1Dtw2oDswzBbLA5gF5sQA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h4>How?</h4>
<pre><code>ṚẆUtṂ$ÐLÐḟṪ - Link: list of integers, I   e.g. [3,1,2]
Ṛ           - reverse {I}                      [2,1,3]
 Ẇ          - all non-empty sublists of {that} [[2],[1],[3],[2,1],[1,3],[2,1,3]]
  U         - reverse each of {those}          [[2],[1],[3],[1,2],[3,1],[3,1,2]]
              (-&gt; all sublists of I ordered by length then right to left)
        Ðḟ  - discard those Sublists for which:
      ÐL    -   repeat until results are no longer unique under:
     $      -     last two links as a monad - f(Sublist):
    Ṃ       -       minimum {Sublist}
   t        -       remove {that} from both ends of {Sublist}
                (only a bitonic sublist results in an empty list, and
                 non-empty lists are truthy) 
          Ṫ - tail
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 13 bytes</h1>
<pre><code>ÞSṘÞṡ'¯ꜝ±ÞṘ;t
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJBIiwiIiwiw55T4bmYw57huaEnwq/qnJ3CscOe4bmYO3QiLCIiLCJbMywyLDMsNCw1LDMsMiwxLDUsMiwzXVxuWzMsMywyLDIsMywzLDQsNCw0LDUsNSw1LDUsMywzLDIsMiwxLDEsNSw1LDIsM10iXQ==" rel="nofollow noreferrer">Try it Online!</a> Port of <a href="https://codegolf.stackexchange.com/a/277251/100664">Jonathan Allan's Jelly answer</a> feat. Why Does Vyxal Have A &quot;Is Reverse Sorted&quot; Builtin?</p>
<pre><code>ÞS            # Sublists
  Ṙ           # Reversed
   Þṡ         # And sorted by length
     '     ;  # Keep those where
        ±     # Signs of
      ¯       # Consecutive differences
       ꜝ      # Excluding zeroes
         ÞṘ   # Are sorted in reverse?
            t # Take the last i.e. longest and earliest one
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.uiua.org" rel="nofollow noreferrer">Uiua</a>, 35 bytes<sup>(<a href="https://uiua.org/pad?src=0_14_0-dev_7__IyBTQkNTIGFzIG9mIDEzdGggRGVjZW1iZXIsIDIwMjQuCuKKgitAIOKHoTk1JCDigJnil4ziiJjCrMKxwq_ijLXiiJriiL_ijIrijIjigYXiiaDiiaTiiaXDl8O34pe_4oio4oG_4oKZ4oan4oal4oig4oSC4qe74paz4oeh4oqi4oqj4oeM4pmtwqTii6_ijYnijYbijY_ijZbiipriipvil7Til7DilqHii5XiiY3iip_iioLiio_iiqHihq_ihpnihpjihrvipLjilr3ijJXiprfiiIriipfiiKfiiLXiiaHijZriip7ip4Xip4jijaXiipXiipzil4fii4XiipnwnYSQ4p-c4oq44qSZ4qSa4peg4peh8J2EiOKIqeKMhcKw4oyd4o2c4oqD4oqT4o2i4qya4qis4o2j4o2p4o2k4pqCzrfPgM-E4oie4oiC4oir4oaQ4oaa4piH4per4riu4oKL4oKA4oKB4oKC4oKD4oKE4oKF4oKG4oKH4oKI4oKJ4oye4oyfClNCQ1Mg4oaQCuKNpOKkmeKJpDI1NiDip7tTQkNTCgpFbmNvZGVTQkNTIOKGkCDiipfiiplTQkNTCkRlY29kZVNCQ1Mg4oaQIOKKj-KKmVNCQ1MK" rel="nofollow noreferrer">SBCS</a>)</sup></h1>
<pre><code>⇌⊡⊢⍖⊸⍚⧻▽⊸≡◇(&lt;2/+⧈≠▽⊸⌵±⧈-)/◇⊂⧅(□⧅□⇌)
</code></pre>
<p><a href="https://uiua.org/pad?src=0_14_0-dev_7__RiDihpAg4oeM4oqh4oqi4o2W4oq44o2a4qe74pa94oq44omh4peHKDwyLyvip4jiiaDilr3iirjijLXCseKniC0pL-KXh-KKguKnhSjilqHip4XilqHih4wpClVuZ29sZmVkIOKGkCAoCiAgL-KXh-KKguKnhSjilqHip4XilqHih4wpICAgICAgICAgIyBHZXQgcmV2ZXJzZWQgc3ViYXJyYXlzCiAg4pa94oq44omh4peHKDwyLyvip4jiiaDilr3iirjijLXCseKniC0pICMgS2VlcCB0aGUgYml0b25pY3MKICDiiqHiiqLijZbiirjijZrip7sgICAgICAgICAgICAgIyBHZXQgdGhlIGxvbmdlc3Qgb25lCiAg4oeMICAgICAgICAgICAgICAgICAgIyBSZXZlcnNlIHRoZSBzdWJhcnJheQopCgrijaTipJniiY0g4pahWzFdIEYgWzFdCuKNpOKkmeKJjSDilqHCrzFfMl8xIEYgwq8xXzJfMV8zXzFfNF8xXzVfMQrijaTipJniiY0g4pahMl8zXzRfNV8zXzJfMSBGIDNfMl8zXzRfNV8zXzJfMV81XzJfMwrijaTipJniiY0g4pahMl8zXzRfNV8zXzJfMSBGIDFfMl8zXzJfM180XzVfM18yXzFfNV8yXzMK4o2k4qSZ4omNIOKWoTFfMl81XzZfM18yXzFfMCBGIDFfMl81XzZfM18yXzFfMF82XzNfMl8xXzAK4o2k4qSZ4omNIOKWoeKWvTIgMl8zXzRfNV8zXzJfMSBG4pa9MiAzXzJfM180XzVfM18yXzFfNV8yXzMK4o2k4qSZ4omNIOKWoeKfnEYxXzJfM180XzUK4o2k4qSZ4omNIOKWoeKfnEY1XzRfM18yXzEK" rel="nofollow noreferrer">Try it in the pad!</a></p>
<p>Takes in an array of numbers, outputs the longest bitonic subarray, <a href="https://www.uiua.org/docs/box" rel="nofollow noreferrer"><code>□ box</code></a>ed, because unboxing it with <a href="https://www.uiua.org/docs/content" rel="nofollow noreferrer"><code>◇ content</code></a> would be one character longer.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>19</s> 18 bytes</h1>
<pre><code>IṠo@\IŻ=2ÄkµÐƤẈÞṪḢ
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/9/z4c4F@Q4xnkd32xodbsk@tPXwhGNLHu7qODzv4c5VD3cs@n@4/eikhztnaEb@/x/NFW0Yq8MVrWuoY6RjqGMMxCZAbKoDFjUGChoDBUx1jMHSpiA@SMIQLIFH0lTHDCpsgGBBjARxQDpBek3A@iEQJmMINgvNKqAyEMcUyAAbBpMxgiqGQEOwIRBPQCBYoSVYoSWSQkuoQku4QkuEQrAUiGuuA4QQmyCKjFBMh9sMVBILAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p><i>-1 by remembering that by the time I need to bandaid the sort order I'm just in truthiness land</i></p>
<p>Probably loses to something that brute forces over all sublists directly, but porting <a href="https://codegolf.stackexchange.com/a/277201/85334">Kevin Cruijssen's 05ab1e solution</a> doesn't strike me as viable due to a number of substantial differences in the builtin set.</p>
<pre><code>           µÐƤ        For every suffix of the input:
 Ṡ                    Take the signs of
I                     the forward deltas,
    \                 scan by
  o@                  right ? right : left,
     I                take the forward deltas of that,
      Ż               prepend 0,
          k           and partition the original suffix after the positions of
       =2             twos in that--i.e.,
IṠ    Ż               before delta signs which
     I =2             jump from -1 to 1
  o@\                 compared to the last nonzero delta sign.
         Äk           (Also partition everything after that into singletons.)
               Þ      Sort lexicographically ascending by
              Ẉ       the lengths of each partition,
                ṪḢ    and take the first partition from the last element.
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 92 bytes</h1>

<pre class="lang-none prettyprint-override"><code>x=&gt;(g=i=&gt;(e=x.slice(i,n+i||1/0)).some(t=u=c=&gt;t?u&gt;(u=c)&amp;&amp;++t:u&lt;(u=c))?g(n+i?i+1:!--n):e)(n=0)
</code></pre>
<p><a href="https://tio.run/##lZHLroIwEIb35yk4G9MJ5dKDdUEsPIhhYbCSGmyNgHHhu@NQvET0qLRpMzPt/810ulkellW@V7va02Yl27VojyIhhVC4S3H0q1LlkiiqXXU6sSAE8CuzlaQWjchFUqdNQtCCycR167iZWwfSgqAgVS6Lfz1PQyyBaBFCmxtdmVL6pSnImixY5owYAE4QOCj6GWA8Rv8ooxGuKS5O33IvmF70xIowGiGG08hCeednH1gPkicks8hvsV8jOZ1dYOHdeocciF48vTvpEneppzZ9P68nzFbe136r84Pgn3bg3WzMp99EQxzHaN@kEbi7qD0D" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 87 bytes</h1>

<pre class="lang-none prettyprint-override"><code>def f(a,*p):i=iter(map(cmp,a[1:],a));return a*((-1in i)&gt;(1in i))or f(*p+(a[:-1],a[1:]))
</code></pre>
<p><a href="https://tio.run/##jVHBbsMgDL3nK3wDZ6QaTbNDJvIjWQ6oIxpSmyLCJu3rMwPJopw2IWSb955tbPcdPh7TeVnezQgj16J02Fplg/H8rh2/3p3QvWwHoRFfvQmffgJdcl5JO4HFjmeLD0/y0j1x3beVHLIIcQlmDlc9mxkUMMaKXg6gOiBT9JUUZyFFTfdCtxErlt@JUJOtCWtEnZhNjDPnAAwAlDiR/ynI9Ea8rMTn3Vv7O8KpmejHNDHRJSXLZ0Nkqnio@Qd92NomdK@bw6JvyK7/i9AeFjTJ0xy8dRxPs7vZwNnbxLAYaQ0BaCO/Y28LACvA0PjjPs2XvgkIm0h1DJEYztsp0AItglJgRHKXHw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>Notice that this answer is in Python 2 instead of Python 3. They have several differences:</p>
<ul>
<li><code>cmp</code> is available in Python 2, but not in Python 3. Using <code>cmp</code>, it return <code>-1</code>, <code>0</code>, <code>1</code> based on its two operand. When both operand are <code>int</code>, it compare them, and return <code>-1</code> for less than, <code>1</code> for greater than. When one is <code>int</code> while the other is <code>None</code>, <code>None</code> is considered less than <code>int</code>.</li>
<li><code>map</code> is different in Python 2 and Python 3. Use <code>map(lambda *p:p, [2], [1, 2])</code> in Python 2, you will get <code>[(2, 1), (None, 2)]</code>. However, <code>list(map(lambda *p:p, [2], [1, 2]))</code> in Python 3 returns <code>[(2, 1)]</code>. Python 2 will padding extra <code>None</code>'s at end of the shorter one.</li>
<li>Then, <code>map(cmp, a[1:], a)</code> will return an array that compare each number with its next one, and always have an extra <code>-1</code> at the end of the return value. Since there is always a <code>-1</code>, an output is valid iff it contains no <code>1</code> after first <code>-1</code> occurred. Convert it to <code>iter</code> and <code>-1 in i</code> will consume the iter until first <code>-1</code> find (which will always be True as discussed above). And we try to find <code>1 in i</code>. Notice that here <code>i</code> is the part followed by <code>-1</code>, not the whole compare result. The array <code>a</code> is valid if no <code>1</code> found in the following part. So <code>1 in i</code> should be <code>False</code>. So <code>(-1 in i) &gt; (1 in i)</code> could be used to test if given array is valid.</li>
<li>If the given array is valid, <code>a*(...)(...)</code> returns <code>a</code>, and otherwise it return something falsy, and fallback to following searching. <code>f(*p+(a[:-1],a[1:]))</code> loop following possible substrings first by length, then by first occurrence. Sadly, you cannot use <code>f(*a,a[:-1],a[1:])</code> in Python 2, which is valid in Python 3.</li>
</ul>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 150 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(x)`if`(length(x)-1,{y=rle(x)
p=rle(cumsum(c(T,diff(diff(y$v)&gt;0))&gt;0))
q=which.max(p$l)
r=cumsum(p$l)[q]+1
inverse.rle(lapply(y,`[`,(r-p$l[q]):r))},x)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=jZBBTsMwEEXF1qewRBe26lQ1qRFCpKdgFyylCnETyalStymJENdgwyYseig4DWO7TQgbqmjiGc_7Mz_5-DTdUeGHAB_rvQruvt6fSEOTQiVEZ5v1Pocq4Oy1jYzOIEeVS9K63NUlSckjey6UIu7VTg50Oacu0DZ6yYs0n5WrhlQTTZGJTiJbxVs55ajYHDKzy2Z2ol5VlW5Jy5I4YcQEQAFE7w2lb6yh3t33Va1gKacUX-NoiWMukb0AhzeMsxBiASHYQPiWx0JIQyAECx0vbN2To57E2Em4k1wu60WC3Z7w-ZANvsfE2Z4t7Tw7ceGm-ufc4W773_3_KOSvDwFg5MHdeEBA6uz0QH8j_d_vOn_-AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Two things I couldn't figure out (and would love if someone has ideas for):</p>
<ul>
<li>It failed for the first test case, so I added 20 bytes to handle the case where x is length 1. Is there a way to avoid having to handle this case specially?</li>
<li>It failed when there were repeated values at the end of the answer, which I solved by run-length encoding the input and converting back at the end. But converting back takes 27 bytes (on top of the 9 to encode). Is there a shorter way to un-encode it?</li>
</ul>
<p>Commented:</p>
<pre class="lang-r prettyprint-override"><code>\(x) `if`( # if statement to handle case where length(x) == 1
  length(x)-1, # F if length 1, T otherwise
  {
    # run-length encoding to avoid problems with repeated values
    y = rle(x) 
    # get lengths of bitonic stretches
    p = rle(
      # give a unique number to each potential bitonic stretch
      # i.e., increment group number whenever it starts increasing
      cumsum(c(T, diff(
        diff(y$v) &gt; 0
      )) &gt; 0)
    )
    # index of longest bitonic stretch in p
    q = which.max(p$l)
    # index of end of longest bitonic stretch in y
    r = cumsum(p$l)[q] + 1
    # inverse of run-length encoding
    inverse.rle(
      # lapply is needed to subset both the $length and $values of y
      lapply(y, `[`, 
        # indices of longest bitonic subarray in y
        (r-p$l[q]):r
      )
    )
  },
  x
)
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 50 bytes</h1>
<pre><code>≔⟦⟧θＦＡ«⊞θιＷ№⭆ＥΦθμ⁻λ§θμ⎇λ‹λ⁰ω10≔Φθμθ¿›ＬθＬυ≔⮌⮌θυ»⭆¹υ
</code></pre>
<p><a href="https://tio.run/##VU7LasMwEDzbXyFyWoEKcdOecgqFlEACoe3N@CDSjS1Q5FiPpKX029VdN32EQaw0MzuaXaf9rtc250UIpnVQN0oMcl7uey9g5Y4pgpTioyy2KXQwKGFILM6dsSjgoU8uwnP0xrUbfQQ@S2MjenYepBIb41IAq8Qirtwrvn3zkpQX9E77d9bWGEbPlOgza5NqOqFfL5WuE7lcYfYCHj1q5tfo2kjVJAeN1yT/lp/whD7g7xw4P1HGZ7ml2v/bVyzIec51PVMzdUvgeTfi/oIfpSLwmzxNk29O9gs" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔⟦⟧θＦＡ«
</code></pre>
<p>Start looping over the input values.</p>
<pre><code>⊞θι
</code></pre>
<p>Collect the next value.</p>
<pre><code>Ｗ№⭆ＥΦθμ⁻λ§θμ⎇λ‹λ⁰ω10
</code></pre>
<p>While the subarray contains a decreasing pair followed by an increasing pair...</p>
<pre><code>≔Φθμθ
</code></pre>
<p>... remove the first element from the subarray.</p>
<pre><code>¿›ＬθＬυ
</code></pre>
<p>If this subarray sets a new length record, then...</p>
<pre><code>≔⮌⮌θυ
</code></pre>
<p>... remember a clone of the subarray.</p>
<pre><code>»⭆¹υ
</code></pre>
<p>Pretty-print the first longest valid subarray.</p>
<p>Incorrect 55 byte version which allows both decreasing and increasing as well as increasing and decreasing, because I misread the question:</p>
<pre><code>≔⟦⟧θＦＡ«⊞θιＷ⬤⪪Ｉ⊕φ²№⭆ＥΦθξ⁻ν§θξ⎇ν‹ν⁰ωλ≔Φθμθ¿›ＬθＬυ≔⮌⮌θυ»⭆¹υ
</code></pre>
<p><a href="https://tio.run/##TU7LasMwEDzbX6HjClRokvaUkwmkBBIITW/GB@GsbYEi23okKaXfrq6ctA3DstLM7DB1J23dSx1j4ZxqDZSVYCNf5k1vGWzMEDxwzr7ybB9cB6NgisTs0imNDAqt4TBo5WElnSd7bfGExuMRGs4Fm9Os@mA8HLxVpt3JAdKslfZoU9qVHDtlggMjWOE35ojXG5/uP9AaaT@TtkU3eZ6JviRNk4PdS//nnfitfqYaBm8WZeK3aFpP5XmKmZ7h4fgdz2gd/u0xpQfK@M73VPqx@ywJfBljWS7EQswJab9MeL3jV5kR0p88VRWfzvoH" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: As above but allows either an increasing pair followed by a decreasing pair or a decreasing pair followed by an increasing pair but not both.</p>
</div>
<div id="pu11" class="pu"><h1>JavaScript (ES6), 101 bytes</h1>

<pre class="lang-none prettyprint-override"><code>a=&gt;(g=n=&gt;a.some((m,i)=&gt;!(b=a.slice(i,i+n)).some(p=v=&gt;(m=p&lt;m?m:p)&gt;p&amp;p&lt;(p=v)))/b[--n]?b:g(n))(a.length)
</code></pre>
<p><a href="https://tio.run/##lZHNboMwDIDvewp2mWItwDKaHaqGPkjFIbCUZSI/KlVfnzqkazW6tQUUKbHzfTbmWx5k3@y036fWfaphKwYpStIKK0qZ9c4oQgzVIMpnUguMdLpRRFP9agFi3osDEkb4lVmbpYfSv/hViAJAXm/S1FbretkSBIjMOmXb/RcMjbO961TWuZZsyYZVyYwHIMnzBKGniSZl9J0yWuBa4OL0pvekidCVq8BogRpOi1HKw7m64/qFXCnZqHxU@7CS04@T7O2yu6WcQH98esiEwqH0Yiwf358MGzuPvZ/7vAP8Mw68W8356WdoquMYjUOaobtAwxE" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 15 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ŒRéR.ΔÔ¬š¥dÔJR!
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//6KSgwyuD9M5NOTzl0JqjCw8tTTk8xStI8f//aGMdIx1jHRMdUx0QyxBIA/mxAA" rel="nofollow noreferrer">(Don't) try it online</a> (it's too slow to even handle the example test case).<br />
<a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/o5OCDq8M0js35fCUQ2uOLjy0NOXwFK8gY71DixX/1@r8j442jNWJ1jXUMdIx1DEGYhMgNtUBCRoDxYyBfFMdY7CsKYgPFDcEi@OWM9Uxg4oaIFhg80BskD6QThOwbgiEyRiCTUK1B6gKyDYF0mCToOJGUJUQaAg2AeJ6CMSuzhyrOku4q4xjYwE" rel="nofollow noreferrer">Verify all test cases with a small addition of <code>3.£</code> to speed things up substantially.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-none prettyprint-override"><code>Œ               # Get all sub-lists of the (implicit) input-list
 R              # Reverse this list of sub-lists †
  é             # Then sort it from shortest to longest
   R            # Reverse that again so it's from longest to shortest
    .Δ          # Pop and find the first/longest sub-list that's truthy for:
      Ô         #  Connected-uniquify the sub-lists ††
       ¬š       #  Prepend its first item
                #  (edge case for inputs of length 1)
         ¥      #  Pop and get the forward-differences
          d     #  Check for each if they're non-negative (&gt;=0)
           Ô    #  Connected-uniquify this list of checks
            J   #  Join them together
             R  #  Reverse it
              ! #  Factorial †††
                #  (only 1 is truthy in 05AB1E, so this will only be truthy if the
                #  `ÔJR` was &quot;0&quot;, &quot;1&quot;, or &quot;01&quot; ††††, and falsey otherwise)
</code></pre>
<ul>
<li>† The <code>R</code> before the <code>éR</code> is to output the first instead of last longest bitonic sub-list if there are multiple valid ones of the same length.</li>
<li>†† The <code>Ô</code> is so we won't have any equal adjacent values for our checks, except for the one added by <code>¬š</code>.</li>
<li>††† <code>!</code> is the main bottleneck for why it's so slow, since the numbers can become very large for invalid sub-lists that go up and down a bunch of times. The <code>3.£</code> in the test suite link will only keep the last three digits after the <code>JR</code>, so we won't have to do the factorial on very large binary-strings.</li>
<li>†††† <code>0</code> are decreasing lists; <code>1</code> are increasing lists; <code>01</code> are first increasing and then decreasing lists.</li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/277200/">277200</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




