<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::264166</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>8875</td><td>Vyxal l</td><td>230815T001411Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264177#264177">lyxal</a></td></tr>
<tr d-ix="1"><td>009</td><td>Husk</td><td>230814T214249Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264175#264175">Dominic </a></td></tr>
<tr d-ix="2"><td>087</td><td>JavaScript ES6</td><td>230814T184116Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264170#264170">Arnauld</a></td></tr>
<tr d-ix="3"><td>100</td><td>Arturo</td><td>230814T215351Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264176#264176">chunes</a></td></tr>
<tr d-ix="4"><td>013</td><td>Jelly</td><td>230814T195711Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264173#264173">caird co</a></td></tr>
<tr d-ix="5"><td>013</td><td>Jelly</td><td>230814T195750Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264174#264174">Jonathan</a></td></tr>
<tr d-ix="6"><td>124</td><td>Python</td><td>230814T183029Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264168#264168">bsoelch</a></td></tr>
<tr d-ix="7"><td>077</td><td>Ruby</td><td>230814T183047Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264169#264169">Value In</a></td></tr>
<tr d-ix="8"><td>072</td><td>Factor + math.combinatorics</td><td>230814T190931Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264172#264172">chunes</a></td></tr>
<tr d-ix="9"><td>012</td><td>Thunno 2 L</td><td>230814T185901Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264171#264171">The Thon</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>l</code>, 71 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 8.875 bytes</h1>
<pre><code>Ṗ'ÞS~Þ⇧@G⁰=
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyJsPUIiLCIiLCLhuZYnw55TfsOe4oenQEfigbA9IiwiIiwiWzEsIDEsIDEsIDEsIDEsIDEsIDFdXG4yIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 9 bytes</h1>
<pre><code>#mȯ▲mLġ&gt;P
</code></pre>
<p><a href="https://tio.run/##yygtzv7/Xzn3xPpH0zbl@hxZaBfw////aEMdIx1jHRMd09j/RgA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a> or <a href="https://tio.run/##yygtzv6fm/CoqfG/cu6J9Y@mbcr1ObLQLuD///9G/6OjDXWMdIx1THRMY3XAbBAPwUeCUHljHaiO2FgA" rel="nofollow noreferrer">Try the test lists with N=2</a></p>
<pre><code>#mȯ▲mLġ&gt;P
        P  # get all permutations of arg1
 m         # map over each permutation:
  ȯ        #   these 3 composed functions:
      ġ&gt;   #   - group by pairwise greater-than
    mL     #   - get the length of each group
   ▲       #   - maximum
#          # how many times is arg2 present?
</code></pre>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES6), 87 bytes</h1>
<p>Expects <code>(n)(array)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;g=(a,s,m,p)=&gt;a.map((v,i)=&gt;t+=g(a.filter(_=&gt;i--),q=v&gt;p?s+1:1,q&lt;m?m:q,v),t=0)+a?t:m==n
</code></pre>
<p><a href="https://tio.run/##XVBdb4MwDHzvr/BjIgwl0LJCa3jar6hQFTHoMgHhS/x9Zsoktlkn5RzfySd/6VmPxWC6yW3tR7lUtLSUPkloHLHBTlKqvUZ3QsxouJkcegrtVaaeykE8KDWuK7GnOe2y0VGJwv7WZE3S4yxxIl86OpuShqhdrvcDwF0hBAghwgnhnCNsdTwCD6KYv/m9IKhdu8l3B2uZBZFaZ37EPAwjpkx8xo/xPzbj2T/5m@w3/uTaA@avXBwmiN94gbqsu1Qc7L784FV2eNfFp9BAKRS2HW1derVdj/Q62wPByHVWCQMOKCm05Fq@AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>n =&gt;                 // outer function taking n
g = (                // inner recursive function g taking:
  a,                 //   a[] = input array
  s,                 //   s = size of the strictly increasing sequence
  m,                 //   m = maximum size so far
  p                  //   p = previous value from the permutation
) =&gt;                 //
a.map((v, i) =&gt;      // for each value v at index i in a[]:
  t +=               //   add to t the result of ...
    g(               //     ... a recursive call to g:
      a.filter(_ =&gt;  //       remove from a[]:
        i--          //         the i-th element
      ),             //
      q =            //       q = new value of s, defined as follows:
        v &gt; p ?      //         if v is greater than p:
          s + 1      //           increment s
        :            //         else:
          1,         //           reset to 1
      q &lt; m ? m : q, //       m = max(m, q)
      v              //       pass v as the previous value
    ),               //     end of recursive call
  t = 0              //   start with t = 0
)                    // end of map()
+ a ?                // if a[] is empty:
  t                  //   return t
:                    // else:
  m == n             //   return 1 if the maximum size is n
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 100 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$=&gt;[n:&amp;enumerate permutate&amp;'x[i:0n=1+??max
map select chunk chop x'y['i+1y&lt;x\[i]]=&gt;sorted?=&gt;size 0]]
</code></pre>
<p><a href="http://arturo-lang.io/playground?WvI33K" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>$=&gt;[                        ; a function where successive inputs are assigned to &amp;
    n:&amp;                     ; assign first input (number) to n
    enumerate permutate&amp;'x[ ; count each permutation x of input seq
        i:0                 ; assign 0 to i
        n=1+                ; does n equal 1 plus
        ?? ... 0            ; if ... is null, evaluate to 0, else to ...
        max                 ; maximum value of
        map...=&gt;size        ; lengths of
        select...=&gt;sorted?  ; sorted blocks of
        chunk chop x'y[     ; split x-sans-last-elt into contiguous blocks by...
            '1+1            ; increment i in place
            y&lt;x\[i]         ; is y less than x[i]? (is it increasing?)
        ]                   ; end chunk
    ]                       ; end enumerate
]                           ; end function
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 13 bytes</h1>
<pre><code>Œ!ẆIRẠƊƇẈṀƲ€ċ
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///oJMWHu9o8gx7uWnCs61j7w10dD3c2HNv0qGnNke7/h5cD6cj/XP@jDXWMdIx1THRMY3UUgBwFIzAyBiMTHQWYMDpCqDYGC0AYJrH/jQA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>-1 byte thanks to <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">Jonathan Allan</a>!</p>
<p>Footer runs each sequence test case over a provided <span class="math-container">\$N\$</span></p>
<h1><a href="https://github.com/cairdcoinheringaahing/jellylanguage" rel="nofollow noreferrer">Jelly (fork)</a>, 10 bytes</h1>
<pre><code>Ẇ&lt;ɲƇẈṀƲÐ!ċ
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///hrjabk5uOtT/c1fFwZ8OxTYcnKB7p/n94@aOmNZH/uf5HG@oY6RjrmOiYxuooADkKRmBkDEYmOgowYXSEUG0MFoAwTGL/GwEA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a> (or, rather, don't as it isn't implemented on TIO)</p>
<h2>How they work</h2>
<pre><code>Œ!ẆIRẠƊƇẈṀƲ€ċ - Main link. Takes S on the left, N on the right
Œ!            - All permutations of S
          Ʋ€  - Over each permutation P:
  Ẇ           -   All contiguous sublists
      ƊƇ      -   Filter sublists on:
   I          -     Increments
     Ạ        -     all
    R         -     have a non-zero range
        Ẉ     -   Lengths
         Ṁ    -   Maximum
            ċ - Count N
</code></pre>
<p>
<pre><code>Ẇ&lt;ɲƇẈṀƲÐ!ċ - Main link. Takes S on the left and N on the right
      ƲÐ!  - Over the permutations of S:
Ẇ          -   Contiguous sublists
   Ƈ       -   Keep those such that:
  ɲ        -     All neighbours are:
 &lt;         -       In ascending order
    ẈṀ     -   Maximum length
         ċ - Count N
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 13 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Œ!Ẇ&lt;ƝẠ$ƇṪLƲ€ċ
</code></pre>
<p>A dyadic Link that accepts the list of elements, <span class="math-container">\$L\$</span>, on the left and the number, <span class="math-container">\$n\$</span>, on the right and yields the count of <span class="math-container">\$n\$</span>-rich permutations of <span class="math-container">\$L\$</span>.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///oJMWHu9psjs19uGuByrH2hztX@Rzb9KhpzZHu////RxvqKBiBkTEYmegomMb@NwUA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<p>Or see the <a href="https://tio.run/##y0rNyan8///oJMWHu9psjs19uGuByrH2hztX@Rzb9Khpzf/D7Ue6H21c56X5/390tKGOgpGOgrGOgomOgmmsDpcCVAQiiCaOjpDUG4NFoEYBxWMB" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a> (count, <code>ċ</code>, has been moved out to the footer to make it more efficient, and so finish within the TIO timeout).</p>
<h3>How?</h3>
<pre><code>Œ!Ẇ&lt;ƝẠ$ƇṪLƲ€ċ - Link: L, n
Œ!            - all permutations of {L}
           €  - for each:
          Ʋ   -   last four links as a monad:
  Ẇ           -     sublists (from shortest to longest)
       Ƈ      -     filter keep those for which:
      $       -       last two links as a monad:
    Ɲ         -         for neighbouring pairs:
   &lt;          -           less than?
     Ạ        -         all?
        Ṫ     -     tail
         L    -     length
            ċ - count occurrences of {n}
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 124 bytes</h1>
<p><em>-19 bytes thanks to @ValueInk and @TheThonnu</em></p>
<pre class="lang-python prettyprint-override"><code>lambda l,i:sum(i==max(sum(b)for(_,b)in groupby(a&gt;b for(a,b)in zip(p[1:],p)))for p in permutations(l))
from itertools import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XVBbasMwEKS_PsXiL6lswY_EtQ3ORVJT5MRORC1LKDI0pTfpT6C0d2pP01VVaBJY2N3RzM6gt09zdHs9nd6H5uFjdsNd-fU6CtVtBYwo68OsmGwaJZ6ZHzs-aMseseNygp3Vs-mOTKw68LAI8Is0zKzTukXDueeDAYJNb9XshJN6OrCR82iwWoF0vXVajweQymjrbkOG75ts2w-w2febJzai4nUE3gMk-FtWTLueJTj2kz_lH8FYOTniSoyhWUGMbPAbp_Br2XJCYwwIj6JweJ0iZAg5wgJh2aLfi4o26iVC2vJLYuD-06llReofkoLmPC9opCGhutBeF2mXySIJzPO6dsx_-X8ZSUWpsuqebNLSO6ZVdiYNX3c6hf4D" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>85</s> <s>79</s> 77 bytes</h1>
<p>Misread the prompt at first and was returning the permutations themselves instead of the amount, whoops.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a,n{a.permutation.count{|r,*b|m=c=1;b.map{m=c if m&lt;c=r&lt;(r=_1)?c+1:1};m==n}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XY9RToQwEIbfOcVk4wNot6Gwi-Bu8QSeQDdYsCgJsKQUjbKcxJdN1NN4gr2Nw5asxmaS_ul8_z_T90_Vpa_7j5zffXU6n4eHm3ksSN0L2khVdVroYlvTbNvVut8pcp7uKp5xtkppJZoeNRQ5VOuMq7WteMKc6-yCXbFhVXFeD8MUev_yVJQSHqVuLRBEAoezhLZNWWh7xuOZc0yTz6KEhA0WKARsRqmgbfEmTTenmShLWxBEHGQaUAQU59KS9YOZsz983zICHgGfwILAcgPm8BjGRhDhM94hAbaxJtTQJ8OIovICNvbcALXvByhRuFjG97-Mb-kuXEP9rdMk_8hO2xkHbuJFlxjPwnESi7xfm_nTDw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a,n{                                 # Lambda definition
  a.permutation                        # Permutations
   .count{                             # Count instances that match the given condition
          |r,*b|                       #  Extract first element as r (pRevious element)
                m=c=1;                 #  Initialize variables
                                       #   (m = max subsequence length)
                                       #   (c = current subsequence length)
                b.map{                 #  Iterate over the rest of the permutation
                      c=r&lt;(r=_1)?c+1:1 #   If prev. element &lt; current, add 1 to c
                                       #    Otherwise, reset c to 1
                                       #   Also reset r here to save bytes
                      m=c if m&lt;c       #   Set max if needed
                     };                #  End map call
          m==n}                        # Match if max == N
}                                      # End lambda
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://factorcode.org" rel="nofollow noreferrer">Factor</a> + <code>math.combinatorics</code>, <s>83</s> 72 bytes</h1>
<pre><code>[ &lt;permutations&gt; [ [ &lt; ] monotonic-split longest length = ] with count ]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=PU67CsJAEOzzFfMDCRgVxFerNjZiJRbnsYmHl714t0FE_BKbNOaf_BsPA7LF7MwuM_PqCqXF-fZz2u8229UUlZJzpl11MqziwejwkxBqa0QMl1nl2IljoxHo2hBrCqg9idxrb1hwIc9kMUuSHA8MkGOIEcZ4vhsp0slnfcC8Jl81osQ4Dksc4sxxxN85_aXBOi4pRCQuY4VFfLmZuGjXxJxj79dpZS2ynrRtj18" rel="nofollow noreferrer">Attempt This Online!</a></p>
<ul>
<li><code>&lt;permutations&gt; [ ... ] with count</code> Count permutations of the input sequence using <code>[ ... ]</code> (a predicate quotation/lambda).</li>
<li><code>[ &lt; ] monotonic-split</code> Split into increasing subsequences.</li>
<li><code>longest length</code> Get the length of the longest one.</li>
<li><code>=</code> Is this equal to the numeric input?</li>
</ul>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>L</code>, 12 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>DlṗæƑœØ^ḷG¹=
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPURsJUUxJUI5JTk3JUMzJUE2JUM2JTkxJUM1JTkzJUMzJTk4JTVFJUUxJUI4JUI3RyVDMiVCOSUzRCZmb290ZXI9JmlucHV0PSU1QjElMkMlMjAyJTJDJTIwMyUyQyUyMDQlMkMlMjA1JTVEJTBBMiZmbGFncz1M" rel="nofollow noreferrer">Try it online!</a>
or <a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSVDNSVCQyVDNCVCMVgmY29kZT1EbCVFMSVCOSU5NyVDMyVBNiVDNiU5MSVDNSU5MyVDMyU5OCU1RSVFMSVCOCVCN0d4JTNEJmZvb3Rlcj0lM0JsJmlucHV0PSU1QjElMkMlMjAyJTJDJTIwMyUyQyUyMDQlMkMlMjA1JTVEJTIwJTNEJTNFJTIwMSUyQyUyMDY5JTJDJTIwNDElMkMlMjA4JTJDJTIwMSUwQSU1QjElMkMlMjAyJTJDJTIwMiUyQyUyMDMlMkMlMjAzJTJDJTIwNCUyQyUyMDUlNUQlMjAlM0QlM0UlMjA0JTJDJTIwMjYxMiUyQyUyMDIwNjQlMkMlMjAzMzYlMkMlMjAyNCUyQyUyMDAlMkMlMjAwJTBBJTVCMSUyQyUyMDElMkMlMjAxJTJDJTIwMSUyQyUyMDElMkMlMjAxJTJDJTIwMSU1RCUyMCUzRCUzRSUyMDUwNDAlMkMlMjAwJTJDJTIwMCUyQyUyMDAlMkMlMjAwJTJDJTIwMCUyQyUyMDAlMEElNUIxJTJDJTIwMiUyQyUyMDMlMkMlMjAxJTJDJTIwMiUyQyUyMDMlMkMlMjA0JTVEJTIwJTNEJTNFJTIwOCUyQyUyMDI5NzYlMkMlMjAxODY0JTJDJTIwMTkyJTJDJTIwMCUyQyUyMDAlMkMlMjAwJmZsYWdzPUM=" rel="nofollow noreferrer">verify all test cases</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>DlṗæƑœØ^ḷG¹=  # Implicit input
Dlṗ           # All permutations of the first input
   æ          # Filtered by:
    Ƒ         #  All sublists of this list
     œØ^      #  Only keep strictly ascending ones
        ḷG    #  Get the maximum length
          ¹=  #  Equals the second input?
              # Implicit output of length
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/264166/">264166</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




