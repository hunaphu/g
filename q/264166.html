<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::264166</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>066</td><td>Ruby</td><td>230814T183047Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264169#264169">Value In</a></td></tr>
<tr d-ix="1"><td>048</td><td>sclin</td><td>230820T064710Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264396#264396">Mama Fun</a></td></tr>
<tr d-ix="2"><td>131</td><td>Perl 5</td><td>230819T234348Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264392#264392">Kjetil S</a></td></tr>
<tr d-ix="3"><td>189</td><td>Desmos</td><td>230816T223418Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264277#264277">Aiden Ch</a></td></tr>
<tr d-ix="4"><td>6257</td><td>Wolfram Language Mathematica</td><td>230815T004922Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264179#264179">138 Aspe</a></td></tr>
<tr d-ix="5"><td>010</td><td>Thunno 2 L</td><td>230814T185901Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264171#264171">The Thon</a></td></tr>
<tr d-ix="6"><td>010</td><td>05AB1E</td><td>230815T080431Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264191#264191">Kevin Cr</a></td></tr>
<tr d-ix="7"><td>045</td><td>Charcoal</td><td>230815T072256Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264188#264188">Neil</a></td></tr>
<tr d-ix="8"><td>126</td><td>Python</td><td>230814T183029Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264168#264168">bsoelch</a></td></tr>
<tr d-ix="9"><td>010</td><td>Nekomata + n</td><td>230815T013557Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264181#264181">alephalp</a></td></tr>
<tr d-ix="10"><td>8875</td><td>Vyxal l</td><td>230815T001411Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264177#264177">lyxal</a></td></tr>
<tr d-ix="11"><td>009</td><td>Husk</td><td>230814T214249Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264175#264175">Dominic </a></td></tr>
<tr d-ix="12"><td>087</td><td>JavaScript ES6</td><td>230814T184116Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264170#264170">Arnauld</a></td></tr>
<tr d-ix="13"><td>100</td><td>Arturo</td><td>230814T215351Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264176#264176">chunes</a></td></tr>
<tr d-ix="14"><td>013</td><td>Jelly</td><td>230814T195711Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264173#264173">caird co</a></td></tr>
<tr d-ix="15"><td>013</td><td>Jelly</td><td>230814T195750Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264174#264174">Jonathan</a></td></tr>
<tr d-ix="16"><td>072</td><td>Factor + math.combinatorics</td><td>230814T190931Z</td><td><a href="https://codegolf.stackexchange.com/questions/264166/count-n-rich-permutations-of-an-integer-sequence/264172#264172">chunes</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>85</s> <s>79</s> <s>77</s> 66 bytes</h1>
<p>Misread the prompt at first and was returning the permutations themselves instead of the amount, whoops.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a,n{a.permutation.count{_1.chunk_while(&amp;:&lt;).map(&amp;:size).max==n}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XY9fToQwEMbfOcVkYwybdBsKuwjG8uA1dIMVi0tkuw0U_xFO4ssm6mk8wd7GKcXV2EzSL53f98307aPpbl_27yW__uxMuUgOl4tMENULqmWz7Yww1U7RYtcp0-eMFptOPeRPm6qW_un5xZxuhUbRVq_S6mfO1TBMSTcjBvfStB4IIoHDSU5bXVfGn_FsNpp7-ShqyNngQYOAzygV9CdO9yUtRF37giAyR0ZDQ6DhXHpS3bk5-8PXFSMQEogILAms1uAOz8A24hSf8U4IsLU3oY4-GiyKKoyZ7QUx6iiKUaIIsJzvfznfKlgGjvpbx0nRyE7bOQduEqZnGM8SO4ml4a_N_ekb" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a,n{                            # Lambda definition
  a.permutation                   # Permutations
   .count{                        # Count instances that match the condition
          _1.chunk_while(&amp;:&lt;)     #  Contiguous strictly-increasing groups
            .map(&amp;:size)          #  Size of each group
            .max==n}              #  Match if max == N
}                                 # End lambda
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/molarmanful/sclin" rel="nofollow noreferrer">sclin</a>, 48 bytes</h1>
<pre><code>perm&quot;;&quot;map = +/
2%`&quot;,_ &lt;&quot;map&quot;=&quot;pack0&quot;+/ |&quot;fold1+
</code></pre>
<p><a href="https://replit.com/@molarmanful/try-sclin" rel="nofollow noreferrer">Try it here!</a> Takes number first, then sequence.</p>
<p>For testing purposes:</p>
<pre><code>3 [1 2 3 4 5] ;
perm&quot;;&quot;map = +/
2%`&quot;,_ &lt;&quot;map&quot;=&quot;pack0&quot;+/ |&quot;fold1+
</code></pre>
<h2>Explanation</h2>
<p>Prettified code:</p>
<pre><code>perm \; map = +/
2%` ( ,_ &lt; ) map \= pack 0 ( +/ | ) fold 1+
</code></pre>
<p>Assuming number <em>n</em> and sequence <em>s</em>.</p>
<ul>
<li><code>perm \; map</code> map over each permutation of <em>s</em>...
<ul>
<li><code>2%` ( ,_ &lt; ) map</code> pairwise map with &quot;less than&quot; to get booleans indicating increases</li>
<li><code>\= pack</code> group consecutive runs of booleans</li>
<li><code> 0 ( +/ | ) fold 1+</code> get maximum sum + 1
<ul>
<li>sum implicitly converts true to 1 and false to 0</li>
</ul>
</li>
</ul>
</li>
<li><code>= +/</code> vectorized equals to <em>n</em>, sum
<ul>
<li>i.e. count occurrences of <em>n</em></li>
</ul>
</li>
</ul>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 131 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>sub{($r,%s)=pop;$&quot;=&quot;,&quot;;0+grep{my($l,$f,$m);$m+=($l=$_&gt;$f?$l+1:1)&gt;$m,$f=$_ for@_[/./g];$m==$r}grep!/(.).*\1/,glob&quot;{@{[0..$#_]}}&quot;x@_}
</code></pre>
<p><a href="https://tio.run/##nZHRbpswFIavx1P8c90FGo/gpGFNkFPuJzU3vUsj1LQmRQNMCdk6MZ49OyZVm/VyliWOv3O@HwsqXefTA0/VYbfftC6vxfnOU5WpIs4UEywKhttaV23x2@W54KnghRfxYqjoqHiy4Ok1z4dyLr0FL6hPDKmp42Q18kfbNY0qxevOZnweub7nX9zJkdjmZsPauF0Fvs/PknXXsZc46Q6Rw/8oGTmU4DorACspMBaYCFwKTNc4LrUA8XBGlJ5XAhL/rLU4lY/@WwTJVIxDaVtBSPVkElJJRUD7g0za@xV6mV43nn0jQ15ZWc7GR9G6p/LH3cvT4DJ4Gz/xXq@Ns19ZnqPJCm32DUyJ22wp8GCKQpd0Jna/MT818qzUaAzqfYnmKdv1wPFax@bYf5WVlYj1S@WpmCfRK0a8NY0q7it84akb90M88ez3830Ew578x3BVZ2WTsvOv4Q4gum/m6NvUozvoh0Y/EqGSAKXO@@y7kgnnE7OYQT@DWchwjYH5McAcg5vlLZbfB5HTHf4C" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, 189 bytes</h1>
<pre><code>f(L,n)=∑_{k=0}^{l^l-1}0^{(I.unique.length-l)^2+([S.length0^{0^{max(0,S[2...]-S)}.total}forb=[1...l],d=[0...l]].max-n)^2}
l=L.length
I=mod(floor(kl/l^{[1...l]}),l)+1
S=L[I][b...min(l,b+d)]
</code></pre>
<p><a href="https://www.desmos.com/calculator/b3vvd7mewq" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p><a href="https://www.desmos.com/calculator/ww0mszmxi4" rel="nofollow noreferrer">Try It On Desmos! - Prettified</a></p>
<p>Probably some of the most horrendous and inefficient Desmos code I have ever written, but at least it gets the job done (disregarding runtime lmao). It is so inefficient that I don't think it can even run a list of length 7 any time soon.</p>
<p>I might write a longer explanation later, but the gist of it is that I iterate through all base-<span class="math-container">\$l\$</span> numbers of length <span class="math-container">\$l\$</span> where <span class="math-container">\$l\$</span> is the length of the input list <span class="math-container">\$L\$</span>, then check if the resulting digits form a valid permutation of <span class="math-container">\$0,\ldots,l-1\$</span>, then add <span class="math-container">\$1\$</span> to the digits because of 1-indexing. This digit list is then used to permute <span class="math-container">\$L\$</span>. Then for each permutation I check for the &quot;richness&quot; by further iterating through all sublists of the permutation. Finally with that, I can count the number of permutations that are &quot;<span class="math-container">\$n\$</span>-rich&quot;.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <del>62</del> 57 bytes</h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/264172/110802">@chunes's Factor code</a> in Mathematica.</p>
<p>Saved 5 bytes thanks to the comment of <a href="https://codegolf.stackexchange.com/users/67961/zamoc">@ZaMoC</a></p>
<hr />
<p>Golfed version. <a href="https://tio.run/##TY/BSsRAEETv@xUFgUWXgWDU0xpYEDwpLHgMQcaxkwwknTjdswbEb4@zOeVQhy6qX3cNVjsarHpnl5sDXnxQUbxPvVd41hFCFwq2T4MLZMVzCzeykIvqLwSJn0LfkdiRGCQWo/H8BZvkxsh69TBRGKKmK2kTPx0FWu1@5JZEt@wND50V9MStdihwuN015fJ8RVbnDe6UmfkjP77ZuXpds/lp/b6aTfaUFfu6Lsui3i8TSvzeGRQG9wYPBo9/x11TTTXy/BxS1eUf" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-mathematica prettyprint-override"><code>Count[Permutations@#,x_/;Max[Length/@Split[x,#&lt;#2&amp;]]==2]&amp;
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##dZBPS8QwEMXv/RQPFkSXQNmqF9eCoCiCwoLHUpZYp20gnazNFAXxs9ck/hc85JB5L7/3MoOWngYtptHzvL/EBbWGCe3EjRjHEAe/s0ag4elxIm4IhsPUcDOS9oY7@On@U/NYHmR38cH1l15Z42Vb46REUtJdYbHCKRYF9up1loXkK2IatRC0tdjROEyiYwUP1yKU/M4PEVH3KLH54ateVgqFwqHCkcLx6wf30vADdDiNm1gS6Rf9qaeR0tg67sjLP19Drz0scSc9itjhPPKq1EQl5Bb5Grf6ubp5d@Vn@LuKaKtrlCWKGnm@GcMu5/kN" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-mathematica prettyprint-override"><code>(* Define function to split a sequence into increasing subsequences *)
SplitIncreasing[list_] := Split[list, #1 &lt; #2 &amp;];

(* Generate all permutations of the sequence *)
perms = Permutations[{1, 2, 3, 4, 5}];

(* Find and count the permutations where the longest increasing subsequence has length 2 *)
Count[perms, perm_ /; Max[Length /@ SplitIncreasing[perm]] == 2] //Print
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>L</code>, 10 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>qæƑœØ^ḷG¹=
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPXElQzMlQTYlQzYlOTElQzUlOTMlQzMlOTglNUUlRTElQjglQjdHJUMyJUI5JTNEJmZvb3Rlcj0maW5wdXQ9JTVCMSUyQyUyMDIlMkMlMjAzJTJDJTIwNCUyQyUyMDUlNUQlMEEyJmZsYWdzPUw=" rel="nofollow noreferrer">Try it online!</a>
or <a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSVDNSVCQyVDNCVCMVgmY29kZT1xJUMzJUE2JUM2JTkxJUM1JTkzJUMzJTk4JTVFJUUxJUI4JUI3R3glM0QmZm9vdGVyPSUzQmwmaW5wdXQ9JTVCMSUyQyUyMDIlMkMlMjAzJTJDJTIwNCUyQyUyMDUlNUQlMjAlM0QlM0UlMjAxJTJDJTIwNjklMkMlMjA0MSUyQyUyMDglMkMlMjAxJTBBJTVCMSUyQyUyMDIlMkMlMjAyJTJDJTIwMyUyQyUyMDMlMkMlMjA0JTJDJTIwNSU1RCUyMCUzRCUzRSUyMDQlMkMlMjAyNjEyJTJDJTIwMjA2NCUyQyUyMDMzNiUyQyUyMDI0JTJDJTIwMCUyQyUyMDAlMEElNUIxJTJDJTIwMSUyQyUyMDElMkMlMjAxJTJDJTIwMSUyQyUyMDElMkMlMjAxJTVEJTIwJTNEJTNFJTIwNTA0MCUyQyUyMDAlMkMlMjAwJTJDJTIwMCUyQyUyMDAlMkMlMjAwJTJDJTIwMCUwQSU1QjElMkMlMjAyJTJDJTIwMyUyQyUyMDElMkMlMjAyJTJDJTIwMyUyQyUyMDQlNUQlMjAlM0QlM0UlMjA4JTJDJTIwMjk3NiUyQyUyMDE4NjQlMkMlMjAxOTIlMkMlMjAwJTJDJTIwMCUyQyUyMDAmZmxhZ3M9Qw==" rel="nofollow noreferrer">verify all test cases</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>qæƑœØ^ḷG¹=  # Implicit input
q           # All permutations of the first input
 æ          # Filtered by:
  Ƒ         #  All sublists of this list
   œØ^      #  Only keep strictly ascending ones
      ḷG    #  Get the maximum length
        ¹=  #  Equals the second input?
            # Implicit output of length
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 10 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>œʒü‹γOà-}g
</code></pre>
<p><a href="https://tio.run/##ASgA1/9vc2FiaWX//8WTypLDvOKAuc6zT8OgLX1n//9bMSwyLDMsNCw1XQoz" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9WeWjlkcayQ@vslRQS81IUlOwrgaxHbZNArNBD6/4fnXxq0uE9jxp2ntvsf3hBRLFubfp/nf/R0YY6RjrGOiY6prE6YDaIh@AjQai8sQ5UR2wsAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>œ         # Push all permutations of the first (implicit) input-list
 ʒ        # Filter it by:
  ü       #  For each overlapping pair:
   ‹      #   Check whether the first is smaller than the second
    γ     #  Group the 0s and 1s into adjacent equal groups
     O    #  Sum each inner group
      à   #  Pop and push the maximum
       -  #  Subtract it from the second (implicit) input-integer
          #  (only 1 is truthy in 05AB1E)
 }g       # After the filter: pop and push the length
          # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 45 bytes</h1>
<pre><code>⊞υ⟦⟧Ｆθ≔ΣＥυＥ⁻Ｅθνκ⁺κ⟦μ⟧υＩ№ＥυＬ⌈⪪⭆Φιμ‹§θλ§θ§ιμ0⊖η
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TU9LasMwEN33FINXI1CgXyhkFVoKhQYMXhotXEexRSQ50Ugld-kmi5b2DL1JL9BzdKSkUDGS3nvz9Aa9fvZjF_qps4fDe4rr2e33T51oxCShVWJ-tp4C4E7AgsgMHpvkcNltcztfS-MTFWEnwQsJG961ZW3D750SvCQkzqmD8RHvOuJjSgxPKU_aD3FktjeOs5utNRGbyO4hOx6MjTqgkeBENhPhIj76ld7niZa1f_QPFneZXJ1XR3Cv-6Cd9lGvcMzS_I2eezr9-aOtZi-2Ul9teyHhstRVqWsJN4q5Ohp_AQ" rel="nofollow noreferrer">Attempt This Online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>⊞υ⟦⟧Ｆθ≔ΣＥυＥ⁻Ｅθνκ⁺κ⟦μ⟧υ
</code></pre>
<p>Generate all of the permutations from <code>0</code> to <code>L-1</code>. This is based on my answer to <a href="https://codegolf.stackexchange.com/q/254768/">1 to N column and row sums</a> but uses the indices of the input rather than an explicit range.</p>
<pre><code>Ｉ№ＥυＬ⌈⪪⭆Φιμ‹§θλ§θ§ιμ0⊖η
</code></pre>
<p>For each permutation, create a binary string representing strictly increasing consecutive values of the input array, then split that string on <code>0</code>s and take the length of the longest resulting contiguous substring of <code>1</code>s. Count the number for which that is <code>N-1</code>.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 126 bytes</h1>
<p><em>-19 bytes thanks to @ValueInk and @TheThonnu</em></p>
<p><em>+2 bytes, index was off by one</em></p>
<pre class="lang-python prettyprint-override"><code>lambda l,i:sum(i==1+max(sum(b)for(_,b)in groupby(a&gt;b for(a,b)in zip(p[1:],p)))for p in permutations(l))
from itertools import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XVBBasMwEKRXv2LJSWo2YNmJmwScj6ShyImdiFqWUGRoeuhHejGU9k_ta7qKCk0CC7szmtlZ9P5lT_5guuGjKR8_e99M5t9vrdTVTkKLannsNVNlKcZavrAAKt4Yx56w4qqDvTO9rU5MrioItIz0q7LMrsVyg5bzoAcLRNva6d5Lr0x3ZC3nSeOMBuVr541pj6C0Nc7fxyt-7opd3cD2UG-fWYuaLxMIGaAg7HKy29dMYFt3tGoszs9gneo8qRWOoFzBCFkTEC9LvVYTseHEjzByPEni8rVAyBByhCnCbIMBFwtC1OcI5LoWRu2_nFpWiPCQFjTneUEjDSnVlfe2yDtLp2lUXtZtYn7W_91ILroqWzxQjJiHRLHILqzx-4Yh9l8" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a> + <code>-n</code>, 10 bytes</h1>
<pre><code>↕∆±ĉᵐ∑çṀ→=
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpJunlLsgqWlJWm6FjsftU191NF2aOORzodbJzzqmHh4-cOdDY_aJtkuKU5KLoaqWnCLcX-0oY6RjrGOiY5prIIhFzLPCIVnjMIzQeGZQnggPqpJSCJGGCLGGCImGCKYJpthiJiDRJAg1HYUESMMEWMMERMMEVMMETMMEXNYSEDDAykU4SJGGCLGGCImGCKmGCJmGCLmkIgEAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>↕∆±ĉᵐ∑çṀ→=
↕           Find a permutation of the first input
 ∆          Delta
  ±         Sign
   ĉ        Split into runs of equal elements
    ᵐ∑      Sum each run
      ç     Prepend 0 to handle the case with no nonnegative runs
       Ṁ    Maximum
        →   Increment
         =  Check if equal to the second input
</code></pre>
<p><code>-n</code> counts the number of solutions.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>l</code>, 71 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 8.875 bytes</h1>
<pre><code>Ṗ'ÞS~Þ⇧@G⁰=
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyJsPUIiLCIiLCLhuZYnw55TfsOe4oenQEfigbA9IiwiIiwiWzEsIDEsIDEsIDEsIDEsIDEsIDFdXG4yIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<h2>Explained</h2>
<pre><code>Ṗ'ÞS~Þ⇧@G⁰=­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏‏​⁡⁠⁡‌⁢⁢​‎‏​⁢⁠⁡‌­
Ṗ'           # ‎⁡Filter permutations where:
  ÞS         # ‎⁢  All sublists
    ~Þ⇧      # ‎⁣  that are strictly increasing
       @G    # ‎⁤  has maximum sublist length
         ⁰=  # ‎⁢⁡  equals N
# ‎⁢⁢The l flag gets the length of all the permutations.
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="noreferrer">Husk</a>, 9 bytes</h1>
<pre><code>#mȯ▲mLġ&gt;P
</code></pre>
<p><a href="https://tio.run/##yygtzv7/Xzn3xPpH0zbl@hxZaBfw////aEMdIx1jHRMd09j/RgA" rel="noreferrer" title="Husk – Try It Online">Try it online!</a> or <a href="https://tio.run/##yygtzv6fm/CoqfG/cu6J9Y@mbcr1ObLQLuD///9G/6OjDXWMdIx1THRMY3XAbBAPwUeCUHljHaiO2FgA" rel="noreferrer">Try the test lists with N=2</a></p>
<pre><code>#mȯ▲mLġ&gt;P
        P  # get all permutations of arg1
 m         # map over each permutation:
  ȯ        #   these 3 composed functions:
      ġ&gt;   #   - group by pairwise greater-than
    mL     #   - get the length of each group
   ▲       #   - maximum
#          # how many times is arg2 present?
</code></pre>
</div>
<div id="pu12" class="pu"><h1>JavaScript (ES6), 87 bytes</h1>
<p>Expects <code>(n)(array)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;g=(a,s,m,p)=&gt;a.map((v,i)=&gt;t+=g(a.filter(_=&gt;i--),q=v&gt;p?s+1:1,q&lt;m?m:q,v),t=0)+a?t:m==n
</code></pre>
<p><a href="https://tio.run/##XVBdb4MwDHzvr/BjIgwl0LJCa3jar6hQFTHoMgHhS/x9Zsoktlkn5RzfySd/6VmPxWC6yW3tR7lUtLSUPkloHLHBTlKqvUZ3QsxouJkcegrtVaaeykE8KDWuK7GnOe2y0VGJwv7WZE3S4yxxIl86OpuShqhdrvcDwF0hBAghwgnhnCNsdTwCD6KYv/m9IKhdu8l3B2uZBZFaZ37EPAwjpkx8xo/xPzbj2T/5m@w3/uTaA@avXBwmiN94gbqsu1Qc7L784FV2eNfFp9BAKRS2HW1derVdj/Q62wPByHVWCQMOKCm05Fq@AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>n =&gt;                 // outer function taking n
g = (                // inner recursive function g taking:
  a,                 //   a[] = input array
  s,                 //   s = size of the strictly increasing sequence
  m,                 //   m = maximum size so far
  p                  //   p = previous value from the permutation
) =&gt;                 //
a.map((v, i) =&gt;      // for each value v at index i in a[]:
  t +=               //   add to t the result of ...
    g(               //     ... a recursive call to g:
      a.filter(_ =&gt;  //       remove from a[]:
        i--          //         the i-th element
      ),             //
      q =            //       q = new value of s, defined as follows:
        v &gt; p ?      //         if v is greater than p:
          s + 1      //           increment s
        :            //         else:
          1,         //           reset to 1
      q &lt; m ? m : q, //       m = max(m, q)
      v              //       pass v as the previous value
    ),               //     end of recursive call
  t = 0              //   start with t = 0
)                    // end of map()
+ a ?                // if a[] is empty:
  t                  //   return t
:                    // else:
  m == n             //   return 1 if the maximum size is n
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 100 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$=&gt;[n:&amp;enumerate permutate&amp;'x[i:0n=1+??max
map select chunk chop x'y['i+1y&lt;x\[i]]=&gt;sorted?=&gt;size 0]]
</code></pre>
<p><a href="http://arturo-lang.io/playground?WvI33K" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>$=&gt;[                        ; a function where successive inputs are assigned to &amp;
    n:&amp;                     ; assign first input (number) to n
    enumerate permutate&amp;'x[ ; count each permutation x of input seq
        i:0                 ; assign 0 to i
        n=1+                ; does n equal 1 plus
        ?? ... 0            ; if ... is null, evaluate to 0, else to ...
        max                 ; maximum value of
        map...=&gt;size        ; lengths of
        select...=&gt;sorted?  ; sorted blocks of
        chunk chop x'y[     ; split x-sans-last-elt into contiguous blocks by...
            '1+1            ; increment i in place
            y&lt;x\[i]         ; is y less than x[i]? (is it increasing?)
        ]                   ; end chunk
    ]                       ; end enumerate
]                           ; end function
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 13 bytes</h1>
<pre><code>Œ!ẆIRẠƊƇẈṀƲ€ċ
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///oJMWHu9o8gx7uWnCs61j7w10dD3c2HNv0qGnNke7/h5cD6cj/XP@jDXWMdIx1THRMY3UUgBwFIzAyBiMTHQWYMDpCqDYGC0AYJrH/jQA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>-1 byte thanks to <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">Jonathan Allan</a>!</p>
<p>Footer runs each sequence test case over a provided <span class="math-container">\$N\$</span></p>
<h1><a href="https://github.com/cairdcoinheringaahing/jellylanguage" rel="nofollow noreferrer">Jelly (fork)</a>, 10 bytes</h1>
<pre><code>Ẇ&lt;ɲƇẈṀƲÐ!ċ
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///hrjabk5uOtT/c1fFwZ8OxTYcnKB7p/n94@aOmNZH/uf5HG@oY6RjrmOiYxuooADkKRmBkDEYmOgowYXSEUG0MFoAwTGL/GwEA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a> (or, rather, don't as it isn't implemented on TIO)</p>
<h2>How they work</h2>
<pre><code>Œ!ẆIRẠƊƇẈṀƲ€ċ - Main link. Takes S on the left, N on the right
Œ!            - All permutations of S
          Ʋ€  - Over each permutation P:
  Ẇ           -   All contiguous sublists
      ƊƇ      -   Filter sublists on:
   I          -     Increments
     Ạ        -     all
    R         -     have a non-zero range
        Ẉ     -   Lengths
         Ṁ    -   Maximum
            ċ - Count N
</code></pre>
<p>
<pre><code>Ẇ&lt;ɲƇẈṀƲÐ!ċ - Main link. Takes S on the left and N on the right
      ƲÐ!  - Over the permutations of S:
Ẇ          -   Contiguous sublists
   Ƈ       -   Keep those such that:
  ɲ        -     All neighbours are:
 &lt;         -       In ascending order
    ẈṀ     -   Maximum length
         ċ - Count N
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 13 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Œ!Ẇ&lt;ƝẠ$ƇṪLƲ€ċ
</code></pre>
<p>A dyadic Link that accepts the list of elements, <span class="math-container">\$L\$</span>, on the left and the number, <span class="math-container">\$n\$</span>, on the right and yields the count of <span class="math-container">\$n\$</span>-rich permutations of <span class="math-container">\$L\$</span>.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///oJMWHu9psjs19uGuByrH2hztX@Rzb9KhpzZHu////RxvqKBiBkTEYmegomMb@NwUA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<p>Or see the <a href="https://tio.run/##y0rNyan8///oJMWHu9psjs19uGuByrH2hztX@Rzb9Khpzf/D7Ue6H21c56X5/390tKGOgpGOgrGOgomOgmmsDpcCVAQiiCaOjpDUG4NFoEYBxWMB" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a> (count, <code>ċ</code>, has been moved out to the footer to make it more efficient, and so finish within the TIO timeout).</p>
<h3>How?</h3>
<pre><code>Œ!Ẇ&lt;ƝẠ$ƇṪLƲ€ċ - Link: L, n
Œ!            - all permutations of {L}
           €  - for each:
          Ʋ   -   last four links as a monad:
  Ẇ           -     sublists (from shortest to longest)
       Ƈ      -     filter keep those for which:
      $       -       last two links as a monad:
    Ɲ         -         for neighbouring pairs:
   &lt;          -           less than?
     Ạ        -         all?
        Ṫ     -     tail
         L    -     length
            ċ - count occurrences of {n}
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://factorcode.org" rel="nofollow noreferrer">Factor</a> + <code>math.combinatorics</code>, <s>83</s> 72 bytes</h1>
<pre><code>[ &lt;permutations&gt; [ [ &lt; ] monotonic-split longest length = ] with count ]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=PU67CsJAEOzzFfMDCRgVxFerNjZiJRbnsYmHl714t0FE_BKbNOaf_BsPA7LF7MwuM_PqCqXF-fZz2u8229UUlZJzpl11MqziwejwkxBqa0QMl1nl2IljoxHo2hBrCqg9idxrb1hwIc9kMUuSHA8MkGOIEcZ4vhsp0slnfcC8Jl81osQ4Dksc4sxxxN85_aXBOi4pRCQuY4VFfLmZuGjXxJxj79dpZS2ynrRtj18" rel="nofollow noreferrer">Attempt This Online!</a></p>
<ul>
<li><code>&lt;permutations&gt; [ ... ] with count</code> Count permutations of the input sequence using <code>[ ... ]</code> (a predicate quotation/lambda).</li>
<li><code>[ &lt; ] monotonic-split</code> Split into increasing subsequences.</li>
<li><code>longest length</code> Get the length of the longest one.</li>
<li><code>=</code> Is this equal to the numeric input?</li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/264166/">264166</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




