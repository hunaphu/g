<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::277482</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>136</td><td>C++ clang</td><td>250110T204329Z</td><td><a href="https://codegolf.stackexchange.com/questions/277482/where-is-it-midnight/277576#277576">jdt</a></td></tr>
<tr d-ix="1"><td>178</td><td>Go + zgo.at/tz</td><td>250110T170230Z</td><td><a href="https://codegolf.stackexchange.com/questions/277482/where-is-it-midnight/277572#277572">bigyihsu</a></td></tr>
<tr d-ix="2"><td>113</td><td>C#</td><td>250102T191332Z</td><td><a href="https://codegolf.stackexchange.com/questions/277482/where-is-it-midnight/277491#277491">Ezlandin</a></td></tr>
<tr d-ix="3"><td>091</td><td>Bash</td><td>250102T130218Z</td><td><a href="https://codegolf.stackexchange.com/questions/277482/where-is-it-midnight/277485#277485">Themooni</a></td></tr>
<tr d-ix="4"><td>085</td><td>Bash</td><td>250106T185755Z</td><td><a href="https://codegolf.stackexchange.com/questions/277482/where-is-it-midnight/277536#277536">AlexJ</a></td></tr>
<tr d-ix="5"><td>115</td><td>Charcoal</td><td>250106T110637Z</td><td><a href="https://codegolf.stackexchange.com/questions/277482/where-is-it-midnight/277533#277533">Neil</a></td></tr>
<tr d-ix="6"><td>104</td><td>JavaScript Node.js</td><td>250102T110253Z</td><td><a href="https://codegolf.stackexchange.com/questions/277482/where-is-it-midnight/277484#277484">Arnauld</a></td></tr>
<tr d-ix="7"><td>159</td><td>Wolfram Language Mathematica</td><td>250102T134039Z</td><td><a href="https://codegolf.stackexchange.com/questions/277482/where-is-it-midnight/277487#277487">Introduc</a></td></tr>
<tr d-ix="8"><td>085</td><td>R</td><td>250103T093836Z</td><td><a href="https://codegolf.stackexchange.com/questions/277482/where-is-it-midnight/277500#277500">pajonk</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://clang.llvm.org/" rel="nofollow noreferrer">C++ (clang)</a>, <s>222</s> <s>220</s> 136 bytes</h1>

<pre class="lang-cpp prettyprint-override"><code>#import&lt;bits/stdc++.h&gt;
#define f(t,o)for(auto&amp;z:std::chrono::get_tzdb().zones)o=std::format(&quot;{:%H:%M}&quot;,z.to_local(t))&gt;&quot;00:00&quot;?o:z.name()
</code></pre>
<p><a href="https://godbolt.org/z/sK9oM8T8G" rel="nofollow noreferrer">Try in godbolt</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a> + <a href="https://pkg.go.dev/zgo.at/tz" rel="nofollow noreferrer"><code>zgo.at/tz</code></a>, 178 bytes</h1>
<pre class="lang-go prettyprint-override"><code>import(.&quot;time&quot;;T&quot;zgo.at/tz&quot;)
func f(t Time)string{for _,z:=range T.Zones{Z:=z.Zone
l,e:=LoadLocation(Z)
if e!=nil{continue}
h,m,s:=t.In(l).Clock()
if h+m+s&lt;1{return Z}}
return&quot;&quot;}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=PZDRasIwFIavzVNkASHBrEt1isvWK68EGcK6izmGhJrWYptIe0Sw9El2I4O9wO72KHuYwVKru8rHOf_J-c___pHY4_dWRRuVaJyr1CCU5ltbAIlzIJ87iK_HP19tiXoE0lyT-5AcEuspuIEDYSjemQjHFHDomqyEIjVJFdsCL_lBBoUy7ufQW1ijy2ohg8MJUca1DGZWrWY2UpBaQxcMpTHWV4FJsyqyBlKz0zVa85yXMgBvamjGvElmow09Sde9vFc--FWhYVcYvKhr1CIh9dn578lccxdluEJQYhng17ezSUTESA5HhDu4k0I04Pcv4F9gIActjKU_PInFuSUuGnGZEsMWatQmAM3CNgO3vEIdY_d82RTnqij11PyfT_pCjLDv5m8Jxy5972nrXEJMSXeFuyXhj3ZPmfeiVUEZB8bxczhhqNNI540yMxTcJHUrGHMOziEcj-37Bw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<ul>
<li>Expects a Go <code>time.Time</code> as input. The current year must be set in the input.</li>
<li>Outputs an arbitrary full time zone name within the offset. Returns an empty string as falsey.</li>
</ul>
<p>The <code>zgo.at/tz</code> package provides a <code>tz.Zones</code> slice which has many time zone names. The solution loops through each zone, constructs a <code>Location</code>, and gets the input time in that <code>Location</code>. If it is midnight there, it returns early with the zone name.</p>
<p>20 bytes are wasted on an error check because there's a single zone name in the library that Go doesn't know about.</p>
<p>Some things I've learned:</p>
<ul>
<li>Go has no way in the standard library of accessing names of time zones, hence the use of a 3rd-party library. The other alternative is manually parsing the local time zone files, which would be extremely costly.</li>
<li>If you do <code>time.Parse</code>, you need to include the year; otherwise <a href="https://github.com/golang/go/issues/34101" rel="nofollow noreferrer">it defaults to year 0000</a>, leading to non-hour/15-minute time zone offsets.</li>
</ul>
</div>
<div id="pu2" class="pu"><h1>C#, <strike>135</strike> <strike>131</strike> <strike>130</strike> <strike>120</strike> 113 bytes</h1>
<p>-4 bytes, alias System.TimeZoneInfo to 'Z' instead of returning a string</p>
<p>-1 byte thanks to @jdt, use 'dynamic' instead of 'DateTime' as the type of 't'</p>
<p>-10 bytes thanks to @Themoonisacheese, check Ticks &lt; 1 rather than Ticks == 0, use Linq 'Last' instead of 'Where' and 'First'</p>
<p>-7 bytes from @jdt, use 'ConvertTime' instead of 'ConvertTimeFromUtc'</p>
<pre class="lang-cs prettyprint-override"><code>using Z=System.TimeZoneInfo;Z F(dynamic t)=&gt;Z.GetSystemTimeZones().Last(x=&gt;Z.ConvertTime(t,x).TimeOfDay.Ticks&lt;1);
</code></pre>
<p><a href="https://dotnetfiddle.net/vauHn0" rel="nofollow noreferrer">Try it online!</a></p>
<h2>Explanation</h2>
<pre class="lang-cs prettyprint-override"><code>using Z = System.TimeZoneInfo;                               // Alias TimeZoneInfo as 'Z' to save space

Z F(dynamic t)
{
    return Z.GetSystemTimeZones()                            // Get all time zones
        .Last(x =&gt; Z.ConvertTime(t, x).TimeOfDay.Ticks &lt; 1); // Find the last time zone where the time is midnight when converted into time zone x
}
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a>, 91 bytes</h1>
<p>-2 bytes by corvus_192 by using <code>/usr/share/zoneinfo/posix/</code> + <code>find</code></p>
<pre class="lang-bash prettyprint-override"><code>cd /*/*/z*x/*x;find * -exec sh -c &quot;env TZ={} date -d$1UTC|grep -qE [0:]{8}&quot; \; -print -quit
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kKbE4Y8GSNA1NjaWlJWm6Fjejk1MU9LWAsEqrQl-rwjotMy9FQUtBN7UiNVmhOENBN1lBKTWvTCEkyra6ViElsSRVQTdFxTA0xLkmvSi1QEG30FUh2sAqttqiVkkhxlpBt6AoM68EKFyaWQK1Il-TKzU5I1_BwMzK1MxKISENwkqAiBoaWRkYgEXBLJioIVzUEEnU2MoYKgpiwUQtrAxNIaIgVgLE2gULIDQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Explained:</p>
<pre class="lang-bash prettyprint-override"><code>cd /*/*/z*x/*x; #in /usr/share/zoneinfo-posix/posix:
find * -exec sh -c #for every file in the tree, execute:
                   &quot;env TZ={} date -d$1UTC #construct a date in that timezone from UTC
                    |grep -qE [0:]{8}&quot;     #and check that it contains &quot;00:00:00&quot;
                    \; -print -quit        #if it does, print the filename and stop finding additional files
}
</code></pre>
<p>see also: <a href="https://codegolf.stackexchange.com/a/277536/88192">85 bytes</a> by AlexJ</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a>, 85 bytes</h1>
<p>Don't have enough rep to comment, slightly shorter Bash implementation based on Themoonisacheese. env is unnecessary and the directory can be slightly adjusted:</p>
<pre><code>cd /*/*/z*x/;find * -exec sh &quot;TZ={} date -d$1UTC|grep -qE [0:]{8}&quot; \; -print -quit
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kKbE4Y8GSNA1NjaWlJWm6FjdDk1MU9LWAsEqrQt86LTMvRUFLQTe1IjVZoThDQTdZQSkkyra6ViElsSRVQTdFxTA0xLkmvSi1QEG30FUh2sAqttqiVkkhxlpBt6AoM68EKFyaWQI1PF-TKzU5I1_BwMzK1MxKISENwkqAiBoaWRkYgEXBLJioIVzUEEnU2MoYKgpiwUQtrAxNIaIgVgLE2gULIDQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 115 bytes</h1>
<pre><code>≔↨Ｉ⪪Ｓ:⁶⁰θＦ¬﹪θ¹⁵§⪪”}∧ΠX⁴G_↙'Ｙ »oa?⦃ρi▷êC~Q_⁸a^d✂⎚~Ｘ·*Ｍ⊞◧Ｈ⁶⧴5⦃Z⌕‹[Ｍ→⁷¤)C⊞r⊘(Y=⟧t⌈G\⁼H¶℅^b²:ＩＫ←⊟MV⁻VιT'D⟧↧Ｅ↙8Y✂↙” θ¿ⅈT
</code></pre>
<p><a href="https://tio.run/##PU9Nb8IwDL3vVzzl5EhMWg9ME5xCKCUwuoowDe1W8bVKVQttmPbvOzualoNjPz8/@x2@yu7QlvUwmL6vLg3Nyv5EtuwD@WtdBXLN9R586KrmQnoENVGav@cnDjc9fTi3HShvA23a471u6TZCMtZao@CJQCa45nj6@dNS2Qb8cguYBSepl3KdCcbpq8ultimy2Fh55IUkGw@7NHMYOweyVCAsVrAfHk6YJsravegIw0nJnVSUUXB0W@HZKPv@GQV2bwzwJZhteQOPLNcRL@Iyz8uYbbxiz1DRLdutzqA9/dtTO6Wnw5C8TJLx8Phd/wI" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔↨Ｉ⪪Ｓ:⁶⁰θ
</code></pre>
<p>Convert the input into a number of minutes since midnight.</p>
<pre><code>Ｆ¬﹪θ¹⁵
</code></pre>
<p>If that's a multiple of <code>15</code>, then...</p>
<pre><code>§⪪”...” θ
</code></pre>
<p>... used that to index into a compressed look-up table of time zone abbreviations. The table is 97 entries long but cyclically indexed so for instance 360 minutes is actually found at position 69. (Note that some abbreviations are used for multiple time zones, so for instance CST is Central Standard Time, not China nor Cuba.)</p>
<pre><code>¿ⅈT
</code></pre>
<p>If a time zone was found then output its final <code>T</code>.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 104 bytes</h1>
<p><em>-1 thanks to @Shaggy</em><br />
<em>-3 thanks to @l4m2</em></p>
<p>Expects a string in <code>HH:MM</code> format. Returns either a string or <em>undefined</em>.</p>
<pre class="lang-javascript prettyprint-override"><code>h=&gt;Intl.supportedValuesOf(s=&quot;timeZone&quot;).find(t=&gt;new Date([1,h]).toLocaleTimeString(&quot;es&quot;,{[s]:t})&lt;&quot;0:01&quot;)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZdBPS8MwGAZwvHr2A4ScEty6ZLVjBLvDFNmgbINVD44dwvp2LcZkNCkTxE_iZYh-KP00RjbxT0_v5fk9D7zPr9pksHvJ47fa5e3-e1HEg7F2KrD1ZmMqB9mNVDXYaU5sjF15D7dGA6ZBXuqMuHigYYsupQOy4K1iSQNnErOSClIfnbuq1GuCweLW48IuhXui55gJxjHd730cnayMtkZBoMya5ASznoh6mFLU6aArqSwc_wvwrmDsEBiOU0SG8g4qNLZK6gx9zbbQdXrR5l3aoPyHzkZTb2eFAV0-NPQpD5s6FOG3TkZzrxNTZWhktoDmznNZ_WlgPt4s6QseHUomM98xgY1Uv1gkzqLDc3a7_f0E" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Commented</h3>

<pre class="lang-none prettyprint-override"><code>h =&gt;                    // h = input string
Intl.supportedValuesOf( // get the list of supported values for ...
  s = &quot;timeZone&quot;        //   ... &quot;timeZone&quot;
)                       //
.find(t =&gt;              // for each time zone t:
  new Date([1, h])      //   build a date from the string &quot;1,HH:MM&quot;
  .toLocaleTimeString(  //   and turn it into a time string
    &quot;es&quot;,               //   using the Spanish locale
                        //   (24-hour format without the leading 0)
    { [s]: t }          //   and the time zone t
  )                     //
  &lt; &quot;0:01&quot;              //   is it midnight there?
)                       // end of find()
</code></pre>
<h3>Alternate version (also 104 bytes)</h3>
<p>This one is internally using the Finnish format <code>HH.MM.SS</code>.</p>
<pre class="lang-javascript prettyprint-override"><code>h=&gt;Intl.supportedValuesOf(s=&quot;timeZone&quot;).find(t=&gt;new Date([1,h]).toLocaleTimeString(&quot;fi&quot;,{[s]:t})&lt;.001+s)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZdDNSsNAFAVg3Lr2AYasZmiaZhpTSjBdVJEEShtIdGHpYmhumuA4EzITKohP0k0QfSh9GiON-JPV3ZzvHLiHVyFTaF4y_63W2XD6nuf-LBSaW6ouS1lpSG8Zr0GtMqx8QxcPcCcFGMTKCpFi7c8E7NEV04DX1Mw3xNJyIbeMQ9JGY10VYoeNrDDMp7XaePqZXFi2TQeKHPc-Ts62UijJweJyhzNs2BPPnRiEoNEIXTOu4PRfgI492-4C8zBBeM7uoUKh4kyk6GvWRDfJ5ZCOSY_SHxoFq9ZGuQRRPPb0gDp97XjOt14EcasXskpRIPeAYt1yVv1psNt4v2TqUbcrWUZtxxJKxn8x1zt3u-c0zfF-Ag" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>179</s>159 bytes</h1>
<pre><code>(u=TimeZone-&gt;&quot;UTC&quot;;d=DateList@u;d[[-3;;-2]]=#;DateSelect[Cases[TimeZoneConvert[d~DateObject~u,#]&amp;/@EntityList[&quot;TimeZone&quot;],_DateObject],#Hour==0&amp;&amp;#Minute==0&amp;])&amp;
</code></pre>
<p><a href="https://tio.run/##bZBBS8NAEIXv/oohgdCWRBtFEMJKIAoKlirGi2GRbXaqq8mOZmcVkfavx@RQ6sHbzLxv3humVfyCrWJTq34t@okXpWnxkSwm58FDWQSZFheK8cY4zn2mqyo5ybLkWEoRZqNwjw3WXBXKoat2uwXZT@y40tsRWa5eB2Tr41BGR/mlZcPfo18V7PhAxk97UsbhFflOiHkUhQtjPeNYy2nUT2ZQk0bQhA4sMXTeAlkor5egHJhhgB/edIOq6cs2pLSxz/B/5iHcNjjcDe/KMQITKFjs/zH644robTY9uPMGOV/nP2kaz9PNn/4sTk83/S8" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>This code takes into account day light savings.</p>
<p>It converts a {h,m} input into a UTC DateObject as of today. It then filters a list of all timezones available with a {12,00} hour and minute component.</p>
<p>Note:</p>
<ol>
<li><p>This does not work on TIO as it requires an internet connection to download <code>EntityList[&quot;TimeZone&quot;]</code>.</p>
</li>
<li><p>There is a bug in Mathematica <code>EntityList[&quot;TimeZone&quot;]</code> producing invalid timezones. To work around this I used <code>Cases[...,_DateObject]</code> to filter out the invalid timezones. Code would be 19 bytes shorter without the bug. (I have reported the bug to Wolfram).</p>
</li>
</ol>
<p><strong>Edit</strong>:
-20 bytes thanks to inspiration from att to reduce the code to generate the <code>DateObject</code> <code>d</code></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, <s>113</s> 85 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(t,o=OlsonNames())o[format(do.call(c,Map(as.POSIXlt,o,x=Sys.Date())),&quot;%H:%M&quot;)==t][1]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bdDRSsMwFIBhvPUpQmWQsLY0qx1bocKmSIdbW2gHwtzFYU1xLG1GE3E-izdV8KH0aczsZAO9Chz-73DI61vdvBfBx5MqrMHn_AErUwQxl6KKoGQSEyIWhahLUDgX9go4xytzBlsM0k7idHLPNTB3Qfoi7RtQTANiGp3Q78wMEgRquaDLdvnX2XmBDafve32DXCDrCt0Cl-xnOPQd5zAc3aUZwiMOcgMoVVDlUOcoW5fMRPPs2hqSvaC9oxhPNBjDhtVoIrkGJzXttTk95kkY6z55FKxa7_6ILnVb4frur5iG-5OmQt8Rimf2z1Vd6ui8hQOfegcYJdpFbAv8JPX8S4-0X9I07fsN" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Works on machines with R in UTC time.</p>
<p>Abuses the fact that &quot;using <code>c</code> on <code>POSIXlt</code> objects converts them to the current time zone&quot; (from <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/DateTimeClasses.html" rel="nofollow noreferrer">documentation</a>).</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/277482/">277482</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




