<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::277735</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>072</td><td>Maple</td><td>250118T154018Z</td><td><a href="https://codegolf.stackexchange.com/questions/277735/counting-rota-baxter-words/277741#277741">dharr</a></td></tr>
<tr d-ix="1"><td>091</td><td>JavaScript ES6</td><td>250118T153211Z</td><td><a href="https://codegolf.stackexchange.com/questions/277735/counting-rota-baxter-words/277740#277740">Arnauld</a></td></tr>
<tr d-ix="2"><td>116</td><td>Python</td><td>250118T141905Z</td><td><a href="https://codegolf.stackexchange.com/questions/277735/counting-rota-baxter-words/277739#277739">Albert.L</a></td></tr>
<tr d-ix="3"><td>053</td><td>Perl 5 p</td><td>250118T064510Z</td><td><a href="https://codegolf.stackexchange.com/questions/277735/counting-rota-baxter-words/277736#277736">Xcali</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.maplesoft.com/" rel="nofollow noreferrer">Maple</a>, 72 bytes</h1>
<pre><code>n-&gt;eval(diff((2-t-2*t^2-(t+2)*sqrt(1-4*t-4*t^2))/2/(t+1)^2,t$n)/n!,t=0);
</code></pre>
<p>The expression in t is the generating function given in OEIS. Differentiating n times, dividing by n!, and evaluating at t = 0 gives the appropriate coefficient in the series.</p>
</div>
<div id="pu1" class="pu"><h1>JavaScript (ES6), 91 bytes</h1>
<p>This is a port of <a href="https://codegolf.stackexchange.com/a/277739/58563">Albert.Lang's Python answer</a>.</p>

<pre class="lang-none prettyprint-override"><code>f=n=&gt;n&gt;1?2*h(n-1)+h(n-2):n
g=(n,G=k=&gt;k&gt;1&amp;&amp;h(--k)*g(n-k)+G(k))=&gt;f(n)+G(--n)
h=n=&gt;2*g(n)-f(n)
</code></pre>
<p><a href="https://tio.run/##FYzLDoMgEEX3fAULY2ak0wSWVejS39BYHy1maNR0Y/x2Cqtzc1@f/tfvw/b@HsThNcY4WbaOnX6aagEmjSrD4IPFbIFvrfXWeafLcgEij9WcYo@qBY9o3QScNRGjWPKVyQWk7McpbLCOh2Rppa4TmkSThFIoTyHlEHgP63hfwwxdD8XJF6Zuceb51WEtrvgH" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 116 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda m:m&gt;1and 2*j(m-1)+j(m-2)or m
n=lambda m:f(m)+sum(j(k)*n(m-1-k)for k in range(1,m-1))
j=lambda m:2*n(m)-f(m)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XZBNDoJADIX3nKLLKTiJkJgYEz2CVzAjMPLXDhmGhTvv4YaN3snbyBgIhlWbl_f6vvT5bu-uMDwMr95puf84fWwUXTMFdKBTrDiDJKwEyRgjPxI0FijgxaUFYdT1JCpRY8jeKmvUo62GksEqvuUi3vgLGFRLLvFelD4-dT-0NQS659QZ03RQUmusg8b2l1SlRR6MbPMuzoZzFBo9ykrkX89KrDDwTPTPtNviAVpbshMeY-KYf_EF" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>How?</h3>
<p>Here is an ungolfed version with an easier to understand recursion:</p>
<h4><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 704 bytes</h4>
<pre class="lang-python prettyprint-override"><code>lambda m:2*o(m)+b(m)

# helper counts; all count balanced strings containing m a's subject to condition:
# e: enclosable: anything that may be inside a pair of parens within a valid RB
# b: bothsided:valid rb that starts and ends with an a (the same if m=1)
# n: nonesided: any enclosable string that has no a at either end; these are exactly the ones enclosed in a pair of non matching parens
# o: onesided: valid RB that has an a at exactly one end
# j: juxtaposable: anything balanced that may occur next to an a in a valid RB

e=lambda m:m&gt;0 and n(m)+b(m)+2*o(m)
b=lambda m:m&gt;0 and m&lt;2 or j(m-2)
n=lambda m:m&gt;2 and sum(e(k)*(j(m-1-k)) for k in range(m))
o=lambda m:m&gt;1 and j(m-1)
j=lambda m:e(m)+n(m)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZVJLjtQwEJVY5hQlzYJ4mpbolpBGGXoWHIAFayTkOJWJ0_5EdgW6uQqblhDcgR3XgNNQtvvHzCZ2ylWv3ntV335Oexq8O3zvNx9_zNQv7_6--G2kbTsJtlnf-tqKRcufqrqBAc2EAZSfHcV7kMaUO7TSSKewg0hBu8fIYUdSO76DBfkyQpzbERUB-fTWadLeNQyJDaBTxkfZGr5Lx3RSFQ2SwMo9tAjaRd0hSJikDuB7PgO6CF90yuX4Z2l0Bx_eMV7bQOtpSAVdU-KhLWiRZKDILTpu2ZVy_uP6mgaEKC236sFuVoKBXAPOOyxAidcVz6PMAjvIyJmMwndkSDaI4e_5ESOTDgi4k4rMPkUgQR6R2K7M_qSK27FiUll_kcg8fAMXGiehl86Zf-p87MG5qT0Xjg2M847k9Mzb87TOJnul5gAOd3lAGfN_YyvcnJfCPrzOJrrTaizKmlTt8xz7dg0-wFjb5VpU7jphnRPibGust-K2Tjmr5VYI6LlimwgE6R6RkUXlrytXuTLni2q8vKTURWJVFvnPrz54C_3sFHlvImg7-UBgwvxJSTUgm2TRev0V07Q0m6kUGgySsGyHnwnUwCTKsHl6MylvMblxAqnfs-WixqzuSdBlek-Co6iSQHsRuHr1ZiUamHinqO6T3iLgcCjnPw" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-p</code>, 53 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$b=/^a|a$/*!/aa|\)\(/;1while s/\(a+\)//g;$_=$b*/^a*$/
</code></pre>
<p><a href="https://tio.run/##RU5LCoMwEN17ihayyFjs6MKVeITeQFqeIK0gVWqhG8/eNJlM7CZ5vHm/ZXhNtXOmb/mKDYbzIwNbR53lpvo8xmk4rNxZnDpivjfm1po@99rcsHPILAgZ/JvZACkwHggpRDgGQkT@qjKBURkhqc2qT5MCGcPUJ7nRpxUpXX2xUHzaHcZhX0fYN8tupOFIy63QegTF/@9NwwnfeXmP83N1xaU@l1XpimX6AQ" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/277735/">277735</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




