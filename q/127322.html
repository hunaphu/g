<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::127322</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>040</td><td>Tcl</td><td>170619T212713Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127346#127346">sergiol</a></td></tr>
<tr d-ix="1"><td>043</td><td>PowerShell</td><td>201221T050109Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/216691#216691">mazzy</a></td></tr>
<tr d-ix="2"><td>056</td><td>Powershell</td><td>201220T051055Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/216640#216640">wasif</a></td></tr>
<tr d-ix="3"><td>017</td><td>Perl 6</td><td>190320T050213Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/181868#181868">bb94</a></td></tr>
<tr d-ix="4"><td>016</td><td>TXR Lisp</td><td>170622T182812Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127926#127926">Kaz</a></td></tr>
<tr d-ix="5"><td>051</td><td>Batch</td><td>170620T082953Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127404#127404">stevefes</a></td></tr>
<tr d-ix="6"><td>008</td><td>x86 machine code</td><td>170622T153023Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127896#127896">Ruslan</a></td></tr>
<tr d-ix="7"><td>008</td><td>x86 machine code</td><td>171111T022207Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/147774#147774">peter fe</a></td></tr>
<tr d-ix="8"><td>065</td><td>VB.NET Mono</td><td>170621T012549Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127624#127624">Taylor R</a></td></tr>
<tr d-ix="9"><td>013</td><td>Julia</td><td>170620T042639Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127384#127384">Frames C</a></td></tr>
<tr d-ix="10"><td>050</td><td>C#</td><td>170620T061454Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127390#127390">kakkarot</a></td></tr>
<tr d-ix="11"><td>008</td><td>J</td><td>170621T114444Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127701#127701">Dan Bron</a></td></tr>
<tr d-ix="12"><td>036</td><td>C</td><td>170620T104453Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127432#127432">Tamoghna</a></td></tr>
<tr d-ix="13"><td>022</td><td>C</td><td>170620T024427Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127372#127372">user7091</a></td></tr>
<tr d-ix="14"><td>nan</td><td></td><td>170620T221116Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127601#127601">hildred</a></td></tr>
<tr d-ix="15"><td>013</td><td>x86 Assembly polyglot</td><td>170621T055333Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127639#127639">Obsequio</a></td></tr>
<tr d-ix="16"><td>049</td><td>Python 2.7</td><td>170624T115040Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/128155#128155">Koishore</a></td></tr>
<tr d-ix="17"><td>017</td><td>Bash</td><td>170623T184112Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/128092#128092">notagull</a></td></tr>
<tr d-ix="18"><td>nan</td><td></td><td>170620T131612Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127472#127472">user2428</a></td></tr>
<tr d-ix="19"><td>026</td><td>Shell</td><td>170620T014412Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127365#127365">Zombo</a></td></tr>
<tr d-ix="20"><td>094</td><td>Go</td><td>170622T182926Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127927#127927">Avdept</a></td></tr>
<tr d-ix="21"><td>012</td><td>x86 machine code</td><td>170620T193947Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127567#127567">Ruslan</a></td></tr>
<tr d-ix="22"><td>059</td><td>Python 3</td><td>170620T092410Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127415#127415">tOmAtE</a></td></tr>
<tr d-ix="23"><td>010</td><td>Ruby</td><td>170622T085406Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127827#127827">axiac</a></td></tr>
<tr d-ix="24"><td>018</td><td>PHP</td><td>170621T155628Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127742#127742">Bja</a></td></tr>
<tr d-ix="25"><td>047</td><td>Powershell</td><td>170621T092717Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127668#127668">Callie J</a></td></tr>
<tr d-ix="26"><td>029</td><td>PHP</td><td>170620T033506Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127378#127378">Petah</a></td></tr>
<tr d-ix="27"><td>nan</td><td></td><td>170621T064246Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127641#127641">Twometer</a></td></tr>
<tr d-ix="28"><td>038</td><td>Javascript ES6</td><td>170620T122154Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127468#127468">Hankreco</a></td></tr>
<tr d-ix="29"><td>052</td><td>Windows CMD</td><td>170620T043803Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127386#127386">Ken Y-N</a></td></tr>
<tr d-ix="30"><td>012</td><td>Swift 4 REPL/Playground</td><td>170621T005153Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127613#127613">Alexande</a></td></tr>
<tr d-ix="31"><td>016</td><td>julia</td><td>170619T202155Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127327#127327">rahnema1</a></td></tr>
<tr d-ix="32"><td>1752</td><td>PowerShell</td><td>170620T185009Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127560#127560">Andy C.</a></td></tr>
<tr d-ix="33"><td>018</td><td>Perl</td><td>170620T093233Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127418#127418">Grimmy</a></td></tr>
<tr d-ix="34"><td>nan</td><td></td><td>170620T183425Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127556#127556">Brad Gil</a></td></tr>
<tr d-ix="35"><td>183</td><td>C</td><td>170620T145407Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127510#127510">MrPaulch</a></td></tr>
<tr d-ix="36"><td>024</td><td>JavaScript Node.js</td><td>170619T204317Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127336#127336">Downgoat</a></td></tr>
<tr d-ix="37"><td>025</td><td>PHP</td><td>170620T114538Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127460#127460">Mr. Alie</a></td></tr>
<tr d-ix="38"><td>029</td><td>C#</td><td>170620T081026Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127401#127401">James B</a></td></tr>
<tr d-ix="39"><td>028</td><td>SAS</td><td>170620T094619Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127421#127421">user3490</a></td></tr>
<tr d-ix="40"><td>020</td><td>APL Dyalog</td><td>170620T073222Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127399#127399">Ad&#225;</a></td></tr>
<tr d-ix="41"><td>016</td><td>R</td><td>170620T070431Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127396#127396">Sven Hoh</a></td></tr>
<tr d-ix="42"><td>016</td><td>PowerShell</td><td>170620T015427Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127367#127367">Chirishm</a></td></tr>
<tr d-ix="43"><td>045</td><td>Java 8</td><td>170619T201752Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127324#127324">Daniel</a></td></tr>
<tr d-ix="44"><td>022</td><td>Ruby</td><td>170619T223238Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127355#127355">Value In</a></td></tr>
<tr d-ix="45"><td>023</td><td>C</td><td>170619T210636Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127342#127342">Govind P</a></td></tr>
<tr d-ix="46"><td>050</td><td>Java</td><td>170619T213432Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127348#127348">Jeff I</a></td></tr>
<tr d-ix="47"><td>041</td><td>Python 2</td><td>170619T201554Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127323#127323">Daniel</a></td></tr>
<tr d-ix="48"><td>017</td><td>Mathematica</td><td>170619T202115Z</td><td><a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127326#127326">ZaMoC</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://tcl.tk/" rel="nofollow noreferrer">Tcl</a>, 40 bytes</h1>
<pre><code>puts [expr 8*$tcl_platform(pointerSize)]
</code></pre>
<p><a href="https://tio.run/##K0nO@f@/oLSkWCE6taKgSMFCS6UkOSe@ICexJC2/KFejID8zryS1KDizKlUz9v9/AA" rel="nofollow noreferrer" title="Tcl – Try It Online">Try it online!</a></p>
<p>I think I can golf it using some bit-shift magic</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, <s>51</s> <s>44</s> 43 bytes</h1>
<p>-7 bytes thanks to <a href="https://codegolf.stackexchange.com/users/92116/wasif-hasan">Wasif Hasan</a></p>

<pre class="lang-powershell prettyprint-override"><code>32+32*[Environment]::Is64BitOperatingSystem
</code></pre>
<p><a href="https://tio.run/##K8gvTy0qzkjNyfn/39hI29hIK9o1ryyzKD8vNzWvJNbKyrPYzMQps8S/ILUosSQzLz24srgkNff/fwA" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1>Powershell, 56 bytes</h1>
<pre><code>$null=$env:Processor_Architecture-match&quot;\d+&quot;;$matches[0]
</code></pre>
</div>
<div id="pu3" class="pu"><h2>Perl 6, 17 bytes</h2>

<pre><code>say $*KERNEL.bits
</code></pre>
</div>
<div id="pu4" class="pu"><h2>TXR Lisp, 16 bytes</h2>

<pre><code>(*(sizeof val)8)
</code></pre>

<p>Same for <code>long</code> or <code>cptr</code> instead of <code>val</code>; but those are one character longer. <code>val</code> is the FFI type denoting a raw Lisp value. That corresponds to a pointer, whose size usually determines the "bitness" of a system.</p>
</div>
<div id="pu5" class="pu"><h1>Batch, <s>54 53</s> 51 bytes</h1>
<p>Not the shortest.</p>
<pre><code>@if defined ProgramFiles(x86) (echo 64)else echo 32
</code></pre>
<p>This checks for a 64-bit system only variable. If the variable exists, then return 64. In any other case, it returns 32.</p>
<p>To make this work on Linux(assuming Ubuntu):</p>
<ul>
<li>Install <code>wine</code> using <code>sudo apt-get install wine</code></li>
<li>Run <code>wine cmd</code> in the terminal</li>
<li>Call the script: <code>scriptname.bat</code></li>
</ul>
</div>
<div id="pu6" class="pu"><h1>x86 machine code, 8 bytes</h1>
<pre><code>31 C0 B0 40 48 24 60 C3
</code></pre>
<p>Ungolfed:</p>
<pre><code>31 c0    xor eax,eax
b0 40    mov al, 0x40
48       dec al — in 32-bit mode; &quot;REX.W&quot; in 64-bit mode (ignored)
24 60    and al, 0x60
c3       ret
</code></pre>
<p>If compiled as a 64-bit executable, it returns 64 in <code>eax</code>, and if compiled as 32-bit, then returns 32 — regardless of the OS.</p>
<p>This answer relies on the rules saying:</p>
<blockquote>
<p>You can assume that users will use 64 bit software whenever possible.</p>
</blockquote>
</div>
<div id="pu7" class="pu"><h2>x86 machine code, 8 bytes</h2>

<p>Bytecode:</p>

<p><code>b0 40 33 c9 41 d2 e8 c3</code></p>

<p>which decodes to:</p>

<pre><code>mov al, 64 
xor ecx, ecx
inc ecx
shr al, cl
ret</code></pre>

<p>The "inc ecx/shr al,cl" in 32-bit becomes "shr r8b,cl" in 64-bit, and returns either 32 or 64 in the AL register.</p>
</div>
<div id="pu8" class="pu"><h1>VB.NET (Mono), <sub><s>99</s></sub> 65 Bytes</h1>
<p>Full subroutine and module which take no input and outputs if the OS is 64 bit or not to the console.</p>

<pre class="lang-vb prettyprint-override"><code>Module M
Sub Main
Console.Write(8*IntPtr.Size)
End Sub
End Module
</code></pre>
<p><a href="https://tio.run/##K8ssLk3M0U1KLM5M1s1LLdHNzc/L///fNz@lNCdVwZcruDRJwTcxM4/LOT@vOD8nVS@8KLMkVcNCyzOvJKCkSC84sypVk8s1L0UBqBJMQ7T@/w8A" rel="nofollow noreferrer">Try it Online.</a> <em>Returns 64 as TIO is run on a 64 Bit Unix 4.11.3.202 server</em></p>
<p>-34 Bytes thanks to @Alexander</p>
<h1>VBA, 41 Bytes (Non-Competing)</h1>
<p>Anonymous VBE immediate window function that takes no input and outputs OS Version to the VBE immediate window</p>
<p><em>This only works on Windows as VBA cannot be run on Linux</em></p>

<pre class="lang-vba prettyprint-override"><code>?Val(Mid(Application.OperatingSystem,10))
</code></pre>
</div>
<div id="pu9" class="pu"><h2>Julia <s>14</s> 13 bytes</h2>
<pre><code>n-&gt;8sizeof(1)
</code></pre>
<p>Explain:</p>
<ul>
<li>Anon function, taking anything (including <code>nothing</code>) returning an integer 32, or 64</li>
<li>Integer literals are of type <code>Int</code> which depending if 32 bit or 64 bit, is either an <code>Int32</code> or an <code>Int64</code> (the <code>1</code> could be any digit)</li>
<li>placing a number before a function call does a juxtaposition multiplication</li>
<li>This is basically a minified version of the <a href="https://github.com/JuliaLang/julia/blob/0b53b9a76fdbfb1358074f99fcdf963a115b79b6/base/sysinfo.jl#L58" rel="noreferrer">code for <code>Sys.WORD_SIZE</code></a>, used in <a href="https://codegolf.stackexchange.com/a/127327/4397">rahnema1's answer</a></li>
</ul>
<p>Other fun answer is <code>()-&gt;&quot;$(Int)&quot;[4:5]</code>, but I can't get the count down on that one.</p>
<hr />
<p>-1 thanks to @Roman Gräf</p>
</div>
<div id="pu10" class="pu"><h1>C#, <strike>60</strike> 50 bytes</h1>
<pre><code>_=&gt;System.Environment.Is64BitOperatingSystem?64:32
</code></pre>
<p>Thanks @TheLethalCoder</p>
</div>
<div id="pu11" class="pu"><h1>J, 8 bytes</h1>

<pre><code>2^5+IF64
</code></pre>

<p>Alternatively, from the metal up (as opposed to using built-ins), 23 bytes:</p>

<pre><code>2^5+1&lt;224-~a.i.{.3!:1''
</code></pre>

<p>Based on the approach in the <a href="https://rosettacode.org/wiki/Host_introspection#J" rel="nofollow noreferrer">relevant RosettaCode task</a>, as well as the <a href="http://www.jsoftware.com/help/dictionary/dx003.htm" rel="nofollow noreferrer">underlying J documentation</a>.</p>

<p>A version which would work on the theoretical, non-existent <a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127701#comment317772_127701">16</a>- or <a href="https://codegolf.stackexchange.com/questions/127322/is-my-os-32-bit-or-64-bit/127701#comment317767_127701">128</a>-bit J interpreters, provided they use the same code base, 11 bytes:</p>

<pre><code>&gt;:2^.|{.i:_j1
</code></pre>

<p>This works in both the real-life <a href="http://www.jsoftware.com/pipermail/chat/2008-June/001102.html" rel="nofollow noreferrer">32</a>- and <a href="http://www.jsoftware.com/pipermail/chat/2014-January/005635.html" rel="nofollow noreferrer">64</a>-bit J interpreters, and is a function of the implementation, not the specification. </p>
</div>
<div id="pu12" class="pu"><h1>C, 36 bytes</h1>
<p>Note that the following program will need to be compiled on the system to be tested.</p>
<pre><code>main(){printf(&quot;%u&quot;,8*sizeof(int*));}
</code></pre>
<p>Simple. Assumes that the machine's word length is the same as the pointer size, which seems to be a valid assumption.</p>
<p><code>sizeof(int*)</code> (or any other pointer type, for that matter), should be <code>4</code> on a 32-bit system, and <code>8</code> on a 64-bit one (and <code>2</code> on a 16-bit system). This should also the be the most portable of all the solutions given here till now - and work back to any system with a ISO C89 compiler.</p>
<p>The gotcha here is that this program must be compiled for every system which it needs to be run on, otherwise it'll output the bitness of the operating system it was compiled on.</p>
</div>
<div id="pu13" class="pu"><h1>C, 22 bytes</h1>

<pre><code>f(){return(int**)0+8;}
</code></pre>

<p>This is a pointer-size based answer that assumes a native binary. The <code>0</code> is cast to <code>int**</code> (address <code>0x0</code>). Then we add 8 to 0, which, in C advances, the pointer by <code>sizeof(int*)*8</code>. 4 bytes * 8 bits = 32, 8 bytes * 8 bits = 64. So we get <code>(int**)0x20</code> and <code>0x40</code> which are then implicitly cast as integers by returning them from an implicitly <code>int</code>-returning function.</p>

<h1>C, stand-alone, 34 bytes</h1>

<pre><code>main(){printf("%d\n",(int**)0+8);} 
</code></pre>

<h1>C, fun with Unicode, 30 code-points, 34 bytes(UTF-8)</h1>

<pre><code>main(){puts((int**)U" ㈳㐶"+1);}
</code></pre>
</div>
<div id="pu14" class="pu"><h1>Boot Loaders</h1>
<p>Did you know that GRUB and IPXE both have Turing complete programming languages accessible at run-time? The Syslinux family of boot loaders don't but they can do this.</p>
<h2>IPXE, 36 bytes</h2>
<pre><code>#!ipxe
cpuid --ext 29 &amp;&amp; echo 64 || echo 32
</code></pre>
<p>the first line is needed if the script is run remotely, but not if typed directly at the command line.</p>
<h2>GRUB, 42 bytes</h2>
<pre><code>if cpuid -l ; then
echo 64
else
echo 32
fi
</code></pre>
<h2>Syslinux, 186 bytes</h2>
<p>This takes three files the first is syslinux.cfg (or isolinux.cfg, etc.).</p>
<pre><code>label a
  kernel ifcpu64.c32
  append s -- t

label s
  kernel menu.c32
  append s.cfg

label t
  kernel menu.c32
  append t.cfg

default a
prompt 0
timeout 0
</code></pre>
<p>and t.cfg</p>
<pre><code>menu title 32
</code></pre>
<p>ans s.cfg</p>
<pre><code>menu title 64
</code></pre>
<p>For this one the hard part is that syslinux does not have any simple text display capabilities, so the menu is abused.</p>
</div>
<div id="pu15" class="pu"><h1>x86 Assembly (polyglot), 13 bytes</h1>

<p>Bytecode:</p>

<pre><code>31 c0 b4 80 48 70 05 04 40 83 e0 60 c3
</code></pre>

<p>Defines a function which returns 32 if interpreted as 32-bit, 64 if 64-bit, and 32767 if 16-bit.</p>

<p>I wanted to make a polyglot which ran on Windows and Linux, but this is a lot harder than I thought. As it is I'm not sure there's even any way to print a value on non-16-bit Windows without linking.</p>

<h2>Explanation</h2>

<p>This code uses two tells to determine the architecture it is running on. The first is the instruction 0x48—on 16 and 32 bits, this is <code>dec %eax</code>, but on 64 bits, it is an instruction-size prefix. The second tell is the same instruction, however, when we execute it on the value 0x8000, the most significant bit is flipped only if the register size is 16 bits, setting the overflow flag and letting us use <code>jo</code>. </p>

<p>In 16 bits, this code is interpreted as the following:</p>

<pre><code>   0:   31 c0                   xor    %ax,%ax    /* 0x0000 */
   2:   b4 80                   mov    $0x80,%ah  /* 0x8000 */
   4:   48                      dec    %ax        /* 0x7fff */
   5:   70 05                   jo c              /* taken  */
   7:   04 40                   add    $0x40,%al
   9:   83 e0 60                and    $0x60,%ax
   c:   c3                      ret               /* 0x7fff */
</code></pre>

<p>In 32 bits, this code is interpreted as the following:</p>

<pre><code>   0:   31 c0                   xor    %eax,%eax   /* 0x00000000 */
   2:   b4 80                   mov    $0x80,%ah   /* 0x00008000 */
   4:   48                      dec    %eax        /* 0x00007fff */
   5:   70 05                   jo c               /* not taken  */
   7:   04 40                   add    $0x40,%al   /* 0x00007f3f */
   9:   83 e0 60                and    $0x60,%eax  /* 0x00000020 */
   c:   c3                      ret
</code></pre>

<p>In 64 bits, this code is interpreted as the following:</p>

<pre><code>   0:   31 c0                   xor    %eax,%eax   /* 0x00000000 */
   2:   b4 80                   mov    $0x80,%ah   /* 0x00008000 */
   4:   48 70 05                rex.W jo c         /* not taken  */
   7:   04 40                   add    $0x40,%al   /* 0x00008040 */
   9:   83 e0 60                and    $0x60,%eax  /* 0x00000040 */
   c:   c3                      ret
</code></pre>
</div>
<div id="pu16" class="pu"><h1>Python 2.7, 49 bytes</h1>

<pre><code>from platform import*;print architecture()[0][:2]
</code></pre>
</div>
<div id="pu17" class="pu"><h1>Bash, <strike>25</strike> 17 bytes</h1>

<pre><code>getconf LONG_BIT
</code></pre>

<p>Thanks to Dennis for golfing help.</p>
</div>
<div id="pu18" class="pu">
<h1>JavaScript, <del>26</del> 34 bytes</h1>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>console.log((
_=&gt;/\d\d/.exec(navigator.oscpu)[0]
)())</code></pre>
</div>
</div>
</p>
<p>Tested with Firefox. Not all browsers support the <code>navigator.oscpu</code> property.</p>
<p><strong>Edit:</strong> rewrote my answer to comply with the specification. Thanks to <a href="https://codegolf.stackexchange.com/users/53413/restioson">Restioson</a> for pointing out my error.</p>
</div>
<div id="pu19" class="pu"><h1>Shell, 26 bytes</h1>

<pre class="lang-sh prettyprint-override"><code>uname -m|awk \$0=/_/?64:32
</code></pre>
</div>
<div id="pu20" class="pu"><h1>Go, 94 bytes</h1>
<pre><code>package main;import&quot;fmt&quot;;const wordsize=32&lt;&lt;(^uint(0)&gt;&gt;32&amp;1);func main(){fmt.Println(wordsize)}
</code></pre>
</div>
<div id="pu21" class="pu"><h1>x86 machine code, 12 bytes</h1>
<pre><code>8c c8 83 f8 23 b0 20 75 02 00 c0 c3
</code></pre>
<p>Ungolfed:</p>
<pre><code>getKernelBitness:
    mov eax,cs
    cmp eax,0x23 ; 32 bit process on 64 bit kernel has this selector in CS
    mov al,32
    jne kernelIs32Bit
    add al,al    ; return value in eax
kernelIs32Bit:
    ret
</code></pre>
<p>This function works in Linux when used in ELF32, following i386 SysV ABI, as well as in Windows/Wine when used in PE32, following <code>stdcall</code> calling convention.</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <strike>77</strike> <strike>84</strike> <strike>71</strike> 59 bytes</h1>

<p>-13 bytes, thanks to @JonathanAllan!<br>
Down to 59 by @Clearer</p>



<pre class="lang-python prettyprint-override"><code>from platform import*;print({'4':64,'6':32}[machine()[-1]])
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/7/P60oP1ehICexJC2/KFchM7cgv6hEy7qgKDOvRKNa3UTdysxER91M3crYqDY6NzE5IzMvVUMzWtcwNlbz/38A" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p>My fist time code-golfing :)<br>
Should output the correct version even when running 32Bit-Python on 64bit-OS.<br>
Assuming <code>platform.machine()</code> gives <code>i*86</code> or <code>x86</code> for 32Bit-OS. I don't have one available to check this. Output is <code>0</code> when OS is not in 64/32Bit<br>
Edit: Added print statement, so it got 7 bytes longer </p>
</div>
<div id="pu23" class="pu"><h1>Ruby, 10 bytes</h1>
<pre><code>p 0.size*8
</code></pre>
<p>While Ruby can use integers of any length, internally it stores the values that fit in a machine word as <code>Fixnum</code>. The method <a href="https://ruby-doc.org/core-2.2.0/Fixnum.html#method-i-size" rel="nofollow noreferrer"><code>Fixnum#size</code></a> always return the length in bytes of a machine word.</p>
<p>The <code>Fixnum</code> class was removed in Ruby 2.4.0, its functionality was included in class <a href="http://ruby-doc.org/core-2.4.1/Integer.html" rel="nofollow noreferrer"><code>Integer</code></a>. The code stands.</p>
</div>
<div id="pu24" class="pu"><h1>PHP, 18 Bytes</h1>

<pre><code>&lt;?=PHP_INT_SIZE*8;
</code></pre>

<p>This correctly handles all of the cases of 32, 64 and other bit CPUs provided that PHP_INT_SIZE is correct, it will show the precise size of the CPU no matter what CPU PHP is running on!</p>

<p>If PHP is running on</p>

<p>32-bit OS PHP_INT_SIZE == 4,</p>

<p>64-bit OS PHP_INT_SIZE == 8,</p>

<p>16-bit OS PHP_INT_SIZE == 2 (theoretically)</p>

<p>8-bit OS PHP_INT_SIZE == 1 (again theoretically)</p>

<p>128-bit OS PHP_INT_SIZE == 16 (Not yet achieved but possible)</p>
</div>
<div id="pu25" class="pu"><h1>Powershell, 47 bytes</h1>

<pre><code>(32,64)[[Environment]::Is64BitOperatingSystem]
</code></pre>

<p>Basically, it's an array that's indexed into by the truthy value returned by the environment.</p>

<p>This avoids the pointer methods, so will correctly identify the bitness of the OS rather than the bitness of the process.</p>

<p>Appears to work on Windows and Linux.</p>
</div>
<div id="pu26" class="pu"><h1>PHP, 29 bytes</h1>

<pre><code>&lt;?=@php_uname(m)[-1]-4?32:64;
</code></pre>

<p><a href="https://3v4l.org/Y6JXv" rel="nofollow noreferrer">https://3v4l.org/Y6JXv</a></p>
</div>
<div id="pu27" class="pu"><p></p>

<h1>Java 7, <s>77</s> 71 bytes</h1>

<p>A java pointer-size solution</p>

<pre class="lang-java prettyprint-override"><code>void a(){System.out.print(Integer.toHexString(hashCode()).length()*8);}
</code></pre>
</div>
<div id="pu28" class="pu"><h1>Javascript (ES6), <s>46</s> <s>41</s> <s>40</s> 38 Bytes</h1>

<p>-5 Bytes thanks to @GustavoRodrigues</p>

<p>-2 Bytes thanks to @GustavoRodrigues!</p>

<pre><code>_=&gt;/64/.test(navigator.userAgent)+1&lt;&lt;5
</code></pre>

<p>I was only able to test it on my Windows x64 machine, so any feedback will be much appreciated :)</p>

<p>Edit: removed the <code>x</code> from <code>x64</code> to fix an issue pointed out by @ThomasAyoub, I don't know if this is going to cause any unexpected behaviour.</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var c=
_=&gt;/64/.test(navigator.userAgent)+1&lt;&lt;5

console.log(c());</code></pre>
</div>
</div>
</p>
</div>
<div id="pu29" class="pu"><h1>Windows CMD, <strike>56</strike> 52 bytes (thanks Bob!)</h1>
<pre><code>if EXIST &quot;%ProgramFiles(x86)%&quot; (echo 64)else echo 32
</code></pre>
<p>Still surprisingly lengthy - longest so far!</p>

</div>
<div id="pu30" class="pu"><h1>Swift 4 REPL/Playground, 12 bytes</h1>
<pre><code>Int.bitWidth
</code></pre>
<p><code>Int</code> is word sized, acting like either <code>Int32</code> or <code>Int64</code> depending on the system.</p>
</div>
<div id="pu31" class="pu"><h1>julia, <s>20</s> <s>17</s> 16 bytes</h1>
<pre><code>n-&gt;Sys.WORD_SIZE
</code></pre>
<p>*Thanks to @LyndonWhite saved 3 bytes
*Thanks to @RomanGräf saved a byte</p>
<p>Previous answers:</p>
<pre><code>()-&gt;Sys.WORD_SIZE
print(Sys.WORD_SIZE)
</code></pre>
<p><a href="https://tio.run/##yyrNyUw0/f@/oCgzr0QjuLJYL9w/yCU@2DPKVfP/fwA" rel="noreferrer" title="Julia 0.5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu32" class="pu"><h1>PowerShell, <del>17</del> 52 bytes</h1>

<pre><code>try{32+32*((gci \*`))-or(arch)[-1]-eq52)}catch{32}
</code></pre>

<p>Returns 64 if either of the following is true:</p>

<ul>
<li>You have a directory on your current drive with a filename ending in a close paren, the idea being to detect <code>Program Files (x86)</code>.</li>
<li><code>arch</code> returns a string ending in <code>4</code> (ASCII 52), like <code>x86_64</code>, as opposed to e.g. <code>i686</code>.</li>
</ul>

<p>The try-catch is intended to circumvent the error you get if <em>gci</em> returns nothing and you don't have an <em>arch</em>. I haven't found a shorter way to do it so far. <em>gci</em> is used over <em>ls</em> because on Linux, <em>ls</em> will produce a visible error.</p>

<p>This version should detect whether the OS is 64-bit rather than just PowerShell, and is tested to work on Windows and Linux. For Mac support, replace <code>arch</code> with <code>uname -m</code>.</p>

<p>Previous Windows-only version: <code>-!(ls \*`))*32+64</code></p>
</div>
<div id="pu33" class="pu"><h2>Perl, <s>18</s> <s>15</s> 18 bytes</h2>

<pre><code>say length pack p8
</code></pre>
</div>
<div id="pu34" class="pu">

<h1><a href="https://perl6.org" rel="noreferrer">Perl 6</a>, 17 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>say $*KERNEL.bits
</code></pre>

<p><a href="https://tio.run/##K0gtyjH7/784sVJBRcvbNcjP1UcvKbOk@P9/AA" rel="noreferrer" title="Perl 6 – Try It Online">Try it</a></p>

<hr>

<p>There is a related <code>$?BITS</code> which contains the number of bits that a native <code>int</code> has in the runtime.</p>

<pre class="lang-perl6 prettyprint-override"><code>say $?BITS
</code></pre>

<p><a href="https://tio.run/##K0gtyjH7/784sVJBxd7JMyT4/38A" rel="noreferrer" title="Perl 6 – Try It Online">Try it</a></p>
</div>
<div id="pu35" class="pu"><h1>C, Win32 API, <strike>103</strike> 183 bytes</h1>

<pre><code>#include &lt;windows.h&gt;
typedef int(WINAPI*F)(HANDLE,int*);b;main(){F f=GetProcAddress(GetModuleHandle("kernel32"),"IsWow64Process");return(f!=0&amp;&amp;f(GetCurrentProcess(),&amp;b)&amp;&amp;!b)?32:64;}
</code></pre>

<p>Actually there are more than 2 cases here. Let's examine them</p>

<ul>
<li>The easiest: <code>IsWow64Process</code> does not exist: We are on a 32 bit OS</li>
</ul>

<p>For the next two cases we need to have the knowledge that our binary will be a 32 bit executable. And this description of what will be out into the <strong>out</strong> parameter of <code>IsWow64Process</code></p>

<blockquote>
  <p>A pointer to a value that is set to TRUE if the process is running under WOW64. If the process is running under 32-bit Windows, the value is set to FALSE. If the process is a 64-bit application running under 64-bit Windows, the value is also set to FALSE.</p>
</blockquote>

<p>That leaves us with two additional cases:</p>

<ul>
<li><code>IsWow64Process</code> exists, and yields TRUE -> We are on a 64 bit machine</li>
<li><code>IsWow64Process</code> exists, and yields FALSE -> We are on a 32 bit machine</li>
</ul>

<p>We don't wory about the part where a 64-bit application on a 64-bit Windows yields FALSE. As we <em>know</em> that our application is 32-bit </p>

<p>Oh and there is one additional case that is not covered by this challenge and should be rare anyways:</p>

<ul>
<li>IsWow64Process exists, but it fails: We default to 32-bit machine.</li>
</ul>

<p>This should cover most Windows NT Operating Systems. Have only tested on Win10 64-Bit, Win 7 64-Bit, Win 8.1 32-Bit and WinXP SP1 32-Bit</p>

<hr>

<p>Original answer:</p>

<pre><code>#include&lt;windows.h&gt;
main(){return GetProcAddress(GetModuleHandle("Kernel32"),"IsWow64Process")?64:32;}
</code></pre>

<p>To be sure we need to distinguish only 2 cases</p>

<ul>
<li><p><code>IsWow64Process</code> does not exist in kernel32.dll => We are on a 32 bit machine.</p></li>
<li><p><code>IsWow64Process</code> does exist => We are on a 64 bit machine.</p></li>
</ul>

<p>The actual value provided by <code>IsWow64Process</code> is irrelevant for this challange, since we want the binary to be 32bit in any case.</p>

<p>Unlike most of the answers, this doesn't rely on the binary itself being compiled on the machine that it's executed on. </p>

<p>If I knew a shorter function that is present only on 64bit and not 32bit machines, I could shorten the answer.</p>
</div>
<div id="pu36" class="pu"><h2>JavaScript (Node.js), 24 bytes</h2>

<pre><code>_=&gt;process.arch.slice(1)
</code></pre>

<p>This is a function and returns <code>'32'</code>, <code>'64'</code>, or if neither <code>'rm'</code>.</p>
</div>
<div id="pu37" class="pu"><h1>PHP, 25 Bytes</h1>

<pre><code>&lt;?=PHP_INT_SIZE==4?32:64;
</code></pre>
</div>
<div id="pu38" class="pu"><p><strong>C# (29 bytes)</strong></p>

<pre><code>Console.Write(IntPtr.Size*8);
</code></pre>
</div>
<div id="pu39" class="pu"><h2>SAS, 28</h2>
<pre><code>%put%eval(&amp;syssizeoflong*8);
</code></pre>
<p>Runs on any OS that supports SAS - there are many...</p>
</div>
<div id="pu40" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog)</a>, 20 bytes</h1>



<p>Runs on Windows NT/CE, Linux, AIX, macOS and Solaris. Assumes exposure of root properties.</p>

<pre class="lang-apl prettyprint-override"><code>32×1+'6'∊⊃APLVersion
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT/9vZGJg@Khnm6HCo965CqkVBfnFqQpF@fklCgVF@QWpRSWZqcVcjzrakzJLiv8bGx2ebqitbqb@qKPrUVezY4BPWGpRcWZ@3n@giv8gJQA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p><code>APLVersion</code> (Target Environment, Version Number, Version Type, Program Type)</p>

<p><code>⊃</code> pick the first element (OSName[-64])</p>

<p><code>'6'∊</code> is six a member thereof?</p>

<p><code>1+</code> add one to that Boolean</p>

<p><code>32×</code> multiply 32 by that</p>

<hr>

<p>If root properties are not exposed, use <code>⎕WG'APLVersion'</code> instead of <code>APLVersion</code>.</p>
</div>
<div id="pu41" class="pu"><h2>R, 16 bytes</h2>

<pre><code>.Machine[[18]]*8
</code></pre>

<p>Returns the pointer size.</p>
</div>
<div id="pu42" class="pu"><h2>PowerShell, 16 bytes</h2>

<pre><code>8*[IntPtr]::Size
</code></pre>

<p>Gets the pointer size in bytes, multiplies by 8 to get bits.</p>
</div>
<div id="pu43" class="pu"><h2>Java 8, 45 bytes</h2>

<pre><code>()-&gt;System.getProperty("sun.arch.data.model")
</code></pre>
</div>
<div id="pu44" class="pu"><h1>Ruby, 22 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>p [?a].pack(?p).size*8
</code></pre>
<p><code>[&quot;any string&quot;].pack(&quot;p&quot;)</code> returns a string whose bytes correspond to the pointer that pointed towards <code>&quot;any string&quot;</code>, and is 8 characters if the OS is 64-bit, or 4 characters if the OS is 32-bit.</p>
</div>
<div id="pu45" class="pu"><h1>C, <s>33</s> <s>31</s> <s>29</s> 23 bytes</h1>

<pre><code>f(){return sizeof&amp;f*8;}
</code></pre>

<p>Thanks to commenters @ceilingcat and @Dennis for golfing tips!</p>
</div>
<div id="pu46" class="pu"><h1>Java, 50 bytes</h1>

<pre><code>int b(){return com.sun.jna.Native.POINTER_SIZE*8;}
</code></pre>

<hr>
</div>
<div id="pu47" class="pu"><h2>Python 2, <strike>52, 48, 42</strike> 41 bytes</h2>

<pre><code>from struct import*;print calcsize("P")*8
</code></pre>

<p>Thanks to totallyhuman!</p>
</div>
<div id="pu48" class="pu"><h1>Mathematica, 17 bytes</h1>
<pre><code>$SystemWordLength
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/127322/">127322</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




