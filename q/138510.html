<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::138510</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>038</td><td>Ruby</td><td>241025T164927Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/276329#276329">Jordan</a></td></tr>
<tr d-ix="1"><td>009</td><td>Japt</td><td>170811T125307Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138528#138528">Shaggy</a></td></tr>
<tr d-ix="2"><td>005</td><td>Thunno 2</td><td>230813T192600Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/264131#264131">The Thon</a></td></tr>
<tr d-ix="3"><td>044</td><td>Desmos</td><td>230323T032803Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/259382#259382">Youserna</a></td></tr>
<tr d-ix="4"><td>004</td><td>Nekomata</td><td>230323T021447Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/259380#259380">alephalp</a></td></tr>
<tr d-ix="5"><td>044</td><td>Arturo</td><td>230211T090147Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/257684#257684">chunes</a></td></tr>
<tr d-ix="6"><td>041</td><td>Factor + grouping.extras</td><td>230211T070811Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/257681#257681">chunes</a></td></tr>
<tr d-ix="7"><td>032</td><td>Zsh</td><td>210130T113631Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/218256#218256">GammaFun</a></td></tr>
<tr d-ix="8"><td>nan</td><td>Perl 5</td><td>170811T130012Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138529#138529">Xcali</a></td></tr>
<tr d-ix="9"><td>5846</td><td>Scala</td><td>210129T143436Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/218228#218228">Razetime</a></td></tr>
<tr d-ix="10"><td>005</td><td>Jelly</td><td>201005T201744Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/212083#212083">caird co</a></td></tr>
<tr d-ix="11"><td>008</td><td>Ohm</td><td>170811T125014Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138525#138525">totallyh</a></td></tr>
<tr d-ix="12"><td>013</td><td>J</td><td>170815T035615Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/139088#139088">cole</a></td></tr>
<tr d-ix="13"><td>056</td><td>Clojure</td><td>170814T123417Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138954#138954">NikoNyrh</a></td></tr>
<tr d-ix="14"><td>051</td><td>JavaScript ES6</td><td>170812T055752Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138684#138684">Aaron Hi</a></td></tr>
<tr d-ix="15"><td>051</td><td>Octave</td><td>170813T134648Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138801#138801">rahnema1</a></td></tr>
<tr d-ix="16"><td>013</td><td>k</td><td>170812T195601Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138741#138741">zgrep</a></td></tr>
<tr d-ix="17"><td>010</td><td>MATL</td><td>170811T185000Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138622#138622">DanTheMa</a></td></tr>
<tr d-ix="18"><td>015</td><td>Pyth</td><td>170812T120654Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138696#138696">Karan El</a></td></tr>
<tr d-ix="19"><td>045</td><td>Python 2</td><td>170812T002206Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138675#138675">Sisyphus</a></td></tr>
<tr d-ix="20"><td>049</td><td>R</td><td>170811T130825Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138531#138531">djhurio</a></td></tr>
<tr d-ix="21"><td>042</td><td>Mathematica 42 Bytes</td><td>170811T192302Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138630#138630">Kelly Lo</a></td></tr>
<tr d-ix="22"><td>016</td><td>CJam</td><td>170811T125015Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138526#138526">Erik the</a></td></tr>
<tr d-ix="23"><td>053</td><td>PHP</td><td>170811T154345Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138564#138564">Titus</a></td></tr>
<tr d-ix="24"><td>086</td><td>Java OpenJDK 8</td><td>170811T143629Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138543#138543">Nevay</a></td></tr>
<tr d-ix="25"><td>005</td><td>05AB1E</td><td>170811T140120Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138540#138540">Mr. Xcod</a></td></tr>
<tr d-ix="26"><td>067</td><td>Swift 3</td><td>170811T134515Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138538#138538">Mr. Xcod</a></td></tr>
<tr d-ix="27"><td>015</td><td>APL Dyalog</td><td>170811T132916Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138536#138536">user4180</a></td></tr>
<tr d-ix="28"><td>007</td><td>Husk</td><td>170811T122224Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138512#138512">H.PWiz</a></td></tr>
<tr d-ix="29"><td>050</td><td>JavaScript ES6</td><td>170811T124137Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138524#138524">Arnauld</a></td></tr>
<tr d-ix="30"><td>123</td><td>Batch</td><td>170811T131128Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138532#138532">Neil</a></td></tr>
<tr d-ix="31"><td>010</td><td>Brachylog</td><td>170811T130742Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138530#138530">Erik the</a></td></tr>
<tr d-ix="32"><td>008</td><td>Jelly</td><td>170811T122651Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138516#138516">miles</a></td></tr>
<tr d-ix="33"><td>081</td><td>C# Mono</td><td>170811T125159Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138527#138527">TheLetha</a></td></tr>
<tr d-ix="34"><td>008</td><td>Pyth</td><td>170811T123629Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138523#138523">Mr. Xcod</a></td></tr>
<tr d-ix="35"><td>005</td><td>05AB1E</td><td>170811T123149Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138521#138521">Erik the</a></td></tr>
<tr d-ix="36"><td>045</td><td>Mathematica</td><td>170811T122401Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138514#138514">ZaMoC</a></td></tr>
<tr d-ix="37"><td>054</td><td>Python 2</td><td>170811T122617Z</td><td><a href="https://codegolf.stackexchange.com/questions/138510/running-second-maximum-of-a-list/138515#138515">Rod</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 38 bytes</h1>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a{(2..a.size).map{a[0,_1].sort[-2]}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kqDSpcsEiN9ulpSVpuhY31XTtEqs1jPT0EvWKM6tSNfVyEwuqE6MNdOINY_WK84tKonWNYmtrIaq3FSi4RUcb6pjqGOkYA0lLILaIjYVILlgAoQE" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>12</s> <s>10</s> 9 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Includes a <code>null</code> element at the beginning.</p>
<pre><code>£¯YÄ ÍÔÅÎ
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=o69ZxCDN1MXO&amp;input=WzEsNSwyLDMsNSw5LDUsOF0tUQ" rel="nofollow noreferrer">Try it</a></p>
<pre><code>£¯YÄ ÍÔÅÎ     :Implicit input of array U
£             :Map 0-based indices Y
 ¯            :  Slice U from index 0 to
  YÄ          :    Index Y+1
     Í        :  Sort
      Ô       :  Reverse
       Å      :  Slice off first element
        Î     :  Get first element
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 5 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ƒıṠṫt
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVDNiU5MiVDNCVCMSVFMSVCOSVBMCVFMSVCOSVBQnQmZm9vdGVyPSZpbnB1dD0xJTJDJTIwNSUyQyUyMDIlMkMlMjAzJTJDJTIwNSUyQyUyMDklMkMlMjA1JTJDJTIwOCZmbGFncz1l" rel="nofollow noreferrer">Try it online!</a></p>
<p>Uses <code>[]</code> as the (arbitrary) first value.</p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>ƒıṠṫt  # Implicit input
ƒ      # Prefixes of the input
 ı     # Map over this list:
  Ṡ    #  Sort this list
   ṫt  #  Second-last item
       # Implicit output
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.desmos.com" rel="nofollow noreferrer">Desmos</a>, 44 bytes</h1>
<pre><code>f(x)=[x[1...i].sort[i-1]fori=[2...x.length]]
</code></pre>
<p><a href="https://www.desmos.com/calculator/08zdna8fty" rel="nofollow noreferrer">Try it on Desmos!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a>, 4 bytes</h1>
<pre><code>poil
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFZtJJurlLsgqWlJWm6FksK8jNzlhQnJRdDBRbcNIo21DHVMdIxBpKWQGwRywUUMQSKgMSMdUyAfCMg30BHF0QAJWIhWgE" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>p     Prefix
 o    Sort
  i   Init (remove the last element)
   l  Last
</code></pre>
<p>Accidentally, <a href="https://en.wiktionary.org/wiki/poil" rel="nofollow noreferrer">poil means hair in French</a>.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, <s>45</s> 44 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$-&gt;a-&gt;map..2size a=&gt;[last chop sort take a&amp;]
</code></pre>
<p><a href="http://arturo-lang.io/playground?YDp6y0" rel="nofollow noreferrer">Try it</a></p>
<pre><code>$-&gt;a-&gt;                  ; a function taking an argument a
    map..2size a =&gt; [   ; map over the indices of a sans the first few
        last            ; the last element
        chop            ; of a block without its last element
        sort            ; sorted
        take a &amp;        ; prefix of input given current index
    ]                   ; end map
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a> + <code>grouping.extras</code>, 41 bytes</h1>
<pre class="lang-factor prettyprint-override"><code>[ head-clump rest [ 1 kth-largest ] map ]
</code></pre>
<p><a href="https://tio.run/##PY9NCsIwEEb3PcXnAVq0Vah6AHHjRlyVLkKMbehfTKaglJ49Tqh0hvkgb95i8hKSBusf9@vtckJlh9HovkrUh6xwcOo9ql4qh05QnTgSpB1p6WCsIvoaq3vCOZoicE3Y4YAUGeeRJ8eMDRguKHS@ioEGnmHPGhZxhX8tZbJFHCKs5lVbOo1mX6BW4hnLduwMrHKEgjcN1XErbBXeJR9vUPqQ/APZJP4H" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<ul>
<li><code>head-clump rest</code> Prefixes without the first</li>
<li><code>[ 1 kth-largest ] map</code> Map each to the second-largest element</li>
</ul>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 32 bytes</h1>

<pre class="lang-sh prettyprint-override"><code>for x;a+=($x)&amp;&amp;&lt;&lt;&lt;${${(On)a}[2]}
</code></pre>
<p><a href="https://tio.run/##qyrO@J@moanxPy2/SKHCOlHbVkOlQlNNzcbGRqVapVrDP08zsTbaKLb2vyYXV5qCoYKpgpGCMZC0BGILsIghUAQkZqxgAuQbAfkGCrogAijxHwA" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></p>
<p>Reverse <code>O</code>rder <code>n</code>umerically, <code>&lt;&lt;&lt;</code> print the <code>[2]</code>nd element.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, <s>42</s> 39 + 1 (-a) = 40 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>say+(sort{$b-$a}@F[0..$_])[1]for 1..$#F
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/784sVJbozi/qKRaJUlXJbHWwS3aQE9PJT5WM9owNi2/SMEQyFN2@//fUMFUwUjBGEhaArHFv/yCksz8vOL/ur6megaGBv91EwE" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, <sup><S>58</s></sup> 46 bytes</h1>

<pre class="lang-scala prettyprint-override"><code>x=&gt;2 to x.size map(x take _ sortBy(-_)apply 1)
</code></pre>
<p><a href="https://tio.run/##bcyxCsIwAATQvV9xYwJRbKugQgt1E/QLREqsKURjGpogqeK3x2TW4W65x9mOKx6Gy010DkcuNYR3Ql8tGmPwzp5cod/iIK077bU7o6rR6AlV8FVdwA3wcytfAg9uiIfjd4EWdhjdbiKzlnJj1IScBjNK7ZQmPUlfJGcrVrAy9iZmTSnNfkQeRTIlW/7Zi7gv2CxVhAl8whc" rel="nofollow noreferrer" title="Scala – Try It Online">Try it online!</a></p>
<p>Takes a List as an argument, and returns a Vector.</p>
<p>-12 bytes from user.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 5 bytes</h1>
<pre><code>Ṣ-ịƊƤ
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///hzkW6D3d3H@s6tuT/4fZHTWu8gTjy//9oLs5oQx0FUx0FIx0FYzDDEkxaxOpApAzBUhBZIDIBixuBxQ10FHQhFEgRUCIWAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Outputs the first value of the input as the first value in the output. This can be removed for adding <a href="https://tio.run/##y0rNyan8///hzkW6D3d3H@s6tuThjq7/h9sfNa3xBuLI//@juTijDXUUTHUUjHQUjMEMSzBpEasDkTIES0FkgcgELG4EFjfQUdCFUCBFQIlYAA" rel="nofollow noreferrer">one byte</a>.</p>
<h2>How it works</h2>
<pre><code>Ṣ-ịƊƤ - Main link. Takes l on the left
    Ƥ - Generate the prefixes of l
   Ɗ  - Run the following code over each prefix:
Ṣ     -   Sort the prefix
 -ị   -   Take the -1th index.
      -     Jelly lists are 1 indexed and modular. This means that the 0th index of a list is the final element and -1 the second to last element
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/MiningPotatoes/Ohm" rel="nofollow noreferrer">Ohm</a>, <s>10</s> 8 bytes</h1>

<p><em>-2 bytes thanks to ETHproductions.</em></p>

<pre><code>∙p»îS2~ª
</code></pre>

<p><a href="https://tio.run/##y8/I/f//UcfMgkO7D68LNqo7tOr//2hDHQVTHQUjHQVjMMMSTFrEAgA" rel="nofollow noreferrer" title="Ohm – Try It Online">Try it online!</a></p>

<p><s>Uh, this is odd but I don't know how else to push a negative number...</s> I don't <em>really</em> know Ohm. :P</p>
</div>
<div id="pu12" class="pu"><h1>J, 13 bytes</h1>

<pre><code>_2&amp;{@/:~ ::#\
</code></pre>

<p><a href="https://tio.run/##y/r/P81WL95IrdpB36pOwcpKOYaLKzU5I18hTcFQwVTBSMEYSFoCscX//wA" rel="nofollow noreferrer">Try it online!</a> The first element is always 1.</p>

<h1>Explanation</h1>

<pre><code>_2&amp;{@/:~ ::#\
            \  Apply to prefixes
_2&amp;{@/:~        Sort and take second-to-last atom
     /:~         Sort upwards
_2 {             Take second-to-last atom
         ::     If there's an error (i.e only one atom)
           #     Return the length of the list (1)
</code></pre>

<p><a href="http://code.jsoftware.com/wiki/Vocabulary/coco" rel="nofollow noreferrer">The space matters.</a></p>
</div>
<div id="pu13" class="pu"><h2>Clojure, 56 bytes</h2>

<pre><code>#(for[i(drop 2(reductions conj[]%))](nth(sort-by - i)1))
</code></pre>

<p>Maybe there is a better way to generate those prefixes.</p>
</div>
<div id="pu14" class="pu"><h2>JavaScript (ES6), <s>43</s> 51 bytes</h2>
<p><strong>Edit:</strong> <em>Added 8 bytes since numerical sorting is desired.</em>  <code>:(</code></p>
<pre class="lang-js prettyprint-override"><code>a=&gt;a.map((_,b)=&gt;a.slice(0,b+1).sort((a,b)=&gt;b-a)[1])
</code></pre>
<p>Keeping this one here, though, as it is shorter providing one wants lexicographical ordering:</p>
<pre class="lang-js prettyprint-override"><code>a=&gt;a.map((_,b)=&gt;a.slice(0,b+1).sort()[b-1])
</code></pre>
<p>Both expressions produce <code>undefined</code> for the first element.</p>
<h3>Test code</h3>
<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>const golfed =

a=&gt;a.map((_,b)=&gt;a.slice(0,b+1).sort((a,b)=&gt;b-a)[1])

const inputs = [
  [1, 5, 2, 3, 5, 9, 5, 8],
  [1, 1, 2, 2, 3, 3, 4],
  [2, 1, 0, -1, 0, 1, 2]
];
console.log(inputs.map(x =&gt; golfed(x)));
// [ [ undefined, 1, 2, 3, 5, 5, 5, 8 ],
//   [ undefined, 1, 1, 2, 2, 3, 3 ],
//   [ undefined, 1, 1, 1, 1, 1, 2 ] ]</code></pre>
</div>
</div>
</p>
</div>
<div id="pu15" class="pu"><h1>Octave, 51 bytes</h1>



<pre class="lang-matlab prettyprint-override"><code>@(a){[~,I]=cummax(a);a(I(2:end))=-inf;cummax(a)}{3}
</code></pre>

<p>- An arbitrary value returned for the first element.</p>

<p><a href="https://tio.run/##y08uSSxL/f/fQSNRszq6Tscz1ja5NDc3sQLIt07U8NQwskrNS9HUtNXNzEuzhkvVVhvX/k/MK9aINlQwVTBSMAaSlkBsEav5HwA" rel="nofollow noreferrer" title="Octave – Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://en.wikipedia.org/wiki/K_(programming_language)" rel="nofollow noreferrer">k</a>, 13 bytes</h1>

<pre><code>{x(&gt;x)1}'1_,\
</code></pre>

<p><a href="https://tio.run/##y9bNz/7/P82qukLDrkLTsFbdMF4n5n@aup6VuoGVkn5Kapl@cUlKZp7Sf0MFUwUjBWMgaQnEFlyGCoZAPkjEWMGEywjIM1DQBRFAYQA" rel="nofollow noreferrer" title="K (oK) – Try It Online">Try it online!</a></p>

<pre><code>           ,\ /sublists of increasing lengths (scan concat)
         1_   /remove the first sublist
{      }'     /for each sublist:
  (&gt;x)        /    indices to permute sublist into largest to smallest
      1       /    get second index
 x            /    get sublist[that index]
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>19</s> 10 bytes</h1>
<p><em>Thanks to Luis Mendo for shaving off 9 bytes!</em></p>
<pre><code>&quot;GX@:)SP2)
</code></pre>
<p>Try it <a href="https://matl.suever.net/?code=tn2w2%24%3A%22t%40%3A%29SP2%29w%5Dx&amp;inputs=%5B1%205%202%203%205%209%205%208%5D&amp;version=20.2.2" rel="nofollow noreferrer">here</a>.</p>
<h3>Explanation</h3>
<pre><code>&quot;GX@:)SP2)
&quot;                  for all the values in the input
 G                 get input
  X@:)             get values up to the iteration
      SP           sort it in descending order
        2)         get the second value
                   implicit end of loop and output
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Pyth, 15 bytes</h1>

<p><code>FNr2hlQ@_S&lt;QN1</code></p>

<p>Try it here: <a href="https://pyth.herokuapp.com/?code=FNr2hlQ%40_S%3CQN1&amp;input=%5B1%2C+5%2C+2%2C+3%2C+5%2C+9%2C+5%2C+8%5D&amp;debug=0" rel="nofollow noreferrer">https://pyth.herokuapp.com/?code=FNr2hlQ%40_S%3CQN1&amp;input=%5B1%2C+5%2C+2%2C+3%2C+5%2C+9%2C+5%2C+8%5D&amp;debug=0</a></p>

<h1>Explanation</h1>

<p><code>FNr2hlQ</code> - For loop with counter 2 &lt;= N &lt;= list length</p>

<p><code>@_S&lt;QN1</code> - 2nd element when the first N elements of the list are sorted in ascending order and then reversed (sorted in descending order)</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 45 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda l:l[1:]and f(l[:-1])+[sorted(l)[-2]]
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/r/P802JzE3KSVRIccqJ9rQKjYxL0UhTSMn2krXMFZTO7o4v6gkNUUjRzNa1yg29n9BUWZeCVA@2lDHVMdIxxhIWgKxRawmF5KUIVAKJGmsY4IsYQSUMNDRBRFAFbGa/wE" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>The right side of the code is self-explanatory. However, what do we put to the left of the <code>and</code>? Because we are concatenating parts of a list recursively, we need the left side to be truthy if <code>l</code> has 2 or more elements, and an empty list otherwise. <code>l[1:]</code> satisfies this criterion nicely. </p>
</div>
<div id="pu20" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <strike>54</strike> 49 bytes</h1>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/67312/giuseppe">Giuseppe</a> -5 bytes. I did not know this feature of <code>seq()</code>.</p>



<pre class="lang-r prettyprint-override"><code>for(i in seq(x&lt;-scan()))cat(sort(x[1:i],T)[2],"")
</code></pre>

<p><a href="https://tio.run/##K/r/Py2/SCNTITNPoTi1UKPCRrc4OTFPQ1NTMzmxRKM4v6hEoyLa0CozVidEM9ooVkdJSfO/IZcplxGXMZC0BGKL/wA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
</div>
<div id="pu21" class="pu"><h2>Mathematica 42 Bytes</h2>

<p>Independently arrived at a answer very similar to @Jenny_mathy but 3 bytes shorter</p>

<pre><code>Sort[#[[;;i]]][[-2]]~Table~{i,2,Length@#}&amp;
</code></pre>

<p>Realized that the 1st running max takes only 15 bytes and two function calls!:</p>

<pre><code>Max~FoldList~#&amp;
</code></pre>

<p>This can be done so concisely because <code>Max</code> has the attributes <code>Flat</code> and <code>OneIdentity</code> but that's not true for <code>RankedMax</code> which would be the logical replacement.  Unfortunately defining attributes or modifying them on existing functions takes up way too many bytes, so the flattening must be done by other means.</p>

<p>All of the nth running maxes can be found in 48 bytes:</p>

<pre><code>PadLeft[Sort/@Flatten/@FoldList[{##}&amp;,{},#&amp;@#]]&amp;
</code></pre>
</div>
<div id="pu22" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, 16 bytes</h1>

<pre><code>{_,,:)\f{&lt;$-2=}}
</code></pre>

<p><a href="https://tio.run/##S85KzP2fU/e/Ol5Hx0ozJq3aRkXXyLa29n9dakqs9f9oQwVTBSMFYyBpCcQWsQA" rel="nofollow noreferrer" title="CJam – Try It Online">Try it online!</a></p>

<p>Returns first element for first.</p>

<p>-2 thanks to <a href="https://codegolf.stackexchange.com/users/61384/challenger5">Challenger5</a>.</p>
</div>
<div id="pu23" class="pu"><h1>PHP, 53 bytes</h1>
<pre class="lang-php prettyprint-override"><code>for(;a&amp;$n=$argv[++$i];rsort($a),print$a[1]._)$a[]=$n;
</code></pre>
<p>takes input from command line arguments. Output delimited, lead and trailed by semicola.<br />
Run with <code>-nr</code> or <a href="http://sandbox.onlinephpfunctions.com/code/e2727b7db12c9c5c48ff7786f6d7a88d4f455340" rel="nofollow noreferrer">try it online</a>.</p>
<p>Yields a warning in PHP 7.1; replace <code>a&amp;</code> with <code>&quot;&quot;&lt;</code> to fix.<br />
Or use <code>for(;++$i&lt;$argc;rsort($a),print$a[1]._)$a[]=$argv[$i];</code> (54 bytes)</p>
</div>
<div id="pu24" class="pu"><h1><a href="http://openjdk.java.net/" rel="nofollow noreferrer">Java (OpenJDK 8)</a>, <s>87</s> 86 bytes</h1>



<pre class="lang-java prettyprint-override"><code>a-&gt;{int x,y=x=1&lt;&lt;-1;for(int c:a){if((c&gt;x?x=c:c)&gt;y){x=y;y=c;}System.out.print(x+" ");}}
</code></pre>

<p><a href="https://tio.run/##ZY9Nb4MwDIbv@RVWT0GDaHSbtJWPHXbeqceqhyyFKgwSlBgEQvx2Fihbt86K4sTvY@t1wVse6DpTxelzklWtDULhaqxBWbK8UQKlVuxNK9tUmYkIqZuPUgoQJbcW3rlUMBACLlbBIkeXWi1PUDmZ7tFIdT4cgZuz9RwNa2BmkYY@PPmw9eFhebws97MX/aPChbqA7jzeItsFufchuKSZX5mRrA6NbDlmfywuvVIhY8wZNL/9fS8dO/lwTCGHZOJBOrgvdH6fdEkYx0EY5drME0DsuDfInFKRdq9dInbCS3tv6JI@6hMRjfveYlYx3SBzThTS7m4DGy8ax@m6S864EFmNdDZzLd/2lor@LDeS6Qs" rel="nofollow noreferrer" title="Java (OpenJDK 8) – Try It Online">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 5 bytes</h1>
<p>Found another 5-byter, <em>very</em> different from <a href="https://codegolf.stackexchange.com/a/138521/59487">Erik's solution</a>. The arbitrary value is the first element of the list.</p>
<pre><code>ηε{Áθ
</code></pre>
<p><a href="https://tio.run/##MzBNTDJM/f//3PZzW6sPN57b8f9/tKGOqY6RjjGQtARii1gA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<hr />
<h1>Explanation</h1>
<pre><code>ηε{Áθ  - Full program that reads implicitly from STDIN and outputs to STDOUT.

η      - Push the Prefixes of the list.
 ε     - Apply to each element (each prefix):
  {      - Sort the prefix list.
   Á     - Shift the list to the right by 1, such that the first element goes to the 
           beginning  and the second largest one becomes the last.
    θ    - Get the last element (i.e. the second largest)
         - Print implicitly.
</code></pre>
<hr />
<p>Let's take an example, to make it easier to understand.</p>
<ul>
<li><p>First we get the implicit input, let's say it's <code>[1, 5, 2, 3, 5, 9, 5, 8]</code>.</p>
</li>
<li><p>Then, we push its prefixes using <code>η</code> - <code>[[1], [1, 5], [1, 5, 2], [1, 5, 2, 3], [1, 5, 2, 3, 5], [1, 5, 2, 3, 5, 9], [1, 5, 2, 3, 5, 9, 5], [1, 5, 2, 3, 5, 9, 5, 8]]</code>.</p>
</li>
<li><p>Now, the code maps through the list and sorts each prefix using <code>{</code> - <code>[[1], [1, 5], [1, 2, 5], [1, 2, 3, 5], [1, 2, 3, 5, 5], [1, 2, 3, 5, 5, 9], [1, 2, 3, 5, 5, 5, 9], [1, 2, 3, 5, 5, 5, 8, 9]]</code>.</p>
</li>
<li><p>We then take the very last element and move it to the beginning: <code>[[1], [5, 1], [5, 1, 2], [5, 1, 2, 3], [5, 1, 2, 3, 5], [9, 1, 2, 3, 5, 5], [9, 1, 2, 3, 5, 5, 5], [9, 1, 2, 3, 5, 5, 5, 8]]</code>.</p>
</li>
<li><p>Of course, now the code gets the last element of each sublist using <code>θ</code> - <code>[1, 1, 2, 3, 5, 5, 5, 8]</code> (the first one being the arbitrary value.</p>
</li>
</ul>
</div>
<div id="pu26" class="pu"><h1><a href="https://www.swift.org" rel="nofollow noreferrer">Swift 3</a>, 67 bytes</h1>

<pre class="lang-swift prettyprint-override"><code>func g(l:[Int]){print((1..&lt;l.count).map{l[0...$0].sorted()[$0-1]})}
</code></pre>
<p><strong><a href="http://swift.sandbox.bluemix.net/#/repl/598db322de80147f1a9d2322" rel="nofollow noreferrer">Test Suite.</a></strong></p>
<h1><a href="https://www.swift.org" rel="nofollow noreferrer">Swift 3</a>, 65 bytes</h1>
<pre class="lang-swift prettyprint-override"><code>{l in(1..&lt;l.count).map{l[0...$0].sorted()[$0-1]}}as([Int])-&gt;[Int]
</code></pre>
<p><strong><a href="http://swift.sandbox.bluemix.net/#/repl/598db37ede80147f1a9d2323" rel="nofollow noreferrer">Test Suite.</a></strong></p>
<hr />
<h3>How to run these?</h3>
<p>The first one is a complete function that takes the input as a function parameter and prints the result. You can use them exactly as shown in the testing link. I decided to add instructions though, because the second type of function is used very rarely and most people don't even know of its existence. <strong>Usage:</strong></p>
<pre class="lang-swift prettyprint-override"><code>g(l: [1, 1, 2, 2, 3, 3, 4] )
</code></pre>
<p>The second one is an anonymous function, like lambdas. You can use it exactly as you'd do it Python, declaring a variable <code>f</code> and calling it:</p>
<pre class="lang-swift prettyprint-override"><code>var f = {l in(1..&lt;l.count).map{l[0...$0].sorted()[$0-1]}}as([Int])-&gt;[Int]

print(f([1, 1, 2, 2, 3, 3, 4]))
</code></pre>
<p><strong>or</strong> wrap it between brackets and call it directly (<code>(...)(ArrayGoesHere)</code>):</p>
<pre class="lang-swift prettyprint-override"><code>print(({l in(1..&lt;l.count).map{l[0...$0].sorted()[$0-1]}}as([Int])-&gt;[Int])([1, 1, 2, 2, 3, 3, 4]))
</code></pre>
</div>
<div id="pu27" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog)</a>, 15 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>(2⊃⍒⊃¨⊂)¨1↓,\∘⊢
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///3/FR2wQNo0ddzY96JwHJQysedTVpHlph@Khtsk7Mo44Zj7oWARUpGCkYKhgoHFoPIg0VjAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
</div>
<div id="pu28" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <s>9</s> 7 bytes</h1>
<p>Saved a byte or two thanks to @Zgarb</p>
<pre><code>mȯ→hOtḣ
</code></pre>
<p>Returns <code>0</code> for the first &quot;second maximum&quot;</p>
<h3>Explaination</h3>
<pre><code>         -- implicit input, e.g          [1,5,3,6]
      ḣ  -- prefixes                     [[],[1],[1,5],[1,5,3],[1,5,3,6]]
     t   -- remove the first element     [[1],[1,5],[1,5,3],[1,5,3,6]]
mȯ       -- map the composition of 3 functions
    O    --   sort                       [[1],[1,5],[1,3,5],[1,3,5,6]]
   h     --   drop the last element      [[],[1],[1,3],[1,3,5]
  →      --   return the last element    [0,1,3,5]
         -- implicit output
</code></pre>
<p><a href="https://tio.run/##yygtzv7/P/fE@kdtkzL8Sx7uWPz///9oQx1THSMdYyBpCcQWsQA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
</div>
<div id="pu29" class="pu"><h2>JavaScript (ES6), <s>58</s> <s>51</s> 50 bytes</h2>

<p><em>Saved 1 byte thanks to <a href="https://codegolf.stackexchange.com/users/17602/neil">@Neil</a></em></p>

<p>Appends <code>undefined</code> for <strong><em>k = 1</em></strong>.</p>

<pre class="lang-js prettyprint-override"><code>a=&gt;a.map(e=&gt;(b=[e,...b]).sort((a,b)=&gt;b-a)[1],b=[])
</code></pre>

<h3>Test cases</h3>

<p><em>NB: This snippet uses <code>JSON.stringify()</code> for readability, which -- as a side effect -- converts <code>undefined</code> to <code>null</code>.</em></p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>let f =

a=&gt;a.map(e=&gt;(b=[e,...b]).sort((a,b)=&gt;b-a)[1],b=[])

console.log(JSON.stringify(f([1, 5, 2, 3, 5, 9, 5, 8]))) // 1 2 3 5 5 5 8
console.log(JSON.stringify(f([1, 1, 2, 2, 3, 3, 4])))    // 1 1 2 2 3 3
console.log(JSON.stringify(f([2, 1, 0, -1, 0, 1, 2])))   // 1 1 1 1 1 2</code></pre>
</div>
</div>
</p>
</div>
<div id="pu30" class="pu"><h2>Batch, 123 bytes</h2>

<pre><code>@set/af=s=%1
@for %%n in (%*)do @call:c %%n
@exit/b
:c
@if %1 gtr %s% set s=%1
@if %1 gtr %f% set/as=f,f=%1
@echo %s%
</code></pre>
</div>
<div id="pu31" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 10 bytes</h1>

<pre><code>a₀ᶠb{okt}ᵐ
</code></pre>

<p><a href="https://tio.run/##SypKTM6ozMlPN/r/P/FRU8PDbQuSqvOzS2ofbp3w/3@0oY6pjpGOMZC0BGKL2P9RAA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
</div>
<div id="pu32" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 8 bytes</h1>

<pre><code>ḣJṢ€Ṗ€Ṫ€
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///hjsVeD3cuetS05uHOaWByFZD8//9/tKGOgqmOgpGOgjGYYQkmLWIB" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>The first value will be 0, always, and the following numbers will be the second maximums of each prefix.</p>

<h2>Explanation</h2>

<pre><code>ḣJṢ€Ṗ€Ṫ€  Input: array A
 J        Enumerate indices, [1, 2, ..., len(A)]
ḣ         Head, get that many values from the start for each, forms the prefixes
  Ṣ€      Sort each
    Ṗ€    Pop each, removes the maximum
      Ṫ€  Tail each
</code></pre>
</div>
<div id="pu33" class="pu"><h1><a href="http://www.mono-project.com/" rel="nofollow noreferrer">C# (Mono)</a>, 81 bytes</h1>



<pre class="lang-c# prettyprint-override"><code>using System.Linq;a=&gt;a.Select((_,i)=&gt;a.Take(++i).OrderBy(n=&gt;n).Skip(i-2).First())
</code></pre>

<p><a href="https://tio.run/##nY/fS8MwEMff@1ccPiUsDa4qKLV9cDhRFAcVfBCRmN3kWJtokipj9G@vaYvg8@C4X9x97nvap401tm89mQ@odj5gkyf/K3lP5itPEl0r72GV7BMfVCAN35bW8KDIMB6by9boSzLh5VX8LS5sXaMOZI2XN2jQkZa316Zt0Kn3GofpsoQNFNCrolSywmGcsTdBfKif1BbZbEZcPro1uqsdM0VpuKy29MkozbhckvOBcd5HfYt4xtYonx0FjJqR@eDiG/LORolHAqJtmMEfGFXCfi7gTEAm4GRMLkZ/3nHO84Ng8xE28aKdHkjKRtKxgHQKA3ZCdUnX/wI" rel="nofollow noreferrer" title="C# (Mono) – Try It Online">Try it online!</a></p>
</div>
<div id="pu34" class="pu"><h1><a href="https://pyth.readthedocs.io" rel="nofollow noreferrer">Pyth</a>, 8 bytes</h1>
<pre><code>m@Sd_2._
</code></pre>
<p><strong><a href="https://pyth.herokuapp.com/?code=m%40Sd_2._&amp;input=%5B1%2C5%2C2%2C3%2C5%2C9%2C5%2C8%5D&amp;debug=0" rel="nofollow noreferrer">Try it online!</a></strong> or <strong><a href="http://pyth.herokuapp.com/?code=m%40Sd_2._&amp;input=%5B1%2C+5%2C+2%2C+3%2C+5%2C+9%2C+5%2C+8%5D&amp;test_suite=1&amp;test_suite_input=%5B1%2C5%2C2%2C3%2C5%2C9%2C5%2C8%5D%0A%5B1%2C+1%2C+2%2C+2%2C+3%2C+3%2C+4%5D%0A%5B2%2C+1%2C+0%2C+-1%2C+0%2C+1%2C+2%5D&amp;debug=0" rel="nofollow noreferrer">Try the Test Suite!</a></strong></p>
<hr />
<h1>How?</h1>
<p>This outputs the first element of the list as the first value in the list, as per the spec <em>You can output an arbitrary value for the first element</em>.</p>
<pre>
m@Sd_2._   - Full program with implicit input.

m     ._Q  - Map over the prefixes of the input with a variable d.
  Sd       - Sorts the current prefix.
 @         - Gets the element...
    _2       - At index - 2 (the second highest).
           - Print implicitly.
</pre>
</div>
<div id="pu35" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 5 bytes</h1>

<pre><code>ηεà\à
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f//3PZzWw8viDm84P//aEMdBVMdBSMdBWMwwxJMWsQCAA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p>Returns <code>[]</code> (arbitrary value) for first.</p>
</div>
<div id="pu36" class="pu"><h1>Mathematica, 45 bytes</h1>
<pre><code>Sort[s[[;;i]]][[-2]]~Table~{i,2,Length[s=#]}&amp;
</code></pre>
<p><a href="https://tio.run/##y00sychMLv6fZvs/OL@oJLo4OtraOjM2NjY6WtcoNrYuJDEpJ7WuOlPHSMcnNS@9JCO62FY5tlbtf0BRZl6JgkNadLWhjoKpjoKRjoIxmGEJJi1qY/8DAA" rel="nofollow noreferrer" title="Mathics – Try It Online">Try it online!</a></p>
</div>
<div id="pu37" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 54 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda x:[sorted(x[:i])[-2]for i in range(2,1+len(x))]
</code></pre>

<p><a href="https://tio.run/##HYtBDsIgEEX3noJdIU4ToZooiSehLDAFJcGhQRZ4ehxczM//72X2b31lVD3c157c@7E51rT55FL9xpvR0QozKxtyYZFFZMXh03MF8pg88iaE7cOl4YyRcAEFC@WN7mqBiCQy2AJn2vQJJ5hHkLBWH9heIlaWYFpxgsCT@Lfefw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/138510/">138510</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




