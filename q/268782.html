<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::268782</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>087</td><td>Google Sheets</td><td>231227T102112Z</td><td><a href="https://codegolf.stackexchange.com/questions/268782/golf-a-range-with-modulus-and-subtraction/268798#268798">doubleun</a></td></tr>
<tr d-ix="1"><td>056</td><td>Python 3.8 prerelease</td><td>231227T004437Z</td><td><a href="https://codegolf.stackexchange.com/questions/268782/golf-a-range-with-modulus-and-subtraction/268792#268792">l4m2</a></td></tr>
<tr d-ix="2"><td>007</td><td>Jelly</td><td>231226T232002Z</td><td><a href="https://codegolf.stackexchange.com/questions/268782/golf-a-range-with-modulus-and-subtraction/268790#268790">Nick Ken</a></td></tr>
<tr d-ix="3"><td>053</td><td>Charcoal</td><td>231226T213147Z</td><td><a href="https://codegolf.stackexchange.com/questions/268782/golf-a-range-with-modulus-and-subtraction/268788#268788">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Google Sheets, 87 bytes</h1>
<pre><code>=let(a,transpose(split(A1,&quot;,&quot;)),index(a-sort(mod(sequence(count(a)),count(a)),a,1)))
</code></pre>
<p>Put a string like <code>2,1,5,3,99,7</code> in cell <code>A1</code> and the formula in cell <code>B1</code>.</p>
<blockquote>
<p><em>something representing an equation which will make the list of numbers have unique, non-negative values between 0 and one less than the length of the list</em></p>
</blockquote>
<p>The output is returned as a vertical array with values like <code>0,0,1,0,99,1,1</code>. It is a list of numbers to subtract from each value in <code>A1</code> in turn, using an equation like <span class="math-container">\$r\$</span><sub><span class="math-container">\$i\$</span></sub> = <span class="math-container">\$a\$</span><sub><span class="math-container">\$i\$</span></sub> - <span class="math-container">\$o\$</span><sub><span class="math-container">\$i\$</span></sub> where <span class="math-container">\$i\$</span> âˆˆ (0, length of list].</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 56 bytes by Nick Kennedy</h1>

<pre class="lang-python prettyprint-override"><code>lambda x:[[-1,z+i]for(i,z)in enumerate(sorted(x)[::-1])]
</code></pre>
<p><a href="https://tio.run/##LYxLCsMgFEXnruJNCkpfoLb0EyErsQ7SRKnQmGAMGDdvbZrR/XA40xreo7s8Jp9NA8/8aYdX30IUUlYc09EqM3pqMTHrQLtl0L4Nms6jD7qnkUkhKq6YyhEakGfkeMUL1jXe8abI5K0L1BSOkV4bCHoOZQgCa8EjgSKHDora/O/tlzRBBZ08KQaHklxtXPpxqyLgdVh8qWT371aWvw" rel="nofollow noreferrer" title="Python 3.8 (pre-release) â€“ Try It Online">Try it online!</a></p>
<p>Each pair to subtract then modulo</p>
<h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 93 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda x:['-',p:=min(x)]+g(sorted(x),p)
g=lambda x,p:x and['+',1,'%',x[-1]+1-p]+g(x[:-1],p-1)
</code></pre>
<p><a href="https://tio.run/##XY9LCsMwDET3OYU2RTZRFmnoL@CTuFmk5FND6hg7FPf0rtJQKF0IZoY3SHKv5T7b6ux8GhRc09Q@bl0LsdZYILlaPYwVUTb5KMLsl75jQ05mo/qSDEVobacxRyoJd0hRF2WTl4Vba1HX7MgVpUxeDULvmTpQRZcLnejYyMx5YxfhZTbMHiIYC/9MnQEEUIDIYqXMSvk1BjADBKUQN7eB5qP7KfTfNHLaP9tJhMXzD5Azx8PGSPnT/KzYLooyvQE" rel="nofollow noreferrer" title="Python 3.8 (pre-release) â€“ Try It Online">Try it online!</a></p>
<p>That's why I need <code>+</code></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>
<pre><code>á¹¢á¹š+J-;â±®
</code></pre>
<ul>
<li><a href="https://tio.run/##y0rNyan8///hzkUPd87S9tK1frRx3f///410DHVMdYx1LC11zHXMAA" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></li>
<li><a href="https://tio.run/##y0rNyan8H696bO2xSQ7HJv1/uHPRw52ztL10rR9tXPc/3Ppwu47h0YZDS1Ue7tz3qGlN1qOGOQq6dgqPGuZyHW4HCkRyWVpWmEcAWYe2PmrcFXhs4qE1Kof2P9y59lHjjsPt//9Hc0Ub6RjqmOoY61ha6pjrmMXqcEVD@CY6RiCOqZGOqaWOqbGOqamOqUUsVywA" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Test suite</a></li>
</ul>
<p>A monadic link which is called as a monad with a single argument, an unsorted list of non-negative integers, and returns a list structured as <code>[[s1, m1], [s2, m2], â€¦]</code> where there are pairs of subtraction (<code>- sn</code>) and modulo (<code>% mn</code>) steps.</p>
<p>The test suite has three fixed examples followed by a randomly generated fourth example. It also proves that the supplied result works; the header encodes a dyadic link that takes the result as detailed above as its left argument and the original list of integers as the right; it returns the list of integers from 0..(len(n) - 1) that results from applying the specified transformations.</p>
<h2>Explanation</h2>
<pre><code>á¹¢       | Sort
 á¹š      | Reverse
  +J    | Add 1-indexed indices
    -;â±® | Prepend each with -1
</code></pre>
<p>Extends <a href="https://codegolf.stackexchange.com/a/268792/42248">@l4m2â€™s observation</a> that a series of plus ones can be used to simplify the task.</p>
<h2>Original answer, <a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 25 bytes</h2>
<pre><code>â€™Â¹Æ‡Å»Ã„áº¡
á¹¢Iâ€™k$Â§$Å¼Ã§É—á¹€_á¹‚â€˜Æ²á¹–á¹­á¹‚
</code></pre>
<ul>
<li><a href="https://tio.run/##AU4Asf9qZWxsef//4oCZwrnGh8W7w4ThuqEK4bmiSeKAmWskwqckxbzDp8mX4bmAX@G5guKAmMay4bmW4bmt4bmC////MiwxLDUsMyw5OSw3LDY" rel="nofollow noreferrer">Try it online!</a></li>
<li><a href="https://tio.run/##JYu9CsIwGEX3PEWHun0OtsYaBHF1dFIppZNL9QF0iyJ01sEf0EFBuugiCKaKQkIDPkbyIjEiXLj3HLjJYDSamDguyYtctn6xbTTdcibT4iHmKj8gxY5tq4Yuz9ziKbLPWjEaKzbTdCOviq0Uu1gy3YZIoVJQfnIVe@nZOdF055SbjqZ7JFIr@oiQcdCzi9/0NO/IBT@7/G3/enoXqTEhCj2oAAYfCIEAahGg8M9V8H6APcAEsA8YA65HKPoC" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Test suite</a></li>
</ul>
<p>A pair of links which is called as a monad with a single argument, an unsorted list of non-negative integers, and returns a list structured as <code>[s0, [[s1, m1], [s2, m2]]]</code> where <code>s0</code> is an initial subtraction step and then there are zero or more pairs of subtraction (<code>- sn</code>) and modulo (<code>% mn</code>) steps.</p>
<p>The test suite has three fixed examples followed by a randomly generated fourth example. It also proves that the supplied result works; the header encodes a dyadic link that takes the result as detailed above as its left argument and the original list of integers as the right; it returns the list of integers from 0..(len(n) - 1) that results from applying the specified transformations.</p>
<h2>Explanation</h2>
<pre><code>â€™Â¹Æ‡Å»Ã„áº¡
á¹¢Iâ€™k$Â§$Å¼Ã§É—á¹€_á¹‚â€˜Æ²á¹–á¹­á¹‚Â­â¡â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â â€âªâ¡âªâ âªâ¢âªâ€â â€âªâ¡âªâ âªâ£âªâ€â â€âªâ¡âªâ âªâ¤âªâ€â â€âªâ¡âªâ âªâ¢â¡âªâ€â â€âªâ¡âªâ âªâ¢â¢âªâ€â€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ¢âªâ€â â€âªâ¡âªâ âªâ£âªâ€â€â€‹â¡â â¡â€Œâ¤â€‹â€â€âªâ¡âªâ âªâ¤âªâ€â€â€‹â¡â â¡â€Œâ¢â¡â€‹â€â€âªâ¡âªâ âªâ¢â¡âªâ€â€â€‹â¡â â¡â€Œâ¢â¢â€‹â€â€âªâ¡âªâ âªâ¢â¢âªâ€â€â€‹â¡â â¡â€Œâ¢â£â€‹â€â€â€‹â¢â â¢â€Œâ¢â¤â€‹â€â€âªâ¢âªâ âªâ¡âªâ€â â€âªâ¢âªâ âªâ¢âªâ€â â€âªâ¢âªâ âªâ£âªâ€â â€âªâ¢âªâ âªâ¤âªâ€â â€âªâ¢âªâ âªâ¢â¡âªâ€â â€âªâ¢âªâ âªâ¢â¢âªâ€â â€âªâ¢âªâ âªâ¢â£âªâ€â â€âªâ¢âªâ âªâ¢â¤âªâ€â â€âªâ¢âªâ âªâ£â¡âªâ€â â€âªâ¢âªâ âªâ£â¢âªâ€â â€âªâ¢âªâ âªâ£â£âªâ€â â€âªâ¢âªâ âªâ£â¤âªâ€â â€âªâ¢âªâ âªâ¤â¡âªâ€â â€âªâ¢âªâ âªâ¤â¢âªâ€â â€âªâ¢âªâ âªâ¤â£âªâ€â â€âªâ¢âªâ âªâ¤â¤âªâ€â â€âªâ¢âªâ âªâ¢â¡â¡âªâ€â â€âªâ¢âªâ âªâ¢â¡â¢âªâ€â€â€‹â¡â â¡â€Œâ£â¡â€‹â€â€âªâ¢âªâ âªâ¡âªâ€â€â€‹â¡â â¡â€Œâ£â¢â€‹â€â€âªâ¢âªâ âªâ¢âªâ€â€â€‹â¡â â¡â€Œâ£â£â€‹â€â€âªâ¢âªâ âªâ£â¢âªâ€â â€âªâ¢âªâ âªâ£â£âªâ€â â€âªâ¢âªâ âªâ£â¤âªâ€â â€âªâ¢âªâ âªâ¤â¡âªâ€â â€âªâ¢âªâ âªâ¤â¢âªâ€â â€âªâ¢âªâ âªâ¤â£âªâ€â€â€‹â¡â â¡â€Œâ£â¤â€‹â€â€âªâ¢âªâ âªâ¢â£âªâ€â€â€‹â¡â â¡â€Œâ¤â¡â€‹â€â€âªâ¢âªâ âªâ£âªâ€â â€âªâ¢âªâ âªâ¤âªâ€â â€âªâ¢âªâ âªâ¢â¡âªâ€â€â€‹â¡â â¡â€Œâ¤â¢â€‹â€âªâªâ â€âªâ¢âªâ âªâ¢â¢âªâ€â€â€‹â¡â â¡â€Œâ¤â£â€‹â€â€âªâ¢âªâ âªâ¢â¤âªâ€â â€âªâ¢âªâ âªâ£â¡âªâ€â â€âªâ¢âªâ âªâ£â¢âªâ€â€â€‹â¡â â¡â€Œâ¤â¤â€‹â€â€âªâ¢âªâ âªâ¤â¤âªâ€â€â€‹â¡â â¡â€Œâ¢â¡â¡â€‹â€â€âªâ¢âªâ âªâ¢â¡â¡âªâ€â â€âªâ¢âªâ âªâ¢â¡â¢âªâ€â€â€‹â¡â â¡â€ŒÂ­

â€™Â¹Æ‡Å»Ã„áº¡              # â€â¡Helper link: takes a list of increments as its left argument and the range + 1 of the original list as its right and returns the modulos needed (with a redundant final one)
â€™                   # â€â¢Subtract 1
 Â¹Æ‡                 # â€â£Keep only those which are non-zero
   Å»                # â€â¤Prepend a zero
    Ã„               # â€â¢â¡Cumulative sum
     áº¡              # â€â¢â¢Absolute difference (from the range + 1)
â€â¢â£
á¹¢Iâ€™k$Â§$Å¼Ã§É—á¹€_á¹‚â€˜Æ²á¹–á¹­á¹‚  # â€â¢â¤Main link
á¹¢                   # â€â£â¡Sort
 I                  # â€â£â¢Increments
         É—á¹€_á¹‚â€˜Æ²     # â€â£â£Following as a dyad, with the increments as the left argument and (max - min + 1) of the original list as the right
      $             # â€â£â¤- Following as a monad:
  â€™k$               # â€â¤â¡  - Split the list of increments after any which are &gt;1
     Â§              # â€â¤â¢  - Sum inner lists
       Å¼Ã§É—          # â€â¤â£- Zip with the results of calling the helper link with the increments as the left argument and the range + 1 as the right
               á¹–    # â€â¤â¤Remove the last member of the list
                á¹­á¹‚  # â€â¢â¡â¡Tag onto the minimum of the original list
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
<p>In brief, this works by separately constructing the right hand arguments needed for subtraction and the modulo separately. The arguments for subtraction are the increments, except where there are consecutive numbers (i.e. increments of 1), these are collapsed into the next non-consecutive one. The arguments for modulo start with the range + 1 and decrease each time by the non-consecutive gaps - 1.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 53 bytes</h1>
<pre><code>â‰”lÎ·ï¼·Î¦Î¸â»â€¦âŒŠÎ¸ÎºÎ¸Â«â‰”âŠ•â»âŒˆÎ¸âŒŠÎ¸Î¶â‰”âª«âŸ¦(Î·-âŒŠÎ¹)%Î¶âŸ§Ï‰Î·â‰§â»âŒŠÎ¹Î¸â‰§ï¹ªÎ¶Î¸Â»Î·Â¿âŒŠÎ¸âº-âŒŠÎ¸
</code></pre>
<p><a href="https://tio.run/##bY9Pa8MwDMXPzacQhoEE6qEb2yg97TJoIVB6DTmY1EvEHGf515aWfXbPwdu6wg4Cy3q/p6ei0l3RaOv9S99L6VBZxVDRKjlWYg3gq9jBdNgypOLGHnfalQbDW@qxxpYY3kO1RASXZPZtsnZFZ2rjBrPHiKX69AtcYQrdOez64TaNOMwUThEY1FxdxRKkiu7CzzlnOFIMOUv1R2R3UlZDXHYLtf/Jmv1om2AVx5/JthM34OQob/DnOoI42dpww02eKfzK@yy75wU/8gMvl/zMT3nu5wf7BQ" rel="nofollow noreferrer" title="Charcoal â€“ Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>â‰”lÎ·
</code></pre>
<p>Start with just the name of the list.</p>
<pre><code>ï¼·Î¦Î¸â»â€¦âŒŠÎ¸ÎºÎ¸Â«
</code></pre>
<p>Repeat while there is a break in the list.</p>
<pre><code>â‰”âŠ•â»âŒˆÎ¸âŒŠÎ¸Î¶
</code></pre>
<p>Calculate the span of the list.</p>
<pre><code>â‰”âª«âŸ¦(Î·-âŒŠÎ¹)%Î¶âŸ§Ï‰Î·
</code></pre>
<p>Update the equation for the break and span.</p>
<pre><code>â‰§â»âŒŠÎ¹Î¸â‰§ï¹ªÎ¶Î¸
</code></pre>
<p>Update the list for the break and span.</p>
<pre><code>Â»Î·
</code></pre>
<p>Output the equation.</p>
<pre><code>Â¿âŒŠÎ¸âº-âŒŠÎ¸
</code></pre>
<p>Handle the case where there was no break in the list.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/268782/">268782</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




