<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::219158</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>041</td><td>Wolfram Language Mathematica</td><td>210216T181615Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219178#219178">att</a></td></tr>
<tr d-ix="1"><td>071</td><td>Ruby</td><td>210217T103529Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219226#219226">Razetime</a></td></tr>
<tr d-ix="2"><td>013</td><td>MATL</td><td>210217T031426Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219206#219206">Suever</a></td></tr>
<tr d-ix="3"><td>018</td><td>Jelly</td><td>210216T200430Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219183#219183">Jonathan</a></td></tr>
<tr d-ix="4"><td>017</td><td>05AB1E</td><td>210216T143933Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219159#219159">Kevin Cr</a></td></tr>
<tr d-ix="5"><td>121</td><td>Python 3</td><td>210216T154708Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219168#219168">Noodle9</a></td></tr>
<tr d-ix="6"><td>nan</td><td>J</td><td>210216T150235Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219161#219161">Jonah</a></td></tr>
<tr d-ix="7"><td>075</td><td>Python 3 + numpy</td><td>210216T163109Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219171#219171">ovs</a></td></tr>
<tr d-ix="8"><td>045</td><td>R</td><td>210216T152854Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219164#219164">Kirill L</a></td></tr>
<tr d-ix="9"><td>046</td><td>Julia</td><td>210216T160302Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219169#219169">MarcMush</a></td></tr>
<tr d-ix="10"><td>088</td><td>JavaScript ES6</td><td>210216T150812Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219162#219162">Arnauld</a></td></tr>
<tr d-ix="11"><td>011</td><td>MathGolf</td><td>210216T153713Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219166#219166">Kevin Cr</a></td></tr>
<tr d-ix="12"><td>025</td><td>Charcoal</td><td>210216T153607Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219165#219165">Neil</a></td></tr>
<tr d-ix="13"><td>021</td><td>APLDyalog Unicode</td><td>210216T152408Z</td><td><a href="https://codegolf.stackexchange.com/questions/219158/verify-the-inequality/219163#219163">ovs</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>42</s> 41 bytes</h1>
<pre><code>{##2,#}&amp;@@(a=1~RandomReal~#;a/=Tr@a).a|a&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b7v1pZ2UhHuVbNwUEj0dawLigxLyU/Nyg1MadO2TpR3zakyCFRUy@xJlHtv0t@dEBRZl5JdKauXZpDZqxOdaaOiY5ZrY6hQex/AA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <sup><s>83 82 72</s></sup> 71 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;n{k=(1..n).map{rand};p=k[~-s=0]/z=k.sum;[k.map{|x|s+=p*x/z;p=x/z},s]}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf1y6vOttWw1BPL09TLzexoLooMS@l1rrANju6TrfY1iBWv8o2W6@4NNc6OhssX1NRU6xtW6BVoV8FVAUka3WKY2v/FyikRZvG/gcA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>-4,-1,-6 from ASCII-only!</p>
<p>-4, shortening it further.</p>
<p>-1 more byte from ASCII-only.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 13 bytes</h1>
<pre><code>l&amp;rts/ttlYS*s
</code></pre>
<p><a href="https://tio.run/##y00syfn/P0etqKRYv6QkJzJYq/j/fxMA" rel="nofollow noreferrer">Try it online!</a></p>
<p><strong>Explanation</strong></p>
<pre><code>             % Implicitly retrieve input (N) as an integer
l            % Push the literal 1 to the stack
&amp;r           % Create an N x 1 array of random floats
t            % Duplicate this array
s            % Sum the elements of this array
/            % And perform element-wise division of the original array by this sum
             % to get the array, A
tt           % Duplicate A (twice)
lYS          % Circularly shift A by 1 element
*            % Perform element-wise multiplication with A
s            % Compute the sum
             % Implicitly display A and the sum of the products
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 18 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<p><sup>No built-in for random floats, so half the code is that!</sup></p>
<pre><code>2ṗ⁹XHCḅ.)÷S$µṙ1ḋƊ,
</code></pre>
<p>A monadic Link accepting an integer, <code>n</code>, which yields a list containing a non-negative float (the sum of products) and the generated list of non-negative floats of length <code>n</code> which sums to <code>1</code>.</p>
<p><strong><a href="https://tio.run/##ASgA1/9qZWxsef//MuG5lzlYSEPhuIUuKcO3UyTCteG5mTHhuIvGiiz///80" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (Note that <code>⁹</code> (<span class="math-container">\$256\$</span>) has been replaced with <code>9</code> (<span class="math-container">\$9\$</span>) for speed - generating all <span class="math-container">\$2^{256}\$</span> lists of bits would take a while. Using a number as big as <span class="math-container">\$256\$</span> is not necessary, it's just terse.)</p>
<h3>How?</h3>
<p>(Bug fixed above, will update this section later.)</p>
<p>Note: Uses 256 random bits to generate a random float in <span class="math-container">\$[0,1]\$</span>.</p>
<pre><code>2ṗ⁹XHCḅ.)µ÷Sṙ1ḋƊ, - Link: n
         )        - for each:
2                 -   2
  ⁹               -   256
 ṗ                -   (256) Cartesian product (2 implicitly -&gt; [1,2])
   X              -   pick one at random        e.g.  [1,2,2,1, ... ,1,2]
    H             -   halve                           [0.5,1,1,0.5, ... ,0.5,1]
     C            -   complement                      [0.5,0,0,0.5, ... ,0.5,0]
       .          -   a half                          0.5
      ḅ           -   convert (list) from base (0.5)  a float in [0,1]
         µ        - start a new monadic chain         (call that x)
           S      - sum                               sum(x)
          ÷       - divide                            normalised(x)
               Ɗ  - last three links as a monad:      (call that Y=[y1,y2,...,yn])
                  -   one                             1
            ṙ     -   rotate left by (1)              [y2,...,yn,y1]
              ḋ   -   dot product (with Y)            y1.y2+y2.y3+...+yn.y1
                , - pair                              [y1.y2+y2.y3+...+yn.y1, Y]
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>17</s> <s>15</s> <s>14</s> 17 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>₄Ý.rI£DO/ÐÀ*O‚
</code></pre>
<p>Outputs as a pair <code>[array, sum]</code>.</p>
<p>-2 bytes thanks to <em>@Neil</em>.<br />
-1 byte by changing two explicit prints with enclose/overlap builtins <code>=Ćü*O,</code> to something similar as <a href="https://codegolf.stackexchange.com/a/219166/52210">my MathGolf answer</a> with pair and implicit print <code>ÐÀ*O‚</code><br />
+2 bytes so duplicated items are possible and +1 byte to maximize the amount of floats possible</p>
<p><a href="https://tio.run/##ASUA2v9vc2FiaWX//@KChMOdSdC4LnJJwqNETy/DkMOAKk/igJr//zEw" rel="nofollow noreferrer">Try it online</a> (but uses <code>[0,1000]</code> instead of <code>[0,9876543210]</code> to speed things up a bit).</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>žmÝ               # Push a list in the range [0,9876543210]
   Iи             # Repeat it the input amount of times
                  # (so we can potentially get duplicated items)
     .r           # Randomly shuffle this list
       I£         # Only leave the first input amount of values
         D        # Duplicate this list
          O       # Sum them together
           /      # Divide all values by this sum
                  # (so we now have a list of random values summing to 1)
            Ð     # Triplicate this list
             À    # Rotate the top copy once towards the left
              *   # Multiply the top two lists position-wise together
               O  # Sum this list
                ‚ # Pair the list together with this sum
                  # (after which this pair is output implicitly as result)
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <sup><s>124</s></sup> 121 bytes</h1>
<p>Saved a byte thanks to <a href="https://codegolf.stackexchange.com/users/52210/kevin-cruijssen">Kevin Cruijssen</a>!!!<br />
Saved 3 bytes thanks to <a href="https://codegolf.stackexchange.com/users/99104/danis">Danis</a>!!!</p>

<pre class="lang-python prettyprint-override"><code>def f(n):l=[random()for i in[0]*n];l=[e/sum(l)for e in l];return l,sum(a*b for a,b in zip(l,l[1:]+l))
from random import*
</code></pre>
<p><a href="https://tio.run/##JczBCgIhEIDhe08xxxlbqKjTLj2JeHBZJUFHmdzD9vKmdfvhg78c9ZX53trmPHhkmuNTi@UtJySfBQIE1lej2Cxd3OW9J4w/cV0gmkVc3aXXNMiqFQbaaR38CQXjFPVtNudIdPKSE/z3EFLJUlUrErii8vggal8" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <sup>30</sup> <sup>27</sup> 25 bytes</h1>
<p><sup>-2 to thanks to <a href="https://codegolf.stackexchange.com/a/219163/15469">ovs's rotate idea</a></sup></p>
<pre><code>[:(;1#.]*1|.])@(%+/)?@$&amp;0
</code></pre>
<p><a href="https://tio.run/##y/pvqWhlGGumaGWprs6lpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/o600rA2V9WK1DGv0YjUdNFS19TXtHVTUDP5rcvk56SlA5Y209GNidar1kFVwcaUmZ@QrpCmY/AcA" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<ul>
<li><code>$&amp;0</code> Duplicate 0 &quot;input&quot; times.</li>
<li><code>?@</code> And &quot;roll&quot; for each (<code>?0</code> produces a random number between 0 and 1).</li>
<li><code>[:...(%+/)</code> Divide each by sum of all.</li>
<li><code>(;1#.]*1|.])</code> To that boxed list append <code>;</code> the sum of <code>1#.</code> the list <code>]</code> times <code>*</code> the list rotated once to the left <code>1|.]</code>.</li>
</ul>
</div>
<div id="pu7" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a> + <a href="https://numpy.org/doc/stable/" rel="nofollow noreferrer">numpy</a>, 75 bytes</h1>

<pre class="lang-python prettyprint-override"><code>from numpy import*
def f(n):x=random.rand(n);x/=sum(x);return x,x@roll(x,1)
</code></pre>
<p><a href="https://tio.run/##FcgxCoAwDADA3Vd0TEQU0UkR/IqgRcEkJbaQvr7qdHAhx1N4KMWrkONEIbuLgmisq/3wzgPjZItuvAu1P1/M1i1PIjCc9YhJ2Vljq8p9gzU9lqAXR6g9jIjlBQ" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>49</s> 45 bytes</h1>

<pre class="lang-r prettyprint-override"><code>a=rexp(scan());a=a/sum(a);a;a%*%c(a[-1],a[1])
</code></pre>
<p><a href="https://tio.run/##K/r/P9G2KLWiQKM4OTFPQ1PTOtE2Ub@4NFcjEci0TlTVUk3WSIzWNYzVSYw2jNX8b/ofAA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>-4 bytes by Robin Ryder</p>
</div>
<div id="pu9" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia</a>, 46 bytes</h1>
<pre><code>n-&gt;(a=rand(n);a/=sum(a))=&gt;a[2:end]'*a[1:end-1]
</code></pre>
<p><a href="https://tio.run/##yyrNyUw0rPifZvs/T9dOI9G2KDEvRSNP0zpR37a4NFcjUVPT1i4x2sgqNS8lVl0rMdoQxNI1jP1fUJSZV5KTp5GmYaqp@R8A" rel="nofollow noreferrer" title="Julia 1.0 – Try It Online">Try it online!</a></p>
<p>returns <code>array =&gt; sum</code></p>
</div>
<div id="pu10" class="pu"><h1>JavaScript (ES6), <s> 89 </s> 88 bytes</h1>
<p>Returns <code>[ array, sum ]</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n,a=[],t=s=0)=&gt;n?f(n-1,[...a,v=Math.random()],t+v):[a.map(k=&gt;(s+=v/t*(v=k),v/t)),s/t]
</code></pre>
<p><a href="https://tio.run/##Vco9DoMwDEDhvSexizEgdapkeoKeIGKwgPQHcBCJcv2UtdvTp/fVrHE8PnuqLUxzKV7ASMUNlCRKi9Lbw4PVHTlmVsry1PTmQ20KG@C5VRnvTnnTHRbpIVaSm3SFLAvSWYgUmzSUMVgM68xreIGHG@LlX7oWsfwA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (                      // f is a recursive function taking:
  n,                       //   n = input
  a = [],                  //   a[] = array
  t =                      //   t = sum of non-normalized values
  s = 0                    //   s = sum of a[i] * a[(i + 1) mod n] / t
) =&gt;                       //
n ?                        // if n is not equal to 0:
  f(                       //   do a recursive call:
    n - 1,                 //     decrement n
    [ ...a,                //     pass a new array with all previous elements of a[]
      v = Math.random() ], //     followed by a new random value v in [0,1)
    t + v                  //     add v to t
  )                        //   end of recursive call
:                          // else:
  [                        //   build the answer array:
    a.map(k =&gt;             //     for each value k in a[]:
      ( s +=               //       add to s:
          v / t            //         the previous normalized value v / t,
          * (v = k),       //         multiplied by k (and update v to k)
        v / t              //       yield the normalized value
      )                    //
    ),                     //     end of map()
    s / t                  //     also return the normalized sum
  ]                        //   end of answer array
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/maxbergmark/mathgolf/blob/master/math_golf.txt" rel="nofollow noreferrer">MathGolf</a>, 11 <a href="https://github.com/maxbergmark/mathgolf/blob/master/code_page.py" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Äƒ]_Σ/∙╫m*Σ
</code></pre>
<p>Outputs the array and sum concatenated to one another.</p>
<p><a href="https://tio.run/##ASUA2v9tYXRoZ29sZv//w4TGkl1fzqMv4oiZ4pWrbSrOo///NAo2CjEw" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Ä            # Loop the (implicit) input amount of times,
             # using a single character as inner code-block:
 ƒ           #  Push a random float in the range [0,1]
  ]          # Wrap all values on the stack into a list
   _         # Duplicate this list
    Σ        # Take the sum of it
     /       # Divide all values in the list by this sum
             # (so we now have a list of random values summing to 1)
      ∙      # Triplicate this list
       ╫     # Rotate the top copy once towards the left
        m*   # Multiply the top two lists position-wise together
          Σ  # Take the sum of that list
             # (after which the entire stack joined together is output implicitly)
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 25 bytes</h1>
<pre><code>ＦＮ⊞υ‽φ≧∕Συυ⊞υΣＥυ×ι§υ⊕κＩ⮌υ
</code></pre>
<p><a href="https://tio.run/##NYzBCsIwEETvfkWOG4hQwZunopceLFL9gdis7WKzLUm2@PcxFZzTMDNv@tGGfrZTzq85KGh4kdSKf2IArdVN4ghiVGfZzR4OVVVpfdpd7VLHSAN3NIwJLrSSQ6Pu4kG0UVImf3LLynyzD/IYgYyqU8MOP1vWcB/QIyd08NY/FTYQJzjbmKDDFUPEcluKnI95v05f" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Like the 05AB1E answer, I generate <code>n</code> random numbers between <code>0</code> and <code>999</code>, then scale them so their sum is 1. A larger range could be obtained at the cost of one or two bytes. Also, it's unclear whether the sum has to be first; printing it last would save two bytes. Explanation:</p>
<pre><code>ＦＮ
</code></pre>
<p>Repeat <code>n</code> times...</p>
<pre><code>⊞υ‽φ
</code></pre>
<p>... push a random integer to the predefined empty list.</p>
<pre><code>≧∕Συυ
</code></pre>
<p>Divide the list by its sum.</p>
<pre><code>⊞υΣＥυ×ι§υ⊕κ
</code></pre>
<p>Multiply each element by its neighbour and push the sum to the list.</p>
<pre><code>Ｉ⮌υ
</code></pre>
<p>Print the list in reverse so that the sum is first.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://dyalog.com" rel="nofollow noreferrer">APL(Dyalog Unicode)</a>, <sup><s></s></sup>21 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a></sup></h1>
<pre><code>(+/⊢×1∘⌽)⎕←(⊢÷+/)?⎕⍴0
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=AwA&amp;c=09DWf9S16PB0w0cdMx717NV81Df1UdsEDZDYdm19TXsQv3eLAQA&amp;f=AwA&amp;i=S@My5eJK4zI0AAA&amp;r=tio&amp;l=apl-dyalog&amp;m=tradfn&amp;n=f" rel="nofollow noreferrer">Try it on APLgolf!</a></p>
<p>A tradfn submission which prints the list and returns the sum.</p>
<pre><code>                  ⎕⍴0 ⍝ create a vector with input-many 0's
                 ?    ⍝ for each 0, get a random number between 0 and 1
            ⊢÷        ⍝ divide each number by
              +/      ⍝ the sum of all numbers
         ⎕←           ⍝ print the resulting vector
   ⊢×                 ⍝ multiply the vector element-wise
     1∘⌽              ⍝ with the vector rotated to the left by 1
 +/                   ⍝ take the sum of all products
</code></pre>
<p>If appending the sum to the list is fine as output, this could be 20 bytes: <a href="https://razetime.github.io/APLgolf/?h=AwA&amp;c=q9DR1q84PN3wUc/eikdtEzQedS06vF1bX9P@Ud/UR71bDAA&amp;f=AwA&amp;i=S@My5eJK4zI0AAA&amp;r=tio&amp;l=apl-dyalog&amp;m=tradfn&amp;n=f" rel="nofollow noreferrer"><code>x,+/x×1⌽x←(⊢÷+/)?⎕⍴0</code></a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/219158/">219158</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




