<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::128147</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>020</td><td>Dyalog APL</td><td>250728T234107Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/282851#282851">Aaron</a></td></tr>
<tr d-ix="1"><td>020</td><td>K ngn/k</td><td>201222T193953Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/216788#216788">coltim</a></td></tr>
<tr d-ix="2"><td>032</td><td>Arturo</td><td>230815T054256Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/264186#264186">chunes</a></td></tr>
<tr d-ix="3"><td>3375</td><td>Vyxal s</td><td>230811T140211Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/264018#264018">lyxal</a></td></tr>
<tr d-ix="4"><td>005</td><td>Thunno 2 S</td><td>230811T134415Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/264017#264017">The Thon</a></td></tr>
<tr d-ix="5"><td>012</td><td>MATL</td><td>170624T121713Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128159#128159">Suever</a></td></tr>
<tr d-ix="6"><td>042</td><td>Perl 5 MListUtil=max p</td><td>201223T025744Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/216810#216810">Xcali</a></td></tr>
<tr d-ix="7"><td>025</td><td>APL Dyalog Unicode</td><td>201222T191142Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/216786#216786">Kamila S</a></td></tr>
<tr d-ix="8"><td>072</td><td>C# .NET Core</td><td>170624T135327Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128169#128169">Charlie</a></td></tr>
<tr d-ix="9"><td>072</td><td>Java 8</td><td>170626T085050Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128355#128355">Kevin Cr</a></td></tr>
<tr d-ix="10"><td>053</td><td>R</td><td>180109T230326Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/152939#152939">Giuseppe</a></td></tr>
<tr d-ix="11"><td>006</td><td>Japt</td><td>170624T122103Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128161#128161">Shaggy</a></td></tr>
<tr d-ix="12"><td>022</td><td>Charcoal</td><td>171202T113141Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/149711#149711">Neil</a></td></tr>
<tr d-ix="13"><td>005</td><td>NewStack</td><td>170626T081543Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128351#128351">Graviton</a></td></tr>
<tr d-ix="14"><td>027</td><td>Cubix</td><td>170626T021910Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128333#128333">MickyT</a></td></tr>
<tr d-ix="15"><td>043</td><td>Haskell</td><td>170624T120031Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128157#128157">nimi</a></td></tr>
<tr d-ix="16"><td>007</td><td>Neim</td><td>170625T135344Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128276#128276">Okx</a></td></tr>
<tr d-ix="17"><td>050</td><td>Python 2</td><td>170624T144542Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128172#128172">Dennis</a></td></tr>
<tr d-ix="18"><td>145</td><td>Python 2 PyPy</td><td>170625T013916Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128232#128232">Anders K</a></td></tr>
<tr d-ix="19"><td>030</td><td>Pari/GP</td><td>170624T175728Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128182#128182">alephalp</a></td></tr>
<tr d-ix="20"><td>017</td><td>Alice</td><td>170624T231233Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128217#128217">Nitrodon</a></td></tr>
<tr d-ix="21"><td>037</td><td>Charcoal</td><td>170624T224201Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128215#128215">Charlie</a></td></tr>
<tr d-ix="22"><td>007</td><td>Husk</td><td>170624T211515Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128206#128206">Zgarb</a></td></tr>
<tr d-ix="23"><td>nan</td><td></td><td>170624T205321Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128205#128205">Brad Gil</a></td></tr>
<tr d-ix="24"><td>053</td><td>C gcc</td><td>170624T184930Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128184#128184">Conor O&</a></td></tr>
<tr d-ix="25"><td>070</td><td>Python 2 PyPy</td><td>170624T160631Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128176#128176">Dennis</a></td></tr>
<tr d-ix="26"><td>008</td><td>Pyth</td><td>170624T113737Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128152#128152">Leaky Nu</a></td></tr>
<tr d-ix="27"><td>031</td><td>Stacked</td><td>170624T180214Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128183#128183">Conor O&</a></td></tr>
<tr d-ix="28"><td>018</td><td>J</td><td>170624T173113Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128180#128180">Leaky Nu</a></td></tr>
<tr d-ix="29"><td>030</td><td>Mathematica</td><td>170624T171813Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128178#128178">ZaMoC</a></td></tr>
<tr d-ix="30"><td>004</td><td>Oasis</td><td>170624T114745Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128154#128154">Adnan</a></td></tr>
<tr d-ix="31"><td>059</td><td>Python 3</td><td>170624T113004Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128149#128149">Leaky Nu</a></td></tr>
<tr d-ix="32"><td>024</td><td>Retina</td><td>170624T122151Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128162#128162">Leaky Nu</a></td></tr>
<tr d-ix="33"><td>071</td><td>Python 3</td><td>170624T125650Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128167#128167">0xffcour</a></td></tr>
<tr d-ix="34"><td>008</td><td>05AB1E</td><td>170624T123700Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128164#128164">Datboi</a></td></tr>
<tr d-ix="35"><td>072</td><td>Prolog SWI</td><td>170624T124736Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128166#128166">Leaky Nu</a></td></tr>
<tr d-ix="36"><td>074</td><td>Lua</td><td>170624T123955Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128165#128165">Leaky Nu</a></td></tr>
<tr d-ix="37"><td>056</td><td>PHP</td><td>170624T113555Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128151#128151">J&#246;r</a></td></tr>
<tr d-ix="38"><td>040</td><td>JavaScript ES6</td><td>170624T120237Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128158#128158">Neil</a></td></tr>
<tr d-ix="39"><td>012</td><td>Actually</td><td>170624T114001Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128153#128153">Leaky Nu</a></td></tr>
<tr d-ix="40"><td>010</td><td>Brachylog</td><td>170624T113504Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128150#128150">Leaky Nu</a></td></tr>
<tr d-ix="41"><td>006</td><td>Jelly</td><td>170624T112517Z</td><td><a href="https://codegolf.stackexchange.com/questions/128147/proper-divisor-mash-up/128148#128148">Leaky Nu</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Dyalog APL, 20</h1>
<pre><code>{+/1↓{⊃¯2⌽∪⍵∨⍳⍵}¨⍳⍵}
</code></pre>
<p>Explanation</p>
<pre><code>{+/1↓{⊃¯2⌽∪⍵∨⍳⍵}¨⍳⍵}
                 ⍳⍵   Indices from 1 to N
     {         }¨     For each of them
           ⍵∨⍳⍵           Find the greatest common divisor between the indices of that and the original argument
          ∪               Uniquify
       ¯2⌽                Rotate backwards twice; this puts the number we're after at the front, with the original number (the improper part) right after
      ⊃                   Grab that first one
   1↓                Drop the first element which is always 1
 +/                  And sum
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>21</s> 20 bytes</h1>
<pre><code>+/{|/&amp;~1!x%!x}'2_!1+
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJw1j0uOgzAQRPd9io40XyHiD+YTfIJZzQGiaIIIBJQEM9iMiEJy9jGY1KZeddemytQjt5G8PdhqeF0N93f+s2IegElvL9vro0tLRBzkXp3kx77M6rMc5FV2n7u77Wy5ZDtrQorJIplMxkIp5nMQS84384lSyaINXXgKIY/tCwhUxrQ6JSRXh+KozuVamyw/FUNeZc2xWOfqQn77QptaNZownjARk7ZTbdH5h/qv1qrzL5mu/L4F+Gra3iCOiN+9sQi+k+c/Beg0AnIHyADFggIwWjABTJ6FAJCFS8O2g9ixHWcflLqSnTcn6tK07x+PkVkx" rel="nofollow noreferrer">Try it online!</a></p>
<ul>
<li><code>2_!1+</code> generate integers in range 2..x</li>
<li><code>{|/&amp;~1!x%!x}'</code> get largest divisor for each value in generated range</li>
<li><code>+/</code> take the sum</li>
</ul>
</div>
<div id="pu2" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 32 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$=&gt;[∑map..2&amp;=&gt;[x:do factors&amp;]]
</code></pre>
<p><a href="http://arturo-lang.io/playground?B7ePFw" rel="nofollow noreferrer">Try it!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>s</code>, 27 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 3.375 bytes</h1>
<pre><code>ƛKṪt
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyJzPSIsIiIsIsabS+G5qnQiLCIiLCIxMDAiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<h2>Explained</h2>
<pre><code>ƛKṪt­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌­
ƛ     # ‎⁡To each number 1..n
 KṪ   # ‎⁢Push the divisors of each number with that number removed
   t  # ‎⁣And get the last divisor remaining. Returns 0 on an empty list
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>-S</code>, 5 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ı⁺FṫG
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVDNCVCMSVFMiU4MSVCQUYlRTElQjklQUJHJmZvb3Rlcj0maW5wdXQ9NiZmbGFncz0tU2U=" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>ı⁺FṫG  # Implicit input
       # Decrement the input
ı      # Map over [1..input-1]:
 ⁺     #  Increment the number
  Fṫ   #  Push the proper divisors
    G  #  Maximum of this list
       # Sum the list
       # Implicit output
</code></pre>
</div>
<div id="pu5" class="pu"><h1>MATL, 12 bytes</h1>
<pre><code>q:Q&quot;@Z\l_)vs
</code></pre>
<p>Try it at <a href="https://matl.io/?code=q%3AQ%22%40Z%5Cl_%29vs&amp;inputs=37&amp;version=20.1.1" rel="nofollow noreferrer">MATL Online</a></p>
<p><strong>Explanation</strong></p>
<pre><code>        % Implicitly grab input (N)
q       % Subtract one
:       % Create an array [1...(N-1)]
Q       % Add one to create [2...N]
&quot;       % For each element
  @Z\   % Compute the divisors of this element (including itself)
  l_)   % Grab the next to last element (the largest that isn't itself)
  v     % Vertically concatenate the entire stack so far
  s     % Sum the result
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-MList::Util=max -p</code>, 42 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>//,$\+=max grep$'%$_==0,1..$_-1for 2..$_}{
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/19fX0clRts2N7FCIb0otUBFXVUl3tbWQMdQT08lXtcwLb9IwQjErK3@/9/QwOBffkFJZn5e8X9dX5/M4hIrq9CSzBzb4tJcHaAJ/3ULAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 25 bytes</h1>
<p>Lack of builtins is sad.</p>

<pre class="lang-apl prettyprint-override"><code>+/((⌈/∘⍸0=g|⊢)¨1+g←⍳1-⍨⊢)
</code></pre>
<p>Alternative dfn version: <code>{+/{⌈/⍸0=⍵|⍨⍳1-⍨⍵}¨1+⍳1-⍨⍵}</code></p>
<p>Explanation:</p>
<pre class="lang-apl prettyprint-override"><code>+/((⌈/∘⍸0=g|⊢)¨1+g←⍳1-⍨⊢)
                 g←⍳1-⍨⊢   ⍝ numbers from 1 to ⍵-1 - define as `g`
               1+          ⍝ increment: numbers from 2 to ⍵.
              ¨            ⍝ for each of these...
        0=g|⊢              ⍝ mark evenly divisible indexes with 1
    ⌈/∘⍸                   ⍝ pick largest of proper divisors
+/                         ⍝ sum all
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///P@1R2wRtfQ2NRz0d@o86Zjzq3WFgm17zqGuR5qEVhtrpQNlHvZsNdR/1rgCJAdUrmHGlKRibAwlDAwMDAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.microsoft.com/net/core/platform" rel="nofollow noreferrer">C# (.NET Core)</a>, <strike>74</strike> 72 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>n=&gt;{int r=0,j;for(;n&gt;1;n--)for(j=n;--j&gt;0;)if(n%j&lt;1){r+=j;j=0;}return r;}
</code></pre>

<p><a href="https://tio.run/##lY8/a8MwEMV3f4pbChKNEtn5jyIvhU4tFDp0NopcJJITSEqhGH921w52vXRQ33Do7vTjvVOBKed1B73UpQoB3rz79NU1GybNvQ4KsYpGwZczZ3itDBL6u5o/DXr/DlFfl883VCeDcQF9KaEGmXUoy6bvwEu@sKJ2nggsc4GM0aGxEgVjtuSCmprggz3ltPGP0goruWi9jjeP4EXbiewvyyeHwV308sObqF8MalKTglIBqxXkqcBmBDapwG4EDqnAYYq0TiXy7RQq@Yz1fkSK4phsw/kUbXfk/6BmbFvsZ7v2/mq7Hw" rel="nofollow noreferrer" title="C# (.NET Core) – Try It Online">Try it online!</a></p>

<ul>
<li>2 bytes shaved thanks to Kevin Cruijssen.</li>
</ul>
</div>
<div id="pu9" class="pu"><h1>Java 8, <s>78</s> <s>74</s> 72 bytes</h1>

<pre class="lang-java prettyprint-override"><code>n-&gt;{int r=0,j;for(;n&gt;1;n--)for(j=n;j--&gt;1;)if(n%j&lt;1){r+=j;j=0;}return r;}
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/128169/52210">Port of <em>@CarlosAlejo</em>'s C# answer.</a></p>
<p><a href="https://tio.run/##hY7BasMwEETv@Yq9FCRaGTtN2sBG@YPkkmPpQVXkItVZG1kOBKNvd@Qk1yJYLey8YTROXZRoO0Pu9DfpRvU97JWlcQFgKRhfK23gMJ93ATSbN3FMSkwvTR9UsBoOQCBhIrEbZ4uX5ZvDuvUMaVchCcHnw0lCJ0RSuK0ZvbhtxUf/Kh06WWL0JgyewGOc8JHeDT9NSn9@cmntCc6pIDsGb@n36xsUf7Q7XvtgzkU7hKJLKDTEqNBsye9d/@WrDP/I8E2GV@uM4f0zl1CWecfTEhdxugE" rel="nofollow noreferrer">Try it here.</a></p>
<p><strong>Old answer (78 bytes):</strong></p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{int r=0,i=1,j,k;for(;++i&lt;=n;r+=k)for(j=1,k=1;++j&lt;i;k=i%j&lt;1?j:k);return r;}
</code></pre>
<p><a href="https://tio.run/##hY7NasMwEITveYq9FCTsGLs/Sams9gmaS46lB0VRwkrO2shyoAQ/uysnuQbBakHzDTtj1Vkt286Q3btJN6rv4VshXRYASMH4g9IGNvP3KoBm8yYuojLGF6cPKqCGDRBImGj5eZktXpY5yiq3uROH1jORZVhLEj6Tjs@CjdDJKuq2RuEkPtm6@rIfjgtvwuAJvBgnccvohl0TM@5R5xb3cIo12TZ4pOPPLyh@67j964M5Fe0Qii6i0BCjQrNnfm38kL8m@CrB3xO8eksYXtapC2WZdtwt42Kc/gE" rel="nofollow noreferrer">Try it here.</a></p>
<p><strong>Explanation (of old answer):</strong></p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{                    // Method with integer parameter and integer return-type
  int r=0,              //  Result-integers
      i=1,j,k;          //  Some temp integers
  for(;++i&lt;=n;          //  Loop (1) from 2 to `n` (inclusive)
      r+=k)             //    And add `k` to the result after every iteration
    for(j=1,k=1;++j&lt;i;  //   Inner loop (2) from `2` to `i` (exclusive)
      k=i%j&lt;1?j:k       //    If `i` is dividable by `j`, replace `k` with `j`
    );                  //   End of inner loop (2)
                        //  End of loop (2) (implicit / single-line body)
  return r;             //  Return result-integer
}                       // End of method
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 53 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(n){for(i in 2:n)F=F+(y=(i-1):1)[!i%%y][1]
F}
</code></pre>

<p><a href="https://tio.run/##K/qfpmCj@z@tNC@5JDM/TyNPszotv0gjUyEzT8HIKk/TzdZNW6PSViNT11DTylAzWjFTVbUyNtowlsut9n@ahpnmfwA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>For each integer <code>i</code> in <code>2...n</code>, computes the divisors of <code>i</code> in decreasing order with <code>(y=(i-1):1)[!i%%y]</code> and then selects the first, as that will be the largest, adding it to <code>F</code>, which is by default initialized to <code>FALSE</code> or <code>0</code>.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>8+2=10</s> <s>8</s> 6 bytes</h1>
<pre><code>òâ1 xo
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.5&amp;code=8uIxIHhv&amp;input=MTAw" rel="nofollow noreferrer">Test it</a></p>
<ul>
<li>1 byte saved thanks to ETHproductions.</li>
</ul>
<hr />
<h2>Explanation</h2>
<pre><code>    :Implicit input of integer U.
ò   :Generate an array of integers from 1 to U, inclusive
â   :Get the divisors of each number,
1   :  excluding itself.
x   :Sum the main array
o   :by popping the last element from each sub-array.
    :Implicit output of result
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 22 bytes</h1>

<pre><code>ＩＬ⪫Ｅ…·²Ｎ×⌈Ｅ…¹ι⎇﹪ιλ⁰λ1ω
</code></pre>

<p><a href="https://tio.run/##JYvLDsIgFER/hXR1STABty5d1VhjjD@ASNqbwKXhUfXrEXQ1mZlzzKKjCdrVeo1IGY46ZThbmvMCp4AEk15hJONKws3eNM0W9oKNtJZ8Kf5hI3Au2B29TY19oy/@5/xRJRj220bS8QNTeBYXAAVzbZU9uj2oocerFX6oVUlZd5v7Ag" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>

<pre><code>      ²                 Literal 2
       Ｎ                Input number
    …·                  Inclusive range
   Ｅ                    Map with variable `i`
            ¹           Literal 1
             ι          Variable `i`
           …            Exclusive range
          Ｅ             Map with variable `l`
                ι       Variable `i`
                 λ      Variable `l`
               ﹪        Modulo
              ⎇         Ternary
                  ⁰     If nonzero then zero
                   λ    If zero then variable `l`
         ⌈              Take the maximum
                    1   Arbitrary character
        ×               Repeat it
  ⪫                  ω  Join the strings together
 Ｌ                      Take the length
Ｉ                       Cast to string
                        Implicitly print
</code></pre>

<p>The <code>Sum</code> function has been added since the question was asked, reducing the code to 18 bytes:</p>

<pre><code>ＩΣＥ…·²Ｎ⌈Ｅ…¹ι⎇﹪ιλ⁰λ
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/LyamBoylan/NewStack/" rel="nofollow noreferrer">NewStack</a>, 5 bytes</h1>
<p>Luckily, there's actually a built in.</p>
<pre><code>Nᵢ;qΣ
</code></pre>
<h2>The breakdown:</h2>
<pre><code>Nᵢ       Add the first (user's input) natural numbers to the stack.
  ;      Perform the highest factor operator on whole stack.
   q     Pop bottom of stack.
    Σ    Sum stack.
</code></pre>
<p><strong>In actual English:</strong></p>
<p>Let's run an example for an input of 8.</p>
<p><code>Nᵢ</code>: Make list of natural numbers from 1 though 8: <code>1, 2, 3, 4, 5, 6, 7, 8</code></p>
<p><code>;</code>: Compute the greatest factors: <code>1, 1, 1, 2, 1, 3, 1, 4</code></p>
<p><code>q</code>. Remove the first element: <code>1, 1, 2, 1, 3, 1, 4</code></p>
<p><code>Σ</code> And take the sum: <code>1+1+2+1+3+1+4</code> = <code>13</code></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/ETHproductions/cubix" rel="nofollow noreferrer">Cubix</a>, 27 <s>39</s> bytes</h1>

<pre><code>?%\(W!:.U0IU(;u;p+qu.@Op\;;
</code></pre>

<p><a href="https://tio.run/##Sy5Nyqz4/99eNUYjXNFKL9TAM1TDutS6QLuwVM/BvyDG2vr/f0MDAwMA" rel="nofollow noreferrer" title="Cubix – Try It Online">Try it online!</a></p>

<p>Cubified</p>

<pre><code>      ? % \
      ( W !
      : . U
0 I U ( ; u ; p + q u .
@ O p \ ; ; . . . . . .
. . . . . . . . . . . .
      . . .
      . . .
      . . .
</code></pre>

<p><a href="https://ethproductions.github.io/cubix/?code=ICAgICAgPyAlIFwKICAgICAgKCBXICEKICAgICAgOiAuIFUKMCBJIFUgKCA7IHUgOyBwICsgcSB1IC4KQCBPIHAgXCA7IDsgLiAuIC4gLiAuIC4KLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4KICAgICAgLiAuIC4KICAgICAgLiAuIC4KICAgICAgLiAuIC4K&amp;input=OAo=&amp;speed=20" rel="nofollow noreferrer">Watch It Run</a></p>

<ul>
<li><code>0IU</code> Set up the stack with an accumulator, and the starting integer.  U-turn into the outer loop</li>
<li><code>:(?</code> duplicate the current top of stack, decrement and test</li>
<li><code>\pO@</code> if zero loop around the cube to a mirror, grab the bottom of stack, output and halt</li>
<li><code>%\!</code> if positive, mod, relect and test.

<ul>
<li><code>u;.W</code> if truthy, u-turn, remove mod result and lane change back into inner loop</li>
<li><code>U;p+qu;;\(</code> if falsey, u-turn, remove mod result, bring accumulator to top, add current integer (top) divisor push to bottom and u-turn. Clean up the stack to have just accumulator and current integer, decrement the integer and enter the outer loop again. </li>
</ul></li>
</ul>
</div>
<div id="pu15" class="pu"><h2>Haskell, <s>48</s> <s>46</s> 43 bytes</h2>

<pre><code>f 2=1
f n=until((&lt;1).mod n)pred(n-1)+f(n-1)
</code></pre>

<p><a href="https://tio.run/##y0gszk7Nyfn/P03ByNaQK00hz7Y0ryQzR0PDxlBTLzc/RSFPs6AoNUUjT9dQUzsNTP3PTczMU7BVKCjKzCtRUFHITSxQSFOINtIx0THTsdAxNNUxNtcxNDAAYYPY/wA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>Edit: @rogaos saved two bytes. Thanks!</p>

<p>Edit II: ... and @xnor another 3 bytes. </p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/okx-code/Neim" rel="nofollow noreferrer">Neim</a>, 7 bytes</h1>

<pre><code>𝐈Γ𝐅𝕙𝐠)𝐬
</code></pre>

<p>Explanation:</p>

<pre><code>Example input: 6
𝐈        Inclusive range [1 .. input]
         stack: [1 2 3 4 5 6]
 Γ       For each...
  𝐅        Get factors
           stack: [[1] [1 2] [1 3] [1 2 4] [1 5] [1 2 3 6]]
   𝕙       Remove last element
           stack: [[] [1] [1] [1 2] [1] [1 2 3]]
    𝐠      Get greatest element
           stack: [0 1 1 2 1 3]
      )  End for each
       𝐬 Sum.
         stack: [8]
Implicit output: 8
</code></pre>

<p><a href="http://178.62.56.56:80/neim?code=%F0%9D%90%88%CE%93%F0%9D%90%85%F0%9D%95%99%F0%9D%90%A0)%F0%9D%90%AC&amp;input=1000&amp;n=true" rel="nofollow noreferrer">Try it!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 50 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda n,k=2:n/k and(f(n,k+1),n/k+f(n-1))[n%k&lt;1]
</code></pre>

<p>This is <em>slow</em> and can't even cope with input <strong>15</strong> on TIO.</p>

<p><a href="https://tio.run/##DYxBCoMwFETX9RSzCSYY2yZIKVJ7kdKFrUqD@iNJXHj69A/M4j2Y2Y7082SzWzcfEuIRC@45jimM3z1E52lxq0vSXDkqT93Sr5@hB@m5sy1dZvQ0yEkyV0ZpFhVDbZR6kZgf5p0nH0BwBKvRaNw07m1x2oKjJEthdtRPCLuXEOAX8Foplf8" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>However, memoization (<em>thanks @musicman523</em>) can be used to verify all test cases.</p>

<p><a href="https://tio.run/##VU5Ra8IwGHw2v@Jeis2MrK3ODamDMRiUbT5svgwRcTbBUJuUNH1wY7@9pikie8mXu/vu7qtO9qBV0gqjSxhe68bsOWRZaWNxQzxdn@orQ2puzVGW0oYfb9l7ttp@rp6eXxk83GbLl2yZrb4Y/kFKvY/vG1NLrXp/jDTFJKKtWBx35Xe@g2LFIpmr2wI7lYcidHgUU@aIkQPjmNK1Coo03rQ5Fyh5qeUPDwWdk0EHsMDvHxl02oEfK25cAArHJt3GQAp4gkJpC6l8QCd487rXNm5d9F@nGG4b0y9edHIh@wpChHNcT3FYG6guPmGYMswYHhjiO4bJvZtR5J/I9VZGKhsOg2mD8SOCWTNE4C90/ZTS9gw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<h3>Alternate version, 52 bytes</h3>

<p>At the cost of 2 bytes, we can choose whether to compute <code>f(n,k+1)</code> or <code>n/k+f(n-1)</code>.</p>

<pre class="lang-python prettyprint-override"><code>f=lambda n,k=2:n&gt;1and(n%k and f(n,k+1)or n/k+f(n-1))
</code></pre>

<p>With some trickery, this works for all test cases, even on TIO.</p>

<p><a href="https://tio.run/##VYxNi8IwGITP9lfMpdhoxMb6haggCwth1YP24kmqthhq35QkPfjr3dg9LF5meB6YqZ/uril5FUZXMLnVjbnmUFWtjUMvaLV92n8T2NyZh6qUiw5buZPp@Zhuvn44WjzL/bfcy/TE8YGMtbv82hirNP3tBZZLJDF7FatHVl1uGYiXq9GC1iKjW0RhCd8oIq/7gmkDGpZ9jwPB/OjNUIQRx5hjyjHnEBOOZOY7jtuIF0GnNopc1A3HDQZrhNOmixD@833M/NEv" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="http://pypy.org/" rel="nofollow noreferrer">Python 2 (PyPy)</a>, 145 bytes</h1>

<p>Because turning code-golf competitions into fastest-code competitions is fun, here is an O(<em>n</em>) algorithm that, on TIO, solves <em>n</em> = <strong>5,000,000,000</strong> in 30 seconds.  (<a href="https://codegolf.stackexchange.com/a/128176/39242">Dennis’s sieve</a> is O(<em>n</em> log <em>n</em>).)</p>



<pre class="lang-python prettyprint-override"><code>import sympy
n=input()
def g(i,p,k,s):
 while p*max(p,k)&lt;=n:l=k*p;i+=1;p=sympy.sieve[i];s-=g(i,p,l,n/l*(n/l*k+k-2)/2)
 return s
print~g(1,2,1,-n)
</code></pre>

<p><a href="https://tio.run/##NYy9DsIgFEZ3noIRWrCWxMXKkxgHE7G9gd7eAFVZfHX8i99whpOcj0qeFjSaCpVaYaYlZp7KTIWhBaQ1C8ku7spHAYqUV0nuGb9PEBynZj4/xFvKg8V9sL6hAVrbD2S/D5sE7uaOcBqStr8@KOxCIz7wrddGdkYyHl1eI/LEKALm5yh6ZVSvNMpad9v/Xg" rel="nofollow noreferrer" title="Python 2 (PyPy) – Try It Online">Try it online!</a></p>

<h3>How it works</h3>

<p>We count the size of the set</p>

<p><em>S</em> = {(<em>a</em>, <em>b</em>) | 2 ≤ <em>a</em> ≤ <em>n</em>, 2 ≤ <em>b</em> ≤ largest-proper-divisor(<em>a</em>)},</p>

<p>by rewriting it as the union, over all primes p ≤ √n, of</p>

<p><em>S</em><sub><em>p</em></sub> = {(<em>p</em>⋅<em>d</em>, <em>b</em>) | 2 ≤ <em>d</em> ≤ <em>n</em>/<em>p</em>, 2 ≤ <em>b</em> ≤ <em>d</em>},</p>

<p>and using the <a href="https://en.wikipedia.org/wiki/Inclusion%E2%80%93exclusion_principle" rel="nofollow noreferrer">inclusion–exclusion principle</a>:</p>

<p>|<em>S</em>| = ∑ (−1)<sup><em>m</em> − 1</sup> |<em>S</em><sub><em>p</em><sub>1</sub></sub> ∩ ⋯ ∩ <em>S</em><sub><em>p</em><sub><em>m</em></sub></sub>| over <em>m</em> ≥ 1 and primes <em>p</em><sub>1</sub> &lt; ⋯ &lt; <em>p</em><sub><em>m</em></sub> ≤ √n,</p>

<p>where</p>

<p><em>S</em><sub><em>p</em><sub>1</sub></sub> ∩ ⋯ ∩ <em>S</em><sub><em>p</em><sub><em>m</em></sub></sub> = {(<em>p</em><sub>1</sub>⋯<em>p</em><sub><em>m</em></sub>⋅<em>e</em>, <em>b</em>) | 1 ≤ <em>e</em> ≤ <em>n</em>/(<em>p</em><sub>1</sub>⋯<em>p</em><sub><em>m</em></sub>), 2 ≤ <em>b</em> ≤ <em>p</em><sub>1</sub>⋯<em>p</em><sub><em>m</em> − 1</sub><em>e</em>},<br>
|<em>S</em><sub><em>p</em><sub>1</sub></sub> ∩ ⋯ ∩ <em>S</em><sub><em>p</em><sub><em>m</em></sub></sub>| = ⌊<em>n</em>/(<em>p</em><sub>1</sub>⋯<em>p</em><sub><em>m</em></sub>)⌋⋅(<em>p</em><sub>1</sub>⋯<em>p</em><sub><em>m</em> − 1</sub>⋅(⌊<em>n</em>/(<em>p</em><sub>1</sub>⋯<em>p</em><sub><em>m</em></sub>)⌋ + 1) − 2)/2.</p>

<p>The sum has <em>C</em>⋅<em>n</em> nonzero terms, where <em>C</em> converges to some constant that’s probably 6⋅(1 − ln 2)/π<sup>2</sup> ≈ 0.186544.  The final result is then |<em>S</em>| + <em>n</em> − 1.</p>
</div>
<div id="pu19" class="pu"><h1><a href="http://pari.math.u-bordeaux.fr/" rel="nofollow noreferrer">Pari/GP</a>, <s>36</s> 30 bytes</h1>

<pre><code>n-&gt;sum(i=2,n,i/divisors(i)[2])
</code></pre>

<p><a href="https://tio.run/##HYxBCoMwEEWv8nGVwARjWqubeBHpQiiWgXYcEi309DHt5r/3Nl@XxO6pZUUs4qZ8vA3HQELcPvjDeUvZsJ3D3ZZF9fU1AjdBE8tetflFg9WItYQ5EK6EG2EkdD3hMlR6/x9fH04" rel="nofollow noreferrer" title="Pari/GP – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/m-ender/alice" rel="nofollow noreferrer">Alice</a>, 17 bytes</h1>

<pre><code>/o
\i@/&amp;w!qB;?+]k
</code></pre>

<p><a href="https://tio.run/##S8zJTE79/18/nysm00FfrVyx0MnaXjs2@/9/QwMDAwA" rel="nofollow noreferrer" title="Alice – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<p>This is a standard format for a program which takes input as an integer, outputs an integer, and does everything else in cardinal mode.</p>

<p>The program tries to add up the highest proper divisor of every number from 0 to n.  In the case of 0 and 1, the number added comes from the implicit zeros on the stack, so we don't have to bother skipping these cases.</p>

<pre><code>i    Take input string (in ordinal mode)
&amp;w   Implicitly convert into an integer, and push a return address n times.
     This starts the main loop, which will run a total of n+1 times.
!    Store the accumulator on the current tape cell.
q    Get the tape position. (initially zero)
B    Compute all divisors.
;    Remove the top of the stack (the number itself).
?    Copy accumulator back from tape.
+    Add to greatest proper divisor.
]    Move tape right.
k    Return to pushed return address.  The (n+1)st time through this loop, 
     there is nowhere to return to, and the program continues.
o    Output the integer (as a string in ordinal mode).
@    Terminate.
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 37 bytes</h1>

<pre><code>Ａ⁰βＦ…·²Ｎ«Ａ⟦⟧δＦ⮌…¹ι«¿¬﹪ικ⊞δκ»Ａ⁺β⌈δβ»Ｉβ
</code></pre>

<p><a href="https://tio.run/##Nc69CoMwFAXg3afIeC9E0K5O0slBEdfSITFRgzEp@ZFC8dlTWtv1cL7DGRfmRst0SrX3ajZQUMKxyibrCDRm1NGrXQ7MzBIulDTmEUMXNy4dICJ5ZT92u1Mi/m6Qu3RewslKqr5VNRHobIDWiqgtKLp@4j76BQQlK1bHf6wWAjglLXuqLW4gEM9TR9Y7ZQJcmQ/AEauUyqJI@Z5yr98" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a></p>

<p>Link is to the verbose version. It took me almost all day to figure out how could I solve a non-ASCII-art-related question in Charcoal, but finally I got it and I am very proud of me. :-D</p>

<p>Yes, I am sure this can be golfed a lot. I just translated my C# answer and I am sure things can be done differently in Charcoal. At least it solves the <code>1000</code> case in a couple of seconds...</p>
</div>
<div id="pu22" class="pu"><h2><a href="https://github.com/barbuz/Husk" rel="noreferrer">Husk</a>, 7 bytes</h2>

<pre><code>ṁȯΠtptḣ
</code></pre>

<p><a href="https://tio.run/##yygtzv7//@HOxhPrzy0oKSh5uGPx////jc0B" rel="noreferrer" title="Husk – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<p>Husk has no built-in for computing the divisors directly (yet), so I'm using prime factorization instead.
The largest proper divisor of a number is the product of its prime factors except the smallest one.
I map this function over the range from 2 to the input, and sum the results.</p>

<pre><code>ṁȯΠtptḣ  Define a function:
      ḣ  Range from 1 to input.
     t   Remove the first element (range from 2).
ṁ        Map over the list and take sum:
 ȯ        The composition of
    p     prime factorization,
   t      tail (remove smallest prime) and
  Π       product.
</code></pre>
</div>
<div id="pu23" class="pu">

<h1><a href="https://perl6.org" rel="nofollow noreferrer">Perl 6</a>, 36 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>{sum map {max grep $_%%*,^$_},2..$_}
</code></pre>

<p><a href="https://tio.run/##TY7NboJAFIX39ynOAg1UHHFUlBCbbt132dRQmBoSBibMYDTUJ@vOF6ODYNK7uefkfPdHiboIu0YLnEOWxiSvmKZVJrDvWt1IyEShlckFp1ooOMfJ5MX/dI43nzNmW2f5NyO0wR5FXgrtevdfllbyy118ZLNF7w6liam/8G65mFSRlJg9hmL6rupxfv5qt8OFk5eqMT4ccVEiNSKD1xKQa/RvuUPs/ct9sFOuDd06cPT1gyVhPco1IRzljrB7AivCcjMSll5tB815ZIMgGKAwCh4uGNyGb6M/" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Test it</a></p>

<h2>Expanded:</h2>

<pre class="lang-perl6 prettyprint-override"><code>{
  sum
    map
    {
      max
        grep
        $_ %% *, # is the input to this block divisible by
        ^$_      # Range of possible divisors
    },
    2 .. $_
}
</code></pre>
</div>
<div id="pu24" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 53 bytes</h1>



<pre class="lang-c prettyprint-override"><code>x;s;f(n){for(s=0;n&gt;1;--n){for(x=n;n%--x;);s+=x;}n=s;}
</code></pre>

<p><a href="https://tio.run/##PU9Na8MwDL33V4hAwCYRc9dmK2jefaf@gKaHYpriw9RRuxCW@rdncpLugaQn61kfDi/OjWNPgTrFeuiuNxWsIf5cE@Ly0FsmLhF70hQq21NiGyiNniN8nzwrPaxAkPPoDkewMMAr1LAVexPbia0bcZv3zIyZvYFE08efewyq@GKJAA@A/T0KbRlnVPhEyzDjUWj6nxn871lm5nDtVHQaXp6JlBdhPiSLvSgNSfiYNMKqatl/WuUmok4VUGLjZZcSd77los6H@WMNub8QvXRNqzT@AQ" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<p>Comfortably an quickly passes all test cases.</p>
</div>
<div id="pu25" class="pu"><h1><a href="http://pypy.org/" rel="nofollow noreferrer">Python 2 (PyPy)</a>, <s>73</s> <s>71</s> 70 bytes</h1>



<pre class="lang-python prettyprint-override"><code>n=input();r=[0]*n;d=1
while n:n-=1;r[d+d::d]=n/d*[d];d+=1
print sum(r)
</code></pre>

<p>Not the shortest Python answer, but this just breezes through the test cases. TIO handles inputs up to <strong>30,000,000</strong> without breaking a sweat; my desktop computer handles <strong>300,000,000</strong> in a minute.</p>

<p>At the cost of <strong>2 bytes</strong>, the condition <code>n&gt;d</code> could be used for a ~10% speed-up.</p>

<p><em>Thanks to @xnor for the <code>r=[0]*n</code> idea, which saved 3 bytes!</em></p>

<p><a href="https://tio.run/##JcpBCoAgEADAe6/wqEWkdVP2JeJtA4XaFlPC11vQnIdbiRetMzduvRMk4lqkchm8DiM5BDM8MR27IEszGJc9TmgtBqAFR4/B4fQdzomKuOsps@p9078X" rel="nofollow noreferrer" title="Python 2 (PyPy) – Try It Online">Try it online!</a></p>
</div>
<div id="pu26" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, <s>13</s> <s>9</s> 8 bytes</h1>

<p>1 byte thanks to jacoblaw.</p>

<pre><code>tsm*FtPh
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=tsm%2aFtPh&amp;test_suite=1&amp;test_suite_input=2%0A4%0A6%0A8%0A15%0A37%0A100%0A1000&amp;debug=0" rel="nofollow noreferrer">Test suite</a>.</p>

<h2>How it works</h2>

<p>The largest proper divisor is the product of the prime factors except the smallest one.</p>
</div>
<div id="pu27" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/stacked" rel="nofollow noreferrer">Stacked</a>, 31 bytes</h1>

<pre><code>[2\|&gt;[divisors:pop\MAX]map sum]
</code></pre>

<p><a href="https://tio.run/##Ky5JTM5OTfn/P9oopsYuOiWzLLM4v6jYqiC/IMbXMSI2N7FAobg0N/a/g1Ual4aRgomCmYKFgqGpgrG5gqGBgaZCtIKVQpqCjoK6gq4dkMjKz8xTyC8tUYhVAGr9DwA" rel="nofollow noreferrer" title="Stacked – Try It Online">Try it online!</a> (All testcases except for 1000, which exceeds the 60 second online time limit.)</p>

<h2>Explanation</h2>

<pre><code>[2\|&gt;[divisors:pop\MAX]map sum]
 2\|&gt;                               range from 2 to the input inclusive
     [                ]map          map this function over the range
      divisors                      get the divisors of the number (including the number)
              :pop\                 pop a number off the array and swap it with the array
                   MAX              gets the maximum value from the array
                           sum      sum's all the max's
</code></pre>
</div>
<div id="pu28" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 18 bytes</h1>

<pre><code>[:+/1}.&amp;.q:@+}.@i.
</code></pre>

<p><a href="https://tio.run/##y/r/P83WKtpKW9@wVk9Nr9DKQbtWzyFT739qcka@QpqCoYGBwX8A" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
</div>
<div id="pu29" class="pu"><h1>Mathematica, 30 bytes</h1>
<pre><code>Divisors[i][[-2]]~Sum~{i,2,#}&amp;
</code></pre>
</div>
<div id="pu30" class="pu"><h1><a href="https://github.com/Adriandmen/Oasis" rel="noreferrer">Oasis</a>, 4 bytes</h1>
<h3>Code:</h3>
<pre><code>nj+U
</code></pre>
<p><a href="https://tio.run/##y08sziz@/z8vSzv0////FgA" rel="noreferrer" title="Oasis – Try It Online">Try it online!</a></p>
<h3>Explanation:</h3>
<p>Extended version:</p>
<pre><code>nj+00

    0   = a(0)
   0    = a(1)

a(n) =

n       # Push n
 j      # Get the largest divisor under n
  +     # Add to a(n - 1)
</code></pre>
</div>
<div id="pu31" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>69</s> <s>63</s> 59 bytes</h1>

<p>4 bytes thanks to Dennis.</p>



<pre class="lang-python prettyprint-override"><code>f=lambda n:n-1and max(j for j in range(1,n)if n%j&lt;1)+f(n-1)
</code></pre>

<p><a href="https://tio.run/##Tc5bCoMwEAXQf1cxUAoJfZDEd2kXk1bTRswoMYW6ehulxg7Mz@HeYfrRvTqMJ236zjoYxiHyex5qZ@vH2w66w1Yb7YhgjNFJ3Vpp7pUEvOCJS6zAyA9pQHUWGtAIVuKzJvyIVCvAfXPl9KCIz9KptxodUURQCn52wKOVkpWSQNlKRaAiFONgPF3QN7drcf4zIcot6N@nSzkr2b/OPGsq8nL6Ag" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p>I set the recursion limit to 2000 for this to work for 1000.</p>
</div>
<div id="pu32" class="pu"><h1><a href="https://github.com/m-ender/retina" rel="nofollow noreferrer">Retina</a>, <s>31</s> 24 bytes</h1>

<p>7 bytes thanks to Martin Ender.</p>

<pre><code>.+
$*
M!&amp;`(1+)(?=\1+$)
1
</code></pre>

<p><a href="https://tio.run/##K0otycxL/P9fT5tLRYvLV1EtQcNQW1PD3jbGUFtFk8vw/39DAwMDAA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a></p>

<h2>How it works</h2>

<p>The regex <code>/^(1+)\1+$/</code> captures the largest proper divisor of a certain number represented in unary. In the code, the <code>\1+</code> is turned to a lookahead syntax.</p>
</div>
<div id="pu33" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>78 75 73</s> 71 bytes</h1>



<p>Not even close to Leaky nun's python answer in byte count.</p>

<pre class="lang-python prettyprint-override"><code>f=lambda z:sum(max(i for i in range(1,y)if 1&gt;y%i)for y in range(2,z+1))
</code></pre>

<p><a href="https://tio.run/##RclLCoAgEADQq8wmmCEXWrug7mKUNZAfzCC9vNWq5eOFnHbv@lrNeGg7LxrKcF4Wrb6RwfgIDOwgaretqEQmNqCm3DB9l//rRGkVUQ2RXUKDSkr58gE" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu34" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, <s>9</s> 8 bytes</h1>
<p>-1 Byte thanks to <a href="https://codegolf.stackexchange.com/users/48934/leaky-nun">Leaky Nun</a>'s prime factor trick in his Pyth answer</p>
<pre><code>L¦vyÒ¦PO
</code></pre>
<p><a href="https://tio.run/##MzBNTDJM/f/f59CyssrDkw4tC/D//9/QwMAAAA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>L¦vyÒ¦PO
L¦       # Range [2 .. input]
  vy     # For each...
    Ò¦    # All prime factors except the first one
      P   # Product
       O  # Sum with previous results
         # Implicit print
</code></pre>
<p>Alternative 8 Byte solution (That doesnt work on TIO)</p>
<pre><code>L¦vyÑ¨θO    
</code></pre>
<p>and ofc alternative 9 Byte solution (That works on TIO)</p>
<pre><code>L¦vyÑ¨®èO    
</code></pre>
</div>
<div id="pu35" class="pu"><h1><a href="http://www.swi-prolog.org" rel="nofollow noreferrer">Prolog (SWI)</a>, 72 bytes</h1>

<pre><code>f(A,B):-A=2,B=1;C is A-1,f(C,D),between(2,A,E),divmod(A,E,S,0),B is D+S.
</code></pre>

<p><a href="https://tio.run/##FcyxDkAwGEXhVzH2j1tpjcTQap/AYhatNEFFhccv9vOd44xrXHh6Qs6eKWhquOpq6E62fRFSobiEZz0MYXLX49zOaihYwhzuLc6fsRggCPrPTTlU/0kKITBS9QI" rel="nofollow noreferrer" title="Prolog (SWI) – Try It Online">Try it online!</a></p>
</div>
<div id="pu36" class="pu"><h1><a href="https://www.lua.org" rel="nofollow noreferrer">Lua</a>, 74 bytes</h1>



<pre class="lang-lua prettyprint-override"><code>c=0 for i=2,...do for j=1,i-1 do t=i%j&lt;1 and j or t end c=c+t end print(c)
</code></pre>

<p><a href="https://tio.run/##JcnRCoAgDEDRX9lLUGSy9dw@RmbBJDTEvn9Jvt3Dvd9gJoxwlQrKu/Pex/IrMTndCDob65QOgpAjJOivwdlTWNZRT9XcZlnMjBDxAw" rel="nofollow noreferrer" title="Lua – Try It Online">Try it online!</a></p>
</div>
<div id="pu37" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, 56 bytes</h1>



<pre class="lang-php prettyprint-override"><code>for($i=1;$v||$argn&gt;=$v=++$i;)$i%--$v?:$v=!$s+=$v;echo$s;
</code></pre>

<p><a href="https://tio.run/##K8go@G9jX5BRwJVaVJRfFF@UWpBfVJKZl65R5xrv5x/i6eyqac2lkliUnmerZGhgYKBk/T8tv0hDJdPW0FqlrKYGLGVnq1Jmq62tkmmtqZKpqqurUmZvBRRRVCnWBspYpyZn5KsUW///DwA" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>
</div>
<div id="pu38" class="pu"><h2>JavaScript (ES6), 40 bytes</h2>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=(n,i=2)=&gt;n&lt;2?0:n%i?f(n,i+1):n/i+f(n-1)</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input type=number oninput=o.textContent=f(this.value)&gt;&lt;pre id=o&gt;</code></pre>
</div>
</div>
</p>

<p>A number equals the product of its highest proper divisor and its smallest prime factor.</p>
</div>
<div id="pu39" class="pu"><h1><a href="https://github.com/Mego/Seriously" rel="nofollow noreferrer">Actually</a>, 12 bytes</h1>

<pre><code>u2x⌠÷R1@E⌡MΣ
</code></pre>

<p><a href="https://tio.run/##S0wuKU3Myan8/7/UqOJRz4LD24MMHVwf9Sz0Pbf4/39DAwMDAA" rel="nofollow noreferrer" title="Actually – Try It Online">Try it online!</a></p>
</div>
<div id="pu40" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="noreferrer">Brachylog</a>, 10 bytes</h1>

<pre><code>⟦bb{fkt}ᵐ+
</code></pre>

<p><a href="https://tio.run/##SypKTM6ozMlPN/r//9H8ZUlJ1WnZJbUPt07Q/v/f0MDA4H8UAA" rel="noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
</div>
<div id="pu41" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 6 bytes</h1>

<pre><code>ÆḌ€Ṫ€S
</code></pre>

<p><a href="https://tio.run/##y0rNyan8//9w28MdPY@a1jzcuQpIBv///9/QwMAAAA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h2>How it works</h2>

<pre><code>ÆḌ€Ṫ€S
ÆḌ€    map proper divisor (1 would become empty array)
           implicitly turns argument into 1-indexed range
   Ṫ€  map last element
     S sum
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/128147/">128147</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




