<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::94074</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>161</td><td>AWK</td><td>250807T174351Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/283019#283019">xrs</a></td></tr>
<tr d-ix="1"><td>007</td><td>Vyxal</td><td>231103T104147Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/266433#266433">emanresu</a></td></tr>
<tr d-ix="2"><td>008</td><td>05AB1E</td><td>231103T101337Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/266431#266431">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>027</td><td>Haskell</td><td>190621T062819Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/187201#187201">G B</a></td></tr>
<tr d-ix="4"><td>033</td><td>C gcc</td><td>190617T005213Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/186976#186976">jnfnt</a></td></tr>
<tr d-ix="5"><td>007</td><td>Stax</td><td>190615T234238Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/186960#186960">recursiv</a></td></tr>
<tr d-ix="6"><td>018</td><td>Actually</td><td>160924T013201Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94389#94389">Sherlock</a></td></tr>
<tr d-ix="7"><td>034</td><td>Perl</td><td>160925T203434Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94501#94501">Ton Hosp</a></td></tr>
<tr d-ix="8"><td>025</td><td>Actually</td><td>160922T055749Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94141#94141">Sherlock</a></td></tr>
<tr d-ix="9"><td>012</td><td>05AB1E</td><td>160923T121834Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94290#94290">Emigna</a></td></tr>
<tr d-ix="10"><td>020</td><td>CJam</td><td>160922T082429Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94149#94149">Luis Men</a></td></tr>
<tr d-ix="11"><td>093</td><td>FRACTRAN</td><td>160922T110332Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94169#94169">Sherlock</a></td></tr>
<tr d-ix="12"><td>027</td><td>JavaScript ES6 / Recursive</td><td>160921T171437Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94085#94085">Arnauld</a></td></tr>
<tr d-ix="13"><td>nan</td><td>><></td><td>160922T151308Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94191#94191">Sok</a></td></tr>
<tr d-ix="14"><td>035</td><td>Python 2</td><td>160921T170844Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94082#94082">orlp</a></td></tr>
<tr d-ix="15"><td>023</td><td>J</td><td>160922T005237Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94137#94137">Conor O&</a></td></tr>
<tr d-ix="16"><td>019</td><td>Jelly</td><td>160921T175545Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94092#94092">Jonathan</a></td></tr>
<tr d-ix="17"><td>051</td><td>AnyDice</td><td>160922T003909Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94133#94133">DanTheMa</a></td></tr>
<tr d-ix="18"><td>011</td><td>Jelly</td><td>160921T224614Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94125#94125">Dennis</a></td></tr>
<tr d-ix="19"><td>033</td><td>Python</td><td>160921T221353Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94121#94121">xnor</a></td></tr>
<tr d-ix="20"><td>035</td><td>Mathematica</td><td>160921T220212Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94120#94120">LegionMa</a></td></tr>
<tr d-ix="21"><td>062</td><td>JavaScript ES6</td><td>160921T203617Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94106#94106">Neil</a></td></tr>
<tr d-ix="22"><td>042</td><td>Java 7</td><td>160921T172533Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94088#94088">Geobits</a></td></tr>
<tr d-ix="23"><td>093</td><td>PHP</td><td>160921T165902Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94081#94081">Titus</a></td></tr>
<tr d-ix="24"><td>023</td><td>MATL</td><td>160921T175324Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94091#94091">Luis Men</a></td></tr>
<tr d-ix="25"><td>034</td><td>Ruby</td><td>160921T171649Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94086#94086">Jordan</a></td></tr>
<tr d-ix="26"><td>005</td><td>Oasis</td><td>160921T172721Z</td><td><a href="https://codegolf.stackexchange.com/questions/94074/checkmate-aka-the-urinal-problem/94089#94089">Adnan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.gnu.org/software/gawk/" rel="nofollow noreferrer">AWK</a>, 161 bytes</h1>
<pre><code>{if(1~$0||!$0)print&quot;X&quot;
for(;i&lt;2^$1;i++){j=i
for(x=X;j;j=int(j/2))x=j%2x
x=sprintf(&quot;%0&quot;$1&quot;d&quot;,x)
gsub(/10/,&quot;X-&quot;,x)
gsub(/01|0X|-1/,&quot;-X&quot;,x)
if(x!~/0|1|XX/)print x}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=Tc5BCsIwEIXhfU9hQwoJbUimCxFi7pGVoEgkEaq0KQaa9iJuquKhvI2ldeFu5ocH3_21v53H8d16wzafR2cNgQGLGFMs6LW2lUcaJeZSE2m35Q6DtHlOO6fsHIPS0snpqzxxvKQ0KJeVIQmqmceGoEwgDOiIikCTU9MeCAfBC6TZXxEQhY4Mps703CdHSAcuIkSt-SJZhb5foD_v-IT1cn0B" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Just for fun this will actually print all of the checkmates based on input... good up to about 16 urinals.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 7 bytes</h1>
<pre><code>⁺»‡_+TḞ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCLigbrCu+KAoV8rVOG4niIsIiIsIiJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Uses the same recurrence relation <code>a(n) = a(n-2) + a(n-3)</code></p>
<pre><code>      Ḟ # Create an infinite list
⁺»      # Starting from digits of 112
  ‡     # Generate new terms by a function
     T  # Taking in the last three terms
   _    # Pop the first
    +   # Add the other two together
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 8 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ƵBSλè₂₃+
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//2Fan4HO7D6941NT0qKlZ@/9/CwA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/f//2Fan4HO7HzU1PWpq1v7/HwA" rel="nofollow noreferrer">verify the infinite list</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>ƵB        # Push compressed integer 112
  S       # Convert it to a list of digits: [1,1,2]
   λ      # Start a recursive environment,
    è     # to output the 0-based (implicit) input'th value
          # (which will be output implicitly as result afterwards)
ƵBS       # Starting at a(0)=1, a(1)=1, a(2)=2
          # And where every following a(n) is calculated as:
     ₂₃+  #  a(n-2) + a(n-3)
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/166851/52210">See this 05AB1E tip of mine (section <em>How to compress large integers?</em>)</a> to understand why <code>ƵB</code> is <code>112</code>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 27 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>r=1:1:2:zipWith(+)r(tail r)
</code></pre>

<p><a href="https://tio.run/##y0gszk7Nyfn/v8jW0MrQysiqKrMgPLMkQ0Nbs0ijJDEzR6FI839uYmaebUFRZl6JQnSRomJFTYWNbrShnp6RQWzsfwA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 33 bytes</h1>



<pre class="lang-c prettyprint-override"><code>f(n){return n&lt;2?1:f(n-2)+f(n-3);}
</code></pre>

<p><a href="https://tio.run/##Fcg9CoAwDEDh3VMEQUioBa2b9eciLlKtZDBK0Uk8e63Le/A5vTkXo0ehJ6zXHQSkM2PdJtGG1L@G7Bv3mQXpAX8EZLmA@8pyZ1KUIjhDMo95sYAeoFgmyUsuPTKRhTeLHw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 7 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>ÉKΦΘÄO¢
</code></pre>

<p><a href="https://staxlang.xyz/#p=904be8e98e4f9b&amp;i=1%0A2%0A3%0A4%0A5%0A6%0A7%0A8%0A9&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>

<p>Uses the recurrence relation.  <code>C(n) = C(n-2) + C(n-3)</code></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Mego/Seriously" rel="nofollow noreferrer">Actually</a>, 18 bytes</h1>

<p>This is an Actually port of Dennis' longer Jelly answer. Golfing suggestions welcome. <a href="https://tio.run/##ASwA0/9hY3R1YWxsef//Mys74pWWwr1MdXLijKA7z4TilZwtQOKWiOKMoU3Oo///OQ" rel="nofollow noreferrer" title="Actually – Try It Online">Try it online!</a></p>

<pre><code>3+;╖½Lur⌠;τ╜-@█⌡MΣ
</code></pre>

<p><strong>Ungolfing</strong></p>

<pre><code>         Implicit input n.
3+       Add 3. For readibility, m = n+3.
;╖       Duplicate and store one copy of m in register 0.
½Lu      floor(m/2) + 1.
r        Range from 0 to (floor(m/2)+1), inclusive.
⌠...⌡M   Map the following function over the range. Variable k.
  ;        Duplicate k.
  τ╜-      Push m-2k. Stack: [m-2k, k]
  @█       Swap k and m-2k and take binomial (k, m-2k).
            If m-2k &gt; k, █ returns 0, which does not affect the sum() that follows.
         End function.
Σ        Sum the list that results from the map.
         Implicit return.
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Perl, <s>35</s> 34 bytes</h1>

<p>Includes +1 for <code>-p</code></p>

<p>Give input on STDIN</p>

<pre><code>checkmate.pl &lt;&lt;&lt; 8
</code></pre>

<p><code>checkmate.pl</code>:</p>

<pre><code>#!/usr/bin/perl -p
$\+=$b-=$.-=$\-$b*4for(++$\)x$_}{
</code></pre>

<p>A newly developed secret formula. Ripple update 3 state variables without the need for parallel assignments.</p>

<p>It is equally short (but a lot slower and taking a lot more memory) to just solve the original problem:</p>

<pre><code>#!/usr/bin/perl -p
$_=grep!/XX|\B-\B/,glob"{X,-}"x$_
</code></pre>

<p>but that doesn't work for <code>0</code></p>
</div>
<div id="pu8" class="pu"><h1>Actually, 25 bytes</h1>

<p>This seems a little long for a simple <code>f(n) = f(n-2) + f(n-3)</code> recurrence relation. Golfing suggestions welcome. <a href="http://actually.tryitonline.net/#code=4pWXMjEx4pWcwqxgKTsoKylgbmFr4pWcMuKVnDI8SUBF&amp;input=OA" rel="nofollow">Try it online!</a></p>

<pre><code>╗211╜¬`);(+)`nak╜2╜2&lt;I@E
</code></pre>

<p><strong>Ungolfing</strong></p>

<pre><code>         Implicit input n.
╗        Save n to register 0.
211      Stack: 1, 1, 2. Call them a, b, c.
╜¬       Push n-2.
`...`n   Run the following function n-2 times.
  );       Rotate b to TOS and duplicate.
  (+       Rotate a to TOS and add to b.
  )        Rotate a+b to BOS. Stack: b, c, a+b
         End function.
ak       Invert the resulting stack and wrap it in a list. Stack: [b, c, a+b]
╜        Push n.
2        Push 2.
╜2&lt;      Push 2 &lt; n.
I        If 2&lt;n, then 2, else n.
@E       Grab the (2 or n)th index of the stack list.
         Implicit return.
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="http://github.com/Adriandmen/05AB1E" rel="nofollow">05AB1E</a>, 12 bytes</h1>

<pre><code>XXXIGX@DŠ0@+
</code></pre>

<p><strong>Explanation</strong></p>

<pre><code>XXX            # initialize stack as 1, 1, 1
   IG          # input-1 times do:
     X@        # get the item 2nd from bottom of the stack
       DŠ      # duplicate and push one copy down as 2nd item from bottom of the stack
         0@    # get the bottom item from the stack
           +   # add the top 2 items of the stack (previously bottom and 2nd from bottom)
               # implicitly print the top element of the stack after the loop
</code></pre>

<p><a href="http://05ab1e.tryitonline.net/#code=WFhYSUdYQETFoDBAKw&amp;input=MTU" rel="nofollow">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="http://sourceforge.net/projects/cjam/" rel="nofollow noreferrer">CJam</a>, 20 bytes</h1>
<pre><code>1_2_{2$2$+}ri*;;;o];
</code></pre>
<p><a href="http://cjam.tryitonline.net/#code=MV8yX3syJDIkK31yaSo7OztvXTs&amp;input=OA" rel="nofollow noreferrer">Try it online!</a></p>
<h3>Explanation</h3>
<p>This uses the recurrence relationship shown in the <a href="http://oeis.org/A228361" rel="nofollow noreferrer">OEIS page</a>.</p>
<pre><code>1_2_                   e# Push 1, 1, 2, 2 as initial values of the sequence
           ri          e# Read input
    {     }  *         e# Repeat block that many times
     2$2$              e# Copy the second and third elements from the top
         +             e# Add them
              ;;;      e# Discard the last three elements
                 o     e# Output
                  ];   e# Discard the rest to avoid implicit display
</code></pre>
</div>
<div id="pu11" class="pu"><h1>FRACTRAN, <s>104</s> 93 bytes</h1>

<p>Input is <code>11**n*29</code> and output is <code>29**checkmate(n)</code>.</p>

<p>This is mostly for fun, especially since I'm currently being outgolfed by Python, JS, <em>and</em> Java. Same number of bytes as PHP though :D Golfing suggestions welcome.</p>

<pre><code>403/85 5/31 3/5 9061/87 3/41 37/3 667/74 37/23 7/37 38/91 7/19 5/77 1/7 1/17 1/2 340/121 1/11
</code></pre>

<p><strong>Ungolfing</strong></p>

<pre><code>               At the start we have 11**n * 29
1/11           If n &lt; 2, we remove the 11s and print 29**1
340/121        If n &gt;= 2, we subtract two 11s (n-2) and add one 17, two 2s and one 5.
                 We now have 17**1 * 29**1 * 2**2 * 5.
                 These are the register for a, b, c at registers 17, 29, and 2.
                 5 is an indicator to start the first loop.
                 This loop will move a to register 13.
403/85 5/31    Remove the 17s one at a time, adds them to the 13 register.
                 5 and 31 reset the loop.
3/5            Next loop: moves b to a and adds b to a in register 13.
9061/87 3/41   Remove the 29s one at a time, adds them to the 17 and 13 registers.
                 3 and 41 reset the loop.
37/3           Next loop: moves c to b in register 29.
667/74 37/23   Remove the 2s one at a time, adds them to the 29 register.
                 37 and 23 reset the loop.
7/37           Next loop: moves a+b to c in register 2.
38/91 7/19     Remove the 13s one at a time, adds them to the 2 register.
                 7 and 19 reset the loop.
5/77           Move to the first loop if and only if we have an 11 remaining.
1/7 1/17 1/2   Remove the 7 loop indicator, and all 17s and 2s.
               Return 29**checkmate(n).
</code></pre>
</div>
<div id="pu12" class="pu"><h1>JavaScript (ES6) / Recursive, <s>30</s> 27 bytes</h1>
<p><em>Edit: saved 3 bytes thanks to Shaun H</em></p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>let

f=n=&gt;n&lt;3?n||1:f(n-2)+f(n-3)

for(var n = 1; n &lt; 16; n++) {
  console.log(n, f(n));
}</code></pre>
</div>
</div>
</p>
<h1>JavaScript (ES6) / Non-recursive <s>90</s> 77 bytes</h1>
<p><em>Edit: saved 13 bytes thanks to Conor O'Brien and Titus</em></p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>let f =

n=&gt;[...Array(k=1&lt;&lt;n)].map((_,i)=&gt;r+=!(i&amp;(x=i&gt;&gt;1|i+i))&amp;&amp;((i|x)&amp;~k)==k-1,r=0)|r

for(var n = 1; n &lt; 16; n++) {
  console.log(n, f(n));
}</code></pre>
</div>
</div>
</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://esolangs.org/wiki/Fish" rel="nofollow noreferrer">&gt;&lt;&gt;</a>, 25+2 = 27 bytes</h1>
<pre><code>211rv
v!?:&lt;r@+@:$r-1
&gt;rn;
</code></pre>
<p>Needs the input to be present on the stack at program start, so +2 bytes for the <code>-v</code> flag. <a href="http://fish.tryitonline.net/#code=MjExcnYKdiE_OjxyQCtAOiRyLTEKPnJuOw&amp;input=&amp;args=LXYgOA" rel="nofollow noreferrer">Try it online!</a></p>
<p>The first line initialises the stack to <code>1 1 2 n</code>, where <code>n</code> is the input number. The second line, running backwards, checks that <code>n</code> is greater than 1. If it is, <code>n</code> is decremented and the next element in the sequence is generated as follows:</p>
<pre><code>r$:@+@r              a(n-3) a(n-2) a(n-1) n
                                           
r        Reverse   - n a(n-1) a(n-2) a(n-3)
 $       Swap      - n a(n-1) a(n-3) a(n-2)
  :      Duplicate - n a(n-1) a(n-3) a(n-2) a(n-2)
   @     Rotate 3  - n a(n-1) a(n-2) a(n-3) a(n-2)
    +    Add       - n a(n-1) a(n-2) a(n)
     @   Rotate 3  - n a(n) a(n-1) a(n-2)
      r  Reverse   - a(n-2) a(n-1) a(n) n
</code></pre>
<p>The final line outputs the number on the bottom of the stack, which is the required element in the sequence.</p>
</div>
<div id="pu14" class="pu"><h1>Python 2, <strike>42</strike> <strike>40</strike> <strike>39</strike> 35 bytes</h1>

<pre><code>f=lambda n:n&gt;1and f(n-2)+f(n-3)or 1
</code></pre>

<p>Generating the actual sets:</p>

<pre><code>lambda n:["{:0{}b}".format(i,n).replace("0","-").replace("1","X")for i in range(2**n)if"11"not in"{:0{}b}".format(i*2,2+n).replace("000","11")]
</code></pre>
</div>
<div id="pu15" class="pu"><h1>J, <s>31</s> <s>27</s> 23 bytes</h1>

<p><em>Saved 4 bytes thanks to miles!</em></p>

<pre><code>0{]_&amp;(]}.,+/@}:)1 1 2"_
</code></pre>

<p>An explanation is to come soon.</p>

<h2>Old solution</h2>

<pre><code>(&gt;.1&amp;^)`(-&amp;3+&amp;$:-&amp;2)@.(2&amp;&lt;)
</code></pre>

<p>This is an agenda. The LHS is a gerund composed of two verbs: <code>&gt;.1&amp;^</code> and <code>-&amp;3+&amp;$:-&amp;2</code>. The first one is used if the condition (<code>2&amp;&lt;</code>) fails. That means the fork <code>&gt;.1&amp;^</code> is activated over the argument. Observe:</p>

<pre><code>   1 ^ 0 1 2
1 1 1
   (1&amp;^) 0 1 2
1 1 1
   0 1 2 &gt;. (1&amp;^) 0 1 2
1 1 2
   (&gt;.1&amp;^) 0 1 2
1 1 2
</code></pre>

<p>Here, <code>&gt;.</code> takes the max of two values. Thus, it yields 1, 1, and 2 as the initial terms.</p>

<p>The second verb in the gerund is a fork:</p>

<pre><code>-&amp;3 +&amp;$: -&amp;2
</code></pre>

<p>The left and right tines are applied to the verb, subtracting 3 and 2 respectively; then the middle verb is called with left and right arguments equal to those. <code>$:</code> calls the verb on each argument, and <code>+</code> adds those two. It's basically equivalent to <code>($: arg - 3) + ($: arg - 2)</code></p>

<h3>Test cases</h3>

<pre><code>   f =: (&gt;.1&amp;^)`(-&amp;3+&amp;$:-&amp;2)@.(2&amp;&lt;)
   f 0
1
   f 2
2
   f 4
3
   f 6
5
   f 8
9
   F =: f"0         NB. for tables
   F i.13
1 1 2 2 3 4 5 7 9 12 16 21 28
   i.13
0 1 2 3 4 5 6 7 8 9 10 11 12
   (,. F) i.13
 0  1
 1  1
 2  2
 3  2
 4  3
 5  4
 6  5
 7  7
 8  9
 9 12
10 16
11 21
12 28
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 19 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>

<p>The recursive solution <a href="https://codegolf.stackexchange.com/a/94125/53748">is <s>probably</a></s> shorter...</p>

<pre><code>Ḥ⁹_c@⁸
+3µ:2R0;ç€µS
</code></pre>

<p>See it at <strong><a href="http://jelly.tryitonline.net/#code=4bik4oG5X2NA4oG4CiszwrU6MlIwO8On4oKswrVT&amp;input=&amp;args=OQ" rel="nofollow noreferrer">TryItOnline</a></strong><br>
Or see the series for <code>n = [0, 99]</code>, also at <strong><a href="http://jelly.tryitonline.net/#code=4bik4oG5X2NA4oG4CiszwrU6MlIwO8On4oKswrVTCsKz4bi2w4figqw&amp;input=" rel="nofollow noreferrer">TryItOnline</a></strong></p>

<p>How?</p>

<p>Returns the <code>n+3</code>th Padovan's number by counting combinations</p>

<pre><code>Ḥ⁹_c@⁸ - Link 1, binomial(k, n-2k): k, n
Ḥ      - double(2k)
 ⁹     - right argument (n)
  _    - subtract (n-2k)
     ⁸ - left argument (k)
   c@  - binomial with reversed operands (binomial(k, n-2k))

+3µ:2R0;ç€µS - Main link: n
  µ       µ  - monadic chain separation
+3           - add 3 (n+3)
   :2        - integer divide by 2 ((n+3)//2)
     R       - range ([1,2,...,(n+3)//2]
      0;     - 0 concatenated with ([0,1,2,...,(n+3)//2]) - our ks
        ç€   - call previous link as a dyad for each
           S - sum
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="http://anydice.com" rel="nofollow">AnyDice</a>, 51 bytes</h1>

<pre><code>function:A{ifA&lt;3{result:(A+2)/2}result:[A-2]+[A-3]}
</code></pre>

<p>There should be more AnyDice answers around here.</p>

<p>My solution defines a recursive function that calculates <code>a(n)=a(n-2)+a(n-3)</code>. It returns <code>a(0)=a(1)=1</code> and <code>a(2)=2</code> using some integer division magic.</p>

<p><a href="http://anydice.com/program/96c7" rel="nofollow">Try it online</a></p>

<p>Note: the output may look weird, and that's because it's usually used to output dice probabilities. Just look at the number to the left of the bar chart.</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow">Jelly</a>, 11 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow">bytes</a></h1>

<pre><code>,’fR_2ß€So1
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=LOKAmWZSXzLDn-KCrFNvMQ&amp;input=&amp;args=MTk" rel="nofollow">Try it online!</a> or <a href="http://jelly.tryitonline.net/#code=LOKAmWZSXzLDn-KCrFNvMQo54bi2wrXFvMOH4oKsRw&amp;input=" rel="nofollow">verify all test cases</a>.</p>

<h3>How it works</h3>

<pre><code>,’fR_2ß€So1  Main link. Argument: n

 ’           Decrement; yield n - 1.
,            Pair; yield [n, n - 1].
   R         Range; yield [1, ..., n].
  f          Filter; keep the elements that are common to both lists.
             This yields [n, n - 1] if n &gt; 1, [1] if n = 1, and [] if n &lt; 1.
    _2       Subtract 2 from both elements, yielding [n - 2, n - 3], [-1], or [].
      ß€     Recursively call the main link for each integer in the list.
        S    Take the sum of the resulting return values.
         o1  Logical OR with 1; correct the result if n &lt; 1.
</code></pre>
</div>
<div id="pu19" class="pu"><h2>Python, 33 bytes</h2>

<pre class="lang-python prettyprint-override"><code>f=lambda n:+(n&lt;2)or f(n-2)+f(n-3)
</code></pre>

<p>Uses the shifted base cases <code>f(-1) = f(0) = f(1) = 1</code>. If <code>True</code> could be used for 1, we would not need 3 bytes for the <code>+()</code>.</p>
</div>
<div id="pu20" class="pu"><h1>Mathematica, 35 bytes</h1>

<pre><code>a@0=a@1=1;a@2=2;a@b_:=a[b-2]+a[b-3]
</code></pre>

<p>Defines a function <code>a</code>. Takes an integer as input and returns an integer as output. Simple recursive solution.</p>
</div>
<div id="pu21" class="pu"><h2>JavaScript (ES6), 62 bytes</h2>

<pre><code>n=&gt;[1,...Array(n)].reduce(($,_,i,a)=&gt;a[i]=i&lt;3?i:a[i-3]+a[i-2])
</code></pre>

<p>This is the first time that I've needed two dummy variable names. A recursive version would probably be shorter, but I really like <code>reduce</code>... Edit: Found a solution, also 62 bytes, which only has one dummy variable:</p>

<pre><code>n=&gt;[1,...Array(n)].reduce((p,_,i,a)=&gt;a[i]=i&lt;5?i+2&gt;&gt;1:a[i-5]+p)
</code></pre>
</div>
<div id="pu22" class="pu"><h2>Java 7, <s>65</s> 42 bytes</h2>
<pre><code>int g(int u){return u&gt;1?g(u-2)+g(u-3):1;}
</code></pre>
<p>The sequence just adds previous elements to get new ones. Hat tip to orlp and Rod for this shorter method ;)</p>
<p><strong>Old:</strong></p>
<pre><code>int f(int u){return u&lt;6?new int[]{1,1,2,2,3,4}[u]:f(u-1)+f(u-5);}
</code></pre>
<p>After the fifth element, the gap in the sequence rises by the element five previous.</p>
</div>
<div id="pu23" class="pu"><h1>PHP, <s>105</s> <s>113</s> 93 bytes</h1>
<p>+3 for <code>n=1</code>; +9 for <code>$argv</code>, -1-3 golfed<br />
-20: noticed that I don´t have to the combinations, but only their count</p>
<pre><code>for($i=1&lt;&lt;$n=$argv[1];$i--;)$r+=!preg_match(&quot;#11|(0|^)0[0,]#&quot;,sprintf(&quot;%0{$n}b,&quot;,$i));echo$r;
</code></pre>
<p>run with <code>-r</code></p>
<p>loop from 2**n-1 to 0:</p>
<ul>
<li>check binary n-digit representation for <code>11</code>, <code>000</code>, <code>00</code> at the beginning or the end, or a single <code>0</code></li>
<li>if no match, increase result</li>
</ul>
<p>print result</p>
<p><strong>same size, slightly simpler regex</strong></p>
<pre><code>for($i=1&lt;&lt;$n=$argv[1];--$i;)$r+=!preg_match(&quot;#11|^00|00[,0]#&quot;,sprintf(&quot;%0{$n}b,&quot;,$i));echo$r;
</code></pre>
<ul>
<li>loop from 2**n-1 to 1 (instead of 0)</li>
<li>check binary representation for <code>11</code>, <code>00</code> at the beginning or the end, or <code>000</code></li>
<li>prints nothing for n=0</li>
</ul>
<p><strong>PHP, 82 bytes</strong></p>
<p><a href="https://codegolf.stackexchange.com/q/94085#94085">Arnauld´s answer</a> ported and golfed:</p>
<pre><code>for($i=$k=1&lt;&lt;$n=$argv[1];--$i;)$r+=!($i&amp;$x=$i/2|$i*2)&amp;&amp;(($i|$x)&amp;~$k)==$k-1;echo$r;
</code></pre>
<p>prints nothing for n=0</p>
</div>
<div id="pu24" class="pu"><h1><a href="http://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>25</s> 23 bytes</h1>
<pre><code>W:qB7BZ+t!XAw3BZ+!3&gt;a&gt;s
</code></pre>
<p><a href="http://matl.tryitonline.net/#code=VzpxQjdCWit0IVhBdzNCWishMz5hPnM&amp;input=NQ" rel="nofollow noreferrer">Try it online!</a> Or <a href="http://matl.tryitonline.net/#code=IkAKVzpxQjdCWit0IVhBdzNCWishMz5hPnMKRA&amp;input=MDo4" rel="nofollow noreferrer">check all test cases</a>.</p>
<h3>Explanation</h3>
<p><em>Two</em> convolutions! Yay!</p>
<p>This builds an array, say A, where each possible configuration is a row. <code>1</code> in this array represents an occupied position. For example, for input <code>4</code> the array A is</p>
<pre><code>0 0 0 0
0 0 0 1
0 0 1 0
···
1 1 1 0
1 1 1 1
</code></pre>
<p>The code then convolves array A with <code>[1 1 1]</code>. This gives an array B. Occupied positions and neighbours of occupied positions in A give a nonzero result in array B:</p>
<pre><code>0 0 0 0
0 0 1 1
0 1 1 1
···
2 3 2 1
2 3 3 2
</code></pre>
<p>So the first condition for a configuration to be a checkmate is that B contains no zeros in that row. This means that in that row of A there no empty positions, or there were some but were neighbours of occupied positions.</p>
<p>We need a second condition. For example, the last row fulfills the above condition, but is not part of the solution because the configuration was not valid to begin with. A valid configurations cannot have two neighbouring occupied positions, i.e cannot have two contiguous <code>1</code>'s in A. Equivalently, it cannot have two contiguous values in B exceeding <code>1</code>. So we can detect this by convolving B with <code>[1 1]</code> and checking that in the resulting array, C,</p>
<pre><code>0 0 0 0
0 1 2 1
1 2 2 1
···
5 5 3 1
5 6 5 2
</code></pre>
<p>no value in that row exceeds <code>3</code>. The final result is the number of configurations that fulfill the two conditions.</p>
<pre><code>W:q    % Range [0 1 ... n-1], where n is implicit input
B      % Convert to binary. Each number produces a row. This is array A
7B     % Push array [1 1 1] 
Z+     % 2D convolution, keeping size. Entries that are 1 or are horizontal 
       % neighbours of 1 produce a positive value. This is array B
t!     % Duplicate and transpose (rows become columns)
XA     % True for columns that contain no zeros
w      % Swap. Brings array B to top
3B     % Push array [1 1]
Z+     % 2D convolution, keeping size. Two horizontally contiguous entries
       % that exceed 1 will give a result exeeding 3. This is array C
!      % Transpose
3&gt;     % Detect entries that exceed 3
a      % True for columns that contain at least one value that exceeds 3
&gt;      % Element-wise greater-than comparison (logical and of first
       % condition and negated second condition)
s      % Sum (number of true values)
</code></pre>
</div>
<div id="pu25" class="pu"><h1>Ruby, <s>58</s> 34 bytes</h1>

<p>Heavily inspired by Geobits' original Java answer.</p>

<pre><code>f=-&gt;n{n&lt;3?n:n&lt;6?n-1:f[n-1]+f[n-5]}
</code></pre>

<p>See it on repl.it: <a href="https://repl.it/Dedh/1">https://repl.it/Dedh/1</a></p>

<h2>First attempt</h2>

<pre><code>-&gt;n{(1...2**n).count{|i|!("%0#{n}b"%i)[/11|^00|000|00$/]}}
</code></pre>

<p>See it on repl.it: <a href="https://repl.it/Dedh">https://repl.it/Dedh</a></p>
</div>
<div id="pu26" class="pu"><h1><a href="http://github.com/Adriandmen/Oasis">Oasis</a>, 5 bytes</h1>

<p><strong>Code</strong></p>

<pre><code>cd+2V
</code></pre>

<p><strong>Extended version</strong></p>

<pre><code>cd+211
</code></pre>

<p><strong>Explanation</strong></p>

<pre><code>1 = a(0)
1 = a(1)
2 = a(2)

a(n) = cd+
       c      # Calculate a(n - 2)
        d     # Calculate a(n - 3)
         +    # Add them up
</code></pre>

<p><a href="http://oasis.tryitonline.net/#code=Y2QrMlY&amp;input=&amp;args=OA">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/94074/">94074</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




