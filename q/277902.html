<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::277902</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>129</td><td>JavaScript ES7</td><td>250126T153238Z</td><td><a href="https://codegolf.stackexchange.com/questions/277902/malfatti-circle-radii/277916#277916">Arnauld</a></td></tr>
<tr d-ix="1"><td>031</td><td>Jelly</td><td>250126T091358Z</td><td><a href="https://codegolf.stackexchange.com/questions/277902/malfatti-circle-radii/277905#277905">Jonathan</a></td></tr>
<tr d-ix="2"><td>066</td><td>Charcoal</td><td>250126T112602Z</td><td><a href="https://codegolf.stackexchange.com/questions/277902/malfatti-circle-radii/277908#277908">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (ES7), 129 bytes</h1>
<p>Expects <code>(a,b,c)</code> and returns an array of 3 floats.</p>

<pre class="lang-none prettyprint-override"><code>(a,b,c)=&gt;[s=a+b+c,s,s].map(x=&gt;(g=r=&gt;1+Math.tan(Math.acos((r?[a,b,c]=[c,a,b]:0,x/=c+a-b,a*a+b*b-c*c)/2/a/b)/4))()*g``/g``/x**.5/4)
</code></pre>
<p><a href="https://tio.run/##jZPLbtpQEIb3eQovbXDsuZ0zM41MV132CRBSjJtLqzREEFWRqj47nWNYpBGLooNkzYGPme8ffoy/xsO0//7yev28@3Z3vB@O9dhu26kZVuvDMC63y6k9tIdN93N8qd@GVf0w7IcVLr@Or4/d6/hczw/jtDvU9f7zev7uZlhPbTxtPkH71g/TcrzetuMiYIvt9bSYmp76sd82vTRN3Swebm/78n5bLLoUtePN@qqq1thW5Wza6t2r76saOjQGJAU0J0Jnbqv/LTZnNMW5hGZwESdP7iaQqUAIjSQZ55TQklC@WJzJNJP5ElkQhdVINWcU1QK5VCNlNNQMJMoEqjM4ppG2SpfAmtDdOTEbpTgFkrOYC5ope1KbwQk0BHgmTiSZcebGpwOtl7hZIKYjQAgbp96ULAGIYhDiwkqNE4ZjRIPQRpROhiGiK/HJO3LBUkeQkwInyMJAGjKpQ1CJzpHNIRBRwxghgQnCnJvTObloNm79n37P7ZaELUtS0QiFCoPd0TFU5DBhpRKG1MyycwxgZ7mFivRBb6FiF9sTGiMnEGNMUhjRD5CxSip989yshq0c@5JdE/spslCWw4HrBwcca@mYKRJKsWSSg8pdpAPGhGDZRGe1rrG7GAtp0a6mk9r4ZS9rhgAhucxDmxPWs8eWeCkLp1jIzVV3v9t/GafHuo6/ZrVtq2nTVMOq@h2kafd82D3ddU@7h/q@Pl83zc3Vn@bm@Bc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Method</h3>
<p>The same method <code>g</code> is invoked 3 times to compute successively <span class="math-container">\$1+\tan A/4\$</span>, <span class="math-container">\$1+\tan B/4\$</span>, <span class="math-container">\$1+\tan C/4\$</span> in the relevant order and simultaneously compute the product <span class="math-container">\$(b+c-a)(c+a-b)(a+b-c)\$</span>.</p>
<p>The behavior of <code>g</code> is solely determined by the order of the triplet <span class="math-container">\$(a,b,c)\$</span> which is rotated 2 times out of 3.</p>
<h3>Commented</h3>
<pre class="lang-none prettyprint-override"><code>(a, b, c) =&gt;              // (a, b, c) = input
[ s = a + b + c,          // s = sum of the 3 input values
  s,                      //
  s                       //
].map(x =&gt;                // repeat 3 times, starting with x = s:
  ( g = r =&gt;              //   g is a helper function taking a flag r:
    1 + Math.tan(         //     compute 1 + the tangent of ...
      Math.acos(          //       the inverse cosine of ...
        (                 //     
          r ?             //         if r is set:
            [a, b, c] =   //           rotate (a, b, c)
            [c, a, b]     //           to (c, a, b)
          :               //         else:
            0,            //           do nothing
          x /= c + a - b, //         divide x by c + a - b
          a * a +         //         compute a² + b² - c² ...
          b * b -         //     
          c * c           //     
        ) / 2 / a / b     //         ... divided by 2ab
      ) / 4               //       end of Math.acos(); divide by 4
    )                     //     end of Math.tan()
  )()                     //   first call to g (r not set)
  * g``                   //   multiply by a 2nd call to g (r set)
  / g``                   //   divide by a 3rd call to g (r set)
  / x ** .5 / 4           //   divide by 4√x
)                         // end of map()
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 31 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>S_Ḥ
²Ç×÷PHÆA÷4ÆT‘P÷²ƊɓÇP÷SƊ½÷4×
</code></pre>
<p>A monadic Link that accepts the three side lengths as a list and yields the three radii.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/z84/uGOJVyHNh1uPzz98PYAj8Ntjoe3mxxuC3nUMCPg8PZDm451nZx8uB3IDD7WdWgvSG76////o40sjC2NdBSMDA0MDICUqYW5USwA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8/z84/uGOJVyHNh1uPzz98PYAj8Ntjoe3mxxuC3nUMCPg8PZDm451nZx8uB3IDD7WdWgvSG76f53D7UcnPdw541HTmqxHDXMUbO0UHjXM1Yz8/1/DUEcBhDR1FEBMIyACMY3ATGMQ01hHwURHwRTENAUK6SiYg9UaADWBNJqAeUBhMx0FSxjb0Aiqw9gcKAFUZgnWZGRhbAky2dDAAKjdyNTC3EgTAA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h4>How?</h4>
<p>Just a golfed implementation of the given method.</p>
<pre><code>S_Ḥ - Helper Link: list of integers, L=[x, y, z]
S   - sum {L}            -&gt; Sum = x+y+z
  Ḥ - double {L}     -&gt; Doubles = [2x, 2y, 2z]
 _  - {Sum} subtract {Doubles} -&gt; [y+z-x, x+z-y, x+y-z]

²Ç×÷PHÆA÷4ÆT‘P÷²ƊɓÇP÷SƊ½÷4× - Main Link: list of integers, T=[a, b, c]
²                           - square {T} -&gt; [a², b², c²]
 Ç                          - call the Helper Link with {that} -&gt; [b²+c²-a², a²+c²-b², a²+b²-c²]
  ×                         - multiply by {T} -&gt; [a(b²+c²-a²), b(a²+c²-b²), c(a²+b²-c²))
    P                       - product {T} -&gt; abc
   ÷                        - divide {these} -&gt; [(b²+c²-a²)÷bc, (a²+c²-b²)÷ac, (a²+b²-c²)÷ab]
     H                      - halve {that} -&gt; [(b²+c²-a²)÷2bc, (a²+c²-b²)÷2ac, (a²+b²-c²)÷2ab]
      ÆA                    - arc-cosine {that} -&gt; [A, B, C]
        ÷4                  - divide {that} by four -&gt; [A÷4, B÷4, C÷4]
          ÆT                - tangent {that} -&gt; [tan(A÷4), tan(B÷4), tan(C÷4)]
            ‘               - increment {that} -&gt; [1+tan(A÷4), 1+tan(B÷4), 1+tan(C÷4)]
                Ɗ           - last three links as a dyad - f(X=that):
             P              -   product {X} -&gt; (1+tan(A÷4))(1+tan(B÷4))(1+tan(C÷4)]
               ²            -   square {X} -&gt; [(1+tan(A÷4))², (1+tan(B÷4))², (1+tan(C÷4))²]
              ÷             -   divide {these}
                              -&gt; Z = [(1+tan(B÷4))(1+tan(C÷4))÷(1+tan(A÷4)),
                                      (1+tan(A÷4))(1+tan(C÷4))÷(1+tan(B÷4)),
                                      (1+tan(A÷4))(1+tan(B÷4))÷(1+tan(C÷4)),
                                     ]
                 ɓ          - start a new dyadic chain - f(T, Z)
                  Ç         - call the Helper Link with {T} -&gt; [b+c-a, a+c-b, a+b-c]
                      Ɗ     - last three links as a monad - f(X=that):
                   P        -   product {X} -&gt; (b+c-a)×(a+c-b)×(a+b-c)
                     S      -   sum {X} -&gt; b+c-a+a+c-b+a+b-c = a+b+c
                    ÷       -   divide {those} -&gt; 4r²
                       ½    - square-root {that} -&gt; 2r
                        4  - divide by four -&gt; r÷2
                          × - multiply {that} by {Z} -&gt; [r(GA), r(GB), r(GC)]
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 66 bytes</h1>
<pre><code>Ｆ³⊞υＮ≔Ｅ∕×υ⁻ΣＸυ²⊗Ｘυ²⊗Πυ∕₂⁻¹Ｘι²ιθＦ²ＵＭθ∕⊖₂⊕Ｘκ²κＩ×∕Π⊕θＸ⊕θ²∕₂∕Π⁻Συ⊗υΣυ⁴
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZZG9TsMwFIXFylNYna6lVEpdEEGdULN0KKooG2LIj0utxnZj-5aHYakQCFZeh6chxmmbwGJZx9efzzl--SzWmSl0Vu337-hWw-T77HWlDYExJQu0a8CIzNQW3S3KnBugdHJ-Y614UjDPtpCKnSg53AvJrR-dC4UWlihhoZ-b8UZilEYk1ZhXvOypPd3oEgsHGNRAXdaYGX6ntYPAHUUkAEQARET4pW48_XpmlDSmplrKTJVQH0EpLwyXXLnmpQ50pk5y4G6OxjY-6MII5WCaWdcmbHkHt11A7W8FSl8-NPAv0x_YqTrsFBMKCarfXXh7kzebF7b9sI-HwXBXDR6_WDK-ZoSN4jgm7DK5YuH8Bw" rel="nofollow noreferrer">Attempt This Online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｆ³⊞υＮ
</code></pre>
<p>Input <span class="math-container">\$ a \$</span>, <span class="math-container">\$ b \$</span> and <span class="math-container">\$ c \$</span>.</p>
<pre><code>∕×υ⁻ΣＸυ²⊗Ｘυ²⊗Πυ
</code></pre>
<p>Calculate <span class="math-container">\$ \cos A \$</span>, <span class="math-container">\$ \cos B \$</span> and <span class="math-container">\$ \cos C \$</span> using the cosine rule for triangles...</p>
<pre><code>≔Ｅ...∕₂⁻¹Ｘι²ιθ
</code></pre>
<p>... and from those, calculate <span class="math-container">\$ \tan A \$</span>, <span class="math-container">\$ \tan B \$</span> and <span class="math-container">\$ \tan C \$</span> using this formula:</p>
<p><span class="math-container">$$ \tan \theta = \frac { \sqrt { 1 - \cos^2 \theta } } { \cos \theta } $$</span></p>
<pre><code>Ｆ²ＵＭθ∕⊖₂⊕Ｘκ²κ
</code></pre>
<p>Calculate <span class="math-container">\$ \tan \frac A 4 \$</span>, <span class="math-container">\$ \tan \frac B 4 \$</span> and <span class="math-container">\$ \tan \frac C 4 \$</span> using this formula twice:</p>
<p><span class="math-container">$$ \tan \frac \theta 2 = \frac { \sqrt { 1 + \tan^2 \theta } - 1 } { \tan \theta } $$</span></p>
<pre><code>∕₂∕Π⁻Συ⊗υΣυ⁴
</code></pre>
<p>Calculate <span class="math-container">\$ \frac r 2 \$</span> ...</p>
<pre><code>Ｉ×∕Π⊕θＸ⊕θ²...
</code></pre>
<p>... and use that to calculate the desired radii.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/277902/">277902</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




