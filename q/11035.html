<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::11035</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>293</td><td>C++ gcc</td><td>240214T172417Z</td><td><a href="https://codegolf.stackexchange.com/questions/11035/find-the-convex-hull-of-a-set-of-2d-points/270073#270073">ceilingc</a></td></tr>
<tr d-ix="1"><td>168</td><td>JavaScript Node.js</td><td>241224T094702Z</td><td><a href="https://codegolf.stackexchange.com/questions/11035/find-the-convex-hull-of-a-set-of-2d-points/277376#277376">l4m2</a></td></tr>
<tr d-ix="2"><td>nan</td><td></td><td>130405T152634Z</td><td><a href="https://codegolf.stackexchange.com/questions/11035/find-the-convex-hull-of-a-set-of-2d-points/11134#11134">Dr. beli</a></td></tr>
<tr d-ix="3"><td>168</td><td>Ruby</td><td>130329T094130Z</td><td><a href="https://codegolf.stackexchange.com/questions/11035/find-the-convex-hull-of-a-set-of-2d-points/11053#11053">Howard</a></td></tr>
<tr d-ix="4"><td>195</td><td>Python</td><td>130329T001741Z</td><td><a href="https://codegolf.stackexchange.com/questions/11035/find-the-convex-hull-of-a-set-of-2d-points/11051#11051">cardboar</a></td></tr>
<tr d-ix="5"><td>276</td><td>CoffeeScript</td><td>130327T204149Z</td><td><a href="https://codegolf.stackexchange.com/questions/11035/find-the-convex-hull-of-a-set-of-2d-points/11037#11037">John Dvo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C++ (gcc)</a>, <s>327 301</s> 293 bytes</h1>

<pre class="lang-cpp prettyprint-override"><code>#import&lt;bits/stdc++.h&gt;
using V=std::complex&lt;float&gt;;using W=std::deque&lt;V&gt;;W f(W x){V m=x[0],r,c;float v=imag(m),t,g,s=1;for(V a:x)c=m=arg(a-m)&gt;0?a:m,v=fmin(imag(a),v);W p;do{p.push_back(r=c);g=4;for(V a:x)m=c=a!=r?t=arg(s*(a-r)),t&lt;g|t==M_PI?g=t,a:c:c;s=imag(m)-v?s:-1;}while(m!=p[0]);return p;}
</code></pre>
<p><a href="https://tio.run/##nVJNb9swDL3nV6jYofHqaPqWZVvJeYcBO6WHbShcN3GN1YlnO1mALL89oySnXVEMA3Yy@Ug@Pj6rbNtZVZbn87u6abfdkN/XQ/@hHx7Kmxv8OJ/s@npToaUFJE3LbdM@rQ75@mlbDPMs1G5D7WH1Y7fKl/PsFq2nt@gQHZeosYcv5FvcxWXmR9De1k1RTZsoHuIq7i3N1ttuukRFeohK29iiq6bFrInmZFGkTby366beTP1MEcX7CMjb7GF7bHG76x/v7ovy@7SzZZRVVvxB1djSFle2WwyesX8PpF0ES/Pq12Dtp7vPHxeVHeIiLdMy6y@iZvtFn85odvr5WD@tps2VbUF@lHWrYddtYPPpHE7eFM2qb4tyheD0bFJvBtQUIDQ6TlDw4bVT83pD7fFIcYwoPsXoyCHiPqIhOmUTVOyGLdruBoosWAgjEYDuKF84pK7kNqASojw/5Pl1fA0tp5Bff91A9lcBDAQILECB8IsV1hBLzGTIDGQMJy5hmEJCMXWJwdLPGEgmoJdj5ovGqyeY@zkeSJIYQX@4EAoaaxcTrGIkA510OMMisCVYALsIbUAq3bzyCXdkOhDDAuNsomObs5G@8oyNnrG3nrH/94y7nxYj4tfC0vE7o@NViZFgIsEs4UqMpxpiROJRJQTTKhxKMOGKJtoXEsITqkK7TDghwqGGSumtmxGsBTQYT02JSHgggYKUXDIwBkKjNHAGFk4hMR6mkieKXngMU36lTKQRwB5YNCFUCd@uJTFGBBYhGdPcw4oIwcUzC@WhmwljCHtRY4ShQQ03WurLgBSaa@pxYCFi9MvIhHIWYGMUFS/egAZnNAYxRHM28iSGiguPEkbw0TPKqbPYwVIT9SLIgJmSe/MJv6xVUhkjvfFSMCL9w3l@Ody6d8Pfvhv@z3dzOv8G" rel="nofollow noreferrer">Try it online!</a></p>
<p>Another implementation of the gift wrapping algorithm. Slightly golfed less:</p>
<pre class="lang-cpp prettyprint-override"><code>#import&lt;bits/stdc++.h&gt;
using V=std::complex&lt;double&gt;;
using W=std::deque&lt;V&gt;;
W f(W x){
  V m=x[0],r,c;
  double v=imag(m),t,g,s=1;
  // find topmost point
  for(V a:x)
    c=m=imag(a-m)&gt;0?a:m,
    v=fmin(imag(a),v);
  W p;
  do{
    p.push_back(r=c);
    g=4;
    // loop to find the smallest angle t
    for(V a:x)
      m=c=a!=r?
        t=std::arg(s*(a-r)),t&lt;g|t==M_PI?
          g=t,a
        :
          c
      :
        c;
    // are we wrapping over or under?
    s=imag(m)-v?s:-1;
  // loop until we've gone all the way around
  }while(m!=p[0]);
  return p;
}
</code></pre>
<p>Thanks to @jdt for -8.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 168 bytes</h1>

<pre class="lang-none prettyprint-override"><code>x=&gt;x.flatMap(a=&gt;x.map(b=&gt;[Math.atan2(X=b[0]-a[0],Y=b[1]-a[1])+5,[...x].sort((a,b)=&gt;(p=a[0]-b[0])*Y-(q=a[1]-b[1])*X||p||q)[0]])).sort().flatMap(e=&gt;x[k=e[1]]?[]:x[k]=[k])
</code></pre>
<p><a href="https://tio.run/##PZDNboMwEIRfhaOdmhU2mJ9Kpk@QeyLLB5NC/yiQgCoOvDvdxVUPRvOxO@ORP/2Pn2@Pj2mJh/G13Tuzr6Zeoev9cvYT8wTfKBpT27Nf3sEvflDsYhqbuNjjR1xRS9LS8SctLACsDubxsTDmRcNNzSZDmzF5@Okas7uh7Zh8/HTZtmnb7hyHjvNg5P8NWmxgv0yLq@7FumcEZ/Dw/TYO89i30I9vrGPWZpCJSGZORDaHAqUGpQNVSApKAgUSQYIkqECTBSoCmYI6RoESSA9XGiJKEeE26ZQGBRSkE8hFpEOYpv8KjgIlZJichSWM1OTO/24pyX7EYjxWS4NfUjGU@Aj7Lw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 148 bytes</h1>

<pre class="lang-none prettyprint-override"><code>lambda s:[*dict.fromkeys(min(s,key=lambda P:(P[0]*cos(t)-P[1]*sin(t),P))for t in sorted(atan2(x-X,y-Y)for(x,y)in s for(X,Y)in s))]
from math import*
</code></pre>
<p><a href="https://tio.run/##ZZFNbuMwDIX3OYWXcmAbpERKYoHeIcsWmSw8TYMaM7YD24vm9Bn92JPpdEXx8dMT8XS9LR/jYPx1ul@ef9x/t/3Pc1vMT8f9uXtbmss09r/eb7Pqu0HNVTg@r8jhSR2OcNq/jbNayvpwxNN@DtBSVoeyvIxTsRTdUMzjtLyfVbu0g1af9Ut1q1/jVH1WtzLOi9i8VK@pKcvTLj5Z9O3yUXT9Ndze369TNyzqonZHhVUBZVXEimut0wEa64VdGDfaG0suiwJCPqmWSDsb1F3UwVj0Lg08GI824@wNAEVVkJmjWEPjKACSrBHIm2wSBsyGtQ8rBN664JldDIZGkoxsvMXNR7RNT7JnoeCeXRwAWkq4YxCh7EKstTNJtkBk6K8LmkxrEgH92EZIMG9jxLHbLjA54zDpwQVozUvYo9FZFrFIj2zCDjHoJiwDzujVxwvS5mNJyKyZocEYcZTZgX0sJCFMNil8MNuzlq0Ip@CZNHD48bLc/fPFUGWyglzC/35H6q/MdwS3USp1bP9H6q/Mhtz/AA" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>-8 bytes squareroot12621</p>
<p>O(n<sup>3</sup>) solution, fails when all points on a line(vertical works because of floating error)</p>
</div>
<div id="pu2" class="pu"><p><h2> Mathematica 151 </h2> still work in progress</p>

<pre><code>f = For[t = Sort@#; n = 1; l = Pi; a = ArcTan; c@1 = t[[1]],
       n &lt; 2 || c@n != c@1, 
       n++,
      (l = a @@ (# - c@n); c[n + 1] = #) &amp; @@
      t[[Ordering[Mod[a@## - l, 2 Pi] &amp; @@ (#2 - #1) &amp; @@@ Tuples@{{c@n}, t}, 1]]]] &amp;
</code></pre>

<p>testing:</p>

<pre><code>ClearAll[a, c, t];
s = {{1, 0}, {0.68957, 0.283647}, {0.909487, 0.644276}, {0.0361877, 0.803816}, 
     {0.583004, 0.91555}, {-0.748169, 0.210483}, {-0.553528, -0.967036}, 
     {0.316709, -0.153861}, {-0.79267, 0.585945}, {-0.700164, -0.750994}, 
     {0.452273, -0.604434}, {-0.79134, -0.249902}, {-0.594918, -0.397574}, 
     {-0.547371, -0.434041}, {0.958132, -0.499614}, {0.039941, 0.0990732}, 
     {-0.891471, -0.464943}, {0.513187, -0.457062}, {-0.930053, 0.60341}, 
     {0.656995, 0.854205}};
f@s
Show[Graphics@Line@Table[c@i, {i, n}], 
     ListPlot[{t, Table[c@i, {i, n}]}, 
     PlotStyle -&gt; {PointSize[Medium], PointSize[Large]}, 
     PlotRange -&gt; All]]
</code></pre>

<p><img src="https://i.sstatic.net/NGJmf.png" alt="enter image description here"></p>
</div>
<div id="pu3" class="pu"><h3>Ruby, 168 characters</h3>
<pre class="lang-ruby prettyprint-override"><code>C=-&gt;q{r=[]
f=m=q.sort[0]
t=-0.5
(_,_,t,*f=q.map{|x,y|a=x-f[0]
b=y-f[1]
[0==(d=a*a+b*b)?9:(-t+e=Math.atan2(b,a)/Math::PI)%2,-d,e,x,y]}.sort[0]
r&lt;&lt;=f)while
!r[1]||f!=m
r}
</code></pre>
<p>This ruby code also uses the gift wrapping algorithm. The function <code>C</code> accepts an array of points and returns the convex hull as array.</p>
<p>Example:</p>
<pre><code>&gt;p C[[[4.4, 14], [6.7, 15.25], [6.9, 12.8], [2.1, 11.1], [9.5, 14.9], 
     [13.2, 11.9], [10.3, 12.3], [6.8, 9.5], [3.3, 7.7], [0.6, 5.1], [5.3, 2.4], 
     [8.45, 4.7], [11.5, 9.6], [13.8, 7.3], [12.9, 3.1], [11, 1.1]]]

[[5.3, 2.4], [11, 1.1], [12.9, 3.1], [13.8, 7.3], [13.2, 11.9], [9.5, 14.9], [6.7, 15.25], [4.4, 14], [2.1, 11.1], [0.6, 5.1]]
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Python, <strike>209 205</strike> 195</h1>

<pre><code>from math import*
s=lambda(a,b),(c,d):atan2(d-b,c-a)
def h(l):
 r,t,p=[],pi/2,min(l)
 while 1:
    q=min(set(l)-{p},key=lambda q:(s(p,q)-t)%(2*pi));m=s(p,q);r+=[p]*(m!=t);p=q;t=m
    if p in r:return r
</code></pre>

<p>Uses a gift wrapping algorithm.  The result starts with the leftmost point and wraps counter-clockwise.</p>

<p>Example: <code>h([(1, 1), (2, 2), (3, 3), (1, 3)])</code> returns <code>[(1, 3), (1, 1), (3, 3)]
</code></p>
</div>
<div id="pu5" class="pu"><h1>CoffeeScript, 276:</h1>

<pre><code>f=($)-&gt;z=$[0];e.r=Math.atan2(e.x-z.x,e.y-z.y)for e in $;$.sort((x,y)-&gt;(x.r&gt;y.r)-(x.r&lt;y.r));(loop(a=$[i-1]||$[$.length-1];b=$[i];c=$[i+1]||$[0];break if!b;s=(b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x);break if s&lt;0||!s&amp;&amp;(a.x-b.x)*(b.x-c.x)&lt;0;$.splice i,1))for i in [$.length-1..0];$
</code></pre>

<p>If the function needs not be accessible, remove <code>f=</code> to shave off two more characters.</p>

<p>Input/output is a single array of points, with each point being defined by the <code>x,y</code> properties. The input array is modified, as well as returned (if the latter not required, remove the last two characters). </p>

<p>Explanation may be added later.</p>

<p>Test suite (won't work in oldIE):</p>

<pre><code>alert JSON.stringify f({x:e[0], y:e[1]} for e in JSON.parse "
{{1, 1}, {2, 2}, ...}
".replace(/{/g,"[").replace(/}/g,"]"))
</code></pre>

<p>suggested test environment: <a href="http://coffeescript.org/" rel="nofollow">http://coffeescript.org/</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/11035/">11035</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




