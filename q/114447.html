<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::114447</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>037</td><td>Pip s</td><td>170329T222719Z</td><td><a href="https://codegolf.stackexchange.com/questions/114447/grade-my-scan-tron/114454#114454">DLosc</a></td></tr>
<tr d-ix="1"><td>046</td><td>Jolf</td><td>170330T183652Z</td><td><a href="https://codegolf.stackexchange.com/questions/114447/grade-my-scan-tron/114574#114574">Conor O&</a></td></tr>
<tr d-ix="2"><td>nan</td><td>Stacked</td><td>170329T230310Z</td><td><a href="https://codegolf.stackexchange.com/questions/114447/grade-my-scan-tron/114457#114457">Conor O&</a></td></tr>
<tr d-ix="3"><td>045</td><td>CJam</td><td>170330T145241Z</td><td><a href="https://codegolf.stackexchange.com/questions/114447/grade-my-scan-tron/114510#114510">Business</a></td></tr>
<tr d-ix="4"><td>088</td><td>JavaScript ES6</td><td>170329T214537Z</td><td><a href="https://codegolf.stackexchange.com/questions/114447/grade-my-scan-tron/114449#114449">ETHprodu</a></td></tr>
<tr d-ix="5"><td>043</td><td>05AB1E</td><td>170330T082527Z</td><td><a href="https://codegolf.stackexchange.com/questions/114447/grade-my-scan-tron/114482#114482">Emigna</a></td></tr>
<tr d-ix="6"><td>242</td><td>Batch</td><td>170330T075742Z</td><td><a href="https://codegolf.stackexchange.com/questions/114447/grade-my-scan-tron/114478#114478">Neil</a></td></tr>
<tr d-ix="7"><td>093</td><td>Python 2</td><td>170329T220700Z</td><td><a href="https://codegolf.stackexchange.com/questions/114447/grade-my-scan-tron/114451#114451">Rod</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a> <code>-s</code>, <s>48</s> <s>45</s> <s>43</s> <s>47</s> <s>44</s> 37 bytes</h1>
<blockquote>
<p>I'm definitely adding a rounding operator to my golfing language after this. :P<br />
– DLosc, <a href="https://codegolf.stackexchange.com/questions/114447/grade-my-scan-tron/114454#comment279350_114447">Mar 30, 2017 at 19:37</a></p>
</blockquote>
<p>Well, it only took <a href="https://github.com/dloscutoff/pip/commit/a81701a76baf622cb28c01a0b606c97a7447fc7f" rel="nofollow noreferrer">seven years</a>...</p>
<pre><code>/t*RNm-m/#b*#PFI{$NIb&amp;Ua}MEbZa@`\|..`
</code></pre>
<p>Takes input as command-line arguments (the scan-tron page will need quoting and escaping of newlines if you run it from an actual command line). Outputs the missed questions first, then the score. <a href="https://ato.pxeger.com/run?1=m724ILNgWbSSbrFS7IKlpSVpuhY3VfVLtIL8cnVz9ZWTtJQD3DyrVfw8k9RCE2t9XZOiEh0SYmr09BIgimF6_kYrKSgo6OrqxuQpGOop1CTWKCQpJCukALlwcQUE00hPIVGhJqkGoQRFEYxjDFKWpFCTXINQhqYQxjWBKE1WqEmpwZRF4ZgSb6oZblOVdBSUEpOSEpNT4CEHAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<p>I'm gonna do this in two parts: the incorrect questions list and the score.</p>
<pre><code>PFI{$NIb&amp;Ua}MEbZa@`\|..`
                          a,b are cmdline args (implicit)
                a@`\|..`  Find all occurrences in a of | followed by 2 chars
                          Regex matches don't overlap, so this finds each
                          selected answer and nothing else
              bZ          Zip with b, the correct answers
   {       }ME            Enumerate the resulting pairs and map this function
                          to them:
    $NIb                    Fold the pair on the not-in operator
                            Gives 0 if correct answer matches selected answer,
                            1 otherwise
        &amp;                   Logical and
         Ua                 Enumeration index incremented (1, 2, ...)
                            This gives the question number if the answer
                            was incorrect, or 0 if it was correct
 FI                       Filter out the falsey (0) elements
P                         Print, joining on spaces (-s flag)
</code></pre>
<pre><code>/t*RNm-m/#b*#...
                  a,b are cmdline args, t is 10, m is 1000 (implicit)
             ...  The code from the first part
            #     Length of that list (i.e. number of incorrect answers)
       m/#b*      Times 1000/(number of questions)
     m-           Subtracted from 1000
                  We now have a number like 666.666666666667
   RN             Round to nearest integer
/t*               Times 1/10
                  Print (implicit)
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Jolf, 46 bytes</h1>

<p>I can't seem to break 46 bytes. I have two solutions of this length. <a href="http://conorobrien-foxx.github.io/Jolf/#code=zoZSzrPPiH5tzpYgbWnCq1x8Li7Cu2Q_PeKCrEgueFNFaFNkSM6uU21YKn4xLy1szrZszrNszrZfMQ&amp;input=ICAgLS0tCjEuIHxhfCBiIGMgZAogICAtLS0KICAgICAtLS0KMi4gYSB8YnwgYyBkCiAgICAgLS0tCiAgICAgICAtLS0KMy4gYSBiIHxjfCBkCiAgICAgICAtLS0KCiJhYmIi" rel="nofollow noreferrer">Try one here!</a></p>

<pre><code>ΆRγψ~mΖ mi«\|..»d?=€H.xSEhSdHήSmX*~1/-lζlγlζ_1
</code></pre>

<p>(Replace <code>□</code> with <code>0x7f</code> in the next one)</p>

<pre><code>ΆRγψΜΖψGi'|d=1lHd?□=H.xShSEdHήSmX*~1/-lζlγlζ_1
</code></pre>

<p>In either case, 15 bytes for rounding: <code>mX*~1/-lζlγlζ_1</code>. They are, for the most part, the same, except one uses a regex match to get the results, and the other splits on pipes.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/stacked" rel="nofollow noreferrer">Stacked</a>, 68 + 1 = 69 bytes</h1>

<pre><code>'|'split[#'1-]NO neq::size:@z~&gt;*[]YES' '#`out is0 sum z/100*1 nround
</code></pre>

<p><a href="https://tio.run/nexus/stacked#VY9BC4JQEITv/ooBD6vCM61OHqJL1zp0ChHyqZBUaj09JEt//aWpkQsLszMfA2tRTCD5WxvjWA7qS4Zr9oJjGwZ1lhDC8F1wzJBIkBqj9@V7sXQRgyVP4V88yFUPSHDCEzBDxms9UF0LpzzPSBOTqm55HZrki2h/QJE9gkDlbRZs2/fGCaPT7ti9Yp7LpkauPKjmjnbhe57jo3iWTZFqrUX1AQ" rel="nofollow noreferrer" title="Stacked – TIO Nexus">Try it online!</a> +1 for <code>-p</code> flag (this script can be executed as <code>stacked -pe "..."</code>)</p>

<p>Takes two inputs from the top of the stack.</p>

<p>Some interesting features:</p>

<pre><code>[#'1-]NO
[    ]NO   do not keep members where
 #'          its length
   1-          -1
             is truthy (in this case, not equal to zero).
</code></pre>

<p>This yields all letters surrounded by pipes.</p>

<pre><code>:size:@z~&gt;*[]YES
:                 duplicate indices of incorrect answers
 size             length of incorrect answers
     :@z          (stored into z)
        ~&gt;        range from 1 to this length
          *       and multiply by this range
           []YES  keep truthy elements
</code></pre>

<p>This gives us all incorrect question numbers.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, <s>47</s> 45 bytes</h1>

<pre><code>lqN/(;3%_'|f#:).=.=__:+\,d/e2XmOn:!_,,:).*0-p
</code></pre>

<p><a href="https://tio.run/nexus/cjam#@59T6KevYW2sGq9ek6Zspalnq2cbH2@lHaOTop9qFJHrn2elGK@jA5TQMtAt@P8/MSmJS0FBQVdXl8tQT6EmsUYhSSFZIQUmpqAAZRjpKSQq1CTVwCSRpCFMY5CCJIWa5BqYArA4AA" rel="nofollow noreferrer" title="CJam – TIO Nexus">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<p>The program is in three main parts:</p>

<pre><code>Right/wrong list

l                    e# Read the first line of input (answer key)
 qN/                 e# Read the rest of the input and split it on newlines
    (;3%             e# Delete the first line, then select every 3rd line 
        _            e# Duplicate the array
         '|f#        e# Find the index of the first | in each answer
             :)      e# Increment each, gives the index of the selected letter for each answer
               .=    e# Vectorized get-element-at with the answer strings
                 .=  e# Vectorized equality check with the answer key
</code></pre>

<p>After this section, we have an array of <code>0</code>s and <code>1</code>s, where <code>0</code> indicates a wrong answer and <code>1</code> a right answer.</p>

<pre><code>Score

__              e# Duplicate the right/wrong list twice
  :+            e# Take the sum of it (number of right answers)
    \,          e# Swap top elements and take the length (total number of questions)
      d/        e# Divide (casting to double so it's not integer division)
        e2      e# Multiply by 10^2
          XmO   e# Round to 1 decimal place
             n  e# Pop and print with a newline
</code></pre>

<p>After this section, the stack contains only the right/wrong list, and the percentage score has been output.</p>

<pre><code>Wrong answers

:!            e# Logically negate each element of the right/wrong list
  _,,:)       e# Generate the inclusive range 1...length(list)
       .*     e# Vectorized multiplication of the two lists
         0-   e# Remove any 0s from the result
           p  e# Print it
</code></pre>
</div>
<div id="pu4" class="pu"><h2>JavaScript (ES6), 88 bytes</h2>

<pre><code>x=&gt;y=&gt;x.replace(/\w(?=\|)/g,c=&gt;c==y[i++]?t++:a+=i+" ",a=i=t="")&amp;&amp;(t/i*1e3+.5|0)/10+`
`+a
</code></pre>

<p>I could save 5 bytes by using commas and returning everything one one line:</p>

<pre><code>x=&gt;y=&gt;x.replace(/\w(?=\|)/g,c=&gt;c==y[i++]?t++:a+=[,i],a=i=t="")&amp;&amp;(t/i*1e3+.5|0)/10+a
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 43 bytes</h1>

<pre><code>U|3ôø`\vyy'|k&gt;èXNèQˆ}¯OXg/3°*2z+ïT/XgL¯_Ï‚»
</code></pre>

<p><a href="https://tio.run/nexus/05ab1e#@x9aY3x4y@EdCTFllZXqNdl2h1dE@B1eEXi6rfbQev@IdH3jQxu0jKq0D68P0Y9I9zm0Pv5w/6OGWYd2//@fmJScAsZcCgoKurq6XIZ6CjWJNQpJCskKKTAxBQUow0hPIVGhJqkGJokkDWEagxQkKdQk18AUoCiBcEwwTMFikimaO7CaZEaMSebEuMmCGJMssbsJAA" rel="nofollow noreferrer" title="05AB1E – TIO Nexus">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>U                                            # store the answer key in X
 |3ô                                         # split the question-rows in chunks of 3
    ø`                                       # zip and flatten
      \                                      # discard top of stack, leaving the list of
                                             # answer rows on top
       v                                     # for each answer row
         y'|k                                # get the index of the first "|"
        y    &gt;è                              # get the character after that from the row
               XNèQ                          # compare it to the corresponding entry in 
                                             # the answer key
                   ˆ                         # add it to the global list
                    }                        # end loop
                     ¯O                      # calculate the number of correct answers
                       Xg/                   # divide by the length of the answer key
                          3°*                # multiply by 1000
                             2z+             # add 0.5
                                ï            # convert to integer
                                 T/          # divide by 10
                                   XgL       # push range [1 ... len(answer key)]
                                      ¯_Ï    # keep only numbers corresponding to 
                                             # wrong answers
                                          ‚» # format output
</code></pre>
</div>
<div id="pu6" class="pu"><h2>Batch, 242 bytes</h2>

<pre><code>@echo off
set/as=c=0
set m=
set/pk=
:l
set/ac+=1
set/pt=
set/pl=
set/pt=
set "l=%l:*|=%
if %l:~,1%==%k:~,1% (set/as+=1)else set m=%m% %c%
set k=%k:~1%
if not "%k%"=="" goto l
set/as=(s*2000/c+1)/2
echo(%s:~,-1%.%s:~-1%
echo(%m%
</code></pre>

<p>Reads in the answer key on STDIN first, then <code>n*3</code> question rows. Note: Score is printed without a leading zero if it is less than <code>1.0</code>. Missed answers are printed with a leading space.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>94</s> 93 bytes</h1>

<p><sup>-1 byte thanks to L3viathan</sup>
</p>

<pre class="lang-python prettyprint-override"><code>s,a=input()
l=len(s)
w=[i+1for i in range(l)if"|%s|"%a[i]not in s[i]]
print(l-len(w))*1e2/l,w
</code></pre>

<p><a href="https://tio.run/nexus/python2#VcvBCoMwEATQu1@xBISkTSzas18Sc0isloWwirF42X@3DYrQ2zDzZk/at0jzZ5WqiG0cSCZVbK3Fez1OCyAgweLpPciocBRcJhalt@hoWvOWftEV84K0ymjyf1PqVg/NI@pt360VAGCM6aiugD1DgB5eHR2t0Hk@QVOBBw58gT9yomdGAbjnCx3MaeFDEO4L" rel="nofollow noreferrer" title="Python 2 – TIO Nexus">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/114447/">114447</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




