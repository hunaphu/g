<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::265538</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>179</td><td>AWK</td><td>250318T154149Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/278751#278751">xrs</a></td></tr>
<tr d-ix="1"><td>289</td><td>Scala</td><td>230928T072622Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265553#265553">138 Aspe</a></td></tr>
<tr d-ix="2"><td>131</td><td>Python</td><td>230927T211254Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265540#265540">97.100.9</a></td></tr>
<tr d-ix="3"><td>3775</td><td>Vyxal</td><td>230927T233843Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265546#265546">lyxal</a></td></tr>
<tr d-ix="4"><td>112</td><td>Ruby</td><td>230928T102752Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265560#265560">G B</a></td></tr>
<tr d-ix="5"><td>188</td><td>Excel</td><td>230928T093401Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265555#265555">Jos Wool</a></td></tr>
<tr d-ix="6"><td>035</td><td>05AB1E</td><td>230928T071735Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265552#265552">Kevin Cr</a></td></tr>
<tr d-ix="7"><td>065</td><td>APLDyalog Unicode</td><td>230927T222649Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265545#265545">ovs</a></td></tr>
<tr d-ix="8"><td>055</td><td>Charcoal</td><td>230927T234047Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265547#265547">Neil</a></td></tr>
<tr d-ix="9"><td>197</td><td>Retina 0.8.2</td><td>230928T000619Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265548#265548">Neil</a></td></tr>
<tr d-ix="10"><td>123</td><td>JavaScript Node.js</td><td>230928T030025Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265549#265549">tsh</a></td></tr>
<tr d-ix="11"><td>136</td><td>JavaScript ES11</td><td>230927T220824Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265544#265544">Arnauld</a></td></tr>
<tr d-ix="12"><td>089</td><td>Raku</td><td>230927T215905Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265543#265543">Sean</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.gnu.org/software/gawk/" rel="nofollow noreferrer">AWK</a>, 179 bytes</h1>
<pre><code>func g(x){return gsub(x,X)}{if((d=NF)&lt;2)exit 0
for(;i++&lt;d;)s=$i s
s==$0&amp;&amp;x+=3
(t=5*g(&quot;420$&quot;))&amp;&amp;x+=t+1
(t=6*g(&quot;69$&quot;))&amp;&amp;x+=t+2
g(800813)&amp;&amp;x+=4
x+=2*g(420)
x+=g(69)
printf&quot;%.1f&quot;,x/d}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=Tc_BCoJAEAbg-z6FiMlMWq2biZJ77di5a2W7LIGFrrQgPUkXITp17Gl6m9bs0GVm-JgfZm737eXYdY9Gi0n6fomm3DsSDLbVQTdV6ci62YEJN3htlQAo-HqFOcODUdqhRJwqWKogyIsl1txTTk1qzj3q-ybgcwKaL8YS3JhRz0X8qg6i3pPek-yPGZGQUppG80FiYguzazaN_SwhyZCcK1Vq4Y6mkXBDMyuuw-m_D7pnlmQ2wGLbB_oA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 289 bytes</h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/265540/110802">@97.100.97.109's Python answer</a> in Scala.</p>
<p>Thanks to @Joseph's help to correct the scala code.</p>
<hr />
<p>Golfed version. <a href="https://tio.run/##ZZBNawIxEIbv/RUhSEl0SfdLu1qyYJHSg0KplB5ljaOmpFnZiVIQf/s2W21X6CHk8L4zPM@gKkxRl8sPUI7MCHw5sCsk493ueHNDDoUhakTmrtJ2I/NJuV8aILJGmT/qzQSU/iwMYyjQ6JWvsIQLVe6tYwspaRqHlPfibhvH1/Fg6NOky/SaoZQoKjhAhXCLwoDduG0e8YiAQSAh7/20/LB1hbbIaBaGWZRQzkn61@mfd4nG4F27LTsTXG0Z/Gs0EG2BC1eeJe9@KbhAcHN/JWBR0EqLV@/ROM3KFYjn8fRp8fbSjtcPU42O0eFg6Bni1P80uEBf0AMa@tcQBjROk36YJXEa9rN7ysW6rKBQW6ZlvvOnd8YypB1NRqRzVEzzk4c@1d8" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>s=&gt;BigDecimal((s.sliding(3).count(_==&quot;420&quot;)+2*s.sliding(2).count(_==&quot;69&quot;)+3*(if(s==s.reverse&amp;s.length&gt;1)1 else 0)+(if(s.contains(&quot;800813&quot;)) 4 else 0)+5*(if(s.endsWith(&quot;420&quot;))1 else 0)+6*(if(s.endsWith(&quot;69&quot;))1 else 0)).toDouble/s.length).setScale(1,BigDecimal.RoundingMode.HALF_UP).toDouble
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##dVNda9tAEHzvrxhECKc6lWXJVm1TFxxC6UMCJSb0oZSgSGv70vOd0Z1CS/Bvd1cfUazQgpB0q52bvZmRzVKVHo/m4ZEyh5tUatBvRzq3WO73eH4H8JXTGtyYlSp1tMpMQcLOsXKF1Bt/jitTPijCom4HnlKFzJTajaOQizawSubcKWI/qOviHosFPP7s@X1EMusBoj4gmZ3071MldV6YHV0aXVrGyTWErRptUNATFZZwfs4LRXrjtviMkY8RSHE97NNOw3A6iusthGVK7VgIK7ym7vk@xi0OGA6xzB9L6yiHM6jekG0p@1XxvyBYRGmdBcvptgRbK9Vxsrx89t7YQSX5d@m2opHlH5NyRzL7H6iS5gTTgZxxqaodY1BnygAR3neKDxDz6q2eg540A0y453TwAZKm0g7VcF7KzRVlcpcq8UodONNGZNjZ4QeW3IpDRWJ0cQILbpm1Mv/G5BR8XV5/ub/75nc7MMmhYjLsbyFzqqO5Y7dEWmw4k8uiSP/8aJL5k6N5p6XrBVPqfekqBa/ZIOHNkhmfKBrz07t4sa81kddhdasM4Uc0jifhNI7G4WT6sQ3i2hQQEp8@tPv6LROw5wmc0sJ6ZxJznD2/@X@kf2j3ONRnOhyPfwE" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main extends App {
  
  def calculateScore(s: String): Double = {
    val count420 = s.sliding(3).count(_ == &quot;420&quot;)
    val count69 = s.sliding(2).count(_ == &quot;69&quot;)
    val palindromeBonus = if (s == s.reverse &amp;&amp; s.length &gt; 1) 1 else 0
    val count800813 = if(s.contains(&quot;800813&quot;)) 4 else 0  // Adjusted to just check if &quot;800813&quot; exists in the string
    val end420Bonus = if (s.endsWith(&quot;420&quot;)) 1 else 0
    val end69Bonus = if (s.endsWith(&quot;69&quot;)) 1 else 0

    val totalScore = count420 + 2 * count69 + 3 * palindromeBonus + count800813 + 5 * end420Bonus + 6 * end69Bonus

    BigDecimal(totalScore.toDouble / s.length).setScale(1, BigDecimal.RoundingMode.HALF_UP).toDouble
  }

  override def main(args: Array[String]): Unit = {
    val inputs = List(&quot;96942024969&quot;, &quot;800813800813&quot;, &quot;0&quot;, &quot;420&quot;, &quot;2435083240587&quot;)
    for (i &lt;- inputs) {
      println(s&quot;$i : ${calculateScore(i)}&quot;)
    }
  }
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <s>136</s> 131 bytes</h1>
<p><em>-5 from <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">@Jonathan Allan</a></em></p>
<pre class="lang-python prettyprint-override"><code>lambda s:&quot;%0.1f&quot;%(((c:=s.count)(m:=&quot;420&quot;)+2*c(&quot;69&quot;)+3*(s[:1]&lt;s*c(s[::-1]))+4*(&quot;800813&quot;in s)+5*(e:=s.endswith)(m)+6*e(&quot;69&quot;))/len(s))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LY5BasMwEEX3OYUYCMzYTirLsiuL-iSuF6ljEUEih0ihZJ1jdGMo7Z16m8rYm_l_Bub9__V7fYTT6KZv07z_3IPZqb_n-XD5OB6Y17Dl-9zAFhF73fh9P95dILzoBqTgQKlIeoSqjq5I0Lc67958PEWnd3lHlMoEQXGu8gKsY57SMsFhRg3u6D9tOEUapVUyLBh6OQ8OPdFapTXjjVkWX1uoqzqGChkVMrZSV3bc-TzmVlGELEquCiF5qV6h0xvGrjfrAtoMNGQGLdFmiZimRf8B" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A crappy solution, but a solution nonetheless.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 302 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 37.75 bytes</h1>
<pre><code>⁺md69&quot;₌vøEvO?₍λḂ⁼n₀&gt;*;‡800813c$WfÞż∑$L/1∆W
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyI9IiwiIiwi4oG6bWQ2OVwi4oKMdsO4RXZPP+KCjc674biC4oG8buKCgD4qO+KAoTgwMDgxM2MkV2bDnsW84oiRJEwvMeKIhlciLCIiLCI4MDA4MTM4MDA4MTMiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Many more bytes added to handle single digits not being a palindrome.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>114</s> 112 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;n{b=0;[/420/,/69/,n[1]?n.reverse: ?a,/(800813.*)+/,/420$/,/69$/].sum{|x|n.scan(x).size*b+=1.0/n.size}.round 1}
</code></pre>
<p><a href="https://tio.run/##NYxLDoIwFEXnroIQBvxsX0vBokEWQjoALYkDq2mDQYG11wbC5P5ycvXQfW1f2eNVTV0FlwYzCjjFRYlT1RBRK6TlR2ojz17dpjjkAJxkKI4SRzk2WOEAC2SG5zSPs0Lm1qpwjJB5/GTcJRVBgNXaFqRfg7p7ZLFvr2/8sijdBWXOfXFYp@1/032DPTh4j5RlOfCMMsj5yRf2Dw" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1>Excel, 188 bytes</h1>
<pre><code>=LET(
    a,800813,
    b,{69,420},
    c,A1,
    d,LEN(c),
    ROUND(
        SUM(
            MMULT(d-LEN(SUBSTITUTE(c,b,&quot;&quot;)),1/{1;3}),
            3*(d&gt;1)*(c=0+CONCAT(MID(c,d-SEQUENCE(d)+1,1))),
            4*(FIND(a,c&amp;a)&lt;d),
            (0+RIGHT(c,{2,3})=b)*{6,5}
        )/d,
        1
    )
)
</code></pre>
<p>Input in cell <code>A1</code>.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="noreferrer">05AB1E</a>, 35 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="noreferrer">bytes</a></h1>
<pre><code>Ž¥ú2ä©¢IÂQIg≠*I•CΘ=•åI®Å¿)˜ā*OIg/1.ò
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//6N5DSw/vMjq85NDKQ4s8DzcFeqY/6lyg5fmoYZHzuRm2QOrwUs9D6w63HtqveXrOkUYtf890fUO9w5v@/7c0szQxMjAyAdIA" rel="noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/o3sPLT28y@jwkkMrDy2qPNwUWJn@qHOBVuWjhkXO52bYAqnDSysPrTvcemi/5uk5x7b5V6brG@od3vRf53@0kqWZpYmRgZEJkFbSUbIwMLAwNIaQQK4BEANlgaSRibGpgYWxkYmBqYW5UiwA" rel="noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Ž¥ú2ä©¢    # Verify the first two rules:
Ž¥ú        #  Push compressed integer 42069
   2ä      #  Split it into two parts: [420,69]
     ©     #  Store it in variable `®` (without popping)
      ¢    #  Count how many times each occur in the (implicit) input-string
IÂQIg≠*    # Verify the third rule:
I          #  Push the input again
 Â         #  Bifurcate it; short for Duplicate &amp; Reverse copy
  Q        #  Pop both and check if they're the same (aka it's a palindrome)
   Ig      #  Push the input-length
     ≠     #  Check that it's NOT 1 (0 if 1; 1 if &gt;=2)
      *    #  Multiply them together
I•CΘ=•å    # Verify the fourth rule:
I          #  Push the input again
 •CΘ=•     #  Push compressed integer 800813
      å    #  Check if the input contains this number as substring
I®Å¿       # Verify the fifth and sixth rules:
I          #  Push the input yet again
 ®         #  Push pair [420,69] from variable `®`
  Å¿       #  Check whether the input ends with either of these two
)          # Wrap all items on the stack into a list
 ˜         # Flatten the list of pairs and loose values to a single list
  ƶ        # Multiply each value in the list by its 1-based index
   O       # Then sum the list together
    Ig/    # Divide it by the input-length
       1.ò # Round it to 1 decimal after the period
           # (after which the result is output implicitly)
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/166851/52210">See this 05AB1E tip of mine (section <em>How to compress large integers?</em>)</a> to understand why <code>Ž¥ú</code> is <code>42069</code> and <code>•CΘ=•</code> is <code>800813</code>.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://dyalog.com" rel="nofollow noreferrer">APL(Dyalog Unicode)</a>, <sup><s></s></sup>65 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a></sup></h1>
<pre><code>1⍕≢÷⍨1⊥4⍸⍤⌽(1&lt;≢×⊢≡⌽),(1∊'800813'⍷,),(,⍤⍉⍤↑'024' '96'(⊃,+/)⍤⍷¨⊂⍤⌽)
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=AwA&amp;c=M3zUO/VR56LD2x/1rjB81LXU5FHvjke9Sx717NUwtAFJTH/UtehR50KggKaOhuGjji51CwMDC0Nj9Ue923WAQjog1b2dILJtorqBkYm6grqlmbrGo65mHW19TbDs9kMrHnU1QYzVBAA&amp;f=S1NQtzSzNDEyMDIB0upcaQrqFgYGFobGEBIsAJQF0xDSyMTY1MDC2MjEwNTCXB0A&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=dfn&amp;n=f" rel="nofollow noreferrer">Try it on APLgolf!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>57</s> <s>56</s> 55 bytes</h1>
<pre><code>﹪%.1f∕⁺⁺ΣＥ⪪42069³⁺×⁺⁵κ¬⊟⪪θι×⊕κ№θι∧∧⊖Ｌθ⁼θ⮌θ³∧№θ800813⁴Ｌθ   
</code></pre>
<p><a href="https://tio.run/##RY9tC8IgFIX/igjBFSzWWtHoU1QfgopR/YGx3Upyuhfd3zftbYJeOOc5h2vxyNtC59K5rBXKwFGXVmqgo8n0RjnZil6UCJm03ee52AqOeQ2XWgoDNImjReq5GePk7V9FhV90zsnTyydtINO/RMOJYP5w8iH3qmixQmWwhEBvtFUD5YW1KiHcLQ7gAdXdPKAJ/q6xuexC4ow9th0GmYWNvuF/I11G0XI6o15Pgjm0MLZyLl2k/jdx4qcb9/IF" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>         Ｅ⪪42069³                                         Map over `420`,`69`
                  ×⁺⁵κ¬⊟⪪θι                               5 or 6 if ends with
                 ⁺                                        Plus
                           ×⊕κ№θι                         1 or 2 times count
                                 ∧∧⊖Ｌθ⁼θ⮌θ³               3 if palindrome
                                           ∧№θ800813⁴     4 if `800813`
      ⁺⁺Σ                                                 Take the sum
                                                    Ｌθ     Divide by length
﹪%.1f                                                       Round to `0.1`
                                                            Implicitly print
</code></pre>
<p>Previous <s>57</s> 56 byte solution:</p>
<pre><code>﹪%.1f∕ΣＥ⟦№θ420№θ69∧⊖Ｌθ⁼θ⮌θ‹⁰№θ800813¬⊟⪪θ420¬⊟⪪θ69⟧×ι⊕κＬθ
</code></pre>
<p><a href="https://tio.run/##bY7BCsIwEER/JQSEDURpqxSLJ7EeBBVRb@KhtKsNpknbtP39mIBSD56WnTfMTF5mba4zae2pFaqDgy56qYFOZuGDcpKKQRQIl76CQ1bDbaN7Z2o4oYsooIyTUYgT/69VASnmLVaoOixgj@rZldAwx7ZNn0njzWccsDXoZafv0RgIfrOWQbAM59TDo@7gpGu41FL8NP9HfgNjd06uokIDgpOdGre8Pm3fRYytrE3ixAVGC3ftdJBv" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>         №θ420                                              Count of `420`s
              №θ69                                          Count of `69`s
                  ∧⊖Ｌθ⁼θ⮌θ                                  Is a palindrome
                          ‹⁰№θ800813                        Includes `800813`
                                    ¬⊟⪪θ420                 Ends with `420`
                                           ¬⊟⪪θ69           Ends with `69`
       Ｅ⟦                                        ⟧          Map over values
                                                  ×ι⊕κ      Multiply by index
      Σ                                                     Take the sum
     ∕                                                Ｌθ    Divide by length
﹪%.1f                                                       Round to `0.1`
                                                            Implicitly print
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, <s>205</s> <s>201</s> 197 bytes</h1>
<pre><code>(?=(.*?420)*)(?=(.*?69)*)(?=((.)+.?(?&lt;-4&gt;\4)+$(?(4)^))?)(?=(.*800813)?).+(?&lt;=(420)?)(?&lt;=(69)?)
$#1$*1$#2$*2$#3$*3$#5$*4$#6$*5$#7$*6/$.&amp;$*
\d
$*
\G1
10$*
/(.+)\1
$1$&amp;
r`.*(\3)*(\3{10})*/(1+)
$#2.$#1
</code></pre>
<p><a href="https://tio.run/##LU5BjsIwDLz7G/Ei2xFpnKSllYAc@USFQIIDFw7V3lb79uKIXsYz9mjGy/P39b6vP3S5rVRPFKSWFFl4E8O0cQrsQ6V63JfzXNgjVSp8Za6bdYxx1GwyeHOdqMW0m1ELqQzoFEXRJZSELqNkdD1KQTeg9OgOKEOHYYcC8wMaXhQ0GukoeJ4VUHEHyy0IzZkb/Gn8Z@lIfYtPwSrWdRom607FJnyf@iJEsD2kkvs45lRiPx4@" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>(?=(.*?420)*)(?=(.*?69)*)(?=((.)+.?(?&lt;-4&gt;\4)+$(?(4)^))?)(?=(.*800813)?).+(?&lt;=(420)?)(?&lt;=(69)?)
$#1$*1$#2$*2$#3$*3$#5$*4$#6$*5$#7$*6/$.&amp;$*
</code></pre>
<p>Work out how many times <code>420</code> and <code>69</code> appear, plus also record whether the input is a nontrivial palindrome, whether it contains 800813, and whether it ends with <code>420</code> or <code>69</code>, plus take its length in unary.</p>
<pre><code>\d
$*
</code></pre>
<p>Convert the scores to unary individually; the length is unaffected, since it is already in unary.</p>
<pre><code>\G1
10$*
/(.+)\1
$1$&amp;
r`.*(\3)*(\3{10})*/(1+)
$#2.$#1
</code></pre>
<p>Divide the total score by the length, rounding to the nearest <code>0.1</code>, and converting to decimal.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 123 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;([s=.5,/420/g,/69/g,n&gt;9&amp;&amp;[...n].reverse().join``,800813,/420$/,/69$/].map((x,i)=&gt;n.replace(x,y=&gt;s+=i*10/n.length))|s)/10
</code></pre>
<p><a href="https://tio.run/##ZY1Ra4NAEITf@yvkCOGutbvrqYk@nH8kBCL2Yg12T7wQUuh/t5dECJh9mGXgm5lTfal9M3bD@ZPdl52OZmJTyZ03kMeYacI2xk0ZlKtyvd4BAO9htBc7eisVnFzHh0NcEBVJeg@s8BZY4R5@6kHKa9wpU3GIDH3d2OB/TeU/TPeeEDL0ltvzt1J/XmFCU@PYu95C71p5lKLclKFRZ@GLKFIqQowSSN8W2GP9oWLG6BWj0PG8GVtCYU8sIb2EdJbmVKQ6o7zYirlp@gc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1>JavaScript (ES11), 136 bytes</h1>
<pre class="lang-javascript prettyprint-override"><code>s=&gt;~~([/420/g,/69/g,,800813,/420$/,/69$/].reduce((t,r,i)=&gt;t-~i/3*~~s.match(r)?.length,s&gt;9&amp;[...s].reverse().join``==s)*30/s.length+.5)/10
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZY9BasMwEEX3PYURoUiJopElO5UXcg8SCimO7Lg4FlhOl1r3Dt2Y0t6iF-ltKmNBwZ3FfBje_Pnz_tnbs5k-av11G-u9-nlzuvQeHyETHBoKhyJ0qjhXqaTzcAPzcANPbDDnW2UwHulAW6LLce9bkFvvHbs-j9UFD-SRdaZvxgt1ZXF_ZIy5ee3VDM5gwl5s259OWjuylRxcZHcsJ5DymOe7sr2znWGdbXCNUXEoQgiRBUVJQkgCkKRM3q2wJfDSUcT4f4wHj7-K2BoK99AaEmtIZDLnSoqM5-oBRaflh2la9Bc" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://raku.org/" rel="nofollow noreferrer">Raku</a>, 89 bytes</h1>
<pre><code>{round (m:g/420/+2*m:g/69/+3*($_&gt;9&amp;&amp;$_
eq.flip)+4*?/800813/+5*?/420$/+6*?/69$/)/.comb,.1}
</code></pre>
<p><a href="https://tio.run/##JYzLCoMwFET3/YqLBFFTvDGvJqXaTwl9mFLQai1diPjtaYqbmcPAmbGdOh36GVIPdVim4fu6Q9YfHyg5Q8qLP2qLVBQZcY1NU@J27bv03XPMqSzOaBgzlUCqIkeHINWRtCWYY3kb@uu@rNbwucyQEAd1A4sH4tYE/DDByWobJS5jw/a0JTCIO3ApFDOCS6bMoQk/" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
<p>Regex-driven, conveniently.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/265538/">265538</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




