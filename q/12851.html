<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::12851</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>099</td><td>Python 2</td><td>191030T011936Z</td><td><a href="https://codegolf.stackexchange.com/questions/12851/game-of-set-puzzle/195058#195058">Chas Bro</a></td></tr>
<tr d-ix="1"><td>012</td><td>Brachylog</td><td>191029T055747Z</td><td><a href="https://codegolf.stackexchange.com/questions/12851/game-of-set-puzzle/195024#195024">Unrelate</a></td></tr>
<tr d-ix="2"><td>073</td><td>Mathematica</td><td>131016T200206Z</td><td><a href="https://codegolf.stackexchange.com/questions/12851/game-of-set-puzzle/12859#12859">DavidC</a></td></tr>
<tr d-ix="3"><td>071</td><td>Sage</td><td>131017T183226Z</td><td><a href="https://codegolf.stackexchange.com/questions/12851/game-of-set-puzzle/12873#12873">boothby</a></td></tr>
<tr d-ix="4"><td>080</td><td>Ruby</td><td>131016T130808Z</td><td><a href="https://codegolf.stackexchange.com/questions/12851/game-of-set-puzzle/12856#12856">Doorknob</a></td></tr>
<tr d-ix="5"><td>053</td><td>GolfScript</td><td>131016T220338Z</td><td><a href="https://codegolf.stackexchange.com/questions/12851/game-of-set-puzzle/12863#12863">Howard</a></td></tr>
<tr d-ix="6"><td>076</td><td>APLIBM</td><td>131017T101748Z</td><td><a href="https://codegolf.stackexchange.com/questions/12851/game-of-set-puzzle/12871#12871">TwiN</a></td></tr>
<tr d-ix="7"><td>073</td><td>Mathematica</td><td>131017T101210Z</td><td><a href="https://codegolf.stackexchange.com/questions/12851/game-of-set-puzzle/12870#12870">alephalp</a></td></tr>
<tr d-ix="8"><td>313</td><td>javascript</td><td>131016T142304Z</td><td><a href="https://codegolf.stackexchange.com/questions/12851/game-of-set-puzzle/12857#12857">Math chi</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 99 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda A:[a for a in combinations(A,3)if all(len(set(t))-2for t in zip(*a))]
from itertools import*
</code></pre>

<p><a href="https://tio.run/##HYqxCsIwFEV3v@LhlBQVmmyCQ6HQrSl16KAOqTb4IE1C8hb9@Zq4HO7lnPCht3diM5f7ZvU6vzQ055sG4yNoQAdPv87oNKF3iTUHydGAtpbZxbG0ECPOj6LUVOovBlZpzh87E/0KSEsk720CXIOPVG0hoiMwbK/GuodpED20ncwY6xamTl4zihhFvsNfCFXQguqkApXX/pSCRWKcbz8" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 12 bytes</h1>

<pre><code>ṇ₁⊇Ṫz{=|≠}ᵐz
</code></pre>

<p><a href="https://tio.run/##SypKTM6ozMlPN/pfXa7EVQOEYUoPd3XaP2rb8Kip6eG2BUDOw60THnUsf7hjG5BdC@T8f7iz/VFT46Ou9oc7V1VV29Y86lwAEq/6/z9ayT/I0E8hPMDIT8HF3RhIBBm6KIS7GwcDCZBEkBGQGwCWMPIHES4K/u7G/gr@QJaSjpJxcUGGglFKUaqCYX5BMZBIzwASRUCx4nQwF0iAZYtBEilArlEKWEl6qlIsAA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>

<p>Takes input through the input variable and <a href="https://codegolf.meta.stackexchange.com/questions/2447/default-for-code-golf-input-output-methods/10753#10753">generates</a> the output through the output variable.</p>

<p>Second test case taken from a <a href="https://codegolf.stackexchange.com/questions/195023/play-the-card-game-set">recently closed duplicate</a> in its encoding, since this solution doesn't really care what anything actually means.</p>

<pre><code>                The output variable is
  ⊇             a subsequence
   Ṫ            of length 3
ṇ₁              of the input split on spaces,
    z      z    the columns of which
     {   }ᵐ     are all
       |        either
      =         the same element repeated,
        ≠       or entirely free of duplicates.
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Mathematica <s>93 92 93 82 76</s> 73</h1>

<pre><code>f={}⋃Select[StringSplit@#~Subsets~{3}, FreeQ[Tally/@(Characters@#^T),2]&amp;]&amp;
</code></pre>

<p><strong>The Logic</strong></p>

<p><code>StringSplit@#~Subsets~{3}</code> produces a list of  3-card subsets.  Each triple such as:</p>

<p>{{"D", "G", "3", "N"}, {"W", "G", "3", "S"}, {"O", "G", "3", "O"}}</p>

<p>or</p>

<p><img src="https://i.sstatic.net/ZSkqm.png" alt="array 1"></p>

<p>is then  transposed,</p>

<p><img src="https://i.sstatic.net/D2up6.png" alt="array 2"></p>

<p>and <code>Tally/@(Characters@#^T)</code> tallies the number of distinct items in each row.  </p>

<pre><code>{3,1,1,3}
</code></pre>

<p>3 corresponds to "all different"; 1 corresponds to "all same".</p>

<p><code>FreeQ[...,2]</code> determines whether 2 cards of the same type or in the triple.
If 2 is not among the tallies, then the three cards are a "set", according to Game of Set rules.</p>

<hr>

<p><strong>Usage</strong></p>

<pre><code>f["OR1N WP2N DG3N DR1D WG3S WG1N WR2D WP3N DR2O DR1D OG3O OR2D"]
</code></pre>

<blockquote>
  <p>{{"DG3N", "WG3S", "OG3O"}, {"OR1N", "WP2N", "DG3N"}, {"WP2N", "DR1D", 
    "OG3O"}} </p>
</blockquote>
</div>
<div id="pu3" class="pu"><h2>Sage, 71</h2>

<p>If <code>C</code> is a string, say <code>"OR1N WP2N DG3N DR1D WG3S WG1N WR2D WP3N DR2O DR1D OG3O OR2D"</code>, execute</p>

<pre><code>[c for c in Subsets(C.split(),3)if{1,3}&gt;={len(set(x))for x in zip(*c)}]
</code></pre>

<p>to get <code>[{'DR1D', 'OG3O', 'WP2N'}, {'DR2D', 'WR2D', 'OR2D'}, {'WG3S', 'OG3O',
'DG3N'}, {'DG3N', 'WP2N', 'OR1N'}]</code></p>

<p>And here's a very different approach using the interpretation that a Set is a projective line in <code>GF(3)^4</code>:</p>

<pre><code>[c for c in Subsets(C.split(),3)if sum(matrix(3,map('WODRPG123N'.find,''.join(c))))%3==0]
</code></pre>

<p>I was a little annoyed that <code>D</code> was used twice... until I figured how to abuse that.  But even better, I abuse the <code>find</code> method, too. <code>str.find</code> returns -1 if a letter isn't found.  Since <code>-1 = 2 mod 3</code>, the letter <code>S</code> is handled appropriately because it doesn't occur in <code>'WODRPG123N'</code>.</p>
</div>
<div id="pu4" class="pu"><h2>Ruby, <s>104</s> <s>98</s> <s>81</s> 80 characters</h2>

<pre><code>$*.combination(3).map{|c|puts c*?,if(0..3).all?{|i|c.map{|x|x[i]}.uniq.size!=2}}
</code></pre>

<p>Sample run (using your example data):</p>

<pre><code>c:\a\ruby&gt;set.rb OR1N WP2N DG3N DR1D WG3S WG1N WR2D WP3N DR2O DR1D OG3O OR2D
OR1N,WP2N,DG3N
WP2N,DR1D,OG3O
WP2N,DR1D,OG3O
DG3N,WG3S,OG3O
</code></pre>

<p>It outputs <code>WP2N,DR1D,OG3O</code> twice because you have two <code>DR1D</code>s in your sample data.</p>

<p>Explanation:</p>

<p><code>$*.combination(3).map{|c|</code> - each combination of 3 cards<br>
<code>puts c*?,if</code> - output the set, if...<br>
<code>(0..3).all?{|i|</code> - if all of the numbers from 0 to 3 (the indeces of the properties in the string) evaluate to <code>true</code> when passed into this block<br>
<code>c.map{|x|x[i]}</code> - take the <code>i</code>th index of each string<br>
<code>.uniq.size!=2}</code> - if the amount of unique properties (form, color, etc.) is not 2 (so, 1 or 3)  </p>
</div>
<div id="pu5" class="pu"><h3>GolfScript, 53 characters</h3>
<pre><code>&quot; &quot;/:w,,{:a,{:^,{a^]{w=}%.0\zip{.&amp;,2=|}/!{.p}*;}/}/}/
</code></pre>
<p>Input must be provided on STDIN, <a href="http://golfscript.apphb.com/?c=OyJPUjFOIFdQMk4gREczTiBEUjFEIFdHM1MgV0cxTiBXUjJEIFdQM04gRFIyTyBEUjJEIE9HM08gT1IyRCIKCiIgIi86dywsezphLHs6Xix7YV5de3c9fSUuMFx6aXB7LiYsMj18fS8hey5wfSo7fS99L30vCg%3D%3D&amp;run=true" rel="nofollow noreferrer">example online</a>:</p>
<pre><code>&gt; OR1N WP2N DG3N DR1D WG3S WG1N WR2D WP3N DR2O DR2D OG3O OR2D
[&quot;OR1N&quot; &quot;DG3N&quot; &quot;WP2N&quot;]
[&quot;WP2N&quot; &quot;OG3O&quot; &quot;DR1D&quot;]
[&quot;DG3N&quot; &quot;OG3O&quot; &quot;WG3S&quot;]
[&quot;WR2D&quot; &quot;OR2D&quot; &quot;DR2D&quot;]
</code></pre>
<p>Commented code:</p>
<pre><code>&quot; &quot;/:w          # split the input at spaces and assign it to variable w
,,              # create the array [0..n-1] (n being the length of w)
{:a,{:^,{       # three nested loops: a=0..n-1, ^=0..a-1, _=0..b-1 
                # (third loop has no variable assigned but just pushes on stack)
    a^]         # make an array [a,^,_] of the three loop variables
    {w=}%       # take the corresponding list items, i.e. [w[a],w[^],w[_]]
    .0\         # push zero, add duplicate of the the array
    zip         # zip transposes the array, thus [OR1N WP2N DG3N] -&gt; [OWD RPG 123 NNN]
    {           # loop over those entries
      .&amp;        # unique
      ,2=       # length equals 2?
      |         # &quot;or&quot; with top of stack (two zero pushed before)
    }/          # end of loop, on stack remains the results of the &quot;or&quot;s
    !{.p}*      # if no length of 2 is there, make a copy of the set and print it
    ;           # discard stack item
}/}/}/          # closing the three nested loops
</code></pre>
</div>
<div id="pu6" class="pu"><h2>APL(IBM), 76</h2>

<pre><code>⍉¨x/⍨{{⍵≡1⌽⍵}⍵=1⌽⍵}¨x←⊃¨(∘.,/3⍴⊂⍪¨(' '≠y)⊂y←⍞)⌷⍨¨z/⍨∧/¨2&lt;/¨z←,⍳3⍴12
</code></pre>

<p>I don't have IBM APL, but I believe this will work.</p>

<p><strong>Sample run (Emulating IBM APL in Dyalog APL)</strong></p>

<pre><code>OR1N WP2N DG3N DR1D WG3S WG1N WR2D WP3N DR2O DR1D OG3O OR2D
 OR1N  WP2N  WP2N  DG3N 
 WP2N  DR1D  DR1D  WG3S 
 DG3N  OG3O  OG3O  OG3O 
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Mathematica 73</h1>
<pre><code>f = Select[StringSplit@#~Subsets~{3}, FreeQ[Tally /@ Thread@Characters@#, 2] &amp;] &amp;
</code></pre>
<p><strong>Usage</strong></p>
<pre><code>f[&quot;OR1N WP2N DG3N DR1D WG3S WG1N WR2D WP3N DR2O DR1D OG3O OR2D&quot;]
</code></pre>
<blockquote>
<p>{{&quot;OR1N&quot;, &quot;WP2N&quot;, &quot;DG3N&quot;}, {&quot;WP2N&quot;, &quot;DR1D&quot;, &quot;OG3O&quot;}, {&quot;WP2N&quot;, &quot;DR1D&quot;, &quot;OG3O&quot;}, {&quot;DG3N&quot;, &quot;WG3S&quot;, &quot;OG3O&quot;}}</p>
</blockquote>
</div>
<div id="pu8" class="pu"><h2>javascript <s>323</s> 313</h2>

<pre><code>function a(b){d=h=[];c=e=f=0;for(i in b){for(j in b){for(k in b[i]){if(b[i][k]==b[j][k]){if(c+f&lt;4)c++;else if(c==4){h+=b[j];if(h.length=3)return h}}else{for(l in d){for(m in d[l]){g=f;if(d[l][2]==i){if(d[l][3]==k)if(b[j][k]!=d[l][0]&amp;&amp;b[j][k]!=d[l][1])f++;}else{continue}}if(g==f)d[e++]=[b[i][k],b[j][k],j,k]}}}}}}
</code></pre>

<p>its a function that takes a array of objects, and returns a array of objects.</p>

<p><a href="http://jsfiddle.net/mendelthecoder/uQeMy/3/" rel="nofollow">DEMO fiddle</a> (with tidy-up).</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/12851/">12851</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




