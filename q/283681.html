<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::283681</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>110</td><td>Haskell</td><td>250916T061536Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283702#283702">Dannyu N</a></td></tr>
<tr d-ix="1"><td>028</td><td>JavaScript ES12</td><td>250915T131823Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283683#283683">Arnauld</a></td></tr>
<tr d-ix="2"><td>003</td><td>MATL</td><td>250916T042733Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283701#283701">Luis Men</a></td></tr>
<tr d-ix="3"><td>004</td><td>05AB1E</td><td>250915T235834Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283699#283699">Lucenapo</a></td></tr>
<tr d-ix="4"><td>053</td><td>Maple</td><td>250915T234340Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283698#283698">dharr</a></td></tr>
<tr d-ix="5"><td>037</td><td>Google Sheets</td><td>250915T204031Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283697#283697">doubleun</a></td></tr>
<tr d-ix="6"><td>022</td><td>R</td><td>250915T152502Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283692#283692">Giuseppe</a></td></tr>
<tr d-ix="7"><td>039</td><td>Python</td><td>250915T151108Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283691#283691">Albert.L</a></td></tr>
<tr d-ix="8"><td>013</td><td>Charcoal</td><td>250915T145049Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283690#283690">Neil</a></td></tr>
<tr d-ix="9"><td>027</td><td>APLNARS</td><td>250915T144719Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283689#283689">Rosario</a></td></tr>
<tr d-ix="10"><td>031</td><td>Ruby</td><td>250915T142830Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283688#283688">G B</a></td></tr>
<tr d-ix="11"><td>004</td><td>Vyxal 3</td><td>250915T135258Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283685#283685">Themooni</a></td></tr>
<tr d-ix="12"><td>002</td><td>TinyAPL</td><td>250915T135049Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283684#283684">RubenVer</a></td></tr>
<tr d-ix="13"><td>003</td><td>Uiua</td><td>250915T131742Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283682#283682">lyxal</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 110 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>i!(x@(Left _):xs)=i:(i+1)!map(\y-&gt;if y==x then Right i else y)xs
i!(Right x:xs)=x:i!xs
_!_=[]
f x=1!map Left x
</code></pre>
<p><a href="https://tio.run/##NY1BC4MwDIXv/ornrWV60LlLWceugjDY1YkI1hmmTmwP8de7zrE8cshL3pe@sS8zDNtGoeCrKEznUEvFVmpSgg6JDMdmFo81vlCHVWuG682EOz17B4IZrMEq2QYe8DN5T7Oi0Lt1WOuyCjqwTr4k7B94GxuaoBTyG4QM9kmjfQfwxRbnGItp2uJ/U@aTq/blvNDkIDzQyq1Mo2OUemXRyXcWpdUH" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Lesson of today: <code>Either</code> is useful.</p>
</div>
<div id="pu1" class="pu"><h1>JavaScript (ES12), 28 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map(k=v=&gt;a[-v]||=k=-~k)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kLz8ldcGiNNulpSVpuhZ7Em3tEvVyEws0sm3LgMxo3bLYmhrbbFvdumxNiJKbG6yjuRQUomN1FPT1gRSIbQnlGIJ5RjrGOkZAaKJjCsQmOkYwWaCYIRAaA8WMgRCiGsSDiMNhLFy5MdgAOIzliuXSS8svck1MztDQSNRUsLVTSM7PK87PSdXLyU_X8Ar299MrLinKzEvPTKvUSAMqAQKIuxcsgNAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>a =&gt;        // a[] = input array, re-used to store the new labels
            //       using negative keys
a.map(k =   // k = counter, initially zero'ish
v =&gt;        // for each value v in a[]:
  a[-v] ||= //   use a[-v] if it's already defined,
    k = -~k //   otherwise increment k and set a[-v] to this value
)           // end of map()
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 3 bytes</h1>
<pre><code>7#u
</code></pre>
<p><a href="https://tio.run/##y00syfn/31y59P//aGMdEx0jHUNkGAsA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a> Or verify test cases <a href="https://tio.run/##y00syfn/31y59P//6FgA" rel="nofollow noreferrer">1</a>, <a href="https://tio.run/##y00syfn/31y59P//aMtYAA" rel="nofollow noreferrer">2</a>, <a href="https://tio.run/##y00syfn/31y59P//aCMdYx0jIDTRMQViEx2jWAA" rel="nofollow noreferrer">3</a>, <a href="https://tio.run/##y00syfn/31y59P//aGMdEx0jHUNkGAsA" rel="nofollow noreferrer">4</a>.</p>
<p>The code inputs a numerical vector, and print the output with a number on each line. The empty input produces the correct output but exits with an error (allowed <a href="https://codegolf.meta.stackexchange.com/q/4780/36398">by default</a>).</p>
<h3>How it works</h3>
<pre><code>     % Implicit input: numerical vector
#7u  % Call 'unique' with its third output, and with 'stable' input flag (default)
     % Implicit display
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 4 bytes</h1>
<pre><code>Ùsk&gt;
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//8MzibLv//6ONdIx1jIDQRMcUiE10jGIB" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.maplesoft.com/" rel="nofollow noreferrer">Maple</a>, 53 bytes</h1>
<pre><code>s-&gt;subs((v:=ListTools:-MakeUnique(s))=~{$nops(v)},s);
</code></pre>
<p>The unique entries in order (v) are elementwise equated to 1,2,3,..(number in v), and used as substitution rules in s. ListTools:-MakeUnique is frustratingly verbose, but still shorter than anything I can think of that processes the list one entry as a time, such as</p>
<p><code>proc(s)q:=1;[seq(</code>if<code>(assigned(w[i]),w[i],(w[i]:=q++)),i=s)]end;</code> (64 bytes)</p>
</div>
<div id="pu5" class="pu"><h1>Google Sheets, 37 bytes</h1>
<pre class="lang-none prettyprint-override"><code>=index(ifna(match(A:A,unique(A:A),)))
</code></pre>
<p>...not the typical use of the <code>index(match())</code> pattern, using <code>index()</code> as array enabler only.</p>
<p><img src="https://i.sstatic.net/eRLNKJvI.png" alt="screenshot" /></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.r-project.org" rel="noreferrer">R</a>, 22 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(a)match(a,unique(a))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGSNAUb3aWlJWm6FttiNBI1cxNLkjM0EnVK8zILS1OBApoQyZsuaRp5pbmpRZnJGgaamlxpGpYgIlnDSMdYxwgITXRMgdhEx0gTIm4MYusYIkOYWQsWQGgA" rel="noreferrer">Attempt This Online!</a></p>
<p>Self-applied <code>match()</code> very nearly has this functionality.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.python.org" rel="noreferrer">Python</a>, 39 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda L:map([*dict(zip(L,L))].index,L)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=RY1RCsIwDIbfd4q82UonblNQoZ5gN6hFptuw0LVFq0yv4osgeidvY7oN5SPk58-f5P52V3-w5vGs-eZ19nW8-Ix00ezKAvJVUzgixqXae3JTjuQsp1ROlCmrFuUQP9T2CBqUAesqQ6Z0FYFiW2aBg56cnFae0GBZXl0KTRRlXbdohoxo4wTCjba7ISNwR2U8GdchKromObfDv8enERLiNQgZiWWvEpQpy1iKzNgca8bSYYRWgmRoZUiIBt27P_7hrNv-IfuvXw" rel="noreferrer">Attempt This Online!</a></p>
<p>Output is zero-based.</p>
<h3>Notes</h3>
<p>We use a dict where a set would appear more logical, because dicts are guaranteed to keep key creation order.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 13 bytes</h1>
<pre><code>Ｉ⊕Ｅθ⌕Φθ⁼μ⌕θλι
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMM5sbhEwzMvuSg1NzWvJDVFwzexQKNQR8EtMy9Fwy0zpyS1CMR1LSxNzCnWyIVKAEVyNDU1dRQyNUHA@v//6GgjHWMdIyA00TEFYhMdo9jY/7plOQA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>   θ            Input array
  Ｅ             Map over values
            ι   Current value
    ⌕           Find index in
      θ         Input array
     Φ          Filtered where
        μ       Inner index
       ⁼        Equals
         ⌕      First index of
           λ    Inner value in
          θ     Input array
 ⊕              Convert to 1-indexing
Ｉ               Cast to string
                Implicitly print
</code></pre>
</div>
<div id="pu9" class="pu"><h1>APL(NARS), 27 chars</h1>
<pre><code>{⍬≡w←⍵:⍬⋄↑+/k×⍳≢k←{w=⍵}¨∪⍵}
</code></pre>
<p>input one array, ouput one array. Make one array of binary array where are each element, multiply for according iota array of right lengh and sum.
Because the output was right enclosed, get the first ↑.</p>
<p>Test:</p>
<pre><code>  f←{⍬≡w←⍵:⍬⋄↑+/k×⍳≢k←{w=⍵}¨∪⍵}
  f ⍬
┌0─┐
│ 0│
└~─┘
  f ,9
┌1─┐
│ 1│
└~─┘
 f 2 3 2 2 4 5 4 4 2
┌9─────────────────┐
│ 1 2 1 1 3 4 3 3 1│
└~─────────────────┘
  f 3 4 2 1 1 1 1 1 1 
┌9─────────────────┐
│ 1 2 3 4 4 4 4 4 4│
└~─────────────────┘
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 31 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;l{l.map{|x|1+(l|l).index(x)}}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf1y6nOkcvN7GguqaixlBbI6cmR1MvMy8ltUKjQrO29n@BQlp0dGwsF5i2hDGMdIx1jIDQRMcUiE10jGASxiCOjiEyjI39DwA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3/" rel="nofollow noreferrer">Vyxal 3</a>, 4 bytes</h1>
<pre><code>u¨F›
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#H4sIAAAAAAAACqtWSssvyk0sUbIy1lHKSE1MSS1SslJS0lFKzk9JBbJKD61we9SwCyiQlp9fApNMy0lML1ayio7VUcrMKygtAbGjlaJjlXTAZGwsiDaEcC3hfB0FIx0FQzAy1lEwAZNABFVnpGOsYwSEJjqmQGyiY4SqD6IDHUG0GoOU6xgiQ5BmoOvKUouKM_PzgK421jM00DNQqgUASMgFHfEAAAA" rel="nofollow noreferrer">Vyxal It Online!</a></p>
<pre><code>u¨F›­⁡​‎‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁡⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌­
 ¨F   # ‎⁡find each
u     # ‎⁢unique element in the input
   ›  # ‎⁣increment the index
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false" data-babel-preset-react="false" data-babel-preset-ts="false">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script type="vyxal3"&gt;
u¨F›
&lt;/script&gt;
&lt;script&gt;
    args=[["[]"],["[9]"],["[2,3,2,2,4,5,4,4,2]"],["[3,4,2,1,1,1,1,1,1,1]"]]
&lt;/script&gt;
&lt;script src="https://themoonisacheese.github.io/snippeterpreter/snippet.js" type="module"/&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu12" class="pu"><h1>TinyAPL, 2 bytes</h1>
<pre><code>=⑴
</code></pre>
<p>Explanation: classify with index origin 1.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.uiua.org/" rel="noreferrer">Uiua</a>, 3 bytes</h1>
<pre><code>+1⊛
</code></pre>
<p><a href="https://uiua.org/pad?src=0_17_0-rc_1__ZiDihpAgKzHiipsKZiBbXQpmIFs5XQpmIFsyIDMgMiAyIDQgNSA0IDQgMl0KZiBbMyA0IDIgMSAxIDEgMSAxIDEgMV0K" rel="noreferrer">Try it Online</a></p>
<p>Saw the challenge specs and immediately thought of classify in uiua lol.</p>
<h2>Explained</h2>
<pre><code>+1⊛­⁡​‎‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌­
  ⊛  # ‎⁡Assign a unique index to each unique item in the input
+1   # ‎⁢and add 1 to each index.
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="noreferrer">Luminespire</a>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/283681/">283681</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




