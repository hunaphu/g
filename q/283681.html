<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::283681</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>032</td><td>Arturo</td><td>250918T165212Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283756#283756">chunes</a></td></tr>
<tr d-ix="1"><td>042</td><td>Factor</td><td>250917T185842Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283748#283748">chunes</a></td></tr>
<tr d-ix="2"><td>039</td><td>Python</td><td>250915T151108Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283691#283691">Albert.L</a></td></tr>
<tr d-ix="3"><td>003</td><td>Jelly</td><td>250916T231224Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283734#283734">Jonathan</a></td></tr>
<tr d-ix="4"><td>012</td><td>Pip p</td><td>250916T200342Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283728#283728">DLosc</a></td></tr>
<tr d-ix="5"><td>046</td><td>Haskell</td><td>250916T110012Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283707#283707">RubenVer</a></td></tr>
<tr d-ix="6"><td>028</td><td>x86_64 machine code</td><td>250916T140910Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283713#283713">Ifier</a></td></tr>
<tr d-ix="7"><td>022</td><td>R</td><td>250915T152502Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283692#283692">Giuseppe</a></td></tr>
<tr d-ix="8"><td>044</td><td>Haskell</td><td>250916T111736Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283708#283708">xnor</a></td></tr>
<tr d-ix="9"><td>110</td><td>Haskell</td><td>250916T061536Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283702#283702">Dannyu N</a></td></tr>
<tr d-ix="10"><td>028</td><td>JavaScript ES12</td><td>250915T131823Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283683#283683">Arnauld</a></td></tr>
<tr d-ix="11"><td>003</td><td>MATL</td><td>250916T042733Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283701#283701">Luis Men</a></td></tr>
<tr d-ix="12"><td>004</td><td>05AB1E</td><td>250915T235834Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283699#283699">Lucenapo</a></td></tr>
<tr d-ix="13"><td>053</td><td>Maple</td><td>250915T234340Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283698#283698">dharr</a></td></tr>
<tr d-ix="14"><td>037</td><td>Google Sheets</td><td>250915T204031Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283697#283697">doubleun</a></td></tr>
<tr d-ix="15"><td>013</td><td>Charcoal</td><td>250915T145049Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283690#283690">Neil</a></td></tr>
<tr d-ix="16"><td>027</td><td>APLNARS</td><td>250915T144719Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283689#283689">Rosario</a></td></tr>
<tr d-ix="17"><td>031</td><td>Ruby</td><td>250915T142830Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283688#283688">G B</a></td></tr>
<tr d-ix="18"><td>004</td><td>Vyxal 3</td><td>250915T135258Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283685#283685">Themooni</a></td></tr>
<tr d-ix="19"><td>002</td><td>TinyAPL</td><td>250915T135049Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283684#283684">RubenVer</a></td></tr>
<tr d-ix="20"><td>003</td><td>Uiua</td><td>250915T131742Z</td><td><a href="https://codegolf.stackexchange.com/questions/283681/find-the-first-relabeling/283682#283682">lyxal</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 32 bytes</h1>
<pre class="lang-none prettyprint-override"><code>$-&gt;a[map a=&gt;[1+index unique a&amp;]]
</code></pre>
<p><a href="http://arturo-lang.io/playground?1ra2vK" rel="nofollow noreferrer">Try it!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://factorcode.org" rel="nofollow noreferrer">Factor</a>, 42 bytes</h1>
<pre><code>[ dup members zip-index substitute 1 v+n ]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70sLTG5JL9owdZqBSMFYyA2UjBRMAViEyCrdmlpSZquxU2taIWU0gKF3NTcpNSiYoWqzALdzLyU1AqF4tKk4pLMktKSVAVDhTLtPIVYiI4lyYk5ORDmggUQGgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<hr />
<h1><a href="https://factorcode.org" rel="nofollow noreferrer">Factor</a> + <code>math.extras</code>, 28 bytes</h1>
<pre><code>[ unique-indices nip 1 v+n ]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70sLTG5JL9owU310GBXK4XcxJIMvdSKkqLEYi6uagUjBWMgNlIwUTAFYhMgq3ZpaUmarsWeaIXSvMzC0lTdzLyUzOTUYoW8zAIFQ4Uy7TyFWIiSJcmJOTkQ5oIFEBoA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 39 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda L:map([*dict(zip(L,L))].index,L)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=RY1RCsIwDIbfd4q82UonblNQoZ5gN6hFptuw0LVFq0yv4osgeidvY7oN5SPk58-f5P52V3-w5vGs-eZ19nW8-Ix00ezKAvJVUzgixqXae3JTjuQsp1ROlCmrFuUQP9T2CBqUAesqQ6Z0FYFiW2aBg56cnFae0GBZXl0KTRRlXbdohoxo4wTCjba7ISNwR2U8GdchKromObfDv8enERLiNQgZiWWvEpQpy1iKzNgca8bSYYRWgmRoZUiIBt27P_7hrNv-IfuvXw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Output is zero-based.</p>
<p>If you must have one-based, @Lucenaposition has a 2 byte fix:</p>
<h3><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 41 bytes</h3>
<pre class="lang-python prettyprint-override"><code>lambda L:map([L,*dict(zip(L,L))].index,L)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=RY1RasMwDIbfcwrBXuyilCbpYCu4J8gNXDOyJWECxzadW7JdpS-Fsd2pt5mchI4foZ9Pv6TLb_iM795dv3t1-DnFPn-6SdsMr20D9W5ogtA1rlp6i-KLgqixltKsybXdyHZZoN4fwQI58KFzYiN3GRC-oAcFdv0RLEUhE_KqOzdWkMSpe4YPKaTHvIB0ZJyOmAzCkVwUqz5l9dSMUn55eL0N2kC-B20y_Ty7gm2JFZasLT5ybbFcRowKVsWoYqVo8jO96z9cTdt3mfnrHw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Notes</h3>
<p>We use a dict where a set would appear more logical, because dicts are guaranteed to keep key creation order.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 3 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Qiâ±®
</code></pre>
<p>A monadic Link that accepts a list of positive integers and yields its lexicographically minimal relabeling.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/z8w89HGdf///4820jHWMQJCEx1TIDbRMYoFAA" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></strong></p>
<h4>How?</h4>
<pre><code>Qiâ±® - Link: list of positive integers, L
Q   - deduplicate {L}
  â±® - map with:
 i  -   first 1-index of {current element of L} in {deduplicated L}
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a> <code>-p</code>, 12 bytes</h1>
<pre><code>U:(UQg)@?_Mg
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m724ILNgWbSSboFS7IKlpSVpuhZrQq00QgPTNR3s433TIUJQmc3RRjrGOkZAaKJjCMQmOkYwTQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<pre><code>U:(UQg)@?_Mg
          Mg  Map this function to the list of command-line arguments:
       @?       Find the first (0-based) index of
         _      The function argument
  (UQg)         In the uniquified list of command-line arguments
U:            Increment the result list to make it 1-based
</code></pre>
</div>
<div id="pu5" class="pu"><h1>Haskell, 46 bytes</h1>
<pre class="lang-hs prettyprint-override"><code>import Data.List
flip elemIndex.(:)0.nub&gt;&gt;=map
</code></pre>
<p>Returns a <code>[Maybe Int]</code> where all the maybes are (trivially) <code>Just</code>s, which is <a href="https://chat.stackexchange.com/transcript/message/68278480#68278480">allowed</a>.</p>
<p>Thanks @xnor and @Wheat Wizard for -14</p>
<p>Explanation: index of each element of the input in the unique elements of the input prefixed with 0 (which is always extraneous and therefore amounts to adding 1 to the indices)</p>
</div>
<div id="pu6" class="pu"><h1>x86_64 machine code, 28 bytes</h1>
<p><a href="https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(filename:%271%27,fontScale:14,fontUsePx:%270%27,j:1,lang:c%2B%2B,selection:(endColumn:5,endLineNumber:34,positionColumn:1,positionLineNumber:14,selectionStartColumn:5,selectionStartLineNumber:34,startColumn:1,startLineNumber:14),source:%27%23include+%3Ccstdio%3E%0A%23include+%3Ccstring%3E%0A%0Ausing+uint64+%3D+unsigned+long+long%3B%0Ausing+uint32+%3D+unsigned%3B%0Ausing+int32+%3D+signed%3B%0Ausing+uint16+%3D+unsigned+short%3B%0Ausing+int16+%3D+signed+short%3B%0Ausing+uint8+%3D+unsigned+char%3B%0A%0A%5B%5Bgnu::naked%5D%5D+void+relabel(uint8*+out,+const+uint8*+original,+uint8*+table,+uint64+count)%0A%7B%0A++++asm(R%22(%0A%09push+rbx%0A%09jrcxz+end%0A%09push+rdx%0A%09pop+rbx%0A%09xor+eax,+eax%0Aload:%0A%09lodsb%0A++++movzx+edx,+al%0A%09xlatb%0A%09test+al,al%0A++++jne+store%0Amklabel:%0A%09inc+ah%0A%09mov+%5Brbx%2Brdx%5D,+ah%0A%09mov+al,+ah%0Astore:%0A%09stosb%0A%09loop+load%0Aend:%0A%09pop+rbx%0A%09ret%0A++++)%22)%3B%0A%7D%0Aint+main(int+argc,+char**+argv)%0A%7B%0A++++for+(--argc,+%2B%2Bargv%3B+argc+!!%3D+0%3B+--argc,+%2B%2Bargv)%0A++++%7B%0A++++++++uint8+table%5B256%5D%3B%0A++++++++memset(table,+0,+256)%3B%0A++++++++uint8+out%5B256%5D%3B%0A++++++++memset(out,+0,+256)%3B%0A++++++++relabel(out,+(const+uint8*)*argv,+table,+strlen(*argv))%3B%0A++++++++for+(uint8*+cursor+%3D+out%3B+*cursor+!!%3D+0%3B+*cursor%2B%2B+%2B%3D+48)%7B%7D%0A++++++++printf(%22%5B%25s%5D+-%3E+%5B%25s%5D%5Cn%22,+argv%5B0%5D,+out)%3B%0A++++%7D%0A++++return+0%3B%0A%7D%27),l:%275%27,n:%270%27,o:%27C%2B%2B+source+%231%27,t:%270%27)),k:45.63280311830177,l:%274%27,m:100,n:%270%27,o:%27%27,s:0,t:%270%27),(g:!((h:compiler,i:(compiler:clang_trunk,filters:(b:%270%27,binary:%271%27,binaryObject:%271%27,commentOnly:%270%27,debugCalls:%271%27,demangle:%270%27,directives:%270%27,execute:%271%27,intel:%270%27,libraryCode:%270%27,trim:%271%27,verboseDemangling:%270%27),flagsViewOpen:%271%27,fontScale:14,fontUsePx:%270%27,j:2,lang:c%2B%2B,libs:!(),options:%27-O3+-std%3Dc%2B%2B20+-masm%3Dintel%27,overrides:!(),selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:%275%27,n:%270%27,o:%27+x86-64+clang+(trunk)+(Editor+%231)%27,t:%270%27)),k:26.594601387225342,l:%274%27,n:%270%27,o:%27%27,s:0,t:%270%27),(g:!((h:executor,i:(argsPanelShown:%270%27,compilationPanelShown:%270%27,compiler:clang_trunk,compilerName:%27%27,compilerOutShown:%270%27,execArgs:%27%22%22+9+232245442+3421111111+4532222222%27,execStdin:%27%27,fontScale:14,fontUsePx:%270%27,j:1,lang:c%2B%2B,libs:!(),options:%27-O3+-std%3Dc%2B%2B20+-masm%3Dintel%27,overrides:!(),runtimeTools:!(),source:1,stdinPanelShown:%271%27,tree:0,wrap:%271%27),l:%275%27,n:%270%27,o:%27Executor+x86-64+clang+(trunk)+(C%2B%2B,+Editor+%231)%27,t:%270%27)),k:27.772595494472885,l:%274%27,n:%270%27,o:%27%27,s:0,t:%270%27)),l:%272%27,n:%270%27,o:%27%27,t:%270%27)),version:4" rel="nofollow noreferrer">Running on Godbolt</a></p>
<pre><code>0:  53                      push   rbx
1:  e3 17                   jrcxz  1a &lt;end&gt;
3:  52                      push   rdx
4:  5b                      pop    rbx
5:  31 c0                   xor    eax,eax
0000000000000007 &lt;load&gt;:
7:  ac                      lods   al,BYTE PTR ds:[rsi]
8:  0f b6 d0                movzx  edx,al
b:  d7                      xlat   BYTE PTR ds:[rbx]
c:  84 c0                   test   al,al
e:  75 07                   jne    17 &lt;store&gt;
0000000000000010 &lt;mklabel&gt;:
10: fe c4                   inc    ah
12: 88 24 13                mov    BYTE PTR [rbx+rdx*1],ah
15: 88 e0                   mov    al,ah
0000000000000017 &lt;store&gt;:
17: aa                      stos   BYTE PTR es:[rdi],al
18: e2 ed                   loop   7 &lt;load&gt;
000000000000001a &lt;end&gt;:
1a: 5b                      pop    rbx
1b: c3                      ret
</code></pre>
<p>Uses sysv calling convention, takes a C-style function interface of:</p>
<p><code>void relabel(unsigned char* out, unsigned char* original, unsigned char* table, unsigned long long count)</code></p>
<p>where <code>out</code> is an appropriately sized output buffer and <code>table</code> is a zero-initialised array of bytes equal in size to at least the number of unique symbols in the input + 1.</p>
<p>It simply goes through the input, looks up the translation for the character in a lookup table, generates a lookup table entry is the translation is 0 (uninitialised), and then stores the translated character in the output. I'm treating output bytes at 8-bit binary numbers instead of characters.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 22 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(a)match(a,unique(a))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGSNAUb3aWlJWm6FttiNBI1cxNLkjM0EnVK8zILS1OBApoQyZsuaRp5pbmpRZnJGgaamlxpGpYgIlnDSMdYxwgITXRMgdhEx0gTIm4MYusYIkOYWQsWQGgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Self-applied <code>match()</code> very nearly has this functionality.</p>
<p>Thanks to <a href="https://codegolf.stackexchange.com/users/95793/jared-mamrot">jared_mamrot</a> and <a href="https://codegolf.stackexchange.com/users/115882/samr">SamR</a> in the comments for prompting discussion around <code>factor()</code>: At first glance, since factors are stored as integers, it seems that <code>factor</code> should be a complete answer at 6 bytes, but unfortunately by default the <code>levels</code> are computed as <code>sort(unique(x))</code>, where the <code>sort</code> screws up the lexicographically first relabelling, so we end up with <code>\(a)factor(a,unique(a))</code>, which is 23 bytes, and technically prints out the original array.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, 44 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>map=&lt;&lt;g
g(h:t)n|h==n=1|1&gt;0=1+g[x|x&lt;-t,x/=h]n
</code></pre>
<p><a href="https://tio.run/##TU3BDsIgFLvvK95xi28q2zxoeP6BX4AcyLLBIiNEOOzAt4vMk2naNE3aGhVek7V5pmdelSfOdaVrc4uNS4bIEUvsfiZ20GJLG28jbicy0uU4hRiAQAiJIK67dNhjVzDgpXDAbg/73SD7h5RQrWpxpV0uH1D79@IiHGFu4DebP@NslQ65Hb3/Ag" rel="noreferrer" title="Haskell â€“ Try It Online">Try it online!</a></p>
<p>Look ma, no imports!</p>
<p>The main function is pointfree for <code>f l=g l&lt;$&gt;l</code>.</p>
<p>The helper <code>g</code> takes a list and a value <code>n</code>, and counts the distinct elements up to the first appearance of <code>n</code>. With <code>nub</code>, this could be <code>1+length(nub$fst$span(/=n)l)</code>, but <code>nub</code> requires an import. Instead, <code>g</code> recurses, adding <code>1</code> for each new element until it reaches the target value <code>n</code> (with base value 1 for 1-indexing), and filtering out repeats of the current element <code>h</code> in its recursive call.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 110 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>i!(x@(Left _):xs)=i:(i+1)!map(\y-&gt;if y==x then Right i else y)xs
i!(Right x:xs)=x:i!xs
_!_=[]
f x=1!map Left x
</code></pre>
<p><a href="https://tio.run/##NY1BC4MwDIXv/ornrWV60LlLWceugjDY1YkI1hmmTmwP8de7zrE8cshL3pe@sS8zDNtGoeCrKEznUEvFVmpSgg6JDMdmFo81vlCHVWuG682EOz17B4IZrMEq2QYe8DN5T7Oi0Lt1WOuyCjqwTr4k7B94GxuaoBTyG4QM9kmjfQfwxRbnGItp2uJ/U@aTq/blvNDkIDzQyq1Mo2OUemXRyXcWpdUH" rel="nofollow noreferrer" title="Haskell â€“ Try It Online">Try it online!</a></p>
<p>Lesson of today: <code>Either</code> is useful.</p>
</div>
<div id="pu10" class="pu"><h1>JavaScript (ES12), 28 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map(k=v=&gt;a[-v]||=k=-~k)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kLz8ldcGiNNulpSVpuhZ7Em3tEvVyEws0sm3LgMxo3bLYmhrbbFvdumxNiJKbG6yjuRQUomN1FPT1gRSIbQnlGIJ5RjrGOkZAaKJjCsQmOkYwWaCYIRAaA8WMgRCiGsSDiMNhLFy5MdgAOIzliuXSS8svck1MztDQSNRUsLVTSM7PK87PSdXLyU_X8Ar299MrLinKzEvPTKvUSAMqAQKIuxcsgNAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>a =&gt;        // a[] = input array, re-used to store the new labels
            //       using negative keys
a.map(k =   // k = counter, initially zero'ish
v =&gt;        // for each value v in a[]:
  a[-v] ||= //   use a[-v] if it's already defined,
    k = -~k //   otherwise increment k and set a[-v] to this value
)           // end of map()
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 3 bytes</h1>
<pre><code>7#u
</code></pre>
<p><a href="https://tio.run/##y00syfn/31y59P//aGMdEx0jHUNkGAsA" rel="nofollow noreferrer" title="MATL â€“ Try It Online">Try it online!</a> Or verify test cases <a href="https://tio.run/##y00syfn/31y59P//6FgA" rel="nofollow noreferrer">1</a>, <a href="https://tio.run/##y00syfn/31y59P//aMtYAA" rel="nofollow noreferrer">2</a>, <a href="https://tio.run/##y00syfn/31y59P//aCMdYx0jIDTRMQViEx2jWAA" rel="nofollow noreferrer">3</a>, <a href="https://tio.run/##y00syfn/31y59P//aGMdEx0jHUNkGAsA" rel="nofollow noreferrer">4</a>.</p>
<p>The code inputs a numerical vector, and print the output with a number on each line. The empty input produces the correct output but exits with an error (allowed <a href="https://codegolf.meta.stackexchange.com/q/4780/36398">by default</a>).</p>
<h3>How it works</h3>
<pre><code>     % Implicit input: numerical vector
#7u  % Call 'unique' with its third output, and with 'stable' input flag (default)
     % Implicit display
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 4 bytes</h1>
<pre><code>Ã™sk&gt;
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//8MzibLv//6ONdIx1jIDQRMcUiE10jGIB" rel="noreferrer" title="05AB1E â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.maplesoft.com/" rel="nofollow noreferrer">Maple</a>, 53 bytes</h1>
<pre><code>s-&gt;subs((v:=ListTools:-MakeUnique(s))=~{$nops(v)},s);
</code></pre>
<p>The unique entries in order (v) are elementwise equated to 1,2,3,..(number in v), and used as substitution rules in s. ListTools:-MakeUnique is frustratingly verbose, but still shorter than anything I can think of that processes the list one entry as a time, such as</p>
<p><code>proc(s)q:=1;[seq(</code>if<code>(assigned(w[i]),w[i],(w[i]:=q++)),i=s)]end;</code> (64 bytes)</p>
</div>
<div id="pu14" class="pu"><h1>Google Sheets, 37 bytes</h1>
<pre class="lang-none prettyprint-override"><code>=index(ifna(match(A:A,unique(A:A),)))
</code></pre>
<p>...not the typical use of the <code>index(match())</code> pattern, using <code>index()</code> as array enabler only.</p>
<p><img src="https://i.sstatic.net/eRLNKJvI.png" alt="screenshot" /></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 13 bytes</h1>
<pre><code>ï¼©âŠ•ï¼¥Î¸âŒ•Î¦Î¸â¼Î¼âŒ•Î¸Î»Î¹
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMM5sbhEwzMvuSg1NzWvJDVFwzexQKNQR8EtMy9Fwy0zpyS1CMR1LSxNzCnWyIVKAEVyNDU1dRQyNUHA@v//6GgjHWMdIyA00TEFYhMdo9jY/7plOQA" rel="nofollow noreferrer" title="Charcoal â€“ Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>   Î¸            Input array
  ï¼¥             Map over values
            Î¹   Current value
    âŒ•           Find index in
      Î¸         Input array
     Î¦          Filtered where
        Î¼       Inner index
       â¼        Equals
         âŒ•      First index of
           Î»    Inner value in
          Î¸     Input array
 âŠ•              Convert to 1-indexing
ï¼©               Cast to string
                Implicitly print
</code></pre>
</div>
<div id="pu16" class="pu"><h1>APL(NARS), 27 chars</h1>
<pre><code>{â¬â‰¡wâ†âµ:â¬â‹„â†‘+/kÃ—â³â‰¢kâ†{w=âµ}Â¨âˆªâµ}
</code></pre>
<p>input one array, ouput one array. Make one array of binary array where are each element, multiply for according iota array of right lengh and sum.
Because the output was right enclosed, get the first â†‘.</p>
<p>Test:</p>
<pre><code>  fâ†{â¬â‰¡wâ†âµ:â¬â‹„â†‘+/kÃ—â³â‰¢kâ†{w=âµ}Â¨âˆªâµ}
  f â¬
â”Œ0â”€â”
â”‚ 0â”‚
â””~â”€â”˜
  f ,9
â”Œ1â”€â”
â”‚ 1â”‚
â””~â”€â”˜
 f 2 3 2 2 4 5 4 4 2
â”Œ9â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1 2 1 1 3 4 3 3 1â”‚
â””~â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  f 3 4 2 1 1 1 1 1 1 
â”Œ9â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1 2 3 4 4 4 4 4 4â”‚
â””~â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 31 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;l{l.map{|x|1+(l|l).index(x)}}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf1y6nOkcvN7GguqaixlBbI6cmR1MvMy8ltUKjQrO29n@BQlp0dGwsF5i2hDGMdIx1jIDQRMcUiE10jGASxiCOjiEyjI39DwA" rel="nofollow noreferrer" title="Ruby â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3/" rel="nofollow noreferrer">Vyxal 3</a>, 4 bytes</h1>
<pre><code>uÂ¨Fâ€º
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#H4sIAAAAAAAACqtWSssvyk0sUbIy1lHKSE1MSS1SslJS0lFKzk9JBbJKD61we9SwCyiQlp9fApNMy0lML1ayio7VUcrMKygtAbGjlaJjlXTAZGwsiDaEcC3hfB0FIx0FQzAy1lEwAZNABFVnpGOsYwSEJjqmQGyiY4SqD6IDHUG0GoOU6xgiQ5BmoOvKUouKM_PzgK421jM00DNQqgUASMgFHfEAAAA" rel="nofollow noreferrer">Vyxal It Online!</a></p>
<pre><code>uÂ¨Fâ€ºÂ­â¡â€‹â€â€âªâ¡âªâ âªâ¢âªâ€â â€âªâ¡âªâ âªâ£âªâ€â€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ¤âªâ€â€â€‹â¡â â¡â€ŒÂ­
 Â¨F   # â€â¡find each
u     # â€â¢unique element in the input
   â€º  # â€â£increment the index
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false" data-babel-preset-react="false" data-babel-preset-ts="false">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script type="vyxal3"&gt;
uÂ¨Fâ€º
&lt;/script&gt;
&lt;script&gt;
    args=[["[]"],["[9]"],["[2,3,2,2,4,5,4,4,2]"],["[3,4,2,1,1,1,1,1,1,1]"]]
&lt;/script&gt;
&lt;script src="https://themoonisacheese.github.io/snippeterpreter/snippet.js" type="module"/&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu19" class="pu"><h1>TinyAPL, 2 bytes</h1>
<pre><code>=â‘´
</code></pre>
<p>Explanation: classify with index origin 1.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://www.uiua.org/" rel="noreferrer">Uiua</a>, 3 bytes</h1>
<pre><code>+1âŠ›
</code></pre>
<p><a href="https://uiua.org/pad?src=0_17_0-rc_1__ZiDihpAgKzHiipsKZiBbXQpmIFs5XQpmIFsyIDMgMiAyIDQgNSA0IDQgMl0KZiBbMyA0IDIgMSAxIDEgMSAxIDEgMV0K" rel="noreferrer">Try it Online</a></p>
<p>Saw the challenge specs and immediately thought of classify in uiua lol.</p>
<h2>Explained</h2>
<pre><code>+1âŠ›Â­â¡â€‹â€â€âªâ¡âªâ âªâ£âªâ€â€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â â€âªâ¡âªâ âªâ¢âªâ€â€â€‹â¡â â¡â€ŒÂ­
  âŠ›  # â€â¡Assign a unique index to each unique item in the input
+1   # â€â¢and add 1 to each index.
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="noreferrer">Luminespire</a>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/283681/">283681</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




