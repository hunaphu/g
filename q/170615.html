<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::170615</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>105</td><td>V vim</td><td>210412T155953Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/223329#223329">Razetime</a></td></tr>
<tr d-ix="1"><td>085</td><td>PowerShell</td><td>180816T014058Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170699#170699">Veskah</a></td></tr>
<tr d-ix="2"><td>038</td><td>Dyalog APL</td><td>180815T174825Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170672#170672">mousetra</a></td></tr>
<tr d-ix="3"><td>023</td><td>Stax</td><td>180820T152359Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170928#170928">recursiv</a></td></tr>
<tr d-ix="4"><td>106</td><td>Haskell</td><td>180817T120831Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170771#170771">Max Yekh</a></td></tr>
<tr d-ix="5"><td>101</td><td>Haskell</td><td>180814T183715Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170646#170646">ovs</a></td></tr>
<tr d-ix="6"><td>130</td><td>R</td><td>180814T165417Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170637#170637">digEmAll</a></td></tr>
<tr d-ix="7"><td>184</td><td>Java JDK 10</td><td>180815T224617Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170683#170683">Olivier </a></td></tr>
<tr d-ix="8"><td>026</td><td>Canvas</td><td>180814T120916Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170620#170620">dzaima</a></td></tr>
<tr d-ix="9"><td>023</td><td>05AB1E</td><td>180814T141958Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170631#170631">Magic Oc</a></td></tr>
<tr d-ix="10"><td>153</td><td>Red</td><td>180815T074814Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170662#170662">Galen Iv</a></td></tr>
<tr d-ix="11"><td>028</td><td>Jelly</td><td>180814T205142Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170650#170650">Jonathan</a></td></tr>
<tr d-ix="12"><td>031</td><td>Jelly</td><td>180814T181224Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170644#170644">Mr. Xcod</a></td></tr>
<tr d-ix="13"><td>030</td><td>Charcoal</td><td>180814T204850Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170649#170649">Neil</a></td></tr>
<tr d-ix="14"><td>081</td><td>Python 2</td><td>180814T130000Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170627#170627">ovs</a></td></tr>
<tr d-ix="15"><td>100</td><td>JavaScript ES6</td><td>180814T124359Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170624#170624">Arnauld</a></td></tr>
<tr d-ix="16"><td>108</td><td>Python 2</td><td>180814T122619Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170621#170621">Rod</a></td></tr>
<tr d-ix="17"><td>131</td><td>Python 2</td><td>180814T120202Z</td><td><a href="https://codegolf.stackexchange.com/questions/170615/codegolf-rainbow-draw-in-black-and-white/170618#170618">TFeld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/DJMcMayhem/V" rel="nofollow noreferrer">V (vim)</a>, 105 bytes</h1>
<pre><code>"aDiaibgyor&lt;esc&gt;0vg_y$@ap0l@alhd$:s/a/ v/g
qqYP0xjYP!!rev
gJkhq2@a@qylpp02ld$0VG:center&lt;c-r&gt;=2*(&lt;c-r&gt;a+ceil(1+&lt;c-r&gt;a/7))

</code></pre>
<p><a href="https://tio.run/##K/v/XynRJTMxMym9Mr/IJrU42c6gLD2@UsUhscAgxyExJyNFxapYP1FfoUw/nauwMDLAoCIrMkBRsSi1jCvdKzuj0Mgh0aGwMqegwMAoJ0XFIMzdKjk1ryS1yCZZt8jO1khLA8xI1E5OzczRMNSG8PTNNTW5/v83Mv2vWwYA" rel="nofollow noreferrer" title="V (vim) – Try It Online">Try it online!</a></p>
<p>There's many possible saves here, but for now I'm just happy I got it working.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, <s>108</s> <s>98</s> <s>89</s> 85 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>param($x)($x+=$x/7-replace'\..*')..0|%{' '*$_+-join(" vibgyor"*$x)[$x..$_+$_+$_..$x]}
</code></pre>

<p><a href="https://tio.run/##HYvhCsIgFEb/7ynkcsvNsVv7FTT2JBVm4drCUgzKWD67WXA@OPBxnH1p/xi1MQmHfk5OeXUrMVR5dY9htWm8dkadNd8TCV4RrT@LmTMuUNbN1U73EthzOl3e1oPI4Q4DUf7@ZAuHmGJRtETtrwSUxy10SxwYyg4gpi8" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>

<p>This one feels pretty alright now. Banker's rounding is still the devil and I figured out how to make a non-dumb join. I tried monkeying with $ofs to not much success. Speaking of, the results without joins look pretty good, a bit melty:</p>

<pre class="lang-powershell prettyprint-override"><code>         vvv
        v     v
       v   rrr   v
      v   r ooo r   v
     v   r o yyy o r   v
    v   r o y ggg y o r   v
   v   r o y g bbb g y o r   v
  v   r o y g b iii b g y o r   v
 v   r o y g b i vvv i b g y o r   v
v   r o y g b i v     v i b g y o r   v
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">Dyalog APL</a>, <s>41</s> <s>39</s> 38 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>↑{⌽(⌽,⊃,A↑⊢)⍵↑A⍴' vibgyor'}¨-⍳A←⌈⎕×8÷7
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v@oo10h7f@jtonVj3r2agCxzqOuZh1HoMCjrkWaj3q3AlmOj3q3qCuUZSalV@YXqdceWqH7qHczUMmERz0dj/qmHp5ucXi7Ocik/2lcRqYA" rel="nofollow noreferrer" title="Dyalog APL – Try It Online">Try it online!</a></p>

<p>A similar approach to others: <code>A←⌈⎕×8÷7</code> finds the height of the rainbow (also the width of the longest 'half row' to the left/right of the centre) and assigns it to <code>A</code> for later use, while <code>¨-⍳</code> iterates through the values 1..A, negating them to select on the correct side when used with <code>↑</code>. </p>

<p><code>A⍴' vibgyor'</code> generates a 'half row' and <code>⍵↑</code> selects the correct length substring. <code>(⌽,⊃,A↑⊢)</code> generates the full row in reverse (which takes fewer characters to do), starting with a reversed half row (<code>⌽</code>), then the centre character taken from the beginning of the half row string (<code>⊃</code>) and finally a right padded version of the half row (<code>A↑⊢</code>). The final <code>⌽</code> reverses the row into the correct orientation and <code>↑</code> turns the vector of rows into a 2D array.</p>

<p><strong>Edit:</strong> -2 thanks to <a href="https://codegolf.stackexchange.com/users/59183/dzaima">dzaima</a></p>

<p><strong>Edit:</strong> -1 thanks to <a href="https://codegolf.stackexchange.com/users/24908/ngn">ngn</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 23 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>⌡G'5h!M╩EV[Ez ▼&gt;≈&lt;S⌡⌡0`
</code></pre>

<p><a href="https://staxlang.xyz/#p=f547273568214dca45565b457a201f3ef73c53f5f53060&amp;i=1%0A2%0A3%0A10%0A25&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>

<p>Unpacked, ungolfed, and commented, it looks like this.</p>

<pre><code>" vibgyor"  string literal
,8*7/^      input * 8 / 7 + 1
:m          repeat literal to that length
|]          get all prefixes
Mr          rectangularize, transpose array of arrays, then reverse
            this is the same as rotating counter-clockwise
m           map over each row with the rest of the program, then implicitly output
            the stack starts with just the row itself
  _h        push the first character of the row
  _r        push the reversed row
  L         wrap the entire stack in a single array
</code></pre>

<p><a href="https://staxlang.xyz/#c=%22+vibgyor%22%09string+literal%0A,8*7%2F%5E++++++++%09input+*+8+%2F+7+%2B+1%0A%3Am++++++++%09repeat+literal+to+that+length%0A%7C]++++++++%09get+all+prefixes%0AMr++++++++%09rectangularize,+transpose+array+of+arrays,+then+reverse%0A++++++++++%09this+is+the+same+as+rotating+counter-clockwise%0Am+++++++++%09map+over+each+row+with+the+rest+of+the+program,+then+implicitly+output%0A++++++++++%09the+stack+starts+with+just+the+row+itself%0A++_h++++++%09push+the+first+character+of+the+row%0A++_r++++++%09push+the+reversed+row%0A++L+++++++%09wrap+the+entire+stack+in+a+single+array&amp;i=1%0A2%0A3%0A10%0A25&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run this one</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 106 <s>113</s> bytes</h1>

<p>I can't yet comment other posts (namely <a href="https://codegolf.stackexchange.com/a/170646/82142">this</a>) so I have to post the solution as a separate answer.</p>

<p>Golfed away 7 bytes by ovs</p>



<pre class="lang-hs prettyprint-override"><code>p x=reverse x++x!!0:x
u m|n&lt;-m+div(m-1)7=[(' '&lt;$[z..n])++p(drop(n-z)$take(n+1)$cycle" vibgyor")|z&lt;-[0..n]]
</code></pre>

<p><a href="https://tio.run/##FcvBCoMgGADg@57iL4QUMeo0NvQNttOO0sGVbFGamIVJ7@7Yd/@@ap30POfsIAqvd@1XDZHSWBTNPV42MKflzNBh3LFhLbkKiSuoOJKprm1HKHV48IvDliWCgpo0trQlqD/6WZewj@/PsfiSnIkz2fxLl40aLQgwyj3BbeEV/MMCgg1u@Qc" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>(<a href="https://tio.run/##DctLCoMwEADQq0wkCyUouiptzA3aVZfiImpsxTiG8UOU3j11@@B99TIaa0PoAdXGUXTDHmNaJDepWaNWPRrQvD1aa6CRpMjshhYjHXhF4IXwjOUPL7erU3WyCCIhXNzR7ODkMYoiuWwfms8xU5T8zjKt8izDug6THhAUTNq9wG3re6UnAoce7uEP" rel="nofollow noreferrer" title="Haskell – Try It Online">Old version</a>, 113 bytes)</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>114</s> <s>110</s> 101 bytes</h1>

<p>Thanks to [nimi][1] for -<s>4</s> 13 bytes!</p>



<pre class="lang-hs prettyprint-override"><code>f n=""#(n+1+div n 7)
w#0=[]
w#n|x&lt;-cycle"r vibgyo"!!n=((' '&lt;$[2..n])++reverse w++x:x:x:w):(x:w)#(n-1)
</code></pre>

<p><a href="https://tio.run/##FYyxDoIwFAB3v@JRSGjTQMTFSOgf6ORIGCoWbCxPUrCFxH@vkEvutnvJ6a2MCaEDFITEFHnBn9oBwpkdfHwUdbMFf0uVtWtrFLHg9KNfPySKUFCaQlol9SnPsWGcW@WUnRR4zpdyx7OS7t7GWcHCIDWCgEGONxi/8322V4QEOriEPw" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 130 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(n,k=n%/%7*8+1+n%%7,a=el(strsplit(' vibgyor'/k,'')))for(i in k:1)cat(d&lt;-' '/(i-1),a[c(k:i,i,i:k)],d,sep='','
')
"/"=strrep
</code></pre>

<p><a href="https://tio.run/##PczLCsIwEIXhfZ8iCGFm7JQYQSrBPIm6qL1ISElLGgURn73GjZzFD2fxxXWw6/AIbXJTwMDeBqlkvT2WugxS1tzYfsQlxWUeXUIQT3e7v6YIyjMAEQ1TRCdcEN5oapuE3akCAQpdpYmbc4veOM4znq7c8dLPFoChACo2amMzHft5/TMtaqN3vD8QvQshfiJcAmQBTC7lb0BHxWf9Ag" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<ul>
<li>-6 bytes thanks to @JayCe</li>
</ul>
</div>
<div id="pu7" class="pu"><h1><a href="http://jdk.java.net/" rel="nofollow noreferrer">Java (JDK 10)</a>, 184 bytes</h1>



<pre class="lang-java prettyprint-override"><code>n-&gt;{int h=n+n/7,i=h+1,w=i*2+1,j,k=0;var o=new char[i][w];for(;i--&gt;0;o[i][w/2]=o[i][w/2+1])for(j=w/2;j--&gt;0;)o[i][j]=o[i][w+~j]=i&lt;h?j&lt;1?32:o[i+1][j-1]:" vibgyor".charAt(k++%8);return o;}
</code></pre>

<p><a href="https://tio.run/##dVDLboJAFN37FTcmTcARFLto4zCabpp00ZVLwmJEkTviDBkG1Bj663RAbDft6j7OOfdxBK@5J3bHFk@F0gaErf3KYO6nlUwMKulP6KiotjkmkOS8LOGTo4TbCGDoloYbG2qFOzhZzNkYjfIQxcD1oXR7KsCHNO/DxDDJuI7iKF5BCqyV3uqG0kDGJJGzlymyjATTM8PJwkYxPbI5rbkGxeT@DL0W4@gc01Rph6LnreZU9a3ZImaPjASx2xEEswUVPcvtQfEgkS@bYpitRRisnxdL27WqSHhBvBxDjdvDVemx3218M86RkKdXl@q9qbQERZuW9o91S7rzERjMKSAhEEJgs8fnAJtrafYnX1XGL6w1JpcOunQAO/3dELgsIfV5UeRXi//K/xzQeXE32rm4P8Oa/zcOnI7RjJr2Gw" rel="nofollow noreferrer" title="Java (JDK 10) – Try It Online">Try it online!</a></p>

<p>Prints an extra leading and trailing space for each multiple of 7.</p>

<h2>Explanation</h2>

<pre class="lang-java prettyprint-override"><code>n-&gt;{                             // IntFunction
 int h=n+n/7,                    //  Declare that height = n + n/7
     i=h+1,                      //          that index  = h + 1
     w=i*2+1,                    //          that width  = (h+1)*2+1
     j,                          //          j
     k=0;                        //          that k      = 0
 var o=new char[i][w];           //  Declare a 2D char array
 for(;                           //  Loop
   i--&gt;0;                        //    Until i is 0
   o[i][w/2]=o[i][w/2+1]         //    After each run, copy the middle letter.
 )
  for(j=w/2;                     //   Loop on j = w/2
   j--&gt;0;                        //     Until j = 0
  )                              //
   o[i][j]                       //    copy letters to the left side,
    =o[i][w+~j]                  //      and the right side
    =i&lt;h                         //      if it's not the last line
     ?j&lt;1                        //        if it's the first (and last) character
      ?32                        //          set it to a space.
      :o[i+1][j-1]               //          else set it to the previous character on the next line.
     :" vibgyor".charAt(k++%8);  //      else assign the next letter.
 return o;                       //  return everything
}
</code></pre>

<h2>Credits</h2>

<ul>
<li>-2 bytes thanks to <a href="https://codegolf.stackexchange.com/users/52210/kevin-cruijssen">Kevin Cruijssen</a></li>
</ul>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/dzaima/Canvas" rel="nofollow noreferrer">Canvas</a>, <s>29</s> <s>28</s> 26 <a href="https://github.com/dzaima/Canvas/blob/master/files/chartable.md" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>７÷Ｕ＋｛ &lt;ibgyor＠¹×／ｎ｝⇵Ｋ２＊∔─↶
</code></pre>

<p><a href="https://dzaima.github.io/Canvas/?u=JXVGRjE3JUY3JXVGRjM1JXVGRjBCJXVGRjVCJTIwJTNDaWJneW9yJXVGRjIwJUI5JUQ3JXVGRjBGJXVGRjRFJXVGRjVEJXUyMUY1JXVGRjJCJXVGRjEyJXVGRjBBJXUyMjE0JXUyNTAwJXUyMUI2,i=MTA_,v=6" rel="nofollow noreferrer">Try it here!</a></p>

<p>Explanation:</p>

<pre><code>7÷U+                          ceil(input/7) + input
    {             }         for n in 1..the above
      &lt;ibgyor@                in the string " &lt;ibgyor", pick the nth character
              ¹×              repeat n times
                /             create a diagonal of that
                 n            and overlap the top 2 stack items (the 1st time around this does nothing, leaving an item for the next iterations)
                   ⇵        reverse the result vertically
                    K       take off the last line (e.g. " &lt;ibgyor &lt;ib")
                     2*     repeat that vertically twice
                       ∔    and append that back to the diagonals
                        ─   palindromize vertically
                         ↶  and rotate 90° anti-clockwise. This rotates "&lt;" to "v"
</code></pre>

<p><s>25</s> <s>24</s> <a href="https://dzaima.github.io/Canvas/?u=JXVGRjE3JUY3JXVGRjM1JXVGRjBCJTIwdmliZ3lvciV1RkY0RCVCMSV1RkYzQiV1RkYyQiV1RkYxMiVENyV1RkYwQiV1RkYzRCV1RkYwRiV1MjUwMg__,i=MTA_,v=6" rel="nofollow noreferrer">22 bytes</a> after fixing that ｍold should cycle if the wanted length is bigger than the inputs length and fixing <code>／</code> for like the 10th time</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, <s>32</s> <s>31</s> 23 bytes</h1>

<pre><code>.•VvÈ©•¹∍¬„ v:RηεÂ¬ý}.c
</code></pre>

<p><a href="https://tio.run/##ATMAzP8wNWFiMWX//y7igKJWdsOIwqnigKLCueKIjcKs4oCeIHY6Us63zrXDgsKsw719LmP//zg" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p>-1 thanks to Kevin Cruijssen and -8 thanks to Adnan</p>

<hr>

<p><strong>Explanation (Stack example w/ input of 3):</strong></p>

<pre><code>.•VvÈ©•                  # Push 'aibgyor'           | ['aibgyor']
       ¹∍                # Extend to input length.  | ['aib']
         ¬               # Push head.               | ['aib','a']
          „ v:           # Replace with ' v'.       | [' vib']
              R          # Reverse.                 | ['biv ']
               η         # Prefixes.                | ['b', 'bi', 'biv', 'biv ']
                ε   }    # For each....             | []
                 Â¬ý     # Bifurcate, join by head. | ['b','b']       -&gt;    ['bbb']
                                                    | ['bi','ib']     -&gt;   ['biiib']
                                                    | ['biv','vib']   -&gt;  ['bivvvib']
                                                    | ['biv ',' vib'] -&gt; ['biv   vib']
                     .c # Center the result.        | Expected output.
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, 153 bytes</h1>

<pre><code>func[n][r: take/last/part append/dup copy"""roygbiv "n l: 9 * n + 8 / 8
repeat i l[print rejoin[t: pad/left take/part copy r i l last t reverse copy t]]]
</code></pre>

<p><a href="https://tio.run/##nY1BDoIwFET3nGLSpcZUTEiwx3DbdFHpr0Gb0nw@JJweg5xAZjvz3jCF9UHBuiqaNU65s9lZNhD/IZ38KLp4FvhSKAcdpoJuKItSiofl9exnqIxkcMcJGWe00GgrpkJe0CPZwn0WML2HPlsxKD7oRFH2g597E4K3NbZDbPOZeKS9EefcGlFXu0pd/oiqIpqjYH09St6a9Qs" rel="nofollow noreferrer" title="Red – Try It Online">Try it online!</a></p>

<h2>Slightly more readable:</h2>

<pre><code>f: func[ n ] [
    r: copy ""
    append/dup r "roygbiv " n
    r: take/last/part r l: 9 * n + 8 / 8
    repeat i l [
        print rejoin [ t: pad/left take/part copy r i l
                       last t 
                       reverse copy t ]
    ]
]
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 28 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>:7+‘“ vibgyor”ṁµṫJZz⁶U;"⁸ŒBṚ
</code></pre>

<p>A monadic link accepting an integer which yields a list of lists of characters.</p>

<p><strong><a href="https://tio.run/##ATwAw/9qZWxsef//Ojcr4oCY4oCcIHZpYmd5b3LigJ3huYHCteG5q0paeuKBtlU7IuKBuMWSQuG5mv/Dh1n//zg" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (footer joins with newline characters)</p>

<p>Or see the <a href="https://tio.run/##AWwAk/9qZWxsef//Ojcr4oCY4oCcIHZpYmd5b3LigJ3huYHCteG5q0paeuKBtlU7IuKBuMWSQuG5mv/FvMOHWSTigqxq4oKs4oG@OsK2auKBvsK2wrb//1sxLDIsMyw0LDUsNiw3LDgsOSwxMCwyNV0" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>

<h3>How?</h3>

<pre><code>:7+‘“ vibgyor”ṁµṫJZz⁶U;"⁸ŒBṚ - Link: integer
:7                           - integer divide by seven (number of full rainbows)
   ‘                         - increment (the input integer)
  +                          - add (gets the number bands)
    “ vibgyor”               - list of characters = " vibgyor"
              ṁ              - mould like the result above (as a range)
               µ             - start a new monadic chain
                 J           - range of length
                ṫ            - tail (vectorises) (gets the suffixes)
                  Z          - transpose
                   z⁶        - transpose with filler space character
                             -   (together these pad with spaces to the right)
                     U       - reverse each
                             -   (now we have the left side of the rainbow upside down)
                        ⁸    - chain's left argument, as right argument of...
                       "     -   zip with:
                      ;      -     concatenation
                             -   (adds the central character)
                         ŒB  - bounce (vectorises at depth 1)
                             -   (reflects each row like [1,2,3,4] -&gt; [1,2,3,4,3,2,1])
                           Ṛ - reverse (turn the rainbow up the right way)
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 31 bytes</h1>

<pre><code>:7+‘µ“ vibgyor”ṁṚ,Ṛjṛ/ƲƤṭ"ḶṚ⁶ẋƲ
</code></pre>

<p><a href="https://tio.run/##AUkAtv9qZWxsef//Ojcr4oCYwrXigJwgdmliZ3lvcuKAneG5geG5mizhuZpq4bmbL8ayxqThua0i4bi24bma4oG24bqLxrL/w4dZ//84" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a> </p>

<p><a href="https://tio.run/##y0rNyan8/9/KXPtRw4xDWx81zFEoy0xKr8wvetQw9@HOxoc7Z@kAcdbDnbP1j206tuThzrVKD3dsAwo9atz2cFf3sU3/DQ2CrI1MD7c/aloTCcRZQDMObYNAoBn//1sAAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Check out a test suite!</a></p>

<p><strong>ಠ_ಠ</strong> This is overly complicated because Jelly doesn't have a centralize function...</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 30 bytes</h1>

<pre><code>↶≔… vibgyor⁺²÷×⁸⊖Ｎ⁷θθ⸿Ｅθ✂θκ‖Ｏ←
</code></pre>

<p><a href="https://tio.run/##RY49D4IwFEV3f0XT6TWpi4tEJoMLiR9EHV2gPKCxtNCWJvz6Cg663Jybk9xc0ZVWmFLFWMhg/BkbDyzdHJ2TrYZsFgqzzgxASZBVOxtLOSnU5GDHSa79SQZZIzxljw4STk4oLPaoPdaQ62Hy16mv0AJjjJP9N8dlvrBSe/gTfVn6K5dygJGTh5ICV3izRd2xUSj8LaBViz@sR1kaYxK3QX0A" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>

<pre><code>↶
</code></pre>

<p>Change the drawing direction to upwards.</p>

<pre><code>≔… vibgyor⁺²÷×⁸⊖Ｎ⁷θ
</code></pre>

<p>Calculate the height of the rainbow and repeat the literal string to that length.</p>

<pre><code>θ⸿
</code></pre>

<p>Print the central line of the rainbow.</p>

<pre><code>Ｅθ✂θκ
</code></pre>

<p>Print the right half of the rainbow by taking successive slices and printing each on its own "line".</p>

<pre><code>‖Ｏ←
</code></pre>

<p>Reflect to complete the rainbow.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>84</s> <s>82</s> 81 bytes</h1>

<p>-2 bytes thanks to ElPedro.</p>



<pre class="lang-python prettyprint-override"><code>n=input();n+=n/7;w=''
while-~n:w+=" vibgyor"[n%8];print' '*n+w+w[-1]+w[::-1];n-=1
</code></pre>

<p><a href="https://tio.run/##DcXRCkAwFAbge08hpWEtTYm2zpMsN0qs9FsaJzdefdx8X3jidqBLCeQRrljVFpLQDpZJiIw3vy/qhWFJRX77eX2Os3Aox8mG0yOKXDSQLNkpPf0a82@hSKek@w8" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1>JavaScript (ES6), 100 bytes</h1>
<p>Returns an array of strings.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n,a=[i='   '])=&gt;++i&lt;n+n/7?f(n,[c=' vibgyor'[i&amp;7],...a].map(s=&gt;c+s+c)):a.map(s=&gt;' '.repeat(--i)+s)
</code></pre>
<p><a href="https://tio.run/##XY69asMwFIX3PMWdenW5ltqkQ6C1kqlrX8D1oMiykXGujBUCpfTZXXnI0uk7nB84o7u77Jc437SkLqxrb5VUzjbRIgBgS/bEHGtheT6e@5I1viT3eBm@04JNfDq2lTHGtebqZpXtyXNmT/TmHgYCmiXMwd2U1pE409qnRQlY2L@DQF34sglmgp8dgE@S0xTMlAalUOsGPksXgbdOYYtkZtd9SKdeDxWgRqJ/s3KUzJiiKPwSpG22cfe7/gE" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 108 bytes</h1>



<pre class="lang-python prettyprint-override"><code>n=input()-1
n+=n/7+2
o=[]
for s in(' vibgyor'*n)[:n]:o=[s+l+s for l in[s]+o]
for l in o:print l.center(n-~n)
</code></pre>

<p><a href="https://tio.run/##JYtBCsIwFAX3OcXfNfFTtd0IgZwkZKNUDYT3Q5IK3Xj12OJymJm8tbdg7h0uIq9Nm3FSYIfLjWclzgf1lEKVIvRAn3h/bVKGE4y3CHb3lRNXOpq0N74Glv9yIInNJaJROj8WtKVojF@Y3qfrDw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>132</s> 131 bytes</h1>



<pre class="lang-python prettyprint-override"><code>def f(n):
 t=n+n/7;s=('vibgyor '*n)[:t];r=[s[~i:]+t*' 'for i in range(t)]
 for l in zip(*r+3*[' '+s]+r[::-1])[::-1]:print''.join(l)
</code></pre>

<p><a href="https://tio.run/##RY7NCsIwEITvfYq9bX78az0UUvokIQfFtq6UTUiDUA@@emz04Glg5pthwprunpucb8MIo2BpKkg9az623dILfNJ1Wn0EVCytSa6LvV3sm4zTSSHguGUExBAvPA0iSVdB8ebivSgIFfVZ2Y3Ui9PRGrOvnfyJCZE4IR4enljMMpci/8fqXXMqf8qtCr5w/gA" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<hr>

<p>Saved:</p>

<ul>
<li>-1 byte, thanks to Jonathan Frech</li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/170615/">170615</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




