<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::278037</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>442</td><td>JavaScript V8</td><td>250208T181607Z</td><td><a href="https://codegolf.stackexchange.com/questions/278037/card-jitsu-part-2-make-a-card-jitsu-clone/278143#278143">Arnauld</a></td></tr>
<tr d-ix="1"><td>632</td><td>C gcc</td><td>250207T162136Z</td><td><a href="https://codegolf.stackexchange.com/questions/278037/card-jitsu-part-2-make-a-card-jitsu-clone/278128#278128">Weird Gl</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 442 bytes</h1>
<p>Expects an array of user inputs. Uses <code>1</code>/<code>2</code> to show the winning player.</p>

<pre class="lang-none prettyprint-override"><code>a=&gt;a.some(d=n=&gt;print(h.map((a,i)=&gt;i&lt;3?a.map(g):[n,g(x=h[2][n-1]),g(y=h[3][N]),w=(x-y)%3*11&gt;&gt;2&amp;3||2*((X=x/18|0)&lt;(Y=y/18|0))|X&gt;Y][i-3],N=R()*5|0).join`
`)|h.some((a,i)=&gt;i&lt;2&amp;a.some(x=&gt;a.some(y=&gt;a.some(z=&gt;(F=i=&gt;new Set(g(x)[i]+g(y)[i]+g(z)[i]).size)(1)&gt;2&amp;F(0)))),w&amp;&amp;h[--w].push(w?y:x),h[2][n-1]=c(h[3][N]=c())),g=Q=&gt;E[Q%3]+C[Q/3%6|0]+~~(Q/18+2),h=[...C=&quot;OBYRGP0&quot;].map(v=&gt;v&gt;g?[...E=&quot;FSW00&quot;].map(c=_=&gt;1/d[i=(R=Math.random)()*198|0]?c():d[i]=i):[]))
</code></pre>
<p><a href="https://tio.run/##hZFRb9owEMff@ykiJNAZHIfE69ShnpFWlT2tG/DQIstaPUiJKxFQkpEERf3q7ICM1z3Y97/znf2787vd23yZuV3h7@@Ob3i0qKzIt5sYVpii2mUuLSARG7sDsNwxVO5eju05sGYjnfI1VJjoyOjUDw0jtyZXGv1ETolQ@TXryn4YKhX1ZNNEfYAXrILwrhmye1hgfZGseVELo50vDX/CGbD@LUXF@9alrzevrEkuVFeIqNdyVlfi@qoOqGCCDlUal948LoAgmXZmQHStPZwsE7k7xAxCRnATIApG0L1eon2/NGL3J0@gHNejivFri7iEtj9Sp/w1TlE96mlXmsGDngay@7kZmsHHB0yptUFEtaiFEA/Y@fF1Mfv2c9gx5/ntUe3Venw6e8TOZP48/HeyxF@owmClHcIMv9siEZlNV9sNo7mEX2heZkyPjyjBoKNvMIwdg8CbuCz2fse2yL15ui35eW8Dz7aIM@7RNRfZhk8lN2@gQx5xyT/xW1qS9H99w45/AQ" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>715</s> <s>685</s> 632 bytes</h1>

<pre class="lang-c prettyprint-override"><code>#define y(x);}x(l,n)int*l;
#define P;printf(
u,v=11,h[5],a[99],b[99],A,B,i,j,k,I,J,K;o(n){P&quot;%c%c%d&quot;,&quot;FWS&quot;[n/u],&quot;ROYGBP&quot;[n/v%6],n%v+2)y(O){for(i=0 P i&lt;n?&quot;,&quot;+!i:&quot;\n&quot;),i&lt;n;)o(l[i++])y(R){k=n?R(l+1,n-1),k^*l?k:-1:rand()%198;}r(n){for(h[n]=-1;R(h,5),h[n]&lt;0;h[n]=k)u=66 y(z){for(i=0;I=l[i]/v,i&lt;n;)for(j=i++;J=l[j]/v,K=l[n-1]/v,j++&lt;n;)u*=I%6==J%6|I%6==K%6|J%6==K%6||I/6-J/6|J/6-K/6&amp;&amp;I/6==J/6|I/6==K/6|J/6==K/6;}main(w){for(srand(&amp;w);i&lt;5;)r(i++);for(;u;z(b,B)){j=h[J=getchar()-49];R(0,0);K=j%v-k%v;I=j/u^k/u?j/u-(k/u+2)%3?1:-1:(K&gt;0)-(K&lt;0);O(a,A);O(b,B);O(h,5)P&quot;%d\n&quot;,J+1);o(j)P&quot;\n&quot;);o(k)P&quot;\n%d\n&quot;,I);I&gt;0?a[A++]=j:I?b[B++]=k:0;r(J);z(a,A);}}
</code></pre>
<p><a href="https://tio.run/##tVHbjpswEH3fr0ipiDxhELhtUIPjRclDK@AhUfpQVZSVCEmWS@pUdGEvWb49HRNt/6BYYo7PjOd2cvs@zy@X97v9oVT70TN7AtE/sSMqKNXD5Chu3lxr8bsh6sBuWuwk51gk0xSzZDZLcTv8F7jEEiusMcQIY3FiCs5rw8zp7Aw0vnz/ZiTKaVM0NqsfX5drfetML0VldtYHeGYrOB9ODSulO1qPyrkK6JX1rvSNn8oAJELAiR2T0rJSit7AuZYq2LCjxVHZHLC@mxyD2re532Rqx8Dks8@ib3QfOm@RqFTaXGxYgVNAfZ27YmBraKXn0fwv/1oQoaRSqdNdC2u2klRaRMRXmo8JUF0NK8vSQe1EhqYnZWR6rwOICURv4DV0PDtyiCEbO954TAQFEzOA@OoagOh/ZaVij9d2/gzzjB9BlPOpAOrPskBoj2jFC9viEuBcySKJ5P3@IS@yhoH9aZbSqC66IGJZmZ1dmx0NVTntXe20AVmbEaDNmx8DrrfG4lsXbBbP6cmKZbjQRicno1dGYu5ICowsDiRvRYRWhmA9wKs3BBHeukGWLEgnWflhsE2WGta@KxoWAXU85O77y4X/j@8v" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p><em>-53 bytes thanks to ceilingcat</em></p>
<p>So it has been 4 or 5 days since I first posted this challenge, and there are still no answers. This was to be expected. I will therefore start a small bounty for the first person to find a sub-500 bytes answer (This requirement is based on an attempt I made with JS, not completely satisfied with it yet, so that's why I first post this C answer), and in the meantime, I wrote this C version in order to check that the challenge can be solved even with limited functionalities. This was pretty fun to make actually! It's probably not perfect, you can probably simplify some of the conditions and loops, but this is my first answer in C, so I'm still proud of this.</p>
<p>A small explanation of this code:</p>
<ul>
<li><code>u</code> and <code>v</code> are constants (<code>u</code> is also used as the checking boolean at the end of a round in order to check if the game is finished)</li>
<li><code>h</code> is the hand (5 cards chosen randomly with <code>r()</code>), <code>a</code> and <code>b</code> are the winning piles for Player 1 and 2, <code>A</code> and <code>B</code> are the number of cards in each pile, and the other variables are used as temporary values</li>
<li><code>o()</code> prints a single card, <code>O()</code> prints a list of cards, <code>R()</code> generates a random card and checks recursively if the card is contained within l, adds -1 to the list otherwise, <code>r()</code> chooses a new random card for the hand, added at position n, by using <code>R()</code> until the value is a positive number, and <code>z()</code> modifies <code>u</code> if the game is finished</li>
<li>The main program retrieves the two cards chosen by each player, calculates the winner for this round, prints the required lines, adds a new card to the hand, and checks if the game is finished using both <code>a</code> and <code>b</code></li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/278037/">278037</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




