<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::278037</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>715</td><td>C gcc</td><td>250207T162136Z</td><td><a href="https://codegolf.stackexchange.com/questions/278037/card-jitsu-part-2-make-a-card-jitsu-clone/278128#278128">Weird Gl</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 715 bytes</h1>

<pre class="lang-c prettyprint-override"><code>#define P printf
u=66,v=11,h[198],a[99],b[99],A,B,i,j,k,I,J,K;c(){return rand()%2?1:-1;}o(n){P(&quot;%c%c%d&quot;,&quot;FWS&quot;[n/u],&quot;ROYGBP&quot;[n/v%6],n%v+2);}O(int*l,int n){for(i=0;P(i&lt;n?i?&quot;,&quot;:&quot;&quot;:&quot;\n&quot;),i&lt;n;)o(l[i++]);}R(int*l,int n){k=n?(R(l+1,n-1),k==*l?-1:k):rand()%198;}z(int*l,int n){for(i=0;I=l[i]/v,i&lt;n;i++)for(j=i;J=l[j]/v,K=l[n-1]/v,j&lt;n;j++)if(I%6^J%6&amp;&amp;I%6^K%6&amp;&amp;J%6^K%6)if(I/6==J/6&amp;&amp;J/6==K/6||I/6^J/6&amp;&amp;I/6^K/6&amp;&amp;J/6^K/6)u=0;}main(){for(;i&lt;198;i++)h[i]=i;for(srand(time(0)),qsort(h,i,sizeof i,c);u;){J=getchar()-49;j=h[J];R(0,0);K=j%v-k%v;I=j/u^k/u?j/u!=(k/u+2)%3?1:-1:(K&gt;0)-(K&lt;0);O(a,A);O(b,B);O(h,5);P(&quot;%d\n&quot;,J+1);o(j);P(&quot;\n&quot;);o(k);P(&quot;\n%d\n&quot;,I);I&gt;0?a[A++]=j:I?b[B++]=k:0;for(h[J]=-1;R(h,5),h[J]&lt;0;h[J]=k)u=66;z(a,A);z(b,B);}}
</code></pre>
<p><a href="https://tio.run/##tVLBjpswEL33K1IqVvYyCNjdogbHi5LDVsAhUXqoKkokQshiyJqWBA7J8u3pGHKp1GsB4TdvPOM3es7M1yy7Xj/t8r2Q@WQ1@dUIedp/aLnrQscdB4rYmX5JII2n0wS2w38OCxBQQgUBhBCxjNBLk5/aRk6aVO4I1R98xzMd1tdE0suKaHqG704D7eX7Ny2WVpuAtl7@@LpYqajT3QSk3hkPlPVLggLuD4D/CRbv64YIbrMVETPpCx97eBp@P6VGASlGa3KIhWEkWLv@u7bi0idrcjAckKZDoeL8/uCbjldR7yYUZ2P9@d9HBhwbJ1Y3HIMnUJUouWAhJkqViBBgZwVL3FPiHrEnge5uQt29u1MgUiAcwZC0XM5DS5EKRZb7/o7cZqAUiG45BWiLMvq3VEgyymJiphQrMQVqQy2KPQ7DnMRbTmxK4fexbk6kQIuO4pzX@4mAjLKW0UvIX/NTVqQNoebTlJW8iMOErYkNNmURL/XOrPQOBy@tdlNZrY/rR04QoTX642CqR6Jnm5okmmHNkqQwV8sWFmop4DNlyu8d@gOh4VBWk3KglGEYVLdg3BFQFjzbfhrP0UBeeoG/jRcKVp49jKYEcrxJ66E1qHBms4GtqLqk7DxKOI8S@v56df7H8wc" rel="nofollow noreferrer" title="C (gcc) â€“ Try It Online">Try it online!</a></p>
<p>So it has been 4 or 5 days since I first posted this challenge, and there are still no answers. This was to be expected. I will therefore start a small bounty for the first person to find a sub-500 bytes answer (This requirement is based on an attempt I made with JS, not completely satisfied with it yet, so that's why I first post this C answer), and in the meantime, I wrote this C version in order to check that the challenge can be solved even with limited functionalities. This was pretty fun to make actually! It's probably not perfect, you can probably simplify some of the conditions and loops, but this is my first answer in C, so I'm still proud of this.</p>
<p>A small explanation of this code:</p>
<ul>
<li><code>u</code> and <code>v</code> are constants (<code>u</code> is also used as the checking boolean at the end of a round in order to check if the game is finished)</li>
<li><code>h</code> is the hand (All cards shuffled randomly), <code>a</code> and <code>b</code> are the winning piles for Player 1 and 2, <code>A</code> and <code>B</code> are the number of cards in each pile, and the other variables are used as temporary values</li>
<li><code>c()</code> generates either -1 or 1 randomly (used with qsort at the beginning of this program), <code>o()</code> prints a single card, <code>O()</code> prints a list of cards, <code>R()</code> generates a random card and checks recursively if the card is contained within l, and <code>z()</code> modifies <code>u</code> if the game is finished</li>
<li>The main program retrieves the two cards chosen by each player, calculates the winner for this round, prints the required lines, adds a new card to the hand, and checks if the game is finished using both <code>a</code> and <code>b</code></li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/278037/">278037</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




