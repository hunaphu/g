<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::112025</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>010</td><td>Vyxal 3</td><td>250617T113152Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/282320#282320">Themooni</a></td></tr>
<tr d-ix="1"><td>071</td><td>Whispers v3</td><td>201105T165700Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/214791#214791">caird co</a></td></tr>
<tr d-ix="2"><td>007</td><td>Jelly</td><td>201105T163900Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/214789#214789">caird co</a></td></tr>
<tr d-ix="3"><td>012</td><td>Japt x</td><td>170705T170110Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/130013#130013">Shaggy</a></td></tr>
<tr d-ix="4"><td>006</td><td>Husk</td><td>201017T013924Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/213724#213724">LegionMa</a></td></tr>
<tr d-ix="5"><td>113</td><td>JavaScript ES6</td><td>170419T093711Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/116975#116975">Shaggy</a></td></tr>
<tr d-ix="6"><td>104</td><td>Axiom</td><td>170417T082951Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/116760#116760">user5898</a></td></tr>
<tr d-ix="7"><td>218</td><td>Prolog SWI</td><td>170304T192748Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112038#112038">Adnan</a></td></tr>
<tr d-ix="8"><td>013</td><td>05AB1E</td><td>170308T112204Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112288#112288">Emigna</a></td></tr>
<tr d-ix="9"><td>093</td><td>Röda</td><td>170304T194730Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112040#112040">fergusq</a></td></tr>
<tr d-ix="10"><td>071</td><td>Python 2</td><td>170304T184435Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112033#112033">xnor</a></td></tr>
<tr d-ix="11"><td>129</td><td>dc</td><td>170305T040031Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112071#112071">R. Kap</a></td></tr>
<tr d-ix="12"><td>nan</td><td></td><td>170305T011719Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112065#112065">Brad Gil</a></td></tr>
<tr d-ix="13"><td>010</td><td>Actually</td><td>170305T004417Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112062#112062">Adnan</a></td></tr>
<tr d-ix="14"><td>091</td><td>perl</td><td>170305T003737Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112061#112061">Kjetil S</a></td></tr>
<tr d-ix="15"><td>038</td><td>Mathematica</td><td>170304T180844Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112028#112028">JungHwan</a></td></tr>
<tr d-ix="16"><td>011</td><td>Pyke</td><td>170304T203347Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112044#112044">Blue</a></td></tr>
<tr d-ix="17"><td>016</td><td>MATL</td><td>170304T181922Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112029#112029">Luis Men</a></td></tr>
<tr d-ix="18"><td>049</td><td>Maxima</td><td>170304T184616Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112034#112034">rahnema1</a></td></tr>
<tr d-ix="19"><td>071</td><td>Octave</td><td>170304T183342Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112031#112031">Luis Men</a></td></tr>
<tr d-ix="20"><td>011</td><td>Jelly</td><td>170304T175541Z</td><td><a href="https://codegolf.stackexchange.com/questions/112025/arithmetic-mean-of-prime-fibonacci-numbers-up-to-the-x-fibonacci-number/112026#112026">Dennis</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3/" rel="nofollow noreferrer">Vyxal 3</a>, 10 bytes</h1>
<pre><code>k±⎄+}⊖~℗∆A
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#H4sIAAAAAAAACqtWSssvyk0sUbIy1lHKSE1MSS1SslJS0lFKzk9JBbKyD2181NeiXfuoa1rdo5bpjzraHIGSafn5JTCFaTmJ6cVKVtGxOkqZeQWlJSB2tJKpnrmpkk60kqGBUmwskDY114PwTSF8I3NzPRMjC1NzQwgJkjOCqjUy0jMBqzWE8M0MTI3N9EzgACRnDFILtLIstag4Mz8P6BRjPXM9A6VaANK0wK_RAAAA" rel="nofollow noreferrer">Vyxal It Online!</a></p>
<pre><code>k±⎄+}⊖~℗∆A­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏‏​⁡⁠⁡‌­
k±⎄+}       # ‎⁡fibonacci infinite generator:
k±          # ‎⁢[1,1]
  ⎄+}       # ‎⁣generate infinite list using addition
     ⊖      # ‎⁤take the first [implicit input]
      ~℗    # ‎⁢⁡filter by primes
        ∆A  # ‎⁢⁢arithmetic mean
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false" data-babel-preset-react="false" data-babel-preset-ts="false">
<div class="snippet-code">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script type="vyxal3"&gt;
k±⎄+}⊖~℗∆A
&lt;/script&gt;
&lt;script&gt;
    args=[["10"],["15"],["20"],["11"],["30"]]
&lt;/script&gt;
&lt;script src="https://themoonisacheese.github.io/snippeterpreter/snippet.js" type="module"/&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/cairdcoinheringaahing/Whispers" rel="nofollow noreferrer">Whispers v3</a>, 71 bytes</h1>
<pre><code>&gt; Input
&gt; fₙ
&gt;&gt; 2ᶠ1
&gt;&gt; L’
&gt;&gt; Select∧ 4 3
&gt;&gt; mean(5)
&gt;&gt; Output 6
</code></pre>
<p>Unfortunately, no TIO as this relies on v3 features, and v3 isn't on TIO. However, you can tell it by downloading and running the interpreter in the linked GitHub repo</p>
<h2>How it works</h2>
<pre><code>&gt; Input
Here, we &quot;define&quot; line 1 to hold our input integer, n

&gt; fₙ
On line 2, we store an infinite list of Fibonacci numbers

&gt;&gt; 2ᶠ1
We then use the ᶠ dyad to take the ᶠirst n elements from the infinite list

&gt;&gt; L’
This line is a &quot;functional operator line&quot;. It is passed a value on the Left and returns the ’ (prime) operator result on that value

&gt;&gt; Select∧ 4 3
We now take the list of Fibonacci numbers and Select those which return true when run through line 4

&gt;&gt; mean(5)
&gt;&gt; Output 6
Finally, we take the mean of the resulting list, before outputting it
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>
<pre><code>ÆḞ€ẒƇÆm
</code></pre>
<p><a href="https://tio.run/##ARwA4/9qZWxsef//w4bhuJ7igqzhupLGh8OGbf///zEw" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>The newest version of Jelly really helps with this. This is essentially identical to <a href="https://codegolf.stackexchange.com/a/112026/66833">Dennis' answer</a> but uses the newer features, so go upvote his answer.</p>
<h2>How it works</h2>
<pre><code>ÆḞ€ẒƇÆm - Main link. Takes n on the left
ÆḞ€     - i'th Fibonacci number for each i in [1, 2, .., n]
    Ƈ   - Comb; Keep those for which the following is true:
   Ẓ    -   Is prime?
     Æm - Take the arithmetic mean
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-x</code></a>, <s>14</s> 12 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ò!gM fj Ë/Fl
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LXg&amp;code=8iFnTSBmaiDLL0Zs&amp;input=MzA" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 6 bytes</h1>
<pre><code>Afṗ↑İf
</code></pre>
<p><a href="https://tio.run/##yygtzv6fm18enPqoqfG/Y9rDndMftU08siHt////0YYGOoamOkZA0lDH2CAWAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a> Outputs the mean as an exact rational number.</p>
<h3>Explanation</h3>
<pre><code>Afṗ↑İf  (Let X denote the argument.)
A       Take the arithmetic mean of
   ↑      the first X values of
    İf     the infinite list of Fibonacci numbers,
 fṗ      filtered for primality.
</code></pre>
</div>
<div id="pu5" class="pu"><h1>JavaScript ES6, <s>137</s> <s>136</s> <s>118</s> 113 bytes</h1>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>m=

n=&gt;(a=[],(f=x=&gt;a[x]=x&lt;2?x:f(--x)+f(--x))(n),eval((a=a.filter(x=&gt;eval("for(y=x;x%--y;);y==1"))).join`+`)/a.length)

console.log(m(10))
console.log(m(15))
console.log(m(20))
console.log(m(11))
console.log(m(30))</code></pre>
</div>
</div>
</p>
<hr />
<h2>History</h2>
<h3>118 bytes</h3>
<pre><code>n=&gt;(a=[0,1,1],(f=x=&gt;a[--x]=a[x]||f(x)+f(--x))(n),eval((a=a.filter(x=&gt;eval(&quot;for(y=x;x%--y;);y==1&quot;))).join`+`)/a.length)
</code></pre>
<h3>136 bytes</h3>
<pre><code>n=&gt;(a=[0,1,1],(f=x=&gt;a[--x]=a[x]||f(x)+f(--x))(n),eval((a=a.filter(x=&gt;x&gt;1&amp;&amp;!Array(x).fill().some((i,j)=&gt;j&gt;1&amp;&amp;!(x%j)))).join`+`)/a.length)
</code></pre>
<h3>137 bytes</h3>
<pre><code>n=&gt;(a=[0,1,1],(f=x=&gt;a[--x]=a[x]||f(x)+f(--x))(n),eval((a=a.filter(x=&gt;{d=x;while(--d&gt;1)if(!(x%d))return 0;return x&gt;1})).join`+`)/a.length)
</code></pre>
</div>
<div id="pu6" class="pu"><h1>Axiom, 104 bytes</h1>

<pre><code>g(n)==(y:=x:=r:=0;repeat(x&gt;n=&gt;break;j:=fibonacci(x);x:=x+1;if prime?(j)then(r:=r+j;y:=y+1));y=0=&gt;-1;r/y)
</code></pre>

<p>ungolfed, test code and results</p>

<pre><code>f(n)==
  y:=x:=r:=0
  repeat
     x&gt;n=&gt;break
     j:=fibonacci(x)
     x:=x+1
     if prime?(j) then(r:=r+j;y:=y+1)
  y=0=&gt;-1
  r/y

(3) -&gt; [[i,g(i)::Float] for i in [1,2,3,10,15,20,11,30,50]]
   Compiling function g with type PositiveInteger -&gt; Fraction Integer
   (3)
   [[1.0,- 1.0], [2.0,- 1.0], [3.0,2.0], [10.0,5.75], [15.0,57.5],
    [20.0,277.4285714285 7142857], [11.0,22.4], [30.0,60536.4444444444 44444],
    [50.0,309568576.1818181818 2]]
</code></pre>

<p>i try to duplicate the matematica, octave etc languages entry, if one not count the mean() function, to implement it would be here <strong>62 bytes</strong> so good too</p>

<pre><code>mean(a:List Float):Any== 
    i:=1; s:=0.0
    repeat  
       if~index?(i,a)then break
       s:=s+a.i
       i:=i+1
    i=1=&gt;[]
    s/(i-1)

--62 bytes
f(x:NNI):Any==mean(select(prime?,[fibonacci(i)for i in 1..x]))
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="http://www.swi-prolog.org" rel="nofollow noreferrer">Prolog (SWI)</a>, <s>269</s> <s>264</s> <s>254</s> 218 bytes</h1>

<ul>
<li>Thanks to <em>Fatalize</em> for saving 37 bytes!</li>
<li>Thanks to <em>Emigna</em> for saving 9 bytes!</li>
</ul>

<p>I'm fairly certain that I could golf some more bytes down.</p>

<pre><code>X/X:-X&lt;3.
N/R:-A is N-1,B is N-2,A/C,B/D,R is C+D.
2^0^0.
C^S^E:-G is C-1,G/M,G^Q^R,(p(M)-&gt;S=M+Q,E is R+1;S=Q,E is R).
a(X,S):-X^R^Q,S is R/Q.
p(N):-N*(N-1).
p(2).
p(3).
N*2:-N mod 2=\=0.
N*C:-N mod C=\=0,D is C-1,N*D.
</code></pre>

<p>Run it as <strong><code>a(15, R).</code></strong> for <strong>x = 15</strong>, <strong>R</strong> is the output variable.</p>

<p><a href="https://tio.run/nexus/prolog-swi#NY4xC8MgFIR3f4WjJk9NDF3SWkg0ZIqgLg5FCHTpUBro/yfVlCzHu@943O1RxJ7FW8eRFb5nA359sWUtjP9DwiA0jMKAL0DXhiOZmtRwpFNIU8/mg@ePWSwwJ5c8kI0slN2DWmoHU8l93V6DOg3laCURAs3NyScH4cDCcbQRm6mtSN5Ai5WHdlltJXOC358nluqhmkL0SXQhYM4ttjJ831fSXqDU/QA" rel="nofollow noreferrer" title="Prolog (SWI) – TIO Nexus">Try it online!</a></p>

<hr>

<p>A more readable version:</p>

<pre><code>fibonacci(1, 1) :- !.
fibonacci(2, 2) :- !.

fibonacci(N, R) :-
  N0 is N - 1,
  N1 is N - 2,
  fibonacci(N0, R1),
  fibonacci(N1, R2),
  R is R1 + R2.

listed(2, 0, 0) :- !.

listed(C, S, Successes) :-
  C0 is C - 1,
  fibonacci(C0, Result),
  listed(C0, S0, S1),
  (
    is_prime(Result)
    -&gt;
      S = Result + S0, Successes is S1 + 1
    ; S = S0, Successes is S1
  ).

f(X, S) :-
  listed(X, R, Q),
  S is R / Q.

is_prime(Num) :- is_prime(Num, Num - 1).

is_prime(2).
is_prime(3).

is_prime(Num, 2) :- Num mod 2 =\= 0, !.

is_prime(Num, C) :-
  Num mod C =\= 0,
  C0 is C - 1,
  is_prime(Num, C0).
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 13 bytes</h1>

<pre><code>!ÅF¹£DpÏDOsg/
</code></pre>

<p><a href="https://tio.run/nexus/05ab1e#@694uNXt0M5Di10KDve7@Ben6///b2QAAA" rel="nofollow noreferrer">Try it online!</a>
or as a <a href="https://tio.run/nexus/05ab1e#MzRQMDRVMAKShgrGBppllf8VD7e6VR5a7FJwuN/Fvzhd/3@l0uH9VgqH9yvp/AcA" rel="nofollow noreferrer">Test suite</a></p>

<p><strong>Explanation</strong></p>

<pre><code>!ÅF             # get a list of fibonacci numbers up to fac(input)
   ¹£           # take the first input elements of that list
     D          # duplicate
      p         # isprime on the copy
       Ï        # keep the fibonacci numbers which are true in the isprime list
        D       # duplicate the list of fibonacci primes
         O      # sum the list
          s     # swap the other copy to the top of the stack
           g    # get its length
            /   # divide sum by length
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="http://github.com/fergusq/roda" rel="nofollow noreferrer">Röda</a>, <s>98</s> <s>94</s> 93 bytes</h1>

<pre><code>f n{z=0;i=1;j=1;s=0;seq 2,n-1|{|_|c=i+j;i=j;j=c;seq 2,c-1|{z+=1;s+=c}if[c%p&gt;0]()for p}_[s/z]}
</code></pre>

<p>It's a function that returns the result as a floating point number.</p>

<p>Ungolfed version:</p>

<pre><code>function f(n) {
    i = 1
    j = 1
    sum = 0
    num = 0
    seq(2, n-1) | for _ do
        /* calculate next fibonacci number: */
        c = i+j
        i = j
        j = c
        /* if it's prime: */
        {
            num += 1
            sum += c
        /* primality test: */
        } if [c%p &gt; 0]() for p in [seq(2, c-1)]
    done
    return sum/num
}
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 71 bytes</h1>



<pre class="lang-python prettyprint-override"><code>s=2.;a=b=c=1
exec"p=2**a%a==2;c+=p;s+=a*p;a,b=b,a+b;"*input()
print s/c
</code></pre>

<p><a href="https://tio.run/nexus/python2#BcFBCoAgEAXQvacIIahRiqTd8A8zDi7cyJAG3d7emx3pYEGG4nLlK@oNiUhWARJrgHEPEDKWmJGjhMyearN3bLuzp7ax9FPnvH8" rel="nofollow noreferrer" title="Python 2 – TIO Nexus">Try it online!</a></p>

<p>Python doesn't have useful arithmetic built-ins for this, so we do things by hand. The code iterates through Fibonacci numbers via <code>a,b=b,a+b</code> starting from <code>a=b=1</code>. </p>

<p>The <a href="https://en.wikipedia.org/wiki/Fermat_primality_test" rel="nofollow noreferrer">Fermat primality test</a> with base 2 is used to identify primes as <code>a</code> where <code>2^a == 2 (mod a)</code>. Though this only checks for probable primes, none of the <a href="https://oeis.org/A001567" rel="nofollow noreferrer">false positives</a> are within the first 40 Fibonacci numbers.</p>

<p>The current sum <code>s</code> and count <code>c</code> of primes are updated each time a prime is encountered, and their ratio (the mean) is printed at the end. Because the prime check misses <code>a=2</code> and it's guaranteed to be in the input range, the sum starts at 2 and the count starts at 1 to compensate.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.gnu.org/software/bc/manual/dc-1.05/html_mono/dc.html" rel="nofollow noreferrer">dc</a>, 129 bytes</h1>

<pre><code>?sa0sb1sd0ss0sz[[lF1+sF]sqlelG!=q]si[ls+sslz1+sz]sw[lddlb+dsdrsbdsG2se0sF[lGdle%0=ile1+dse&lt;p]dspxlF0=wla1-dsa1&lt;c]dscxEkls1-lz1-/p
</code></pre>

<p>A Fibonacci number generator and primality checker all in one. Nice.</p>

<p><a href="https://tio.run/nexus/dc#DcyxDoIwFIXhZ3FwIo33OkOcLA/RdCi9TSSeKHgGSN@bGbv@X/KfDybhpDQhhTUEeO3oI1cUjJdhjZwD2JGoDWrkFmCGqTPaj5NxvLMIfcBoKFcZZhRtWPolGpcdXoYNSZ0xaZ9by/vzDaprQ3dbzlPl@HxdTvlV/g" rel="nofollow noreferrer" title="dc – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu12" class="pu">

<h1><a href="https://perl6.org" rel="noreferrer">Perl 6</a>, 51 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>{sum($/=[grep *.is-prime,(0,1,*+*...*)[0..$_]])/$/}
</code></pre>

<p><a href="https://tio.run/nexus/perl6#NY7LboMwEEX3/opRhBoDZniERyUKn9BVdyGqKuJWliBYNm5TIb6su/4YdR1ld2buGc01msNniX1NjKUXrueajN/w0E9nDs22aDNSL26OH4pLCFDoSCoxckYTlrIgDBAx8I8Jovd6OvmxF6/b@6QIwCAuXFO/s/j7g1oOYqYxPOGXbmEftfsbxnfh2YxciZ5ELVDoxEWamUHHr5L3Mz@DD4v1bLFOcW2GGRr4b0hDZ/q1DW21NynVdIXw5jAI7/cMdoszV2haWG75uiPrliZgXxZYFSQtHFZYkMxts6rCPHssSZq6McOcHFxSJsWhxDzP/wA" rel="noreferrer" title="Perl 6 – TIO Nexus">Try it</a></p>

<h2>Expanded:</h2>

<pre class="lang-perl6 prettyprint-override"><code>{
  sum(
    $/ = [                # store as an Array in $/

      grep
        *.is-prime,       # find the primes
        (
          0, 1, *+* ... * # Fibonacci sequence
        )[ 0 .. $_ ]      # grab the indicated values in the sequence

    ]
  )

  /

  $/   # use the Array as a number (elems)
}
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/Mego/Seriously" rel="noreferrer">Actually</a>, 10 bytes</h1>

<p>Code:</p>

<pre><code>R♂F;Mr♂P∩æ
</code></pre>

<p>Explanation:</p>

<pre><code>R            # On the input, create the range [1 .. input].
 ♂F          # Map the nth Fibonacci command over it.
   ;M        # Duplicate and get the maximum of the list.
     r       # Create the range [0 .. maximum - 1].
      ♂P     # Map the nth prime operator over each element (zero-indexed).
        ∩    # Intersection of both.
         æ   # Get the mean and implicitly display.
</code></pre>

<p>Uses the <strong>CP-437</strong> encoding. <a href="https://tio.run/nexus/actually#@x/0aGaTm7VvEZAKeNSx8vCy//8NTQE" rel="noreferrer" title="Actually – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1>perl, 91 bytes</h1>
<pre><code>$b=1;map{($a,$b)=($b,$a+$b),$p=(&quot;x&quot;x$b)!~/^(.|(..+)\2+)$/,$s+=$b*$p,$c+=$p}2..$x;print$s/$c
</code></pre>
<p>Cuold have been 8 bytes shorter if the modulo pseudoprime test worked as well in perl as in the python answer:</p>
<pre><code>$b=1;$s=2;map{($a,$b)=($b,$a+$b),$p=2**$b%$b==2,$s+=$b*$p,$c+=$p}2..$x;print$s/++$c
</code></pre>
<p>...but this gives wrong answer for input &gt; 16 in perl.</p>
</div>
<div id="pu15" class="pu"><h1>Mathematica, 38 bytes</h1>
<pre><code>Mean@Select[Fibonacci@Range@#,PrimeQ]&amp;

(* or *)

Mean@Select[Fibonacci~Array~#,PrimeQ]&amp;
</code></pre>
<p><strong>Explanation</strong></p>
<pre><code>Mean@Select[Fibonacci@Range@#,PrimeQ]&amp;  
                                     &amp;  (* For input # *)
                      Range@#           (* List {1, 2, 3, ... #} *)
            Fibonacci@                  (* Find the corresponding fibonacci numbers *)
     Select[                 ,PrimeQ]   (* Select the prime terms *)
Mean@                                   (* Take the Mean *)
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/muddyfish/PYKE" rel="nofollow noreferrer">Pyke</a>, 11 bytes</h1>

<pre><code>S.b#_P)'sl/
</code></pre>

<p><a href="https://tio.run/nexus/pyke#@x@sl6QcH6CpXpyj//@/oQEA" rel="nofollow noreferrer" title="Pyke – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 16 bytes</h1>
<pre><code>lOi:&quot;yy+]vtZp)Ym
</code></pre>
<p><a href="https://tio.run/nexus/matl#@5/jn2mlVFmpHVtWElWgGZn7/7@hAQA" rel="nofollow noreferrer" title="MATL – TIO Nexus">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>lO     % Push 1, then 0. This way the generated numbers with indices 1, 2, 3, ...
       % will be 1, 1, 2, ... as required
i      % Input n
:&quot;     % Do the following n times
  yy   %   Duplicate top two numbers
  +    %   Add
]      % End
v      % Concatenate all numbers into a column vector
t      % Duplicate
Zp     % Vector of logical values: true for prime numbers, false otherwise
)      % Apply that vector as an index. This keeps only prime numbers
Ym     % Mean. Implicitly display
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Maxima, 49 bytes</h1>

<pre class="lang-matlab prettyprint-override"><code>f(n):=mean(sublist(makelist(fib(x),x,n),primep));
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a>, <s>75</s> 71 bytes</h1>



<pre class="lang-matlab prettyprint-override"><code>@(n)mean((t=fix(((1+(s=5^.5)).^(x=1:n)-(1-s).^x)/s./2.^x))(isprime(t)))
</code></pre>

<p>Anonymous function that uses <a href="https://en.wikipedia.org/wiki/Fibonacci_number#Closed-form_expression" rel="nofollow noreferrer">Binet's formula</a>. Input and output are in the form of function arguments.</p>

<p><a href="https://tio.run/nexus/octave#dY3BDoIwEETvfMVeTHajAsVw0ZD4JSYb2EKTthi2Kn49gvHqXN7MYWaWK0YKwhExNdbNiGj2qE19y2ui/IZzY86RjmiOusaZCs2LajOETu@TC4KJiBYLDXDUC/zXDnr3FEiDgH3ENrkxAkPkIJkdp8AJ/Bj7/@1uPfT8hif7hyi8XBqAvYdOWhfYa2bRlHSAFfUX1S@ZL04lbStJNEHLKrp8AA" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 11 bytes</h1>

<pre><code>ÆḞ€ÆPÐfµS÷L
</code></pre>

<p><a href="https://tio.run/nexus/jelly#@3@47eGOeY@a1hxuCzg8Ie3Q1uDD233@H24HikT@/29ooKNgaKqjYASiDXUUjA0A" rel="noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>ÆḞ€ÆPÐfµS÷L  Main link. Argument: n (integer)

ÆḞ€          Map the Fibonacci atom over [1, ..., n].
   ÆPÐf      Filter by primality.
       µ     Begin a new chain. Argument: A (array of Fibonacci primes)
        S    Yield the sum of A.
          L  Yield the length of A.
         ÷   Compute the quotient.
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/112025/">112025</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




