<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::140498</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>039</td><td>Raku Perl 6 rakudo</td><td>241213T174159Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/277245#277245">xrs</a></td></tr>
<tr d-ix="1"><td>055</td><td>AWK</td><td>241107T163114Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/276566#276566">xrs</a></td></tr>
<tr d-ix="2"><td>012</td><td>Japt v1.4.5 h</td><td>170825T165247Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140500#140500">Shaggy</a></td></tr>
<tr d-ix="3"><td>016</td><td>MATL</td><td>170826T121224Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140550#140550">Suever</a></td></tr>
<tr d-ix="4"><td>012</td><td>Husk</td><td>210405T090218Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/222900#222900">Razetime</a></td></tr>
<tr d-ix="5"><td>077</td><td>Java 8</td><td>201007T143237Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/212155#212155">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>009</td><td>05AB1E</td><td>201007T141656Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/212154#212154">Kevin Cr</a></td></tr>
<tr d-ix="7"><td>057</td><td>R</td><td>200922T064344Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/211463#211463">Razetime</a></td></tr>
<tr d-ix="8"><td>010</td><td>Stax</td><td>180501T112632Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/163898#163898">wastl</a></td></tr>
<tr d-ix="9"><td>033</td><td>Bash + bsdgames package</td><td>170826T024917Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140534#140534">Digital </a></td></tr>
<tr d-ix="10"><td>014</td><td>Pyth</td><td>170825T165209Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140499#140499">Mr. Xcod</a></td></tr>
<tr d-ix="11"><td>112</td><td>C# .NET Core</td><td>170827T020646Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140599#140599">Ayb4btu</a></td></tr>
<tr d-ix="12"><td>056</td><td>Ruby</td><td>170826T060503Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140543#140543">Michael </a></td></tr>
<tr d-ix="13"><td>054</td><td>JavaScript ES6</td><td>170826T015422Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140533#140533">Justin M</a></td></tr>
<tr d-ix="14"><td>035</td><td>Perl 6</td><td>170826T193224Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140564#140564">Sean</a></td></tr>
<tr d-ix="15"><td>009</td><td>Jelly</td><td>170825T172613Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140507#140507">nmjcman1</a></td></tr>
<tr d-ix="16"><td>053</td><td>Mathematica</td><td>170825T193058Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140517#140517">JungHwan</a></td></tr>
<tr d-ix="17"><td>389</td><td>C++</td><td>170826T131331Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140552#140552">D&#250;t</a></td></tr>
<tr d-ix="18"><td>064</td><td>PowerShell</td><td>170826T043754Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140539#140539">Tessella</a></td></tr>
<tr d-ix="19"><td>049</td><td>Bash + Core Utils</td><td>170825T182057Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140512#140512">markasof</a></td></tr>
<tr d-ix="20"><td>148</td><td>PHP</td><td>170826T003929Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140531#140531">Mic1780</a></td></tr>
<tr d-ix="21"><td>047</td><td>Perl 5</td><td>170825T194209Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140521#140521">Xcali</a></td></tr>
<tr d-ix="22"><td>011</td><td>05AB1E</td><td>170825T185327Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140515#140515">Erik the</a></td></tr>
<tr d-ix="23"><td>076</td><td>Python 2</td><td>170825T171559Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140505#140505">Halvard </a></td></tr>
<tr d-ix="24"><td>009</td><td>Neim</td><td>170825T181111Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140510#140510">Okx</a></td></tr>
<tr d-ix="25"><td>080</td><td>Python 3</td><td>170825T171446Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140504#140504">Mr. Xcod</a></td></tr>
<tr d-ix="26"><td>082</td><td>Mathematica</td><td>170825T171325Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140503#140503">ZaMoC</a></td></tr>
<tr d-ix="27"><td>128</td><td>PowerShell</td><td>170825T170059Z</td><td><a href="https://codegolf.stackexchange.com/questions/140498/get-thee-behind-me-satan-prime/140502#140502">AdmBorkB</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://raku.org" rel="nofollow noreferrer">Raku (Perl 6) (rakudo)</a>, 39 bytes</h1>
<pre class="lang-perl prettyprint-override"><code>{(0..$_).grep({.is-prime&amp;&amp;/666/}).tail}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kKDG7dMHy3EoFtTQF26WlJWm6FjfVqzUM9PRU4jX10otSCzSq9TKLdQuKMnNT1dT0zczM9Gs19UoSM3NqocpdNYCChjoKQNJIR8HQAAjAHEtzHQVjIwtzM1Mg19zC0gLItzQDQU293ESgucWJlQppGkB7FGo1rSGGLVgAoQE" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, 55 bytes</h1>
<pre><code>{for(i=$1;j!=i+1;i--)if(i~/666/)for(j=1;i%++j;);}$0=i+1
</code></pre>
<p>TIO doesn't like.</p>
<pre><code>awk '{for(i=$1;j!=i+1;i--)if(i~/666/)for(j=1;i%++j;);}$0=i+1' &lt;&lt;&lt; 46666
</code></pre>
<p><a href="https://tio.run/##SyzP/v@/Oi2/SCPTVsXQOkvRNlPb0DpTV1czM00js07fzMxMXxMknWULFFbV1s6y1rSuVTEAKfv/3wQobfYvv6AkMz@v@D8A" rel="nofollow noreferrer" title="AWK ‚Äì Try It Online">Try it online!</a></p>
<pre><code>{for(i=$1;j!=i+1;i--)   # count backward, break on match
if(i~/666/)             # only Satan ints
for(j=1;i%++j;);}       # primality
$0=i+1                  # set output
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> v1.4.5 <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-h</code></a>, <s>14</s> 12 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>√µ fj f√às√∏666
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.5&amp;flags=LWg&amp;code=9SBmaiBmyHP4NjY2&amp;input=OTY5Njk3" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu3" class="pu"><h1>MATL, 16 bytes</h1>
<pre><code>ZqP&quot;@V'666'Xf?@.
</code></pre>
<p>Try it at <a href="https://matl.io/?code=ZqP%22%40V%27666%27Xf%3F%40.&amp;inputs=30000&amp;version=20.4.0" rel="nofollow noreferrer">MATL Online</a></p>
<p><strong>Explanation</strong></p>
<pre><code>         Implicitly grab input (n)
Zq       Compute the primes up to n (output is in increasing order)
P        Flip the array (so larger primes come first)
&quot;        For each prime
  @V     Convert it to a string
  '666'  Push the string literal '666' to the stack
  Xf     Find the location of '666' in the prime
  ?      If it was present...
    @.   Push it to the stack and break
         Implicitly display the stack contents
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 12 bytes</h1>
<pre><code>·∏üo`‚Ç¨d666df·πó·π´
</code></pre>
<p><a href="https://tio.run/##yygtzv7//@GO@fkJj5rWpJiZmaWkPdw5/eHO1f///zc0AAIA" rel="nofollow noreferrer" title="Husk ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1>Java 8, 77 bytes</h1>

<pre class="lang-java prettyprint-override"><code>n-&gt;{for(int i=++n;i&gt;1|!(n+&quot;&quot;).contains(&quot;666&quot;);)for(i=--n;n%--i&gt;0;);return n;}
</code></pre>
<p><a href="https://tio.run/##PZDBbsIwDIbvPIUXaVKjNhUwLW2J2svO48KRcchCmMKKixqXaWJ99i7tYLZk2b@s77d81BctjvvPwdTae3jVDq8zAIdk24M2FtbjOAlgorEiV0HpZ6F40uQMrAGhHFBU10PTTjuujGNUrlr8PEQYM8ZT0yAFto@YlJJxxafVUghU@CiEq@aKq9ZS1yKg6gc18s/dex34N5tL4/ZwCpBoQ63Dj@0ONP@77u5L1tOL9hZWgPZrPHq7uwbDZbKYh0hCW2TJ0zLP5HMis7zIs6SQY/Z8AgFsvj3ZU9p0lJ6DC9UY3akxW70RizE1/xK/PaMffgE" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{               // Method with integer as both parameter and return-type
  for(int i=++n;   //  Increase the input by 1
                   //  Set `i` to this input+1 (setting `i` to anything above 1 is fine)
      i&gt;1          //  Continue looping as long as `i` is not 0 nor 1
      |!(n+&quot;&quot;).contains(&quot;666&quot;);)
                   //  or if `n` as String does not contain &quot;666&quot; as substring:
    for(i=--n;     //   Decrease `n` by 1 first
                   //   And then set `i` to this new `n`
        n%--i      //   Decrease `i` by 1 before every iteration
             &gt;0;); //   And continue looping as long as `n` does NOT evenly divide `i`
  return n;}       //  After both loops, return the modified `n` as result
</code></pre>
<p>If <code>for(i=n;n%--i&gt;0;);</code> results in <span class="math-container">\$i&lt;2\$</span>, it means <span class="math-container">\$n\$</span> is a prime number (note: <a href="https://codegolf.stackexchange.com/a/100149/52210">this prime checker</a> only works for <span class="math-container">\$n\geq2\$</span>, which is fine in this case).</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 9 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>√ÖPR.Œî666√•
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//cGtAkN65KWZmZoeX/v9vaAAEAA" rel="nofollow noreferrer">Try it online.</a> (No test suite with all test cases, because it's a bit too slow.)</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>√ÖP         # Push a list of primes below or equal to the (implicit) input-integer
  R        # Reverse this list
   .Œî      # Find the first value which is truthy for:
     666√•  #  Check whether it contains &quot;666&quot; as substring
           # (after which the found result is output implicitly)
</code></pre>
<p>The <code>666</code> can alternatively be <code>≈Ω2ƒá</code> (compressed 666) or <code>∆µ√©¬∑</code> (compressed 333 and then doubled).</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 57 bytes</h1>

<pre class="lang-r prettyprint-override"><code>(a=conf.design::primes(scan():1))[which(grepl(666,a))[1]]
</code></pre>
<p>-42 bytes from Dominic Van Essen's enormous golf.</p>
<p>uses <code>grepl</code> to coerce values to string(since 666 cannot be considered a regex) and check for truthy values.</p>
<p>Runs through the array in reverse to save 2 bytes.</p>
<h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a> + <code>conf.design</code>, <sup><s>81 78</s></sup> 99 bytes</h1>

<pre class="lang-r prettyprint-override"><code>library(conf.design);function(n){a=primes(1:n)
a[max(which(grepl(&quot;666&quot;,as.character(a),fixed=T)))]}
</code></pre>
<p><a href="https://rdrr.io/snippets/embed/?code=library(conf.design)%0Ax%3Dfunction(n)%7B%0Aa%3Dprimes(1%3An)%0Aa%5Bmax(which(grepl(%22666%22%2Cas.character(a)%2C%20fixed%3DT)))%5D%7D%0Ax(6666)" rel="nofollow noreferrer">Try it on rdrr.io!</a></p>
<p>My first R solution.</p>
<p>+21 bytes after including library name.</p>
<p>A simple filter. grepl returns true at indices with 666, which returns the truthy indices, and max gets the required index of the prime.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 10 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>√º&gt;:√ëb/VP6‚îÄ
</code></pre>

<p><a href="https://staxlang.xyz/#p=813e3aa5622f565036c4&amp;i=6662%0A10000%0A66697%0A328765%0A678987%0A969696&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>

<p>Explanation (unpacked):</p>

<pre><code>^w:pc$666$#! Full program, implicit input-parsing
^            Increment input
 w           do-while:
  :p           Previous prime
    c$         Copy and stringify
      666$     Push "666"
          #    Number of occurences
           !   Logical not
             Implicit output
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Bash + bsd-games package, 33</h1>
<ul>
<li>2 bytes saved thanks to @FedericoPoloni.</li>
</ul>

<pre class="lang-bash prettyprint-override"><code>primes 2 $[$1+1]|grep 666|tail -1
</code></pre>
<p><a href="https://tio.run/##NYyxDsIgFEV3v@IObIakYHxA/JSmA9qnktjS8Bj777QMnrOc6TyjfNs7F1SW@orCSCuIyMIMJz2Dw816R3eQ88E7BOo@MOcLToQrtIb6H9pW0sICCzUqczXT/im89dNeY/pBmzbnldsB" rel="nofollow noreferrer">Try it online</a>.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://pyth.readthedocs.io" rel="nofollow noreferrer">Pyth</a>, <s>15</s> 14 bytes</h1>
<p><em>Saved 1 byte with help from Dave</em>.</p>
<p>Memory errors for <code>969696</code> and anything higher on my machine, but it is fine if it is given enough memory.</p>
<pre><code>ef&amp;/`T*3\6P_TS
</code></pre>
<p><strong><a href="https://pyth.herokuapp.com/?code=ef%26%2F%60T%2a3%5C6P_TS&amp;input=10000&amp;test_suite_input=6662%0A10000%0A66697%0A76667%0A328765&amp;debug=0" rel="nofollow noreferrer">Try it here</a> or check out the <a href="https://pyth.herokuapp.com/?code=ef%26%2F%60T%2a3%5C6P_TS&amp;input=6662-%3E6661++++%0A10000-%3E6661++++%0A66697-%3E66697+%28a+SP+returns+himself%29++%0A328765-%3E326663++%0A678987-%3E676661%0A969696-%3E966677&amp;test_suite=1&amp;test_suite_input=6662%0A10000%0A66697%0A328765&amp;debug=0" rel="nofollow noreferrer">Test Suite.</a></strong></p>
<hr />
<h1>How?</h1>
<pre>
ef&/`T*3\6P_TSQ - Full program, with implicit input (Q) at the end

             SQ - Range [1,Q]
 f              - Filter.
          P_T   - Is prime?
  &             - And
   /`T*3\6      - It contains 666.
e               - Last element.
                - Implicitly output the result.
</pre>
<h1><a href="https://pyth.readthedocs.io" rel="nofollow noreferrer">Pyth</a>, 14 bytes</h1>
<pre><code>ef/`T*\63fP_TS
</code></pre>
<p><strong><a href="http://pyth.herokuapp.com/?code=ef%2F%60T%2a%5C63fP_TS&amp;input=10000&amp;debug=0" rel="nofollow noreferrer">Try it here!</a></strong></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.microsoft.com/net/core/platform" rel="nofollow noreferrer">C# (.NET Core)</a>, <strike>117</strike> <strike>115</strike> 112 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>f=&gt;{for(int i=f;i&gt;1;i--){int p=1,j=2;while(j&lt;i)if(i%j++&lt;1)p=0;if(p&gt;0&amp;$"{i}".Contains("666"))return i;}return 0;}
</code></pre>

<p><a href="https://tio.run/##NY5BS8QwEEbPza8YikrCbku7YhXS9CJ4Uljcg@eQTXRKTUqSrkjpb6@p6G2@x4N5KhTKeb1OAe07nL5D1J@cqEGGAEcykyxEGVHBxeEZXiRaykiWcHaRHiwIQBvLo/RB00dngxt0@arl@RmtpozxJD5NVrXJ2m9qByZNEKsR3Wycp4kBCsOxqzkWBZs3MIp634sD//rAQdO@RYaG4nW/27U1G0XF0xy76uYqn3HJy/Q4prJA86Zpcsa8jpO3gHz5uyq@rFvKf@Gbx6jpVkLtb@RClvX28HDf3P0A" rel="nofollow noreferrer" title="C# (.NET Core) ‚Äì Try It Online">Try it online!</a></p>

<ul>
<li>2 bytes saved by removing unnecessary braces.</li>
<li>3 bytes saved by combining <code>int</code> declarations.</li>
</ul>

<p>I'm sure this could be made shorter; maybe by recursively calling <code>func f</code> and removing the outer <code>for</code>-loop.</p>

<h3>Recursive Approach, 85 bytes</h3>



<pre class="lang-cs prettyprint-override"><code>i=&gt;{int p=1,j=2;while(j&lt;i)if(i%j++&lt;1)p=0;return p&gt;0&amp;$"{i}".Contains("666")?i:f(--i);}
</code></pre>

<p><a href="https://tio.run/##NY7BSsQwEIbPzVMMRSVht6XdQw@mqQfBk8KiB88hm@qUOC1JuiKlz15TwTkN838z85lQmNHbbQ5IH/D2E6L9ksw4HQKc2cKyEHVEA9cRL/CikbhgWRpnV@2BQAFSLM/aB8sfRwqjs@Wr1ZdnJMuFkAl8msm0iTruaAd92qHZuT1K/YaqW1IAk6qPgzrJ7090lg8tCuw53g6HQ1uLSVXS2zh7gqmr7m7yBde8TA9jMgo8b5omFw943/OiQCHXbb/@7/PuMVrec/rzWdm61VWqXw" rel="nofollow noreferrer" title="C# (.NET Core) ‚Äì Try It Online">Try it online!</a></p>

<p>I'm unsure how well this approach fits within the bounds of code-golf due to having to set the <code>Func&lt;int,int&gt; f = null</code> first, and that <code>f</code> is called again, but not counted towards the bytes. Any clarification would be appreciated.</p>
</div>
<div id="pu12" class="pu"><h1>Ruby, <s>67</s>, <s>66</s>, <s>58</s>, 56 bytes</h1>

<p>Includes <code>+7</code> bytes for <code>-rprime</code></p>

<pre><code>-&gt;z{z.downto(1).find{|x|/666/=~x.to_s&amp;&amp;x.prime?}}
</code></pre>

<p>It's pretty fast, computing values up to <code>~2^52</code> in about a second and <code>2^64</code> in under 5 minutes (2011 MBP, Ruby 2.3.1).</p>
</div>
<div id="pu13" class="pu"><h1>JavaScript (ES6), <s>55</s> 54 bytes</h1>

<p><em>-1 byte thanks to @ThePirateBay.</em></p>

<pre class="lang-js prettyprint-override"><code>f=n=&gt;/666/.test(d=n)&amp;eval("while(n%--d);d&lt;2")?n:f(n-1)
</code></pre>

<p><strong>Very</strong> slow with large inputs. Primality test adapted from <a href="https://codegolf.stackexchange.com/a/91309/69583">this code golf answer</a>.</p>

<h2>Timings</h2>

<ul>
<li>Input <code>10000</code> took 10 seconds</li>
<li>Input <code>328765</code> took 3 minutes</li>
<li>Input <code>678987</code> took 9 minutes</li>
<li>Input <code>969696</code> took 16 minutes</li>
</ul>

<h2>Tests</h2>

<p>Some of these will hang your browser for several minutes.</p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=n=&gt;/666/.test(d=n)&amp;eval("while(n%--d);d&lt;2")?n:f(n-1)

function test(n) {
  O.value="Working..."
  setTimeout(_=&gt;{
    let t = Date.now()
    O.value=`f(${n}) = ${f(n)} in ${(Date.now()-t)/1000}s`
  }, 10)
}</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>Tests&lt;br&gt;
&lt;button onclick="test(6662)"&gt;6662&lt;/button&gt;
&lt;button onclick="test(10000)"&gt;10000&lt;/button&gt;
&lt;button onclick="test(328765)"&gt;328765&lt;/button&gt;
&lt;button onclick="test(678987)"&gt;678987&lt;/button&gt;
&lt;button onclick="test(969696)"&gt;6662&lt;/button&gt;&lt;br&gt;
Result&lt;br&gt;
&lt;input id=O type=text size=25 readonly&gt;</code></pre>
</div>
</div>
</p>

<h2>Faster Version, 56 bytes</h2>

<p>Completes each test case in under a second.</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=n=&gt;/666/.test(n)&amp;&amp;eval("for(d=2;n%d++;);d&gt;n")?n:f(n-1)

;[6662, 10000, 328765, 678987, 969696].forEach(n=&gt;console.log(`f(${n}) -&gt; ${f(n)}`))</code></pre>
</div>
</div>
</p>
</div>
<div id="pu14" class="pu"><h1><a href="http://perl6.org/" rel="nofollow noreferrer">Perl 6</a>, 35 bytes</h1>

<pre><code>my&amp;f={/666/&amp;&amp;.is-prime??$_!!f $_-1}
</code></pre>

<p><a href="https://tio.run/##FYtLCoAgFEW3chNx1s/oqfRbijRQCIrERhGt3eyeyeHADS7ulNJxCz89NRHVQlTbVYa4HW5ZuC0KD27L9k0DrvUG4xbTjOevL4M/I8Z8k2ibPGQ1Cp3UinqQ0kYrGPqZh/QB" rel="nofollow noreferrer" title="Perl 6 ‚Äì Try It Online">Try it online!</a></p>

<p>Straightforward recursive solution.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, <s>10</s> 9 bytes</h1>
<p>Saved 10% thanks to @Dennis!</p>
<pre><code>√ÜRw√êf666·π™
</code></pre>
<p><a href="https://tio.run/##y0rNyan8//9wW1D54QlpZmZmD3eu@m99uF3lUdMabyCO/P8/GihqpGNoAAQ6QKaluY6xkYW5mamOmbmFpYW5jqUZCMYCAA" rel="noreferrer" title="Jelly ‚Äì Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>√ÜR          # All primes in range [2, input]
   √êf      # Keep those which satisfy
  w        # truthy if y is in x
     666   #           ^ (this is y)
        ·π™  # Tail (take the last element)
</code></pre>
</div>
<div id="pu16" class="pu"><h1>Mathematica, <s>64</s> <s>62</s> <s>61</s> 53 bytes</h1>
<pre><code>#//.i_/;!PrimeQ@i||ToString@i~StringFreeQ~&quot;666&quot;:&gt;i-1&amp;
</code></pre>
<p><em>-1 byte thanks to @KellyLowder</em></p>
<p><em>-8 bytes (wow) thanks to @Notatree</em></p>
<h2>Explanation</h2>
<p>Take an input. We decrement it under these conditions:</p>
<ul>
<li><p>the input is not prime, OR</p>
</li>
<li><p>the digits of the inputs does not contain three 6s in a row.</p>
</li>
</ul>
<p>We repeat that until a Satan prime is reached.</p>
</div>
<div id="pu17" class="pu"><h1>C++ 389 bytes</h1>

<pre><code>#include &lt;iostream&gt;
#include &lt;boost/multiprecision/cpp_int.hpp&gt;
#include &lt;boost/multiprecision/miller_rabin.hpp&gt;
using namespace boost::random;typedef boost::multiprecision::cpp_int Z;int main(int,char**v){mt19937 m(clock());independent_bits_engine&lt;mt11213b,256,Z&gt;g(m);Z n{v[1]},p;while(p++&lt;=n)if(miller_rabin_test(p,25,g)&amp;&amp;p.convert_to&lt;std::string&gt;().find( "666" )!=-1)std::cout&lt;&lt;p&lt;&lt;" ";}
</code></pre>

<p>This is a full program!<br>
You'll need Boost to compile it. (Or copy and paste into your favorite online C++ shell.)<br>
Run it from the command-line giving <strong><em>n</em></strong> as argument.</p>

<p>Ungolfed:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;boost/multiprecision/cpp_int.hpp&gt;
#include &lt;boost/multiprecision/miller_rabin.hpp&gt;
using namespace boost::random;

typedef boost::multiprecision::cpp_int integer;

int main( int argc, char** argv )
{
  mt19937 mt( clock() );
  independent_bits_engine &lt;mt11213b, 256, integer&gt; rng( mt );

  integer input {argv[ 1 ]};
  integer possible;

  while (possible++ &lt;= input)
    if (
      // is_prime( possible )
      miller_rabin_test( possible, 25, rng )
    &amp;&amp; 
      // possible has "666" in it
      (possible.convert_to &lt;std::string&gt; ().find( "666" ) != std::string::npos))

    std::cout &lt;&lt; possible &lt;&lt; " ";
}
</code></pre>

<p>Shortcuts were made in terms of random number testing. The original code started testing possible primes at 6661 and incremented by two. You'll also get a compiler warning because of that (-1) there instead of npos.</p>

<p>Still, this runs pretty quickly. It only took about 40 seconds to find all 214 satan primes under 1,000,000 on my old AMD Sempron 130.</p>

<p>:^D</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, <strike>71</strike> <strike>69</strike> 64 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>param($s)for(;$s-notmatch666-or(2..($s/2)|?{!($s%$_)});$s--){}$s
</code></pre>

<p><a href="https://tio.run/##K8gvTy0qzkjNyfn/vyCxKDFXQ6VYMy2/SMNapVg3L78kN7EkOcPMzEwXKGSkpweU1TfSrLGvVgSyVFXiNWs1QQp1NatrVYr///9vaAAEAA" rel="nofollow noreferrer" title="PowerShell ‚Äì Try It Online">Try it online!</a></p>

<ul>
<li><p>328765 takes ~30 seconds on my machine, but times out the 60 second limit on Tio.run.</p></li>
<li><p>678987 takes ~1.5 minutes.</p></li>
<li>969696 takes ~4.5 minutes.</li>
</ul>
</div>
<div id="pu19" class="pu"><h1>Bash + Core Utils, <strike>51</strike> 49 Bytes</h1>

<pre><code>seq $1|tac|factor|awk 'NF==2&amp;&amp;/666/&amp;&amp;!a--&amp;&amp;$0=$2'
</code></pre>

<p>Takes command line argument. Can be quite slow with larger numbers.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, 148 bytes</h1>



<pre class="lang-php prettyprint-override"><code>&lt;?php $p=[2];$s=[];for($i=3;$i&lt;=$argv[1];$i++){foreach($p as $q)if($i%$q===0)continue 2;$p[]=$i;if(strpos($i,'666')!==false)$s[]=$i;}echo end($s);?&gt;
</code></pre>

<p><a href="https://tio.run/##JcpBCsIwEEDRq0QYaUJd1Ba6ScceJHQRamIC0kwz1Y149hjwb9@nQKVMMwUSQGj6RQOjWbRPWULEQUOcEGx@vM21Wmxb9anm7BokkLAsYFfR1/cMOyJ2ak3bEbeXE70GMgtC1NX5yJS4bpdmHMdGnRC9fbJTwP/n69aQhNvuEljp@VZKGbraDw" rel="nofollow noreferrer" title="PHP ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu21" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 47 bytes</h1>

<p>46 bytes of code + 1 for <code>-p</code></p>



<pre class="lang-perl prettyprint-override"><code>{$f=0|sqrt;1while$_%$f--;/666/*!$f||$_--*redo}
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/79aJc3WoKa4sKjE2rA8IzMnVSVeVSVNV9da38zMTF9LUSWtpkYlXldXqyg1Jb/2/38joLDlv/yCksz8vOL/ur6megaGBv91CwA" rel="nofollow noreferrer" title="Perl 5 ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 11 bytes</h1>

<pre><code>∆íNpN666√•*iN
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f//2CS/Aj8zM7PDS7Uy/f7/NzYAAgA" rel="nofollow noreferrer" title="05AB1E ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu23" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <strike>77</strike> 76 bytes</h1>
<p><strong>Edit:</strong> -1 byte thanks to <a href="https://codegolf.stackexchange.com/users/59487/mr-xcoder">@Mr.Xcoder</a></p>
<p>Slow running time, runs in <code>O(n^2)</code></p>

<pre class="lang-python prettyprint-override"><code>lambda x:max(q for q in range(x+1)if&quot;666&quot;in`q`*all(q%t for t in range(2,q)))
</code></pre>
<p><a href="https://tio.run/##RYzLDsIgEEXX9ismTUxAWViMPJr0S9SkqEVJKC0tC/x6hG68s7mT3HPmb/hMjibd3ZJV4@OlILajisiDnhbwYBwsyr0HFI8NNrpmjNXG9b4/KGuR34dtF/47SjzGOD3VOqzQwTUDlDSnHJKr5ORMBWcXwriQghPJyt2rYilMEW1sW@3mxbiANCp/Vv4A" rel="nofollow noreferrer">Try it online!</a></p>
<h2>Another 76 bytes solution</h2>
<pre class="lang-python prettyprint-override"><code>lambda x:max(q*(&quot;666&quot;in`q`*all(q%t for t in range(2,q)))for q in range(x+1))
</code></pre>
<p><a href="https://tio.run/##RYzRDoIgGIWv8yn@ubWBcRG0QNx8EnOTSopNUZALe3qCbjrn5uzbzrd@wnuxLOr2Fic1358K9mZWO3IVKjnnpbGDGyo1TcgdA@jFQwBjwSv7GhEjDmOcofvD/UQxjg@1jRu00CUJJfScQtKUglxYLfiVcFHLWhDJc/siS/Ine37frmF9UxxWb2xAGmWWtF8" rel="nofollow noreferrer">Try it online!</a></p>
<h1>With <a href="http://www.sympy.org/en/index.html" rel="nofollow noreferrer">SymPy</a> 73 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda x:max(q for q in primerange(0,x+1)if&quot;666&quot;in`q`)
from sympy import*
</code></pre>
<p><a href="https://tio.run/##HY1NDsIgFITXcoqXrkBZtDU@2iY9iZoUtSiJ/JR2UU6P4MxmJpnJ5@P2cbZNarylrzSPl4R9MHKnCygXYAFtwQdt5iDte6Y1308N06pCxErbaZkYUcEZWKPxEbTxLmzH9JTrvMII1zxreVNn8Rx7wc9tJ/DCUXR9J3iPxXdSUOVTaP/vQA6ZajeqaOmMpR8" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu24" class="pu"><h1><a href="https://github.com/okx-code/Neim" rel="noreferrer">Neim</a>, 9 bytes</h1>

<pre><code>&gt;Õª:D+6Sùïö√∑
</code></pre>

<p>Explanation:</p>

<pre><code>&gt;         Increment input
 Õª        Start infinite loop
  :        Previous prime
   D       Duplicate
    +6     Push 666
      S    Swap
       ùïö   See if 666 is a substring of the top of the stack
        √∑  If true, break
</code></pre>

<p><a href="https://tio.run/##y0vNzP3/3@7sbisXbbPgD3Onzjq8/f9/MzMzS3MA" rel="noreferrer" title="Neim ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>85 83</s> 80 bytes</h1>

<p><a href="https://codegolf.stackexchange.com/a/140505/59487">Halvard's</a> is 4 bytes shorter because it's done in Python 2.</p>



<pre class="lang-python prettyprint-override"><code>lambda k:max(x for x in range(k+1)if"666"in str(x)*all(x%i for i in range(2,x)))
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/6fZhvzPycxNyklUSHbKjexQqNCIS2/SKFCITNPoSgxLz1VI1vbUDMzTcnMzEwJKFZcUqRRoamVmJOjUaGaCVabiVBrpFOhqan5v6AoM69EI03D0AAIgHwA" rel="nofollow noreferrer" title="Python 3 ‚Äì Try It Online">Try it online!</a></p>

<p>Give it some time, it's extremely slow because of its <code>O(n^2)</code> complexity.</p>
</div>
<div id="pu26" class="pu"><h1>Mathematica, 82 bytes</h1>
<pre><code>Last@Select[Prime@Range@PrimePi@#,!FreeQ[Subsequences[IntegerDigits@#],{6,6,6}]&amp;]&amp;
</code></pre>
</div>
<div id="pu27" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, 128 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>param($n)function f($a){for($i=2;$a-gt1){if(!($a%$i)){$i;$a/=$i}else{$i++}}}for(){if($n-match666-and($n-eq(f $n))){$n;exit}$n--}
</code></pre>

<p><a href="https://tio.run/##HY1RCsIwEESvUmGFhBJEPyJSepilJnYhTWqbohD27HHj55uZx6zp47Z9diHUuuKGi4Ko/RGnTCl2XgHq4tOmgMbbAGhe@aoLeXWS5gykdQGS/DICsQu7E@x7Zm7OfwjRLJin2VprMD4bu7fyndw0OQ7uS5klNVxrldXj/gM" rel="nofollow noreferrer" title="PowerShell ‚Äì Try It Online">Try it online!</a></p>

<p>PowerShell doesn't have any prime factorization built-ins, so this borrows code from my answer on <a href="https://codegolf.stackexchange.com/a/94323/42963">Prime Factors Buddies</a>.</p>

<p>We take input <code>$n</code>, then declare a new <code>function f</code> that calculates out the factors of input <code>$a</code>. If the input <code>$a</code> is prime, then this will return just <code>$a</code>.</p>

<p>The main part of the program is the infinite <code>for()</code> loop. Inside the loop, we check if <code>$n</code> <code>-match</code>es against <code>666</code> and whether <code>$n</code> is prime (i.e., <code>$n</code> matches all of the factors of <code>$n</code>). If it is, we place <code>$n</code> on the pipeline and <code>exit</code>, with implicit output. Otherwise, we decrement <code>$n--</code> and continue the loop.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/140498/">140498</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




