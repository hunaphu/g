<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::404</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>255</td><td>Nim</td><td>250312T061812Z</td><td><a href="https://codegolf.stackexchange.com/questions/404/forecast-the-weather/278612#278612">Archar G</a></td></tr>
<tr d-ix="1"><td>220</td><td>Python 2</td><td>150130T095938Z</td><td><a href="https://codegolf.stackexchange.com/questions/404/forecast-the-weather/45175#45175">Logic Kn</a></td></tr>
<tr d-ix="2"><td>150</td><td>PHP  150 Characters</td><td>141006T043606Z</td><td><a href="https://codegolf.stackexchange.com/questions/404/forecast-the-weather/38574#38574">Tyzoid</a></td></tr>
<tr d-ix="3"><td>218</td><td>Mathematica</td><td>121002T235320Z</td><td><a href="https://codegolf.stackexchange.com/questions/404/forecast-the-weather/8570#8570">DavidC</a></td></tr>
<tr d-ix="4"><td>251</td><td>Javascript</td><td>121002T160555Z</td><td><a href="https://codegolf.stackexchange.com/questions/404/forecast-the-weather/8566#8566">codeporn</a></td></tr>
<tr d-ix="5"><td>095</td><td>Ruby 1.8</td><td>110210T215217Z</td><td><a href="https://codegolf.stackexchange.com/questions/404/forecast-the-weather/833#833">Ventero</a></td></tr>
<tr d-ix="6"><td>104</td><td>Windows PowerShell</td><td>110203T231602Z</td><td><a href="https://codegolf.stackexchange.com/questions/404/forecast-the-weather/443#443">Joey</a></td></tr>
<tr d-ix="7"><td>110</td><td>Golfscript</td><td>110211T205006Z</td><td><a href="https://codegolf.stackexchange.com/questions/404/forecast-the-weather/864#864">YOU</a></td></tr>
<tr d-ix="8"><td>288</td><td>PHP</td><td>110205T215204Z</td><td><a href="https://codegolf.stackexchange.com/questions/404/forecast-the-weather/572#572">Kevin Br</a></td></tr>
<tr d-ix="9"><td>350</td><td>C# 350 Characters</td><td>110203T160357Z</td><td><a href="https://codegolf.stackexchange.com/questions/404/forecast-the-weather/411#411">Nellius</a></td></tr>
<tr d-ix="10"><td>436</td><td>D 436 Characters</td><td>110203T121557Z</td><td><a href="https://codegolf.stackexchange.com/questions/404/forecast-the-weather/405#405">Jonathan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nim-lang.org" rel="nofollow noreferrer">Nim</a>, <s>261</s> 255 bytes</h1>
<pre class="lang-none prettyprint-override"><code>include prelude,random;randomize()
var
 d=&quot;Mon Tues Wednes Thurs Fri Satur Sun&quot;.split
 p=stdin.readline.split.mapit it[0..1]
for w in 0..6:echo d[(w+mapIt(d,it[0..1]==p[0]).find on)%%7],&quot;day &quot;,20.rand+{&quot;Sp&quot;:10,&quot;Su&quot;:20,&quot;Au&quot;:5,&quot;Fa&quot;:5,&quot;Wi&quot;: -5}.toTable[p[1]]
</code></pre>
<p><a href="https://glot.io/snippets/h5ehx4i754" rel="nofollow noreferrer">Try it online on glot.io</a></p>
<p>Ungolfed:</p>
<pre class="lang-none prettyprint-override"><code>include prelude, random
randomize()
var
  days = &quot;Mon Tues Wednes Thurs Fri Satur Sun&quot;.split
  input = stdin.readline.split.mapit it[0..1]
for weekday in 0..6:
  let dayOffset = mapIt(days, it[0..1] == input[0]).find on # `on` is alias for `true`
  let tempOffset = {&quot;Sp&quot;:10,&quot;Su&quot;:20,&quot;Au&quot;:5,&quot;Fa&quot;:5,&quot;Wi&quot;: -5}.toTable[input[1]]
  echo days[(weekday + dayOffset) %% 7], &quot;day &quot;, 20.rand + tempOffset
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Python 2, 220 characters</h1>

<p>A little large but (almost) readable.</p>

<pre><code>import random
c,e=raw_input().split()
a=[d+'day'for d in'Mon Tues Wednes Thurs Fri Satur Sun'.split()]*2
x='rmtn'.index(e[2])*2
g=(10,30,20,40,5,25,-5,15)[x:x+2]
f=a.index(c)
for b in a[f:f+7]:
 print b,random.randint(*g)
</code></pre>

<p>Output</p>

<pre><code># echo "Monday Summer" | python forecast.py 
Monday 33
Tuesday 29
Wednesday 33
Thursday 28
Friday 25
Saturday 21
Sunday 30
</code></pre>
</div>
<div id="pu2" class="pu"><h1>PHP - 150 Characters</h1>
<pre><code>&lt;?$t=array(&quot;m&quot;=&gt;15,&quot;r&quot;=&gt;5,&quot;n&quot;=&gt;-10);for($a=split(&quot; &quot;,fgets(STDIN));$i&lt;7;$i++)echo date(&quot;l &quot;,strtotime($a[0].&quot;+$i day&quot;)),rand(5,25)+$t[$a[1][2]],&quot;\n&quot;;
</code></pre>
<p>I figured I'd write my own PHP solution after the current one doesn't even fully satisfy the challenge conditions.</p>
<p>It relies on strtotime to parse the day, and date to echo it back. To determine the season, it follows the third letter of the season name, which is unique (as given).</p>
<p>To run properly, it requires notices to be disabled and short tags to be enabled.</p>
</div>
<div id="pu3" class="pu"><h1>Mathematica 218</h1>
<pre><code>s_~g~d_ := 
Grid@RotateLeft[r = Thread@{DateString[{2012, 1, #}, {&quot;DayName&quot;}] &amp; /@ Range@7, 
  RandomInteger[Cases[{{&quot;Spring&quot;, {10, 30}}, {&quot;Summer&quot;, {20, 40}}, {&quot;Autumn&quot;, {5, 25}}, 
  {&quot;Winter&quot;, {-5, 15}}}, {s, _}][[1, 2]], 7]}, Position[r, d][[1, 1]] - 1]
</code></pre>
<p><strong>Usage</strong></p>
<pre><code>g[&quot;Winter&quot;, &quot;Sunday&quot;]
</code></pre>
<p><img src="https://i.sstatic.net/ihRT3.png" alt="enter image description here" /></p>
</div>
<div id="pu4" class="pu"><p><strong>Javascript - 251 chars</strong></p>

<pre><code>d=['Mon','Tues','Wednes','Thurs','Fri','Satur','Sun'],g=function(c){return Math.random()*21+c|0},p=prompt();for(i=0,j=7,t=true;i&lt;j;i++){t=t&amp;&amp;p.indexOf(d[i])!=0;t?j++:console.log(d[i&gt;6?i-7:i]+'day '+g(/mm/.test(p)?20:/g/.test(p)?10:/te/.test(p)?-5:5))}
</code></pre>

<p>Unfortunately the script does not meet the stdin/stdout requirement but it accepts Fall as a synonym for Autumn.</p>

<p>Whitespaced:</p>

<pre><code>  d = [
    'Mon'
  , 'Tues'
  , 'Wednes'
  , 'Thurs'
  , 'Fri'
  , 'Satur'
  , 'Sun'
  ]
, g = function(c) {
    return Math.random()*21+c|0
  }
, p = prompt()

  ;

  for(i = 0, j = 7, t = true; i &lt; j; i++) {
    t = t &amp;&amp; p.indexOf(d[i]) != 0; 
    t ? 
      j++ : 
      console.log(d[i &gt; 6 ? i - 7 : i] + 'day ' + g(/mm/.test(p) ? 
                                                      20 : 
                                                    /g/.test(p) ? 
                                                      10 : 
                                                    /te/.test(p) ? 
                                                      -5 : 
                                                      5
                                                    )
                  )
  }
</code></pre>
</div>
<div id="pu5" class="pu"><h2>Ruby 1.8, 95 characters</h2>

<pre><code>#!ruby -nrdate
7.times{|i|puts (Date.parse($_)+i).strftime"%A #{"\023\004\016\016\035"[$_[-3]%5]-9+rand(21)}"}
</code></pre>

<p>The character escapes inside the string should be replaced by the character literals they represent.</p>

<ul>
<li>Found a shorter way to pack the data, Ruby 1.9 would be 4 characters longer now (add <code>.ord</code> after <code>$_[-3]</code>).</li>
<li>112 -> 105 by stealing Joey's idea of not splitting the input.</li>
<li>105 -> 101. Note that the first line is actually parsed by the Ruby interpreter itself, so it even works when running the solution like <code>echo "Thursday Winter" | ruby1.8 forecast.rb</code></li>
<li>101 -> 96. Stole Joey's idea again to just embed the temperatures into a string instead of an array.</li>
<li>Whoops, just noticed it should be rand(21), not rand(20).</li>
<li>96 -> 95. Removed unnecessary whitespace.</li>
</ul>
</div>
<div id="pu6" class="pu"><h3>Windows PowerShell, 104</h3>
<pre><code>[dayofweek]$d,$s=-split$input
(0..6*2)[+$d..(6+$d)]|%{''+[dayofweek]$_,((random 20)-5+'☼

↓'[$s[3]%5])}
</code></pre>
<p>The strings in there are a bit icky, so a hex view for your convenience:</p>
<pre><code>000: 5B 64 61 79 6F 66 77 65 │ 65 6B 5D 24 64 2C 24 73  [dayofweek]$d,$s
010: 3D 2D 73 70 6C 69 74 24 │ 69 6E 70 75 74 0A 28 30  =-split$input◙(0
020: 2E 2E 36 2A 32 29 5B 2B │ 24 64 2E 2E 28 36 2B 24  ..6*2)[+$d..(6+$
030: 64 29 5D 7C 25 7B 27 27 │ 2B 5B 64 61 79 6F 66 77  d)]|%{''+[dayofw
040: 65 65 6B 5D 24 5F 2C 28 │ 28 72 61 6E 64 6F 6D 20  eek]$_,((random
050: 32 30 29 2D 35 2B 27 0F │ 00 0A 0A 19 27 5B 24 73  20)-5+'☼ ◙◙↓'[$s
060: 5B 33 5D 25 35 5D 29 7D │                          [3]%5])}
</code></pre>
<p>History:</p>
<ul>
<li>2011-02-04 00:16 <strong>(179)</strong> – First, straightforward attempt.</li>
<li>2011-02-04 00:20 <strong>(155)</strong> – Why match whole season names when you can get away with individual characters and a regex match? Won't deal nicely with invalid input but that's always to be expected in Golfing.</li>
<li>2011-02-06 13:12 <strong>(149)</strong> – Got rid of <code>$t</code> which only lengthened things.</li>
<li>2011-02-10 22:50 <strong>(142)</strong> – Day name generation made simpler. I just generate a week twice, index in the correct position and pull out seven items.</li>
<li>2011-02-10 22:52 <strong>(138)</strong> – Moving the initial cast to the declaration of <code>$d</code> saves a few bytes as well – and gets rid of <code>$x</code>.</li>
<li>2011-02-10 23:03 <strong>(135)</strong> – Moving the cast further down the pipeline to avoid an array cast (which needs additional <code>[]</code>). Also changed output to casting a list of objects to string which implicitly inserts a space (<code>$OFS</code> default).</li>
<li>2011-02-11 20:54 <strong>(132)</strong> – Replaced the regex match by a list of character codes and indexing into a hashmap with the third character from the season.</li>
<li>2011-02-11 21:00 <strong>(122)</strong> – Replaced the hash map by an array.</li>
<li>2011-02-11 21:12 <strong>(117)</strong> – More array-y goodness. And shorter to boot. Modulo 8 packs the array a bit shorter.</li>
<li>2011-02-11 21:16 <strong>(116)</strong> – Extracted a factor of five to replace <code>0,0,2</code> by <code>0..2</code> which is shorter.</li>
<li>2011-02-11 21:22 <strong>(114)</strong> – Used a slightly different calculation. It still maps autumn and fall to the same index and has the advantage of only requiring five values. Very nice. The negative index into the string also plays very well with »Fall« being shorter than the rest.</li>
<li>2011-02-11 21:45 <strong>(112)</strong> – Stolen Ventero's way of determining the season's temperature range which is two bytes shorter.</li>
<li>2011-02-12 03:16 <strong>(105)</strong> – Back to 105 after a different attempt just printed a single line.</li>
<li>2011-02-12 13:23 <strong>(104)</strong> – Back to 104 again, using a positive index into the season since I split again.</li>
</ul>
<p>Test script (as long as it outputs nothing the result is ok):</p>
<pre><code>foreach ($d in 'Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday') {
    foreach ($s in 'Winter','Summer','Spring','Autumn','Fall') {
        $o=-split(&quot;$d $s&quot;|./weather_foo.ps1)
        if ($o.Count -ne 14) { &quot;Wrong output length&quot; }
        $days = $o -notmatch '\d'
        $temps = $o -match '\d'
        if ($days[0]-ne$d) { &quot;Found &quot;+ $days[0] + &quot; instead of $d&quot; }
        $m = $temps | measure -min -max
        switch ($s) {
            'Summer'{ $min = 20 }
            'Spring'{ $min = 10 }
            'Fall'  { $min = 5  }
            'Autumn'{ $min = 5  }
            'Winter'{ $min = -5 }
        }

        if ($m.Minimum -lt $min) { &quot;Minimum temperature $($m.Minimum) didn't match for $s&quot; }
        if ($m.Maximum -gt $min + 20) { &quot;Maximum temperature $($m.Maximum) didn't match for $s&quot; }
    }
}
</code></pre>
</div>
<div id="pu7" class="pu"><h2>Golfscript - 110 chars</h2>

<pre><code>' ':^/){*}*43845%7&amp;5*:|;){*}*333121%7&amp;:$;7,{($+'Sun Mon Tues Wednes Thurs Fri Satur'^/.+='day '+20rand|+5-+n}/
</code></pre>

<ul>
<li>Fully support all the temperature ranges, seasons and also support "Fall" as synonym for "Autumn" too.</li>
<li>I think there is some rooms for improvement, but my current golfscript knowledge is limited so far.</li>
</ul>

<h3>Here is the tests, 2 passes each to confirm randomness</h3>

<pre><code>$ echo -n Thursday Spring | gs codegolf-404.gs
Thursday 23
Friday 28
Saturday 25
Sunday 22
Monday 19
Tuesday 14
Wednesday 25

$ echo -n Thursday Spring | gs codegolf-404.gs
Thursday 27
Friday 12
Saturday 26
Sunday 12
Monday 27
Tuesday 17
Wednesday 21


$ echo -n Friday Autumn | gs codegolf-404.gs
Friday 10
Saturday 5
Sunday 17
Monday 24
Tuesday 24
Wednesday 12
Thursday 18

$ echo -n Friday Autumn | gs codegolf-404.gs
Friday 13
Saturday 7
Sunday 14
Monday 6
Tuesday 14
Wednesday 21
Thursday 5


$ echo -n Sunday Summer | gs codegolf-404.gs
Sunday 39
Monday 31
Tuesday 35
Wednesday 34
Thursday 21
Friday 36
Saturday 28

$ echo -n Sunday Summer | gs codegolf-404.gs
Sunday 34
Monday 20
Tuesday 30
Wednesday 39
Thursday 30
Friday 31
Saturday 37


$ echo -n Monday Fall | gs codegolf-404.gs
Monday 6
Tuesday 7
Wednesday 18
Thursday 13
Friday 7
Saturday 5
Sunday 14

$ echo -n Monday Fall | gs codegolf-404.gs
Monday 16
Tuesday 22
Wednesday 19
Thursday 23
Friday 21
Saturday 9
Sunday 17


$ echo -n Saturday Winter | gs codegolf-404.gs
Saturday 0
Sunday -5
Monday 10
Tuesday -3
Wednesday -5
Thursday 13
Friday -1

$ echo -n Saturday Winter | gs codegolf-404.gs
Saturday -4
Sunday 13
Monday 11
Tuesday 0
Wednesday 0
Thursday -5
Friday 9


$ echo -n Tuesday Summer | gs codegolf-404.gs
Tuesday 38
Wednesday 29
Thursday 25
Friday 29
Saturday 34
Sunday 20
Monday 39

$ echo -n Tuesday Summer | gs codegolf-404.gs
Tuesday 33
Wednesday 26
Thursday 31
Friday 37
Saturday 39
Sunday 24
Monday 28


$ echo -n Wednesday Winter | gs codegolf-404.gs
W    ednesday 7
Thursday 12
Friday 0
Saturday -3
Sunday 11
Monday 14
Tuesday 8

$ echo -n Wednesday Winter | gs codegolf-404.gs
Wednesday 0
Thursday -1
Friday 7
Saturday 12
Sunday -5
Monday -3
Tuesday 2
</code></pre>
</div>
<div id="pu8" class="pu"><h2>PHP, <s>353</s> <s>319</s> <s>305</s> <s>304</s> 288 characters</h2>

<pre><code>&lt;?$i=split(" ",fgets(STDIN));$d=$i[0][0].$i[0][1];$s=$i[1][2];$r=json_decode('{"i":[10,30],"m":[20,40],"t":[5,25],"n":[-5,15]}',true);$n=array(Sun,Mon,Tues,Wednes,Thurs,Fri,Satur);$z=$x=0;while($z&lt;7)if($n[++$x][0].$n[$x][1]==$d||$z){$z++;echo$n[$x%7]."day ".rand($r[$s][0],$r[$s][1])."
";}
</code></pre>

<p><strong>Ungolfed</strong></p>

<pre><code>&lt;?php
    $input = fgets(STDIN);
    $info = split(" ", $input);
    $day = substr($info[0], 0, 2);
    $season = $info[1][2];
    $range[i][] = 10;
    $range[i][] = 30;
    $range[m][] = 20;
    $range[m][] = 40;
    $range[t][] = 5;
    $range[t][] = 25;
    $range[n][] = -5;
    $range[n][] = 15;
    $days[0] = "Sun";
    $days[1] = "Mon";
    $days[2] = "Tues";
    $days[3] = "Wednes";
    $days[4] = "Thurs";
    $days[5] = "Fri";
    $days[6] = "Satur";

    $i = $d = 0;

    while($i&lt;7)
        if(substr($days[++$d], 0, 2)==$day||$i){
            $i++;
            echo $days[$d%7]."day ".rand($range[$season][0], $range[$season][1])."\n";
        }
?&gt;
</code></pre>

<p>305 -> 304: Switched the newline<br>
304 -> 288: Uses JSON arrays instead of PHP arrays</p>
</div>
<div id="pu9" class="pu"><p><strong>C# 350 Characters</strong></p>

<p>There must be a more efficient way than this. But here's what I've got so far:</p>

<pre><code>using System;class P{static void Main(string[]x){var r=new Random();var s=x[1][2];int l=s=='r'?10:s=='m'?20:s=='n'?-5:5,u=s=='r'?31:s=='m'?41:s=='n'?16:26,i=0,z=(int)Enum.Parse(typeof(DayOfWeek),x[0]);for(;i&lt;7;i++){var d=z&lt;1?"Sun":z&lt;2?"Mon":z&lt;3?"Tues":z&lt;4?"Wednes":z&lt;5?"Thurs":z&lt;6?"Fri":"Satur";Console.WriteLine(d+"day "+r.Next(l,u));z=z&gt;5?0:z+1;}}}
</code></pre>

<p>Or in a more readable format, with a couple of comments:</p>

<pre><code>using System;
class P 
{
    static void Main(string[] x) 
    {
        var r = new Random();
        var s = x[1][2]; //3rd char of season, first where all have unique letter

   // lower &amp; upper limits for random, based on season
        int l = s == 'r' ? 10 : s == 'm' ? 20 : s == 'n' ? -5 : 5, 
            u = s == 'r' ? 31 : s == 'm' ? 41 : s == 'n' ? 16 : 26, 
            i = 0,
   // this line makes me cringe, but converting to an int and back seems
   // the easiest way to loop through days
            z = (int)Enum.Parse(typeof(DayOfWeek), x[0]); 

        for (; i &lt; 7; i++) 
        { 
            var d = z &lt; 1 ? "Sun" : z &lt; 2 ? "Mon" : z &lt; 3 ? "Tues" : z &lt; 4 ? "Wednes" : z &lt; 5 ? "Thurs" : z &lt; 6 ? "Fri" : "Satur";
            Console.WriteLine(d + "day " + r.Next(l, u)); 
            z = z &gt; 5 ? 0 : z + 1; // increments day, resets to 0 after saturday
        }
    }
}
</code></pre>
</div>
<div id="pu10" class="pu"><h1>D: 436 Characters</h1>

<pre><code>import std.algorithm, std.random, std.range, std.stdio, std.typecons;

void main(string[] g)
{
    alias canFind w;
    alias tuple t;

    auto s = g[2];
    auto e = w(s, "g") ? t(10, 30) : w(s, "Su") ? t(20, 40) : w(s, "W") ? t(-5, 15) : t(5, 25) ;
    auto r = rndGen();

    int v()
    {
        r.popFront();
        return e[0] + cast(int)(r.front % (e[1] - e[0]));
    }

    auto x = findSplitBefore(["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], [g[1]]);

    foreach(q; chain(x[1], x[0]))
        writefln("%s %s", q, v());
}
</code></pre>

<p>Version with extraneous whitespace removed (which is how it comes to 436 characters):</p>

<pre><code>import std.algorithm,std.random,std.range,std.stdio,std.typecons;void main(string[] g){alias canFind w;alias tuple t;auto s=g[2];auto e=w(s,"g")?t(10,30):w(s,"Su")?t(20,40):w(s,"W")?t(-5,15):t(5,25);auto r=rndGen();int v(){r.popFront();return e[0]+cast(int)(r.front%(e[1]-e[0]));}auto x=findSplitBefore(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],[g[1]]);foreach(q;chain(x[1],x[0]))writefln("%s %s",q,v());}
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/404/">404</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




