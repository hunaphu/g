<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::260931</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>047</td><td>JavaScript Node.js</td><td>240401T025559Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/272222#272222">l4m2</a></td></tr>
<tr d-ix="1"><td>013</td><td>Uiua SBCS</td><td>240331T181952Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/272217#272217">chunes</a></td></tr>
<tr d-ix="2"><td>006</td><td>Vyxal 3 á¹¡</td><td>240207T131922Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/269862#269862">pacman25</a></td></tr>
<tr d-ix="3"><td>029</td><td>Ruby</td><td>230618T043038Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/261980#261980">Jordan</a></td></tr>
<tr d-ix="4"><td>008</td><td>Japt</td><td>230515T143850Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260935#260935">Shaggy</a></td></tr>
<tr d-ix="5"><td>007</td><td>Jelly</td><td>230516T054124Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260964#260964">Unrelate</a></td></tr>
<tr d-ix="6"><td>088</td><td>SAS IML</td><td>230515T194432Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260947#260947">Bartosz </a></td></tr>
<tr d-ix="7"><td>045</td><td>Wolfram Language Mathematica</td><td>230516T001910Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260954#260954">erfink</a></td></tr>
<tr d-ix="8"><td>023</td><td>Retina</td><td>230516T211416Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/261012#261012">FryAmThe</a></td></tr>
<tr d-ix="9"><td>008</td><td>Jelly</td><td>230516T194020Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/261008#261008">Jonathan</a></td></tr>
<tr d-ix="10"><td>020</td><td>jq</td><td>230516T062813Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260965#260965">noname</a></td></tr>
<tr d-ix="11"><td>038</td><td>Python 3</td><td>230516T130014Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260991#260991">SuperSto</a></td></tr>
<tr d-ix="12"><td>048</td><td>Haskell</td><td>230515T165856Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260941#260941">Roman Cz</a></td></tr>
<tr d-ix="13"><td>034</td><td>R</td><td>230515T224447Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260949#260949">ovs</a></td></tr>
<tr d-ix="14"><td>018</td><td>APL Dyalog Unicode</td><td>230515T144047Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260936#260936">Ad&#225;</a></td></tr>
<tr d-ix="15"><td>098</td><td>Scala</td><td>230516T052559Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260963#260963">138 Aspe</a></td></tr>
<tr d-ix="16"><td>059</td><td>julia</td><td>230516T051537Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260962#260962">Damian P</a></td></tr>
<tr d-ix="17"><td>048</td><td>Python 2</td><td>230516T042356Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260961#260961">loopy wa</a></td></tr>
<tr d-ix="18"><td>775</td><td>Vyxal</td><td>230516T023819Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260958#260958">lyxal</a></td></tr>
<tr d-ix="19"><td>018</td><td>Charcoal</td><td>230515T234016Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260951#260951">Neil</a></td></tr>
<tr d-ix="20"><td>007</td><td>Pyth</td><td>230515T202440Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260948#260948">CursorCo</a></td></tr>
<tr d-ix="21"><td>2420</td><td>J</td><td>230515T171624Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260942#260942">Jonah</a></td></tr>
<tr d-ix="22"><td>052</td><td>R</td><td>230515T181002Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260945#260945">pajonk</a></td></tr>
<tr d-ix="23"><td>054</td><td>JavaScript ES6</td><td>230515T143253Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260934#260934">Arnauld</a></td></tr>
<tr d-ix="24"><td>081</td><td>Rust</td><td>230515T160924Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260939#260939">mousetai</a></td></tr>
<tr d-ix="25"><td>077</td><td>Excel</td><td>230515T154709Z</td><td><a href="https://codegolf.stackexchange.com/questions/260931/borders-of-a-rectangular-matrix/260938#260938">Jos Wool</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 47 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>m=&gt;m.slice(1,-1).map(x=&gt;x.splice(1,x.length-2))
</code></pre>
<p><a href="https://tio.run/##fZDBboMwDIbvfQqOIP1BOHYScqAvUnGoOso2taUaaOrbM1PSw7R2B4PjxP78/5/77/14@Pq4TuYyvHVz38znZnsux9PHocsJhoryvL/mt2Z7K8drqt7KU3fpp3dji2I@NlOzzft8KjAVm8NwGYdTV56GPj/mu02W7QgW3GJJBQ5@TQNqxHbTFn96du2zYvWsugzKIjIL45AlCNWaItNvtRb0Oguwqia90BZ9TxXiiw3WlV8A4zqk/vV7PugOU05mNVhDNJyGf6wW9FBrxApmCc1NSJfG60FfG@0y2m10iqHqH9LixKJdlKKQB@NuRlwEE4FssolBAlIfPCiAkhCKUIyaZS0sw8patg7Ww6qNNWwEpxWZwGoVgwXswAnJAVyDI3RzIUhCCkME4iAeEiAJKRGq0hGchWO4hHQOzsMFuBouwq/C5x8" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
<p>Modify the input</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a> <sup><a href="http://tinyurl.com/Uiua-SBCS-Feb-17" rel="nofollow noreferrer">SBCS</a></sup>, 13 bytes</h1>
<pre><code>âŠ¡âŠšâ†¥â‡Œâ‰¡â‡Œ.â‰¡âˆŠ0â‡¡â–³.
</code></pre>
<p><a href="https://uiua.org/pad?src=0_10_0__RiDihpAg4oqh4oqa4oal4oeM4omh4oeMLuKJoeKIijDih6HilrMuCgpGIFtbMSAyIDNdCiAgIFs0IDUgNl0KICAgWzcgOCA5XV0KCkYgW1tdXQoKRiBbWzBdXQoKRiBbWzkgMiDCrzUgM10KICAgWzE4IDMgOCAwXQogICBbMiA3IDIxIMKvM10KICAgWzkgwq81IDEwIDk5XV0KCkYgW1s5XQogICBbOF0KICAgWzhdCiAgIFs5XV0KCkYgW1sxMCAyMCAzMCA0MCA1MCA2MF0KICAgWzcwIDgwIDkwwq85MMKvODDCrzcwXQogICBbwq82MMKvNTDCrzQwwq8zMMKvMjDCrzEwXV0KCkYgW1sxIDIgMyA0IDUgNl0KICAgWzcgOCA5IDEwIDExIDEyXQogICBbMTMgMTQgMTUgMTYgMTcgMThdCiAgIFsxOSAyMCAyMSAyMiAyMyAyNF0KICAgWzI1IDI2IDI3IDI4IDI5IDMwXQogICBbMzEgMzIgMzMgMzQgMzUgMzZdCiAgIFszNyAzOCAzOSA0MCA0MSA0Ml0KICAgWzQzIDQ0IDQ1IDQ2IDQ3IDQ4XQogICBbNDkgNTAgNTEgNTIgNTMgNTRdCiAgIFs1NSA1NiA1NyA1OCA1OSA2MF1dCgpGIFtbwq8xMSAxOCAzIMKvNDAgMTIzXQogICBbMTggwq8zMyA5IDc2NSAxMDBdXQoKRiBbWzE0IDNdCiAgIFszIDE0XQogICBbMTQgM10KICAgWzMgMTRdCiAgIFsxNCAzXV0K" rel="nofollow noreferrer">Try it!</a></p>
<p>Port of AdÃ¡m's <a href="https://codegolf.stackexchange.com/a/260936/97916">APL answer</a>.</p>
<pre><code>âŠ¡âŠšâ†¥â‡Œâ‰¡â‡Œ.â‰¡âˆŠ0â‡¡â–³.Â­â¡â€‹â€â€âªâ¡âªâ âªâ¤â¡âªâ€â€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ£â£âªâ€â â€âªâ¡âªâ âªâ£â¤âªâ€â€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ¢â¤âªâ€â â€âªâ¡âªâ âªâ£â¡âªâ€â â€âªâ¡âªâ âªâ£â¢âªâ€â€â€‹â¡â â¡â€Œâ¤â€‹â€â€âªâ¡âªâ âªâ¤âªâ€â â€âªâ¡âªâ âªâ¢â¡âªâ€â â€âªâ¡âªâ âªâ¢â¢âªâ€â â€âªâ¡âªâ âªâ¢â£âªâ€â€â€‹â¡â â¡â€Œâ¢â¡â€‹â€â€âªâ¡âªâ âªâ£âªâ€â€â€‹â¡â â¡â€Œâ¢â¢â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â â€âªâ¡âªâ âªâ¢âªâ€â€â€‹â¡â â¡â€ŒÂ­
            .  # â€â¡duplicate
          â‡¡â–³   # â€â¢coordinate matrix
       â‰¡âˆŠ0     # â€â£mask of coordinates that contain zero
   â‡Œâ‰¡â‡Œ.        # â€â¤duplicate and reverse both axes
  â†¥            # â€â¢â¡max (logical or the masks together)
âŠ¡âŠš             # â€â¢â¢select values from input according to mask
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="nofollow noreferrer">Vyxal 3</a> <code>á¹¡</code>, 6 bytes</h1>
<pre><code>á¸£á¹«$áµ›Ãh
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#WyLhuaEiLCIiLCLhuKPhuask4bWbw55oIiwiIiwiW1sgMSwgMiwgMywgNCwgNSwgNl0sWyA3LCA4LCA5LDEwLDExLDEyXSxbMTMsMTQsMTUsMTYsMTcsMThdLFsxOSwyMCwyMSwyMiwyMywyNF0sWzI1LDI2LDI3LDI4LDI5LDMwXSxbMzEsMzIsMzMsMzQsMzUsMzZdLFszNywzOCwzOSw0MCw0MSw0Ml0sWzQzLDQ0LDQ1LDQ2LDQ3LDQ4XSxbNDksNTAsNTEsNTIsNTMsNTRdLFs1NSw1Niw1Nyw1OCw1OSw2MF1dIiwiMy40LjEiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Abuses formatting quite a bit but there isn't a way to get diagonals yet.</p>
<pre><code>á¸£á¹«$áµ›ÃhÂ­â¡â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â âªâªâ âªâªâ€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ¢âªâ€â â€âªâ¡âªâ âªâ£âªâ€â€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ¤âªâ€â â€âªâ¡âªâ âªâ¢â¡âªâ€â â€âªâ¡âªâ âªâ¢â¢âªâ€â€â€‹â¡â â¡â€ŒÂ­
á¸£       # â€â¡head extract
 á¹«$     # â€â¢tail extract and swap 
   áµ›Ãh  # â€â£vectorized edges
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>31</s> 29 bytes</h1>
<p>Very similar to <a href="https://codegolf.stackexchange.com/a/260991/11261">SuperStormerâ€™s Python 3 answer</a>. Outputs by modifying the given array.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a{a[r=1..-2].map{_1[r]=[]}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XY9NDoIwEIX3nGIO8EpoFSkxdcklJhNTE92ZGISFIZzEDTF6DPdewdtY6AbczN_73kzm_qzbw214VO7VNidl32rnO8-102mqjKRnf-n2mmtxLH0fme-nOV4bcjSyVLGXLXnqk-RCo8DMGgYrQUK8Ro7NVBWwKEVkhmXLlkqQgcpB0attqEAhZlMfRCpgNFTUAx9gnaH82xvPL0bl5LCzOHriP8MQ8w8" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>10</s> 8 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>I/O as a 2D array of integers, with output sorted anti-clockwise starting in the bottom right corner.</p>
<pre><code>4Ã†=z)oÃƒf
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=NMY9eilvw2Y&amp;input=W1sgMSwgMiwgMywgNCwgNSwgNl0sCiBbIDcsIDgsIDksMTAsMTEsMTJdLAogWzEzLDE0LDE1LDE2LDE3LDE4XSwKIFsxOSwyMCwyMSwyMiwyMywyNF0sCiBbMjUsMjYsMjcsMjgsMjksMzBdLAogWzMxLDMyLDMzLDM0LDM1LDM2XSwKIFszNywzOCwzOSw0MCw0MSw0Ml0sCiBbNDMsNDQsNDUsNDYsNDcsNDhdLAogWzQ5LDUwLDUxLDUyLDUzLDU0XSwKIFs1NSw1Niw1Nyw1OCw1OSw2MF1dCi1R" rel="nofollow noreferrer">Try it</a></p>
<pre><code>4Ã†=z)oÃƒf     :Implicit input of 2D array U
4Ã†           :Map the range [0,4)
  =          :  Reassign to U
   z         :   Rotate U 90Â° clockwise
    )        :  End reassignment
     o       :  Pop last sub-array, mutating the array
      Ãƒ      :End map
       f     :Filter, removing null elements
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>
<pre><code>Å’DÂµÅ¼á¹ªá¸¢)
</code></pre>
<p><a href="https://tio.run/##TU87TsQwFOz3FG5XGkt5PzvuuQSKtqRBewFOQL8VNSU9EkhUoD3IniRM7CBRvJdx3ryZeY8P5/PTul4vd9/v16/b59vt4/W4/jxfL7fPl@P9ui6HZREo7IRDWhyB0lHFjHYiXJbRp/FJDUmRA2lsyEyExD71N4epQgV5zMknWSa0XW2Yddg6Y/7Xd04iPynLWM4KVtkNKvHMahPyVsS5jlkuxORm7mTuZmpk@UsuW/ItrFOQertcD9@2iCIQHVcZxCEMXiAVMtJJAwV5myrUoN7/akALlEfP0AYbUUxgPNRgDgvYcLMKm2ENDOgCH25ucIcHvMArfLh5A08JQSjCEMMtAlEQFTEjGko/7vQL" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></p>
<p>No shot I could have thought of using diagonals if @Jonathan Allan hadn't first, so go upvote <a href="https://codegolf.stackexchange.com/a/261008/85334">his solution</a>! (Also, two bonus 8-byters: <code>Å’DÂµá¹™-á¸£2)</code>, <code>Å’DÂµá¸Šá¹–Å“^)</code>)</p>
<pre><code>Å’DÂµ   )    For each diagonal of the input:
    á¹ª      take and remove the last element,
   Å¼       zip with the remaining elements,
     á¸¢     and take the first of those pairs.
</code></pre>
<p>My original solutions, to laugh at:</p>
<h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 bytes</h1>
<pre><code>á¸Šá¹–$âºâ‚¬FÅ“^F
</code></pre>
<p><a href="https://tio.run/##TU8xTsQwEOzvFS5okMZS1rtrxx@4P6AodDToPkAJDRIlSIhH8ACOFt1D7j4SJnaQKHYzzs7OzN7fHQ4Py3L@ejkf368uj9@Xp8/96e12v/w8n17Px4/rm2WZdtMkSNAZuzAZHLmhghF1Jpym3of@CRUhITpC35CRCIF9aG8OQ0ESxD4nn2QZUDe1btZgbYzxX984gfyQWMoylrPyZlCIR1YdENcijqXPYiYmN3IncjdSI8pfclmTr2GNgtTb5Fr4ukYUgaR@lUIMwuAZUiA9nVRQkLelhKRI1v4mR8pIPHpEqtAeRQXKQxVqUId2Ny3QEVrBgCaw7mYKM5jDMqzAuptV8BQXeIIrvLu5wzO8wEd4RW7Hzb8" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></p>
<pre><code>á¸Šá¹–           Remove the first and last rows
  $âºâ‚¬        and columns.
     F       Flatten the result,
        F    flatten the input,
      Å“^     symmetric multiset difference.
</code></pre>
<p>Can't decide if this feels worse...:</p>
<h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 bytes</h1>
<pre><code>á¸ŠUZÆŠ3ÃÂ¡Zá¸¢
</code></pre>
<p><a href="https://tio.run/##TU87TkNBDOxzim2RZqXntb2fg1CQp5Q0KBfgBEipEBUtnCJpieAeOclj3u5DorDf7PN4Zvz0eDw@L8vtfLrf/5z0@vr1sb@dP5fry/fb7fJ@97As826eBQl6wC7MBkfuqKCiHQjnefRpfEJDSIiOMDakEiGwT/3NYShIgjjm5JMsE9qmNsw6bJ1R//WNE8gPiaUsYzkrbwaFuLLahLgWcSxjFjMxuZE7kbuRGlH@ksuafA1rFKTeJtfDtzWiCCSNqxRiEAbPkAIZ6aSBgrwtJSRFsv43OVJG4tEVqUFHFBUoD1WoQR063LRAK7SBAU1gw80UZjCHZViBDTdr4Cku8ARX@HBzh2d4gVd4Q@7HHX4B" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></p>
<pre><code>   ÆŠ3ÃÂ¡      Repeat [0, 1, 2, 3] times:
á¸Š            Remove the first row,
 U           reverse each row,
  Z          transpose.
       Z     Transpose the results
        á¸¢    and return the first row of that.
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://documentation.sas.com/doc/en/pgmsascdc/9.4_3.5/imlug/titlepage.htm" rel="nofollow noreferrer">SAS IML</a>, 88 <s>70</s></h1>
<p>Input is a rectangular matrix <code>M</code> e.g.,</p>
<pre><code>M1={
 1  2  3  4  5  6,
 7  8  9 10 11 12,
13 14 15 16 17 18,
19 20 21 22 23 24,
25 26 27 28 29 30,
31 32 33 34 35 36,
37 38 39 40 41 42,
43 44 45 46 47 48,
49 50 51 52 53 54,
55 56 57 58 59 60
};
</code></pre>
<p>[EDIT:]
According to comments below I updated the answer.</p>
<p>The code (an IML module):</p>
<pre><code>start d(M);if 2&lt;nrow(M)&gt;&lt;ncol(M) then M[2:nrow(M)-1,2:ncol(M)-1]=.;M=M[loc(M&gt;.)];finish;
</code></pre>
<p>Human readable:</p>
<pre><code>start d(M);
  if 2 &lt; nrow(M)&gt;&lt;ncol(M) then 
    M[ 2:nrow(M)-1, 2:ncol(M)-1 ] = .; 
  M = M[ loc(M &gt; .) ];
finish;
</code></pre>
<p>To execute the IML module <code>d</code> run the following:</p>
<pre><code>call d(M);
</code></pre>
<p>The process:</p>
<ol>
<li>For a Matrix M with at least 3 rows and columns (<code>2 &lt; nrow(M)&gt;&lt;ncol(M)</code>, where <code>nrow(M)</code> is number of rows, <code>ncol(M)</code> is number of columns, and <code>&gt;&lt;</code> is operator of minimum of two numbers) replace &quot;everytnig inside&quot; (<code>2:nrow(M)-1, 2:ncol(M)-1</code>) with missing data (<code>.</code>),</li>
<li>select those elements of <code>M</code> where value is not missing.</li>
</ol>
<p>To print out result, i.e. elements extracted from <code>M</code>, run the following line:</p>
<pre><code>if type(M)=&quot;U&quot; then print &quot;M is Empty&quot;;
else print M;
</code></pre>
<hr />
</div>
<div id="pu7" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>47</s> 45 bytes</h1>
<p>-2 bytes thanks to @alephalpha</p>
<p><a href="https://tio.run/##bZBNa8MwDIbv@RWGQOk6h9rOBwshpdfuVEZuRgNvdVcf4hRHN5P@9SzL2FZ3BV1e9DxCUqvwpFuF5l2Nb507aFePu6NsnOSvMWwE9bGUWHtOEz4A0CmJqkoERYCBxrAYUffISU32yqFB01n5ouyHliVQkkIVfU@VMwbr9d4Zi1H0FcVkeT8MASNCJp0ZdgOlIZRNUOOU7c9dr7fel5Q8zVXeeFno5fXf0kvOVj@LP1yeO2Mvy4QzRh7JdYeSIrwpD0cWdz5RMPinFb/a@Ak" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>If[Tr[1^#]&gt;2,{#[[t={1,-1}]],#[[2;;-2,t]]},#]&amp;
</code></pre>
<p><strong>Explanation</strong></p>
<p><code>Tr[1^#]</code> returns the length of the shortest dimension by computing the <code>Trace</code> of a matrix of 1's with the same dimensions as the input, i.e., <code>Min@Dimensions@#</code>. If we have an edge case with a dimension of 0, 1, or 2, we return the input in its original form.</p>
<p>If <code>Tr[1^#]&gt;2</code> is true, then we use Mathematica's <code>[[a;;b, c;;d]]</code> syntax to access different parts of the matrix: <code>#[[{1,-1}]]</code> returns the first and last rows, <code>#[[2;;-2,{1,-1}]]</code> returns the first and last columns while excluding the &quot;corners.&quot; We return a ragged array as the output: if the input is <code>m</code>x<code>n</code> with <code>m</code>,<code>n&gt;2</code>, the output will be of the format <code>{(2 x n array), ((m-2) x 2 array)}</code></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 23 bytes</h1>
<pre><code>(?&lt;=Â¶.+)\b\S+\b(?=.+Â¶)

</code></pre>
<p><a href="https://tio.run/##K0otycxLNPz/X8PexvbQNj1tzZikmGDtmCQNe1s97UPbNLn@/7dUMFLQNVUw5jK0UDBWsFAw4DJSMFcwMlTQNeayBMkYGihYWgIA" rel="nofollow noreferrer" title="Retina â€“ Try It Online">Try it online!</a></p>
<p>Expects a matrix as having columns separated by spaces and rows separated by newlines. Works by removing numbers that have a newline more than immediately before and after them. The boundaries are required to avoid deleting digits/signs elsewhere in the boundary numbers since there isn't a way to make lookahead/behind non-greedy/backtrack (at least in fewer than 4 bytes).</p>
<p>Seems shorter than <a href="https://tio.run/##K0otycxLNPz/3ychTk@7Rk9bpSYmWFvD3vbQNs0aDXsbEA0U@P/fUsFIQddUwZjL0ELBWMFCwYDLSMFcwchQQdeYyxIkY2igYGkJAA" rel="nofollow noreferrer">listing all boundary</a> numbers, for the same reason. I've found a <a href="https://tio.run/##K0otycxLNPz/3ychTk@7Rk9bpSamXPvQtpoY9@g4nVjt//8tdYx04k11jLkMLXSMdSx0DLiMdMx1jAx14o25LEEyhgY6lpYA" rel="nofollow noreferrer">slightly crazy</a> version that is a byte shorter, but is also far more abusive of the lax I/O.</p>
<pre><code>L`^.+|.+$|\w+Â¶|\G[^,]+
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 8 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<p><em>With the lax output requirements I was expecting to find terser in Jelly!</em></p>
<pre><code>Å’Dá»‹@á¸ŠÂ¡â‚¬.
</code></pre>
<p>A monadic Link that accepts the rectangular matrix and yields a list of lists of border values.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///oJJeHu7sdHu7oOrTwUdMavf@H249Oerhzxv//0dEKhgY6CkZAbAzEJkBsCsRmBrE6XArRCuZAtgUQWxro6IIwkK1rDpHTNQOygWp1gXp0gXp1gWboGoLkYgE" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##TU87TsQwEO33FC5okJ5RxjNjxwWIAolDRClpVnsBuoUGCbqtKKCgp16BkCiC9iDJRcIkzkpbPGccv3mf9d1mcz@Oh91N//Ny3X89dx/D4@fFeIu/p8Ou/349Ww/bt25/eeWG7fv5enj47fbdfhybVdMQXIDjFivXCJzCxXlOcDVcbu3SNOWsysflacXrcYuMxzO7mu@TXkIg@PJufCNThbyoEQK4jHlm1CfnwnHGd8HABjGoIS4GyebakCv4CTb7VN58tNm43na87XrT8HRMvpQ1xZOmbqk6RSQChdKKQQKy4BGUQCUdZZigdQsBgRFk/hsUISJY6Rohg0sUJrAVZbCAFVzcOIFrcIYFFIIUN2GIQBQSIQlS3CTDqihBA5ShxU0VGqEJWkMz4lyu/Qc" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">test-suite</a>.</p>
<h3>How?</h3>
<pre><code>Å’Dá»‹@á¸ŠÂ¡â‚¬. - Link: list of lists, M
Å’D       - all NW-SE diagonals of M
       . - set the right argument to 0.5
      â‚¬  - for each diagonal:
     Â¡   -   repeat...
    á¸Š    -   ...number of times: dequeue (i.e. once if diagonal length &gt; 1)
   @     -   ...action: with swapped arguments - f(0.5, diagonal)
  á»‹      -                index into*
             
             * fractional indices give the two neighbours in the 
               case of 0.5 that's 0 (the last) and 1 (the first)
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://stedolan.github.io/jq/" rel="nofollow noreferrer">jq</a>, <s>57</s> <s>46</s> 20 bytes</h1>
<pre><code>del(.[1:-1][][1:-1])
</code></pre>
<p><a href="https://jqplay.org/s/Y-niTUhPziP" rel="nofollow noreferrer">Online demo</a></p>
</div>
<div id="pu11" class="pu"><h1>Python 3, 38 bytes</h1>
<pre><code>def f(x):
 for c in x[1:-1]:c[1:-1]=[]
</code></pre>
<p><a href="https://codegolf.meta.stackexchange.com/a/4942/70761">Outputs by modifying arguments</a>. The code also works on Python 2.</p>
<p>Explanation: deletes the center part of each center row by modifying the original input.</p>
<p><a href="https://ato.pxeger.com/run?1=dVPLbttADDz05q_gKbCAWcDc9xrolwhC0aZ264sSKAqQfEsvuST_1H5NZ7VOgVYqDGrXJIfkDKUfb_fP8_e78eXl9XE-m_zz5uvpLOf9U3fcyfluklu5jPLU69HocLxt58d-aNm_Pnyp6fPpYd5fFgSPnUyn-XEa5bK7ny7jvF_Cfa-wcAN6j4DIMyGjDEPX_Z12AH9rtxJhaW4TUYOwG6jaE34J80SoFdAmWCWvPOtOiySfqiTT5_HbaR-74V9X6FYwKRALEyDkv5NeM28QPg_LfwYlwSpMizOfyXpA2dCnybhylwHS5z-PDaCwoFiao3laoMXrBIn3TCsHmGq8m9RiJvLOXEOMIdawhtGNFYlWmpWZZ3HWvpZemJbKRxVqmwQO6qFkGaEJmpu3gMUphOU2HaxfvDbARlgqlGELXBvLKRyVcHAeLsC1bi7BZbgCDusVvnXz3LmHD_ARPsG3br6AtIIiWASH0LqFgBAREkJGKIgbRA15SF0iuVZV1F73Rp_hREK2KdYNbr3I_v01kKpB4_1fH-HtU3v_QH8D" rel="nofollow noreferrer">Attempt This Online!</a> (additional test cases taken from <a href="https://codegolf.stackexchange.com/a/260961">loopy walt's answer</a>)</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 48 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>b=zipWith($)[head,map last,last,map head].repeat
</code></pre>
<p><a href="https://tio.run/##y0gszk7Nyfn/P8m2KrMgPLMkQ0NFMzojNTFFJzexQCEnsbhEB0yAeCDhWL2i1ILUxJL/uYmZebYFRZl5JSpJ0dGGOkY6xrE60SY6pjpmQNpcx0LHMjb2PwA" rel="nofollow noreferrer" title="Haskell â€“ Try It Online">Try it online!</a></p>
<h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 74 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>import Data.List;(o:t)#(r:s)=r++t#(reverse$transpose$s);_#_=[];b=(&quot;1234&quot;#)
</code></pre>
<p><a href="https://tio.run/##DcZLCsMgEADQq5SYhZKhkE9/EXdd9gYiwYBQSWJkZuj1rav3vp62sO@lxCOfyJe3Z3/9RGItz5mVkDiTMth1XBt@ASm0jD5RPutI6UUsxjq9Gtn0wzg1QpXDx2QyxsTtam0PA4wO7AQ3uFcf8ISXc@UP" rel="nofollow noreferrer" title="Haskell â€“ Try It Online">Try it online!</a></p>
<p>At each of the four or less iterations, <code>#</code> peels the top row <code>r</code> from the matrix, and rotates it i-wise by <code>transpose</code> sending corner 2 to 3 and <code>reverse</code> sending corner 2 from 3 to 1 before reiterating for one side <code>o</code> less than before.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, <s>44</s> 34 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(m)m[rev(d&lt;-row(m)&lt;2|col(m)&lt;2)|d]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZBLCsIwEIZx21MEVwnMQNJWbYquvYA7dSF9iGAVQn0svImbKngoPY1_LeiilfBlHv8_Gcj15qp7PnkcypyjZ38hC1XMXXaU6Zjd_oRy7F-S_faTqEu6bJyv3lQWk2JVus1ZmthSQDRTysvh837KZldm68xJ1ZZ0u5VIS8InHpAIyBMmqqPArVFBECPyDXGtCVvbjCZrFYWdu00ckOleEuFgrlvGo8IHAQjBAAzBCETAauIa5IweQ2N4GF7GDGOWjVZ_fsTE8GPFV2v-s6qa-AY" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Footer stolen from <a href="https://codegolf.stackexchange.com/a/260945/64121">pajonk's answer</a>, and -10 thanks to them!</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, <s>23</s> <s>22</s> 18 bytes</h1>
<p>Thanks to ovs for âˆ’4 bytes.</p>

<p>Anonymous prefix lambda.</p>
<pre class="lang-apl prettyprint-override"><code>{âµ[â¸âˆ¨âˆ˜âŒ½âˆ˜âŠ–â¨1âˆŠÂ¨â³â´âµ]}
</code></pre>
<p><a href="https://tio.run/##RU@9SgNBEO59iu2i8C3c7OzPbW2jFgrG7rgiILEJaCtiJYQQvKBFxEdIIVioYGOTR9kXOWc3JhYzOzs/38/oZqIvb0eT66u@v0vdV5O67zRbpdlrevzJef6SuhWl2Xy9St1H6j5lqb3vx2n6tJ@6RZo/pO5N2ut3TtPntFgOzw8lXxwdDw9yQyAWy5Ph2Wk/HjQNwYBbqMbCwecioEZs28FeHm/faluoCGWgHVS5oloKKMlV/spIBRiCLlNZlk2qEHeAG76/T8xL9S7tlpScKCPBElbCSfgNQ5CylogVdA6pdSgj7aWUTS0XWi61IGj6V05ZeVZrBVDwNnBFfMwiiUCmmGKQBYlyDwqgIo4iBE@sGQPDMDY3jYPxMGK5hongooMJLCYZbMEOXIg4gGtwhIizBFuILMNaWAfrYQNsIbIRYsIRnIFjuELkHJyHC3A1XITPrn4B" rel="nofollow noreferrer" title="APL (Dyalog Unicode) â€“ Try It Online">Try it online!</a></p>
<p><code>{</code>â€¦<code>}</code>â€ƒ&quot;dfn&quot;; argument is <code>âµ</code>:</p>
<p>â€ƒ<code>âµ[</code>â€¦<code>]</code>â€ƒselect from the argument:</p>
<p>â€ƒâ€ƒ<code>â¸</code>â€ƒwhere indicated by</p>
<p>â€ƒâ€ƒ<code>âˆ¨âˆ˜âŒ½âˆ˜âŠ–â¨</code>â€ƒthe following mask when ORed with its mirrored flipped versionâ€¦</p>
<p>â€ƒâ€ƒ<code>1âˆŠÂ¨</code>â€ƒtrue only where 1 is a member of</p>
<p>â€ƒâ€ƒ<code>â³</code>â€ƒthe indices for an array that has the shape</p>
<p>â€ƒâ€ƒ<code>â´âµ</code>â€ƒthe shape of the argument</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 98 bytes</h1>
<p>Golfed version. <a href="https://tio.run/##lU1NS8QwEL3vr5hjwk5K2@03rOBRUC8eZSmxplipSTcJi7Dub6/TaotHN/Am783Me@Ma2cvRvLyrxsOD7DSoT6/0q4PbYYDz5iR7aCv2pI7Pd9ofcCKLOPD9zcJhDyMzeKTW/H1I37ydG@kUsMeux5p/sRqJ/fEw/jOv0VaVo4HdbltmAi/J4AJvpXaDcSqw6qSsU/wybgAG22nfa9YyFoE3kPDAm/vOeYSpsrlEGOOO/3YSTDFbRI4Flpzef6NKhBhFirDmRQUJBKrh0ooRcowjFOtSOXmiEMurjpEBYsKOkBBSQrZeyUkVhDJEMYG4yNepyEiSQZBRUICgIBGF8/nL@A0" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>(o,q)=&gt;(o,q)match{case (Nil,_)|(_,Nil)=&gt;Seq[Int]()case (_,r::s)=&gt;r++f(o.tail,s.transpose.reverse)}
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##lU5dS8MwFH3frziPCbspbdeu7WCCj4L6B2SM2KWsMtuSBBF0v73elK3uUQPnknNzPuJqfdLj2L@@mdrjSbcdzKc33cHhfhjwtQAOpkEj@g0eW@dfHjq/I1h3ofNuJ28E2EL0QSXxrn19nHKAWjsD8dyeCHuJb4g9gZnE9u7XK@SNlgUWmw3cpLFYLsNXIq9Dhou81Z0bemciaz6MdSZ4zwseg207f@pEI0QC3yOTke9DB01NYhoJpbSSl01GOa2vpKCSKsnnr1EVISWVE@a8pGRC4BlfVymhoDQhNYuq4Eliqv5VxgakjBUjY@SM9dxSMCsZVUwqgO@qmF/VmikbFBsVBygOUkk81Z8X4/gD" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main extends App {
  def f(o: List[Int], rs: List[List[Int]]): List[Int] = (o, rs) match {
    case (Nil, _) | (_, Nil) =&gt; List[Int]()
    case (_, r :: s) =&gt; r ++ f(o.tail, s.transpose.reverse)
  }

  println(f((1 to 4).toList, List(List(1,2,3), List(4,5,6), List(7,8,9))))
  println(f((1 to 4).toList, List(List(9, 2,-5, 3), List(18, 3, 8, 0), List(2, 7,21,-3), List(9,-5,10,99))))
  println(f((1 to 4).toList, List(List(10, 20, 30, 40, 50, 60), List(70, 80, 90,-90,-80,-70), List(-60,-50,-40,-30,-20,-10))))
}

</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://julialang.org/" rel="nofollow noreferrer">julia</a>, 59 bytes</h1>
<p>Expects a <code>Matrix{Any}</code> and returns a <code>Vector{Any}</code> of the border entries.</p>
<p>Each call of this function pops the top row of the matrix, rotates the resulting matrix to the right and recurses. Terminates after 4 iterations or when the resulting matrix is empty.</p>
<pre><code>f(M,c=4)=length(M)c&gt;0 ? [M[1,:];f(M[end:-1:2,:]',c-1)] : []
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZZFLasMwEIbptqf4d5HAgpHfD5LuuqpPILwwjh27GDe4MhTanqSbbHKo9jQdxxSKDSMx-vXPfHp8XZ-nvisvl-tkGxV_Z43InWrvy31fDyfbilxWB8IDTG60kxbzvqmHY6p06vJ651RKywIpTLG0-Ll7aoTRcOFl8BEgzBAhRlJIfBxwHrvB9sM99ynt2L29P_YvpQ39TzENx7pxQBxyZW2r0oqNahKGqGDm6BgeMyhjJYKroVhM5k1NSDbo5Xhr9UYxSYb4Fly1KSO4BI_gEwJCyLyIEDOCoObBqYpYVSEn7FBsVOxXXKY0rYlj_dqW51roNORrC81TKOXuv2t51L__-QU" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 48 bytes</h1>
<pre><code>f=lambda a:a[:1]+a[1:][-1:]+map(f,a[1:-(a&gt;[f])])
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728oLIkIz_PaMGCpaUlaboWNw3SbHMSc5NSEhUSrRKjrQxjtROjDa1io3WBhHZuYoFGmg5IQFcj0S46LVYzVhOq72BBUWZeiUaaRnS0oY6RjnGsTrSJjqmOGZA217HQsYyN1dTkQqgx0AFCNDFDoFojIDbGVAuS0TFCVw-yR8cELAekdUxBenUgtqKqROUic0y1os20osEugXgEFhAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes a LOL and returns a ragged LOL. Output for non degenerate inputs is [top row,bottom row,[1st,last]of 2nd row,[1st,last]of 3rd row,...</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 62 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v1</a></sup>, 7.75 bytes</h1>
<pre><code>4(âˆ©á¸£á¹˜)_W'
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=1#WyI9IiwiIiwiNCjiiKnhuKPhuZgpX1cnIiwiIiwiW1s5XSwgWzhdLCBbOF0sIFs5XV0iXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Port of pyth messed up by the fact that <code>á¸£</code> and <code>á¹«</code> return <code>0</code> on an empty list instead of erroring (which has its use, but is annoying here)</p>
<h2>Explained</h2>
<pre><code>4(âˆ©á¸£á¹˜)_W'
4(   )    # 4 times
  âˆ©       #   transpose top of stack
   á¸£      #   separate the head from the rest
    á¹˜     #   and reverse
      _W  # pop the remaining list and wrap the stack in a list
        ' # remove 0s and empty lists
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 18 bytes</h1>
<pre><code>ï¼©Î£ï¼¥Î¸Î¦Î¹Â¬âˆ§ï¹ªÎºâŠ–ï¼¬Î¸ï¹ªÎ¼âŠ–ï¼¬Î¹
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bY7BCoJAEIbvPcXgaYQR1IiUTpF0ygg6Lnsw3VLS3dS1l-nioahX8m1aUDo1h-Hn_7_5mccnzZMmVUnZ969On51g0IemkBo3Savx2FUYJzesCbZFqUWDBcFeaVzLDGOVdaXCK0Ek0kZUQmqR4U7Ii86xtm2bYEKqv0hh_2b1bE9pO33wZpZzLy0-RIwxCAl8chYEc04zAOYFRhKY7Y6GiWFJvkfORJgTw3suhSHnfOz8Ag" rel="nofollow noreferrer">Attempt This Online!</a> Link is to verbose version of code. Explanation: Uses a filter to keep elements in the first or last row or column i.e. those that are not both in an interior row and in an interior column.</p>
<pre><code>   Î¸                Input array
  ï¼¥                 Map over rows
     Î¹              Current row
    Î¦               Filtered where
         Îº          Current row
        ï¹ª           Modulo
            Î¸       Input array
           ï¼¬        Length
          âŠ–         Decremented
       âˆ§            Logical And
              Î¼     Current column
             ï¹ª      Modulo
                 Î¹  Current row
                ï¼¬   Length
               âŠ–    Decremented
      Â¬             Logical Not
 Î£                  Flatten
ï¼©                   Cast to string
                    Implicitly print
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 7 bytes</h1>
<pre><code>V4.)=_C
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/P8xET9M23vn//@hoQx0jHeNYnWgTHVMdMyBtrmOhYxkbCwA" rel="nofollow noreferrer" title="Pyth â€“ Try It Online">Try it online!</a></p>
<p>Prints each side as lists separated by newlines. Goes clockwise starting with the left side.</p>
<h3>Explanation</h3>
<pre><code>V4.)=_CQ    # implicitly add Q
            # implicitly assign Q = eval(input())
V4          # loop 4 times
    =  Q    #   assign Q to
      CQ    #   Q transposed
     _      #   and reversed
  .)        #   pop the last element of Q and print it
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <sup>24</sup> 20 bytes</h1>
<pre><code>#~&amp;,_&gt;_(&lt;,~&lt;&lt;0 _1)}]
</code></pre>
<p><a href="https://tio.run/##y/qvpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/levUdOLt4jVsdOpsbAwU4g01a2P/a3KlJmfkK6QpZOqZKJiCOerqMDEdPUt0EStDBSMFY0x1ChZAaPkfAA" rel="nofollow noreferrer" title="J â€“ Try It Online">Try it online!</a></p>
<ul>
<li><code>_(&lt;,~&lt;&lt;0 _1)}]</code> Convert all interior points to infinity, by specifying &quot;not first and last (0 and -1)&quot; elements of first axis, and &quot;not first and last&quot; elements of second axis.</li>
<li><code>_&gt;</code> Where is that matrix less than infinity?  Returns a 1-0 mask selecting the border</li>
<li><code>#~&amp;,</code> Flatten and filter the input with that mask</li>
</ul>
<h1>diagonal rotation, 24 bytes</h1>
<pre><code>#~&amp;,_=[:+/,.~@1 _1|.!._]
</code></pre>
<p><a href="https://tio.run/##ZYzNCoJQEIX3PsWkol4cR28/kNMVLgWtokXbEBehZJsewJ9Xt9sFiYphBs75zpzH5FLYQMEQAkIGbDYhOFxOx8kbA6yKK8cp0qglVLKnBVXlJJzznuCNFWs/C2rS3LvS97gl7VvYGRglZI7CUanMPIugE/oTIIN240wwwI4t8ONUR0WKskhLIeOvUjIhNM1yYD1QZLVwpVPf7k9ooKU1bKwIw9lDyn8dlrCE1X8Otmby6QU" rel="nofollow noreferrer" title="J â€“ Try It Online">Try it online!</a></p>
<p>Looks like this may be related to Adam's APL answer, but was discovered independently.  See alternate below for a different approach.</p>
<ol>
<li>Diagonally rotate the matrix up-left using infinity as fill.</li>
<li>Same thing down-right</li>
<li>Add the two together (now the borders will all have the value infinity)</li>
<li>Create a border-selecting 1-0 mask with 1 wherever infinity is</li>
<li>Use that mask to filter the input, flattening both the mask and the input</li>
</ol>
<h1>original, 24 bytes</h1>
<pre><code>#~&amp;,0=&lt;:@$*/@:|&quot;1$#:i.@$
</code></pre>
<p><a href="https://tio.run/##ZczNCsIwDAfw@54ibGVbXZe2foCrLRQFT@LBu3iQDefFB5jbq9euMPwiJJD8/uTuYswaMAoyYCBA@S4RdqfD3iVDyoTRypIZt@oZS5KoFi1xNDpuEUYeUaQ1fnLAzmNeoh@aDVoLuEiadtS@A@hpM0zCUtapAKTgNjecScPPVBZfT9GHmP8se2V7zMNOYxnV19sDGmhxCauwZNl0Y1j9XpSEOSz@c7D2VbkX" rel="nofollow noreferrer" title="J â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 52 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(m)m[row(m)%in%c(1,nrow(m))|col(m)%in%c(1,ncol(m))]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZBBCsIwEEVx21NkIyQwA5m2alNw7QXcqQspVgq2Qqnowpu4qYKH0tP4S0AFK-FlMvP_ZGAu17q95dP7ock5ecRLXZpyUe-PiMOiGmZaqPKpOWf73XfZp2ble5-DmS6n5bqpi5OW1FFENDcmyOEJPkpRNZvtptbmV7K_pUw7UiHxiFREgZKkiwq3RQZBTSgU4k5TrrOJJecMxb2zJY1I-ockOOjrl_GpCkEEYjACYzABCXCWuANvRo2hMTwML6OH0ctizZ-NSAo_Rrw1v8-29fEF" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu23" class="pu"><h1>JavaScript (ES6), 54 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>m=&gt;m.map((r,y)=&gt;r.filter((_,x)=&gt;x*y/r[x+1]?!m[y+1]:1))
</code></pre>
<p><a href="https://tio.run/##fZDBbsIwDIbvPEV3a7c/rI7jpJkEe5CqmtAGExOlqKAJnp65NBw2wQ5OHMf2Z/9fi@/F/r1f7w5m230sz6vZuZ3N22m72OV5j1Mxm/fT1XpzWPZ5/oajvo@Pp@e@Pj5R8/rQ1ie9X6gozu/ddt9tltNN95mv8nqSZTXBghsMroPAj25AhdhMmqKY/Kmpm1vB8lZ0aJRFZBZGkCUIVeoi07McA/qdBViCSRlaovlUIt6ZYBz5DjCOTapf1@1GF5hyMqvGak5N1Px1tKCPSi2WMIOpb0L6NF4fmm20ymi10S6Gyn9IgxLD7k4pCrkyLmLEYWEikE0yMciBVAcPCqC0CEUoRsWyFpZh3Ri2AuthVcYKNoLTiExglYrBDizghOQArsAROrkjuIR0DOfgBM7DBbiEdBG6pRDEQhiSkCIQDwmQChLhx8XPPw" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
<p>Or <strong>58 bytes</strong> (ES10) if we want to flatten the output:</p>

<pre class="lang-javascript prettyprint-override"><code>m=&gt;m.flatMap((r,y)=&gt;r.filter((_,x)=&gt;x*y/r[x+1]?!m[y+1]:1))
</code></pre>
<p><a href="https://tio.run/##fZDdbsIwDIXveYrurt1OWB3np5kEe4I9QVVNFaMTU6GooAmevnNpuNgEu3DiOLY/@3zV3/Vh1W/2R7XrPtZDsxi2i@V23rT18a3ep2mPc7ZY9vNm0x7XfZq@4yTv0@P5uS9PT1S9PmzLs9wvlGXDqtsdunY9b7vPtEnLWZKUBA2uMLoGFm5yPQqEalZl2exPTVndCua3omOjJCDRUBZJhFAhLhI58ykg34mHJqiYISWSTznCnQmmke8Aw9Sk@HXdbnSBCSfRYixmxKyYu47m5VGIhRxqNPGVj5/KyUOylVQpqVbSRVH@D2lUYtzdCEUgV8ZFjDAuTATSUSYGGZDo4EAeFBehAMGIWFpDM7SZwtpCO2iRsYAO4DgiE1ikYrABW3BEsgcX4ACZ3BBMRBqGMTAWxsF4mIg0AbKlJVgNy7ARaS2sg/WwBWyAmxYffgA" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>m =&gt;                 // m[] = input matrix
m.map((r, y) =&gt;      // for each row r[] in m[] at index y:
  r.filter((_, x) =&gt; //   for each value in r[] at index x:
    x * y            //     if neither x nor y is equal to 0 and there's
    / r[x + 1] ?     //     at least one more column after this one:
      !m[y + 1]      //       keep the value only if this is the last row
    :                //     else:
      1              //       keep the value
  )                  //   end of filter()
)                    // end of map()
</code></pre>
</div>
<div id="pu24" class="pu"><h1><a href="https://www.rust-lang.org" rel="nofollow noreferrer">Rust</a>, 81 bytes</h1>
<pre class="lang-rust prettyprint-override"><code>|a,b,c|(0..).zip(a).filter(move|(d,_)|d%b&lt;1||d%b&gt;b-2||d/b&lt;1||d/b&gt;c-2).map(|a|a.1)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TVBBasMwELz7FZtAQYK1YjsNjVVXvfTaQy-9lGJkWQaB7RhbySFRXlIKPrSPym8qx4V2WWZ2h2FY9uOr3w92vDxVLTTStITCKai1hYpXLXnVKjODOWqB-4lmpKEYbMm5sbrn_Fl2WY65gAf43tsq3F5enMQClSMRY5QdTUckZZWpvZ00u4N2pMScuvKmyGI3kSjCxA-reV8VQoUJZY3siJNOspj-Bn_eB0HXm9bW7YIsT_zxvESoSAAAB60Wb5AiJBhuENYIG5z0a8Xbq-IxQrj7073Zr0mM4Rrj5J-eTiFxhGnqO32fwuCWMrWra60s55l_jMf5NYJQ6g87z0eO48w_" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes input as a flattened matrix with size given as <code>b</code> and <code>c</code></p>
</div>
<div id="pu25" class="pu"><h1>Excel, 77 bytes</h1>
<pre><code>=TOCOL(B2#/(MAP(B2#,LAMBDA(b,SUM(SUBTOTAL(2,OFFSET(b,{-1;1},{-1,1})))))&lt;4),2)
</code></pre>
<p>Input is spilled range deliberately set to have its top-leftmost cell as <code>B2</code>, rather than the customary <code>A1</code>, such that the four cells above, below, to the right and to the left of that cell exist.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/260931/">260931</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




