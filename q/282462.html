<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::282462</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>226</td><td>Charcoal</td><td>250629T195013Z</td><td><a href="https://codegolf.stackexchange.com/questions/282462/make-a-floor-plan-given-the-number-of-doorways/282474#282474">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 226 bytes</h1>
<pre><code>ＷＳ⊞υιυＵＥ¹¦¹ＦＬυＦＬθ«Ｊ⊖⊗κ⊖⊗ιＢ³¦³»≔⁰ηＷ‹ηＬΣυ«Ｊ⊗﹪ηＬθ⊗÷ηＬθ≔⁰ζ≡ΣＫＫ⁰ ¹«¿Σ⊟ＫＤ³→«  Ｉ⊖ＫＫ»¿Σ⊟ＫＤ³↓«↓  Ｉ⊖ＫＫ»≔¹ζ»²«¿⬤rdΣ⊟ＫＤ³✳κ«  ←Ｉ⊖ＫＫ↙↓ Ｉ⊖ＫＫ»≔¹ζ»≔¹ζＷζ«≦⊖ηＪ⊗﹪ηＬθ⊗÷ηＬθ≡Φ⪫ＫＶω﹪μ³  «2|←Ｉ⊕ＫＫ↙↓-Ｉ⊕ＫＫ»| «↓1-Ｉ⊕ＫＫ» -«1|←Ｉ⊕ＫＫ←¿Σ⊟ＫＤ³↓«↓  ↑Ｉ⊖ＫＫ↑≔⁰ζ»»0»≦⊕η
</code></pre>
<p><a href="https://tio.run/##rVRRb5swEH4mv8LiyUiOBMkbe@pGK6VKpmhd987gEqwYm4GdVF357cwGExLatGvVKCbc@Xzf992dk2RxmYiYNc0howwQXvBCyTtZUr7FnofWqsqwIoh6XyZr7ZRY6bfrBwk8xQFBgbY2okR4CXwrdag@c2r/0fbfiXOr8uKnwBEkJeTAJaQ4Euo30787zyPopQ3qeTq581U84DlBc/1eT66qim459gnKtG0pL6GqcEaQhbxTuaFxDmxzrkSqmDgJ1vwMvN1ecBnRPU1hFGF4DNCPxqwOVCYZatHWADtsAZO4AuSHqCuWi1wT3DqD0Ow7dGMPiaI9GNESEkkFNyrDH3SbyZ684/RZujS9/S2u5FktewJtUI2AabjXcSJx4GOY1knQO9H0avFsfQJbn9qqng2qrxjDbpm6BF3kNRg7z3urDOESNpKg1/k5K7GHTpoJPzvf6/0cuSlsYsVk@MKWHdTHTs4qLmzICUw30c4nDuxxRG8ok1DiW0F5K@aX4N9B5THnWKc66GVRcnPNbM3b5pmKh2ctmD1dbMGCP6/Zf3Zg@rwDl7LVR25PI259suBD2dB0pDT4sNJB5Xvu4KVL2PvvizdH3eLfF9Yc/WV1cs06jqrV6rt9NfR3GM8Tnd141k0zM5/JLJgH@ukHvn62nma6Z/8A" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as a rectangular list of newline-terminated digit strings. Explanation:</p>
<pre><code>ＷＳ⊞υιυ
</code></pre>
<p>Input the floorplan and write it to the canvas.</p>
<pre><code>ＵＥ¹¦¹ＦＬυＦＬθ«Ｊ⊖⊗κ⊖⊗ιＢ³¦³»
</code></pre>
<p>Space out the digits and draw boxes around each of them.</p>
<pre><code>≔⁰ηＷ‹ηＬΣυ«
</code></pre>
<p>Loop until all of the rooms have been processed.</p>
<pre><code>Ｊ⊗﹪ηＬθ⊗÷ηＬθ≔⁰ζ≡ΣＫＫ
</code></pre>
<p>Jump to the current room and assume that its doorways can be satisfied, then look at the number of remaining doorways it needs.</p>
<pre><code>⁰ 
</code></pre>
<p>If <code>0</code> then this room is finished, so clear its floor.</p>
<pre><code>¹«¿Σ⊟ＫＤ³→«  Ｉ⊖ＫＫ»¿Σ⊟ＫＤ³↓«↓  Ｉ⊖ＫＫ»≔¹ζ»
</code></pre>
<p>If <code>1</code> then look for a room to the right or below which needs a doorway, and place that doorway, decrementing the remaining count for the connecting room, but if none can be found then flag this room as unsatisfied.</p>
<pre><code>²«¿⬤rdΣ⊟ＫＤ³✳κ«  ←Ｉ⊖ＫＫ↙↓ Ｉ⊖ＫＫ»≔¹ζ»
</code></pre>
<p>If <code>2</code> then if both rooms to the right and below need doorways then place both doorways, decrementing the remaining counts for the connecting rooms, otherwise flag this room as unsatisfied.</p>
<pre><code>≔¹ζ
</code></pre>
<p>If <code>3</code> or more than flag this room as unsatisfied.</p>
<pre><code>Ｗζ«
</code></pre>
<p>Repeat while the current room is unsatisfied.</p>
<pre><code>≦⊖ηＪ⊗﹪ηＬθ⊗÷ηＬθ
</code></pre>
<p>Move to the previous room.</p>
<pre><code>≡Φ⪫ＫＶω﹪μ³
</code></pre>
<p>Look at the doorways that were previously generated.</p>
<pre><code>  «2|←Ｉ⊕ＫＫ↙↓-Ｉ⊕ＫＫ»
</code></pre>
<p>Remove two doorways, undoing the case of <code>²</code> above.</p>
<pre><code>| «↓1-Ｉ⊕ＫＫ»
</code></pre>
<p>Remove a doorway below, undoing the second case of <code>¹</code> above.</p>
<pre><code> -«1|←Ｉ⊕ＫＫ←¿Σ⊟ＫＤ³↓«↓  ↑Ｉ⊖ＫＫ↑≔⁰ζ»»
</code></pre>
<p>Remove a doorway to the right, undoing the first case of <code>¹</code> above, but place a doorway below if possible, which then satisfies this room.</p>
<pre><code>0
</code></pre>
<p>If there are no doorways to remove, just restore the remaining doorway count.</p>
<pre><code>»≦⊕η
</code></pre>
<p>Move to the next room.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/282462/">282462</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




