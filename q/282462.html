<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::282462</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>227</td><td>JavaScript ES6</td><td>250629T235924Z</td><td><a href="https://codegolf.stackexchange.com/questions/282462/make-a-floor-plan-given-the-number-of-doorways/282475#282475">Arnauld</a></td></tr>
<tr d-ix="1"><td>165</td><td>Charcoal</td><td>250629T195013Z</td><td><a href="https://codegolf.stackexchange.com/questions/282462/make-a-floor-plan-given-the-number-of-doorways/282474#282474">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (ES6), 227 bytes</h1>
<p>Returns a string.</p>

<pre class="lang-javascript prettyprint-override"><code>m=&gt;{for(w=m[n=0].length;m.some((r,y)=&gt;r.some((v,x)=&gt;4-v^(p+=&quot; -&quot;[(k=n&gt;&gt;(i=y*w+x&lt;&lt;1)|2*!x|!y)&amp;1]+&quot;+&quot;,q+=&quot;  |&quot;[k&amp;2]+&quot; &quot;,t+=&quot;-+&quot;,k%4+1&gt;&gt;1)+(n&gt;&gt;i+3&amp;1|x&gt;w-2)+(n&gt;&gt;i+2*w&amp;1|!m[y+1]),p=t=&quot;+&quot;,q=&quot;&quot;)|(s+=p+`
${q}|
`),s=&quot;&quot;);n++);return s+t}
</code></pre>
<p><a href="https://tio.run/##bYxfb4IwFEff@RSXZjOttxjKfMP2izAWjUPngIK040/Ez86qG8lMlvTlnN/t@dy1O7NvTrUNdPWeTQc5lVJdDlVDO1kmWobpqsj00X7E5cpUZUZpwwcmVfNLLe8drYP2jdYoCQQkobnUStGTHJYd9puNYGO09PvRH9hCpEiQ8PPtFEaS5IvIGSDcOhO4JX9eo1BKMKQucsKXhRh71QXRLKJl55RfJgOKlPFaWnkvSkLYSA3KGrfe0@V8Hb0t4@amY43I4iazX40Gg/Y67SttqiJbFdWRHmjiASQQchAcQkj5HSMOa2dmFPPqpQwQyKt2Xe@/jvt4e3864SP@rK7D4ukb" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>226</s> 165 bytes</h1>
<pre><code>ＷＳ⊞υιυＵＥ¹¦¹ＦＬυＦＬθ«Ｊ⊖⊗κ⊖⊗ιＢ³¦³»≔⁰ηＷ‹ηＬΣυ«Ｊ⊗﹪ηＬθ⊗÷ηＬθ≔ΦrdΣ⊟ＫＤ³✳κζ≔›ΣＫＫＬζεＷε«≔dζ≦⊖ηＪ⊗﹪ηＬθ⊗÷ηＬθ≔¬∧Σ⊟ＫＤ³↓⁼ -Φ⪫ＫＶω﹪μ³εＰ0ＦΦＥrdＫＤ³✳λ№λ ＵＭλ⎇⊖νＩ⊕μ|Ｐ¶-»ＦΣＫＫＵＭＫＤ³✳§ζκ⎇⊖μＩ⊖λ ≦⊕η 
</code></pre>
<p><a href="https://tio.run/##rVPBbtswDD3HXyHoJAMOEDe37ZTV3ZCiLQK02GkXN2ZjIbLkylKTZeu3e6SsIM7W9VQDtkWKfO@RotZ1ademVH2/q6UCJpa69e7eWak3Ik3Zyne18BmT6edkhU4nPK6u9g50JfKM5Wg9GcvEDeiNw1DMGdvPaP9KJte@aR@MKGBtoQHtoBKF8Y8K/9s0zdhbGzJNEXzyxezFPGNzXL8mi66TGy1mGavRjpJvoOtEnbFIee8bknFOHDFvTeWVGQWjPqKP20vtCvkiK/grgnRE6q9SObCC24pnjKhWphUrgG0hLaydNJrUnowtpSPFYYTxzUJJICEdUwUFRLoDrYGCY3UQ6jimcqINWJPbso3OUfeGxkw@sO4j851xYoGH/t@aPxVmpwPs1bMvVSc4m6LY2LBrI3XI@W70Hfim1Fpg6A7fKK6hQx6aBUOBXjnZhqHjMx5cYbQiItYfj@Gd9quAd2k8gqiMccZpMDD10jSooSLnA1hd2p9n06kpq@wctubkbAiL/@bpP/J@6GkQ@JoMEkcne8b2jtKFW@oK9uKQsW0Q/Zas5ihr7FRBFhtknaZipDxOxXCBKRLvUt9f0JNc5PMcv7N8ht/g6acv6g8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as a rectangular list of newline-terminated digit strings. Explanation:</p>
<pre><code>ＷＳ⊞υιυ
</code></pre>
<p>Input the floorplan and write it to the canvas.</p>
<pre><code>ＵＥ¹¦¹ＦＬυＦＬθ«Ｊ⊖⊗κ⊖⊗ιＢ³¦³»
</code></pre>
<p>Space out the digits and draw boxes around each of them.</p>
<pre><code>≔⁰ηＷ‹ηＬΣυ«
</code></pre>
<p>Loop until all of the rooms have been processed.</p>
<pre><code>Ｊ⊗﹪ηＬθ⊗÷ηＬθ
</code></pre>
<p>Jump to the current room.</p>
<pre><code>≔ΦrdΣ⊟ＫＤ³✳κζ
</code></pre>
<p>Find the remaining possible doorways (i.e. that are down or right and lead to a room which still wants at least one more doorway).</p>
<pre><code>≔›ΣＫＫＬζε
</code></pre>
<p>See if there are more doorways wanted than possible.</p>
<pre><code>Ｗε«≔dζ
</code></pre>
<p>While we need to backtrack, set the possible doorways to down.</p>
<pre><code>≦⊖ηＪ⊗﹪ηＬθ⊗÷ηＬθ
</code></pre>
<p>Move to the previous room.</p>
<pre><code>≔¬∧Σ⊟ＫＤ³↓⁼ -Φ⪫ＫＶω﹪μ³ε
</code></pre>
<p>See if this was a room where we chose a single right doorway but it had both doorways available, in which case we can stop backtracking.</p>
<pre><code>Ｐ0
</code></pre>
<p>Restore the doorway count to this room.</p>
<pre><code>ＦΦＥrdＫＤ³✳λ№λ ＵＭλ⎇⊖νＩ⊕μ|
</code></pre>
<p>Remove any previous right or down doorways.</p>
<pre><code>Ｐ¶-
</code></pre>
<p>The above restored the down wall with <code>|</code>, so correct that now.</p>
<pre><code>»ＦΣＫＫＵＭＫＤ³✳§ζκ⎇⊖μＩ⊖λ ≦⊕η 
</code></pre>
<p>This room can now be satisfied, so create the desired number of doorways and move to the next room, clearing the doorway count.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/282462/">282462</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




