<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::267442</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>126</td><td>Swift 6</td><td>240306T200328Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/271589#271589">macOSist</a></td></tr>
<tr d-ix="1"><td>191</td><td>Easyfuck</td><td>240402T011531Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/272244#272244">Quadrupl</a></td></tr>
<tr d-ix="2"><td>205</td><td>TypeScript's type system</td><td>231211T151329Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267460#267460">noodle p</a></td></tr>
<tr d-ix="3"><td>129</td><td>C gcc</td><td>231212T225939Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267492#267492">AShelly</a></td></tr>
<tr d-ix="4"><td>090</td><td>Julia 1.0</td><td>231220T135050Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/268658#268658">MarcMush</a></td></tr>
<tr d-ix="5"><td>203</td><td>Gema</td><td>231217T012617Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/268587#268587">manatwor</a></td></tr>
<tr d-ix="6"><td>649</td><td>brainfuck</td><td>231218T024239Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/268601#268601">ATaco</a></td></tr>
<tr d-ix="7"><td>nan</td><td></td><td>231211T085608Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267445#267445">lyxal</a></td></tr>
<tr d-ix="8"><td>173</td><td>Cabsi</td><td>231217T204740Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/268593#268593">Conor O&</a></td></tr>
<tr d-ix="9"><td>111</td><td>Python</td><td>231211T083036Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267443#267443">bsoelch</a></td></tr>
<tr d-ix="10"><td>118</td><td>PowerShell Core</td><td>231211T201547Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267469#267469">Julian</a></td></tr>
<tr d-ix="11"><td>050</td><td>APL Dyalog Classic</td><td>231212T044209Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267477#267477">Tbw</a></td></tr>
<tr d-ix="12"><td>099</td><td>Haskell</td><td>231212T230648Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267493#267493">Leo</a></td></tr>
<tr d-ix="13"><td>029</td><td>Vyxal 3</td><td>231212T101215Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267484#267484">lyxal</a></td></tr>
<tr d-ix="14"><td>294</td><td>Brainflak</td><td>231212T055012Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267479#267479">DJMcMayh</a></td></tr>
<tr d-ix="15"><td>092</td><td>Perl 5 a</td><td>231211T190602Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267467#267467">Xcali</a></td></tr>
<tr d-ix="16"><td>143</td><td>Haskell</td><td>231211T204723Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267470#267470">colossus</a></td></tr>
<tr d-ix="17"><td>312</td><td>Go</td><td>231211T152145Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267461#267461">bigyihsu</a></td></tr>
<tr d-ix="18"><td>050</td><td>Pip p</td><td>231211T180708Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267465#267465">DLosc</a></td></tr>
<tr d-ix="19"><td>179</td><td>flex</td><td>231211T143330Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267457#267457">Noodle9</a></td></tr>
<tr d-ix="20"><td>103</td><td>JavaScript Node.js</td><td>231211T094052Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267449#267449">tsh</a></td></tr>
<tr d-ix="21"><td>114</td><td>Ruby</td><td>231211T150805Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267459#267459">G B</a></td></tr>
<tr d-ix="22"><td>048</td><td>Charcoal</td><td>231211T144410Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267458#267458">Neil</a></td></tr>
<tr d-ix="23"><td>nan</td><td>Regex PCRE 2</td><td>231211T120535Z</td><td><a href="https://codegolf.stackexchange.com/questions/267442/implement-a-simple-stack-language/267453#267453">mousetai</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Swift 6, <s>196</s> <s>188</s> 126 bytes</h1>
<pre class="lang-swift prettyprint-override"><code>{($0 as[_]).reduce(into:[_]()){s,i in
var z:Int{s.popLast()!}
i==0 ?_=z:(s+=i&gt;3 ?[z,z]:[i&gt;0 ?i&lt;2 ?s.last!:i&lt;3 ?z+z:-z+z:-i])}}
</code></pre>
<p><a href="https://swiftfiddle.com/rosokthjvfgfbo5stdww7gz6ou" rel="nofollow noreferrer">Try it on SwiftFiddle!</a></p>
<p>Takes input as an array of <code>Int</code> instructions.</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th>Instruction</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-<em>n</em></code></td>
<td>push <em>n</em></td>
</tr>
<tr>
<td><code>0</code></td>
<td>pop one and discard (drop)</td>
</tr>
<tr>
<td><code>1</code></td>
<td>pop one and push twice (dup)</td>
</tr>
<tr>
<td><code>2</code></td>
<td>pop two and add</td>
</tr>
<tr>
<td><code>3</code></td>
<td>pop two and subtract</td>
</tr>
<tr>
<td><code>4</code></td>
<td>pop two and push in reverse (swap)</td>
</tr>
</tbody>
</table></div>
<h2>Notes</h2>
<ul>
<li><code>z</code> is a computed property (or, more accurately in this context, a computed variable) — accessing it is akin to a function call. We use it here as a shortcut to pop the last element from the stack (<code>s</code>).</li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Quadruplay/easyfuck/wiki" rel="nofollow noreferrer">Easyfuck</a>, 191 bytes</h1>
<pre>
<sup>NEL</sup>e%»Öß;º±uë<sup>SHY</sup>l®|ùó7ÌÕ¾m}_Õo<sup>SGCI</sup><sup>SHY</sup>Z¶<sup>CSI</sup>Úo<sup>DCS</sup>¾s÷ëækV¾Ü¡"ÿÊÕÛBù"ÿÊÕÝB§:<sup>PLD</sup>o®©Ö¢Vìï<sup>PU2</sup>>|ùò<sup>PM</sup><sup>VTS</sup>␕Þ}yN¥␒<sup>PM</sup>)Æ¡õå¸␔j|ÁN·<sup>SS3</sup>␞t[<sup>HOP</sup>F¥ju¼yÑn␅␚<sup>PU2</sup>&lt;ªõN·<sup>OSC</sup>␖àQ©#Ê·Ôëè·␂<sup>RI</sup>I␟!S<sup>SHY</sup>÷E¸␔j¦ò<sup>CSI</sup>êju¾}Ñn␊ºß>|®ò<sup>SGCI</sup>VånHÁõ¼ï<sup>DCS</sup>ã<sup>MW</sup>¹ÝÕ¸␝«ºû;ì␖␒8¶¹␊wØ,$et
</pre>
<p><sup>due to lack of unicode representations for c1 control characters, they have been replaced by their superscripted abbreviations</sup></p>
<p>Decompressed:</p>
<pre><code>BY$[^[&gt;;],.^]5Y.&gt;&gt;&gt;3&gt;3+&gt;6_+}+&gt;3---S=S&gt;!&gt;9}}&gt;3--&gt;n($/~++[!&gt;$/~++]!)g([&gt;])k(Jng&gt;$&gt;&gt;&gt;&gt;)t(+^&gt;^)j(J&lt;)c(&gt;^-`(j&gt;0)k&lt;&lt;&lt;t-`(j+)k&lt;&lt;t-`(j$&lt;U=)k&lt;t-`(j$&lt;U_)kt-`(j$&gt;!)k&gt;t-`(jS&lt;S&gt;S)k&gt;&gt;t-`Uk&gt;&gt;&gt;+^)J[Jn$0&gt;[g&gt;!cJn;]-`;+]&gt;g&gt;`X$8[.!'&gt;`X$2]
</code></pre>
<p>Explanation:</p>
<pre><code>BY$[^[&gt;;],.^]
</code></pre>
<p>The program begins by putting <code>␍</code> into the storage cell so it can check against it when taking input, to know when input is done (<code>␍␊</code> is the enter key). It then runs a loop that puts all the characters into consecutive cells until it receives a <code>␍</code>.</p>
<pre><code>5Y.&gt;&gt;&gt;3&gt;3+&gt;6_+}+&gt;3---S=S&gt;!&gt;9}}&gt;3--&gt;
</code></pre>
<p>It then prints a <code>␊</code> and puts two <code>␀</code>s after the instructions &quot;block&quot;. The first one acts as a separator, and the second will store the instruction that is currently executed. After that it sets the next 7 cells to the following characters: <code>01+-:$.</code> which will be checked against with the instruction stored in the cell just before them. They correspond to the following instructions:</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th>Character</th>
<th>Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td>Push 0</td>
</tr>
<tr>
<td><code>1</code></td>
<td>Increment top value</td>
</tr>
<tr>
<td><code>+</code></td>
<td>Pop top 2 values, push sum</td>
</tr>
<tr>
<td><code>-</code></td>
<td>Pop top 2 values, push difference</td>
</tr>
<tr>
<td><code>:</code></td>
<td>Pop top value, push twice</td>
</tr>
<tr>
<td><code>$</code></td>
<td>Swap top 2 values</td>
</tr>
<tr>
<td><code>.</code></td>
<td>Pop top value</td>
</tr>
</tbody>
</table></div>
<p>As per my conversation with the author in the comments, this solution should be legal.</p>
<pre><code>n($/~++[!&gt;$/~++]!)g([&gt;])k(Jng&gt;$&gt;&gt;&gt;&gt;)t(+^&gt;^)j(J&lt;)
</code></pre>
<p>The program then defines a bunch of helper functions. <code>n</code> moves the pointer to the right until it encounters a non-zero cell, <code>g</code> does the same but it looks for null cells, <code>k</code> utilizes the previous 2 to go to the keys &quot;block&quot; (the one with the instruction templates). <code>t</code> and <code>j</code> just contain code that is used a bunch of times and needed to be golfed down.</p>
<pre><code>c(&gt;^-`(j&gt;0)k&lt;&lt;&lt;t-`(j+)k&lt;&lt;t-`(j$&lt;U=)k&lt;t-`(j$&lt;U_)kt-`(j$&gt;!)k&gt;t-`(jS&lt;S&gt;S)k&gt;&gt;t-`Uk&gt;&gt;&gt;+^)
</code></pre>
<p>It then defines the <code>c</code> function which takes the stored instruction and checks it against the instructions in the keys block. The stack itself is stored after the keys block separated by a single null cell. Accessing the top of the stack
is done by moving the pointer to the first cell, and then moving it to the cell before it, effectively moving it to the last cell.</p>
<pre><code>J[Jn$0&gt;[g&gt;!cJn;]-`;+]
</code></pre>
<p>And that's the main loop. It takes an instruction from the instruction block setting it to 0, puts it just before the keys block, and runs the <code>c</code> function. It runs until the instruction block is made up of nothing but null characters.</p>
<pre><code>&gt;g&gt;`X$8[.!'&gt;`X$2]
</code></pre>
<p>After the main loop is completed all that is left is printing the stack which is done in this small loop at the end. Each entry is separated by a space.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.typescriptlang.org/" rel="nofollow noreferrer">TypeScript</a>'s type system, <s>206</s> 205 bytes</h1>
<pre class="lang-typescript prettyprint-override"><code>//@ts-ignore
type F&lt;C,S=[0,0]&gt;=[S,C]extends[[infer A,infer B,...infer V],[infer I,...infer R]]?F&lt;R,I extends string?[I,...S]:[...[[B],[A,A,B],[B,A],[`${A}${B}`],B extends`${A}${infer Z}`?[Z]:0][I],...V]&gt;:S
</code></pre>
<p><a href="https://www.typescriptlang.org/play?#code/PTACBcGcFoEsHMB2B7ATgUwFDgJ4Ad0ACAMQB4BhAGgGUBeAbQAZLGBdAPgesvNfQA9w6RABNI9erEQAzdKkIBBSlNnyAQpQB02lXMIA1VpUky9ASS07T8gEqtWAfjI3KZwgKGjIhSOFRT4B3oLbU1qVgAuelCJNSN6JSU44w0FeIADABIAbwUAXxy1PPSjNXdBYTEs3ILs3XkALWKghsi2YKNQw3YI6kxMYAAqQkJGQlpCPGQ8TBGRgEZxwhEAVxm5wgAmJcgAdwBDdbmAZiX9kRFZuYAWHZWAIw3CQeB+3AJCfiWyegAied+lEI-wBQOOQJB81BwKhsLhUMBWyB1w4A2AcwAeg5MEA" rel="nofollow noreferrer">Try it at the TS playground</a></p>
<p>This is a generic type <code>F&lt;C&gt;</code> which takes input as a tuple of items which are either unary numbers as strings of 1s, or numbers 0 to 4 for the 5 commands:</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th>num</th>
<th>function</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Pop</td>
</tr>
<tr>
<td>1</td>
<td>Duplicate</td>
</tr>
<tr>
<td>2</td>
<td>Swap</td>
</tr>
<tr>
<td>3</td>
<td>Add</td>
</tr>
<tr>
<td>4</td>
<td>Subtract</td>
</tr>
</tbody>
</table></div>
<p>This solution works identically to the one below, only it skips the step of splitting on spaces, and indexes into an array instead of a dictionary, so it ends up quite a bit shorter.</p>
<h1><a href="https://www.typescriptlang.org/" rel="nofollow noreferrer">TypeScript</a>’s type system, <s>324</s> <s>309</s> <s>251</s> 220 bytes</h1>
<pre class="lang-typescript prettyprint-override"><code>//@ts-ignore
type F&lt;C,S=[0,0]&gt;=[S,C]extends[[infer A,infer B,...infer V],`${infer I} ${infer R}`]?F&lt;R,I extends`1${any}`?[I,...S]:[...{p:[B],d:[A,A,B],x:[B,A],a:[`${A}${B}`],s:B extends`${A}${infer Z}`?[Z]:0}[I],...V]&gt;:S
</code></pre>
<p><a href="https://www.typescriptlang.org/play?#code/PTACBcGcFoEsHMB2B7ATgUwFDgJ4Ad0ACAMQB4BhAGgGUBeAbQAZLGBdAPgesvNfQA9w6RABNI9erEQAzdKkIBBSlNnyAQpQB02lXMIA1VpQAGAEgDeu+QEkAvoQtXCAJVvHWAfjLPK1wgKFRSGMARgsAQ0QcNw96ay1talYALnptTXM8VLUjEVSlJRzKfmzKBSNw1LNzBVsLNTcjSGS1f0FhMWraxxk9AC0Y+j6Uxls4o3TDdmTqTEwQQkhwcIBjAGtFgAtkAHdEQnBkPGhD6AAjZHBDgFtNQkZIQnDwA82iC6vka8IRZEIUcCbKTwTRzXAEQgAL0ItBIpAARCFCCEkeFkSikRisVjCPxFoR4ex5sBCIQAHoeOZAA" rel="nofollow noreferrer">Try it at the TS playground</a></p>
<p>This is a generic type <code>F&lt;C&gt;</code> which takes input as a string type of space separated commands or unary numbers, space terminated. Output in unary, first element is top of stack.</p>
<p>Commands:</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th>name</th>
<th>function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>a</code></td>
<td>Add</td>
</tr>
<tr>
<td><code>s</code></td>
<td>Subtract</td>
</tr>
<tr>
<td><code>x</code></td>
<td>Swap</td>
</tr>
<tr>
<td><code>p</code></td>
<td>Pop</td>
</tr>
<tr>
<td><code>d</code></td>
<td>Duplicate</td>
</tr>
</tbody>
</table></div>
<p>I was surprised by how short this was when it was 100 bytes longer than it is now, so now I'm <em>really</em> surprised.</p>
<p>Explanation:</p>
<pre class="lang-typescript prettyprint-override"><code>type F&lt;
  // C is the input string type
  C,
  // S is the stack, starts with two useless elements
  S=[0,0],
&gt;=[S,C]extends[
    // get the top 2, A and B, and the rest V, of the stack
    [infer A,infer B,...infer V],
    // get the first word I and the rest R of C
    `${infer I} ${infer R}`
  ]
    // recurse, setting C to R, and setting S to...
    ?F&lt;R,
      // does I start with a 1?
      I extends`1${any}`
        // if so, prepend it to S
        ?[I,...S]
        // otherwise, it's a command; index into this object
        // to replace the top 2 of the stack:
        :[...{
          // pop- just the second
          p:[B],
          // dup- first twice, then second
          d:[A,A,B],
          // swap: second, then first
          x:[B,A],
          // add: concatenate the first and second
          a:[`${A}${B}`],
          // subtract: the second with the first taken away
          s:B extends`${A}${infer Z}`?[Z]:0
        // then append V
        }[I],...V]
    &gt;
  // if C is empty (no more commands are left), return S
  :S
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <strike>131</strike> 129 bytes</h1>

<pre class="lang-c prettyprint-override"><code>k[99],*s=k,t;main(p){
for(;p=getchar()-64;*s=p&lt;0?*s*8+p+16:p&lt;4?p=*s--,t=*s,p:p&lt;6?*s+t:p&lt;8?-*s:!++s);
for(;s&gt;k;printf(&quot;%d &quot;,*s--));}
</code></pre>
<p><a href="https://tio.run/##JYzNCoJAFEZfpYJgfqFRE3U0E5U2QqtW0YBMaSLZ4MwuenYbbXXv@e65n6StlNPUX8PwRpBOemL4q@4GoOCneY@AA5W0DyOf9Qgg9T3IraTiXYo0CrDCzI9U7KUqQZpSYuwgyia@vWNjlyClSEdrjDXkS58@9FyN3WAasNneVxsyP0LIv9MkmHCyQrD8XGSCORZOpXDnhFVZUZUzWkW44s@L7dpgn1/K4w8" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>Inspired by <a href="https://codegolf.stackexchange.com/a/267443/152">Python answer</a>, saved 23 bytes by implementing keywords as primitives:</p>
<p><strong><em>Primitives</em></strong></p>
<ul>
<li>octal-digit: multiply stack top by 8, add digit value.</li>
<li>swap-pop: swap top two items, pop new top into temp register.</li>
<li>add:   add temp register to stack top</li>
<li>negate:  negate top of stack</li>
<li>push-zero: push a 0 onto top of tack</li>
</ul>
<p>These primitives are mapped to to ASCII ranges, which allow us to build the following operations with nonsense names.</p>
<p><strong>OPERATION KEYWORDS:</strong></p>
<ul>
<li><code>^</code> = Number entry, should be followed by octal-digits</li>
<li><code>AD</code> = Add  (swap-pop;add)</li>
<li><code>AGE</code> = Sub (swap-pop;negate;add)</li>
<li><code>CUE</code> = Swap (swap-pop;push-zero;add)</li>
<li><code>LADLE</code> = Dup (push-zero;swap-pop;add;push-zero;add)</li>
<li><code>CODA</code> = Drop (Swap;swap-pop)</li>
<li><code>@</code> = terminate and print</li>
</ul>
<p>USAGE:</p>
<pre class="lang-c prettyprint-override"><code>$&gt; echo &quot;^1^2AD^1CODA^12^2AGE^3AD^9LADLEAGE^1^2^3^1LADLE^2AD^3^2^5CUE@&quot; | ./a.out
2 5 3 3 1 3 2 1 0 11 3 
</code></pre>
<hr />
<p>previous:</p>
<h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <strike>244, 229, 223, 204, 161</strike>, 154 bytes</h1>
<p><em>thanks to @ceilingcat for -7</em></p>

<pre class="lang-c prettyprint-override"><code>k[99],*s=k,t;main(p){for(;p=getchar()-42;*s=t=p&lt;0?!++s:p&gt;5?8*t+p-6:p&gt;4?*--s:p&gt;3?
*s++:p&gt;2?*--s-t:p&gt;1?p=*--s,*s++=t,p:*--s+t);for(;s&gt;k;printf(&quot;%d &quot;,*s--));}
</code></pre>
<p><a href="https://tio.run/##jZDNToNAHMTvPMXYaIRdthRojQUpaaIHL62x9WRM3AKlpC1sYElj1Gevu9AHMHuZ38z89ytheZKcHYLly9PrfP28XKwCA2D4VCvCoj1ushpZKeuvANvqcKhOOBVyhyqR/IC0yAvZ9ANUD8zTtCemadVuerI7OnHR41DjY3shp6O6uiDRuM7qY1FymYGXKURdlNIgznn/Pp1@2KSJ9rYMj7woTWF9b6vaDEWUZzLZ8dq02NgLVUVG4mEUX1HaBGI2ie@JpILdKT2OCWPa9GPSUKqE1zlMKunGItJg6yiStgg0UWmF3THNbB92t9mag5sUA1VjzLLCX/2Hbw3Ps8C4niFLdhVu4cKjcB24HjwGn2I6ZNqED3eoM1/piU1u8QM4HFUrYShH@arRpS5GcLXUz//3huc/" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p><strong>OPERATIONS:</strong></p>
<ul>
<li><code> </code> = Number entry: follow with octal digits</li>
<li><code>+</code> = Add</li>
<li><code>-</code> = Sub</li>
<li><code>,</code> = Swap</li>
<li><code>.</code> = Dup</li>
<li><code>/</code> = Drop</li>
<li><code>*</code> = terminate and print</li>
</ul>
<p><strong>Usage:</strong></p>
<pre class="lang-c prettyprint-override"><code>$&gt; echo ' 1 2+ 1/ 12 2- 3+ 9.- 1 2 3 1. 2+ 3 2 5,*' |  /a out 
2 5 3 3 1 3 2 1 0 11 3 
</code></pre>
<p>How it works: <code>k</code> is the stack storage and <code>s</code> points to the top. <code>p</code> is the next program character from standard input.<br />
<code>p-42</code> maps the range &quot;<code>*+,-./01234567</code>&quot; into <code>0..14</code>.</p>
<p>A '<code>*</code>' (0) exits the loop. Otherwise, it's a big if-else statement using ternary operators.<br />
Any ASCII character below '<code>*</code>' starts a number entry by pushing a 0 onto the stack.<br />
Characters from '<code>0</code>' upward are converted to octal digits and added to 8* the stack top <code>t</code>.<br />
The remaining 5 characters manipulate the stack pointer and produce the value that should be on top.</p>
</div>
<div id="pu4" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 1.0</a>, 90 bytes</h1>

<pre class="lang-julia prettyprint-override"><code>f()=[]
f(+,b...;c=f(b...))=try c[[+;2:end]]catch;try[c[2]+c[1];c[3:end]]catch;[+;c]end;end
</code></pre>
<p><a href="https://tio.run/##TZDBasMwEETv@oqtTxJxTGS3hcY4PbXQQ79A6LCWZapiHCMrbgr993QlJxCDYGf0dmTm@zQ4lOfLpeeiUZr1fJO3RVHUpul5HIRogv8Fo9SmLvd27LQ2GMxXTa4yqtQbo6SujaruLwk2mnRN59L54wQNUHp3SoPMpWbzD0ax0AJj/dGDAzeCt9gNbrQzFwzow7wlaJ4GF7jLIdsesusF2XbBoeCfNmAxoZ9twVcQhRBQ/B0At3TAzQgfY4BXeB@OGJ4fCYA9YMqJ8Ys1PGbdRfGWMhLgCei5t4uNNorYCVD21UnM5N0YhpFjc/Drlutp8aGBNql7Jns7T9YE2@0hy6FdcaqJxaoklFAB/bVKk2YSYmerIZOMZUatWUXIE6Qeo1GRKCNSwmY1SOxIbSlydSRFvKyJSe9uD9xWJL35Dw" rel="nofollow noreferrer" title="Julia 1.0 – Try It Online">Try it online!</a></p>
<p>input and output stacks are lists in reverse order.</p>
<p>It works by chosing clever ways to represent the commands, grouped in 3 types, detected with try/catch (shorter than multiple dispatch here)</p>
<ul>
<li>Arrays:
<ul>
<li>drop: <code>[]</code>, will return <code>c[2:end]</code></li>
<li>dup: <code>[1,1]</code> will return <code>c[[1;1;2:end]]</code></li>
</ul>
</li>
<li>Functions:
<ul>
<li>+: <code>+</code>, returns <code>[c[2]+c[1];c[3:end]]</code></li>
<li>-: <code>-</code>, returns <code>[c[2]-c[1];c[3:end]]</code></li>
<li>swap: <code>vcat</code>, returns <code>[c[2];c[1];c[3:end]]</code></li>
</ul>
</li>
<li>Floats:
<ul>
<li>pushing numbers must be floats, otherwise they might not throw an error in the &quot;array&quot; part</li>
</ul>
</li>
</ul>
</div>
<div id="pu5" class="pu"><h1><a href="http://gema.sourceforge.net/" rel="nofollow noreferrer">Gema</a>, <s>206</s> 203 characters</h1>
<pre><code>&lt;N&gt;=@push{s;$1}
+=@set{s;@add{$s;@pop{s}$s}}
-=@set{t;$s}@set{s;@sub{@pop{s}$s;$t}}
d=@push{s;$s}
r=@set{t;$s}@set{n;@pop{s}$s}@set{s;$t}@push{s;$n}
s=@pop{s}
 =
\Z=@f{}
f:=@cmps{${s;};;;;$s @pop{s}@f{}}
</code></pre>
<p>As I like <code>dc</code>, borrowed its commands: <code>d</code> dup, <code>r</code> swap, <code>s</code> drop.<br />
The stack is dumped top to bottom.</p>
<p>Sample run:</p>
<pre><code>bash-5.2$ echo '1 2 + d 3 4 - 5 r 6 7 8 s s 9' | gema '&lt;N&gt;=@push{s;$1};+=@set{s;@add{$s;@pop{s}$s}};-=@set{t;$s}@set{s;@sub{@pop{s}$s;$t}};d=@push{s;$s};r=@set{t;$s}@set{n;@pop{s}$s}@set{s;$t}@push{s;$n};s=@pop{s}; =;\Z=@f{};f:=@cmps{${s;};;;;$s @pop{s}@f{}}'
9 6 -1 5 3
</code></pre>
<p><a href="https://tio.run/##XYw9DsIwDIV3nyKDN5SBn4kQlBNwAMRSSAtLS1Snk@WzBwOhILw8Pfl737Xtm1J2h70PaaIbk8OlwMIHarOW0MTIqJnuiUmQRMC@n9lp@2A0nXlmHGbF4tdIAuP/aPhxVovO5skgQL4SYDycjj50LNBtfbj0iRiVEqeHZCr3BKSUzcqsjTWvGI19AA" rel="nofollow noreferrer" title="Gema – Try It Online">Try it online!</a> / <a href="https://tio.run/##lVLBjtMwED3XXzFEZt2yirJp2QOkRuEA0l5AghtJtMrG7rbabhJlXISU9beXsZOmgNjD5mDPzHtvxn7OXYnbo9LVvuw0hB/BaDS3VYlaztksEzEs4VIUUqzEkKJLhviKsBBWAx7HvvgOFIQuvxIn@crDPhhK6tQzHksrKlxD58dQsBRswVjb7WqzAfEEr8O31wj/2Ze05rUAcVO3B0P7N42HvQs@/Wp1ZbSi8OuDYGzTdLBzJFoh4P2r6ZpZWtggAdWwWefVMuBziJrWRPf6sYywq3wA4rj@8kGm7QG3PSY8tuxSpqgNJWmpVM9pb5u2R8vRWpaHA2oSSk88PNz1Eynhhnjq3BIt6/4V1X80HbuQbJLUlqEcGQwky3/IdNNbtnkv0@qxxZ4Tyyb0cYSR5wj2KGC9XpMV3pUAFgFzBpT0eiXsd2hGePAkYDNXk3Mgb24@f5dckO8JmLIaeb3DszfkJSxg4Vr91B1qdTuZembQpBc8Lin9GaPID43yvKYh08kcfn7M4TqFJ8whyzzvr5MEIOVzmqKAiwvQ1bbxv40zRTW1Pv4G" rel="nofollow noreferrer" title="Bash – Try It Online">Try all test cases online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/TryItOnline/brainfuck" rel="nofollow noreferrer">brainfuck</a>, <s>684</s> 649 bytes</h1>
<pre><code>,[&lt;&lt;--[&gt;+&lt;++++++]&gt;-[-&gt;-&lt;]&gt;[[&lt;]+[&gt;]&lt;-]&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;[[-&gt;]&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;&gt;[-]&lt;[-&gt;+&lt;]&gt;[&lt;+[,&lt;&lt;++++[&gt;++++++++&lt;-]&gt;[-&gt;-&lt;]&gt;[----------------&gt;[-&lt;++++++++++&gt;]&lt;[-&gt;+&lt;]&lt;+&gt;]&lt;[-&gt;+&lt;]&gt;]&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;[&gt;]+[&lt;]&lt;&lt;&lt;&lt;&lt;&lt;&lt;-[-&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;[&gt;]&lt;+[&lt;]&lt;&lt;&lt;&lt;&lt;&lt;&lt;]&gt;-&gt;-&gt;-&gt;-&gt;-&lt;&lt;&lt;&lt;&lt;]&gt;[-&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;[&gt;]&lt;&lt;[-&gt;&gt;+&lt;&lt;]&gt;[-&lt;+&gt;]&gt;[-&lt;+&gt;]&lt;[&lt;]&lt;-&lt;-&lt;-&lt;-&lt;-&lt;]&gt;[-&gt;&gt;&gt;&gt;&gt;&gt;&gt;[&gt;]&lt;[-]&lt;[&lt;]&lt;-&lt;-&lt;-&lt;-&lt;]&gt;[-&gt;&gt;&gt;&gt;&gt;&gt;[&gt;]&lt;[-&lt;-&gt;]&lt;[&lt;]&lt;-&lt;-&lt;-&lt;]&gt;[-&gt;&gt;&gt;&gt;&gt;[&gt;]&lt;[-&gt;+&gt;+&lt;&lt;]&gt;&gt;[-&lt;&lt;+&gt;&gt;]&lt;&lt;&lt;[&lt;]&lt;-&lt;-&lt;]&gt;[-&gt;&gt;&gt;&gt;[&gt;]&lt;[-&lt;+&gt;]&lt;[&lt;]&lt;-&lt;]&gt;,]&gt;&gt;[[&lt;++++++++++&gt;[-&lt;-[&lt;+&lt;&lt;]&lt;[+[-&gt;+&lt;]&lt;+&lt;&lt;]&gt;&gt;&gt;&gt;&gt;]&lt;[-]-[&gt;+&lt;-----]&gt;---[-&lt;&lt;+&gt;&gt;]&lt;&lt;-&lt;&lt;&lt;&lt;&lt;[&lt;]+[&gt;]&gt;&gt;&gt;&gt;[-&lt;&lt;&lt;&lt;&lt;[&lt;]&gt;+[&gt;]&gt;&gt;&gt;&gt;]&lt;[-&gt;&gt;&gt;+&lt;&lt;&lt;]&gt;&gt;&gt;]&lt;&lt;&lt;&lt;&lt;&lt;&lt;[&lt;]&gt;[.[-]&gt;]++++++++++.[-]&gt;&gt;&gt;&gt;&gt;&gt;&gt;]
</code></pre>
<p><a href="https://tio.run/##nVLLDgIhDPyVvbM1Pq5Nf6ThoCYmxsSDid@P00KB1ZvlANuWmeksl9f5/ry9r49SVmUmUkmcPLKQkhBnUeWcVDJT5q9QtPwkcYMA88eGPXOkOOnKLgaiWkCChCr6CmQ49ZAA4nEUMLTAOAljNcU26SjwVIELscZsU6shA9rzxtQ2NgTqa7qlrmbbMMq1yrRB6GVtk1RCowKX@x/N0dpwhpIsq93Q2SEjQgJYrCnMcmSRqtKfg5sLH/A4OmE1o70LJ@wZiZRrdXMcMhy1Ft0BHH@gh3/XyKUc9stxoeW0pA8" rel="nofollow noreferrer" title="brainfuck – Try It Online">Try it online!</a></p>
<p>All numbers have to be followed by a space. Uses <code>+-,./</code> for <code>add</code>, <code>sub</code>, <code>dup</code>, <code>drop</code>, and <code>swap</code> respectively.</p>
<p>Prints stack from bottom to top separated by newlines.</p>
<p>I confess this is a touch over-engineered, and could be shorter if I used less human-readable I/O.</p>
<h2>With Comments</h2>
<pre><code>READ AN INSTRUCTION
IF ITS A NUMBER THEN GRAB ALL OF IT UNTIL THE SPACE
OTHERWISE ITS A REGULAR INSTRUCTION
ITS ACTUALLY EASIER TO CHECK IF ITS A REGULAR INSTRUCTION THAN A NUMBER BECAUSE THERE ARE MORE NUMBERS THAN INSTRUCTIONS
SO WE CHECK THAT FIRST
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; THIS LINE MAKES DEBUGGING EASIER BUT ISNT NEEDED
,[
    &lt;&lt;--[&gt;+&lt;++++++]&gt;-
    SUBTRACT 42 FROM INP
    [-&gt;-&lt;]
    COLLAPSE IT LEFT
    &gt;[
     CLEAR THE ONE AT NEGATIVE SIXTEEN
     THIS IS A GUARD VALUE
     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;[-]&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
    [&lt;]+[&gt;]&lt;-]
    SUM UP THE FIRST NINE NUMBERS AS THESE ARE THE DIGITS
    WE IGNORE 0 AS ITS NOT USEFUL
    &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
    IF THE GUARD IS TRIPPED THEN WE DISCARD THE WHOLE STACK
    [[-&gt;]&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;]&gt;
    [-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;[-&gt;+&lt;]&gt;
    &gt;[-]&lt;[-&gt;+&lt;]&gt; I PUT IT IN THE ZERO ANYWAY FOR SANITY
    IF THIS IS TRUTHY THEN ITS A NUMBER THAT WE NEED TO PUSH
    IN SUCH CASE WE NEED TO KEEP GRABBING DIGITS UNTIL WE SEE A 32 SPACE
    [
        &lt;+[
            ,
            32
            &lt;&lt;++++[&gt;++++++++&lt;-]&gt;
            SUBTRACT FROM INP
            [-&gt;-&lt;]
            &gt;
            [
                IF ITS STILL TRUTHY THEN ITS A NUMBER (PROBABLY)
                SUBTRACT 16 THAN MULTIPLY BY TEN ONTO THIS
                ----------------
                &gt;[-&lt;++++++++++&gt;]
                AND COPY BACK
                &lt;[-&gt;+&lt;]
                &lt;+&gt; SET THE NOT FLAG
            ]
            COPY THE NOTFLAG UNTO HERE TO CHECK IF WE NEED TO LOOP
            &lt;[-&gt;+&lt;]&gt;
        ]
        GO SIX RIGHT AND PUSH A NEW VALUE TO THE STACK
        &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;[&gt;]+[&lt;]&lt;&lt;&lt;&lt;&lt;&lt;&lt;-
        [-&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;[&gt;]&lt;+[&lt;]&lt;&lt;&lt;&lt;&lt;&lt;&lt;]
        &gt;-&gt;-&gt;-&gt;-&gt;-
        &lt;&lt;&lt;&lt;&lt;
    ]
    &gt; IF THIS IS POSITIVE THAN ITS A SWAP INSTEAD
    [
        WE USE SCRATCH SPACE NEXT TO THE NUMBERS TO MAKE SWAPPING THEM POSSIBLE
        -
        &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;[&gt;]&lt;&lt;
        COPY THIS NUMBER TWO ACROSS
        [-&gt;&gt;+&lt;&lt;]
        &gt;[-&lt;+&gt;] COPY THE NEXT NUMBER INTO THIS PLACE
        &gt;[-&lt;+&gt;] AND THIS ONE TOO
        &lt;[&lt;]&lt;-&lt;-&lt;-&lt;-&lt;-&lt; AND GO HOME
    ]
    &gt; IF THIS IS POSITIVE THAN ITS A DROP
    [
        -
        &gt;&gt;&gt;&gt;&gt;&gt;&gt;[&gt;]&lt; GO TO THE TOP OF THE STACK
        [-] CLEAR IT
        &lt;[&lt;]&lt;-&lt;-&lt;-&lt;-&lt; AND GO HOME
    ]
    &gt; IF THIS IS POSITIVE THAN ITS A SUB
    [
        -
        &gt;&gt;&gt;&gt;&gt;&gt;[&gt;]&lt; GO TO THE TOP OF THE STACK
        [-&lt;-&gt;] SUB IT FROM THE LAST
        &lt;[&lt;]&lt;-&lt;-&lt;-&lt; AND GO HOME
    ]
    &gt; IF THIS IS POSITIVE THAN ITS A DUP
    [
        -
        &gt;&gt;&gt;&gt;&gt;[&gt;]&lt; GO TO THE TOP OF THE STACK
        [-&gt;+&gt;+&lt;&lt;] COPY IT ACROSS THE NEXT TWO
        &gt;&gt;[-&lt;&lt;+&gt;&gt;] COPY THE ONE BACK TWO
        &lt;&lt;&lt;[&lt;]&lt;-&lt;-&lt; AND GO HOME
    ]
    &gt; FINALLY IF THIS IS POSITIVE THAN ITS ADD
    [
        -
        &gt;&gt;&gt;&gt;[&gt;]&lt; GO TO THE TOP OF THE STACK
        [-&lt;+&gt;] ADD IT UNTO THE LAST
        &lt;[&lt;]&lt;-&lt; AND GO HOME
    ]
    &gt;,
]
ONCE WERE DONE WE NEED TO PRINT ALL VALUES ON THE STACK
&gt;&gt;
[
    GET ALL THE DIGITS
    [
        &lt;++++++++++&gt;
        [-&lt;-[&lt;+&lt;&lt;]&lt;[+[-&gt;+&lt;]&lt;+&lt;&lt;]&gt;&gt;&gt;&gt;&gt;] DIVMOD
        &lt;[-] UNNEEDED VALUE
        SET TO 48 AND ADD TO THE MOD VALUE
        -[&gt;+&lt;-----]&gt;---
        [-&lt;&lt;+&gt;&gt;]
        &lt;&lt;
        PUSH THIS VALUE TO THE NUMBERSTACK
        -&lt;&lt;&lt;&lt;&lt;[&lt;]+[&gt;]&gt;&gt;&gt;&gt;
        [-&lt;&lt;&lt;&lt;&lt;[&lt;]&gt;+[&gt;]&gt;&gt;&gt;&gt;]
        &lt;[-&gt;&gt;&gt;+&lt;&lt;&lt;] MOVE THE NEW VALUE BACK
        &gt;&gt;&gt;
    ]
    PRINT THEM ALL OUT
    &lt;&lt;&lt;&lt;&lt;&lt;&lt;[&lt;]&gt;[.[-]&gt;]
    PRINT A NEWLINE AS WELL ++++++++++.[-]
    &gt;&gt;&gt;&gt;&gt;&gt;&gt; NEXT NUMBER
]
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Trivial Eval/Exec Answers in Stack Languages</h1>
<p>For languages where the command set required is already a thing, and evaluating a string is the shortest solution.</p>
<p>Don't add answers in stack languages that aren't purely &quot;exec&quot;.</p>
<h2><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a> <code>W</code>, 1 byte</h2>
<pre><code>Ė
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJXIiwiIiwixJYiLCIiLCIiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Uses the command set <code>+-:$_</code> and <code>[0-9]+</code> for pushing numbers.</p>
<h2><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 3 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h2>
<pre><code>.V)
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f9fL0zz/39DBSMFbQVDhRgFQwMgU1fBGMi1VHABskBSxkDSBazEGEiaKhQDAA" rel="nofollow noreferrer">Try it online.</a></p>
<p>Uses the command set <code>+-Ds\</code> for <code>add</code>; <code>subtract</code>; <code>duplicate</code>; <code>swap</code>; <code>drop</code> respectively. <code>.V</code> executes the (implicit) input as 05AB1E code; and <code>)</code> wraps the entire stack into a list (which is output implicitly at the end).</p>
<h2><a href="https://github.com/molarmanful/sclin" rel="nofollow noreferrer">sclin</a>, 1 bytes</h2>
<pre><code>#
</code></pre>
<p><a href="https://scline.fly.dev/#H4sIAENId2UCA1MyVjBSMFUoLk8sUNIDAFWXUb8NAAAA#H4sIAENId2UCA1MGAP.eZXABAAAA#" rel="nofollow noreferrer">Try it on scline!</a> Uses <code>dup</code>, <code>pop</code>, <code>swap</code>, <code>+</code>, <code>-</code>.</p>
<h2><a href="https://www.gnu.org/software/bc/manual/dc-1.05/html_mono/dc.html" rel="nofollow noreferrer">dc</a>, 2 characters</h2>
<pre><code>?f
</code></pre>
<p>Where <code>?</code> reads a line from stdin and executed it as <code>dc</code> code and <code>f</code> dumps the stack.</p>
<p>In the simple stack language use <code>d</code> for dup, <code>r</code> for swap and <code>ss</code> for drop.</p>
<p><a href="https://tio.run/##S0n@/98@7f9/QwUjBW0FBYUUIDZWMFHQBdKmCkVA0kzBXMFCobgYhCwB" rel="nofollow noreferrer" title="dc – Try It Online">Try it online!</a></p>
<h1><a href="https://github.com/TehFlaminTaco/Reverse-Programmer-Notation" rel="nofollow noreferrer">RProgN</a>, 1 byte</h1>
<pre><code>C
</code></pre>
<p><a href="https://tio.run/##Kyooyk/P@//f@f///8YKRgqmCjEA" rel="nofollow noreferrer" title="RProgN – Try It Online">Try it online!</a></p>
<p>Requires space between commands, <code>[]\</code> are Drop, Dup, and Swap respectively.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/Cabsi" rel="nofollow noreferrer">Cabsi</a>, 173 bytes</h1>
<pre><code>1PUSH NULL
2GETW
3JNL 8
4DUP
5YEET
6ORD
7GOTO $1
8JNL 64
9PRINT
10GOTO 8
33POP
34GOTO 2
36SWAP
37GOTO 2
43ADD
44GOTO 2
45SUB
46GOTO 2
57YOINK
58MAKEI
59GOTO 2
62DUP
63GOTO 2
</code></pre>
<p><a href="https://conorobrien-foxx.github.io/Cabsi/?code=1PUSHwwNULLwa2GETWwa3JNLww8wa4DUPwa5YEETwa6ORDwa7GOTOwwx101wa8JNLww64wa9PRINTwa10GOTOww8wa33POPwa34GOTOww2wa36SWAPwa37GOTOww2wa43ADDwa44GOTOww2wa45SUBwa46GOTOww2wa57YOINKwa58MAKEIwa59GOTOww2wa62DUPwa63GOTOww2&amp;input=10ww2wwx19ww3wwx17wwx1qdupww2wwx17wwx10sx3bapwwx1qdupww0wwx10sx3bapwwx19wwx10sx3bapwwwxdrop" rel="nofollow noreferrer">Try it here!</a> Implements dup (<code>&gt;</code>) add (<code>+</code>) sub (<code>-</code>) drop (<code>!</code>) and swap (<code>$</code>). Prints stack top-to-bottom. Expects instructions to be separated by spaces/newlines.</p>
<p>Technically, only the first character  of non-numeric instructions are parsed, so the &quot;literate&quot; input <code>10 2 - 3 + &gt;dup 2 + $swap &gt;dup 0 $swap - $swap !drop</code> works just as well as the minified <code>10 2 - 3 + &gt; 2 + $ &gt; 0 $ - $ !</code>.</p>
<h2>Explanation</h2>
<p>As Cabsi is a stack language, the code can implement a stack-based language using its own stack. Thankfully, since the target language is not very complex, there is not a lot of overhead we need.</p>
<pre class="lang-vb prettyprint-override"><code>1 PUSH NULL     REM Stack work delimiter
REM ReadLoop:
2 GETW          REM Read word from STDIN
3 JNL 8         REM If end of input, jump to PrintLoop
4 DUP           REM Duplicate token read
5 YEET          REM And place it on the secondary stack
6 ORD           REM Get Ord(Token[0])
7 GOTO $1       REM Goto the line specified by that ordinal
REM PrintLoop:
8 JNL 64        REM If work delimiter reached, end program
9 PRINT         REM Print top of stack 
10 GOTO 8       REM Jump to PrintLoop
REM If &quot;!&quot; (ord 33):
33 POP          REM Pop top of stack
34 GOTO 2       REM Jump to ReadLoop
REM If &quot;$&quot; (ord 36):
36 SWAP         REM Swap top two on stack
37 GOTO 2       REM Jump to ReadLoop
REM If &quot;+&quot; (ord 43):
43 ADD          REM Add top two on stack
44 GOTO 2       REM Jump to ReadLoop
REM If &quot;-&quot; (ord 45):
45 SUB          REM Subtract top two on stack
46 GOTO 2       REM Jump to ReadLoop
REM If &quot;0&quot; through &quot;9&quot; (ords 48 through 57)
57 YOINK        REM Pull the full representation from the secondary stack
58 MAKEI        REM Cast to integer
59 GOTO 2       REM Jump to ReadLoop
REM If &quot;&gt;&quot; (ord 62)
62 DUP          REM Duplicate top on stack
63 GOTO 2       REM Jump to ReadLoop
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 111 bytes</h1>
<p><em>-11 bytes, thanks to emanresu A, uses bytes <code>0x00</code>-<code>0x03</code> as commands</em></p>
<pre class="lang-python prettyprint-override"><code>def g(s):
 S=[]
 exec(s.translate('S+=[0]; S[-1]+=1; *_,a,b=S;S[-2:]=[b,a-b,a]; S[-1:]=[];'.split()))
 return S
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dVJLboMwEFW3nGIUkGwTsDCoUhtEL8GSWhXhkxBFBhmipmfpJpv2Tu0VeokaDCmJUqyxzMz72GO_fzZv3bYWp9PHoSvdh686L0rY4JasDIijhBtQHIsMt7STqWj3aVdgFC-jxOMhxInL-DJiIdgvTuqsozhUKX_Fo2TtpK6KEdRneIho2-yrDhNCDJBFd5ACYm37fffT-5bad6xtMEJ0V1cCZ1uJkWlbFNFK5MURZ4RAWUvIoBLQKj2jkZXocIkXpm3atmVRNSxK9bRQcBMY-LAE9wmSgM_x53Iu62aoX5TPX6-r9frkbQtPebgQjD6M3VQyB-LEnvMfIT-oLQxkj18dqhf4O0mgHfrVJXAu_n8rep-pHexKwp7cBvZICRT8HtrXVLcoUD8-n_qOno-ep4Kp8NHsrSQoXWfIQep21bytdogTou98enK_" rel="nofollow noreferrer">Attempt This Online!</a></p>
<hr />
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 122 bytes</h1>
<p><em>-8 bytes, thanks to <code>psmears</code></em></p>
<pre class="lang-python prettyprint-override"><code>def f(s):
 S=[]
 for c in s:exec('S+=[0] S[-1]+=1 *_,a,b=S;S[-2:]=[b,a-b,a] S[-1:]=[]'.split()['#*$.'.index(c)])
 return S
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dVJdToQwEI6vnGKyJaEt0FCIiWLwEjw2jWH5iSQGCD-6ehVf9kXvpKextMsKZm3Tpp35fqaTvn92r-Nj2xyPH9NY-Tdfb0VZQYUHEluQJkJaULU95FA3MMTlocyxk7qJCCSkwufSTTjQBy_z9kl6pyJhLBOx9zJfLQOZA9JhQ_dUj5gIB1GbOaxuivKAcyKJBX05Tn0Dqang--q56-tmxBXeIYootW2mps2Y2XaEAAIOIbjg34OIpLXCn9NF33Y6v0mfx6xr9ObgZYtAefgQnXw4v6iENHFhr_m3UEyqBE0ONlyk_envSyLjMJ-2wLX4_62YfZZ28D8SdHHT7BMlUvBrGF4y06JIXUJp2r98hB8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<hr />
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 127 bytes (no eval)</h1>
<p><em>taking <code>emanresu A</code>'s suggestion to its extreme</em></p>
<pre class="lang-python prettyprint-override"><code>def f(s):
 S=[]
 for c in s:
  if&quot;#&quot;==c:S+=[0]
  if&quot;*&quot;==c:S[-1]+=1
  if&quot;$&quot;==c:*S,a,b=S;S+=[b,a-b,a]
  if&quot;.&quot;==c:*S,_=S
 return S
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=fVLLaoQwFKVbv-KgLnxjRgrtlPQnXIoUH7EjiEpUBlf9kG5m0_5O1-3XNBqdVx8JCcnJPefc3OT1vR37XVMfDm9DX7h3ny85K1AYnblVENIoVlA0HBnKGp2AUBaqplKabUObRn4sEUsikUtimxKJ6TNmhU7ipDR8mMJTJ3HFWEjeGvBEQwWc9QOvEco0vm4-NHRtkrEOTV2NcxKcJXmSllXZjw76HRuxL6sKKUP5XDec5UjHCRe59oy3QpFxpeViZxSGqlnQLAu67omue56cVNOEBoINbLiPiIL4gnE8z3nTzgEX58cmpaXktP7LxxdGLoLFjJBf1aDNzFVOP1e4Rz6IRGa6H_-43Wx9ulMgbabVVeyFwz91mdzW2pArFevkKQUWViAYt-j2iaxYIDabWL7r-s2-AQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<ul>
<li>push number: <code>#</code> followed by n times <code>*</code></li>
<li>drop: <code>.</code></li>
<li>swap: <code>$$..</code></li>
<li>add:  <code>$$.$.$$...$$...</code></li>
<li>subt: <code>$.$$...</code></li>
<li>dup:  <code>#$.$$.$.$$...</code></li>
</ul>
<p><em>It is possible to go down to 3 operations, by creating a new operation <code>'</code> that pushes <code>1</code> and replacing <code>#</code> with <code>''$.$$..</code> and <code>*</code> with <code>'$$.$.$$...$$...</code>. But then the pushed integer is no longer clearly determinable from the push integer instruction</em></p>
<hr />
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 193 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def f(s):
 S=[]
 for c in s:
  if&quot;/&quot;&lt;c&lt;&quot;:&quot;:S[-1]=10*S[-1]+int(c)
  if&quot;#&quot;==c:S+=[0]
  if&quot;$&quot;==c:*S,a,b=S;S+=[a+b,a-b]
  if&quot;:&quot;==c:S+=[S[-1]]
  if&quot;,&quot;==c:S[-2:]=S[:-3:-1]
  if&quot;.&quot;==c:*S,_=S
 return S
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VZFNToQwGIbjlsQ7fGlnAUOLlGYSp069RJcNMfwMkQ0QfmI8i5vZ6D08hp7GQgFh177v0ydf24-v5r1_ravb7XPoC_r4851fCyjczhMOKKljB4q6hQzKCjoTQVmgB3TJLkggoTRlsWThcVr4ZdW7mWcZjKTMhPKlDmObHKbkqEhCUqmexirxU5LQdAbEemTSzSmxqaaRiKXSgnJhStsFi_JFKgfaaz-0FSh7kd-7-6YdJypchBmODgHyPMDAIAIf6DNoHjsbYq3ztm6mfleHxkACzFdNaDwU-OxibEufhWEtd4Z8MLoJCndGHGH-PxK3mnG1o8R28lG1TM_2IDe6E7EgN9AJurfE3oObTRTbV1m--Q8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Operations:</h2>
<p>According to the comments on the <a href="https://codegolf.meta.stackexchange.com/questions/2140/sandbox-for-proposed-challenges/26150#26150">sandbox version</a> it is allowed to split operations into smaller suboperations</p>
<p>Atomics:</p>
<ul>
<li><code>#</code> push zero</li>
<li><code>0</code>-<code>9</code> pop number multiply by 10 add digit</li>
<li><code>$</code> pop two numbers push their sum and difference</li>
<li><code>:</code> duplicate top number</li>
<li><code>,</code> swap top two numbers</li>
<li><code>.</code> drop top number</li>
</ul>
<p>simulating operations from requirements:</p>
<ul>
<li><code>#</code> followed by sequence of digits pushes a number</li>
<li><code>$.</code> pops two numbers and pushes their sum</li>
<li><code>$,.</code> pops two numbers and pushes their difference</li>
</ul>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell Core</a>, 118 bytes</h1>

<pre class="lang-powershell prettyprint-override"><code>switch -r($args){\D{$a,$b,$s=$s}s{$s=$b,$a+$s}[-+]{$s=,(&quot;$b$_$a&quot;|iex)+$s}u{$s=$a,$a,$b+$s}r{$s=,$b+$s}\d{$s=,$_+$s}}$s
</code></pre>
<p><a href="https://tio.run/##bU5Nb4JAEL3zKyZkUyGyjWh66MGExLbXNtWbGrPCWjFY6A5EE@S30x02oBj3sm/ex8zL0pNUuJdJwsNUyZrtpmWNpzgP98CVw4T6QbdcvZVMeGzrMZwyrLCkX09iqKclH66J8BybbdmGCfsSy7NLUtEYdZLCRKjGaPAqMsOGhophXVlW4FignweBY/swhqHtgT2x3Vs2UmlGdI8daTOHiQn4/q32ClGRASdh1N80hkmzXwP/7oZOtNf7GplfAE@i6UCY6rlwgY9UvYtwzz@3BxnmUDYZlkvMZwKlB0yeMy3ICKbANn2VqA5zzJI4hwEMLONSEosk154ntoOg9d2LLeKHNP69ppdf81mBeXo0vdaBKUZvXoShRAQKd@W4/GtXPS9UfHTczr942LY719q@TQ@4dmqkyqqs@h8" rel="nofollow noreferrer" title="PowerShell Core – Try It Online">Try it online!</a></p>
<p>Takes an array in parameter containing the instructions, returns an array top to bottom.</p>
<p>Explanation for the previous version, but the idea is still more or less the same:</p>
<pre class="lang-powershell prettyprint-override"><code>switch -r($args){                       # for each of the instruction switch as regular expressions:
s{$a,$b,$s=$s;$s=$b,$a+$s}              # s for Swap
u{$b,$s=$s;$s=$b,$b+$s}                 # u for dUp
r{$b,$s=$s}                             # r for dRop
[+-]{$a,$b,$s=$s;$s=,(&quot;$b$_$a&quot;|iex)+$s} # + or - for subtract and sum
\d{$s=,$_+$s}                           # to push a number
}                                       # end of the foreach
$s                                      # return the stack
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Classic)</a>, 50 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>T←{(⍺⍺2↑⍵),2↓⍵}
p←+/T
m←¯1∘⊥T
x←⊃,⊢
s←⌽T
d←1∘↓
⎕←⎕
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v8/5FHbhGqNR727gMjoUdvER71bNXWAjMlARi1XAVBWWz@EKxdIH1pv@KhjxqOupSFcFUDuo65mnUddi7iKQeyevSFcKUAGWEXb5P//CxQMdYx0HvWu4UoBskB0gYKxTq6CkY6hAZibq1ChYAlmGQMVwpQY6VRAlRcrmALFjUFsAA" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online!</a></p>
<ul>
<li>Programs start on the right with <code>⍬</code> (empty array, called <em>zilde</em>) and run as their own lines, not as strings.</li>
<li><code>n,</code> pushes <code>n</code> onto the stack.</li>
<li><code>p </code> adds the top two.</li>
<li><code>m </code> subtracts the top from the second.</li>
<li><code>x </code> duplicates the top.</li>
<li><code>s </code> swaps the top two.</li>
<li><code>d </code> drops the top.</li>
</ul>
<p>Note that the spaces are necessary.</p>
<p>Polish notation is used, i.e. read right-to-left (opposite of the examples in the question), as APL itself is right-to-left.
The stack is stored and displayed top-to-bottom (opposite of the examples in the question).
E.g. using Polish notation <code>1 dup 2 +</code> becomes <code>p 2,x 1,⍬</code> and outputs <code>3 1</code></p>
<p>My first time using <em>dops</em> (user-defined operators) in APL. Doesn't seem too useful for golfing, unless you are defining multiple similar functions. <code>T</code> is a dop defined as <code>{(⍺⍺2↑⍵),2↓⍵}</code>. This is a monadic operator that takes a monadic function on the left, and applies it to the first two elements of the array on the right, then catenates with the rest of the array (you can even use this to define new stack operations).</p>
<p>Would love to know how this can be improved upon.</p>
<p>EDIT: There was a bug in my minus function that would negate the whole stack. None of the test cases noticed it though. Fixed now but had to add one byte.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 99 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>foldl(!)[]
s!c|c&lt;0= -c:s|1&lt;2=[j(+),j(-),\(n:x)-&gt;n:n:x,\(a:b:x)-&gt;b:a:x,tail]!!c$s
j o(a:b:x)=b`o`a:x
</code></pre>
<p><a href="https://tio.run/##LcmxDoMgFEDR3a@QxAFSXgJ2I9IfQRPxtVotBVIcOvjtpaTpdHNy7zY9bs7lJeg@z8FdHSXMDFUieGAndA2o0iG7VpuNnhjfKDDeU6/eDC5elRZZNf08KVu829UNhGCTqq0O/6mnMYzl5qddvY6v1e/NEgxIwaHlksOZiyF/cHZ2SRkwxi8" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Takes a list of integers as input, where:</p>
<ul>
<li><code>0</code>: sum</li>
<li><code>1</code>: subtract</li>
<li><code>2</code>: dup</li>
<li><code>3</code>: swap</li>
<li><code>4</code>: pop</li>
<li><code>-n</code>: push n</li>
</ul>
<p>Prints the stack as a list with the top element first.</p>
<hr />
<p>This works by building a list of functions and using the command integer to index into this list. Negative commands are managed separately.</p>
<p>The definitions of <code>dup</code>, <code>swap</code>, and <code>pop</code> are fairly straightforward, but rather than defining two separate functions for <code>sum</code> and <code>subtract</code> I've defined a single function <code>j</code> that takes an operator as an extra argument and applies this operator to the first two elements of the stack. Passing <code>(+)</code> and <code>(-)</code> to <code>j</code> then does the trick.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="nofollow noreferrer">Vyxal 3</a>, 29 bytes</h1>
<pre><code>⸠+⸠-⸠:⸠$⸠_W₈×£?Ṃ(nnK[⌊|O¥iĖ]W
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#WyJsIiwiIiwiKC4gYWRkKSAoLiBzdWIpICguIGR1cCkgKC4gc3dhcCkgKC4gcG9wKSB3cmFwIG5lZy0xICogc2V0LXJlZ1xuJ2ZvciAoaW5wdXQgc3BsaXQtc3BhY2VzKVxuICBuIG5cbiAgKGlzLW51bT8pID8gZmxvb3IgOiBvcmQgZ2V0LXJlZyBpbmRleCBjYWxsXG5jbG9zZS1hbGwgd3JhcCIsIiIsIjMgNSA2IGkgaSIsIjMuMy4wIl0=" rel="nofollow noreferrer">Try it Online! (link is to literate version)</a></p>
<p>Wow, the SBCS really doesn't do the beauty of literate mode justice:</p>
<pre><code>(. add) (. sub) (. dup) (. swap) (. pop) wrap neg-1 * set-reg
'for (input split-spaces)
  n n
  (is-num?) ? floor : ord get-reg index call
close-all wrap
</code></pre>
<p>Command set is:</p>
<pre><code>i -&gt; add
j -&gt; subtract
k -&gt; duplicate
l -&gt; swap
m -&gt; pop
[0-9]+ -&gt; number
</code></pre>
<h2>Explained</h2>
<pre><code>⸠+⸠-⸠:⸠$⸠_W₈×£?Ṃ(nnK[⌊|O¥iĖ]W­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏‏​⁡⁠⁡‌⁢⁣​‎‏​⁢⁠⁡‌⁢⁤​‎‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏‏​⁡⁠⁡‌⁣⁡​‎‎⁪⁡⁪⁠⁪⁤⁢⁪‏‏​⁡⁠⁡‌⁣⁢​‎‎⁪⁡⁪⁠⁪⁤⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁤⁪‏‏​⁡⁠⁡‌⁣⁣​‎‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁣⁤​‎‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁣⁪‏‏​⁡⁠⁡‌⁤⁡​‎‎⁪⁡⁪⁠⁪⁢⁡⁤⁪‏‏​⁡⁠⁡‌⁤⁢​‎‎⁪⁡⁪⁠⁪⁢⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁢⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁤⁣​‎‎⁪⁡⁪⁠⁪⁢⁢⁣⁪‏‏​⁡⁠⁡‌⁤⁤​‎‎⁪⁡⁪⁠⁪⁢⁢⁤⁪‏‏​⁡⁠⁡‌⁢⁡⁡​‎‎⁪⁡⁪⁠⁪⁢⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁢⁪‏‏​⁡⁠⁡‌⁢⁡⁢​‎‎⁪⁡⁪⁠⁪⁢⁣⁣⁪‏‏​⁡⁠⁡‌⁢⁡⁣​‎‏​⁢⁠⁡‌⁢⁡⁤​‎‎⁪⁡⁪⁠⁪⁢⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁡⁪‏‏​⁡⁠⁡‌­
⸠+⸠-⸠:⸠$⸠_W                    # ‎⁡Push a list of:
⸠+                             # ‎⁢  lambda x, y: x + y
  ⸠-                           # ‎⁣  lambda x, y: x - y
    ⸠:                         # ‎⁤  lambda (stack): stack.push(stack[-1])
      ⸠$                       # ‎⁢⁡  lambda (stack): stack[-2], stack[-1] = stack[-1], stack[-2]
        ⸠_                     # ‎⁢⁢  lambda (stack): stack.pop()
# ‎⁢⁣Technically, all these lambdas are monadic (take one argument) so far.
           ₈×                  # ‎⁢⁤Multiply each lambda by -1 to make them operate on the stack
             £                 # ‎⁣⁡And put the stack lambda list in the register
              ?Ṃ               # ‎⁣⁢Split the input on spaces,
                (              # ‎⁣⁣and to each command `n` in that,
                 nn            # ‎⁣⁤  Push two copies of `n`
                   K           # ‎⁤⁡  and test whether the second copy is numeric
                    [⌊         # ‎⁤⁢  if so, simply evaluate and leave on the stack
                      |        # ‎⁤⁣  otherwise:
                       O       # ‎⁤⁤    get the unicode code-point of `n`
                        ¥i     # ‎⁢⁡⁡    index into the register
                          Ė    # ‎⁢⁡⁢    and call the pushed lambda.
# ‎⁢⁡⁣That's the reason the command set was chosen - the ord value mod 5 corresponds to the lambda. Any set of 5 characters could have been chosen, but `i` was the closest to `d`, which I knew to be `100`.
                           ]W  # ‎⁢⁡⁤Close all structures, and wrap the stack when finished.
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu14" class="pu"><h1>Brain-flak, 294 bytes</h1>
<pre><code>{(()[]&lt;(({}()))({[()](&lt;{}&gt;)}(){}){{}&lt;&gt;({}{})((&lt;&gt;))}{}(({}()))({[()](&lt;{}&gt;)}(){}){
{}&lt;&gt;([{}]{})((&lt;&gt;))}{}(({}()))({[()](&lt;{}&gt;)}(){}){{}&lt;&gt;(({}))((&lt;&gt;))}{}(({}()))({[()
](&lt;{}&gt;)}(){}){{}&lt;&gt;(({}({}))[({}[{}])])((&lt;&gt;))}{}(({}()))({[()](&lt;{}&gt;)}(){}){{}&lt;&gt;{}
((&lt;&gt;))}{}&gt;[[]]){{}({}[()()()()()]&lt;&gt;)(((&lt;&gt;)))}{}{}{}}&lt;&gt;
</code></pre>
<p><a href="https://brain-flak.github.io/?c=lY3bCcAACAPXSXYQFxEnCe7e2Md3WwIiyUUFsDoADUhCBTZCk7ShoTSRTr0CkaS3N7o0/Yd3zF/0WSjP/cT@3F3gJrOqe929Aj5qx7igpVbuHQ&amp;o=8&amp;i=M1YwUjBV0DUBAA" rel="noreferrer">Try it Online!</a></p>
<p>What better way to &quot;Implement a simple stack language&quot; than by using &quot;a simple stack language&quot;! And also a nice excuse to show off a new online interpreter for brain-flak that I have been working on.</p>
<p>Conveniently, a lot of the behavior described in the challenge is built-in to how brain-flak works. For example, <em>Your program/function must output/return the stack after all instructions are performed sequentially</em> is just describing the fundamental operation of brain-flak. And also, we could take each of the listed operations and transliterate it to brain-flak:</p>
<pre><code># Sum
({}{})

# Subtract
([{}]{})

# Duplicate
(({}))

# Swap
(({}({}))[({}[{}])])

# Pop
{}
</code></pre>
<p>Unfortunately, transliteration does not a valid answer make. So we need to do a bit of parsing to figure out which operation to call.</p>
<p>Without clarification from OP (and seeing as many answers have assumed positive input integers), this answer assumes that &quot;push an arbitrary integer&quot; means &quot;an arbitrary positive integer&quot;. Here is the input format:</p>
<ul>
<li>-1: sum</li>
<li>-2: subtract</li>
<li>-3: duplicate</li>
<li>-4: swap</li>
<li>-5: pop</li>
<li>All other positive integers: Push that integer</li>
</ul>
<p>Technically, negative numbers other than 5 listed also work to push a number. 0 does not work.</p>
<p>(&quot;TOS&quot; means &quot;Top of Stack&quot;)</p>
<h3>Commented/readable version:</h3>
<pre><code># While primary stack is not empty...
{
    # Keep track of the stack height +1 at this point...
    (()[]&lt;

        # Increment TOS
        (({}()))

        # TOS != 0
        ({[()](&lt;{}&gt;)}(){})

        # If TOS != 0...
        {
            # OPCode -1: Sum
            # Pop two numbers and push their sum to the alternate stack
            {}
            &lt;&gt;
            ({}{})

            # Go back to main stack and replace TOS with 2 zeros
            ((&lt;&gt;))
        }{}

        # Increment TOS
        (({}()))

        # TOS != 0
        ({[()](&lt;{}&gt;)}(){})

        # If TOS != 0...
        {
            # OPCode -2: subtract
            # Pop two numbers and push their difference to the alternate stack. Second number - first number.
            {}
            &lt;&gt;
            ([{}]{})

            # Go back to main stack and replace TOS with 2 zeros
            ((&lt;&gt;))
        }{}

        # Increment TOS
        (({}()))

        # TOS != 0
        ({[()](&lt;{}&gt;)}(){})

        # If TOS != 0...
        {
            # OPCode -3: duplicate
            # to the alternate stack
            {}
            &lt;&gt;
            (({}))

            # Go back to main stack and replace TOS with 2 zeros
            ((&lt;&gt;))
        }{}

        # Increment TOS
        (({}()))

        # TOS != 0
        ({[()](&lt;{}&gt;)}(){})

        # If TOS != 0...
        {
            # OPCode -4: swap
            # on the alternate stack
            {}
            &lt;&gt;
            (({}({}))[({}[{}])])

            # Go back to main stack and replace TOS with 2 zeros
            ((&lt;&gt;))
        }{}

        # Increment TOS
        (({}()))

        # TOS != 0
        ({[()](&lt;{}&gt;)}(){})

        # If TOS != 0...
        {
            # OPCode -5: pop
            # from the alternate stack
            {}
            &lt;&gt;
            {}

            # Go back to main stack and replace TOS with 2 zeros
            ((&lt;&gt;))
        }{}


    # And see whether any extra values were added to the stack during that last bit
    # Essentially this means: &quot;Push a 1 if none of the opcodes in that snippet matched, otherwise 0&quot;
    # Additionally, if one of the opcodes matched, there will be an extra value on this stack. Remember that, it's important.
    &gt;[[]])

    # If none of the opcodes matched...
    {
        # Pop a useless '1'
        {}

        # Push TOS - 5 onto alternate stack
        # This is the original positive integer that needs to be pushed
        ({}[()()()()()]&lt;&gt;)

        # Push THREE zeroes onto main stack
        (((&lt;&gt;)))
    }

    # Pop three values off the stack
    {}{}{}

}

# Switch to main stack
&lt;&gt;
</code></pre>
<p>I'm certain this could be golfed further.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-a</code>, <s>101</s> 92 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>map{/\W$/?eval&quot;\$a[-2]$&amp;=pop\@a&quot;:/x/?pop@a:push@a,/d/?$a[-1]:/s/?(pop@a,pop@a):$_}@F;say&quot;@a&quot;
</code></pre>
<p><a href="https://tio.run/##HYvBCsIwEAV/ZQlBFBu3rQQkIsnJm2cPpshCCwrVLEalIv66MfYyPJg33N16ndKF@I1@L9F2T@qFl3RQdSMnGw7sHQmDA9q8HRl@xJOjAlu0/1fVGIxop6MsRs6MPH7cdh3pJXKbklpCDRoUtJkRBljB/Bv4fg7XmNROL8qqTIp@" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<h3>Operations:</h3>
<ul>
<li><p><code>+</code> = add</p>
</li>
<li><p><code>-</code> = subtract</p>
</li>
<li><p><code>s</code> = swap</p>
</li>
<li><p><code>d</code> = duplicate</p>
</li>
<li><p><code>x</code> = drop</p>
</li>
<li><p>Anything with a digit in it is assumed to be a number.  This implies that this will work with integers and floats as well as allowing a sign indicator at the front of the number.</p>
</li>
</ul>
<p>Operators and numbers must be separated from each other by at least one space.  No error checking was specified, so this code does not do any.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 143 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>([]#).words
(a:b:s)#(c:r)|c==&quot;s&quot;=(b:a:s)#r|c==&quot;+&quot;=(a+b:s)#r|c==&quot;-&quot;=(b-a:s)#r
(a:s)#(c:r)|c==&quot;d&quot;=(a:a:s)#r|c==&quot;x&quot;=s#r
s#(n:r)=(read n:s)#r
s#_=s
</code></pre>
<p><a href="https://tio.run/##VczLCsIwEIXhvU8xJC5SSsQL3QTmSVRkmrRaTGPJCHbhsxsbu1C3P985F@Jr431q8ZDU/iiL1eMWHS8UmdpwIZU1sXhaRMECVW0ox/gJ5RSorL9BZ6FnkQ/@5i7r3/kokCfHUoXJoIoNOQjzmOUJOfXUBRxiF@7LVmxgC3q3rmCEEhxUwKBFetnW05mTtsPwBg" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<h2>Operations</h2>
<ul>
<li><code>+</code> Add</li>
<li><code>-</code> Subtract</li>
<li><code>s</code> Swap</li>
<li><code>d</code> Dupe</li>
<li><code>x</code> Drop</li>
<li>Everything else is interpreted as a number</li>
</ul>
<p>All commands are separated by spaces, and this code does no error checking.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, <s>321</s> <s>320</s> 312 bytes</h1>
<pre class="lang-go prettyprint-override"><code>import(.&quot;strings&quot;;.&quot;fmt&quot;)
func f(c string)(o[]int){for _,e:=range Fields(c){n,a,b,A:=0,0,0,len(o)-1
B:=A-1
if A&gt;-1{a=o[A]}
if A&gt;0{b=o[B]}
switch e{case&quot;D&quot;:o=o[:A]
case&quot;d&quot;:o=append(o,a)
case&quot;s&quot;:o=append(o[:B],a,b)
case&quot;+&quot;:o=append(o[:B],b+a)
case&quot;-&quot;:o=append(o[:B],b-a)
default:Sscan(e,&amp;n);o=append(o,n)}}
return}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZVLBitswEKVXfcVUkCIROcQJC1sHLzhkeyylyS0NRbHl1NSRvZa8bRH-h957CYV-Rn-kX1PJcrJZFh2keW9mNPNmfv0-VKe_NU-_8oOAIy8kKo511WhYY1UWqVD4T6vz4Pbfq1tPkAlWuinkQeHFBOdHjSnKW5lCTlLwDCXVdldITU1eNfCZiShuuLT53xWizBRJqZGMsz1LonjK3CmFJBUNQrSM4sReRQ7JXRAaHlfbZNd5e2r21lxaU30rdPoFhEm5EniFo8oSUbJDvZ05m9e1kBmpGKceVdfoNlruXAUDN37B7cfnuOAlF1guEzlvSx2tVcolEeyNpIurXyXtOtQI3TayOwv4U_-oBWycSG2qwRSyHgRbgPheQ69Zh7yabhSEgkFaKK0gii29McjgEGYwxsx7m3nXsR5cXaABmVq_AOZXvmHoqbeQQXBBp-cMM5g_ubIZu6TOnv0Ynom5hW9APZXCbtjMUbaFD7YrXUqC4ziG9Sb5uAH7cpvSL4R2_fiV8O0ZxNMezImeWF2om_jr9eT-oeWlhaw8DKyLFaRPnRM8eoD4DkaPQEaP9JO0ZfSRvZt72xDa2VqelQL371cwlIKGwZxO_v4P" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Very straight-forward split-on-spaces then switch-on-token.</p>
<p>-1 by aliasing indexes and elements.
-8 by using the following instruction names:</p>
<ul>
<li><code>D</code>rop</li>
<li><code>d</code>uplicate</li>
<li><code>s</code>wap</li>
<li><code>+</code>, <code>-</code>, and integers</li>
</ul>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a> <code>-p</code>, 50 bytes</h1>
<pre><code>V&quot;lPU:&quot;.{@a?a(a.&quot;POl+:POl 0l@&gt;:2 @l lPK1&quot;^sa)}MJgl
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m724ILNgWbSSboFS7IKlpSVpuhY3jcKUcgJCrZT0qh0S7RM1EvWUAvxztK2AhIJBjoOdlZGCQ45CToC3oVJccaJmra9Xeg5Up3W1NZeJkUJBaXGGgokRV6YChGnAZaCtoM1loKugy2VgqJBSlF_AZWCkkFIKpIwVissTC7isayFGbIpWMlbSUTICYlMgNjCGOwsA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes commands as separate command-line arguments. Outputs the final stack as a list, top first. The commands are as follows:</p>
<pre><code>42  push nonzero number
i   push 0
0+  +
0-  -
01  drop
02  dup
03  swap
</code></pre>
<h3>Explanation</h3>
<p>As usual for language interpreters in Pip, this is a translate-and-eval solution. Since <code>l</code> is preinitialized to the empty list, we'll use that to store the stack. The overall logic of the program is:</p>
<pre class="lang-lisp prettyprint-override"><code>V&quot;lPU:&quot;.{...}MJgl
               g   ; List of command-line args
             MJ    ; Map this function to each and join into a single string:
        {...}      ;   Translation code (see below)
 &quot;lPU:&quot;.           ;   Prepend lPU: to each translated command
V                  ; Evaluate
                l  ; Print the final value of l (formatted nicely by -p flag)
</code></pre>
<p>Inside the translation function:</p>
<pre class="lang-lisp prettyprint-override"><code>@a?a(a.&quot;POl+:POl 0l@&gt;:2 @l lPK1&quot;^sa)
@a                                    ; First character of command
  ?                                   ; Is it truthy (nonzero)?
   a                                  ; If so, return unchanged (this is a push command)
    (                             a)  ; Otherwise, treat the command as an index into...
     a.&quot;                       &quot;      ;   Prepend the command to this string
                                ^s    ;   and split on spaces
</code></pre>
<p>which boils down to the following translation table:</p>
<pre class="lang-lisp prettyprint-override"><code>42  lPU:42          ; Push 42 onto l
i   lPU:i           ; Push i (preinitialized to 0) onto l
0+  lPU:0+POl+:POl  ; Pop number, add 0, pop another number, add, push result
0-  lPU:0-POl+:POl  ; Pop number, subtract from 0, pop another number, add, push result
01  lPU:0l@&gt;:2      ; Push 0, then remove first two elements of l
02  lPU:@l          ; Push first element of l
03  lPU:lPK1        ; Remove element at index 1, then push it
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.gnu.org/software/flex/" rel="nofollow noreferrer">flex</a>, 179 bytes</h1>

<pre class="lang-bash prettyprint-override"><code>%{
s[9];i;t;
%}
%%
a s[--i-1]+=s[i];
s s[--i-1]-=s[i];
d s[i++]=s[i-1];
x s[i-2]^=s[i-1]^(s[i-1]=s[i-2]);
p --i;
[0-9]+ s[i++]=atoi(yytext);
\n for(t=i;t--;)printf(&quot;%d &quot;,s[t]);
%%
</code></pre>
<p><a href="https://tio.run/##PZDBboMwDIbP81NYVdOCWFhhJxTYbbvuAVgqZRAgEiKIRCpo2rMzM7qd/PuT/eu3P5Xr1qbXM@b56/vbyr7AlZkURngB7BsYA4Wu5NzwREaFK40U4P4Jv5OaiIkiubWEBcwb4Km83sk12Gux41DAiGQhoLzwTEZ/68pbEyyL17OnkY8BGzsFvqA0nItwnMzgm@DAajw8utJvNoytlBugrSrkN6RL4mWJSVt0vRpa5H3TA9w602uctKpxnGwrsLbwoKvOIh/wuCE88xc84@mEv/gYxE@7QZ7n@0QItR30mmCKChIcIbmQdPhMbYb0AkhJ0@XwAw" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a></p>
<p>Uses:</p>
<ul>
<li><code>[0-9]+</code> push a number</li>
<li><code>a</code> sum</li>
<li><code>s</code> difference</li>
<li><code>d</code> dup</li>
<li><code>x</code> swap</li>
<li><code>p</code> drop</li>
</ul>
</div>
<div id="pu20" class="pu"><h1><a href="https://nodejs.org" rel="noreferrer">JavaScript (Node.js)</a>, 103 bytes</h1>
<p>-2bytes by l4m2</p>
<pre class="lang-javascript prettyprint-override"><code>p=&gt;p.split` `.reduce(([a=[],b=[],...S],i)=&gt;[{A:a+b,S:b-a,X:[b,a],P:b}[i]??[1/i?+i:a,a,b],S].flat(2),[])
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kLz8ldcGiNNulpSVpuhY30wts7Qr0igtyMksSFBL0ilJTSpNTNTSiE22jY3WSQISenl5wrE6mpq1ddLWjVaJ2kk6wVZJuok6EVXSSTmKsToBVUm10Zqy9fbShfqa9dqZVok6iTlKsTnCsXlpOYomGkaZOdKwm1Lp1yfl5xfk5qXo5-ekaaRrqhgpGCo7qmppcGOIB2EQNgMqDFYyxarFUcFEIxmqUkYIxVnEXHJYbA8VNFSKAMhBXL1gAoQE" rel="noreferrer">Attempt This Online!</a></p>
<p>Operators:</p>
<ul>
<li><code>A</code>: Add</li>
<li><code>S</code>: Sub</li>
<li><code>D</code>: Dupe</li>
<li><code>X</code>: eXchange</li>
<li><code>P</code>: Pop</li>
<li><code>\d+</code>: push Number</li>
</ul>
<p>One space between each tokens.</p>
<p>Output is the array where first value is stack top, and last value is stack bottom.</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 114 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>f=-&gt;s,*r{s[/.+? ?/]?f[$',*r+(s&gt;?/?[s.to_i]:(q=r.pop;s&gt;?.?[q,q]:s&gt;?-?[]:(w=r.pop;s&gt;?,?[q-w]:s&gt;?+?[q,w]:[q+w])))]:r}
</code></pre>
<p><a href="https://tio.run/##VYq7CgIxEEV7vyKFkI15oXaR3fmQYRAsAlabhxJE/PY42mi6c@655X559B5nu1SzK8@K3mkQ4AkibiVPeqoLeMDqbuv5SmHKc3FpTSeeHWA2mQKjBeTWfs1ws@3b9OfGiFk3UkpRKK@eRES5FwdxFF7S5k/dqHZUM6qW1N8" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<h3>Usage</h3>
<ul>
<li><code>/</code> dup</li>
<li><code>.</code> drop</li>
<li><code>-</code> subtract</li>
<li><code>,</code> swap</li>
<li><code>+</code> add</li>
</ul>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 48 bytes</h1>
<pre><code>ＷＳ≡§ι¹+⊞υ⁺⊟υ⊟υ-⊞υ⁻⊟υ⊟υr≔⊟υιu⊞υ↨υ⁰wＦＥ²⊟υ⊞υκ⊞υＩιＩυ
</code></pre>
<p><a href="https://tio.run/##fY@5CsMwEER7fYVwtcI25OjiykmVImDIFwifIkISOuJAyLcraxNsV2l22Nk3A1sP3NaayxjHQciWwlWZ4O/eCtUDY9SNwtcDhdJfVdO@QGR0j/ab1Ny1NEmTE62CGyBktJLBQaUNBIbLrIwVPzDfgDeh/pAWydI50asFEcsxbGrO6Ey6W7MjnjttKdy4gcPavWQeiDZtx4P0a9GFOw9iavmQCh/3MDsYLGI8kj1xIzeksRpHMORAUhLzp/wC" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes a list of newline-terminated words as input (could save two bytes by requiring symbols). Explanation:</p>
<pre><code>ＷＳ≡§ι¹
</code></pre>
<p>For each input string, switch on its second character.</p>
<pre><code>+⊞υ⁺⊟υ⊟υ
-⊞υ⁻⊟υ⊟υ
r≔⊟υι
u⊞υ↨υ⁰
wＦＥ²⊟υ⊞υκ
</code></pre>
<p>Handle <code>+</code>, <code>-</code>, <code>drop</code>, <code>dup</code> and <code>swap</code> respectively.</p>
<pre><code>⊞υＩι
</code></pre>
<p>Anything else is assumed to be a number to be pushed to the stack.</p>
<pre><code>Ｉυ
</code></pre>
<p>Output the final stack.</p>
</div>
<div id="pu23" class="pu"><h2>Regex (PCRE 2), 104 bytes (60 + 46)</h2>
<ul>
<li>+2 bytes to properly remove excess spaces after <code>~</code> commands</li>
</ul>
<p>Search:</p>
<pre><code>((1+) (1+) a)|((1+) \5(1+) -)|((1+) :)|((1+) (1+) s)|(1+ ~ ?)
</code></pre>
<p>Replacement:</p>
<pre><code>${1:+$2$3:${4:+$6:${7:+$8 $8:${9:+$11 $10:}}}}
</code></pre>
<p>Input and output in unary.</p>
<p>Each regex substitution resolves one operation, so you need to repeatedly use the regex to replace until the result doesn't change to get a final output.</p>
<p><a href="https://regex101.com/r/7CHzB8/3" rel="noreferrer">Try it online!</a></p>
<p>No language seems to support the PCRE 2 replacement syntax to allow writing an easy wrapper</p>
<ul>
<li><code>11111</code> push a number in unary</li>
<li><code>a</code> add 2 numbers</li>
<li><code>-</code> subtract the first number from the second</li>
<li><code>:</code> duplicate</li>
<li><code>s</code> swap</li>
<li><code>~</code> pop</li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/267442/">267442</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




