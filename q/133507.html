<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::133507</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>090</td><td>AWK</td><td>250908T200835Z</td><td><a href="https://codegolf.stackexchange.com/questions/133507/annnounnnccceeerrr-voiccceee/283591#283591">xrs</a></td></tr>
<tr d-ix="1"><td>nan</td><td>Perl 5</td><td>170824T024921Z</td><td><a href="https://codegolf.stackexchange.com/questions/133507/annnounnnccceeerrr-voiccceee/140301#140301">Xcali</a></td></tr>
<tr d-ix="2"><td>090</td><td>APL</td><td>170721T193410Z</td><td><a href="https://codegolf.stackexchange.com/questions/133507/annnounnnccceeerrr-voiccceee/133864#133864">marinus</a></td></tr>
<tr d-ix="3"><td>129</td><td>JS ES6</td><td>170720T204726Z</td><td><a href="https://codegolf.stackexchange.com/questions/133507/annnounnnccceeerrr-voiccceee/133638#133638">ABot</a></td></tr>
<tr d-ix="4"><td>238</td><td>Python 3</td><td>170720T202055Z</td><td><a href="https://codegolf.stackexchange.com/questions/133507/annnounnnccceeerrr-voiccceee/133626#133626">hyperneu</a></td></tr>
<tr d-ix="5"><td>417</td><td>Python</td><td>170720T194737Z</td><td><a href="https://codegolf.stackexchange.com/questions/133507/annnounnnccceeerrr-voiccceee/133611#133611">Quuxplus</a></td></tr>
<tr d-ix="6"><td>175</td><td>APL Dyalog</td><td>170720T105038Z</td><td><a href="https://codegolf.stackexchange.com/questions/133507/annnounnnccceeerrr-voiccceee/133526#133526">Ad&#225;</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.gnu.org/software/gawk/" rel="nofollow noreferrer">AWK</a>, 90 bytes</h1>
<pre><code>{for($0=toupper($0);i++&lt;NF;x+=$i~/[AEIOU]/){$i~/ /&amp;&amp;x=0
printf($i!~$(i-1)?x?$i$i$i:$i:X)}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m704sTx7wWonV3dPv2q3YNuI2qWlJWm6FjejqtPyizRUDGxL8ksLClJBTE3rTG1tGz836wptW5XMOv1oR1dP_9BYfc1qEE9BX02twtaAq6AoM68kTUMlU7FORSNT11DTvsJeJRMErYAoQrMWasMCKLWhuDQvJbFSAUIBAUQcAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 139 + 1 (-p) = 140 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>$_=uc,s/^([^AEIOU]*)//,$s=$1,s/([^AEIOU])\1*/$1x(($q=length$&amp;)&gt;3?$q:3)/ge,s/.*?\K([AEIOU])\1*/$1x(($q=length$&amp;)&gt;3?$q:3)/e,print"$s$_ "for@F
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/18l3rY0WadYP04jOs7R1dM/NFZLU19fR6XYVsUQKAwX1Ywx1NJXMazQ0FAptM1JzUsvyVBR07QztlcptDLW1E9PBSrW07KP8daIJkpDqk5BUWZeiZJKsUq8glJafpGD2///iUCQBATJ//ILSjLz84r/6/qa6hkYGvzXTQQA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>

<p>Even handles the "aaaabbbbc" test case in accordance with the example.</p>
</div>
<div id="pu2" class="pu"><h1>APL, 90 bytes</h1>

<pre><code>{1↓∊{s←{⍵⊂⍨1,2≠/⍵}⋄x↑⍨¨(3⌈≢¨s⍵)⌊≢¨x←s⍵/⍨(1+2×{⌽&lt;\⌽⍵}∨~∧∨\)⍵∊'AEIOU'}¨w⊂⍨w=⊃w←' ',1(819⌶)⍵}
</code></pre>

<p>Explanation:</p>

<ul>
<li><code>1(819⌶)⍵</code>: convert to uppercase</li>
<li><code>w⊂⍨w=⊃w←' ',</code>: split on spaces</li>
<li><code>{</code>...<code>}¨</code>: for each word...

<ul>
<li><code>s←{⍵⊂⍨1,2≠/⍵}</code>: <code>s</code> is  a function that splits a string into groups of contiguous matching characters</li>
<li><code>⍵∊'AEIOU'</code>: mark the vowels</li>
<li><code>(</code>...<code>)</code>: see which characters to triplicate

<ul>
<li><code>~∧∨\</code>: all consonants past the first vowel,</li>
<li><code>{⌽&lt;\⌽⍵}</code>: the last vowel.</li>
<li><code>2×</code>: multiply the bit vector by two,</li>
<li><code>1+</code>: and add one. Now all selected characters have <code>3</code> and the rest have <code>1</code>.</li>
</ul></li>
<li><code>⍵/⍨</code>: replicate each character in <code>⍵</code> by the given amount </li>
<li><code>x←s</code>: split it up into strings of matching characters, and store this in <code>x</code>.</li>
<li><code>(3⌈≢¨s⍵)</code>: the length of each group of matching characters in the input word, with a maximum of 3.</li>
<li><code>⌊≢¨</code>: the minimum of that and the lengths of the groups in <code>x</code>.</li>
<li><code>x↑⍨¨</code>: make each group be that length</li>
</ul></li>
<li><code>1↓∊</code>: flatten the result and drop the first character (the space that was added at the beginning to help with splitting)</li>
</ul>
</div>
<div id="pu3" class="pu"><h1>JS (ES6), <s>138</s> <s>134</s> 129 bytes</h1>
<pre><code>s=&gt;s.toUpperCase()[r=&quot;replace&quot;](/(\w)\1/g,&quot;$1&quot;)[r](/[AEIOU](?=[^AEIOU]*( |$))/g,s=&gt;s+s+s)[r](/\B./g,s=&gt;/[AEIOU]/.test(s)?s:s+s+s)
</code></pre>
<p>WAAAYYY TOOO MAAANNNYYY BYYYTTTEEESSS. Contains <code>AEIOU</code> 3 times, but I can't golf those into one.</p>
<p><a href="https://codegolf.stackexchange.com/q/133642/72412">-4 bytes thanks to HyperNeutrino</a></p>
<h3>Ungolfed</h3>
<pre><code>function v(str){
    return str.toUpperCase().replace(/(\w)\1/g,&quot;$1&quot;).replace(/[AEIOU](?=[^AEIOU]*( |$))/g,s=&gt;s+s+s).replace(/\B./g,s=&gt;[...&quot;AEIOU&quot;].includes(s)?s:s+s+s);
}
</code></pre>
<p><em>I like to write, not read code.</em></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 238 bytes</h1>



<pre class="lang-python prettyprint-override"><code>def f(s):
 s=s.upper();k=[s[0]];s=''.join(k+[s[i]for i in range(1,len(s))if s[i]!=s[i-1]])
 for i in range(1,len(s)):k+=[s[i]]*(3-2*(s[i]in'AEIOU'and i!=max(map(s.rfind,'AEIOU'))))
 return''.join(k)
print(' '.join(map(f,input().split())))
</code></pre>

<p><a href="https://tio.run/##dU67DsIwDNz7FWaKA6XisRVlYGBgYmJCGSI1AdPiRkkqwdeXFCE2bjhbd76T/Svdet6OY2MdOIyyLiCqWA3e24By16pLvKy03kUlRHXvibFdZIm06wMQEEMwfLW4LjvLOS/JwWTPVOblWmtZwL/Tul2oT5ee43a5meO0E4v94Xg6C8MN0Ew9zBMfxmOsgiNuyq8rMwoINg2Bf5/JwgfihAK@yhR0JbEfEsoq@o7yzBhHk5LlRD2D76yJ9g0" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h2>Python, 417 bytes</h2>

<p>Here's a reference implementation in Python. Not terribly golfed.</p>

<pre><code>import itertools,re
def j(s):return re.match('^[AEIOU]+$',s)
def c(s):return ''.join(sum(([h,h,h]for h in[k for k,g in itertools.groupby(s)]),[]))
def v(s):
 while len(s)&gt;=2 and s[-2]==s[-1]:s=s[:-1]
 return s+s[-1]+s[-1]
def a(n):
 r=''
 for w in n.split():
  if r:r+=' '
  ss=re.split('([AEIOU]+)',w.upper())
  for i,s in enumerate(ss):
   r+=[v(s),s][any(j(t) for t in ss[i+1:])]if j(s)else[s,c(s)][i&gt;0]
 return r
</code></pre>

<p>Test with:</p>

<pre><code>while True:
 print a(raw_input('&gt; '))
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.dyalog.com/" rel="noreferrer">APL (Dyalog)</a>, 175 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>1↓' +'⎕R' '⊢'[AEIOU][^AEIOU]+ '⎕R{m/⍨1,3×2≠/m←⍵.Match}'([AEIOU])\1*([^AEIOU]*? )' ' [AEIOU]' ' [^ AEIOU]+' '([^AEIOU ])\1*'⎕R'\1\1\1\2' '&amp;' '&amp;' '\1\1\1'⊢'$| |^'⎕R'  '⊢1(819⌶)⍞
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///qKM9OCO/tOS/4aO2yeoK2uqP@qYGqSuoP@papB4d5@jq6R8aq60AFq021n/UsepR71Y938SS5IxadY1oiLxmjKGWBkyxlr2CJlC/AlQOzIxTgBoE5MEUKoC1QayLMQRDI6C0GhRDhMDOUKlRqImDugvsMEMNC0PLRz3bNB/1zgN54L8CGID9wVVcmpeSWKkAobiQZXIzExUyEnNzUQSTM1KLS1KLFBJzEvMUEotKMkqLUOQTS0pS80oy8/MUCnJSE4tTuVDtKkgtSk7MyUwrSkzPzMksLslMTq0oyASKpOQnZ@aXFqM6ID8fAA" rel="noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p><code>⍞</code> prompt for character input</p>

<p><code>1(819⌶)</code> convert to uppercase (819 ≈ Big)</p>

<p><code>⊢</code> pass the result further (serves to separate the strings and the 1)</p>

<p><code>'$| |^'⎕R'  '</code> <strong>R</strong>eplace:<br>
 the end, any space, and the beginning<br>
 → two spaces</p>

<p><code>⊢</code> pass the result further (serves to separate two groups of strings)</p>

<p><code>'([AEIOU])\1*([^AEIOU]*? )' ' [AEIOU]' ' [^ AEIOU]+' '([^AEIOU ])\1*'⎕R'\1\1\1\2' '&amp;' '&amp;' '\1\1\1'</code> <strong>R</strong>eplace:<br>
 any number of identical vowels and any number of non-vowels and a space<br>
 → the vowel thrice and the unmodified consonants<br>
 a space and a vowel<br>
 → themselves<br>
 a space and a consonant cluster<br>
 → themselves<br>
 a run of identical consonants<br>
 → three of those vowels</p>

<p><code>'[AEIOU][^AEIOU]+ '⎕R{</code>…<code>}</code> <strong>R</strong>eplace:<br>
 a run of non-vowels and a space<br>
 → the result of the following anonymous function with the namespace <code>⍵</code> as argument:<br>
  <code>⍵.Match</code> the text that was found<br>
  <code>m←</code> assign that to <code>m</code><br>
  <code>2≠/</code> pair-wise different-from<br>
  <code>3×</code> multiply by three<br>
  <code>1,</code> prepend one<br>
  <code>m/⍨</code> use that to replicate <code>m</code></p>

<p><code>⊢</code> pass the result further (serves to separate two strings)</p>

<p><code>' +'⎕R' '</code> <strong>R</strong>eplace:<br>
 one or more spaces<br>
 → with a single space</p>

<p><code>1↓</code> drop the initial letter (a space)</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/133507/">133507</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




