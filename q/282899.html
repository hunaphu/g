<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::282899</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>132</td><td>JavaScript ES6</td><td>250801T102802Z</td><td><a href="https://codegolf.stackexchange.com/questions/282899/whats-left-after-repeatedly-removing-palindromes/282903#282903">Arnauld</a></td></tr>
<tr d-ix="1"><td>113</td><td>Perl 5 pl</td><td>250801T231611Z</td><td><a href="https://codegolf.stackexchange.com/questions/282899/whats-left-after-repeatedly-removing-palindromes/282916#282916">good old</a></td></tr>
<tr d-ix="2"><td>233</td><td>Python3</td><td>250801T153528Z</td><td><a href="https://codegolf.stackexchange.com/questions/282899/whats-left-after-repeatedly-removing-palindromes/282907#282907">Ajax1234</a></td></tr>
<tr d-ix="3"><td>214</td><td>JavaScript Node.js</td><td>250801T084636Z</td><td><a href="https://codegolf.stackexchange.com/questions/282899/whats-left-after-repeatedly-removing-palindromes/282902#282902">rydwolf</a></td></tr>
<tr d-ix="4"><td>014</td><td>Nekomata</td><td>250801T034829Z</td><td><a href="https://codegolf.stackexchange.com/questions/282899/whats-left-after-repeatedly-removing-palindromes/282900#282900">alephalp</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (ES6), 132 bytes</h1>
<p>I/O format: arrays of characters.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(s,_=o=s)=&gt;s.map((n,i)=&gt;s.map(_=&gt;s.slice(i,++n/2+i).some(c=&gt;c!=s[--j],j=i+n)||f(q=[...s],q.splice(i,n)),n=2),s[o.length]?0:o=s)&amp;&amp;o
</code></pre>
<p><a href="https://tio.run/##bZHBbsMgDIbvfQqWQwUKpVOPq@hOe4ooqhxCErLETkO0alPfPYOm2rqpBktY//cbC1r4AG9GN0wbpNLOc6W5l0dN2gt98KqHgXOU7qc4xoPvnLHcyTTF7S51QnnqLTf6YJ60zzabNpetdimKy6XiJ50ppXwuT8oPNyMKIVHvhPQZqc5iPTX56/NLvHW9pnmfrRhLCvgieocC@sIhJZLdxXbLFvmqLXQPXUhDhoq/cKS57Yfpk/lpdFiLq4GoGolGMNbAiAAYioqoDObYvoxQTf8X0vnWPUDnyCAN0Dksx/AI3uHUOE9oFygwj@VoNIAQsqSpCSNg2L9zB6OBOyXyAQ5RJOxBxIlX@UpVNL6Babhn@sAMoafOqo5qXvHlG4RqySFPEiHEfv4G" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (                // f is a recursive function taking:
  s,                 //   s[] = input
  _ = o = s          //   o[] = output, initialized to the input
) =&gt;                 //
s.map((n, i) =&gt;      // for each character at index i in s[],
                     // with n ignored but declared in this scope:
  s.map(_ =&gt;         //   for each character in s[]:
    s.slice(         //     extract the slice of s:
      i,             //       which starts at i
      ++n / 2 + i    //       of length n / 2 (implicitly floored)
    )                //       where n is pre-incremented
    .some(c =&gt;       //     for each character c of this slice:
      c != s[--j],   //       decrement j and compare c with s[j]
                     //       in order to test if we have a palindrome
                     //       of length n (NB: if n is odd, the middle
                     //       character can be anything)
      j = i + n      //       starting with j = i + n
    ) ||             //     end of some()
    f(               //     if falsy, do a recursive call:
      q = [...s],    //       q[] = copy of s[]
      q.splice(i, n) //       remove the palindrome from q[]
    ),               //     end of recursive call
    n = 2            //     start with n = 2
  ),                 //   end of inner map()
  s[o.length] ?      //   if s[] is longer than o[]:
    0                //     do nothing
  :                  //   else:
    o = s            //     update o[] to s[]
) &amp;&amp; o               // end of outer map(); return o[]
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-pl</code>, 113 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>chomp(@a=$s=$_);(pop@a)=~/(((.)(?2)\3|(.)(.)\5?\4)(?{push@a,$`.$'})|(?{length$s&gt;pos?$s=$_:1}))(*F)/ while@a;$_=$s
</code></pre>
<p><a href="https://tio.run/##XU3LTsMwELz7KzhYwkaQikcvrUJy4isilbXr1hbOjhUHVYKWTycsHJnd0e7MYaaEKa@XxUeMxfTU6trqnd2agtKTbb9WxpjGmu7BDo/n36@xw7obnsT6LO819nSrXxt9fbFncXLg4xx1fS6o3V/U5v5irbl5saurU0w59LTVO2lZFkcfwBs5Gl1iKLmUhR4eTjngMAET@eBpYiIWcQD26oj/wzgpRqGceD9hDDXxHFMFB@WJSbjHHCWHZZVogftGmRO4Lncl/wA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>Speed is not great. Hopefully &quot;recursively removing palindromes&quot; condition is satisfied, because there's recursive regex pattern in solution. I'd claim further &quot;-7&quot; from the score -- chomping is only required for the &quot;nice&quot; TIO many-inputs-in-the-same-screen presentation, not for an input of a single string w/o trailing LF (the same about &quot;-l&quot; switch.)</p>
<p>More readable:</p>
<pre class="lang-perl prettyprint-override"><code>chomp ( @a = $s = $_);

( pop @a ) =~ /
    (
        ( (.)(?2)\3 | (.)(.)\5?\4 )
        (?{ push @a, $` . $' })
        |
        (?{ length $s &gt; pos ? $s = $_ : 1 })
    )
    (*F)
/x while @a;

$_ = $s
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Python3, 233 bytes</h1>
<pre class="lang-py prettyprint-override"><code>def f(s):
 q,r,S=[s],[],[s]
 for s in q:
  if[]==(o:=[(i,j)for i in range(len(s))for j in range(i+1,len(s)+1)if s[i:j]==s[i:j][::-1]and j-i&gt;2]):r+=[s]
  for i,j in o:
   if(U:=s[:i]+s[j:])not in S:S+=[U];q+=[U]
 return min(r,key=len)
</code></pre>
<p><a href="https://tio.run/##XY7BboMwDIbvPEVuTQQ9dLtMmdhLVD1FOQRIWtNiU4dp6l6eGXrYWGzLij/bv8fHdCF8fRt5nruYVNLZ2ELdK66Otcu@cuLZFyoRq6wA1V2wguR8XWuytdNQ9WahsFAOeI76FlH2rNX@twrloXqS8mAgqezA9rLmmZ21@4MP2Kl@Dx8v3lgu61V61RaVZRMt6iKvT1bmLPgyu956gzQt@GiPMnTy7/c1FYrj9MmoBkDN1TU@ajnAzCMDTjrpXRO@ia6hCUMDSDtjij9oCDeJllpqtoQoMRGHNraBMQSUTyLqNl1n@m9IX5sOpDHcADumIWapXSATxk1LGzBIdDRdRAvFN1iYvOW6@Qc" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 214 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=s=&gt;[...s,t=[]].map((_,i,a)=&gt;[...Array(i).keys()].map(j=&gt;j&lt;i-2&amp;&amp;s.slice(j,(j+i)/2|0)==a.slice((j+i+1)/2|0,i).reverse().join``&amp;&amp;t.push(s.slice(0,j)+s.slice(i))))&amp;&amp;0 in t?t.map(f).sort((x,y)=&gt;x.length-y.length)[0]:s
</code></pre>
<p><a href="https://tio.run/##hU7bTsMgGL73KZZdNJAxrLtUO@NzLIv7S@lKR/kbwG01vnvF0pl4qOOQwHf8aziCE1a1fmmwkH1fZi5bbzjnjvlss93yBlpCXphiQCPxbC10RFF@kJ0jNCrqbF0/quUqSRx3WglJakbqhaK3q/eUZhmM6Ce2uBtQFiKsPErrJKG8RmV2uyTxvH11FbmkpKymi8tH0bCSJJ0pM/NPfiguKXdoPSFn1oUBz1xLs/fVshsfdJNu710v0DjUkmvcE2KzksznNIw1nzNLH25@sxBpmORzMSrCY0KjUV8p@VJM9lSgg0hpqP6PyuEN8QA5NLkyGLURi8CkrQEdrkCB@ZUGxNIiWhBSgDUAJnxKxGIsK6aMe/y5DZ6i6TTlMdiCVqaw2EinjK@UQyOjaYL7O0mAgXAL9FUY24QzZHyHBm//AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<ul>
<li><code>f=s=&gt;...</code>: Define a function <code>f</code> (named so recursion is possible) which solves the challenge for a string <code>s</code></li>
<li><code>[...s,t=[]].map((_,i,a)=&gt;...)</code>: For every integer <code>i</code> from <code>0</code> to the length of <code>s</code>, do the following... (with the characters of <code>s</code> stored in the array <code>a</code>)
<ul>
<li><code>[...Array(i).keys()].map(j=&gt;j&lt;i-2&amp;&amp;...)</code>: For every integer <code>j</code> from <code>0</code> to <code>i-1</code>, where <code>j &lt; i-2</code>, do the following...
<ul>
<li><code>s.slice(j,(j+i)/2|0)==a.slice((j+i+1)/2|0,i).reverse().join``</code>: Check if the slice of <code>s</code> ranging from <code>j</code> to <code>i</code> is a palindrome</li>
<li><code>...&amp;&amp;t.push(s.slice(0,j)+s.slice(i))</code> If so, push the section of <code>s</code> without the palindrome to <code>t</code></li>
</ul>
</li>
</ul>
</li>
<li><code>&amp;&amp;0 in t?...:s</code>: Now, if <code>t</code> is empty, return <code>s</code> unchanged. Otherwise, one or more palindromes was found</li>
<li><code>t.map(f)</code>: For each palindrome found in <code>s</code>, recursively apply <code>f</code> to the parts of <code>s</code> without that palindrome</li>
<li><code>.sort((x,y)=&gt;x.length-y.length)[0]</code>: Choose the shortest result possible</li>
</ul>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a>, 14 bytes</h1>
<pre><code>ʷ{;;$ƀ=tŁ¿,}aş
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpKuoVLsgqWlJWm6FptPba-2tlY51mBbcrTx0H6d2sSj85cUJyUXQ-UX3MxWykjMycnPycxJzFDiUkpKrMrPz05MSsxNyszLBwvkJuYAcXJ-cn4SkJ-eD4N5-eVAfl5-QWJOZl5KUX5uanFmXklGZnF-XipQIjkxLxGIU_JLMlKBNBApQewEAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Extremely slow for long inputs that contain many palindromes.</p>
<pre><code>ʷ{;;$ƀ=tŁ¿,}aş
ʷ{         }      Loop until failure
  ;;                Split the input into three parts
    $ƀ=             Check that the second part is a palindrome
       tŁ           Check that the second part has length &gt;= 3
         ¿,         If so, join the first and third parts; otherwise fail
            aş    Find the shortest possible solution
</code></pre>
<p>If there are multiple shortest solutions, Nekomata will print all of them. You can add the <code>-1</code> flag to only print the first one.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/282899/">282899</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




