<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::258088</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>227</td><td>Python3</td><td>251006T181850Z</td><td><a href="https://codegolf.stackexchange.com/questions/258088/whole-number-groups/284013#284013">Ajax1234</a></td></tr>
<tr d-ix="1"><td>022</td><td>05AB1E</td><td>230222T080923Z</td><td><a href="https://codegolf.stackexchange.com/questions/258088/whole-number-groups/258122#258122">Kevin Cr</a></td></tr>
<tr d-ix="2"><td>176</td><td>JavaScript ES7</td><td>230221T151309Z</td><td><a href="https://codegolf.stackexchange.com/questions/258088/whole-number-groups/258095#258095">Arnauld</a></td></tr>
<tr d-ix="3"><td>092</td><td>Charcoal</td><td>230222T005919Z</td><td><a href="https://codegolf.stackexchange.com/questions/258088/whole-number-groups/258112#258112">Neil</a></td></tr>
<tr d-ix="4"><td>148</td><td>Wolfram Language Mathematica</td><td>230221T172833Z</td><td><a href="https://codegolf.stackexchange.com/questions/258088/whole-number-groups/258099#258099">ZaMoC</a></td></tr>
<tr d-ix="5"><td>014</td><td>Vyxal</td><td>230221T134749Z</td><td><a href="https://codegolf.stackexchange.com/questions/258088/whole-number-groups/258089#258089">lyxal</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 227 bytes</h1>
<pre class="lang-py prettyprint-override"><code>def f(n):
 q,r=[(n,[[]])],[]
 for n,b in q:
  if[]==n:r+=[b[:-1]];continue
  q+=[(n[:i]+n[i+1:],b[:-1]+[U,[]]if(U:=b[-1]+[n[i]])and int(Z:=sum(a/b for a,b in U))==Z else b[:-1]+[U])for i in range(len(n))]
 return max(r,key=len)
</code></pre>
<p><a href="https://tio.run/##dY/BTsMwDEDP7Ct8a0IDpRtbR1A@Y5dZEWpZChGb26WdxL5@OF0ZILGLldjPz3Z77N8bmi3bcDptXA21IKknsFfBoCCFaK20Cu0E6iYAqQo8wZ4J8DVaY0iH1GCF@i639vm1od7TwXF5n0YBam9TQp/m2qozleKKfdbXYqVNhUOGCZ5T0obtvVhr0x12osyqYWh5HrqS0pg1uG3n4GKyMhI@1kNJb05sHfEFkvcNrj8Egl35KYL6cEfDJTnc2DcvnlrR8aE3I4V4uytbwdMV@Puu3fpeJFnCoou/@04rSNg/aUPctRajLcmzqYI/gdvlNWwWw0LBIisULLPiX3Yesekl5L/Dvw1PUT7LHiOR87OIzx9BwckrS@UPsWc@Ll@M/4E@fQE" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>24</s> 22 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>œ€.œ€`éʒε.EOT.òDïQ}P}θ
</code></pre>
<p>-2 bytes by taking the input as a list of strings <code>&quot;a/b&quot;</code> instead of list of pairs <code>[a,b]</code>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//6ORHTWv0wGTC4ZWnJp3bqufqH6J3eJPL4fWBtQG153b8/x@tZKhvpKSjZKFvDiQN9Y3BpBmQNAOKxAIA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/o5MfNa3RA5MJh1eemnRuq56rf4je4U0uh9cH1gbUntvxX@d/dLSSob6Rkg4GGaujgJAyBpNmQNJM3xxIWgBJsAJTsJQREmmIRkLNMTQA803hdpjDhKBWWYJFjfVNwIKGECUmaIabgyRiYwE" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>œ            # Get all permutations of the (implicit) input-list
 €.œ         # Get all partitions of each permutation
    €`       # Flatten it one level down to a single list of partitions
      é      # Sort it by length (shortest to longest)
ʒ            # Filter this list of partitions by:
 ε           #  Map over each part of this partition:
  .E         #   Evaluate each inner string as Elixir to get the decimals
    O        #   Sum them together
     T.ò     #   Round it to 10 decimal values to fix floating point errors
        DïQ  #   Check that it's an integer:
        D    #    Duplicate
         ï   #    Cast the copy to an integer (floor for positive integers)
          Q  #    Check if the two are equal
 }P          #  After the map: check if all parts in this partition were truthy
}θ           # After the filter: pop and leave the last/longest valid partition
             # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES7), 176 bytes</h1>
<p>Expects a list of <code>[numerator, denominator]</code> pairs.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;eval(&quot;for(o=n=a.length,q=n**n;q--;)o[(p=a.map((_,j)=&gt;a.filter((_,i)=&gt;!(q/n**i%n^j))).filter(a=&gt;a+a)).length]||p.some(b=&gt;b.map(([p,q])=&gt;[P=P*q+p*Q,Q*=q],P=0,Q=1)|P%Q)?o:o=p&quot;)
</code></pre>
<p><a href="https://tio.run/##hVHRboIwFH3fVzATkxYLpSBUZ@p@AZ4JW6oDh8G2qPHJf2etjU6UZX3ouefe5pyc3i0/8cN6X6ujJ@RX2VWs42xZnngDRpXcA8kE435Tis3xG7VMuK5YtJ63gDIHSk92XAHwibaQLblf1c2x3Btea/4KWqzf12PxsYUQXqdank@45la0OJ@Vf5C7EqzYcmX1coXaQivkKUvddqLcDGUuawuUsgBljMBzOs7gu3yTTI1gt5biIJvSb@QGVCDPCQoL5AyAM3wKCB2MHUBwiBx9QXRXv/ypHllIDCSIGphp@Ec9MldiLGaYIifB9NkittphD8gTDFho9RhHNoCuw4f6yWluw0RoakXJhVJL@/7UDK9OcxMmwlMThoQ3I2o6oXGjuj30dySwRvHdauit@7ii32AkMFbxRTjoLaj7AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<p>This is a version without <code>eval()</code> for readability.</p>
<pre class="lang-javascript prettyprint-override"><code>a =&gt; {                     // a[] = input list of fractions
  for(                     // main loop:
    o =                    //   o[] = output, initially not an array
    n = a.length,          //   n = length of a[]
    q = n ** n;            //   q = counter, initialized to n ** n
    q--;                   //   stop once q = 0 has been processed
  )                        //
  o[                       // test o[], using the length of p[]:
    ( p =                  //   p[] = partition
      a.map((_, j) =&gt;      //   for each element at index j in a[]:
        a.filter((_, i) =&gt; //     for each element at index i in a[]:
          !(               //       keep this entry if
            q / n ** i % n //       floor(q / n ** i) mod n
            ^ j            //       is equal to j
          )                //
        )                  //     end of filter()
      ).filter(a =&gt; a + a) //   end of map(); remove empty slots
    ).length               //   get the final length of p[]
  ] ||                     // abort if p[] is longer than o[]
  p.some(b =&gt;              // for each list of fractions b[] in p[]:
    b.map(([p, q]) =&gt;      //   for each fraction [p, q] in b[]:
      [                    //     we add p/q to P/Q by:
        P = P * q + p * Q, //       updating the numerator P
        Q *= q             //       updating the denominator Q
      ],                   //
      P = 0, Q = 1         //     start with P/Q = 0/1
    )                      //   end of map()
    | P % Q                //   trigger some() if Q is not a divisor of P
  ) ? 0                    // end of some(); do nothing if truthy
    : o = p;               // otherwise, update o[] to p[]
                           // (implicit end of for)
  return o                 // return o[]
}                          //
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 92 bytes</h1>
<pre><code>≔Ｅ⪪Ｓ,⁺⟦ικ⟧Ｉ⪪ι/θ≔ΠＥθ§ι³ηＦθ⊞ι×÷η⊟ι⊟ιＷθ«≔ΦＥＸ²ＬθΦθ﹪÷κＸ²ν²∧κ¬﹪ΣＥκ§μ²ηι≔§ι⌕ＥιＬκ⌊ＥιＬκι≔⁻θιθ⟦⪫Ｅι§κ⁰,
</code></pre>
<p><a href="https://tio.run/##ZVHda4MwEH9u/4rgU4QMVx2UsSfZKHTMIbi30gdRZw5j4kdsB2N/u7ukceuYEDnufl@XFDwfCpWLeY7HEWpJk7yjWSdA073sJp3pAWRNfUY85uE/FdNID8BIc2TkMR@1A2PHCzwfP0Z6/2Ht1NJBlVOhrWrPSKz3sqw@DDqyUI7QdzUQ2vsknUZuJm/QViO66yc4QVlRjq6qo2DwrkDWmYOoLO9zvXJuOxC6GqxZqs5YhYy8VLLWHHHIdnMMkmAsoa5MGqPtKNJgQ5svlqUZvSpc4ULJptYaNL/btAuaX/YHjLdEutp4ByhmqPCTqjHwBCS0TvXP6J8YIvH2e9O83PIqxdfR9PCsQC78xRED3vru3Y6I/Zrn@yBkUXDHNsEmZFsswiCyZ4uN@eYkvgE" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔Ｅ⪪Ｓ,⁺⟦ικ⟧Ｉ⪪ι/θ
</code></pre>
<p>Input the fractions and split them into numerator and denominator.</p>
<pre><code>≔ΠＥθ§ι³η
</code></pre>
<p>Calculate a common denominator that will work for all of the fractions.</p>
<pre><code>Ｆθ⊞ι×÷η⊟ι⊟ι
</code></pre>
<p>Calculate the equivalent numerator for each fraction.</p>
<pre><code>Ｗθ«
</code></pre>
<p>Repeat until there are no more fractions to process.</p>
<pre><code>≔ΦＥＸ²ＬθΦθ﹪÷κＸ²ν²∧κ¬﹪ΣＥκ§μ²ηι
</code></pre>
<p>Get all of the subsets of the fractions but filter out the empty set and any set whose sum of numerators isn't a multiple of the common denominator.</p>
<pre><code>≔§ι⌕ＥιＬκ⌊ＥιＬκι
</code></pre>
<p>Find the shortest such subset.</p>
<pre><code>≔⁻θιθ
</code></pre>
<p>Remove the shortest subset from the remaining fractions.</p>
<pre><code>⟦⪫Ｅι§κ⁰,
</code></pre>
<p>Output the original fractions from the shortest subset.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 148 bytes</h1>
<pre><code>Last@Sort@(y=Flatten)[(a=#;(x=Select)[a~TakeList~#&amp;/@x[Range@n~Tuples~#&amp;~Array~(n=Length@a)~y~1,Tr@#==n&amp;],Tr@Mod[Tr/@#,1]==0&amp;])&amp;/@Permutations@#,1]&amp;
</code></pre>
<p><a href="https://tio.run/##RY7BCoJAFEXXfceAKAhm0SoeTJtWBpLuBhcPe6ikY8w8QYnm1yeLoMWByz1wuQNySwNyV6NvwGdoWRajYRkucO6RmXSkQgRxDGcoqKeaI4WuxDtlnWUngkTO6oq6IaldOT16smvpTsbg4kINGemGW4mRW1wal0YKAB1Un3QZb6o0iRRxWgFsgypax3Iyw8TroVHbrwl8bjrNslHPQ7KPdz/SP69q4/0b" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="noreferrer">Vyxal</a>, 14 bytes</h1>
<pre><code>ṖvøṖÞf'Ṡ¨=⌊;ÞG
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJhIiwiIiwi4bmWdsO44bmWw55mJ+G5oMKoPeKMijvDnkciLCIiLCIxLzJcbjEvM1xuMS82XG42LzdcbjgvNyJd" rel="noreferrer">Try it Online!</a></p>
<p>Times out for anything more than 5 fractions if you're lucky. Don't even bother giving it the third and fourth test case.</p>
<p>Inputs as a list of fraction objects. Due to technical limitations, this is done with the <code>a</code> flag for convenience.</p>
<h2>Explained</h2>
<pre><code>ṖvøṖÞf'Ṡ¨=⌊;ÞG # We'll call the length of the list N so we can see why this takes so long
Ṗ              # Permutations of the input - returns a list of N! items
 vøṖ           # To each of the N! permutations, get all possible partitions. Each permutation has 2^(N-1) partitions, so there are now N! * 2^(N-1) sublists but still N! items
    Þf         # Flatten the entire thing by one level. This iterates over each of those N! * 2^(N-1) sublists.
      '    ;   # From those partitions of permutations, keep only those where: (also iterating over each of those N! * 2^(N-1) items)
       Ṡ       #   Summating each partition
        ¨=⌊    #   is invariant under flooring
            ÞG # Get the longest remaining item.
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/258088/">258088</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




