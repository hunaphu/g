<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::124154</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>068</td><td>Japt v1.4.5</td><td>170602T153405Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124205#124205">Shaggy</a></td></tr>
<tr d-ix="1"><td>155</td><td>Perl 5 p</td><td>201231T065627Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/217065#217065">Xcali</a></td></tr>
<tr d-ix="2"><td>071</td><td>APL Dyalog Unicode</td><td>201231T051549Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/217062#217062">Razetime</a></td></tr>
<tr d-ix="3"><td>147</td><td>Python 3</td><td>170627T152936Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/128664#128664">irapsage</a></td></tr>
<tr d-ix="4"><td>290</td><td>Java 8</td><td>170606T073825Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124834#124834">Kevin Cr</a></td></tr>
<tr d-ix="5"><td>120</td><td>JavaScript ES6</td><td>170607T101701Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/125021#125021">edc65</a></td></tr>
<tr d-ix="6"><td>246</td><td>Python3</td><td>170606T151155Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124896#124896">Setop</a></td></tr>
<tr d-ix="7"><td>228</td><td>PHP</td><td>170606T094439Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124863#124863">Titus</a></td></tr>
<tr d-ix="8"><td>123</td><td>sed</td><td>170606T130637Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124884#124884">Toby Spe</a></td></tr>
<tr d-ix="9"><td>370</td><td>Java OpenJDK 8</td><td>170602T151744Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124199#124199">PunPun10</a></td></tr>
<tr d-ix="10"><td>741</td><td>Python 3</td><td>170606T083103Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124847#124847">LyricLy</a></td></tr>
<tr d-ix="11"><td>nan</td><td>Ruby</td><td>170602T210844Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124250#124250">Value In</a></td></tr>
<tr d-ix="12"><td>127</td><td>Perl</td><td>170602T234357Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124304#124304">Jarmex</a></td></tr>
<tr d-ix="13"><td>268</td><td>PHP</td><td>170602T161528Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124216#124216">J&#246;r</a></td></tr>
<tr d-ix="14"><td>nan</td><td>Bash</td><td>170602T132001Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124186#124186">marcosm</a></td></tr>
<tr d-ix="15"><td>076</td><td>05AB1E</td><td>170602T131355Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124183#124183">Emigna</a></td></tr>
<tr d-ix="16"><td>130</td><td>JavaScript ES6</td><td>170602T122634Z</td><td><a href="https://codegolf.stackexchange.com/questions/124154/pronounce-numbers/124179#124179">Arnauld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> v1.4.5, <s>61</s> <s>59</s> <s>92</s> <s>85</s> <s>84</s> <s>70</s> 68 bytes</h1>
<p>Assumes number inputs will always contain multiple digits. Outputs <code>0</code> for invalid string inputs.</p>
<pre><code>
"OIREASGTBP"
"%v"²
Ñ?UsV eW,_ínuÃeWu _íuu:UnV *!Uè["[^{V}NU]"WWu]q|</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.5&amp;code=CiJPSVJFQVNHVEJQIgoiJXYisgrRP1VzViBlVyxf7W51w2VXdSBf7XV1OlVuViAqIVXoWyJbXntWfU5VXSJXV3VdcXw&amp;input=Wwo1MTI0MzEgIlNJUkFORU5JIgo4MzQ2NzcwODEgIkJFTkFHVVRVVE9CSSIKMzE0MTU5MiAiRU5JTkFOSVNVUFVSIgoxMjM0NTY3ODkwICJJUkVOQVNVR1VUVUJVUE8iCjYxNjQ4MTcgIkdJR0FCSVQiCjQzMSAiQUVJIgpdLW1S" rel="nofollow noreferrer">Try it</a> (Includes all test cases)</p>
<hr />
<ul>
<li><s>2</s> 4 bytes saved thank to <a href="https://codegolf.stackexchange.com/users/61613/obarakon">obarakon</a>, who also convinced me to take this up again after I abandoned it earlier. I wish he hadn't!</li>
<li><s>33</s> <s>26</s> <s>25</s> 23(!) bytes sacrificed to check input validity.</li>
</ul>
<hr />
<pre><code>\n&quot;...&quot;\n&quot;%v&quot;²\nÑ?UsV eW,_ínuÃeWu _íuu:UnV *!Uè[&quot;[^{V}NU]&quot;WWu]q|     :Implicit input of integer or string U
\n                                                                   :Prevent input value of U from being overridden
  &quot;...&quot;\n                                                            :Assign the string &quot;OIREASGTBP&quot; to variable V
         &quot;%v&quot;²                                                       :&quot;%v&quot; duplicated, giving the Japt RegEx class for /[aeiou][aeiou]/g
              \n                                                     :Assign to variable W
                Ñ                                                    :Multiply the input by 2
                 ?                                                   :If truthy (not NaN)
                  UsV                                                :  Convert U to a string in custom base V
                      eW                                             :  Recursively replace all occurrences of W
                         _                                           :  By passing them through the following function
                          í                                          :    Interleave with
                           n                                         :      Literal &quot;n&quot;
                            u                                        :      Uppercase
                             Ã                                       :  End replace
                              eWu                                    :  Recursively replace all occurrences of W uppercased (RegEx /[^aeiou][^aeiou]/g)
                                  _                                  :  By passing them through the following function
                                   íuu                               :    Interleave with &quot;u&quot; uppercased
                                      :                              :Else
                                       UnV                           :  Convert U from a base-V string to an integer
                                           *!                        :  Multiply by the logical NOT of
                                             Uè                      :    Count the occurrences in U of
                                               [                     :      Construct an array containing
                                                &quot;[^{V}NU]&quot;           :        Literal string with V interpolated,
                                                          WWu        :        W &amp; uppercase W
                                                             ]       :      End array
                                                              q|     :      Join with &quot;|&quot; giving &quot;[^OIREASGTBPNU]|%v%v|%V%V&quot;=/[^OIREASGTBPNU]|[aeiou][aeiou]|[^aeiou][^aeiou]/g
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-p</code>, 155 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$v=&quot;AEIO]&quot;;$c=&quot;RSGTBP]&quot;;$,=OIREASGTBP;eval&quot;/[^0-9$,UN]|[^$v N|N[^$v|[^$c U|U[^$c|^[NU]|[NU]\$/x||y/0-9$,UN/$,0-9/d+s/[$v\\K(?=[$v)/N/g+s/[$c\\K(?=[$c)/U/g&quot;
</code></pre>
<p><a href="https://tio.run/##NY9Pa4NAFMTv@ymC7KGh2nX9l0iQsoLIUvoU9Z00QrEhFKSRpkgL@9m73Q3t5c38ZniHWU4fc6w1XTNHFLI6Ogc6ZU7Tll1eW3CzSjaFuPHhtL7MDutH30upi3BU/UjXDSiwamHaoEKrauwBTW/OQNmXUt/s74lR1zj2en9lPV2H4enuMTNmy4Cdb9n0n01bhuzsaB3zIAo5aWUjoABJEp5Ee74jpSxFLjsS8ojHaUBMBwJkizU2hAdhFCe7feoTMwBEiyV2mGNdkRYJVKQCsFb@XJbPt8v7VXvP8YPPfe0t8y8" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>Recognizes some invalid inputs that the other Perl entry does not.  Outputs the string unchanged if it is not valid.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 71 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>' '~⍨,({' ',2{∧/x←'AEIOU'∊⍨⍺⍵:'N'⋄∧/~x:'U'⋄' '}/⍵},⍪)'OIREASGTBP'[⍎¨⍕⎕]
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///qG@qp/@jtgkGXI862tP@qyuo1z3qXaGjUQ1k6RhVP@pYrl8BlFZ3dPX0D1V/1NEFlH3Uu@tR71YrdT/1R90tIBV1FVbqoSAOUFOtPlCuVudR7ypNdX/PIFfHYPcQpwD16Ee9fYeAOqcCLYz9D7TrfxqXqaGRibEhVxqXhbGJmbm5gQWIbWxoYmhqaQRkGRoZm5iamVtYGgA5ZoZmJhaG5gA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
<p>This turned out surprisingly short!</p>
<p>Uses <code>⎕IO←0</code> (0-indexing).</p>
<h2>Explanation</h2>
<pre class="lang-apl prettyprint-override"><code>' '~⍨,({' ',2{∧/x←'AEIOU'∊⍨⍺⍵:'N'⋄∧/~x:'U'⋄' '}/⍵},⍪)'OIREASGTBP'[⍎¨⍕⎕]
                                                                  ⍎¨⍕⎕  get the digits of the input
                                                     'OIREASGTBP'[    ] map to the correct letters
      {' ',2{∧/x←'AEIOU'∊⍨⍺⍵:'N'⋄∧/~x:'U'⋄' '}/⍵},⍪                     join the following with the tabled argument:
                                              /⍵                        map pairs of the argument to:
           2 ∧/x←'AEIOU'∊⍨⍺⍵:'N'                                        N if vowel pair,
                                ⋄∧/~x:'U'                               U if consonant pair,
                                         ⋄' '                           space otheriwse.
       ' ',                                                             prepend a space
    ,                                                                   flatten the result
' '~⍨                                                                   remove all spaces
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 147 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda c:c in"0134"
def f(n):
 o="";a=b=1-x(n[0])
 for i in n:
  a=x(i)
  if a==b:o+="UN"[a]
  o+="OIREASGTBP"["0123456789".index(i)];b=a
 print(o)
</code></pre>

<p><a href="https://tio.run/##PY07C8IwFIX3/IrLnRJEaW19tdxBQcRFxcdUOyRtgwFNSulQf31MF7dzPr7Dab/9y9nEDwRP/5YfVUuosgqMxShOUmR1o0FzKzIGjhBzSYri6cBtEZWCgXYdmGCDDQJIGrgJFIwOmVTmJoSPExayDHAs5@N1v70d7rsLFuFhnqSL5Wq9wZmxdTOOy1yRZNB2xvbcCa85/q0Ihf8B" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>Java 8, <s>312</s> <s>308</s> <s>304</s> <s>301</s> <s>294</s> 290 bytes</h1>

<pre class="lang-java prettyprint-override"><code>s-&gt;{String r=&quot;&quot;,x=&quot;([AEIOU])&quot;,y=&quot;([BGNPRST])&quot;,z=&quot;0O1I2R3E4A5S6G7T8B9P&quot;;for(int c:s.getBytes())r+=c!=78&amp;c!=85?z.charAt((c=z.indexOf(c)+(c&lt;58?1:-1))&lt;0?0:c):&quot;&quot;;return s.matches(&quot;((&quot;+x+y+&quot;)*&quot;+x+&quot;?)|((&quot;+y+x+&quot;)*&quot;+y+&quot;?)|\\d*&quot;)?r.replaceAll(x+&quot;(?=&quot;+x+&quot;)&quot;,&quot;$1N&quot;).replaceAll(y+&quot;(?=&quot;+y+&quot;)&quot;,&quot;$1U&quot;):&quot;&quot;;}
</code></pre>
<p>-4 bytes (308 → 304) for a bug-fix (doesn't happen often that the byte-count decreases when I fix a bug in my code.. :D)</p>
<p>EDIT: Uses a different approach than <a href="https://codegolf.stackexchange.com/a/124199/52210">@PunPun1000's Java answer</a> by first creating the return-String in a for-loop over the characters, and then uses a more abstract regex to validate it in the return-ternary (the input is either all digits, or are the given vowels and consonants alternating (so without any adjacent vowels nor consonants).</p>
<p><strong>Explanation:</strong></p>
<p><a href="https://tio.run/##jZRbb9owFIDf@RWu1012KREmV6BZmmwIReoCIuSll4fMGJouBJQYROj47dTJMmkPk0weLPuczyf2Z8tv8T7ubLYse1v8OtM0LgrwI06y9xYAScZZvowpA0E1BCDkeZKtAEVNp8BDET@1RFPwmCcUBCADNjgXna/vDZPbEN4ebIie3JE/iV4wvC2rkTcOprNwXo2PNuxOiN@bqSPN1UNjbM4trz@Fw@UmR2IRgA4KZcW4V3JWIIzztk2vbNP6IlpLd44KfY1zlyNE7aOSZAt2mCwRxW1E73TLIYMOwfiu63QHFA8gHOaM7/IMFMo65vRVVIQIwfahXbYhvqk60MG/q1BZ9atQWYeenxc3EDu5krNtKqy4aYoEgBy7niQ2Aq9JAPG/@bLJl3/zEazXcDoPK2vb3c9UWGvk7TfJAqyF/Mbv0wuIcWO@LDhbK5sdV7YixdMMwU71ge/JKuEF4BuQMi7OqwB1HNZH89@JmUIR1ElPUwnEEsxSNcM0u5acVIlG9H5PypGequmGafW7UtQghmYRs@YkFh6avQsNiz9CLrIQ@jM3GAW@dCneKHDH0TyaTzw5LAoGbuCH0TSaSWF/JkqHUVXci6YTKT/2x67nz6VcIC8VhZeo9bN9nIqLmWTbHb9Mq@v1VOnfxXMgZR4f5WW@jaTMKlnFUujq/tP1ZynVIRdszVCIccntZg10ap3OHw" rel="nofollow noreferrer">Try it here.</a></p>
<pre class="lang-java prettyprint-override"><code>s-&gt;{                                   // Method with String parameter and String return-type
  String r=&quot;&quot;,                         //  Result-String
    x=&quot;([AEIOU])&quot;,y=&quot;([BGNPRST])&quot;,     //  Two temp Strings for the validation-regex
    z=&quot;0O1I2R3E4A5S6G7T8B9P&quot;;          //  And a temp-String for the mapping
  for(int c:s.getBytes())              //  Loop over the characters of the input-String
    r+=                                //   Append to the result-String:
       c!=78&amp;c!=85?                    //    If the character is not 'N' nor 'U':
        z.charAt(                      //     Get the character from the temp-String `z`
         (c=z.indexOf(c)+              //      by getting the character before or after the current character
            +(c&lt;58?1:-1))              //      based on whether it's a digit or not
             &lt;0?0:c)                   //      and a 0-check to prevent errors on incorrect input like '!@#'
       :                               //    Else:
        &quot;&quot;;                            //     Append nothing
                                       //  End of loop (implicit / single-line body)
  return s.matches(&quot;((&quot;+x+y+&quot;)*&quot;+x+&quot;?)|((&quot;+y+x+&quot;)*&quot;+y+&quot;?)|\\d*&quot;)?
                                       //  If the input is valid
                                       //  (Only containing the vowels and consonants of `x` and `y`, without any adjacent ones. Or only containing digits)
    r                                  //   Return the result
     .replaceAll(x+&quot;(?=&quot;+x+&quot;)&quot;,&quot;$1N&quot;)  //    after we've added 'N's if necessary
     .replaceAll(y+&quot;(?=&quot;+y+&quot;)&quot;,&quot;$1U&quot;)  //    and 'U's if necessary
   :&quot;&quot;;                                //  Or return an Empty String if invalid
}                                      // End of method
</code></pre>
<hr />
<p>The validation regex:</p>
<pre class="lang-java prettyprint-override"><code>(([AEIOU][BGNPRST])*[AEIOU]?)|(([BGNPRST][AEIOU])*[BGNPRST]?)|\\d*
</code></pre>
</div>
<div id="pu5" class="pu"><h1>JavaScript (ES6), 120</h1>
<p>A function taking input as a string. It returns the properly translated string if the input is valid, else false or the function crashes.</p>
<pre class="lang-js prettyprint-override"><code>n=&gt;(t=n=&gt;n.replace(/./g,d=&gt;1/d?(v-(v=d&lt;5&amp;d!=2)?'':'UN'[v])+z[d]:~(a=z.search(d))?a:'',v=2,z='OIREASGTBP'))(q=t(n))==n&amp;&amp;q
</code></pre>
<p><em>Less golfed</em></p>
<pre class="lang-js prettyprint-override"><code>n =&gt; 
{
  var t = n =&gt; { // function to translate, no check for invalid input
    var v = 2; // 1 = digit map to vowel, 0 = digit map to consonant, start with 2
    var z = 'OIREASGTBP'; // digits mapping
    return n.replace(/./g,
      d =&gt; 1/d // digit / alpha check
        ? ( // if digit
            w = v, // save previous value of v
            v = d &lt; 5 &amp; d != 2, // check if current digit will map to wovel or consonant
            (w != v 
             ? '' // if different - wovel+consonant or consonant+wovel or start of input
             : 'UN'[v] // if equal, insert required separator
            ) + z[d] // add digit translation
          )
        : ( // if alpha
             a = z.search(d), // look for original digit. Could crash if d is a reserved regexp char (not valid input)
             a != -1 ? a : '' // if digit found add to output, else do nothing
          )
    )
  }
  
  var q = t(n); // translate input an put in q
  if (t(q) == n) // translate again, result must be == to original input
    return q; // if ok return result
  else
    return false; // else return false
}
</code></pre>
<p><strong>Test</strong></p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var F=
n=&gt;(t=n=&gt;n.replace(/./g,d=&gt;1/d?(v-(v=d&lt;5&amp;d!=2)?'':'UN'[v])+z[d]:~(a=z.search(d))?a:'',v=2,z='OIREASGTBP'))(q=t(n))==n&amp;&amp;q

;`512431 =&gt; SIRANENI
834677081 =&gt; BENAGUTUTOBI
3141592 =&gt; ENINANISUPUR
1234567890 =&gt; IRENASUGUTUBUPO
6164817 =&gt; GIGABIT`
.split('\n')
.forEach(x =&gt; {
  var [a,b] = x.match(/\w+/g)
  var ta = F(a)
  var tb = F(b)
  console.log(a==tb ? 'OK':'KO', a + ' =&gt; '+ ta)
  console.log(b==ta ? 'OK':'KO', b + ' =&gt; '+ tb)
})

function go() {
  O.textContent = F(I.value)
}

go()</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input id=I value='NUNS' oninput='go()'&gt;
&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu6" class="pu"><h2>Python3, 246 bytes</h2>

<pre><code>v=lambda x:x in"AEIO"
V="OIREASGTBP"
i=input()
r=__import__("functools").reduce
print(r(lambda x,y:x+(("U",""),("","N"))[v(x[-1])][v(y)]+y,map(lambda x:V[x],map(int,i)))if i.isdigit()else r(lambda x,y:x*10+V.index(y),filter(lambda x:x in V,i),0))    
</code></pre>

<p>explanation:</p>

<ul>
<li>map input to a list of int</li>
<li>map list of int to their position in the alphabet</li>
<li>reduce list by adding accumulator, plus an element of a <s>dict</s>tuple, plus the current element

<ul>
<li>the <s>dict</s>tuple is a truth table based on two elements, being vowel or not</li>
</ul></li>
</ul>
</div>
<div id="pu7" class="pu"><h1>PHP; <s>129 127 267 259</s> 228 bytes</h1>
<pre class="lang-php prettyprint-override"><code>$l=IOREASGTBP;$n=1023456789;ctype_digit($s=$argn)?:$s=preg_replace(&quot;#U|N#&quot;,&quot;&quot;,strtr($o=$s,$l,$n));for($r=$c=($t=strtr($s,$n,$l))[$i++];$d=$t[$i++];)$r.=((trim($c,AEIO)xor$x=trim($d,AEIO))?X:UN[!$x]).$c=$d;echo$o?$o==$r?$s:&quot;&quot;:$r;
</code></pre>
<p>Run as pipe with <code>-nR</code> or <a href="http://sandbox.onlinephpfunctions.com/code/b9da13f119a920901b8b1e10ac85abad39df81ae" rel="nofollow noreferrer">try it online</a>.</p>
<p><strong>breakdown</strong></p>
<pre class="lang-php prettyprint-override"><code>$l=IOREASGTBP;$n=1023456789;
# if not digits, translate letters to digits and remember original
ctype_digit($s=$argn)?:$s=preg_replace(&quot;#U|N#&quot;,&quot;&quot;,strtr($o=$s,$l,$n));
# translate digits to letters:
for($r=$c=($t=strtr($s,$n,$l))                      # result = first letter
    [$i++];$d=$t[$i++];)                            # loop through letters
    $r.=((trim($c,AEIO)xor$x=trim($d,AEIO))?&quot;&quot;:UN[!$x]) # append delimiter if needed
        .$c=$d;                                         # append next letter
# 
echo
    $o              # if original was remembered,
        ?$o==$r         # compare original to final result
            ?$s         # if equal, print digits
            :X          # else print X (as error message)
        :$r;        # else print letters
</code></pre>
</div>
<div id="pu8" class="pu"><h1>sed, 123 bytes</h1>

<pre class="lang-sed prettyprint-override"><code>s/[0134]/_&amp;_/g
s/[25-9]/=&amp;=/g
ta
y/OIREASGTBPU/0123456789N/
s/N//g
q
:a
s/__/N/g
s/==/U/g
y/0123456789_/OIREASGTBP=/
s/=//g
</code></pre>

<h2>Explanation</h2>

<p>First, we surround digits with <code>_</code> (for vowels) or <code>=</code> (for consonants).</p>

<p>If we didn't make any substitutions, we are converting letters to digits, so it's a simple substitution, and delete <code>U</code> and <code>N</code>.  Then quit.</p>

<p>Otherwise, we branch to label <code>a</code>, where we deal with consecutive vowels and then consecutive consonants.  Then transform digits to letters, and delete the marker characters we introduced in the first step.</p>
</div>
<div id="pu9" class="pu"><h1><a href="http://openjdk.java.net/" rel="nofollow noreferrer">Java (OpenJDK 8)</a>, <s>416</s> <s>410</s> <s>399</s> <s>382</s> <s>376</s> 370 bytes</h1>



<p>-2 bytes thanks to @Cyoce</p>

<p>-17 more bytes thanks to an idea by @Cyoce</p>

<p>-6 bytes thanks to @KevinCruijssen</p>

<pre class="lang-java prettyprint-override"><code>s-&gt;{String c="[RSGTBP]",v="[OIEA]",o="([256789])",e="([0134])";boolean b=s.matches("(c$|v$|(c|vN)(?=v)|(cU|v)(?=c))+".replace("c",c).replace("v",v));int i=-1;for(s=b?s.replaceAll("[UN]",""):s.matches("[0-9]+")?s.replaceAll(e+"(?="+e+")","$1N").replaceAll(o+"(?="+o+")","$1U"):i/0+"";i&lt;9;s=b?s.replace(v,c):s.replace(c,v)){c=++i+"";v="OIREASGTBP".charAt(i)+"";}return s;}
</code></pre>

<p><a href="https://tio.run/##jZHNbuowEIXX9CmsEQtbgVwC4a9pWgUpQlk0IJKsEAvjhtbcNI5iEwkBz851Wqq2q5uV58z5PDOa2dOKdkWR5vuXv9fisM04QyyjUqJnynN0umvdklJRpZ9K8Bf0ri0cqZLnr@sNouWrJDXZ2uti5kHxzNwdcqa4yM0kp@VxUaQlVaJ8@PzziHbIRVfZfTx9JhBzYb2K5vFsuYFOpcUi8D0dChfwuj8cjSfTDYFOWsueNbC1cLZCZCnN0daV5jtV7C2VGDBrn6v2GbNzFRL85FZEx8m5qmNGiAFmmRYZZSkGBh1GvmWlGxPi8Fwh7nYtZydKLN3tk/xCvCzDsE5CPRYAuf/RdN3rTjcGkN9saoBuCoZ@9ejQtkIgP31x88WXn@iq/E/PAHD4w9T51RxXetj7b8nqYU/MNQxe83pli2Dlex8rBJO90dJTmJPau5SpOpQ5ks7l2mo5@kzRUar03RQHZRZ6/SrL8c6kRZEdMQytvj2wQG/iP@BkYI/G496kCTuwbGs47Tcgrf7A/jh3rwE8skb2xBo3IKNg5YV@GDRAZ37ozZM4iRezJrguGnphECXLZNUA10cKvSipG8yS5aLBj3kw92ZB3JCM/Sj2b4Nc7i7Xfw" rel="nofollow noreferrer" title="Java (OpenJDK 8) – Try It Online">Try it online!</a> </p>

<p>Ugh, java replacement is so verbose.</p>

<p>Function which takes a string and returns the string translated from number -> letter or vice versa.  Crashes on invalid input (you can see this in the tio example where it outputs the correct values for the first 10 test cases and then crashes with a divide by zero error which shows in the debug view)</p>

<p>Ungolfed (the first and last term of the for loop are pulled out for readability)</p>

<pre class="lang-java prettyprint-override"><code>s-&gt; {
    String c="[RSGTBP]", v="[OIEA]", o="([256789])", e="([0134])"; 
    boolean b=s.matches("(c$|v$|(c|vN)(?=v)|(cU|v)(?=c))+".replace("c",c).replace("v",v)); // lovely regex, explained below
    int i=-1;
    s= b? 
        s.replaceAll("[UN]",""); // remove N's and U's
        :s.matches("[0-9]+")?
        s.replaceAll(e+"(?="+e+")","$1N").replaceAll(o+"(?="+o+")","$1U"); // add N's and U's for separating vowels and consonants
        :i/0+""; // throw an error, looks like a sting for the ternary
    for(;i&lt;9;) { 
        c=++i+"";
        v="OIREASGTBP".charAt(i)+"";
        s=b?s.replace(v,c):s.replace(c,v); // if it started with numbers, go to letters, or vice versa
    }
    return s;
}
</code></pre>

<p>The regex for matching the numbers is simple, but here is the regex for matching the letters to numbers case</p>

<pre class="lang-java prettyprint-override"><code>(c$|v$|(c|vN)(?=v)|(cU|v)(?=c))+
(                             )+   every part of the word is
 c$                                a consonant at the end of the word
   |v$                             or a vowel at the end of the word
      |(c|vN)(?=v)                 or a consonant or a vowel + N followed by a vowel
                  |(cU|v)(?=c)     or a consonant + U or a vowel followed by a consonant


with c = [RSGTBP] and v = [OIEA]
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Python 3, 741 bytes</h1>

<pre><code>from functools import reduce;c=0;e="";n="NU";v="AEIOU";l="OIREASGTBPNU";x=('0','O'),('1','I'),('2','R'),('3','E'),('4','A'),('5','S'),('6','G'),('7','T'),('8','B'),('9','P');s=input()
try:
    int(s);y=reduce(lambda a,kv:a.replace(*kv),x,s)
    for i in y:
        e+=i
        if i in v:
            z=True
            try:
                if y[c+1] in v:e+="N"
            except:
                pass
        else:
            z=False
            try: 
                if not y[c+1] in v:e+="U"
            except:
                pass
        c+=1
except:
    for i in s:
        if not i in l:
            p
    y=reduce(lambda a,kv:a.replace(*kv[::-1]),x,s)
    for i in y: 
        if not i in n:e+=i
print(e)
</code></pre>

<p><a href="https://tio.run/##nZLJboMwEIbvPIXlC9DQKjRdQT4QiUZcIErCKcqBEqOiELBsg0Jfng5OlV2q1Dl9s//ymLXyqypHXZfxaouyukxlVRUC5VtWcYk4XdcpdVMydCnB2C0JDmPsNgR7fhABFQRHwcz35pPFeNqndsTQh7qlR7ppGboNFCh6BJopGgH5ip6APEXPQHNFL0ATRa9AC0VvQGNF70BT3XQFyUtWS8PUJG8dDYHlpTSE6bZkr9koku3nOkGJtWmc5IFTViQQvds0prWzhKl6soqjHDrR74ze6IDkByfP9vnmmO/tmyx4Tc9CBx2nBu3tMh3Yq/0MGI1DfFZFdyll8rqTJUIcJRWCXgr4SCB4pQDdklBW8kpG/A8Z6YDY2mnl4fmEo13sU@HifCBT3t8HWjrOvb26fSZ0c1HpqKsx3n8CanadHwahFwbzeBrPfgA" rel="nofollow noreferrer">Try it online!</a></p>

<p>There's a lot of room for improvement, I know.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 205+1 = 206 bytes</h1>

<p>Uses the <code>-p</code> flag for +1 byte. Now with an exhaustive input validation system.</p>

<pre><code>d,w=%w"0-9 OIREASGTBP"
~/^\d+$/?($_.tr!d,w
gsub /([#{a='AEIO])(?=\g&lt;1&gt;)'}/,'\0N'
gsub /([^#{a}/,'\0U'):(+~/^(([AEIO])(N(?=[AEIO])|(?=\g&lt;4&gt;)|$)|([RSGTBP])(U(?=\g&lt;4&gt;)|(?=\g&lt;2&gt;|$)))+$/;$_.tr!("NU","").tr!w,d)
</code></pre>

<p><a href="https://tio.run/##RY5PC4JAEMXvfgpbjd1FbS269EfFQMLLKtqeNCMRvIYlEllffZtS6jRvZn7v8Zq2vEtt0sBQrYuszM6Zdsi2VmoUJoGf7g@7GCkvVuSVoTOP6KfZrZkAptTXtlQZybTH2cF@EEZHSjwnr7dzl@InM3Fuc/yjCsCGo8B0TQxIJCQbbRyMo@6HjKVLex2WLPk2AEb8H4NauEBQCq02QymCuEAmQvSzdGZFpQx4yH0epiIWyRs" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1>Perl, 127 bytes</h1>
<p>126 bytes + 1  byte command line</p>
<pre><code>$i=&quot;AEIOU]&quot;;$;=OIREASGTBP;1/!/[^$;NU\d]|[$i{2}|[^\d$i{2}/;eval&quot;y/0-9$;NU/$;0-9/d&quot;;s/[$i\K(?=[$i)/N/g;s/[^N\d$i\K(?=[^\d$i)/U/g
</code></pre>
<p>Usage:</p>
<pre><code> echo -n &quot;512431&quot; | perl -p entry.pl
</code></pre>
<p>Should follow all the challenge rules - can accept letters or numbers and will error (division by zero) if validation fails</p>
</div>
<div id="pu13" class="pu"><h1>PHP, 268 Bytes</h1>

<pre class="lang-php prettyprint-override"><code>$v=OIEA;$l=RSGTBP;$d="0134256789";$c=ctype_digit;$p=preg_replace;echo!$c($a=$argn)?$c($e=strtr($p(["#\d|[$v]{2,}|[$l]{2,}#","#[$v]\KN(?=[$v])#","#[$l]\KU(?=[$l])#"],[_,"",""],$a),$v.$l,$d))?$e:_:$p(["#[$v](?=[$v])#","#[$l](?=[$l])#"],["$0N","$0U"],strtr($a,$d,$v.$l));
</code></pre>

<p><a href="https://tio.run/##ZY/NaoNAFIX3eYtO7kJBiuN/YoegICIFDeqsTBBRGwOSDEYCJc2z25nopnR3znfmnnuHdWz62LGOrb6uQ1vVnVSskIk1Q8dIQVmUenEQR1w6umHZtuoI7AexF9Kc5okvIh0b2NxoXPGnsRdHGd3TlFus6YZp2c5G5SZK@VRGxZxP9wknFrYMWzdtXYyGUejlQZYH6ZI42F6wH@VzWSJWotWxukE1nC7yY4I7SaLAc6EnaRbm/t6FhiAV64b2WoxcqEk9frO2bM6n8@gCI2xoT@XQsr6qW7etu@sb1BJUZO7cCdOS2ziMgwRMKtD60PwUcD8@NOXJRf8Sa37RWtDDZyztiFDywnrO6Iv1gh2VolQQj7iCSlbg/g69Ao3MV7XbcjvvEAX/ev6UIFBjHoBKuVvOq3jPXCjL7iT@gg4X5D6nXw" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a>, <del>241 238 </del> 235 bytes</h1>



<pre class="lang-bash prettyprint-override"><code>q=OIREASGTBP;[[ $1 == +([0-9]) ]]&amp;&amp;(x=`tr 0-9 $q&lt;&lt;&lt;$1`;m={B,G,P,R,S,T};n={A,E,I,O};for i in `eval echo $m$m$n$n`;{ a=${i::1};b=${i:1:1};x=${x//$a$b/$a'U'$b};a=${i:2:1};b=${i:3:1};x=${x//$a$b/$a'N'$b};};echo $x)||tr $q 0-9&lt;&lt;&lt;$1|tr -d UN
</code></pre>

<p><a href="https://tio.run/##bY5NC4JAEIb/yhyGLFqp7eNQ6x4SIrpU9HESwdUMhVyxIgTdn915W/XQJQaG5x0emDcUz0Trgu@3x/XqtDm7B@Z5gBQ4h2HfG9sLfwC@3@v1Sx68HmAOgIXjOEgDlvHKJRtyIEdyImfFJK9WZE22ZK/YLX9ACqmEIH6LO8RRkgNmZiTKgFUgOFbpckkVC1uiDZYGy9EIBYZmWRcLQ8U6c/JTp3/UXasq1v0pB3VtymLR9G3LNtG@wmWntZ7TyWxKPzK3IxEl8Rc" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a></p>

<p>Less golfed:</p>

<pre class="lang-bash prettyprint-override"><code>q=OIREASGTBP;                          save string in q
[[ $1 == +([0-9]) ]]&amp;&amp;(                if argument 1 is only digits
x=`tr 0-9 $q&lt;&lt;&lt;$1`;                    save in x each digit translated to corresponding letter
m={B,G,P,R,S,T};
n={A,E,I,O};
for i in `eval echo $m$m$n$n`;{        generates all combinations of vowels and consonants
                                       BBAA BBAE ... TTOI TTOO
   a=${i::1};                          saves first consonant in a
   b=${i:1:1};                         saves second consonant in b
   x=${x//$a$b/$a'U'$b};               insets U between consonants
   a=${i:2:1};                         saves first vowel in a
   b=${i:3:1};                         saves second vowel in b
   x=${x//$a$b/$a'N'$b};               inserts N between vowels
};
echo $x                               echoes result
)||                                   if argument contains letters
  tr $q 0-9&lt;&lt;&lt;$1|tr -d UN             translates letter to corresponding number and deletes U and N
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 76 bytes</h1>

<pre><code>.•.Ÿ^91Ý•Ul„nuSKDXSKg0QVvXyk}JYP©0Êi®}¤«SXuèŒ2ùv…U NSy0èìžMuyåOè})Já¨¹d_iQ®P
</code></pre>

<p><a href="https://tio.run/##AXkAhv8wNWFiMWX//y7igKIuxbheOTHDneKAolVs4oCebnVTS0RYU0tnMFFWdlh5a31KWVDCqTDDimnCrn3CpMKrU1h1w6jFkjLDuXbigKZVIE5TeTDDqMOsxb5NdXnDpU/DqH0pSsOhwqjCuWRfaVHCrlD//1NJUkFORU5J" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p>Returns the falsy value <code>0</code> for invalid input.</p>
</div>
<div id="pu16" class="pu"><h2>JavaScript (ES6), 130 bytes</h2>

<p>Takes input as a string in both translation ways. Returns either the translation as a string or <code>false</code> in case of an invalid input.</p>

<pre class="lang-js prettyprint-override"><code>f=(n,k)=&gt;(t=n.replace(/./g,(c,i)=&gt;1/n?(!i|p^(p=27&gt;&gt;c&amp;1)?'':'UN'[p])+s[c]:~(x=s.search(c))?x:'',p=s='OIREASGTBP'),k)?t==k&amp;&amp;n:f(t,n)
</code></pre>

<h3>Demo</h3>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=(n,k)=&gt;(t=n.replace(/./g,(c,i)=&gt;1/n?(!i|p^(p=27&gt;&gt;c&amp;1)?'':'UN'[p])+s[c]:~(x=s.search(c))?x:'',p=s='OIREASGTBP'),k)?t==k&amp;&amp;n:f(t,n)

console.log(f("512431"))          // SIRANENI
console.log(f("834677081"))       // BENAGUTUTOBI
console.log(f("3141592"))         // ENINANISUPUR
console.log(f("1234567890"))      // IRENASUGUTUBUPO
console.log(f("6164735732"))      // GIGATESUTER

console.log(f("SIRANENI"))        // 512431 
console.log(f("BENAGUTUTOBI"))    // 834677081
console.log(f("ENINANISUPUR"))    // 3141592
console.log(f("IRENASUGUTUBUPO")) // 1234567890
console.log(f("GIGATESUTER"))     // 6164735732

console.log(f("AB23"))            // false
console.log(f("AEI"))             // false
console.log(f("ZZ"))              // false</code></pre>
</div>
</div>
</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/124154/">124154</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




