<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::265325</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>062</td><td>Python</td><td>230918T104911Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265332#265332">bsoelch</a></td></tr>
<tr d-ix="1"><td>029</td><td>J</td><td>230919T062346Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265364#265364">Jonah</a></td></tr>
<tr d-ix="2"><td>095</td><td>Scala</td><td>230919T235903Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265373#265373">138 Aspe</a></td></tr>
<tr d-ix="3"><td>012</td><td>Vyxal</td><td>230919T235207Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265372#265372">AndrovT</a></td></tr>
<tr d-ix="4"><td>009</td><td>Jelly</td><td>230918T173056Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265341#265341">Jonathan</a></td></tr>
<tr d-ix="5"><td>029</td><td>Charcoal</td><td>230918T184219Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265344#265344">Neil</a></td></tr>
<tr d-ix="6"><td>010</td><td>Jelly</td><td>230918T102508Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265328#265328">Unrelate</a></td></tr>
<tr d-ix="7"><td>062</td><td>Ruby</td><td>230918T151247Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265336#265336">G B</a></td></tr>
<tr d-ix="8"><td>065</td><td>R</td><td>230918T132420Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265335#265335">Dominic </a></td></tr>
<tr d-ix="9"><td>054</td><td>JavaScript ES6</td><td>230918T102646Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265329#265329">Arnauld</a></td></tr>
<tr d-ix="10"><td>016</td><td>05AB1E</td><td>230918T124300Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265334#265334">Command </a></td></tr>
<tr d-ix="11"><td>099</td><td>Python</td><td>230918T104242Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265330#265330">mousetai</a></td></tr>
<tr d-ix="12"><td>056</td><td>JavaScript</td><td>230918T101715Z</td><td><a href="https://codegolf.stackexchange.com/questions/265325/keep-jumping-till-a-cycle/265327#265327">tsh</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 62 bytes</h1>
<p><em>-4 bytes, thanks to loopy walt</em></p>
<pre class="lang-python prettyprint-override"><code>lambda L,i=0:len({*[i:=(i+L[i])%len(L)for _ in 2*L][len(L):]})
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhY37XISc5NSEhV8dDJtDaxyUvM0qrWiM61sNTK1faIzYzVVQUI-mmn5RQrxCpl5CkZaPrHREDGr2FpNqCkPCooy80o00jSiDWI1NZV1FAy5ECJAno6CEYY4UNAAhzhCvRFC3AjIgyBsUsZgKUMMKWOwlDFclzG6RYZwXSZYpGDegfhzwQIIDQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<ol>
<li>compute list of first <code>2*len(l)</code> jumps</li>
<li>reverse</li>
<li>find index of second occurrence of last element</li>
</ol>
<hr />
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 93 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda l,i=0,s=[0]:1+len([(s:=s+[i:=j])for _ in l if(j:=(i+l[i])%len(l))not in s])-s.index(j)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dY_dCoIwFIDve4pBBBvOUNdFDPYka4Sho8ma4hbUs3QjRL1Tdz1KU0shCw4czvedH87lXp3dvjTNVbLN7ehkuH4InR52WQo0VizClvFI0DjQuYEcWspswBVlhUCyrMEWKAM0UBIWlEEVaK4EWrS9GiFTulZbgUK7VCbLT7BA7yPPqlbGQQn9doTmGMSzkfgKg2TCPYz-8LE_GXniqz5-KdKpeKJIp8gwRb4PxcPU6of6vNP_2TR9fgE" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<ol>
<li>go through the first <code>len(l)</code> jumps, stop if a duplicate is found</li>
<li>return the (1-based) index of the duplicate element in the list of indices counted from the end of the list</li>
</ol>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.jsoftware.com" rel="nofollow noreferrer">J</a>, <s>41 34 31 30</s> 29 bytes</h1>
<pre><code>##@~.@}.0]F:.(#@[|]+{~)2###,:
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70wa8FNVUtFK8NYM0UrS3V1LiU99TQFWysFdQUdBQMFKyDW1VNwDvJxW1pakqZrsVdZ2aFOz6FWzyDWzUpPQ9khuiZWu7pO00hZWVnHCqLm5iNNrtTkjHyFNAUDOEPBUMEIxjEEcpE4SDJGEIjgGgOxIYxrDIYoOg1BshWZJUCXRxvE6gB50QZAUkfBCMIBsgyQOVAZI65oIyAJQXC-MZhvCOEbg_nGEHljmGZDiLwJxKcLFkBoAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><em>-3 thanks to a nice observation by ovs: If you run the simulation 2*n times, as I was, you can ensure you get only the cyclic elements by removing the first <code>n</code></em></p>
<p><em>I also shaved another byte off by applying a trick from another of ovs's suggestion</em></p>
<p>This is a combination of two suggestions from ovs, using <code>F:.</code> for folding.</p>
<h2><a href="https://www.jsoftware.com" rel="nofollow noreferrer">J</a>, <s>41 34 31</s> 30 bytes, saved for a new J trick</h2>
<pre><code>##@~.@}.&lt;@+:@#@[(#@[|]+{~^:)&amp;0
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=fZHBSgMxEIbxuk8xNdhNuttskhWxYReCQk_iwWtIRaSL9eKlgrA1L-JlPfgAvoDvoU_jNOnW9VKSmczH_88kkLf3x-77ZDbS0p2N9CxNk2OeNlBrSCEHARpjyuHy5mr-8bxupudfhBjPzSuvTKYNMZZibFzW-oVmYxFNP0efLLm-4HDYHCyScKuprAgruN_rbKGpqswEuTdaHYZR4mWFTUvODrkpdRnPeAF8guqd9sxQVxeeGLfJ2Iobshta4cMEdTltfavZdpKrxwQvcljfeoIXBPfy_uEJGhD7AiSoHiTiAAaKiusPSwzZYxnWv065VV9Wa_wKK1yOZAXmHFQErMQQdopKrMIc957LwDJyGbiMetk3y6ifxp_runj-Ag" rel="nofollow noreferrer">Attempt This Online!</a></p>
<ul>
<li><code>&lt;@+:@#@[(#@[|]+{~^:)&amp;0</code> Simulate the jumps 2*n times.  For J lang enthusiasts, we are using a partially applied conjunction as an adverb here: <code>(#@[|]+{~^:)</code> -- it modifies the verb <code>&lt;@+:@#@[</code>, and is equivalent to the standard form <code>(#@[|]+{~)^:(&lt;@+:@#@[)</code>.  It is acting here as a syntactic trick that allows us to save to some parens.</li>
<li><code>##@~.@}.</code> Now remove the first n elements (ensuring we only have cyclic elements left), and take the count of the uniq</li>
</ul>
</div>
<div id="pu2" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 95 bytes</h1>
<p>Golfed version. <a href="https://tio.run/##HY49r8IwDEX39yv8BiRbhIqPrVWQGJFADIgJMZiSQlAI4ER8Vf3tJXS4tnyOhxtKdtxe92dTRliy9VD/ARxMBZd0IMsx5DAT4fd2HcX6445y2HgbQXefALdEo/NY4cKGiGM1UWM1IqJkm5QHO6jyn9vOfdzpaZqgW6en9YMFRTFpXJt7Z5HUkIrnyTqD/5KVVx9TjYBMVEve11ywRu67H@i5LNiPaQrp9kAy6w/mtaqSbNqm/QI" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>l=&gt;{var(r,a)=(Seq[Int](),0);while(!r.contains(a)){r:+=a;a=(a+l(a))%l.size};r.size-r.indexOf(a)}
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##PY49b8IwEIZ3fsXbAeksAmrTLRIDIxKoQ9Up6nANDhgZg85WC63y29OLFWU53/vhRxcb9tz316@zbRL27AL@ZsDBtrioIJZjrLAR4Uf9nsSF46ep8BFcwjo3gZu6yQdqaediorJ4LcrixRijaTcbYS35CkNeb0MaEPpMhG8WiKopJzP5rP5zVj8n5y3oSVbNNSQ9LhIbMyKQAYJqAR6N4ScxFvC5N4dfRfdrc9rlKdnAUhcXDvb@1mozX931/T8" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def main(args: Array[String]): Unit = {
    println(f(List(2,3,2,1)))
  }

  def f(l: List[Int]): Int = {
    var r = List[Int]()
    var a = 0
    while (!r.contains(a)) {
      r = r :+ a
      a = (a + l(a)) % l.size
    }
    r.size - r.indexOf(a)
  }
}
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 12 bytes</h1>
<pre><code>ẏYd‡hǓ~↲t$↲L
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyJ+IiwiIiwi4bqPWWTigKFox5N+4oaydCTihrJMIiwiIiwiWzBdID0+IDFcblswLCAxLCAyXSA9PiAxXG5bMSwgMCwgMl0gPT4gMVxuWzEsIDEsIDJdID0+IDJcblsyLCAyLCAyLCAyXSA9PiAyXG5bMiwgMywgMiwgMV0gPT4gMlxuWzMsIDMsIDMsIDJdID0+IDNcblsxLCAxLCAxLCAxXSA9PiA0Il0=" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ėṙ`ḢṪƊÐḶL
</code></pre>
<p>A monadic Link that accepts a list of integers and yields the cycle length.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///ItIc7ZyY83LHo4c5Vx7oOT3i4Y5vP/6OTHu6coXO4PetRwxwFWzuFRw1zNSP//4@ONojV4VKINtBRMNRRMAKzgQwDJDZc3AjIgCAY1xjMNQRzjcFcY1SNhhDZWAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<p>Keep a record of the original indices along with their jump-values and repeatedly rotate this left by its first jump-value to find the cycle and output its length.</p>
<p>The implementation actually rotates by all indices and jump-values then picks out the one we want (rotated by first jump-value).</p>
<pre><code>Ėṙ`ḢṪƊÐḶL - Link: list of integers, Jumps
Ė         - enumerate  -&gt; [[1, jump1], [2, jump2], ...]
      ÐḶ  - start with that and collect up while distinct then yield loop, applying:
     Ɗ    -   last three links as a monad - f(Current):
  `       -     use as both arguments of:
 ṙ        -       rotate {Current} left by {Current} (vectorises)
   Ḣ      -     head -&gt; rotations by the first index and first jump
    Ṫ     -     tail -&gt; rotation by the first jump
        L - length
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 29 bytes</h1>
<pre><code>ＵＭθ⁺ικ⊞υ⁰Ｆ⁺θθ⊞υ§θ↨υ⁰Ｉ⊕⌕Φ⮌υκ⊟υ
</code></pre>
<p><a href="https://tio.run/##NU3JCoMwFLz3K97xBVLocvTUCgUPgvQqHkJ8xdCYaBbp36eJpXMYhlkYOQknrdAptWKp7TwLM@LKodPRo@LwZqw6dNFPGDmcsn5ZB7inubUyBv/wFhoz0qfYd@Hp19/XTpmAtfABGyMdzWQCjfhQppAO5PBJG7myYeUxv9sl64Iqpb4/c7hwuGYehnTc9Bc" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Port of @bsoelch's Python answer.</p>
<pre><code>ＵＭθ⁺ικ
</code></pre>
<p>Add the index to each element to give its (cyclic) destination index.</p>
<pre><code>⊞υ⁰
</code></pre>
<p>Start on the leftmost index.</p>
<pre><code>Ｆ⁺θθ
</code></pre>
<p>Repeat enough times to guarantee a cycle.</p>
<pre><code>⊞υ§θ↨υ⁰
</code></pre>
<p>Get the next index.</p>
<pre><code>Ｉ⊕⌕Φ⮌υκ⊟υ
</code></pre>
<p>Find the length of the cycle.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>11</s> 10 bytes</h1>
<pre><code>+J,1ị@\ÐḶL
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/1/bS8fw4e5uh5jDEx7u2Obz/3C77aGlRvqR//9Hc0UbxOooGOoAaRClYATlAZkGKDyonBGQZwSiwAghYAwWMIQKGIMFjCEqjOEGGEJUmOhwxQIA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p><em>-1 <a href="https://chat.stackexchange.com/transcript/message/64427282#64427282">thanks to Bubbler</a></em></p>
<pre><code>+J            Add every jump number to its 1-index.
  ,1          Pair that with 1.
       ÐḶ     Loop while unique then extract the cycle:
      \       scan by
    ị@        modular 1-index right into left.
      \ÐḶ     (Dyadic ÐḶ doesn't reuse the right argument.)
         L    Take the length of the cycle.
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 62 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;l{*r=a=0;1while r!=r|=[a=(a+l[a])%l.size];r.size-r.index(a)}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf1y6nWqvINtHWwNqwPCMzJ1WhSNG2qMY2OtFWI1E7JzoxVlM1R684syo11roITOsW6WXmpaRWaCRq1v4vUEiLjjbSMdYx0jGMjf0PAA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.r-project.org" rel="noreferrer">R</a>, 65 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(a){while(!(T=(T+a[+T]-1)%%sum(a|1)+1)%in%F)F=c(T,F)
match(T,F)}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhY3HWM0EjWryzMyc1I1FDVCbDVCtBOjtUNidQ01VVWLS3M1EmsMNbWBnMw8VTdNN9tkjRAdN02u3MSS5AwwsxZq0NQ0jWQNA01NBWUFQy4wW0fBUEfBCEkEyDXAEIGrMQKLGAG5EIQqaAwWNEQSNAYLGsNUGiMZaAhTaQJx3IIFEBoA" rel="noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu9" class="pu"><h1>JavaScript (ES6), 54 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(a,i=j=0)=&gt;j-a[~i]||f(a,(i+a[i])%a.length,a[~i]=j++)
</code></pre>
<p><a href="https://tio.run/##hc5NCsMgEAXgfU/hpqBoftRu7UXExZDGVBEtTegq9Oo2pJTQUOkwq3kfj/HwgLG7u9tUxXTpc7YKA3PKq5aos69AP52ZZ7scsaOgnSFHqEMfh@nK1lB5SknuUhxT6OuQBmyxbg36DCGoaRA/7AVDnCFhymKJ27/iu0PshVji95qykKvgJSFXIbcO@fsPvnWc8gs" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<hr />
<h1>JavaScript (ES12), 52 bytes</h1>
<p>-2 bytes by using nullish coalescing assignment, as suggested by <a href="https://codegolf.stackexchange.com/users/44718/tsh">@tsh</a>.</p>
<pre class="lang-javascript prettyprint-override"><code>f=(a,i=j=0)=&gt;j-(a[~i]??=j++)||f(a,(i+a[i])%a.length)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kLz8ldcGCpaUlaboWN03SbDUSdTJts2wNNG3tsnQ1EqPrMmPt7W2ztLU1a2rSgJIamdqJ0ZmxmqqJejmpeeklGZoQvbcY-ZPz84rzc1L1cvLTNdI0og1iFWBAU1NBX1_BkAtdhY6CoY6CUSxuFUBpA4IqUM0wQldhBJSGoFjcKozBKgxxqTAGqzBGmGGM3R2GCDNMIOECC1sA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 16 bytes</h1>
<pre><code>0λIā&lt;+sè}Igô1èÙg
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/f4NxuzyONNtrFh1fUeqYf3mJ4eMXhmen//0cb6yhAkFEsAA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 99 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda x,y=0,z={}:next(i-z[y]for i in range(len(x)+1)if y in z or[z:=z|{y:i},y:=(y+x[y])%len(x)]*0)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XVDtasMgFGV_fYpLYKCrHfnYjyH4JGkoLjWbkJqgdsR0fZL9CYztnbanmaldWyZy9Zxzj_de37967146PX00fPW5c83y8btuxfZpI2Cgnqd05PsD03JwWC3H0ldNZ0CB0mCEfpa4lRoPZJER1YCf6RE6U46Mj297z9SBesaxXwzBSW5jcnWXkljq5wY5ad26FlZa4FvRY_kqWpokSZlWFDJUpiFSyCMIt_QanJQclXmIcZ9xccRZxMURF1Ev_sxZ1B9CvXvbt8rhZKUTQhCapzy3RkEOvayd3KyNtLvWzXNeGmcIwuqN0g5feXDMZby5sIRQiDTn_948fck0xfMX" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu12" class="pu"><h1>JavaScript, 56 bytes</h1>
<pre class="lang-javascript prettyprint-override"><code>a=&gt;(g=t=&gt;t-(a[i=(i+a[i|0])%a.length]||=t++)||g(t))(i=.5)
</code></pre>
<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=

a=&gt;(g=t=&gt;t-(a[i=(i+a[i|0])%a.length]||=t++)||g(t))(i=.5)


t = `
[0], 1
[0, 1, 2], 1
[1, 0, 2], 1
[1, 1, 2], 2
[2, 2, 2, 2], 2
[2, 3, 2, 1], 2
[3, 3, 3, 2], 3
[1, 1, 1, 1], 4
`.trim().split('\n').map(l =&gt; JSON.parse(`[${l}]`));
t.forEach(([i, e]) =&gt; {
  console.log(f([...i]) == e, f([...i]))
});</code></pre>
</div>
</div>
</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/265325/">265325</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




