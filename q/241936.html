<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::241936</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>045</td><td>Wolfram Language Mathematica</td><td>220130T031059Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/242015#242015">att</a></td></tr>
<tr d-ix="1"><td>009</td><td>Husk</td><td>220130T093308Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/242026#242026">Dominic </a></td></tr>
<tr d-ix="2"><td>011</td><td>05AB1E</td><td>220131T091509Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/242071#242071">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>038</td><td>Charcoal</td><td>220128T195932Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/241949#241949">Neil</a></td></tr>
<tr d-ix="4"><td>080</td><td>Haskell</td><td>220130T102101Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/242030#242030">ovs</a></td></tr>
<tr d-ix="5"><td>083</td><td>Haskell</td><td>220130T002019Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/242010#242010">AZTECCO</a></td></tr>
<tr d-ix="6"><td>077</td><td>Factor + math.unicode</td><td>220130T045540Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/242017#242017">chunes</a></td></tr>
<tr d-ix="7"><td>010</td><td>Brachylog</td><td>220128T173450Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/241940#241940">DLosc</a></td></tr>
<tr d-ix="8"><td>162</td><td>R</td><td>220129T201349Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/241989#241989">pajonk</a></td></tr>
<tr d-ix="9"><td>028</td><td>Burlesque</td><td>220129T114522Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/241972#241972">DeathInc</a></td></tr>
<tr d-ix="10"><td>063</td><td>Ruby</td><td>220129T083929Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/241966#241966">G B</a></td></tr>
<tr d-ix="11"><td>011</td><td>Jelly</td><td>220128T173112Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/241937#241937">hyperneu</a></td></tr>
<tr d-ix="12"><td>064</td><td>JavaScript Node.js</td><td>220129T013033Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/241957#241957">tsh</a></td></tr>
<tr d-ix="13"><td>010</td><td>Jelly</td><td>220128T223002Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/241955#241955">Jonathan</a></td></tr>
<tr d-ix="14"><td>078</td><td>Retina 0.8.2</td><td>220128T185223Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/241945#241945">Neil</a></td></tr>
<tr d-ix="15"><td>075</td><td>JavaScript Node.js</td><td>220128T182020Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/241943#241943">l4m2</a></td></tr>
<tr d-ix="16"><td>068</td><td>Python 3</td><td>220128T180419Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/241941#241941">AnttiP</a></td></tr>
<tr d-ix="17"><td>014</td><td>Japt h</td><td>220128T173359Z</td><td><a href="https://codegolf.stackexchange.com/questions/241936/one-pair-or-fewer/241938#241938">Shaggy</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>48</s> <s>47</s> 45 bytes</h1>
<pre><code>Last@*Select[1##&amp;@@Counts@#&lt;3&amp;]@*Subsequences
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73yexuMRBKzg1JzW5JNpQWVnNwcE5vzSvpNhB2cZYLRYoVZpUnFpYmpqXnFr8P6AoM68kWlnXLs1BOVatLjg5Ma@umqu6Voer2lDHSMcYxoAywQwgNoGJG4K4cNVArokOhGWiY6pjWMtV@x8A" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Input <code>[list]</code>. Output a list.</p>
<hr />
<h2><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 45 bytes</h2>
<pre><code>f[s=___,Longest@a:s,s]/;Times@@Counts@{a}&lt;3=a
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78/z8tutg2Pj5exyc/Lz21uMQh0apYpzhW3zokMze12MHBOb80r6TYoTqx1sbYNvF/QFFmXkm0sq5dmoODcqxaXXByYl5dNVd1rQ5XtaGOkY4xjAFlghlAbAITNwRx4aqBXBMdCMtEx1THsJar9j8A" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Input <code>[list...]</code>. Output a <code>Sequence</code>.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <s>10</s> 9 bytes</h1>
<p><em>Edit: -1 byte thanks to Razetime</em></p>
<pre><code>►LfoεṠ-uQ
</code></pre>
<p><a href="https://tio.run/##yygtzv7//9G0XT5p@ee2Pty5QLc08P///9GGOkY6xjqGOiY6EJaJjqmOYSwA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<pre><code>►           # output the (first) element with maximum...
 L          # ...length...
            # ...from among:
         Q  # all contiguous sublists, 
  fo        # filtered by:
      Ṡ-    # the difference between...
        u   # ...itself and unique elements of itself...
    ε       # ...has length 1.
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 11 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ŒʒgyÙg-!}éθ
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//6KRTk9IrD89M11WsPbzy3I7//6MNdYx0jHUMdUx0ICwTHVMdw1gA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/o5NOTUqvPDwzXVex9vDKczv@6/yPjo7VUYg21DHSMYYxoEwwA4hNYOKGIC5cNZBrogNhmeiY6hgiJIxiYwE" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Œ        # Get all sublists of the (implicit) input-list
 ʒ       # Filter this list of sublists by:
  g      #  Get the length of the sublist
   y     #  Push the sublist again
    Ù    #  Uniquify its items
     g   #  Pop and push the length of this uniquified list as well
      -  #  Subtract the lengths from one another
       ! #  Check if this is either 0 or 1 by taking the faculty, which will
         #  result in [1,1,2,6,24,120,...] for [0,1,2,3,4,5,...] respectively,
         #  and only 1 is truthy in 05AB1E
 }é      # After the filter: sort the remaining sublists from shortest to longest
   θ     # Pop and keep just the last (longest)
         # (after which it is output implicitly as result)
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>40</s> 38 bytes</h1>
<pre><code>≔⟦⟧ηＦθ«⊞υιＷ‹¹ΣＥυ›μ⌕υλ≔Φυμυ¿›ＬυＬη≔Ｉυη»η
</code></pre>
<p><a href="https://tio.run/##TY4/D4IwEMVn@BQ3tsk5oDgxGRNcMCFxJAwNFtqkgPaPDsbPXlvExJte7vfeu@sE093MlPcHY@QwkaZFELRI@1kDuVN4pUntjCAOQYZ18hRScSAVN4ZkCBc3kjO7RXzSnFmuyYhQyukaV4ouA2t3KVU0BDBSBBfrZA/kF6z4NNhwKbBVir/wkRm7sPjdO621nGwwFN43TYZb3GGGOX5VjnvM2tZvHuoD" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔⟦⟧η
</code></pre>
<p>Start with no longest sublist.</p>
<pre><code>Ｆθ«
</code></pre>
<p>Loop over the input terms.</p>
<pre><code>⊞υι
</code></pre>
<p>Append the term to the predefined empty list.</p>
<pre><code>Ｗ‹¹ΣＥυ›μ⌕υλ
</code></pre>
<p>While the current sublist contains more than one duplicate...</p>
<pre><code>≔Φυμυ
</code></pre>
<p>... remove the first term from the sublist.</p>
<pre><code>¿›ＬυＬη
</code></pre>
<p>If the sublist is longer than the longest sublist so far, then...</p>
<pre><code>≔Ｉυη
</code></pre>
<p>... save a copy of the sublist (because we're going to push to the original, and we need to cast it to string anyway).</p>
<pre><code>»η
</code></pre>
<p>Output the longest sublist (which we already cast to string above).</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 80 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>import Data.List
l=length
head.sortOn(\x-&gt;(l(x\\nub x)&gt;1,-l x)).(tails=&lt;&lt;).inits
</code></pre>
<p><a href="https://tio.run/##PY3BDoIwEETv/Yoe26Q0KeKNcvKo8QOAmBqLbCiV0DXh72sF9LB5M7Ob2d6EwToXI4zTa0Z6MmjkGQISp531T@xJp3trHjKk9dWzZskq5tjSNP59pwuvlMhcIpcMDbigy5JL8IAhog0YqKZ13YpaiVwcdm5qZZpiT9XX/S6TK8SmCnEU6p/nbUvIaMCn4tFMlxtl0wweZcfp@jB@AA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Get all infixes, sort by <code>(invalid, -length)</code>, return the first one.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>108</s>   83 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>f l@(u:q)|0:(0&lt;$l)&lt;[0|x&lt;-l,y&lt;-q,x==y]=f(init$l)!f q
f q=q
a!b|(a&lt;$a)&gt;(a&lt;$b)=a|1&gt;0=b
</code></pre>
<p><a href="https://tio.run/##bYnBCsIwEAXv/Yot5JDAFpJaLyVb/I@SQ4oGgzE1WqGF/HusePXwmGHe1b5ulxBKcRBO/N0nkWXPpWZB6FHmVTcBN90kXIk2Q4776Jf9rB2kah@lytZT5lYzK4YvJkE2q0HSVO7WRyA4zxXA4@njAgzcqLDFA7bmT1TY4c86PKIy5QM" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<ul>
<li>Thanks to @Wheat Wizard for saving so many many bytes!</li>
</ul>
<p><code>g</code> : counts duplicates.  -&gt; moved to list comprehension in <em>f</em> by Wheat Wizard , the tricky part is here and deserves an explanation</p>
<pre class="lang-hs prettyprint-override"><code>f(u:q)|
(0&lt;$q)       list 0s for each element 
&lt;            compared to
[0|x&lt;-q,y&lt;-q,x==y] list of 0s for each equal pairs in the powerset
</code></pre>
<p>Note that we use tail so that one potential dupe is already counted and the lists must be the same, if not there is more than 1 dupe, in that case we search.. Else we skip this and f q=q match giving the result.</p>
<p>a<code>!</code>b : selects longer list.<br />
<code>f</code><em>list</em> : if <em>list</em> is not ok choose from head or tail else return it</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a> + <code>math.unicode</code>, 77 bytes</h1>
<pre><code>[ f suffix all-subseqs [ histogram values 1 v-n Σ 2 &lt; ] find-last nip sift ]
</code></pre>
<p><a href="https://tio.run/##RY9BTgMxDEX3PcW/wIw0pRUSsEdsukFdVV2Y1Gkj0iTEzqgFcRruw5WGtCM6C1vP/v6WviWjMQ/r15fV8wOEPwoHwzJRyyfNJDiSHq6tFSV1os4ISCSaUWt7vnwSvHMO7MddCc7EHSNlVj2n7IJiz4EzefdZv8QgeJzNvvBdq8Mcdzf655HmWNyU7jpPjq5qIy2wrDQpl6thAwsp1roTyPtGylvNJtjgUEPEfaYjevKlZu7QNwG/P9X3hC2sC7vGkyiCSxBnFdvhHoFS8me0AuOZ8vAH" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<h2>Explanation</h2>
<ul>
<li><code>f suffix ... sift</code> Work around the fact that <code>all-subseqs</code> blows up on an empty input. Add <code>f</code> to the input and remove it with <code>sift</code> at the end. (This doesn't change anything since we're only adding one.)</li>
<li><code>all-subseqs [ ... ] find-last nip</code> Find the last/largest subsequence of the input that returns true when the given quotation is called on it.</li>
</ul>
<p>The quotation to <code>find-last</code> works by taking a histogram of the input, subtracting 1 from all the counts, taking the sum, and checking whether the sum is less than two. For instance:</p>
<pre><code>             ! { 2 2 3 2 4 }
histogram    ! H{ { 2 3 } { 3 1 } { 4 1 } }
values       ! { 3 1 1 }
1 v-n        ! { 2 0 0 }
Σ            ! 2
2 &lt;          ! f
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, <s>14</s> <s>12</s> 10 bytes</h1>
<p><em>-2 bytes thanks to <a href="https://codegolf.stackexchange.com/users/95594/xash">xash</a></em></p>
<pre><code>⊇.ọtᵐ×≤2&amp;s
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r//1FXu97D3b0lD7dOODz9UecSI7Xi//@jDXWMdIx1DHVMdCAsEx1THcPY/xEA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>We're looking for a sublist in which each element occurs only once, except that one element may occur twice.</p>
<p>Makes use of <a href="https://codegolf.stackexchange.com/a/231602/16766">this very helpful tip</a> from <a href="https://codegolf.stackexchange.com/users/85334/unrelated-string">Unrelated String</a>.</p>
<pre><code>⊇.ọtᵐ×≤2&amp;s
            The input
⊇           Sublist (not necessarily contiguous), trying longest first
 .          The result is the output
  ọ         Generate a list of [element, count] pairs
   tᵐ       Get the last element of each pair (list of counts)
     ×      Product
      ≤2    Is less than or equal to 2
        &amp;s  Also, the output is a contiguous sublist of the input
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 162 bytes</h1>
<p>Or <strong><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>&gt;=4.1, 148 bytes</strong> by replacing two <code>function</code> occurrences with <code>\</code>s.</p>

<pre class="lang-r prettyprint-override"><code>function(v,a=apply(combn(rep(seq(v),2),2),2,function(x,t=table(k&lt;-v[x[1]:x[2]]))if(x[1]&lt;=x[2]&amp;all(t%in%1:2)&amp;sum(t==2)&lt;2)k))&quot;if&quot;(sum(v),a[order(-lengths(a))[1]],v)
</code></pre>
<p><a href="https://tio.run/##XY7RDoIgFIbve4pWq52z4QVkN016EcYFGZSL0JScPb2BVlYbbOf7fuCn7g3vzd3lvigdtERxVVX2AXl5PTiodQWNvkGLhI2LfM52xHOvDlbDJUta0Qkqd51gUiIWBiJmPPJaWQt@VbgV3TFcN/creM4ZZgwviIvCLCC6UKFEWR91DYnV7uTPDSjE8IwkLfYGckBczpP9XMhZJBo@s3mrASb/l3yyYQw7facvnG7SKKZ0wK@@IFIyTinZEvrTPyrZPwE" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>I was hoping for some ingenious answer from better <a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a> golfers here, but it looks like I have to post my boring straightforward one first for some motivation.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/FMNSSun/Burlesque" rel="nofollow noreferrer">Burlesque</a>, 28 bytes</h1>
<pre><code>su&lt;-{f:)-]g_2&lt;=j{1==}al&amp;&amp;}fe
</code></pre>
<p><a href="https://tio.run/##SyotykktLixN/Z@TV12U@L@41Ea3Os1KUzc2Pd7Ixjar2tDWtjYxR02tNi31f21u9P9oQx0jHeNYBS4wA8oEM4DYJBYibAjiQdnGQJ6JDoRlomOqYxgLAA" rel="nofollow noreferrer" title="Burlesque – Try It Online">Try it online!</a></p>
<pre><code>su           # All substrings from shortest to longest
&lt;-           # Reverse (longest first)
{
 f:          # Frequency list as (count, val) sorted by count
 )-]         # Map head (get counts)
 g_          # Split into head + tail
 2&lt;=         # Head is 2 or 1
 j           # Swap
 {1==}al     # Tails all 1s
 &amp;&amp;          # Logical AND
}fe          # Find the first element for which
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 63 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>f=-&gt;l,s=1{l[-s]&amp;&amp;f[l,s+1]||l.each_cons(s).find{|q|q.uniq[s-2]}}
</code></pre>
<p><a href="https://tio.run/##KypNqvz/P81W1y5Hp9jWsDonWrc4Vk0tLRrI1TaMranJ0UtNTM6IT87PK9Yo1tRLy8xLqa4prCnUK83LLIwu1jWKra39X6CQFh1tqGOkY6xjomMKomNj/wMA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/DennisMitchell/jellylanguage" rel="nofollow noreferrer">Jelly</a>, 11 bytes</h1>
<pre><code>ẆµĠẈ’SỊµƇṪȯ
</code></pre>
<p><a href="https://jht.hyper-neutrino.xyz/tio#WyIiLCLhuobCtcSg4bqI4oCZU+G7isK1xofhuarIryIsIsOH4oKsIiwiIixbIltbXSwgWzEsMiwzXSwgWzEsMiwyLDNdLCBbMiwyLDMsMiw0XSwgWzEsMiwxLDMsMl0sIFsxLDIsMywxLDQsMSwyLDMsNCw1LDFdXSJdXQ==" rel="nofollow noreferrer">Try It Online!</a></p>
<p>-1 byte thanks to Jonathan Allan</p>
<pre><code>ẆµĠẈ’SỊµƇṪȯ   Main Link
Ẇ             all sublists
 µ     µƇ     filter
  Ġ           - group indices of equal elements
   Ẉ          - length of each group
    ’         - subtract one from each length
     S        - sum of these (total number of duplicate elements)
      Ị       - is this insigificant? (between -1 and 1)
         Ṫ    take the last (longest) element
          ȯ   logical OR; if the output is 0 (only happens if input
              is []), return the input instead, which fixes [] being
              output as 0
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://nodejs.org" rel="noreferrer">JavaScript (Node.js)</a>, 64 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(a,...r)=&gt;a[new Set(a).size+1]?f(...r,a.slice(1),a.pop()&amp;&amp;a):a
</code></pre>
<p><a href="https://tio.run/##VY8xT8QwDIX3/gpPV1uXRiqUhVPKxMIAw42l0lklhaBcGzVRkUD89tJeWgSD5fe@Z9nyO4/sm8G4kHX9i56mViELKeVAquSq0x9w1AGZpDefep/Xdy0uqWDprWk05jRL1zuk3Y7plqegfWjYaw8KTklVQ1ZCVSdVLq7EdXRRRvQPRnzpcxUx2Eyczxe3BdGsu2dXiKgKcSPyP7dWkJxkGMwZ52ecNQHT5y4leWaHFlQJdsNZueJxwQ/Hp0fpePAaRyI6JL8fyrYf7rl5Q6yMAF3TMv6VADR953urpe1fUYNS0KIh2EOaioucl3zTYfoB" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<hr />
<h1><a href="https://docs.python.org/3/" rel="noreferrer">Python 3</a>, 58 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda l,*r:len(l)&gt;1+len({*l})and f(*r,l[1:],l[:-1])or l
</code></pre>
<p><a href="https://tio.run/##VY/BroIwEEX3fMWEDR0cTKq4IYEfQRZVS2wy1qY0L3l5ed@OxYrRRaf33LlpZ9xvuN7tfp7HltXtdFHAVPqGtRWMndws4q/kf1T2AqMoPXEvmyHWppID3j3wPMYa9BTOatJgLOR5nvUDVB30Q9ZL2tE@UZLJ@jKT/bzjqVNjhZSXC62NBK@3I9WUVE0Hkh9/vYwsTrSdgjdO4HZybIIojrbAJgMwBBpauCkn9I9iem@yBquuQIxB540NYhQGoW1BEywS5wc" rel="noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Yet another question solved with same pattern?</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 10 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="noreferrer">bytes</a></h1>
<pre><code>Ẇœ-QḊƊÐḟṪȯ
</code></pre>
<p><strong><a href="https://tio.run/##y0rNyan8///hrrajk3UDH@7oOtZ1eMLDHfMf7lx1Yv3/w@1HJz3cOeP//2hDHQUjHQUgaQxkxAIA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>Ẇœ-QḊƊÐḟṪȯ - Link: list, A
Ẇ          - substrings (well, non-empty ones) sorted by length then left to right
      Ðḟ   - filter discard those for which this is truthy:
     Ɗ     -   last three links as a monad:
   Q       -     distinct values
 œ-        -     multiset difference - remove one of each value from A
    Ḋ      -     dequeue - remove one from this list if there are any
                         - [] is falsey
        Ṫ  - tail - one of, or the, longest one
                  - unless A was [] in which case zero
         ȯ - logical OR with A - replace that zero with []
</code></pre>
<hr />
<p>Alternatively, <code>Ẇœ-QLỊƲƇṪȯ</code>.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 78 bytes</h1>
<pre><code>M!&amp;r`.*\d\b
.*\b(\d+)(?=.*,\1\b),(.*\b(\d+)\b.*,\3\b)
$2
O$^`((,)|\d)+
$#2
1G`
</code></pre>
<p><a href="https://tio.run/##K0otycxL/K@q4Z7w31dRrShBTysmJSaJC0glacSkaGtq2NvqaenEGMYkaepowEVjkkCCxkBBLhUjLn@VuAQNDR3NmpgUTW0uFWUjLkOgcf@5DHWMdIzBJIgGk0BsAhYxBLEhKoBsEx0Iy0THVMcQAA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>M!&amp;r`.*\d\b
</code></pre>
<p>Take all of the suffixes.</p>
<pre><code>.*\b(\d+)(?=.*,\1\b),(.*\b(\d+)\b.*,\3\b)
$2
</code></pre>
<p>Truncate them at the second last duplicate. (Since we need this longish regex to check for two pairs/three of a kind, it turns out to be golfier to truncate the prefixes than to filter on all sublists.)</p>
<pre><code>O$^`((,)|\d)+
$#2
</code></pre>
<p>Sort by descending number of elements.</p>
<pre><code>1G`
</code></pre>
<p>Take the first.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, <s>79</s> 75 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(X,a)=&gt;X[h=new Set([w,...x]=X).size+1]?(a=f(x),b=f(X,X.pop()),a[h]?a:b):X
</code></pre>
<p><a href="https://tio.run/##dY3BCsIwDIbvPoXHBGOhWi@DuofwEig9dLNzk7EOO9zw5eumN3GHkPB9/0/u7uli@Wj6Yd@Fq0@p0sDkUJ/Z1Lrz4/biBzAjCSEmqxlFbF5@J20OTlcwIRXzYmLRhx4QyZna5i4rMONUhi6G1os23KACYxE3P0jSgY4r/L/58HnUSksudu3TbBV9L0UnkksuJX4D" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>AnttiP's idea, can't read golfing language so don't know if that's source</p>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 89 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(x,h,L=0,a=x.filter(y=x=&gt;!(y[x]=h+=[y[x]])[20]&amp;&amp;++L),b=x[0]?f(x.slice(1)):[])=&gt;b[L]?b:a
</code></pre>
<p><a href="https://tio.run/##dY1BDoIwEEX33sINmYaRUMQNycAFuEHTRcFWMQ01QEw5fQXdGbuY5Oe9/zMP9VJzPw3P5TS6qw7BEHi8Y0s5KvKZGeyiJ1jJU32EVXhJ95TEHiQTRS6TJE1bhh15kcvGgM9mO/QaOGOVkIzqTrSy6SoVejfOzurMuhsY2Bw7/CCOBZ4j/L/58O3KyIrvNvZpsyV@U4kX5HsvRNQb" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Is it usual to be 6-8x longer than golfing language or this is quite golfable?</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 68 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda l:len(l)&gt;1+len({*l})and max(f(l[1:]),f(l[:-1]),key=len)or l
</code></pre>
<p><a href="https://tio.run/##VY1BasQwDEX3PoWZldUqAXfSTSC5SMjCJQ4VVWwTm6Gh9OypXc9AuxB670tI4Ujv3l3Pcx3YbG@LkdyzdYph1M8Fvp74G4xb5GY@1ap40v0MWKBvdKYPewx5D/wu@aQt@D3JeEQh1pJIcsXamBZy7W7NwuRsVNALSeiHzQRlb4aR2xiYkro04wVAyLCTS4ryIwL0cE6zbEY5zWLS@ILXahVr9C@s8W/P1dXBQ@q@LvYYVLnfztZhpQ5fUf/5dQ9@AA" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-h</code></a>, 14 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Feel like I'm missing a trick here :\</p>
<pre><code>ã fÈÊÉ¶Xâ ÊÃiU
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LWg&amp;code=4yBmyMrJtljiIMrDaVU&amp;input=WzEsMiwxLDMsMl0" rel="nofollow noreferrer">Try it</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/241936/">241936</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




