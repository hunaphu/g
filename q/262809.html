<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::262809</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>067</td><td>Python 3.8 prerelease</td><td>230714T202400Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262829#262829">Hunaphu</a></td></tr>
<tr d-ix="1"><td>006</td><td>Uiua</td><td>231012T195722Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/265947#265947">chunes</a></td></tr>
<tr d-ix="2"><td>009</td><td>Itr</td><td>230731T150701Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/263574#263574">bsoelch</a></td></tr>
<tr d-ix="3"><td>077</td><td>PowerShell Core</td><td>230731T214721Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/263586#263586">Julian</a></td></tr>
<tr d-ix="4"><td>008</td><td>Pyth</td><td>230717T180714Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262937#262937">CursorCo</a></td></tr>
<tr d-ix="5"><td>065</td><td>Kotlin</td><td>230717T174216Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262936#262936">Cactusro</a></td></tr>
<tr d-ix="6"><td>006</td><td>Pip P</td><td>230717T160138Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262933#262933">DLosc</a></td></tr>
<tr d-ix="7"><td>005</td><td>05AB1E</td><td>230717T120037Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262926#262926">Kevin Cr</a></td></tr>
<tr d-ix="8"><td>007</td><td>Japt</td><td>230717T112217Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262922#262922">Shaggy</a></td></tr>
<tr d-ix="9"><td>009</td><td>Dyalog APL</td><td>230714T165247Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262811#262811">RubenVer</a></td></tr>
<tr d-ix="10"><td>062</td><td>TypeScript's Type System</td><td>230717T004021Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262914#262914">noodle m</a></td></tr>
<tr d-ix="11"><td>053</td><td>><> Fish</td><td>230716T174155Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262913#262913">mousetai</a></td></tr>
<tr d-ix="12"><td>002</td><td>MATL</td><td>230714T170146Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262812#262812">Luis Men</a></td></tr>
<tr d-ix="13"><td>021</td><td>KamilaLisp v0.3</td><td>230716T103159Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262906#262906">Kamila S</a></td></tr>
<tr d-ix="14"><td>006</td><td>Nekomata</td><td>230716T052611Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262901#262901">alephalp</a></td></tr>
<tr d-ix="15"><td>055</td><td>Python</td><td>230715T051305Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262849#262849">SuperSto</a></td></tr>
<tr d-ix="16"><td>034</td><td>Haskell</td><td>230716T030214Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262897#262897">xnor</a></td></tr>
<tr d-ix="17"><td>nan</td><td>Go</td><td>230714T174031Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262818#262818">bigyihsu</a></td></tr>
<tr d-ix="18"><td>081</td><td>Rust</td><td>230715T215125Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262891#262891">leo848</a></td></tr>
<tr d-ix="19"><td>039</td><td>Haskell</td><td>230715T151445Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262878#262878">Magma</a></td></tr>
<tr d-ix="20"><td>067</td><td>Haskell</td><td>230715T125134Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262871#262871">matteo_c</a></td></tr>
<tr d-ix="21"><td>007</td><td>K ngn/k</td><td>230715T085445Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262856#262856">south</a></td></tr>
<tr d-ix="22"><td>3125</td><td>Vyxal</td><td>230715T054444Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262851#262851">lyxal</a></td></tr>
<tr d-ix="23"><td>033</td><td>Excel</td><td>230715T045132Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262847#262847">Jos Wool</a></td></tr>
<tr d-ix="24"><td>014</td><td>Mathematica</td><td>230715T045717Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262848#262848">138 Aspe</a></td></tr>
<tr d-ix="25"><td>097</td><td>Racket</td><td>230715T003454Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262839#262839">Ed The &</a></td></tr>
<tr d-ix="26"><td>034</td><td>JavaScript Node.js</td><td>230715T000831Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262837#262837">l4m2</a></td></tr>
<tr d-ix="27"><td>009</td><td>APLDyalog Unicode</td><td>230714T200809Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262828#262828">att</a></td></tr>
<tr d-ix="28"><td>005</td><td>Thunno 2</td><td>230714T171825Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262816#262816">The Thon</a></td></tr>
<tr d-ix="29"><td>023</td><td>Python</td><td>230714T183607Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262825#262825">The Thon</a></td></tr>
<tr d-ix="30"><td>004</td><td>Octave</td><td>230714T183225Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262823#262823">Hunaphu</a></td></tr>
<tr d-ix="31"><td>015</td><td>Factor + math.matrices</td><td>230714T181438Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262822#262822">chunes</a></td></tr>
<tr d-ix="32"><td>020</td><td>R</td><td>230714T174853Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262820#262820">pajonk</a></td></tr>
<tr d-ix="33"><td>011</td><td>Charcoal</td><td>230714T173356Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262817#262817">Neil</a></td></tr>
<tr d-ix="34"><td>011</td><td>PARI/GP</td><td>230714T171816Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262815#262815">RubenVer</a></td></tr>
<tr d-ix="35"><td>006</td><td>J</td><td>230714T171748Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262814#262814">Jonah</a></td></tr>
<tr d-ix="36"><td>066</td><td>Python</td><td>230714T171616Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262813#262813">Sapherey</a></td></tr>
<tr d-ix="37"><td>005</td><td>Jelly</td><td>230714T164611Z</td><td><a href="https://codegolf.stackexchange.com/questions/262809/diagonalize-a-vector/262810#262810">Unrelate</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 67 bytes</h1>
<pre><code>lambda a:[[x*(i==j) for i,x in enumerate(a)]for j in range(len(a))]
</code></pre>

<p>A 42-byte solution that only works if all elements are unique:</p>
<pre class="lang-python prettyprint-override"><code>lambda a:[[x*(x==y) for x in a]for y in a]
</code></pre>
<p><a href="https://tio.run/##bcqxCoAgFEDRva94o0aLRBCBX2IOL8oSTMUc9OvNiLa2A/f6HA9n@9GHovhcDJ7LioCTEKklifNMQbkACbQFlA/zy4LAwegrkoB23wjrYKC08UHbSPCDqqQNCibrzf5ruQE" rel="nofollow noreferrer" title="Python 3.8 (pre-release) â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, <s>7</s> 6 <a href="https://www.uiua.org/pad?src=U0JDUyDihpAgK0BcMOKKlwpEZWNvZGUg4oaQIOKHjOKKjy0x4pa9wrEu4o2Y4ouv4oav4oqCwq8x4qe74ouv4qe7LOKHjOKItSjihpjCrzHii68rMjU2KSAtQFwwKzEKJnAg4oqCIjggYml0IGVuY29kaW5nOlx0IiBTQkNTICLih4ziio8tMeKWvcKxLuKNmOKLr-KGr-KKgsKvMeKnu-KLr-Knuyzih4ziiLUo4oaYwq8x4ouvKzI1NikiIOKKgitAXDDih6ExMjkiLiziiLY74oiYwqzCscKv4oy14oia4peL4oyK4oyI4oGFPeKJoDziiaQ-4omlKy3Dl8O34pe_4oG_4oKZ4oan4oal4oig4qe74paz4oeh4oqi4oeM4pmt4ouv4o2J4o2P4o2W4oqa4oqb4oqd4pah4oqU4omF4oqf4oqC4oqP4oqh4oav4oaZ4oaY4oa74per4pa94oyV4oiK4oqXL-KIp1xc4oi14omh4oi64oqe4oqg4o2l4oqV4oqc4oip4oqT4oqD4oqZ4ouF4o2Y4o2c4o2a4qyaJz_ijaPijaQh4o6L4oas4pqCzrfPgM-E4oiefl9bXXt9KCnCr0AkXCLihpB8IyIKJnAg4oqCImRlY29kZWQ6XHQiIERlY29kZSAiwqPCsS0xwrjChy7DjMKlwrPCsMKIMcKfwqXCnyzCo8K_KMK1wogxwqUrMjU2KSIg4oqCK0BcMOKHoTEyOSIuLOKItjviiJjCrMKxwq_ijLXiiJril4vijIrijIjigYU94omgPOKJpD7iiaUrLcOXw7fil7_igb_igpnihqfihqXiiKDip7vilrPih6HiiqLih4zima3ii6_ijYnijY_ijZbiipriipviip3ilqHiipTiiYXiip_iioLiio_iiqHihq_ihpnihpjihrvil6vilr3ijJXiiIriipcv4oinXFziiLXiiaHiiLriip7iiqDijaXiipXiipziiKniipPiioPiipnii4XijZjijZzijZrirJonP-KNo-KNpCHijovihqzimoLOt8-Az4TiiJ5-X1tde30oKcKvQCRcIuKGkHwjIg==" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ã—âŠ=.â.
</code></pre>
<p>-1 thanks to Bubbler</p>
<p><a href="https://uiua.org/pad?src=RiDihpAgw5fiip49LuKNjy4KCkYgW10KRiBbMV0KRiBbMSAyIDEgMl0KRiBbMSAwIDEgMl0=" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>Ã—âŠ=.â.
     .  # duplicate
 âŠ=.â   # identity matrix
Ã—       # multiply
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/bsoelch/OneChar.js/blob/main/ItrLang.md" rel="nofollow noreferrer">Itr</a>, 9 bytes</h1>
<p><code>#Ã¤LÂºÂµÃÂ·Â®Â£</code></p>
<p>prints the elements of the matrix separated by spaces, with <code>,</code> separating the rows. Does not print the zero entries above the diagonal.</p>
<p><a href="https://bsoelch.github.io/OneChar.js/?lang=itr&amp;src=I-RMurXNt66j&amp;in=WzEsIDAsIDIsIDNd" rel="nofollow noreferrer">online interpreter</a></p>
<h1>Explanation</h1>
<pre><code>#          ; read array from standard input
 Ã¤LÂº       ; push the range from zero to array.length-1
    ÂµÃ     ; replace each element in the range with a vector having a one at the given index
           ; this will give an identity matrix of size array.length represented as 2D array 
      Â·    ; point-wise multiplication
       Â®   ; convert result to matrix
        Â£  ; print
</code></pre>
<hr />
<h1>Itr, <s>10</s> <a href="https://bsoelch.github.io/OneChar.js/?lang=itr&amp;src=I0y6tc23riuj&amp;in=WzEsIDAsIDIsIDNd" rel="nofollow noreferrer">9 bytes</a></h1>
<p><s><code>#Ã¤LÂºÂµÃÂ·Â®+Â£</code></s> (broken in current version)</p>
<p><code>#LÂºÂµÃÂ·Â®+Â£</code></p>
<p>Adds zero to the result to force the entries above the diagonal to be printed.</p>
<hr />
<h1>Itr, <a href="https://bsoelch.github.io/OneChar.js/?lang=itr&amp;src=I0y6tc23rqM&amp;in=WzEsIDAsIDIsIDNd" rel="nofollow noreferrer">8 bytes</a></h1>
<p><code>#LÂºÂµÃÂ·Â®Â£</code></p>
<p>the <code>Ã¤</code> before the <code>L</code> is no longer necessary in newer versions</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell Core</a>, 77 bytes</h1>

<pre class="lang-powershell prettyprint-override"><code>if($l=($a=$args).count){($k=1..$l)|%{$r++
$c=1
,($k|%{$a[$_-1]*!($c++-$r)})}}
</code></pre>
<p><a href="https://tio.run/##hVFdS8MwFH3vr7iOKIlNRrqp4EOhUPTBF8XtbYxRY@bUbpn9UGHrb69pSuu6Sgwp9@uce25ut@pLJulKxjETKpElWvq78nWJUexjFPkoSl5SMhQq32Rkh9G77w2HKCb70x1KXNdBwvccqvNVIpqhBfPm5ycYCddlKCEFKYqycJwAO6APhQAHmFSGkIMMJ43tpD3S2G6awojCmLQR19dE3FRan1eoYyr/i90lHYWjXrXflV1T0GZM4UIH1XdJ4YqCTjOP98T6txGoGtkR3CjZAdyMYgdwM6sdwOvH2BG8fq0dwc067ABu9mUH8Hqhev8E9nCrkptIrNj905sUGezMT0GZTLMwSiUFJL@3uiCfwQe0qKuHqdbfQ6g2nzLJpordpWoDLFTrbSLT1KlZ2s3jTHPwGVpC0EiQf5mzh0mYp5la1zPOg3rI6kxyITTO@H4rweTH72AtdjDViiC05KDCNvpg02@4j3Xjro6pFk5R/gA" rel="nofollow noreferrer" title="PowerShell Core â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 8 bytes</h1>
<pre><code>.eXmZQkb
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/Xy81IjcqMDvp//9oQx0DHSMd41gA" rel="nofollow noreferrer" title="Pyth â€“ Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>.eXmZQkbQ    # implicitly add Q
             # implicitly assign Q = eval(input())
.e      Q    # enumerated map Q over lambda, b, k
   mZQ       # list of zeros the same length as Q
  X   kb     # replace position k with b
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://kotlinlang.org" rel="nofollow noreferrer">Kotlin</a>, 65 bytes</h1>
<pre><code>{a:IntArray-&gt;Array(a.size){i-&gt;IntArray(a.size).also{it[i]=a[i]}}}
</code></pre>
<p><a href="https://tio.run/##fY9Ba8MwDIXPza945GSDbdp1G6ysgR577m6lBx2aojW1i@MFVuPfnjlhGR2MHSQ9vU8I6exCw7avPywuxFZIxGLWUYMaa/SRVlsbNt7Tp67GIsi0fDvKyLqa0OQZaloXOez5sKacUkr9rDZXzzYIWfzI@Z1e3GuFB4Xlb2f@l6lfFHJZKjzmZognhWeFbOtFXp@KYvhIiOlECV1hVK@TVcnvfR158ifkaFfIVObPR9JYwbZz56MYmDQXuiKCg3l3bN/cLuShkyhVqVDuh3QoJdJ/VPZf" rel="nofollow noreferrer" title="Kotlin â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a> <code>-P</code>, 6 bytes</h1>
<pre><code>g*EY#g
</code></pre>
<p>(The flag is only necessary to format the output in a readable way; any of <code>-P</code>, <code>-p</code>, <code>-S</code> will do.)</p>
<p><a href="https://ato.pxeger.com/run?1=m724ILNgWbSSboBS7IKlpSVpuhbL0rVcI5XTIRyo2JpoQx0FAx0FIx0FY5g6AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<pre class="lang-lisp prettyprint-override"><code>g*EY#g
     g  ; List of command-line arguments
    #   ; Length
  EY    ; Identity matrix of that size
g*      ; Multiply each row by the corresponding element of g
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 5 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ÄDÎ´Q*
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//SKPLuS2BWv//RxvqKOha6igAKWMdBRMgB4RNdRTMdBSAwrqGBrEA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/I40u57YEav3X@R8dHasTbQDEhiCsY6RjDKYN4CxdSx1DHWMdEx1dIDLVMdOx1NE1NIiNBQA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>ÄDÎ´Q   # Create an identify matrix the size of the input-length:
Ä      #  Push a list in the range [1, (implicit) input-length]
 D     #  Duplicate it
  Î´    #  Apply double-vectorized:
   Q   #   Check whether the values are equal
    *  # Multiply the values in each row with the values of the (implicit) input-list
       # (after which the matrix is output implicitly as result)
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 7 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Â£Ã§T hYX
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=o%2bdUIGhZWA&amp;input=WzEsIC05LCAxLCAzLCA0LCAtNCwgLTUsIDYsIDksIC0xMF0KLVE" rel="nofollow noreferrer">Try it</a></p>
<pre><code>Â£Ã§T hYX     :Implicit input of array U
Â£           :Map each X at index Y
 Ã§          :  Fill U with
  T         :    0
    hYX     :  Replace the element at index Y with X
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Dyalog APL, 9 bytes</h1>
<p>Thanks to <a href="https://codegolf.stackexchange.com/users/81203/att">@att</a> for -4</p>
<pre><code>âŠ¢Ã—â¤1â‹âˆ˜.=â‹Â­â¡â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ¢âªâ€â â€âªâ¡âªâ âªâ£âªâ€â â€âªâ¡âªâ âªâ¤âªâ€â€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ¢â¡âªâ€â â€âªâ¡âªâ âªâ¢â¢âªâ€â â€âªâ¡âªâ âªâ¢â£âªâ€â â€âªâ¡âªâ âªâ¢â¤âªâ€â â€âªâ¡âªâ âªâ£â¡âªâ€â€â€‹â¡â â¡â€ŒÂ­
âŠ¢          # â€â¡v
 Ã—â¤1       # â€â¢multiplied row-wise with
    â‹âˆ˜.=â‹  # â€â£the identity matrix of size (#v)
</code></pre>
<p>ğŸ’ Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a></p>
<h2>Dyalog APL, 16 bytes + Not Bonus</h2>
<p>The only other applicable scalar type are characters, where APL uses the space as the empty character, so this code also does</p>
<pre><code>,â¨âˆ˜â‰¢â´âˆŠâ¤(âŠ¢â†‘Â¨â¨1+â‰¢)Â­â¡â€â€âªâ¡âªâ âªâ¢â¡âªâ€â€â¡â â¡â€Œâ¢â€â€âªâ¡âªâ âªâ¡âªâ€â â€âªâ¡âªâ âªâ¢âªâ€â â€âªâ¡âªâ âªâ£âªâ€â â€âªâ¡âªâ âªâ¤âªâ€â âªâªâ€â¡â â¡â€Œâ£â€â€âªâ¡âªâ âªâ¢â¢âªâ€â â€âªâ¡âªâ âªâ¢â£âªâ€â€â¡â â¡â€Œâ¤â€â€âªâ¡âªâ âªâ£â¡âªâ€â â€âªâ¡âªâ âªâ£â£âªâ€â€â¡â â¡â€Œâ¢â¡â€â€âªâ¡âªâ âªâ£â¢âªâ€â â€âªâ¡âªâ âªâ£â¤âªâ€â€â¡â â¡â€Œâ¢â¢â€â€âªâ¡âªâ âªâ¤â¡âªâ€â â€âªâ¡âªâ âªâ¤â¢âªâ€â â€âªâ¡âªâ âªâ¤â£âªâ€â€â¡â â¡â€ŒÂ­
    â´             # â€â¡Reshape
,â¨âˆ˜â‰¢              # â€â¢to (#v)*(#v) matrix 
     âˆŠâ¤           # â€â£the flattened list of lists built by
        âŠ¢ Â¨       # â€â¤taking each item of v
         â†‘ â¨      # â€â¢â¡and padding it with
            1+â‰¢   # â€â¢â¢(#v) zeros
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a></p>
<p>This works by noticing that, if the diagonalized matrix is read as a single list, row by row, each entry of <code>v</code> is spaced with as many zeros as the length of <code>v</code>.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.typescriptlang.org/" rel="nofollow noreferrer">TypeScript</a>'s Type System, 62 bytes</h1>
<pre class="lang-typescript prettyprint-override"><code>type F&lt;V&gt;={[I in keyof V]:{[J in keyof V]:J extends I?V[J]:0}}
</code></pre>
<p><a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBAYgPANQHwF4DeBtAklAlgOygGsIQB7AMygQF0AuTAKT0JPKtruYgA9gJ8AEwDOULAH4EGRvQAMAX3kAoJaEhQAKhGHAAjFBSw4GWTSQBuJQHorUOwD1xq8NC06ATAaMZdAGiju-gDMZta2Dk5qrtrAQV7wPv6y-oFQIUhhdlCOzupuwAAs8cZ+UAC0AJz+pUH+Bf5l9eUArP4AbP5V5bqmGTZZOUA" rel="nofollow noreferrer">Try it at the TypeScript Playground!</a></p>
<p>It's been a little while since I've golfed in TS types, so it's possible (though I think unlikely) that I missed a shorter way to do this. This one is pretty simple, but I'll leave an explanation anyway:</p>
<pre class="lang-typescript prettyprint-override"><code>type F&lt;V&gt; =           // type F taking generic tuple type V
  { [I in keyof V]:   // for each I in V's indices:
    { [J in keyof V]: //   for each J in V's indices:
      J extends I     //     are J and I the same type?
        ? V[J]        //       if so, index into V with J
        : 0           //       otherwise, 0
    }                 //   end
  }                   // end
</code></pre>
<p>I tried putting <code>keyof V</code> into <code>type F&lt;V,K=keyof V&gt;</code> but that doesn't work since the compiler complains that <code>K</code> could be a type unrelated to an array key, and it doesn't save enough bytes for <code>//ts-ignore</code> to be worth it.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://esolangs.org/wiki/Fish" rel="nofollow noreferrer">&gt;&lt;&gt; (Fish)</a>, 53 bytes</h1>
<pre>
<img src="https://$" alt="l" title="Push the length of the stack to the stack"><img src="https://$" alt=":" title="Duplicate the top item on the stack"><img src="https://$" alt=":" title="Duplicate the top item on the stack"><img src="https://$" alt="0" title="Push the number (0-9)"><img src="https://$" alt=")" title="Greater than, less than. Push 1 or 0 to the stack."><img src="https://$" alt="?" title="Pop 1 value of the stack, if it's 0 skip the next instruction and move forward 2 spaces."><img src="https://$" alt="\" title="Reflect the cursor direction"><img src="https://$" alt=";" title="Halt">
<img src="https://$" alt="$" title="Move the top element of the stack back 1"><img src="https://$" alt=":" title="Duplicate the top item on the stack"><img src="https://$" alt="@" title="Move the top elemnt of the stack back 2"><img src="https://$" alt=":" title="Duplicate the top item on the stack"><img src="https://$" alt="?" title="Pop 1 value of the stack, if it's 0 skip the next instruction and move forward 2 spaces."><img src="https://$" alt="v" title="Change Cursor Direction"><img src="https://$" alt="\" title="Reflect the cursor direction">
<img src="https://$" alt="1" title="Push the number (0-9)"><img src="https://$" alt="-" title="Pop 2 values of the stack then perform the given operation."><img src="https://$" alt="2" title="Push the number (0-9)"><img src="https://$" alt="1" title="Push the number (0-9)"><img src="https://$" alt="." title="Pop 2 values of the stack then move to that position."><img src="https://$" alt="\" title="Reflect the cursor direction"><img src="https://$" alt=":" title="Duplicate the top item on the stack"><img src="https://$" alt="&amp;" title="If the register is empty, pop the top element of the stack and move it to the register. Else push the value of the register to the stack."><img src="https://$" alt="{" title="Shifts the entire stack left or right"><img src="https://$" alt=":" title="Duplicate the top item on the stack"><img src="https://$" alt="}" title="Shifts the entire stack left or right"><img src="https://$" alt="0" title="Push the number (0-9)"><img src="https://$" alt="l" title="Push the length of the stack to the stack"><img src="https://$" alt="5" title="Push the number (0-9)"><img src="https://$" alt="-" title="Pop 2 values of the stack then perform the given operation."><img src="https://$" alt="&amp;" title="If the register is empty, pop the top element of the stack and move it to the register. Else push the value of the register to the stack."><img src="https://$" alt="=" title="Pop 2 values of the stack, push 1 if they are equal and 0 otherwise"><img src="https://$" alt="?" title="Pop 1 value of the stack, if it's 0 skip the next instruction and move forward 2 spaces."><img src="https://$" alt="$" title="Move the top element of the stack back 1"><img src="https://$" alt="n" title="output a number in decimal"><img src="https://$" alt="~" title="Delete the top element of the stack"><img src="https://$" alt="9" title="Push the number (0-9)"><img src="https://$" alt="o" title="output a character">
<img src="https://$" alt="~" title="Delete the top element of the stack"><img src="https://$" alt="1" title="Push the number (0-9)"><img src="https://$" alt="-" title="Pop 2 values of the stack then perform the given operation."><img src="https://$" alt="1" title="Push the number (0-9)"><img src="https://$" alt="0" title="Push the number (0-9)"><img src="https://$" alt="." title="Pop 2 values of the stack then move to that position."><img src="https://$" alt="\" title="Reflect the cursor direction"><img src="https://$" alt="~" title="Delete the top element of the stack"><img src="https://$" alt="{" title="Shifts the entire stack left or right"><img src="https://$" alt="~" title="Delete the top element of the stack"><img src="https://$" alt="a" title="Push the hexadecimal (10-15)"><img src="https://$" alt="o" title="output a character">
</pre>
<p><sup>Hover over any symbol to see what it does</sup></p>
<p><a href="https://mousetail.github.io/Fish/#eyJ0ZXh0IjoibDo6MCk/XFw7XG4kOkA6P3ZcXFxuMS0yMS5cXDomezp9MGw1LSY9PyRufjlvXG5+MS0xMC5cXH57fmFvIiwiaW5wdXQiOiIiLCJzdGFjayI6IjI5MiAxOSAyNyAxMiA4MTIiLCJzdGFja19mb3JtYXQiOiJudW1iZXJzIiwiaW5wdXRfZm9ybWF0IjoiY2hhcnMifQ==" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 2 bytes</h1>
<pre><code>Xd
</code></pre>
<p>The code uses the builtin function <code>Xd</code> (which corresponds to MATLAB's <code>diag</code>). <a href="https://tio.run/##y00syfn/PyLl//9oQx0FAx0FIx0F41gA" rel="nofollow noreferrer" title="MATL â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/kspalaiologos/kamilalisp" rel="nofollow noreferrer">KamilaLisp</a> v0.3, 21 bytes</h1>
<pre><code>[* #0[(âŒ¼ =)#0#0]âˆ˜â³âˆ˜â´]
</code></pre>
<p>The code generates a range vector from 0 to the size of the argument; then it computes the Cartesian product of the range vector and itself using equality as the functor, therefore computing the identity matrix. Each row of the identity matrix is then multiplied by the initial vector.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="noreferrer">Nekomata</a>, 6 bytes</h1>
<pre><code>x:áµ’-Â¬*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpKuoVLsgqWlJWm6FisrrB5unaR7aI3WkuKk5GKo6IKbrtGxXNEGQGwIwjoKRjoKxhCWATJH11JHAUgZ6yiYADkgbKqjYKajABTWNTSIhZgGAA" rel="noreferrer">Attempt This Online!</a></p>
<p>Multiplies the identity matrix like other answers.</p>
<pre><code>x:áµ’-Â¬*
x       [0 .. length - 1]
 :      Duplicate
  áµ’     Outer product with
   -        Subtract
    Â¬   Logical NOT
     *  Multiply
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <s>56</s> 55 bytes</h1>
<p><em>-1 byte thanks to xnor</em></p>
<pre class="lang-python prettyprint-override"><code>def f(a,i=0):
 for b in a:l=a[i]=[0]*len(a);l[i]=b;i+=1
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=fVJLTsMwEJVY5hRDVwlMpEnLt5UXnMPywqG2sLCSKA4LbsAd2HQDd4LT4E9a0VZy5Ngz7z2P7dH7_B7ep5e-2-2-3iZdP_zcb5UGXUo0jKp1AbofoQXTgVxbJrkRjJO4sqorZbWxIW835po1afvvxcek3PQsnXLAgBecCwQuBPqIBIYpJU3A_TxnCEuEVcIQyI8QU4T3IQXFQU_nW46kx9nylPtXqX5E8MsK4cYn4b9FuEPwcN3QyQHnYy4bqmQFFE_J8hRvkeUp3jLLU3pFVkDplVkBxS5keYpdyvKUuui_oghmMtgHOx1s4j3m_WYqvxgNBi4Z9AEDGEbTTeVCS2PVdoEQNQDtqORroaxTQTaLnqyNJR0M0jkvr5Ih977-Aw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><a href="https://codegolf.meta.stackexchange.com/a/4942/70761">Outputs by modifying arguments</a>.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, 34 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>foldr(\a m-&gt;(a:(0&lt;$m)):map(0:)m)[]
</code></pre>
<p><a href="https://tio.run/##fVLLbsMgELz7K@aQA0hraZ20lWrF/YN@AeGAXLu1YmIr9rHfXgo4fdiRQMCyM8MurPbDTOem711bnVw79G9XcTKw@YswpeDjzkpZWjMKLqWVSru5mebaTM2ECiqDH0JpgtKSbh4H1@9/SBGR4j9C2BMOC05gP8OZI/xz5KBY3eH7ayv52ttvuU20/JngzYHw4J2wHglPBA/nBW@S3M9b6BAlKeCYJclzfEWS5/jKJM/LL5ICXn6ZFHCsQpLnWKUkz0sVtdRZZk138f3i@@gV47W7zNhBiRZdVQ0EbyU@IToaJI45fltMu6@67c375PJ6HL8B" rel="noreferrer" title="Haskell â€“ Try It Online">Try it online!</a></p>
<p>Uses the recursive method <a href="https://codegolf.stackexchange.com/a/262878/20260">from Magma</a> of expanding the matrix with a new value in the top left, but with <code>foldr</code> and <code>&lt;$</code>.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, <S>135</S> 130 bytes</h1>
<pre class="lang-go prettyprint-override"><code>func(v[]int)(A[][]int){for i,_:=range v{r:=make([]int,len(v))
for j,_:=range v{e:=0
if i==j{e=v[i]}
r[j]=e}
A=append(A,r)}
return}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZU9LasMwEN3rFNOsJBgXp2lLa9DCN-jemCBSKciJx0a1vRHe9BrdmEIv0xvkNpVikwS6EO-jmeG9r-99M53uWrU7qL2GWllizNZt47r7lam7FRuUAyN_-s4kL6dP09OOD0VpqRM8L8qZedM4sLjNpFMUzgzeZbJWB83P_3jUxAchWByrbsd0JlNmDVgpK6_lUNhyZK6oSqlHlkvVtpreeY5OBFt3vaNxSfIbk5zzcgGeWfqATMISyLMZRlxIemHrK0N4QNjc6vS_lbwiBNggPAYR3xPCM0Kwk3U8O55bbdFSDDAXi2k8e3PhxpG4JXHhJqqrFGF9aTRNM_4B" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, <s>141</s> 136 bytes + Not Bonus</h1>
<pre class="lang-go prettyprint-override"><code>func f[T any](v[]T)(A[][]T){for i,_:=range v{r:=make([]T,len(v))
for j,_:=range v{var e T
if i==j{e=v[i]}
r[j]=e}
A=append(A,r)}
return}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZVBBasMwEKRXvWLxSQKlJE2TtgEd8oMWcjMmqIkUlNiKkR1DEbr3D72EQj_Rn7Sv6SpOYkNBo51d7Q6z-vjc7I_fpVzt5EZBIY0lxBTl3tW3iS7q5OtQ68Hjz7s-2BXodAHSvmW0SbMFo_M0i9HrvQPDlzPhpEWRxruZKOROUXzlubK0YYzEpm2_qZEOFCyI0WCE2HolmtRkgbh0mwkVyFzIslR2TefcMSyr-uBsaP383rycDEW_lIEnxlYwExANGVt70obAz2R4ZaOOcbjjMO7nw_-lwRMHDGMO95hETDhMOWB5MIqy4bTZkhsbDbTLRTeePDvUyC01ll25jlmXMhwnZ-dVjcWNT2TCk1fECoFnjVAInYTrWNUXrFCP5P3t23sSeEumF_IQOom8L5GjxPlnj8c2_gE" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://www.rust-lang.org/" rel="nofollow noreferrer">Rust</a>, <s>83</s> 81 bytes</h1>
<p>Simple and dirty imperative solution.</p>
<p>-2 bytes by taking a slice instead of a vec</p>

<pre class="lang-rust prettyprint-override"><code>|v:&amp;[i8]|{let l=v.len();let mut r=vec![vec![0;l];l];for i in 0..l{r[i][i]=v[i]}r}
</code></pre>
<p><a href="https://tio.run/##fY3NCoMwEITvfYrxIgoxxNqWtiFPIjn0x5RATCHVXNRnT6O9tVKY3WW@2WVd/@qCsmgv2mY5BtN0UBBh9Oe01kc5LsQIT00TF/js2r6DE765JfXSGDdylno6aGgLRqkZXK1llPCxTW4KfHO/PpJMZelyJPP8i7BfVK4ggi1BtRqwP1lxIoijIthFM9ee4EAQcVF@Xk/hDQ" rel="nofollow noreferrer" title="Rust â€“ Try It Online">Try it online!</a></p>
<h1><a href="https://www.rust-lang.org/" rel="nofollow noreferrer">Rust</a>, <s>126</s> 124 bytes + Not Bonus</h1>
<p>The Copy bound is technically too strict and a Clone bound would be enough, but it would also be one byte longer <em>:shrug:</em>.</p>

<pre class="lang-rust prettyprint-override"><code>fn f&lt;T:Default+Copy&gt;(v:&amp;[T])-&gt;Vec&lt;Vec&lt;T&gt;&gt;{let l=v.len();let mut r=vec![vec![T::default();l];l];for i in 0..l{r[i][i]=v[i]}r}
</code></pre>
<p><a href="https://tio.run/##dY5NDoIwEIX3nmLcmDYWAqImFuhGj0DcEBYIrSEpYCo0MYSzYyvu0GR@8r6ZvBnVP7tpEg2IKKEXLvJedttz@3gxpOkmTTLssCsvIpsJY4PkHchYu5I3CIdW1X0HKta8WKefklBazj52IbMhWgUVVA14risHlVaZiVibMqrRHq/zytjBsCpv9zUSlEYImwesXYZx@MUz8BbEXxICOwLBL@79HzknAqYFBPZG2DwQOBIw2PHns@P0Bg" rel="nofollow noreferrer" title="Rust â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, 39 bytes</h1>
<pre><code>f[]=[];f(a:b)=(a:map(0*)b):map(0:)(f b)
</code></pre>
<p>Recursively generates the matrix by appending a value at the top left corner of a smaller matrix.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a>, 67 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>f v=m.(m.).h where m g=map g[0..length v-1];h z i j|i==j=v!!i|1&gt;0=z
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=fVJLTsMwFJRY5hRTiUUiOdFLCwgEZsOWHcsoiwicT8mnatxUqnITNt0gzgSnwbHbQlLJln9vZvxsP83HV56076Is9_vPjUz92--nFB2vArcKvCDHNhdrgQoZr5IVsoiCoBR1JnN0fhjf59ihwLIvOF_ybjYr-vCR-M6k-rnopGjla9KKFhyRA9XcKGaIYo8dIhpCNf8hoUbC_wjDnGFhcAZSfdiTho9bGhSjM3R-bCQfR_MpN8nm3zGoZcFwpYJhXDPcMCjYD2lyyXk_pB6yWAWkb7HypF9h5Um_0sqT-YVVQOaXVgHpKlh50lWy8mSqGHux41RJUSu_rDbyRa6fa1yizZutWpKyRPGGKFWeI3COBj3cgjUeHnycvBYb-x0d_Qs" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu21" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="noreferrer">K (ngn/k)</a>, 7 bytes</h1>
<pre><code>{x*=#x}
</code></pre>
<p>My first K post. I tried real hard to make a Bubbler train work here but failed.</p>
<p><a href="https://ngn.bitbucket.io/k#eJxLs6qu0LJVrqjl4krT0ORKUzAAYkMQVjBSMAbTBnCWriWQMFYwUdAFIlMFMwVLBV1DAwDqfA0a" rel="noreferrer">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 25 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 3.125 bytes</h1>
<pre><code>LÃâ–¡*
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyJ+UD0iLCIiLCJMw57ilqEqIiwiIiwiW10gLT4gW11cblswXSAtPiBbWzBdXVxuWzFdIC0+IFtbMV1dXG5bMSwgMiwgM10gLT4gW1sxLCAwLCAwXSwgWzAsIDIsIDBdLCBbMCwgMCwgM11dXG5bMSwgMCwgMiwgM10gLT4gW1sxLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDBdLCBbMCwgMCwgMiwgMF0sIFswLCAwLCAwLCAzXV1cblsxLCAtOSwgMSwgMywgNCwgLTQsIC01LCA2LCA5LCAtMTBdIC0+IFtbMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAtOSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDMsIDAsIDAsIDAsIDAsIDAsIDBdLCBbMCwgMCwgMCwgMCwgNCwgMCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAtNCwgMCwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAtNSwgMCwgMCwgMF0sIFswLCAwLCAwLCAwLCAwLCAwLCAwLCA2LCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDksIDBdLCBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgLTEwXV0iXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>The <code>P</code> flag on the permalink is to make the test cases pass (for some strange reason, I never made it not check exact string representation.) Individual cases all produce the right output with vyxal list syntax without the flag.</p>
<h2>Explained</h2>
<pre><code>LÃâ–¡*Â­â¡â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ¢âªâ€â â€âªâ¡âªâ âªâ£âªâ€â€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ¤âªâ€â€â€‹â¡â â¡â€ŒÂ­
L     # â€â¡Push the length of the input
 Ãâ–¡   # â€â¢Construct an NxN identity matrix
   *  # â€â£and pair-wise vectorise multiplication
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu23" class="pu"><h1>Excel, 33 bytes</h1>
<pre><code>=IFERROR(MUNIT(ROWS(A1#))*A1#,&quot;&quot;)
</code></pre>
<h1>Excel, 39 bytes + Not Bonus</h1>
<pre><code>=IFERROR(IF(MUNIT(ROWS(A1#)),A1#,0),&quot;&quot;)
</code></pre>
<p>Input is <em>vertical</em> spilled range <code>A1#</code>.</p>
<p>Having to deal with the empty vector is inconvenient; otherwise these would be just 21 and 27 bytes respectively.</p>
</div>
<div id="pu24" class="pu"><h1>Mathematica, 14 bytes</h1>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73yUzMT0/LzHHN7GkKLPif1p0UGJeemq0oY6hgY5hbKy@fkBRZl7JfwA" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>DiagonalMatrix
</code></pre>
</div>
<div id="pu25" class="pu"><h1><a href="https://racket-lang.org" rel="nofollow noreferrer">Racket</a>, 97 bytes; Not Bonus</h1>
<pre class="lang-rkt prettyprint-override"><code>(define(f v)(let([n(length v)])(for/list([i(range n)])(list-set(make-list n 0)i(list-ref v i)))))
</code></pre>
<p><a href="https://tio.run/##ZY09DsIwDIV3TvEUBpyh4p@FoyCG0DolajGVGyFx@uK0I5Ys29@znzXUHedp3QdpoctADcckTBEfTz1nuokVafPTwN1TfOu2T6PxRGp3DCm4oGq09VfouCoTBDufFkHZ7JB8iYkG5Zy/1aBJMuwRKYfGlNX1T9pQwAM1XOPg2DI67HHAcTaaO5xwxsX/AA" rel="nofollow noreferrer" title="Racket â€“ Try It Online">Try it online!</a></p>
<hr />
<h2>Explanation</h2>
<p>After reading in the input as a list called <code>v</code>, we obtain the length of <code>v</code> and store it as <code>n</code>.</p>
<pre class="lang-rkt prettyprint-override"><code>(define (f v)
  (let ([n (length v)])
    ...))
</code></pre>
<p>We then loop through the range <span class="math-container">\$ 0 \le i &lt; n \$</span> and for each iteration, we return a new list (a row of the matrix) of <code>n</code> length filled with zeros except at the index of <code>i</code> which is filled with the corresponding value from <code>v</code> at index <code>i</code>.</p>
<pre class="lang-rkt prettyprint-override"><code>(define (f v)
  (let ([n (length v)])
    (for/list ([i (range n)])
      (list-set (make-list n 0)
                i
                (list-ref v i)))))
</code></pre>
<p>The <code>for/list</code> function returns the collected rows after each iteration.</p>
<h2>Not Bonus</h2>
<p>While the rows start with zeros, any data in <code>v</code> will still be preserved. What this means is that we can pass list of strings to <code>f</code> and receive a matrix with both strings and zeros as the zero-value:</p>
<pre class="lang-rkt prettyprint-override"><code>; Strings
(f '(&quot;h&quot; &quot;e&quot; &quot;y&quot;))
;;&gt; '((&quot;h&quot; 0 0) (0 &quot;e&quot; 0) (0 0 &quot;y&quot;))

; Symboles
(f '(a b c))
;;&gt; '((a 0 0) (0 b 0) (0 0 c))

; Characters
(f '(#\d #\e #\f))
;;&gt; '((#\d 0 0) (0 #\e 0) (0 0 #\f))
</code></pre>
<p><em>Have a wonderful weekend!</em></p>
</div>
<div id="pu26" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 34 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.map((v,i)=&gt;x.map(_=&gt;i--?0:v))
</code></pre>
<p><a href="https://tio.run/##NU1LCoMwEL3KLBOYEa220JboQUIowU9JUSNVQm6fjlIX77t472ODXduvWzaafdenQaWo6phNdhEioJNneKnaETX5I0iZnlobBF0chHBBKP@W7ggsJULFYccV4YbANRW5MccWP7R@Xv3YZ6N/i0FEyaPpBw" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu27" class="pu"><h1><a href="https://dyalog.com" rel="nofollow noreferrer">APL(Dyalog Unicode)</a>, <sup><s></s></sup>9 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a></sup></h1>
<pre><code>-âˆ˜â³â¤â‰¢â†‘â¤0âŠ¢
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=AwA&amp;c=033UMeNR7@ZHvUsedS561DYRyDB41LUIAA&amp;f=S1N41LuGK03BAIgNQVjBSMEYTBvAWYfWWwJJYwUTIAuETRXMFCyBtCFIk3pJanGJOlideqI61DQNAwUNQwWNR11NOkaamppAvRo6j3pXPOqYARR61LvY5FHXIlNNBQ11M3UFc00A&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=train&amp;n=f" rel="nofollow noreferrer">Try it on APLgolf!</a></p>
<p>Left-pads each <span class="math-container">\$v_i\$</span> to a vector of length <span class="math-container">\$i\$</span> and implicitly mixes.</p>
<p>Each row's fill elements match the type of the corresponding element of the vector.</p>
</div>
<div id="pu28" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 5 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ä—DÈ·=Ã—
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVDNCU5N0QlQzglQjclM0QlQzMlOTcmZm9vdGVyPSZpbnB1dD0yJTJDMyUyQzUmZmxhZ3M9" rel="nofollow noreferrer">Try it online!</a></p>
<p>Inspired by Unrelated String's Jelly answer.</p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>Ä—DÈ·=Ã—  # Implicit input
Ä—      # Length range
 D     # Duplicate
  È·    # Outer product over:
   =   #  Check for equality
    Ã—  # Multiply by the input
       # Implicit output
</code></pre>
</div>
<div id="pu29" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 23 bytes</h1>
<pre class="lang-python prettyprint-override"><code>import numpy
numpy.diag
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhbbM3ML8otKFPJKcwsqucCkXkpmYjpEdldBUWZeiQZCWCPaSMdYxzRWUxOiAGYMAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu30" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="noreferrer">Octave</a>, 4 bytes</h1>

<pre class="lang-matlab prettyprint-override"><code>diag</code></pre>
<p><a href="https://tio.run/##y08uSSxL/f//f0pmYrqGoZWhgeZ/AA" rel="noreferrer" title="Octave â€“ Try It Online">Try it online!</a></p>
<h1><a href="https://www.python.org" rel="noreferrer">Python</a>, 23 bytes</h1>
<pre class="lang-python prettyprint-override"><code>from numpy import*
diag
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhbb04rycxXySnMLKhUycwvyi0q0uFIyE9MhsjsKijLzSjRAAhpFiXnpqRqGOoZGmpqaEGmYIQA" rel="noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu31" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a> + <code>math.matrices</code>, 15 bytes</h1>
<pre><code>diagonal-matrix
</code></pre>
<p><a href="https://tio.run/##S0tMLskv@h8a7OnnbqWQm1iSoQckijKTU4sVCopSS0oqC4oy80oUilMLS1PzQKKZ@QrWXFzVXApAUK1QC6UN4CxDJJaBgpGCMZBfqxD9PyUzMT0/LzFHF2x@xf/izNyCnFTdksSknFQ9hbwchViF1MTkjP8A" rel="nofollow noreferrer" title="Factor â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu32" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 20 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(x)diag(x,sum(x|1))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhZbYjQqNFMyE9M1KnSKS3M1KmoMNTUhUjcT0jSSNTQ1uUCUAZQ2hNJGML6OkY4xnG2AwlPQtdRRAFLGOgomQA4Im-oomOkoAIV1DQ1g9ixYAKEB" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>The <code>diag</code> built-in almost works here, but fails for inputs of length 1, where it produces identity matrix of size of the input. Unless specified <code>nrow</code> argument.</p>
<hr />
<p>Less boring - without <code>diag</code> built-in:</p>
<h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 54 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(x,`[`=matrix)c(x,rep(0*x,n&lt;-sum(x|1)))[n+1,n,T][n,n]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhY3zWI0KnQSohNscxNLijIrNJOB3KLUAg0DrQqdPBvd4tJcjYoaQ01Nzeg8bUOdPJ2Q2Og8nbxYqO6ENI1kDU1NLhBlAKUNobQRjK9jpGMMZxug8BR0LXUUgJSxjoIJkAPCpjoKZjoKQGFdQ6CJEHsWLIDQAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Idea: construct a vector such that every entry of the input <span class="math-container">\$x\$</span> of length <span class="math-container">\$n\$</span> is followed by <span class="math-container">\$n\$</span> zeros. A matrix with <span class="math-container">\$x\$</span> in the first row and followed by <span class="math-container">\$n\$</span> rows of zeros works too. Then, we can put this in a <span class="math-container">\$n\times n\$</span> <code>matrix</code> resulting in <span class="math-container">\$x\$</span> on the diagonal.</p>
<p>Ungolfed:</p>
<pre class="lang-r prettyprint-override"><code>\(x){n=length(x)
m=matrix(c(x,rep(0,n^2)), nrow=n+1, ncol=n, byrow=TRUE)
matrix(m, nrow=n, ncol=n)}
</code></pre>
<hr />
<h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 27 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(v,x=seq(a=v))v*!x%o%x-x^2
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuha7YzTKdCpsi1MLNRJtyzQ1y7QUK1TzVSt0K-KMICpuJqRpJGtoanKBKAMobQiljWB8HSMdYzjbAIWnoGupowCkjHUUTIAcEDbVUTDTUQAK6xoCTYTYs2ABhAYA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Heavily inspired by <a href="https://codegolf.stackexchange.com/a/163556/55372">@Kirill L.'s answer to the linked challenge</a>.</p>
</div>
<div id="pu33" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 11 bytes + Not Bonus</h1>
<pre><code>â­†Â¹ï¼¥Î¸ï¼¥Î¸Ã—â¼Î¼Î¾Î½
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRCO4BEil@yYWaBjqKICoQjgVkpmbWqzhWliamFOskaujUKGpo5CnCQLW//9HRwPVG@goGOkoGMfG/tctywEA" rel="nofollow noreferrer" title="Charcoal â€“ Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>   Î¸        Input array
  ï¼¥         Map over elements
     Î¸      Input array
    ï¼¥       Map over elements
        Î¼   Row index
       â¼    Equals
         Î¾  Column index
      Ã—     Multiplied by
          Î½ Inner element
â­†Â¹          Pretty-print
</code></pre>
<p>Using <code>And</code> instead of <code>Times</code> would have made the code minusculely more efficient but this way the code produces empty strings on the non-diagonal entries when given a string array as input.</p>
</div>
<div id="pu34" class="pu"><h1>PARI/GP, 11 bytes</h1>
<pre><code>matdiagonal
</code></pre>
<p>Builtins are always a sad answer, aren't they?</p>
</div>
<div id="pu35" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 6 bytes</h1>
<pre><code>*[:=#\
</code></pre>
<p><a href="https://tio.run/##y/qvpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/taKtbJVj/mtypSZn5CukKairQ1gwOk1Bx8oQXcgICI2B0OQ/AA" rel="nofollow noreferrer" title="J â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu36" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 66 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def f(a):n=range(len(a));return[[(i==j)*a[i]for i in n]for j in n]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3nVJS0xTSNBI1rfJsixLz0lM1clLzgFxN66LUktKivOhojUxb2yxNrcTozNi0_CKFTIXMPIU8MDMLwoSapBxdUJSZV6KRqakAV5emATHTUEfB0FBTE6oUZjkA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 66 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def f(a):x=len(a);return[[0]*i+[a[i]]+[0]*(x+~i)for i in range(x)]
</code></pre>
<p>This solution was inspired by <a href="https://codegolf.stackexchange.com/a/70368/106829">this</a> answer.</p>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3nVJS0xTSNBI1rSpsc1LzgAzrotSS0qK86GiDWK1M7ejE6MzYWG0QR6NCuy5TMy2_SCFTITNPoSgxLz1Vo0IzFmqScnRBUWZeiUampgJcTZoGRJWhjoKhoSZMKcxyAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu37" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 5 bytes</h1>
<pre><code>J=Ã¾`a
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/9/L9vC@hMT/h9vdNbMeNe7j4vr/PzpWRyHaEEzoKBjpKBhDmbqWOgpAylhHwQTIAWFTHQUzHQWgsK6hQSwA" rel="noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></p>
<pre><code>J=Ã¾`     Identity matrix:
  Ã¾      table
J        [1 .. length]
   `     with itself
 =       by equality.
    a    Vectorizing logical AND; replace ones with elements of the vector.
</code></pre>
<p>If output can be flat:</p>
<h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 3 bytes</h1>
<pre><code>jn`
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/z8rL@H/4XZ3zaxHjfu4uP7/j47VUYg2BBM6CkY6CsZQpq6ljgKQMtZRMAFyQNhUR8FMRwEorGtoEAsA" rel="noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></p>
<pre><code>j      Join the vector on
 n     the list of, for each element, if it doesn't equal
  `    itself.
</code></pre>
<p>If the empty vector didn't have to be handled, this could tie non-flat as <code>jn`sL</code>; it passes all current test cases as <code>jÂ¬</code> owing to all inputs being nonzero (which is not guaranteed by the spec).</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/262809/">262809</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




