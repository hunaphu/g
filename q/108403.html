<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::108403</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>194</td><td>Swift 6</td><td>250301T223849Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/278454#278454">macOSist</a></td></tr>
<tr d-ix="1"><td>082</td><td>Tcl</td><td>170128T015206Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108436#108436">sergiol</a></td></tr>
<tr d-ix="2"><td>051</td><td>Pyth</td><td>210318T184406Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/220859#220859">Citty</a></td></tr>
<tr d-ix="3"><td>009</td><td>Zsh C4</td><td>190813T052043Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/189861#189861">GammaFun</a></td></tr>
<tr d-ix="4"><td>056</td><td>Red</td><td>200509T073456Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/204523#204523">HotelFol</a></td></tr>
<tr d-ix="5"><td>020</td><td>PowerShell 6+ for Windows</td><td>200509T060850Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/204522#204522">mazzy</a></td></tr>
<tr d-ix="6"><td>060</td><td>BATCH File</td><td>170127T214830Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108415#108415">AdmBorkB</a></td></tr>
<tr d-ix="7"><td>180</td><td>C++17 gcc</td><td>190817T190013Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/190197#190197">G. Sliep</a></td></tr>
<tr d-ix="8"><td>033</td><td>Batch File</td><td>190613T020610Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/186793#186793">BDM</a></td></tr>
<tr d-ix="9"><td>105</td><td>SmileBASIC 3</td><td>180501T232531Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/163951#163951">snail_</a></td></tr>
<tr d-ix="10"><td>110</td><td>SmileBASIC</td><td>170127T212339Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108408#108408">12Me21</a></td></tr>
<tr d-ix="11"><td>020</td><td>J</td><td>170128T010558Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108433#108433">miles</a></td></tr>
<tr d-ix="12"><td>031</td><td>Röda</td><td>170307T182357Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/112258#112258">fergusq</a></td></tr>
<tr d-ix="13"><td>012</td><td>Vim</td><td>170127T224508Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108422#108422">DJMcMayh</a></td></tr>
<tr d-ix="14"><td>037</td><td>Ruby</td><td>170127T213616Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108413#108413">anna328p</a></td></tr>
<tr d-ix="15"><td>013</td><td>Bash + coreutils</td><td>170127T212310Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108407#108407">Riker</a></td></tr>
<tr d-ix="16"><td>277</td><td>C#</td><td>170201T103452Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108852#108852">Mika</a></td></tr>
<tr d-ix="17"><td>014</td><td>SH Linux/Unix</td><td>170128T055106Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108447#108447">Abel Tom</a></td></tr>
<tr d-ix="18"><td>8462</td><td>PHP</td><td>170128T024037Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108441#108441">Cave Joh</a></td></tr>
<tr d-ix="19"><td>021</td><td>PowerShell</td><td>170127T212924Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108409#108409">AdmBorkB</a></td></tr>
<tr d-ix="20"><td>049</td><td>Groovy</td><td>170130T144201Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108633#108633">Magic Oc</a></td></tr>
<tr d-ix="21"><td>036</td><td>R</td><td>170129T232849Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108578#108578">Billywob</a></td></tr>
<tr d-ix="22"><td>nan</td><td></td><td>170128T034701Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108444#108444">Brad Gil</a></td></tr>
<tr d-ix="23"><td>035</td><td>Batch</td><td>170127T220135Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108416#108416">Neil</a></td></tr>
<tr d-ix="24"><td>142</td><td>Java 7</td><td>170128T024518Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108442#108442">Poke</a></td></tr>
<tr d-ix="25"><td>052</td><td>Scala</td><td>170129T031939Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108494#108494">Aria Ax</a></td></tr>
<tr d-ix="26"><td>048</td><td>MATLAB / Octave</td><td>170127T212108Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108406#108406">Suever</a></td></tr>
<tr d-ix="27"><td>054</td><td>Python</td><td>170127T213017Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108410#108410">ovs</a></td></tr>
<tr d-ix="28"><td>114</td><td>Node.js using walk</td><td>170128T030936Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108443#108443">Patrick </a></td></tr>
<tr d-ix="29"><td>035</td><td>Mathematica</td><td>170127T213523Z</td><td><a href="https://codegolf.stackexchange.com/questions/108403/find-the-smallest-file/108412#108412">Greg Mar</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Swift 6, 194 bytes</h1>
<pre class="lang-swift prettyprint-override"><code>import Foundation
let f=FileManager.default
print(try{f.contentsOfDirectory}()(f.currentDirectoryPath).map{(try{f.attributesOfItem}()($0)[.size]as!Int,$0)}.sorted(by:&lt;)[0].1)
</code></pre>
<p><a href="https://swiftfiddle.com/d7hbnya5vbakbe57ztxqaw33tu" rel="nofollow noreferrer">Try it on SwiftFiddle!</a> (yes, it works on SwiftFiddle)</p>
<h2>Ungolfed</h2>
<pre class="lang-swift prettyprint-override"><code>// Foundation import for access to FileManager
import Foundation

// save bytes when calling methods on the FileManager
// (this stuff is bridged from Objective-C, so things can
// get VERY wordy)
let f = FileManager.default

print(
  // get the contents of the current directory
  // (wrap it in a closure first to deal away with
  // argument labels)
  try {f.contentsOfDirectory}()(f.currentDirectoryPath).map {
    // a tuple of the file size and its name, **in that order**
    (try {f.attributesOfItem}()($0)[.size] as! Int, $0)
  // sort the tuples, get the first one, and extract the
  // filename
  // - the `&lt;` operator on 2-tuples prioritizes the first
  //   element and falls back to the second
  // - since tuples can't conform to Comparable, we have to
  //   provide the operator ourselves (it's declared as a
  //   global for tuples)
  }.sorted(by: &lt;)[0].1
)
<span class="math-container">```</span>
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="http://tcl.tk/" rel="nofollow noreferrer">Tcl</a>, 82 bytes</h1>
<pre><code>set s Inf
lmap f [glob *] {if [set m [file si $f]]&lt;$s {set n $f
set s $m}}
puts $n
</code></pre>
<p><a href="https://tio.run/##dY67CsMwDEV3f4UGTx36BZ0KJWTo0jV4yEM2BvlB5ZBCyLe7dltKCXSTdM/hKo2UGRNo6EJED@x6omN6JFiUiHNikBpYjBQYyyjEL@xwsrPb01ec/vCDNQbve/7cNs3l9lVe7zC0XgtyfayyoTDAQcFqy1JjB522hMC2CEqdJMNa775Wvn3ptu1T4XN@Ag" rel="nofollow noreferrer" title="Tcl – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 51 bytes</h1>
<pre><code>.ml$open(b,&quot;rb&quot;).read()$$__import__(&quot;os&quot;).listdir()
</code></pre>
<p>I feel like Pyth might not be the best tool for the job here...</p>
<p><a href="https://tio.run/##DcnBCsAgCADQf4kOClu/JIuCCZViXvbzc3vXp4/fEWWOLNoX1CNZTVisXw0wZyKeKuZEkGT/MXh7YwOMeEWdZe042wc" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a> <code>-C4</code>, 9 bytes</h1>
<ul>
<li><code>-C</code>: enables noclobber (Zsh will not redirect to files which already exist)</li>
<li><code>-4</code>: enables globdots (<code>*</code> matches files beginning with <code>.</code>.</li>
</ul>
<blockquote>
<p>Leading/trailing symbols are allowed, as long as it's clear which file has been chosen.</p>
</blockquote>
<p>The following prints the file name, preceded by <code>$0:1: file exists: </code> and followed by a newline, to stderr:</p>

<pre class="lang-sh prettyprint-override"><code>&gt;*(oL[1])
</code></pre>
<p><s><a href="https://tio.run/##qyrO@J@bnZJZpFCSWlzClZwCoVOTM/IV1HPy89IV0jJzUtUV7BQSoYIQPhjYKSRhU5n8HyyooVWjp6Wpke8TbRir@f8/AA" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a>
<a href="https://tio.run/##qyrO@J@bnZJZpFCSWlzClZwCoVOTM/IV1HPy89IV0jJzUtUV7BQSoYIQPhjYKSRhU5n8HyyopeGS7xNtGKv5/z8A" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a>
</s>
<a href="https://tio.run/##qyrO@F@cWqKg62zClZudklmkUJJaXMKVnAKhU5Mz8hXUc/Lz0hXSMnNS1RXsFPQSoaIQATAAiiZhVZv8305LI98n2jBW8/9/AA" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></p>
<ul>
<li><code>(oL)</code> sorts by size</li>
<li><code>[1]</code> selects the first match</li>
</ul>
<hr />
<p>I used to have just <code>*(oL[1])</code> and rely on Zsh printing &quot;command not found&quot;, but if the file matches the name of a builtin or executable, this would break.  Additionally, the previous <code>echo</code> methods would break if the smallest file was <code>-e</code> or <code>-</code> or similar (interpreted as a flag to <code>echo</code>). This new method works for all file names and is still very short.</p>
</div>
<div id="pu4" class="pu"><h1>Red, 56 bytes</h1>

<pre><code>first sort/compare read %. func[a b][(size? a)&lt; size? b]
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a> 6+ for Windows, 20 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>ls|sort l* -t 1|% n*
</code></pre>

<p><a href="https://tio.run/##K8gvTy0qzkjNyfn/P6e4pji/qEQhR0tBt0TBsEZVIU/r/38A" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>

<p>Unrolled:</p>

<pre class="lang-powershell prettyprint-override"><code>ls|sort length -top 1|% Name
</code></pre>

<p>See also AdmBorkBork's <a href="https://codegolf.stackexchange.com/a/108409/80745">answer</a>.</p>
</div>
<div id="pu6" class="pu"><h2>BATCH File, <s>77</s> <s>72</s> <s>63</s> 60 bytes</h2>

<pre><code>@FOR /F tokens^=* %%G IN ('dir/o-s/b')DO @SET[=%%G
@ECHO %[%
</code></pre>

<p>There's no direct equivalent of <code>head</code> or <code>tail</code> in BATCH, at least to my knowledge, so here's a kludgy work-around. (with much assistance from @Neil - thanks!)</p>

<p>The <code>dir</code> command, with <code>/o-s</code> to sort in descending file size, and <code>/b</code> to output only the file names. We loop through those with <code>FOR /F</code>, setting the variable <code>[</code> to the file name each time. Finally, we output just the last one with <code>ECHO %[%</code>.</p>

<p><em>Saved 9 more bytes thanks to Neil and thanks to guarantees that no directories are present.</em><br>
<em>Saved 3 bytes thanks to HackingAddict1337.</em></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C++17 (gcc)</a>, 180 bytes</h1>



<pre class="lang-cpp prettyprint-override"><code>#include&lt;filesystem&gt;
using namespace std::filesystem;auto f(){std::error_code e;path r;size_t m=-1,s;for(auto&amp;p:directory_iterator(".")){s=file_size(p,e);if(s&lt;m)m=s,r=p;}return r;}
</code></pre>

<p><a href="https://tio.run/##RY7NasMwEITP9VOIFBqJ2IWcCpaUJykYIa9dgfXDrnRIg1@9rpRDe9pld@absSkNq7XHqwt2KzMw5SJlBONvfze1uA3oThn8rSvkwsqC8UDJWGCU53H8F0hTcmQLF4/nAxAjTjZWMMhk8hdDSe4bpsy8Hq49ySUib563NM4OweaI98llQFM3fno/iYrSLWBqRp56ENItnJQXXlOPOskdIRcMlb0fLlS0cYEL9uheniVsLJkp1Vq1cf4MZ9ntx49dNrPSMVSRtpfL9eMX" rel="nofollow noreferrer" title="C++ (gcc) – Try It Online">Try it online!</a></p>

<p>Requires a recent standard library that implements <code>std::filesystem</code>.</p>
</div>
<div id="pu8" class="pu"><h2>Batch File, 33 bytes</h2>

<p>Batch files are moderately competitive this time, oddly enough.</p>

<pre><code>@dir/os/b&gt;..\q&amp;set/pa=&lt;..\q&amp;"%a%.
</code></pre>

<p><strong>Output</strong></p>

<p><a href="https://i.sstatic.net/vFLFa.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/vFLFa.png" alt="enter image description here"></a></p>

<hr>

<p>Find a way to stop the creation of <code>q</code> prior to <code>dir/os/b</code> being run and you'll save a maximum of 6 bytes by not needing to put the output file in a separate directory.</p>

<pre><code>@dir/os/b&gt;q&amp;set/pa=&lt;q&amp;"%a%
</code></pre>

<p>Will always output <code>q</code> as the smallest file (unless tied for another 0 byte file) as it is created as an empty file before <code>dir/b/os</code> gathers a list of files.</p>
</div>
<div id="pu9" class="pu"><h1>SmileBASIC 3, 105 bytes (competing?)</h1>

<p>Beats <a href="https://codegolf.stackexchange.com/a/108408/42096">12Me21's answer</a> but still suffers from inability to load DAT files (which feels very cruel to be disqualifying considering the circumstances.)</p>

<pre><code>DIM F$[0],T[0]FILES"TXT:",F$FOR I=0TO LEN(F$)-1F$[I][0]="TXT:
PUSH T,LEN(LOAD(F$[I]))NEXT
SORT T,F$?F$[0]
</code></pre>

<p>The shorter version above is annoying and prompts you on every file to load, but it does work. For two bytes more you can suppress the prompt; change line 2 to this:</p>

<pre><code>PUSH T,LEN(LOAD(F$[I],0))NEXT
</code></pre>
</div>
<div id="pu10" class="pu"><h1>SmileBASIC, 110 bytes</h1>
<pre><code>DIM F$[0]FILES&quot;TXT:&quot;,F$FOR I=0TO LEN(F$)-1F$[I][0]=&quot;TXT:
S=LEN(LOAD(F$[I],0))IF!Z||S&lt;Z THEN Z=S:B=I
NEXT?F$[B]
</code></pre>
<p>Only looks at <code>TXT:</code> files, since <code>DAT:</code> files cannot be loaded unless you already know their size, making it impossible to load a random one.</p>
</div>
<div id="pu11" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <s>21</s> 20 bytes</h1>

<pre><code>&gt;{.,(/:2&amp;{"1)1!:0'*'
</code></pre>

<p>Saved a byte thanks to @<a href="https://codegolf.stackexchange.com/users/31957/conor-obrien">Conor</a>.</p>

<h2>Explanation</h2>

<pre><code>&gt;{.,(/:2&amp;{"1)1!:0'*'
                 '*' Glob all files in current directory
             1!:0    Table of file metadata in that directory
       2&amp;{"1         Get the file size of each
     /:              Sort the files by that
   ,                 Flatten
 {.                  Get the first value
&gt;                    Unbox
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/fergusq/roda" rel="nofollow noreferrer" title="branch roda-0.12">Röda</a>, <s>32</s> 31 bytes</h1>

<pre><code>{ls""|sort key=fileLength|pull}
</code></pre>

<p>It's an anonymous function that sorts the files in the current directory by file length and selects then the first file with <code>pull</code>.</p>

<p>Use it like this: <code>main{ {ls""|sort key=fileLength|pull} }</code></p>
</div>
<div id="pu13" class="pu"><h1>Vim 12 bytes</h1>
<pre><code>!!ls -Sa
Gd{
</code></pre>
<p><a href="https://tio.run/nexus/v#@6@omFOsoBucyOWeUv3/PwA" rel="noreferrer" title="V – TIO Nexus">Try it online!</a></p>
<h2>Explanation:</h2>
<p><code>!!</code> is the <em>filter</em> command. It pipes the contents of the current line to an arbitrary system command, and sends the output back into the buffer. It's useful for using external tools for things that bash is better at than vim, for example <code>!!rev</code> to reverse the current line, or <code>!Gxxd</code> to hexdump the buffer. In our case, the buffer is empty so it's equivalent to <code>:r!ls</code>, which just feeds the output of the command into the current line.</p>
<p>Now the cursor is on line 1, and we want to delete every line but the last one. The naïve approach is</p>
<pre><code>G       &quot; Go to the last line
 k      &quot; Go up one line
  d     &quot; Delete:
   gg   &quot;   Everything up to the first line
</code></pre>
<p>But we can do better. Like I explained in <a href="https://codegolf.stackexchange.com/a/103946/31716">this tip</a>, the <code>{</code> can <em>usually</em> (but not always) be equivalent to <code>gg</code>. Here, it's even better. Because the motion is <em>character-based</em>, not <em>line-based</em> like <code>gg</code> is, we don't have to go up a line first, leaving us with</p>
<pre><code>Gd{
</code></pre>
</div>
<div id="pu14" class="pu"><h2>Ruby, <s>61</s> <s>40</s> <s>38</s> 37 bytes</h2>

<p>Thanks G B and Value Ink</p>

<pre><code>p Dir[?*,".*"].min_by{|x|File.size x}
</code></pre>
</div>
<div id="pu15" class="pu"><h1>Bash + coreutils, 13 bytes</h1>
<pre><code>ls -Sar|sed q
</code></pre>
<p>Explanation:</p>
<pre><code>ls -Sar|sed q
ls            # list files
   -S         # sorted, biggest first
     a        # show hidden files
      r       # reversed (smallest first)
       |sed q # q is quit at first line that matches given regex, 
              # given regex is empty so guaranteed match.         
</code></pre>
</div>
<div id="pu16" class="pu"><h1>C#, 277 bytes</h1>

<p>Not the shortest, but what would you expect from C#?</p>

<h2>Golfed</h2>

<pre><code>using System.Linq;using static System.IO.Directory;class P{static void Main(){var x=GetFiles(GetCurrentDirectory());var d=new long[]{}.ToList();foreach(var s in x){var b=new System.IO.FileInfo(s).Length;if(!d.Contains(b))d.Add(b);}System.Console.Write(x[d.IndexOf(d.Min())]);}}
</code></pre>

<h2>Ungolfed</h2>

<pre><code>//Linq using for List.Min()
using System.Linq;
//Static using to save bytes on GetCurrentDirectory() and GetFiles()
using static System.IO.Directory;

class P
{
    static void Main()
    {
        //String array containing file paths
        var x = GetFiles(GetCurrentDirectory());
        //Creating a Long array and converting it to a list, less bytes than "new System.Collections.Generic.List&lt;long&gt;()"
        var d = new long[] { }.ToList();
        foreach (var s in x) //Loop through all file paths
        {
            //Getting file size in bytes
            var b = new System.IO.FileInfo(s).Length;
            if (!d.Contains(b))
                //If there isn't already a file with this size in our List, add the file path to list
                d.Add(b);

        }
        //Get index of the smallest Long in our List, which is also the index of the file path to the smallest file, then write that path
        System.Console.Write(x[d.IndexOf(d.Min())]);
    }
}
</code></pre>
</div>
<div id="pu17" class="pu"><h2>SH (Linux/Unix) <s>15</s> <s>14</s> <s>13</s> 14 bytes</h2>

<pre><code>ls -aS|tail -1
</code></pre>

<p><code>-S</code> sorts by size (descending),</p>

<p><s><code>-r</code>reverses</s> and <code>tail -1</code> outputs the last file in the list.</p>

<p>@ Dennis Thanks for saving 1 byte
@Dani_l Thanks for saving 1 byte.</p>
</div>
<div id="pu18" class="pu"><h2>PHP, <del>84</del> 62 bytes</h2>
<pre><code>$t=array_map(filesize,$g=glob('*'));asort($t);echo$g[key($t)];
</code></pre>
<p>Since the question was updated with the assumption that there will be no folders in the current directory, I was able to remove the file check stuff and golf this down.</p>
<hr />
<p><strong>Here is my old answer:</strong></p>
<pre><code>$t=array_map(filesize,$g=array_filter(glob('*'),is_file));asort($t);echo$g[key($t)];
</code></pre>
<p>This is the best I could do. Maybe there is a better way I'm missing.</p>
<pre><code>$t=array_map(              # visit each array element and...
    filesize,              # map each filename to its filesize...
    $g=array_filter(       # using an array of...
        glob('*'),         # all files and directories...
        is_file            # filtered by files...
    )                      # 
);                         # 
asort($t);                 # sort the array of filesizes, then...
echo$g[key($t)];           # print element from the array of files using the first key of the sorted array as an index
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell</a>, <s>30</s> <s>24</s> 21 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>(ls|sort le*)[0].Name
</code></pre>

<p><a href="https://tio.run/nexus/powershell#@6@RU1xTnF9UopCTqqUZbRCr55eYm/r/PwA" rel="nofollow noreferrer" title="PowerShell – TIO Nexus">Try it online!</a></p>

<p><code>ls</code> is an alias for <code>Get-ChildItem</code>. That's piped to <code>sort-object</code> with the <code>length</code> attribute, so the files are sorted by size. We index into that with the <code>(...)[0]</code> to get the first (i.e., smallest), and then take the <code>.Name</code> thereof. Output via implicit <code>Write-Output</code> happens at program completion.</p>

<p><em>Saved 6 bytes since we're guaranteed that only files exist in the directory. Saved an additional 3 thanks to ConnorLSW.</em></p>
</div>
<div id="pu20" class="pu"><h1><a href="http://groovy-lang.org/" rel="nofollow noreferrer">Groovy</a>, 49 bytes</h1>

<pre><code>m={f-&gt;f.listFiles().sort{it.length()}[0].getName()}
</code></pre>

<p><a href="https://tio.run/nexus/groovy#@1@dpmuXppeTWVzilpmTWqyhqVecX1RSnVmil5Oal16SoaFZG20Qq5eeWuKXmJsK5P3/DwA" rel="nofollow noreferrer" title="Groovy – TIO Nexus">Try it online!</a></p>

<p>Closure, usage: <code>m(new File("location"))</code></p>
</div>
<div id="pu21" class="pu"><h2>R, 36 bytes</h2>

<pre><code>x=file.info(y&lt;-dir())$s;y[x==min(x)]
</code></pre>

<p><strong>Explained</strong></p>

<p><code>file.info()</code> returns a <code>data.frame</code> of "file information" when given a character or character vector of file/folder names which when used on the list of files/folders in the current directory (<code>dir()</code>), looks something like:</p>

<pre><code>                                                               size isdir mode               mtime               ctime               atime exe
Polyspace_Workspace                                               0  TRUE  777 2014-11-28 17:29:25 2014-11-28 17:29:25 2014-11-28 17:29:25  no
Python Scripts                                                    0  TRUE  777 2016-03-21 23:59:41 2016-03-21 23:59:41 2016-03-21 23:59:41  no
R                                                                 0  TRUE  777 2015-12-23 20:11:02 2015-12-23 20:11:02 2015-12-23 20:11:02  no
Rockstar Games                                                    0  TRUE  777 2015-04-14 12:23:05 2015-04-14 12:23:03 2015-04-14 12:23:05  no
TrackmaniaTurbo                                                   0  TRUE  777 2016-03-24 17:15:05 2016-03-24 13:13:48 2016-03-24 17:15:05  no
ts3_clientui-win64-1394624943-2014-06-11 03_18_47.004772.dmp 314197 FALSE  666 2014-06-11 02:18:47 2014-06-11 02:18:47 2014-06-11 02:18:47  no
</code></pre>

<p>Subsequently we just have the find the name of the file for which the <code>size</code> column (abbreviated using <code>$s</code>) is the smallest. Consequently, if there are more than one file with the smallest size, all will be returned.</p>

<p>Bonus: if we also wanted to disregard folders in the current directory we could simply search for size when <code>isdir == FALSE</code>: <code>x=file.info(y&lt;-dir());y[x$s==min(x$s[!x$i])]</code> which turns out to be 44 bytes.</p>
</div>
<div id="pu22" class="pu">

<h1><a href="https://perl6.org" rel="nofollow noreferrer">Perl 6</a>, <s> 33 32 31 </s> 16 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>'.'.IO.dir.grep(*.f).min(*.s).put
</code></pre>

<p><a href="https://tio.run/nexus/perl6#@6@up67n6a@Xklmkl16UWqChpZemqZebmQdkFGvqFZSW/P8PAA" rel="nofollow noreferrer" title="Perl 6 – TIO Nexus">Try it</a></p>

<pre class="lang-perl6 prettyprint-override"><code>put '.'.IO.dir.min:{try .s//Inf}
</code></pre>

<p><a href="https://tio.run/nexus/perl6#@19QWqKgrqeu5@mvl5JZpJebmWdVXVJUqaBXrK/vmZdW@/8/AA" rel="nofollow noreferrer" title="Perl 6 – TIO Nexus">Try it</a></p>

<pre class="lang-perl6 prettyprint-override"><code>put $*CWD.dir.min:{try .s//Inf}
</code></pre>

<p><a href="https://tio.run/nexus/perl6#@19QWqKgouUc7qKXklmkl5uZZ1VdUlSpoFesr@@Zl1b7/z8A" rel="nofollow noreferrer" title="Perl 6 – TIO Nexus">Try it</a></p>

<pre class="lang-perl6 prettyprint-override"><code>put dir.min: *.s
</code></pre>

<p><a href="https://tio.run/nexus/perl6#@19QWqKQklmkl5uZZ6WgpVf8/z8A" rel="nofollow noreferrer" title="Perl 6 – TIO Nexus">Try it</a></p>

<h2>Expanded:</h2>

<pre class="lang-perl6 prettyprint-override"><code>put        # print with trailing newline
dir        # the list of files in the current directory
.min:      # find the minimum by
  *.s      # calling the `s` method (size) in a Whatever lambda
</code></pre>
</div>
<div id="pu23" class="pu"><h2>Batch, <s>43</s> <s>39</s> 35 bytes</h2>

<pre><code>@dir/b/os|(set/pf=&amp;call echo %%f%%)
</code></pre>

<p>Output includes a leading space for some reason, but fortunately that's allowed. Edit: Now assuming there are no directories to save 4 bytes.</p>
</div>
<div id="pu24" class="pu"><h1>Java 7, <s>149</s> 142 bytes</h1>

<pre><code>String f(){String n="";long s=-1&gt;&gt;&gt;1,p;for(java.io.File f:new java.io.File(".").listFiles())if((p=f.length())&lt;s){n=f.getName();s=p;}return n;}
</code></pre>

<p><a href="https://tio.run/nexus/java-openjdk#TY8xbsMwDEX3nILwRAGpgKxR5bFbu2QsMiip5KiQJUGkUwSGz@7SSIdO/HwEicdrckTw7mKGeT1xi3mAgGr@i9l2nUlFEtmXQ9/3h301oTT8dnenY9FvMXkIx@x/4D/CTndKp0i8dYRKxYBYbdDJ54FvAl5JzVnA4PnDjR6VIVvN0jxPLUM2y1qnS4pXIHYs5V7iF4wiik@3z7Nrg4J5B099BxY2ja2RY4JPD2I/6jKxrrLBKaPT8pwMl92y/gI" rel="nofollow noreferrer" title="Java (OpenJDK) – TIO Nexus">Try it online!</a></p>

<p>-7 bytes thanks to CAD97</p>
</div>
<div id="pu25" class="pu"><p><strong>Scala, 52 bytes</strong></p>

<p>Old version, 79 bytes</p>

<pre><code>new java.io.File(".").listFiles.map(a=&gt;a.getName-&gt;a.length)sortBy(_._2)apply(0)
</code></pre>

<p>Adjusted according to jaxad0127's advice.  It is only 52 bytes now.</p>

<pre><code>new java.io.File(".").listFiles.sortBy(_.length)head
</code></pre>
</div>
<div id="pu26" class="pu"><h1>MATLAB / Octave, <s>52</s> 48 bytes</h1>
<pre><code>d=dir;[~,n]=min([d.bytes]./~[d.isdir]);d(n).name
</code></pre>
<p><strong>Explanation</strong></p>
<p>This gets a directory listing of all files and folders in the current directory using <code>dir</code>. The output of <code>dir</code> is a <code>struct</code> containing the filename, whether it's a directory or not, the size (in bytes), etc.</p>
<p>We can then take an array of the sizes of each in bytes <code>[d.bytes]</code> and perform element-wise division with a boolean indicating whether it's a directory or not <code>~[d.isdir]</code> which will yield <code>Inf</code> where it's a directory (division by zero) and the size in bytes otherwise (division by 1).</p>
<p>We find the index of the minimum of this array using the second output of <code>min</code> and use that to index into the initial struct and display the name with <code>d(n).name</code></p>
</div>
<div id="pu27" class="pu"><h2>Python <s>2</s> 3, <s>94</s> <s>76</s> <s>74</s> 54 bytes</h2>

<p>-18 bytes thanks to @orlp<br>
-2 bytes thanks to @Jonathan Allan<br>
-20 bytes thanks to a change in challenge specs</p>

<pre><code>from os import*
print(min(listdir(),key=path.getsize))
</code></pre>
</div>
<div id="pu28" class="pu"><h1>Node.js (using <a href="https://www.npmjs.com/package/walk" rel="nofollow noreferrer"><code>walk</code></a>), 114 bytes</h1>

<p>Ignore newline:</p>

<pre><code>require('walk').walk(__dirname).on('file',(r,s,n)=&gt;
(m=s.size&gt;m.size?m:s,n()),m=0).on('end',_=&gt;console.log(m.name))
</code></pre>

<p>This invokes a walker that traverses through the current directory (<code>__dirname</code>) and for each file calls a function with its stat <code>s</code> and a function next <code>n()</code> that must be invoked to continue the traversal. Then at the <code>end</code>, it prints a filename with the minimum <code>size</code> in bytes found. <code>s.size&gt;m.size</code> returns <code>false</code> when <code>m.size</code> is <code>undefined</code>, so after the first callback, <code>m</code> is equal to the first file found, and continues from there normally.</p>
</div>
<div id="pu29" class="pu"><h1>Mathematica, 35 bytes</h1>

<pre><code>FileNames[]~MinimalBy~FileByteCount
</code></pre>

<p><code>FileNames[]</code> produces a list of names of all the files (and directories) in the current directory; <code>~MinimalBy~FileByteCount</code> selects the name of the file whose byte count is smallest. <code>FileByteCount</code> throws a bunch of errors when it's applied to directories, but the errors don't derail the program.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/108403/">108403</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




