<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::3293</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>069</td><td>Zsh +coreutils</td><td>230218T044723Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/257967#257967">roblogic</a></td></tr>
<tr d-ix="1"><td>132</td><td>Go</td><td>230131T141621Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/257250#257250">bigyihsu</a></td></tr>
<tr d-ix="2"><td>010</td><td>Thunno 2 j</td><td>230608T185141Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/261679#261679">The Thon</a></td></tr>
<tr d-ix="3"><td>071</td><td>C gcc</td><td>230307T165925Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/258915#258915">evanstar</a></td></tr>
<tr d-ix="4"><td>081</td><td>JavaScript</td><td>230201T022845Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/257273#257273">EzioMerc</a></td></tr>
<tr d-ix="5"><td>026</td><td>GolfScript</td><td>230217T161326Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/257941#257941">emirps</a></td></tr>
<tr d-ix="6"><td>018</td><td>J</td><td>230201T033122Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/257275#257275">Jonah</a></td></tr>
<tr d-ix="7"><td>027</td><td>APL</td><td>220715T172237Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/249987#249987">Vadim Tu</a></td></tr>
<tr d-ix="8"><td>022</td><td>K ngn/k</td><td>220309T210410Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/243910#243910">coltim</a></td></tr>
<tr d-ix="9"><td>018</td><td>Pyth</td><td>220308T201600Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/243861#243861">sinvec</a></td></tr>
<tr d-ix="10"><td>005</td><td>Vyxal</td><td>220202T225516Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/242250#242250">emanresu</a></td></tr>
<tr d-ix="11"><td>nan</td><td>Haskell</td><td>110804T163158Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3326#3326">Rotsor</a></td></tr>
<tr d-ix="12"><td>125</td><td>JavaScript</td><td>110803T145359Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3299#3299">Ryan Kin</a></td></tr>
<tr d-ix="13"><td>092</td><td>Python</td><td>110803T170750Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3307#3307">dr jimbo</a></td></tr>
<tr d-ix="14"><td>011</td><td>05AB1E</td><td>181010T121827Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/173787#173787">Kevin Cr</a></td></tr>
<tr d-ix="15"><td>098</td><td>Javascript</td><td>181010T114344Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/173786#173786">Spitemas</a></td></tr>
<tr d-ix="16"><td>093</td><td>JavaScript</td><td>181010T065048Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/173769#173769">guest271</a></td></tr>
<tr d-ix="17"><td>081</td><td>Powershell</td><td>181009T095101Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/173727#173727">mazzy</a></td></tr>
<tr d-ix="18"><td>104</td><td>APLNARS</td><td>181009T092706Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/173724#173724">user5898</a></td></tr>
<tr d-ix="19"><td>102</td><td>JavaScript</td><td>181009T072945Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/173719#173719">guest271</a></td></tr>
<tr d-ix="20"><td>1344</td><td>Taxi</td><td>181009T061512Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/173715#173715">JosiahRy</a></td></tr>
<tr d-ix="21"><td>073</td><td>Python 3</td><td>180718T024521Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/168760#168760">JathOsh</a></td></tr>
<tr d-ix="22"><td>079</td><td>R</td><td>180717T164846Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/168738#168738">JayCe</a></td></tr>
<tr d-ix="23"><td>019</td><td>><></td><td>180409T074734Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/161611#161611">Jo King</a></td></tr>
<tr d-ix="24"><td>054</td><td>PHP 7.1</td><td>180409T044527Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/161604#161604">Titus</a></td></tr>
<tr d-ix="25"><td>041</td><td>Perl</td><td>161213T123719Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/103073#103073">Dom Hast</a></td></tr>
<tr d-ix="26"><td>nan</td><td>R</td><td>170613T130203Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/126135#126135">Andrew H</a></td></tr>
<tr d-ix="27"><td>080</td><td>Python 3</td><td>151227T064559Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/67837#67837">dzil123</a></td></tr>
<tr d-ix="28"><td>152</td><td>C# w/Linq  152 nonwhitespace chars.</td><td>110803T193810Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3312#3312">KeithS</a></td></tr>
<tr d-ix="29"><td>151</td><td>VBA</td><td>120319T213306Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/5209#5209">Gaffi</a></td></tr>
<tr d-ix="30"><td>040</td><td>><></td><td>161208T155400Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/102525#102525">redstarc</a></td></tr>
<tr d-ix="31"><td>091</td><td>Coffeescript  91 Bytes</td><td>161206T134538Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/102332#102332">NeRoboto</a></td></tr>
<tr d-ix="32"><td>102</td><td>Python</td><td>161207T031118Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/102404#102404">giraffe</a></td></tr>
<tr d-ix="33"><td>132</td><td>JavaScript</td><td>111116T090622Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3926#3926">cwallenp</a></td></tr>
<tr d-ix="34"><td>039</td><td>Ruby</td><td>161110T192633Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/99341#99341">Lee W</a></td></tr>
<tr d-ix="35"><td>011</td><td>Pyth</td><td>150330T225436Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/48294#48294">Maltysen</a></td></tr>
<tr d-ix="36"><td>048</td><td>MATLAB</td><td>150330T094445Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/48276#48276">Sanchise</a></td></tr>
<tr d-ix="37"><td>015</td><td>CJam</td><td>150327T153313Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/48225#48225">Martin E</a></td></tr>
<tr d-ix="38"><td>063</td><td>Rebol</td><td>150326T173227Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/48201#48201">draegtun</a></td></tr>
<tr d-ix="39"><td>024</td><td>Clip</td><td>150324T211635Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/48138#48138">bcsb1001</a></td></tr>
<tr d-ix="40"><td>102</td><td>TinyMUSH</td><td>141101T231802Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/40829#40829">Muqo</a></td></tr>
<tr d-ix="41"><td>098</td><td>Mathematica</td><td>120823T123355Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/7069#7069">DavidC</a></td></tr>
<tr d-ix="42"><td>025</td><td>J</td><td>120823T112223Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/7068#7068">defhlt</a></td></tr>
<tr d-ix="43"><td>034</td><td>APL Dyalog</td><td>120823T052445Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/7067#7067">MrZander</a></td></tr>
<tr d-ix="44"><td>047</td><td>MATLAB</td><td>120321T104331Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/5223#5223">Pontus v</a></td></tr>
<tr d-ix="45"><td>046</td><td>MATLAB 46 Characters</td><td>120410T031630Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/5439#5439">jazzking</a></td></tr>
<tr d-ix="46"><td>042</td><td>Q 42 Characters</td><td>120321T172717Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/5229#5229">sinedcm</a></td></tr>
<tr d-ix="47"><td>048</td><td>Q</td><td>120320T094209Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/5216#5216">tmartin</a></td></tr>
<tr d-ix="48"><td>nan</td><td>R</td><td>120318T190017Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/5196#5196">Paolo</a></td></tr>
<tr d-ix="49"><td>075</td><td>Groovy</td><td>111116T072217Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3925#3925">Armand</a></td></tr>
<tr d-ix="50"><td>094</td><td>Scala</td><td>111114T142839Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3916#3916">bkuder</a></td></tr>
<tr d-ix="51"><td>128</td><td>C#</td><td>110921T154533Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3715#3715">Luis SaT</a></td></tr>
<tr d-ix="52"><td>076</td><td>Perl</td><td>110917T075813Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3691#3691">Zaid</a></td></tr>
<tr d-ix="53"><td>076</td><td>Python</td><td>110909T183833Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3659#3659">Donald W</a></td></tr>
<tr d-ix="54"><td>093</td><td>PowerShell</td><td>110805T092217Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3343#3343">Joey</a></td></tr>
<tr d-ix="55"><td>091</td><td>Python 3</td><td>110804T185731Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3330#3330">Mechanic</a></td></tr>
<tr d-ix="56"><td>132</td><td>Erlang</td><td>110804T160539Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3325#3325">Scott Lo</a></td></tr>
<tr d-ix="57"><td>202</td><td>Javascript</td><td>110804T223916Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3336#3336">Thomas E</a></td></tr>
<tr d-ix="58"><td>194</td><td>Java</td><td>110803T210530Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3316#3316">Thomas E</a></td></tr>
<tr d-ix="59"><td>066</td><td>C++11</td><td>110804T053741Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3321#3321">Arlen</a></td></tr>
<tr d-ix="60"><td>055</td><td>D</td><td>110804T210327Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3334#3334">Arlen</a></td></tr>
<tr d-ix="61"><td>177</td><td>FSharp</td><td>110803T205553Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3315#3315">sideproj</a></td></tr>
<tr d-ix="62"><td>086</td><td>Python</td><td>110804T201117Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3332#3332">boothby</a></td></tr>
<tr d-ix="63"><td>195</td><td>Haskell</td><td>110804T170822Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3327#3327">Thomas E</a></td></tr>
<tr d-ix="64"><td>109</td><td>Python  103 96 90 88 85</td><td>110803T162926Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3304#3304">arrdem</a></td></tr>
<tr d-ix="65"><td>059</td><td>Perl   84 or</td><td>110803T170713Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3306#3306">Ben Rich</a></td></tr>
<tr d-ix="66"><td>060</td><td>php 5.3</td><td>110804T172723Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3328#3328">migimaru</a></td></tr>
<tr d-ix="67"><td>135</td><td>Scala</td><td>110803T130850Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3295#3295">Gareth</a></td></tr>
<tr d-ix="68"><td>068</td><td>php</td><td>110803T182256Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3308#3308">tobius</a></td></tr>
<tr d-ix="69"><td>173</td><td>Lua</td><td>110804T135133Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3323#3323">jpjacobs</a></td></tr>
<tr d-ix="70"><td>062</td><td>D</td><td>110803T161228Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3303#3303">ratchet </a></td></tr>
<tr d-ix="71"><td>nan</td><td></td><td>110803T195101Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3313#3313">Andbdrew</a></td></tr>
<tr d-ix="72"><td>079</td><td>C++</td><td>110803T154143Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3301#3301">Konrad R</a></td></tr>
<tr d-ix="73"><td>044</td><td>Ruby</td><td>110803T163415Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3305#3305">Howard</a></td></tr>
<tr d-ix="74"><td>nan</td><td></td><td>110804T032256Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3320#3320">user unk</a></td></tr>
<tr d-ix="75"><td>044</td><td>Ruby 1.9</td><td>110803T131022Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3296#3296">Aleksi Y</a></td></tr>
<tr d-ix="76"><td>nan</td><td>C K&R  88</td><td>110803T200722Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3314#3314">Harry K.</a></td></tr>
<tr d-ix="77"><td>111</td><td>Perl</td><td>110803T183136Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3310#3310">mbx</a></td></tr>
<tr d-ix="78"><td>023</td><td>J</td><td>110803T152501Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3300#3300">Eric</a></td></tr>
<tr d-ix="79"><td>046</td><td>Ruby 1.9</td><td>110803T145021Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3298#3298">Ventero</a></td></tr>
<tr d-ix="80"><td>075</td><td>Ruby</td><td>110803T140954Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3297#3297">Gareth</a></td></tr>
<tr d-ix="81"><td>097</td><td>C++</td><td>110803T124348Z</td><td><a href="https://codegolf.stackexchange.com/questions/3293/how-to-randomize-letters-in-a-word/3294#3294">Scott Lo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a> +coreutils, 69 bytes</h1>
<pre><code>for n;printf $n[1]`fold -1&lt;&lt;&lt;${n:1:-1}|shuf|rs -g0`${n:$#n-1:$#n-1}\ 
</code></pre>
<p><a href="https://tio.run/##Jcg7DsIwDADQnVNYIgMMkchachNAKvm4reTYKGkGaHP2IMTyhvcpc8fTeesoGfj6yguvCIpv5jGiUABtrLVq48EM2rS9zBX3XEBPl/G36sja/G136O2A4CXESQghLMVLcuIqPdcYIL3BxxxdJKoJpH8B" rel="nofollow noreferrer">Try it online!</a> <br>
 <sub><s><a href="https://tio.run/##Jck5DsIwEADAnleshIukcOE2@CeYAh9LItm7yEcREr/dCNFMM5@yDpzmYyBnoNs7b1QRBN3VQ0zI0YNUWmtx0KIWqfpZ1oZnzSA9GEPzL8SVpPrbDYx@QXDsw4sjgt@K42TZtviswUPawYUcbIixJeDxBQ" rel="nofollow noreferrer">73bytes</a></s></sub>
 <sub><s><a href="https://tio.run/##JcexCsIwEADQ3a848IbcUErWM7M/oQ6lek1ALpK0gw337bHg8uDtNXZx1LrkAnr5lKSrAOrNP7Bhc0LoatwkhHDsSgeVmZQ9D96MbBzBsCnjWQf/1@7Q7SQw5@dryW@BVGGCuUz7F9aYdOk/" rel="nofollow noreferrer">78bytes</a></s></sub>
 <sub><s><a href="https://tio.run/##PYuxCsIwEEB3v@LAo@SGUrLG4OhP2A6lek1ALpLUwab59pjJ5cGD9/bkKivKlUMEuSiFZ7lqoq57Ry8bA8pdT5gxKyZUyX3YWtvsRg3JGBKjTa9LoTIMUFre62mE4/j/I9RyYljC47mGF4NPMMMS5/0Lm/Oy1h8" rel="nofollow noreferrer">85bytes</a></s></sub>
 <sub><s><a href="https://tio.run/##PYuxCsIwEEB3v@LAo@SGUrLG4OhP2A6lek1ALpLUwab59pjJ5cGD9/bkKivKlUMEuSiFZ7lqoq57Ry8bA8pdT5gxKyZUyX3YWtvsRg3JGBKjTa9LoTIMUFre62mE4/j/I9RyYljC47mGF4NPMMMS5/0Lm/Oy1h8" rel="nofollow noreferrer" title="Zsh – Try It Online">92bytes</a></s></sub></p>
<p><sub>Incidentally, the <a href="https://zsh.sourceforge.io/Doc/Release/Expansion.html#Parameter-Expansion-Flags" rel="nofollow noreferrer">Zsh documentation</a> mixes up the descriptions of flags. <code>F</code> splits, <code>f</code> joins.</sub></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, <s>154</s> 132 bytes</h1>
<pre class="lang-go prettyprint-override"><code>import.&quot;math/rand&quot;
func f(S string)(e string){k:=S[1:len(S)-1]
for _,i:=range Perm(len(k)){e+=k[i:i+1]}
return S[:1]+e+S[len(S)-1:]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=RY-xboMwEIZ3P8WJyRZJKrbIEmvHKpLVCaGKwpm4YJsa06RFbB37Bl1QpT5U3qbQQDvd3X-6-7__86u042XfZHmVlQg6U4Yo3Vjnd4HUPvgbWu-UKdt_wSuNwXfn5XZ_eV9FnfnjjctMERDZmRwkFXC9ZBTXrq94LJKI12ioYNsoJdI6eNgoHk-nE8UBnabztmKsxzCuEsVVGKUDceg7Z0AkPEpDDEWy_uDpsLB8_BrPQSiDngjEgt7ZE2W7e6POlDEieBz4I8Jzp_IKHp09GZD2DE-dbrAA-4IO5n2dvb1CYctg4WuBx3AlvFVYF-3kPDkcplC-NrTdLAGppC2bfAayMI3jtf4A" rel="nofollow noreferrer">Attempt This Online!</a></p>
<ul>
<li>-22 bytes from <code>rand.Perm</code>, using string slices, and named return.</li>
</ul>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>j</code>, 10 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Dḣ?Ṫsḣµr$h
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728JKM0Ly_faGm0UpZS7IKlpSVpuhYbXR7uWGz_cOeqYiB9aGuRSsaS4qTkYqjsgjUZ-eWJSfmlJSUZmcUQMQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>Dḣ?Ṫsḣµr$h  # Implicit input
D           # Duplicate the input
 ḣ          # Pop one copy and check if it's length is more than 1
  ?         # If that's true:
   Ṫ        #  Remove the last character and push it separately
    s       #  Swap so the last character is below the rest of the string
     ḣ      #  Discard the first character from this string
      µr    #  Randomly shuffle the string
        $h  #  Push the first character of the input again
            # Implicit output of joined stack
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 71 bytes</h1>
<p>Look mom, I beat python!</p>

<pre class="lang-c prettyprint-override"><code>f(s,d)char*s;{for(;s[2];)if(d=rand()%~-strlen(++s))*s^=s[d]^=*s^=s[d];}
</code></pre>
<p><a href="https://tio.run/##XVHbbsIwDH3vV1iZkBIKu8AuD6F8AdobT1BQl6YQqU1RHB421P16594QLA@2cxwfHztqelCqrjOOk1SoY@LGKC9Z6bjEzSyWwmQ8jVxiUy5Gv1P0LteWhyEKMcZdhJs03kVDJKv6wViVn1MNC/SpKR@Py@AOys3XPeZNoRskMNZDkRjLBVwCoINt1ybPP9erlRAyaPFGJIxJibEH3MQQwYWxCbCX1szYhMy8s6@9exv8@zX4YJVs6Zq@9lzse0KiQ/OjS1pIBwh4GpCh6T8lVFIkeV4qPp@tV6KjpRUCb7gNpZ8lucVtGwlhaIZJ22m9U6dv@gUYJjNxT9XScby5neiFzzjbshFuGUyX0EVby27rKe6Lqk5w5rTmV/lO@7OzJC6o6j8" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>JavaScript, 81 bytes</h1>
<pre><code>s=&gt;s.length&lt;4?s:s[0]+[...s.slice(1,-1)].sort(_=&gt;Math.random()&gt;.5).join``+s.at(-1)
</code></pre>
<p>Try it:</p>
<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=s=&gt;s.length&lt;4?s:s[0]+[...s.slice(1,-1)].sort(_=&gt;Math.random()&gt;.5).join``+s.at(-1)

;[
  '',
  '1',
  '12',
  '123',
  '1234',
  '12345',
  '123456',
  '1234567',
  '12345678',
  '123456789',
].forEach(s=&gt;console.log(f(s)))</code></pre>
</div>
</div>
</p>
<h1>JavaScript, 4 bytes</h1>
<pre><code>s=&gt;s
</code></pre>
<p>It is funny but in real the chance to randomly sort the symbols position in string and get the same string is equal to get the another string. And this is not depend on how many times we will randomize the symbols in string. It may seem like something unreal, but that's the way it is :)</p>
<p>To understand it more easy way imagine that we must generate a number by generating random digits. Let's say we have to get a number of length <code>n</code>. We have <code>10</code> digits, so in each position the chance of any digit is <span class="math-container">\$\frac{1}{10}\$</span> so the total chance to get the any number with length of <code>n</code> is <span class="math-container">\$(\frac{1}{10})^n\$</span>. So the chance to get the number <code>8888888888888888...8888</code> randomly is the same as the chance to get <code>9872346897621449...0467</code>. It is important to understand that the probability of the next digit is independent of the previous generated digit</p>
</div>
<div id="pu5" class="pu"><h1><a href="http://www.golfscript.com/golfscript/" rel="nofollow noreferrer">GolfScript</a>, 26 bytes</h1>
<pre><code>(:f;):l;{;9rand}$f l@\]''+
</code></pre>
<p><a href="https://tio.run/##S8/PSStOLsosKPmvVJxRmpaWk6qQm6r0X8MqzVrTKse62tqyKDEvpVYlTSHHISZWXV37/38A" rel="nofollow noreferrer" title="GolfScript – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 18 bytes</h1>
<pre><code>({~&gt;:,~0,1+?~)_2+#
</code></pre>
<p><a href="https://tio.run/##y/pvqWhlGGumaGWprs6lpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/Narr7Kx06gx0DLXt6zTjjbSV/2typSZn5CukKagnpSaWlmSmleaow4UyUnNy8tX/AwA" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Constructs random indexes for the interior, prepends 0, appends n-1, then uses all those to index into the input.</p>
</div>
<div id="pu7" class="pu"><h1>APL, 27 bytes</h1>
<pre><code>{3≥⍴⍵:⍵⋄⍵[⍋0,(?⍨2-⍨⍴⍵),⍴⍵]}
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 22 bytes</h1>
<pre><code>{,/0N?'(0 1,1|#1_x)_x}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJytzktuwjAQgOG9TzEKVQGJYB6rJkLcoBegCFx7klgQD7UnIpS2Z69TsiibrrqxZI/m819k14mcPa+HoxnMJ/OPwXzXjnftpxBllkAii2E8XwRn14fN5ctnJQC0+Z4O+WhfKHvM2/yS+/E2LvAm4QqBvEEPVMARmdEHsA4UnOMzGMIAjhhq1Y2gbnQFBXnwqIx1ZSIAbgZ6czMY2eOdgdQbjIp/GzYi0dj+b4nHvsRjVP4s0U1vGItO/ZQIKSrmU8ik1GSwpGMxDaz0AVtdKVfiVFMt3xoMbMkFuVw8LWVF55Qp9coZqu07pn1/al2q0u7v9UmVuFo8snpdBd01YtCDeIt7J/ENlMye4g==" rel="nofollow noreferrer">Try it online!</a></p>
<p>hat-tip ovf from the array programming <a href="https://discord.gg/qb4NXP4tKw" rel="nofollow noreferrer">discord</a> / <a href="https://app.element.io/#/room/#aplfarm-k:matrix.org" rel="nofollow noreferrer">matrix</a> for this answer!</p>
<p>Takes a single word to shuffle/randomize.</p>
<ul>
<li><code>(...)_x</code> <a href="https://k.miraheze.org/wiki/Cut" rel="nofollow noreferrer"><code>cut</code></a> <code>x</code> (the input) on the indices from <code>(...)</code>, returning a three-item list containing the first element, the middle element(s), and the last element
<ul>
<li><code>(0 1,1|#1_x)</code> generate a three-item list equivalent to <code>[0, 1, max(1, len(x)-1)]</code>. taking the max with 1 ensures single-character strings (e.g. <code>,&quot;a&quot;</code>) are handled as well.</li>
</ul>
</li>
<li><code>0N?'</code> <a href="https://k.miraheze.org/wiki/Random" rel="nofollow noreferrer"><code>shuffle</code></a> each slice; this is a no-op on empty and one-character strings</li>
<li><code>,/</code> flatten the shuffled slices into a single string and (implicitly) return it</li>
</ul>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 18 bytes</h1>
<pre><code>KhQ=Z&gt;1Q++KO.pPtQZ
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/3zsj0DbKzjBQW9vbX68goCQw6v9/pYzUnJx8JQA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 5 bytes</h1>
<pre><code>ÞẇṖ℅j
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCLDnuG6h+G5luKEhWoiLCIiLCJcImhlbGxvXCIiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>Þẇ    # Push (first+last, rest)
  Ṗ℅  # Shuffle (rest)
    j # Join (first+last) by (rest)
</code></pre>
</div>
<div id="pu11" class="pu"><h1>Haskell, <del>110</del> <del>120</del> 107 characters</h1>

<pre><code>import Random
s l=randomRIO(1,length l-2)&gt;&gt;=g.($l).splitAt
g(a:b,c:d)=fmap(a:).s$c:b++d
g(a,b)=return$a++b
</code></pre>

<p>An example of a program using this function:</p>

<pre><code>main = getLine &gt;&gt;= s &gt;&gt;= putStrLn
</code></pre>
</div>
<div id="pu12" class="pu"><h1>JavaScript - <strike>118 122</strike> 125 chars</h1>

<p>Uses approximately the same algorithm as the OP, but with less chaining. I tried a lot of recursion, and I tried some iteration, but they all tend to get bogged down in some way or another.</p>

<pre><code>function s(w){w=w.split('');var a=w.shift(),z=w.pop();return z?a+(w.sort(function(){return Math.random()-.5}).join(''))+z:a;}
</code></pre>

<p>Ungolfed:</p>

<pre><code>function s(w)
{
    w = w.split('');
    var a = w.shift(),
        z = w.pop();
    return z?a + (w.sort(function() { return Math.random() - .5}).join('')) + z:a;
}
</code></pre>
</div>
<div id="pu13" class="pu"><h2>Python, <s>87</s> <s>79</s> <s>75</s> <s>93</s> 92 chars</h2>

<pre><code>from random import*
f=lambda w:w if 4&gt;len(w)else w[0]+''.join(sample(w[1:-1],len(w)-2))+w[-1]
</code></pre>

<p>EDIT: Originally thought it was supposed to split string words (which it did at 128 chars; now at 87 chars does requirement).   Argh, my bad at reading comprehension.</p>

<p>EDIT 2: Change from def to lambda function from def to save 6 chars.  Assuming sample is already imported to the namespace (<code>from random import sample</code>) could bring this down to ~60).</p>

<p>EDIT 3: "len(w[1:-1])" (12 chars) to "len(w)-2" (8 chars) per gnibbler's nice suggestion.</p>

<p>EDIT 4: JBernando saved one char (had considered <code>from random import *</code> and saw it was equivalent -- not realizing the space in <code>import *</code> is unnecessary).; user unknown added 19 chars <code>w if len(w)&lt;4 else</code> to handle 0 and 1 char strings correctly.</p>

<p>EDIT 5: Saved another char per boothby's code golf trick.  <code>if len(w)&lt;4 else</code> to <code>if 4&gt;len(w)else</code>.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>12</s> 11 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>g≠ićs¨.rIθJ
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f8//VHngswj7cWHVugVeZ7b4fX/f0Z@eWJSfmlJSUZmMQA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9TVmmvpPCobZKCkn2ly//0R50LMo@0Fx9aoVdUeW6H1//Dq2t1/mfklycm5ZeWlGRkFnOVpBaXcCVyJSYBUTIIp6SmpWdkZmXn5OblFxQWFZeUlpVXVFZxGRgaGZuYmplbWAIA" rel="nofollow noreferrer">verify some more inputs</a>.</p>
<p>Fun <strong><s>12</s> 11 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></strong> alternative:</p>
<pre><code>gÍ¸1.ø£€.rJ
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f8//XDvoR2Geod3HFr8qGmNXpHX//8Z@eWJSfmlJSUZmcUA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9TVmmvpPCobZKCkn2ly//0w72HdhjqHd5xaPGjpjV6RV7/df5n5JcnJuWXlpRkZBZzlaQWl3AlciUmAVEyCKekpqVnZGZl5@Tm5RcUFhWXlJaVV1RWcRkYGhmbmJqZW1gCAA" rel="nofollow noreferrer">verify some more inputs</a>.</p>
<p>Both version also work for strings with less than 3 characters. The first one could be just <code>ćs¨.rIθJ</code> (<strong>8 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></strong>), but then it doesn't work for single-character strings (<code>&quot;a&quot;</code> becomes <code>&quot;aa&quot;</code>).</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>g              # Take the length of the (implicit) input
               #  i.e. &quot;howaboutthis&quot; → 12
               #  i.e. &quot;a&quot; → 1
 ≠i            # If this length is not 1:
               #   i.e. 12 → 1 (truthy)
               #   i.e. 1 → 0 (falsey)
   ć           #  Extract the head of the (implicit) input
               #   i.e. &quot;howaboutthis&quot; → &quot;owaboutthis&quot; and &quot;h&quot;
    s          #  Swap so the list (minus head) is at the top of the stack again
     ¨         #  Remove the last character
               #   i.e. &quot;owaboutthis&quot; → &quot;owaboutthi&quot;
      .r       #  Randomly shuffle the characters
               #   i.e. &quot;owaboutthi&quot; → &quot;oohbtwtiua&quot;
        Iθ     #  Take the last character of the input
               #   i.e. &quot;howaboutthis&quot; → &quot;s&quot;
          J    #  Join the values on the stack together (and output implicitly)
               #   i.e. &quot;h&quot;, &quot;oohbtwtiua&quot;, &quot;s&quot; → &quot;hoohbtwtiuas&quot;
               # (Implicit else)
               #  (Output the input as is implicitly)
               #   i.e. &quot;a&quot;
</code></pre>
<hr />
<pre class="lang-python prettyprint-override"><code>g              # Take the length of the (implicit) input
               #  i.e. &quot;howaboutthis&quot; → 12
               #  i.e. &quot;a&quot; → 1
 Í             # Subtract 2
               #  i.e. 12 → 10
               #  i.e. 1 → -1
  ¸            # Wrap it into a list
               #  i.e. 10 → [10]
               #  i.e. -1 → [-1]
   1.ø         # Surround it with 1s
               #  i.e. [10] → [1,10,1]
               #  i.e. [-1] → [1,-1,1]
      £        # Split the (implicit) input into parts of that size
               #  i.e. &quot;howaboutthis&quot; and [1,10,1] → [&quot;h&quot;,&quot;owaboutthi&quot;,&quot;s&quot;]
               #  i.e. &quot;a&quot; and [1,-1,1] → [&quot;a&quot;,&quot;&quot;,&quot;&quot;]
       €       # Map each value to:
        .r     #  Randomly shuffle the characters
               #   i.e. [&quot;h&quot;,&quot;owaboutthi&quot;,&quot;s&quot;] → [&quot;h&quot;,&quot;oohbtwtiua&quot;,&quot;s&quot;]
               #   i.e. [&quot;a&quot;,&quot;&quot;,&quot;&quot;] → [&quot;a&quot;,&quot;&quot;,&quot;&quot;]
          J    # Join the values in the list together (and output implicitly)
               #  i.e. [&quot;h&quot;,&quot;oohbtwtiua&quot;,&quot;s&quot;] → &quot;hoohbtwtiuas&quot;
               #  i.e. [&quot;a&quot;,&quot;&quot;,&quot;&quot;] → &quot;a&quot;
</code></pre>
</div>
<div id="pu15" class="pu"><h1>Javascript 98 bytes</h1>

<pre><code>a=&gt;{c=l=a.length-1;for(b=[a[0]];--c;)d=Math.random()*99|0,b[d]?c++:b[d]=a[c];return b.join``+a[l]}
</code></pre>

<p><a href="https://tio.run/##LclBDoIwEEDRq7iDihBdKqmewBM0TRzaAWrK1ExHXahnR0zc/Zd/hQdkx@EmNSWPc69n0MeX01FDE5EGGetd2ycuO23AbK1t69q1yuszyNgwkE9Tqdb7/Xu76Yy3J1dVh19oMM62jHJnWnXNNQW6XCow0X5mlyiniE1MQ9mXRUQR5FyozWrRM7H/5wS/8Qcj@EDDogVAEnzImAW6GPI4IQlwAAp5KpSavw" rel="nofollow noreferrer">Try it online!</a></p>

<p>This assigns each letter other than the first and last to a random array index, and then joins the array into a string.  <code>99</code> can be changed to <code>9e9</code> to work on (much!) longer words at the cost of a byte, but then join takes almost a minute.  Besides, there aren't many words that even approach 100 characters.</p>

<p>Because of that, this is 12 bytes shorter (86 bytes) and works almost every time:</p>

<pre><code>a=&gt;{c=l=a.length-1;for(b=[a[0]];--c;)b[Math.random()*9e9|0]=a[c];return b.join``+a[l]}
</code></pre>
</div>
<div id="pu16" class="pu"><h2>JavaScript, 93 bytes</h2>

<pre><code>(_,[a,[...b],c,d=b.sort(_=&gt;Math.random()-.5).join``]=_.match(/(^.)|[^\1]+(?=.$)|.$/g))=&gt;a+d+c
</code></pre>

<p><a href="https://tio.run/##LYw5DoMwEAC/kgKJXWEWpUhp8oK8gHAY21wCb2SspOHvDgXdjEaaRX3Vrv38CbljY@MgI7SiUqIior4WWhjZ084@QCvLlwoTeeUMb4A5PZAWnl3X1bKlTQU9QQEN4VE173udwVNSggclxYgoS5WZTEfNbufV0sojDJCuNgTr9xTF7bQfe3PhuTvDJd4qM7sxRYx/" rel="nofollow noreferrer">Try it online!</a></p>

<p>Using <code>.match()</code>  with regular expression <code>/(^.)|[^\1]+(?=.$)|.$/g</code> to match first character, one or more characters that at not the first character followed by one character and end of string, and character followed by end of string and <code>.sort()</code> approach used at the question.</p>
</div>
<div id="pu17" class="pu"><h1>Powershell, 81 bytes</h1>



<p>Inspired by <a href="https://codegolf.stackexchange.com/a/3343/80745">Joey</a>: I like her double join.</p>

<pre class="lang-powershell prettyprint-override"><code>$args|%{($_,($_[0,-1]-join-join($_[1..($a=$_.Length-2)]|random -c 2e9)))[$a-ge2]}
</code></pre>

<p>Notable changes:</p>

<ol>
<li><code>if else</code> replaced with a <a href="https://codegolf.stackexchange.com/a/79895/80745">Fake ternary operator</a>.</li>
<li><code>$_.Length</code> is written once.</li>
<li>Other golf to compact the script</li>
<li>The script gets <code>Random</code> for the word length >= 4 only. </li>
<li><code>random -c $a</code> replaced with <code>random -c 2e9</code>. It need to avoid an exception with word length &lt;= 2. I think the length = <code>2000000000</code> is enough for a word.</li>
</ol>

<p>Test script:</p>

<pre class="lang-powershell prettyprint-override"><code>$f = {

$args|%{($_,($_[0,-1]-join-join($_[1..($a=$_.Length-2)]|random -c 2e9)))[$a-ge2]}

}

&amp;$f ""
&amp;$f a
&amp;$f ab
&amp;$f abc
&amp;$f abcd
&amp;$f randomize
&amp;$f reading
&amp;$f Hello
&amp;$f world
</code></pre>

<p>Output:</p>

<pre class="lang-powershell prettyprint-override"><code>a
ab
abc
acbd
rmaniodze
rniedag
Hlelo
wrlod
</code></pre>
</div>
<div id="pu18" class="pu"><h1>APL(NARS), 52 chars, 104 bytes</h1>
<pre><code>∇r←s w;x
r←,w⋄→0×⍳3≥⍴w⋄r←(↑w),x[?⍨⍴x←¯1↓1↓w],¯1↑w
∇
</code></pre>
<p>This 'solution' is based to the fact that 3?3 return a random permutation of 1 2 3;<br />
6?6 a random permutation of 1 2 3 4 5 6 ecc n?n a random permutation of 1 2 .. n
so if B is a string B[(⍴B)?⍴B] would be a string random permutation of B.
The function 's' has to have as input one string and return one string or ''.
If someone see some error, please to say, thank you.</p>
<p>test:</p>
<pre><code>  ⎕fmt s¨'' 'w' 'my' 'the' 'this' 'this' 'this'
┌7────────────────────────────────────────────┐
│┌0┐ ┌1─┐ ┌2──┐ ┌3───┐ ┌4────┐ ┌4────┐ ┌4────┐│
││ │ │ w│ │ my│ │ the│ │ tihs│ │ this│ │ this││
│└¯┘ └──┘ └───┘ └────┘ └─────┘ └─────┘ └─────┘2
└∊────────────────────────────────────────────┘
  s¨'random' 'random' 'random' 'random'
rdonam rodanm raodnm rodnam 
  s 'permutation'
ptaemutroin
</code></pre>
</div>
<div id="pu19" class="pu"><h2>JavaScript, 102 bytes</h2>

<pre><code>(_,a=[..._].slice(1,-1))=&gt;_.replace(/./g,(m,i)=&gt;(l=a.length,!i||!l?m:a.splice(~~(Math.random()*l),1)))
</code></pre>

<p><a href="https://tio.run/##LYxBDoIwEEWvIiumpgxha1I9gScwhkxoKTVDS9pGN4SrYzXs/vs/77/oTWmIbsmND9rso9qhl6QeiNg/MbEbDHSy6YRQ1x6jWZhK02JrJczSlRZYEbLxNk@ycuta8W2@EKbl724b3ClPGMnrMIM4s5DlTOxD8CmwQQ4WRqjZ5GxiqoU8FfqEqI840284IBrSztu6@F8" rel="nofollow noreferrer">Try it online!</a></p>

<p>Using spread syntax and <code>.slice()</code> create array from input string beginning at index <code>1</code> through <code>-1</code>, <code>.splice()</code> elements from array within <code>.replace()</code> callback function, return string.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://bigzaphod.github.io/Taxi/" rel="nofollow noreferrer">Taxi</a>, 1344 bytes</h1>

<pre><code>Go to Post Office:w 1 l 1 r 1 l.Pickup a passenger going to Chop Suey.Go to Chop Suey:n 1 r 1 l 4 r 1 l.Pickup a passenger going to Post Office.[B]Switch to plan C if no one is waiting.Pickup a passenger going to Cyclone.Go to Cyclone:n 1 l 3 l.Pickup a passenger going to Narrow Path Park.Pickup a passenger going to Sunny Skies Park.Go to Zoom Zoom:n.Go to Sunny Skies Park:w 2 l.Go to Narrow Path Park:n 1 r 1 r 1 l 1 r.Go to Chop Suey:e 1 r 1 l 1 r.Switch to plan B.[C]Go to Narrow Path Park:n 1 l 1 r 1 l.Switch to plan H if no one is waiting.Pickup a passenger going to Joyless Park.Go to Joyless Park:e 1 r 3 l.Go to Narrow Path Park:w 1 r 3 l.[D]Switch to plan E if no one is waiting.Pickup a passenger going to Cyclone.Go to Cyclone:w 1 l 1 r 2 l.Pickup a passenger going to Firemouth Grill.Pickup a passenger going to Sunny Skies Park.Go to Zoom Zoom:n.Go to Firemouth Grill:w 1 l 2 r 3 r.Go to Sunny Skies Park:w 1 l 1 r 1 r.Go to Narrow Path Park:n 1 r 1 r 1 l 1 r.Switch to plan D.[E]Go to Firemouth Grill:e 1 r 4 r.[F]Switch to plan G if no one is waiting.Pickup a passenger going to Post Office.Go to Fueler Up:e 1 l.Go to Post Office:s 1 r 1 l.Go to Firemouth Grill:n 1 l.Switch to plan F.[G]Go to Joyless Park:e 1 l 3 r.Pickup a passenger going to Post Office.Go to Post Office:w 1 l 1 r 1 l.[H]Go to Post Office:e 1 r 4 r 1 l.
</code></pre>

<p><a href="https://tio.run/##rVRNj4MgEP0r8wtItt1Tj7WtzR66TcxelnhgXbRECgY0rr/epX6Xqm2THsQAb2Ye7w2k5I@VpSshlXCUOoXPMGQBXeXwBtx86vJHRxbEWQIEEqI1FRFVEEkmokuUc5IJeBktUJ2lm69EGw/vD@QZVEd47Xs5S4PTZSPhRIADLAQhQQoKTENOWGri5okVATfwllY9q0hxWN4hcyBKyRyOJD2ZQcWzYC8TogAvZlTX4Lrit5TnaliJZsUGGpUXhki9aZfs5FOtFTcC06tdS7E1wo4/k7p31wrcPy/1hyw41VenHy41RJfTZ807AN7Y1m9fZX3f04s79u@YomeZGXauYpy/xn0raUNnUZ1bTXdI75R6vFMsCTcIb/1xFrU15oIivLOVd59XfniLm4IZ5QbxlVSl2g4YvjW668RximKsS3cIu/5Eq/FK0edoTj9@eO/fQjrZKkhZOuT8o9hvRP8B" rel="nofollow noreferrer" title="Taxi – Try It Online">Try it online!</a></p>

<p><a href="https://tio.run/##rVTLboMwELzzFfsFSE1y4hiSEPXQIqFeiji41CEWxkY2iPL11LwJIZBEOWDEenZ3PDs4QX@kKCwOCQebywQ@TyfiYyODN6DqEeVb12zih2kMCGIkJWYBFhBwwoIyzTzzGJwU57pW1@kCBmsrwOaeSgMCuuZuPc3JSOKfy62YIgYmkBMwDpxhIBIyRBKVucAu96nCd9zqz4oZhfUSow8kBM/ARslZLSKcRzspYzk4IcGyQddNvzmPqsVgbWgMVYKvSjL17rhtJ6Rox3KtNb7cHkm3VYKa3lz5wbRHuccnZH/nOcXyUoZhrKG7njlz1iPc3ZUX9q/zQu/11ZIfDkTgiKeKoiUIpS@zw6huQ2lVnV/MeKYfm3jEOyMtd0rhvXeDSj2oTZnmHq7GYD0xhovfvGmaYqogX3HVrvPE8EaSvT@nibJJ8x4Ubcu75UBa6/sg25mL0j16E6BOwwpUFCaKfgT5DfA/" rel="nofollow noreferrer" title="Taxi – Try It Online">Try it online with linebreaks!</a></p>

<p>Errors out by having the boss fire me if the string is 1 character, and by being unable to drive in the current direction otherwise. Don't you just love programs that exit uncleanly like that?</p>

<p><code>Firemouth Grill</code> is one of two destinations in Townsville that offer randomness. It is like any of the three parks in that any number of passengers can be dropped off for later, but they are picked up in a random and unspecified order. This destination alone does the main part of our job, so the only other thing to do is make sure we're only doing this to the characters in the middle.</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <strike>75</strike> 73 bytes</h1>

<p>Thanks to @WW for saving me 2 bytes
</p>

<pre class="lang-python prettyprint-override"><code>lambda x:x[0]+''.join(sample(x[1:-1],len(x)-2))+x[-1]
from random import*
</code></pre>

<p><a href="https://tio.run/##Dcg7DsIwDADQnVN0i90PorBV6klCB6M2kCp2ojSD4fKh05Ne@pZPlEd187MG4tdKjU5qb0tnzHWPXuAgTmEDteM0jEsfNgHF4Y7YqT3j4nLkJpOsJ55TzKWtKXsp4MAQ08/L2yDWPw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>93</s> 79 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(x,l=nchar(x))"if"(l&lt;4,x,intToUtf8(utf8ToInt(x)[c(1,sample(l-2)+1,l)]))
</code></pre>

<p><a href="https://tio.run/##K/qfpmCj@z@tNC@5JDM/T6NCJ8c2LzkjsUijQlNTKTNNSSPHxkSnQiczryQkP7QkzUKjFEiE5HvmlQBVRCdrGOoUJ@YW5KRq5OgaaWob6uRoxmpq/k/TUFLS5AKSjlDKCUonOcMYyS4QlnNiblJRZkq6q5LmfwA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>Wroks for any ipnut szie dwon to zero, by frsit ckciheng the lgnteh of the sintrg and rneturing it if <code>nchar(x)&lt;4</code></p>

<p>-14 bytes thanks to Giuseppe!</p>
</div>
<div id="pu23" class="pu"><h1><a href="https://esolangs.org/wiki/Fish" rel="nofollow noreferrer">>&lt;></a>, 19 bytes</h1>

<pre><code>{o&amp;v
?vo&gt;xl2(
&amp;&lt;oo{
</code></pre>

<p><a href="https://tio.run/##S8sszvj/vzpfrYzLvizfriLHSINLzSY/v/r///@6xTmpJSWpRcUA" rel="nofollow noreferrer" title="&gt;&lt;&gt; – Try It Online">Try it online!</a></p>

<p>Works for words of less than 3 length.</p>
</div>
<div id="pu24" class="pu"><h1>PHP 7.1, 54 bytes</h1>
<p>If the word has less than 4 letters, don´t shuffle:</p>
<pre class="lang-php prettyprint-override"><code>$r=$w[3]?$w[0].str_shuffle(substr($w,1,-1)).$w[-1]:$w;
</code></pre>
</div>
<div id="pu25" class="pu"><h2>Perl, 41 bytes</h2>

<p><strong>40 bytes code + 1 for <code>-n</code>.</strong></p>

<pre class="lang-pl prettyprint-override"><code>$\=chop;s/.//;print"$&amp;",sort{rand 2}/./g
</code></pre>

<p>Requires input to be supplied without a newline (<code>echo -n ...</code>) as we use <code>chop</code> to move the last char into <code>$\</code> (which is appended after all arguments to <code>print</code>) and we <code>sort</code>, applying <code>0</code> or <code>1</code> (<code>rand 2</code>) to each character. This appears to result in all permutations given enough time. The <code>$&amp;</code> has to be in quotes, as it changes after the <code>/./g</code> is executed, interpolating into a string works around this. Also <code>print</code> has to be used instead of <code>say</code> to utilise <code>$\</code> :(.</p>

<h3>Usage</h3>

<pre class="lang-sh prettyprint-override"><code>echo -n 'stringified' | perl -ne '$\=chop;s/.//;print"$&amp;",sort{rand 2}/./g'
sifirgtined

for i in `seq 1 20`; do echo -n 'stringified' | perl -ne '$\=chop;s/.//;print"$&amp;",sort{rand 2}/./g'; echo; done 
segfiiintrd
sitnrigfied
stringified
srtinigfied
sginitrefid
strnigieifd
seriftniigd
sifertniigd
siirtngfied
sintrgieifd
snitrigefid
sfgieinirtd
sigitrnifed
sefiirtingd
sirtnigifed
sifgenritid
srtingiifed
siignrteifd
sefiigtrind
sifneirtigd
</code></pre>
</div>
<div id="pu26" class="pu"><h1>R, <del>95</del> <del>92</del> 91 characters</h1>
<pre><code>f=function(w,a=el(strsplit(w,'')),b=length(a))cat(a[1],sample(a[c(1,b)],b-2),a[b],sep=&quot;&quot;)
</code></pre>
<p>Makes use of R's lazy evaluation to compute a and b as function parameters, saving space with re-use later on. Also unlike other R answer this works for all words &gt;1 char long.
Example below:</p>
<pre><code>&gt; f(&quot;hippopotamus&quot;)
hpuoopaitmps

&gt; f(&quot;dog&quot;)
dog

&gt; f(&quot;az&quot;)
az
</code></pre>
<p>Edit: <del> Replaced <code>unlist()</code> with <code>[[]]</code> </del> Replaced [[1]] with el()</p>
</div>
<div id="pu27" class="pu"><h1>Python 3, 80 chars</h1>

<p>This is an improvement on Ashley Grenon's answer. By removing variable assignments and using <code>random.sample</code> instead of <code>random.shuffle</code>, so you don't have to explicitly call <code>list()</code>, I saved 4 characters. This one still fails on strings less than 2 characters.</p>
<pre><code>import random as r
def f(w):return w[0]+''.join(r.sample(w[1:-1],len(w)-2))+w[-1]
</code></pre>
</div>
<div id="pu28" class="pu"><h1>C# w/Linq - 152 non-whitespace chars.</h1>
 
<p>It's terrible compared to other languages on char count, but elegant:</p>
<pre class="lang-cs prettyprint-override"><code>public string Shuf(string i)
{
    return new String(i.Take(1)
        .Concat(i.Skip(1).Take(i.Length-2).OrderBy(x=&gt;Guid.NewGuid()))
        .Concat(new[]{i.Last()})
        .ToArray());
}
</code></pre>
</div>
<div id="pu29" class="pu"><h1>VBA, <strike>128 177</strike> 151 chars</h1>

<p>I know this is an older puzzle, but I wanted to add my two cents from</p>
<pre class="lang-vba prettyprint-override"><code>Sub o(s)
n=Left(s,1)
p=Len(s)-1
s=Right(s,p)
For i=1 To p-1
p=p-1
r=Int(p*Rnd()+1)
n=n &amp; Mid(s,r,1)
s=Left(s,r-1) &amp; Right(s,p-r+1)
Next
s=n &amp; s
End Sub
</code></pre>
<p>Example Usage:</p>
<pre class="lang-vba prettyprint-override"><code>a = &quot;According&quot;
o a ' a is assigned by the passing of the reference to the 'o' sub.
a = &quot;to&quot;
o a ' see above...
a = &quot;some&quot;
o a
a = &quot;controversial&quot;
o a
a = &quot;story&quot;
o a
</code></pre>
<p>I was actually happily surprised to see it fare as well as it did against some of the other, more typical CG languages. After improving, this is still not the shortest, but I was happy to do it.</p>
</div>
<div id="pu30" class="pu"><h2><a href="https://esolangs.org/wiki/Fish" rel="nofollow noreferrer">>&lt;></a>, 40 bytes</h2>

<pre><code>_5l)?vl1-[&amp;r02.
} .32&lt;
x{|$!
/r]&amp;
&gt;l?!;o
</code></pre>

<p><a href="https://starfish.000webhostapp.com/?script=PoVgNglA-AbmCMBaA2gMgE4AYBMA6AUAL4AEuAzNgDz4AeA3gD4AkAhPgPToC6q+AfGCgsA3AHsgA" rel="nofollow noreferrer">Try it here!</a></p>
</div>
<div id="pu31" class="pu"><h1>Coffee-script: <strike>76</strike> 91 Bytes</h1>
<pre><code>f=(a)-&gt;a.length&gt;1&amp;&amp;a[0]+(a.split('')[1..-2].sort ()-&gt;.5-Math.random()).join('')+a[-1..]||a
</code></pre>
<p>Wow, I like this language already.</p>
</div>
<div id="pu32" class="pu"><h2>Python, 102 characters</h2>
<pre><code>def f(x):t=list(x)[1:-1];k='';exec'k+=t.pop(id(7)%len(t));'*len(t);return[x[0],x[0]+k+x[-1]][len(x)&gt;1]
</code></pre>
<p>No imports! Works for words 1 character and above. This is my first golf entry and I was inspired by BlueEyedBeast's entry from <a href="https://codegolf.stackexchange.com/questions/101638/shortest-code-to-produce-non-deterministic-output">Shortest code to produce non-deterministic output</a> for the idea of using <strong>id(Object)</strong>.</p>
<hr />
<p><strong>Explanation:</strong> It makes a list of letters from the input excluding the first and last, and repeatedly pops from this list and appends to a new one until empty. The index it pops from is id(7) % len(list we're popping from). Since id(7) is the memory address of the object 7, it is essentially random. So now we have a list of randomly scrambled letters from the center of the original input. All we do now is append the first and last letters of the original output accordingly and we got the output we want: (first letter)+(scrambled middle)+(last letter).</p>
</div>
<div id="pu33" class="pu"><h1>JavaScript 132 characters:</h1>
<pre><code>function r(w){return w.substr(0,1)+w.substr(1,w.length-2).split('').sort(function(){return Math.random()-.5}).join('')+w.substr(-1)}
</code></pre>
<p>You don't need to go through point by point. If provided a function which returns something where Math.round will return a random 0,1,-1, that will be sufficient (because of how sort works).</p>
</div>
<div id="pu34" class="pu"><h1>Ruby, 39 characters</h1>

<pre><code>-&gt;s{a,*b,c=s.chars;[a,*b.shuffle,c]*''}
</code></pre>
</div>
<div id="pu35" class="pu"><h1>Pyth - 11 bytes</h1>
<p>Pyth is younger than this challenge so it doesn't count.</p>
<pre><code>pez+hz.SPtz
</code></pre>
<p>Gets middle, shuffles it, then adds the rest. Takes I/O from stdout/stdin.</p>
<pre><code>pez+hz      Print First letter of input, something else, and last letter of input
 .S         Shuffle
  P         All but the last
   t        All but the first
    z       The input
</code></pre>
</div>
<div id="pu36" class="pu"><h1>MATLAB, 48 bytes</h1>
<pre><code>function t=f(t)
t(2:end-1)=t(randperm(end-2)+1);
</code></pre>
<p>Too bad the spec says 'function', using <code>input()</code> would be 43 bytes. Another version, that will fail slightly on a one-length word (<code>a</code> becomes <code>aa</code>), is 34 bytes:</p>
<pre><code>f=@(t)t([1 randperm(end-2)+1 end])
</code></pre>
</div>
<div id="pu37" class="pu"><h1>CJam, 15 bytes</h1>

<p>CJam is younger than this challenge, so this submission is not eligible for being accepted. This submission assumes that a "word" contains at least one character (I've requested clarification from the OP).</p>

<pre><code>{(\_W&gt;\W&lt;mr\++}
</code></pre>

<p>This defines a block, the equivalent of an unnamed function in CJam.</p>

<p><a href="http://cjam.aditsu.net/#code=%22randomise%22%7B(%5C_W%3E%5CW%3Cmr%5C%2B%2B%7D~" rel="nofollow">Test it here.</a></p>

<p>If full programs (STDIN to STDOUT) are also acceptable, it can be solved in 12 bytes:</p>

<pre><code>l(\_W&gt;\W&lt;mr\
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=l(%5C_W%3E%5CW%3Cmr%5C&amp;input=randomise" rel="nofollow">Test it here.</a></p>

<h2>Explanation</h2>

<pre><code>(             "Slice off first character and push it on the stack.";
 \            "Swap with remaining string.";
  _W&gt;         "Duplicate and truncate to last character.";
     \W&lt;      "Swap with other copy and slice off last character.";
        mr    "Shuffle.";
          \   "Swap with last character.";
           ++ "Concatenate the three parts back together.";
</code></pre>

<p>Note that <code>_W&gt;\W&lt;</code> could in principle be shortened to <code>)\</code> (which I had originally). However, this fails when the string is empty at that point, i.e. when it originally contained less than 2 characters.</p>

<p>For the full program, we read the input with <code>l</code> first, and we can omit the <code>++</code> since the contents of the stack are printed at the end of the program automatically, back to back.</p>
</div>
<div id="pu38" class="pu"><h1>Rebol - 63</h1>

<pre><code>f: func[s][e: take/last s ajoin trim reduce[take s random s e]]
</code></pre>

<p>Ungolfed:</p>

<pre><code>f: func [s] [
    e: take/last s 
    ajoin trim reduce [take s random s e]
]
</code></pre>

<p>Usage example:</p>

<pre><code>&gt;&gt; f "1"
== "1"

&gt;&gt; f "12"
== "12"

&gt;&gt; f "123"
== "123"

&gt;&gt; f "1234"
== "1324"
</code></pre>

<p><br>
NB. An alternative (but unfortunately not shorter) version would be:</p>

<pre><code>f: func [s] [
    change/part next s random copy/part next s back tail s back tail s
    s
]
</code></pre>

<p>With golfing and minor shavings this would come out at 73 chars.</p>
</div>
<div id="pu39" class="pu"><h1><a href="http://esolangs.org/wiki/Clip" rel="nofollow">Clip</a>, 24</h1>

<pre><code>?&lt;lxWx],*R&gt;%Ox{(x)x`(x)x
</code></pre>

<p>Here's an effective translation in pseudocode:</p>

<pre><code>x = input by stdin
if len(x) &lt; 2:
  output x
else:
  y = rotate_right(x, 1)
  y.remove_first_occurrence(first(x), last(x))
  # y is now the characters between the first and last of the input.
  shuffle(y)
  output place_at_end(last(x), place_at_beginning(first(x), y))
</code></pre>
</div>
<div id="pu40" class="pu"><h2><a href="http://www.tinymush.net/index.php/Main_Page" rel="nofollow">TinyMUSH</a>, 102</h2>

<pre><code>&amp;_ me=left(%0,1)[ifelse(eq(strlen(%0),1),,scramble(mid(%0,1,sub(strlen(%0),2)))[right(%0,1)])]
\u(_,X)
</code></pre>

<p>Replace "X" with the input word.  The user-defined _ attribute uses the built-in scramble() function to scramble letters between the first and last letters.</p>
</div>
<div id="pu41" class="pu"><h1>Mathematica 98 chars</h1>
<p>Not the most economical code but fun to write.</p>
<p><code>s</code> holds the input sentence (as a string).</p>
<pre><code>Row[StringJoin @@@ (Characters@# /. {f_, m___, e_} :&gt;  
   Flatten@{f, RandomSample@{m}, e} &amp; /@ StringSplit@s), &quot; &quot;]
</code></pre>
<p>For example, when `s = &quot;This sentence is fairly easy to read.&quot;,</p>
<p><img src="https://i.sstatic.net/orWJw.png" alt="output" /></p>
</div>
<div id="pu42" class="pu"><h1>J, 25</h1>
<pre><code>(]/:0,((2-~#)?1-~#),1-~#)
</code></pre>
<p>Example:</p>
<pre><code>      (]/:0,((2-~#)?1-~#),1-~#) 'order'
oedrr
      (]/:0,((2-~#)?1-~#),1-~#) 'order'
oerdr
      (]/:0,((2-~#)?1-~#),1-~#) 'order'
oderr
      (]/:0,((2-~#)?1-~#),1-~#) 'order'
odrer
      (]/:0,((2-~#)?1-~#),1-~#) 'order'
oerdr
      (]/:0,((2-~#)?1-~#),1-~#) 'order'
oerdr
</code></pre>
</div>
<div id="pu43" class="pu"><h2>APL (Dyalog), 34 Charachters</h2>

<p>Still trying to golf it a bit more, new to APL.  Tips appreciated.</p>

<pre><code>y←(⍴x←⍞)-2⋄x[1],x[1+⍳y][y?y],x[⍴x]
</code></pre>

<p>Here is an attempt to explain it, I also simplified it a bit (no charachter improvement, though)</p>

<p><code>⋄</code> is a statement separator, think of it as a new line.</p>

<p>That leaves us with 2 statements.
<code>y←(⍴x←⍞)-2</code> and <code>x[1],x[1+⍳y][y?y],x[⍴x]</code></p>

<p>APL works from right to left in statements, but follows parentesis still, so <code>(⍴x←⍞)</code> is executed first. <code>⍞</code> takes charachter input. <code>←</code> assigns that to <code>x</code> and <code>⍴</code> gives the length of <code>x</code>.  Then  the <code>-2</code> is executed, which subtracts 2 from the length of <code>x</code>. Finally, the length-2 is assigned to <code>y</code> and we move on to the next statement.</p>

<p><code>x[⍴x]</code> takes the last character of <code>x</code>, think of it as <code>x[x.length]</code> (using the length as the index of the last character).</p>

<p><code>,</code> is catenate.</p>

<p>So we concatenate the last character of <code>x</code> with <code>x[1+⍳y][y?y]</code> which takes the middle indices of <code>x</code> using <code>2+⍳y</code> and applies a randomization using <code>[y?y]</code>.</p>

<p><code>⍳y</code> generates <code>1 2 3 ... y</code> and <code>1+</code> turns this into <code>2 3 4 ... y+1</code> which are the middle indices of x, for example, this returns <code>bcdef</code> from <code>abcdefg</code>.  </p>

<p><code>[y?y]</code> "deals" y values from 1 to y.</p>

<p>So, <code>x[1+⍳y][y?y]</code> grabs the middle of the word and randomizes it.</p>

<p>Finally, we concatenate the first charachter of <code>x</code> using <code>x[1],</code> to the rest of the string, and that is the output of the program.</p>

<p>Hopefully that was understandable...</p>
</div>
<div id="pu44" class="pu"><h2>MATLAB, <strike>65</strike> 47 characters</h2>

<pre><code>r=@(s)s([3-min(end,2):1 randperm(end-2)+1 end])
</code></pre>

<p>Works for strings of positive length, but fails on the empty string. Improved by using <code>end</code> as in jazzkingrt's solution.</p>

<p>This use of <code>end</code> can further improve jazzkingrt's solution by substituting <code>end</code> for <code>length(x)</code>. However, that solution doesn't handle strings of length one correctly. (I'm not allowed to comment, so I write here instead.)</p>
</div>
<div id="pu45" class="pu"><h2>MATLAB (46 Characters)</h2>

<pre><code>f=@(x)[x(1) x(randperm(length(x)-2)+1) x(end)]
</code></pre>

<p>Sample Usage:</p>

<pre><code>&gt;&gt; f('elephant')

ans =

eplhnaet

&gt;&gt; f('imawesomebutyousuck')

ans =

iouesutuoeswbamycmk
</code></pre>

<p>Works with words size two or greater.</p>
</div>
<div id="pu46" class="pu"><h2>Q (42 Characters)</h2>

<pre><code>{(x[0]),((neg count 1_-1_x)?1_-1_x),-1#x}
</code></pre>

<p>Sample Usage:</p>

<pre><code>q){(x[0]),((neg count 1_-1_x)?1_-1_x),-1#x} "elephant"
"eeahlnpt"
q){(x[0]),((neg count 1_-1_x)?1_-1_x),-1#x} "ant"
"ant"
</code></pre>
</div>
<div id="pu47" class="pu"><h1>Q, <strike>38</strike> 48</h1>

<p><strike>{((<em>:)x),((-1</em>(#:)a)?a:-1_1_x),last x}</strike></p>

<p>Had to change it for words &lt;=3 letters</p>

<pre><code>{$[3&lt;(#)x;((*:)x),((-1*(#:)a)?a:-1_1_x),-1#x;x]}
</code></pre>
</div>
<div id="pu48" class="pu"><h2>R, 104 (126)</h2>

<pre><code>f=function(w){s=strsplit(w,"")[[1]];paste(c(s[1],sample(s[2:(length(s)-1)]),s[length(s)]),collapse="")}
</code></pre>

<p>Usage:</p>

<pre><code>for (i in 1:10) print(f("parola"))
[1] "plraoa"
[1] "prolaa"
[1] "praola"
[1] "parloa"
[1] "plaora"
[1] "palroa"
[1] "porlaa"
[1] "ploraa"
[1] "porlaa"
[1] "ploraa"
</code></pre>

<p>the below function works with words with length less than 3:</p>

<pre><code>f=function(w){s=strsplit(w,"")[[1]];ifelse(length(s)&lt;3,w,paste(c(s[1],sample(s[2:(length(s)-1)]),s[length(s)]),collapse=""))}

f("pl")
[1] "pl"
f("a")
[1] "a"
</code></pre>
</div>
<div id="pu49" class="pu"><h1>Groovy, 75</h1>

<pre><code>r={w-&gt;w.size()&lt;3?w:w[0]+w[1..-2].toList().sort{Math.random()}.join()+w[-1]}

assert r('a') == 'a'
assert r('it') == 'it'
assert r('cap') == 'cap'

for(x in 1..10) {
    def w = r('Honorificabilitudinitatibus')
    println w
    assert w.size()==27 &amp;&amp; w[0]=='H' &amp;&amp; w[26]=='s'
}
</code></pre>
</div>
<div id="pu50" class="pu"><h2>Scala: 94</h2>
<pre><code>def r(w:String)=if(w.size&lt;2)w else w(0)+util.Random.shuffle(w.tail.init.toSeq).mkString+w.last
</code></pre>
<p>This is a riff on &quot;user unknowns&quot; answer. Since a String can be implicitly cast to a Seq of chars, we can leverage Seq methods to access the middle and end of the String.</p>
</div>
<div id="pu51" class="pu"><h1>C#, 128</h1>

<pre><code>static string r(string w){var t="";while(w.Length&gt;1){int n=new Random().Next(1,w.Length-1);t+=w[n];w=w.Remove(n,1);}return w+t;}
</code></pre>
</div>
<div id="pu52" class="pu"><h2>Perl - 76 chars</h2>
<p>Pure Perl implementation that requires no external modules.
Also correctly handles one-letter, two-letter word edge cases.</p>
<pre><code>sub r{@a=split//,pop;@a&gt;1?join'',@a[0,(sort{rand()&lt;=&gt;rand}1..$#a-1),$#a]:@a}
</code></pre>
<hr />
<h3>Usage</h3>
<pre><code>say r('stringified') for 1 .. 20;

# Example output

srfgiietnid
sgfnieiitrd
seiifgrtnid
siigrfeintd
sgiirntiefd
siigerniftd
sifiitgnred
sftrneiiigd
sfieirtngid
sfeitirgnid
sfiertnigid
sigteifrind
sgieftirnid
sieitfrnigd
stnigirfeid
sfietrniigd
siigfrenitd
stefrniiigd
setrfiniigd
sifgtiernid
</code></pre>
<hr />
<p><strong>N.B.</strong>
<sub>I'm not entirely convinced that the letter randomization still renders the word readable in the example above</sub></p>
</div>
<div id="pu53" class="pu"><h1>Python - 76 characters</h1>

<pre><code>import random as r
def f(w):m=list(w)[1:-1];r.shuffle(m);return w[0]+''.join(m)+w[-1]
</code></pre>
</div>
<div id="pu54" class="pu"><h2>PowerShell, 93</h2>
<pre><code>filter x{if($_.length-lt3){$_}else{$_[0,-1]-join-join($_[1..($a=$_.Length-2)]|random -c $a)}}
</code></pre>
<p>Look, double-join<s>t</s>ed code!</p>
</div>
<div id="pu55" class="pu"><h1>Python 3, <s>94</s> <s>93</s> 91 characters</h1>

<p>Using a different technique. Might also work in Python 2.</p>

<pre><code>from random import*
s=lambda x:x[0]+''.join(sample(x[1:-1],len(x)-2))+x[-1]if x[0:-1]else x
</code></pre>

<p>The <code>... if x[0:-1] else x</code> gives <code>x</code> if its length is 1 (otherwise it would be duplicated). The function thereby works for strings of length 0 and 1.</p>

<p>The <code>sample()</code> is from <a href="https://stackoverflow.com/questions/2668312/shuffle-string-in-python/2668366#2668366">https://stackoverflow.com/questions/2668312/shuffle-string-in-python/2668366#2668366</a>.</p>

<p>Since it's one expression, we can use a <code>lambda</code> (eliminating <code>return</code>, <code>def</code>, and a pair of parentheses).</p>

<p><strong>Edit:</strong> <code>from random import*</code> to save 1 character, after the other Python submission.</p>
</div>
<div id="pu56" class="pu"><h1>Erlang, <strike>188</strike> <strike>172</strike> 132 chars</h1>
<pre><code>f([H|C=[_|_]])-&gt;T=[lists:last(C)],[H|s(C--T,T)];f(X)-&gt;X. s([],N)-&gt;N;s(D,N)-&gt;E=[lists:nth(random:uniform(length(D)),D)],s(D--E,E++N).
</code></pre>
<p>I'm still learning Erlang so any tips on making this shorter are appreciated.</p>
<p>full code(string_shuffle module):</p>
<pre><code>-module(string_shuffle).
-export([f/1]).

f([H|C=[_|_]])-&gt;
    T=[lists:last(C)],
    [H|s(C--T,T)];f(X)-&gt;X.
f(X)-&gt;X.

s([],N)-&gt;N;
s(D,N)-&gt;
    E=[lists:nth(random:uniform(length(D)),D)],
    s(D--E,E++N).
</code></pre>
<h2>Edit</h2>
<p>Took the shuffle part out as a seperate function which no longer requires the head and tail of the list to be passed around.</p>
<h2>Edit 2</h2>
<p>Restructured to remove one of the <code>f</code>function patterns, changed the shuffle function to accept only two parameters, changed <code>lists:delete</code> for <code>--[]</code>, swapped a <code>lists:reverse</code> call for a <code>lists:last</code></p>
</div>
<div id="pu57" class="pu"><h2>Javascript, 202 characters</h2>
<pre><code>function r(s){var s=s.split(&quot;&quot;),h=[-1],n=s.length-1,t,i;h[-1]=s[0];for(i=0;++i&lt;n;){do{t=Math.random()}while(t in h);h[t]=s[i];h[i]=t;}h.sort();for(i=0;i&lt;n;++i)h[i]=h[h[i]];return n?h.join(&quot;&quot;)+s[n]:s[0]}
</code></pre>
<p>This solution has an unbiased distribution.</p>
<h3>Algorithm:</h3>
<p>Split input string into an array <code>s</code>. Consider another array <code>h</code> that is doubly used as a dictionary. For each letter in <code>s</code> at index 0 &lt; <code>i</code> &lt; <code>s.length-1</code>, assign a unique random number to <code>h</code> at <code>i</code>. Also map the random number in the range [0, 1) in <code>h</code> to the letter. The first and last letters are handled specially. Before assigning the random numbers as described above, do the analogous thing for the first letter, but hard code the number as -1 (guaranteed to be less than the smallest random number generated, which can be 0). Ignore the last letter for now. Sort <code>h</code>. Map <code>h</code>'s random value to the corresponding letter. Join the array into a string and tack on the last letter. Special case for 1 character input, where we return the first character (we still crunch <code>h</code> because the logic is shorter that way).</p>
</div>
<div id="pu58" class="pu"><h2>Java, 194 charcters</h2>
<pre><code>String r(String s){String[]c=s.split(&quot;&quot;);if(c.length&gt;2)java.util.Collections.shuffle(java.util.Arrays.asList(c).subList(2,c.length-1));return(&quot;&quot;+java.util.Arrays.asList(c)).replaceAll(&quot;\\W&quot;,&quot;&quot;);}
</code></pre>
<p>If you can assume <code>java.util.*</code> is imported, then you can shave off a fair amount of characters. Might be able to squeeze in a <code>List</code> variable to save a few more. If the class the <code>r</code> function is implemented in derives from <code>java.util.Arrays</code>, then even more characters can be saved.</p>
</div>
<div id="pu59" class="pu"><h1>C++11: - <strike>68</strike> 66 chars</h1>

<pre><code>auto f=[&amp;](){if(s.size()&gt;2)random_shuffle(s.begin()+1,s.end()-1);};
</code></pre>

<p>full program:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;

using namespace std;

int main(int argc, char* argv[]){

  string s = "SomestrinG";
  auto f=[&amp;](){if(s.size()&gt;2)random_shuffle(s.begin()+1,s.end()-1);};

  f();
  cout &lt;&lt; s &lt;&lt; endl;
  return 0;
}
</code></pre>
</div>
<div id="pu60" class="pu"><h1>D: 55 characters</h1>
<pre><code>void f(T)(T s){if(s.length&gt;2)randomShuffle(s[1..$-1]);};
</code></pre>
<p>full program:</p>
<pre><code>import std.stdio, std.random, std.conv;

void f(T)(T s){if(s.length&gt;2)randomShuffle(s[1..$-1]);};

void main(){

  char[] s = to!(char[])(&quot;SomestrinG&quot;);

  f(s);
  writeln(s);
}
</code></pre>
</div>
<div id="pu61" class="pu"><h1>FSharp, <strike>~207</strike> 177</h1>
<p>Count includes whitespace since its significant for f#</p>
<pre><code>let f w=
 let r=System.Random()
 let e = Seq.length w
 (w|&gt;Seq.mapi(fun i l-&gt;if i=0||i=e-1 then i,l else r.Next(1,e-1),l)|&gt;Seq.sortBy fst|&gt;Seq.map snd|&gt;List.ofSeq).ToString()
</code></pre>
<p>Run with:</p>
<pre><code>printfn &quot;%s&quot; (f &quot;apples&quot;)
</code></pre>
</div>
<div id="pu62" class="pu"><p><strong>Python, 86 chars</strong></p>

<p>Slnicig is safe, so no bnouds ckhnceig is neeacrssy.  Wkros on all
leghtns.</p>

<pre><code>from random import*
def f(x):x=list(x);t=x[1:-1];shuffle(t);x[1:-1]=t;return''.join(x)
</code></pre>
</div>
<div id="pu63" class="pu"><h2>Haskell, 195</h2>
<pre><code>import Random
import Data.List
r l=fmap(f l.g l)newStdGen
f l n=map snd$head$filter(\l-&gt;map fst l==n)$permutations$zip[0..]l
g l=take(n+2).(0:).(++[n+1]).take n.nub.randomRs(1,n)where n=length l-2
</code></pre>
<p>Hacked this into existence while Rotsor was making his post. This will cover all possible permutations, and I believe it does so uniformly.</p>
<p>The function <code>r</code> is the function that the user uses.</p>
<p>The algorithm is fairly straightforward. It generates a random list of unique numbers from 1 to n-2. Then it tacks on 0 to the front and n-1 to the end of the list. The <code>take(n+2)</code> is there to handle the case where the input is a single character (or an empty string for that matter). Then it searches for the corresponding permutation and returns that.</p>
<p>The list is generated by generating an infinite list of random numbers from 1 to n-2. Then it picks out the first occurance of each number in that range.</p>
</div>
<div id="pu64" class="pu"><h1>Python - <del>103</del> <del>96</del> <del>90</del> <del>88</del> <del>85</del> 109 characters</h1>
<pre><code>import random as r
def s(x):
 if len(x)&gt;3:y=list(x[1:-1]);r.shuffle(y);return x[0]+''.join(y)+x[-1]
 return x
</code></pre>
<p>props to @dr jimbob for the &quot;import as&quot; bit and for catching my non-conformance with the spec.
props also to @user unknown for getting the spec clarified.</p>
<p><strong>Edit</strong>: updated to conform to short-words spec.</p>
</div>
<div id="pu65" class="pu"><h2>Perl - <strike>96 (or 71) characters</strike> 84 (or 59) characters</h2>

<p>This is what I came up with in Perl. Went through a few different ways to do it but this seemed shortest from what I can think of so far, at 97 characters.</p>

<pre><code>use List::Util 'shuffle';sub r{($b,@w)=split//,$_[0];$e=pop(@w);return$b.join('',shuffle@w).$e;}
</code></pre>

<p>Though, if you cut out the 'use' line (which I guess is valid, since others excluded #include lines in their C programs) I can cut it down further to <strong>71 characters</strong>:</p>

<pre><code>sub r{($b,@w)=split//,$_[0];$e=pop(@w);return$b.join('',shuffle@w).$e;}
</code></pre>

<p><strong>EDIT</strong>
It was suggested that I try doing this implementing @tobius' method. This way I got it down to <strong>84 characters</strong>, or by removing the <em>use</em> line, <strong>59 characters</strong>:</p>

<pre><code>use List::Util 'shuffle';sub r{$_[0]=~m/(.)(.+)(.)/;$1.join'',shuffle split//,$2.$3}
</code></pre>
</div>
<div id="pu66" class="pu"><h2>php 5.3 (60 chars)</h2>

<pre><code>$r=!$w[2]?:$w[0].str_shuffle(substr($w,1,-1)).substr($w,-1);
</code></pre>

<p><strong>Improved to 56 chars and no longer requires version 5.3:</strong></p>

<pre><code>$r=substr_replace($w,str_shuffle(substr($w,1,-1)),1,-1);
</code></pre>
</div>
<div id="pu67" class="pu"><h2>Scala, 135 <strike>139</strike> <strike>142</strike> <strike>156</strike> characters</h2>

<pre><code>def r(s:String)={var(x,o,t,f)=(0,s.toArray,' ',s.size-2)
for(i&lt;-1 to f){t=o(i)
x=util.Random.nextInt(f)+1
o(i)=o(x)
o(x)=t}
o.mkString}
</code></pre>

<p>-7: removed ':String' (return type can be inferred)<br>
-7: removed 'return ' (last expression is the return value)<br>
-3: factored <code>s.size-2</code> out<br>
-4: <code>toCharArray</code> -> <code>toArray</code></p>
</div>
<div id="pu68" class="pu"><h1>php (68 characters)</h1>

<pre><code>$r=preg_replace('/^(\w)(\w+)(\w)$/e','$1.str_shuffle($2).$3',trim($w));
</code></pre>

<h1>shorter (60 characters)</h1>

<pre><code>$r=preg_replace('/(.)(.+)(.)/e','$1.str_shuffle($2).$3',$w);
</code></pre>
</div>
<div id="pu69" class="pu"><h2>Lua, 173 chars</h2>
<p>Does what it needs to do.</p>
<pre><code>function(a)return(a:gsub('(%w)(%w*)(%w)',function(a,b,c)t={}for l in b:gmatch'.'do t[#t+1]=l end while #t&gt;0 do i=math.random(#t)a=a..table.remove(t,i)end return a..c end))end
</code></pre>
</div>
<div id="pu70" class="pu"><h2>D, 62 chars</h2>

<pre><code>import std.random;void s(char[] s){randomShuffle(s[1..$-1]);}
</code></pre>

<p>okay I cheated with a normal char array instead of a real string (which is immutable char[] so no in-place shuffling)</p>

<p><strong>edit</strong> with a length check it requires 14 more</p>

<pre><code>import std.random;void s(char[] s){if(s.length&gt;1)randomShuffle(s[1..$-1]);}
</code></pre>
</div>
<div id="pu71" class="pu"><h1>Python</h1>

<p>It's <strike>90</strike> <strike>89</strike> 112 characters of python!</p>

<p><h2>Edit 1: as a function this time!</h2> (thanks gnibbler)
<h2>Edit 2: now handles short words</h2>  (thanks user unknown)</p>

<pre><code>import random as r
def q(s):
 a=list(s)
 b=a[1:-1]
 r.shuffle(b)
 if len(s)&lt;4:
  return s
 return a[0]+''.join(b)+a[-1]
</code></pre>
</div>
<div id="pu72" class="pu"><h2>C++, 79 characters <sup><sub>(<em>with range check</em>)</sub></sup></h2>

<pre><code>string f(string s){if(s.size()&gt;3)random_shuffle(&amp;s[1],&amp;s.end()[-1]);return s;}
</code></pre>

<h2>C++, <del>81</del> 65 characters <sup><sub>(<em>without range check</em>)</sub></sup></h2>

<pre><code>string f(string s){random_shuffle(&amp;s[1],&amp;s.end()[-1]);return s;}
</code></pre>

<p>Using pass by reference instead of returning the result shaves off another 10 characters from either solution.</p>

<p>Full program, reading a string of words and shuffling converting them:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;cstdio&gt;
#include &lt;ctime&gt;
#include &lt;string&gt;

using namespace std;    
string f(string s){if(s.size()&gt;3)random_shuffle(&amp;s[1],&amp;s.end()[-1]);return s;}

int main() {
    std::srand(std::time(0));
    std::string s;
    while(std::cin &gt;&gt; s)
        std::cout &lt;&lt; f(s) &lt;&lt; " ";
    std::cout &lt;&lt; std::endl;
}
</code></pre>

<p>Morale: don’t build what’s already there. <del>Oh, and overflow checks are for wusses.</del></p>
</div>
<div id="pu73" class="pu"><h3>Ruby, 44 characters</h3>
<pre><code>r=-&gt;w{w[h=1..-2]=[*w[h].chars].shuffle*&quot;&quot;;w}
</code></pre>
<p>Works also for short words, i.e. words with one, two or three characters are returned unaltered.</p>
<p><em>Edit:</em> Using the array-splat idea of Ventero saves another char.</p>
</div>
<div id="pu74" class="pu"><h2>Scala: 112 <strike> 123 </strike></h2>
<pre><code>def v(s:String)=if(s.size&lt;4)s else s(0)+util.Random.shuffle(s.substring(1,s.size-1).toList).mkString+s(s.size-1)
</code></pre>
<p>Incorporated hints from the comments (length-&gt;size (I need this hint every time), <code>mkString</code> without <code>(&quot;&quot;)</code>) and size-1, not -2). Thanks.</p>
</div>
<div id="pu75" class="pu"><p><strong>Ruby 1.9, <strike>77</strike> <strike>48</strike> <strike>46</strike> 44 chars</strong></p>

<pre><code>r=-&gt;w{w[h=1..-2]=[*w[h].chars].shuffle*"";w}
</code></pre>

<p>Disclaimer: I tuned this based on the highest ranked answer - noticed the exact same answer later on. You can check the history that I have kept true to my original idea but changed from ruby 1.8 to ruby 1.9 for short lambdas and <code>shuffle</code>. </p>

<p>If empty words are allowed then <strike>56</strike> 54 chars</p>

<pre><code>r=-&gt;w{w.empty?||w[h=1..-2]=[*w[h].chars].shuffle*"";w}
</code></pre>
</div>
<div id="pu76" class="pu"><h1><strong>C (K&amp;R) - 88 <s>86</s> <s>87</s> chars</strong></h1>

<pre><code>r(char*s){int m,j,l=strlen(s)-2,i=l;while(--i&gt;0){j=rand()%l+1;m=s[j];s[j]=s[1];s[1]=m;}}
</code></pre>

<p>There's no build-in swap or shuffle function in C, so I had to do it manually :(</p>

<p>Sample Program with Ungolfed r():</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;time.h&gt;
#include &lt;stdlib.h&gt;

// -----------------------------------------------------------------------
r( char *s )
{
    int m, j, l=strlen(s)-2, i=l;

    while (--i&gt;0)
    {
        j = rand() % l + 1;

        m = s[j];
        s[j] = s[1];
        s[1] = m;
    }

}
// -----------------------------------------------------------------------
int main()
{
    char s[] = "anticipated";

    srand( time(0) );
    r( s );
    puts( s );

    return 0;
}
</code></pre>

<p><strong>EDIT</strong>: fixed the bug when s consists of less than 3 chars (thanks to user-uknown for noticing it! )</p>
</div>
<div id="pu77" class="pu"><p><strong>Perl - 111 characters (without using any library function)</strong></p>

<pre><code>sub r{($f,@w)=split//,shift;$l=pop@w;while(@w){if(rand(9)&gt;1){push@w,shift@w}else{push@t,pop@w}}join'',$f,@t,$l}
</code></pre>

<p><a href="http://ideone.com/XUEie" rel="nofollow">Usage</a>: </p>

<pre><code>$in="randomizethis";
$out = &amp;r($in);
print "\nout: $out";
sub r{($f,@w)=split//,shift;$l=pop@w;while(@w){if(rand(9)&gt;1){push@w,shift@w}else{push@t,pop@w}}join'',$f,@t,$l}
</code></pre>
</div>
<div id="pu78" class="pu"><h2>J, <strike>26</strike> <strike>24</strike> 23 characters</h2>

<pre><code>r=:{.,({~?~@#)&amp;}.&amp;}:,{:
</code></pre>
</div>
<div id="pu79" class="pu"><h2>Ruby 1.9, 46 characters</h2>

<pre><code>r=-&gt;w{w[0]+[*w[1..-2].chars].shuffle*""+w[-1]}
</code></pre>
</div>
<div id="pu80" class="pu"><h2>Ruby, <strike>77</strike> 75 characters</h2>

<pre><code>def r(s);f=s.size-2;1.upto(f){|i|x=rand(f)+1;t=s[i];s[i]=s[x];s[x]=t};s;end
</code></pre>

<p>My Scala solution in a slightly less verbose language. I'm not a Ruby expert by any means, so there's probably room for improvement.</p>
</div>
<div id="pu81" class="pu"><h1>C++, <strike>111</strike> 97 chars</h1>

<pre><code>std::string f(std::string s){for(int i=s.size()-1;i&gt;1;std::swap(s[rand()%i+1],s[--i]));return s;}
</code></pre>

<p>Here is a full program for those who wish to test it:</p>

<pre><code>#include&lt;string&gt;
#include&lt;iostream&gt;

std::string f(std::string s){for(int i=s.size()-1;i&gt;1;std::swap(s[rand()%i+1],s[--i]));return s;}

int main(){
    for(int i = 0; i&lt;100; ++i)
    std::cout&lt;&lt;f("letters")&lt;&lt;std::endl;
}
</code></pre>

<h1>Edit</h1>

<p>Realised there is no need to random both swap indexes, saved a variable and a few more characters.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/3293/">3293</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




