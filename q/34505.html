<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::34505</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>150</td><td>Python</td><td>240222T072451Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/270222#270222">ROGUH</a></td></tr>
<tr d-ix="1"><td>019</td><td>Microsoft Excel</td><td>200607T043638Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/205723#205723">General </a></td></tr>
<tr d-ix="2"><td>126</td><td>Python 3</td><td>221020T144047Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/253492#253492">DroneBet</a></td></tr>
<tr d-ix="3"><td>202</td><td>JavaScript</td><td>221012T091857Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/253070#253070">Kamil Ki</a></td></tr>
<tr d-ix="4"><td>036</td><td>K ngn/k</td><td>181205T180256Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/177043#177043">ngn</a></td></tr>
<tr d-ix="5"><td>370</td><td>Rust</td><td>210909T185640Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/235215#235215">bigyihsu</a></td></tr>
<tr d-ix="6"><td>022</td><td>Jelly</td><td>210825T152619Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/233734#233734">xigoi</a></td></tr>
<tr d-ix="7"><td>054</td><td>Pip</td><td>200906T141300Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/210640#210640">Razetime</a></td></tr>
<tr d-ix="8"><td>099</td><td>Perl 5 a</td><td>200609T005235Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/205815#205815">Xcali</a></td></tr>
<tr d-ix="9"><td>028</td><td>Husk</td><td>181205T204211Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/177050#177050">ბიმო</a></td></tr>
<tr d-ix="10"><td>130</td><td>Haskell</td><td>181204T221307Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/177005#177005">ბიმო</a></td></tr>
<tr d-ix="11"><td>029</td><td>Jelly</td><td>181205T184031Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/177044#177044">Erik the</a></td></tr>
<tr d-ix="12"><td>124</td><td>Haskell</td><td>181203T172440Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/176954#176954">FrownyFr</a></td></tr>
<tr d-ix="13"><td>nan</td><td>Stax</td><td>180302T190645Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/157064#157064">Weijun Z</a></td></tr>
<tr d-ix="14"><td>058</td><td>q</td><td>140714T080612Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/34511#34511">skeevey</a></td></tr>
<tr d-ix="15"><td>nan</td><td></td><td>140714T173739Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/34543#34543">Paul Dre</a></td></tr>
<tr d-ix="16"><td>047</td><td>CJam</td><td>140715T184615Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/34586#34586">aditsu q</a></td></tr>
<tr d-ix="17"><td>178</td><td>C</td><td>140714T161215Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/34539#34539">Allbeert</a></td></tr>
<tr d-ix="18"><td>321</td><td>Java</td><td>140714T154133Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/34536#34536">Tom&#225</a></td></tr>
<tr d-ix="19"><td>113</td><td>Mathematica</td><td>140714T104557Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/34518#34518">alephalp</a></td></tr>
<tr d-ix="20"><td>351</td><td>Lua</td><td>140714T084255Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/34513#34513">AndoDaan</a></td></tr>
<tr d-ix="21"><td>141</td><td>Python</td><td>140714T073730Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/34508#34508">Alex L</a></td></tr>
<tr d-ix="22"><td>113</td><td>Ruby</td><td>140714T073154Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/34507#34507">Ventero</a></td></tr>
<tr d-ix="23"><td>122</td><td>Mathematica</td><td>140714T080006Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/34509#34509">Martin E</a></td></tr>
<tr d-ix="24"><td>186</td><td>Python</td><td>140714T070223Z</td><td><a href="https://codegolf.stackexchange.com/questions/34505/simulate-rule-110/34506#34506">Calvin&#</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python, 150 bytes</h1>
<pre><code>import sys
I=''.join(' X'[str(A)in sys.argv]for A in range(40))
for _ in I:print(I);I=''.join('X '[(' '+I+' ')[A:A+3]in'XXX.X   ']for A in range(100))
</code></pre>
<p>Example: <code>python rule110.py 39</code></p>
<p>Old solution with hardcoded initial universe:</p>
<pre><code>I=' '*99+'X'
for _ in I:print(I);I=''.join('X '[(' '+I+' ')[A:A+3]in'XXX.X   ']for A in range(100))
</code></pre>
<p>The rule became a bit complicated.
Based on another answer, I check only the rules that result in a dead cell because there's only 3 rules that can be compressed into a small substring check.</p>
<p>The cell at the next <code>I[i]</code> dies if <code>I[i:i+3]</code> is any of <code>XXX</code> <code>X  </code>, or <code>   </code> (3 spaces). Since <code>I[i:i+3]</code> is a string, we can check if it's a substring of <code>111</code> or <code>1000</code>.
More concisely, <code>I[i] = ' '</code> if <code>I[i:i+3]</code> is a substring of <code>111SEP1000</code>, where <code>SEP</code> is anything besides <code>X</code> and <code> </code>.</p>
</div>
<div id="pu1" class="pu"><h1>Microsoft Excel, <s>21</s> 19 characters</h1>
<p>(Not sure how to score this actually. I know this takes 39*40 or 1560 formulas, but they all depend on the first one.)</p>
<p>As a bonus, this works in LibreOffice Calc too.</p>
<h2>The formula</h2>
<p><code>=(B1&lt;&gt;C1)+C1*(B1&gt;A1</code></p>
<p>To get the 40x40:</p>
<ol>
<li>Insert the formula at cell B2. (Don't forget the <code>=</code> sign!)</li>
<li>Drag the cells to Column AO.</li>
<li>Drag these cells to Row 40.</li>
</ol>
<p>Extra niceties:</p>
<ol>
<li>Conditionally format cells to Good when value is TRUE</li>
<li>Set cell widths to 0.3&quot; or something.</li>
</ol>
<h2>Explanation</h2>
<ul>
<li>The input is the first row. A value that can be converted to <code>TRUE</code>, such as 1 is <code>TRUE</code>. A blank cell or anything else is a <code>FALSE</code>.</li>
<li>Column A is just a buffer to make edge cases easier to deal with.</li>
<li>This is easier to see if you do the conditional formatting stuff.</li>
<li>The formula is really just a hacky way of saying (B XOR C) + (BCA')</li>
</ul>
</div>
<div id="pu2" class="pu"><h1>Python 3, 126 bytes (as function)</h1>
<pre class="lang-python prettyprint-override"><code>def r(n,r):
 for d in range(r):print(&quot;&quot;.join(&quot; o&quot;[n&gt;&gt;i&amp;1]for i in range(40)));n=sum((110&gt;&gt;(n&gt;&gt;i&amp;7)&amp;1)&lt;&lt;i+1 for i in range(40))
</code></pre>
<h2>142 bytes with stdin</h2>
<pre class="lang-python prettyprint-override"><code>n,r=map(int,input().split())
for d in range(r):print(&quot;&quot;.join(&quot; o&quot;[n&gt;&gt;i&amp;1]for i in range(40)));n=sum((110&gt;&gt;(n&gt;&gt;i&amp;7)&amp;1)&lt;&lt;i+1 for i in range(40))
</code></pre>
<h2>188, my first attempt and favourite</h2>
<pre class="lang-python prettyprint-override"><code>import itertools as t;print(&quot;\n&quot;.join(map(lambda n:&quot;&quot;.join(&quot; o&quot;[n&gt;&gt;i&amp;1]for i in range(n.bit_length())),t.accumulate(range(1,40),lambda n,d:sum((110&gt;&gt;(n&gt;&gt;i&amp;7)&amp;1)&lt;&lt;i+1 for i in range(d))))))
</code></pre>
</div>
<div id="pu3" class="pu"><h1>JavaScript, <strike>242</strike>, 202 bytes</h1>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>// redable version
((...l)=&gt;{
  k=Array(40).fill(' ');l.map(x=&gt;k[x]='X')

  for(i=0;i++&lt;40;){
    console.log(k.join``);
    k=k.map((x,i)=&gt; i==0|| (i==k.length) || ["   ","XXX","X. "].includes(k.at(i-1)+k.at(i)+k.at(i+1)) ? ' ':'X')
  }
})(38,39)</code></pre>
</div>
</div>
</p>
<p>Minified:</p>
<pre><code>((...l)=&gt;{k=Array(40).fill(' ');l.map(x=&gt;k[x]='X');for(i=0;i++&lt;40;){console.log(k.join``);k=k.map((x,i)=&gt;i==0||(i==k.length)||[&quot;   &quot;,&quot;XXX&quot;,&quot;X. &quot;].includes(k.at(i-1)+k.at(i)+k.at(i+1))?' ':'X')}})(38,39)
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>44</s> 36 bytes</h1>
<pre><code>{&quot;X &quot;39{(2\145)@2/'3':1,x,1}\^x?!40}
</code></pre>
<p><a href="https://ngn.bitbucket.io/k#eJxLs6pWilBQMras1jCKMTQx1XQw0lc3Vrcy1KnQMayNiauwVzQxqOXiSlMwtlAwtgQAFsILRw==" rel="nofollow noreferrer">Try it online!</a></p>
<p><code>{</code> <code>}</code> function with argument <code>x</code></p>
<p><code>!40</code> list of ints from 0 to 39</p>
<p><code>x?</code> find their indices in <code>x</code>, use <code>0N</code> (the &quot;integer null&quot;) for not found</p>
<p><code>^</code> which of them are nulls? this gives us the input, negated</p>
<p><code>39{</code> <code>}\</code> apply 39 times, collecting intermediate results in a list</p>
<p><code>1,x,1</code> surround the list with 1s (negated 0s)</p>
<p><code>3':</code> triples of consecutive items</p>
<p><code>2/'</code> binary decode each</p>
<p><code>@</code> use as indices in ...</p>
<p><code>2\145</code> binary encode 145 (negated bits of 110)</p>
<p><code>&quot;X &quot;</code> finally, use the 40x40 matrix as indices in the string <code>&quot;X &quot;</code> (the <code>@</code> here is implicit)</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.rust-lang.org/" rel="nofollow noreferrer">Rust</a>, 370 bytes</h1>

<pre class="lang-rust prettyprint-override"><code>fn a(f:&amp;[u8]){let mut g=[0;40];for e in f{g[*e as usize]=1;};p(&amp;g);for _ in 0..39{let mut n=[0;40];for e in 0..40{let m=match e{0=&gt;r(g[0]*2+g[1]),39=&gt;r(g[38]*4+g[39]*2),_=&gt;r(g[e-1]*4+g[e]*2+g[e+1])};n[e]=m;}g=n;p(&amp;g);}}fn p(g:&amp;[u8]){println!(&quot;{}&quot;,g.iter().map(|x|format!(&quot;{}&quot;,x)).collect::&lt;String&gt;().replace(&quot;0&quot;,&quot; &quot;));}fn r(b:u8)-&gt;u8{match b{0|4|7=&gt;0,1|2|3|5|6=&gt;1,_=&gt;2}}
</code></pre>
<p><a href="https://tio.run/##ZZDdboMgFMev16dgXjTQWoPVbVaGL7FLQxpqkJkoNRSTZsKzd6ez280u@X@cc37Y6eJut9YgidtyXU@FIHOvHBomhzSvKcupYO3ZIoU6g9pZ1xuF5AVNl@5LCZ6ywEa81uQnc7xnaJJkh78Z5t8M8HO6@HyQrvlEaqa8sljXVGz2W12ngsTZYZGyQmxy0LIDeCQ@LqrapYuslobaQicwA28@sKC5eVwVAqCNWP@ijbYzrjfPOJpDFOukc8pikgxyxP7q4Ua46GFeCUmac9@rxpXl@4eDpq4ga9XYy0bhiEZxhCICS2CHxadyKsiumop5oTrN1Of@jVc0Tv3eZ/7Fv/IqvSPsQ7h/@SA7gwmaV08Sr4EUoAVhq3D7Bg" rel="nofollow noreferrer" title="Rust – Try It Online">Try it online!</a></p>
<p>A probably very naive implementation. Input is a slice of <code>u8</code> representing the starting <code>1</code>s. Prints rule 110, with <code>1</code> as its character.</p>
<p>Ungolfed:</p>
<pre class="lang-rust prettyprint-override"><code>fn r110(filled: &amp;[u8]) {
    let mut grid = [0; 40];
    for e in filled { grid[*e as usize] = 1; }
    
    println!(
            &quot;{}&quot;,
            grid
            .iter()
            .map(|x| format!(&quot;{}&quot;,x))
            .collect::&lt;String&gt;()
            .replace(&quot;0&quot;, &quot; &quot;));
    
    for _iteration in 0..39 {
        let mut next_grid = [0; 40];
        for element in 0..40 {
            let next = match element {
                0 =&gt; {
                    rule(grid[0]*2 + grid[1])
                }
                39 =&gt; {
                    rule(grid[38]*4 + grid[39]*2)
                }
                _ =&gt; {
                    rule(grid[element-1]*4 + grid[element]*2 + grid[element+1])
                }
            };
            next_grid[element] = next;
        }
        grid = next_grid;
        println!(
            &quot;{}&quot;,
            grid
            .iter()
            .map(|x| format!(&quot;{}&quot;,x))
            .collect::&lt;String&gt;()
            .replace(&quot;0&quot;, &quot; &quot;));
    }
}

fn rule(bits: u8) -&gt; u8 {
// current pattern  111 110 101 100 011 010 001 000
// new cell          0   1   1   0   1   1   1   0
    match bits {
        0 | 4 | 7 =&gt; 0,
        1 | 2 | 3 | 5 | 6 =&gt; 1,
        _ =&gt; 2
    }
}
<span class="math-container">```</span>
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 22 bytes</h1>
<pre><code>ṬµØ0jḄ3Ƥị236B¤µ39Ð¡Yo⁶
</code></pre>
<p><a href="https://tio.run/##ATYAyf9qZWxsef//4bmswrXDmDBq4biEM8ak4buLMjM2QsKkwrUzOcOQwqFZb@KBtv///1szOCwzOV0" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Took some inspiration from Erik's answer.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a>, 54 bytes</h1>
<pre><code>x:Y0X40RAgoL40{Fi,40x@i:01110110@FB(y@&gt;i@&lt;3)Y0.xPxR0s}
</code></pre>
<p>Pip is turing complete?!</p>
<p>(Jokes aside, this was a fun pip answer.)</p>
<h2>Explanation</h2>
<pre><code>x:Y0X40RAgoL40{Fi,40x@i:01110110@FB(y@&gt;i@&lt;3)Y0.xPxR0s} 
x:Y0X40RAgo                                             Assign 40 spaces to x and replace the input indices with 1
                                                        The same value is also yanked to y.
           L40{                                      }  Repeat 40 times 
               Fi,40                                    Loop variable i through range 1-40
                    x@i:                                Assign character at index i to:
                        01110110@                       a number in 01110110 at index:
                                 FB(y@&gt;i@&lt;3)            a 3 letter substring of y starting at i, converted to binary.
                                            Y0.x        Yank(assign value) of 0 concantenated with x to y
                                                PxR0s   Print x with zeros replaced with spaces
</code></pre>
<p><a href="https://tio.run/##K8gs@P@/wirSIMLEIMgxPd/HxKDaLVPHxKDCIdPKwNDQEIgNHNycNCod7DIdbIw1Iw30KgIqggyKa////29s8d/YEgA" rel="nofollow noreferrer" title="Pip – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-a</code>, 99 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>$_=$"x40;for$b(@F){substr$_,$b,1,1}for$b(1..40){say;s,(?&lt;=(.)).(?=(.)),"$1$&amp;$2"=~/111|  $/?$":1,ge}
</code></pre>

<p><a href="https://tio.run/##JcnRCoIwFADQXxnjEhtc524qVDbWU299gyiYBNFkMyjKPr1b1NN5OGMfzxUzNA7krbT1MUTo1G6vH@napSlCg9AhIc3/IWNK@832XidUfuuU0doo/xMlECxgKd0rJ6KnEJB7kBvCoZ@Zi5Uo1u8wTqdwSZwdKmPJctZ@AA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <s>31</s> 28 bytes</h1>

<p>Hah, Husk is beating Jelly!</p>

<pre><code>†!¨↑¨↑40¡ȯẊȯ!ḋ118ḋėΘ`:0M#ŀ40
</code></pre>

<p><a href="https://tio.run/##yygtzv7//1HDAsVDKx61TQQTJgaHFp5Y/3BX14n1ig93dBsaWgDJI9PPzUiwMvBVPtpgYvD///9oY8tYAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>

<h2>Explanation &amp; Ungolfed</h2>

<p>Before adding an explanation, let me ungolf this a bit.. Let's first remove the various compositions, add explicit parentheses and uncompress the <code>¨↑¨</code> string. Also let's replace <code>40</code> with <code>4</code> for a more readable explanation:</p>

<pre><code>†!"t "↑4¡(Ẋ(!ḋ118ḋė)Θ`:0)M#ŀ4  -- example input: [3]
                           ŀ4  -- lower range of 4: [0,1,2,3]
                         M     -- map over left argument
                          #    -- | count in list
                               -- : [0,0,0,1]
        ¡(              )      -- iterate the following indefinitely (example with [0,1,1,1])
                     `:0       -- | append 0: [0,1,1,1,0]
                    Θ          -- | prepend 0: [0,0,1,1,1,0]
          Ẋ(       )           -- | map over adjacent triples (example with  1 1 0
                  ė            -- | | create list: [1,1,0]
                 ḋ             -- | | convert from base-2: 6
                               -- | | convert 118 to base-2: [1,1,1,0,1,1,0]
                               -- | | 1-based index: 1
                               -- | : [1,1,0,1]
                               -- : [[0,0,0,1],[0,0,1,1],[0,1,1,1],[1,1,0,1],[1,1,1,1],[1,0,0,1],...]
      ↑4                       -- take 4: [[0,0,0,1],[0,0,1,1],[0,1,1,1],[1,1,0,1]]
†                              -- deep map the following (example with [1,1,0,1])
 !"t "                         -- | use each element to index into "t ": "tt t"
                               -- : ["   t","  tt"," ttt","tt t"]
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>135 131</s> 130 bytes</h1>

<p><sup>-1 byte thanks to <a href="https://codegolf.stackexchange.com/users/66041/%c3%98rjan-johansen">Ørjan Johansen</a> (rearranging <code>take 40</code>)</sup></p>
<p>Completely different approach to <a href="https://codegolf.stackexchange.com/a/176954/48198">FrownyFrog's answer</a> but about the same length:</p>
<pre class="lang-hs prettyprint-override"><code>(a?b)r=mod(b+r+b*r+a*b*r)2
r x=0:(zipWith3(?)x=&lt;&lt;tail$tail x++[0])
f y=take 40$map(&quot; o&quot;!!)&lt;$&gt;iterate r[sum[1|elem i y]|i&lt;-[0..40]]
</code></pre>
<p>Uses <span class="math-container">\$1\$</span>-indexing and has a leading space on each line, <a href="https://tio.run/##FY6xjsIwEER7vmJBKWwsIh9HFcVQUCFxFcUVlnXaiAUsYidyFimc@PdginnFSG80Nxzu1LbTJHDXyGRCdxaNSqpZJoXLTLmeJRiNrsS/7389377FTo6mrhl9W3wAo1JWOzm7wNMw3gk2ugjYiwV0i/lc1sXWMyVkgmSHR7BfL2opgIene/l6ZXVZbrRzU0AfwUBWf/6gf/CJ0zFCCZcckQjPUFWQSx@vq609RHYS8hG4Eu@7yBR5mGxeegM" rel="nofollow noreferrer" title="Haskell – Try It Online">try it online!</a></p>
<h2>Explanation</h2>
<p>We're going to work with length-<span class="math-container">\$41\$</span> lists with values <span class="math-container">\$\texttt{0}\$</span>, <span class="math-container">\$\texttt{1}\$</span>, so let's start with the correct array:</p>
<pre class="lang-hs prettyprint-override"><code>f y=                               [sum[1|elem i y]|i&lt;-[0..40]]
</code></pre>
<p>Next we're going to iterate the rule <span class="math-container">\$40\$</span> times:</p>
<pre class="lang-hs prettyprint-override"><code>    take 40$              iterate r
</code></pre>
<p>And finally map each <span class="math-container">\$\texttt{0}\$</span> and <span class="math-container">\$\texttt{1}\$</span> to some fancy character:</p>
<pre class="lang-hs prettyprint-override"><code>            map(&quot; o&quot;!!)&lt;$&gt;
</code></pre>
<p>The function <code>r</code> which applies the <span class="math-container">\$\texttt{110}\$</span>-rule is pretty simple: Using <code>zipWith3</code> and some padding we can outsource the actual decision for the next cell to <code>(?)</code>:</p>
<pre class="lang-hs prettyprint-override"><code>r x=0:(zipWith3(?)x=&lt;&lt;tail$tail x++[0])
</code></pre>
<p>The <code>(?)</code> operator is the most interesting part of the solution: <a href="https://codegolf.stackexchange.com/revisions/177005/1">Previously</a> I used a Boolean rule generated with a Karnaugh map, but <a href="http://atlas.wolfram.com/01/01/110/01_01_1_110.html" rel="nofollow noreferrer">turns out</a> there is an even more concise way:</p>
<pre class="lang-hs prettyprint-override"><code>(a?b)r=mod(b+r+b*r+a*b*r)2
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 29 bytes</h1>

<pre><code>‘;41ṬṖŻ;0Ḅe“¢£¤¦©‘Ɗ3ƤƊ39Ð¡Yo⁶
</code></pre>

<p><a href="https://tio.run/##AUUAuv9qZWxsef//4oCYOzQx4bms4bmWxbs7MOG4hGXigJzCosKjwqTCpsKp4oCYxoozxqTGijM5w5DCoVlv4oG2////MzgsMzk" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>175 170 169 136 127</s> 124 bytes</h1>

<p>−9 bytes thanks to @bmo
</p>

<pre class="lang-hs prettyprint-override"><code>t(a:b:r:_)=mod(b+r+b*r+a*b*r)2
w%a=take 40.map w.iterate a
d l=t%tail$0:l++[0]
f l=map(" #"!!)%d$(fromEnum.(`elem`l))%succ$0
</code></pre>

<p><a href="https://tio.run/##FcqxCoMwFEDR3a942gQSAxLaLg04dmunjiL1WSMVE5X4xM9P7XKHy/niOlrnYiSBpjXBvGXp5060Kqg2Dwrzo/Kc7BxLwtHCVRceF9iLgWxAsoBJB64kTjg4po1TqtJ10h/vcCKDU5amkndM9GH292nzhWiss75xUvJ1@3yYjh6H6c@fsGz0ovCYGPRQXW51/AE" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 24 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a><sup>CP437</sup></h1>
<pre><code>╦♥µ╤u{£┬íQ&lt;;▀ΦΣ╢╕╚äZ↕áû↑
</code></pre>
<p><a href="https://staxlang.xyz/#c=%E2%95%A6%E2%99%A5%C2%B5%E2%95%A4u%7B%C2%A3%E2%94%AC%C3%ADQ%3C%3B%E2%96%80%CE%A6%CE%A3%E2%95%A2%E2%95%95%E2%95%9A%C3%A4Z%E2%86%95%C3%A1%C3%BB%E2%86%91&amp;i=%5B38%2C39%5D&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug online!</a></p>
<p>Uses the codepoint 1 in CP437 for &quot;1&quot; cells.</p>
<p>Excellent case to show the power of this language.</p>
<h2>Explanation</h2>
<p>Uses the unpacked version (29 bytes) to explain.</p>
<pre><code>0]40X*,1&amp;xDQ0]|S3B{:b^374:B@m
0]40X*                           Prepare a tape with 40 cells
      ,1&amp;                        Assign 1 to the cells specified by the input
         xD                      Repeat the rest of the program 40 times
           Q                     Output current tape
            0]|S                 Prepend and append a 0 cell to it
                3B               All runs of length 3
                  {         m    Map each run with block
                   :b            Convert from binary
                     ^           Increment (call this value `n`)
                      374:B      The binary representation of 374
                                 [1,0,1,1,1,0,1,1,0]
                                 which is `01101110` reversed and prepended a 1
                           @     Element at 0-based index `n`
</code></pre>
</div>
<div id="pu14" class="pu"><h1>q, <s>67</s> <s>62</s> 58 bytes</h1>

<p>Assumes no wrap-around:</p>

<pre><code>{40{not(2 sv'flip 1 0 -1 xprev\:x)in 0 4 7}\@[40#0b;x;~:]}
</code></pre>

<p>Old version</p>

<pre><code>{40{not(flip(prev;::;next)@\:x)in 3 cut 111100000b}\@[40#0b;x;not]}
{40{not(flip 1 0 -1 xprev\:x)in 3 3#111100000b}\@[40#0b;x;~:]}
</code></pre>
</div>
<div id="pu15" class="pu"><p>Update:
Correct output example <a href="http://codepad.org/zP16o2GX" rel="nofollow">here</a> (with 40 lines not 50):
New output below (removed previous one for brevity):</p>

<pre><code>                                      xx
                                     xxx
                                    xx x
                                   xxxxx
                                  xx   x
                                 xxx  xx
                                xx x xxx
                               xxxxxxx x
                              xx     xxx
                             xxx    xx x
                            xx x   xxxxx
                           xxxxx  xx   x
                          xx   x xxx  xx
                         xxx  xxxx x xxx
                        xx x xx  xxxxx x
                       xxxxxxxx xx   xxx
                      xx      xxxx  xx x
                     xxx     xx  x xxxxx
                    xx x    xxx xxxx   x
                   xxxxx   xx xxx  x  xx
                  xx   x  xxxxx x xx xxx
                 xxx  xx xx   xxxxxxxx x
                xx x xxxxxx  xx      xxx
               xxxxxxx    x xxx     xx x
              xx     x   xxxx x    xxxxx
             xxx    xx  xx  xxx   xx   x
            xx x   xxx xxx xx x  xxx  xx
           xxxxx  xx xxx xxxxxx xx x xxx
          xx   x xxxxx xxx    xxxxxxxx x
         xxx  xxxx   xxx x   xx      xxx
        xx x xx  x  xx xxx  xxx     xx x
       xxxxxxxx xx xxxxx x xx x    xxxxx
      xx      xxxxxx   xxxxxxxx   xx   x
     xxx     xx    x  xx      x  xxx  xx
    xx x    xxx   xx xxx     xx xx x xxx
   xxxxx   xx x  xxxxx x    xxxxxxxxxx x
  xx   x  xxxxx xx   xxx   xx        xxx
 xxx  xx xx   xxxx  xx x  xxx       xx x
xx x xxxxxx  xx  x xxxxx xx x      xxxxx
xxxxxx    x xxx xxxx   xxxxxx     xx   x
</code></pre>

<p>Doing another puzzle I learned something interesting about nesting statements in for loops in php, and suddenly they are far more complex than I originally thought. When I get time I reckon I can beat this score considerably. For now though it remains unchanged at a non-competitive 408.</p>

<hr>

<p>My php version 408 characters:</p>

<p>This was a great puzzle. I also spent ages playing with the inputs as these are fascinating things it must be said. Anyway, here is my PHP version (which is nowhere near as good as some of the answers posted but is complete. In 0th position only take above and above right, in 39th position only take above and above left, ie no wrapping. So here is my version:</p>

<pre><code>&lt;?php $a='38,39';$b='';$d=explode(',',$a);for($i=0;$i&lt;40;++$i){$c=' ';
foreach($d as $k=&gt;$v){if($v == $i){$c='x';}}$b.=$c;}echo $b."\n";
for($x=1;$x&lt;41;++$x){$o='';for($i=1;$i&lt;41;++$i){if(($i&gt;1)AND(substr($b,$i-2,1)=='x')){
$l=1;}else{$l=0;}if((substr($b,$i-1,1))=='x'){$v=1;}else{$v=0;}if((substr($b,$i,1))=='x'){
$r=1;}else{$r=0;}if((($l+$v+$r)==2)OR(($v+$r)==1)){$o.='x';}else{$o.=' ';}}
echo $o."\n";$b=$o;}?&gt;
</code></pre>

<p>You can see it and run it here: <a href="http://codepad.org/3905T8i8" rel="nofollow">http://codepad.org/3905T8i8</a> </p>

<p>Input is a input string at the start as $a='38, 39';</p>

<p>Output is as follows:</p>

<pre><code>xx removed as was too long originally - had 50 lines, not 40 xx
</code></pre>

<p>Hope you like it!!!</p>

<p>PS I had to add a few line breaks to the code so you could see all of it and not have it stretch accross the page with a scroll bar.</p>
</div>
<div id="pu16" class="pu"><h1>CJam - 47</h1>

<pre><code>S40*l',/{i'!t}/{N40,S3$S++f{&gt;3&lt;2b137Yb='!^}}39*
</code></pre>

<p>It uses <code>!</code> for "1" cells.</p>

<p>Try it at <a href="http://cjam.aditsu.net/" rel="noreferrer">http://cjam.aditsu.net/</a></p>

<p><strong>Explanation:</strong></p>

<p><code>S40*</code> makes a string (array) of 40 spaces<br>
<code>l',/</code> reads a line and splits by comma<br>
<code>{…}/</code> executes the block for each item (the numbers in string form)<br>
- <code>i'!t</code> converts the number to integer and sets the item at that position in the previous string (initially 40 spaces) to '!'<br>
At this point we have obtained the first line.<br>
<code>{…}39*</code> executes the block 39 times<br>
- <code>N</code> adds a newline<br>
- <code>40,</code> makes the array [0 1 … 39]<br>
- <code>S3$S++</code> copies the previous line (position 3 on the stack) and pads it with a space on each side<br>
- <code>f{…}</code> executes the block for {each number from 0 to 39} and {the padded line}<br>
-- <code>&gt;3&lt;</code> takes a slice of 3 items from the padded line starting at the current number<br>
-- <code>2b</code> converts from base 2; the items we sliced are not base-2 digits, but characters get converted to their ASCII values and ' ' mod 8 is 0 and '!' mod 8 is 1<br>
-- <code>137Yb</code> converts 137 to base 2 (<code>Y</code> = 2), obtaining [1 0 0 0 1 0 0 1], which is 110 reversed and negated (on 8 bits)<br>
-- <code>='!^</code> gets the corresponding base-2 digit (the array wraps around so the index is taken mod 8) and xor's it with the '!' character, resulting in '!' for 0 and ' ' for 1</p>
</div>
<div id="pu17" class="pu"><h1>C - 178</h1>

<p>This code depends on the fact that each row in a matrix is stored in contiguous memory. Also, it does not print the first row, but it prints the next 40 ones, since the rules only specified a 40x40 grid.</p>

<p>Indented for readability only, the byte count only includes necessary code.</p>

<pre class="lang-c prettyprint-override"><code>a[41][42],i,j,*t;
main(){
    while(scanf("%d,",&amp;j)&gt;0)
        a[i][j]=1;
    for(;i&lt;40;i++,puts(""))
        for(j=0;++j&lt;40;)
            t=&amp;a[i][j],
            putchar((*(t+42)=1&amp;(110&gt;&gt;(*(t+1)?1:0)+(*t?2:0)+(*(t-1)?4:0)))?88:32);
}
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Java, 321 characters</h1>

<p>Input passed as argument from command line, for example <code>java R 38,39</code></p>

<p>I have never written more obfuscated java code :-)</p>

<pre class="lang-java prettyprint-override"><code>class R{public static void main(String[]a) {
Integer s=40;boolean[]n,o=new boolean[s];
for(String x:a[0].split(","))o[s.valueOf(x)]=s&gt;0;
for(Object b:o){n=o.clone();
for(int j=0;j&lt;s;j++){
boolean l=j&gt;1&amp;&amp;o[j-1],r=o[j],c=j+1&lt;s&amp;&amp;o[j+1];
n[j]=!(l&amp;c&amp;r|l&amp;!c&amp;!r|!(l|c|r));
System.out.print((r?"X":" ")+(j&gt;s-2?"\n":""));
}o=n;}}}
</code></pre>
</div>
<div id="pu19" class="pu"><h1>Mathematica, 113 chars</h1>
<p>Another Mathematica answer using <code>CellularAutomaton</code>.</p>
<pre><code>Print@@&quot; &quot;[&quot;X&quot;][[#]]&amp;/@CellularAutomaton[110,SparseArray[#+1-&gt;1&amp;/@ImportString[InputString[],&quot;CSV&quot;][[1]],40],39];
</code></pre>
</div>
<div id="pu20" class="pu"><h1>Lua - 351</h1>
<p>Not the ideal language for golfing.</p>
<pre><code>s,n,t,u=arg[1],{},table.remove,table.insert
for i=1,40 do u(n,i,'.') end
for i in s:gmatch(&quot;%d+&quot;)do u(n,i,'x');t(n)end
function a(b) c=&quot;&quot;;for i=1,40 do c=c..b[i] end;print(c);return c end
for i=1,40 do z= n[40]..a(n)..n[1];for k=2,41 do y=string.sub(z,k-1,k+1);if y==&quot;xxx&quot;or y==&quot;x..&quot; or y==&quot;...&quot; then u(n,k-1,'.')else u(n,k-1,'x')end;t(n)end end
</code></pre>
</div>
<div id="pu21" class="pu"><h1>Python - 141</h1>

<pre><code>i=input()
o=range(40)
l=''.join(' X'[c in i]for c in o)
for r in o:print l;l=''.join('X '[l[c-1:c+2]in('XXX','   ','X  ','','  ')]for c in o)
</code></pre>

<p>Run as e.g. <code>python 110.py &lt;&lt;&lt; 38,39</code></p>
</div>
<div id="pu22" class="pu"><h2>Ruby, 113 characters</h2>

<pre class="lang-ruby prettyprint-override"><code>c=[0]*41
eval"[#{gets}].map{|i|c[i]=1}"+'
c=(0..39).map{|x|putc" X"[u=c[x]]
110[4*c[x-1]+2*u+c[x+1]]}&lt;&lt;0;puts'*40
</code></pre>

<p>Takes input on stdin. To use a different rule, simply replace the <code>110</code> in the last line with whatever rule you want to try.</p>

<p>Example:</p>

<pre><code>$ ruby 110.rb &lt;&lt;&lt; 38,39
                                      XX
                                     XXX
                                    XX X
                                   XXXXX
                                  XX   X
                                 XXX  XX
                                XX X XXX
                               XXXXXXX X
                              XX     XXX
                             XXX    XX X
                            XX X   XXXXX
                           XXXXX  XX   X
                          XX   X XXX  XX
                         XXX  XXXX X XXX
                        XX X XX  XXXXX X
                       XXXXXXXX XX   XXX
                      XX      XXXX  XX X
                     XXX     XX  X XXXXX
                    XX X    XXX XXXX   X
                   XXXXX   XX XXX  X  XX
                  XX   X  XXXXX X XX XXX
                 XXX  XX XX   XXXXXXXX X
                XX X XXXXXX  XX      XXX
               XXXXXXX    X XXX     XX X
              XX     X   XXXX X    XXXXX
             XXX    XX  XX  XXX   XX   X
            XX X   XXX XXX XX X  XXX  XX
           XXXXX  XX XXX XXXXXX XX X XXX
          XX   X XXXXX XXX    XXXXXXXX X
         XXX  XXXX   XXX X   XX      XXX
        XX X XX  X  XX XXX  XXX     XX X
       XXXXXXXX XX XXXXX X XX X    XXXXX
      XX      XXXXXX   XXXXXXXX   XX   X
     XXX     XX    X  XX      X  XXX  XX
    XX X    XXX   XX XXX     XX XX X XXX
   XXXXX   XX X  XXXXX X    XXXXXXXXXX X
  XX   X  XXXXX XX   XXX   XX        XXX
 XXX  XX XX   XXXX  XX X  XXX       XX X
XX X XXXXXX  XX  X XXXXX XX X      XXXXX
XXXXXX    X XXX XXXX   XXXXXX     XX   X
</code></pre>
</div>
<div id="pu23" class="pu"><h2>Mathematica, 122 bytes</h2>

<pre><code>f[a_]:=Riffle[CellularAutomaton[110,Array[If[MemberQ[ToExpression["{"&lt;&gt;a&lt;&gt;"}"],#-1],1,0]&amp;,40],39]/.0-&gt;" "/.1-&gt;"X","
"]&lt;&gt;""
</code></pre>

<p>Yes, you might view this as abusing <a href="http://meta.codegolf.stackexchange.com/a/1078/8478">this loophole</a>, but a) that loophole is quite disputed, b) a Cellular Automaton question <em>needs</em> a Mathematica answer (especially one about Rule 110) and c) Ventero's Ruby answer is shorter anyway, so I don't think any harm is done.</p>

<p>Most of the characters are used for input parsing and output formatting. The actual automaton is simulated using</p>

<pre><code>CellularAutomaton[110,initialGrid,39]
</code></pre>

<p>This uses periodic boundary conditions (so the grid wraps around).</p>
</div>
<div id="pu24" class="pu"><h1>Python, 186</h1>

<pre><code>def r(s,m=range(40)):
 s=[int(i in s)for i in m]
 for g in m:print''.join([' X'[i]for i in s]);s=[int(not''.join(map(str,s[i-1:i+2]if i else s[:2]))in'111 100 000 00'.split())for i in m]
</code></pre>

<p>Decent but probably not optimal.</p>

<p>You didn't specify how input is gotten so I just made a function.</p>

<p>Use example:</p>

<blockquote>
  <p>r([38,39])</p>
</blockquote>

<p>Output:</p>

<pre><code>                                      XX
                                     XXX
                                    XX X
                                   XXXXX
                                  XX   X
                                 XXX  XX
                                XX X XXX
                               XXXXXXX X
                              XX     XXX
                             XXX    XX X
                            XX X   XXXXX
                           XXXXX  XX   X
                          XX   X XXX  XX
                         XXX  XXXX X XXX
                        XX X XX  XXXXX X
                       XXXXXXXX XX   XXX
                      XX      XXXX  XX X
                     XXX     XX  X XXXXX
                    XX X    XXX XXXX   X
                   XXXXX   XX XXX  X  XX
                  XX   X  XXXXX X XX XXX
                 XXX  XX XX   XXXXXXXX X
                XX X XXXXXX  XX      XXX
               XXXXXXX    X XXX     XX X
              XX     X   XXXX X    XXXXX
             XXX    XX  XX  XXX   XX   X
            XX X   XXX XXX XX X  XXX  XX
           XXXXX  XX XXX XXXXXX XX X XXX
          XX   X XXXXX XXX    XXXXXXXX X
         XXX  XXXX   XXX X   XX      XXX
        XX X XX  X  XX XXX  XXX     XX X
       XXXXXXXX XX XXXXX X XX X    XXXXX
      XX      XXXXXX   XXXXXXXX   XX   X
     XXX     XX    X  XX      X  XXX  XX
    XX X    XXX   XX XXX     XX XX X XXX
   XXXXX   XX X  XXXXX X    XXXXXXXXXX X
  XX   X  XXXXX XX   XXX   XX        XXX
 XXX  XX XX   XXXX  XX X  XXX       XX X
XX X XXXXXX  XX  X XXXXX XX X      XXXXX
XXXXXX    X XXX XXXX   XXXXXX     XX   X
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/34505/">34505</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




