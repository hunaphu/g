<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::QNNN</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
  <!-- TXXX -->
<tr d-ix="0"><td>155</td><td>Wolfram Language Mathematica</td><td>231120T035612Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/266922#266922">dalamaja</a></td></tr>
<tr d-ix="1"><td>106</td><td>FMSLogo</td><td>231119T102350Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/266893#266893">Jan H</a></td></tr>
<tr d-ix="2"><td>158</td><td>Bash</td><td>231119T124905Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/266899#266899">matteo_c</a></td></tr>
<tr d-ix="3"><td>117</td><td>JavaScript ES6</td><td>210826T091845Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233750#233750">Arnauld</a></td></tr>
<tr d-ix="4"><td>114</td><td>JavaScript V8</td><td>231117T020352Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/266826#266826">l4m2</a></td></tr>
<tr d-ix="5"><td>049</td><td>MathGolf</td><td>210902T105326Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/234977#234977">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>036</td><td>05AB1E</td><td>210825T092700Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233714#233714">ovs</a></td></tr>
<tr d-ix="7"><td>nan</td><td>Java JDK</td><td>210826T082407Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233748#233748">mindover</a></td></tr>
<tr d-ix="8"><td>514</td><td>CSASM v2.5.1</td><td>210827T205923Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233785#233785">absolute</a></td></tr>
<tr d-ix="9"><td>129</td><td>Python 3</td><td>210825T120348Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233722#233722">Jitse</a></td></tr>
<tr d-ix="10"><td>138</td><td>Perl 5</td><td>210825T140727Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233730#233730">Denis Ib</a></td></tr>
<tr d-ix="11"><td>nan</td><td>C#[9.0]   203 Bytes Condensed</td><td>210825T202103Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233739#233739">Hazel へい</a></td></tr>
<tr d-ix="12"><td>137</td><td>C gcc</td><td>210825T160608Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233735#233735">jdt</a></td></tr>
<tr d-ix="13"><td>118</td><td>JavaScript</td><td>210825T150014Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233733#233733">Shaggy</a></td></tr>
<tr d-ix="14"><td>038</td><td>Japt</td><td>210825T100229Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233718#233718">Shaggy</a></td></tr>
<tr d-ix="15"><td>034</td><td>Jelly</td><td>210825T181837Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233738#233738">caird co</a></td></tr>
<tr d-ix="16"><td>114</td><td>Ruby</td><td>210825T225514Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233743#233743">Level Ri</a></td></tr>
<tr d-ix="17"><td>037</td><td>Vyxal rR</td><td>210825T205720Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233741#233741">emanresu</a></td></tr>
<tr d-ix="18"><td>064</td><td>APLDyalog Unicode</td><td>210825T112139Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233720#233720">ovs</a></td></tr>
<tr d-ix="19"><td>051</td><td>Charcoal</td><td>210825T092810Z</td><td><a href="https://codegolf.stackexchange.com/questions/233709/make-me-a-shape/233715#233715">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 155 bytes</h1>
<pre><code>r=RandomInteger
c=RandomChoice
t=Table
StringRiffle[StringJoin/@(Nest[#/.c@#-&gt;&quot;--&quot;&amp;,#,r@2]&amp;/@t[t[#&lt;&gt;#2&amp;@@c@*Characters/@{&quot;RWSC&quot;,&quot;urgbypcw&quot;},4],r@3+1]),&quot;:&quot;]
</code></pre>
<p>The distribution of the non-empty quadrants is uniform, but the distribution of shapes is not, as empty quadrants are generated after the fact.</p>
<p><em>TIO</em> requires two extra bytes for symbol assignment so that the output can be printed.</p>
<p><a href="https://tio.run/##LY1PC4IwHEDvfowJ0p/ZyDpFyg881SFCgw6yw1xThzpj/iIi@uxLqOPj8Xi9wEb1ArUUztk4E@Y29AeDqlbWk39Om0FL5WF8EWWnvDbO0WpTZ7qqOlX84Dhow2B2UiMWPltJ8MOEhCEJqE8tRDxggMWk9okfBQASFmkjrJCo7MjgTbJrnhJKHrYuX3f5JB@65VO4Wa75nJId4e48bRBa9wU" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://fmslogo.sourceforge.io/manual" rel="nofollow noreferrer">FMSLogo</a>, 106 bytes</h1>
<pre><code>show bl map[word pick bf invoke[(crossmap &quot;word ? ? ? ?)]se[--]crossmap &quot;word[RWCS urgbycpw]&quot;:]random 1500
</code></pre>
<p>Don't try it online. The <a href="https://www.calormen.com/jslogo/#" rel="nofollow noreferrer">calormen.com</a> logo interpreter does not support &quot;templates&quot; (which is what logo calls anonymous functions) on map, only procedure names; it's error messages also leave something to be desired.
The program works in FMSLogo 8.3.2 and propably MSWLogo and UCBLogo as well, as FMSLogo is based on them.</p>
<p>Explaination:</p>
<ul>
<li>Logo is based on lisp but allows omitting parentheses around procedures that use their default arity.</li>
<li><code>crossmap</code> generates all possible combinations of the members of its inputs, which can be given in a list. The first input is a function, or &quot;template&quot;, which is passed each combination to combine them.</li>
<li>I don't know a better way to remove the empty layer yet, so the first <code>crossmap</code> generates a 1185921 element list of every possible layer and then <code>bf</code> removes the first one. That's why this program takes approximately 27 seconds to run on my laptop.</li>
<li>Numbers can be coerced to strings in logo, so <code>map</code> maps the big instruction list in the middle over the characters of a random number, which has some length between one and four. <code>repeat 1+random 4[...]</code> would not output the concatenation of the results, and using <code>map[...]iseq random 4 4</code> is 4 characters longer.</li>
<li>I would not be able to tell, of course, but maybe some correlation in the random number generator makes some shapes actually impossible. I am not going to investigate.</li>
</ul>
<p>Anonymous functions can not be called the normal way, unlike in javascript for example. They must be called by <code>apply</code>, <code>map</code>, or similar, which is why I consider</p>
<pre><code>[bl map[word pick bf invoke[(crossmap &quot;word ? ? ? ?)]se[--]crossmap &quot;word[RWCS urgbycpw]&quot;:]random 1500]
</code></pre>
<p>to be an invalid submission.</p>
<p>Alternative much faster 5 characters longer solution, which, unlike the submission, can propably produce empty output:</p>
<h2>FMSLogo, 111 bytes</h2>
<pre><code>show bl map[invoke[if ?=&quot;--------: [&quot;][?]]word map[pick se[--]crossmap &quot;word[RWCS urgbcypw]]1234 &quot;:]random 1500
</code></pre>
<p>Sample shape: <code>CpCuRpSc:SwSuCcWr:Sb--RwSb</code> (everyone seems to do this)</p>
<p><a href="https://i.stack.imgur.com/cvq6x.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/cvq6x.png" alt="A Shape" /></a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a>, 158 bytes</h1>
<pre class="lang-bash prettyprint-override"><code>p='eval printf %s, '
s=$($p {S,W,C,R}{u,g,b,r,y,c,p,w})--
l=`$p{$s}{$s}{$s}{$s}`
$p{$l}:{$l}:{$l}:{$l}|tr , \\n|sed -E &quot;s/-{4}(:|$)//g;/(^|:)(:|$)/d&quot;|shuf -n1
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kKbE4Y8GCpaUlaboWN-cV2KqnliXmKBQUZeaVpCmoFusoqHMV26poqBQoVAfrhOs46wTVVpfqpOsk6RTpVOok6xTolNdq6upy5dgmqBRUqxTXIuMELpBYTq0VKlFTUqSgoxATk1dTnJqioOuqoFSsr1ttUqthVaOiqa-fbq2vEVdjpQnhpijVFGeUpino5hlCXAl1LMzRAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu3" class="pu"><h1>JavaScript (ES6), 117 bytes</h1>
<p><em>-2 thanks to <a href="https://codegolf.stackexchange.com/users/76323/l4m2">@l4m2</a></em></p>
<p>Although this is not required, this solution has a uniform distribution.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(k=(R=Math.random)()*4|0,q=R(n=4)*1185920)=&gt;n--?f(k,q/33)+'SWCR-'[((q%=33)&amp;35)%7]+'ugbrycpw-'[q&gt;&gt;2]:k?f(k-1)+':':''
</code></pre>
<p><a href="https://tio.run/##LYu7DoJAFAV/ZRvkXmCRZ1R0sbC2wcLCUCAvEdyFBTUm/juiMaeZnMlck0fSp7JqB8pFlo9jwaBmELF9MlxMmfBM3BBQ896W0bEIOPNQs@2lv3IsZCGndFtAbXRz10VdPRx3EVVPAJ3CpmPm@qgsYl29l2f5Stvn5LowdOKg/lbUnpJgmjoWQkI15JIwYq3JjzbE@aOuI0kF70WTm40ooQDE8QM" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>,<s> 117 116 </s>114 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(k=n=5*~R(4))=&gt;++n?n%5?R(~k%5)?'--'+f(k+1):'SWCR'[R(4)]+'ugbrycpw'[R(8)]+f(k):':'+f(n):''
R=n=&gt;Math.random()*n|0
</code></pre>
<p><a href="https://tio.run/##FcxBC4IwHAXwe99D9v87lAkJok0PnbusQ4fosMxZaZtMM4Pwq9uEd3g8frynHGVf2kc3BGOyKO4CDdc89mcBW0SeU6oL7cWFgLnxYixIEBCqoKERpuR42gtyXuWFknd9td@y@6xD4gaHHElXrV0hG@GO84Mc7qGV@mZegL7@sUUZCxNn2UTpLmIsw9Lo3rRV2JoaFCAufw" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<p>If already <span class="math-container">\$k\$</span> empty in this layer, then there's <span class="math-container">\$\frac 1{4-k}\$</span> probably be not empty, aka 1 when already 3 empty</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/maxbergmark/mathgolf/blob/master/math_golf.txt" rel="nofollow noreferrer">MathGolf</a>, 49 <a href="https://github.com/maxbergmark/mathgolf/blob/master/code_page.py" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>{╘4{4{&quot;CRSW&quot;w&quot;bcgpruwy&quot;w+v¶╛æ;û--}Γy}Γ'-8*a-}↔':u
</code></pre>
<p><a href="https://tio.run/##y00syUjPz0n7/7/60dQZJtUm1UrOQcHhSuVKScnpBUWl5ZVK5dplh7Y9mjr78DLrw7t1dWvPTa4EYnVdC61E3dpHbVPUrUr//wcA" rel="nofollow noreferrer">Try it online.</a></p>
<p>The first output was: <code>CwRuRrRw:RpSwSbRp:RcWpRpCu:CpWwWgWc</code>:<br />
<a href="https://i.stack.imgur.com/EnkXXs.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/EnkXXs.png" alt="enter image description here" /></a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>{ ... }↔          # Do while false without popping:
 ╘                #  Empty the stack (in case we've encountered a fully empty result)
  4{              #  Loop 4 times:
    4{            #   Inner loop 4 times:
      &quot;CRSW&quot;w     #    Push a random character from &quot;CRSW&quot;
      &quot;bcgpruwy&quot;w #    Push a random character from &quot;bcgpruwy&quot;
       +          #    Concat these two characters together
        v         #    Push a random integer in the range [-2147483648,2147483647]
         ¶╛       #    If this integer is a prime number,
           æ      #    use the following four character as inner code-block:
            ;     #     Discard the earlier character pair
             û--  #     Push &quot;--&quot;
     }            #   After the inner loop:
      Γ           #   Wrap the top four items into a list
       y          #   And join this list together to a single string
   }              #  After the outer loop:
    Γ             #  Wrap the top (up to) four items into a list
     '-8*a-      '#  Remove any strings consisting of 8 &quot;-&quot;
}↔                # After the do-while false:
  ':u            '# Join the list with &quot;:&quot; delimiter
                  # (after which the entire stack is output implicitly as result)
</code></pre>
<p>Compressed strings are pretty mediocre in MathGolf, so unfortunately it won't save any bytes here. <code>&quot;CRSW&quot;w</code> can be <a href="https://tio.run/##y00syUjPz0n7///R1GlAlKBerl1@bsv//wA" rel="nofollow noreferrer"><code>╖╖`'w+wδ</code></a> which is 1 byte longer, and <code>&quot;bcgpruwy&quot;</code> can be <a href="https://tio.run/##ASEA3v9tYXRoZ29sZv//4pWV4paI4omI4pWR4pi6ICd1w595//8" rel="nofollow noreferrer"><code>╕█≈║☺ 'ußy</code></a> which is the same byte-count.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, <s>35</s> <s>40</s> <s>38</s> 36 bytes</h1>
<p>+5 to prevent empty output which would've occured with probability <span class="math-container">\$33^{-16}\$</span><br />
-2 bytes thanks to Kevin Cruijssen!</p>
<p>Quite slow, generates <span class="math-container">\$33^4\$</span> possible layers 4 times and chooses a random one each time. Layers of all <code>-</code> are removed.</p>
<pre><code>[₄ε‘¥„W‘’»Õpcw’â„--ª4ãΩJ}'-8×K':ýDĀ#
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f8/@lFTy7mtjxpmHFr6qGFeOJDxqGHmod2HpxYklwNZhxcBRXV1D60yObz43EqvWnVdi8PTvdWtDu91OdKg/P//f13dvHzdnMSqSgA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<p>At the cost of two bytes this can actually run fast: <a href="https://tio.run/##yy9OTMpM/f8/2tDM59zWRw0zDi191DAvHMh41DDz0O7DUwuSy4Gsw4uAorq6h1adW1lrcniLl7quxeHp3upWh/e6HGlQ/v8fAA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<p>Because every quadrant in each layer has a <span class="math-container">\$1\$</span> in <span class="math-container">\$33\$</span> chance of being empty the resulting shapes are quite noisy:</p>
<p><a href="https://i.stack.imgur.com/KqmFo.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/KqmFos.png" alt="SpSgCgRy:CyRgRcSw:RrCuScRu:ScSyWuCp" /></a></p>
<hr />
<pre class="lang-python prettyprint-override"><code>[    ...    Dg#              # until the the output is not empty, do the following:

₄                            # push constant 1000
  ε                     }    # for each digit in this number:
   ‘¥„W‘                     #   dictionary compressed string &quot;SRCW&quot;
        ’»Õpcw’              #   dictionary compressed string &quot;rugbypcw&quot;
               â             #   cartesian product of the two strings
                „--ª         #   append &quot;--&quot; to this list
                    4ã       #   4th cartesian power, all 4-element combinations from the length-2 strings
                      Ω      #   choose a random one
                       J     #   join into a single string

'-8×                         # string of 8 -'s
    K                        # remove all occurences from the list
     ':ý                     # join the list by &quot;:&quot;
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="http://jdk.java.net/" rel="nofollow noreferrer">Java (JDK)</a>, <sup><del>263</del></sup> 253 bytes</h1>
<p>-10 thanks to ceilingcat! Forgot that <code>|</code> exists and that ternary <code>if</code>s can be written without parentheses. D'oh!</p>

<pre class="lang-java prettyprint-override"><code>String f(int i){var r=new Random();var q=&quot;&quot;+&quot;SWCR-&quot;.charAt(r.nextInt(5));q+=q.equals(&quot;-&quot;)?'-':&quot;ugbrycpw&quot;.charAt(r.nextInt(8));return i&lt;1?(f(2)+f(2)+f(2)+f(3)).substring(1):i&lt;9?i&gt;2|r.nextInt(2)&lt;1?(&quot;:&quot;+f(9)+f(9)+f(9)+f(9)).replace(&quot;:--------&quot;,f(1)):&quot;&quot;:q;}
</code></pre>
<p><a href="https://tio.run/##bZA9T8MwEIb3/IqTl/oUYqVFSDRuqBATAwztwIAY3MQpLomTOE5LVfrbg9NEAiE8vNJ9vHfnZyf2ItilH50qqtJY2LmYtVblbCV0Whbc85JcNA08CaVPHoDSVppMJBKe@xBgbY3SW0ioq4BG7pJnz0ljhVUJdGM9u9QVnvbCgIm1PMCwgSLvU3VMiE/WLw@rgLDkXZh7Sw3T8tM@aktvEHntxzWTdSvyhpKA4HISTCLSbjfmmFSHf0y3zmSkbY0GtZguaUZn6P@Wa0TWtJvmciGdYqQW86W6m339zJhh7yQRce1z/CPIjKxyx8I1BOMjV5mbhBEhUc3PHe9RVO0mdyhGIvtSpVA4nHRA8/oGAgeWkJUGBlAQQ8j7u8OQK99HGBp64MfGyoKVrWWV89tcu5@FOJI/d98" rel="nofollow noreferrer" title="Java (JDK) – Try It Online">Try it online!</a></p>
<p>Took forever to find something promising, ow my head...
This won't win any prices, but I liked the approach so here it is anyways. It uses the same function recursively with a different parameter to build different parts of the string.<br />
I hope I find the template for Java lambdas again, I keep forgetting how the boilerplate needs to look for them to work :(</p>
<h2>EDIT:</h2>
<p>Function lamdas aren't shorter in this case, since you don't call but <code>apply()</code> them, which is WAY longer. Still, thanks for the template <code>Johan du Troit</code>!</p>
<h3>Explained:</h3>
<pre class="lang-java prettyprint-override"><code>// function is called with 0 to start
String f(int i) {
    // use var because it's shorter
    var r=new Random();

    // build a quadrant
    // decide on a type...
    var q=&quot;&quot;+&quot;SWCR-&quot;.charAt(r.nextInt(5));
    // ...and append the color. If the type is &quot;-&quot; then append a &quot;-&quot; instead
    q+=q.equals(&quot;-&quot;)?'-':&quot;ugbrycpw&quot;.charAt(r.nextInt(8));
    
    // decide what to return
    return 
    // shape case: build full shape
    i&lt;1?
      // a shape consists of four layers
      // each layer starts with a :, cut the first one off
      (f(2)+f(2)+f(2)+f(3)).substring(1)

    // not the starting case, check for layer case
    :i&lt;9?
      // build one layer. It either doesn't exist or contains four shapes
      // note: 3 overrides the random decision and always returns a layer
      i&gt;2|r.nextInt(2)&lt;1?
        // replace an empty layer with a newly generated one...
        (&quot;:&quot;+f(9)+f(9)+f(9)+f(9)).replace(&quot;:--------&quot;,f(1)) 
        // ...or return a nonexistant layer
        :&quot;&quot;
    // not the shape case nor the layer case, return the quadrant calculated above
    :q;
}
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/absoluteAquarian/CSASM/releases/tag/v2.5.1" rel="nofollow noreferrer">CSASM v2.5.1</a>, 514 bytes</h1>
<pre><code>func a:
lda 0
sta $1
lda &quot;&quot;
sta $2
push 1
push 5
extern Random.Next(i32,i32)
pop $a
.lbl a
push $a
brfalse b
dec $a
push 0
pop $1
push &quot;&quot;
pop $3
.lbl c
push $1
push 4
sub
brfalse d
inc $1
push &quot;RWSC-&quot;
push 5
extern Random.Next(i32)
dup
push 1
add
substr
dup
push &quot;-&quot;
sub
len
brtrue f
dup
add
br e
.lbl f
push &quot;urgbypcw&quot;
push 8
extern Random.Next(i32)
dup
push 1
add
substr
add
.lbl e
push $3
swap
add
dup
pop $3
push &quot;--------&quot;
sub
len
brtrue c
push 0
pop $1
push &quot;&quot;
pop $3
br c
.lbl d
push $2
push $3
add
pop $2
push $a
brfalse a
push $2
push &quot;:&quot;
add
pop $2
br a
.lbl b
push $2
print
ret
end
</code></pre>
<p>Whew, this was one mammoth of a program to write.</p>
<p>This submission defines a function <code>a</code> which generates then prints the random shape string as is specified by the challenge.</p>
<hr />
<p><strong>Explained:</strong></p>
<pre><code>func a:
    ; $a = random value in [1, 4]
    ; $1 = loop counter for quadrants
    ; $2 = final string
    ; $3 = build string
    lda 0
    sta $1

    ; Initialize $2 to an empty string
    lda &quot;&quot;
    sta $2
    
    ; Initialize $a to the random value specified above
    push 1
    push 5
    extern Random.Next(i32,i32)
    pop $a

    .lbl a
        ; Stop looping if $a == 0
        push $a
        brfalse b
        dec $a

        ; Reset $1 and $3
        push 0
        pop $1
        push &quot;&quot;
        pop $3

        .lbl c
            ; Stop looping if $1 == 4
            push $1
            push 4
            sub
            brfalse d
            inc $1
            
            ; Get a random letter in &quot;RWSC-&quot;
            push &quot;RWSC-&quot;
            push 5
            extern Random.Next(i32)
            dup
            push 1
            add
            substr

            ; Check if the letter was &quot;-&quot;
            dup
            push &quot;-&quot;
            sub
            len
            brtrue f
            ; Letter was &quot;-&quot;; just add the other one
            dup
            add
            br e
        .lbl f
            ; Letter was not &quot;-&quot;; Get the color
            push &quot;urgbypcw&quot;
            push 8
            extern Random.Next(i32)
            dup
            push 1
            add
            substr

            ; Add the two parts together
            add
        .lbl e
            ; Add the new piece to $3
            push $3
            swap
            add
            dup
            pop $3

            ; Check $3.  If it's &quot;--------&quot;, generate another layer
            push &quot;--------&quot;
            sub
            len
            brtrue c
            
            ; Reset the quadrants counter and build string
            push 0
            pop $1
            push &quot;&quot;
            pop $3

            br c
        .lbl d
            ; Append the layer to the result
            push $2
            push $3
            add
            pop $2
            
            ; If $a == 0, don't add the &quot;:&quot;
            push $a
            brfalse a
            push $2
            push &quot;:&quot;
            add
            pop $2
            br a
.lbl b
    ; Print the result
    push $2
    print
    ret
end
</code></pre>
<hr />
<p>The first run of this code produce the following shape:<br />
<code>--Cp----:--RgSg--:CgRwWbRr:WyWpWwWw</code>
<a href="https://i.stack.imgur.com/eOHxy.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/eOHxy.png" alt="Shape" /></a></p>
<p>More examples of shapes generated by the code:</p>
<pre><code>--ScWyRp
WuWuCbRg:--RbSwRc:CwRuWrCb
CgSgRpCb:Cu--SrRb
Wc--CcCg:----CrRu
SyCbWc--
SrCbSc--:----WrWb
Ry--CgSr:--Cp--Sw
--CwWpCc:CbCpRcSy:CpWw--Cy:--Ru----
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 129 bytes</h1>

<pre class="lang-python prettyprint-override"><code>from random import*
print(':'.join(''.join(sample(q,4))for q in[[i+j for i in'RWSC'for j in'urgbypcw']*4+['--']*3]*randint(1,4)))
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/7/P60oP1ehKDEvBUhl5hbkF5VocRUUZeaVaKhbqetl5WfmaahD6eLE3IKcVI1CHRNNzbT8IoVChcy86OhM7SwFEC8TyFMPCg92VgfxskC80qL0pMqC5HL1WC0T7Wh1XV0gwzhWC2QbyAJDkEGa//8DAA" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>For each layer, 4 items are picked from a distribution containing 3 empty quadrants and the other shape-colour combinations 4 times.</p>
</div>
<div id="pu10" class="pu"><h2><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, <s>95</s> 138 bytes</h2>

<pre class="lang-perl prettyprint-override"><code>{@q=(qw(: --),map{$s=$_;map$s.$_,ugbrycpw=~/./g}C,R,W,S);@i=map$_%5?$==1+rand
33:0,1..rand 19;@i%5==4&amp;&amp;&quot; @i &quot;!~/ (1 ){4}/||redo;say@q[@i]}
</code></pre>
<p><a href="https://tio.run/##FcrdCoIwGIDh865iyRSluTV0Bzk@GnQHddBBhFiKCP3ohon4c@tLz94XnrrQL2FbU6CfoHwv7aAa8JvOT1AYBuSd1QM2gFO5FDYUp6QtH7p/1h3MjLJyOpEzuZJLIFUFq0ldccQAfKezT76JomRPOKXrIH5YkCsAYs9zkKqQs50Z8jkKhnhi46iL/CtN1qvmpqr7ZO0f" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1>C#<sub>[9.0]</sub> - <s>191, 235, 228, 204,</s> 203 Bytes (Condensed)</h1>
<pre><code>static Random r=new();static string g(){var z=&quot;&quot;;for(int j,i,l=r.Next(1,4);l--&gt;0;z+=&quot;:&quot;)for(i=j=0;i++&lt;4;)z+=r.Next()%8&lt;1&amp;&amp;j++&lt;3?&quot;--&quot;:$&quot;{&quot;CRWS&quot;[r.Next(0,3)]}{&quot;rgbypcuw&quot;[r.Next(0,7)]}&quot;;return z.Trim(':');}
</code></pre>
<ul>
<li><code>+44</code> bytes due to a missed requirement.</li>
<li><code>-5</code> bytes by reducing <code>GetShape</code> to <code>g</code> per <a href="https://codegolf.stackexchange.com/users/100664/emanresu-a">@emanresu A</a>'s recommendation.</li>
<li><code>-24</code> bytes by using <code>var</code>, consolidating declarations and using constant strings per <a href="https://codegolf.stackexchange.com/users/41374/johan-du-toit">@Johan du Toit</a>.</li>
<li><code>-1</code> byte by swapping <code>==0</code> for <code>&lt;1</code> per <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">@ceilingcat</a>.</li>
</ul>
<h4>How it Works</h4>
<pre><code>// Create a new random number generator using C# 9.0's `new` invocation.
static Random r = new();
static string g() {

    // Create a variable to store the possible shapes.
    string s = &quot;CRWS&quot;,

            // Create a variable to store the possible colors.
            c = &quot;rgbypcuw&quot;,

            // Create a variable to store the result.
            z = &quot;&quot;;

    // Create an iteration variable to iteratively create between 1 and 4 layers randomly.
    // Evaluate for stop then decrement.
    // Append `:` to the result.
    for (int l = r.Next(1, 4); l-- &gt; 0; z+=&quot;:&quot;)

        // Create an iteration variable to iteratively create the four quadrants.
        // Create a variable for tracking the number of empty quadrants.
        for (int i = 0, j = 0; i++ &lt; 4;)

            // If we haven't reached the maximum number of allowed empty quadrants, a new one can still be added.
            // Use a random number to determine if we should create an empty quadrant.
            // Since &amp;&amp; short circuits, the increment of J doesn't occur unless we're adding an empty quadrant.
            if (r.Next() % 8 == 0 &amp;&amp; j++ &lt; 3)

                // Add an empty quadrant.
                z += &quot;--&quot;;

            // Otherwise, add a shape and color from the variables above,
            //      using a random index within the bounds of the variables lengths.
            else
                z += $&quot;{s[r.Next(0, 3)]}{c[r.Next(0, 7)]}&quot;;

    // Return the result and remove any trailing `:`.
    return z.Trim(':');
}
</code></pre>
<h4>Sample Output</h4>
<p>I called the method in a <code>for</code> loop over 10 iterations to sample the output for this post:</p>
<pre><code>--CyCpCb:RpCu--Rc
RpCyWbWc:RcWuWyWc
CyWy--Cr:RrWpWuWg
Wp--WuRc
RpCcCgWp
CbWuWgCu:--RcRbWg:CcCuCpCc
RgRpCyCu:CbWyWuCu
CgCuRpCu
CyRc--Ru:WuRuRbRu:--CgRbWr
WpCgCpRu
</code></pre>
<h4>Resulting Image Sample</h4>
<p>I ran the shape code <code>CbWuWgCu:--RcRbWg:CcCuCpCc</code> through and got this result:
<a href="https://i.stack.imgur.com/JUhy8.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/JUhy8.png" alt="Screenshot of the image produced by the aforementioned code." /></a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 137 bytes</h1>

<pre class="lang-c prettyprint-override"><code>#define r rand()
m;b;q(){m=r;m&amp;30||q();}f(){for(q(b=5+r%4*5);--b;)printf(b%5?m&amp;1&lt;&lt;b%5?&quot;%c%c&quot;:&quot;--&quot;:&quot;:&quot;+!q(),&quot;WRSC&quot;[r%4],&quot;rugbywcp&quot;[r%8]);}
</code></pre>
<p><a href="https://tio.run/##HU5NC4IwAL37K9ZC2dKBUUI4pUP/oA4dwoObTgZt6TQk1L/eml0e7z14H5w0nFu7rWohdQ0MMKWuEPYUZbRDeFK5oSo4xPPsFF2Es8TLoA6xPAmNf9wlmBLCKG6N1INAzE/OKthn2Uqgz30OU0iIgxSGG9cRwfv1doEPly0iaN4N@4y8XfWpcANWlVIjDCYPgP7/ZZCqRjHG1DlunnqL/XLxLJvekvEH" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>-5 bytes thanks ceilingcat!</p>
</div>
<div id="pu13" class="pu"><h1>JavaScript, <s>125</s> <s>120</s> <s>119</s> <s>115</s> <s>112</s> 118 bytes</h1>
<p>To avoid the possibility of an empty layer, we force the 4th quadrant to be non-empty <em>if</em> all previous quadrants are already empty (+6 bytes 'cause I realised I'd screwed that up).</p>
<p>Need to figure out a way to shorten the selection of the characters.</p>
<pre class="lang-javascript prettyprint-override"><code>(r=x=&gt;Math.random(g=s=&gt;s[7]?l--?s+`:`+g``:s:g(s+`RWSC-`[c=r(5^s==`------`)]+`urgbypcw-`[c-4?r(8):8]))*x|0,l=r(4))=&gt;g``
</code></pre>
<p><a href="https://tio.run/##HYyxDoIwFEV/p89aUhOMpPhgcHbRwYFgWlGqplLSItbEf6/o3U5Ozr2rUfnG3fqBjVlsMRKHAYutGq6JU93ZPohGj4WvVnVpGCs9lUJSLaXwQpOJdof9hsmqQUeWR48o2X8SaiqfTp/effP6eZaWjmQgshpgFj58bqYiBcBiOoutdSQgzwOl6wXnOTS289ZcEmM1aQlA/AI" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>40</s> <s>39</s> 38 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>This version has a <em>very</em> high probability of having all 4 layers, using a similar approach as <a href="https://codegolf.stackexchange.com/a/233743/58974">Level's Ruby solution</a> of generating all 4 layers, removing the ones consisting entirely of empty quadrants and making a recursive call if there are none left.</p>
<pre><code>4Æ&quot;RWCS&quot;ï`Õ½wbgp` p-² ö4 qÃfÈr-Ãq': ªß
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=NMYiUldDUyLvYNW9d2JncGAgcC2yIPY0IHHDZshyLcNxJzogqt8" rel="nofollow noreferrer">Test it</a></p>
<h2>Original, 39 bytes</h2>
<pre><code>Ò4ö)ÆÈr-}a@&quot;RWCS&quot;ï`Õ½wbgp` p-² ö4 q
q':
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=0jT2KcbIci19YUAiUldDUyLvYNW9d2JncGAgcC2yIPY0IHEKcSc6" rel="nofollow noreferrer">Test it</a></p>
<pre><code>Ò4ö)ÆÈr-}a@&quot;RWCS&quot;ï`Õ½wbgp` p-² ö4 q\nq':
Ò                                            :Negate the bitwise not of (i.e., increment)
 4ö                                          :  Random int in the range [0,4)
   )                                         :End bitwise op
    Æ                                        :Map the range [0,Ò4ö)
     È                                       :  Left function taking a string as argument
      r-                                     :    Remove all &quot;-&quot;s
        }                                    :  End function
         a                                   :  Return the first result of the right function that returns truthy (non-empty string) when passed through the left
          @                                  :  Right function
           &quot;RWCS&quot;ï                           :    Cartesian product of &quot;RWCS&quot; and
                  `Õ½wbgp`                   :      Compressed string &quot;ucrywbgp&quot;
                           p                 :    Push
                            -²               :      &quot;-&quot; duplicated
                               ö4            :    Choose 4 random elements
                                  q          :    Join
                                     q':     :Join with &quot;:&quot;
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>38</s> <s>35</s> 34 bytes</h1>
<pre><code>“SWCR”p“¬,ĖṆḷ⁸»Żṗ4XʋⱮ4ẸƇƊṆ¿o⁾--j”:
</code></pre>
<p><a href="https://tio.run/##y0rNyan8//9Rw5zgcOegRw1zC4DMQ2t0jkx7uLPt4Y7tjxp3HNp9dPfDndNNIk51P9q4zuThrh3H2o91AaUP7c9/1LhPVzcLqM3q/38A" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>This <em>just</em> about finishes on TIO most of the time (it has a <span class="math-container">\$1\$</span> in <span class="math-container">\$33^{16}\$</span> chance of taking longer), taking around 55 seconds. Full program, as we require Jelly's smash-printing to get the correct output</p>
<p>-4 bytes thanks to <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">Jonathan Allan</a>!</p>
<p>The first sample output I got was:</p>
<p><a href="https://i.stack.imgur.com/jk18Ls.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/jk18Ls.png" alt="generated shape" /></a></p>
<p><a href="https://viewer.shapez.io?SbSyRwWy.WwWgRyCg.RrScRuWc.WgCyRuCr" rel="nofollow noreferrer">External link</a></p>
<h1>How it works</h1>
<pre><code>“SWCR”p“¬,ĖṆḷ⁸»Żṗ4XʋⱮ4ẸƇƊṆ¿o⁾--j”: - Main link. No arguments. Left argument = 0
                        Ɗ          - Group the previous 3 links into a monad f(_): (ignores the argument)
“SWCR”                             -   Set the return value to “SWCR”
                   ʋ               -   Group the previous 4 links into a dyad g(“SWCR”, i): (ignores i)
       “¬,ĖṆḷ⁸»                    -     Compressed string: “rugbypcw”
      p                            -     Cartesian product with “SWCR”
               Ż                   -     Prepend a zero (represents “--”)
                ṗ4                 -     4th Cartesian power
                  X                -     Choose a random list
                    Ɱ4             -   Yield [g(“SWCR”,1), g(“SWCR”,2), g(“SWCR”,3), g(“SWCR”,4)]
                      ẸƇ           -   Remove any that are just zeros
                          ¿        - While:
                         Ṇ         -   The left argument is falsey ([] or 0)
                        Ɗ          -   Set the left argument to f(_)
                           o⁾--    - Replace all zeros with “--”
                               j”: - Join by ”: and smash-print
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>117</s> 114 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;{s=((0..19).map{|i|i%5&lt;1??::&quot;-SWCR&quot;[(r=rand 40)/8]+&quot;rgbpucyw-&quot;[r&lt;8?8:r%8]}*'').gsub ?:+?-*8,''
s&gt;''?s[1,99]:f[]}
</code></pre>
<p><a href="https://tio.run/##HcjBCoMgAADQ@74ihFArXcEGKpWH/cF22EE8ZFvhoRGajLC@vcHe8blg1mNoDtJG3yBUUlpxTKdujpvdbHqtKymFAOTxvN2BQq5x3eeVXEp8ZjoHbjRz6NcvAcrVTDLhUqb3DEJMRx9MIkUuScYKCE@@hVB6VRWcazEovR@c08VObx/nsPjkXz8" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>A function returning a string.</p>
<p><strong>Commented code (original version)</strong></p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;{s=
 ((0..19).map{|i|i%5&lt;1?     #Iterate 20 times to make an array. if i%5==0  
 ?::                        #put a colon, else...
  &quot;-SWCR&quot;[(r=rand 40)/8]+   #Select a shape
  (r&lt;8??-:&quot;rgbpucyw&quot;[r%8])  #If selected shape is - then put another -, else put a colour
  }*'').                    #Convert the 20-element array into a string
  gsub(?:+?-*8,'')          #Delete all instances of :--------
  s&lt;?!?f[]:s[1,99]}         #If s is empty, recursively call f[] to try again. Else output s (minus the initial colon) 
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>rR</code>, 37 bytes</h1>
<pre><code>\:4℅ƛ«3⟩∑ḣ`«`SWRC`Ẋ‛--J33²²‹℅τ∑₅8ε-;j
</code></pre>
<p><a href="https://lyxal.pythonanywhere.com?flags=rR&amp;code=%5C%3A4%E2%84%85%C6%9B%C2%AB3%E2%9F%A9%E2%88%91%E1%B8%A3%60%C2%AB%60SWRC%60%E1%BA%8A%E2%80%9B--J33%C2%B2%C2%B2%E2%80%B9%E2%84%85%CF%84%E2%88%91%E2%82%858%CE%B5-%3Bj&amp;inputs=&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>This uses a quite neat custom-base-decompression-based approach to ensure there'll never be an empty layer. It basically generates a random number between 1 and <span class="math-container">\$33^4 - 1\$</span>, decompresses it with the key as all possible quadrants (with <code>--</code> first, so 0 can never occur, so empty layers won't either).</p>
<pre><code>  4℅ƛ                              ;  # array of length (random 1-4) filled with...
                       33²²‹℅         # Random integer between 1 and 33^4-1 inclusive 
                             τ        # Decompressed by...
                  Ẋ                   # Cartesian product of...
     «3⟩∑ḣ`«                          # Compressed string `bcgpruwy`
            `SWRC`                    # String literal `SWRC`
                   ‛--J               # Prepend a `--`
                              ∑       # Concatenate all this
                               ₅8ε-   # Pad with `-` from the start
                                    j # Join the whole thing by...
\:                                    # Semicolons.
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://dyalog.com" rel="nofollow noreferrer">APL(Dyalog Unicode)</a>, <sup><s></s></sup>64 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a></sup></h1>
<p>A full program that prints the shape.</p>
<pre><code>⊃{∊⍺':'⍵}/{∊((⊂'--'),,'RWCS'∘.,'urgbypcw')[?4⍴33]}⍣{∨/'-'≠⍺}¨⍳?4
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=AwA&amp;c=e9TVXP2oo@tR7y51K/VHvVtr9UFcDY1HXU3qurrqmjo66kHhzsHqjzpm6OmolxalJ1UWJJera0bbmzzq3WJsHFv7qHcxUMsKfXVd9UedC4AG1R5a8ah3s70JAA&amp;f=AwA&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=tradfn&amp;n=f" rel="nofollow noreferrer">Try it on APLgolf!</a></p>
<p><code>?4</code> random integer between 1 and 4<br />
<code> ... ¨⍳</code> call the function on the left this many times and collect the results in a list:</p>
<p><code>{ ... }⍣{∨/'-'≠⍺}</code> until any char in the result is not <code>-</code>:<br />
<code>'RWCS'∘.,'urgbypcw'</code> Cartesian product of the two strings<br />
<code>,</code> flatten into a list of 2-char strings<br />
<code>(⊂'--'),</code> prepend the empty quadrant<br />
<code>( ... )[?4⍴33]</code> get elements at 4 random indices between 1 and 33.<br />
<code>∊</code> flatten into a string</p>
<p><code>{∊⍺':'⍵}/</code> join with <code>:</code><br />
<code>⊃</code> get the first element from the nested output</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 51 bytes</h1>
<pre><code>⪫ＥＥ⊕‽⁴⊕‽⊖Ｘ³³¦⁴⭆Ｅ⁴÷ιＸ³³λ⎇﹪λ³³⁺§RWSCλ§urgbypcw÷λ⁴--¦:
</code></pre>
<p><a href="https://tio.run/##bY49C4MwEIb/Ssh0Qpzi1E6lLhYE0ULnNAk2EBNJo9Zfn0altUOH446H9@P4gzlumQ6hcsp4uFhloGT9OoXhTnbSeCmgZkbYDrIkIegPz@WOKjtJB5QSFNXJYmh8DG8/sdmS4HM1KiFBEbTr9aq@SmeYm6G0YtAWNEGURlzp4QknXxghX4DrW3PGi4OgLxtce597PuHfAr29QRBOU7wdh7iPIYR01G8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>    ‽⁴                                              Random integer 0-3
   ⊕                                                Incremented
  Ｅ                                                 Map over implicit range
         Ｘ³³¦⁴                                      33⁴
        ⊖                                           Decremented
       ‽                                            Random integer
      ⊕                                             Incremented
 Ｅ                                                  Map over random integers
               Ｅ⁴                                   Map over quadrants
                 ÷ι                                 Current random integer
                 ÷                                  Integer divide by
                    ³³                              Literal integer `33`
                   Ｘ                                Raised to power
                      λ                             Current quadrant
              ⭆                                     Map over values and join
                         λ                          Current value
                        ﹪ ³³                        Modulo literal `33`
                       ⎇                            If nonzero then
                             §RWSCλ                 Cyclically indexed colour
                            ⁺                       Concatenated with
                                   §urgbypcw        Shape cyclically indexed by
                                             λ      Current value
                                            ÷       Integer divide by
                                              ⁴     Literal integer `4`
                                               --   Else literal string `--`
⪫                                                 : Join with literal `:`
                                                    Implicitly print
</code></pre>
</div>
<!-- TYYY -->

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/QNNN/">QNNN</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




