<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::31822</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>112</td><td>Raku Perl 6 rakudo</td><td>241213T204226Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/277253#277253">xrs</a></td></tr>
<tr d-ix="1"><td>nan</td><td>PHP 8.3 145char</td><td>231210T181929Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/267419#267419">Willtech</a></td></tr>
<tr d-ix="2"><td>063</td><td>APLNARS</td><td>231213T062801Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/268508#268508">Rosario</a></td></tr>
<tr d-ix="3"><td>153</td><td>PHP</td><td>231210T120749Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/267417#267417">lukas.j</a></td></tr>
<tr d-ix="4"><td>7125</td><td>Vyxal ṡ</td><td>231206T150829Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/267333#267333">pacman25</a></td></tr>
<tr d-ix="5"><td>011</td><td>Husk</td><td>210301T031102Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/220005#220005">Razetime</a></td></tr>
<tr d-ix="6"><td>019</td><td>Japt</td><td>190301T213344Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/180717#180717">Oliver</a></td></tr>
<tr d-ix="7"><td>071</td><td>Mathematica</td><td>140620T040617Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/32090#32090">mfvonh</a></td></tr>
<tr d-ix="8"><td>255</td><td>TSQL2012+</td><td>140619T164455Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/32053#32053">Michael </a></td></tr>
<tr d-ix="9"><td>075</td><td>Python 2</td><td>140619T003134Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/32019#32019">xnor</a></td></tr>
<tr d-ix="10"><td>087</td><td>Perl</td><td>140616T194819Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31889#31889">Zaid</a></td></tr>
<tr d-ix="11"><td>265</td><td>C#</td><td>140616T143109Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31858#31858">Erez Rob</a></td></tr>
<tr d-ix="12"><td>113</td><td>C</td><td>140616T062040Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31826#31826">millinon</a></td></tr>
<tr d-ix="13"><td>344</td><td>TSQL 2008+</td><td>140617T173344Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31947#31947">comforta</a></td></tr>
<tr d-ix="14"><td>129</td><td>AWK</td><td>140617T093403Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31921#31921">user1921</a></td></tr>
<tr d-ix="15"><td>162</td><td>JavaScript Node.js</td><td>140617T134139Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31932#31932">zamnuts</a></td></tr>
<tr d-ix="16"><td>051</td><td>J</td><td>140616T163445Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31875#31875">seequ</a></td></tr>
<tr d-ix="17"><td>091</td><td>R</td><td>140617T084208Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31918#31918">plannapu</a></td></tr>
<tr d-ix="18"><td>nan</td><td></td><td>140616T091705Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31829#31829">edc65</a></td></tr>
<tr d-ix="19"><td>026</td><td>CJam</td><td>140616T054510Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31823#31823">Dennis</a></td></tr>
<tr d-ix="20"><td>063</td><td>Mathematica</td><td>140616T170300Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31878#31878">Szabolcs</a></td></tr>
<tr d-ix="21"><td>309</td><td>C</td><td>140616T192858Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31886#31886">bacchusb</a></td></tr>
<tr d-ix="22"><td>223</td><td>PHP 5.4</td><td>140616T133747Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31851#31851">kuldeep.</a></td></tr>
<tr d-ix="23"><td>095</td><td>Perl</td><td>140616T061137Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31825#31825">Tal</a></td></tr>
<tr d-ix="24"><td>118</td><td>Haskell</td><td>140616T060836Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31824#31824">johnchen</a></td></tr>
<tr d-ix="25"><td>046</td><td>GolfScript</td><td>140616T193124Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31887#31887">Cristian</a></td></tr>
<tr d-ix="26"><td>094</td><td>Ruby</td><td>140616T154723Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31868#31868">Cristian</a></td></tr>
<tr d-ix="27"><td>026</td><td>CJam</td><td>140616T134853Z</td><td><a href="https://codegolf.stackexchange.com/questions/31822/find-the-nth-pair-of-twin-primes/31854#31854">aditsu q</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://raku.org" rel="nofollow noreferrer">Raku (Perl 6) (rakudo)</a>, 112 bytes</h1>
<pre class="lang-perl prettyprint-override"><code>my @twin-primes=(^Inf).grep(*.is-prime).rotor(2=&gt;-1).grep({.[1]-.[0]==2}).list;say @twin-primes[$N-1].join(', ')
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kKDG7dMGe3EoFFT8FWwVDI2sFZYXEoqTMkqLEokqFgsTMoqWlJWm6FjcLgGocSsoz83QLijJzU4ttNeI889I09dKLUgs0tPQyiyHimnpF-SX5RRpGtna6hlDZar1ow1hdvWiDWFtbo1pNvZzM4hLr4kRU86JV_HQNY_Wy8jPzNNR1FNQ1IfYugFJQGgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1>PHP 8.3 145char</h1>
<p>Runs up to 10,000 actually I had difficulty with <code>readline</code> simulating <code>stdin</code> not using this very often.</p>
<p>Programming support: Notepad</p>
<pre><code>$j=readline();for($i=1;$i&lt;10000;$i=$i+2){if((gmp_prob_prime($i))&amp;&amp;(gmp_prob_prime($i+2))){$x++;}if($x==$j){break;}}echo&quot;$i, &quot;; $i=$i+2;echo&quot;$i&quot;;
</code></pre>
<pre><code>$j=readline();
for ($i=1;$i&lt;10000;$i=$i+2) {
if ((gmp_prob_prime($i))&amp;&amp;(gmp_prob_prime($i+2))) {$x++;}
if($x==$j) {break;}
}
echo&quot;$i, &quot;;
$i=$i+2;
echo&quot;$i&quot;;
</code></pre>
<p>Output $j=[1-12]:</p>
<pre><code>3, 5
5, 7
11, 13
17, 19
29, 31
41, 43
59, 61
71, 73
101, 103
107, 109
137, 139
149, 151
</code></pre>
</div>
<div id="pu2" class="pu"><p><strong>APL(NARS), 63 chars</strong></p>
<pre><code>P;w;p;r
w←⎕⋄p←2
→3×⍳0≥w⋄w-←2=p-⍨r←1πp⋄p←r⋄→2
⎕←∊⍕¨3⌽', ',p,p-2
</code></pre>
<p>7+7+28+17+4=63 test</p>
<pre><code>  P
⎕:
  1
3, 5
  P
⎕:
  1000
79559, 79561
  P
⎕:
  100000
18409199, 18409201
</code></pre>
</div>
<div id="pu3" class="pu"><h3>PHP (153)</h3>
<pre><code>$nth=readline();$i=1;$l=1;$c=0;while(1){$q=0;for($j=1;$j&lt;=$i;$j++){$q+=$i%$j==0?1:0;}if($q==2){if($i-$l==2&amp;&amp;++$c==$nth){echo&quot;$l, $i&quot;;break;}$l=$i;}++$I;}
</code></pre>
<p>Readable format with properly named variables:</p>
<pre><code>$nth = readline();

$i = 1;
$lastFoundPrime = 1;
$countOfFoundPrimes = 0;

while (1) {
  $quotient = 0;
  for ($j = 1; $j &lt;= $i; $j++) {
    $quotient += $i % $j == 0 ? 1 : 0;
  }
  if ($quotient == 2) {
    if ($i - $lastFoundPrime == 2 &amp;&amp; ++$countOfFoundPrimes == $nth) {
      echo &quot;$lastFoundPrime, $i&quot;;
      break;
    }
    $lastFoundPrime = $i;
  }
  ++$i;
}
</code></pre>
<p>And wrapped in a for loop:</p>
<pre><code>foreach (range(1, 10) as $nth) {

  $i = 1;
  $lastFoundPrime = 1;
  $countOfFoundPrimes = 0;
  while (1) {
    $quotient = 0;
    for ($j = 1; $j &lt;= $i; $j++) {
      $quotient += $i % $j == 0 ? 1 : 0;
    }
    if ($quotient == 2) {
      if ($i - $lastFoundPrime == 2 &amp;&amp; ++$countOfFoundPrimes == $nth) {
        echo &quot;$lastFoundPrime, $i&quot;;
        break;
      }
      $lastFoundPrime = $i;
    }
    ++$i;
  }

  echo &quot;\n&quot;;
}
</code></pre>
<p>Output:</p>
<pre><code>3, 5
5, 7
11, 13
17, 19
29, 31
41, 43
59, 61
71, 73
101, 103
107, 109
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>ṡ</code>, 57 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, <strike>8.125</strike> 7.125 bytes</h1>
<pre><code>Þp'⇧æ;i:⇧
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyLigKbhuaE9IiwiIiwiw55wJ+KHp8OmO2k64oenIiwiIiwiMyJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>001010110100000101111000110100001000110100111000111011110
</code></pre>
<p>0-indexed</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 11 bytes</h1>
<pre><code>!fo=2F≠Ẋeİp
</code></pre>
<p><a href="https://tio.run/##yygtzv7/XzEt39bI7VHngoe7ulKPbCj4//@/MQA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>non-competing, since it takes input from arguments rather than STDIN.</p>
<p>Returns a 2-element list.</p>
<p>Interesting version using <code>Ψ</code>: <a href="https://tio.run/##yygtzv7/P1hH20jx3Iq0fFujR50Ljmwo@P//vzEA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1>Japt, <s>23</s> 19 bytes</h1>
<p>-4 bytes thanks to <a href="https://codegolf.stackexchange.com/users/58974/shaggy">Shaggy</a></p>
<pre><code>@µX°j ©°Xj}f
[UU+2]
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=QLVYsGogqbBYan1mCltVVSsyXQ==&amp;input=Mw==" rel="nofollow noreferrer">Run it online</a></p>
</div>
<div id="pu7" class="pu"><p><strong>Mathematica -- 71 bytes</strong></p>

<pre><code>n=Input[];
i=j=0;
While[j&lt;n,i++;If[And@@PrimeQ[x={i,i+2}],j++]];Print@x
</code></pre>
</div>
<div id="pu8" class="pu"><h1>T-SQL(2012+),255 characters</h1>
<p>A more compact T-SQL twin prime finder that also gets a little bit of a speed up.</p>
<pre><code>with t(n)as(select 2+number from spt_values where type='p')select*from(select concat(b,', ',a),rank()over(order by a)from(select n,lag(n)over(order by n)from t where not exists(select*from t f where f.n&lt;t.n and t.n%f.n=0))z(a,b)where a=b+2)r(s,k)where k=2
</code></pre>
<p>Human readable format::</p>
<pre><code>    with t(n)as(
        select 2+number 
        from spt_values 
        where type='p'
    )
    select *
    from(
        select concat(b,', ',a),rank() over (order by a)
        from(
            select n, lag(n) over(order by n)
        

    from t 
        where not exists(
            select 1 from t f 
            where f.n&lt;t.n and t.n%f.n=0)
    ) z(a,b)
    where a=b+2
) r(s,k)
where k=2
</code></pre>
<p>The basic gist is we use the built in table of numbers (master..spt_values type='p') and alias that with a CTE as something short. We add 2 to remove the worry of pulling 0 or 1 trivial errors for our set, so now we have candidates of 2,2050.</p>
<p>Z the inner most query gets all primes from 2 to 2050, by filtering out any number n that is divisible by a number less than n.
We then use a nifty T-SQL 2012 windowing function <code>lag</code> that lets us pull the previous result, so now Z's results a and b are the primes <code>P[n]</code> and <code>P[n-1]</code> respectively. The R query creates the output string, and filters out non-twin primes and also creates a sequence number for the output we call K.
Finally the last query R allows us to filter and get the Kth twin prime by changing its variable.</p>
</div>
<div id="pu9" class="pu"><h1>Python 2 (75)</h1>

<pre class="lang-python prettyprint-override"><code>c=input()
n=3
while c:n+=2;c-=all(n%i&amp;~2for i in range(2,n-2))
print(n-2,n)
</code></pre>

<p>So what's going on here? </p>

<p>First, let's look at the expression <code>all(n%i&amp;~2for i in range(2,n-2))</code>, which checks if <code>(n-2,n)</code> are a pair of twin primes. </p>

<p>The simpler expression <code>all(n%i for i in range(2,n))</code> simply checks if <code>n</code> is prime by trying every divisor <code>i</code> in the range <code>2&lt;=i&lt;=n-1</code>, and seeing if all remainders are nonzero. This <code>all</code> checks exactly this, since Python treats <code>0</code> as <code>False</code> and all other numbers as <code>True</code>.</p>

<p>Now, observe that <code>(n-2)%i==0</code> exactly when <code>n%i==2</code> for divisors <code>i&gt;2</code>. So, we can perform the primality check on <code>n</code> and <code>n-2</code> at the same time by checking the remainders for both <code>0</code> and <code>2</code>. This could be done as <code>all(n%i not in [0,2] for i in range(2,n-2))</code>. We only try divisors in the range <code>2&lt;=i&lt;=n-3</code> for the sake of <code>n-2</code>, but this suffices for <code>n</code> as well since <code>n-1</code> and <code>n-2</code> can't be divisors unless <code>n&lt;=4</code>. We will only try odd <code>n</code> starting from <code>5</code> to avoid this complication and that of the divisor <code>i=2</code>.</p>

<p>We golf the expression <code>n%i not in [0,2]</code> into <code>n%i&amp;~2</code>, remembering that <code>0</code> is False and other numbers are <code>True</code>. The operator precedence <code>(n%i)&amp;(~2)</code> is exactly what's needed. The bit-complement <code>~2</code> is <code>...11111101</code>, so its bitwise <code>and</code> with a number zeroes-out the <code>2</code>'s binary place value. This gives <code>0</code> (i.e., <code>False</code>) only for <code>0</code> and <code>2</code>, exactly what we want.</p>

<p>Phew! Now we have that the expression <code>all(n%i&amp;~2for i in range(2,n-2))</code> checks whether <code>n</code> is the upper number of a twin prime pair. What remains is to iterate over them until we see <code>c</code> of them, where <code>c</code> is the inputted number. We start with <code>5</code> and counting up by <code>2</code> to avoid divisor issues. We decrement <code>c</code> each time we encounter an <code>n</code> that works, stopping when <code>c=0</code>. Finally, we print the twin prime pair that we end with. </p>
</div>
<div id="pu10" class="pu"><h1>Perl, <strike>101</strike> 87</h1>

<h3>87 characters, building over aschepler's comment</h3>



<pre class="lang-perl prettyprint-override"><code>$n=pop;$r='^1$|^(11+?)\1+$';($t=1x$s)=~$r||"11t"=~$r||--$n||die"$s, ",$s+2,$/while++$s
</code></pre>

<h3>101 characters, earlier answer</h3>



<pre class="lang-perl prettyprint-override"><code>$n=pop;$r=qr/^1$|^(11+?)\1+$/;(1x$s)!~$r&amp;&amp;(1x($s+2))!~$r&amp;&amp;++$i==$n&amp;&amp;say($s,", ",$s+2)&amp;&amp;exit while++$s
</code></pre>

<h3>Usage:</h3>

<pre class="lang-none prettyprint-override"><code>$ perl ./twin_primes.pl 10
107, 109
</code></pre>

<h3>Explanation</h3>

<pre class="lang-perl prettyprint-override"><code>$n = pop;                 # Pulls twin prime pair counter from @ARGV
$r = qr/^1$|^(11+?)\1+$/; # The money line - a regex that verifies
                          # if a string of 1's has non-prime length

while ( ++$s ) {          # Loop over integers

                          # '&amp;&amp;' short-circuits
    (1 x  $s    ) !~ $r   # Negated regex match evaluates to true if $s is prime
 &amp;&amp; (1 x ($s+2) ) !~ $r   # Same for $s + 2
 &amp;&amp;          ++$i == $n   # Counter to control which pair to print
 &amp;&amp; say( $s, ", ", $s+2 ) # Print the line
 &amp;&amp; exit                  # Terminate program
}
</code></pre>

<p>The workings of the non-primality regex is explained in <a href="https://stackoverflow.com/q/3329766/133939">this SO question</a>.</p>
</div>
<div id="pu11" class="pu"><h2>C#, 265</h2>

<pre class="lang-c# prettyprint-override"><code>using System.Linq;class P{static void Main(string[] args){var i=int.Parse(args[0]);int f=0,c=0;for(int j=1;;j+=2){var b=(Enumerable.Range(1,j).Count(x=&gt;j%x==0)==2);if(f==0 &amp;&amp; b){f=j;continue;}if(b){c++;if(c==i){System.Console.WriteLine(f+","+j);break;}j-=2;}f=0;}}}
</code></pre>
</div>
<div id="pu12" class="pu"><h1>C: 113</h1>

<pre class="lang-c prettyprint-override"><code>n,c,l;main(i){for(scanf("%d",&amp;n),l=2;n;l=c==i?n-=i==l+2,i:l,i+=2)for(c=2;c&lt;i&amp;&amp;i%c++;);printf("%d, %d\n",l-2,l);}
</code></pre>

<p>Sample run:</p>

<pre><code>$ for i in $(seq 1 10); do echo $i | ./twinprimes; done
3, 5
5, 7
11, 13
17, 19
29, 31
41, 43
59, 61
71, 73
101, 103
107, 109
</code></pre>

<p>Thanks for help from Dennis, bebe, and Alchymist.</p>
</div>
<div id="pu13" class="pu"><h2>T-SQL (2008+): 344</h2>

<p>Brute force a CTE to find primes, window function to count n, followed by a join to find the twin. Works in a second for outputs &lt; 1,000, just under a minute for outputs &lt; 10,000.</p>

<p>Golfed (SQLFiddle <strong><a href="http://sqlfiddle.com/#!3/d41d8/35725/0" rel="nofollow">here</a></strong>):</p>

<pre><code>WITH x(i) AS(SELECT 99 UNION ALL SELECT i-2
FROM x WHERE i&gt;3),z AS(SELECT RANK()OVER(ORDER BY x.i)n,x.i
FROM x x LEFT JOIN x y ON x.i%y.i=0 AND y.i NOT IN(x.i,1)
WHERE y.i IS NULL)SELECT LTRIM(a)+', '+LTRIM(b)FROM(SELECT RANK()
OVER(ORDER BY x.i)n,x.i a,y.i b FROM z x,z y WHERE x.n=y.n-1
AND x.i=y.i-2) o WHERE n=3
OPTION(MAXRECURSION 0)
</code></pre>

<p>Legible:</p>

<pre><code>WITH x(i) AS (
   SELECT 99
    UNION ALL
   SELECT i-2
   FROM x
   WHERE i &gt; 3
)
,z AS (
SELECT RANK()OVER(ORDER BY x.i)n,x.i
FROM x x
WHERE NOT EXISTS
  (SELECT *
   FROM x y
   WHERE x.i%y.i = 0
    AND y.i NOT IN (x.i,1)
  )
)
SELECT LTRIM(a)+', '+LTRIM(b)
FROM (
    SELECT RANK()OVER(ORDER BY x.i)n,x.i a, y.i b
    FROM z x, z y
    WHERE x.n = y.n+1
    AND x.i = y.i+2
) o
WHERE n = 3
OPTION(MAXRECURSION 0)
</code></pre>
</div>
<div id="pu14" class="pu"><h1>AWK - 129</h1>
<p>The file <code>fsoe-pairs.awk</code>:</p>
<pre><code>{n=2;N=1
for(;;){if(n in L){p=L[n];del L[n]}else{p=n
if(n-N==2)if(!--$0){print N&quot;, &quot;n;exit}N=n}P=p+n++
while(P in L)P+=p;L[P]=p}}
</code></pre>
<p>Running it:</p>
<pre><code>$ awk -f fsoe-pairs.awk
1
3, 5
$ awk -f fsoe-pairs.awk
2
5, 7
$ awk -f fsoe-pairs.awk
10
107, 109
</code></pre>
<p>(1st line after command is input, the 2nd one is output)</p>
<p>This is based on an own prime generator algorithm I call &quot;floating sieve of erastosthenes&quot; (until I find it described elswhere) which only stores the needed part of the sieve and the already calculated primes.</p>
</div>
<div id="pu15" class="pu"><h2>JavaScript (Node.js), 162 chars</h2>
<p>Reads from stdin, outputs to stdout, exits &quot;early&quot; for input <code>&lt;= 0</code>.</p>
<pre><code>t=process.argv[2],c=0,l=1;if(t&gt;0){for(i=0;;i++){p=!Array(i+1).join(1).match(/^1?$|^(11+?)\1+$/);if(p){if(i-2==l){if(c&gt;=t-1){console.log(l+&quot;, &quot;+i);break}c++}l=i}}}
</code></pre>
<p>Usage (script above saved as <code>ntp.js</code>):</p>
<pre><code>&gt;for /l %x in (0, 1, 10) do node ntp.js %x
&gt;node ntp.js 0
&gt;node ntp.js 1
3, 5
&gt;node ntp.js 2
5, 7
&gt;node ntp.js 3
11, 13
&gt;node ntp.js 4
17, 19
&gt;node ntp.js 5
29, 31
&gt;node ntp.js 6
41, 43
&gt;node ntp.js 7
59, 61
&gt;node ntp.js 8
71, 73
&gt;node ntp.js 9
101, 103
&gt;node ntp.js 10
107, 109
</code></pre>
</div>
<div id="pu16" class="pu"><h1>J - <s>49 60 55</s> 51 bytes</h1>

<p>I decided to go with a simple approach. Function <code>t</code> finds the next twin prime given a prime number as input (now this is included in the <code>f</code> function). Function <code>f</code> finds the nth twin prime. This also happens to be the first actual program I've written in J.</p>

<pre><code>f=:[:(":,', ',":@+&amp;2)(4&amp;p:(,{~-=2:)])^:_@&gt;:^:(]`2:)
</code></pre>

<p>Examples:</p>

<pre><code>   f 1
3, 5
   f 2
5, 7
   f 3
11, 13
   f 4
17, 19
   f 5
29, 31
   f 100000
18409199, 18409201
</code></pre>

<p>Just for some eyebrowraises, have the ungolfed version.</p>

<pre><code>twin =: (4&amp;p:)(($:@[)`(,)@.(=(]+2:)))]
f    =: ((]-2:),])((0:{twin) ^: (]`(2:)))
</code></pre>

<h3>Explanation:</h3>

<pre><code>f=:[:(":,', ',":@+&amp;2)(4&amp;p:(,{~-=2:)])^:_@&gt;:^:(]`2:)
                     (4&amp;p:(,{~-=2:)])^:_@&gt;:^:(]`2:)
                                        @&gt;:^:(]`2:)  main loop
                                           ^:(]`2:)  Repeat n times, starting with value of 2
                                        @&gt;:          Add one to the current value and apply to the following function.
                     (4&amp;p:(,{~-=2:)])^:_             Get the next twin prime
                                     ^:_             Recurse until there's no change
                          (,{~-=2:)                  If next prime - current value == 2, return current value, otherwise the next prime.
                      4&amp;p:                           Get the next prime
     (":,', ',":@+&amp;2)                                Format the output and add 2 to the second value.
   [:                                                Apply the twin prime to the formatter.

Basically, if n is 4, this creates a recursion tree like this:
 let T be the recursion inside t
 and numbers between rows the return values of according function
   (t * n) 3
-&gt; (t * 4) 3
-&gt; t  t  t  t  3
   17 11 5  3
-&gt; (T  T) (T  T) T  T  3
    17 13  11 7  5  3
-&gt; 17
</code></pre>
</div>
<div id="pu17" class="pu"><h2>R, 91 chars</h2>
<pre><code>a=scan();n=1;p=5;while(n!=a){p=p+1;q=p-2;if(sum(!p%%2:p,!q%%2:q)&lt;3)n=n+1};cat(q,p,sep=&quot;, &quot;)
</code></pre>
<p>Nothing really fancy:</p>
<pre class="lang-r prettyprint-override"><code>a=scan()
n=1
p=5
while(n!=a){
    p=p+1
    q=p-2
    if(sum(!p%%2:p,!q%%2:q)&lt;3) # Check that p and q are both primes by checking
       n=n+1                   # the number of zeroes resulting from 
}                              # p modulo each integers 2 to p and same for q
cat(q,p,sep=&quot;, &quot;)
</code></pre>
<p>Usage:</p>
<pre><code>&gt; a=scan();n=1;p=5;while(n!=a){p=p+1;q=p-2;if(sum(!p%%2:p,!q%%2:q)&lt;3)n=n+1};cat(q,p,sep=&quot;, &quot;)
1: 10
2: 
Read 1 item
107, 109
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Javascript (E6) 92 <s>96</s></h1>



<p>Shorter and compliant - use spidermonkey shell to read stdin/write stdout (with comma and space). It finds the 10000th pair 1260989, 1260991 in under a minute on my PC<br>
Could be shorter using <code>p[n]=o=n</code> instead of <code>p.push(o=n)</code>, so that the p array is sparse. But that's quite slower, and I'm not going to win for code length anyway.</p>

<pre class="lang-js prettyprint-override"><code>m=readline();for(n=3,o=p=[];m;n+=2)p.every(e=&gt;n%e)&amp;&amp;(m-=n-o&lt;3,p.push(o=n));print(o-2+', '+o)
</code></pre>

<p>To try in firefox console:</p>

<pre class="lang-js prettyprint-override"><code>m=prompt();for(n=3,o=p=[];m;n+=2)p.every(e=&gt;n%e)&amp;&amp;(m-=n-o&lt;3,p.push(o=n));alert(o-2+', '+o)
</code></pre>

<p><strong>Ungolfed</strong></p>

<p>A function that found all first m twins (returns the largest value):</p>

<pre class="lang-js prettyprint-override"><code>T=m=&gt;{
  for (o=n=3, p=[2], t=[]; !t[m-1]; n+=2)
    p.every(e =&gt; n%e) &amp;&amp; (n-o-2 ? 0 : t.push(n), p.push(o=n))
  return t
}
</code></pre>

<p>Example: <code>console.log(T(50))</code></p>

<p><code>[5, 7, 13, 19, 31, 43, 61, 73, 103, 109, 139, 151, 181, 193, 199, 229, 241, 271, 283, 313, 349, 421, 433, 463, 523, 571, 601, 619, 643, 661, 811, 823, 829, 859, 883, 1021, 1033, 1051, 1063, 1093, 1153, 1231, 1279, 1291, 1303, 1321, 1429, 1453, 1483, 1489]</code></p>

<p>Just the last:</p>

<pre class="lang-js prettyprint-override"><code>L=m=&gt;{
  for (o=n=3,p=[2]; m; n+=2)
    p.every(e =&gt; n%e) &amp;&amp; (m -= n-o==2, p.push(o=n))
  return o
}
</code></pre>

<p>Then, take that 2 lines and add IO</p>

<pre class="lang-js prettyprint-override"><code>m = prompt()
for (o=n=3, p=[2]; m; n+=2)
  p.every(e =&gt; n%e) &amp;&amp; (m -= n-o==2, p.push(o=n))
alert('o-2+', '+o)
</code></pre>
</div>
<div id="pu19" class="pu"><h1>CJam, <s>29</s> 26 bytes</h1>

<pre><code>Y4]{{:)_{mp}/&amp;!}g}q~*", "*
</code></pre>

<p><a href="http://cjam.aditsu.net/" rel="nofollow" title="CJam interpreter">Try it online.</a></p>

<h3>Examples</h3>

<pre><code>$ for i in {1..10}; do cjam twin-primes.cjam &lt;&lt;&lt; $i; echo; done
3, 5
5, 7
11, 13
17, 19
29, 31
41, 43
59, 61
71, 73
101, 103
107, 109
</code></pre>

<h3>How it works</h3>

<pre><code>Y4]        " Push [ 2 4 ].                                                            ";
{          "                                                                          ";
  {        "                                                                          ";
    :)     " Increment each integer in the array.                                     ";
    _      " Duplicate the array.                                                     ";
    {mp}/  " For each integer in the array, push 1 if it's prime and 0 otherwise.     ";
    &amp;!     " Compute the logical NOT of the bitwise AND of the two previous integers. "; 
  }g       " If the result is non-zero, repeat the loop.                              ";
}q~*       " Do the above “N” times, where “N” is the integer read from STDIN.        ";
", "       " Join the array by comma and space.                                       ";
</code></pre>
</div>
<div id="pu20" class="pu"><h2>Mathematica - 63 characters</h2>

<pre><code>Print[#-2,", ",#]&amp;@Nest[NestWhile[NextPrime,#,#2-#!=2&amp;,2]&amp;,1,n]
</code></pre>

<h3>Notes</h3>

<p>This is in fact a rather straightforward implementation.  Shortening resulted in almost no obfuscation.</p>

<p><code>NextPrime</code> is a builtin that finds the next prime after a number.</p>

<p><code>NestWhile[NextPrime,#,#2-#1!=2&amp;,2]&amp;</code> is an anonymous function that finds the larger prime of the next twin prime pair after a number.</p>

<p><code>Nest</code> applies this anonymous function <code>n</code> times.</p>

<p><code>Print[#-2,", ",#]&amp;</code> is an anonymous function that prints to stdout according to the specifications.  Sadly this alone takes up 18 characters of the 63 character solution.</p>

<h3>Example</h3>

<blockquote>
<pre><code>In[1]:= Do[                                                                     
         Print[#-2,", ",#]&amp;@Nest[NestWhile[NextPrime,#,#2-#!=2&amp;,2]&amp;,1,n],
         {n, 1, 10}
        ]
3, 5
5, 7
11, 13
17, 19
29, 31
41, 43
59, 61
71, 73
101, 103
107, 109
</code></pre>
</blockquote>

<hr>

<p><strong>Update:</strong>  Two characters could be saved by reimplementing <a href="https://codegolf.stackexchange.com/a/31854/24980">this CJam solution</a>.  However, this algorithm limits the maximum value of <code>n</code>.   Just replace the <code>Nest...</code> part by <code>Intersection[#,#-2][[5]]&amp;@Prime@Range[999]</code></p>
</div>
<div id="pu21" class="pu"><h2>C 309</h2>

<p>Keeps getting next primes and store odd and even terms then checks if the difference is two.</p>
<pre class="lang-c prettyprint-override"><code>int main()
{
int n;
scanf(&quot;%d&quot;,&amp;n);
int a=2,b=3,k=2,q;
int odd=1;
int p;
if(n&gt;0)
{
while(n)
{
k++;
p=1;
q=ceil(sqrt(k));
for(int i=2;i&lt;=q;i++)
{
if(k%i==0)
{
p=0;
break;
}
}
if(p)
{
if(odd%2==0)a=k;
else b=k;
if(abs(a-b)==2)n--;
odd++;
}
}
}
printf(&quot;%d %d\n&quot;,a,b);
return 0;
}
</code></pre>
</div>
<div id="pu22" class="pu"><h1>PHP 5.4, 223</h1>

<p>Not a smaller one, But one try from php.</p>
<pre class="lang-php prettyprint-override"><code>$n=$argv[1];function i($k){for($i=2;$i&lt;=(int)($k/2);$i++)if($k%$i==0)return 0;return 1;}function t($t){return (i($t) &amp;&amp; i($t+2))?1:0;}$g=1;$d=0;do{if(t($g)==1){if($d&lt;$n){$d++;}else{print_r([$g,$g+2]);break;}}$g++;}while(1);
</code></pre>
</div>
<div id="pu23" class="pu"><h1>Perl, <s>100</s> 95</h1>

<pre class="lang-perl prettyprint-override"><code>$n=&lt;&gt;;$i=3;while($c&lt;$n&amp;&amp;($l=$i++)){$i++until!grep{$i%$_&lt;1}(2..$i-1);$c++if$i-$l&lt;3}print&quot;$l, $i&quot;
</code></pre>
<p>Ungolfed:</p>
<pre class="lang-perl prettyprint-override"><code>$n = &lt;&gt;;          # Read from STDIN
$i = 3;           # Tiny hack because I know I don't need the number 2
while ($c&lt;$n &amp;&amp; ($l = $i++)) {   # $c counts the pairs, $l is the last prime
  $i++ until ! grep {$i%$_&lt;1} (2..$i-1);   # Increase $i until it's not divisible by anything
  $c++ if $i-$l &lt; 3   # If $i and $l are twin primes, count it
}
print &quot;$l, $i&quot;    # That damned comma added a whole character to my code!
</code></pre>
</div>
<div id="pu24" class="pu"><h1>Haskell 118</h1>
<pre class="lang-haskell prettyprint-override"><code>main=putStrLn.(!!)[show n++&quot;, &quot;++show(n+2)|n&lt;-[2..],all((&gt;0).rem n)[2..n-1],all((&gt;0).rem(n+2))[2..n]].(+)(-1)=&lt;&lt;readLn
</code></pre>
<p>Brute-force all twin primes and prints the n<sup>th</sup> pair.</p>
</div>
<div id="pu25" class="pu"><h3>GolfScript 46</h3>

<pre><code>~[1 3]\{\{))}%.{:x,{)x\%!},,2=}/*@\-.}do;', '*
</code></pre>

<p>Online test: <a href="http://golfscript.apphb.com/?c=OyczJwoKflsxIDNdXHtceykpfSUuezp4LHspeFwlIX0sLDI9fS8qQFwtLn1kbzsnLCAnKg%3D%3D&amp;run=true" rel="nofollow">link</a></p>

<p><strong>Annotated code:</strong></p>

<pre><code>~                       # parse the input as an int
[1 3]                   # add the array [1, 3] on the stack
\                       # invert the items on the stack
{                       # begin loop
  \                     # bring the array to the top of the stack
  {))}%                 # add 2 to each of the numbers in the array
  .{:x,{)x\%!},,2=}/    # check if numbers are prime (leaves a 0 or 1 for both numbers on the stack)
  *                     # multiply the two 0/1 numbers (will only get 1 if both are 1)
  @\-                   # subtract the result from the inital int
  .                     # copy the new int value on the stack to be consumed by the 'do' loop
}do                     # repeat until the initial int was taken down to 0
                        # at this point the array contains the two numbers we're looking for
;                       # get rid of the 0 from the stack
', '*                   # format the output
</code></pre>
</div>
<div id="pu26" class="pu"><h3>Ruby 94</h3>
<pre class="lang-rb prettyprint-override"><code>require'mathn'
n=gets.to_i
a=1
(a+=2;a.prime?&amp;&amp;(a+2).prime?&amp;&amp;n-=1)while n&gt;0
$&gt;&lt;&lt;&quot;#{a}, #{a+2}&quot;
</code></pre>
<p>Online test: <a href="http://ideone.com/B2wxnG" rel="nofollow noreferrer">http://ideone.com/B2wxnG</a></p>
</div>
<div id="pu27" class="pu"><h1>CJam - 26</h1>

<pre><code>1e4,{mp},_2f-&amp;qi(=_2+", "\
</code></pre>

<p>It works for primes smaller than 10000; you can replace <code>4</code> with a higher exponent for larger numbers (potentially up to 10<sup>20</sup>), but the program will get slower and will use more memory.</p>

<p>Try it at <a href="http://cjam.aditsu.net/">http://cjam.aditsu.net/</a></p>

<p><strong>Explanation:</strong></p>

<p><code>1e4,</code> creates the array [0 1 2 ... 9999]<br>
<code>{mp},</code> selects only the prime numbers<br>
<code>_2f-</code> copies the array and subtracts 2 from each item<br>
<code>&amp;</code> intersects the two arrays, thus finding the lower primes from each twin prime pair<br>
<code>qi</code> reads the input and converts to integer<br>
<code>(=</code> adjusts the index and gets the corresponding (lower) twin prime from the array<br>
<code>_2+</code> copies the prime and adds 2<br>
<code>", "\</code> puts the comma and space between the two primes</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/31822/">31822</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




