<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::75293</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>026</td><td>Jelly</td><td>250929T135554Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/283926#283926">Unrelate</a></td></tr>
<tr d-ix="1"><td>019</td><td>Uiua</td><td>250929T110245Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/283924#283924">noodle p</a></td></tr>
<tr d-ix="2"><td>053</td><td>Dyalog APL</td><td>250929T050629Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/283919#283919">Aaron</a></td></tr>
<tr d-ix="3"><td>104</td><td>Python 3</td><td>210705T021125Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/230979#230979">aeh5040</a></td></tr>
<tr d-ix="4"><td>nan</td><td>Common Lisp</td><td>210703T132800Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/230939#230939">Thun_A</a></td></tr>
<tr d-ix="5"><td>055</td><td>J</td><td>210703T214616Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/230950#230950">Jonah</a></td></tr>
<tr d-ix="6"><td>139</td><td>Excel</td><td>210703T141107Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/230941#230941">Axuary</a></td></tr>
<tr d-ix="7"><td>041</td><td>05AB1E</td><td>210703T140024Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/230940#230940">Makonede</a></td></tr>
<tr d-ix="8"><td>029</td><td>Jelly</td><td>160310T213915Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75320#75320">Dennis</a></td></tr>
<tr d-ix="9"><td>124</td><td>Python 3</td><td>210702T131737Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/230910#230910">Jakque</a></td></tr>
<tr d-ix="10"><td>044</td><td>Vyxal</td><td>210702T101025Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/230901#230901">emanresu</a></td></tr>
<tr d-ix="11"><td>039</td><td>MATL</td><td>160310T205330Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75317#75317">Luis Men</a></td></tr>
<tr d-ix="12"><td>127</td><td>Python 3</td><td>160310T204636Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75316#75316">Sherlock</a></td></tr>
<tr d-ix="13"><td>060</td><td>Perl</td><td>160311T125745Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75351#75351">Ton Hosp</a></td></tr>
<tr d-ix="14"><td>130</td><td>Python 3</td><td>160311T135419Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75353#75353">Erwan</a></td></tr>
<tr d-ix="15"><td>131</td><td>Perl</td><td>160310T201409Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75308#75308">Doorknob</a></td></tr>
<tr d-ix="16"><td>066</td><td>Retina</td><td>160310T194309Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75299#75299">Digital </a></td></tr>
<tr d-ix="17"><td>093</td><td>JavaScript ES6</td><td>160310T200851Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75305#75305">ETHprodu</a></td></tr>
<tr d-ix="18"><td>178</td><td>JavaScript ES6</td><td>160310T205643Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75318#75318">RevanPro</a></td></tr>
<tr d-ix="19"><td>139</td><td>Lua</td><td>160311T190427Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75376#75376">Egor Skr</a></td></tr>
<tr d-ix="20"><td>3836</td><td>Pyth</td><td>160310T194516Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75300#75300">FryAmThe</a></td></tr>
<tr d-ix="21"><td>125</td><td>Javascript ES6</td><td>160310T203414Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75311#75311">Charlie </a></td></tr>
<tr d-ix="22"><td>163</td><td>Ruby</td><td>160310T195648Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75303#75303">Doorknob</a></td></tr>
<tr d-ix="23"><td>283</td><td>Python 3</td><td>160310T195622Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75302#75302">Adnan</a></td></tr>
<tr d-ix="24"><td>066</td><td>Pyth</td><td>160310T192700Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75297#75297">Denker</a></td></tr>
<tr d-ix="25"><td>311</td><td>JavaScript</td><td>160310T192013Z</td><td><a href="https://codegolf.stackexchange.com/questions/75293/rotate-the-dots/75295#75295">Jens Ren</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 26 bytes</h1>
<pre><code>â€œ.': â€Ã°á¹–iâ±®d2j@/á¹™1Å’HUÅ¼Â¥/á¸„á»‹á¸·
</code></pre>
<p><a href="https://tio.run/##RVGxSgNBEO39iuGawSITtFxIsPQHFOy1MOQH7BIRLOwiCIJWYieioJgjYpFwH7L3I@ebmZ27Xbjb9@bNvHd7s4v5/Krr2sWTcKJ28bz7yPXDZfv5fn44Oxrn@vGgWR2fNL/b13Fe3@TNXV7/dHnztf1u7nP90i7/RtNmddpev@1uJxDtn3VdRVTRaEr63qtIHIgCKRVWwCFjlXEBApBCphWOStJKmZbYAAfSLpEomldCg09JWuVoFevVp4ttLtEQ2mInrCLQk5qJ2hRKyKZQIuonCbGIpyRm6e0ZWikBbUVKW2E2JABAj18e1pAEACEsDYx9h7Uj@zKOXfx7wiKQWgFRf5UYCj9jvF/rqgIW0gancATNzsd/RCMgvo9NjMtQyo6gna/@AQ" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></p>
<blockquote>
<p>Granted that <em>is</em> 2016 jelly</p>
<p>Newer answers could be shorter</p>
</blockquote>
<p><a href="https://chat.stackexchange.com/transcript/message/68328124#68328124">-- lyxal</a></p>
<p>Just barely! Jelly changed a lot between 2016 and 2019, but the main byte saver here over <a href="https://codegolf.stackexchange.com/a/75320/85334">Dennis' solution</a> is just not having two separate string constants. There might be a shorter way to perform the core logic as well, but this kind of thing isn't really Jelly's forte--either rearranging multi-dimensional arrays or computing things under some transformation.</p>
</div>
<div id="pu1" class="pu"><h1>Uiua, 19 bytes</h1>
<pre><code>âœ(â™­âœâŠ£â‡Œâ‰â‹¯â¨‚&quot; '.:&quot;)Â°â†»â‚
</code></pre>
<p><a href="https://uiua.org/pad?src=0_18_0-dev_1__eJxNyasNhFAQBVD_qrgZ81gzBdwC6AsEGz6TYElwINZswOMo5VZCQCFPTgk1IxRzoemvmNUt-g6KVv2mX23ITvucu5pDdZWSYtU6qQ0Y6WA2lDC6M7u9F4A7yecBgDfSBQGFLZE=" rel="nofollow noreferrer">try it!</a></p>
<p>Perhaps the only task on this site where Uiua can out-golf Jelly by ten bytes. This task is extremely well suited to Uiua because the entire operation can be expressed with a single <code>âœ under</code>. For those out of the loop, under takes two functions and applies the first one to some value, then applies the second one, and finally applies an inverse transformation of the first. Here, the first function does the following:</p>
<pre><code>â™­âœâŠ£â‡Œâ‰â‹¯â¨‚&quot; '.:&quot;
      â¨‚&quot; '.:&quot;  # zero-indexed position of each in this string
     â‹¯         # each converted to binary (little-endian)
    â‰          # transpose (giving our 2xN array)
 âœâŠ£â‡Œ           # reverse the last row
â™­              # flatten the array
</code></pre>
<p>From here, all that has to be done is <code>Â°â†»â‚</code> to cycle this flattened form one to the right, and the above transformation is undone, resulting in the desired string.</p>
<p>This is possible because Uiua's implementation of under allows very advanced use-cases like this because each operation stores context which it can use to undo itself in the end. For example, when the array is flattened, Uiua keeps track of the original shape of the array and molds it back while inverting.</p>
</div>
<div id="pu2" class="pu"><h1>Dyalog APL, 53 bytes</h1>
<pre><code>{' ''.:'âŒ·â¨âŠ‚1+2âŠ¥âŠ–âŒ½@2âŠ¢2(â‰¢âµ)â´Â¯1âŒ½,âŒ½@2âŠ–2 2âŠ¤âŒŠ7Ã·â¨32-â¨â•UCSâµ}Â­â¡â€‹â€âªâªâ âªâªâ âªâªâ â€âªâ¡âªâ âªâ£â¤â£âªâ€â â€âªâ¡âªâ âªâ£â¤â¤âªâ€â â€âªâ¡âªâ âªâ¤â¡â¡âªâ€â â€âªâ¡âªâ âªâ¤â¡â¢âªâ€â â€âªâ¡âªâ âªâ¤â¡â£âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ£â£â£âªâ€â â€âªâ¡âªâ âªâ£â£â¤âªâ€â â€âªâ¡âªâ âªâ£â¤â¡âªâ€â â€âªâ¡âªâ âªâ£â¤â¢âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ£â¢â£âªâ€â â€âªâ¡âªâ âªâ£â¢â¤âªâ€â â€âªâ¡âªâ âªâ£â£â¡âªâ€â â€âªâ¡âªâ âªâ£â£â¢âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ¤â€‹â€â€âªâ¡âªâ âªâ£â¡â£âªâ€â â€âªâ¡âªâ âªâ£â¡â¤âªâ€â â€âªâ¡âªâ âªâ£â¢â¡âªâ€â â€âªâ¡âªâ âªâ£â¢â¢âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ¢â¡â€‹â€â€âªâ¡âªâ âªâ£â¡â¢âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ¢â¢â€‹â€â€âªâ¡âªâ âªâ¢â¤â£âªâ€â â€âªâ¡âªâ âªâ¢â¤â¤âªâ€â â€âªâ¡âªâ âªâ£â¡â¡âªâ€â€â€‹â¡â â¡â€Œâ¢â£â€‹â€â€âªâ¡âªâ âªâ¢â£â£âªâ€â â€âªâ¡âªâ âªâ¢â£â¤âªâ€â â€âªâ¡âªâ âªâ¢â¤â¡âªâ€â â€âªâ¡âªâ âªâ¢â¤â¢âªâ€â€â€‹â¡â â¡â€Œâ¢â¤â€‹â€â€âªâ¡âªâ âªâ¢â¢â¡âªâ€â â€âªâ¡âªâ âªâ¢â¢â¢âªâ€â â€âªâ¡âªâ âªâ¢â¢â£âªâ€â â€âªâ¡âªâ âªâ¢â¢â¤âªâ€â â€âªâ¡âªâ âªâ¢â£â¡âªâ€â â€âªâ¡âªâ âªâ¢â£â¢âªâ€â€â€‹â¡â â¡â€Œâ£â¡â€‹â€â€âªâ¡âªâ âªâ¢â¡â¡âªâ€â â€âªâ¡âªâ âªâ¢â¡â¢âªâ€â â€âªâ¡âªâ âªâ¢â¡â£âªâ€â â€âªâ¡âªâ âªâ¢â¡â¤âªâ€â âªâªâ€â€‹â¡â â¡â€Œâ£â¢â€‹â€â€âªâ¡âªâ âªâ¤â¤âªâ€â€â€‹â¡â â¡â€Œâ£â£â€‹â€â€âªâ¡âªâ âªâ¤â¢âªâ€â â€âªâ¡âªâ âªâ¤â£âªâ€â€â€‹â¡â â¡â€Œâ£â¤â€‹â€â€âªâ¡âªâ âªâ£â¤âªâ€â â€âªâ¡âªâ âªâ¤â¡âªâ€â€â€‹â¡â â¡â€Œâ¤â¡â€‹â€â€âªâ¡âªâ âªâ¢âªâ€â â€âªâ¡âªâ âªâ£âªâ€â â€âªâ¡âªâ âªâ¤âªâ€â â€âªâ¡âªâ âªâ¢â¡âªâ€â â€âªâ¡âªâ âªâ¢â¢âªâ€â â€âªâ¡âªâ âªâ¢â£âªâ€â â€âªâ¡âªâ âªâ¢â¤âªâ€â â€âªâ¡âªâ âªâ£â¡âªâ€â â€âªâ¡âªâ âªâ£â¢âªâ€â â€âªâ¡âªâ âªâ£â£âªâ€â€â€‹â¡â â¡â€ŒÂ­
                                              â•UCSâµ   # â€â¡Get codepoint
                                          32-â¨        # â€â¢subtact 32 (space (32) being the smallest of the 4 chars)
                                      âŒŠ7Ã·â¨            # â€â£divide by 7 and floor
                                  2 2âŠ¤                # â€â¤Encode each of those as binary (2 digits)
                                 âŠ–                    # â€â¢â¡Flip it over
                              âŒ½@2                     # â€â¢â¢Replace 2nd row with itself reversed
                          Â¯1âŒ½,                        # â€â¢â£Ravel and shift to the right
                                                      # â€â¢â£This gives the conveyor belt shift
                    2(â‰¢âµ)â´                            # â€â¢â¤Reshape that to 2xN (the original input length)
                âŒ½@2âŠ¢                                  # â€â£â¡Re-reverse 2nd row again
               âŠ–                                      # â€â£â¢And flip back over
             2âŠ¥                                       # â€â£â£Decode the binary number
           1+                                         # â€â£â¤Add 1 for indexing's sake
 ' ''.:'âŒ·â¨âŠ‚                                           # â€â¤â¡And finally select from magic string
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>105</s> 104 bytes</h1>

<pre class="lang-python prettyprint-override"><code>s=&quot; .':&quot;
a=[*map(s.find,input())]
b=a[0]*2,*a,a[-1]//2
print(*map(lambda x,y:s[x&amp;2|y&amp;1],b,b[2:]),sep='')
</code></pre>
<p><a href="https://tio.run/##HctLCsMgEADQvaeQLOKHqWnsbsCTiIuRtFRorEQLEXp3C337V3p7vvNtjOombgROjJzXOxVZzSPlDVIunyaVCiw68tegLWgC8pc1LItl5Ui5yX940R434id0rP6c7bfPa4AI0VsMCuq9OCHUGByNQWG44QLHDw" rel="nofollow noreferrer" title="Python 3 â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="http://www.clisp.org/" rel="nofollow noreferrer">Common Lisp</a>, <del>253</del> 247 bytes</h1>

<pre class="lang-lisp prettyprint-override"><code>(defun R(i &amp;aux(n(length i))(u #1=(make-list n))(b #1#))(dotimes(k n)(setf(elt u k)(find #2=(elt i k)&quot;':&quot;)(elt b k)(find #2#&quot;.:&quot;)))(map'string(lambda(u b)(cond((and u b)#\:)(u #\')(b #\.)(t #\ )))`(,(car b),@(butlast u))`(,@(cdr b),(nth(1- n)u))))
</code></pre>
<p><a href="https://tio.run/##dVTBattAED3XXzHIpDsy8UIMvagEUkIKgZ5seqoLXUvrRFiSVWlV0ot@3X2zsqWNoWuwZt68ffNmrXVa5G19OnFm911Fa87po@neuOLCVi/ulfI45o7md/dcmoNdgu2oArYDNsczO7q8tC0fgHJr3Z5t4aijQ8z7vMpovrr3SA4kUkkU@2wX1OeRBgyp0tSqdU1evXBhyl1m0HgXc3qsMmYDrqTzbeINbZX3sNUxOzwIAr/4llPTgHT7wLvOFQZeO48/cJr5Alfule@WMItCHJ9mMnhtGlNaZxtaONu6ZWpa2y5mRIo5IopIvmLkRMg1cj3lWupqypXnqzFPfH3KEQJJprroJQFfKw/oqYP2lKBngv0QTSaO8jI60JGYPHN0TudZgmkSLKHJY3Kgpb2gmgJFSogGVU1K63AGUkoPnhR26Hfe/fID@PW@99kTIuwMTxnr7A0RDAX@4GP4eCdDGMytLh@xM2aBI5K2wGg4eqijt09DFaEIEagm2TNACAGrAY88W35@CADA5MrTcUwC@RDwgMtLPpudb9r4ohGPoTTHvXMLYs6runOEO9LgJZ4Y8ewDsX2rbepsRrhwcjuu641tO1wyXpNXkbZ@qv2xKQ3UKHoWPOlXn1zf9jdPF7213zjiV2mf/Pj65flb/3nz/fHxabPpf/armwgNsQa7o7GLA/u7M0V9jV/8/K8qp1Tjf0AE/tjmL83VdFzhFQXz9A8" rel="nofollow noreferrer" title="Common Lisp â€“ Try It Online">Try it online!</a></p>
<p>Tests included in TIO.</p>

<pre class="lang-lisp prettyprint-override"><code>(defun R (i &amp;aux (n (length i))  ; take the length of input
                 (u #1=(make-list n))   ; create the top (up) list
                 (b #1#))  ; create the bottom list
  (dotimes (k.. n)
    (setf (elt u k) (find #2=(elt i k) &quot;':&quot;) 
; set the k'th element of the top list to a non-falsey value if k'th element of input is #\' or #\:
          (elt b k) (find #2# &quot;.:&quot;)
; set the k'th element of the bottom list to a non-falsey value if k'th element of input is #\. or #\:
(map 'string  ; collect the results into a string
     (lambda (u b) ; for each element of the rotated up and bottom lists
       (cond
        ((and u b) #\:) ; if both top and bottom are non-falsey add #\:
        (u #\')         ; if only top is non-falsey add #\'
        (b #\.)         ; if only bottom is non-falsey add #\.
        (t #\ )))       ; if both are falsey add '#\ ' (#\Space)
     `(,(car b),@(butlast u))   ; first element of the bottom and the all but last element of the top
     `(,(cdr b),(nth(1- n)u)))) ; all but first element of the bottom and the last element of the top
</code></pre>
<p><em>Saved 6 bytes using</em> <code>#=</code> <em>notation for</em> <code>(make-list n)</code> <em>and</em> <code>(elt i k)</code></p>
</div>
<div id="pu5" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 55 bytes</h1>
<pre><code>' .'':'&amp;([{~([:g@($$_1|.,)g=.|.@{:1}_2{.])&amp;.(|:@#:)@i.)
</code></pre>
<p><a href="https://tio.run/##VVJBasMwELz7FUsbIguSoelxIWAI9JRTriHkEJq0vfQBdvt1Z3dtadeyDNJoNDs79s/4gnSnPVOiDb0Ry7sFHU7HjzERUuK0bs/9f3vmR9euVtfdgE1@7DGg63n3d33vcclrtAN3r5y7b@QxN83n7etXFGVume62mjE4hoKlVEFUosETqOcFRb0ucL3vXHYq@33ncqAigAiok90tEOyys6VK6Yyj4yDuRoxSw4nxeEAso6rruuKghXmYa49VLHol@ZAUq1lCeiE4VwzuXxR1xI5tBGOm4rbVXrQuS3Hl9vUstiDF7PEuZsA/mrYUZ/GyxD1awDxBu4PrahRizcjEix9NyMbUKEyOLEmaVHSH6YeZz4MFE1RdnphSo6CygeYzn6VmfAI" rel="nofollow noreferrer" title="J â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1>Excel, 139 bytes</h1>
<pre><code>=LET(e,LEN(A1),q,SEQUENCE(e),x,CODE(MID(A1,q,1))-32,l,x&gt;7,u,x&gt;l*14,CONCAT(MID(&quot; '.:&quot;,IF(q=1,l,INDEX(u,q-1))+IF(q=e,u,INDEX(l,q+1))*2+1,1)))
</code></pre>
<p><a href="https://1drv.ms/x/s!AkqhtBc2XEHJnD_4qim2waVo0S2j?e=ghmLxp" rel="nofollow noreferrer">Link to Spreadsheet</a></p>
<h2>How it works</h2>
<pre><code>=LET(
*Assignments*
e,LEN(A1),              'e = length of A1
q,SEQUENCE(e),          'q = (1 .. e)
x,CODE(MID(A1,q,1))-32, 'x = list of ASCII codes of each character - 32
l,x&gt;7,                  'l = array of lower numbers = 1 if x&gt;7 (.:)
u,x&gt;l*14,               'u = array of upper numbers = 1 if x&gt;l*14 (':)

*Result*
IF(q=1,l,INDEX(u,q-1)) +   'String indices = if q = 1 then l[1] else u[q-1] 
IF(q=e,u,INDEX(l,q+1))*2+1 '               + (if q=e then u[e] else l[q+1]) * 2 + 1
CONCAT(MID(&quot; '.:&quot;,~,1)))   'Concatenate all the results

</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 41 bytes</h1>
<pre><code>Ã‚)ÎµSâ€':â€.:â€šNÃ¨sÃ¥Â¤Ë†Â¨}RÂ¯Ã¸Ã­Ëœ2Ã¤Ä‡RÂ¸Ã¬Î¶JC&quot; '.:&quot;sÃ¨
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//cJPmua3BjxrmqVsBCT0gMcvv8Iriw0sPLTnddmhFbdCh9Yd3HF57eo7R4SVH2oMO7Ti85tw2L2clBXU9K6Xiwyv@e/3XU1cA8awUFKz01PUU9BSsrCBCQCZQWB0iDgA" rel="nofollow noreferrer" title="05AB1E â€“ Try It Online">Try it online!</a> Outputs as a list of characters. Link includes a footer to format the output.</p>
<pre><code>Ã‚)ÎµSâ€':â€.:â€šNÃ¨sÃ¥Â¤Ë†Â¨}RÂ¯Ã¸Ã­Ëœ2Ã¤Ä‡RÂ¸Ã¬Î¶JC&quot;...&quot;sÃ¨  # trimmed program
                                       Ã¨  # push character...
                                          # (implicit) s...
                                       Ã¨  # in...
                                 &quot;...&quot;s   # literal...
                                       Ã¨  # at...
                                      s   # (implicit) indices in...
                              Î¶           # list of elements with same indices in each element of...
                            Â¸             # list of...
                          Ä‡               # first element of...
 )                                        # list of...
Ã‚                                         # implicit input...
 )                                        # and...
                                          # implicit input...
Ã‚                                         # reversed...
  Îµ                                       # with each element replaced by...
              Ã¥Â¤                          # is...
             s                            # (implicit) each element of...
   S                                      # list of characters of...
                                          # (implicit) current element in map...
              Ã¥                           # in...
            Ã¨s                            # element in...
          â€š                               # list of...
    â€':                                   # literal...
          â€š                               # and...
       â€.:                                # literal...
            Ã¨                             # at index...
           N                              # current index in map...
                 Â¨                        # excluding the last element...
                Ë†                         # and append...
               Â¤                          # last element of...
              Ã¥Â¤                          # is...
             s                            # (implicit) each element of...
   S                                      # list of characters of...
                                          # (implicit) current element in map...
              Ã¥                           # in...
            Ã¨s                            # element in...
          â€š                               # list of...
    â€':                                   # literal...
          â€š                               # and...
       â€.:                                # literal...
            Ã¨                             # at index...
           N                              # current index in map...
                Ë†                         # to global array...
                   R                      # reversed...
                      Ã­                   # with...
                    Â¯                     # global array...
                     Ã¸                    # with each element paired with corresponding element in...
                    Â¯                     # global array...
                      Ã­                   # prepended...
                       Ëœ                  # flattened...
                         Ã¤                # split into...
                        2                 # literal...
                         Ã¤                # equal pieces...
                           R              # reversed...
                             Ã¬            # with...
 )                                        # list of...
Ã‚                                         # implicit input...
 )                                        # and...
                                          # implicit input...
Ã‚                                         # reversed...
  Îµ                                       # with each element replaced by...
              Ã¥Â¤                          # is...
             s                            # (implicit) each element of...
   S                                      # list of characters of...
                                          # (implicit) current element in map...
              Ã¥                           # in...
            Ã¨s                            # element in...
          â€š                               # list of...
    â€':                                   # literal...
          â€š                               # and...
       â€.:                                # literal...
            Ã¨                             # at index...
           N                              # current index in map...
                 Â¨                        # excluding the last element...
                Ë†                         # and append...
               Â¤                          # last element of...
              Ã¥Â¤                          # is...
             s                            # (implicit) each element of...
   S                                      # list of characters of...
                                          # (implicit) current element in map...
              Ã¥                           # in...
            Ã¨s                            # element in...
          â€š                               # list of...
    â€':                                   # literal...
          â€š                               # and...
       â€.:                                # literal...
            Ã¨                             # at index...
           N                              # current index in map...
                Ë†                         # to global array...
                   R                      # reversed...
                      Ã­                   # with...
                    Â¯                     # global array...
                     Ã¸                    # with each element paired with corresponding element in...
                    Â¯                     # global array...
                      Ã­                   # prepended...
                       Ëœ                  # flattened...
                         Ã¤                # split into...
                        2                 # literal...
                         Ã¤                # equal pieces...
                          Ä‡               # excluding the first element...
                             Ã¬            # prepended...
                                          # (implicit) with each element...
                               J          # joined...
                                          # (implicit) with each element...
                                C         # converted from binary to decimal
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Jelly, <s>32</s> <s>30</s> 29 bytes</h1>
<pre><code>,á¹šeâ‚¬&quot;â€œ':â€œ.:â€Âµá¹ªâ‚¬;&quot;á¹šU1Â¦Zá¸„á»‹â€œ'.: 
</code></pre>
<p>Note the trailing space. <a href="http://jelly.tryitonline.net/#code=LOG5mmXigqwi4oCcJzrigJwuOuKAncK14bmq4oKsOyLhuZpVMcKmWuG4hOKAmOG7i-KAnCAnLjo&amp;input=&amp;args=IjouLjonLiI" rel="nofollow noreferrer">Try it online!</a> or <a href="http://jelly.tryitonline.net/#code=LOG5mmXigqwi4oCcJzrigJwuOuKAncK14bmq4oKsOyLhuZpVMcKmWuG4hOKAmOG7i-KAnCAnLjrigJ0Kw4figqzhub7igqxq4oG3&amp;input=&amp;args=IiAgIiwiIC4iLCIuICIsIicgIiwiICciLCI6ICIsIicnIiwiOi4iLCI6LiciLCIuLi4iLCI6IDoiLCInOi4iLCIuOiciLCIgICAgIiwiOjo6OiIsIjouLjonLiIsIiA6ICAuOiciLCI6ICcnLiA6IiwiLi4uLi4uLi4iLCI6Ojo6ICAgICIsIiAgICA6Ojo6IiwiIDogOiA6IDogIiwiLicuJy4nLicuJyIsIi4uIDo6ICAnLicgOi4iLCIuJyAgJy46OiAgOi4nLiAuIDo6LicgICcuIC4gLjo6JyAgOi4nLiI" rel="nofollow noreferrer">verify all test cases</a>.</p>
<h3>Background</h3>
<p>We begin by considering the input string (e.g., <code>:..:'.</code>) and its reverse.</p>
<pre><code>:..:'.
.':..:
</code></pre>
<p>For each character in the top row, we check if it belongs to <code>':</code>, and for each character of the bottom row if it belongs to <code>.:</code>. This gives the 2D array of Booleans</p>
<pre><code>100110
101111
</code></pre>
<p>which is the matrix from the question, with reversed bottom row.</p>
<p>We remove the last Boolean of each row, reverse the order of the rows, prepend the Booleans in their original order, and finally reverse the top row.</p>
<pre><code>100110    10011    10111    010111    111010
101111    10111    10011    110011    110011
</code></pre>
<p>This yields the rotated matrix from the question.</p>
<p>Finally, we consider each column of Booleans a binary number and index into <code>'.: </code> to obtain the appropriate characters.</p>
<pre><code>332031    ::. :'
</code></pre>
<h3>How it works</h3>
<pre><code>,á¹šeâ‚¬&quot;â€œ':â€œ.:â€Âµá¹ªâ‚¬;&quot;á¹šU1Â¦Zá¸„â€˜á»‹â€œ'.:   Main link. Argument: S (string)

 á¹š                              Reverse S.
,                               Form a pair of S and S reversed.
     â€œ':â€œ.:â€                    Yield [&quot;':&quot; &quot;.:&quot;].
  eâ‚¬&quot;                           For each character in S / S reversed, check if it
                                is an element of &quot;':&quot; / &quot;.:&quot;.
                                Yield the corresponding 2D array of Booleans.

            Âµ                   Begin a new, monadic chain.
                                Argument: A (2D array of Booleans)
             á¹ªâ‚¬                 Pop the last Boolean of each list.
                 á¹š              Yield the reversed array of popped list.
               ;&quot;               Prepend the popped items to the popped lists.
                  U1Â¦           Reverse the first list.
                     Z          Zip to turn top and bottom rows into pairs.
                      á¸„         Convert each pair from base 2 to integer.
                        â€œ'.:    Yield &quot;'.: &quot;.
                       á»‹        Retrieve the characters at the corr. indices.
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 124 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(a,s=&quot; .':&quot;,j=&quot;&quot;.join):q=j(bin(4+s.find(i))for i in a);return j(s[int(j(x),2)]for x in zip(q[4]+q[3::5],q[9::5]+q[-2]))
</code></pre>
<p><a href="https://tio.run/##TVK7bsMwDJybryC0UEJUDkk6RIW/xPCQIjYqD05sq0Dan3dJUUorAyHv@Lizo/t3@rxNx2279gMM9uLXxgBhMH5sjKHxFicX5ma0H3Gyp/1KQ5yuNjo33BaIECe4uPelT1/LBKNd2zglO9qH8wfXSctDWn7i3c7tqdvP7TGEt87P7Vki49dD59yW@jWtAE27a1ndeDAEpvOMODLCgjAjQEUcBZGioJ2lhloLpZZ3BqwIFZZJIi1XzcBjsiqUOuo41XlJpL9uBz5ZTaJu4JNbJBZNEr3MEdRNEADKNgIkevoFRCoukLvpz2k@ajeff4rVB6c8Vb0IW/1wyj6qJ1bXR/U1r@@I9ckmnrD6AJFjAsqn5b2smfFzgzRIG1MEMqEUp0yj8vrv8iQDfk3MrfxJhMop08qbrtvJjUq@lzuVr0zYvdwXuXKDTc6D/ELTQO@2Xw" rel="nofollow noreferrer" title="Python 3 â€“ Try It Online">Try it online!</a></p>
<h2>How it works :</h2>
<ul>
<li><code>q=&quot;&quot;.join(bin(4+s.find(i))for i in a)</code> store an unpacked version of our starting string <code>a</code> by using binary conversion</li>
</ul>
<p>If <code>a</code> is equal to</p>
<pre class="lang-python prettyprint-override"><code>ABCD
EFGH
</code></pre>
<p>then <code>q</code> is equal to <code>---ae---bf---cg---dh</code> with a to h equal to <code>&quot;1&quot;</code> if there is a dot in the corresponding emplacement and <code>&quot;0&quot;</code> otherwise (and <code>---</code> equal to <code>0b1</code>)</p>
<ul>
<li><p><code>zip(q[4]+q[3::5],q[9::5]+q[-2])</code> reshapes <code>q</code> to have : <code>(eabcd),(fghd)</code> (the last <code>d</code> in the first part is ignored since the second part is shorter)</p>
</li>
<li><p><code>s[int(&quot;&quot;.join(x),2)]</code> reverse the process converting back the binary number into their dot version. Result :</p>
</li>
</ul>
<pre class="lang-python prettyprint-override"><code>EABC
FGHD
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/Lyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 44 bytes</h1>
<pre><code>f`:'. `fâºâ†‘b2áº‡Ä¿2áº‡ÃTÃ·á¸£â€á¹«$â€pâ€ŸJWÃTâºâ†‘b2áº‡`:'. `fÄ¿âˆ‘
</code></pre>
<p><a href="https://lyxal.pythonanywhere.com?flags=&amp;code=f%60%3A%27.%20%60f%E2%81%BA%E2%86%91b2%E1%BA%87%C4%BF2%E1%BA%87%C3%9ET%C3%B7%E1%B8%A3%E2%80%9E%E1%B9%AB%24%E2%80%9Ep%E2%80%9FJW%C3%9ET%E2%81%BA%E2%86%91b2%E1%BA%87%60%3A%27.%20%60f%C4%BF%E2%88%91&amp;inputs=%27%3A..%3A%5C%27.%27&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Yuck.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://esolangs.org/wiki/MATL" rel="nofollow noreferrer">MATL</a>, <s>40</s> 39 bytes</h1>
<pre><code>' ''.:'tjw4#mqBGnXKq:QKEh1Kq:K+hv!)XBQ)
</code></pre>
<p><a href="https://tio.run/##y00syfn/X11BXV3PSr0kq9xEObfQyT0vwrvQKtDbNcMQSHtrZ6iVKWpGOAVq/v@vp66gAFRqpaBgpaeup6CnYGUFEQIygcLqEHEA" rel="nofollow noreferrer"><strong>Try it online!</strong></a> <em>The linked version has <code>v</code> repaced by <code>&amp;v</code>, because of changes in the language after this answer was posted</em>.</p>
<pre><code>' ''.:'               % pattern string. Will indexed into, twice: first for reading 
                      % the input and then for generating the ouput
t                     % duplicate this string
j                     % input string
w                     % swap
4#m                   % index of ocurrences of input chars in the pattern string
qB                    % subtract 1 and convert to binay. Gives 2-row logical array
GnXKq:QKEh1Kq:K+hv!   % (painfully) build two-column index for rotation
)                     % index into logical array to perform the rotation
XBQ                   % transform each row into 1, 2, 3 or 4
)                     % index into patter string. Implicitly display
</code></pre>
</div>
<div id="pu12" class="pu"><h1>Python 3, <s>166</s> <s>154</s> <s>153</s> <s>150</s> <s>146</s> <s>138</s> <s>137</s> <s>135</s> <s>132</s> 127 bytes</h1>



<p><strong>Edit:</strong> I've borrowed the use of <code>zip</code> from <a href="https://codegolf.stackexchange.com/a/75353/47581">Erwan's Python answer</a> at the end of the function. <s>and their idea to use <code>[::-1]</code> reversals, though I put in my own twist.</s> As it turns out, reversals were not a good idea for my function. I have changed my use of <code>format</code> for further golfing. Moved <code>a</code> and <code>b</code> directly into <code>zip</code> for further golfing (ungolfing remains unchanged because the separation of <code>a</code> and <code>b</code> there is useful for in avoiding clutter in my explanation)</p>

<p><strong>Edit:</strong> Borrowed <code>(some number)&gt;&gt;(n)&amp;(2**something-1)</code> from <a href="https://codegolf.stackexchange.com/a/76296/47581">this answer by xnor on the Music Interval Solver challenge</a>. The clutter that is <code>zip(*[divmod(et cetera, 2) for i in input()])</code> can probably be golfed better, though I do like the expediency it grants from using two tuples <code>t</code> and <code>v</code>.</p>

<pre class="lang-python prettyprint-override"><code>t,v=zip(*[divmod(708&gt;&gt;2*(ord(i)%5)&amp;3,2)for i in input()])
print("".join(" '.:"[i+j*2]for i,j in zip((v[0],*t),(*v[1:],t[-1]))))
</code></pre>

<p><strong>Ungolfed:</strong></p>

<pre class="lang-python prettyprint-override"><code>def rotate_dots(s):
    # dots to 2 by len(s) matrix of 0s and 1s (but transposed)
    t = []
    v = []
    for i in s:
        m = divmod(708 &gt;&gt; 2*(ord(i)%5) &amp; 3, 2)
            # ord(i)%5 of each char in . :' is in range(1,5)
            # so 708&gt;&gt;2 * ord &amp; 3 puts all length-2 01-strings as a number in range(0,4)
            # e.g. ord(":") % 5 == 58 % 5 == 3
            # 708 &gt;&gt; 2*3 &amp; 3 == 0b1011000100 &gt;&gt; 6 &amp; 3 == 0b1011 == 11
            # divmod(11 &amp; 3, 2) == divmod(3, 2) == (1, 1)
            # so, ":" -&gt; (1, 1)
        t.append(m[0])
        v.append(m[1])

    # transposing the matrix and doing the rotations
    a = (v[0], *t)          # a tuple of the first char of the second row 
                            # and every char of the first row except the last char
    b = (v[1:], t[-1])      # and a tuple of every char of the second row except the first
                            # and the last char of the first row

    # matrix to dots
    z = ""
    for i, j in zip(a, b):
        z += " '.:"[i + j*2]    # since the dots are binary
                                # we take " '.:"[their binary value]
    return z
</code></pre>
</div>
<div id="pu13" class="pu"><h1>Perl, <s>70</s> <s>69</s> <s>64</s> <s>63</s> <s>61</s> 60 bytes</h1>

<p>Includes +2 for <code>-lp</code></p>

<p>Run with the input string on STDIN, e.g.</p>

<pre><code>perl -lp rotatedots.pl &lt;&lt;&lt; ":..:'."
</code></pre>

<p><code>rotatedots.pl</code>:</p>

<pre><code>y/'.:/02/r=~/./;y/.':/01/;$_=$'.2*chop|$&amp;/2 .$_;y;0-3; '.:
</code></pre>

<h2>Explanation</h2>

<pre><code>y/'.:/02/r                                        Construct bottom row but
                                                  with 2's instead of 1's
                                                  Return constructed value
                                                  (for now assume space
                                                  becomes 0 too)
          =~/./                                   Match first digit on bottom
                                                  row into $&amp;. $' contains
                                                  the rest of the bottom row
                y/.':/01/                         Convert $_ to top row
                                                  (again assume space
                                                  becomes 0 too)
                             $'.2*chop            Remove last digit from
                                                  the top row, multiply by 2
                                                  and append to bottom row
                                       $&amp;/2 .$_   Divide removed digit by
                                                  2 and prepend it to the
                                                  top row
                          $_=         |           "or" the top and bottom
                                                  row together. The ASCII
                                                  values of 0,1,2,3 have
                                                  00,01,10,11 as their last
                                                  two bits.

y;0-3; '.:                  Convert the smashed together top and bottom rows
                            to the corresponding representation characters.
                            Drop the final ; since it is provided by -p
                            (after a newline which doesn't matter here)
</code></pre>

<p>Space <code></code>  is not converted in the above code. For the calculations <code>/2</code> and <code>*2</code> it will behave like and become <code>0</code>. In the other positions it will be part of the "or", but the 1 bits of space are a subset of the one bits of <code>0</code> and will have the same effect as <code>0</code> if or-ed with any of the digits. Only if the character it is or-ed with is a space will it remain a space instead of becoming a <code>0</code>. But that's ok since <code>0</code> would have been converted back to space anyways.</p>
</div>
<div id="pu14" class="pu"><h1>Python 3, <s>145</s> <s>141</s> 130 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(s):a=[i in&quot;':&quot;for i in s]+[i in&quot;.:&quot;for i in s][::-1];return''.join(&quot; '.:&quot;[i+2*j]for i,j in zip([a[-1]]+a,a[-2:len(s)-2:-1]))
</code></pre>
<h2>Explanation</h2>
<p>The golfed solution use the following property of zip : <code>zip('ABCD', 'xy') --&gt; Ax By </code>
so <code>zip(a[:l],a[l:]) </code> can be replace by <code>zip(a,a[l:])</code> and that allow to remove the definition of <code>l</code></p>
<pre class="lang-python prettyprint-override"><code>def f(s):
 l=len(s)-1
 #                â”Œâ”€â”€â”€â”€â”€ unfold input string :  123  -&gt; 123456
 #                â”‚                             654
 #  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 a=[i in&quot;':&quot;for i in s]+[i in&quot;.:&quot;for i in s][::-1]
 # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 #          â”‚                        â””â”€â”€â”€â”€ generate the second row and reverse it
 #          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ generate the first row 

 return''.join(&quot; '.:&quot;[i+2*j]for i,j in zip([a[-1]]+a[:l],a[l:-1][::-1]))
 #             â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€           â”€â”¬    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 #                   â”‚                  â”‚                â””â”€â”€â”€â”€ rotate and create first/second new row :  123456  -&gt; 612345  -&gt; 612
 #                   â”‚                  â”‚                                                                                      543
 #                   â”‚                  â”” group pair of the first and second row : 612 -&gt; (6,5),(1,4),(2,3)
 #                   â”‚                                                             543
 #                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ replace pair by symbol 
</code></pre>
<h2>Results</h2>
<pre class="lang-python prettyprint-override"><code>&gt;&gt;&gt; f(&quot;.'  '.::  :.'. . ::.'  '. . .::'  :.'.&quot;)
&quot;' ' .:.''..'.'. ..:' ' .'. ...'''..'.'&quot;
&gt;&gt;&gt; f(&quot;.....''''''&quot;)
&quot;:...  '''':&quot;
</code></pre>
</div>
<div id="pu15" class="pu"><h2>Perl, <s>144</s> <s>142</s> <s>137</s> 131 bytes</h2>



<pre class="lang-perl prettyprint-override"><code>y/.':/1-3/;s/./sprintf'%02b ',$&amp;/ge;@a=/\b\d/g;@b=(/\d\b/g,pop@a);@a=(shift@b,@a);say map{substr" .':",oct"0b$a[$_]$b[$_]",1}0..@a
</code></pre>

<p>Byte added for the <code>-n</code> flag.</p>

<p>Pretty much the same algorithm as <a href="https://codegolf.stackexchange.com/a/75303/3808">my Ruby answer</a>, just shorter, because... Perl.</p>

<pre class="lang-perl prettyprint-override"><code>y/.':/1-3/;                         # transliterate [ .':] to [0123]
s/./sprintf'%02b ',$&amp;/ge;           # convert each digit to 2-digit binary
@a=/\b\d/g;                         # grab the 1st digit of each pair
@b=(/\d\b/g,                        # 2nd digit of each pair
pop@a);                             # push the last element of a to b
@a=(shift@b,@a);                    # unshift the first element of b to a
say                                 # output...
map{                                # map over indices of a/b
substr" .':",oct"0b$a[$_]$b[$_]",1  # convert back from binary, find right char
}0..@a                              # @a is length of a
</code></pre>

<p>Obnoxiously, <code>@a=(shift@b,@a)</code> is shorter than <code>unshift@a,shift@b</code>.</p>

<p>Alas, these are the same length:</p>

<pre class="lang-perl prettyprint-override"><code>y/ .':/0-3/;s/./sprintf'%02b ',$&amp;/ge;
s/./sprintf'%02b ',index" .':",$&amp;/ge;
</code></pre>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/51507/ton-hospel">Ton Hospel</a> for 5 bytes and <a href="https://codegolf.stackexchange.com/users/1976/msh210">msh210</a> for a byte!</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/mbuettner/retina" rel="nofollow noreferrer">Retina</a>, 66</h1>
<ul>
<li>2 bytes saved thanks to @daavko</li>
<li>4 bytes saved thanks to @randomra</li>
</ul>
<pre>
:
1e
\.
1f
'
0e
 
0f
T`h`Rh`^.|.$
(.)(\d)
$2$1
e1
:
e0
'
f0
 
f1
.
</pre>
<h3>Explanation</h3>
<p>Starting with input:</p>
<pre><code>: ''. :
</code></pre>
<p>The first 4 stages construct the matrix, using <code>1</code>/<code>e</code> for true and <code>0</code>/<code>f</code> for false for the top/bottom rows, respectively.  Top and bottom rows are interlaced together.  This would yield a string like:</p>
<pre><code>e1f0e0e0f1f0e1
</code></pre>
<p>However, these 4 stages also effectively move the lower row 1 to the left, simply by reversing the order of the letters and digits:</p>
<pre><code>1e0f0e0e1f0f1e
</code></pre>
<p>The <code>T</code>ransliteration stage reverses hex digits for the first and last characters only, i.e. replaces <code>0-9a-f</code> with <code>f-a9-0</code>.  This has the effect of moving the bottom-left character up to the top row and the top-right character down to the bottom row:</p>
<pre><code>ee0f0e0e1f0f11
</code></pre>
<p>The next stage then swaps every letter-digit pair, thereby moving the upper row 1 to the right.  Previously this was <code>(\D)(\d)</code>, but it turns out that <code>(.)(\d)</code> is sufficient because the substitutions always happen left-to-right and so the final two digits won't be erroneously matched by this, because penultimate character will have been already substituted.  The matrix has now been fully rotated as required:</p>
<pre><code>e0e0f0e1e0f1f1
</code></pre>
<p>The final 4 stages then translate back to the original format:</p>
<pre><code>'' :'..
</code></pre>
<p><a href="http://retina.tryitonline.net/#code=OgoxZQpcLgoxZgonCjBlCiAKMGYKVGBoYFJoYF4ufC4kCiguKShcZCkKJDIkMQplMQo6CmUwCicKZjAKIApmMQou&amp;input=OiAnJy4gOg" rel="nofollow noreferrer">Try it online.</a></p>
<p><a href="http://retina.tryitonline.net/#code=OgoxZQpcLgoxZgonCjBlCiAKMGYKVG1gaGBSaGBeLnwuJAooLikoXGQpCiQyJDEKZTEKOgplMAonCmYwCiAKZjEKLg&amp;input=ICAKIC4KLiAKJyAKICcKOiAKJycKOi4KOi4nCi4uLgo6IDoKJzouCi46JwogICAgCjo6OjoKOi4uOicuCiA6ICAuOicKOiAnJy4gOgouLi4uLi4uLgo6Ojo6ICAgIAogICAgOjo6OgogOiA6IDogOiAKLicuJy4nLicuJwouLiA6OiAgJy4nIDouCi4nICAnLjo6ICA6LicuIC4gOjouJyAgJy4gLiAuOjonICA6Licu" rel="nofollow noreferrer">All testcases, one per line</a>, <code>m</code> added to <code>T</code> line to allow separate treatment of each input line.</p>
</div>
<div id="pu17" class="pu"><h1>JavaScript (ES6), <s>100</s> <s>97</s> 93 bytes</h1>

<p><em>Saved 4 bytes thanks to @edc65</em></p>

<pre><code>s=&gt;s.replace(/./g,(c,i)=&gt;" '.:"[(i?q&gt;' '&amp;q!=".":c&gt;"'")+(q=c,s[++i]?s[i]&gt;"'":c&gt;' '&amp;c!=".")*2])
</code></pre>

<h3>How it works</h3>

<p>This decides on the character we need to insert by performing some calculations on the chars before and after the current one. We sum:</p>

<ul>
<li>If it's the first char, and it has a dot on the bottom, 2;</li>
<li>Otherwise, if the one before it has a dot on top, 2.</li>
<li>If it's the last char, and it has a dot on top, 1;</li>
<li>Otherwise, if the one after it has a dot on the bottom, 1.</li>
</ul>

<p>This sums nicely to 0 for a space, 1 for <code>'</code>, 2 for <code>.</code>, and 3 for <code>:</code>.</p>

<h2>Test snippet</h2>

<p><div class="snippet" data-lang="js" data-hide="true">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=s=&gt;s.replace(/./g,(c,i)=&gt;" '.:"[(i?q&gt;' '&amp;q!=".":c&gt;"'")+(q=c,s[++i]?s[i]&gt;"'":c&gt;' '&amp;c!=".")*2])</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>Try it out:
&lt;input id=A type="text" value=".'  '.::  :.'. . ::.'  '. . .::'  :.'."&gt;
&lt;button onclick="B.innerHTML=f(A.value)"&gt;Run&lt;/button&gt;
&lt;pre id=B&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu18" class="pu"><h2>JavaScript (ES6), <strike>237</strike> <strike>210</strike> <strike>204</strike> <strike>188</strike> <strike>182</strike> 178 bytes</h2>

<p><em>Credit to <a href="https://codegolf.stackexchange.com/users/40695/downgoat">@Downgoat</a> for saving 16 bytes in the 188-byte revision</em></p>

<p><em>Update: I had a brainwave and reduced the first operation on <code>s</code> to a single <code>map</code> call instead of two separate ones</em></p>



<pre class="lang-javascript prettyprint-override"><code>s=&gt;(r=" .':",a=[],s=[...s].map(c=&gt;(t=('00'+r.indexOf(c).toString(2)).slice(-2),a.push(t[0]),t[1])),a.splice(0,0,s.shift()),s.push(a.pop()),a.map((v,i)=&gt;r[+('0b'+v+s[i])]).join``)
</code></pre>

<h3>Pretty Print &amp; Explanation</h3>

<pre class="lang-javascript prettyprint-override"><code>s =&gt; (
  r = " .':", // Map of characters to their (numerical) binary representations (e.g. r[0b10] = "'")
  a = [],     // extra array needed
  // Spread `s` into an array
  s = [...s].map(c =&gt; (
    // Map each character to a `0`-padded string representation of a binary number, storing in `t`
    t = ('00' + r.indexOf(c).toString(2)).slice(-2)),
    // Put the first character of `t` into `a`
    a.push(t[0]),
    // Keep the second character for `s`
    t[1]
  )),
  // Put the first character of `s` in the first index of `a`
  a.splice(0,0,s.shift()),
  // Append the last character of `a` to `s`
  s.push(a.pop(),
  // Rejoin the characters, alternating from `a` to `s`, representing the rotated matrix, and map them back to their string representation
  // Use implicit conversion of a binary number string using +'0b&lt;num&gt;'
  a.map((v,i) =&gt; r[+('0b' + v + s[i])]).join``
)
</code></pre>
</div>
<div id="pu19" class="pu"><h2>Lua, 139 bytes</h2>

<pre><code>print(((...):gsub(".",{[" "]="NN@",["."]="YN@",["'"]="NY@",[":"]="YY@"}):gsub("(.)@(.?)","%2%1"):gsub("..",{NN=" ",NY=".",YN="'",YY=":"})))
</code></pre>

<p>Usage:  </p>

<pre><code>$ lua conveyor.lua ".'  '.::  :.'. . ::.'  '. . .::'  :.'."
' ' .:.''..'.'. ..:' ' .'. ...'''..'.'
</code></pre>
</div>
<div id="pu20" class="pu"><h1>Pyth, <del>38</del> 36</h1>

<pre><code>L,hb_ebsXCyc2.&gt;syCXzJ" .':"K.DR2T1KJ
</code></pre>

<p>2 bytes thanks to Jakube!</p>

<p><a href="http://pyth.herokuapp.com/?code=L%2Chb_ebsXCyc2.%3EsyCXzJ%22+.%27%3A%22K.DR2T1KJ&amp;input=..+%3A%3A++%27.%27+%3A.&amp;debug=0" rel="nofollow">Try it here</a> or run the <a href="http://pyth.herokuapp.com/?code=L%2Chb_ebsXCyc2.%3EsyCXzJ%22+.%27%3A%22K.DR2T1KJ&amp;test_suite=1&amp;test_suite_input=++%0A+.%0A.+%0A%27+%0A+%27%0A%3A+%0A%27%27%0A%3A.%0A%3A.%27%0A...%0A%3A+%3A%0A%27%3A.%0A.%3A%27%0A++++%0A%3A%3A%3A%3A%0A%3A..%3A%27.%0A+%3A++.%3A%27%0A%3A+%27%27.+%3A%0A........%0A%3A%3A%3A%3A++++%0A++++%3A%3A%3A%3A%0A+%3A+%3A+%3A+%3A+%0A.%27.%27.%27.%27.%27%0A..+%3A%3A++%27.%27+%3A.%0A.%27++%27.%3A%3A++%3A.%27.+.+%3A%3A.%27++%27.+.+.%3A%3A%27++%3A.%27.&amp;debug=0" rel="nofollow">Test Suite</a>.</p>

<h3>Explanation:</h3>

<pre><code>L,hb_eb         ##  Redefine the function y to take two lists
                ##  and return them but with the second one reversed
                ##  Uses W to apply a function only if it's first argument is truthy
XzJ" .':"K.DR2T ##  Does a translation from the string " .':" to
                ##  .DR2T which is [0,1,2,3...,9] mapped to divmod by 2
                ##  (which is [0,0],[0,1],[1,0],[1,1], then some extra, unused values)
                ##  we also store the string and the list for later use in J and K
.&gt;syC ... 1     ##  zip the lists to get the bits on top and below as two separate lists
                ##  apply the function y from before, flatten and rotate right by 1
Cyc2            ##  split the list into 2 equal parts again, then apply y and zip again
sX ... KJ       ##  apply the list to string transformation from above but in reverse
                ##  then flatten into a string
</code></pre>
</div>
<div id="pu21" class="pu"><h1>Javascript ES6 125 bytes</h1>
<pre><code>q=&gt;(n=[...q].map(a=&gt;(S=` .':`).indexOf(a))).map((a,i)=&gt;(i?n[i-1]&amp;2:n[0]&amp;1&amp;&amp;2)|((I=n[i+1])&gt;-1?I&amp;1:n[i]&amp;2&amp;&amp;1)).map(a=&gt;S[a]).join``
</code></pre>
<hr>
<p>I map each character to a two digit binary equivalent</p>
<pre><code> : becomes 3   11
 ' becomes 2   10
 . becomes 1   01
   becomes 0   00
</code></pre>
<p>and I'm thinking of them as being one on top of the other</p>
<pre><code>3212021 becomes
1101010
1010001
</code></pre>
<p>I save that to n</p>
<p>For each character (0-3) of n, I check it's neighbors, adding the highest order bit of the left neighbor to the lowest order bit of the right neighbor.
if i==0 (first character) I use it's own lower order bit instead of the left neighbor's higher order bit.</p>
<p>if n[i+1]&gt;-1 it means we got 0,1,2,3 so when that's false we hit the last element.</p>
<p>When that happens I use the character's own highest order bit instead of the right neighbor's lower bit</p>
<p>map that back to <code> .':</code> land and join that array back together</p>
</div>
<div id="pu22" class="pu"><h2>Ruby, <s>166</s> 163 bytes</h2>

<pre><code>-&gt;s{a=s.tr(f=" .':",t='0-3').chars.map{|x|sprintf('%02b',x).chars}.transpose;a[1]+=[a[0].pop];a[0]=[a[1].shift]+a[0];a.transpose.map{|x|x.join.to_i 2}.join.tr t,f}
</code></pre>

<p>Yuck... <code>transpose</code> is too long.</p>

<p>Tricks used here:</p>

<ul>
<li><p><code>sprintf('%02b',x)</code> to convert <code>"0"</code>, <code>"1"</code>, <code>"2"</code>, <code>"3"</code> into <code>"00"</code>, <code>"01"</code>, <code>"10"</code>, and <code>"11"</code> respectively. Surprisingly, the second argument does <em>not</em> have to be converted into an integer first.</p></li>
<li><p>The rotation is done via <code>a[1].push a[0].pop;a[0].unshift a[1].shift;</code>, which I thought was at least a little clever (if not excessively verbose in Ruby). The symmetry is aesthetically nice, anyway :P</p></li>
</ul>
</div>
<div id="pu23" class="pu"><h1>Python 3, <s>294</s> <s>287</s> 283 bytes</h1>
<p>Waaayyyyyy too long, but I will try to golf of some bytes:</p>
<pre><code>z=input()
x=len(z)
M=[0,1,2,3]
for Q in M:z=z.replace(&quot;:'. &quot;[Q],&quot;11100100&quot;[Q*2:Q*2+2])
a=[]
b=[]
for X in range(x):a+=[z[X*2]];b+=[z[X*2+1]]
b=b[1:]+[a.pop()]
c=[b[0]]+a
z=&quot;&quot;
for X in range(len(c)):
 y=c[X]+b[X]
 for Q in M:y=y.replace(&quot;11100100&quot;[Q*2:Q*2+2],&quot;:'. &quot;[Q])
 z+=y
print(z)
</code></pre>
</div>
<div id="pu24" class="pu"><h1>Pyth, 66 bytes</h1>
<pre><code>KlQJ.nCm@[,1Z,Z1,ZZ,1 1)%Cd5Qjkm@&quot; .':&quot;id2Ccs[:JKhK&lt;JtK&gt;JhK:JtKK)K
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=KlQJ.nCm%40%5B%2C1Z%2CZ1%2CZZ%2C1%201%29%25Cd5Qjkm%40%22%20.%27%3A%22id2Ccs%5B%3AJKhK%3CJtK%3EJhK%3AJtKK%29K&amp;input=%22%20.%22&amp;test_suite=1&amp;test_suite_input=%22%20%20%22%0A%22%20.%22%0A%22.%20%22%0A%22%27%20%22%0A%22%20%27%22%0A%22%3A%20%22%0A%22%27%27%22%0A%22%3A.%22%0A%22%3A.%27%22%0A%22...%22%0A%22%3A%20%3A%22%0A%22%27%3A.%22%0A%22.%3A%27%22%0A%22%20%20%20%20%22%0A%22%3A%3A%3A%3A%22%0A%22%3A..%3A%27.%22%0A%22%20%3A%20%20.%3A%27%22%0A%22%3A%20%27%27.%20%3A%22%0A%22........%22%0A%22%3A%3A%3A%3A%20%20%20%20%22%0A%22%20%20%20%20%3A%3A%3A%3A%22%0A%22%20%3A%20%3A%20%3A%20%3A%20%22%0A%22.%27.%27.%27.%27.%27%22%0A%22..%20%3A%3A%20%20%27.%27%20%3A.%22%0A%22.%27%20%20%27.%3A%3A%20%20%3A.%27.%20.%20%3A%3A.%27%20%20%27.%20.%20.%3A%3A%27%20%20%3A.%27.%22&amp;debug=0" rel="nofollow noreferrer">Try it here!</a></p>
<h2>Explanation</h2>
<p>This can be broken down in 3 parts:</p>
<ul>
<li>Convert the input into a flat array of ones and zeros.</li>
<li>Do the rotation.</li>
<li>Convert it back into ASCII.</li>
</ul>
<h3>Convert input</h3>
<p>This is fairly trivial. Each character is mapped in the following way:</p>
<pre>
  -> (0,0)
. -> (0,1)
' -> (1,0)
: -> (1,0)
</pre>
<p><em>First one is a whitespace.</em><br />
We get a list of 2-tuples which we transpose to get the 2 rows of the matrix which then gets flattened.</p>
<p><strong>Code</strong></p>
<pre>
KlQJ.nCm@[,1Z,Z1,ZZ,1 1)%Cd5Q   # Q = input

KlQ                             # save the width of the matrix in K (gets used later)
       m                    Q   # map each character d
                        %Cd5    # ASCII-code of d modulo 5
        @[,1Z,Z1,ZZ,1 1)        # use this as index into a lookup list
   J.nC                         # transpose, flatten and assign to J
                        
</pre>
<h3>Rotate</h3>
<p>We have the matrix as flat array in <code>J</code> and the width of the matrix in <code>K</code>. The rotation can be described as:</p>
<pre><code>J[K] + J[:K-1] + J[K+1:] + J[K-1]
</code></pre>
<p><strong>Code</strong></p>
<pre>
s[:JKhKJhK:JtKK)    # J = flat array, K = width of matrix

s[                  )    # Concat all results in this list
  :JKhK                  # J[K]
       JhK          # J[K+1:]
               :JtKK     # J[K-1]
</pre>
<h2>Convert it back</h2>
<pre>
jkm@" .':"id2Cc[)K    # [) = resulting list of the step above

              c[)K    # chop into 2 rows
             C        # transpose to get the 2-tuples back
  m                   # map each 2-tuple d
          id2         # interpret d as binary and convert to decimal
   @" .':"            # use that as index into a lookup string to get the correct char
jk                    # join into one string

</pre>
</div>
<div id="pu25" class="pu"><h1>JavaScript, 311 bytes</h1>

<p>Can probably be improved alot:</p>

<pre><code>a=(s=prompt()).length-1;o=s[0]==":"||s[0]=="."?s[1]==":"||s[1]=="."?":":"'":s[1]==":"||s[1]=="."?".":" ";for(i=1;i&lt;a;i++)o+=s[i-1]=="'"||s[i-1]==":"?s[i+1]=="."||s[i+1]==":"?":":"'":s[i+1]=="."||s[i+1]==":"?".":" ";alert(o+=s[a]==":"||s[a]=="'"?s[a-1]==":"||s[a-1]=="'"?":":"'":s[a-1]==":"||s[a-1]=="'"?".":" ")
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/75293/">75293</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




