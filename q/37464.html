<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::37464</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>087</td><td>Python 3 / JavaScript V8</td><td>250612T095609Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/282258#282258">Lucenapo</a></td></tr>
<tr d-ix="1"><td>703</td><td>Vyxal D</td><td>220210T132203Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/242665#242665">Jakque</a></td></tr>
<tr d-ix="2"><td>031</td><td>Wumpus/><>/Befunge98</td><td>180213T011233Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/155627#155627">Jo King</a></td></tr>
<tr d-ix="3"><td>1031</td><td>Perl 5/Ruby/JavaScript Node.js/Bash/Python 2/PHP</td><td>180425T154327Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/163371#163371">Dom Hast</a></td></tr>
<tr d-ix="4"><td>153</td><td>Perl 5/Ruby/PHP/JavaScript Browser</td><td>180222T190045Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/156500#156500">Dom Hast</a></td></tr>
<tr d-ix="5"><td>106</td><td>Perl/Javascript SpiderMonkey</td><td>180206T165547Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/155010#155010">Dom Hast</a></td></tr>
<tr d-ix="6"><td>746</td><td>C#/Java</td><td>160915T105615Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/93311#93311">Ivan Koc</a></td></tr>
<tr d-ix="7"><td>555</td><td>C/Lisp</td><td>170526T042501Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/122892#122892">MD XF</a></td></tr>
<tr d-ix="8"><td>152</td><td>C/dc</td><td>170526T042122Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/122891#122891">MD XF</a></td></tr>
<tr d-ix="9"><td>nan</td><td>C/PHP</td><td>170523T163455Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/122254#122254">MD XF</a></td></tr>
<tr d-ix="10"><td>165</td><td>><> and CJam</td><td>170523T222025Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/122299#122299">Esolangi</a></td></tr>
<tr d-ix="11"><td>1636</td><td>C/Vim 4.0</td><td>170523T160853Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/122246#122246">MD XF</a></td></tr>
<tr d-ix="12"><td>337</td><td>C/TCL</td><td>170523T160645Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/122244#122244">MD XF</a></td></tr>
<tr d-ix="13"><td>028</td><td>reticular/befunge98</td><td>161111T172305Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/99462#99462">Conor O&</a></td></tr>
<tr d-ix="14"><td>014</td><td>05AB1E/2sable</td><td>161111T042627Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/99386#99386">Oliver N</a></td></tr>
<tr d-ix="15"><td>073</td><td>Bash/GolfScript</td><td>140915T215617Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/37857#37857">jimmy230</a></td></tr>
<tr d-ix="16"><td>034</td><td>CJam/GolfScript</td><td>140915T185834Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/37849#37849">Dennis</a></td></tr>
<tr d-ix="17"><td>082</td><td>Bash/Ruby</td><td>140910T184940Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/37594#37594">jimmy230</a></td></tr>
<tr d-ix="18"><td>134</td><td>Python 3 and JavaScript</td><td>140908T140328Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/37470#37470">grc</a></td></tr>
<tr d-ix="19"><td>052</td><td>Ruby/Perl/PHP</td><td>140908T180226Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/37475#37475">histocra</a></td></tr>
<tr d-ix="20"><td>171</td><td>PHP/Perl</td><td>140908T191102Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/37477#37477">hmatt1</a></td></tr>
<tr d-ix="21"><td>225</td><td>Ruby/Mathematica</td><td>140908T125845Z</td><td><a href="https://codegolf.stackexchange.com/questions/37464/write-a-polyquine/37465#37465">Martin E</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a> / <a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 87 bytes</h1>

<pre class="lang-python prettyprint-override"><code>p="'";f=';print("p="+f[7]+p+f[7]+";f="+p+f+p+f)';print("p="+f[7]+p+f[7]+";f="+p+f+p+f)

</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/7/v8BWSV3JOs1W3bqgKDOvREMJKKCdFm0eq10AoUCSSiAOCGsSqYzr/38A" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online - Python!</a></p>
<p><a href="https://tio.run/##y0osSyxOLsosKNEts/j/v8BWSV3JOs1W3bqgKDOvREMJKKCdFm0eq10AoUCSSiAOCGsSqYzr/38A" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online - Javascript!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>D</code>, 70 bytes/ <a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 77 bytes</h1>
<pre><code>a=&quot;`q‛:Ė+34Cp‛a=print('a=%r;exec(a[13:])#\\140:Ė'%a)&quot;;exec(a[13:])#`:Ė
</code></pre>
<p>Vyxal : <a href="https://vyxal.pythonanywhere.com/#WyJEIiwiIiwiYT1cImBx4oCbOsSWKzM0Q3DigJthPXByaW50KCdhPSVyO2V4ZWMoYVsxMzpdKSNcXFxcMTQwOsSWJyVhKVwiO2V4ZWMoYVsxMzpdKSNgOsSWIiwiIiwiIl0=" rel="nofollow noreferrer">Try it Online!</a></p>

<pre class="lang-python prettyprint-override"><code>a=&quot;`q‛:Ė+34Cp‛a=print('a=%r;exec(a[13:])#\\140:Ė'%a)&quot;;exec(a[13:])#`:Ė
</code></pre>

<p>Python : <a href="https://tio.run/##K6gsycjPM/7/P9FWKaHwUcNsqyPTtI1NnAuAzETbgqLMvBIN9URb1SLr1IrUZI3EaENjq1hN5ZgYQxMDoFJ11URNJVSpBKDw//8A" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>The difference beetween the number of bytes is due to the fact that vyxal and python doesn't use the same charset</p>
<h2>Explanation :</h2>
<ul>
<li>Vyxal</li>
</ul>
<pre><code>a=&quot;                            # do nothing revelent here
   `q‛:Ė+                 `:Ė  # structure for a quine
         34Cp‛a=p              # prepend `a=&quot;` to the string 
                 rint          # do stuff that somehow push 0 to the stack
                     (         # for loop over 0 (do nothing)
                        #      # comment and implicily close the loop
                               # implicit output
</code></pre>
<ul>
<li>Python</li>
</ul>
<p>The quine is a variation of <code>a=&quot;print('a=%r;exec(a)'%a)&quot;;exec(a)</code></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/m-ender/wumpus" rel="nofollow noreferrer">Wumpus</a>/<a href="https://esolangs.org/wiki/Fish" rel="nofollow noreferrer">&gt;&lt;&gt;</a>/<a href="https://github.com/catseye/FBBI" rel="nofollow noreferrer">Befunge-98</a> 31 bytes</h1>
<pre><code>&quot;]#34[~#28&amp;o@,k+deg0 #o#!g00
</code></pre>
<p><a href="https://tio.run/##Ky/NLSgt/v9fSSFW2dgkuk7Z2FAt30EnWzstTdvISkVBOV9ZEcj4/x8A" rel="nofollow noreferrer">Try it in Wumpus!</a>,
<a href="https://tio.run/##S8sszvj/X0khVtnYJLpO2dhQLd9BJ1s7LU3byEpFQTlfWRHI@P8fAA" rel="nofollow noreferrer">Try it in &gt;&lt;&gt;!</a>,
<a href="https://tio.run/##S0pNK81LT9W1tPj/X0khVtnYJLpO2dhQLd9BJ1s7LU3byEpFQTlfWRHI@P8fAA" rel="nofollow noreferrer">Try it in Befunge-98!</a></p>
<h2>How it Works:</h2>
<h3>Wumpus Code:</h3>
<pre><code>  &quot; Start string literal
    Bounce off end of line and come back
  &quot; End string literal
    ]      Push top of stack to bottom
     #34   Push double quote
        [~ Get bottom of stack and swap it with the double quote
          #31    Push 31
             &amp;o@ Print the top 31 items on stack and terminate program
</code></pre>
<h3>&gt;&lt;&gt; Code:</h3>
<pre><code>  &quot;    Start string literal
       Wrap when it reaches the end of the line
  &quot;    End string literal
    ]# Clear stack and reflect
  &quot;    Wrapping string literal again, but backwards
                        +2: Copy the space and add 2 to get &quot;
                    #o#!    Skip into the printing loop
                            Exit with an error
</code></pre>
<h3>Befunge-98 Code:</h3>
<pre><code>  &quot;   Wrapping string literal
    ] Turn right
    ] Turn right again, going West
  &quot;   Wrapping string literal going West
                    !+2: Get double quote and invert it
                 #o#     Skip over the o instruction
            +2:$         Get double quote
         +ff             Push 30
      @,k                Print 30+1 items from the stack and terminate program.
</code></pre>
</div>
<div id="pu3" class="pu"><h2><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>/<a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>/<a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>/<a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a>/<a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>/<a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, 1031 bytes</h2>
<pre><code>s=1//2;_=r'''&lt;?#/.__id__;s=+0;#';read -d '' q&lt;&lt;'';s=\';Q='echo s=1//2\;_=r$s$s$s\&lt;\?\#/.__id__\;s=+0\;#$s\;read -d $s$s q\&lt;\&lt;$s$s\;s=\\$s\;Q=$s$Q$s\;eval\ \$Q;echo $q';eval $Q
$_='eval("0"?0?"def strtr(s,f,t);s.tr(f,t) end;class String;def chr(n);self+n.chr end;end":"$u=strtr=(s,f,t)=&gt;[...f].reduce((s,a,i)=&gt;s.replace(RegExp(a,`g`),t[i]),s);printf=console.log;(S=String).prototype.chr=function(n){return this+S.fromCharCode(n)}":[]&amp;&amp;"sub strtr{eval q(q(X)=~y/X/X/r)=~s/X/shift/ger}");printf(strtr("%s&lt;?#/.__id__;s=+0;#j;read -d jj q&lt;&lt;jj;s=zj;Q=jecho s=1//2z;_=rksksksz&lt;z?z#/.__id__z;s=+0z;#ksz;read -d ksks qz&lt;z&lt;ksksz;s=zzksz;Q=kskQksz;evalz zkQ;echo kqj;eval kQwk_=j%sj;eval(k_);//;#jjj;f=jjjs=1//2;_=r%%s%%s%%s;f=%%s%%s%%s;q=_[18]*3;print f%%%%(q,_,q,q,f,q)jjj;q=_[18]*3;print f%%(q,_,q,q,f,q)%s","jkwz","".chr(39).chr(36).chr(10).chr(92).chr(92)),[]&amp;&amp;"s=1//2;_=r".chr(39).chr(39).chr(39),$_,$u?"":"".chr(10));';eval($_);//;#''';f='''s=1//2;_=r%s%s%s;f=%s%s%s;q=_[18]*3;print f%%(q,_,q,q,f,q)''';q=_[18]*3;print f%(q,_,q,q,f,q)

</code></pre>
<p><a href="https://tio.run/##jVPbcpswEH3nKzQYB2gU7MTTThNZ8UOmH0DzkhnjIZiLARMukmhq4vTX3RU4JGnsSS1gb0dnd7Xy0uPxbvfoozMfWUle1sISSUGUh@DrO7sMWfbGga6RVdRCWmVGFFYvN4ejbEmUvAjCw9GUE2UJFRyO8hjybkRc5Ecyb4gy6ACTY4gJUMQlOgsQjwsm3KIMc1d4K3qUNC6JArSfb9rKM9nK1rddEVvZ6F6fbNu@Xnm9LPuvUo6wHmJTBu2U9q6nMsNsiVOOeYzLDTwTDPkwQJ/38zyG7FG7Hafno9EFcSnTdX06G4ws100C1yWcno7JQCcs9ALZg66jajrVdQg4OrGpHvpxgbrtjtyvcbmcqTNzehanpXHIAAI9k4ShCoDTdoMkdKS0Kdi21MJfXuYgR7NJm0Sr9NaFNFvRXMgMuqGO1dl4pgZhhLhgghkcR1iYhFugSw2FeUD8zOMc3QqW5CsisX7MjBxQYRad5hZYLQxe9UrVatpS0T0XvZ5blhUtLBYGtR8a4PZwAm4OnjLzwPUzXP34XRoevl/dm1jMk4WJuUlKyCci6hc5L7LQyooVMW5pV4ZplawQhdiUocxPozr34R7kUNYTC0XNciTihJ/eWhErHm5ij93AhYDos3o1X5ycqLxedi0/tYdSGZVxZ9I/m9EdLAYaB8njJBKjVcie1ZdyjO6c1CH/OOe0n06ayjmnKQSaFGaSvplzI@e85nI102bW9CxNS9OQAQR6JglDFQCn7QZJ2EhpU7Btqcn6G9Ss93NeV2k357X9uHZpOuSdbaxdk4xGUCWUFVH4vt7a4ZB3DwRe9Yq68/Pviy@TrnUUDeFnVNjFFawIV6akOoB6hxlyFavp@rEBocpZGZNLs5PfOnk@7uTlRS9N3A2pr/Cfna8Say7W6pkKN099YTNJd9UNbd8y/CuhM/i@aZnLJfvtlM/akBQfMe8gyl8" rel="nofollow noreferrer" title="Bash – Try It Online">Verify it online!</a></p>
<p>Based on my updates to <a href="https://codegolf.stackexchange.com/a/162690/9365">this answer</a>, I thought I'd try and optimise out the code that prints a different permutation, but ended up adding in Bash, which added a load more bytes anyway. Whilst this is more optimised than my first attempt (saved over 300 bytes) I'm sure it can still be golfed further.</p>
<hr />
<h2>Alternative <a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>/<a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>/<a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>/<a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a>/<a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>/<a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, 1040 bytes</h2>
<pre><code>s=1//2;_=r'''&lt;?#/.__id__;s=+0;#';read -d '' q&lt;&lt;'';s=\';Q='echo s=1//2\;_=r$s$s$s\&lt;\?\#/.__id__\;s=+0\;#$s\;read -d $s$s q\&lt;\&lt;$s$s\;s=\\$s\;Q=$s$Q$s\;eval\ \$Q;echo $q';eval $Q
$_='$z=0?"$&amp;".next+92 .chr+10 .chr: 0..a||eval("printf=console.log;unescape`$%27%5C%0Ak`");$q=$z[1]?$z[1]:h^O;printf("%s%s%s%s&lt;?#/.__id__;s=+0;#%s;read -d %s%s q&lt;&lt;%s%s;s=%s%s;Q=%secho s=1//2%s;_=r%ss%ss%ss%s&lt;%s?%s#/.__id__%s;s=+0%s;#%ss%s;read -d %ss%ss q%s&lt;%s&lt;%ss%ss%s;s=%s%s%ss%s;Q=%ss%sQ%ss%s;eval%s %s%sQ;echo %sq%s;eval %sQ%s%s_=%s%s%s;eval(%s_);//;#%s%s%s;f=%s%s%ss=1//2;_=r%%s%%s%%s;f=%%s%%s%%s;q=_[18]*3;print f%%%%(q,_,q,q,f,q)%s%s%s;q=_[18]*3;print f%%(q,_,q,q,f,q)%s",[]&amp;&amp;"s=1//2;_=r",$r=[]&amp;&amp;$q,$r,$r,$q,$q,$q,$q,$q,$b=$z[2]?$z[2]:chr(92),$q,$q,$b,$d=$z[0]?$z[0]:h^L,$d,$d,$b,$b,$b,$b,$b,$d,$b,$d,$d,$b,$b,$d,$d,$b,$b,$b,$d,$b,$d,$d,$d,$b,$b,$b,$d,$d,$q,$d,$n=$z[3]?$z[3]:chr(10),$d,$q,$_,$q,$d,$q,$q,$q,$q,$q,$q,$q,$q,$q,$z[4]?"":$n);';eval($_);//;#''';f='''s=1//2;_=r%s%s%s;f=%s%s%s;q=_[18]*3;print f%%(q,_,q,q,f,q)''';q=_[18]*3;print f%(q,_,q,q,f,q)

</code></pre>
<p><a href="https://tio.run/##jVNtk5pADP7Or9jBRbRyiNKb9lyp0@nXznT4LJYDwcMr5W3xWi397TZZkNM7maub2WySJ092E/Q9Hh2Pv9bkZk30bZLtSr3cpkz6Gdxe2FlYxGcO8ono6a5EK4uZVOz8/fVo4TMpSYPwevSRM8mHG1yP8gjq7ssoTToq75nUqwFmF8IEiigjNwHhUVqUbpqFiVt6D1YnaZQxCWjfTqqwJxU@vaovUeFDm7NZiXc983px/F9X6WC9xib1xJQa158s1gpfe@Qaj7RsD2JqUE8D6N9mnl3IFnU8cmsyHk@ZaxWqqs4XvbHuutvAdRm3RgbrqawIvQDfoKokn89VFQKOymxLDddRSup0B/Mpx@XMnYXTsjiCxmE9CLRMCCM5AOciAQkd1LYFto2n8MmLHeJQm4kiNFeFi1Bboq6l0oNlLGTal/Uk/F2O7qZEX0fFaGIIPSOGrntVhRkDOSu2Sbmx1mnC0zjU4/SB7ZKQr70svKfK9INy@0UxPv@4l4eM5hY9LCerhdhn0fdvrM4eyAqv1@sGKbx9FwKwR6ghKpQN6qxR4IFOKZyfBMALhbekInFkgOqJ8Bk34kkuMuan7KZKfcZSoO3awtfDdTDYdFHheeMnAqVwt8kWzgHYQzYeY2Xh3Jy42y9EAVMIxtpzbrnLycfVO7PuFtko8BvkmqvlsDZaPmwIrwBfwGRtuer35eeKskYLC300h5OQ/FJ8nNlUzGy6msH4B3fTYRvUaIBxQ8QNnOlXcAnxLyU47cGZJ@gAvPAHohjsCRYzRTGzvszEGJ7i7gmVd8th@X61kOUZTYas/uYHtJkK/D2h7bCfzeNyUG82GCleYy4g0j8" rel="nofollow noreferrer" title="Bash – Try It Online">Verify it online!</a></p>
<p>A little closer to my original approach, but the repetition of the args for <code>printf</code> is still insane. Using positional arguments instead make this only work in Chrome and is tricky to get working in PHP as well because the <code>$s</code> in <code>%1$s</code> is interpolated, but could save a lot of bytes, perhaps using a combination of the two approaches...</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>/<a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>/<a href="https://php.net/" rel="nofollow noreferrer">PHP</a>/JavaScript (Browser), 153 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_='$z=0?&quot;$&amp;&quot;.next: 0..a||eval(&quot;printf=console.log;atob`JCc`&quot;);printf(&quot;%s_=%s%s%s;eval(%s_);&quot;,$d=$z[0]?$z[0]:h^L,$q=$z[1]?$z[1]:h^O,$_,$q,$d);';eval($_);
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3lbdoKYmtSwxR0OpoCgzryTNNjk/rzg/J1UvJz9dSdMaIqihpFocb6taDILWYNVAvqaSjkqSrYG9hrGZpl5yRpGVgnZ0rH1GnI@ClUJiSX6ShpKXo5KmjkohWI0lihp/hJpykJp4oDKgaZrqENNV4jX//wcA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try the Perl online!</a><br />
<a href="https://tio.run/##KypNqvz/XyXeVt2gpia1LDFHQ6mgKDOvJM02OT@vOD8nVS8nP11J0xoiqKGkWhxvq1oMgtZg1UC@ppKOSpKtgb2GsZmmXnJGkZWCdnSsfUacj4KVQmJJfpKGkpejkqaOSiFYjSWKGn@EmnKQmnigMqBpmuoQ01XiNf//BwA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try the Ruby online!</a><br />
<a href="https://tio.run/##K8go@G9jXwAkVeJt1VWqbA3slVTUlPTyUitKrBQM9PQSa2pSyxJzNJQKijLzStJsk/PzivNzUvVy8tOtE0vykxK8nJMTlDStIdIaSqrF8baqxSBoDdYH5GtaK@mopNiqVEUbxNqDSauMOB8dlUKQkCFYyBAk5K@jEg8UBarVtFaH6FYBav7/HwA" rel="nofollow noreferrer" title="PHP – Try It Online">Try the PHP online!</a></p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>$_='$z=0?"$&amp;".next: 0..a||eval("printf=console.log;atob`JCc`");printf("%s_=%s%s%s;eval(%s_);",$d=$z[0]?$z[0]:h^L,$q=$z[1]?$z[1]:h^O,$_,$q,$d);';eval($_);</code></pre>
</div>
</div>
</p>

</div>
<div id="pu5" class="pu"><h2>Perl/Javascript (SpiderMonkey), 106 bytes</h2>

<pre class="lang-pl prettyprint-override"><code>$_='$q=+[]?h^O:unescape("%27");print("$_="+$q+$_+$q+";eval($_)"||(q($_),"=$q$_$q;",q(eval($_))))';eval($_)
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/18l3lZdpdBWOzrWPiPO36o0L7U4ObEgVUNJ1chcSdO6oCgzr0RDCahKSVulUFslHkQqWaeWJeZoqMRrKtXUaBSCGDpKtiqFKvEqhdZKOoUaMGkgUIer/f8fAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try the Perl online!</a><br>
<a href="https://tio.run/##y0osSyxOLsosKNEtLshMSS3Kzc/LTq38/18l3lZdpdBWOzrWPiPO36o0L7U4ObEgVUNJ1chcSdO6oCgzr0RDCahKSVulUFslHkQqWaeWJeZoqMRrKtXUaBSCGDpKtiqFKvEqhdZKOoUaMGkgUIer/f8fAA" rel="nofollow noreferrer" title="JavaScript (SpiderMonkey) – Try It Online">Try the JavaScript online!</a></p>

<h3>Explanation</h3>

<p>The quine data is stored in <code>$_</code> in both languages and then <code>eval</code>ed, which is pretty much standard procedure in Perl. I chose SpiderMonkey on TIO as it has a <code>print</code> function, but this could easily be ported to browser for + 20 bytes (add <code>eval("print=alert");</code> to the beginning of <code>$_</code>s definition).</p>

<p>Perl sees the data stored in <code>$_</code> and <code>eval</code>s it as usual. Since <code>+[]</code> is truthy in Perl,<code>'</code> is stored in <code>$q</code> via the stringwise-XOR of <code>h</code> and <code>O</code>. The final trick is in the call to <code>print</code> where the first part for JavaScript uses <code>+</code>, which in Perl treats all items as numbers, and adds up to <code>0</code>, then we use the <code>||</code> operator to return what we actually want <code>(q($_),"=$q$_$q;",q(eval($_)))</code> which is equivalent to <code>"\$_=$q$_$q;eval(\$_)"</code>.</p>

<p>In JavaScript, <code>+[]</code> returns <code>0</code>, so we call <code>unescape("%27")</code> to store <code>'</code> in <code>$q</code> (unfortunately, <code>atob</code> doesm't exist in SpirderMonkey...). In the call to <code>print</code>, since <code>+</code> is the concatenation operator in JavaScript, the first block builds the desired output and the second part after the <code>||</code> is ignored.</p>

<p><strong>Thanks to <a href="https://codegolf.stackexchange.com/q/37464/9365#comment-299961">Patrick Roberts' comment</a> for the <code>unescape</code> trick!</strong></p>

<hr>

<h2>Perl/JavaScript (Browser), 108 bytes</h2>

<pre class="lang-pl prettyprint-override"><code>$_='eval("q=_=&gt;_+``;printf=console.log");printf(q`$_=%s%s%s;eval($_)`,$q=+[]?h^O:atob("Jw"),$_,$q)';eval($_)
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/18l3lY9tSwxR0Op0Dbe1i5eOyHBuqAoM68kzTY5P684PydVLyc/XUkTKqhRmADUoVoMgtZgfSrxmgk6KoW22tGx9hlx/laJJflJGkpe5UqaOirxQAlNdbi6//8B" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try the Perl online!</a></p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>$_='eval("q=_=&gt;_+``;printf=console.log");printf(q`$_=%s%s%s;eval($_)`,$q=+[]?h^O:atob("Jw"),$_,$q)';eval($_)</code></pre>
</div>
</div>
</p>

<h3>Explanation</h3>

<p>We store the quine data in <code>$_</code> in both languages and then <code>eval</code> it, which is pretty much standard procedure in Perl.</p>

<p>Perl sees the data stored in <code>$_</code> and <code>eval</code>s it as usual. The <code>eval</code> within <code>$_</code> is executed and fails to parse, but since it's <code>eval</code>, doesn't error. <code>printf</code> is then called, with a single quoted string <code>q()</code>, with <code>`</code> as the delimter, as just using <code>`</code> would result in commands being executed in shell, then for the first use of <code>$q</code>, since <code>+[]</code> is truthy in Perl, <code>'</code> is stored in <code>$q</code> via stringwise-XOR of <code>h</code> and <code>O</code>.</p>

<p>In JavaScript, the <code>eval</code> block within <code>$_</code> sets up a function <code>q</code>, that <code>return</code>s its argument as a <code>String</code> and aliases <code>console.log</code> to <code>printf</code>, since <code>console.log</code> formats string like <code>printf</code> in Perl. When <code>printf</code> is called <code>+[]</code> returns <code>0</code>, so we call <code>atob</code> to decode <code>'</code> and store in <code>$q</code>.</p>
</div>
<div id="pu6" class="pu"><h2>C#/Java, 746 bytes</h2>

<p>I use the property that chars in Java can be written as identical unicode sequences. If we have <code>A</code> instruction for C# compiler and <code>B</code> instruction for Java, we can use the following code fragment:</p>

<pre class="lang-none prettyprint-override"><code>//\u000A\u002F\u002A
A//\u002A\u002FB
</code></pre>

<p>It will be "recognized" by the following way with C#:</p>

<pre class="lang-cs prettyprint-override"><code>//\u000A\u002F\u002A
A//\u002A\u002FB
</code></pre>

<p>And by the following way by Java:</p>

<pre class="lang-java prettyprint-override"><code>//
/*
A//*/B
</code></pre>

<p>Because of <code>\u000A</code> is line break, <code>\u002F</code> is <code>/</code> and <code>\u002A</code> is <code>*</code> in Java.</p>

<p>So the final polyglot-quine is:</p>

<pre class="lang-cs prettyprint-override"><code>//\u000A\u002F\u002A
using System;//\u002A\u002F
class Program{public static void//\u000A\u002F\u002A
Main//\u002A\u002Fmain
(String[]z){String s="//@#'^using System;//'#^class Program{public static void//@#'^Main//'#main^(String[]z){String s=!$!,t=s;int[]a=new int[]{33,94,38,64,35,39,36};String[]b=new String[]{!&amp;!!,!&amp;n!,!&amp;&amp;!,!&amp;@!,!&amp;#!,!&amp;'!,s};for(int i=0;i&lt;7;i++)t=t.//@#'^Replace//'#replace^(!!+(char)a[i],b[i]);//@#'^Console.Write//'#System.out.printf^(t);}}",t=s;int[]a=new int[]{33,94,38,64,35,39,36};String[]b=new String[]{"\"","\n","\\","\\u000A","\\u002F","\\u002A",s};for(int i=0;i&lt;7;i++)t=t.//\u000A\u002F\u002A
Replace//\u002A\u002Freplace
(""+(char)a[i],b[i]);//\u000A\u002F\u002A
Console.Write//\u002A\u002FSystem.out.printf
(t);}}
</code></pre>

<p>However, the size is too huge because of languages verbosity.</p>

<p>Compilation available on ideone.com: <a href="http://ideone.com/JrrbeL" rel="noreferrer">C#</a>, <a href="https://ideone.com/PzJxcB" rel="noreferrer">Java</a>.</p>
</div>
<div id="pu7" class="pu"><h1>C/Lisp, 555 bytes</h1>

<pre><code>t(setq /*;*/){}main(){char q='\"',s='\\';char*a= 
"~%t(setq /*;*/){}main(){char q='~A';char*a= 
~S;char*b=/* 
)(setq a ~S) 
(setq */ ~S;printf(b,s,q,s,s,q,a,q,q,s,s,s,q,s,s,s,s,q,q,b,q/* 
)(format t /* a /* a */);}~%";char*b=/* 
)(setq a "\\\"',s='\\\\") 
(setq */ " 
t(setq /*;*/){}main(){char q='%c%c',s='%c%c';char*a= 
%c%s%c;char*b=/* 
)(setq a %c%c%c%c%c',s='%c%c%c%c%c) 
(setq */ %c%s%c;printf(b,s,q,s,s,q,a,q,q,s,s,s,q,s,s,s,s,q,q,b,q/* 
)(format t /* a /* a */);} 
";printf(b,s,q,s,s,q,a,q,q,s,s,s,q,s,s,s,s,q,q,b,q/* 
)(format t /* a /* a */);} 
</code></pre>

<p>Intentionally blank first line.</p>
</div>
<div id="pu8" class="pu"><h1>C/dc, 152 bytes</h1>

<pre><code>z1d//[[z1d//]P91PP93P[dx]Pq 
;main(){char*a="z1d//[[z1d//]P91PP93P[dx]Pq%c;main(){char*a=%c%s%c;printf(a,10,34,a,34);}//]dx";printf(a,10,34,a,34);}//]dx
</code></pre>

<p>Taking advantage of comments, yeah!</p>
</div>
<div id="pu9" class="pu"><h1>C/PHP, <s>266</s> <s>304</s> <s>300</s> <s>282</s> <s>241</s> 203 + 10 bytes</h1>

<pre><code>//&lt;?php
function main($a){printf($a="%c//&lt;?php%cfunction main(%ca){printf(%ca=%c%s%c,13,10,36,36,34,%ca,34,36,10,10,10);}%c#if 0%cmain();%c#endif",13,10,36,36,34,$a,34,36,10,10,10);}
#if 0
main();
#endif
</code></pre>

<p>+10 bytes because compiling in C requires the GCC compiler flag <code>-Dfunction=</code>.</p>

<p>How it works (in PHP):</p>

<ul>
<li>The PHP interpreter simply prints everything before the <code>&lt;?php</code> as HTML. <code>//</code> is not a comment in HTML, so it's simply printed.</li>
<li><code>main</code> is declared as a function with a variable <code>a</code>.</li>
<li><code>printf</code> prints a carriage return (to override the already-printed <code>//</code>) and then the source code, using a standard C/PHP quining method.</li>
<li><code>#if 0</code> is ignored by PHP.</li>
<li><code>main($a)</code> initializes an empty variable <code>a</code>. (Previously used <code>error_reporting(0)</code> to ignore errors caused by calling <code>main()</code>)</li>
<li><code>#endif</code> is also ignored by PHP.</li>
</ul>

<p>How it works (in C):</p>

<ul>
<li><code>//&lt;?php</code> is a single-line comment, so it is ignored.</li>
<li>The <code>function</code> keyword is ignored due to the command-line compiler argument <code>-Dfunction=</code>.</li>
<li>GCC and Clang don't care if variables start with or contain <code>$</code>. (This saved the day.)</li>
<li><code>printf</code> prints a carriage return (useless in this instance) and then the source code, using a standard C/PHP quining method.</li>
<li><code>#if 0</code> ignores everything until the <code>endif</code>, so PHP can call <code>main</code>.</li>
<li><code>#endif</code> ends the "ignore me" block.</li>
</ul>
</div>
<div id="pu10" class="pu"><h2>>&lt;> and CJam, 165 bytes</h2>

<pre><code>"~~~~~~~~~~~~~~~~~~~~~~~r00gol?!v93*0.Hi
'                               &lt;       .1*5av!?log10oar~~~r
'"`{"`"\"_~e#.21 &lt;.2+4*96;!?log10oa"}_~e#.21 &lt;.2+4*96;!?log10oa
</code></pre>

<p>To CJam, the program starts with a multi-line string literal. This is escaped with <code>`</code>, and then it uses the standard quine to print the quine code, as well as a trailing comment.</p>

<p>To >&lt;>, the first <code>"</code> starts a string literal that goes through the entire first row, pushing every character to the stack. After that, the trailing spaces (created due to the input being padded) are deleted, and then the stack is reversed. Every character in the stack (i.e. the entire first row) is output, and then it moves down to the second row.</p>

<p>The second row essentially does the same thing, except that it's in the opposite direction, so you don't need to reverse the stack. (I do anyway, because I have to delete the trailing spaces.)</p>

<p>Finally, it moves on to the third line. The only major difference is that you must skip the CJam block, which is done using <code>.</code> The single quote captures the entire line (again, backwards), and then it is output.</p>
</div>
<div id="pu11" class="pu"><h1>C/Vim 4.0, 1636 bytes</h1>

<p>Contains control characters.</p>

<pre><code>map () {}/*
map g ;data0df"f"cf"
f"cf"
f"D2kyyP;g6k2dd4x5jA"JxA","JxA","jyyPkJxA"jok;g2kdd4xkJx3jdd
map ;g O"vdldd0i# 0# 1# 2# 3# 4# 5# #0lx2lx2lx2lx2lx2lx2lx:s/##/#/g
o:s//"/gk0y2lj02lp"addk@ao:s//\\/gk0ly2lj02lp"addk@ao:s///gk04ly2lj02lp05l"vp"addk@ao:s///gk05ly2lj02lp05l"vp"vp"addk@ao:s//
/gk06ly2lj02lp05l"vp"vp"vp"addk@ao:s//
/gk02ly2lj02lp05l"vp"addk@a
unmap ()

map ;data o*/ char*g[]={"map () {}/*#2map g ;data0df#0f#0cf#0#5#3f#0cf#0#5#3f#0D2kyyP;g6k2dd4x5jA#0#3JxA#0,#0#3JxA#0,#0#3jyyPkJxA#0#3jo#3k;g2kdd4xkJx3jdd#2map ;g O#4#4#4#4#3#0vdldd0i## 0## 1## 2## 3## 4## 5## ###30lx2lx2lx2lx2lx2lx2lx:s/####/##/g#5o:s//#0/g#3k0y2lj02lp#0addk@ao:s//#1#1/g#3k0ly2lj02lp#0addk@ao:s//#4#4#3/g#3k04ly2lj02lp05l#0vp#0addk@ao:s///g#3k05ly2lj02lp05l#0vp#0vp#0addk@ao:s//#4#4#5/g#3k06ly2lj02lp05l#0vp#0vp#0vp#0addk@ao:s//#4#4#5/g#3k02ly2lj02lp05l#0vp#0addk@a#2unmap ()#2#2map ;data o*/ char*g[]={","#A#0#a#0,#0#b#0,#0#c#0#C#2","}; /*#3#2#2#0*/  print(char*s){char*t=s,c,d;while(c=*t++)if(c==35){c=*t++;if(c==35)putchar(c);else if(c==48)putchar(34);else if(c==49)putchar(92);else if(c==50)printf(#0#1n#0);else if(c==51)putchar(27);else if(c==52)putchar(22);else if(c==53)putchar(13);else if(c&gt;64&amp;&amp;c&lt;91)print(g[c-65]);else printf(g[c-97]);}else putchar(c);}  main(){print(g[1]);}"}; /*

"*/  print(char*s){char*t=s,c,d;while(c=*t++)if(c==35){c=*t++;if(c==35)putchar(c);else if(c==48)putchar(34);else if(c==49)putchar(92);else if(c==50)printf("\n");else if(c==51)putchar(27);else if(c==52)putchar(22);else if(c==53)putchar(13);else if(c&gt;64&amp;&amp;c&lt;91)print(g[c-65]);else printf(g[c-97]);}else putchar(c);}  main(){print(g[1]);}
</code></pre>

<p>Your Vim needs to have the following set:</p>

<pre><code>set noai
set wm=0
set nosi
set tw=0
set nogdefault
</code></pre>
</div>
<div id="pu12" class="pu"><h1>C/TCL, 337 bytes</h1>

<pre><code>#define set char*f= 
#define F 
#define proc main(){ 
set F "#define set char*f= 
#define F 
#define proc main(){ 
set F %c%s%c; 
proc /* {} {} 
puts -nonewline %cformat %cF 34 %cF 34 91 36 36] 
set a {*/printf(f,34,f,34,91,36,36);} 
"; 
proc /* {} {} 
puts -nonewline [format $F 34 $F 34 91 36 36] 
set a {*/printf(f,34,f,34,91,36,36);} 
</code></pre>
</div>
<div id="pu13" class="pu"><h1>reticular/befunge-98, 28 bytes [noncompeting]</h1>

<pre><code>&lt;@,+1!',k- ';';Oc'43'q@$;!0"
</code></pre>

<p><a href="http://reticular.tryitonline.net/#code=PEAsKzEhJyxrLSAnOyc7T2MnNDMncUAkOyEwIg&amp;input=" rel="noreferrer">Try reticular!</a> <a href="http://befunge-98.tryitonline.net/#code=PEAsKzEhJyxrLSAnOyc7T2MnNDMncUAkOyEwIg&amp;input=" rel="noreferrer">Try befunge 98!</a></p>

<p>Anything in between <code>;</code>s in befunge is ignored, and <code>!</code> skips into the segment between <code>;</code>s for reticular. Thus, reticular sees:</p>

<pre><code>&lt;@,+1!',k- ';';Oc'43'q@$;!0"
&lt;                             move left
                           "  capture string
                          0   push zero
                        ;!    skip `;` (end program)
                       $      drop zero
                     q@       reverse TOS
                 '43'         push 34 (")
                c             convert to char
               O              output all
              ;               end program
</code></pre>

<p>Befunge sees:</p>

<pre><code>&lt;@,+1!',k- ';';Oc'43'q@$;!0"
&lt;                            move left
                           " capture string
                         !0  push 1
              ;         ;    skip this
         - ';'               push 27
       ,k                    output top 27 chars
   +1!'                      push 34 (")
  ,                          output "
 @                           end program
</code></pre>
</div>
<div id="pu14" class="pu"><h1>05AB1E/2sable, 14 bytes, non-competing</h1>

<pre><code>0"D34çý"D34çý
</code></pre>

<p><a href="http://05ab1e.tryitonline.net/#code=MCJEMzTDp8O9IkQzNMOnw70K&amp;input=" rel="nofollow noreferrer">Try it online! (05AB1E)</a><br>
<a href="http://2sable.tryitonline.net/#code=MCJEMzTDp8O9IkQzNMOnw70K&amp;input=" rel="nofollow noreferrer">Try it online! (2sable)</a></p>

<p>2sable is derived from 05AB1E and is similar, but has major differences.</p>

<p>Trailing newline.</p>
</div>
<div id="pu15" class="pu"><h1>Bash/GolfScript, 73</h1>

<pre><code>.~0 () 
{ 
    declare "-f" @* ".~0" " () 
"+@n.;
    echo '.~0;'
}
.~0;
</code></pre>

<p>There is a trailing space on each of the first 3 lines.</p>

<h1>Bash/GolfScript, 78</h1>

<pre><code>alias :a~a.='eval "alias :a~a."\
;set [61 39]+a[39]+n"":a;echo ":a~a."'
:a~a.
</code></pre>
</div>
<div id="pu16" class="pu"><h1>CJam/GolfScript, 34 bytes</h1>

<pre><code>{"__X.0#@@?LL
;~"N}__X.0#@@?LL
;~
</code></pre>

<p>The byte count contains a trailing linefeed, since the program wouldn't be a quine without it.</p>

<p>While CJam and GolfScript are <em>very</em> similar in some aspects, there are <em>a lot</em> of differences. To make this an "honest" polyquine, I decided to rely on the <em>differences</em> as much as possible. Except for the block and string syntax (which the languages share with oh so many others), no part of the code achieves exactly the same in both languages.</p>

<p>The online GolfScript interpreter has a bug; this program works only with the official interpreter.</p>

<h3>Example run</h3>

<pre><code>$ cat polyquine
{"__X.0#@@?LL
;~"N}__X.0#@@?LL
;~
$ md5sum polyquine &lt;(cjam polyquine) &lt;(golfscript polyquine)
e2f1f3cd68abbbceec58080513f98d9a  polyquine
e2f1f3cd68abbbceec58080513f98d9a  /dev/fd/63
e2f1f3cd68abbbceec58080513f98d9a  /dev/fd/62
</code></pre>

<h3>How it works (CJam)</h3>

<pre><code>" Push that block.                                                                        ";

{"__X.0#@@?LL
;~"N}

" Push two copies of the block, 1 (computed as 1**0) and rotate the block copies on top.  ";

__X.0#@@

" If 1 is truthy (oh, the uncertainty), execute the first copy; else, execute the second.
  Evaluating the block pushes the string it contains; N pushes a linefeed.                ";

?

" Push two empty arrays.                                                                  ";

LL

" Discard one empty array and dump the second.                                            ";

;~

" (implicit) Print all items on the stack.                                                ";
</code></pre>

<h3>How it works (GolfScript)</h3>

<pre><code># Push that block.

{"__X.0#@@?LL
;~"N}

# Push a copy of the block; _ and X are noops, # initiates an inline comment.

__X.0#@@?LL

# Discard the 0 and execute the copy of the block.
# Evaluating the block pushes the string it contains; N is a noop.

;~

# (implicit) Print all items on the stack, followed by a linefeed.
</code></pre>

<hr>

<h1>CJam/GolfScript, 12 bytes</h1>

<pre><code>{"0$~"N}0$~
</code></pre>

<p>Cheaty solution that avoids the languages' differences as much as possible.</p>

<p>Try it online:</p>

<ul>
<li><a href="http://cjam.aditsu.net/">CJam</a></li>
<li><a href="http://golfscript.apphb.com/?c=eyIwJH4iTn0wJH4%3D">GolfScript</a></li>
</ul>

<h3>How it works (CJam)</h3>

<pre><code> "0$~"       " Push that string.                                                          ";
      N      " Push a linefeed.                                                           ";
{      }0$~  " Push a copy of the block and execute it.                                   ";
             " (implicit) Print the stack.                                                ";
</code></pre>

<h3>How it works (GolfScript)</h3>

<pre><code> "0$~"       # Push that string.
      N      # Undefined token (noop).
{      }0$~  # Push a copy of the block and execute it.
             # (implicit) Print the stack, followed by a linefeed.
</code></pre>
</div>
<div id="pu17" class="pu"><h1>Bash/Ruby, <s>104</s> 82</h1>

<pre><code>"tee`#";puts &lt;&lt;a*2+'a'#`" -&lt;&lt;'a';echo a
"tee`#";puts &lt;&lt;a*2+'a'#`" -&lt;&lt;'a';echo a
a
</code></pre>

<p>Older version:</p>

<pre><code>"alias" "puts=f()(tee -;echo a);f"
puts &lt;&lt;a *2+"a"
"alias" "puts=f()(tee -;echo a);f"
puts &lt;&lt;a *2+"a"
a
</code></pre>

<h1>Bash/Ruby, 128 without undefined behavior</h1>

<pre><code>"alias" 'puts=f()(a=`cat`;echo "$a
$a
a");f'
puts &lt;&lt;'a' *2+"a"
"alias" 'puts=f()(a=`cat`;echo "$a
$a
a");f'
puts &lt;&lt;'a' *2+"a"
a
</code></pre>
</div>
<div id="pu18" class="pu"><h3>Python 3 and JavaScript, 134 bytes</h3>

<p>Here's my (final?) attempt:</p>

<pre class="lang-py prettyprint-override"><code>a='eval(a.split(" ")[2%-4]),1//2# q=String.fromCharCode(39);console.log("a="+q+a+q+a.slice(-8)) print(a[-12:]%a) a=%r;eval(a)';eval(a)
</code></pre>

<p>It can probably be golfed a bit more, especially if anyone knows a better way to get single quotes in JavaScript.</p>

<hr>

<p>Boiled down, the program looks like this:</p>

<pre class="lang-py prettyprint-override"><code>a='a long string';eval(a)
</code></pre>

<p>The <code>eval()</code> function will evaluate expressions in both languages. So the long string gets executed:</p>

<pre class="lang-py prettyprint-override"><code>eval(a.split(" ")[2%-4]),1//2# ... the rest gets commented out
</code></pre>

<p>This splits the long string by spaces and evaluates the substring indexed by <code>2%-4</code>. JavaScript will run the third substring (<code>2 % -4 == 2</code>) and Python the second last (<code>2 % -4 == -2</code>), because their modulo operators behave differently for negatives.</p>

<p>The rest of the string gets ignored in both languages. JavaScript stops at the <code>//</code>, while Python sees it as integer division and stops at the <code>#</code>.</p>

<p>So JavaScript prints the source code to the console here:</p>

<pre class="lang-js prettyprint-override"><code>q=String.fromCharCode(39);console.log("a="+q+a+q+a.slice(-8))
</code></pre>

<p>And Python here:</p>

<pre class="lang-py prettyprint-override"><code>print(a[-12:]%a)
</code></pre>

<p>Both make use of the final part of the string, which is a template of the program:</p>

<pre><code>a=%r;eval(a)
</code></pre>
</div>
<div id="pu19" class="pu"><h1>Ruby/Perl/PHP, 52</h1>

<pre><code>$b='$b=%c%s%c;printf$b,39,$b,39;';printf$b,39,$b,39;
</code></pre>

<p>Copied verbatim from <a href="http://www.nyx.net/~gthompso/self_perl.txt" rel="noreferrer">Christopher Durr</a>'s Perl quine.</p>

<p>This is rules abuse. Ruby and Perl are definitely not the same language, nor is Perl a subset of Ruby (most of the linked Perl quines don't work in Ruby, for example). But Ruby was designed to be able to look a lot like Perl if you want it to, and this happens a lot when golfing.</p>
</div>
<div id="pu20" class="pu"><h1>PHP/Perl - 171</h1>

<pre><code>#&lt;?PHP$s=1;$t="";
$a='%s&lt;%cPHP$s=1;$t="";%c$a=%c%s%c;$t==$s?$t="#":$s;printf($a,$t,63,10,39,$a,39,10,63);%c#%c&gt;';$t==$s?$t="#":$s;printf($a,$t,63,10,39,$a,39,10,63);
#?&gt;
</code></pre>

<p>Run with:</p>

<pre><code>$ php quine.pl
$ perl quine.pl
</code></pre>

<p>The <code>php</code> code is actually running (not just printing itself).</p>
</div>
<div id="pu21" class="pu"><h2>Ruby/Mathematica, 225 bytes</h2>

<p>Here is my own very beatable polyquine (which serves as example and proof-of-concept):</p>

<pre><code>s="s=%p;puts s%%s;#Print[StringReplace[s,{(f=FromCharacterCode)@{37,112}-&gt;ToString@InputForm@s,f@{37,37}-&gt;f@37}]]&amp;@1";puts s%s;#Print[StringReplace[s,{(f=FromCharacterCode)@{37,112}-&gt;ToString@InputForm@s,f@{37,37}-&gt;f@37}]]&amp;@1
</code></pre>

<p>The first part is based <a href="https://codegolf.stackexchange.com/a/80/8478">on this Ruby quine</a> and is basically:</p>

<pre><code>s="s=%p;puts s%%s;#MathematicaCode";puts s%s;#MathematicaCode
</code></pre>

<p>The string assignment is exactly the same in Mathematica. The <code>puts s%s</code> is interpreted as a product of 4 symbols: <code>puts</code>, the string <code>s</code>, <code>%</code> (the last REPL result or <code>Out[0]</code> if it's the first expression you evaluate) and another <code>s</code>. That's of course completely meaningless, but Mathematica doesn't care and <code>;</code> suppresses any output, so this is just processed silently. Then <code>#</code> makes the rest of the line a comment for Ruby while Mathematica continues.</p>

<p>As for the Mathematica code, the largest part of it, is to simulate Ruby's format string processing without using any string literals. <code>FromCharacterCode@{37,112}</code> is <code>%p</code> and <code>FromCharacterCode@{37,112}</code> is <code>%%</code>. The former gets replaced with the string itself, (where <code>InputForm</code> adds the quotes) the latter with a single <code>%</code>. The result is <code>Print</code>ed. The final catch is how to deal with that <code>#</code> at the front. This is Mathematica's symbol for the first argument of a pure (anonymous) function. So what we do is we <em>make</em> all of that a pure function by appending <code>&amp;</code> and immediately invoke the function with argument <code>1</code>. Prepending a <code>1</code> to a function call "multiplies" the result with <code>1</code>, which Mathematica again just swallows regardless of what kind of thing is returned by the function.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/37464/">37464</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




