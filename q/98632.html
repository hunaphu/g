<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::98632</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>031</td><td>APLNARS</td><td>250126T082639Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/277904#277904">Rosario</a></td></tr>
<tr d-ix="1"><td>027</td><td>CJam</td><td>161108T093014Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98947#98947">Peter Ta</a></td></tr>
<tr d-ix="2"><td>096</td><td>Lithp</td><td>161106T232923Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98820#98820">Andrakis</a></td></tr>
<tr d-ix="3"><td>069</td><td>Racket</td><td>161106T053503Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98693#98693">rnso</a></td></tr>
<tr d-ix="4"><td>042</td><td>Haskell</td><td>161106T200745Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98796#98796">Tamoghna</a></td></tr>
<tr d-ix="5"><td>047</td><td>Groovy</td><td>161106T192104Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98788#98788">Tamoghna</a></td></tr>
<tr d-ix="6"><td>079</td><td>Scala</td><td>161106T192535Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98789#98789">Tamoghna</a></td></tr>
<tr d-ix="7"><td>067</td><td>Java/C/C++/C#</td><td>161106T192805Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98790#98790">Tamoghna</a></td></tr>
<tr d-ix="8"><td>056</td><td>Python 3</td><td>161105T162539Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98650#98650">pajonk</a></td></tr>
<tr d-ix="9"><td>068</td><td>Python 3</td><td>161105T161804Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98649#98649">pajonk</a></td></tr>
<tr d-ix="10"><td>038</td><td>R</td><td>161105T125044Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98639#98639">rturnbul</a></td></tr>
<tr d-ix="11"><td>013</td><td>Jelly</td><td>161105T151924Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98645#98645">Jonathan</a></td></tr>
<tr d-ix="12"><td>039</td><td>JavaScript ES6</td><td>161105T194810Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98663#98663">Neil</a></td></tr>
<tr d-ix="13"><td>053</td><td>Scala</td><td>161105T194420Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98662#98662">corvus_1</a></td></tr>
<tr d-ix="14"><td>063</td><td>Perl</td><td>161105T170152Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98652#98652">Gabriel </a></td></tr>
<tr d-ix="15"><td>043</td><td>JavaScript</td><td>161105T120606Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98636#98636">user4180</a></td></tr>
<tr d-ix="16"><td>017</td><td>MATL</td><td>161105T130843Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98640#98640">Luis Men</a></td></tr>
<tr d-ix="17"><td>045</td><td>JavaScript ES6</td><td>161105T145002Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98644#98644">edc65</a></td></tr>
<tr d-ix="18"><td>036</td><td>Haskell</td><td>161105T120932Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98637#98637">Angs</a></td></tr>
<tr d-ix="19"><td>018</td><td>Mathematica</td><td>161105T113452Z</td><td><a href="https://codegolf.stackexchange.com/questions/98632/n-dimensional-circles/98635#98635">LegionMa</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>APL(NARS), 31 chars</h1>
<pre><code>{⍵≤1:⍵*⍨2×⍺⋄×/2p1⍺(⍺÷⍵)(⍺∇⍵-2)}
</code></pre>
<p>2p1 is 2π. Use formula</p>
<pre><code>aV0=1, aV1=2a, aVw=2π(a^2/w)(aVw-2)
</code></pre>
<p>So</p>
<pre><code>aV0=1, aV1=2a, aV2=2π(a^2/2)aV0=2π(a^2/2)=πa^2, aV3=2π(a^2/3)aV1=2π(a^2/3)2a=(4/3)πa^3 ecc
</code></pre>
<p>Test:</p>
<pre><code>  f←{⍵≤1:⍵*⍨2×⍺⋄×/2p1⍺(⍺÷⍵)(⍺∇⍵-2)}
  3 f 2
28.27433388
  1 f 3
4.188790205
  1 f 1
2
  4.5 f 3
381.7035074
  9.379 f 1
18.758
  9.379 f 0
1
</code></pre>
</div>
<div id="pu1" class="pu"><h2>CJam (27 bytes with extra credit)</h2>

<pre><code>{1$_[2dP]*&lt;f*\,:)-2%./1+:*}
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=%5B%5B1%201%5D%5B2%203%5D%5B3%201%5D%5B3%204.5%5D%5B1%209.379%5D%5B0%2048%5D%5D%7B~%0A%0A%7B1%24_%5B2dP%5D*%3Cf*%5C%2C%3A)-2%25.%2F1%2B%3A*%7D%0A%0A~p%7D%2F" rel="nofollow noreferrer">Online test suite</a>. This is an anonymous block (function) which takes arguments <code>d r</code> on the stack and leaves the result on the stack.</p>

<h3>Dissection</h3>

<p>The general n-dimensional formula can be rewritten as</p>

<p>$$\frac{2^{\left\lceil\frac{d}{2}\right\rceil}\pi^{\left\lfloor\frac{d}{2}\right\rfloor} r^d}{d!!}$$</p>

<pre><code>{            e# Begin block: stack holds d r
  1$_[2dP]*&lt; e#   Build a list which repeats [2 pi] d times and take the first d elements
  f*         e#   Multiply each element of the list by r
  \,:)-2%    e#   Build a list [1 ... d] and take every other element starting at the end
  ./         e#   Pointwise divide. The d/2 elements of the longer list are untouched
  1+:*       e#   Add 1 to ensure the list is non-empty and multiply its elements
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/andrakis/node-lithp" rel="nofollow noreferrer">Lithp</a>, 96 characters + extra swag</h1>

<p>Line split in 2 for readability:</p>

<pre><code>#N,R::((if (&lt; N 2) ((? (!= 0 N) (* 2 R) 1)) ((/ (* (* (* (* (f (- N 2) R) 2)
        3.1416) R) R) N))))
</code></pre>

<p>Thinking I need to upgrade my parser to require less spaces. Code size would be cut down nicely, especially in that <code>((/ (* (* (* (*</code> section.</p>

<p>Usage:</p>

<pre><code>% n-circle.lithp
(
    (def f #N,R::((if (&lt; N 2) ((? (!= 0 N) (* 2 R) 1)) ((/ (* (* (* (* (f (- N 2) R) 2) 3.1416) R) R) N)))))
    (print (f 1 1))
    (print (f 2 3))
    (print (f 3 1))
    (print (f 3 4.5))
    (print (f 1 9.379))
    (print (f 0 48))
)

#./run.js n-circle.lithp
2
28.274333882308138
4.1887902047863905
381.7035074111598
18.758
1
</code></pre>

<p>Thanks to Rudolf for shaving a few bytes off.</p>
</div>
<div id="pu3" class="pu"><h2>Racket 69 bytes (plus extra swag)</h2>

<p>Uses recursive formula from <a href="https://en.wikipedia.org/w/index.php?title=Volume_of_an_n-ball&amp;section=3#Recursions" rel="nofollow noreferrer">https://en.wikipedia.org/w/index.php?title=Volume_of_an_n-ball&amp;section=3#Recursions</a></p>

<p>Including suggestions by @wchargin </p>

<pre><code>(define(v d r)(match d[0 1][1(* 2 r)][_(/(* 2 pi r r(v(- d 2)r))d)]))
</code></pre>

<p>Ungolfed (v=volume, d=dimensions, r=radius): </p>

<pre><code>(define(v d r)
  (match d
    [0 1]
    [1 (* 2 r)]
    [_ (/ (*  2   pi   r   r   (v (- d 2) r)  )
          d)]
    ))
</code></pre>

<p>Testing: </p>

<pre><code>(v 1 1)
(v 2 3)
(v 3 1)
(v 3 4.5)
(v 1 9.379)
(v 0 48)
</code></pre>

<p>Output:</p>

<pre><code>2
28.274333882308138
4.1887902047863905
381.7035074111599
18.758
1
</code></pre>
</div>
<div id="pu4" class="pu"><h2>Haskell, <strike>52 bytes for tab indent</strike> 42 bytes + extra swag</h2>

<p>Edit: Saved 10 bytes thanks to @WChargin</p>

<p>A dyadic curried function - first argument is number of dimensions, second is the radius of the n-ball.</p>

<pre><code>v 0 r=1
v 1 r=2*r
v n r=2*pi*r*r*v(n-2)r/n
</code></pre>

<p>Recursive formula for the volume of an n-ball:
V<sub>n</sub>=<sup>(2&pi;r<sup>2</sup>V<sub>n-2</sub>)</sup>&frasl;<sub>n</sub></p>

<p>Save this as a separate script file and run with GHCi, with a function for testing <code>v</code> for output, e.g., <code>show (v 3 4.5)</code>. I did not test this, please let me know if this doesn't work.</p>

<p>Old program with 6.2832 approximation for 2&pi; replaced (50 bytes with tab indent):</p>

<pre><code>let v 0 r=1
    v 1 r=2*r
    v n r=2*pi*r*r*(v(n-2)r)/n
</code></pre>

<p>This can be used with GHCi in multiline mode (using <code>:set +m</code> or enclosing the code between <code>:{</code> &amp; <code>:}</code>, the enclosures being on their own lines. Tester function required.</p>

<p>Static typing with full-program type inference comes into play here, allowing Haskell to do far better than Scala, and approaching Groovy, but not quite beating it thanks to the pattern match instead of a ternary, involving some character repetition.</p>
</div>
<div id="pu5" class="pu"><h2>Groovy, <strike>49</strike> 47 bytes + extra swag!</h2>
<p>Edit: Saved 2 bytes thanks to @AlexRacer</p>
<p>A dyadic function - first argument is number of dimensions, second is the radius of the n-ball.</p>
<p><code>def v(n,r){n&lt;1?1:n&lt;2?2*r:6.2832*r*r*v(n-2,r)/n}</code></p>
<p>Recursive formula for the volume of an n-ball:
V<sub>n</sub>=<sup>(2πr<sup>2</sup>V<sub>n-2</sub>)</sup>⁄<sub>n</sub></p>
<p>Dynamic Typing FTW!</p>
<p>My Scala and Java answers use the same logic, but with static typing so higher byte counts due to type annotations :(. However, Scala and Groovy allow me to omit the <code>return</code> and the semicolon, so that helps the byte count, unlike Java/C...</p>
</div>
<div id="pu6" class="pu"><h1>Scala, <strike>81</strike> 79 bytes + extra swag!</h1>
<p>Edit: Saved 2 bytes thanks to @AlexRacer</p>
<p>A dyadic function - first argument is number of dimensions, second is the radius of the n-ball.</p>
<p><code>def v(n:Int,r:Float):Float=if n&lt;1 1 else if n&lt;2 2*r else 6.2832f*r*r*v(n-2,r)/n</code></p>
<p>Recursive formula for the volume of an n-ball:
V<sub>n</sub>=<sup>(2πr<sup>2</sup>V<sub>n-2</sub>)</sup>⁄<sub>n</sub></p>
<p>Scala's lack of type inference for return types of recursive functions and function parameters and verbose ternary syntax hurts quite a bit here :(</p>
</div>
<div id="pu7" class="pu"><h2>Java/C/C++/C#, <strike>69</strike> 67 bytes + extra swag!</h2>

<p>Edit: Saved 2 bytes thanks to @AlexRacer</p>

<p>A dyadic function - first argument is number of dimensions, second is the radius of the n-ball.</p>

<p><code>float v(int n,float r){return n&lt;1?1:n&lt;2?2*r:6.283f*r*r*v(n-2,r)/n;}</code></p>

<p>Recursive formula for the volume of an n-ball:
V<sub>n</sub>=<sup>(2&pi;r<sup>2</sup>V<sub>n-2</sub>)</sup>&frasl;<sub>n</sub></p>

<p>Whoa! Java (my test language) beats Scala here, thanks to the terse <code>?:</code> ternary syntax! This function is syntactically correct in all 4 languages in the heading, and I have tested it with C (MinGW GCC 5.4.0), &amp; C# (VS Ultimate 2016, C# 6.0). I'm assuming that it will work in C++ too, so there. Since this function is pretty much library-independent, it should work in any C-like language with similar syntax.</p>
</div>
<div id="pu8" class="pu"><h2>Python 3, 56 bytes + extra swag!</h2>

<p>Straightforward with extra swag!</p>

<pre><code>from math import*
lambda n,r:pi**(n/2)*r**n/gamma(n/2+1)
</code></pre>

<p><a href="https://en.wikipedia.org/wiki/Volume_of_an_n-ball#The_volume" rel="nofollow noreferrer">Standard formula.</a></p>

<p><a href="https://repl.it/EPgY/1" rel="nofollow noreferrer">Try it online</a></p>
</div>
<div id="pu9" class="pu"><h2>Python 3, <s>76</s> <s>72</s> 68 bytes + extra swag!</h2>

<p>Recursive solution with extra swag!<br>
Returns <code>0</code> for <code>n=0</code></p>

<pre><code>from math import*
f=lambda n,r:n*r*2*(n&lt;2or pi*r/n/n*(f(n-2,r)or 1))
</code></pre>

<p>Old approach (<code>1</code> for <code>n=1</code>):</p>

<pre><code>from math import*
f=lambda n,r:1*(n&lt;1)or r*2*(n&lt;2)or 2*pi*r*r/n*f(n-2,r)
</code></pre>

<p>Recursive formula from <a href="https://en.wikipedia.org/wiki/Volume_of_an_n-ball#Recursions" rel="nofollow noreferrer">Wikipedia</a>.</p>

<p><a href="https://repl.it/EPk2/0" rel="nofollow noreferrer">Try it online.</a></p>
</div>
<div id="pu10" class="pu"><h1>R, <s>75</s> <s>40</s> 38 bytes (plus extra swag)</h1>
<p>Well, looks like I could golf this down by giving in and using the gamma function rather than recursive functions.</p>
<pre><code>function(n,r)pi^(n/2)/gamma(n/2+1)*r^n
</code></pre>
<p>Defines an anonymous function to calculate the volume of an <code>n</code>-dimensional hypersphere of radius <code>r</code>.</p>
<p>Some examples:</p>
<blockquote>
<p>1 1 -&gt; 2</p>
<p>0 48 -&gt;  1</p>
<p>2 3 -&gt; 28.27433</p>
<p>3 4.5 -&gt; 381.7035</p>
<p>7 7 -&gt; 3891048</p>
<p>100 3 -&gt; 122051813</p>
</blockquote>
<h1>Swagless solution, <s>38</s> 34 bytes</h1>
<p>For a few bytes less, you can have an anonymous function that only works for dimensions 1 to 3. Returns <code>numeric(0)</code> for <code>n=0</code>, and <code>NA</code> for <code>n&gt;3</code>. (<code>numeric(0)</code> is a numeric vector of length 0; <code>NA</code> is for &quot;not available&quot;.) Performance is otherwise identical to the general solution above.</p>
<pre><code>function(n,r)c(1,pi,4/3*pi)[n]*r^n
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 13 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a> + extra swag</h1>

<pre><code>÷2µØP*÷!
ç×*@
</code></pre>

<p><strong><a href="http://jelly.tryitonline.net/#code=w7cywrXDmFAqw7chCsOnw5cqQA&amp;input=&amp;args=Mw+NC41" rel="nofollow noreferrer">Try it online!</a></strong></p>

<p>Works for any dimension, so long as the fixed value of π yielded by <code>ØP</code> (<code>3.141592653589793</code>) is accurate enough.</p>

<h3>How?</h3>

<pre><code>÷2µØP*÷! - Link 1: n, r
÷2       - n / 2
  µ      - monadic chain separation
   ØP    - π (3.141592653589793)
     *   - exponentiate: π^(n/2)
       ! - Pi(n/2): Gamma(n/2 + 1)
      ÷  - divide: π^(n/2) / Gamma(n/2 + 1)

ç×*@     - Main link: n, r
ç        - call last link (1) as a dyad: π^(n/2) / Gamma(n/2 + 1)
  *@     - exponentiate with reversed @rguments: r^n
 ×       - multiply: r^n * π^(n/2) / Gamma(n/2 + 1)
</code></pre>
</div>
<div id="pu12" class="pu"><h2>JavaScript (ES6), 39 bytes, no swag</h2>

<pre><code>(n,r)=&gt;[1,r+r,a=Math.PI*r*r,a*r*4/3][n]
</code></pre>
</div>
<div id="pu13" class="pu"><h1>Scala, 53 bytes</h1>

<pre><code>{import math._;(n,r)=&gt;pow(r,n)*Seq(1,2,Pi,Pi*4/3)(n)}
</code></pre>

<p>Sorry, no extra swag for me :(</p>

<p>Explanation:</p>

<pre><code>{                     //define a block, the type of this is the type of the last expression, which is a function
  import math._;        //import everything from math, for pow and pi
  (n,r)=&gt;               //define a function
    pow(r,n)*             //r to the nth power multiplied by
    Seq(1,2,Pi,Pi*4/3)(n) //the nth element of a sequence of 1, 2, Pi and Pi*4/3
}
</code></pre>
</div>
<div id="pu14" class="pu"><h1>Perl, 63 bytes + extra swag</h1>
<pre><code>@a=1..2;push@a,6.283/$_*@a[$_-2]for 2..($b=&lt;&gt;);say$a[$b]*&lt;&gt;**$b
</code></pre>
<p>Accepts two integers n and r, one at a time, then outputs the n-volume for given radius r of an n-sphere.  When n = 0, V = 1, and when n = 1, V = 2r.  All further dimensions are calculated by the following formula:</p>
<p><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f70051d53cb8d493152dc7988e1b98ac6400fd55" alt="Recursive volume formula" /></p>
<p>Since r<sup>n</sup> is the radius's factor in every formula, I leave it out of the base calculation and only apply it at the end.</p>
<p>2π is approximated in the code by 6.283.</p>
</div>
<div id="pu15" class="pu"><h1>JavaScript, <s>61</s> <s>51</s> <s>49</s> 43 bytes</h1>
<p><strong>0-3 dimensions are supported because <a href="https://www.youtube.com/watch?v=M9sbdrPVfOQ" rel="nofollow noreferrer">there is no 4th dimension</a></strong>.</p>
<p>Thanks to @Hedi for saving 7 bytes</p>
<pre><code>d=(n,r)=&gt;r**n*(n&lt;2?n+1:Math.PI*(n&lt;3?1:4/3))
</code></pre>
<p>Creates function <code>d</code>. Then raises <code>r</code> to the <code>n</code>th power and then multiplies it with a number depending on <code>n</code> using ternary operators. Outputs <code>1</code> for <code>n=0</code></p>
<p>Gives output to at least 2 decimal places (10+ dp)</p>
<h2>Here's a snack snippet!</h2>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var N = document.getElementById("n");
var R = document.getElementById("r");
N.value="3";//default
R.value="4.5";//default
d=(n,r)=&gt;r**n*(n&lt;2?n+1:Math.PI*(n&lt;3?1:4/3));
var b = document.getElementById("b");
b.onclick = function() {
  var s = document.getElementById("s");
  var n = document.getElementById("n").value;
  var r = document.getElementById("r").value;
  s.textContent = d(parseFloat(n),parseFloat(r));
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>span {border:1px solid black;padding:10px;font-size:30px;}</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>Value of n: &lt;input id="n" type="number"&gt;&lt;/input&gt;
Value of r: &lt;input id="r" type="number"&gt;&lt;/input&gt;&lt;br&gt;
&lt;button id="b"&gt;Calculate!&lt;/button&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
&lt;span id="s"&gt;THERE IS NO 4TH DIMENSION&lt;/span&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu16" class="pu"><h1><a href="http://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 17 bytes</h1>

<pre><code>3:^[2P4*P/3]*1hi)
</code></pre>

<p>This works up to 3 dimensions only. Inputs are in reverse order, that is: <code>r</code>, then <code>n</code>.</p>

<p><a href="http://matl.tryitonline.net/#code=MzpeWzJQNCpQLzNdKjFoaSk&amp;input=Mwoy" rel="nofollow noreferrer">Try it online!</a></p>

<p>Consider <code>r=3</code>, <code>n=2</code> as an example.</p>

<pre><code>3:         % Push array [1 2 3]
           % STACK: [1 2 3]
^          % Take r implicitly, and raise it to [1 2 3] element-wise
           % STACK: [3 9 27]
[2P4*P/3]  % Push array [2 pi 4*pi/3]
           % STACK: [3 9 27], [2 pi 4*pi/3]
*          % Multiply element-wise
           % STACK: [6 28.2743 113.0973]
1h         % Append 1
           % STACK: [6 28.2743 113.0973, 1]
i)         % Input n and use it as modular index into the array. Display implicitly
           % STACK: 28.2743
</code></pre>
</div>
<div id="pu17" class="pu"><h1>JavaScript (ES6), 45 bytes + extra swag</h1>
<p>Recursive formula from <a href="https://en.wikipedia.org/w/index.php?title=Volume_of_an_n-ball&amp;section=3#Recursions" rel="nofollow noreferrer">wikipedia</a>, should work for any number of dimension</p>
<pre class="lang-js prettyprint-override"><code>f=(n,r)=&gt;n&lt;2?n?2*r:1:f(n-2,r)*2*Math.PI*r*r/n
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Haskell, <s>74</s> <s>65</s> 36 bytes + extra swag</h1>

<pre><code>0%r=1
1%r=2*r
n%r=2*pi*r^2/n*(n-2)%r
</code></pre>

<p>Recursive formula, works for all dimensions that can be presented exactly as a double-precision floating point number but will loop infinitely for non-integral dimensions. The old version for posteriority's sake:</p>

<pre><code>n%r=(max 1$1-(-1)**n)*(2*pi)^(floor$n/2)*r**n/product[n,n-2..1.1]
</code></pre>

<p><s>Works for all dimensions. Uses the formula from <a href="http://tauday.com/tau-manifesto#sec-volume_of_a_hypersphere" rel="nofollow noreferrer">the tau manifesto</a>.
<code>product[n,n-2..1.1]</code> is a <a href="https://en.wikipedia.org/wiki/Double_factorial" rel="nofollow noreferrer">double factorial</a> hack that won't count zero for <code>n==2</code></s></p>
</div>
<div id="pu19" class="pu"><h1>Mathematica, 18 bytes, up to ~168.15 trillion dimensions</h1>

<pre><code>Pi^(a=.5#)/a!#2^#&amp;
</code></pre>

<p>Anonymous function. Takes two numbers as input, and returns an inexact number as output. Works with any number of dimensions. Outputs <code>1.</code> for <em>n</em> = 0. Uses the formula from <a href="http://enwp.org/Volume_of_an_n-ball" rel="noreferrer">Volume of an n-ball</a> on Wikipedia.</p>

<h3>Explanation</h3>

<p>We are attempting to compute &pi;<sup><em>n</em>/2</sup>/<em>&Gamma;</em>(<em>n</em>/2 + 1)&middot;<em>R</em><sup><em>n</em></sup>, or <code>N[Pi^(n/2)/Gamma[n/2 + 1] R^n]</code> in Mathematica. In our case, <code>#</code> (first argument) is <em>n</em> and <code>#2</code> (second argument) is <em>R</em>. This leaves us with <code>N[Pi^(#/2)/Gamma[#/2 + 1] #2^#] &amp;</code>, which can be golfed as follows:</p>

<pre><code>N[Pi^(#/2)/Gamma[#/2 + 1] #2^#] &amp;
Pi^(.5#)/Gamma[.5# + 1] #2^# &amp;    (* replace exact with approximate numbers*)
Pi^(.5#)/(.5#)! #2^# &amp;            (* n! == Gamma[n + 1] *)
Pi^(a=.5#)/a! #2^# &amp;              (* replace repeated .5# *)
Pi^(a=.5#)/a!#2^#&amp;                (* remove whitespace *)
</code></pre>

<p>and thus, our original program.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/98632/">98632</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




