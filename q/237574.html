<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::237574</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>025</td><td>Pip</td><td>211124T170321Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237625#237625">DLosc</a></td></tr>
<tr d-ix="1"><td>164</td><td>Lexurgy</td><td>220406T141224Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/245987#245987">bigyihsu</a></td></tr>
<tr d-ix="2"><td>044</td><td>Curry PAKCS</td><td>220406T040429Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/245969#245969">alephalp</a></td></tr>
<tr d-ix="3"><td>084</td><td>Python</td><td>220226T132623Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/243430#243430">zoomlogo</a></td></tr>
<tr d-ix="4"><td>6369</td><td>Haskell</td><td>211129T144113Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237817#237817">Radek</a></td></tr>
<tr d-ix="5"><td>206</td><td>TypeScript Types</td><td>211128T200214Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237788#237788">user</a></td></tr>
<tr d-ix="6"><td>033</td><td>Pyth</td><td>211127T171330Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237768#237768">wasif</a></td></tr>
<tr d-ix="7"><td>117</td><td>Rust</td><td>211128T022800Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237777#237777">cg909</a></td></tr>
<tr d-ix="8"><td>057</td><td>Scala</td><td>211126T200339Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237745#237745">user</a></td></tr>
<tr d-ix="9"><td>036</td><td>BQN</td><td>211125T125815Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237682#237682">frasiyav</a></td></tr>
<tr d-ix="10"><td>2321</td><td>x8616 machine code</td><td>211124T213119Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237633#237633">640KB</a></td></tr>
<tr d-ix="11"><td>051</td><td>Perl 5 p</td><td>211123T210027Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237607#237607">Kjetil S</a></td></tr>
<tr d-ix="12"><td>040</td><td>Wolfram Language Mathematica</td><td>211125T000855Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237638#237638">att</a></td></tr>
<tr d-ix="13"><td>054</td><td>Ruby</td><td>211123T231222Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237611#237611">lonelyel</a></td></tr>
<tr d-ix="14"><td>017</td><td>Stax</td><td>211124T201617Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237632#237632">recursiv</a></td></tr>
<tr d-ix="15"><td>081</td><td>Prolog SWI</td><td>211124T175911Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237627#237627">Adnan</a></td></tr>
<tr d-ix="16"><td>070</td><td>C gcc</td><td>211124T054633Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237616#237616">att</a></td></tr>
<tr d-ix="17"><td>069</td><td>R</td><td>211123T133607Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237596#237596">pajonk</a></td></tr>
<tr d-ix="18"><td>091</td><td>Java JDK</td><td>211124T104814Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237619#237619">Olivier </a></td></tr>
<tr d-ix="19"><td>054</td><td>Charcoal</td><td>211123T191103Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237605#237605">Neil</a></td></tr>
<tr d-ix="20"><td>049</td><td>JavaScript Node.js</td><td>211123T114901Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237584#237584">tsh</a></td></tr>
<tr d-ix="21"><td>070</td><td>Haskell</td><td>211123T113849Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237582#237582">alephalp</a></td></tr>
<tr d-ix="22"><td>061</td><td>Python 3.8 prerelease</td><td>211123T104119Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237581#237581">loopy wa</a></td></tr>
<tr d-ix="23"><td>074</td><td>Retina</td><td>211123T092231Z</td><td><a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237575#237575">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a>, <s>34</s> 25 bytes</h1>
<pre><code>Yac:POycNz?pJ(REy).c.REyc
</code></pre>
<p>Takes the prefix expression as a command-line argument. <a href="https://ato.pxeger.com/run?1=m724ILNgwYKlpSVpuhY7IxOTrQL8K5P9quwLvDSCXCs19ZL1gFQyRB6qbG-0UqJhWnKSiVmKSaqlaWa6WYaJUXaWsVGOmYVSLFQRAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<p>Recursive program; parses the first prefix expression from its input and returns its infix representation. If the input starts with a letter, the expression is the results of recursively parsing twice, with the letter/operator in between, wrapped in parentheses. Otherwise, the first character is a digit and the expression is just that digit.</p>
<pre><code>Yac:POycNz?pJ(REy).c.REyc
 a                         Current prefix expression, possibly including
                           some extra trailing characters
Y                          Store in global variable y (so changes will be
                           propagated back to earlier calls)
    POy                    Pop the first character of y
  c:                       and store it in local variable c
       cNz                 Is c in the lowercase alphabet?
          ?                If so:
              REy            Call the program recursively on y
             (   ).          To the result, concatenate
                   c         The popped first character (the operator)
                    .        Then concatenate
                     REy     The result of another recursive call on the
                             updated value of y
           pJ                Join &quot;()&quot; on that string
                           Otherwise, c is a number:
                        c    Return the number
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.lexurgy.com/sc" rel="nofollow noreferrer">Lexurgy</a>, 164 bytes</h1>

<pre class="lang-bash prettyprint-override"><code>class d {\0,\1,\2,\3,\4,\5,\6,\7,\8,\9}
a propagate:
{a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z}$1 {(\( []+ \)),@d}$2 {(\( []+ \)),@d}$3=&gt;\( $2 $1 $3 \)
</code></pre>
<p>Explanation:</p>
<pre class="lang-bash prettyprint-override"><code>class d {\0,\1,\2,\3,\4,\5,\6,\7,\8,\9} # define digits
a propagate: # while the input changed last iteration...
# match an op
{a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z}$1
# match left expr
    {(\( []+ \)),@d}$2
# match right expr
        {(\( []+ \)),@d}$3
# put parens, swap op and left
            =&gt;\( $2 $1 $3 \)
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.informatik.uni-kiel.de/%7Epakcs/" rel="nofollow noreferrer">Curry (PAKCS)</a>, 44 bytes</h1>
<pre><code>f(a:b++c)|a&gt;'9'='(':f b++a:f c++&quot;)&quot;
f[a]=[a]
</code></pre>
<p><a href="https://tio.run/##Sy4tKqrULUjMTi7@/z9NI9EqSVs7WbMm0U7dUt1WXUPdKk0BKJIIpJK1tZU0lbjSohNjbYH4f25iZp6CrUKaglKiYVpykolZikmqpWlmulmGiVF2lrFRjpmF0n8A" rel="nofollow noreferrer" title="Curry (PAKCS) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <s>146</s> <s>139</s> 84 bytes</h1>
<pre>lambda x,s=[]:[(s:=s+[n if n&lt;&quot;:&quot;else&quot;(&quot;+s.pop()+n+s.pop()+&quot;)&quot;])for n in x[::-1]][-1]</pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhY3Q3ISc5NSEhUqdIpto2OtojWKrWyLtaPzFDLTFPJslKyUUnOKU5U0lLSL9QryCzQ0tfPgLCVNpVjNtPwiBaDiPIWKaCsrXcPY2GggATVbtaAoM69EI01DKdEwLTnJxCzFJNXSNDPdLMPEKDvL2CjHzEJJUxOieMECCA0A" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><em>¯55 thanks to @emanresuA</em></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 63 bytes (or 69*)</h1>
<p>Below, <code>a</code> is Haskell's IO monad computation of type <code>IO ()</code> which, when executed, reads the expression from <code>stdin</code> and outputs the result to <code>stdout</code>.</p>

<pre class="lang-hs prettyprint-override"><code>a=getChar&gt;&gt;=(putStr#)
p#c|c&lt;'a'=p[c]|1&lt;2=p&quot;(&quot;&gt;&gt;a&gt;&gt;p[c]&gt;&gt;a&gt;&gt;p&quot;)&quot;
</code></pre>
<p><a href="https://tio.run/##ZVDBaoNAEL3vVwymED0YiDG2DXEPDS0EWnLIsZQwrlu12eyKu1IC@Xe7rloo3cNjZt6bfcMrUZ@5EF11qVVj4HjVhl8W@wP4lX4@vARkJHZKmkaJxZuSmIPfSsG1DjpMC252JTaUpn7dmqNpZgGpZ@zGtnOcp/U7@7gtt1Fae75HKVLaT4bCC7yulaYS1m2zAYtPSgkIaV/6wW9BJhFTModM5VdIIVcE7NOlakV@0kbVsA2dws2H@/7QvtukFP59FxBywUqOR1hD140ek9rFAXeTMTo89aZjAhCGsC@kajiYkoPk36KSHJilkBneuIUholcJntfhKiYZrpN7wjJcRrbDZRatLH6yLE7ymD@uqyIp4@j8tYpE8kB@AA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<h3>Ungolfed code</h3>

<pre class="lang-hs prettyprint-override"><code>main = a &gt;&gt; putStrLn &quot;&quot;

a :: IO ()
a = do
  c &lt;- getChar -- read a character c
  putStr # c   -- if c is an operator, process its arguments

(#) :: (String -&gt; IO ()) -&gt; Char -&gt; IO ()
p # c 
  | c &lt; 'a' = p[c] -- the character is a number
  | otherwise = do -- the character is an operator
    p &quot;(&quot; -- print &quot;(&quot; to stdout
    a     -- read the left subexpression and output it in the required format
    p [c] -- print the operator to stdout
    a     -- read the right subexpression and output it in the required format
    p &quot;)&quot; -- print &quot;)&quot; to stdout
</code></pre>
<h3>*Disclaimer</h3>
<p>I am not sure if the standard code golf rules permit answers being Haskell's IO monads of type <code>IO ()</code>. In <a href="https://codegolf.meta.stackexchange.com/a/11935">this meta answer</a>, it was stated that computations of type <code>IO a</code> which read <code>stdin</code> and produce a value of type <code>a</code> are allowed. Should the <code>IO ()</code> type be unacceptable, I shall replace my answer with this 69 byte entry with computation of type <code>IO String</code> –
<a href="https://tio.run/##ZVDRaoMwFH3PV1xKQUUs1Fq3WfVhZYPCRh/6OEaJSVpd00SSSCn0313M7GAsD4dzcu6953JrrE@M8745t1IZ2F21YefZZgt@o1@2rwEajbUURkk@e5cCU/A7wZnWQY@LIzPrGquyLA7oAORGcg97Rdsp9kE@b/M8Lqhc8TzCKzXAYEw938t4GJJMheEkmPSdMA23mVkGFp@l5BCVA/WDX4LuRUQKCpWkVyiASgT26Vp2nO61kS3kkatw/z9b/rF911mW8G9cgNAZN2JcwgY6NWbcq91RYHoPxkJfmBoysdP7gY4XgSiCzVFIxcDUDAS78EYwINbCxDDlGtrO7Ix6E@OkHi8SVOFl@oBIheexVXhexQuLB1IlKU3Y07I5pnUSn74WMU8f0Tc" rel="nofollow noreferrer" title="Haskell – Try It Online">try it online!</a>.</p>
<p>I asked for a clarification in <a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237817#comment539295_237574">this comment</a>.</p>
</div>
<div id="pu5" class="pu"><h1>TypeScript Types, <s>234</s> 206 bytes</h1>
<p>Saved 28 bytes thanks to tjjfvi!</p>
<pre><code>//@ts-ignore
type F&lt;E&gt;=E extends`${infer H}${infer T}`?(H extends`${number}`?[H,T]:F&lt;T&gt;extends[infer I,infer U]?F&lt;U&gt;extends[infer J,infer V]?[`(${I}${H}${J})`,V]:0:0):0
type G&lt;E&gt;=F&lt;E&gt;extends[infer H,&quot;&quot;]?H:0
</code></pre>
<p><a href="https://www.typescriptlang.org/play?#code/PTACBcGcFoEsHMB2B7ATgUwFDgJ4Ad0ACAMQB4BRAPgF5zD0APcdRAE0gAMASAb1kQBm6VIQASAX178hIgCriOAfgAUo+kxbtuPRAFcAtgCNhCxQG1RAGlkBdAFxlZlRszaQz04YQCSlzyIBVG0UyAOcNNw9BLwApP2iRADVgsw5lXm9JHgleGPEASg5LZLsABjL8sux8IgBxChoyKhdNd38xSwAiTuDRKswQCBgEFAxqgkIAYQALdABjAGtSAEF1V3ZCSHBUfnhLQgAhNdbN7d3KQmpCeuWLlrdDwkVCTuWAGzfCeGRkVgBCTqEOyEDgAeWmhFY6AAhqh9rwbpRxIRYJBCChwIRwLNNtD9ERoWjeAcFABuTDjIirK4zeZLTrQgDMABZOvtOspGdDmflOpQBsBCEKAHqKSmPGmzRakTqGaEAVgAbAB2NkvZTKeXQxX5QzK3n8kBCwii8WTS5TKX0uZygCMACYWWqORrbdD7brGfk5jy+QLjabcBMACIW2nShm2wyO53KN3Ke2GL0G-0isVBoh0SV0mXQ20CG3MxWsZnoACc8oQiumzPtCwAVoz7W9FQAOWPxjXMww6ubKZmsZRl9Dy-JjgQaxXwfvTD35WAaxn1j0LZSKt6tsdbv1GtNAA" rel="noreferrer">Try it online!</a></p>
<p>Thanks to <a href="https://codegolf.stackexchange.com/users/87606/tjjfvi">@tjjfvi</a> for helping me get started with abusing TypeScript's surprisingly powerful type system. This is pretty much the same approach as my Scala answer, just at compile time. At each step, <code>F</code> returns one expression and the remainder of the input. First it deconstructs the input into the first character <code>H</code> and the rest <code>T</code> using <code>E extends `${infer H}${infer T}` </code>. Then it checks if the first character of <code>E</code> is a digit (<code>H extends'0'|...|'9'</code>). If it is, it just returns that first character (a valid infix expression) and <code>T</code> in a list (or is it a tuple type?). Otherwise, it finds the next two expressions <code>I</code> and <code>J</code> and returns the infix expression <code>(IHJ)</code> along with the remaining text <code>V</code>. <code>G</code> exists simply to match on <code>F</code>'s output and return the valid expression, as the second part of the output of <code>F</code> is an empty string by the end.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 33 bytes</h1>
<pre><code>V_Q?-1/GN=Y+YN=Y+YjN[+\(.)Y+.)Y\)
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/Pyw@0F7XUN/dzzZSOxJMZPlFa8do6GlGagNxjOb//0qJhmnJSSZmKSaplqaZ6WYZJkbZWcZGOWYWSgA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
<pre><code>                                     # Q = eval(input())
                                     # G = &quot;abcdefghijklmnopqrstuvwxyz&quot;
                                     # Y = []
V_Q                                  # for N in reversed(Q):
   ?-1/GN                            #   if N in G:
         =Y+YN                       #     Y.append(N)
                                     #   else:
                   jN[+\(.)Y+.)Y\)   #     X = N.join(['(' + Y.pop(), Y.pop() + ')'])
              =Y+Y                   #     Y.append(X)
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.rust-lang.org/" rel="nofollow noreferrer">Rust</a>, 117 bytes</h1>

<pre class="lang-rust prettyprint-override"><code>fn f(s:&amp;mut std::str::Chars)-&gt;String{let c=s.next().unwrap();if c&lt;'a'{c.into()}else{format!(&quot;({}{}{})&quot;,f(s),c,f(s))}}
</code></pre>
<p>Takes a mutable reference to a character iterator and returns a string. Requires Rust 1.46+.</p>
<p><a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;code=%0Afn%20f(s%3A%26mut%20std%3A%3Astr%3A%3AChars)-%3EString%7Blet%20c%3Ds.next().unwrap()%3Bif%20c%3C%27a%27%7Bc.into()%7Delse%7Bformat!(%22(%7B%7D%7B%7D%7B%7D)%22%2Cf(s)%2Cc%2Cf(s))%7D%7D%0A%0A%2F%2F%20Run%20testcases%0Afn%20main()%20%7B%0A%20%20%20%20let%20testcases%20%3D%20%22a34%20-%3E%20(3a4)%0Aba567%20-%3E%20((5a6)b7)%0Acba1234%20-%3E%20(((1a2)b3)c4)%0Aa1b23%20-%3E%20(1a(2b3))%0Aa1fcb46d4e95ig6h42kj32l68%20-%3E%20(1a(((4b6)c(4d(9e5)))f((6g(4h2))i((3j2)k(6l8)))))%22%3B%0A%20%20%20%20for%20line%20in%20testcases.lines()%20%7B%0A%20%20%20%20%20%20let%20(input%2C%20expected)%20%3D%20parse_input(line)%3B%0A%20%20%20%20%20%20let%20result%20%3D%20f(%26mut%20input.chars())%3B%0A%20%20%20%20%20%20println!(%22%7B%7D%20-%3E%20%7B%7D%22%2C%20input%2C%20result)%3B%0A%20%20%20%20%20%20assert_eq!(result%2C%20expected)%3B%0A%20%20%20%20%7D%0A%7D%0A%20%20%20%20%0Afn%20parse_input(line%3A%20%26str)%20-%3E%20(String%2CString)%20%7B%0A%20%20%20%20let%20parts%3A%20Vec%3C_%3E%20%3D%20line.split(%22%20-%3E%20%22).collect()%3B%0A%20%20%20%20(%0A%20%20%20%20%20%20%20%20parts%5B0%5D.into()%2C%0A%20%20%20%20%20%20%20%20parts%5B1%5D.into()%2C%0A%20%20%20%20)%0A%7D" rel="nofollow noreferrer">Rust Playground</a></p>
<h3>Ungolfed</h3>
<pre class="lang-rust prettyprint-override"><code>fn f(iterator: &amp;mut std::str::Chars) -&gt; String
{
    // Get next character
    let c = iterator.next().unwrap();

    // If it's a digit 
    if c &lt; 'a' {
        c.into() // convert the sole digit character into a string
    }
    // Otherwise
    else {
        // Build infix string with two recursive calls for the operands
        format!(&quot;({}{}{})&quot;, f(iterator), c, f(iterator))
    }
}
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Scala, 57 bytes</h1>
<pre class="lang-scala prettyprint-override"><code>s=&gt;{def g:Any={val n=s.next;if(n&gt;58)s&quot;($g$n$g)&quot;else n};g}
</code></pre>
<p><a href="https://scastie.scala-lang.org/DylOh9yeSFWNzgNzefzY0w" rel="nofollow noreferrer">Try it online!</a></p>
<p>Takes an iterator of characters instead of a string so it can save its position.</p>
<h2>Without an iterator, 118 bytes</h2>
<pre class="lang-scala prettyprint-override"><code>f(_)._1
def f(s:String):(Any,String)=if(s(0)&lt;58)s.splitAt(1)else{val(a,t)=f(s.tail);val(b,u)=f(t);s&quot;($a${s(0)}$b)&quot;-&gt;u}
</code></pre>
<p><a href="https://scastie.scala-lang.org/QGm9zd8YTgOsWY6A61XxHA" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://mlochbaum.github.io/BQN/" rel="nofollow noreferrer">BQN</a>, <strike>38</strike> 36 <a href="https://github.com/mlochbaum/BQN/blob/master/commentary/sbcs.bqn" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>{𝕩{'9'(1⌽&quot;)(&quot;∾𝕊∾˜𝕊∾⊢)⍟&lt;𝕗⊑˜i+↩1}i←¯1}
</code></pre>
<p><a href="https://mlochbaum.github.io/BQN/try.html#code=RiDihpAge/Cdlal7JzknKDHijL0iKSgi4oi+8J2ViuKIvsuc8J2ViuKIvuKKoinijZ888J2Vl+KKkcucaSvihqkxfWnihpDCrzF9CgpGwqgiYTM0IuKAvyJiYTU2NyLigL8iY2JhMTIzNCLigL8iYTFiMjMi4oC/ImExZmNiNDZkNGU5NWlnNmg0MmtqMzJsNjgiCg==" rel="nofollow noreferrer">Try it here.</a></p>
<p>How it works:</p>
<p>The outer function simply makes a counter <code>i</code> and passes the input <code>𝕩</code> to the inner function as <code>𝕗</code>.</p>
<pre><code>{'9'(1⌽&quot;)(&quot;∾𝕊∾˜𝕊∾⊢)⍟&lt;𝕗⊑˜i+↩1} # Inner function
                        i+↩1  # Increment i, 
                     𝕗⊑˜      # and use it to index into the input
 '9'(             )⍟&lt;         # if the code point is greater than '9'
               𝕊∾⊢            # recurse and prepend the result
            𝕊∾˜               # recurse and append the result
     1⌽&quot;)(&quot;∾                  # wrap with parentheses
</code></pre>
</div>
<div id="pu10" class="pu"><h1>x86-16 machine code, <del>23</del> 21 bytes</h1>
<pre><code>00000000: ac3c 617c 0e50 b028 aae8 f4ff 58aa e8ef  .&lt;a|.P.(....X...
00000010: ffb0 29aa c3                             ..)..
</code></pre>
<p>Listing:</p>
<pre><code>        P2I:
AC          LODSB               ; AL = next char, SI++
3C 61       CMP  AL, 'a'        ; is alpha? 
7C 0E       JL   IS_ARG         ; if not, it's an argument
50          PUSH AX             ; save operator to stack 
B0 28       MOV  AL, '('        ; load left paren 
AA          STOSB               ; write to output 
E8 0100     CALL P2I            ; recursive call for next char 
58          POP  AX             ; restore operator from this call stack 
AA          STOSB               ; write to output 
E8 0100     CALL P2I            ; recursive call for next char 
B0 29       MOV  AL, ')'        ; load right paren
        IS_ARG:
AA          STOSB               ; write to output 
C3          RET                 ; return to caller
</code></pre>
<p>Input string at <code>[SI]</code>, output to <code>[DI]</code>.</p>
<p><a href="https://i.sstatic.net/AeZn9.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/AeZn9.png" alt="enter image description here" /></a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> -p, 51 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>s/(\D) (\S+) (\S+)/ ($2$1$3)/||s/.\b/ $&amp;/ until/^ /
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/79YXyPGRVNBIyZYG0rqK2ioGKkYqhhr6tfUFOvrxSTpK6io6SuU5pVk5ujHKej//59obMKVlGhqZs6VnJRoaATkJRomGRkr0AMArUpLTjIxSzFJtTTNTDfLMDHKzjI2yjGz@JdfUJKZn1f8X7cAAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>Uses regexp substitutions and treat the $_ string as an array where the first element is the input, or what is left of it while processing, and the rest of the array elements is the working stack. Commands to see it's behavior on the last test case:</p>
<pre class="lang-perl prettyprint-override"><code>INP=a1fcb46d4e95ig6h42kj32l68      #which is the last test case
echo $INP|perl -plE'say,s/(\D) (\S+) (\S+)/ ($2$1$3)/||s/.\b/ $&amp;/ until/^ /'
a1fcb46d4e95ig6h42kj32l68
a1fcb46d4e95ig6h42kj32l6 8
a1fcb46d4e95ig6h42kj32l 6 8
a1fcb46d4e95ig6h42kj32 (6l8)
a1fcb46d4e95ig6h42kj3 2 (6l8)
a1fcb46d4e95ig6h42kj 3 2 (6l8)
a1fcb46d4e95ig6h42k (3j2) (6l8)
a1fcb46d4e95ig6h42 ((3j2)k(6l8))
a1fcb46d4e95ig6h4 2 ((3j2)k(6l8))
a1fcb46d4e95ig6h 4 2 ((3j2)k(6l8))
a1fcb46d4e95ig6 (4h2) ((3j2)k(6l8))
a1fcb46d4e95ig 6 (4h2) ((3j2)k(6l8))
a1fcb46d4e95i (6g(4h2)) ((3j2)k(6l8))
a1fcb46d4e95 ((6g(4h2))i((3j2)k(6l8)))
a1fcb46d4e9 5 ((6g(4h2))i((3j2)k(6l8)))
a1fcb46d4e 9 5 ((6g(4h2))i((3j2)k(6l8)))
a1fcb46d4 (9e5) ((6g(4h2))i((3j2)k(6l8)))
a1fcb46d 4 (9e5) ((6g(4h2))i((3j2)k(6l8)))
a1fcb46 (4d(9e5)) ((6g(4h2))i((3j2)k(6l8)))
a1fcb4 6 (4d(9e5)) ((6g(4h2))i((3j2)k(6l8)))
a1fcb 4 6 (4d(9e5)) ((6g(4h2))i((3j2)k(6l8)))
a1fc (4b6) (4d(9e5)) ((6g(4h2))i((3j2)k(6l8)))
a1f ((4b6)c(4d(9e5))) ((6g(4h2))i((3j2)k(6l8)))
a1 (((4b6)c(4d(9e5)))f((6g(4h2))i((3j2)k(6l8))))
a 1 (((4b6)c(4d(9e5)))f((6g(4h2))i((3j2)k(6l8))))
 (1a(((4b6)c(4d(9e5)))f((6g(4h2))i((3j2)k(6l8)))))
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 40 bytes</h1>
<pre><code>If[t=##2;#&gt;60,##&amp;[40,#0@t,#,#0@t,41],#]&amp;
</code></pre>
<p><a href="https://tio.run/##VchBC4IwGIDhuz9jH3haoHOuIpSBEHQL6iYevs0trVQYu4n@9VV46vQ@vAP6zgzoe43BFuFia18AsBOUIqEAcc2/SaSnsIWnDYUmDlfXj76GXXl201B16FB746qpNXK2Ut6n/wdLE683jeM6RwQzTmhEFOZi/4NWmLLtYapYtsFqxUXLzTHvH6Lj7PXM2FscSLSEDw" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Input and output a sequence of character codes.</p>
<h3><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 37 bytes</h3>
<pre><code>If[t=##2;#&gt;60,40 .#0@t.#.#0@t. 41,#]&amp;
</code></pre>
<p><a href="https://tio.run/##VYtBC4IwGIbv/grZoEOY6JyrCGUgBEGHoG7i4dvccpUKa7fIv74KT52eh@fl7cF1qgdnJHhd@IOuXYEx2eGSJRFNwhgn3MV4RkjTCDcLf7JmcDVelXs79lUHFqRTthpbxZdH83Sca84v4//yPU5nCcP0ChBkFEUBEpCz9U@kgJTMDVJBslm0FJS1VG1zc2UdJfdbRh5sg4K3/wA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Outputs a <code>Dot</code> of character codes instead.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>62</s> <s>60</s> 54 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;e,i=-1{(f=-&gt;c=e[i+=1]{c=~/\d/?c:?(+f[]+c+f[]+?)})[]}
</code></pre>
<p>Saved 6 more bytes by removing parenthesis and using ternary operator by the hint from Dingus.</p>
<p><a href="https://tio.run/##RY3BjoIwEIbvPsWEvcxE0VBK1U2qp30KlkNbilQJGoFkN8i@Ogsusj20zf/NN/@90d99IXv/YFdO@kGLmfQPRtrYLWWQtEb@bD7TzdG8H3GZxcnSPO8jdRQnXd8uADwVcg/kATwMFSdvNWZaRWI7pRgpQXo7EaNVwGYDMVCMdEjmZapAs3CigUI2sJlkRnORcruP3EnknF3OISvE7n8akWtBBnmKexsRUYYoTshzRuQQwzOjC4piR@MZtnZrq0wO6RUerrw19Qrs182a2qaPofFuq6aoQUIRP2kyZMNTTWCcUK6y4H1MEry1L3/tymr8daCbGk7XemB/2kw8aMrCVtXcI@f2hS3TRf8L" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 17 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>è▼2╖X!ú▬Ie╓ƒû≈²O┬
</code></pre>
<p><a href="https://staxlang.xyz/#p=8a1f32b75821a3164965d69f96f7fd4fc2&amp;i=a34%0Aba567%0Acba1234%0Aa1b23%0Aa1fcb46d4e95ig6h42kj32l68&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="http://www.swi-prolog.org" rel="nofollow noreferrer">Prolog (SWI)</a>, <s>95</s> 81 bytes</h1>
<p>Haven't programmed in Prolog for a while, so this was a fun challenge to do.</p>
<p>Prologs ability to handle strings and atoms do not make it easy. Probably suboptimal, but here we go:</p>
<pre><code>f(R,[H|T]):-T=[],H&lt;97,R=[H];append(X,Y,T),f(C,X),f(D,Y),flatten([40,C,H,D,41],R).
</code></pre>
<p>Input and output are both codepoint lists.</p>
<p><a href="https://tio.run/##hY4/D4IwEMV3PgVxapPDCFT8P@GAkwlh0BBCChSskkKgRge/O1Y2opFb3uXe795d3VRlVRjtg3ddjnwIvVcQ4bUR7MIIvO1qAf4u9KINrWsmMnSCMwQYcuTC6SN7OCspqZRMoJDMwAUP9kDMCHw87eqG5fwZyyrmQjXoIEA/3iXW14amq2plw0URp1XG2t50Px2G3lTvsHY4GvAqCHSF/LgzoTaZ9Oa9lHiqaV9AQufO4j@SJtS0xnKomVj2GJKnCXEywlZzXjgXYt2utlU6y8HaGw" rel="nofollow noreferrer" title="Prolog (SWI) – Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>71</s> 70 bytes</h1>
<p>-1 thanks to <a href="https://codegolf.stackexchange.com/questions/237574/convert-prefix-to-infix/237616?noredirect=1#comment539038_237616">AZTECCO</a></p>

<pre class="lang-c prettyprint-override"><code>f(char*s){s=putchar(*s+!(*s++&gt;60?f(&quot;(&quot;),s=f(s):1))&gt;60?f(s)+!f(&quot;)&quot;):s;}
</code></pre>
<p><a href="https://tio.run/##RY/RbsIwDEWfyVcES5Ni0gnahrARyj5k4yENDWRjBdXdy6p@e5dCpb1Y19fX1rF7Pjk3DF64s20WhB0Vt592bMSC5Hwscq9Xb16AAEyo8IJwmyI@TEI5jyME3JLph28baoEdux/jrXs/8IJ3DGyuIGFQ2rXejMKVNs0enk3LLP/3fHVUU8im3pVKH1X1ug4nfVbZ12eeXfQLsN4wf224CHXLQ7EyYUfht7p60TpcTvLOgCZIiRFhdmtiOKLu@RN91JBEuHBAw2bj0iTj5yQAouxZP/wB" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>Relies on summands evaluating from left to right. Outputs to stdout.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>96</s> <s>65</s> <s>72</s> 69 bytes</h1>
<p>Or <strong><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>&gt;=4.1, 62 bytes</strong> by replacing the word <code>function</code> with <code>\</code>.</p>
<p><em>-many bytes by changing I/O to vector of char codes.</em><br />
<em>-another some bytes thanks to <a href="https://codegolf.stackexchange.com/users/95126/dominic-van-essen">@Dominic van Essen</a>.</em><br />
<em>+7 bytes costed converting from not-so-self-contained function to a program.</em><br />
<em>-3 bytes thanks to <a href="https://codegolf.stackexchange.com/users/95126/dominic-van-essen">@Dominic van Essen</a> - converting back to one (reusable) function.</em></p>

<pre class="lang-r prettyprint-override"><code>`/`=function(s,t=0)&quot;if&quot;((a=s[i&lt;&lt;-t*i+1])&lt;58,a,c(40,s/1,a,s/1,41));i=9
</code></pre>
<p><a href="https://tio.run/##hZDNbsIwEITvfQqUXmbbIPAviYh7752eqkrYJgYDSiRieP3USJVoL80eVjva/WakvYy@727tJZlxu9iacO18in2HoUxmSUUMBWDN8BmbZp5e4iv7okZVpS095LIcFiyP9y4Z0Tqaeoxd2vQfKVT4McY1i03/3iUUVsiCiJ5n87cZhJX09O@5s0qvHgCU1eRWE5B3lvHfOQCznJwgP5VnmePiATILnrFJKHgn9U62tYp7fZD8dBT8rKs/RoB0mvLTdqhblTcB0HvIAyeKgDhyOkGfK7rX@A0" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/237581/55372">@loopy walt's answer</a>.</p>
<p><strong>Explanation</strong></p>
<p>A function takes string <code>s</code> and <code>t</code> defaulting to <code>0</code> (for resetting global variable).<br />
The recursive function (named <code>/</code> overriding division) takes one character at a time (<code>a</code>) incrementing the global counter each time. If the character char code is less then 58, then it's a digit and needs to be returned as is. Otherwise, we surround the character with braces (char codes <code>40,41</code>) and recursive calls to our function (with <code>t=1</code> to keep <code>i</code> as is between calls).<br />
The code at the end initiates global counter <code>i</code> to a digit (<code>9</code> chosen for demonstration purposes).</p>
<hr />
<p>Solution shorter for <a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>&gt;=4.1:</p>
<h3><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 74 bytes</h3>
<p>Or <strong><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>&gt;=4.1, 60 bytes</strong> by replacing two <code>function</code> occurrences with <code>\</code>s.</p>

<pre class="lang-r prettyprint-override"><code>function(s,i=0,f=function(a=s[i&lt;&lt;-i+1])&quot;if&quot;(a&lt;58,a,c(40,f(),a,f(),41)))f()
</code></pre>
<p><a href="https://tio.run/##hZDNbsJADITvfQoULmM1SN1fgpT03js9VT14lywsoI0ES18/LKgq7aXxwRpb840ln0Y/pK/@lLsxXJLPcUg417F7qUP3s@Du/BHbdhGfxSdVMVTg1jQ11x66GEFF3roWRFTEGFNeD@85NPhOx6UM6@EtZVSsdFV889nidQbFmp7@tTs2dvkAYNiSW05A3rGQv@8AgiU5RX7qHgsn1QMUDFmwSSh4p@1G9ysTt3an5WGv5NE2f4IA7SyVp22w6s39V7Bb6J0kioDaSzrAHhu61XgF" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>Same as above, but here <code>i</code> is &quot;local&quot; for the main function, but &quot;global&quot; for the recursive one.</p>
</div>
<div id="pu18" class="pu"><h1><a href="http://jdk.java.net/" rel="nofollow noreferrer">Java (JDK)</a>, 91 bytes</h1>

<pre class="lang-java prettyprint-override"><code>Object f(java.util.Iterator&lt;Character&gt;s){var c=s.next();return c&lt;97?c:&quot;(&quot;+f(s)+c+f(s)+&quot;)&quot;;}
</code></pre>
<p><a href="https://tio.run/##VVA7b8IwEN75FadISLYAS4QQyrNDpw5VB7pVHS7GAYe8ZF9QK8Rvd@0SVe3gO913/h52gRecFIeza7us1BJkidbCC@oargOAHrWE5Nul0Qeo/I7tyej6@P4BaI6W/1wFyBsD7IImgLD6twIIuCbYBljIExrLuKiwfWtes4JJmOyABZhLLjQpg9QYxtd/2EbZrgwKOdP0u9l/WVKVaDoSrc9EOYuGNqgN7bCOxsFu3FN7zm1wP/dHOW@vJHnRwn@F6EiX4rn33zz5QCj9tLP8GjLIrRW1@iSfzCjqTA1ys1w8ylXEolHOLB/Je4t4tL65m3M4S1yG83ThZIbT2E84zeKZr7nMkvSQqOVcH9NTEp@LWVymD98" rel="nofollow noreferrer" title="Java (JDK) – Try It Online">Try it online!</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 54 bytes</h1>
<pre><code>⊞υ⟦⟧ＦＳ¿№βι⊞υ⟦ι⟧«⊞§υ±¹ιＷ⁼³Ｌ§υ±¹⊞§υ±²⪫()⪫⮌⁺⟦⊟§υ±¹⟧⊟υω»⊟υ
</code></pre>
<p><a href="https://tio.run/##dY@xbsIwEIZn/BQnprOUDoQ0apUJoQ4ghKIyIgYTLonBsmlsA1LFs7txRVkKy@n0/fr@01Wt6CojVAilty36BNYbXrDadIAzffRu5TqpG@QcZA04NV473CYge3A3ZFRIWYJvNvilEzfTO7rEdEmNcIQjzqNVsMG5lYoAP768UBbHCSxIN@6Jw//u/E/T2Dg3UuMQ@fC2ftKJOktYKm9xXZrj49pNAjHzPHac@1mwKyv7Tx3eeBGCGNXVNst3Gb2/yiZvs/SwH6cqfwsvJ/UD" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>⊞υ⟦⟧
</code></pre>
<p>Start with no expression.</p>
<pre><code>ＦＳ
</code></pre>
<p>Loop over the input characters.</p>
<pre><code>¿№βι⊞υ⟦ι⟧
</code></pre>
<p>If it's a letter then begin a new operation.</p>
<pre><code>«
</code></pre>
<p>Otherwise:</p>
<pre><code>⊞§υ±¹ι
</code></pre>
<p>Push this operand to the current operation.</p>
<pre><code>Ｗ⁼³Ｌ§υ±¹
</code></pre>
<p>While the current operation has both of its operands, ...</p>
<pre><code>⊞§υ±²⪫()⪫⮌⁺⟦⊟§υ±¹⟧⊟υω
</code></pre>
<p>Convert it to infix and push it to its parent operation, which becomes the new current operation.</p>
<pre><code>»⊟υ
</code></pre>
<p>Output the final infix code.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://nodejs.org" rel="noreferrer">JavaScript (Node.js)</a>, 49 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;(i=0,g=(c=s[i++])=&gt;c&gt;=0?c:'('+g()+c+g()+')')()
</code></pre>
<p><a href="https://tio.run/##PY9BbsIwEEX3OYV3/qNARBzHQJHTVU9BkXCMEwwBIxxVSFXPniaodBYjzZunL/2T@TLR3v2tn1/DwQ2NHqKu4PVi1mpYHbc@TXekK1vpxbt94@BpC0rtc3PiBBp6F3trootMs31iCsnmFUNhJCW1KdXyeaI0iuolJbY2ufhzgNwIqguyo2vyWhRPnBuIEU6osbVUB@nWpW/VUYrzqRCdWr00QNaKLOQBa1cSUQOoFvIoiDxQnASdoboVTZPss/7uL6As3jrfg39eOWUXc8OD6Yo9XngK50Sb5L9Y1oT7h7FHYOtnzO1o8r8Txmy4xtC5rAstEMb@DTyNX62Zm7EwZvzQZvgF" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu21" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 70 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>g(a:b)|a&lt;'a'=([a],b)|(c,d)&lt;-g b,(e,f)&lt;-g d=('(':c++a:e++&quot;)&quot;,f)
f=fst.g
</code></pre>
<p><a href="https://tio.run/##Rcm9DoIwGIXh3av40qVtKCYURCXAFejkiAxfgQLyEyJ1894rSKLbc97T4NxVfW9tzTBS/I0xRZqwDHOxLFaIksduDUqwSugvy4RRRqPCcTCqHIdwshw7nejZ7Gs7YDtCAgNOV2B3A24K08vczBMMpD@TtZN/uIzANBjOISPoB0QAUXgIjysKhZ7cGnpK@ht0oYKwDKrzoa3DJpDdw5d9eCK5/QA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="noreferrer">Python 3.8 (pre-release)</a>, 61 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda S:(s:=next(S:=iter(S)))[:s&lt;&quot;a&quot;]or&quot;(&quot;+f(S)+s+f(S)+&quot;)&quot;
</code></pre>
<p><a href="https://tio.run/##NY5BboMwEEX3nMKa1YySVsI2DqF1LwG7NAsbcHBCAYEXLZenQJvZjOb9p9EffkLTdyIdxmVxujVftjIsz3DKdFd/B8wz7UM9Yk5El2x6BwPXfgSEg1vZYfpbQLAUGgCMkOzlg6EwkiJrEnXaT0yMInuiqLQm5v8OYmw4WUHl6prYcrHj2CBf4YZcaaWqZH1O/E01kj/ugrcqfWqI0ioqUVZ4rpO1oENUN5QNJ/KI4s7pgapNaZu1XFToS3idhtYHhO0JEHP9yALzHSuewWcHdI027o/9nmSzdujpbRh9F3A@zlr3FC2/" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>This does the conversion in a single linear pass over the input. The tree structure is captured by a recursive scheme where each branch corresponds to an instance of the function. The function logic is then as simple as: Read the next character and return it if it is a numeral. Else store it, then output opening braces call yourself for the first operand, output the stored infix call yourself for the second operand and add the closing braces.</p>
<p>To keep track of the position within the input string across all the recursive function calls we convert the input to an iterator. Applying <code>iter</code> to an iterator returns the object itself, so it does no harm doing it multiple times. As all copies of the recursive function use the self-same single instance of the iterator the bookkeeping becomes trivial.</p>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 74 bytes</h1>
<pre><code>+`([a-z])((([a-z])|(?&lt;-4&gt;\d))*\d)((([a-z])|(?&lt;-7&gt;\d))*\d)
($2$U$1$5)
T`L`l
</code></pre>
<p><a href="https://tio.run/##K0otycxLNPz/XztBIzpRtypWU0MDyqjRsLfRNbGLSdHU1AISqOLmcHEuDRUjlVAVQxVTTa6QBJ@EnP//E41NuJISTc3MuZKTEg2NgLxEwyQjYyCZlpxkYpZikmppmplulmFilJ1lbJRjZgEA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>([a-z])((([a-z])|(?&lt;-4&gt;\d))*\d)((([a-z])|(?&lt;-7&gt;\d))*\d)
</code></pre>
<p>Match a letter followed by two prefix expressions. A prefix expression is readily identified as being a substring that contains exactly one more digit than letter.</p>
<pre><code>($2$U$1$5)
</code></pre>
<p>Convert this letter to infix and upper case it to show that it has been converted.</p>
<pre><code>+`
</code></pre>
<p>Keep making replacements until all of the letters have been upper cased.</p>
<pre><code>T`L`l
</code></pre>
<p>Change all the letter back to lower case again.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/237574/">237574</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




