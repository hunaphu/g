<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::189285</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>038</td><td>JavaScript Node.js</td><td>190806T025143Z</td><td><a href="https://codegolf.stackexchange.com/questions/189285/write-the-shortest-program-to-check-if-a-binary-tree-is-balanced/189316#189316">tsh</a></td></tr>
<tr d-ix="1"><td>094</td><td>Python 2</td><td>190806T182627Z</td><td><a href="https://codegolf.stackexchange.com/questions/189285/write-the-shortest-program-to-check-if-a-binary-tree-is-balanced/189395#189395">Chas Bro</a></td></tr>
<tr d-ix="2"><td>117</td><td>C</td><td>190806T213332Z</td><td><a href="https://codegolf.stackexchange.com/questions/189285/write-the-shortest-program-to-check-if-a-binary-tree-is-balanced/189415#189415">T. Salim</a></td></tr>
<tr d-ix="3"><td>056</td><td>Julia</td><td>190806T103952Z</td><td><a href="https://codegolf.stackexchange.com/questions/189285/write-the-shortest-program-to-check-if-a-binary-tree-is-balanced/189334#189334">Simeon S</a></td></tr>
<tr d-ix="4"><td>125</td><td>Python 3.8 prerelease</td><td>190806T085143Z</td><td><a href="https://codegolf.stackexchange.com/questions/189285/write-the-shortest-program-to-check-if-a-binary-tree-is-balanced/189328#189328">ar4093</a></td></tr>
<tr d-ix="5"><td>067</td><td>Kotlin</td><td>190806T052329Z</td><td><a href="https://codegolf.stackexchange.com/questions/189285/write-the-shortest-program-to-check-if-a-binary-tree-is-balanced/189323#189323">Brojowsk</a></td></tr>
<tr d-ix="6"><td>050</td><td>Wolfram Language Mathematica</td><td>190806T033158Z</td><td><a href="https://codegolf.stackexchange.com/questions/189285/write-the-shortest-program-to-check-if-a-binary-tree-is-balanced/189317#189317">alephalp</a></td></tr>
<tr d-ix="7"><td>162</td><td>JavaScript</td><td>190805T185528Z</td><td><a href="https://codegolf.stackexchange.com/questions/189285/write-the-shortest-program-to-check-if-a-binary-tree-is-balanced/189299#189299">fəˈnɛtɪk</a></td></tr>
<tr d-ix="8"><td>049</td><td>Prolog SWI</td><td>190805T182241Z</td><td><a href="https://codegolf.stackexchange.com/questions/189285/write-the-shortest-program-to-check-if-a-binary-tree-is-balanced/189294#189294">Unrelate</a></td></tr>
<tr d-ix="9"><td>011</td><td>Jelly</td><td>190805T175030Z</td><td><a href="https://codegolf.stackexchange.com/questions/189285/write-the-shortest-program-to-check-if-a-binary-tree-is-balanced/189292#189292">Erik the</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 38 bytes</h1>

<pre class="lang-none prettyprint-override"><code>h=([l,r])=&gt;H=l?+'112'[h(l)-h(r)+1]+H:1
</code></pre>
<p><a href="https://tio.run/##ZY7dDoIwDIXvfRG2MAyVIf5kess7NLsgSJxmYWYYX38Wpqjx4rSnW9uv1@bRDK2/3O5Z705dCEYxtMJrrg61ssc0AVglaJjlmWGep6DTegehdf3gbLe07swMQ0QtMEYtoBiLaEuSnGxBSb4@3p2ymjvllrSZbElDclSuOd8v/lA4D5VfKyMv14KWrCdGfKk@voBfHN0JlAFGTngC" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>99</s> <s>96</s> 94 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda A:A==[]or(abs(D(A[1])-D(A[2]))&lt;2)*f(A[1])*f(A[2])
D=lambda A:A&gt;[]and-~max(map(D,A[1:]))
</code></pre>

<p><a href="https://tio.run/##bU7BDoIwDL37FRw3MxIKQ5E4ExL@ou4wQogmMghy0Iu/PgsIYuLh9bUv7Xttn/2lsaGr1NndTF2UxsvSTCnUTcdMcWc5yxA09wcONefHkG@rSRuZtE2uvqcn1MaW/qs2D1abluWCdlM6dG13tb1XMZSBQClQC4yIYEA0jpoA8aedi5yEmEgmhP2yKg8/q/TIEgEgcDenrByTsYVgVoaBXGBlSq9E8CeD/N0b" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>3 bytes from <a href="https://codegolf.stackexchange.com/users/76162/jo-king">Jo King</a>.</p>

<p>Takes input as: empty node is <code>[]</code>, and other nodes are <code>[&lt;value&gt;, &lt;leftNode&gt;, &lt;rightNode&gt;]</code>. Outputs <code>0/1</code> for False/True. </p>
</div>
<div id="pu2" class="pu"><h1>C, 117 bytes</h1>
<pre><code>h(T*r){r=r?1+h(h(r-&gt;l)&gt;h(r-&gt;r)?r-&gt;l:r-&gt;r):0;}b(T*r){return r-&gt;l&amp;&amp;!b(r-&gt;l)||r-&gt;r&amp;&amp;!b(r-&gt;r)?0:abs(h(r-&gt;l)-h(r-&gt;r))&lt;=1;}
</code></pre>
<p>Struct implementation is the following:</p>
<pre><code> typedef struct T
    {
        struct T * l;
    
        struct T * r;
    
        int v;
    
    } T;
</code></pre>
<p><a href="http://jdoodle.com/a/1rdN" rel="nofollow noreferrer">Try This on JDoodle</a></p>
</div>
<div id="pu3" class="pu"><h1>Julia, 56 bytes</h1>

<pre><code>f(t)=t!=()&amp;&amp;(-(f.(t.c)...)^2&lt;2 ? maximum(f,t.c)+1 : NaN)
</code></pre>

<p>With the following struct representing the binary tree:</p>

<pre><code>struct Tree
    c::NTuple{2,Union{Tree,Tuple{}}}
    v::Int
end
</code></pre>

<p><code>c</code> is a tuple representing the left and right nodes and the empty tuple <code>()</code> is used to signal the absence of a node.</p>

<p>Falsey value is <code>NaN</code>, any integer is truthy.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, <s>133</s> 125 bytes</h1>



<pre class="lang-python prettyprint-override"><code>b=lambda t:((max(l[0],r[0])+1,abs(l[0]-r[0])&lt;2)if(l:=b(t[1]))[1]and(r:=b(t[2]))[1]else(0,0))if t else(0,1)
h=lambda t:b(t)[1]
</code></pre>

<p><a href="https://tio.run/##tU/LToQwFN3zFU3YtLFj6MAoEvkA/YWmMcUp0ligaYuRr8dLGXRM3Lq4r3PPPT21c@jGIS@tW3RvRxeQ9AGl6HmC0o4O9fJdD29IIqMBGSeIFoVOIR/cutCDnUJiaji7NTooJ82L@pAGxwUmZGlqI/vmLFGoMO7lJzY8E9RBIjeMysZH4BCBxyPRLTZV3eDAmSAEkhzO2G3IcUOU8QpnNCNARgFdRkaS7ucpoK/UxYLLgDtsCEnSp9WTj/9S0s/odbTzwYJ1VSUpLzLKC8oF5TkUtkYeRwHBTpd2T8UGnKAUJcT9N7V4@EUVIM0Y5Xe7@pVSGVuW7cg6wDW7EgMLOftDW4jlf2S/AA" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>

<p>Takes a tree in the "list" format: A node is <code>[value, left, right]</code> with <code>left</code> and <code>right</code> being nodes.</p>

<p>Invoke the function <code>h</code>.</p>

<p>Returns <code>0</code> or <code>False</code> for an unbalanced tree.
Returns <code>1</code> or <code>True</code> for a balanced tree.</p>

<h2>Ungolfed:</h2>

<pre class="lang-python prettyprint-override"><code># Returns tuple (current height, subtrees are balanced (or not))
def balanced(tree):
  if tree: # [] evaluates to False
    left = balanced(tree[1])
    right = balanced(tree[2])
    # If  the subtrees are not both balanced, nothing to do, just pass it up
    if left[1] and right[1]:
      height = max(left[0], right[0]) + 1
      subtrees_balanced = abs(left[0] - right[0]) &lt; 2
    else:
      height = 0 # Value doesn't matter, will be ignored
      subtrees_balanced = False
  else:
    height = 0
    subtrees_balanced = True
  return (height, subtrees_balanced)

def h(tree):
  return balanced(tree)[1]
</code></pre>

<p>-10: Reversed logic to get rid of <code>not</code>s</p>

<p>If taking arguments in the middle of a call is allowed, this could be shortened to (115 bytes)</p>

<pre class="lang-python prettyprint-override"><code>(b:=lambda t:((max(l[0],r[0])+1,abs(l[0]-r[0])&lt;2)if(l:=b(t[1]))[1]and(r:=b(t[2]))[1]else(0,0))if t else(0,1))(_)[1]
</code></pre>

<p>with <code>_</code> being the tree to check.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://kotlinlang.org" rel="nofollow noreferrer">Kotlin</a>, 67 bytes</h1>

<pre><code>fun N.c():Int=maxOf(l?.c()?:0,r?.c()?:0)+1
fun N.b()=l?.c()==r?.c()
</code></pre>

<p>Where</p>

<pre><code>data class N(val l: N? = null, val r: N? = null, val v: Int = 0)
</code></pre>

<p><a href="https://tio.run/##ZY0xDsIwDEXn5hQeY1GhskaEipElDJzAFLWqcFOaphUIcfaSEMGCvXw/f/tfe8@tXS7kCSqmcQQjZ2JgBaYEDXZiziES90dmBQfrAypwqScLZl1JVAHpju7HWnIZQamK3H0VrjYiWc8SdTJondafHx21VpJrRgV75@ixPXnX2maHT5HFzCHEGZkaMf/pNKcS2S3ceLZyiDEoXssb" rel="nofollow noreferrer" title="Kotlin – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 50 bytes</h1>

<pre><code>f@_[x_,y_]:=f@x&amp;&amp;f@y&amp;&amp;-2&lt;Depth@x-Depth@y&lt;2;f@_=1&gt;0
</code></pre>

<p>Use <code>Null</code> for null, <code>value[left, right]</code> for nodes. For example, the following tree is written as <code>2[7[2[Null, Null], 6[5[Null, Null], 11[Null, Null]]], 5[Null, 9[4[Null, Null], Null]]]</code>.</p>

<pre><code>    2
   / \
  7   5
 / \   \
2   6   9
   / \  /
  5  11 4
</code></pre>

<p><a href="https://tio.run/##XU7RCoJAEHz3KxaEezrJ9c7UUrmHnqP35RAJRUEjwkCJvv0yMkth2WF2Zme3zbuqaPOuPufGlCqjPuNDpndJqXrGSjUw5njxobh2leqdDw6xtx@tCaauOd3qS0c2OCmUZGsNDDbKgod0SdLx3jQchCQcS0z03TUH9P@5/qEFAPIr@j7JkGTAQUazR/PRg0jb@cQ6K5w4ugthSseIMFh@IwUJXI2i5a5@mhc" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1>JavaScript, 162 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>f=x=&gt;{for(f=0,s=[[x,1]];s[0];){if(!((d=(t=s.pop())[0]).a&amp;&amp;d.b||f))f=t[1];if(f&amp;&amp;t[1]-f&gt;1)return 0;if(d.a)s.push([d.a,t[1]+1]);if(d.b)s.push([d.b,t[1]+1])}return 1}
</code></pre>

<p><a href="https://tio.run/##TYzBCoMwEER/pb2EXarBnGX9kZBD0rjUHlSSWAT129NIS@ltmPdmnvZl4z0Mc6rHyfc5M63UbTwFYGqqSFqvlTKmjboxLW4DwxXAEySKcp5mQCwApRXCS7fvjMiUtDJtMVmIM9bcKQx9WsJ4ac7eS4tlvcQH6JKrU7opgx/m/pj7seN7oI6c3w" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>

<p>The format of the input is an object </p>

<pre class="lang-javascript prettyprint-override"><code>root={a:{node},b:{node},c:value}
</code></pre>

<h2>Explanation</h2>

<pre class="lang-javascript prettyprint-override"><code>for(f=0,s=[[x,1]];s[0];){if(!((d=(t=s.pop())[0]).a&amp;&amp;d.b||f))f=t[1]
</code></pre>

<p>Performing breadth first search find the depth of the first node which is missing one or more branches.</p>

<pre class="lang-javascript prettyprint-override"><code>if(f&amp;&amp;t[1]-f&gt;1)return 0;if(d.a)s.push([d.a,t[1]+1]);if(d.b)s.push([d.b,t[1]+1])}
</code></pre>

<p>Continuing the breadth first search, return zero if any element is two deeper than the depth of the first node missing branches.</p>

<pre class="lang-javascript prettyprint-override"><code>return 1}
</code></pre>

<p>If no such node is found, return 1</p>
</div>
<div id="pu8" class="pu"><h1><a href="http://www.swi-prolog.org" rel="nofollow noreferrer">Prolog (SWI)</a>, 49 bytes</h1>

<pre><code>N+_/B/C:-X+B,Y+C,abs(X-Y)&lt;2,N is max(X,Y)+1.
0+e.
</code></pre>

<p><a href="https://tio.run/##XY7BTsMwEETP8VdYPa1lO46JA20AIbX3HhCHRAhFBrmoUpqg2FU4@deDnRYKHEaaWc2@3Y@hb/t3bsf9NG1pI9ZiU/KKrllNN0y/Wqh4Te6u2BbvLT7oT6hYTahMUUZNOjljXfOmrYGnwRiCS44SQEnS0JhZcI/GHluH77Ebjub292CnW2tQQkJr1w8H7WDhxxL7Dvsx9Z3vFux5ppw2XkiK0APHl5MqE6CEEZArATIqD8mQYIrZkFmgYoKiCG4ZdHMuqdWlFNh/0FIKuD7Tv1mwjElmpxivrIJ@aHn4Q/5DB@70BQ" rel="nofollow noreferrer" title="Prolog (SWI) – Try It Online">Try it online!</a></p>

<p>Represents trees as <code>Value/Left_Child/Right_Child</code>, with the empty tree being the atom <code>e</code>. Defines <code>+/2</code>, which outputs through success or failure, with an unbound variable (or one already equal to the tree's height) on the left and the tree on the right--if the height argument is unacceptable, add 9 bytes to define <code>-T:-_+T.</code>.</p>

<pre><code>N + _/B/C :-            % If the second argument is a tree of the form _Value/B/C,
    X+B,                % X is the height of its left child which is balanced,
    Y+C,                % Y is the height of its right child which is balanced,
    abs(X-Y) &lt; 2,       % the absolute difference between X and Y is strictly less than 2,
    N is max(X,Y)+1.    % and N is the height of the full tree.
0 + e.                  % If, on the other hand, the second argument is e, the first is 0.
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 11 bytes</h1>

<pre><code>ḊµŒḊ€IỊ;ß€Ạ
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///hjq5DW49OAlKPmtZ4PtzdZX14PpD1cNeC/4fbgYz//6O5ok0MdBSiTYA4FoiNQQxDMGEMFYoFEYamcB6CNIEJmoIYJhYgwhxZl4klQhdIC1e0oSGQZ4ZkIaq5FlCeoQGSRhAfZJAhqtkg9xkb4rZOhysWAA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>The empty tree is represented by <code>[]</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/189285/">189285</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




