<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::50047</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>064</td><td>JavaScript Node.js</td><td>230929T140201Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/265595#265595">l4m2</a></td></tr>
<tr d-ix="1"><td>nan</td><td>Vyxal</td><td>230929T134632Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/265594#265594">Pacmanbo</a></td></tr>
<tr d-ix="2"><td>019</td><td>Pyth</td><td>170923T151818Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/143581#143581">Erik the</a></td></tr>
<tr d-ix="3"><td>011</td><td>Jelly</td><td>170923T151022Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/143580#143580">Erik the</a></td></tr>
<tr d-ix="4"><td>nan</td><td></td><td>150513T085634Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/50098#50098">lrn</a></td></tr>
<tr d-ix="5"><td>080</td><td>Haskell</td><td>150514T144002Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/50169#50169">nimi</a></td></tr>
<tr d-ix="6"><td>120</td><td>Bash + coreutils</td><td>150515T154609Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/50223#50223">Digital </a></td></tr>
<tr d-ix="7"><td>095</td><td>JavaScript ES6</td><td>150514T100504Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/50164#50164">edc65</a></td></tr>
<tr d-ix="8"><td>024</td><td>Pyth</td><td>150512T053629Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/50048#50048">isaacg</a></td></tr>
<tr d-ix="9"><td>520</td><td>Batch  520 Bytes</td><td>150514T055545Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/50160#50160">unclemea</a></td></tr>
<tr d-ix="10"><td>028</td><td>CJam</td><td>150512T165624Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/50074#50074">Dennis</a></td></tr>
<tr d-ix="11"><td>102</td><td>Python 3</td><td>150512T070336Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/50052#50052">randomra</a></td></tr>
<tr d-ix="12"><td>135</td><td>Cobra</td><td>150513T065325Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/50094#50094">ÎŸurous</a></td></tr>
<tr d-ix="13"><td>126</td><td>JavaScript ES6</td><td>150512T232952Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/50089#50089">NinjaBea</a></td></tr>
<tr d-ix="14"><td>031</td><td>CJam</td><td>150512T125225Z</td><td><a href="https://codegolf.stackexchange.com/questions/50047/generate-keyboard-friendly-numbers/50060#50060">Martin E</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 64 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(n,i)=&gt;n?f(n-![...~i+f].some(e=v=&gt;(e-(e=+v||1+v))**2&gt;1),-~i):i
               ^                            ^
   If exist, don't decrease        1=&gt;1, 0=&gt;10, s=&gt;1s
</code></pre>
<p><a href="https://tio.run/##JcpNCsIwEEDhs7jLND8YwY018SDiorQTGakzpZHgovTqUdrV@xbv1ZUu9zNNH8syYK0pKDYEIfItKbaHu3NuJZ0eLssbFYYSokL7hy7L4nUBaJpT9GDsSnChmmRWxAN@g2@3Xs/HVuuN0AtnGdGN8twnk/YC1B8" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 83 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 10.375 bytes</h1>
<pre><code>Ãâˆ'f0â‚€VÂ¯È§2&lt;A;i
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyI9IiwiIiwiw57iiJ4nZjDigoBWwq/IpzI8QTtpIiwiIiwiMTkzIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<h2>Explanation</h2>
<pre><code>Ãâˆ'f0â‚€VÂ¯È§2&lt;A;iÂ­â¡â€‹â€â€âªâ¡âªâ âªâ¡âªâ€â â€âªâ¡âªâ âªâ¢âªâ€â€â€‹â¡â â¡â€Œâ¢â€‹â€â€âªâ¡âªâ âªâ£âªâ€â â€âªâ¡âªâ âªâ¤â¡âªâ€â€â€‹â¡â â¡â€Œâ£â€‹â€â€âªâ¡âªâ âªâ¤âªâ€â â€âªâ¡âªâ âªâ¢â¡âªâ€â â€âªâ¡âªâ âªâ¢â¢âªâ€â â€âªâ¡âªâ âªâ¢â£âªâ€â€â€‹â¡â â¡â€Œâ¤â€‹â€â€âªâ¡âªâ âªâ¢â¤âªâ€â âªâªâ âªâªâ€â€‹â¡â â¡â€Œâ¢â¡â€‹â€â€âªâ¡âªâ âªâ£â¡âªâ€â â€âªâ¡âªâ âªâ£â¢âªâ€â â€âªâ¡âªâ âªâ£â£âªâ€â â€âªâ¡âªâ âªâ£â¤âªâ€â€â€‹â¡â â¡â€Œâ¢â¢â€‹â€â€âªâ¡âªâ âªâ¤â¢âªâ€â€â€‹â¡â â¡â€ŒÂ­
Ãâˆ              # â€â¡Natural numbers
  '         ;   # â€â¢Filtered by:
   f0â‚€V         # â€â£The list of digits where 0 is replaced with 10, ie [9,0] becomes [9,10]
       Â¯        # â€â¤Consecutive differences between digits
        È§2&lt;A    # â€â¢â¡Are the absolute values of those difference all less than 2
             i  # â€â¢â¢index (from input)
ğŸ’
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu2" class="pu"><h1>Pyth, 19 bytes</h1>

<pre><code>e.f.AgL1.aM.+|RTjZT
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=e.f.AgL1.aM.%2B%7CRTjZT&amp;input=200&amp;debug=0" rel="nofollow noreferrer">Try it here.</a></p>

<p>Note: Uses commit newer than this challenge, so shouldn't be considered as an outgolf of isaacg's answer. This is still competing, though.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 11 bytes</h1>

<pre><code>DoâµIá»Šáº 
1Ã‡#á¹ª
</code></pre>

<p><a href="https://tio.run/##ASEA3v9qZWxsef//RG/igbVJ4buK4bqgCjHDhyPhuar///8yMDA" rel="nofollow noreferrer" title="Jelly â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><p></p>

<h2>Dart, 92 bytes</h2>

<pre class="lang-dart prettyprint-override"><code>f(n,[x=0]){t(x)=&gt;x&gt;9?((x+9)%10-((x~/=10)+9)%10).abs()&gt;1||t(x):--n&gt;0;while(t(++x));return x;}
</code></pre>

<p>With linebreaks:</p>

<pre class="lang-dart prettyprint-override"><code>f(n,[x=0]){
  t(x)=&gt;x&gt;9?((x+9)%10-((x~/=10)+9)%10).abs()&gt;1||t(x):--n&gt;0;
  while(t(++x));  
  return x;
}
</code></pre>

<p>See/run it on <a href="https://dartpad.dartlang.org/026a368cb2d94e71dc2d" rel="nofollow">DartPad</a></p>
</div>
<div id="pu5" class="pu"><h1>Haskell, <s>90</s> 80 bytes</h1>

<pre><code>([x|x&lt;-[0..],all((&lt;2).abs)$zipWith(-)=&lt;&lt;tail$[mod(1+fromEnum c)10|c&lt;-show x]]!!) 
</code></pre>

<p>This is a function without a name. To use it, call it with a parameter, e.g.:<code>([x|x&lt;-[0..],all((&lt;2).abs)$zipWith(-)=&lt;&lt;tail$[mod(1+fromEnum c)10|c&lt;-show x]]!!) 199</code> which returns <code>5432</code>.</p>

<p>How it works:</p>

<pre><code>[x|x&lt;-[0..]           ]  make a list of all integers x starting with 0
           ,             where
             c&lt;-show x   each character in the string representation of x
  mod(1+fromEnum c)10    turned into the number '(ascii+1) mod 10'
 zipWith(-)=&lt;&lt;tail       then turned into a list of differences between neighbor elements
all((&lt;2).abs)            only contains elements with an absolute value less than 2


                   !!    ... take the element given by the parameter (!! is 0 
                         based, that's why I'm starting the initial list with 0)
</code></pre>

<p>Edit: @Mauris found some bytes to save. Thanks!</p>
</div>
<div id="pu6" class="pu"><h1>Bash + coreutils, 120 bytes</h1>

<pre><code>seq $1$1|tr 1-90 0-9|sed 's#.#-&amp;)%B)/3)||(((C+&amp;#g;s/^/(0*((/;s/$/))*0)/'|bc|nl -nln|sed '/1$/d;s/   0//'|sed -n "$1{p;q}"
</code></pre>

<h3>Some testcases:</h3>

<pre><code>$ for i in 1 10 11 99 100 200; do ./kfn.sh $i; done
1     
11    
12    
889   
890   
5433  
$ 
</code></pre>
</div>
<div id="pu7" class="pu"><h1>JavaScript (ES6), 95</h1>

<pre class="lang-js prettyprint-override"><code>F=k=&gt;{for(i=0;k;k-=(f=1,p=NaN,[for(d of''+i)(d=(8-~d)%10,d-p&gt;1|p-d&gt;1?f=0:p=d)],f))++i;return i}
</code></pre>

<p><strong>Ungolfed</strong></p>

<pre class="lang-js prettyprint-override"><code>F=k=&gt;{
  for(i=0; k&gt;0; )
  {
    ++i;
    f = 1; // presume i it's friendly
    p = NaN; // initial value so that first comparison gives false
    for(d of ''+i) // loop for each digit of i
    {
      // rotate digits 1-&gt;0, 2-&gt;1 ... 9-&gt;8, 0-&gt;9
      // note d is string, ~~ convert to number (golfed: 8-~d)
      d = (~~d+9) % 10 
      if (p-d&gt;1 || p-d&lt;-1) 
        f = 0 // not friendly
      else 
        // this can go in the 'else', if not friendly I don't care anymore
        p = d // move current digit to prev digit
    }
    k -= f // count if it's friendly, else skip
  }
  return i
}
</code></pre>

<p><strong>Test</strong> : execute snippet in Firefox</p>

<p><div class="snippet" data-lang="js" data-hide="true">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>F=k=&gt;{
  for(i=0;k;k-=(f=1,p=NaN,[for(d of''+i)(d=(8-~d)%10,d-p&gt;1|p-d&gt;1?f=0:p=d)],f))++i
  return i
}</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input id=N&gt;&lt;button onclick="R.value=F(N.value)"&gt;-&gt;&lt;/button&gt;&lt;input readonly id=R&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu8" class="pu"><h1>Pyth, <s>27</s> 24 bytes</h1>

<pre><code>uf!f/h-FY3.:metsd`T2hGQ0
</code></pre>

<p><a href="https://pyth.herokuapp.com/?code=uf!f%2Fh-FY3.%3Ametsd%60T2hGQ0&amp;input=191&amp;debug=0" rel="nofollow">Demonstration.</a></p>

<p>Improvements to the original:</p>

<ul>
<li><p>Using <code>metd</code>, instead of <code>.r ... _UJ</code>: 2 less bytes. 1 direct, 1 for not having to use J.</p></li>
<li><p>Using <code>s</code> and <code>`T</code> instead of <code>JT10</code>: 1 less byte.</p></li>
</ul>

<hr>

<p>We start with the string representation of a number: <code>`T</code>.</p>

<p>Then, we convert the string to a list of digits, and rotate the digits digits backwards by one, (9876543210) with <code>metsd</code>. Then, we take the 2 element subsequences with <code>.: ... 2</code>. These subsequences are filtered on <code>/h-FY3</code>. This expression corresponds to <code>((a-b)+1)/3</code>, which is zero if and only if the difference between <code>a</code> and <code>b</code> is at most 1. Thus, the filtered list will be empty if and only if the number is keyboard friendly. With <code>!</code>, the result is true only if the number is keyboard friendly.</p>

<p><code>f ... hG</code> filters upwards from <code>G+1</code> until the result is true, giving the first keyboard friendly number at <code>G+1</code> or above. <code>u ... Q0</code> applies this function to its own output <code>Q</code> times, starting from 0, where <code>Q</code> is the input. This gives the <code>Q</code>th Keyboard Friendly Number, as desired.</p>
</div>
<div id="pu9" class="pu"><h1>Batch - 520 Bytes</h1>

<p><em>Shudder.</em></p>

<pre><code>@echo off&amp;setLocal enableDelayedExpansion&amp;set a=0&amp;set b=0
:a
set/ab+=1&amp;set l=0&amp;set c=%b%
:b
if defined c set/Al+=1&amp;set "c=%c:~1%"&amp;goto b
set/am=l-2&amp;set f=0&amp;for /l %%a in (0,1,%m%)do (
set x=!b:~%%a,1!&amp;set/an=%%a+1&amp;for %%b in (!n!)do set y=!b:~%%b,1!
set z=0&amp;set/ad=x-1&amp;set/ae=x+1&amp;if !e!==10 set e=0
if !d!==-1 set d=9
if !y!==!d! set z=1
if !y!==!e! set z=1
if !y!==!x! set z=1
if !y!==0 if !x!==1 set z=0
if !y!==1 if !x!==0 set z=0
if !z!==0 set f=1)
if !f!==0 set/aa+=1
if %a% NEQ %1 goto :a
echo %b%
</code></pre>
</div>
<div id="pu10" class="pu"><h1>CJam, <s>29</s> 28 bytes</h1>

<pre><code>ri_4#{AbAfe|_1&gt;.-W&lt;3,:(-!},=
</code></pre>

<p>Try it online in the <a href="http://cjam.aditsu.net/#code=ri_4%23%7BAbAfe%7C_1%3E.-W%3C3%2C%3A(-!%7D%2C%3D&amp;input=30" rel="nofollow">CJam interpreter</a>.</p>
</div>
<div id="pu11" class="pu"><h1>Python 3, <s>112</s> 102 bytes</h1>

<pre class="lang-py prettyprint-override"><code>f=lambda n,k=0:n+1and f(n-all(-2&lt;~-int(a)%10-~-int(b)%10&lt;2for a,b in zip(str(k),str(k)[1:])),k+1)or~-k
</code></pre>

<p>We keep track of the count of friendly numbers still needed to find in <code>n</code> and the last checked number in <code>k</code>.</p>

<p>5 and 5 bytes saved thanks to @isaacg and @Sp3000.</p>
</div>
<div id="pu12" class="pu"><h1>Cobra - 135</h1>

<p>Haven't done this in a while, but here goes:</p>

<pre class="lang-cobra prettyprint-override"><code>def f(n,i=0)
    while n,if all for x in (s='[i+=1]').length-1get s[x+1]in' 1234567890'[(int.parse(s[x:x+1])+9)%10:][:3],n-=1
    print i
</code></pre>

<p>Ungolfed:</p>

<pre class="lang-cobra prettyprint-override"><code>def fn(n as int)
    i = 0
    while n &lt;&gt; 0
        i += 1
        s = i.toString
        l = s.length - 1
        v = true
        for x in l
            k = (int.parse(s[x].toString) + 9) % 10
            if s[x + 1] not in ' 1234567890'[k : k + 3], v = false
        if v, n -= 1
    print i
</code></pre>
</div>
<div id="pu13" class="pu"><h1>JavaScript ES6, 126 bytes</h1>

<pre class="lang-js prettyprint-override"><code>f=n=&gt;{b=s=&gt;[...++s+''].every((e,i,a,p=(+a[i-1]+9)%10)=&gt;i?p==(e=+e?e-1:9)|p-e==1|e-p==1:1)?s:b(s)
for(p=0;n--;)p=b(p)
return p}
</code></pre>

<p>Ungolfed code and tests below. This could certainly be improved more.</p>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=function(n){
  b=function(s){
    return (s+'').split('').every(function(e,i,a){
      e=+e?e-1:9
      p=i?(+a[i-1]+9)%10:e
      return p==e|p-e==1|e-p==1
    })?s:b(s+1)
  }
  for(p=i=0;i&lt;n;i++){
    p=b(p+1)
  }
  return p
}

var input = document.getElementById('n'), results = [];
input.onchange = function(){
  document.getElementById('s').innerHTML = f(input.value)
}
for(var i=0;i&lt;200;i++){
  results.push(i + ':&amp;nbsp;' + f(i))
}
document.getElementById('r').innerHTML=results.join('&lt;br /&gt;')</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>N = &lt;input type="number" id="n" min="1" value="191" /&gt;&lt;br /&gt;
KBD(N) = &lt;samp id="s"&gt;4544&lt;/samp&gt;
&lt;div id="r"&gt;&lt;/div&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu14" class="pu"><h1>CJam, <s>34</s> 31 bytes</h1>

<p><em>3 bytes saved by Dennis.</em></p>

<p>I'm sure the gap to Pyth can be closed somehow, but I don't have time right now to golf this further...</p>

<pre><code>0q~{{)_s:_2ew{A,s(+f#~m2/},}g}*
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=0q~%7B%7B)_s)_%2B%2B2ew%7BA%2Cs(%2Bf%23~-z1%3E%7D%2C%7Dg%7D*&amp;input=50" rel="nofollow">Test it here.</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/50047/">50047</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




